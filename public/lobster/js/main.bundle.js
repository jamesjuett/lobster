var Bundle=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=57)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asMutable=function(t){return t},e.assert=function(t,e){if(void 0===e&&(e=""),!t)throw Error("Assert failed: "+e)},e.assertFalse=function(t){throw void 0===t&&(t=""),Error("Assert failed: "+t)},e.createMethodMixin=function(t){return function(e,n){e[n]=t}},e.htmlDecoratedType=function(t){return'<span class="code-type">'+t+"</span>"};var r=['\\"',"\\'","\\?","\\\\","\\a","\\b","\\f","\\n","\\r","\\t","\\v","\\0"],i=['"',"'","","\\","","\b","\f","\n","\r","\t","\v","\0"];e.escapeString=function(t){for(var e=0;e<r.length;++e)t=t.replace(r[e],i[e]);return t},e.unescapeString=function(t){for(var e="",n=0;n<t.length;++n){for(var o=t[n],a=0;a<i.length;++a)if(o===i[a]){o=r[a];break}e+=o}return e};var o=function(){function t(){this.seed=0}return t.prototype.setRandomSeed=function(t){this.seed=t},t.prototype.random=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.seed=(9301*this.seed+49297)%233280,this.seededRandom(this.seed,t,e)},t.prototype.seededRandom=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=1);var r=t%233280/233280;return r=e+r*(n-e),r=Math.max(e,Math.min(n,r))},t}();e.CPPRandom=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=["a","e","i","o","u"];function a(t,e){return t.sameType(e)}function u(t,e){return t.similarType(e)}function s(t,e){return t instanceof S&&e instanceof S&&t.isDerivedFrom(e)}e.isType=function(t,e){return t.isType(e)},e.sameType=a,e.similarType=u,e.subType=s,e.covariantType=function(t,e){if(a(t,e))return!0;var n,r;if(t instanceof T&&e instanceof T)n=t.ptrTo,r=e.ptrTo;else{if(!(t instanceof A&&e instanceof A))return!1;n=t.refTo,r=e.refTo}return n instanceof S&&r instanceof S&&(!!n.isDerivedFrom(r)&&(t.isConst==e.isConst&&t.isVolatile==e.isVolatile&&!(n.isConst&&!r.isConst||n.isVolatile&&!r.isVolatile)))},e.referenceCompatible=function(t,e){return t&&e&&t.isReferenceCompatible(e)},e.isCvConvertible=function(t,e){if(null===t||null===e)return!1;if(!u(t,e))return!1;t=t.getCompoundNext(),e=e.getCompoundNext();for(var n=!0;t&&e;){if(t.isConst&&!e.isConst)return!1;if(!t.isConst&&e.isConst&&!n)return!1;n=n&&e.isConst,t=t.getCompoundNext(),e=e.getCompoundNext()}return!0};var c=function(){function t(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1),this.isConst=t,this.isVolatile=e}return t.prototype.getCVString=function(){return(this.isConst?"const ":"")+(this.isVolatile?"volatile ":"")},t.prototype.toString=function(){return this.typeString(!1,"")},t.prototype.isType=function(t){return this instanceof t},t.prototype.isObjectType=function(){return this instanceof f},t.prototype.isAtomicType=function(){return this instanceof p},t.prototype.isArithmeticType=function(){return this instanceof d},t.prototype.isIntegralType=function(){return this instanceof y},t.prototype.isFloatingPointType=function(){return this instanceof g},t.prototype.isPointerType=function(){return this instanceof T},t.prototype.isReferenceType=function(){return this instanceof A},t.prototype.isClassType=function(){return this instanceof S},t.prototype.isBoundedArrayType=function(){return this instanceof C},t.prototype.isArrayOfUnknownBoundType=function(){return this instanceof O},t.prototype.isGenericArrayType=function(){return this instanceof C||this instanceof O},t.prototype.isFunctionType=function(){return this instanceof P},t.prototype.isArrayElemType=function(){return this instanceof p||this instanceof S},t.prototype.isVoidType=function(){return this instanceof l},t.prototype.isPotentialReturnType=function(){return this instanceof f||this instanceof A||this instanceof l},t.prototype.isPotentialParameterType=function(){return this instanceof f||this instanceof A},t.prototype.isReferenceRelated=function(t){return a(this.cvUnqualified(),t.cvUnqualified())||s(this.cvUnqualified(),t.cvUnqualified())},t.prototype.isReferenceCompatible=function(t){return this.isReferenceRelated(t)&&(t.isConst||!this.isConst)&&(t.isVolatile||!this.isVolatile)},t.prototype.declaratorString=function(t){return this.typeString(!0,t)},t.prototype.parenthesize=function(t,e){return this.precedence<t.precedence?"("+e+")":e},t.prototype.describe=function(){var t=this.typeString(!1,"");return{name:t,message:t}},t.prototype.getCompoundNext=function(){return null},t.prototype.isCVQualified=function(){return this.isConst||this.isVolatile},t.prototype.cvUnqualified=function(){return this.cvQualified(!1,!1)},t.prototype.cvQualified=function(t,e){return void 0===e&&(e=!1),this.cvQualifiedImpl(t,e)},t._name="Type",t}(),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isComplete=!0,e.precedence=0,e}return r(e,t),e.prototype.sameType=function(t){return t instanceof e&&t.isConst===this.isConst&&t.isVolatile===this.isVolatile},e.prototype.similarType=function(t){return t instanceof e},e.prototype.typeString=function(t,e,n){return"void"},e.prototype.englishString=function(t){return"void"},e.prototype.cvQualifiedImpl=function(t,n){return new e(t,n)},e.VOID=new e,e}(c);e.VoidType=l;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(c);e.ObjectType=f;var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isAtomic=!0,e}return r(e,t),e}(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.bytesToValue=function(t){return t[0]},e.prototype.valueToBytes=function(t){var e=[];e[0]=t;for(var n=1;n<this.size-1;++n)e.push(0);return e},e.prototype.valueToOstreamString=function(t){return this.valueToString(t)},e}(f));e.AtomicType=p;var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isComplete=!0,e.precedence=0,e}return r(e,t),e.prototype.sameType=function(t){return t instanceof e&&t.simpleType===this.simpleType&&t.isConst===this.isConst&&t.isVolatile===this.isVolatile},e.prototype.similarType=function(t){return t instanceof e&&t.simpleType===this.simpleType},e.prototype.typeString=function(t,e,n){return t?e||"":this.getCVString()+(n?i.htmlDecoratedType(this.simpleType.toString()):this.simpleType)+(e?" "+e:"")},e.prototype.englishString=function(t){var e=this.getCVString()+this.simpleType;return t?this.simpleType+"s":(function(t){return-1!=o.indexOf(t)}(e.charAt(0))?"an ":"a ")+e},e.prototype.valueToString=function(t){return""+t},e.prototype.isValueValid=function(t){return!0},e}(p);e.SimpleType=h;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(h);e.ArithmeticType=d;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(d);e.IntegralType=y;var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.simpleType="char",e.size=1,e}return r(e,t),e.isNullChar=function(t){return t===this.NULL_CHAR},e.jsStringToNullTerminatedCharArray=function(t){var n=t.split("").map(function(t){return t.charCodeAt(0)});return n.push(e.NULL_CHAR),n},e.prototype.valueToString=function(t){return"'"+i.unescapeString(String.fromCharCode(t))+"'"},e.prototype.valueToOstreamString=function(t){return String.fromCharCode(t)},e.prototype.cvQualifiedImpl=function(t,n){return new e(t,n)},e.CHAR=new e,e.NULL_CHAR=0,e}(y);e.Char=m;var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.simpleType="int",e.size=4,e}return r(e,t),e.prototype.cvQualifiedImpl=function(t,n){return new e(t,n)},e.INT=new e,e}(y);e.Int=v;var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.simpleType="size_t",e.size=8,e}return r(e,t),e.prototype.cvQualifiedImpl=function(t,n){return new e(t,n)},e}(y);e.Size_t=_;var b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.simpleType="bool",e.size=1,e}return r(e,t),e.prototype.cvQualifiedImpl=function(t,n){return new e(t,n)},e.BOOL=new e,e}(y);e.Bool=b;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.valueToString=function(t){var e=""+t;return-1!=e.indexOf(".")?e:e+"."},e}(d);e.FloatingPointType=g;var w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.simpleType="float",e.size=4,e}return r(e,t),e.prototype.cvQualifiedImpl=function(t,n){return new e(t,n)},e.FLOAT=new e,e}(g);e.Float=w;var R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.simpleType="double",e.size=8,e}return r(e,t),e.prototype.cvQualifiedImpl=function(t,n){return new e(t,n)},e.DOUBLE=new e,e}(g);e.Double=R;var T=function(t){function e(e,n,r){var i=t.call(this,n,r)||this;return i.size=8,i.precedence=1,i.isComplete=!0,i.ptrTo=e,i}return r(e,t),e.isNull=function(t){return 0===t},e.isNegative=function(t){return t<0},e.prototype.getCompoundNext=function(){return this.ptrTo},e.prototype.sameType=function(t){return t instanceof e&&this.ptrTo.sameType(t.ptrTo)&&t.isConst===this.isConst&&t.isVolatile===this.isVolatile},e.prototype.similarType=function(t){return t instanceof e&&this.ptrTo.similarType(t.ptrTo)},e.prototype.typeString=function(t,e,n){return this.ptrTo.typeString(t,this.parenthesize(this.ptrTo,this.getCVString()+"*"+e),n)},e.prototype.englishString=function(t){return(t?this.getCVString()+"pointers to":"a "+this.getCVString()+"pointer to")+" "+this.ptrTo.englishString(!1)},e.prototype.valueToString=function(t){return"0x"+t},e.prototype.isObjectPointer=function(){return this.ptrTo.isObjectType()},e.prototype.isValueDereferenceable=function(t){return this.isValueValid(t)},e.prototype.isValueValid=function(t){return!0},e.prototype.cvQualifiedImpl=function(t,n){return new e(this.ptrTo,t,n)},e}(p);e.PointerType=T;var x=function(t){function e(e,n,r){var i=t.call(this,e.type.elemType,n,r)||this;return i.arrayObject=e,i}return r(e,t),e.prototype.min=function(){return this.arrayObject.address},e.prototype.onePast=function(){return this.arrayObject.address+this.arrayObject.type.size},e.prototype.isValueValid=function(t){if(!this.arrayObject.isAlive)return!1;var e=this.arrayObject;return e.address<=t&&t<=e.address+e.type.size},e.prototype.isValueDereferenceable=function(t){return this.isValueValid(t)&&t!==this.onePast()},e.prototype.toIndex=function(t){return Math.trunc((t-this.arrayObject.address)/this.arrayObject.type.elemType.size)},e.prototype.cvQualifiedImpl=function(t,n){return new e(this.arrayObject,t,n)},e}(T);e.ArrayPointer=x;var E=function(t){function e(e,n,r){var i=t.call(this,e.type,n,r)||this;return i.pointedObject=e,i}return r(e,t),e.prototype.getPointedObject=function(){return this.pointedObject},e.prototype.isValueValid=function(t){return this.pointedObject.isAlive&&this.pointedObject.address===t},e.prototype.cvQualifiedImpl=function(t,n){return new e(this.pointedObject,t,n)},e}(T);e.ObjectPointer=E;var A=function(t){function e(e,n,r){var i=t.call(this,!1,r)||this;return i.precedence=1,i.isComplete=!0,i.refTo=e,i}return r(e,t),e.prototype.getCompoundNext=function(){return this.refTo},e.prototype.sameType=function(t){return t instanceof e&&this.refTo.sameType(t.refTo)},e.prototype.similarType=function(t){return t instanceof e&&this.refTo.similarType(t.refTo)},e.prototype.typeString=function(t,e,n){return this.refTo.typeString(t,this.parenthesize(this.refTo,this.getCVString()+"&"+e),n)},e.prototype.englishString=function(t){return this.getCVString()+(t?"references to":"a reference to")+" "+this.refTo.englishString(!1)},e.prototype.valueToString=function(t){return""+t},e.prototype.cvQualifiedImpl=function(t,n){return new e(this.refTo,t,n)},e}(c);e.ReferenceType=A,e.noRef=function(t){return t instanceof A?t.refTo:t};var C=function(t){function e(e,n){var r=t.call(this,!1,!1)||this;return r.precedence=2,r.elemType=e,r.length=n,r.size=e.size*n,r}return r(e,t),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this.elemType.isComplete},enumerable:!0,configurable:!0}),e.prototype.getCompoundNext=function(){return this.elemType},e.prototype.sameType=function(t){return t instanceof e&&this.elemType.sameType(t.elemType)&&this.length===t.length},e.prototype.similarType=function(t){return t instanceof e&&this.elemType.similarType(t.elemType)&&this.length===t.length},e.prototype.typeString=function(t,e,n){return this.elemType.typeString(t,e+"["+this.length+"]",n)},e.prototype.englishString=function(t){return(t?"arrays of ":"an array of ")+this.length+" "+this.elemType.englishString(this.length>1)},e.prototype.cvQualifiedImpl=function(t,n){return new e(this.elemType,this.length)},e.prototype.adjustToPointerType=function(){return new T(this.elemType,!1,!1)},e}(f);e.BoundedArrayType=C;var O=function(t){function e(e,n){var r=t.call(this,!1,!1)||this;return r.precedence=2,r.isComplete=!1,r.elemType=e,r.sizeExpressionAST=n,r}return r(e,t),e.prototype.getCompoundNext=function(){return this.elemType},e.prototype.sameType=function(t){return t instanceof e&&this.elemType.sameType(t.elemType)},e.prototype.similarType=function(t){return t instanceof e&&this.elemType.similarType(t.elemType)},e.prototype.typeString=function(t,e,n){return this.elemType.typeString(t,e+"[]",n)},e.prototype.englishString=function(t){return(t?"arrays of unknown bound of ":"an array of unknown bound of ")+this.elemType.englishString(!0)},e.prototype.cvQualifiedImpl=function(t,n){return new e(this.elemType,this.sizeExpressionAST)},e.prototype.adjustToPointerType=function(){return new T(this.elemType,!1,!1)},e}(c);e.ArrayOfUnknownBoundType=O;var S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.size=0,e.precedence=0,e.isComplete=!1,e.className="",e.name="",e}return r(e,t),e.prototype.sameType=function(t){throw new Error("Method not implemented.")},e.prototype.similarType=function(t){throw new Error("Method not implemented.")},e.prototype.isDerivedFrom=function(t){throw new Error("Method not implemented.")},e.prototype.typeString=function(t,e,n){throw new Error("Method not implemented.")},e.prototype.englishString=function(t){throw new Error("Method not implemented.")},e.prototype.cvQualifiedImpl=function(t,n){return new e(t,n)},e}(f);e.ClassType=S;var P=function(t){function e(e,n,r,i,o){var a=t.call(this,r,i)||this;a.isComplete=!0,a.precedence=2,a.receiverType=o,a.returnType=e instanceof S||e instanceof T||e instanceof A?e:e.cvUnqualified(),a.paramTypes=n.map(function(t){return t instanceof S?t:t.cvUnqualified()}),a.paramStrType="(";for(var u=0;u<n.length;++u)a.paramStrType+=(0==u?"":",")+n[u];a.paramStrType+=")",a.paramStrEnglish="(";for(u=0;u<n.length;++u)a.paramStrEnglish+=(0==u?"":", ")+n[u].englishString(!1);return a.paramStrEnglish+=")",a}return r(e,t),e.prototype.cvQualifiedImpl=function(t,n){return new e(this.returnType,this.paramTypes,t,n,this.receiverType)},e.prototype.sameType=function(t){return!!t&&(t instanceof e&&(!!this.sameReturnType(t)&&!!this.sameParamTypes(t)))},e.prototype.similarType=function(t){return this.sameType(t)},e.prototype.sameParamTypes=function(t){var n=t instanceof e?t.paramTypes:t;if(this.paramTypes.length!==n.length)return!1;for(var r=0;r<this.paramTypes.length;++r)if(!this.paramTypes[r].sameType(n[r]))return!1;return!0},e.prototype.sameReturnType=function(t){return this.returnType.sameType(t.returnType)},e.prototype.sameReceiverType=function(t){return this.receiverType&&t.receiverType?this.receiverType.sameType(t.receiverType):!this.receiverType&&!t.receiverType},e.prototype.sameSignature=function(t){return this.sameReceiverType(t)&&this.sameParamTypes(t)},e.prototype.isPotentialOverriderOf=function(t){return this.sameParamTypes(t)&&this.isConst===t.isConst&&this.isVolatile==t.isVolatile},e.prototype.typeString=function(t,e,n){return void 0===n&&(n=!1),this.returnType.typeString(t,e+this.paramStrType,n)},e.prototype.englishString=function(t){return(t?"functions that take ":"a function that takes ")+this.paramStrEnglish+" "+(t?"and return ":"and returns ")+this.returnType.englishString(!1)},e}(c);e.FunctionType=P;var j=new Set(["char","int","bool","float","double","void"]);e.isBuiltInTypeName=function(t){return j.has(t)},e.builtInTypes={char:m,int:v,bool:b,float:w,double:R,void:l}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),o=n(3),a=n(0),u=n(5);e.createTranslationUnitContext=function(t,e,n){return Object.assign({},t,{translationUnit:e,contextualScope:n})},e.createExpressionContext=function(t,e){return Object.assign({},t,{contextualParameterTypes:e})},e.createFunctionContext=function(t,e){return Object.assign({},t,{containingFunction:e,functionLocals:new y})},e.isBlockContext=function(t){return t.contextualScope instanceof i.BlockScope};var s=function(){function t(e){this.notes=[],this.hasErrors=!1,this.children=[],this.id=t.NEXT_ID++,this.context=e}return t.prototype.attach=function(t){a.asMutable(this.children).push(t),t.onAttach(this)},t.prototype.attachAll=function(t){var e=this;t.forEach(function(t){return e.attach(t)})},t.prototype.setAST=function(t){return a.asMutable(this).ast=t,t.source||a.assertFalse("AST source is undefined. A track() call is likely missing in the grammar."),a.asMutable(this).sourceReference=this.context.translationUnit.getSourceReference(t.source.line,t.source.column,t.source.start,t.source.end),this},t.prototype.explain=function(t,e){return{message:"[No explanation available.]",ignore:!0}},t.prototype.describe=function(t,e){return{message:"[No description available.]",ignore:!1}},t.prototype.addNote=function(t){this.notes.push(t),t.kind===o.NoteKind.ERROR&&(this.hasErrors=!0)},t.prototype.getNearestSourceReference=function(){for(var t=this;!t.sourceReference&&t.parent;)t=t.parent;return t.sourceReference||this.context.translationUnit.getSourceReference(0,0,0,0)},t.NEXT_ID=0,t}();e.CPPConstruct=s;var c=function(){function t(e,n,r){this.observable=new u.Observable(this),this.pushedChildren={},this.isActive=!1,this.isDone=!1,this.pauses={},this.model=e,this.stackType=n,r instanceof t?(a.assert(this.parent!==this,"Code instance may not be its own parent"),this.sim=r.sim,a.assert(r.sim===this.sim,"Runtime construct may not belong to a different simulation than its parent."),this.parent=r,this.parent.addChild(this),r.containingRuntimeFunction&&(this.containingRuntimeFunction=r.containingRuntimeFunction)):this.sim=r,this.stepsTakenAtStart=this.sim.stepsTaken}return t.prototype.stepForward=function(){return this.observable.send("stepForward"),this.stepForwardImpl()},t.prototype.upNext=function(){return this.observable.send("upNext"),this.upNextImpl()},t.prototype.done=function(){this.isDone=!0},t.prototype.setPauseWhenUpNext=function(){this.pauses.upNext={pauseWhenUpNext:!0}},t.prototype.wait=function(){this.observable.send("wait")},t.prototype.pushed=function(){this.isActive=!0,this.observable.send("pushed")},t.prototype.popped=function(){this.isActive=!1,this.observable.send("popped",this)},t.prototype.addChild=function(t){this.pushedChildren[t.model.id]=t,this.observable.send("childPushed",t)},t.prototype.findParentByModel=function(t){for(var e=this.parent;e&&e.model.id!=t.id;)e=e.parent;return e},t.prototype.explain=function(){return this.model.explain(this.sim,this)},t.prototype.describe=function(){return this.model.describe(this.sim,this)},t}();e.RuntimeConstruct=c;var l=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.onAttach=function(t){this.parent=t},e}(s);e.BasicCPPConstruct=l;var f=function(t){function e(e,n){var r=t.call(this,e)||this;return r.addNote(r.note=n(r)),r}return r(e,t),e}(l);e.InvalidConstruct=f;var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.temporaryObjects=[],e}return r(e,t),e.prototype.onAttach=function(t){if(this.parent=t,!this.isFullExpression()){var e=this.findFullExpression();this.temporaryObjects.forEach(function(t){e.addTemporaryObject(t)}),this.temporaryObjects.length=0}this.temporaryObjects.length>0&&(this.temporaryDeallocator=new v(this.context,this.temporaryObjects),this.attach(this.temporaryDeallocator))},e.prototype.isFullExpression=function(){return!(this.parent&&this.parent instanceof e)||!this.parent.isFullExpression()},e.prototype.findFullExpression=function(){return this.isFullExpression()?this:this.parent&&this.parent instanceof e?this.parent.findFullExpression():a.assertFalse("failed to find full expression for "+this)},e.prototype.addTemporaryObject=function(t){a.assert(!this.parent,"Temporary objects may not be added to a full expression after it has been attached."),this.temporaryObjects.push(t),t.setOwner(this)},e.prototype.createTemporaryObject=function(t,e){var n=this.findFullExpression(),r=new i.TemporaryObjectEntity(t,this,n,e);return this.temporaryObjects[r.entityId]=r,r},e}(l);e.PotentialFullExpression=p;var h=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.temporaryObjects={},i.model.temporaryDeallocator&&(i.temporaryDeallocator=i.model.temporaryDeallocator.createRuntimeConstruct(i)),i.containingFullExpression=i.findFullExpression(),i}return r(e,t),e.prototype.findFullExpression=function(){for(var t=this;t instanceof e&&!t.model.isFullExpression()&&t.parent;)t=t.parent;return t instanceof e?t:a.assertFalse()},e.prototype.done=function(){this.temporaryDeallocator&&this.sim.push(this.temporaryDeallocator),t.prototype.done.call(this)},e}(c);e.RuntimePotentialFullExpression=h;var d,y=function(){function t(){this.localObjects=[],this.localReferences=[],this.localVariablesByEntityId={}}return t.prototype.registerLocalVariable=function(t){a.assert(!this.localVariablesByEntityId[t.entityId]),this.localVariablesByEntityId[t.entityId]=t,"AutoEntity"===t.kind?a.asMutable(this.localObjects).push(t):a.asMutable(this.localReferences).push(t)},t}();e.FunctionLocals=y,d||(d={});var m=function(t){function e(e,n,r){var i=t.call(this,e,"function",n)||this;return i.hasControl=!1,i.receiver=r,i.body=i.model.body.createRuntimeStatement(i),i}return r(e,t),e.prototype.pushStackFrame=function(){this.stackFrame=this.sim.memory.stack.pushFrame(this)},e.prototype.setReturnObject=function(t){a.assert(!this.returnObject),this.returnObject=t},e.prototype.gainControl=function(){this.hasControl=!0,this.observable.send("gainControl")},e.prototype.loseControl=function(){this.hasControl=!0,this.observable.send("loseControl")},e.prototype.stepForwardImpl=function(){},e.prototype.upNextImpl=function(){this.body.isDone?this.sim.pop():this.sim.push(this.body)},e}(c);e.RuntimeFunction=m;var v=function(t){function e(e,n){var r=t.call(this,e)||this;return r.temporaryObjects=n,r}return r(e,t),e.prototype.createRuntimeConstruct=function(t){return new _(this,t)},e}(l);e.TemporaryDeallocator=v;var _=function(t){function e(e,n){var r=t.call(this,e,"expression",n)||this;return r.index=0,r.justDestructed=!1,r}return r(e,t),e.prototype.upNextImpl=function(){var t=this.model.temporaryObjects.map(function(t){return null});this.index<t.length?(this.sim.memory.deallocateTemporaryObject(this.model.temporaryObjects[this.index].runtimeLookup(this)),++this.index):this.sim.pop()},e.prototype.stepForwardImpl=function(){return!1},e}(c);e.RuntimeTemporaryDeallocator=_;var b=function(t){function e(e,n){var r=t.call(this,e)||this;return r.addNote(o.CPPError.lobster.unsupported_feature(r,n)),r}return r(e,t),e}(l);e.UnsupportedConstruct=b;var g=function(t){function e(e,n){var r=t.call(this,e)||this;return r.globalObjects=n,r}return r(e,t),e.prototype.onAttach=function(t){throw new Error("Method not implemented.")},e.prototype.createRuntimeConstruct=function(t){return new w(this,t)},e}(s);e.GlobalObjectAllocator=g;var w=function(t){function e(e,n){var r=t.call(this,e,"statement",n)||this;return r.index=0,r}return r(e,t),e.prototype.upNextImpl=function(){if(this.index<this.model.globalObjects.length){var t=this.model.globalObjects[this.index];this.sim.memory.allocateStatic(t),t.initializer&&this.sim.push(t.initializer.createRuntimeInitializer(this)),++this.index}else this.sim.pop()},e.prototype.stepForwardImpl=function(){return!1},e}(c);e.RuntimeGlobalObjectAllocator=w},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(2),a=n(1);!function(t){t.ERROR="error",t.WARNING="warning",t.STYLE="style",t.OTHER="other"}(i=e.NoteKind||(e.NoteKind={}));var u=function(){return function(t,e,n){this.kind=t,this.id=e,this.message=n}}();e.Note=u;var s=function(t){function e(e,n,r,i){var o=t.call(this,n,r,i)||this;return o.primarySourceReference=e,o.allSourceReferences=[e],o}return r(e,t),e}(u),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(s);e.PreprocessorNote=c;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(s);e.SyntaxNote=l;var f=function(t){function e(e,n,r,i){var a=t.call(this,n,r,i)||this;return a.constructs=e instanceof o.CPPConstruct?[e]:e,a.primaryConstruct=a.constructs[0],a}return r(e,t),Object.defineProperty(e.prototype,"primarySourceReference",{get:function(){return this.primaryConstruct.getNearestSourceReference()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allSourceReferences",{get:function(){return this.constructs.map(function(t){return t.getNearestSourceReference()})},enumerable:!0,configurable:!0}),e}(u),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(f);e.CompilerNote=p;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(f);e.LinkerNote=h,e.CPPError={other:{cin_not_supported:function(t){return new p(t,i.ERROR,"other.cin_not_supported","Sorry, <span class='code'>cin</span> is not supported yet :(.")}},class_def:{prev_def:function(t,e,n){return new p(t,i.ERROR,"class_def.prev_def",e+" cannot be defined more than once. Note that Lobster just puts all class names (i.e. types) in one global sort of namespace, so you can't ever have two classes of the same name.")},base_class_type:function(t,e){return new p(t,i.ERROR,"class_def.base_class_type",'I cannot find a suitable class called "'+e+'" to use as a base.')},big_three:function(t,e,n){var r=e.join(" and "),o=n.join(" and ");return new p(t,i.WARNING,"class_def.big_three","This class does not follow the rule of the Big Three. It has a custom implementation for the "+r+" but not for the "+o+'. The compiler will provide implicit versions of the missing ones, but they will almost certainly work "incorrectly" (e.g. make shallow copies or neglect to delete dynamic memory).')},multiple_inheritance:function(t){return new p(t,i.ERROR,"class_def.multiple_inheritance","Sorry, but Lobster does not support multiple inheritance.")},virtual_inheritance:function(t){return new p(t,i.ERROR,"class_def.virtual_inheritance","Sorry, but Lobster does not support virtual inheritance.")},ctor_def:function(t){return new p(t,i.ERROR,"class_def.ctor_def","Sorry, but for now Lobster only supports constructors that are defined inline. (i.e. You need a body.)")},dtor_def:function(t){return new p(t,i.ERROR,"class_def.dtor_def","Sorry, but for now Lobster only supports destructors that are defined inline. (i.e. You need a body.)")}},declaration:{ctor:{copy:{pass_by_value:function(t,e,n){var r=new a.ReferenceType(e,!0);return new p(t,i.ERROR,"declaration.ctor.copy.pass_by_value","A copy constructor cannot take its parameter by value. Because pass-by-value itself uses the copy constructor, this would cause infinite recursion if it were allowed. Try passing by const reference instead! (i.e. "+r.typeString(!1,n,!1)+")")}},init:{no_such_member:function(t,e,n){return new p(t,i.ERROR,"declaration.ctor.init.no_such_member","Class "+e.toString()+" has no member named "+n+".")},improper_member:function(t,e,n){return new p(t,i.ERROR,"declaration.ctor.init.improper_member","A member initializer can only be used for non-static data members. There is no such member named "+n+" in the "+e.className+" class.")},delegating_only:function(t,e,n){return new p(t,i.ERROR,"declaration.ctor.init.delegating_only","If a constructor's initializer list delegates to another constructor from the same class, that must be the only thing it does.")},multiple_base_inits:function(t,e,n){return new p(t,i.ERROR,"declaration.ctor.init.multiple_base_inits","A constructor's initializer list cannot specify more than one base class constructor to use.")}}},dtor:{no_destructor_auto:function(t,e){return new p(t,i.ERROR,"declaration.dtor.no_destructor_auto","The local variable "+e.name+' needs to be destroyed when it "goes out of scope", but I can\'t find a destructor for the '+e.type+" class. The compiler sometimes provides one implicitly for you, but not if one of its members or its base class are missing a destructor. (Or, if you've violated the rule of the Big Three.)")},no_destructor_temporary:function(t,e){return new p(t,i.ERROR,"declaration.dtor.no_destructor_temporary","This expression creates a temporary object of type "+e.type+" that needs to be destroyed, but I can't find a destructor for the "+e.type+" class. The compiler sometimes provides one implicitly for you, but not if one of its members or its base class are missing a destructor. (Or, if you've violated the rule of the Big Three.)")}},prev_def:function(t,e){return new p(t,i.ERROR,"declaration.prev_def",e+" cannot be defined more than once in this scope.")},prev_local:function(t,e){return new p(t,i.ERROR,"declaration.prev_local","This declaration of a local variable "+e+' + " conflicts with an earlier declaration of '+e+" in the same scope.")},func:{return_array:function(t){return new p(t,i.ERROR,"declaration.func.return_array","Cannot declare a function that returns an array.")},return_func:function(t){return new p(t,i.ERROR,"declaration.func.return_func","Cannot declare a function that returns a function. Try returning a function pointer?")},invalid_return_type:function(t,e){return new p(t,i.ERROR,"declaration.func.invalid_return_type","The type "+e.toString()+" is not allowed as a return type.")},some_invalid_parameter_types:function(t){return new p(t,i.ERROR,"declaration.func.some_invalid_parameter_types","This function type contains some invalid parameter types.")},array:function(t){return new p(t,i.ERROR,"declaration.func.array","Cannot declare an array of functions.")},void_param:function(t){return new p(t,i.ERROR,"declaration.func.void_param","Function parameters may not have void type.")},op_member:function(t){return new p(t,i.ERROR,"declaration.func.op_member","This operator must be overloaded as a non-static member function.")},op_subscript_one_param:function(t){return new p(t,i.ERROR,"declaration.func.op_subscript_one_param","An overloaded subscript ([]) operator must take exactly one parameter.")},returnTypesMatch:function(t,e){return new p(t,i.ERROR,"declaration.func.returnTypesMatch","Cannot redeclare function "+e+" with the same parameter types but a different return type.")},mainParams:function(t){return new p(t,i.ERROR,"declaration.func.mainParams","Sorry, but for now command line arguments (and thus parameters for main) are not supported in Lobster.")},no_return_type:function(t){return new p(t,i.ERROR,"declaration.func.no_return_type","You must specify a return type for this function. (Or if you meant it to be a constructor, did you misspell the name?)")},nonCovariantReturnType:function(t,e,n){return new p(t,i.ERROR,"declaration.func.nonCovariantReturnType","Return types in overridden virtual functions must either be the same or covariant (i.e. follow the Liskov Substitution Principle). Both return types must be pointers/references to class types, and the class type in the overriding function must be the same or a derived type. There are also restrictions on the cv-qualifications of the return types. In this case, returning a "+e+" in place of a "+n+" violates covariance.")},definition_non_function_type:function(t){return new p(t,i.ERROR,"declaration.func.definition_non_function_type","This appears to be a function definition, but the declarator does not indicate a function type. Maybe you forgt the parentheses?")}},pointer:{reference:function(t){return new p(t,i.ERROR,"declaration.pointer.reference","Cannot declare a pointer to a reference.")},void:function(t){return new p(t,i.ERROR,"declaration.pointer.void","Sorry, Lobster does not support void pointers.")},invalid_pointed_type:function(t,e){return new p(t,i.ERROR,"declaration.pointer.invalid_pointed_type","A pointer to type "+e.toString()+" is not allowed.")}},ref:{ref:function(t){return new p(t,i.ERROR,"declaration.ref.ref","A reference to a reference is not allowed.")},array:function(t){return new p(t,i.ERROR,"declaration.ref.array","Cannot declare an array of references.")},invalid_referred_type:function(t,e){return new p(t,i.ERROR,"declaration.ref.invalid_referred_type","A reference to type "+e.toString()+" is not allowed.")},memberNotSupported:function(t){return new p(t,i.ERROR,"declaration.ref.memberNotSupported","Sorry, reference members are not supported at the moment.")}},array:{length_required:function(t){return new p(t,i.ERROR,"declaration.array.length_required","Must specify length as an integer literal when declaring an array. (Sorry, but Lobster requires this for now even if it could hypothetically be deduced from the initializer.)")},zero_length:function(t){return new p(t,i.ERROR,"declaration.array.zero_length","Although technically allowed in C++, arrays with zero length are prohibited in Lobster.")},multidimensional_arrays_unsupported:function(t){return new p(t,i.ERROR,"declaration.array.multidimensional_arrays_unsupported","Sorry, Lobster currently doesn't support multidimensional arrays.")},invalid_element_type:function(t,e){return new p(t,i.ERROR,"declaration.array.invalid_element_type","The type "+e.toString()+" is not allowed as an array parameter.")}},init:{scalar_args:function(t,e){return new p(t,i.ERROR,"declaration.init.scalar_args","Invalid initialization of scalar type "+e+" from multiple values.")},array_string_literal:function(t,e){return new p(t,i.ERROR,"declaration.init.array_string_literal","Cannot direct/copy initialize an array of type "+e+". The only allowed direct/copy initialization of an array is to initialize an array of char from a string literal.")},convert:function(t,e,n){return new p(t,i.ERROR,"declaration.init.convert","Invalid conversion from "+e+" to "+n+".")},list_narrowing:function(t,e,n){return new p(t,i.ERROR,"declaration.init.list_narrowing","Implicit narrowing conversion from "+e+" to "+n+" is not allowed in initializer list.")},list_array:function(t){return new p(t,i.ERROR,"declaration.init.list_array","Initializer list syntax only supported for arrays.")},list_length:function(t,e){return new p(t,i.ERROR,"declaration.init.list_length","Length of initializer list must match length of array ("+e+").")},matching_constructor:function(t,e,n){var r=e.describe();return new p(t,i.ERROR,"declaration.init.matching_constructor","Trying to initialize "+(r.name||r.message)+", but unable to find a matching constructor definition for the "+e.type.className+" class using the given arguments ("+n.join(", ")+").")},no_default_constructor:function(t,e){var n=e.describe();return new p(t,i.ERROR,"declaration.init.no_default_constructor","This calls for the default initialization of "+(n.name||n.message)+", but I can't find a default constructor (i.e. taking no arguments) for the "+e.type.className+" class. The compiler usually provides an implicit one for you, but not if you have declared other constructors (under the assumption you would want to use one of those).")},referencePrvalueConst:function(t){return new p(t,i.ERROR,"declaration.init.referencePrvalueConst","You cannot bind a non-const reference to a prvalue (e.g. a temporary object).")},referenceType:function(t,e,n){return new p(t,i.ERROR,"declaration.init.referenceType","A reference (of type "+n+") cannot be bound to an object of a different type ("+e+").")},referenceBind:function(t){return new p(t,i.ERROR,"declaration.init.referenceBind","References must be bound to something when they are declared.")},referenceBindMultiple:function(t){return new p(t,i.ERROR,"declaration.init.referenceBindMultiple","References cannot be bound to multiple objects.")},stringLiteralLength:function(t,e,n){return n===e-1?new p(t,i.ERROR,"declaration.init.stringLiteralLength","Your array is one element too short. Remember, when initializing a character array (i.e. a c-string) with a string literal, an extra \\0 (null character) is automatically appended."):n>e?new p(t,i.WARNING,"declaration.init.stringLiteralLength","Your array (length "+n+") is longer than it needs to be to hold the string literal (length "+e+"). The remaining character elements will be zero-initialized."):new p(t,i.ERROR,"declaration.init.stringLiteralLength","The string literal used for initialization (length "+e+") cannot fit in the declared array (length "+n+").")},uninitialized:function(t,e){return new p(t,i.WARNING,"declaration.init.uninitialized",(e.describe().name||e.describe().message)+" is uninitialized, so it will start with whatever value happens to be in memory (i.e. memory junk). If you try to use this variable before initializing it, who knows what will happen!")},array_default_init:function(t){return new p(t,i.WARNING,"declaration.init.array_default_init","Note: Default initialization of an array requires default initialization of each of its elements.")},array_direct_init:function(t){return new p(t,i.OTHER,"declaration.init.array_direct_init","Note: initialization of an array requires initialization of each of its elements.")}},storage:{once:function(t,e){return new p(t,i.ERROR,"declaration.storage.once","Storage specifier ("+e+") may only be used once.")},incompatible:function(t,e){return new p(t,i.ERROR,"declaration.storage.incompatible","Storage specifiers ( "+e.join(" ")+") are incompatible with each other.")}},typeSpecifier:{once:function(t,e){return new p(t,i.ERROR,"declaration.typeSpecifier.once","Type specifier ("+e+") may only be used once.")},one_type:function(t,e){return new p(t,i.ERROR,"declaration.typeSpecifier.one_type","Type specifier must only specify one type. Found: "+e+".")},signed_unsigned:function(t){return new p(t,i.ERROR,"type.signed_unsigned","Type specifier may not indicate both signed and unsigned.")}},friend:{outside_class:function(t){return new p(t,i.ERROR,"declaration.friend.outside_class","Friend declarations are not allowed here.")},virtual_prohibited:function(t){return new p(t,i.ERROR,"declaration.friend.virtual_prohibited","A virtual function may not be declared as a friend.")}},parameter:{storage_prohibited:function(t){return new p(t,i.ERROR,"declaration.parameter.storage_prohibited","Storage specifiers are not permitted in parameter declarations.")},virtual_prohibited:function(t){return new p(t,i.ERROR,"declaration.friend.virtual_prohibited","A virtual function may not be declared as a friend.")}},unknown_type:function(t){return new p(t,i.ERROR,"declaration.unknown_type","Unable to determine the type declared here.")},void_prohibited:function(t){return new p(t,i.ERROR,"declaration.void_prohibited","The variable "+(t.declarator.name||"here")+" may not be declared as type void.")},virtual_prohibited:function(t){return new p(t,i.ERROR,"declaration.virtual_prohibited","The virtual keyword may only be used in member function declarations.")},type_mismatch:function(t,e,n){return new p(t,i.ERROR,"declaration.type_mismatch","Type mismatch. This declaration for "+e.name+" has type "+e.type+", but a previous declaration of "+n.name+" has type "+n.type)}},type:{unsigned_not_supported:function(t){return new p(t,i.WARNING,"type.unsigned_not_supported","Sorry, unsigned integral types are not supported yet. It will just be treated like a normal int.")},storage:function(t){return new p(t,i.WARNING,"type.storage","Because of the way Lobster works, storage class specifiers (e.g. static) have no effect.")},typeNotFound:function(t,e){return new p(t,i.ERROR,"type.typeNotFound","Oops, this is embarassing... I feel like "+e+" should be a type, but I can't figure out what it is.")}},expr:{array_operand:function(t,e){return new p(t,i.ERROR,"expr.array_operand","Type "+e+" cannot be subscripted.")},array_offset:function(t,e){return new p(t,i.ERROR,"expr.array_offset","Invalid type ("+e+") for array subscript offset.")},assignment:{lhs_lvalue:function(t){return new p(t,i.ERROR,"expr.assignment.lhs_lvalue","Lvalue required as left operand of assignment.")},lhs_const:function(t){return new p(t,i.ERROR,"expr.assignment.lhs_const","Left hand side of assignment is not modifiable.")},convert:function(t,e,n){return new p(t,i.ERROR,"expr.assignment.convert","Cannot convert "+n.type+" to "+e.type+" in assignment.")},self:function(t,e){return new p(t,i.WARNING,"expr.assignment.self","Self assignment from "+(e.describe().name||e.describe().message)+" to itself.")}},binary:{arithmetic_operands:function(t,e,n,r){return new p(t,i.ERROR,"expr.binary.arithmetic_operands","Invalid operand types ("+n.type+", "+r.type+") for operator "+e+", which requires operands of arithmetic type.")},integral_operands:function(t,e,n,r){return new p(t,i.ERROR,"expr.binary.integral_operands","Invalid operand types ("+n.type+", "+r.type+") for operator "+e+", which requires operands of integral type.")},boolean_operand:function(t,e,n){return new p(t,i.ERROR,"expr.binary.boolean_operand","Invalid operand type ("+n.type+") for operator "+e+", which requires operands that may be converted to boolean type.")},arithmetic_common_type:function(t,e,n,r){return new p(t,i.ERROR,"expr.binary.arithmetic_common_type","Performing the usual arithmetic conversions yielded operands of types ("+n.type+", "+r.type+") for operator "+e+", but a common arithmetic type could not be found.")}},unary:{},delete:{no_destructor:function(t,e){return new p(t,i.ERROR,"expr.delete.no_destructor","I can't find a destructor for the "+e+" class. The compiler sometimes provides one implicitly for you, but not if one of its members or its base class are missing a destructor. (Or, if you've violated the rule of the Big Three.)")},pointer:function(t,e){return new p(t,i.ERROR,"expr.delete.pointer","The delete operator requires an operand of pointer type. (Current operand is "+e+" ).")},pointerToObjectType:function(t,e){return new p(t,i.ERROR,"expr.delete.pointerToObjectType","The delete operator cannot be used with a pointer to a non-object type (e.g. void pointers, function pointers). (Current operand is "+e+" ).")}},dereference:{pointer:function(t,e){return new p(t,i.ERROR,"expr.dereference.pointer","The dereference operator (*) requires an operand of pointer type. (Current operand is "+e+" ).")},pointerToObjectType:function(t,e){return new p(t,i.ERROR,"expr.dereference.pointerToObjectType","Pointers to a non-object, non-function type (e.g. void pointers) cannot be dereferenced. (Current operand is "+e+" ).")}},dot:{class_type:function(t){return new p(t,i.ERROR,"expr.dot.class_type","The dot operator can only be used to access members of an operand with class type.")},no_such_member:function(t,e,n){return new p(t,i.ERROR,"expr.dot.no_such_member","Operand of type "+e+" has no member named "+n+".")},memberLookup:function(t,e,n){return new p(t,i.ERROR,"expr.dot.memberLookup","Member lookup for "+n+" in class "+e+" failed...")}},arrow:{class_pointer_type:function(t){return new p(t,i.ERROR,"expr.arrow.class_pointer_type","The arrow operator can only be used to access members of an operand with pointer-to-class type.")},no_such_member:function(t,e,n){return new p(t,i.ERROR,"expr.arrow.no_such_member","Operand of type "+e+" has no member named "+n+".")},memberLookup:function(t,e,n){return new p(t,i.ERROR,"expr.arrow.memberLookup","Member lookup for "+n+" in class "+e+" failed...")}},invalid_operand:function(t,e,n){return new p(t,i.ERROR,"expr.invalid_operand","Invalid operand type ("+n.type+") for operator "+e+".")},lvalue_operand:function(t,e){return new p(t,i.ERROR,"expr.lvalue_operand","The "+e+" operator requires an lvalue operand.")},invalid_binary_operands:function(t,e,n,r){return n.type.isPointerType()&&a.sameType(n.type.ptrTo,r.type)?new p(t,i.ERROR,"expr.invalid_binary_operands","The types of the operands used for the "+e+" operator aren't quite compatible. The one on the right is "+r.type.englishString(!1)+", but the left is a pointer to that type. Think about whether you want to compare pointers (addresses) or the objects they point to."):r.type.isPointerType()&&a.sameType(r.type.ptrTo,n.type)?new p(t,i.ERROR,"expr.invalid_binary_operands","The types of the operands used for the "+e+" operator aren't quite compatible. The one on the left is "+n.type.englishString(!1)+", but the right is a pointer to that type.  Think about whether you want to compare pointers (addresses) or the objects they point to."):new p(t,i.ERROR,"expr.invalid_binary_operands","Invalid operand types ("+n.type+", "+r.type+") for operator "+e+".")},logicalNot:{operand_bool:function(t,e){return new p(t,i.ERROR,"expr.logicalNot.operand_bool","Expression of type ("+e.type+") cannot be converted to boolean (as required for the operand of logical not).")}},addressOf:{lvalue_required:function(t){return new p(t,i.ERROR,"expr.addressOf.lvalue_required","Operand for address-of operator (&) must be an lvalue.")}},ternary:{condition_bool:function(t,e){return new p(t,i.ERROR,"expr.ternary.condition_bool","Expression of type ("+e+") cannot be converted to boolean condition.")},sameValueCategory:function(t){return new p(t,i.ERROR,"expr.ternary.sameValueCategory","The second and third operands of the ternary operator must yield a common value category.")}},unaryPlus:{operand:function(t){return new p(t,i.ERROR,"expr.unaryPlus.operand","The unary plus operator (+) requires an operand of arithmetic or pointer type.")}},unaryMinus:{operand:function(t){return new p(t,i.ERROR,"expr.unaryMinus.operand","The unary minus operator (-) requires an operand of arithmetic type.")}},functionCall:{main:function(t){return new p(t,i.ERROR,"expr.functionCall.main","You can't explicitly call main.")},numParams:function(t){return new p(t,i.ERROR,"expr.functionCall.numParams","Improper number of arguments for this function call.")},invalid_operand_expression:function(t,e){return new p(t,i.ERROR,"expr.functionCall.invalid_operand_expression","The expression "+e+" cannot be called as a function.")},operand:function(t,e){return new p(t,i.ERROR,"expr.functionCall.operand","Operand of type "+e.type+" cannot be called as a function.")},paramType:function(t,e,n){return new p(t,i.ERROR,"expr.functionCall.paramType","Cannot convert "+e+" to "+n+" in function call parameter.")},paramReferenceType:function(t,e,n){return new p(t,i.ERROR,"expr.functionCall.paramReferenceType","The given argument (of type "+e+") cannot be bound to a reference parameter of a different type ("+n+").")},paramReferenceLvalue:function(t){return new p(t,i.ERROR,"expr.functionCall.paramReferenceLvalue","For now, you cannot bind a non-lvalue as a reference parameter in Lobster. (i.e. you have to bind a variable)")},not_defined:function(t,e,n){return new p(t,i.ERROR,"expr.functionCall.not_defined","A function call operator with parameters of types ("+n.map(function(t){return t.toString()}).join(", ")+") for the class type "+e+" has not been defined.")}},thisExpr:{memberFunc:function(t){return new p(t,i.ERROR,"expr.thisExpr.memberFunc","You may only use the </span class='code'>this</span> keyword in non-static member functions.")}}},iden:{ambiguous:function(t,e){return new p(t,i.ERROR,"iden.ambiguous",'"'+e+'" is ambiguous. (There is not enough contextual type information for name lookup to figure out which entity this identifier refers to.)')},no_match:function(t,e){return new p(t,i.ERROR,"iden.no_match",'No matching function found for call to "'+e+'" with these parameter types.')},keyword:function(t,e){return new p(t,i.ERROR,"iden.keyword",'"'+e+'" is a C++ keyword and cannot be used as an identifier.')},alt_op:function(t,e){return new p(t,i.ERROR,"iden.alt_op",'"'+e+'" is a C++ operator and cannot be used as an identifier.')}},param:{numParams:function(t){return new p(t,i.ERROR,"param.numParams","Improper number of arguments.")},paramType:function(t,e,n){return new p(t,i.ERROR,"param.paramType","Cannot convert "+e+" to a parameter of type "+n+".")},paramReferenceType:function(t,e,n){return new p(t,i.ERROR,"param.paramReferenceType","The given argument (of type "+e+") cannot be bound to a reference parameter of a different type ("+n+").")},paramReferenceLvalue:function(t){return new p(t,i.ERROR,"param.paramReferenceLvalue","For now, you cannot bind a non-lvalue as a reference parameter in Lobster. (i.e. you have to bind a variable)")},thisConst:function(t,e){return new p(t,i.ERROR,"param.thisConst","A non-const member function cannot be called on a const instance of the "+e+" class.")}},stmt:{function_definition_prohibited:function(t){return new p(t,i.ERROR,"stmt.function_definition_prohibited","A function definition is prohibited here (i.e. inside a statement).")},selection:{condition_bool:function(t,e){return new p(e,i.ERROR,"stmt.selection.condition_bool","Expression of type ("+e.type+") cannot be converted to boolean condition.")}},iteration:{condition_bool:function(t,e){return new p(e,i.ERROR,"stmt.iteration.condition_bool","Expression of type ("+e.type+") cannot be converted to boolean condition.")}},breakStatement:{location:function(t){return new p(t,i.ERROR,"stmt.breakStatement.location","Break statements may only occur inside loops or case statements.")}},returnStatement:{empty:function(t){return new p(t,i.ERROR,"stmt.returnStatement.empty","A return statement without an expression is only allowed in void functions.")},exprVoid:function(t){return new p(t,i.ERROR,"stmt.returnStatement.exprVoid","A return statement with an expression of non-void type is only allowed in a non-void function.")},convert:function(t,e,n){return new p(t,i.ERROR,"stmt.returnStatement.convert","Cannot convert "+e+" to return type of "+n+" in return statement.")}}},link:{library_unsupported:function(t,e){return new h(t,i.ERROR,"link.library_unsupported","I'm sorry, but this function ("+e+") is a part of the standard library that isn't currently supported.")},multiple_def:function(t,e){return new h(t,i.ERROR,"link.multiple_def","Multiple definitions found for "+e+".")},type_mismatch:function(t,e,n){return new h(t,i.ERROR,"link.type_mismatch","Multiple declarations found for "+e.name+", but with different types.")},class_same_tokens:function(t,e,n){return new h(t,i.ERROR,"link.class_same_tokens","Multiple class definitions are ok if they are EXACTLY the same in the source code. However, the multiple definitions found for "+e.name+" do not match exactly.")},func:{def_not_found:function(t,e){return new h(t,i.ERROR,"link.func.def_not_found","Cannot find definition for function "+e.name+". That is, the function is declared and I know what it is, but I can't find the actual code that implements it.")},no_matching_overload:function(t,e){return new h(t,i.ERROR,"link.func.no_matching_overload","Although some definitions for a function named "+e.name+" exist, I can't find one with the right signature to match this declaration.")},returnTypesMatch:function(t,e){return new h(t,i.ERROR,"link.func.returnTypesMatch","This declaration of the function "+e.name+" has a different return type than its definition.")}},def_not_found:function(t,e){return new h(t,i.ERROR,"link.def_not_found","Cannot find definition for object "+e.name+". (It is declared, so I know it's a variable and what type it is, but it's never defined anywhere.)")}},preprocess:{recursiveInclude:function(t){return new c(t,i.WARNING,"preprocess.recursiveInclude","Recursive #include detected. (i.e. A file #included itself, or #included a different file that then #includes the original, etc.)")}},lobster:{unsupported_feature:function(t,e){return new p(t,i.ERROR,"lobster.unsupported_feature","Sorry, you have used a C++ feature ("+e+") that is not currently supported in Lobster.")},referencePrvalue:function(t){return new p(t,i.ERROR,"lobster.referencePrvalue","Sorry, Lobster does not yet support binding references (even if they are reference-to-const) to prvalues (e.g. temporary objects).")},ternarySameType:function(t,e,n){return new p(t,i.ERROR,"lobster.ternarySameType","Lobster's ternary operator requires second and third operands of the same type. The given operands have types "+e+" and "+n+".")},ternaryNoVoid:function(t){return new p(t,i.ERROR,"lobster.ternaryNoVoid","Lobster's ternary operator does not allow void operands.")}}}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(0),a=n(5),u=n(2),s=n(9),c=n(3),l=function(){function t(t){this.entities={},this.parent=t}return t.prototype.toString=function(){var t="";for(var e in this.entities)t+=this.entities[e]+"\n";return t},t.prototype.addDeclaredEntity=function(t){var e=this.entities[t.name];return e?t.mergeInto(e):this.entities[t.name]=t instanceof C?[t]:t},t.prototype.lookup=function(t,e){void 0===e&&(e={kind:"normal"}),e=e||{},o.assert(!t.includes("::"),"Qualified name used with unqualified loookup function.");var n=this.entities[t];if(!n&&!e.own&&this.parent)return this.parent.lookup(t,e);if(n){if(Array.isArray(n)){var r=n;if("exact"===e.kind){var i=e.paramTypes,a=e.receiverType;return r=n.filter(function(t){return t.type.sameParamTypes(i)?t.type.sameParamTypes(i):a?t.type.receiverType&&a.isConst===t.type.isConst:!t.type.receiverType})}return r}return n}},t}();e.Scope=l;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(l);e.BlockScope=f;var p=function(t){function e(n,r){var i=t.call(this,r)||this;return o.assert(!r||r instanceof e),i.name=n,i.children={},r&&r.addChild(i),i}return r(e,t),e.prototype.addChild=function(t){t.name&&(this.children[t.name]=t)},e}(l);e.NamespaceScope=p;var h=function(){function t(e){this.observable=new a.Observable(this),this.entityId=t._nextEntityId++,this.type=e}return t._nextEntityId=0,t}();e.CPPEntity=h;var d=function(t){function e(e,n){var r=t.call(this,e)||this;return r.name=n,r}return r(e,t),e}(h);e.NamedEntity=d;var y=function(t){function e(e,n){var r=t.call(this,e,n.name)||this;return r.declaration=n,r}return r(e,t),e}(d);e.DeclaredEntityBase=y;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.mergeInto=function(t){if(Array.isArray(t))throw c.CPPError.declaration.type_mismatch(this.declaration,this,t[0]);if(!i.sameType(this.type,t.type))throw c.CPPError.declaration.type_mismatch(this.declaration,this,t);return t},e}(y);e.DeclaredObjectEntity=m;var v=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.kind="AutoEntity",i.definition=n,i.isParameter=!!r,i}return r(e,t),e.prototype.toString=function(){return this.name+" ("+this.type+")"},e.prototype.mergeInto=function(t){throw c.CPPError.declaration.prev_local(this.declaration,this.name)},e.prototype.runtimeLookup=function(t){return t.containingRuntimeFunction.stackFrame.getLocalObject(this)},e.prototype.describe=function(){return{message:"the "+(this.isParameter?"parameter":"local variable")+" "+this.name}},e}(m);e.AutoEntity=v;var _=function(t){function e(e,n,r){void 0===r&&(r=!1);var i=t.call(this,e,n)||this;return i.kind="LocalReferenceEntity",i.isParameter=r,i}return r(e,t),e.prototype.mergeInto=function(t){throw c.CPPError.declaration.prev_local(this.declaration,this.name)},e.prototype.bindTo=function(t,e){t.containingRuntimeFunction.stackFrame.bindReference(this,e)},e.prototype.runtimeLookup=function(t){return t.containingRuntimeFunction.stackFrame.referenceLookup(this)},e.prototype.describe=function(){return{message:"the "+(this.isParameter?"reference parameter":"reference")+" "+this.name}},e}(m);e.LocalReferenceEntity=_;var b=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.qualifiedName="::"+r.name,r}return r(e,t),e.prototype.toString=function(){return this.name+" ("+this.type+")"},e.prototype.link=function(t){t&&!Array.isArray(t)?this.definition=t:this.declaration.addNote(c.CPPError.link.def_not_found(this.declaration,this))},e.prototype.runtimeLookup=function(t){return t.sim.memory.staticLookup(this)},e.prototype.describe=function(){return{name:this.name,message:"the variable "+this.name}},e}(m);e.StaticEntity=b;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.runtimeLookup=function(t){var e=t.containingRuntimeFunction.returnObject;if(!e)throw"Error: Runtime lookup performed for the return object of a function, but the return object does not currently exist.";return e},e.prototype.describe=function(){return{message:"the return object"}},e}(h);e.ReturnObjectEntity=g;var w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.bindTo=function(t,e){t.containingRuntimeFunction.setReturnObject(e)},e.prototype.describe=function(){return{message:"the object returned by reference"}},e}(h);e.ReturnByReferenceEntity=w;var R=function(t){function e(e){var n=t.call(this,new i.BoundedArrayType(new i.Char(!0),e.length+1))||this;return n.str=e,n}return r(e,t),e.prototype.objectInstance=function(t,e){return new s.StringLiteralObject(this.type,t,e)},e.prototype.toString=function(){return'string literal "'+o.unescapeString(this.str)+'"'},e.prototype.runtimeLookup=function(t){return t.sim.memory.getStringLiteral(this.str)},e.prototype.describe=function(){return{message:'the string literal "'+o.unescapeString(this.str)+'"'}},e}(h);e.StringLiteralEntity=R;var T=function(t){function e(e,n,r){var a=t.call(this,n)||this;return a.calledFunction=e,a.type=n,a.num=r,o.assert(i.sameType(e.type.paramTypes[r],n),"Inconsistent type for parameter entity."),a}return r(e,t),e.prototype.runtimeLookup=function(t){var e=t.sim.topFunction(),n=e.model.parameters[this.num].declaredEntity;if(!(n instanceof v))return o.assertFalse("Pass by value used with reference parameter.");var r=n.runtimeLookup(e);return o.assert(i.sameType(r.type,this.type)),r},e.prototype.describe=function(){var t=this.calledFunction.definition;return t?t.parameters[this.num].declaredEntity.describe():{message:"Parameter #"+(this.num+1)+" of the called function"}},e}(h);e.PassByValueParameterEntity=T;var x=function(t){function e(e,n,r){var a=t.call(this,n)||this;return a.calledFunction=e,a.type=n,a.num=r,o.assert(i.sameType(e.type.paramTypes[r],n),"Inconsistent type for parameter entity."),a}return r(e,t),e.prototype.bindTo=function(t,e){var n=t.sim.topFunction(),r=n.model.parameters[this.num].declaredEntity;if(!(r instanceof _))return o.assertFalse("Pass by reference used with non-reference parameter.");r.bindTo(n,e)},e.prototype.describe=function(){var t=this.calledFunction.definition;return t?t.parameters[this.num].declaredEntity.describe():{message:"Parameter #"+(this.num+1)+" of the called function"}},e}(h);e.PassByReferenceParameterEntity=x;var E=function(t){function e(e,n){var r=t.call(this,e.type.elemType)||this;return r.arrayEntity=e,r.index=n,r}return r(e,t),e.prototype.runtimeLookup=function(t){return this.arrayEntity.runtimeLookup(t).getArrayElemSubobject(this.index)},e.prototype.describe=function(){var t=this.arrayEntity.describe(),e={message:"element "+this.index+" of "+t.message};return t.name&&(e.name=t.name+"["+this.index+"]"),e},e}(h);e.ArraySubobjectEntity=E;var A=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.creator=n,o.owner=r,o.name=name,o}return r(e,t),e.prototype.setOwner=function(t){this.owner=t},e.prototype.objectInstance=function(t){var e=t.sim.memory.allocateTemporaryObject(this);return t.containingFullExpression.temporaryObjects[this.entityId]=e,e},e.prototype.runtimeLookup=function(t){return t instanceof u.RuntimePotentialFullExpression?t.containingFullExpression.temporaryObjects[this.entityId]:o.assertFalse()},e.prototype.describe=function(){return{message:this.name}},e._name="TemporaryObjectEntity",e}(h);e.TemporaryObjectEntity=A;var C=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.qualifiedName="::"+r.name,r}return r(e,t),e.prototype.isStaticallyBound=function(){return!0},Object.defineProperty(e.prototype,"isVirtual",{get:function(){return!1},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.name},e.prototype.nameString=function(){return this.name},e.prototype.mergeInto=function(t){if(Array.isArray(t)){var e=O(t,this.type);if(!e)return t.push(this),this;if(!this.type.sameReturnType(e.type))throw c.CPPError.declaration.func.returnTypesMatch([this.declaration,e.declaration],this.name);if(!i.sameType(this.type,e.type))throw c.CPPError.declaration.type_mismatch(this.declaration,this,e);return e}throw c.CPPError.declaration.type_mismatch(this.declaration,this,t)},e.prototype.link=function(t){if(t&&Array.isArray(t)){var e=S(t,this.type);e?this.type.sameReturnType(e.declaration.type)?this.definition=e:this.declaration.addNote(c.CPPError.link.func.returnTypesMatch(this.declaration,this)):this.declaration.addNote(c.CPPError.link.func.no_matching_overload(this.declaration,this))}else this.declaration.addNote(c.CPPError.link.func.def_not_found(this.declaration,this))},e.prototype.isMain=function(){return"::main"===this.qualifiedName},e.prototype.describe=function(){throw new Error("Method not implemented.")},e}(y);function O(t,e){return t.find(function(t){return e.sameSignature(t.type)})}function S(t,e){return t.find(function(t){return e.sameSignature(t.declaration.type)})}e.FunctionEntity=C,e.selectOverloadedEntity=O,e.selectOverloadedDefinition=S},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(54)),o=n(0);function a(t,e){var n=t._act[e.category];n?n.call(t,e):t._act._default?t._act._default.call(t,e):o.assert(!1)}e.addListener=function(t,e,n){t.observable.addListener(e,n)},e.messageResponse=function(t){return function(e,n,r){e._act||(e._act={}),e._act[t||n]=e[n]}};var u=function(){function t(t){this.universalObservers=[],this.observers={},this.source=t}return t.prototype.send=function(t,e){if(!this.source.silent){var n={category:t,data:e,source:this.source},r=this.observers[n.category];if(r)for(var i=0;i<r.length;++i)a(r[i],n);for(i=0;i<this.universalObservers.length;++i)a(this.universalObservers[i],n)}},t.prototype.addListener=function(t,e){if(e)if(Array.isArray(e))for(var n=0;n<e.length;++n)this.addListener(t,e[n]);else this.observers[e]||(this.observers[e]=[]),this.observers[e].push(t),this.listenerAdded(t,e);else this.universalObservers.push(t),this.listenerAdded(t);return this},t.prototype.removeListener=function(t,e){if(e){var n=this.observers[e];n&&i.default(n,t),this.listenerRemoved(t,e)}else{for(var r in this.observers)this.removeListener(t,r);i.default(this.universalObservers,t),this.listenerRemoved(t)}return this},t.prototype.listenerAdded=function(t,e){},t.prototype.listenerRemoved=function(t,e){},t}();e.Observable=u},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(23),o=n(1),a=n(3),u=n(4),s=n(7),c=n(0),l=n(11),f=n(10),p=n(22),h=n(8);e.readValueWithAlert=function(t,e){var n=t.readValue();if(!n.isValid){var r=t.describe(),o="The value you just got out of "+(r.name||r.message)+" isn't valid. It might be uninitialized or it could have come from a dead object.";0===n.rawValue&&(o+="\n\n(Note: The value just happens to be zero. Don't be fooled! Uninitialized memory isn't guaranteed to be zero.)"),e.eventOccurred(i.SimulationEvent.UNDEFINED_BEHAVIOR,o,!0)}return n};var d={comma_expression:function(t,e){return _.createFromAST(t,e)},ternary_expression:function(t,e){return g.createFromAST(t,e)},assignment_expression:function(t,e){return R.createFromAST(t,e)},compound_assignment_expression:function(t,e){return new m(e,"compound assignment").setAST(t)},arithmetic_binary_operator_expression:function(t,e){return q.createFromAST(t,e)},relational_binary_operator_expression:function(t,e){return Y.createFromAST(t,e)},logical_binary_operator_expression:function(t,e){return J.createFromAST(t,e)},pointer_to_member_expression:function(t,e){return new m(e,"pointer-to-member").setAST(t)},c_style_cast_expression:function(t,e){return new m(e,"c-style cast").setAST(t)},prefix_increment_expression:function(t,e){return new m(e,"prefix increment").setAST(t)},prefix_decrement_expression:function(t,e){return new m(e,"prefix decrement").setAST(t)},dereference_expression:function(t,e){return new m(e,"dereference").setAST(t)},address_of_expression:function(t,e){return new m(e,"address-of").setAST(t)},unary_plus_expression:function(t,e){return new m(e,"unary plus").setAST(t)},unary_minus_expression:function(t,e){return new m(e,"unary minus").setAST(t)},logical_not_expression:function(t,e){return new m(e,"logical not").setAST(t)},bitwise_not_expression:function(t,e){return new m(e,"bitwise not").setAST(t)},sizeof_expression:function(t,e){return new m(e,"sizeof").setAST(t)},sizeof_type_expression:function(t,e){return new m(e,"sizeof (type)").setAST(t)},new_expression:function(t,e){return new m(e,"new").setAST(t)},delete_expression:function(t,e){return new m(e,"delete").setAST(t)},delete_array_expression:function(t,e){return new m(e,"delete[]").setAST(t)},static_cast_expression:function(t,e){return new m(e,"static cast").setAST(t)},dynamic_cast_expression:function(t,e){return new m(e,"dynamic cast").setAST(t)},reinterpret_cast_expression:function(t,e){return new m(e,"reinterpret cast").setAST(t)},const_cast_expression:function(t,e){return new m(e,"const cast").setAST(t)},subscript_expression:function(t,e){return new m(e,"subscript").setAST(t)},function_call_expression:function(t,e){return p.FunctionCallExpression.createFromAST(t,e)},dot_expression:function(t,e){return new m(e,"dot operator").setAST(t)},arrow_expression:function(t,e){return new m(e,"arrow operator").setAST(t)},postfix_increment_expression:function(t,e){return new m(e,"postfix increment").setAST(t)},postfix_decrement_expression:function(t,e){return new m(e,"postfix decrement").setAST(t)},construct_expression:function(t,e){return new m(e,"construct expression").setAST(t)},identifier_expression:function(t,e){return et.createFromAST(t,e)},this_expression:function(t,e){return new m(e,"this pointer").setAST(t)},numeric_literal:function(t,e){return ut.createFromAST(t,e)}};function y(t,e){return d[t.construct_type](t,e)}e.createExpressionFromAST=y;var m=function(t){function e(e,n){var r=t.call(this,e)||this;return r.type=void 0,r.valueCategory=void 0,r.addNote(a.CPPError.lobster.unsupported_feature(r,n)),r}return r(e,t),e.prototype.createRuntimeExpression=function(t){throw new Error("Cannot create a runtime instance of an unsupported construct.")},e.prototype.describeEvalResult=function(t){return{message:"an unsupported expression"}},e}(h.Expression);e.UnsupportedExpression=m;var v=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.index=0,r.subexpressions=[],r}return r(e,t),e.prototype.setSubexpressions=function(t){this.subexpressions=t},e.prototype.upNextImpl=function(){if(0===this.index){for(var t=this.subexpressions.length-1;t>=0;--t)this.sim.push(this.subexpressions[t]);this.index=1}},e.prototype.stepForwardImpl=function(){this.operate(),this.done()},e}(h.RuntimeExpression);e.SimpleRuntimeExpression=v;var _=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.type=r.type,i.valueCategory=r.valueCategory,i.attach(i.left=n),i.attach(i.right=r),i}return r(e,t),e.createFromAST=function(t,n){return new e(n,y(t.left,n),y(t.right,n))},e.prototype.createRuntimeExpression=function(t){return new b(this,t)},e.prototype.describeEvalResult=function(t){return this.right.describeEvalResult(t)},e.constructKind=Symbol("Comma"),e}(h.Expression);e.CommaExpression=_;var b=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.right=r.model.right.createRuntimeExpression(r),r.left=r.model.left.createRuntimeExpression(r),r.setSubexpressions([r.left,r.right]),r}return r(e,t),e.prototype.operate=function(){this.setEvalResult(this.right.evalResult)},e}(v);e.RuntimeComma=b;var g=function(t){function e(e,n,r,i){var o,a=t.call(this,e)||this;return n.isWellTyped()&&(n=a.compileCondition(n)),r.isWellTyped()&&i.isWellTyped()&&(r=(o=a.compileConsequences(r,i)).then,i=o.otherwise),a.attach(a.condition=n),a.attach(a.then=r),a.attach(a.otherwise=i),a.type=r.type,a.valueCategory=r.valueCategory,a}return r(e,t),e.createFromAST=function(t,n){return new e(n,y(t.condition,n),y(t.then,n),y(t.otherwise,n))},e.prototype.compileCondition=function(t){return t=l.standardConversion(t,new o.Bool),o.isType(t.type,o.Bool)||this.addNote(a.CPPError.expr.ternary.condition_bool(t,t.type)),t},e.prototype.compileConsequences=function(t,e){return t.isPrvalue()&&e.isLvalue()?e=l.convertToPRValue(e):e.isPrvalue()&&t.isLvalue()&&(t=l.convertToPRValue(t)),o.sameType(t.type,e.type)||this.addNote(a.CPPError.lobster.ternarySameType(this,t.type,e.type)),(o.isType(t.type,o.VoidType)||o.isType(e.type,o.VoidType))&&this.addNote(a.CPPError.lobster.ternaryNoVoid(this)),t.valueCategory!==e.valueCategory&&this.addNote(a.CPPError.expr.ternary.sameValueCategory(this)),{then:t,otherwise:e}},e.prototype.createRuntimeExpression=function(t){return new w(this,t)},e.prototype.describeEvalResult=function(t){throw new Error("Method not implemented.")},e}(h.Expression);e.TernaryExpression=g;var w=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.index="condition",r.condition=r.model.condition.createRuntimeExpression(r),r.then=r.model.then.createRuntimeExpression(r),r.otherwise=r.model.otherwise.createRuntimeExpression(r),r}return r(e,t),e.prototype.upNextImpl=function(){"condition"===this.index?(this.sim.push(this.condition),this.index="branch"):"branch"===this.index&&(this.condition.evalResult.rawValue?this.sim.push(this.then):this.sim.push(this.otherwise),this.index="operate")},e.prototype.stepForwardImpl=function(){this.setEvalResult(this.then?this.then.evalResult:this.otherwise.evalResult),this.sim.pop()},e}(h.RuntimeExpression);e.RuntimeTernary=w;var R=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.valueCategory="lvalue",n.isWellTyped()&&r.isWellTyped()?(r=l.standardConversion(r,n.type.cvUnqualified()),n.valueCategory&&"lvalue"!=n.valueCategory&&i.addNote(a.CPPError.expr.assignment.lhs_lvalue(i)),n.type.isConst&&i.addNote(a.CPPError.expr.assignment.lhs_const(i)),r.isWellTyped()&&!o.sameType(r.type,n.type.cvUnqualified())&&i.addNote(a.CPPError.expr.assignment.convert(i,n,r)),i.type=n.type,i.attach(i.lhs=n),i.attach(i.rhs=r),i):(i.attach(i.lhs=n),i.attach(i.rhs=r),i)}return r(e,t),e.createFromAST=function(t,n){return new e(n,y(t.lhs,n),y(t.rhs,n))},e.prototype.createRuntimeExpression=function(t){return new T(this,t)},e.prototype.describeEvalResult=function(t){throw new Error("Method not implemented.")},e.prototype.isTailChild=function(t){return{isTail:!1,reason:"The assignment itself will happen after the recursive call returns.",others:[this]}},e.prototype.explain=function(t,e){var n=this.lhs.describeEvalResult(0),r=this.rhs.describeEvalResult(0);return{message:"The value of "+(r.name||r.message)+" will be assigned to "+(n.name||n.message)+"."}},e}(h.Expression);e.AssignmentExpression=R;var T=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.lhs=r.model.lhs.createRuntimeExpression(r),r.rhs=r.model.rhs.createRuntimeExpression(r),r.setSubexpressions([r.rhs,r.lhs]),r}return r(e,t),e.prototype.operate=function(){this.lhs.evalResult.writeValue(this.rhs.evalResult),this.setEvalResult(this.lhs.evalResult)},e}(v);function x(t,e){return t+e}function E(t,e){return t-e}function A(t,e){return t*e}function C(t,e){return Math.trunc(t/e)}function O(t,e){return t/e}function S(t,e){return t-C(t,e)*e}function P(t,e){return t<e}function j(t,e){return t>e}function I(t,e){return t<=e}function F(t,e){return t>=e}function N(t,e){return t==e}function k(t,e){return t==e}function z(t,e){return t&e}function V(t,e){return t^e}function L(t,e){return t|e}function B(t,e){return t<<e}function D(t,e){return t>>>e}e.RuntimeAssignment=T,e.add=x,e.sub=E,e.mult=A,e.intDiv=C,e.floatDiv=O,e.mod=S,e.lt=P,e.gt=j,e.lte=I,e.gte=F,e.eq=N,e.ne=k,e.bitAnd=z,e.bitXor=V,e.bitOr=L,e.bitShiftLeft=B,e.bitShiftRight=D;var M=function(t){function e(e,n){var r=t.call(this,e)||this;return r.valueCategory="prvalue",r.operator=n,r}return r(e,t),e}(h.Expression);e.BinaryOperator=M;var U=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(v);e.RuntimeBinaryOperator=U;var W={"+":function(t,e){return t.combine(e,x)},"-":function(t,e){return t.combine(e,E)},"*":function(t,e){return t.combine(e,A)},"/":function(t,e){return t.type.isIntegralType()?t.combine(e,C):t.combine(e,O)},"%":function(t,e){return t.combine(e,S)},"&":function(t,e){return t.combine(e,z)},"^":function(t,e){return t.combine(e,V)},"|":function(t,e){return t.combine(e,L)},"<<":function(t,e){return t.combine(e,B)},">>":function(t,e){return t.combine(e,D)}},q=function(t){function e(e,n,r,i){var u=t.call(this,e,i)||this;if(!n.isWellTyped()||!r.isWellTyped())return u.attach(u.left=n),u.attach(u.right=r),u;if(!n.isArithmeticTyped()||!r.isArithmeticTyped())return u.addNote(a.CPPError.expr.binary.arithmetic_operands(u,u.operator,n,r)),u.attach(u.left=n),u.attach(u.right=r),u;if(!("%"!==i&&"<<"!==i&&">>"!=i||n.isIntegralTyped()&&r.isIntegralTyped()))return u.addNote(a.CPPError.expr.binary.arithmetic_operands(u,u.operator,n,r)),u.attach(u.left=n),u.attach(u.right=r),u;var s=l.usualArithmeticConversions(n,r),c=s[0],f=s[1];return o.sameType(c.type,f.type)||u.addNote(a.CPPError.expr.invalid_binary_operands(u,u.operator,c,f)),u.type=c.type,u.attach(u.left=c),u.attach(u.right=f),u}return r(e,t),e.createFromAST=function(t,n){var r=y(t.left,n),i=y(t.right,n),o=t.operator;return"-"===o&&(r.isPointerTyped()||r.isBoundedArrayTyped())&&(i.isPointerTyped()||i.isBoundedArrayTyped())?new G(n,l.convertToPRValue(r),l.convertToPRValue(i)):"-"!==o&&"+"!==o||!((r.isPointerTyped()||r.isBoundedArrayTyped())&&i.isIntegralTyped()||(i.isPointerTyped()||i.isBoundedArrayTyped())&&r.isIntegralTyped())?new e(n,r,i,o):new Q(n,l.convertToPRValue(r),l.convertToPRValue(i))},e.prototype.createRuntimeExpression=function(t){return new $(this,t)},e.prototype.describeEvalResult=function(t){throw new Error("Method not implemented.")},e}(M),$=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.left=r.model.left.createRuntimeExpression(r),r.right=r.model.right.createRuntimeExpression(r),r.setSubexpressions([r.left,r.right]),r}return r(e,t),e.prototype.operate=function(){this.setEvalResult(W[this.model.operator](this.left.evalResult,this.right.evalResult))},e}(U);e.RuntimeArithmeticBinaryOperator=$;var G=function(t){function e(e,n,r){var i=t.call(this,e,"-")||this;return i.valueCategory="prvalue",i.attach(i.left=n),i.attach(i.right=r),i.type=new o.Int,i}return r(e,t),e.prototype.createRuntimeExpression=function(t){return new H(this,t)},e.prototype.describeEvalResult=function(t){throw new Error("Method not implemented.")},e}(M);e.PointerDifference=G;var H=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.left=r.model.left.createRuntimeExpression(r),r.right=r.model.right.createRuntimeExpression(r),r.setSubexpressions([r.left,r.right]),r}return r(e,t),e.prototype.operate=function(){var t=this.left.evalResult.pointerDifference(this.right.evalResult),e=this.left.model.type.isType(o.ArrayPointer)?this.left.model.type.arrayObject:null,n=this.right.model.type.isType(o.ArrayPointer)?this.right.model.type.arrayObject:null;t.rawEquals(0)||(!e&&n?(this.sim.eventOccurred(i.SimulationEvent.UNDEFINED_BEHAVIOR,"The left pointer in this subtraction is not from an array, so the resulting difference is not meaningful.",!0),t=t.invalidated()):e&&!n?(this.sim.eventOccurred(i.SimulationEvent.UNDEFINED_BEHAVIOR,"The right pointer in this subtraction is not from an array, so the resulting difference is not meaningful.",!0),t=t.invalidated()):e&&n&&e!==n&&(this.sim.eventOccurred(i.SimulationEvent.UNDEFINED_BEHAVIOR,"The pointers in this subtraction are pointing into two different arrays, so the resulting difference is not meaningful.",!0),t=t.invalidated())),this.setEvalResult(t)},e}(U);e.RuntimePointerDifference=H;var Q=function(t){function e(e,n,r){var i=t.call(this,e,"+")||this;return i.attach(i.left=n),i.attach(i.right=r),n.isWellTyped()&&r.isWellTyped()?(n.isPointerTyped()&&r.isIntegralTyped()?(i.pointerOnLeft=!0,i.pointer=n,i.offset=r,i.type=i.pointer.type):n.isIntegralTyped()&&r.isPointerTyped()?(i.pointerOnLeft=!1,i.pointer=r,i.offset=n,i.type=i.pointer.type):i.addNote(a.CPPError.expr.invalid_binary_operands(i,i.operator,n,r)),i):i}return r(e,t),e.prototype.createRuntimeExpression=function(t){return new Z(this,t)},e.prototype.describeEvalResult=function(t){throw new Error("Method not implemented.")},e}(M);e.PointerOffset=Q;var Z=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.pointer=r.model.pointer.createRuntimeExpression(r),r.offset=r.model.offset.createRuntimeExpression(r),e.pointerOnLeft?(r.left=r.pointer,r.right=r.offset):(r.left=r.offset,r.right=r.pointer),r.setSubexpressions([r.left,r.right]),r}return r(e,t),e.prototype.operate=function(){var t=this.pointer.evalResult.pointerOffset(this.offset.evalResult);this.setEvalResult(t);var e=t.type;e.isType(o.ArrayPointer)?t.rawValue<e.min()||(e.onePast(),t.rawValue):this.sim.eventOccurred(i.SimulationEvent.UNDEFINED_BEHAVIOR,"Uh, I don't think you're supposed to do arithmetic with that pointer. It's not pointing into an array.",!0)},e}(U);e.RuntimePointerOffset=Z;var K={"<":function(t,e){return t.compare(e,P)},">":function(t,e){return t.compare(e,j)},"<=":function(t,e){return t.compare(e,I)},">=":function(t,e){return t.compare(e,F)},"==":function(t,e){return t.compare(e,N)},"!=":function(t,e){return t.compare(e,k)}},Y=function(t){function e(e,n,r,i){var u=t.call(this,e,i)||this;if(u.type=o.Bool.BOOL,!n.isWellTyped()||!r.isWellTyped())return u.attach(u.left=n),u.attach(u.right=r),u;if(!n.isArithmeticTyped()||!r.isArithmeticTyped())return u.addNote(a.CPPError.expr.binary.arithmetic_operands(u,u.operator,n,r)),u.attach(u.left=n),u.attach(u.right=r),u;var s=l.usualArithmeticConversions(n,r),c=s[0],f=s[1];return o.sameType(c.type,f.type)||u.addNote(a.CPPError.expr.invalid_binary_operands(u,u.operator,c,f)),u.attach(u.left=c),u.attach(u.right=f),u}return r(e,t),e.createFromAST=function(t,n){return new e(n,y(t.left,n),y(t.right,n),t.operator)},e.prototype.createRuntimeExpression=function(t){return new X(this,t)},e.prototype.describeEvalResult=function(t){throw new Error("Method not implemented.")},e}(M),X=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.left=r.model.left.createRuntimeExpression(r),r.right=r.model.right.createRuntimeExpression(r),r.setSubexpressions([r.left,r.right]),r}return r(e,t),e.prototype.operate=function(){this.setEvalResult(K[this.model.operator](this.left.evalResult,this.right.evalResult))},e}(U);e.RuntimeRelationalBinaryOperator=X;var J=function(t){function e(e,n,r,i){var a=t.call(this,e,i)||this;return a.type=new o.Bool,n.isWellTyped()&&r.isWellTyped()?(a.attach(a.left=a.compileLogicalSubexpression(n)),a.attach(a.right=a.compileLogicalSubexpression(r))):(a.attach(a.left=n),a.attach(a.right=r)),a}return r(e,t),e.prototype.compileLogicalSubexpression=function(t){return t=l.standardConversion(t,o.Bool.BOOL),o.isType(t.type,o.Bool)||this.addNote(a.CPPError.expr.binary.boolean_operand(this,this.operator,t)),t},e.createFromAST=function(t,n){return new e(n,y(t.left,n),y(t.right,n),t.operator)},e.prototype.createRuntimeExpression=function(t){return new tt(this,t)},e.prototype.describeEvalResult=function(t){throw new Error("Method not implemented.")},e}(M),tt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.index="left",r.left=r.model.left.createRuntimeExpression(r),r.right=r.model.right.createRuntimeExpression(r),r}return r(e,t),e.prototype.upNextImpl=function(){if("left"===this.index)this.sim.push(this.left),this.index="right";else if("right"===this.index){var t="&&"===this.model.operator?0:1;this.hasShortCircuited=this.left.evalResult.rawEquals(t),this.hasShortCircuited||this.sim.push(this.right),this.index="operate"}},e.prototype.stepForwardImpl=function(){this.hasShortCircuited?this.setEvalResult(this.left.evalResult):this.setEvalResult(this.operate(this.left.evalResult,this.right.evalResult)),this.sim.pop()},e.prototype.operate=function(t,e){var n=this;return t.combine(e,function(t,e){return"&&"==n.model.operator?t&&e:t||e})},e}(h.RuntimeExpression);e.RuntimeLogicalBinaryOperator=tt;var et=function(t){function e(e,n){var r=t.call(this,e)||this;r.valueCategory="lvalue",r.name=n,f.checkIdentifier(r,n,r);var i=r.context.contextualScope.lookup(r.name);if(Array.isArray(i))if(1===i.length)r.entity=i[0];else if(r.context.contextualParameterTypes){var o=dt(i,r.context.contextualParameterTypes,r.context.contextualReceiverType);o.selected?r.entity=o.selected:r.entity=o.candidates[0].candidate}else r.addNote(a.CPPError.iden.ambiguous(r,r.name));else r.entity=i;return r.type=r.entity&&r.entity.type,r}return r(e,t),e.createFromAST=function(t,n){return new e(n,t.identifier)},e.prototype.createRuntimeExpression=function(t){return this.entity instanceof u.FunctionEntity?new rt(this,t):new nt(this,t)},e.prototype.describeEvalResult=function(t){throw new Error("Method not implemented.")},e}(h.Expression);e.IdentifierExpression=et;var nt=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.upNextImpl=function(){this.setEvalResult(this.model.entity.runtimeLookup(this)),this.sim.pop()},e.prototype.stepForwardImpl=function(){},e}(h.RuntimeExpression);e.RuntimeObjectIdentifier=nt;var rt=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.upNextImpl=function(){this.setEvalResult(this.model.entity)},e.prototype.stepForwardImpl=function(){},e}(h.RuntimeExpression);e.RuntimeFunctionIdentifier=rt;var it={int:parseInt,float:parseFloat,double:parseFloat,bool:function(t){return t?1:0},char:function(t){return c.escapeString(t).charCodeAt(0)}},ot={int:o.Int.INT,float:o.Double.DOUBLE,double:o.Double.DOUBLE,bool:o.Bool.BOOL,char:o.Char.CHAR};function at(t){return it[t.type](t.value)}e.parseNumericLiteralValueFromAST=at;var ut=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.valueCategory="prvalue",i.type=n,i.value=new s.Value(r,i.type),i}return r(e,t),e.createFromAST=function(t,n){return new e(n,ot[t.type],at(t))},e.prototype.createRuntimeExpression=function(t){return new st(this,t)},e.prototype.describeEvalResult=function(t){throw new Error("Method not implemented.")},e}(h.Expression);e.NumericLiteral=ut;var st=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.upNextImpl=function(){this.setEvalResult(this.model.value),this.sim.pop()},e.prototype.stepForwardImpl=function(){},e}(h.RuntimeExpression);e.RuntimeNumericLiteral=st;var ct=function(t){function e(e,n){var r=t.call(this,e)||this;return r.attach(r.subexpression=n),r.type=n.type,r.valueCategory=n.valueCategory,r}return r(e,t),e.createFromAST=function(t,n){return new e(n,y(t.subexpression,n))},e.prototype.createRuntimeExpression=function(t){return new ft(this,t)},e.prototype.describeEvalResult=function(t){throw new Error("Method not implemented.")},e}(h.Expression);e.Parentheses=ct;var lt=0,ft=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.index=lt,r.subexpression=r.model.subexpression.createRuntimeExpression(r),r}return r(e,t),e.prototype.upNextImpl=function(){this.index===lt?(this.sim.push(this.subexpression),this.index=1):(this.setEvalResult(this.subexpression.evalResult),this.sim.pop())},e.prototype.stepForwardImpl=function(){},e}(h.RuntimeExpression);e.RuntimeParentheses=ft;var pt={program:void 0,translationUnit:void 0,contextualScope:void 0},ht=function(t){function e(e,n){var r=t.call(this,pt)||this;return r.type=e,r.valueCategory=n,r}return r(e,t),e.prototype.createRuntimeExpression=function(t){throw new Error("Auxiliary expressions must never be instantiated at runtime.")},e.prototype.describeEvalResult=function(t){throw new Error("Auxiliary expressions have no description")},e}(h.Expression);function dt(t,e,n){var r=[],i=t.map(function(t){var n=[],i=t.type.paramTypes;return e.length!==i.length?n.push(a.CPPError.param.numParams(t.declaration)):e.forEach(function(e,r){if(e){var u=i[r];if(u.isReferenceType())o.referenceCompatible(e,u.refTo)||n.push(a.CPPError.param.paramReferenceType(t.declaration,e,u));else{var s=new ht(e,"prvalue"),c=l.standardConversion(s,u);o.sameType(c.type,u)||n.push(a.CPPError.param.paramType(t.declaration,e,u))}}}),0==n.length&&r.push(t),{candidate:t,notes:n}}),u=r[0]?r[0]:void 0;return{candidates:i,viable:r,selected:u}}e.AuxiliaryExpression=ht,e.overloadResolution=dt},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(5),a=n(9),u=n(1),s=r(n(24)),c=n(4),l=function(){function t(t,e,n){void 0===n&&(n=!0),this.rawValue=t,this.type=e,this._isValid=n}return Object.defineProperty(t.prototype,"isValid",{get:function(){return this._isValid&&this.type.isValueValid(this.rawValue)},enumerable:!0,configurable:!0}),t.prototype.clone=function(e){return void 0===e&&(e=this.rawValue),new t(e,this.type,this.isValid)},t.prototype.invalidated=function(){return new t(this.rawValue,this.type,!1)},t.prototype.equals=function(e){return new t(this.rawValue===e.rawValue?1:0,new u.Bool,this.isValid&&e.isValid)},t.prototype.rawEquals=function(t){return this.rawValue===t},t.prototype.combine=function(e,n){return i.assert(u.sameType(this.type,e.type)),new t(n(this.rawValue,e.rawValue),this.type,this.isValid&&e.isValid)},t.prototype.pointerOffset=function(e,n){return void 0===n&&(n=!1),new t(n?this.rawValue-this.type.ptrTo.size*e.rawValue:this.rawValue+this.type.ptrTo.size*e.rawValue,this.type,this.isValid&&e.isValid)},t.prototype.pointerDifference=function(e){return new t((this.rawValue-e.rawValue)/this.type.ptrTo.size,new u.Int,this.isValid&&e.isValid)},t.prototype.compare=function(e,n){return i.assert(u.sameType(this.type,e.type)),new t(n(this.rawValue,e.rawValue)?1:0,new u.Bool,this.isValid&&e.isValid)},t.prototype.modify=function(e){return new t(e(this.rawValue),this.type,this.isValid)},t.prototype.toString=function(){return this.valueString()},t.prototype.valueString=function(){return this.type.valueToString(this.rawValue)},t.prototype.valueToOstreamString=function(){return this.type.valueToOstreamString(this.rawValue)},t.prototype.setRawValue=function(t){this.rawValue=t,this.isValid=this.isValid&&this.type.isValueValid(this.rawValue)},t.prototype.describe=function(){return{message:this.valueString()}},t._name="Value",t}();e.Value=l;var f=function(){function t(t,e,n){this.observable=new o.Observable(this),this.capacity=t||1e4,this.staticCapacity=e||Math.floor(this.capacity/10),this.stackCapacity=n||Math.floor((this.capacity-this.staticCapacity)/2),this.heapCapacity=this.capacity-this.staticCapacity-this.stackCapacity,this.staticStart=0,this.staticEnd=this.staticStart+this.staticCapacity,this.stackStart=this.staticEnd,this.stackEnd=this.stackStart+this.stackCapacity,this.heapStart=this.stackEnd,this.heapEnd=this.heapStart+this.heapCapacity,this.temporaryStart=this.heapEnd+100,this.temporaryCapacity=1e4,this.temporaryEnd=this.temporaryStart+this.temporaryCapacity,i.assert(this.staticCapacity<this.capacity&&this.stackCapacity<this.capacity&&this.heapCapacity<this.capacity),i.assert(this.heapEnd==this.capacity),this.reset()}return t.prototype.reset=function(){this.bytes=new Array(this.capacity+this.temporaryCapacity);for(var t=0;t<this.capacity+this.temporaryCapacity;++t)this.bytes[t]=Math.floor(100*Math.random());this.objects={},this.stringLiteralMap={},this.staticTop=this.staticStart+4,this.staticObjects={},this.temporaryBottom=this.temporaryStart,this.stack=new p(this,this.staticEnd),this.heap=new h(this,this.heapEnd),this.temporaryObjects={},this.observable.send("reset")},t.prototype.getByte=function(t){return this.bytes[t]},t.prototype.readByte=function(t){return this.bytes[t]},t.prototype.getBytes=function(t,e){return this.bytes.slice(t,t+e)},t.prototype.readBytes=function(t,e){var n=t+e;return this.bytes.slice(t,n)},t.prototype.setByte=function(t,e){this.bytes[t]=e},t.prototype.writeByte=function(t,e){this.bytes[t]=e},t.prototype.setBytes=function(t,e){for(var n=0;n<e.length;++n)this.bytes[t+n]=e[n]},t.prototype.writeBytes=function(t,e){for(var n=0;n<e.length;++n)this.bytes[t+n]=e[n]},t.prototype.dereference=function(t){i.assert(t.type.isObjectPointer());var e=t.rawValue;if(t.type instanceof u.ArrayPointer)return t.type.arrayObject.getArrayElemSubobjectByAddress(e);if(t.type instanceof u.ObjectPointer&&t.type.isValueValid(e))return t.type.pointedObject;var n=this.objects[e];return n&&(u.similarType(n.type,t.type.ptrTo)||u.subType(n.type,t.type.ptrTo))?n:new a.InvalidObject(t.type,this,e)},t.prototype.allocateObject=function(t){this.objects[t.address]=t},t.prototype.killObject=function(t,e){var n=this.objects[t];n&&n.isAlive&&n.kill(e)},t.prototype.allocateStringLiteral=function(t){var e=t.str;if(!this.stringLiteralMap[e]){var n=t.objectInstance(this,this.staticTop);this.allocateObject(n),this.stringLiteralMap[e]=n,u.Char.jsStringToNullTerminatedCharArray(e).forEach(function(t,e){n.getArrayElemSubobject(e).setValue(new l(t,u.Char.CHAR))}),this.staticTop+=n.size}},t.prototype.getStringLiteral=function(t){return this.stringLiteralMap[t]},t.prototype.allocateStatic=function(t){var e=new a.StaticObject(t,t.declaredEntity.type,this,this.staticTop);this.allocateObject(e),this.staticTop+=e.size,this.staticObjects[t.declaredEntity.qualifiedName]=e},t.prototype.staticLookup=function(t){return this.staticObjects[t.qualifiedName]},t.prototype.allocateTemporaryObject=function(t){var e=new a.TemporaryObject(t.type,this,this.temporaryBottom,t.name);return this.allocateObject(e),this.temporaryBottom+=t.type.size,this.temporaryObjects[t.entityId]=e,this.observable.send("temporaryObjectAllocated",e),e},t.prototype.deallocateTemporaryObject=function(t,e){this.killObject(t.address,e),delete this.temporaryObjects[t.address],this.observable.send("temporaryObjectDeallocated",t)},t._name="Memory",t}();e.Memory=f;var p=function(){function t(t,e){this.observable=new o.Observable(this),this.memory=t,this.start=e,this.top=e,this.frames=[]}return t.prototype.topFrame=function(){return s.default(this.frames)},t.prototype.pushFrame=function(t){var e=new d(this.memory,this.top,t);return this.top+=e.size,this.frames.push(e),this.memory.observable.send("framePushed",e),e},t.prototype.popFrame=function(t){var e=this.frames.pop();if(!e)return i.assertFalse();e.pop(t),this.top-=e.size,this.memory.observable.send("framePopped",e)},t.prototype.toString=function(){for(var t='<ul class="stackFrames">',e=0;e<this.frames.length;++e){t+="<li>"+this.frames[e].toString()+"</li>"}return t+="</ul>"},t._name="MemoryStack",t}(),h=function(){function t(t,e){this.observable=new o.Observable(this),this.memory=t,this.end=e,this.bottom=e,this.objectMap={}}return t._name="MemoryHeap",t}(),d=function(){function t(t,e,n){var r=this;this.observable=new o.Observable(this),this.localObjectsByEntityId={},this.localReferencesByEntityId={},this.memory=t,this.start=e,this.func=n,this.size=0;var i=this.start;n.model.context.functionLocals.localObjects.forEach(function(e){if(e instanceof c.AutoEntity){var n=new a.AutoObject(e.definition,e.type,t,i);r.localObjectsByEntityId[e.entityId]=n,i+=n.size,r.size+=n.size}}),this.end=this.start+this.size}return t.prototype.toString=function(){var t="";for(var e in this.localObjectsByEntityId){t+="<span>"+this.localObjectsByEntityId[e]+"</span>\n"}return t},t.prototype.getLocalObject=function(t){return this.localObjectsByEntityId[t.entityId]},t.prototype.referenceLookup=function(t){return this.localReferencesByEntityId[t.entityId]||i.assertFalse("Attempt to look up referred object before reference was bound.")},t.prototype.bindReference=function(t,e){this.localReferencesByEntityId[t.entityId]=e},t.prototype.pop=function(t){for(var e in this.localObjectsByEntityId){var n=this.localObjectsByEntityId[e];this.memory.killObject(n.address,t)}},t._name="MemoryFrame",t}();e.MemoryFrame=d},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=function(t){function e(e){var n=t.call(this,e)||this;return n.conversionLength=0,n}return r(e,t),e.prototype.isWellTyped=function(){return!!this.type&&!!this.valueCategory},e.prototype.isTyped=function(t){return!!this.type&&this.type.isType(t)},e.prototype.isObjectTyped=function(){return!!this.type&&this.type.isObjectType()},e.prototype.isAtomicTyped=function(){return!!this.type&&this.type.isAtomicType()},e.prototype.isArithmeticTyped=function(){return!!this.type&&this.type.isArithmeticType()},e.prototype.isIntegralTyped=function(){return!!this.type&&this.type.isIntegralType()},e.prototype.isFloatingPointTyped=function(){return!!this.type&&this.type.isFloatingPointType()},e.prototype.isPointerTyped=function(){return!!this.type&&this.type.isPointerType()},e.prototype.isReferenceTyped=function(){return!!this.type&&this.type.isReferenceType()},e.prototype.isClassTyped=function(){return!!this.type&&this.type.isClassType()},e.prototype.isBoundedArrayTyped=function(){return!!this.type&&this.type.isBoundedArrayType()},e.prototype.isArrayOfUnknownBoundTyped=function(){return!!this.type&&this.type.isArrayOfUnknownBoundType()},e.prototype.isGenericArrayTyped=function(){return!!this.type&&this.type.isGenericArrayType()},e.prototype.isPrvalue=function(){return"prvalue"===this.valueCategory},e.prototype.isLvalue=function(){return"lvalue"===this.valueCategory},e.prototype.isTailChild=function(t){return{isTail:!1}},e}(i.PotentialFullExpression);e.Expression=o,e.allWellTyped=function(t){return t.every(function(t){return t.isWellTyped()})},e.allObjectTyped=function(t){return t.every(function(t){return t.isObjectTyped()})};var a=function(t){function e(e,n){return t.call(this,e,"expression",n)||this}return r(e,t),e.prototype.setEvalResult=function(t){this.evalResult=t},e}(i.RuntimePotentialFullExpression);e.RuntimeExpression=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(5),a=n(0),u=n(7),s=function(){return function(t,e,n){this.object=t,this.size=this.object.size,this.memory=e,this.address=n}}(),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.rawValue=function(){var t=this.memory.readBytes(this.address,this.size);return this.object.type.bytesToValue(t)},e.prototype.setRawValue=function(t,e){this.memory.writeBytes(this.address,this.object.type.valueToBytes(t))},e}(s),l=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this,o=i.address;i.elemObjects=[];for(var a=0;a<i.object.type.length;++a)i.elemObjects.push(new w(i.object,a,n,o)),o+=i.object.type.elemType.size;return i}return r(e,t),e.create=function(t,n,r){return new e(t,n,r)},e.prototype.getArrayElemSubobjectByAddress=function(t){var e=(t-this.address)/this.object.type.elemType.size;return this.getArrayElemSubobject(e)},e.prototype.getArrayElemSubobject=function(t){return 0<=t&&t<this.elemObjects.length?this.elemObjects[t]:new w(this.object,t,this.memory,this.address+t*this.object.type.elemType.size)},e}(s),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(s),p=function(){function t(t,e,n){this.observable=new o.Observable(this),this.type=t,this.size=t.size,a.assert(0!=this.size,"Size cannot be 0."),this.type instanceof i.BoundedArrayType?this.data=l.create(this,e,n):this.type instanceof i.ClassType?this.data=new f(this,e,n):this.data=new c(this,e,n),this.address=n,this.isAlive=!0,this._isValid=!1}return t.prototype.getArrayElemSubobject=function(t){return this.data.getArrayElemSubobject(t)},t.prototype.getArrayElemSubobjectByAddress=function(t){return this.data.getArrayElemSubobjectByAddress(t)},t.prototype.subobjectValueWritten=function(){this.observable.send("valueWritten")},t.prototype.toString=function(){return"@"+this.address},t.prototype.kill=function(t){this.isAlive=!1,this._isValid=!1,t&&(this.deallocatedBy=t),this.observable.send("deallocated")},t.prototype.getPointerTo=function(){return new u.Value(this.address,new i.ObjectPointer(this))},t.prototype.getValue=function(t){void 0===t&&(t=!1);var e=new u.Value(this.getRawValue(),this.type,this._isValid);return t&&this.observable.send("valueRead",e),e},t.prototype.getRawValue=function(){return this.data.rawValue()},t.prototype.readValue=function(){return this.getValue(!0)},t.prototype.setValue=function(t,e){void 0===e&&(e=!1),this._isValid=t.isValid,a.asMutable(this).type=t.type,this.data.setRawValue(t.rawValue,e),e&&this.observable.send("valueWritten",t),this.onValueSet(e)},t.prototype.onValueSet=function(t){},t.prototype.writeValue=function(t){this.setValue(t,!0)},t.prototype.isValueValid=function(){return this._isValid&&this.type.isValueValid(this.getRawValue())},t.prototype.callReceived=function(){this.observable.send("callReceived",this)},t.prototype.callEnded=function(){this.observable.send("callEnded",this)},t.prototype.setValidity=function(t){this._isValid=t,this.observable.send("validitySet",t)},t}();e.CPPObject=p;var h=function(t){function e(e,n,r,i){var o=t.call(this,n,r,i)||this;return o.def=e,o}return r(e,t),e.prototype.describe=function(){return this.def.declaredEntity.describe()},e}(p);e.AutoObject=h;var d=function(t){function e(e){return t.call(this,i.Int.INT,e,0)||this}return r(e,t),e.prototype.describe=function(){return{message:"The value returned from main."}},e}(p);e.MainReturnObject=d;var y=function(t){function e(e,n,r,i){var o=t.call(this,n,r,i)||this;return o.def=e,o}return r(e,t),e.prototype.describe=function(){return this.def.declaredEntity.describe()},e}(p);e.StaticObject=y;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.describe=function(){return{message:"the heap object at 0x"+this.address}},e}(p);e.DynamicObject=m;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.describe=function(){return{message:"an invalid object at 0x"+this.address}},e}(p);e.InvalidObject=v;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.describe=function(){return{name:"this",message:"the this pointer"}},e}(p);e.ThisObject=_;var b=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return r(e,t),e.prototype.describe=function(){return{message:"string literal at 0x"+this.address}},e}(p);e.StringLiteralObject=b;var g=function(t){function e(e,n,r,i){var o=t.call(this,n,r,i)||this;return o.containingObject=e,o}return r(e,t),Object.defineProperty(e.prototype,"isAlive",{get:function(){return this.containingObject.isAlive},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deallocatedBy",{get:function(){return this.containingObject.deallocatedBy},enumerable:!0,configurable:!0}),e.prototype.onValueSet=function(t){t&&this.containingObject.subobjectValueWritten()},e}(p),w=function(t){function e(e,n,r,i){var o=t.call(this,e,e.type.elemType,r,i)||this;return o.index=n,o}return r(e,t),e.prototype.getPointerTo=function(){return new u.Value(this.address,new i.ArrayPointer(this.containingObject))},e.prototype.describe=function(){var t=this.containingObject.describe(),e={message:"element "+this.index+" of "+t.message};return t.name&&(e.name=t.name+"["+this.index+"]"),e},e}(g);e.ArraySubobject=w;var R=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return r(e,t),e.prototype.describe=function(){return{message:"the "+this.type.name+" base of "+this.containingObject.describe().message}},e}(g);e.BaseSubobject=R;var T=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,i,o)||this;return a.name=r,a}return r(e,t),e.prototype.describe=function(){var t=this.containingObject.describe(),e={message:"the member "+this.name+" of "+t.message};return t.name&&(e.name=t.name+"."+this.name),e},e}(g);e.MemberSubobject=T;var x=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r)||this;return o.name=i,o}return r(e,t),e.prototype.nameString=function(){return"@"+this.address},e.prototype.describe=function(){return name?{name:this.name,message:"the temporary object "+this.name}:{message:"a temporary object"}},e}(p);e.TemporaryObject=x},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3);e.KEYWORDS=new Set(["alignas","continue","friend","register","true","alignof","decltype","goto","reinterpret_cast","try","asm","default","if","return","typedef","auto","delete","inline","short","typeid","bool","do","int","signed","typename","break","double","long","sizeof","union","case","dynamic_cast","mutable","static","unsigned","catch","else","namespace","static_assert","using","char","enum","new","static_cast","virtual","char16_t","explicit","noexcept","struct","void","char32_t","export","nullptr","switch","volatile","class","extern","operator","template","wchar_t","const","false","private","this","while","constexpr","float","protected","thread_local","const_cast","for","public","throw"]),e.ALT_OPS=new Set(["and","and_eq","bitand","bitor","compl","not","not_eq","or","or_eq","xor","xor_eq"]),e.checkIdentifier=function t(n,i,o){i.includes("::")?i.split("::").forEach(function(e){return t(n,e,o)}):(e.KEYWORDS.has(i)&&o.addNote(r.CPPError.iden.keyword(n,i)),e.ALT_OPS.has(i)&&o.addNote(r.CPPError.iden.alt_op(n,i)))},e.createFullyQualifiedName=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"::"+t.join("::")},e.fullyQualifiedNameToUnqualified=function(t){var e=t.lastIndexOf("::");return-1===e?t:t.slice(e+2)}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(6),a=n(7),u=n(0),s=function(t){function e(n,r,i){var o=t.call(this,n.context)||this;return o.attach(o.from=n),o.type=r,o.valueCategory=i,o.conversionLength=n instanceof e?n.conversionLength+1:1,o}return r(e,t),e.prototype.createRuntimeExpression=function(t){return new c(this,t)},e.prototype.describeEvalResult=function(t){throw new Error("Method not implemented.")},e}(n(8).Expression);e.ImplicitConversion=s;var c=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.from=r.model.from.createRuntimeExpression(r),r.setSubexpressions([r.from]),r}return r(e,t),e.prototype.operate=function(){this.setEvalResult(this.model.operate(this.from.evalResult))},e}(o.SimpleRuntimeExpression);e.RuntimeImplicitConversion=c;var l=function(t){function e(e){return t.call(this,e,e.type.cvUnqualified(),"prvalue")||this}return r(e,t),e.prototype.operate=function(t){return t.getValue()},e}(s);e.LValueToRValue=l;var f=function(t){function e(e){return t.call(this,e,e.type.adjustToPointerType(),"prvalue")||this}return r(e,t),e.prototype.operate=function(t){return new a.Value(t.address,new i.ArrayPointer(t))},e}(s);e.ArrayToPointer=f;var p=function(t){function e(e,n){return t.call(this,e,n.cvQualified(e.type.isConst,e.type.isVolatile),"prvalue")||this}return r(e,t),e}(s),h=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.operate=function(t){return new a.Value(t.rawValue,this.type)},e}(p),d=function(t){function e(e,n){var r=t.call(this,e,n)||this;return u.assert(0===e.value.rawValue),r}return r(e,t),e}(h);e.NullPointerConversion=d;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(h);e.PointerConversion=y;var m=function(t){function e(e){return t.call(this,e,i.Bool.BOOL)||this}return r(e,t),e}(h);e.PointerToBooleanConversion=m;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(h);e.IntegralPromotion=v;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(h);e.IntegralConversion=_;var b=function(t){function e(e){return t.call(this,e,i.Double.DOUBLE)||this}return r(e,t),e}(h);e.FloatingPointPromotion=b;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(h);e.FloatingPointConversion=g;var w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(h);e.IntegralToFloatingConversion=w;var R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.operate=function(t){return this.type.isType(i.Bool)?new a.Value(0===t.rawValue?0:1,i.Int.INT):new a.Value(Math.trunc(t.rawValue),i.Int.INT)},e}(p);e.FloatingToIntegralConversion=R;var T=function(t){function e(e,n){var r=t.call(this,e,n,"prvalue")||this;return u.assert(i.similarType(e.type,n)),r}return r(e,t),e.prototype.operate=function(t){return new a.Value(t.rawValue,this.type)},e}(s);function x(t){return t.isBoundedArrayTyped()?new f(t):t.isAtomicTyped()?t.isPrvalue()?t:new l(t):t}function E(t,e){if(i.similarType(t.type,e))return t;if(e.isPointerType()&&t instanceof o.NumericLiteral&&i.isType(t.type,i.Int)&&0===t.value.rawValue)return new d(t,e);if(e.isPointerType()&&e.ptrTo.isClassType()&&t.isPointerTyped()&&t.type.ptrTo.isClassType()&&i.subType(t.type.ptrTo,e.ptrTo))return new y(t,new i.PointerType(e.ptrTo.cvQualified(t.type.ptrTo.isConst,t.type.ptrTo.isVolatile)));if(e.isType(i.Bool)&&t.isPointerTyped())return new m(t);if(e.isType(i.Double)&&t.isTyped(i.Float))return new b(t);if(e.isIntegralType()){if(t.isIntegralTyped())return new _(t,e);if(t.isFloatingPointTyped())return new R(t,e)}if(e.isFloatingPointType()){if(t.isIntegralTyped())return new w(t,e);if(t.isFloatingPointTyped())return new g(t,e)}return t}function A(t,e){return i.sameType(t.type,e)?t:"prvalue"===t.valueCategory&&i.isCvConvertible(t.type,e)?new T(t,e):t}function C(t){return t.isIntegralTyped()&&!t.isTyped(i.Int)?new v(t,i.Int.INT):t}e.QualificationConversion=T,e.convertToPRValue=x,e.typeConversion=E,e.qualificationConversion=A,e.standardConversion=function(t,e,n){if(void 0===n&&(n={}),!t.isAtomicTyped()&&!t.isBoundedArrayTyped())return t;if(!e.isAtomicType())return t;if(!n.suppressLTR){var r=x(t);return r=A(r=E(r,e),e)}return t},e.integralPromotion=C,e.usualArithmeticConversions=function(t,e){var n=x(t),r=x(e);return n.isTyped(i.Double)?[n,r=E(r,i.Double.DOUBLE)]:r.isTyped(i.Double)?[n=E(n,i.Double.DOUBLE),r]:n.isTyped(i.Float)?[n,r=E(r,i.Float.FLOAT)]:r.isTyped(i.Float)?[n=E(n,i.Float.FLOAT),r]:(n.isIntegralTyped()&&(n=C(n)),r.isIntegralTyped()&&(r=C(r)),i.sameType(n.type,r.type),[n,r])}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(4),a=n(1),u=n(0),s=n(3),c=n(11),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isTailChild=function(t){return{isTail:!0}},e}(i.PotentialFullExpression);e.Initializer=l;var f=function(t){function e(e,n){return t.call(this,e,"initializer",n)||this}return r(e,t),e}(i.RuntimePotentialFullExpression);e.RuntimeInitializer=f;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.create=function(t,e){return e.bindTo?new d(t,e):e.type instanceof a.AtomicType?new y(t,e):e.type instanceof a.BoundedArrayType?new v(t,e):u.assertFalse()},e}(l);e.DefaultInitializer=p;var h=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e}(f);e.RuntimeDefaultInitializer=h;var d=function(t){function e(e,n){var r=t.call(this,e)||this;return r.target=n,r.addNote(s.CPPError.declaration.init.referenceBind(r)),r}return r(e,t),e.prototype.createRuntimeInitializer=function(t){return u.assertFalse("A default initializer for a reference is not allowed.")},e.prototype.explain=function(t,e){return u.assertFalse("A default initializer for a reference is not allowed.")},e}(p);e.ReferenceDefaultInitializer=d;var y=function(t){function e(e,n){var r=t.call(this,e)||this;return r.target=n,r}return r(e,t),e.prototype.createRuntimeInitializer=function(t){return new m(this,t)},e.prototype.explain=function(t,e){var n=this.target.describe();return{message:"No initialization will take place. "+(n.name||n.message)+" will have a junk value."}},e}(p);e.AtomicDefaultInitializer=y;var m=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.target=r.model.target.runtimeLookup(r),r}return r(e,t),e.prototype.upNextImpl=function(){this.observable.send("initialized",this.target),this.sim.pop()},e.prototype.stepForwardImpl=function(){},e}(h);e.RuntimeAtomicDefaultInitializer=m;var v=function(t){function e(e,n){var r=t.call(this,e)||this;r.target=n;var i=r.target.type;if(i.elemType instanceof a.AtomicType);else{r.elementInitializers=[];for(var u=0;u<i.length;++u){var c=p.create(e,new o.ArraySubobjectEntity(r.target,u));if(r.elementInitializers.push(c),r.attach(c),c.hasErrors){r.addNote(s.CPPError.declaration.init.array_default_init(r));break}}}return r}return r(e,t),e.prototype.createRuntimeInitializer=function(t){return new _(this,t)},e.prototype.explain=function(t,e){var n=this.target.describe(),r=this.target.type;return 0===r.length?{message:"No initialization is performed for "+(n.name||n.message)+"because the array has length 0."}:r.elemType instanceof a.AtomicType?{message:"No initialization will take place. The elements of "+(n.name||n.message)+" will have junk values."}:{message:"Each element of "+(n.name||n.message)+" will be default-initialized. For example, "+this.elementInitializers[0].explain(t,e)}},e}(p);e.ArrayDefaultInitializer=v;var _=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.index=0,r.target=r.model.target.runtimeLookup(r),r.model.elementInitializers&&(r.elementInitializers=r.model.elementInitializers.map(function(t){return t.createRuntimeInitializer(r)})),r}return r(e,t),e.prototype.upNextImpl=function(){this.elementInitializers&&this.index<this.elementInitializers.length?this.sim.push(this.elementInitializers[this.index++]):(this.observable.send("initialized",this.target),this.sim.pop())},e.prototype.stepForwardImpl=function(){},e}(h);e.RuntimeArrayDefaultInitializer=_;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.create=function(t,e,n){return e.bindTo?new w(t,e,n):e.type instanceof a.AtomicType?new T(t,e,n):u.assertFalse()},e}(l);e.DirectInitializer=b;var g=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e}(f);e.RuntimeDirectInitializer=g;var w=function(t){function e(e,n,r){var i=t.call(this,e)||this;if(i.target=n,i.args=r,r.forEach(function(t){i.attach(t)}),i.args.length>1)return i.addNote(s.CPPError.declaration.init.referenceBindMultiple(i)),i;if(i.arg=i.args[0],!i.arg.isWellTyped())return i;var o=n.type;return a.referenceCompatible(i.arg.type,o)?"prvalue"!==i.arg.valueCategory||o.isConst?"prvalue"===i.arg.valueCategory&&i.addNote(s.CPPError.lobster.referencePrvalue(i)):i.addNote(s.CPPError.declaration.init.referencePrvalueConst(i)):i.addNote(s.CPPError.declaration.init.referenceType(i,i.arg.type,o)),i}return r(e,t),e.prototype.createRuntimeInitializer=function(t){return new R(this,t)},e.prototype.explain=function(t,e){var n=this.target.describe(),r=this.args[0].describeEvalResult(0);return{message:(n.name||n.message)+" will be bound to "+(r.name||r.message)+"."}},e}(b);e.ReferenceDirectInitializer=w;var R=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.alreadyPushed=!1,r.arg=r.model.arg.createRuntimeExpression(r),r}return r(e,t),e.prototype.upNextImpl=function(){this.alreadyPushed||(this.sim.push(this.arg),this.alreadyPushed=!0)},e.prototype.stepForwardImpl=function(){var t=this.model.target.bindTo(this,this.arg.evalResult);this.observable.send("initialized",t),this.sim.pop()},e}(g);e.RuntimeReferenceDirectInitializer=R;var T=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.target=n;var o=n.type;if(i.args=r,r.forEach(function(t){i.attach(t)}),r.length>1)return i.addNote(s.CPPError.declaration.init.scalar_args(i,o)),i;if(i.arg=r[0],!i.arg.isWellTyped())return i;var u=c.standardConversion(i.arg,o);return i.arg=u,a.sameType(u.type,o)||i.addNote(s.CPPError.declaration.init.convert(i,u.type,o)),i}return r(e,t),e.prototype.createRuntimeInitializer=function(t){return new x(this,t)},e.prototype.explain=function(t,e){var n=this.target.runtimeLookup(e).describe(),r=this.args[0].describeEvalResult(0);return{message:(n.name||n.message)+" will be initialized with "+(r.name||r.message)+"."}},e}(b);e.AtomicDirectInitializer=T;var x=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.alreadyPushed=!1,r.target=r.model.target.runtimeLookup(r),r.arg=r.model.arg.createRuntimeExpression(r),r}return r(e,t),e.prototype.upNextImpl=function(){this.alreadyPushed||(this.sim.push(this.arg),this.alreadyPushed=!0)},e.prototype.stepForwardImpl=function(){this.target.writeValue(this.arg.evalResult),this.observable.send("initialized",this.target),this.sim.pop()},e}(g);e.RuntimeAtomicDirectInitializer=x;var E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(b);e.CopyInitializer=E;var A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(g);e.RuntimeCopyInitializer=A;var C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(w);e.ReferenceCopyInitializer=C;var O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(R);e.RuntimeReferenceCopyInitializer=O;var S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(T);e.AtomicCopyInitializer=S;var P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(x);e.RuntimeAtomicCopyInitializer=P},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(3),a=n(0),u=n(1),s=n(12),c=n(4),l=n(6),f=n(19),p=n(10),h=function(t){function e(e,n){var r=t.call(this,e)||this,i=0;return n.forEach(function(t){r[t]?r.addNote(o.CPPError.declaration.storage.once(r,t)):(a.asMutable(r)[t]=!0,++i)}),r.static&&r.addNote(o.CPPError.lobster.unsupported_feature(r,"static")),r.extern&&r.addNote(o.CPPError.lobster.unsupported_feature(r,"extern")),r.thread_local&&r.addNote(o.CPPError.lobster.unsupported_feature(r,"thread_local")),r.register&&r.addNote(o.CPPError.lobster.unsupported_feature(r,"register")),r.mutable&&r.addNote(o.CPPError.lobster.unsupported_feature(r,"mutable")),i<2||2==i&&r.thread_local&&(r.static||r.extern)||r.addNote(o.CPPError.declaration.storage.incompatible(r,n)),r.isEmpty=0===i,r}return r(e,t),e.createFromAST=function(t,n){return new e(n,t)},e}(i.BasicCPPConstruct);e.StorageSpecifier=h;var d=function(t){function e(e,n){var r=t.call(this,e)||this;return n.forEach(function(t){if("enum"===t)return a.asMutable(r).enum=!0,void r.addNote(o.CPPError.lobster.unsupported_feature(r,"mutable"));var e=["const","volatile","signed","unsigned","enum"].find(function(e){return e===t});e?r[e]?r.addNote(o.CPPError.declaration.typeSpecifier.once(r,e)):a.asMutable(r)[e]=!0:r.typeName?r.addNote(o.CPPError.declaration.typeSpecifier.one_type(r,[r.typeName,t])):a.asMutable(r).typeName=t}),r.unsigned&&r.signed&&r.addNote(o.CPPError.declaration.typeSpecifier.signed_unsigned(r)),!r.unsigned&&!r.signed||r.typeName||(r.typeName="int"),r.typeName?u.isBuiltInTypeName(r.typeName)?(a.asMutable(r).type=new u.builtInTypes[r.typeName](r.const,r.volatile),r):(r.addNote(o.CPPError.type.typeNotFound(r,r.typeName)),r):(r.addNote(o.CPPError.declaration.func.no_return_type(r)),r)}return r(e,t),e.createFromAST=function(t,n){return new e(n,t)},e}(i.BasicCPPConstruct);function y(t,e){var n=d.createFromAST(t.specs.typeSpecs,e),r=n.type,o=h.createFromAST(t.specs.storageSpecs,e);return t.declarators.map(function(a){var u,s=C.createFromAST(a,e,r),c=s.type;if(c)if(t.specs.friend)u=new g(e,n,o,s,t.specs);else if(t.specs.typedef)u=new b(e,n,o,s,t.specs);else if(c.isVoidType())u=new _(e,n,o,s,t.specs);else if(c.isFunctionType())u=new R(e,n,o,s,t.specs,c);else if(c.isArrayOfUnknownBoundType())u=new w(e,n,o,s,t.specs,c);else{var f=void 0;u=f=i.isBlockContext(e)?new x(e,n,o,s,t.specs,c):new E(e,n,o,s,t.specs,c);var p=a.initializer;p?"direct_initializer"==p.construct_type?f.setDirectInitializer(p.args.map(function(t){return l.createExpressionFromAST(t,e)})):"copy_initializer"==p.construct_type&&f.setCopyInitializer(p.args.map(function(t){return l.createExpressionFromAST(t,e)})):f.setDefaultInitializer()}else u=new v(e,n,o,s,t.specs);return u.setAST(t),u})}e.TypeSpecifier=d,e.createDeclarationFromAST=function(t,e){return"simple_declaration"===t.construct_type?y(t,e):S.createFromAST(t,e)},e.createSimpleDeclarationFromAST=y;var m=function(t){function e(e,n,r,i,u){var s=t.call(this,e)||this;return s.typeSpecifier=n,s.storageSpecifier=r,s.otherSpecifiers=u,s.declarator=i,s.name=i.name,i.name?(u.virtual&&s.addNote(o.CPPError.declaration.virtual_prohibited(s)),s):a.assertFalse("Simple declarations must have a name.")}return r(e,t),e}(i.BasicCPPConstruct);e.SimpleDeclaration=m;var v=function(t){function e(e,n,r,i,a){var u=t.call(this,e,n,r,i,a)||this;return u.initializerAllowed=!0,u.isDefinition=!1,u.addNote(o.CPPError.declaration.unknown_type(u)),u}return r(e,t),e}(m);e.UnknownTypeDeclaration=v;var _=function(t){function e(e,n,r,i,a){var s=t.call(this,e,n,r,i,a)||this;return s.initializerAllowed=!0,s.isDefinition=!1,s.type=u.VoidType.VOID,s.addNote(o.CPPError.declaration.void_prohibited(s)),s}return r(e,t),e}(m);e.VoidDeclaration=_;var b=function(t){function e(e,n,r,i,a){var u=t.call(this,e,n,r,i,a)||this;return u.initializerAllowed=!1,u.isDefinition=!1,u.addNote(o.CPPError.lobster.unsupported_feature(u,"typedef")),u}return r(e,t),e}(m);e.TypedefDeclaration=b;var g=function(t){function e(e,n,r,i,a){var u=t.call(this,e,n,r,i,a)||this;return u.initializerAllowed=!1,u.isDefinition=!1,u.addNote(o.CPPError.lobster.unsupported_feature(u,"friend")),a.virtual&&u.addNote(o.CPPError.declaration.friend.virtual_prohibited(u)),u}return r(e,t),e}(m);e.FriendDeclaration=g;var w=function(t){function e(e,n,r,i,a,u){var s=t.call(this,e,n,r,i,a)||this;return s.initializerAllowed=!0,s.isDefinition=!1,s.type=u,s.addNote(o.CPPError.declaration.array.length_required(s)),s}return r(e,t),e}(m);e.UnknownBoundArrayDeclaration=w;var R=function(t){function e(e,n,r,i,u,s){var l=t.call(this,e,n,r,i,u)||this;l.initializerAllowed=!1,l.isDefinition=!1,l.type=s,l.declaredEntity=new c.FunctionEntity(s,l),a.assert(!!l.declarator.parameters,"The declarator for a function declaration must contain declarators for its parameters as well."),l.parameterDeclarators=l.declarator.parameters,l.declaredEntity.isMain()&&l.type.paramTypes.length>0&&l.addNote(o.CPPError.declaration.func.mainParams(l.declarator));try{l.context.contextualScope.addDeclaredEntity(l.declaredEntity)}catch(t){if(!(t instanceof o.Note))throw t;l.addNote(t)}return l.context.contextualScope instanceof c.NamespaceScope&&l.context.translationUnit.program.registerLinkedEntity(l.declaredEntity),l}return r(e,t),e}(m);e.FunctionDeclaration=R;var T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.setInitializer=function(t){return a.assert(!this.initializer),this.initializer=t,this},e.prototype.setDefaultInitializer=function(){return this.setInitializer(s.DefaultInitializer.create(this.context,this.declaredEntity))},e.prototype.setDirectInitializer=function(t){return this.setInitializer(s.DirectInitializer.create(this.context,this.declaredEntity,t))},e.prototype.setCopyInitializer=function(t){return this.setInitializer(s.CopyInitializer.create(this.context,this.declaredEntity,t))},e.prototype.setInitializerList=function(t){return this.addNote(o.CPPError.lobster.unsupported_feature(this,"initializer lists")),this},e}(m);e.VariableDefinition=T;var x=function(t){function e(e,n,r,i,a,u){var s=t.call(this,e,n,r,i,a)||this;s.initializerAllowed=!0,s.isDefinition=!0,s.type=u,s.declaredEntity=u.isReferenceType()?new c.LocalReferenceEntity(u.refTo,s):new c.AutoEntity(u,s);try{s.context.contextualScope.addDeclaredEntity(s.declaredEntity),s.context.functionLocals.registerLocalVariable(s.declaredEntity)}catch(t){if(!(t instanceof o.Note))throw t;s.addNote(t)}return s}return r(e,t),e}(T);e.LocalVariableDefinition=x;var E=function(t){function e(e,n,r,i,a,u){var s=t.call(this,e,n,r,i,a)||this;if(s.kind="GlobalObjectDefinition",s.initializerAllowed=!0,s.isDefinition=!0,s.type=u,u.isReferenceType())return s.addNote(o.CPPError.lobster.unsupported_feature(s,"globally scoped references")),s;s.declaredEntity=new c.StaticEntity(u,s);try{s.context.contextualScope.addDeclaredEntity(s.declaredEntity)}catch(t){if(!(t instanceof o.Note))throw t;s.addNote(t)}return s.context.translationUnit.program.registerGlobalObjectDefinition(s.declaredEntity.qualifiedName,s),s}return r(e,t),e}(T);e.GlobalObjectDefinition=E;var A=function(t){function e(e,n,r,i,a,u){var s=t.call(this,e,n,r,i,a)||this;s.initializerAllowed=!0,s.isDefinition=!0,s.type=u,s.declaredEntity=s.type.isReferenceType()?new c.LocalReferenceEntity(s.type.refTo,s,!0):new c.AutoEntity(s.type,s,!0);try{s.context.contextualScope.addDeclaredEntity(s.declaredEntity),e.functionLocals.registerLocalVariable(s.declaredEntity)}catch(t){if(!(t instanceof o.Note))throw t;s.addNote(t)}return s}return r(e,t),e}(m);e.ParameterDefinition=A;var C=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.setAST(n),i.baseType=r,n.pureVirtual&&(i.isPureVirtual=!0),i.determineNameAndType(n),i}return r(e,t),e.createFromAST=function(t,n,r){return new e(n,t,r)},e.prototype.determineNameAndType=function(t){var n=this;if(this.baseType){for(var r=this.baseType,i=t;i;){for(var a=i;a.sub;)a=a.sub;var s=!(a.pointer||a.reference||a.sub);if(i.name&&(this.name=i.name.identifier,p.checkIdentifier(this,i.name.identifier,this)),i.postfixes)for(var c=s,f=i.postfixes.length-1;f>=0;--f){var y=i.postfixes[f];if(s=c&&0===f,"array"===y.kind){if(r.isBoundedArrayType())return void this.addNote(o.CPPError.declaration.array.multidimensional_arrays_unsupported(this));if(!r.isArrayElemType())return void this.addNote(o.CPPError.declaration.array.invalid_element_type(this,r));r=y.size?"numeric_literal"===y.size.construct_type?new u.BoundedArrayType(r,l.parseNumericLiteralValueFromAST(y.size)):new u.ArrayOfUnknownBoundType(r,y.size):new u.ArrayOfUnknownBoundType(r)}else if("function"===y.kind){if(!r.isPotentialReturnType())return void(r.isFunctionType()?this.addNote(o.CPPError.declaration.func.return_func(this)):r.isBoundedArrayType()?this.addNote(o.CPPError.declaration.func.return_array(this)):this.addNote(o.CPPError.declaration.func.invalid_return_type(this,r)));var m=y.args.map(function(t){var r=h.createFromAST(t.specs.storageSpecs,n.context);n.attach(r),r.isEmpty||r.addNote(o.CPPError.declaration.parameter.storage_prohibited(n));var i=d.createFromAST(t.specs.typeSpecs,n.context);return n.attach(i),e.createFromAST(t.declarator,n.context,i.type)});this.parameters=m;var v=m.map(function(t){return t.type&&t.type.isBoundedArrayType()?t.type.adjustToPointerType():t.type});if(1==v.length&&v[0]&&v[0].isVoidType())v=[];else for(var _=0;_<v.length;++_){var b=v[_];b&&b.isVoidType()&&this.addNote(o.CPPError.declaration.func.void_param(m[_]))}v.every(function(t){return t&&t.isPotentialParameterType()})||this.addNote(o.CPPError.declaration.func.some_invalid_parameter_types(this)),r=new u.FunctionType(r,v,i.const,i.volatile,this.context.containingClass&&this.context.containingClass.cvQualified(!!y.const))}!1}if(i.pointer){if(!r.isObjectType())return void(r.isReferenceType()?this.addNote(o.CPPError.declaration.pointer.reference(this)):r.isVoidType()?this.addNote(o.CPPError.declaration.pointer.void(this)):this.addNote(o.CPPError.declaration.pointer.invalid_pointed_type(this,r)));r=new u.PointerType(r,i.const,i.volatile),i=i.pointer}else if(i.reference){if(!r.isObjectType())return void(r.isReferenceType()?this.addNote(o.CPPError.declaration.ref.ref(this)):this.addNote(o.CPPError.declaration.ref.invalid_referred_type(this,r)));r=new u.ReferenceType(r,i.const,i.volatile),i=i.reference}else{if(!i.hasOwnProperty("sub"))break;i=i.sub}!1}this.type=r,r.isFunctionType()||delete this.parameters}},e}(i.BasicCPPConstruct);e.Declarator=C;var O={};["new[]","delete[]","new","delete","->*",">>=","<<=","+=","-=","*=",",=","%=","^=","&=","|=","<<",">>","==","!=","<=",">=","&&","||","++","--","->","()","[]","+","-","*","/","%","^","&","|","~","!","=","<",">",","].forEach(function(t){O["operator"+t]=!0});var S=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.kind="FunctionDefinition",o.attach(o.declaration=n),o.attachAll(o.parameters=r),o.attach(o.body=i),o.context.translationUnit.program.registerFunctionDefinition(o.declaration.declaredEntity.qualifiedName,o),o}return r(e,t),e.createFromAST=function(t,n){var r=y({construct_type:"simple_declaration",declarators:[t.declarator],specs:t.specs,source:t.declarator.source},n)[0];if(!(r instanceof R))return new i.InvalidConstruct(n,o.CPPError.declaration.func.definition_non_function_type);var a=i.createFunctionContext(n,r.declaredEntity),u=new f.Block(a),s=u.blockContext,c=r.parameterDeclarators.map(function(t){return new A(s,d.createFromAST([],s),h.createFromAST([],s),t,{},t.type)});return t.body.statements.forEach(function(t){return u.addStatement(f.createStatementFromAST(t,s))}),new e(a,r,c,u)},e.prototype.createRuntimeFunction=function(t,e){return new i.RuntimeFunction(this,t,e)},e}(i.BasicCPPConstruct);e.FunctionDefinition=S},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(42),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){var r=n(16).Symbol;t.exports=r},function(t,e){t.exports=function(t){return t}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(3),a=n(6),u=n(13),s=n(12),c=n(1),l=n(4),f=n(0),p={labeled_statement:function(t,e){return new m(e,"labeled statement").setAST(t)},compound_statement:function(t,e){return A.createFromAST(t,e)},selection_statement:function(t,e){return new m(e,"selection statement").setAST(t)},while_statement:function(t,e){return new m(e,"while loop").setAST(t)},dowhile_statement:function(t,e){return new m(e,"do-while loop").setAST(t)},for_statement:function(t,e){return new m(e,"for loop").setAST(t)},break_statement:function(t,e){return new m(e,"break statement").setAST(t)},continue_statement:function(t,e){return new m(e,"continue statement").setAST(t)},return_statement:function(t,e){return x.createFromAST(t,e)},declaration_statement:function(t,e){return w.createFromAST(t,e)},expression_statement:function(t,e){return v.createFromAST(t,e)},null_statement:function(t,e){return new b(e).setAST(t)}};function h(t,e){return p[t.construct_type](t,e)}e.createStatementFromAST=h;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(i.BasicCPPConstruct);e.Statement=d;var y=function(t){function e(e,n){var r=t.call(this,e,"statement",n)||this;return n instanceof i.RuntimeFunction?r.containingRuntimeFunction=n:r.containingRuntimeFunction=n.containingRuntimeFunction,r}return r(e,t),e.prototype.popped=function(){t.prototype.popped.call(this),this.observable.send("reset")},e}(i.RuntimeConstruct);e.RuntimeStatement=y;var m=function(t){function e(e,n){var r=t.call(this,e)||this;return r.addNote(o.CPPError.lobster.unsupported_feature(r,n)),r}return r(e,t),e.prototype.createRuntimeStatement=function(t){throw new Error("Cannot create a runtime instance of an unsupported construct.")},e}(d);e.UnsupportedStatement=m;var v=function(t){function e(e,n){var r=t.call(this,e)||this;return r.attach(r.expression=n),r}return r(e,t),e.createFromAST=function(t,n){return new e(n,a.createExpressionFromAST(t.expression,n)).setAST(t)},e.prototype.createRuntimeStatement=function(t){return new _(this,t)},e.prototype.isTailChild=function(t){return{isTail:!0}},e}(d);e.ExpressionStatement=v;var _=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.index="expr",r.expression=r.model.expression.createRuntimeExpression(r),r}return r(e,t),e.prototype.upNextImpl=function(){return"expr"===this.index&&(this.sim.push(this.expression),this.index="done"),!0},e.prototype.stepForwardImpl=function(){return this.sim.pop(),!1},e}(y);e.RuntimeExpressionStatement=_;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.createRuntimeStatement=function(t){return new g(this,t)},e.prototype.isTailChild=function(t){return{isTail:!0}},e}(d);e.NullStatement=b;var g=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.upNextImpl=function(){return!1},e.prototype.stepForwardImpl=function(){return!1},e}(y);e.RuntimeNullStatement=g;var w=function(t){function e(e,n){var r=t.call(this,e)||this;return n instanceof u.FunctionDefinition?(r.addNote(o.CPPError.stmt.function_definition_prohibited(r)),r.attach(r.declarations=n),r):(r.attachAll(r.declarations=n),r)}return r(e,t),e.createFromAST=function(t,n){return new e(n,u.createDeclarationFromAST(t.declaration,n)).setAST(t)},e.prototype.createRuntimeStatement=function(t){return new R(this,t)},e.prototype.isTailChild=function(t){return{isTail:!0}},e}(d);e.DeclarationStatement=w;var R=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.index=0,r}return r(e,t),e.prototype.upNextImpl=function(){var t=this.model.declarations.map(function(t){return t.initializer});if(this.index<t.length){var e=t[this.index];if(e){this.observable.send("initializing",this.index);var n=e.createRuntimeInitializer(this);this.sim.push(n)}++this.index,this.wait()}else this.sim.pop()},e.prototype.stepForwardImpl=function(){return!1},e}(y);e.RuntimeDeclarationStatement=R;var T,x=function(t){function e(e,n){var r=t.call(this,e)||this;r.expression=n;var i=r.context.containingFunction.type.returnType;return i instanceof c.VoidType?(n&&r.addNote(o.CPPError.stmt.returnStatement.exprVoid(r)),r):n?(i instanceof c.ReferenceType?r.returnInitializer=s.DirectInitializer.create(e,new l.ReturnByReferenceEntity(i.refTo),[n]):r.returnInitializer=s.DirectInitializer.create(e,new l.ReturnObjectEntity(i),[n]),r.attach(r.returnInitializer),r):(r.addNote(o.CPPError.stmt.returnStatement.empty(r)),r)}return r(e,t),e.createFromAST=function(t,n){return t.expression?new e(n,a.createExpressionFromAST(t.expression,n)).setAST(t):new e(n).setAST(t)},e.prototype.createRuntimeStatement=function(t){return new E(this,t)},e}(d);e.ReturnStatement=x,function(t){t[t.PUSH_INITIALIZER=0]="PUSH_INITIALIZER",t[t.RETURN=1]="RETURN"}(T||(T={}));var E=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.index=T.PUSH_INITIALIZER,e.returnInitializer&&(r.returnInitializer=e.returnInitializer.createRuntimeInitializer(r)),r}return r(e,t),e.prototype.upNextImpl=function(){this.index===T.PUSH_INITIALIZER&&(this.returnInitializer&&this.sim.push(this.returnInitializer),this.index=T.RETURN)},e.prototype.stepForwardImpl=function(){if(this.index===T.RETURN){var t=this.containingRuntimeFunction;this.observable.send("returned",{call:t.caller}),this.sim.popUntil(t)}},e}(y);e.RuntimeReturnStatement=E;var A=function(t){function e(e){var n=t.call(this,e)||this;return n.statements=[],n.blockContext=function(t){return Object.assign({},t,{contextualScope:new l.BlockScope(t.contextualScope),localObjects:[],localReferences:[]})}(e),n}return r(e,t),e.createFromAST=function(t,n){var r=new e(n).setAST(t);return t.statements.forEach(function(t){return r.addStatement(h(t,n))}),r},e.prototype.addStatement=function(t){f.asMutable(this.statements).push(t),this.attach(t)},e.prototype.createRuntimeStatement=function(t){return new C(this,t)},e}(d);e.Block=A;var C=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.index=0,r.statements=e.statements.map(function(t){return t.createRuntimeStatement(r)}),r}return r(e,t),e.prototype.upNextImpl=function(){this.index<this.statements.length?(this.observable.send("index",this.index),this.sim.push(this.statements[this.index++])):this.sim.pop()},e.prototype.stepForwardImpl=function(){},e}(y);e.RuntimeBlock=C},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){(function(t,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o,a=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",c="__lodash_hash_undefined__",l=500,f="__lodash_placeholder__",p=1,h=2,d=4,y=1,m=2,v=1,_=2,b=4,g=8,w=16,R=32,T=64,x=128,E=256,A=512,C=30,O="...",S=800,P=16,j=1,I=2,F=1/0,N=9007199254740991,k=1.7976931348623157e308,z=NaN,V=4294967295,L=V-1,B=V>>>1,D=[["ary",x],["bind",v],["bindKey",_],["curry",g],["curryRight",w],["flip",A],["partial",R],["partialRight",T],["rearg",E]],M="[object Arguments]",U="[object Array]",W="[object AsyncFunction]",q="[object Boolean]",$="[object Date]",G="[object DOMException]",H="[object Error]",Q="[object Function]",Z="[object GeneratorFunction]",K="[object Map]",Y="[object Number]",X="[object Null]",J="[object Object]",tt="[object Proxy]",et="[object RegExp]",nt="[object Set]",rt="[object String]",it="[object Symbol]",ot="[object Undefined]",at="[object WeakMap]",ut="[object WeakSet]",st="[object ArrayBuffer]",ct="[object DataView]",lt="[object Float32Array]",ft="[object Float64Array]",pt="[object Int8Array]",ht="[object Int16Array]",dt="[object Int32Array]",yt="[object Uint8Array]",mt="[object Uint8ClampedArray]",vt="[object Uint16Array]",_t="[object Uint32Array]",bt=/\b__p \+= '';/g,gt=/\b(__p \+=) '' \+/g,wt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Rt=/&(?:amp|lt|gt|quot|#39);/g,Tt=/[&<>"']/g,xt=RegExp(Rt.source),Et=RegExp(Tt.source),At=/<%-([\s\S]+?)%>/g,Ct=/<%([\s\S]+?)%>/g,Ot=/<%=([\s\S]+?)%>/g,St=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pt=/^\w*$/,jt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,It=/[\\^$.*+?()[\]{}|]/g,Ft=RegExp(It.source),Nt=/^\s+|\s+$/g,kt=/^\s+/,zt=/\s+$/,Vt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Lt=/\{\n\/\* \[wrapped with (.+)\] \*/,Bt=/,? & /,Dt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Mt=/\\(\\)?/g,Ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Wt=/\w*$/,qt=/^[-+]0x[0-9a-f]+$/i,$t=/^0b[01]+$/i,Gt=/^\[object .+?Constructor\]$/,Ht=/^0o[0-7]+$/i,Qt=/^(?:0|[1-9]\d*)$/,Zt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kt=/($^)/,Yt=/['\n\r\u2028\u2029\\]/g,Xt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Jt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",te="[\\ud800-\\udfff]",ee="["+Jt+"]",ne="["+Xt+"]",re="\\d+",ie="[\\u2700-\\u27bf]",oe="[a-z\\xdf-\\xf6\\xf8-\\xff]",ae="[^\\ud800-\\udfff"+Jt+re+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ue="\\ud83c[\\udffb-\\udfff]",se="[^\\ud800-\\udfff]",ce="(?:\\ud83c[\\udde6-\\uddff]){2}",le="[\\ud800-\\udbff][\\udc00-\\udfff]",fe="[A-Z\\xc0-\\xd6\\xd8-\\xde]",pe="(?:"+oe+"|"+ae+")",he="(?:"+fe+"|"+ae+")",de="(?:"+ne+"|"+ue+")"+"?",ye="[\\ufe0e\\ufe0f]?"+de+("(?:\\u200d(?:"+[se,ce,le].join("|")+")[\\ufe0e\\ufe0f]?"+de+")*"),me="(?:"+[ie,ce,le].join("|")+")"+ye,ve="(?:"+[se+ne+"?",ne,ce,le,te].join("|")+")",_e=RegExp("[']","g"),be=RegExp(ne,"g"),ge=RegExp(ue+"(?="+ue+")|"+ve+ye,"g"),we=RegExp([fe+"?"+oe+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[ee,fe,"$"].join("|")+")",he+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[ee,fe+pe,"$"].join("|")+")",fe+"?"+pe+"+(?:['](?:d|ll|m|re|s|t|ve))?",fe+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",re,me].join("|"),"g"),Re=RegExp("[\\u200d\\ud800-\\udfff"+Xt+"\\ufe0e\\ufe0f]"),Te=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ee=-1,Ae={};Ae[lt]=Ae[ft]=Ae[pt]=Ae[ht]=Ae[dt]=Ae[yt]=Ae[mt]=Ae[vt]=Ae[_t]=!0,Ae[M]=Ae[U]=Ae[st]=Ae[q]=Ae[ct]=Ae[$]=Ae[H]=Ae[Q]=Ae[K]=Ae[Y]=Ae[J]=Ae[et]=Ae[nt]=Ae[rt]=Ae[at]=!1;var Ce={};Ce[M]=Ce[U]=Ce[st]=Ce[ct]=Ce[q]=Ce[$]=Ce[lt]=Ce[ft]=Ce[pt]=Ce[ht]=Ce[dt]=Ce[K]=Ce[Y]=Ce[J]=Ce[et]=Ce[nt]=Ce[rt]=Ce[it]=Ce[yt]=Ce[mt]=Ce[vt]=Ce[_t]=!0,Ce[H]=Ce[Q]=Ce[at]=!1;var Oe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Se=parseFloat,Pe=parseInt,je="object"==typeof t&&t&&t.Object===Object&&t,Ie="object"==typeof self&&self&&self.Object===Object&&self,Fe=je||Ie||Function("return this")(),Ne="object"==typeof e&&e&&!e.nodeType&&e,ke=Ne&&"object"==typeof r&&r&&!r.nodeType&&r,ze=ke&&ke.exports===Ne,Ve=ze&&je.process,Le=function(){try{var t=ke&&ke.require&&ke.require("util").types;return t||Ve&&Ve.binding&&Ve.binding("util")}catch(t){}}(),Be=Le&&Le.isArrayBuffer,De=Le&&Le.isDate,Me=Le&&Le.isMap,Ue=Le&&Le.isRegExp,We=Le&&Le.isSet,qe=Le&&Le.isTypedArray;function $e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ge(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function He(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Qe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ze(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Ke(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Ye(t,e){return!!(null==t?0:t.length)&&sn(t,e,0)>-1}function Xe(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Je(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function tn(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function en(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function nn(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function rn(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var on=pn("length");function an(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function un(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function sn(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):un(t,ln,n)}function cn(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function ln(t){return t!=t}function fn(t,e){var n=null==t?0:t.length;return n?yn(t,e)/n:z}function pn(t){return function(e){return null==e?o:e[t]}}function hn(t){return function(e){return null==t?o:t[e]}}function dn(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function yn(t,e){for(var n,r=-1,i=t.length;++r<i;){var a=e(t[r]);a!==o&&(n=n===o?a:n+a)}return n}function mn(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function vn(t){return function(e){return t(e)}}function _n(t,e){return Je(e,function(e){return t[e]})}function bn(t,e){return t.has(e)}function gn(t,e){for(var n=-1,r=t.length;++n<r&&sn(e,t[n],0)>-1;);return n}function wn(t,e){for(var n=t.length;n--&&sn(e,t[n],0)>-1;);return n}var Rn=hn({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Tn=hn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function xn(t){return"\\"+Oe[t]}function En(t){return Re.test(t)}function An(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function Cn(t,e){return function(n){return t(e(n))}}function On(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==f||(t[n]=f,o[i++]=n)}return o}function Sn(t,e){return"__proto__"==e?o:t[e]}function Pn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function jn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function In(t){return En(t)?function(t){var e=ge.lastIndex=0;for(;ge.test(t);)++e;return e}(t):on(t)}function Fn(t){return En(t)?function(t){return t.match(ge)||[]}(t):function(t){return t.split("")}(t)}var Nn=hn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var kn=function t(e){var n=(e=null==e?Fe:kn.defaults(Fe.Object(),e,kn.pick(Fe,xe))).Array,r=e.Date,i=e.Error,Xt=e.Function,Jt=e.Math,te=e.Object,ee=e.RegExp,ne=e.String,re=e.TypeError,ie=n.prototype,oe=Xt.prototype,ae=te.prototype,ue=e["__core-js_shared__"],se=oe.toString,ce=ae.hasOwnProperty,le=0,fe=function(){var t=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),pe=ae.toString,he=se.call(te),de=Fe._,ye=ee("^"+se.call(ce).replace(It,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),me=ze?e.Buffer:o,ve=e.Symbol,ge=e.Uint8Array,Re=me?me.allocUnsafe:o,Oe=Cn(te.getPrototypeOf,te),je=te.create,Ie=ae.propertyIsEnumerable,Ne=ie.splice,ke=ve?ve.isConcatSpreadable:o,Ve=ve?ve.iterator:o,Le=ve?ve.toStringTag:o,on=function(){try{var t=Bo(te,"defineProperty");return t({},"",{}),t}catch(t){}}(),hn=e.clearTimeout!==Fe.clearTimeout&&e.clearTimeout,zn=r&&r.now!==Fe.Date.now&&r.now,Vn=e.setTimeout!==Fe.setTimeout&&e.setTimeout,Ln=Jt.ceil,Bn=Jt.floor,Dn=te.getOwnPropertySymbols,Mn=me?me.isBuffer:o,Un=e.isFinite,Wn=ie.join,qn=Cn(te.keys,te),$n=Jt.max,Gn=Jt.min,Hn=r.now,Qn=e.parseInt,Zn=Jt.random,Kn=ie.reverse,Yn=Bo(e,"DataView"),Xn=Bo(e,"Map"),Jn=Bo(e,"Promise"),tr=Bo(e,"Set"),er=Bo(e,"WeakMap"),nr=Bo(te,"create"),rr=er&&new er,ir={},or=la(Yn),ar=la(Xn),ur=la(Jn),sr=la(tr),cr=la(er),lr=ve?ve.prototype:o,fr=lr?lr.valueOf:o,pr=lr?lr.toString:o;function hr(t){if(Cu(t)&&!mu(t)&&!(t instanceof vr)){if(t instanceof mr)return t;if(ce.call(t,"__wrapped__"))return fa(t)}return new mr(t)}var dr=function(){function t(){}return function(e){if(!Au(e))return{};if(je)return je(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function yr(){}function mr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function vr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=V,this.__views__=[]}function _r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function br(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function gr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function wr(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new gr;++e<n;)this.add(t[e])}function Rr(t){var e=this.__data__=new br(t);this.size=e.size}function Tr(t,e){var n=mu(t),r=!n&&yu(t),i=!n&&!r&&gu(t),o=!n&&!r&&!i&&ku(t),a=n||r||i||o,u=a?mn(t.length,ne):[],s=u.length;for(var c in t)!e&&!ce.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Go(c,s))||u.push(c);return u}function xr(t){var e=t.length;return e?t[wi(0,e-1)]:o}function Er(t,e){return ua(no(t),Nr(e,0,t.length))}function Ar(t){return ua(no(t))}function Cr(t,e,n){(n===o||pu(t[e],n))&&(n!==o||e in t)||Ir(t,e,n)}function Or(t,e,n){var r=t[e];ce.call(t,e)&&pu(r,n)&&(n!==o||e in t)||Ir(t,e,n)}function Sr(t,e){for(var n=t.length;n--;)if(pu(t[n][0],e))return n;return-1}function Pr(t,e,n,r){return Br(t,function(t,i,o){e(r,t,n(t),o)}),r}function jr(t,e){return t&&ro(e,rs(e),t)}function Ir(t,e,n){"__proto__"==e&&on?on(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Fr(t,e){for(var r=-1,i=e.length,a=n(i),u=null==t;++r<i;)a[r]=u?o:Xu(t,e[r]);return a}function Nr(t,e,n){return t==t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function kr(t,e,n,r,i,a){var u,s=e&p,c=e&h,l=e&d;if(n&&(u=i?n(t,r,i,a):n(t)),u!==o)return u;if(!Au(t))return t;var f=mu(t);if(f){if(u=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ce.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!s)return no(t,u)}else{var y=Uo(t),m=y==Q||y==Z;if(gu(t))return Ki(t,s);if(y==J||y==M||m&&!i){if(u=c||m?{}:qo(t),!s)return c?function(t,e){return ro(t,Mo(t),e)}(t,function(t,e){return t&&ro(e,is(e),t)}(u,t)):function(t,e){return ro(t,Do(t),e)}(t,jr(u,t))}else{if(!Ce[y])return i?t:{};u=function(t,e,n){var r=t.constructor;switch(e){case st:return Yi(t);case q:case $:return new r(+t);case ct:return function(t,e){var n=e?Yi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case lt:case ft:case pt:case ht:case dt:case yt:case mt:case vt:case _t:return Xi(t,n);case K:return new r;case Y:case rt:return new r(t);case et:return function(t){var e=new t.constructor(t.source,Wt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case nt:return new r;case it:return function(t){return fr?te(fr.call(t)):{}}(t)}}(t,y,s)}}a||(a=new Rr);var v=a.get(t);if(v)return v;if(a.set(t,u),Iu(t))return t.forEach(function(r){u.add(kr(r,e,n,r,t,a))}),u;if(Ou(t))return t.forEach(function(r,i){u.set(i,kr(r,e,n,i,t,a))}),u;var _=f?o:(l?c?Io:jo:c?is:rs)(t);return He(_||t,function(r,i){_&&(r=t[i=r]),Or(u,i,kr(r,e,n,i,t,a))}),u}function zr(t,e,n){var r=n.length;if(null==t)return!r;for(t=te(t);r--;){var i=n[r],a=e[i],u=t[i];if(u===o&&!(i in t)||!a(u))return!1}return!0}function Vr(t,e,n){if("function"!=typeof t)throw new re(s);return ra(function(){t.apply(o,n)},e)}function Lr(t,e,n,r){var i=-1,o=Ye,u=!0,s=t.length,c=[],l=e.length;if(!s)return c;n&&(e=Je(e,vn(n))),r?(o=Xe,u=!1):e.length>=a&&(o=bn,u=!1,e=new wr(e));t:for(;++i<s;){var f=t[i],p=null==n?f:n(f);if(f=r||0!==f?f:0,u&&p==p){for(var h=l;h--;)if(e[h]===p)continue t;c.push(f)}else o(e,p,r)||c.push(f)}return c}hr.templateSettings={escape:At,evaluate:Ct,interpolate:Ot,variable:"",imports:{_:hr}},hr.prototype=yr.prototype,hr.prototype.constructor=hr,mr.prototype=dr(yr.prototype),mr.prototype.constructor=mr,vr.prototype=dr(yr.prototype),vr.prototype.constructor=vr,_r.prototype.clear=function(){this.__data__=nr?nr(null):{},this.size=0},_r.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},_r.prototype.get=function(t){var e=this.__data__;if(nr){var n=e[t];return n===c?o:n}return ce.call(e,t)?e[t]:o},_r.prototype.has=function(t){var e=this.__data__;return nr?e[t]!==o:ce.call(e,t)},_r.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=nr&&e===o?c:e,this},br.prototype.clear=function(){this.__data__=[],this.size=0},br.prototype.delete=function(t){var e=this.__data__,n=Sr(e,t);return!(n<0||(n==e.length-1?e.pop():Ne.call(e,n,1),--this.size,0))},br.prototype.get=function(t){var e=this.__data__,n=Sr(e,t);return n<0?o:e[n][1]},br.prototype.has=function(t){return Sr(this.__data__,t)>-1},br.prototype.set=function(t,e){var n=this.__data__,r=Sr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},gr.prototype.clear=function(){this.size=0,this.__data__={hash:new _r,map:new(Xn||br),string:new _r}},gr.prototype.delete=function(t){var e=Vo(this,t).delete(t);return this.size-=e?1:0,e},gr.prototype.get=function(t){return Vo(this,t).get(t)},gr.prototype.has=function(t){return Vo(this,t).has(t)},gr.prototype.set=function(t,e){var n=Vo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},wr.prototype.add=wr.prototype.push=function(t){return this.__data__.set(t,c),this},wr.prototype.has=function(t){return this.__data__.has(t)},Rr.prototype.clear=function(){this.__data__=new br,this.size=0},Rr.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Rr.prototype.get=function(t){return this.__data__.get(t)},Rr.prototype.has=function(t){return this.__data__.has(t)},Rr.prototype.set=function(t,e){var n=this.__data__;if(n instanceof br){var r=n.__data__;if(!Xn||r.length<a-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new gr(r)}return n.set(t,e),this.size=n.size,this};var Br=ao(Hr),Dr=ao(Qr,!0);function Mr(t,e){var n=!0;return Br(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Ur(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],u=e(a);if(null!=u&&(s===o?u==u&&!Nu(u):n(u,s)))var s=u,c=a}return c}function Wr(t,e){var n=[];return Br(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function qr(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=$o),i||(i=[]);++o<a;){var u=t[o];e>0&&n(u)?e>1?qr(u,e-1,n,r,i):tn(i,u):r||(i[i.length]=u)}return i}var $r=uo(),Gr=uo(!0);function Hr(t,e){return t&&$r(t,e,rs)}function Qr(t,e){return t&&Gr(t,e,rs)}function Zr(t,e){return Ke(e,function(e){return Tu(t[e])})}function Kr(t,e){for(var n=0,r=(e=Gi(e,t)).length;null!=t&&n<r;)t=t[ca(e[n++])];return n&&n==r?t:o}function Yr(t,e,n){var r=e(t);return mu(t)?r:tn(r,n(t))}function Xr(t){return null==t?t===o?ot:X:Le&&Le in te(t)?function(t){var e=ce.call(t,Le),n=t[Le];try{t[Le]=o;var r=!0}catch(t){}var i=pe.call(t);return r&&(e?t[Le]=n:delete t[Le]),i}(t):function(t){return pe.call(t)}(t)}function Jr(t,e){return t>e}function ti(t,e){return null!=t&&ce.call(t,e)}function ei(t,e){return null!=t&&e in te(t)}function ni(t,e,r){for(var i=r?Xe:Ye,a=t[0].length,u=t.length,s=u,c=n(u),l=1/0,f=[];s--;){var p=t[s];s&&e&&(p=Je(p,vn(e))),l=Gn(p.length,l),c[s]=!r&&(e||a>=120&&p.length>=120)?new wr(s&&p):o}p=t[0];var h=-1,d=c[0];t:for(;++h<a&&f.length<l;){var y=p[h],m=e?e(y):y;if(y=r||0!==y?y:0,!(d?bn(d,m):i(f,m,r))){for(s=u;--s;){var v=c[s];if(!(v?bn(v,m):i(t[s],m,r)))continue t}d&&d.push(m),f.push(y)}}return f}function ri(t,e,n){var r=null==(t=ea(t,e=Gi(e,t)))?t:t[ca(Ra(e))];return null==r?o:$e(r,t,n)}function ii(t){return Cu(t)&&Xr(t)==M}function oi(t,e,n,r,i){return t===e||(null==t||null==e||!Cu(t)&&!Cu(e)?t!=t&&e!=e:function(t,e,n,r,i,a){var u=mu(t),s=mu(e),c=u?U:Uo(t),l=s?U:Uo(e),f=(c=c==M?J:c)==J,p=(l=l==M?J:l)==J,h=c==l;if(h&&gu(t)){if(!gu(e))return!1;u=!0,f=!1}if(h&&!f)return a||(a=new Rr),u||ku(t)?So(t,e,n,r,i,a):function(t,e,n,r,i,o,a){switch(n){case ct:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case st:return!(t.byteLength!=e.byteLength||!o(new ge(t),new ge(e)));case q:case $:case Y:return pu(+t,+e);case H:return t.name==e.name&&t.message==e.message;case et:case rt:return t==e+"";case K:var u=An;case nt:var s=r&y;if(u||(u=Pn),t.size!=e.size&&!s)return!1;var c=a.get(t);if(c)return c==e;r|=m,a.set(t,e);var l=So(u(t),u(e),r,i,o,a);return a.delete(t),l;case it:if(fr)return fr.call(t)==fr.call(e)}return!1}(t,e,c,n,r,i,a);if(!(n&y)){var d=f&&ce.call(t,"__wrapped__"),v=p&&ce.call(e,"__wrapped__");if(d||v){var _=d?t.value():t,b=v?e.value():e;return a||(a=new Rr),i(_,b,n,r,a)}}return!!h&&(a||(a=new Rr),function(t,e,n,r,i,a){var u=n&y,s=jo(t),c=s.length,l=jo(e).length;if(c!=l&&!u)return!1;for(var f=c;f--;){var p=s[f];if(!(u?p in e:ce.call(e,p)))return!1}var h=a.get(t);if(h&&a.get(e))return h==e;var d=!0;a.set(t,e),a.set(e,t);for(var m=u;++f<c;){p=s[f];var v=t[p],_=e[p];if(r)var b=u?r(_,v,p,e,t,a):r(v,_,p,t,e,a);if(!(b===o?v===_||i(v,_,n,r,a):b)){d=!1;break}m||(m="constructor"==p)}if(d&&!m){var g=t.constructor,w=e.constructor;g!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof w&&w instanceof w)&&(d=!1)}return a.delete(t),a.delete(e),d}(t,e,n,r,i,a))}(t,e,n,r,oi,i))}function ai(t,e,n,r){var i=n.length,a=i,u=!r;if(null==t)return!a;for(t=te(t);i--;){var s=n[i];if(u&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){var c=(s=n[i])[0],l=t[c],f=s[1];if(u&&s[2]){if(l===o&&!(c in t))return!1}else{var p=new Rr;if(r)var h=r(l,f,c,t,e,p);if(!(h===o?oi(f,l,y|m,r,p):h))return!1}}return!0}function ui(t){return!(!Au(t)||function(t){return!!fe&&fe in t}(t))&&(Tu(t)?ye:Gt).test(la(t))}function si(t){return"function"==typeof t?t:null==t?Ss:"object"==typeof t?mu(t)?di(t[0],t[1]):hi(t):Ls(t)}function ci(t){if(!Yo(t))return qn(t);var e=[];for(var n in te(t))ce.call(t,n)&&"constructor"!=n&&e.push(n);return e}function li(t){if(!Au(t))return function(t){var e=[];if(null!=t)for(var n in te(t))e.push(n);return e}(t);var e=Yo(t),n=[];for(var r in t)("constructor"!=r||!e&&ce.call(t,r))&&n.push(r);return n}function fi(t,e){return t<e}function pi(t,e){var r=-1,i=_u(t)?n(t.length):[];return Br(t,function(t,n,o){i[++r]=e(t,n,o)}),i}function hi(t){var e=Lo(t);return 1==e.length&&e[0][2]?Jo(e[0][0],e[0][1]):function(n){return n===t||ai(n,t,e)}}function di(t,e){return Qo(t)&&Xo(e)?Jo(ca(t),e):function(n){var r=Xu(n,t);return r===o&&r===e?Ju(n,t):oi(e,r,y|m)}}function yi(t,e,n,r,i){t!==e&&$r(e,function(a,u){if(Au(a))i||(i=new Rr),function(t,e,n,r,i,a,u){var s=Sn(t,n),c=Sn(e,n),l=u.get(c);if(l)Cr(t,n,l);else{var f=a?a(s,c,n+"",t,e,u):o,p=f===o;if(p){var h=mu(c),d=!h&&gu(c),y=!h&&!d&&ku(c);f=c,h||d||y?mu(s)?f=s:bu(s)?f=no(s):d?(p=!1,f=Ki(c,!0)):y?(p=!1,f=Xi(c,!0)):f=[]:Pu(c)||yu(c)?(f=s,yu(s)?f=Wu(s):(!Au(s)||r&&Tu(s))&&(f=qo(c))):p=!1}p&&(u.set(c,f),i(f,c,r,a,u),u.delete(c)),Cr(t,n,f)}}(t,e,u,n,yi,r,i);else{var s=r?r(Sn(t,u),a,u+"",t,e,i):o;s===o&&(s=a),Cr(t,u,s)}},is)}function mi(t,e){var n=t.length;if(n)return Go(e+=e<0?n:0,n)?t[e]:o}function vi(t,e,n){var r=-1;return e=Je(e.length?e:[Ss],vn(zo())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(pi(t,function(t,n,i){return{criteria:Je(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,u=n.length;++r<a;){var s=Ji(i[r],o[r]);if(s){if(r>=u)return s;var c=n[r];return s*("desc"==c?-1:1)}}return t.index-e.index}(t,e,n)})}function _i(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],u=Kr(t,a);n(u,a)&&Ai(o,Gi(a,t),u)}return o}function bi(t,e,n,r){var i=r?cn:sn,o=-1,a=e.length,u=t;for(t===e&&(e=no(e)),n&&(u=Je(t,vn(n)));++o<a;)for(var s=0,c=e[o],l=n?n(c):c;(s=i(u,l,s,r))>-1;)u!==t&&Ne.call(u,s,1),Ne.call(t,s,1);return t}function gi(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Go(i)?Ne.call(t,i,1):Li(t,i)}}return t}function wi(t,e){return t+Bn(Zn()*(e-t+1))}function Ri(t,e){var n="";if(!t||e<1||e>N)return n;do{e%2&&(n+=t),(e=Bn(e/2))&&(t+=t)}while(e);return n}function Ti(t,e){return ia(ta(t,e,Ss),t+"")}function xi(t){return xr(ps(t))}function Ei(t,e){var n=ps(t);return ua(n,Nr(e,0,n.length))}function Ai(t,e,n,r){if(!Au(t))return t;for(var i=-1,a=(e=Gi(e,t)).length,u=a-1,s=t;null!=s&&++i<a;){var c=ca(e[i]),l=n;if(i!=u){var f=s[c];(l=r?r(f,c,s):o)===o&&(l=Au(f)?f:Go(e[i+1])?[]:{})}Or(s,c,l),s=s[c]}return t}var Ci=rr?function(t,e){return rr.set(t,e),t}:Ss,Oi=on?function(t,e){return on(t,"toString",{configurable:!0,enumerable:!1,value:As(e),writable:!0})}:Ss;function Si(t){return ua(ps(t))}function Pi(t,e,r){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var a=n(o);++i<o;)a[i]=t[i+e];return a}function ji(t,e){var n;return Br(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function Ii(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=B){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Nu(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Fi(t,e,Ss,n)}function Fi(t,e,n,r){e=n(e);for(var i=0,a=null==t?0:t.length,u=e!=e,s=null===e,c=Nu(e),l=e===o;i<a;){var f=Bn((i+a)/2),p=n(t[f]),h=p!==o,d=null===p,y=p==p,m=Nu(p);if(u)var v=r||y;else v=l?y&&(r||h):s?y&&h&&(r||!d):c?y&&h&&!d&&(r||!m):!d&&!m&&(r?p<=e:p<e);v?i=f+1:a=f}return Gn(a,L)}function Ni(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],u=e?e(a):a;if(!n||!pu(u,s)){var s=u;o[i++]=0===a?0:a}}return o}function ki(t){return"number"==typeof t?t:Nu(t)?z:+t}function zi(t){if("string"==typeof t)return t;if(mu(t))return Je(t,zi)+"";if(Nu(t))return pr?pr.call(t):"";var e=t+"";return"0"==e&&1/t==-F?"-0":e}function Vi(t,e,n){var r=-1,i=Ye,o=t.length,u=!0,s=[],c=s;if(n)u=!1,i=Xe;else if(o>=a){var l=e?null:To(t);if(l)return Pn(l);u=!1,i=bn,c=new wr}else c=e?[]:s;t:for(;++r<o;){var f=t[r],p=e?e(f):f;if(f=n||0!==f?f:0,u&&p==p){for(var h=c.length;h--;)if(c[h]===p)continue t;e&&c.push(p),s.push(f)}else i(c,p,n)||(c!==s&&c.push(p),s.push(f))}return s}function Li(t,e){return null==(t=ea(t,e=Gi(e,t)))||delete t[ca(Ra(e))]}function Bi(t,e,n,r){return Ai(t,e,n(Kr(t,e)),r)}function Di(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Pi(t,r?0:o,r?o+1:i):Pi(t,r?o+1:0,r?i:o)}function Mi(t,e){var n=t;return n instanceof vr&&(n=n.value()),en(e,function(t,e){return e.func.apply(e.thisArg,tn([t],e.args))},n)}function Ui(t,e,r){var i=t.length;if(i<2)return i?Vi(t[0]):[];for(var o=-1,a=n(i);++o<i;)for(var u=t[o],s=-1;++s<i;)s!=o&&(a[o]=Lr(a[o]||u,t[s],e,r));return Vi(qr(a,1),e,r)}function Wi(t,e,n){for(var r=-1,i=t.length,a=e.length,u={};++r<i;){var s=r<a?e[r]:o;n(u,t[r],s)}return u}function qi(t){return bu(t)?t:[]}function $i(t){return"function"==typeof t?t:Ss}function Gi(t,e){return mu(t)?t:Qo(t,e)?[t]:sa(qu(t))}var Hi=Ti;function Qi(t,e,n){var r=t.length;return n=n===o?r:n,!e&&n>=r?t:Pi(t,e,n)}var Zi=hn||function(t){return Fe.clearTimeout(t)};function Ki(t,e){if(e)return t.slice();var n=t.length,r=Re?Re(n):new t.constructor(n);return t.copy(r),r}function Yi(t){var e=new t.constructor(t.byteLength);return new ge(e).set(new ge(t)),e}function Xi(t,e){var n=e?Yi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ji(t,e){if(t!==e){var n=t!==o,r=null===t,i=t==t,a=Nu(t),u=e!==o,s=null===e,c=e==e,l=Nu(e);if(!s&&!l&&!a&&t>e||a&&u&&c&&!s&&!l||r&&u&&c||!n&&c||!i)return 1;if(!r&&!a&&!l&&t<e||l&&n&&i&&!r&&!a||s&&n&&i||!u&&i||!c)return-1}return 0}function to(t,e,r,i){for(var o=-1,a=t.length,u=r.length,s=-1,c=e.length,l=$n(a-u,0),f=n(c+l),p=!i;++s<c;)f[s]=e[s];for(;++o<u;)(p||o<a)&&(f[r[o]]=t[o]);for(;l--;)f[s++]=t[o++];return f}function eo(t,e,r,i){for(var o=-1,a=t.length,u=-1,s=r.length,c=-1,l=e.length,f=$n(a-s,0),p=n(f+l),h=!i;++o<f;)p[o]=t[o];for(var d=o;++c<l;)p[d+c]=e[c];for(;++u<s;)(h||o<a)&&(p[d+r[u]]=t[o++]);return p}function no(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function ro(t,e,n,r){var i=!n;n||(n={});for(var a=-1,u=e.length;++a<u;){var s=e[a],c=r?r(n[s],t[s],s,n,t):o;c===o&&(c=t[s]),i?Ir(n,s,c):Or(n,s,c)}return n}function io(t,e){return function(n,r){var i=mu(n)?Ge:Pr,o=e?e():{};return i(n,t,zo(r,2),o)}}function oo(t){return Ti(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,u=i>2?n[2]:o;for(a=t.length>3&&"function"==typeof a?(i--,a):o,u&&Ho(n[0],n[1],u)&&(a=i<3?o:a,i=1),e=te(e);++r<i;){var s=n[r];s&&t(e,s,r,a)}return e})}function ao(t,e){return function(n,r){if(null==n)return n;if(!_u(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=te(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function uo(t){return function(e,n,r){for(var i=-1,o=te(e),a=r(e),u=a.length;u--;){var s=a[t?u:++i];if(!1===n(o[s],s,o))break}return e}}function so(t){return function(e){var n=En(e=qu(e))?Fn(e):o,r=n?n[0]:e.charAt(0),i=n?Qi(n,1).join(""):e.slice(1);return r[t]()+i}}function co(t){return function(e){return en(Ts(ys(e).replace(_e,"")),t,"")}}function lo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=dr(t.prototype),r=t.apply(n,e);return Au(r)?r:n}}function fo(t){return function(e,n,r){var i=te(e);if(!_u(e)){var a=zo(n,3);e=rs(e),n=function(t){return a(i[t],t,i)}}var u=t(e,n,r);return u>-1?i[a?e[u]:u]:o}}function po(t){return Po(function(e){var n=e.length,r=n,i=mr.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new re(s);if(i&&!u&&"wrapper"==No(a))var u=new mr([],!0)}for(r=u?r:n;++r<n;){var c=No(a=e[r]),l="wrapper"==c?Fo(a):o;u=l&&Zo(l[0])&&l[1]==(x|g|R|E)&&!l[4].length&&1==l[9]?u[No(l[0])].apply(u,l[3]):1==a.length&&Zo(a)?u[c]():u.thru(a)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&mu(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function ho(t,e,r,i,a,u,s,c,l,f){var p=e&x,h=e&v,d=e&_,y=e&(g|w),m=e&A,b=d?o:lo(t);return function v(){for(var _=arguments.length,g=n(_),w=_;w--;)g[w]=arguments[w];if(y)var R=ko(v),T=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(g,R);if(i&&(g=to(g,i,a,y)),u&&(g=eo(g,u,s,y)),_-=T,y&&_<f){var x=On(g,R);return wo(t,e,ho,v.placeholder,r,g,x,c,l,f-_)}var E=h?r:this,A=d?E[t]:t;return _=g.length,c?g=function(t,e){for(var n=t.length,r=Gn(e.length,n),i=no(t);r--;){var a=e[r];t[r]=Go(a,n)?i[a]:o}return t}(g,c):m&&_>1&&g.reverse(),p&&l<_&&(g.length=l),this&&this!==Fe&&this instanceof v&&(A=b||lo(A)),A.apply(E,g)}}function yo(t,e){return function(n,r){return function(t,e,n,r){return Hr(t,function(t,i,o){e(r,n(t),i,o)}),r}(n,t,e(r),{})}}function mo(t,e){return function(n,r){var i;if(n===o&&r===o)return e;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=zi(n),r=zi(r)):(n=ki(n),r=ki(r)),i=t(n,r)}return i}}function vo(t){return Po(function(e){return e=Je(e,vn(zo())),Ti(function(n){var r=this;return t(e,function(t){return $e(t,r,n)})})})}function _o(t,e){var n=(e=e===o?" ":zi(e)).length;if(n<2)return n?Ri(e,t):e;var r=Ri(e,Ln(t/In(e)));return En(e)?Qi(Fn(r),0,t).join(""):r.slice(0,t)}function bo(t){return function(e,r,i){return i&&"number"!=typeof i&&Ho(e,r,i)&&(r=i=o),e=Bu(e),r===o?(r=e,e=0):r=Bu(r),function(t,e,r,i){for(var o=-1,a=$n(Ln((e-t)/(r||1)),0),u=n(a);a--;)u[i?a:++o]=t,t+=r;return u}(e,r,i=i===o?e<r?1:-1:Bu(i),t)}}function go(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Uu(e),n=Uu(n)),t(e,n)}}function wo(t,e,n,r,i,a,u,s,c,l){var f=e&g;e|=f?R:T,(e&=~(f?T:R))&b||(e&=~(v|_));var p=[t,e,i,f?a:o,f?u:o,f?o:a,f?o:u,s,c,l],h=n.apply(o,p);return Zo(t)&&na(h,p),h.placeholder=r,oa(h,t,e)}function Ro(t){var e=Jt[t];return function(t,n){if(t=Uu(t),n=null==n?0:Gn(Du(n),292)){var r=(qu(t)+"e").split("e");return+((r=(qu(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var To=tr&&1/Pn(new tr([,-0]))[1]==F?function(t){return new tr(t)}:Ns;function xo(t){return function(e){var n=Uo(e);return n==K?An(e):n==nt?jn(e):function(t,e){return Je(e,function(e){return[e,t[e]]})}(e,t(e))}}function Eo(t,e,r,i,a,u,c,l){var p=e&_;if(!p&&"function"!=typeof t)throw new re(s);var h=i?i.length:0;if(h||(e&=~(R|T),i=a=o),c=c===o?c:$n(Du(c),0),l=l===o?l:Du(l),h-=a?a.length:0,e&T){var d=i,y=a;i=a=o}var m=p?o:Fo(t),A=[t,e,r,i,a,d,y,u,c,l];if(m&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<(v|_|x),a=r==x&&n==g||r==x&&n==E&&t[7].length<=e[8]||r==(x|E)&&e[7].length<=e[8]&&n==g;if(!o&&!a)return t;r&v&&(t[2]=e[2],i|=n&v?0:b);var u=e[3];if(u){var s=t[3];t[3]=s?to(s,u,e[4]):u,t[4]=s?On(t[3],f):e[4]}(u=e[5])&&(s=t[5],t[5]=s?eo(s,u,e[6]):u,t[6]=s?On(t[5],f):e[6]),(u=e[7])&&(t[7]=u),r&x&&(t[8]=null==t[8]?e[8]:Gn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(A,m),t=A[0],e=A[1],r=A[2],i=A[3],a=A[4],!(l=A[9]=A[9]===o?p?0:t.length:$n(A[9]-h,0))&&e&(g|w)&&(e&=~(g|w)),e&&e!=v)C=e==g||e==w?function(t,e,r){var i=lo(t);return function a(){for(var u=arguments.length,s=n(u),c=u,l=ko(a);c--;)s[c]=arguments[c];var f=u<3&&s[0]!==l&&s[u-1]!==l?[]:On(s,l);return(u-=f.length)<r?wo(t,e,ho,a.placeholder,o,s,f,o,o,r-u):$e(this&&this!==Fe&&this instanceof a?i:t,this,s)}}(t,e,l):e!=R&&e!=(v|R)||a.length?ho.apply(o,A):function(t,e,r,i){var o=e&v,a=lo(t);return function e(){for(var u=-1,s=arguments.length,c=-1,l=i.length,f=n(l+s),p=this&&this!==Fe&&this instanceof e?a:t;++c<l;)f[c]=i[c];for(;s--;)f[c++]=arguments[++u];return $e(p,o?r:this,f)}}(t,e,r,i);else var C=function(t,e,n){var r=e&v,i=lo(t);return function e(){return(this&&this!==Fe&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,r);return oa((m?Ci:na)(C,A),t,e)}function Ao(t,e,n,r){return t===o||pu(t,ae[n])&&!ce.call(r,n)?e:t}function Co(t,e,n,r,i,a){return Au(t)&&Au(e)&&(a.set(e,t),yi(t,e,o,Co,a),a.delete(e)),t}function Oo(t){return Pu(t)?o:t}function So(t,e,n,r,i,a){var u=n&y,s=t.length,c=e.length;if(s!=c&&!(u&&c>s))return!1;var l=a.get(t);if(l&&a.get(e))return l==e;var f=-1,p=!0,h=n&m?new wr:o;for(a.set(t,e),a.set(e,t);++f<s;){var d=t[f],v=e[f];if(r)var _=u?r(v,d,f,e,t,a):r(d,v,f,t,e,a);if(_!==o){if(_)continue;p=!1;break}if(h){if(!rn(e,function(t,e){if(!bn(h,e)&&(d===t||i(d,t,n,r,a)))return h.push(e)})){p=!1;break}}else if(d!==v&&!i(d,v,n,r,a)){p=!1;break}}return a.delete(t),a.delete(e),p}function Po(t){return ia(ta(t,o,va),t+"")}function jo(t){return Yr(t,rs,Do)}function Io(t){return Yr(t,is,Mo)}var Fo=rr?function(t){return rr.get(t)}:Ns;function No(t){for(var e=t.name+"",n=ir[e],r=ce.call(ir,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function ko(t){return(ce.call(hr,"placeholder")?hr:t).placeholder}function zo(){var t=hr.iteratee||Ps;return t=t===Ps?si:t,arguments.length?t(arguments[0],arguments[1]):t}function Vo(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Lo(t){for(var e=rs(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Xo(i)]}return e}function Bo(t,e){var n=function(t,e){return null==t?o:t[e]}(t,e);return ui(n)?n:o}var Do=Dn?function(t){return null==t?[]:(t=te(t),Ke(Dn(t),function(e){return Ie.call(t,e)}))}:Ms,Mo=Dn?function(t){for(var e=[];t;)tn(e,Do(t)),t=Oe(t);return e}:Ms,Uo=Xr;function Wo(t,e,n){for(var r=-1,i=(e=Gi(e,t)).length,o=!1;++r<i;){var a=ca(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Eu(i)&&Go(a,i)&&(mu(t)||yu(t))}function qo(t){return"function"!=typeof t.constructor||Yo(t)?{}:dr(Oe(t))}function $o(t){return mu(t)||yu(t)||!!(ke&&t&&t[ke])}function Go(t,e){var n=typeof t;return!!(e=null==e?N:e)&&("number"==n||"symbol"!=n&&Qt.test(t))&&t>-1&&t%1==0&&t<e}function Ho(t,e,n){if(!Au(n))return!1;var r=typeof e;return!!("number"==r?_u(n)&&Go(e,n.length):"string"==r&&e in n)&&pu(n[e],t)}function Qo(t,e){if(mu(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Nu(t))||Pt.test(t)||!St.test(t)||null!=e&&t in te(e)}function Zo(t){var e=No(t),n=hr[e];if("function"!=typeof n||!(e in vr.prototype))return!1;if(t===n)return!0;var r=Fo(n);return!!r&&t===r[0]}(Yn&&Uo(new Yn(new ArrayBuffer(1)))!=ct||Xn&&Uo(new Xn)!=K||Jn&&"[object Promise]"!=Uo(Jn.resolve())||tr&&Uo(new tr)!=nt||er&&Uo(new er)!=at)&&(Uo=function(t){var e=Xr(t),n=e==J?t.constructor:o,r=n?la(n):"";if(r)switch(r){case or:return ct;case ar:return K;case ur:return"[object Promise]";case sr:return nt;case cr:return at}return e});var Ko=ue?Tu:Us;function Yo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ae)}function Xo(t){return t==t&&!Au(t)}function Jo(t,e){return function(n){return null!=n&&n[t]===e&&(e!==o||t in te(n))}}function ta(t,e,r){return e=$n(e===o?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=$n(i.length-e,0),u=n(a);++o<a;)u[o]=i[e+o];o=-1;for(var s=n(e+1);++o<e;)s[o]=i[o];return s[e]=r(u),$e(t,this,s)}}function ea(t,e){return e.length<2?t:Kr(t,Pi(e,0,-1))}var na=aa(Ci),ra=Vn||function(t,e){return Fe.setTimeout(t,e)},ia=aa(Oi);function oa(t,e,n){var r=e+"";return ia(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Vt,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return He(D,function(n){var r="_."+n[0];e&n[1]&&!Ye(t,r)&&t.push(r)}),t.sort()}(function(t){var e=t.match(Lt);return e?e[1].split(Bt):[]}(r),n)))}function aa(t){var e=0,n=0;return function(){var r=Hn(),i=P-(r-n);if(n=r,i>0){if(++e>=S)return arguments[0]}else e=0;return t.apply(o,arguments)}}function ua(t,e){var n=-1,r=t.length,i=r-1;for(e=e===o?r:e;++n<e;){var a=wi(n,i),u=t[a];t[a]=t[n],t[n]=u}return t.length=e,t}var sa=function(t){var e=au(t,function(t){return n.size===l&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(jt,function(t,n,r,i){e.push(r?i.replace(Mt,"$1"):n||t)}),e});function ca(t){if("string"==typeof t||Nu(t))return t;var e=t+"";return"0"==e&&1/t==-F?"-0":e}function la(t){if(null!=t){try{return se.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function fa(t){if(t instanceof vr)return t.clone();var e=new mr(t.__wrapped__,t.__chain__);return e.__actions__=no(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var pa=Ti(function(t,e){return bu(t)?Lr(t,qr(e,1,bu,!0)):[]}),ha=Ti(function(t,e){var n=Ra(e);return bu(n)&&(n=o),bu(t)?Lr(t,qr(e,1,bu,!0),zo(n,2)):[]}),da=Ti(function(t,e){var n=Ra(e);return bu(n)&&(n=o),bu(t)?Lr(t,qr(e,1,bu,!0),o,n):[]});function ya(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Du(n);return i<0&&(i=$n(r+i,0)),un(t,zo(e,3),i)}function ma(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==o&&(i=Du(n),i=n<0?$n(r+i,0):Gn(i,r-1)),un(t,zo(e,3),i,!0)}function va(t){return null!=t&&t.length?qr(t,1):[]}function _a(t){return t&&t.length?t[0]:o}var ba=Ti(function(t){var e=Je(t,qi);return e.length&&e[0]===t[0]?ni(e):[]}),ga=Ti(function(t){var e=Ra(t),n=Je(t,qi);return e===Ra(n)?e=o:n.pop(),n.length&&n[0]===t[0]?ni(n,zo(e,2)):[]}),wa=Ti(function(t){var e=Ra(t),n=Je(t,qi);return(e="function"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?ni(n,o,e):[]});function Ra(t){var e=null==t?0:t.length;return e?t[e-1]:o}var Ta=Ti(xa);function xa(t,e){return t&&t.length&&e&&e.length?bi(t,e):t}var Ea=Po(function(t,e){var n=null==t?0:t.length,r=Fr(t,e);return gi(t,Je(e,function(t){return Go(t,n)?+t:t}).sort(Ji)),r});function Aa(t){return null==t?t:Kn.call(t)}var Ca=Ti(function(t){return Vi(qr(t,1,bu,!0))}),Oa=Ti(function(t){var e=Ra(t);return bu(e)&&(e=o),Vi(qr(t,1,bu,!0),zo(e,2))}),Sa=Ti(function(t){var e=Ra(t);return e="function"==typeof e?e:o,Vi(qr(t,1,bu,!0),o,e)});function Pa(t){if(!t||!t.length)return[];var e=0;return t=Ke(t,function(t){if(bu(t))return e=$n(t.length,e),!0}),mn(e,function(e){return Je(t,pn(e))})}function ja(t,e){if(!t||!t.length)return[];var n=Pa(t);return null==e?n:Je(n,function(t){return $e(e,o,t)})}var Ia=Ti(function(t,e){return bu(t)?Lr(t,e):[]}),Fa=Ti(function(t){return Ui(Ke(t,bu))}),Na=Ti(function(t){var e=Ra(t);return bu(e)&&(e=o),Ui(Ke(t,bu),zo(e,2))}),ka=Ti(function(t){var e=Ra(t);return e="function"==typeof e?e:o,Ui(Ke(t,bu),o,e)}),za=Ti(Pa);var Va=Ti(function(t){var e=t.length,n=e>1?t[e-1]:o;return ja(t,n="function"==typeof n?(t.pop(),n):o)});function La(t){var e=hr(t);return e.__chain__=!0,e}function Ba(t,e){return e(t)}var Da=Po(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Fr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof vr&&Go(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:Ba,args:[i],thisArg:o}),new mr(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(o),t})):this.thru(i)});var Ma=io(function(t,e,n){ce.call(t,n)?++t[n]:Ir(t,n,1)});var Ua=fo(ya),Wa=fo(ma);function qa(t,e){return(mu(t)?He:Br)(t,zo(e,3))}function $a(t,e){return(mu(t)?Qe:Dr)(t,zo(e,3))}var Ga=io(function(t,e,n){ce.call(t,n)?t[n].push(e):Ir(t,n,[e])});var Ha=Ti(function(t,e,r){var i=-1,o="function"==typeof e,a=_u(t)?n(t.length):[];return Br(t,function(t){a[++i]=o?$e(e,t,r):ri(t,e,r)}),a}),Qa=io(function(t,e,n){Ir(t,n,e)});function Za(t,e){return(mu(t)?Je:pi)(t,zo(e,3))}var Ka=io(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var Ya=Ti(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Ho(t,e[0],e[1])?e=[]:n>2&&Ho(e[0],e[1],e[2])&&(e=[e[0]]),vi(t,qr(e,1),[])}),Xa=zn||function(){return Fe.Date.now()};function Ja(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,Eo(t,x,o,o,o,o,e)}function tu(t,e){var n;if("function"!=typeof e)throw new re(s);return t=Du(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var eu=Ti(function(t,e,n){var r=v;if(n.length){var i=On(n,ko(eu));r|=R}return Eo(t,r,e,n,i)}),nu=Ti(function(t,e,n){var r=v|_;if(n.length){var i=On(n,ko(nu));r|=R}return Eo(e,r,t,n,i)});function ru(t,e,n){var r,i,a,u,c,l,f=0,p=!1,h=!1,d=!0;if("function"!=typeof t)throw new re(s);function y(e){var n=r,a=i;return r=i=o,f=e,u=t.apply(a,n)}function m(t){var n=t-l;return l===o||n>=e||n<0||h&&t-f>=a}function v(){var t=Xa();if(m(t))return _(t);c=ra(v,function(t){var n=e-(t-l);return h?Gn(n,a-(t-f)):n}(t))}function _(t){return c=o,d&&r?y(t):(r=i=o,u)}function b(){var t=Xa(),n=m(t);if(r=arguments,i=this,l=t,n){if(c===o)return function(t){return f=t,c=ra(v,e),p?y(t):u}(l);if(h)return c=ra(v,e),y(l)}return c===o&&(c=ra(v,e)),u}return e=Uu(e)||0,Au(n)&&(p=!!n.leading,a=(h="maxWait"in n)?$n(Uu(n.maxWait)||0,e):a,d="trailing"in n?!!n.trailing:d),b.cancel=function(){c!==o&&Zi(c),f=0,r=l=i=c=o},b.flush=function(){return c===o?u:_(Xa())},b}var iu=Ti(function(t,e){return Vr(t,1,e)}),ou=Ti(function(t,e,n){return Vr(t,Uu(e)||0,n)});function au(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new re(s);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(au.Cache||gr),n}function uu(t){if("function"!=typeof t)throw new re(s);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}au.Cache=gr;var su=Hi(function(t,e){var n=(e=1==e.length&&mu(e[0])?Je(e[0],vn(zo())):Je(qr(e,1),vn(zo()))).length;return Ti(function(r){for(var i=-1,o=Gn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return $e(t,this,r)})}),cu=Ti(function(t,e){var n=On(e,ko(cu));return Eo(t,R,o,e,n)}),lu=Ti(function(t,e){var n=On(e,ko(lu));return Eo(t,T,o,e,n)}),fu=Po(function(t,e){return Eo(t,E,o,o,o,e)});function pu(t,e){return t===e||t!=t&&e!=e}var hu=go(Jr),du=go(function(t,e){return t>=e}),yu=ii(function(){return arguments}())?ii:function(t){return Cu(t)&&ce.call(t,"callee")&&!Ie.call(t,"callee")},mu=n.isArray,vu=Be?vn(Be):function(t){return Cu(t)&&Xr(t)==st};function _u(t){return null!=t&&Eu(t.length)&&!Tu(t)}function bu(t){return Cu(t)&&_u(t)}var gu=Mn||Us,wu=De?vn(De):function(t){return Cu(t)&&Xr(t)==$};function Ru(t){if(!Cu(t))return!1;var e=Xr(t);return e==H||e==G||"string"==typeof t.message&&"string"==typeof t.name&&!Pu(t)}function Tu(t){if(!Au(t))return!1;var e=Xr(t);return e==Q||e==Z||e==W||e==tt}function xu(t){return"number"==typeof t&&t==Du(t)}function Eu(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=N}function Au(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Cu(t){return null!=t&&"object"==typeof t}var Ou=Me?vn(Me):function(t){return Cu(t)&&Uo(t)==K};function Su(t){return"number"==typeof t||Cu(t)&&Xr(t)==Y}function Pu(t){if(!Cu(t)||Xr(t)!=J)return!1;var e=Oe(t);if(null===e)return!0;var n=ce.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&se.call(n)==he}var ju=Ue?vn(Ue):function(t){return Cu(t)&&Xr(t)==et};var Iu=We?vn(We):function(t){return Cu(t)&&Uo(t)==nt};function Fu(t){return"string"==typeof t||!mu(t)&&Cu(t)&&Xr(t)==rt}function Nu(t){return"symbol"==typeof t||Cu(t)&&Xr(t)==it}var ku=qe?vn(qe):function(t){return Cu(t)&&Eu(t.length)&&!!Ae[Xr(t)]};var zu=go(fi),Vu=go(function(t,e){return t<=e});function Lu(t){if(!t)return[];if(_u(t))return Fu(t)?Fn(t):no(t);if(Ve&&t[Ve])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Ve]());var e=Uo(t);return(e==K?An:e==nt?Pn:ps)(t)}function Bu(t){return t?(t=Uu(t))===F||t===-F?(t<0?-1:1)*k:t==t?t:0:0===t?t:0}function Du(t){var e=Bu(t),n=e%1;return e==e?n?e-n:e:0}function Mu(t){return t?Nr(Du(t),0,V):0}function Uu(t){if("number"==typeof t)return t;if(Nu(t))return z;if(Au(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Au(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Nt,"");var n=$t.test(t);return n||Ht.test(t)?Pe(t.slice(2),n?2:8):qt.test(t)?z:+t}function Wu(t){return ro(t,is(t))}function qu(t){return null==t?"":zi(t)}var $u=oo(function(t,e){if(Yo(e)||_u(e))ro(e,rs(e),t);else for(var n in e)ce.call(e,n)&&Or(t,n,e[n])}),Gu=oo(function(t,e){ro(e,is(e),t)}),Hu=oo(function(t,e,n,r){ro(e,is(e),t,r)}),Qu=oo(function(t,e,n,r){ro(e,rs(e),t,r)}),Zu=Po(Fr);var Ku=Ti(function(t,e){t=te(t);var n=-1,r=e.length,i=r>2?e[2]:o;for(i&&Ho(e[0],e[1],i)&&(r=1);++n<r;)for(var a=e[n],u=is(a),s=-1,c=u.length;++s<c;){var l=u[s],f=t[l];(f===o||pu(f,ae[l])&&!ce.call(t,l))&&(t[l]=a[l])}return t}),Yu=Ti(function(t){return t.push(o,Co),$e(as,o,t)});function Xu(t,e,n){var r=null==t?o:Kr(t,e);return r===o?n:r}function Ju(t,e){return null!=t&&Wo(t,e,ei)}var ts=yo(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=pe.call(e)),t[e]=n},As(Ss)),es=yo(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=pe.call(e)),ce.call(t,e)?t[e].push(n):t[e]=[n]},zo),ns=Ti(ri);function rs(t){return _u(t)?Tr(t):ci(t)}function is(t){return _u(t)?Tr(t,!0):li(t)}var os=oo(function(t,e,n){yi(t,e,n)}),as=oo(function(t,e,n,r){yi(t,e,n,r)}),us=Po(function(t,e){var n={};if(null==t)return n;var r=!1;e=Je(e,function(e){return e=Gi(e,t),r||(r=e.length>1),e}),ro(t,Io(t),n),r&&(n=kr(n,p|h|d,Oo));for(var i=e.length;i--;)Li(n,e[i]);return n});var ss=Po(function(t,e){return null==t?{}:function(t,e){return _i(t,e,function(e,n){return Ju(t,n)})}(t,e)});function cs(t,e){if(null==t)return{};var n=Je(Io(t),function(t){return[t]});return e=zo(e),_i(t,n,function(t,n){return e(t,n[0])})}var ls=xo(rs),fs=xo(is);function ps(t){return null==t?[]:_n(t,rs(t))}var hs=co(function(t,e,n){return e=e.toLowerCase(),t+(n?ds(e):e)});function ds(t){return Rs(qu(t).toLowerCase())}function ys(t){return(t=qu(t))&&t.replace(Zt,Rn).replace(be,"")}var ms=co(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),vs=co(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),_s=so("toLowerCase");var bs=co(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var gs=co(function(t,e,n){return t+(n?" ":"")+Rs(e)});var ws=co(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Rs=so("toUpperCase");function Ts(t,e,n){return t=qu(t),(e=n?o:e)===o?function(t){return Te.test(t)}(t)?function(t){return t.match(we)||[]}(t):function(t){return t.match(Dt)||[]}(t):t.match(e)||[]}var xs=Ti(function(t,e){try{return $e(t,o,e)}catch(t){return Ru(t)?t:new i(t)}}),Es=Po(function(t,e){return He(e,function(e){e=ca(e),Ir(t,e,eu(t[e],t))}),t});function As(t){return function(){return t}}var Cs=po(),Os=po(!0);function Ss(t){return t}function Ps(t){return si("function"==typeof t?t:kr(t,p))}var js=Ti(function(t,e){return function(n){return ri(n,t,e)}}),Is=Ti(function(t,e){return function(n){return ri(t,n,e)}});function Fs(t,e,n){var r=rs(e),i=Zr(e,r);null!=n||Au(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Zr(e,rs(e)));var o=!(Au(n)&&"chain"in n&&!n.chain),a=Tu(t);return He(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=no(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,tn([this.value()],arguments))})}),t}function Ns(){}var ks=vo(Je),zs=vo(Ze),Vs=vo(rn);function Ls(t){return Qo(t)?pn(ca(t)):function(t){return function(e){return Kr(e,t)}}(t)}var Bs=bo(),Ds=bo(!0);function Ms(){return[]}function Us(){return!1}var Ws=mo(function(t,e){return t+e},0),qs=Ro("ceil"),$s=mo(function(t,e){return t/e},1),Gs=Ro("floor");var Hs=mo(function(t,e){return t*e},1),Qs=Ro("round"),Zs=mo(function(t,e){return t-e},0);return hr.after=function(t,e){if("function"!=typeof e)throw new re(s);return t=Du(t),function(){if(--t<1)return e.apply(this,arguments)}},hr.ary=Ja,hr.assign=$u,hr.assignIn=Gu,hr.assignInWith=Hu,hr.assignWith=Qu,hr.at=Zu,hr.before=tu,hr.bind=eu,hr.bindAll=Es,hr.bindKey=nu,hr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return mu(t)?t:[t]},hr.chain=La,hr.chunk=function(t,e,r){e=(r?Ho(t,e,r):e===o)?1:$n(Du(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var a=0,u=0,s=n(Ln(i/e));a<i;)s[u++]=Pi(t,a,a+=e);return s},hr.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},hr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return tn(mu(r)?no(r):[r],qr(e,1))},hr.cond=function(t){var e=null==t?0:t.length,n=zo();return t=e?Je(t,function(t){if("function"!=typeof t[1])throw new re(s);return[n(t[0]),t[1]]}):[],Ti(function(n){for(var r=-1;++r<e;){var i=t[r];if($e(i[0],this,n))return $e(i[1],this,n)}})},hr.conforms=function(t){return function(t){var e=rs(t);return function(n){return zr(n,t,e)}}(kr(t,p))},hr.constant=As,hr.countBy=Ma,hr.create=function(t,e){var n=dr(t);return null==e?n:jr(n,e)},hr.curry=function t(e,n,r){var i=Eo(e,g,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},hr.curryRight=function t(e,n,r){var i=Eo(e,w,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},hr.debounce=ru,hr.defaults=Ku,hr.defaultsDeep=Yu,hr.defer=iu,hr.delay=ou,hr.difference=pa,hr.differenceBy=ha,hr.differenceWith=da,hr.drop=function(t,e,n){var r=null==t?0:t.length;return r?Pi(t,(e=n||e===o?1:Du(e))<0?0:e,r):[]},hr.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Pi(t,0,(e=r-(e=n||e===o?1:Du(e)))<0?0:e):[]},hr.dropRightWhile=function(t,e){return t&&t.length?Di(t,zo(e,3),!0,!0):[]},hr.dropWhile=function(t,e){return t&&t.length?Di(t,zo(e,3),!0):[]},hr.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Ho(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=Du(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:Du(r))<0&&(r+=i),r=n>r?0:Mu(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},hr.filter=function(t,e){return(mu(t)?Ke:Wr)(t,zo(e,3))},hr.flatMap=function(t,e){return qr(Za(t,e),1)},hr.flatMapDeep=function(t,e){return qr(Za(t,e),F)},hr.flatMapDepth=function(t,e,n){return n=n===o?1:Du(n),qr(Za(t,e),n)},hr.flatten=va,hr.flattenDeep=function(t){return null!=t&&t.length?qr(t,F):[]},hr.flattenDepth=function(t,e){return null!=t&&t.length?qr(t,e=e===o?1:Du(e)):[]},hr.flip=function(t){return Eo(t,A)},hr.flow=Cs,hr.flowRight=Os,hr.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},hr.functions=function(t){return null==t?[]:Zr(t,rs(t))},hr.functionsIn=function(t){return null==t?[]:Zr(t,is(t))},hr.groupBy=Ga,hr.initial=function(t){return null!=t&&t.length?Pi(t,0,-1):[]},hr.intersection=ba,hr.intersectionBy=ga,hr.intersectionWith=wa,hr.invert=ts,hr.invertBy=es,hr.invokeMap=Ha,hr.iteratee=Ps,hr.keyBy=Qa,hr.keys=rs,hr.keysIn=is,hr.map=Za,hr.mapKeys=function(t,e){var n={};return e=zo(e,3),Hr(t,function(t,r,i){Ir(n,e(t,r,i),t)}),n},hr.mapValues=function(t,e){var n={};return e=zo(e,3),Hr(t,function(t,r,i){Ir(n,r,e(t,r,i))}),n},hr.matches=function(t){return hi(kr(t,p))},hr.matchesProperty=function(t,e){return di(t,kr(e,p))},hr.memoize=au,hr.merge=os,hr.mergeWith=as,hr.method=js,hr.methodOf=Is,hr.mixin=Fs,hr.negate=uu,hr.nthArg=function(t){return t=Du(t),Ti(function(e){return mi(e,t)})},hr.omit=us,hr.omitBy=function(t,e){return cs(t,uu(zo(e)))},hr.once=function(t){return tu(2,t)},hr.orderBy=function(t,e,n,r){return null==t?[]:(mu(e)||(e=null==e?[]:[e]),mu(n=r?o:n)||(n=null==n?[]:[n]),vi(t,e,n))},hr.over=ks,hr.overArgs=su,hr.overEvery=zs,hr.overSome=Vs,hr.partial=cu,hr.partialRight=lu,hr.partition=Ka,hr.pick=ss,hr.pickBy=cs,hr.property=Ls,hr.propertyOf=function(t){return function(e){return null==t?o:Kr(t,e)}},hr.pull=Ta,hr.pullAll=xa,hr.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?bi(t,e,zo(n,2)):t},hr.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?bi(t,e,o,n):t},hr.pullAt=Ea,hr.range=Bs,hr.rangeRight=Ds,hr.rearg=fu,hr.reject=function(t,e){return(mu(t)?Ke:Wr)(t,uu(zo(e,3)))},hr.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=zo(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return gi(t,i),n},hr.rest=function(t,e){if("function"!=typeof t)throw new re(s);return Ti(t,e=e===o?e:Du(e))},hr.reverse=Aa,hr.sampleSize=function(t,e,n){return e=(n?Ho(t,e,n):e===o)?1:Du(e),(mu(t)?Er:Ei)(t,e)},hr.set=function(t,e,n){return null==t?t:Ai(t,e,n)},hr.setWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:Ai(t,e,n,r)},hr.shuffle=function(t){return(mu(t)?Ar:Si)(t)},hr.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Ho(t,e,n)?(e=0,n=r):(e=null==e?0:Du(e),n=n===o?r:Du(n)),Pi(t,e,n)):[]},hr.sortBy=Ya,hr.sortedUniq=function(t){return t&&t.length?Ni(t):[]},hr.sortedUniqBy=function(t,e){return t&&t.length?Ni(t,zo(e,2)):[]},hr.split=function(t,e,n){return n&&"number"!=typeof n&&Ho(t,e,n)&&(e=n=o),(n=n===o?V:n>>>0)?(t=qu(t))&&("string"==typeof e||null!=e&&!ju(e))&&!(e=zi(e))&&En(t)?Qi(Fn(t),0,n):t.split(e,n):[]},hr.spread=function(t,e){if("function"!=typeof t)throw new re(s);return e=null==e?0:$n(Du(e),0),Ti(function(n){var r=n[e],i=Qi(n,0,e);return r&&tn(i,r),$e(t,this,i)})},hr.tail=function(t){var e=null==t?0:t.length;return e?Pi(t,1,e):[]},hr.take=function(t,e,n){return t&&t.length?Pi(t,0,(e=n||e===o?1:Du(e))<0?0:e):[]},hr.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Pi(t,(e=r-(e=n||e===o?1:Du(e)))<0?0:e,r):[]},hr.takeRightWhile=function(t,e){return t&&t.length?Di(t,zo(e,3),!1,!0):[]},hr.takeWhile=function(t,e){return t&&t.length?Di(t,zo(e,3)):[]},hr.tap=function(t,e){return e(t),t},hr.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new re(s);return Au(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ru(t,e,{leading:r,maxWait:e,trailing:i})},hr.thru=Ba,hr.toArray=Lu,hr.toPairs=ls,hr.toPairsIn=fs,hr.toPath=function(t){return mu(t)?Je(t,ca):Nu(t)?[t]:no(sa(qu(t)))},hr.toPlainObject=Wu,hr.transform=function(t,e,n){var r=mu(t),i=r||gu(t)||ku(t);if(e=zo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Au(t)&&Tu(o)?dr(Oe(t)):{}}return(i?He:Hr)(t,function(t,r,i){return e(n,t,r,i)}),n},hr.unary=function(t){return Ja(t,1)},hr.union=Ca,hr.unionBy=Oa,hr.unionWith=Sa,hr.uniq=function(t){return t&&t.length?Vi(t):[]},hr.uniqBy=function(t,e){return t&&t.length?Vi(t,zo(e,2)):[]},hr.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?Vi(t,o,e):[]},hr.unset=function(t,e){return null==t||Li(t,e)},hr.unzip=Pa,hr.unzipWith=ja,hr.update=function(t,e,n){return null==t?t:Bi(t,e,$i(n))},hr.updateWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:Bi(t,e,$i(n),r)},hr.values=ps,hr.valuesIn=function(t){return null==t?[]:_n(t,is(t))},hr.without=Ia,hr.words=Ts,hr.wrap=function(t,e){return cu($i(e),t)},hr.xor=Fa,hr.xorBy=Na,hr.xorWith=ka,hr.zip=za,hr.zipObject=function(t,e){return Wi(t||[],e||[],Or)},hr.zipObjectDeep=function(t,e){return Wi(t||[],e||[],Ai)},hr.zipWith=Va,hr.entries=ls,hr.entriesIn=fs,hr.extend=Gu,hr.extendWith=Hu,Fs(hr,hr),hr.add=Ws,hr.attempt=xs,hr.camelCase=hs,hr.capitalize=ds,hr.ceil=qs,hr.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=Uu(n))==n?n:0),e!==o&&(e=(e=Uu(e))==e?e:0),Nr(Uu(t),e,n)},hr.clone=function(t){return kr(t,d)},hr.cloneDeep=function(t){return kr(t,p|d)},hr.cloneDeepWith=function(t,e){return kr(t,p|d,e="function"==typeof e?e:o)},hr.cloneWith=function(t,e){return kr(t,d,e="function"==typeof e?e:o)},hr.conformsTo=function(t,e){return null==e||zr(t,e,rs(e))},hr.deburr=ys,hr.defaultTo=function(t,e){return null==t||t!=t?e:t},hr.divide=$s,hr.endsWith=function(t,e,n){t=qu(t),e=zi(e);var r=t.length,i=n=n===o?r:Nr(Du(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},hr.eq=pu,hr.escape=function(t){return(t=qu(t))&&Et.test(t)?t.replace(Tt,Tn):t},hr.escapeRegExp=function(t){return(t=qu(t))&&Ft.test(t)?t.replace(It,"\\$&"):t},hr.every=function(t,e,n){var r=mu(t)?Ze:Mr;return n&&Ho(t,e,n)&&(e=o),r(t,zo(e,3))},hr.find=Ua,hr.findIndex=ya,hr.findKey=function(t,e){return an(t,zo(e,3),Hr)},hr.findLast=Wa,hr.findLastIndex=ma,hr.findLastKey=function(t,e){return an(t,zo(e,3),Qr)},hr.floor=Gs,hr.forEach=qa,hr.forEachRight=$a,hr.forIn=function(t,e){return null==t?t:$r(t,zo(e,3),is)},hr.forInRight=function(t,e){return null==t?t:Gr(t,zo(e,3),is)},hr.forOwn=function(t,e){return t&&Hr(t,zo(e,3))},hr.forOwnRight=function(t,e){return t&&Qr(t,zo(e,3))},hr.get=Xu,hr.gt=hu,hr.gte=du,hr.has=function(t,e){return null!=t&&Wo(t,e,ti)},hr.hasIn=Ju,hr.head=_a,hr.identity=Ss,hr.includes=function(t,e,n,r){t=_u(t)?t:ps(t),n=n&&!r?Du(n):0;var i=t.length;return n<0&&(n=$n(i+n,0)),Fu(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&sn(t,e,n)>-1},hr.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Du(n);return i<0&&(i=$n(r+i,0)),sn(t,e,i)},hr.inRange=function(t,e,n){return e=Bu(e),n===o?(n=e,e=0):n=Bu(n),function(t,e,n){return t>=Gn(e,n)&&t<$n(e,n)}(t=Uu(t),e,n)},hr.invoke=ns,hr.isArguments=yu,hr.isArray=mu,hr.isArrayBuffer=vu,hr.isArrayLike=_u,hr.isArrayLikeObject=bu,hr.isBoolean=function(t){return!0===t||!1===t||Cu(t)&&Xr(t)==q},hr.isBuffer=gu,hr.isDate=wu,hr.isElement=function(t){return Cu(t)&&1===t.nodeType&&!Pu(t)},hr.isEmpty=function(t){if(null==t)return!0;if(_u(t)&&(mu(t)||"string"==typeof t||"function"==typeof t.splice||gu(t)||ku(t)||yu(t)))return!t.length;var e=Uo(t);if(e==K||e==nt)return!t.size;if(Yo(t))return!ci(t).length;for(var n in t)if(ce.call(t,n))return!1;return!0},hr.isEqual=function(t,e){return oi(t,e)},hr.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:o)?n(t,e):o;return r===o?oi(t,e,o,n):!!r},hr.isError=Ru,hr.isFinite=function(t){return"number"==typeof t&&Un(t)},hr.isFunction=Tu,hr.isInteger=xu,hr.isLength=Eu,hr.isMap=Ou,hr.isMatch=function(t,e){return t===e||ai(t,e,Lo(e))},hr.isMatchWith=function(t,e,n){return n="function"==typeof n?n:o,ai(t,e,Lo(e),n)},hr.isNaN=function(t){return Su(t)&&t!=+t},hr.isNative=function(t){if(Ko(t))throw new i(u);return ui(t)},hr.isNil=function(t){return null==t},hr.isNull=function(t){return null===t},hr.isNumber=Su,hr.isObject=Au,hr.isObjectLike=Cu,hr.isPlainObject=Pu,hr.isRegExp=ju,hr.isSafeInteger=function(t){return xu(t)&&t>=-N&&t<=N},hr.isSet=Iu,hr.isString=Fu,hr.isSymbol=Nu,hr.isTypedArray=ku,hr.isUndefined=function(t){return t===o},hr.isWeakMap=function(t){return Cu(t)&&Uo(t)==at},hr.isWeakSet=function(t){return Cu(t)&&Xr(t)==ut},hr.join=function(t,e){return null==t?"":Wn.call(t,e)},hr.kebabCase=ms,hr.last=Ra,hr.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=Du(n))<0?$n(r+i,0):Gn(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):un(t,ln,i,!0)},hr.lowerCase=vs,hr.lowerFirst=_s,hr.lt=zu,hr.lte=Vu,hr.max=function(t){return t&&t.length?Ur(t,Ss,Jr):o},hr.maxBy=function(t,e){return t&&t.length?Ur(t,zo(e,2),Jr):o},hr.mean=function(t){return fn(t,Ss)},hr.meanBy=function(t,e){return fn(t,zo(e,2))},hr.min=function(t){return t&&t.length?Ur(t,Ss,fi):o},hr.minBy=function(t,e){return t&&t.length?Ur(t,zo(e,2),fi):o},hr.stubArray=Ms,hr.stubFalse=Us,hr.stubObject=function(){return{}},hr.stubString=function(){return""},hr.stubTrue=function(){return!0},hr.multiply=Hs,hr.nth=function(t,e){return t&&t.length?mi(t,Du(e)):o},hr.noConflict=function(){return Fe._===this&&(Fe._=de),this},hr.noop=Ns,hr.now=Xa,hr.pad=function(t,e,n){t=qu(t);var r=(e=Du(e))?In(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return _o(Bn(i),n)+t+_o(Ln(i),n)},hr.padEnd=function(t,e,n){t=qu(t);var r=(e=Du(e))?In(t):0;return e&&r<e?t+_o(e-r,n):t},hr.padStart=function(t,e,n){t=qu(t);var r=(e=Du(e))?In(t):0;return e&&r<e?_o(e-r,n)+t:t},hr.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Qn(qu(t).replace(kt,""),e||0)},hr.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Ho(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=Bu(t),e===o?(e=t,t=0):e=Bu(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Zn();return Gn(t+i*(e-t+Se("1e-"+((i+"").length-1))),e)}return wi(t,e)},hr.reduce=function(t,e,n){var r=mu(t)?en:dn,i=arguments.length<3;return r(t,zo(e,4),n,i,Br)},hr.reduceRight=function(t,e,n){var r=mu(t)?nn:dn,i=arguments.length<3;return r(t,zo(e,4),n,i,Dr)},hr.repeat=function(t,e,n){return e=(n?Ho(t,e,n):e===o)?1:Du(e),Ri(qu(t),e)},hr.replace=function(){var t=arguments,e=qu(t[0]);return t.length<3?e:e.replace(t[1],t[2])},hr.result=function(t,e,n){var r=-1,i=(e=Gi(e,t)).length;for(i||(i=1,t=o);++r<i;){var a=null==t?o:t[ca(e[r])];a===o&&(r=i,a=n),t=Tu(a)?a.call(t):a}return t},hr.round=Qs,hr.runInContext=t,hr.sample=function(t){return(mu(t)?xr:xi)(t)},hr.size=function(t){if(null==t)return 0;if(_u(t))return Fu(t)?In(t):t.length;var e=Uo(t);return e==K||e==nt?t.size:ci(t).length},hr.snakeCase=bs,hr.some=function(t,e,n){var r=mu(t)?rn:ji;return n&&Ho(t,e,n)&&(e=o),r(t,zo(e,3))},hr.sortedIndex=function(t,e){return Ii(t,e)},hr.sortedIndexBy=function(t,e,n){return Fi(t,e,zo(n,2))},hr.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Ii(t,e);if(r<n&&pu(t[r],e))return r}return-1},hr.sortedLastIndex=function(t,e){return Ii(t,e,!0)},hr.sortedLastIndexBy=function(t,e,n){return Fi(t,e,zo(n,2),!0)},hr.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Ii(t,e,!0)-1;if(pu(t[n],e))return n}return-1},hr.startCase=gs,hr.startsWith=function(t,e,n){return t=qu(t),n=null==n?0:Nr(Du(n),0,t.length),e=zi(e),t.slice(n,n+e.length)==e},hr.subtract=Zs,hr.sum=function(t){return t&&t.length?yn(t,Ss):0},hr.sumBy=function(t,e){return t&&t.length?yn(t,zo(e,2)):0},hr.template=function(t,e,n){var r=hr.templateSettings;n&&Ho(t,e,n)&&(e=o),t=qu(t),e=Hu({},e,r,Ao);var i,a,u=Hu({},e.imports,r.imports,Ao),s=rs(u),c=_n(u,s),l=0,f=e.interpolate||Kt,p="__p += '",h=ee((e.escape||Kt).source+"|"+f.source+"|"+(f===Ot?Ut:Kt).source+"|"+(e.evaluate||Kt).source+"|$","g"),d="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Ee+"]")+"\n";t.replace(h,function(e,n,r,o,u,s){return r||(r=o),p+=t.slice(l,s).replace(Yt,xn),n&&(i=!0,p+="' +\n__e("+n+") +\n'"),u&&(a=!0,p+="';\n"+u+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+e.length,e}),p+="';\n";var y=e.variable;y||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(bt,""):p).replace(gt,"$1").replace(wt,"$1;"),p="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=xs(function(){return Xt(s,d+"return "+p).apply(o,c)});if(m.source=p,Ru(m))throw m;return m},hr.times=function(t,e){if((t=Du(t))<1||t>N)return[];var n=V,r=Gn(t,V);e=zo(e),t-=V;for(var i=mn(r,e);++n<t;)e(n);return i},hr.toFinite=Bu,hr.toInteger=Du,hr.toLength=Mu,hr.toLower=function(t){return qu(t).toLowerCase()},hr.toNumber=Uu,hr.toSafeInteger=function(t){return t?Nr(Du(t),-N,N):0===t?t:0},hr.toString=qu,hr.toUpper=function(t){return qu(t).toUpperCase()},hr.trim=function(t,e,n){if((t=qu(t))&&(n||e===o))return t.replace(Nt,"");if(!t||!(e=zi(e)))return t;var r=Fn(t),i=Fn(e);return Qi(r,gn(r,i),wn(r,i)+1).join("")},hr.trimEnd=function(t,e,n){if((t=qu(t))&&(n||e===o))return t.replace(zt,"");if(!t||!(e=zi(e)))return t;var r=Fn(t);return Qi(r,0,wn(r,Fn(e))+1).join("")},hr.trimStart=function(t,e,n){if((t=qu(t))&&(n||e===o))return t.replace(kt,"");if(!t||!(e=zi(e)))return t;var r=Fn(t);return Qi(r,gn(r,Fn(e))).join("")},hr.truncate=function(t,e){var n=C,r=O;if(Au(e)){var i="separator"in e?e.separator:i;n="length"in e?Du(e.length):n,r="omission"in e?zi(e.omission):r}var a=(t=qu(t)).length;if(En(t)){var u=Fn(t);a=u.length}if(n>=a)return t;var s=n-In(r);if(s<1)return r;var c=u?Qi(u,0,s).join(""):t.slice(0,s);if(i===o)return c+r;if(u&&(s+=c.length-s),ju(i)){if(t.slice(s).search(i)){var l,f=c;for(i.global||(i=ee(i.source,qu(Wt.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var p=l.index;c=c.slice(0,p===o?s:p)}}else if(t.indexOf(zi(i),s)!=s){var h=c.lastIndexOf(i);h>-1&&(c=c.slice(0,h))}return c+r},hr.unescape=function(t){return(t=qu(t))&&xt.test(t)?t.replace(Rt,Nn):t},hr.uniqueId=function(t){var e=++le;return qu(t)+e},hr.upperCase=ws,hr.upperFirst=Rs,hr.each=qa,hr.eachRight=$a,hr.first=_a,Fs(hr,function(){var t={};return Hr(hr,function(e,n){ce.call(hr.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),hr.VERSION="4.17.10",He(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){hr[t].placeholder=hr}),He(["drop","take"],function(t,e){vr.prototype[t]=function(n){n=n===o?1:$n(Du(n),0);var r=this.__filtered__&&!e?new vr(this):this.clone();return r.__filtered__?r.__takeCount__=Gn(n,r.__takeCount__):r.__views__.push({size:Gn(n,V),type:t+(r.__dir__<0?"Right":"")}),r},vr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),He(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==j||3==n;vr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:zo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),He(["head","last"],function(t,e){var n="take"+(e?"Right":"");vr.prototype[t]=function(){return this[n](1).value()[0]}}),He(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");vr.prototype[t]=function(){return this.__filtered__?new vr(this):this[n](1)}}),vr.prototype.compact=function(){return this.filter(Ss)},vr.prototype.find=function(t){return this.filter(t).head()},vr.prototype.findLast=function(t){return this.reverse().find(t)},vr.prototype.invokeMap=Ti(function(t,e){return"function"==typeof t?new vr(this):this.map(function(n){return ri(n,t,e)})}),vr.prototype.reject=function(t){return this.filter(uu(zo(t)))},vr.prototype.slice=function(t,e){t=Du(t);var n=this;return n.__filtered__&&(t>0||e<0)?new vr(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=Du(e))<0?n.dropRight(-e):n.take(e-t)),n)},vr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},vr.prototype.toArray=function(){return this.take(V)},Hr(vr.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=hr[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);i&&(hr.prototype[e]=function(){var e=this.__wrapped__,u=r?[1]:arguments,s=e instanceof vr,c=u[0],l=s||mu(e),f=function(t){var e=i.apply(hr,tn([t],u));return r&&p?e[0]:e};l&&n&&"function"==typeof c&&1!=c.length&&(s=l=!1);var p=this.__chain__,h=!!this.__actions__.length,d=a&&!p,y=s&&!h;if(!a&&l){e=y?e:new vr(this);var m=t.apply(e,u);return m.__actions__.push({func:Ba,args:[f],thisArg:o}),new mr(m,p)}return d&&y?t.apply(this,u):(m=this.thru(f),d?r?m.value()[0]:m.value():m)})}),He(["pop","push","shift","sort","splice","unshift"],function(t){var e=ie[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);hr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(mu(i)?i:[],t)}return this[n](function(n){return e.apply(mu(n)?n:[],t)})}}),Hr(vr.prototype,function(t,e){var n=hr[e];if(n){var r=n.name+"";(ir[r]||(ir[r]=[])).push({name:e,func:n})}}),ir[ho(o,_).name]=[{name:"wrapper",func:o}],vr.prototype.clone=function(){var t=new vr(this.__wrapped__);return t.__actions__=no(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=no(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=no(this.__views__),t},vr.prototype.reverse=function(){if(this.__filtered__){var t=new vr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},vr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=mu(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Gn(e,t+a);break;case"takeRight":t=$n(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,u=o.end,s=u-a,c=r?u:a-1,l=this.__iteratees__,f=l.length,p=0,h=Gn(s,this.__takeCount__);if(!n||!r&&i==s&&h==s)return Mi(t,this.__actions__);var d=[];t:for(;s--&&p<h;){for(var y=-1,m=t[c+=e];++y<f;){var v=l[y],_=v.iteratee,b=v.type,g=_(m);if(b==I)m=g;else if(!g){if(b==j)continue t;break t}}d[p++]=m}return d},hr.prototype.at=Da,hr.prototype.chain=function(){return La(this)},hr.prototype.commit=function(){return new mr(this.value(),this.__chain__)},hr.prototype.next=function(){this.__values__===o&&(this.__values__=Lu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},hr.prototype.plant=function(t){for(var e,n=this;n instanceof yr;){var r=fa(n);r.__index__=0,r.__values__=o,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},hr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof vr){var e=t;return this.__actions__.length&&(e=new vr(this)),(e=e.reverse()).__actions__.push({func:Ba,args:[Aa],thisArg:o}),new mr(e,this.__chain__)}return this.thru(Aa)},hr.prototype.toJSON=hr.prototype.valueOf=hr.prototype.value=function(){return Mi(this.__wrapped__,this.__actions__)},hr.prototype.first=hr.prototype.head,Ve&&(hr.prototype[Ve]=function(){return this}),hr}();Fe._=kn,(i=function(){return kn}.call(e,n,e,r))===o||(r.exports=i)}).call(this)}).call(this,n(15),n(20)(t))},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(4),a=n(6),u=n(1),s=n(21),c=n(3),l=n(8),f=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o.func=n,o.args=s.clone(r),o.receiver=i;var a=o.func.type.returnType;return a instanceof u.VoidType||a instanceof u.ReferenceType||(o.returnByValueTarget=o.createTemporaryObject(a,(o.func.name||"unknown")+"() [return]")),o.context.translationUnit.registerFunctionCall(o),o}return r(e,t),e.prototype.createRuntimeFunctionCall=function(t){return new d(this,t)},e}(i.PotentialFullExpression);e.FunctionCall=f;var p=0,h=2,d=function(t){function e(e,n){var r=t.call(this,e,"call",n)||this;r.index=p;var i=r.model.func.definition;(r.argInitializers=r.model.argInitializers.map(function(t){return t.createRuntimeInitializer(r)}),r.receiver=r.model.receiver&&r.model.receiver.runtimeLookup(r),r.calledFunction=i.createRuntimeFunction(r,r.receiver),r.model.returnByValueTarget)&&r.calledFunction.setReturnObject(r.model.returnByValueTarget.objectInstance(r));return r.index=h,r}return r(e,t),e.prototype.upNextImpl=function(){if(1===this.index)for(var t=this.argInitializers.length-1;t>=0;--t)this.sim.push(this.argInitializers[t]);else 2===this.index&&(this.calledFunction.loseControl(),this.containingRuntimeFunction.gainControl(),this.done(),this.sim.pop())},e.prototype.stepForwardImpl=function(){this.index===p?(this.calledFunction.pushStackFrame(),this.index=1):this.index===h&&(this.containingRuntimeFunction.loseControl(),this.sim.push(this.calledFunction),this.calledFunction.gainControl(),this.receiver&&this.receiver.callReceived(),this.observable.send("called",this.calledFunction),this.index=2)},e}(i.RuntimePotentialFullExpression);e.RuntimeFunctionCall=d;var y=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.attach(i.operand=n),i.args=r,r.forEach(function(t){return i.attach(t)}),l.allWellTyped(r)?n instanceof a.IdentifierExpression?n.entity?n.entity instanceof o.FunctionEntity?(i.type=u.noRef(n.entity.type.returnType),i.valueCategory=n.entity.type.returnType instanceof u.ReferenceType?"lvalue":"prvalue",i.call=new f(e,n.entity,r),i):(i.addNote(c.CPPError.expr.functionCall.operand(i,n.entity)),i):i:(i.addNote(c.CPPError.expr.functionCall.invalid_operand_expression(i,n)),i):i}return r(e,t),e.createFromAST=function(t,n){var r=t.args.map(function(t){return a.createExpressionFromAST(t,n)}),o=r.map(function(t){return t.type});return new e(n,a.createExpressionFromAST(t.operand,i.createExpressionContext(n,o)),r)},e.prototype.createRuntimeExpression=function(t){return new v(this,t)},e.prototype.describeEvalResult=function(t){throw new Error("Method not implemented.")},e}(l.Expression);e.FunctionCallExpression=y;var m=0,v=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.index=m,r.operand=r.model.operand.createRuntimeExpression(r),r.args=r.model.args.map(function(t){return t.createRuntimeExpression(r)}),r.call=r.model.call.createRuntimeFunctionCall(r),r}return r(e,t),e.prototype.upNextImpl=function(){if(this.index===m)this.sim.push(this.operand),this.index=1;else{if(1===this.index)return this.sim.push(this.call),this.index=2,!0;if(2===this.index){if(this.model.type,u.VoidType,this.model.isReferenceTyped())this.setEvalResult(this.call.calledFunction.returnObject);else if(this.model.isAtomicTyped()){var t=this.call.calledFunction.returnObject;this.setEvalResult(t.getValue())}else this.setEvalResult(this.call.calledFunction.returnObject);this.sim.pop()}}},e.prototype.stepForwardImpl=function(){},e}(l.RuntimeExpression);e.RuntimeFunctionCallExpression=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),i=n(7),o=n(2),a=n(0),u=n(9),s=n(1);!function(t){t.UNDEFINED_BEHAVIOR="undefined_behavior",t.UNSPECIFIED_BEHAVIOR="unspecified_behavior",t.IMPLEMENTATION_DEFINED_BEHAVIOR="implementation_defined_behavior",t.MEMORY_LEAK="memory_leak",t.ASSERTION_FAILURE="assertion_failure",t.CRASH="crash"}(e.SimulationEvent||(e.SimulationEvent={}));var c=function(){function t(t){this.observable=new r.Observable(this),this.random=new a.CPPRandom,this.alertsOff=!1,this._eventsOccurred={undefined_behavior:[],unspecified_behavior:[],implementation_defined_behavior:[],memory_leak:[],assertion_failure:[],crash:[]},this.eventsOccurred=this._eventsOccurred,this.isPaused=!0,this.program=t,this.memory=new i.Memory,this.execStack=this._execStack=[],this.pendingNews=[],this.leakCheckIndex=0,this.isPaused=!0,this.stepsTaken=0,this.atEnd=!1,this.start()}return t.prototype.start=function(){this.allocateStringLiterals(),this.callMain(),this.push(this.program.globalObjectAllocator.createRuntimeConstruct(this)),this.observable.send("started"),this.upNext()},t.prototype.callMain=function(){this.mainReturnObject=new u.MainReturnObject(this.memory),this.mainFunction=new o.RuntimeFunction(this.program.mainFunction,this),this.mainFunction.setReturnObject(this.mainReturnObject),this.mainFunction.pushStackFrame(),this.push(this.mainFunction),this.mainFunction.gainControl()},t.prototype.push=function(t){this._execStack.push(t),t.pushed(),this.observable.send("pushed",t)},t.prototype.top=function(){if(this.execStack.length>0)return this.execStack[this.execStack.length-1]},t.prototype.pop=function(){return this._execStack.pop()},t.prototype.popUntil=function(t){for(;this._execStack.length>0&&this._execStack[this._execStack.length-1]!==t;)this.pop()},t.prototype.topFunction=function(){for(var t=this.execStack.length-1;t>=0;--t){var e=this.execStack[t];if(e instanceof o.RuntimeFunction)return e}},t.prototype.allocateStringLiterals=function(){var t=this,e=this.program.translationUnits;for(var n in e)e[n].stringLiterals.forEach(function(e){t.memory.allocateStringLiteral(e)})},t.prototype.stepForward=function(t){void 0===t&&(t=1);for(var e=0;!this.atEnd&&e<t;++e)this._stepForward();this.observable.send("afterFullStep",this.execStack.length>0&&this.execStack[this.execStack.length-1])},t.prototype._stepForward=function(){var t=this.top();t&&(this.observable.send("beforeStepForward",{rt:t}),t.stepForward(),this.observable.send("afterStepForward",{rt:t}),++this.stepsTaken,this.upNext())},t.prototype.upNext=function(){for(;;){var t=this.top();if(!t)return this.atEnd=!0,void this.observable.send("atEnded");if(this.observable.send("beforeUpNext",{rt:t}),t.upNext(),this.observable.send("afterUpNext",{inst:t}),t===this.top())break}},t.prototype.stepToEnd=function(){for(;!this.atEnd;)this.stepForward()},t.prototype.cout=function(t){var e="";if(t.type instanceof s.PointerType&&t.type.ptrTo instanceof s.Char)for(var n=t.rawValue,r=this.memory.getByte(n);!s.Char.isNullChar(r);)e+=t.type.ptrTo.valueToOstreamString(r),r=this.memory.getByte(++n);else e=a.escapeString(t.valueToOstreamString());console.log("cout: "+e)},t.prototype.eventOccurred=function(t,e,n){this._eventsOccurred[t].push(e),n&&this.alert(e)},t.prototype.hasEventOccurred=function(t){return this.eventsOccurred[t].length>0},t.prototype.alert=function(t){this.alertsOff||this.observable.send("alert",t)},t}();e.Simulation=c},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e){t.exports=function(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},function(t,e,n){var r=n(30),i=n(29),o=n(28);t.exports=function(t,e,n){return e==e?o(t,e,n):r(t,i,n)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(32),i=n(31),o=n(27),a=n(26),u=n(25),s=Array.prototype.splice;t.exports=function(t,e,n,c){var l=c?o:i,f=-1,p=e.length,h=t;for(t===e&&(e=u(e)),n&&(h=r(t,a(n)));++f<p;)for(var d=0,y=e[f],m=n?n(y):y;(d=l(h,m,d,c))>-1;)h!==t&&s.call(h,d,1),s.call(t,d,1);return t}},function(t,e,n){var r=n(33);t.exports=function(t,e){return t&&t.length&&e&&e.length?r(t,e):t}},function(t,e){var n=800,r=16,i=Date.now;t.exports=function(t){var e=0,o=0;return function(){var a=i(),u=r-(a-o);if(o=a,u>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(16)["__core-js_shared__"];t.exports=r},function(t,e,n){var r=n(38),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(17),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,u=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[u]=n:delete t[u]),i}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(15))},function(t,e,n){var r=n(17),i=n(41),o=n(40),a="[object Null]",u="[object Undefined]",s=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?u:a:s&&s in Object(t)?i(t):o(t)}},function(t,e,n){var r=n(43),i=n(14),o="[object AsyncFunction]",a="[object Function]",u="[object GeneratorFunction]",s="[object Proxy]";t.exports=function(t){if(!i(t))return!1;var e=r(t);return e==a||e==u||e==o||e==s}},function(t,e,n){var r=n(44),i=n(39),o=n(14),a=n(37),u=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?p:u).test(a(t))}},function(t,e,n){var r=n(45),i=n(36);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e,n){var r=n(46),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){var r=n(48),i=n(47),o=n(18),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e,n){var r=n(49),i=n(35)(r);t.exports=i},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(51),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,u=i(o.length-e,0),s=Array(u);++a<u;)s[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=n(s),r(t,this,c)}}},function(t,e,n){var r=n(18),i=n(52),o=n(50);t.exports=function(t,e){return o(i(t,e,r),t+"")}},function(t,e,n){var r=n(53)(n(34));t.exports=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(n,r,i,o){var a=t.call(this)||this;return a.message=n,a.expected=r,a.found=i,a.location=o,a.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(a,e),a}return r(e,t),e.buildMessage=function(t,e){function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function r(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function i(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function o(t){switch(t.type){case"literal":return'"'+r(t.text)+'"';case"class":var e=t.parts.map(function(t){return Array.isArray(t)?i(t[0])+"-"+i(t[1]):i(t)});return"["+(t.inverted?"^":"")+e+"]";case"any":return"any character";case"end":return"end of input";case"other":return t.description}}return"Expected "+function(t){var e,n,r=t.map(o);if(r.sort(),r.length>0){for(e=1,n=1;e<r.length;e++)r[e-1]!==r[e]&&(r[n]=r[e],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(t)+" but "+function(t){return t?'"'+r(t)+'"':"end of input"}(e)+" found."},e}(Error);e.SyntaxError=i,e.parse=function(t,e){e=void 0!==e?e:{};var n,r={},o={start:ns},a=ns,u=function(t){return t},s=function(t){return{construct_type:"translation_unit",declarations:t.filter(function(t){return"comment"!==t})}},c=function(){return"comment"},l="//",f=Zu("//",!1),p=/^[^\n]/,h=Ku(["\n"],!0,!1),d="\n",y=Zu("\n",!1),m="/*",v=Zu("/*",!1),_="*/",b=Zu("*/",!1),g={type:"any"},w=function(t){return Rc(t,Qu(),Hu())},R=function(t){return wc({construct_type:"labeled_statement"},t)},T=":",x=Zu(":",!1),E=function(t,e){return{construct_type:"labeled_statement",label:t,statement:e}},A="case",C=Zu("case",!1),O=function(t,e){return{construct_type:"labeled_statement",case:t,statement:e}},S="default",P=Zu("default",!1),j=function(t){return{construct_type:"labeled_statement",default:!0,stmt:t}},I=";",F=Zu(";",!1),N=function(t){return{construct_type:"expression_statement",expression:t}},k=function(){return{construct_type:"null_statement"}},z="{",V=Zu("{",!1),L=function(t){return t},B="}",D=Zu("}",!1),M=function(t){return{construct_type:"block",statements:t}},U="if",W=Zu("if",!1),q="(",$=Zu("(",!1),G=")",H=Zu(")",!1),Q="else",Z=Zu("else",!1),K=function(t,e,n){return{construct_type:"selection_statement",condition:t,then:e,otherwise:n}},Y=function(t,e){return{construct_type:"selection_statement",condition:t,then:e}},X="while",J=Zu("while",!1),tt=function(t,e){return{construct_type:"while_statement",condition:t,body:e}},et="do",nt=Zu("do",!1),rt=function(t,e){return{construct_type:"dowhile_statement",condition:e,body:t}},it="for",ot=Zu("for",!1),at=function(t,e,n,r){return{construct_type:"for_statement",condition:e,initial:t,post:n,body:r}},ut=function(t){return Rc(t,Qu(),Hu())},st="break",ct=Zu("break",!1),lt=function(){return{construct_type:"break_statement"}},ft="continue",pt=Zu("continue",!1),ht=function(){return{construct_type:"continue_statement"}},dt="return",yt=Zu("return",!1),mt=function(t){return{construct_type:"return_statement",expression:t}},vt=function(t){return{construct_type:"declaration_statement",declaration:t}},_t=function(t,e){return Rc({construct_type:"simple_declaration",specs:t,declarators:e},Qu(),Hu())},bt=",",gt=Zu(",",!1),wt=function(t,e){return e},Rt=function(t,e){return e.unshift(t),e},Tt=function(t){return Rc(wc({construct_type:"class_declaration"},t),Qu(),Hu())},xt=function(t,e,n){return Rc({construct_type:"function_definition",specs:t,declarator:e,body:n},Qu(),Hu())},Et=function(t,e,n){return null},At=function(t,e,n,r){return Rc({construct_type:"constructor_definition",name:t,body:r,initializer:n,args:e},Qu(),Hu())},Ct="~",Ot=Zu("~",!1),St=function(t){return null},Pt=function(t,e){return Rc({construct_type:"destructor_definition",name:{identifier:"~"+t.identifier},body:e},Qu(),Hu())},jt="virtual",It=Zu("virtual",!1),Ft=function(t,e){return Rc({construct_type:"destructor_definition",name:{identifier:"~"+t.identifier},body:e,virtual:!0},Qu(),Hu())},Nt=function(t,e){return e},kt=function(t,e){return e.unshift(t),e},zt=function(t,e){return Rc({construct_type:"member_initializer",member:t,args:e||[]},Qu(),Hu())},Vt=function(t){return t},Lt=function(t,e,n){return n},Bt=function(t,e,n){t.push({typeSpec:e});for(var r=t.concat(n),i={typeSpecs:[],storageSpecs:[]},o=0;o<r.length;++o){var a=r[o];a.typeSpec?i.typeSpecs.push(a.typeSpec):a.storageSpec?i.storageSpecs.push(a.storageSpec):"friend"===a?i.friend=!0:"typedef"===a?i.typedef=!0:"inline"===a?i.inline=!0:"explicit"===a?i.explicit=!0:"virtual"===a&&(i.virtual=!0)}return Rc(i,Qu(),Hu())},Dt=function(t){return{typeSpec:t}},Mt=function(t){return{storageSpec:t}},Ut="typedef",Wt=Zu("typedef",!1),qt="friend",$t=Zu("friend",!1),Gt=function(t,e,n){return t.push(e),Rc(t=t.concat(n),Qu(),Hu())},Ht="const",Qt=Zu("const",!1),Zt="volatile",Kt=Zu("volatile",!1),Yt="register",Xt=Zu("register",!1),Jt="static",te=Zu("static",!1),ee="thread_local",ne=Zu("thread_local",!1),re="extern",ie=Zu("extern",!1),oe="mutable",ae=Zu("mutable",!1),ue="inline",se=Zu("inline",!1),ce="explicit",le=Zu("explicit",!1),fe=Yu("simple type name"),pe=function(t){return t},he="char",de=Zu("char",!1),ye="short",me=Zu("short",!1),ve="int",_e=Zu("int",!1),be="bool",ge=Zu("bool",!1),we="long",Re=Zu("long",!1),Te="signed",xe=Zu("signed",!1),Ee="unsigned",Ae=Zu("unsigned",!1),Ce="float",Oe=Zu("float",!1),Se="double",Pe=Zu("double",!1),je="void",Ie=Zu("void",!1),Fe=function(t){return function(t){return xc()[t]}(t.identifier)},Ne=function(t){return t.identifier},ke="enum",ze=Zu("enum",!1),Ve=function(t,e,n){return n},Le=function(t,e,n){return"enum"},Be="=",De=Zu("=",!1),Me=function(t,e){return e},Ue=function(t,e){return{name:t,value:e}},We="@library_unsupported@",qe=Zu("@library_unsupported@",!1),$e=function(t){return Rc(wc(t,{library_unsupported:!0}),Qu(),Hu())},Ge=function(t,e){return Rc(wc(t,{initializer:e}),Qu(),Hu())},He=function(t){return{construct_type:"direct_initializer",args:t}},Qe=function(t){return{construct_type:"copy_initializer",args:[t]}},Ze=function(t){return t},Ke=function(t,e,n){return n},Ye=function(t,e){return e.unshift(t),Rc({construct_type:"initializer_list",args:e},Qu(),Hu())},Xe=function(t){return Rc(wc({construct_type:"declarator"},t),Qu(),Hu())},Je=function(t){return Rc(wc({construct_type:"declarator",abstract:!0},t),Qu(),Hu())},tn="*",en=Zu("*",!1),nn=function(t,e){return wc({pointer:e},t)},rn="&",on=Zu("&",!1),an=function(t,e){return wc({reference:e},t)},un=function(t,e){return wc(t,{postfixes:e})},sn=function(t){return t},cn=function(t,e){return wc({kind:"function",args:t},e)},ln="[",fn=Zu("[",!1),pn="]",hn=Zu("]",!1),dn=function(t){return{kind:"array",size:t}},yn=function(t){return{name:t}},mn=function(t){return{sub:t}},vn="",_n=function(){return{}},bn=function(t,e){return Rc({specs:t,declarator:e},Qu(),Hu())},gn=function(){return{const:!0,volatile:!0}},wn=function(){return{const:!0}},Rn=function(){return{volatile:!0}},Tn=function(t,e){return e},xn=function(t,e){return e.unshift(t),e},En=function(){return[]},An=function(t,e,n){return{construct_type:"parameter_declaration",declarator:e,specs:t,initializer:n}},Cn=function(t,e){return Rc({construct_type:"parameter_declaration",specs:t,declarator:e},Qu(),Hu())},On=function(t,e,n){return[e,n]},Sn=function(t,e){return Rc(gc(t,e,"left","comma_expression"),Qu(),Hu())},Pn=function(t,e,n){return Rc({construct_type:"assignment_expression",lhs:t,operator:e,rhs:n},Qu(),Hu())},jn=function(t,e,n){return Rc({construct_type:"compound_assignment",lhs:t,operator:e,rhs:n},Qu(),Hu())},In="*=",Fn=Zu("*=",!1),Nn="/=",kn=Zu("/=",!1),zn="%=",Vn=Zu("%=",!1),Ln="+=",Bn=Zu("+=",!1),Dn="-=",Mn=Zu("-=",!1),Un=">>=",Wn=Zu(">>=",!1),qn="<<=",$n=Zu("<<=",!1),Gn="&=",Hn=Zu("&=",!1),Qn="and_eq",Zn=Zu("and_eq",!1),Kn=function(){return"&="},Yn="^=",Xn=Zu("^=",!1),Jn="xor_eq",tr=Zu("xor_eq",!1),er=function(){return"^="},nr="|=",rr=Zu("|=",!1),ir="or_eq",or=Zu("or_eq",!1),ar=function(){return"|="},ur=function(t){return t.constant=!0,t},sr="?",cr=Zu("?",!1),lr=function(t,e,n){return Rc({construct_type:"ternary_expression",condition:t,then:e,otherwise:n},Qu(),Hu())},fr="||",pr=Zu("||",!1),hr="or",dr=Zu("or",!1),yr=function(t,e,n){return["||",n]},mr=function(t,e){return Rc(gc(t,e,"left","logical_binary_operator_expression"),Qu(),Hu())},vr="&&",_r=Zu("&&",!1),br="and",gr=Zu("and",!1),wr=function(t,e,n){return["&&",n]},Rr="|",Tr=Zu("|",!1),xr="bitor",Er=Zu("bitor",!1),Ar=function(t,e,n){return["|",n]},Cr=function(t,e){return Rc(gc(t,e,"left","arithmetic_binary_operator_expression"),Qu(),Hu())},Or="^",Sr=Zu("^",!1),Pr="xor",jr=Zu("xor",!1),Ir=function(t,e,n){return["^",n]},Fr="bitand",Nr=Zu("bitand",!1),kr=function(t,e,n){return["&",n]},zr="==",Vr=Zu("==",!1),Lr="!=",Br=Zu("!=",!1),Dr="not_eq",Mr=Zu("not_eq",!1),Ur=function(t){return"!="},Wr=function(t,e){return Rc(gc(t,e,"left","relational_binary_operator_expression"),Qu(),Hu())},qr="<=",$r=Zu("<=",!1),Gr=">=",Hr=Zu(">=",!1),Qr="<",Zr=Zu("<",!1),Kr=">",Yr=Zu(">",!1),Xr="<<",Jr=Zu("<<",!1),ti=">>",ei=Zu(">>",!1),ni="+",ri=Zu("+",!1),ii="-",oi=Zu("-",!1),ai="/",ui=Zu("/",!1),si="%",ci=Zu("%",!1),li=function(t,e){return Rc(gc(t,e,"left","pointer_to_member_expression"),Qu(),Hu())},fi=".*",pi=Zu(".*",!1),hi="->*",di=Zu("->*",!1),yi=function(t,e){return Rc({construct_type:"c_style_cast_expression",type:t,operand:e},Qu(),Hu())},mi="++",vi=Zu("++",!1),_i=function(t,e){return Rc({construct_type:"prefix_increment_expression",operator:t,operand:e},Qu(),Hu())},bi="--",gi=Zu("--",!1),wi=function(t,e){return Rc({construct_type:"prefix_decrement_expression",operator:t,operand:e},Qu(),Hu())},Ri=function(t,e){return Rc(wc({operand:e},t),Qu(),Hu())},Ti="sizeof",xi=Zu("sizeof",!1),Ei=function(t,e){return Rc({construct_type:"sizeof_expression",operator:"sizeof",operand:e},Qu(),Hu())},Ai=function(t,e){return Rc({construct_type:"sizeof_type_expression",operator:"sizeof",operand:e},Qu(),Hu())},Ci=function(){return{construct_type:"dereference_expression",operator:"*"}},Oi=function(){return{construct_type:"address_of_expression",operator:"&"}},Si=function(){return{construct_type:"unary_plus_expression",operator:"+"}},Pi=function(){return{construct_type:"unary_minus_expression",operator:"-"}},ji="!",Ii=Zu("!",!1),Fi=function(){return{construct_type:"logical_not_expression",operator:"!"}},Ni="not",ki=Zu("not",!1),zi=function(){return{construct_type:"bitwise_not_expression",operator:"~"}},Vi="compl",Li=Zu("compl",!1),Bi="new",Di=Zu("new",!1),Mi=function(t,e){return Rc(wc({construct_type:"new_expression",initializer:e},t),Qu(),Hu())},Ui=function(t,e){return Rc(wc({construct_type:"new_expression",initializer:e},t),Qu(),Hu())},Wi=function(t,e){return e},qi=function(t,e){return Rc({specs:t,declarator:e},Qu(),Hu())},$i=function(t){return Rc(wc({construct_type:"declarator"},t),Qu(),Hu())},Gi=function(t){return{postfixes:t}},Hi=function(t){return t},Qi=function(t){return{type:"array",size:t}},Zi=function(t){return{args:t||[]}},Ki="delete",Yi=Zu("delete",!1),Xi=function(t){return Rc({construct_type:"delete_expression",operand:t},Qu(),Hu())},Ji=function(t){return Rc({construct_type:"delete_array_expression",operand:t},Qu(),Hu())},to="static_cast",eo=Zu("static_cast",!1),no=function(t,e){return Rc({construct_type:"static_cast_expression",type:t,operand:e},Qu(),Hu())},ro="dynamic_cast",io=Zu("dynamic_cast",!1),oo=function(t,e){return Rc({construct_type:"dynamic_cast_expression",type:t,operand:e},Qu(),Hu())},ao="reinterpret_cast",uo=Zu("reinterpret_cast",!1),so=function(t,e){return Rc({construct_type:"reinterpret_cast_expression",type:t,operand:e},Qu(),Hu())},co="const_cast",lo=Zu("const_cast",!1),fo=function(t,e){return Rc({construct_type:"const_cast_expression",type:t,operand:e},Qu(),Hu())},po=function(t,e){return e},ho=function(t,e){return e.length>0?Rc(function t(e,n){if(0==e.length)return n;var r=e.pop();return r.operand=t(e,n),r}(e,t),Qu(),Hu()):t},yo=function(t){return Rc({construct_type:"subscript_expression",arg:t},Qu(),Hu())},mo=function(t){return Rc({construct_type:"function_call_expression",args:t||[]},Qu(),Hu())},vo=".",_o=Zu(".",!1),bo=function(t){return Rc({construct_type:"dot_expression",member:t},Qu(),Hu())},go="->",wo=Zu("->",!1),Ro=function(t){return Rc({construct_type:"arrow_expression",member:t},Qu(),Hu())},To=function(){return Rc({construct_type:"postfix_increment_expression"},Qu(),Hu())},xo=function(){return Rc({construct_type:"postfix_decrement_expression"},Qu(),Hu())},Eo=function(t,e){return Rc({construct_type:"construct_expression",type:t,args:e||[]},Qu(),Hu())},Ao=function(t,e){return e},Co=function(t){return Rc({construct_type:"parentheses_expression",subexpression:t},Qu(),Hu())},Oo="this",So=Zu("this",!1),Po=function(){return Rc({construct_type:"this_expression"},Qu(),Hu())},jo=function(t){return Rc(wc({construct_type:"identifier_expression"},t),Qu(),Hu())},Io=function(t,e){return t.push(e),{identifier:t}},Fo="::",No=Zu("::",!1),ko=function(t){return t},zo=function(){return[]},Vo=function(t){return Rc({identifier:t},Qu(),Hu())},Lo="operator",Bo=Zu("operator",!1),Do=function(t){return Rc({identifier:"operator"+t,operator:t},Qu(),Hu())},Mo="new[]",Uo=Zu("new[]",!1),Wo="delete[]",qo=Zu("delete[]",!1),$o="()",Go=Zu("()",!1),Ho="[]",Qo=Zu("[]",!1),Zo=(Zu("?:",!1),function(t){return Rc({construct_type:"numeric_literal",type:"float",value:t},Qu(),Hu())}),Ko=function(t){return Rc({construct_type:"numeric_literal",type:"int",value:t},Qu(),Hu())},Yo=function(t){return Rc({construct_type:"numeric_literal",type:"char",value:t},Qu(),Hu())},Xo=function(t){return Rc({construct_type:"string_literal",type:"string",value:t},Qu(),Hu())},Jo=function(t){return Rc({construct_type:"numeric_literal",type:"bool",value:t},Qu(),Hu())},ta=/^[0-9]/,ea=Ku([["0","9"]],!1,!1),na=function(t,e){return parseInt((t||"")+e.join(""))},ra=/^[0-9.]/,ia=Ku([["0","9"],"."],!1,!1),oa=function(t,e){return e.indexOf(".")==e.lastIndexOf(".")&&-1!=e.indexOf(".")},aa=function(t,e){return parseFloat((t||"")+e.join(""))},ua="'",sa=Zu("'",!1),ca=/^[^'\\\n]/,la=Ku(["'","\\","\n"],!0,!1),fa=function(t){return t},pa='"',ha=Zu('"',!1),da=/^[^"\\\n]/,ya=Ku(['"',"\\","\n"],!0,!1),ma=function(t){return t.join("")},va="true",_a=Zu("true",!1),ba=function(){return!0},ga="false",wa=Zu("false",!1),Ra=function(){return!1},Ta='\\"',xa=Zu('\\"',!1),Ea="\\'",Aa=Zu("\\'",!1),Ca="\\?",Oa=Zu("\\?",!1),Sa="\\\\",Pa=Zu("\\\\",!1),ja="\\a",Ia=Zu("\\a",!1),Fa="\\b",Na=Zu("\\b",!1),ka="\\f",za=Zu("\\f",!1),Va="\\n",La=Zu("\\n",!1),Ba="\\r",Da=Zu("\\r",!1),Ma="\\t",Ua=Zu("\\t",!1),Wa="\\v",qa=Zu("\\v",!1),$a="\\0",Ga=Zu("\\0",!1),Ha=/^[0-8]/,Qa=Ku([["0","8"]],!1,!1),Za=Yu("identifier"),Ka=function(t,e){return Rc({identifier:t+e.join("")},Qu(),Hu())},Ya=/^[a-zA-Z0-9_]/,Xa=Ku([["a","z"],["A","Z"],["0","9"],"_"],!1,!1),Ja=/^[a-zA-Z_]/,tu=Ku([["a","z"],["A","Z"],"_"],!1,!1),eu=Yu("optional whitespace"),nu=/^[ \t\n\r]/,ru=Ku([" ","\t","\n","\r"],!1,!1),iu=Yu("whitespace"),ou=function(t){xc()[t.name.identifier]=!0},au=function(t,e){return Rc({head:t,member_specs:e},Qu(),Hu())},uu=function(t,e,n){return n},su=function(t,e,n){return Rc({key:t,name:e,bases:n},Qu(),Hu())},cu="class",lu=Zu("class",!1),fu="struct",pu=Zu("struct",!1),hu="union",du=Zu("union",!1),yu=function(t){return t},mu=function(t){return{members:t}},vu=function(t,e){return e},_u=function(t,e){return{members:e,access:t}},bu="private",gu=Zu("private",!1),wu="protected",Ru=Zu("protected",!1),Tu="public",xu=Zu("public",!1),Eu=function(t,e){return Rc({construct_type:"member_declaration",specs:t,declarators:e},Qu(),Hu())},Au=function(t){return t},Cu=function(t){return t},Ou=function(t){return t},Su="0",Pu=Zu("0",!1),ju=function(t){return t.pureVirtual=!0,t},Iu=function(t){return t.library_unsupported=!0,t},Fu=function(t,e){return t.init=e,t},Nu=function(t){return t},ku=function(t,e){return e},zu=function(t){return t},Vu=function(t,e){return{name:e,virtual:!0,access:t}},Lu=function(t,e){return{name:e,access:t}},Bu=function(t){return{name:t}},Du=function(t,e){return t.push(e),t},Mu=0,Uu=0,Wu=[{line:1,column:1}],qu=0,$u=[],Gu=0;if(void 0!==e.startRule){if(!(e.startRule in o))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=o[e.startRule]}function Hu(){return t.substring(Uu,Mu)}function Qu(){return Ju(Uu,Mu)}function Zu(t,e){return{type:"literal",text:t,ignoreCase:e}}function Ku(t,e,n){return{type:"class",parts:t,inverted:e,ignoreCase:n}}function Yu(t){return{type:"other",description:t}}function Xu(e){var n,r=Wu[e];if(r)return r;for(n=e-1;!Wu[n];)n--;for(r={line:(r=Wu[n]).line,column:r.column};n<e;)10===t.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return Wu[e]=r,r}function Ju(t,e){var n=Xu(t),r=Xu(e);return{start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:r.line,column:r.column}}}function ts(t){Mu<qu||(Mu>qu&&(qu=Mu,$u=[]),$u.push(t))}function es(t,e,n){return new i(i.buildMessage(t,e),t,e,n)}function ns(){var t,e,n,i;if(t=Mu,pc()!==r){for(e=[],n=Mu,(i=rs())!==r&&pc()!==r?(Uu=n,n=i=u(i)):(Mu=n,n=r);n!==r;)e.push(n),n=Mu,(i=rs())!==r&&pc()!==r?(Uu=n,n=i=u(i)):(Mu=n,n=r);e!==r?(Uu=t,t=s(e)):(Mu=t,t=r)}else Mu=t,t=r;return t}function rs(){var t,e;return t=Mu,(e=is())!==r&&(Uu=t,e=c()),(t=e)===r&&(t=ls()),t}function is(){var e,n,i,o,a,u;if(e=Mu,t.substr(Mu,2)===l?(n=l,Mu+=2):(n=r,0===Gu&&ts(f)),n!==r){for(i=[],p.test(t.charAt(Mu))?(o=t.charAt(Mu),Mu++):(o=r,0===Gu&&ts(h));o!==r;)i.push(o),p.test(t.charAt(Mu))?(o=t.charAt(Mu),Mu++):(o=r,0===Gu&&ts(h));i!==r?(10===t.charCodeAt(Mu)?(o=d,Mu++):(o=r,0===Gu&&ts(y)),o!==r?e=n=[n,i,o]:(Mu=e,e=r)):(Mu=e,e=r)}else Mu=e,e=r;if(e===r)if(e=Mu,t.substr(Mu,2)===m?(n=m,Mu+=2):(n=r,0===Gu&&ts(v)),n!==r){for(i=[],o=Mu,a=Mu,Gu++,t.substr(Mu,2)===_?(u=_,Mu+=2):(u=r,0===Gu&&ts(b)),Gu--,u===r?a=void 0:(Mu=a,a=r),a!==r?(t.length>Mu?(u=t.charAt(Mu),Mu++):(u=r,0===Gu&&ts(g)),u!==r?o=a=[a,u]:(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,a=Mu,Gu++,t.substr(Mu,2)===_?(u=_,Mu+=2):(u=r,0===Gu&&ts(b)),Gu--,u===r?a=void 0:(Mu=a,a=r),a!==r?(t.length>Mu?(u=t.charAt(Mu),Mu++):(u=r,0===Gu&&ts(g)),u!==r?o=a=[a,u]:(Mu=o,o=r)):(Mu=o,o=r);i!==r?(t.substr(Mu,2)===_?(o=_,Mu+=2):(o=r,0===Gu&&ts(b)),o!==r?e=n=[n,i,o]:(Mu=e,e=r)):(Mu=e,e=r)}else Mu=e,e=r;return e}function os(){var e,n;return e=Mu,(n=function(){var e,n;return e=Mu,(n=function(){var e,n,i,o,a;return e=Mu,(n=lc())!==r&&pc()!==r?(58===t.charCodeAt(Mu)?(i=T,Mu++):(i=r,0===Gu&&ts(x)),i!==r&&pc()!==r&&(o=os())!==r?(Uu=e,n=E(n,o),e=n):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,4)===A?(n=A,Mu+=4):(n=r,0===Gu&&ts(C)),n!==r&&hc()!==r&&(i=zs())!==r&&pc()!==r?(58===t.charCodeAt(Mu)?(o=T,Mu++):(o=r,0===Gu&&ts(x)),o!==r&&pc()!==r&&(a=os())!==r?(Uu=e,n=O(i,a),e=n):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,7)===S?(n=S,Mu+=7):(n=r,0===Gu&&ts(P)),n!==r&&pc()!==r?(58===t.charCodeAt(Mu)?(i=T,Mu++):(i=r,0===Gu&&ts(x)),i!==r&&pc()!==r&&(o=os())!==r?(Uu=e,n=j(o),e=n):(Mu=e,e=r)):(Mu=e,e=r))),e}())!==r&&(Uu=e,n=R(n)),(e=n)===r&&(e=ss())===r&&(e=function(){var e,n,i,o,a,u,s,c;return e=Mu,t.substr(Mu,2)===U?(n=U,Mu+=2):(n=r,0===Gu&&ts(W)),n!==r&&pc()!==r?(40===t.charCodeAt(Mu)?(i=q,Mu++):(i=r,0===Gu&&ts($)),i!==r&&pc()!==r&&(o=Ns())!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(a=G,Mu++):(a=r,0===Gu&&ts(H)),a!==r&&pc()!==r&&(u=os())!==r&&pc()!==r?(t.substr(Mu,4)===Q?(s=Q,Mu+=4):(s=r,0===Gu&&ts(Z)),s!==r&&pc()!==r&&(c=os())!==r?(Uu=e,n=K(o,u,c),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,2)===U?(n=U,Mu+=2):(n=r,0===Gu&&ts(W)),n!==r&&pc()!==r?(40===t.charCodeAt(Mu)?(i=q,Mu++):(i=r,0===Gu&&ts($)),i!==r&&pc()!==r&&(o=Ns())!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(a=G,Mu++):(a=r,0===Gu&&ts(H)),a!==r&&pc()!==r&&(u=os())!==r?(Uu=e,n=Y(o,u),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)),e}())===r&&(e=function(){var e,n,i,o,a,u,s,c,l,f,p,h,d,y,m,v;return e=Mu,t.substr(Mu,5)===X?(n=X,Mu+=5):(n=r,0===Gu&&ts(J)),n!==r&&(i=pc())!==r?(40===t.charCodeAt(Mu)?(o=q,Mu++):(o=r,0===Gu&&ts($)),o!==r&&(a=pc())!==r&&(u=Ns())!==r&&(s=pc())!==r?(41===t.charCodeAt(Mu)?(c=G,Mu++):(c=r,0===Gu&&ts(H)),c!==r&&(l=pc())!==r&&(f=os())!==r?(Uu=e,n=tt(u,f),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,2)===et?(n=et,Mu+=2):(n=r,0===Gu&&ts(nt)),n!==r?(i=Mu,Gu++,o=fc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r&&(o=pc())!==r&&(a=os())!==r&&(u=pc())!==r?(t.substr(Mu,5)===X?(s=X,Mu+=5):(s=r,0===Gu&&ts(J)),s!==r&&(c=pc())!==r?(40===t.charCodeAt(Mu)?(l=q,Mu++):(l=r,0===Gu&&ts($)),l!==r&&(f=pc())!==r&&(p=Ns())!==r&&(h=pc())!==r?(41===t.charCodeAt(Mu)?(d=G,Mu++):(d=r,0===Gu&&ts(H)),d!==r&&(y=pc())!==r?(59===t.charCodeAt(Mu)?(m=I,Mu++):(m=r,0===Gu&&ts(F)),m!==r?(Uu=e,n=rt(a,p),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,3)===it?(n=it,Mu+=3):(n=r,0===Gu&&ts(ot)),n!==r&&(i=pc())!==r?(40===t.charCodeAt(Mu)?(o=q,Mu++):(o=r,0===Gu&&ts($)),o!==r&&(a=pc())!==r&&(u=function(){var t,e;return(t=as())===r&&(t=us())===r&&(t=Mu,(e=cs())!==r&&(Uu=t,e=ut(e)),t=e),t}())!==r&&(s=pc())!==r&&(c=Ns())!==r&&(l=pc())!==r?(59===t.charCodeAt(Mu)?(f=I,Mu++):(f=r,0===Gu&&ts(F)),f!==r&&(p=pc())!==r&&(h=Ns())!==r&&(d=pc())!==r?(41===t.charCodeAt(Mu)?(y=G,Mu++):(y=r,0===Gu&&ts(H)),y!==r&&(m=pc())!==r&&(v=os())!==r?(Uu=e,n=at(u,c,h,v),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r))),e}())===r&&(e=function(){var e,n,i,o,a,u;return e=Mu,t.substr(Mu,5)===st?(n=st,Mu+=5):(n=r,0===Gu&&ts(ct)),n!==r?(i=Mu,Gu++,o=fc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r&&(o=pc())!==r?(59===t.charCodeAt(Mu)?(a=I,Mu++):(a=r,0===Gu&&ts(F)),a!==r?(Uu=e,n=lt(),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,8)===ft?(n=ft,Mu+=8):(n=r,0===Gu&&ts(pt)),n!==r?(i=Mu,Gu++,o=fc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r&&(o=pc())!==r?(59===t.charCodeAt(Mu)?(a=I,Mu++):(a=r,0===Gu&&ts(F)),a!==r?(Uu=e,n=ht(),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,6)===dt?(n=dt,Mu+=6):(n=r,0===Gu&&ts(yt)),n!==r?(i=Mu,Gu++,o=fc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r&&(o=pc())!==r?((a=Ns())===r&&(a=null),a!==r&&pc()!==r?(59===t.charCodeAt(Mu)?(u=I,Mu++):(u=r,0===Gu&&ts(F)),u!==r?(Uu=e,n=mt(a),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r))),e}())===r&&(e=cs())===r&&(e=as())===r&&(e=us()),e}())!==r&&(Uu=e,n=w(n)),e=n}function as(){var e,n,i;return e=Mu,(n=Ns())!==r&&pc()!==r?(59===t.charCodeAt(Mu)?(i=I,Mu++):(i=r,0===Gu&&ts(F)),i!==r?(Uu=e,e=n=N(n)):(Mu=e,e=r)):(Mu=e,e=r),e}function us(){var e,n;return e=Mu,pc()!==r?(59===t.charCodeAt(Mu)?(n=I,Mu++):(n=r,0===Gu&&ts(F)),n!==r?(Uu=e,e=k()):(Mu=e,e=r)):(Mu=e,e=r),e}function ss(){var e,n,i,o,a;if(e=Mu,123===t.charCodeAt(Mu)?(n=z,Mu++):(n=r,0===Gu&&ts(V)),n!==r)if(pc()!==r){for(i=[],o=Mu,(a=os())!==r&&pc()!==r?(Uu=o,o=a=L(a)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,(a=os())!==r&&pc()!==r?(Uu=o,o=a=L(a)):(Mu=o,o=r);i!==r?(125===t.charCodeAt(Mu)?(o=B,Mu++):(o=r,0===Gu&&ts(D)),o!==r?(Uu=e,e=n=M(i)):(Mu=e,e=r)):(Mu=e,e=r)}else Mu=e,e=r;else Mu=e,e=r;return e}function cs(){var t,e;return t=Mu,(e=ls())!==r&&(Uu=t,e=vt(e)),t=e}function ls(){var e;return(e=function(){var e,n,i,o,a,u;return e=Mu,(n=ds())!==r?(i=Mu,Gu++,o=lc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r&&(o=pc())!==r&&(a=function(){var e,n,i,o,a,u,s;if(e=Mu,(n=gs())!==r){for(i=[],o=Mu,(a=pc())!==r?(44===t.charCodeAt(Mu)?(u=bt,Mu++):(u=r,0===Gu&&ts(gt)),u!==r&&pc()!==r&&(s=gs())!==r?(Uu=o,a=wt(n,s),o=a):(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,(a=pc())!==r?(44===t.charCodeAt(Mu)?(u=bt,Mu++):(u=r,0===Gu&&ts(gt)),u!==r&&pc()!==r&&(s=gs())!==r?(Uu=o,a=wt(n,s),o=a):(Mu=o,o=r)):(Mu=o,o=r);i!==r?(Uu=e,n=Rt(n,i),e=n):(Mu=e,e=r)}else Mu=e,e=r;return e}())!==r&&pc()!==r?(59===t.charCodeAt(Mu)?(u=I,Mu++):(u=r,0===Gu&&ts(F)),u!==r?(Uu=e,n=_t(n,a),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e}())===r&&(e=function(){var e,n,i;return e=Mu,(n=function(){var e,n,i,o,a,u;if(e=Mu,(n=function(){var e,n,i,o,a,u;return e=Mu,(n=function(){var e;return t.substr(Mu,5)===cu?(e=cu,Mu+=5):(e=r,0===Gu&&ts(lu)),e===r&&(t.substr(Mu,6)===fu?(e=fu,Mu+=6):(e=r,0===Gu&&ts(pu)),e===r&&(t.substr(Mu,5)===hu?(e=hu,Mu+=5):(e=r,0===Gu&&ts(du)))),e}())!==r&&hc()!==r&&(i=lc())!==r?(o=Mu,(a=hc())!==r&&(u=function(){var e,n,i;return e=Mu,58===t.charCodeAt(Mu)?(n=T,Mu++):(n=r,0===Gu&&ts(x)),n!==r&&pc()!==r&&(i=function(){var e,n,i,o,a,u,s;if(e=Mu,(n=_c())!==r){for(i=[],o=Mu,(a=pc())!==r?(44===t.charCodeAt(Mu)?(u=bt,Mu++):(u=r,0===Gu&&ts(gt)),u!==r&&pc()!==r&&(s=_c())!==r?(Uu=o,a=ku(n,s),o=a):(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,(a=pc())!==r?(44===t.charCodeAt(Mu)?(u=bt,Mu++):(u=r,0===Gu&&ts(gt)),u!==r&&pc()!==r&&(s=_c())!==r?(Uu=o,a=ku(n,s),o=a):(Mu=o,o=r)):(Mu=o,o=r);i!==r?(Uu=e,n=Rt(n,i),e=n):(Mu=e,e=r)}else Mu=e,e=r;return e}())!==r?(Uu=e,n=Nu(i),e=n):(Mu=e,e=r),e}())!==r?(Uu=o,a=uu(n,i,u),o=a):(Mu=o,o=r),o===r&&(o=null),o!==r?(Uu=e,n=su(n,i,o),e=n):(Mu=e,e=r)):(Mu=e,e=r),e}())!==r)if(Uu=Mu,(ou(n)?r:void 0)!==r)if(pc()!==r)if(123===t.charCodeAt(Mu)?(i=z,Mu++):(i=r,0===Gu&&ts(V)),i!==r)if(pc()!==r){for(o=[],a=dc();a!==r;)o.push(a),a=dc();o!==r&&(a=pc())!==r?(125===t.charCodeAt(Mu)?(u=B,Mu++):(u=r,0===Gu&&ts(D)),u!==r?(Uu=e,n=au(n,o),e=n):(Mu=e,e=r)):(Mu=e,e=r)}else Mu=e,e=r;else Mu=e,e=r;else Mu=e,e=r;else Mu=e,e=r;else Mu=e,e=r;return e}())!==r&&pc()!==r?(59===t.charCodeAt(Mu)?(i=I,Mu++):(i=r,0===Gu&&ts(F)),i!==r?(Uu=e,n=Tt(n),e=n):(Mu=e,e=r)):(Mu=e,e=r),e}())===r&&(e=fs()),e}function fs(){var t,e,n,i,o,a;return t=Mu,(e=ds())!==r?(n=Mu,Gu++,i=lc(),Gu--,i===r?n=void 0:(Mu=n,n=r),n!==r&&(i=pc())!==r&&(o=Rs())!==r&&pc()!==r&&(a=ss())!==r?(Uu=t,t=e=xt(e,o,a)):(Mu=t,t=r)):(Mu=t,t=r),t}function ps(){var e,n,i,o,a,u,s,c;return e=Mu,(n=lc())!==r&&pc()!==r?(40===t.charCodeAt(Mu)?(i=q,Mu++):(i=r,0===Gu&&ts($)),i!==r&&pc()!==r&&(o=Is())!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(a=G,Mu++):(a=r,0===Gu&&ts(H)),a!==r&&pc()!==r?((u=function(){var e,n,i,o,a,u,s,c;if(e=Mu,58===t.charCodeAt(Mu)?(n=T,Mu++):(n=r,0===Gu&&ts(x)),n!==r)if(pc()!==r)if((i=hs())!==r){for(o=[],a=Mu,(u=pc())!==r?(44===t.charCodeAt(Mu)?(s=bt,Mu++):(s=r,0===Gu&&ts(gt)),s!==r&&pc()!==r&&(c=hs())!==r?(Uu=a,u=Nt(i,c),a=u):(Mu=a,a=r)):(Mu=a,a=r);a!==r;)o.push(a),a=Mu,(u=pc())!==r?(44===t.charCodeAt(Mu)?(s=bt,Mu++):(s=r,0===Gu&&ts(gt)),s!==r&&pc()!==r&&(c=hs())!==r?(Uu=a,u=Nt(i,c),a=u):(Mu=a,a=r)):(Mu=a,a=r);o!==r?(Uu=e,n=kt(i,o),e=n):(Mu=e,e=r)}else Mu=e,e=r;else Mu=e,e=r;else Mu=e,e=r;return e}())===r&&(u=null),u!==r&&pc()!==r?((s=ss())===r&&(s=Mu,59===t.charCodeAt(Mu)?(c=I,Mu++):(c=r,0===Gu&&ts(F)),c!==r&&(Uu=s,c=Et(n,o,u)),s=c),s!==r?(Uu=e,e=n=At(n,o,u,s)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e}function hs(){var e,n,i,o,a;return e=Mu,(n=lc())!==r&&pc()!==r?(40===t.charCodeAt(Mu)?(i=q,Mu++):(i=r,0===Gu&&ts($)),i!==r&&pc()!==r?((o=oc())===r&&(o=null),o!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(a=G,Mu++):(a=r,0===Gu&&ts(H)),a!==r?(Uu=e,e=n=zt(n,o)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e}function ds(){var t,e,n,i,o,a;for(t=Mu,e=[],n=Mu,(i=ys())!==r&&(o=hc())!==r?(Uu=n,n=i=Vt(i)):(Mu=n,n=r);n!==r;)e.push(n),n=Mu,(i=ys())!==r&&(o=hc())!==r?(Uu=n,n=i=Vt(i)):(Mu=n,n=r);if(e!==r)if((n=_s())!==r){for(i=[],o=Mu,hc()!==r&&(a=ys())!==r?(Uu=o,o=Lt(e,n,a)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,hc()!==r&&(a=ys())!==r?(Uu=o,o=Lt(e,n,a)):(Mu=o,o=r);i!==r?(Uu=t,t=e=Bt(e,n,i)):(Mu=t,t=r)}else Mu=t,t=r;else Mu=t,t=r;return t}function ys(){var e,n;return e=Mu,(n=vs())!==r&&(Uu=e,n=Dt(n)),(e=n)===r&&(e=Mu,(n=function(){var e;return t.substr(Mu,8)===Yt?(e=Yt,Mu+=8):(e=r,0===Gu&&ts(Xt)),e===r&&(t.substr(Mu,6)===Jt?(e=Jt,Mu+=6):(e=r,0===Gu&&ts(te)),e===r&&(t.substr(Mu,12)===ee?(e=ee,Mu+=12):(e=r,0===Gu&&ts(ne)),e===r&&(t.substr(Mu,6)===re?(e=re,Mu+=6):(e=r,0===Gu&&ts(ie)),e===r&&(t.substr(Mu,7)===oe?(e=oe,Mu+=7):(e=r,0===Gu&&ts(ae)))))),e}())!==r&&(Uu=e,n=Mt(n)),(e=n)===r&&(e=function(){var e;return t.substr(Mu,6)===ue?(e=ue,Mu+=6):(e=r,0===Gu&&ts(se)),e===r&&(t.substr(Mu,8)===ce?(e=ce,Mu+=8):(e=r,0===Gu&&ts(le)),e===r&&(t.substr(Mu,7)===jt?(e=jt,Mu+=7):(e=r,0===Gu&&ts(It)))),e}())===r&&(t.substr(Mu,7)===Ut?(e=Ut,Mu+=7):(e=r,0===Gu&&ts(Wt)),e===r&&(t.substr(Mu,6)===qt?(e=qt,Mu+=6):(e=r,0===Gu&&ts($t))))),e}function ms(){var t,e,n,i,o,a;for(t=Mu,e=[],n=Mu,(i=vs())!==r&&(o=hc())!==r?(Uu=n,n=i=Vt(i)):(Mu=n,n=r);n!==r;)e.push(n),n=Mu,(i=vs())!==r&&(o=hc())!==r?(Uu=n,n=i=Vt(i)):(Mu=n,n=r);if(e!==r)if((n=_s())!==r){for(i=[],o=Mu,hc()!==r&&(a=vs())!==r?(Uu=o,o=Lt(e,n,a)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,hc()!==r&&(a=vs())!==r?(Uu=o,o=Lt(e,n,a)):(Mu=o,o=r);i!==r?(Uu=t,t=e=Gt(e,n,i)):(Mu=t,t=r)}else Mu=t,t=r;else Mu=t,t=r;return t}function vs(){var e;return(e=function(){var e,n,i,o,a,u,s,c,l,f;if(e=Mu,t.substr(Mu,4)===ke?(n=ke,Mu+=4):(n=r,0===Gu&&ts(ze)),n!==r)if(hc()!==r)if((i=lc())===r&&(i=null),i!==r)if(pc()!==r)if(123===t.charCodeAt(Mu)?(o=z,Mu++):(o=r,0===Gu&&ts(V)),o!==r)if((a=bs())!==r){for(u=[],s=Mu,(c=pc())!==r?(44===t.charCodeAt(Mu)?(l=bt,Mu++):(l=r,0===Gu&&ts(gt)),l!==r&&pc()!==r&&(f=bs())!==r?(Uu=s,c=Ve(i,a,f),s=c):(Mu=s,s=r)):(Mu=s,s=r);s!==r;)u.push(s),s=Mu,(c=pc())!==r?(44===t.charCodeAt(Mu)?(l=bt,Mu++):(l=r,0===Gu&&ts(gt)),l!==r&&pc()!==r&&(f=bs())!==r?(Uu=s,c=Ve(i,a,f),s=c):(Mu=s,s=r)):(Mu=s,s=r);u!==r&&(s=pc())!==r?(125===t.charCodeAt(Mu)?(c=B,Mu++):(c=r,0===Gu&&ts(D)),c!==r?(Uu=e,n=Le(i,a,u),e=n):(Mu=e,e=r)):(Mu=e,e=r)}else Mu=e,e=r;else Mu=e,e=r;else Mu=e,e=r;else Mu=e,e=r;else Mu=e,e=r;else Mu=e,e=r;return e}())===r&&(t.substr(Mu,5)===Ht?(e=Ht,Mu+=5):(e=r,0===Gu&&ts(Qt)),e===r&&(t.substr(Mu,8)===Zt?(e=Zt,Mu+=8):(e=r,0===Gu&&ts(Kt)))),e}function _s(){var e,n,i,o;return Gu++,e=Mu,(n=function(){var e,n;return t.substr(Mu,4)===he?(e=he,Mu+=4):(e=r,0===Gu&&ts(de)),e===r&&(t.substr(Mu,5)===ye?(e=ye,Mu+=5):(e=r,0===Gu&&ts(me)),e===r&&(t.substr(Mu,3)===ve?(e=ve,Mu+=3):(e=r,0===Gu&&ts(_e)),e===r&&(t.substr(Mu,4)===be?(e=be,Mu+=4):(e=r,0===Gu&&ts(ge)),e===r&&(t.substr(Mu,4)===we?(e=we,Mu+=4):(e=r,0===Gu&&ts(Re)),e===r&&(t.substr(Mu,6)===Te?(e=Te,Mu+=6):(e=r,0===Gu&&ts(xe)),e===r&&(t.substr(Mu,8)===Ee?(e=Ee,Mu+=8):(e=r,0===Gu&&ts(Ae)),e===r&&(t.substr(Mu,5)===Ce?(e=Ce,Mu+=5):(e=r,0===Gu&&ts(Oe)),e===r&&(t.substr(Mu,6)===Se?(e=Se,Mu+=6):(e=r,0===Gu&&ts(Pe)),e===r&&(t.substr(Mu,4)===je?(e=je,Mu+=4):(e=r,0===Gu&&ts(Ie)),e===r&&(e=Mu,(n=lc())!==r?(Uu=Mu,(Fe(n)?void 0:r)!==r?(Uu=e,n=Ne(n),e=n):(Mu=e,e=r)):(Mu=e,e=r))))))))))),e}())!==r?(i=Mu,Gu++,o=fc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r?(Uu=e,e=n=pe(n)):(Mu=e,e=r)):(Mu=e,e=r),Gu--,e===r&&(n=r,0===Gu&&ts(fe)),e}function bs(){var e,n,i,o,a;return e=Mu,(n=lc())!==r?(i=Mu,pc()!==r?(61===t.charCodeAt(Mu)?(o=Be,Mu++):(o=r,0===Gu&&ts(De)),o!==r&&pc()!==r&&(a=zs())!==r?(Uu=i,i=Me(n,a)):(Mu=i,i=r)):(Mu=i,i=r),i!==r?(Uu=e,e=n=Ue(n,i)):(Mu=e,e=r)):(Mu=e,e=r),e}function gs(){var e,n,i,o;return e=Mu,(n=Rs())!==r&&pc()!==r?(61===t.charCodeAt(Mu)?(i=Be,Mu++):(i=r,0===Gu&&ts(De)),i!==r&&pc()!==r?(t.substr(Mu,21)===We?(o=We,Mu+=21):(o=r,0===Gu&&ts(qe)),o!==r?(Uu=e,e=n=$e(n)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,(n=Rs())!==r&&pc()!==r?((i=function(){var e,n,i,o;return(e=ws())===r&&(e=Mu,40===t.charCodeAt(Mu)?(n=q,Mu++):(n=r,0===Gu&&ts($)),n!==r&&pc()!==r?((i=oc())===r&&(i=null),i!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(o=G,Mu++):(o=r,0===Gu&&ts(H)),o!==r?(Uu=e,n=He(i),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)),e}())===r&&(i=null),i!==r?(Uu=e,e=n=Ge(n,i)):(Mu=e,e=r)):(Mu=e,e=r)),e}function ws(){var e,n,i,o,a;return e=Mu,61===t.charCodeAt(Mu)?(n=Be,Mu++):(n=r,0===Gu&&ts(De)),n!==r&&pc()!==r&&(i=ks())!==r?(Uu=e,e=n=Qe(i)):(Mu=e,e=r),e===r&&(e=Mu,61===t.charCodeAt(Mu)?(n=Be,Mu++):(n=r,0===Gu&&ts(De)),n!==r&&pc()!==r?(123===t.charCodeAt(Mu)?(i=z,Mu++):(i=r,0===Gu&&ts(V)),i!==r&&pc()!==r&&(o=function(){var e,n,i,o,a,u,s;if(e=Mu,(n=ks())!==r){for(i=[],o=Mu,(a=pc())!==r?(44===t.charCodeAt(Mu)?(u=bt,Mu++):(u=r,0===Gu&&ts(gt)),u!==r&&pc()!==r&&(s=ks())!==r?(Uu=o,a=Ke(n,u,s),o=a):(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,(a=pc())!==r?(44===t.charCodeAt(Mu)?(u=bt,Mu++):(u=r,0===Gu&&ts(gt)),u!==r&&pc()!==r&&(s=ks())!==r?(Uu=o,a=Ke(n,u,s),o=a):(Mu=o,o=r)):(Mu=o,o=r);i!==r?(Uu=e,n=Ye(n,i),e=n):(Mu=e,e=r)}else Mu=e,e=r;return e}())!==r&&pc()!==r?(125===t.charCodeAt(Mu)?(a=B,Mu++):(a=r,0===Gu&&ts(D)),a!==r?(Uu=e,e=n=Ze(o)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)),e}function Rs(){var t,e;return t=Mu,(e=xs())!==r&&(Uu=t,e=Xe(e)),t=e}function Ts(){var t,e;return t=Mu,(e=Es())!==r&&(Uu=t,e=Je(e)),t=e}function xs(){var e,n,i,o,a;return e=Mu,42===t.charCodeAt(Mu)?(n=tn,Mu++):(n=r,0===Gu&&ts(en)),n!==r&&(i=pc())!==r?((o=js())===r&&(o=null),o!==r&&pc()!==r&&(a=xs())!==r?(Uu=e,e=n=nn(o,a)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,38===t.charCodeAt(Mu)?(n=rn,Mu++):(n=r,0===Gu&&ts(on)),n!==r&&(i=pc())!==r?((o=js())===r&&(o=null),o!==r&&pc()!==r&&(a=xs())!==r?(Uu=e,e=n=an(o,a)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,(n=Os())!==r&&(i=As())!==r?(Uu=e,e=n=un(n,i)):(Mu=e,e=r),e===r&&(e=Os()))),e}function Es(){var e,n,i,o,a;return e=Mu,42===t.charCodeAt(Mu)?(n=tn,Mu++):(n=r,0===Gu&&ts(en)),n!==r&&(i=pc())!==r?((o=js())===r&&(o=null),o!==r&&pc()!==r&&(a=Es())!==r?(Uu=e,e=n=nn(o,a)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,38===t.charCodeAt(Mu)?(n=rn,Mu++):(n=r,0===Gu&&ts(on)),n!==r&&(i=pc())!==r?((o=js())===r&&(o=null),o!==r&&pc()!==r&&(a=Es())!==r?(Uu=e,e=n=an(o,a)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,(n=Ss())!==r&&(i=As())!==r?(Uu=e,e=n=un(n,i)):(Mu=e,e=r),e===r&&(e=Ss()))),e}function As(){var t,e,n;if(t=[],e=Mu,pc()!==r&&(n=Cs())!==r?(Uu=e,e=sn(n)):(Mu=e,e=r),e!==r)for(;e!==r;)t.push(e),e=Mu,pc()!==r&&(n=Cs())!==r?(Uu=e,e=sn(n)):(Mu=e,e=r);else t=r;return t}function Cs(){var e,n,i,o,a;return e=Mu,40===t.charCodeAt(Mu)?(n=q,Mu++):(n=r,0===Gu&&ts($)),n!==r&&pc()!==r&&(i=Is())!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(o=G,Mu++):(o=r,0===Gu&&ts(H)),o!==r&&pc()!==r?((a=js())===r&&(a=null),a!==r?(Uu=e,e=n=cn(i,a)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,91===t.charCodeAt(Mu)?(n=ln,Mu++):(n=r,0===Gu&&ts(fn)),n!==r&&pc()!==r?((i=zs())===r&&(i=null),i!==r&&pc()!==r?(93===t.charCodeAt(Mu)?(o=pn,Mu++):(o=r,0===Gu&&ts(hn)),o!==r?(Uu=e,e=n=dn(i)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)),e}function Os(){var e,n,i,o;return e=Mu,(n=sc())!==r&&(Uu=e,n=yn(n)),(e=n)===r&&(e=Mu,40===t.charCodeAt(Mu)?(n=q,Mu++):(n=r,0===Gu&&ts($)),n!==r&&pc()!==r?((i=xs())===r&&(i=null),i!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(o=G,Mu++):(o=r,0===Gu&&ts(H)),o!==r?(Uu=e,e=n=mn(i)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)),e}function Ss(){var e,n,i,o;return e=Mu,40===t.charCodeAt(Mu)?(n=q,Mu++):(n=r,0===Gu&&ts($)),n!==r&&pc()!==r?((i=Es())===r&&(i=null),i!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(o=G,Mu++):(o=r,0===Gu&&ts(H)),o!==r?(Uu=e,e=n=mn(i)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,(n=vn)!==r&&(Uu=e,n=_n()),e=n),e}function Ps(){var t,e,n;return t=Mu,(e=ms())!==r&&pc()!==r&&(n=Ts())!==r?(Uu=t,t=e=bn(e,n)):(Mu=t,t=r),t}function js(){var e,n,i;return e=Mu,t.substr(Mu,5)===Ht?(n=Ht,Mu+=5):(n=r,0===Gu&&ts(Qt)),n!==r&&hc()!==r?(t.substr(Mu,8)===Zt?(i=Zt,Mu+=8):(i=r,0===Gu&&ts(Kt)),i!==r?(Uu=e,e=n=gn()):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,8)===Zt?(n=Zt,Mu+=8):(n=r,0===Gu&&ts(Kt)),n!==r&&hc()!==r?(t.substr(Mu,5)===Ht?(i=Ht,Mu+=5):(i=r,0===Gu&&ts(Qt)),i!==r?(Uu=e,e=n=gn()):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,5)===Ht?(n=Ht,Mu+=5):(n=r,0===Gu&&ts(Qt)),n!==r&&(Uu=e,n=wn()),(e=n)===r&&(e=Mu,t.substr(Mu,8)===Zt?(n=Zt,Mu+=8):(n=r,0===Gu&&ts(Kt)),n!==r&&(Uu=e,n=Rn()),e=n))),e}function Is(){var e,n,i,o,a,u;if(e=Mu,(n=Fs())!==r){for(i=[],o=Mu,pc()!==r?(44===t.charCodeAt(Mu)?(a=bt,Mu++):(a=r,0===Gu&&ts(gt)),a!==r&&pc()!==r&&(u=Fs())!==r?(Uu=o,o=Tn(n,u)):(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,pc()!==r?(44===t.charCodeAt(Mu)?(a=bt,Mu++):(a=r,0===Gu&&ts(gt)),a!==r&&pc()!==r&&(u=Fs())!==r?(Uu=o,o=Tn(n,u)):(Mu=o,o=r)):(Mu=o,o=r);i!==r?(Uu=e,e=n=xn(n,i)):(Mu=e,e=r)}else Mu=e,e=r;return e===r&&(e=Mu,(n=vn)!==r&&(Uu=e,n=En()),e=n),e}function Fs(){var e,n,i,o,a;return e=Mu,(n=ds())!==r&&pc()!==r&&(i=Rs())!==r&&pc()!==r?(61===t.charCodeAt(Mu)?(o=Be,Mu++):(o=r,0===Gu&&ts(De)),o!==r&&pc()!==r&&(a=ks())!==r?(Uu=e,e=n=An(n,i,a)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,(n=ds())!==r&&pc()!==r&&(i=Rs())!==r?(Uu=e,e=n=Cn(n,i)):(Mu=e,e=r),e===r&&(e=Mu,(n=ds())!==r&&pc()!==r&&(i=Ts())!==r&&pc()!==r?(61===t.charCodeAt(Mu)?(o=Be,Mu++):(o=r,0===Gu&&ts(De)),o!==r&&pc()!==r&&(a=ks())!==r?(Uu=e,e=n=An(n,i,a)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,(n=ds())!==r&&pc()!==r&&(i=Ts())!==r?(Uu=e,e=n=Cn(n,i)):(Mu=e,e=r)))),e}function Ns(){var e,n,i,o,a,u;if(e=Mu,(n=ks())!==r){for(i=[],o=Mu,pc()!==r?(44===t.charCodeAt(Mu)?(a=bt,Mu++):(a=r,0===Gu&&ts(gt)),a!==r&&pc()!==r&&(u=ks())!==r?(Uu=o,o=On(n,a,u)):(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,pc()!==r?(44===t.charCodeAt(Mu)?(a=bt,Mu++):(a=r,0===Gu&&ts(gt)),a!==r&&pc()!==r&&(u=ks())!==r?(Uu=o,o=On(n,a,u)):(Mu=o,o=r)):(Mu=o,o=r);i!==r?(Uu=e,e=n=Sn(n,i)):(Mu=e,e=r)}else Mu=e,e=r;return e===r&&(e=ks()),e}function ks(){var e,n,i,o;return e=Mu,(n=ec())!==r&&pc()!==r?(61===t.charCodeAt(Mu)?(i=Be,Mu++):(i=r,0===Gu&&ts(De)),i!==r&&pc()!==r&&(o=ks())!==r?(Uu=e,e=n=Pn(n,i,o)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,(n=ec())!==r&&pc()!==r&&(i=function(){var e,n,i,o;return t.substr(Mu,2)===In?(e=In,Mu+=2):(e=r,0===Gu&&ts(Fn)),e===r&&(t.substr(Mu,2)===Nn?(e=Nn,Mu+=2):(e=r,0===Gu&&ts(kn)),e===r&&(t.substr(Mu,2)===zn?(e=zn,Mu+=2):(e=r,0===Gu&&ts(Vn)),e===r&&(t.substr(Mu,2)===Ln?(e=Ln,Mu+=2):(e=r,0===Gu&&ts(Bn)),e===r&&(t.substr(Mu,2)===Dn?(e=Dn,Mu+=2):(e=r,0===Gu&&ts(Mn)),e===r&&(t.substr(Mu,3)===Un?(e=Un,Mu+=3):(e=r,0===Gu&&ts(Wn)),e===r&&(t.substr(Mu,3)===qn?(e=qn,Mu+=3):(e=r,0===Gu&&ts($n)),e===r&&(t.substr(Mu,2)===Gn?(e=Gn,Mu+=2):(e=r,0===Gu&&ts(Hn)),e===r&&(e=Mu,t.substr(Mu,6)===Qn?(n=Qn,Mu+=6):(n=r,0===Gu&&ts(Zn)),n!==r?(i=Mu,Gu++,o=fc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r?(Uu=e,n=Kn(),e=n):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(t.substr(Mu,2)===Yn?(e=Yn,Mu+=2):(e=r,0===Gu&&ts(Xn)),e===r&&(e=Mu,t.substr(Mu,6)===Jn?(n=Jn,Mu+=6):(n=r,0===Gu&&ts(tr)),n!==r?(i=Mu,Gu++,o=fc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r?(Uu=e,n=er(),e=n):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(t.substr(Mu,2)===nr?(e=nr,Mu+=2):(e=r,0===Gu&&ts(rr)),e===r&&(e=Mu,t.substr(Mu,5)===ir?(n=ir,Mu+=5):(n=r,0===Gu&&ts(or)),n!==r?(i=Mu,Gu++,o=fc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r?(Uu=e,n=ar(),e=n):(Mu=e,e=r)):(Mu=e,e=r))))))))))))),e}())!==r&&pc()!==r&&(o=ks())!==r?(Uu=e,e=n=jn(n,i,o)):(Mu=e,e=r),e===r&&(e=Vs())),e}function zs(){var t,e;return t=Mu,(e=Vs())!==r&&(Uu=t,e=ur(e)),t=e}function Vs(){var e,n,i,o,a,u;return e=Mu,(n=Ls())!==r&&pc()!==r?(63===t.charCodeAt(Mu)?(i=sr,Mu++):(i=r,0===Gu&&ts(cr)),i!==r&&pc()!==r&&(o=Ns())!==r&&pc()!==r?(58===t.charCodeAt(Mu)?(a=T,Mu++):(a=r,0===Gu&&ts(x)),a!==r&&pc()!==r&&(u=ks())!==r?(Uu=e,e=n=lr(n,o,u)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Ls()),e}function Ls(){var e,n,i,o,a,u,s,c;if(e=Mu,(n=Bs())!==r){for(i=[],o=Mu,pc()!==r?(t.substr(Mu,2)===fr?(a=fr,Mu+=2):(a=r,0===Gu&&ts(pr)),a===r&&(a=Mu,t.substr(Mu,2)===hr?(u=hr,Mu+=2):(u=r,0===Gu&&ts(dr)),u!==r?(s=Mu,Gu++,c=fc(),Gu--,c===r?s=void 0:(Mu=s,s=r),s!==r?a=u=[u,s]:(Mu=a,a=r)):(Mu=a,a=r)),a!==r&&(u=pc())!==r&&(s=Bs())!==r?(Uu=o,o=yr(n,a,s)):(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,pc()!==r?(t.substr(Mu,2)===fr?(a=fr,Mu+=2):(a=r,0===Gu&&ts(pr)),a===r&&(a=Mu,t.substr(Mu,2)===hr?(u=hr,Mu+=2):(u=r,0===Gu&&ts(dr)),u!==r?(s=Mu,Gu++,c=fc(),Gu--,c===r?s=void 0:(Mu=s,s=r),s!==r?a=u=[u,s]:(Mu=a,a=r)):(Mu=a,a=r)),a!==r&&(u=pc())!==r&&(s=Bs())!==r?(Uu=o,o=yr(n,a,s)):(Mu=o,o=r)):(Mu=o,o=r);i!==r?(Uu=e,e=n=mr(n,i)):(Mu=e,e=r)}else Mu=e,e=r;return e}function Bs(){var e,n,i,o,a,u,s,c;if(e=Mu,(n=Ds())!==r){for(i=[],o=Mu,pc()!==r?(t.substr(Mu,2)===vr?(a=vr,Mu+=2):(a=r,0===Gu&&ts(_r)),a===r&&(a=Mu,t.substr(Mu,3)===br?(u=br,Mu+=3):(u=r,0===Gu&&ts(gr)),u!==r?(s=Mu,Gu++,c=fc(),Gu--,c===r?s=void 0:(Mu=s,s=r),s!==r?a=u=[u,s]:(Mu=a,a=r)):(Mu=a,a=r)),a!==r&&(u=pc())!==r&&(s=Ds())!==r?(Uu=o,o=wr(n,a,s)):(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,pc()!==r?(t.substr(Mu,2)===vr?(a=vr,Mu+=2):(a=r,0===Gu&&ts(_r)),a===r&&(a=Mu,t.substr(Mu,3)===br?(u=br,Mu+=3):(u=r,0===Gu&&ts(gr)),u!==r?(s=Mu,Gu++,c=fc(),Gu--,c===r?s=void 0:(Mu=s,s=r),s!==r?a=u=[u,s]:(Mu=a,a=r)):(Mu=a,a=r)),a!==r&&(u=pc())!==r&&(s=Ds())!==r?(Uu=o,o=wr(n,a,s)):(Mu=o,o=r)):(Mu=o,o=r);i!==r?(Uu=e,e=n=mr(n,i)):(Mu=e,e=r)}else Mu=e,e=r;return e}function Ds(){var e,n,i,o,a,u,s,c;if(e=Mu,(n=Ms())!==r){for(i=[],o=Mu,pc()!==r?(124===t.charCodeAt(Mu)?(a=Rr,Mu++):(a=r,0===Gu&&ts(Tr)),a===r&&(a=Mu,t.substr(Mu,5)===xr?(u=xr,Mu+=5):(u=r,0===Gu&&ts(Er)),u!==r?(s=Mu,Gu++,c=fc(),Gu--,c===r?s=void 0:(Mu=s,s=r),s!==r?a=u=[u,s]:(Mu=a,a=r)):(Mu=a,a=r)),a!==r&&(u=pc())!==r&&(s=Ms())!==r?(Uu=o,o=Ar(n,a,s)):(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,pc()!==r?(124===t.charCodeAt(Mu)?(a=Rr,Mu++):(a=r,0===Gu&&ts(Tr)),a===r&&(a=Mu,t.substr(Mu,5)===xr?(u=xr,Mu+=5):(u=r,0===Gu&&ts(Er)),u!==r?(s=Mu,Gu++,c=fc(),Gu--,c===r?s=void 0:(Mu=s,s=r),s!==r?a=u=[u,s]:(Mu=a,a=r)):(Mu=a,a=r)),a!==r&&(u=pc())!==r&&(s=Ms())!==r?(Uu=o,o=Ar(n,a,s)):(Mu=o,o=r)):(Mu=o,o=r);i!==r?(Uu=e,e=n=Cr(n,i)):(Mu=e,e=r)}else Mu=e,e=r;return e}function Ms(){var e,n,i,o,a,u;if(e=Mu,(n=Us())!==r){for(i=[],o=Mu,pc()!==r?(94===t.charCodeAt(Mu)?(a=Or,Mu++):(a=r,0===Gu&&ts(Sr)),a===r&&(t.substr(Mu,3)===Pr?(a=Pr,Mu+=3):(a=r,0===Gu&&ts(jr))),a!==r&&pc()!==r&&(u=Us())!==r?(Uu=o,o=Ir(n,a,u)):(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,pc()!==r?(94===t.charCodeAt(Mu)?(a=Or,Mu++):(a=r,0===Gu&&ts(Sr)),a===r&&(t.substr(Mu,3)===Pr?(a=Pr,Mu+=3):(a=r,0===Gu&&ts(jr))),a!==r&&pc()!==r&&(u=Us())!==r?(Uu=o,o=Ir(n,a,u)):(Mu=o,o=r)):(Mu=o,o=r);i!==r?(Uu=e,e=n=Cr(n,i)):(Mu=e,e=r)}else Mu=e,e=r;return e}function Us(){var e,n,i,o,a,u,s,c;if(e=Mu,(n=Ws())!==r){for(i=[],o=Mu,pc()!==r?(a=Mu,38===t.charCodeAt(Mu)?(u=rn,Mu++):(u=r,0===Gu&&ts(on)),u!==r?(s=Mu,Gu++,38===t.charCodeAt(Mu)?(c=rn,Mu++):(c=r,0===Gu&&ts(on)),Gu--,c===r?s=void 0:(Mu=s,s=r),s!==r?a=u=[u,s]:(Mu=a,a=r)):(Mu=a,a=r),a===r&&(a=Mu,t.substr(Mu,6)===Fr?(u=Fr,Mu+=6):(u=r,0===Gu&&ts(Nr)),u!==r?(s=Mu,Gu++,c=fc(),Gu--,c===r?s=void 0:(Mu=s,s=r),s!==r?a=u=[u,s]:(Mu=a,a=r)):(Mu=a,a=r)),a!==r&&(u=pc())!==r&&(s=Ws())!==r?(Uu=o,o=kr(n,a,s)):(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,pc()!==r?(a=Mu,38===t.charCodeAt(Mu)?(u=rn,Mu++):(u=r,0===Gu&&ts(on)),u!==r?(s=Mu,Gu++,38===t.charCodeAt(Mu)?(c=rn,Mu++):(c=r,0===Gu&&ts(on)),Gu--,c===r?s=void 0:(Mu=s,s=r),s!==r?a=u=[u,s]:(Mu=a,a=r)):(Mu=a,a=r),a===r&&(a=Mu,t.substr(Mu,6)===Fr?(u=Fr,Mu+=6):(u=r,0===Gu&&ts(Nr)),u!==r?(s=Mu,Gu++,c=fc(),Gu--,c===r?s=void 0:(Mu=s,s=r),s!==r?a=u=[u,s]:(Mu=a,a=r)):(Mu=a,a=r)),a!==r&&(u=pc())!==r&&(s=Ws())!==r?(Uu=o,o=kr(n,a,s)):(Mu=o,o=r)):(Mu=o,o=r);i!==r?(Uu=e,e=n=Cr(n,i)):(Mu=e,e=r)}else Mu=e,e=r;return e}function Ws(){var e,n,i,o,a,u,s,c;if(e=Mu,(n=qs())!==r){for(i=[],o=Mu,pc()!==r?(t.substr(Mu,2)===zr?(a=zr,Mu+=2):(a=r,0===Gu&&ts(Vr)),a===r&&(t.substr(Mu,2)===Lr?(a=Lr,Mu+=2):(a=r,0===Gu&&ts(Br)),a===r&&(a=Mu,t.substr(Mu,6)===Dr?(u=Dr,Mu+=6):(u=r,0===Gu&&ts(Mr)),u!==r?(s=Mu,Gu++,c=fc(),Gu--,c===r?s=void 0:(Mu=s,s=r),s!==r?(Uu=a,a=u=Ur(n)):(Mu=a,a=r)):(Mu=a,a=r))),a!==r&&(u=pc())!==r&&(s=qs())!==r?(Uu=o,o=On(n,a,s)):(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,pc()!==r?(t.substr(Mu,2)===zr?(a=zr,Mu+=2):(a=r,0===Gu&&ts(Vr)),a===r&&(t.substr(Mu,2)===Lr?(a=Lr,Mu+=2):(a=r,0===Gu&&ts(Br)),a===r&&(a=Mu,t.substr(Mu,6)===Dr?(u=Dr,Mu+=6):(u=r,0===Gu&&ts(Mr)),u!==r?(s=Mu,Gu++,c=fc(),Gu--,c===r?s=void 0:(Mu=s,s=r),s!==r?(Uu=a,a=u=Ur(n)):(Mu=a,a=r)):(Mu=a,a=r))),a!==r&&(u=pc())!==r&&(s=qs())!==r?(Uu=o,o=On(n,a,s)):(Mu=o,o=r)):(Mu=o,o=r);i!==r?(Uu=e,e=n=Wr(n,i)):(Mu=e,e=r)}else Mu=e,e=r;return e}function qs(){var t,e,n,i,o,a;if(t=Mu,(e=Gs())!==r){for(n=[],i=Mu,pc()!==r&&(o=$s())!==r&&pc()!==r&&(a=Gs())!==r?(Uu=i,i=On(e,o,a)):(Mu=i,i=r);i!==r;)n.push(i),i=Mu,pc()!==r&&(o=$s())!==r&&pc()!==r&&(a=Gs())!==r?(Uu=i,i=On(e,o,a)):(Mu=i,i=r);n!==r?(Uu=t,t=e=Wr(e,n)):(Mu=t,t=r)}else Mu=t,t=r;return t}function $s(){var e;return t.substr(Mu,2)===qr?(e=qr,Mu+=2):(e=r,0===Gu&&ts($r)),e===r&&(t.substr(Mu,2)===Gr?(e=Gr,Mu+=2):(e=r,0===Gu&&ts(Hr)),e===r&&(60===t.charCodeAt(Mu)?(e=Qr,Mu++):(e=r,0===Gu&&ts(Zr)),e===r&&(62===t.charCodeAt(Mu)?(e=Kr,Mu++):(e=r,0===Gu&&ts(Yr))))),e}function Gs(){var t,e,n,i,o,a;if(t=Mu,(e=Qs())!==r){for(n=[],i=Mu,pc()!==r&&(o=Hs())!==r&&pc()!==r&&(a=Qs())!==r?(Uu=i,i=On(e,o,a)):(Mu=i,i=r);i!==r;)n.push(i),i=Mu,pc()!==r&&(o=Hs())!==r&&pc()!==r&&(a=Qs())!==r?(Uu=i,i=On(e,o,a)):(Mu=i,i=r);n!==r?(Uu=t,t=e=Cr(e,n)):(Mu=t,t=r)}else Mu=t,t=r;return t}function Hs(){var e;return t.substr(Mu,2)===Xr?(e=Xr,Mu+=2):(e=r,0===Gu&&ts(Jr)),e===r&&(t.substr(Mu,2)===ti?(e=ti,Mu+=2):(e=r,0===Gu&&ts(ei))),e}function Qs(){var t,e,n,i,o,a;if(t=Mu,(e=Ks())!==r){for(n=[],i=Mu,pc()!==r&&(o=Zs())!==r&&pc()!==r&&(a=Ks())!==r?(Uu=i,i=On(e,o,a)):(Mu=i,i=r);i!==r;)n.push(i),i=Mu,pc()!==r&&(o=Zs())!==r&&pc()!==r&&(a=Ks())!==r?(Uu=i,i=On(e,o,a)):(Mu=i,i=r);n!==r?(Uu=t,t=e=Cr(e,n)):(Mu=t,t=r)}else Mu=t,t=r;return t}function Zs(){var e;return 43===t.charCodeAt(Mu)?(e=ni,Mu++):(e=r,0===Gu&&ts(ri)),e===r&&(45===t.charCodeAt(Mu)?(e=ii,Mu++):(e=r,0===Gu&&ts(oi))),e}function Ks(){var t,e,n,i,o,a;if(t=Mu,(e=Xs())!==r){for(n=[],i=Mu,pc()!==r&&(o=Ys())!==r&&pc()!==r&&(a=Xs())!==r?(Uu=i,i=On(e,o,a)):(Mu=i,i=r);i!==r;)n.push(i),i=Mu,pc()!==r&&(o=Ys())!==r&&pc()!==r&&(a=Xs())!==r?(Uu=i,i=On(e,o,a)):(Mu=i,i=r);n!==r?(Uu=t,t=e=Cr(e,n)):(Mu=t,t=r)}else Mu=t,t=r;return t}function Ys(){var e;return 42===t.charCodeAt(Mu)?(e=tn,Mu++):(e=r,0===Gu&&ts(en)),e===r&&(47===t.charCodeAt(Mu)?(e=ai,Mu++):(e=r,0===Gu&&ts(ui)),e===r&&(37===t.charCodeAt(Mu)?(e=si,Mu++):(e=r,0===Gu&&ts(ci)))),e}function Xs(){var t,e,n,i,o,a;if(t=Mu,(e=tc())!==r){for(n=[],i=Mu,pc()!==r&&(o=Js())!==r&&pc()!==r&&(a=tc())!==r?(Uu=i,i=On(e,o,a)):(Mu=i,i=r);i!==r;)n.push(i),i=Mu,pc()!==r&&(o=Js())!==r&&pc()!==r&&(a=tc())!==r?(Uu=i,i=On(e,o,a)):(Mu=i,i=r);n!==r?(Uu=t,t=e=li(e,n)):(Mu=t,t=r)}else Mu=t,t=r;return t}function Js(){var e;return t.substr(Mu,2)===fi?(e=fi,Mu+=2):(e=r,0===Gu&&ts(pi)),e===r&&(t.substr(Mu,3)===hi?(e=hi,Mu+=3):(e=r,0===Gu&&ts(di))),e}function tc(){var e,n,i,o,a;return e=Mu,40===t.charCodeAt(Mu)?(n=q,Mu++):(n=r,0===Gu&&ts($)),n!==r&&pc()!==r&&(i=Ps())!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(o=G,Mu++):(o=r,0===Gu&&ts(H)),o!==r&&pc()!==r&&(a=tc())!==r?(Uu=e,e=n=yi(i,a)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=ec()),e}function ec(){var e,n,i,o,a;return e=Mu,t.substr(Mu,2)===mi?(n=mi,Mu+=2):(n=r,0===Gu&&ts(vi)),n!==r&&pc()!==r&&(i=ec())!==r?(Uu=e,e=n=_i(n,i)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,2)===bi?(n=bi,Mu+=2):(n=r,0===Gu&&ts(gi)),n!==r&&pc()!==r&&(i=ec())!==r?(Uu=e,e=n=wi(n,i)):(Mu=e,e=r),e===r&&(e=Mu,(n=function(){var e,n,i,o;return e=Mu,42===t.charCodeAt(Mu)?(n=tn,Mu++):(n=r,0===Gu&&ts(en)),n!==r&&(Uu=e,n=Ci()),(e=n)===r&&(e=Mu,38===t.charCodeAt(Mu)?(n=rn,Mu++):(n=r,0===Gu&&ts(on)),n!==r&&(Uu=e,n=Oi()),(e=n)===r&&(e=Mu,43===t.charCodeAt(Mu)?(n=ni,Mu++):(n=r,0===Gu&&ts(ri)),n!==r&&(Uu=e,n=Si()),(e=n)===r&&(e=Mu,45===t.charCodeAt(Mu)?(n=ii,Mu++):(n=r,0===Gu&&ts(oi)),n!==r&&(Uu=e,n=Pi()),(e=n)===r&&(e=Mu,33===t.charCodeAt(Mu)?(n=ji,Mu++):(n=r,0===Gu&&ts(Ii)),n!==r&&(Uu=e,n=Fi()),(e=n)===r&&(e=Mu,t.substr(Mu,3)===Ni?(n=Ni,Mu+=3):(n=r,0===Gu&&ts(ki)),n!==r?(i=Mu,Gu++,o=fc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r?(Uu=e,n=Fi(),e=n):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,126===t.charCodeAt(Mu)?(n=Ct,Mu++):(n=r,0===Gu&&ts(Ot)),n!==r&&(Uu=e,n=zi()),(e=n)===r&&(e=Mu,t.substr(Mu,5)===Vi?(n=Vi,Mu+=5):(n=r,0===Gu&&ts(Li)),n!==r&&(Uu=e,n=zi()),e=n))))))),e}())!==r&&pc()!==r&&(i=tc())!==r?(Uu=e,e=n=Ri(n,i)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,6)===Ti?(n=Ti,Mu+=6):(n=r,0===Gu&&ts(xi)),n!==r&&pc()!==r&&(i=ec())!==r?(Uu=e,e=n=Ei(n,i)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,6)===Ti?(n=Ti,Mu+=6):(n=r,0===Gu&&ts(xi)),n!==r&&pc()!==r?(40===t.charCodeAt(Mu)?(i=q,Mu++):(i=r,0===Gu&&ts($)),i!==r&&pc()!==r&&(o=_s())!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(a=G,Mu++):(a=r,0===Gu&&ts(H)),a!==r?(Uu=e,e=n=Ai(n,o)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=function(){var e,n,i,o,a,u;return e=Mu,t.substr(Mu,3)===Bi?(n=Bi,Mu+=3):(n=r,0===Gu&&ts(Di)),n!==r&&hc()!==r&&(i=function(){var e,n,i,o,a;return e=Mu,(n=ms())!==r?(i=Mu,(o=pc())!==r&&(a=function(){var e,n;return e=Mu,(n=function e(){var n,i,o,a;return n=Mu,42===t.charCodeAt(Mu)?(i=tn,Mu++):(i=r,0===Gu&&ts(en)),i!==r&&pc()!==r?((o=js())===r&&(o=null),o!==r&&pc()!==r?((a=e())===r&&(a=null),a!==r?(Uu=n,i=nn(o,a),n=i):(Mu=n,n=r)):(Mu=n,n=r)):(Mu=n,n=r),n===r&&(n=Mu,38===t.charCodeAt(Mu)?(i=rn,Mu++):(i=r,0===Gu&&ts(on)),i!==r&&pc()!==r?((o=js())===r&&(o=null),o!==r&&pc()!==r?((a=e())===r&&(a=null),a!==r?(Uu=n,i=an(o,a),n=i):(Mu=n,n=r)):(Mu=n,n=r)):(Mu=n,n=r),n===r&&(n=Mu,(i=function(){var t,e,n,i;if(t=[],e=Mu,(n=pc())!==r&&(i=nc())!==r?(Uu=e,n=Hi(i),e=n):(Mu=e,e=r),e!==r)for(;e!==r;)t.push(e),e=Mu,(n=pc())!==r&&(i=nc())!==r?(Uu=e,n=Hi(i),e=n):(Mu=e,e=r);else t=r;return t}())!==r&&(Uu=n,i=Gi(i)),n=i)),n}())!==r&&(Uu=e,n=$i(n)),e=n}())!==r?(Uu=i,o=Wi(n,a),i=o):(Mu=i,i=r),i===r&&(i=null),i!==r?(Uu=e,n=qi(n,i),e=n):(Mu=e,e=r)):(Mu=e,e=r),e}())!==r&&pc()!==r?((o=rc())===r&&(o=null),o!==r?(Uu=e,n=Mi(i,o),e=n):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,3)===Bi?(n=Bi,Mu+=3):(n=r,0===Gu&&ts(Di)),n!==r&&pc()!==r?(40===t.charCodeAt(Mu)?(i=q,Mu++):(i=r,0===Gu&&ts($)),i!==r&&pc()!==r&&(o=Ps())!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(a=G,Mu++):(a=r,0===Gu&&ts(H)),a!==r&&pc()!==r?((u=rc())===r&&(u=null),u!==r?(Uu=e,n=Ui(o,u),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)),e}())===r&&(e=function(){var e,n,i,o,a;return e=Mu,t.substr(Mu,6)===Ki?(n=Ki,Mu+=6):(n=r,0===Gu&&ts(Yi)),n!==r&&hc()!==r&&(i=tc())!==r?(Uu=e,n=Xi(i),e=n):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,6)===Ki?(n=Ki,Mu+=6):(n=r,0===Gu&&ts(Yi)),n!==r&&pc()!==r?(91===t.charCodeAt(Mu)?(i=ln,Mu++):(i=r,0===Gu&&ts(fn)),i!==r&&pc()!==r?(93===t.charCodeAt(Mu)?(o=pn,Mu++):(o=r,0===Gu&&ts(hn)),o!==r&&hc()!==r&&(a=tc())!==r?(Uu=e,n=Ji(a),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=function(){var e,n,i,o,a,u,s,c,l,f;if(e=Mu,t.substr(Mu,11)===to?(n=to,Mu+=11):(n=r,0===Gu&&ts(eo)),n!==r&&(i=pc())!==r?(60===t.charCodeAt(Mu)?(o=Qr,Mu++):(o=r,0===Gu&&ts(Zr)),o!==r&&(a=pc())!==r&&(u=_s())!==r&&pc()!==r?(62===t.charCodeAt(Mu)?(s=Kr,Mu++):(s=r,0===Gu&&ts(Yr)),s!==r&&pc()!==r?(40===t.charCodeAt(Mu)?(c=q,Mu++):(c=r,0===Gu&&ts($)),c!==r&&pc()!==r&&(l=tc())!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(f=G,Mu++):(f=r,0===Gu&&ts(H)),f!==r?(Uu=e,n=no(u,l),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,12)===ro?(n=ro,Mu+=12):(n=r,0===Gu&&ts(io)),n!==r&&(i=pc())!==r?(60===t.charCodeAt(Mu)?(o=Qr,Mu++):(o=r,0===Gu&&ts(Zr)),o!==r&&(a=pc())!==r&&(u=_s())!==r&&pc()!==r?(62===t.charCodeAt(Mu)?(s=Kr,Mu++):(s=r,0===Gu&&ts(Yr)),s!==r&&pc()!==r?(40===t.charCodeAt(Mu)?(c=q,Mu++):(c=r,0===Gu&&ts($)),c!==r&&pc()!==r&&(l=tc())!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(f=G,Mu++):(f=r,0===Gu&&ts(H)),f!==r?(Uu=e,n=oo(u,l),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,16)===ao?(n=ao,Mu+=16):(n=r,0===Gu&&ts(uo)),n!==r&&(i=pc())!==r?(60===t.charCodeAt(Mu)?(o=Qr,Mu++):(o=r,0===Gu&&ts(Zr)),o!==r&&(a=pc())!==r&&(u=_s())!==r&&pc()!==r?(62===t.charCodeAt(Mu)?(s=Kr,Mu++):(s=r,0===Gu&&ts(Yr)),s!==r&&pc()!==r?(40===t.charCodeAt(Mu)?(c=q,Mu++):(c=r,0===Gu&&ts($)),c!==r&&pc()!==r&&(l=tc())!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(f=G,Mu++):(f=r,0===Gu&&ts(H)),f!==r?(Uu=e,n=so(u,l),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,10)===co?(n=co,Mu+=10):(n=r,0===Gu&&ts(lo)),n!==r&&(i=pc())!==r?(60===t.charCodeAt(Mu)?(o=Qr,Mu++):(o=r,0===Gu&&ts(Zr)),o!==r&&(a=pc())!==r&&(u=_s())!==r&&pc()!==r?(62===t.charCodeAt(Mu)?(s=Kr,Mu++):(s=r,0===Gu&&ts(Yr)),s!==r&&pc()!==r?(40===t.charCodeAt(Mu)?(c=q,Mu++):(c=r,0===Gu&&ts($)),c!==r&&pc()!==r&&(l=tc())!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(f=G,Mu++):(f=r,0===Gu&&ts(H)),f!==r?(Uu=e,n=fo(u,l),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r))))if(e=Mu,(n=function(){var e,n,i,o,a;return e=Mu,(n=_s())!==r&&pc()!==r?(40===t.charCodeAt(Mu)?(i=q,Mu++):(i=r,0===Gu&&ts($)),i!==r&&pc()!==r?((o=oc())===r&&(o=null),o!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(a=G,Mu++):(a=r,0===Gu&&ts(H)),a!==r?(Uu=e,n=Eo(n,o),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e}())===r&&(n=function(){var e,n,i,o,a;return e=Mu,40===t.charCodeAt(Mu)?(n=q,Mu++):(n=r,0===Gu&&ts($)),n!==r&&(i=pc())!==r&&(o=Ns())!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(a=G,Mu++):(a=r,0===Gu&&ts(H)),a!==r?(Uu=e,n=Co(o),e=n):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=function(){var e,n;return e=Mu,(n=function(){var e,n,i,o;if(e=Mu,45===t.charCodeAt(Mu)?(n=ii,Mu++):(n=r,0===Gu&&ts(oi)),n===r&&(n=null),n!==r){if(i=[],ra.test(t.charAt(Mu))?(o=t.charAt(Mu),Mu++):(o=r,0===Gu&&ts(ia)),o!==r)for(;o!==r;)i.push(o),ra.test(t.charAt(Mu))?(o=t.charAt(Mu),Mu++):(o=r,0===Gu&&ts(ia));else i=r;i!==r?(Uu=Mu,(o=(o=oa(n,i))?void 0:r)!==r?(Uu=e,n=aa(n,i),e=n):(Mu=e,e=r)):(Mu=e,e=r)}else Mu=e,e=r;return e}())!==r&&(Uu=e,n=Zo(n)),(e=n)===r&&(e=Mu,(n=function(){var e,n,i,o;if(e=Mu,45===t.charCodeAt(Mu)?(n=ii,Mu++):(n=r,0===Gu&&ts(oi)),n===r&&(n=null),n!==r){if(i=[],ta.test(t.charAt(Mu))?(o=t.charAt(Mu),Mu++):(o=r,0===Gu&&ts(ea)),o!==r)for(;o!==r;)i.push(o),ta.test(t.charAt(Mu))?(o=t.charAt(Mu),Mu++):(o=r,0===Gu&&ts(ea));else i=r;i!==r?(Uu=e,n=na(n,i),e=n):(Mu=e,e=r)}else Mu=e,e=r;return e}())!==r&&(Uu=e,n=Ko(n)),(e=n)===r&&(e=Mu,(n=function(){var e,n,i,o;return e=Mu,39===t.charCodeAt(Mu)?(n=ua,Mu++):(n=r,0===Gu&&ts(sa)),n!==r?(ca.test(t.charAt(Mu))?(i=t.charAt(Mu),Mu++):(i=r,0===Gu&&ts(la)),i===r&&(i=cc()),i!==r?(39===t.charCodeAt(Mu)?(o=ua,Mu++):(o=r,0===Gu&&ts(sa)),o!==r?(Uu=e,n=fa(i),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e}())!==r&&(Uu=e,n=Yo(n)),(e=n)===r&&(e=Mu,(n=function(){var e,n,i,o;if(e=Mu,34===t.charCodeAt(Mu)?(n=pa,Mu++):(n=r,0===Gu&&ts(ha)),n!==r){for(i=[],da.test(t.charAt(Mu))?(o=t.charAt(Mu),Mu++):(o=r,0===Gu&&ts(ya)),o===r&&(o=cc());o!==r;)i.push(o),da.test(t.charAt(Mu))?(o=t.charAt(Mu),Mu++):(o=r,0===Gu&&ts(ya)),o===r&&(o=cc());i!==r?(34===t.charCodeAt(Mu)?(o=pa,Mu++):(o=r,0===Gu&&ts(ha)),o!==r?(Uu=e,n=ma(i),e=n):(Mu=e,e=r)):(Mu=e,e=r)}else Mu=e,e=r;return e}())!==r&&(Uu=e,n=Xo(n)),(e=n)===r&&(e=Mu,(n=function(){var e,n,i,o;return e=Mu,t.substr(Mu,4)===va?(n=va,Mu+=4):(n=r,0===Gu&&ts(_a)),n!==r?(i=Mu,Gu++,o=fc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r?(Uu=e,n=ba(),e=n):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,5)===ga?(n=ga,Mu+=5):(n=r,0===Gu&&ts(wa)),n!==r?(i=Mu,Gu++,o=fc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r?(Uu=e,n=Ra(),e=n):(Mu=e,e=r)):(Mu=e,e=r)),e}())!==r&&(Uu=e,n=Jo(n)),e=n)))),e}())===r&&(e=Mu,t.substr(Mu,4)===Oo?(n=Oo,Mu+=4):(n=r,0===Gu&&ts(So)),n!==r?(i=Mu,Gu++,o=fc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r?(Uu=e,n=Po(),e=n):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=function(){var t,e;return t=Mu,(e=function(){var t,e,n;return t=Mu,(e=ac())!==r&&pc()!==r&&(n=sc())!==r?(Uu=t,e=Io(e,n),t=e):(Mu=t,t=r),t}())===r&&(e=sc()),e!==r&&(Uu=t,e=jo(e)),t=e}())),e}()),n!==r){for(i=[],o=Mu,(a=pc())!==r&&(u=ic())!==r?(Uu=o,a=po(n,u),o=a):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,(a=pc())!==r&&(u=ic())!==r?(Uu=o,a=po(n,u),o=a):(Mu=o,o=r);i!==r?(Uu=e,n=ho(n,i),e=n):(Mu=e,e=r)}else Mu=e,e=r;return e}())),e}()))))),e}function nc(){var e,n,i,o;return e=Mu,91===t.charCodeAt(Mu)?(n=ln,Mu++):(n=r,0===Gu&&ts(fn)),n!==r&&pc()!==r?((i=ks())===r&&(i=null),i!==r&&pc()!==r?(93===t.charCodeAt(Mu)?(o=pn,Mu++):(o=r,0===Gu&&ts(hn)),o!==r?(Uu=e,e=n=Qi(i)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e}function rc(){var e,n,i,o;return e=Mu,40===t.charCodeAt(Mu)?(n=q,Mu++):(n=r,0===Gu&&ts($)),n!==r&&pc()!==r?((i=oc())===r&&(i=null),i!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(o=G,Mu++):(o=r,0===Gu&&ts(H)),o!==r?(Uu=e,e=n=Zi(i)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e}function ic(){var e,n,i,o;return e=Mu,91===t.charCodeAt(Mu)?(n=ln,Mu++):(n=r,0===Gu&&ts(fn)),n!==r&&pc()!==r&&(i=Ns())!==r&&pc()!==r?(93===t.charCodeAt(Mu)?(o=pn,Mu++):(o=r,0===Gu&&ts(hn)),o!==r?(Uu=e,e=n=yo(i)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,40===t.charCodeAt(Mu)?(n=q,Mu++):(n=r,0===Gu&&ts($)),n!==r&&pc()!==r?((i=oc())===r&&(i=null),i!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(o=G,Mu++):(o=r,0===Gu&&ts(H)),o!==r?(Uu=e,e=n=mo(i)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,46===t.charCodeAt(Mu)?(n=vo,Mu++):(n=r,0===Gu&&ts(_o)),n!==r&&pc()!==r&&(i=sc())!==r?(Uu=e,e=n=bo(i)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,2)===go?(n=go,Mu+=2):(n=r,0===Gu&&ts(wo)),n!==r&&pc()!==r&&(i=sc())!==r?(Uu=e,e=n=Ro(i)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,2)===mi?(n=mi,Mu+=2):(n=r,0===Gu&&ts(vi)),n!==r&&(Uu=e,n=To()),(e=n)===r&&(e=Mu,t.substr(Mu,2)===bi?(n=bi,Mu+=2):(n=r,0===Gu&&ts(gi)),n!==r&&(Uu=e,n=xo()),e=n))))),e}function oc(){var e,n,i,o,a,u;if(e=Mu,(n=ks())!==r){for(i=[],o=Mu,pc()!==r?(44===t.charCodeAt(Mu)?(a=bt,Mu++):(a=r,0===Gu&&ts(gt)),a!==r&&pc()!==r&&(u=ks())!==r?(Uu=o,o=Ao(n,u)):(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,pc()!==r?(44===t.charCodeAt(Mu)?(a=bt,Mu++):(a=r,0===Gu&&ts(gt)),a!==r&&pc()!==r&&(u=ks())!==r?(Uu=o,o=Ao(n,u)):(Mu=o,o=r)):(Mu=o,o=r);i!==r?(Uu=e,e=n=xn(n,i)):(Mu=e,e=r)}else Mu=e,e=r;return e}function ac(){var e,n,i,o;if(e=[],n=Mu,(i=uc())===r&&(i=lc()),i!==r&&pc()!==r?(t.substr(Mu,2)===Fo?(o=Fo,Mu+=2):(o=r,0===Gu&&ts(No)),o!==r&&pc()!==r?(Uu=n,n=i=ko(i)):(Mu=n,n=r)):(Mu=n,n=r),n!==r)for(;n!==r;)e.push(n),n=Mu,(i=uc())===r&&(i=lc()),i!==r&&pc()!==r?(t.substr(Mu,2)===Fo?(o=Fo,Mu+=2):(o=r,0===Gu&&ts(No)),o!==r&&pc()!==r?(Uu=n,n=i=ko(i)):(Mu=n,n=r)):(Mu=n,n=r);else e=r;return e===r&&(e=Mu,t.substr(Mu,2)===Fo?(n=Fo,Mu+=2):(n=r,0===Gu&&ts(No)),n!==r&&(i=pc())!==r?(Uu=e,e=n=zo()):(Mu=e,e=r)),e}function uc(){var t,e;return t=Mu,(e=_s())!==r&&(Uu=t,e=Vo(e)),t=e}function sc(){var e;return(e=function(){var e,n,i;return e=Mu,t.substr(Mu,8)===Lo?(n=Lo,Mu+=8):(n=r,0===Gu&&ts(Bo)),n!==r&&pc()!==r&&(i=function(){var e;return t.substr(Mu,5)===Mo?(e=Mo,Mu+=5):(e=r,0===Gu&&ts(Uo)),e===r&&(t.substr(Mu,8)===Wo?(e=Wo,Mu+=8):(e=r,0===Gu&&ts(qo)),e===r&&(t.substr(Mu,3)===Bi?(e=Bi,Mu+=3):(e=r,0===Gu&&ts(Di)),e===r&&(t.substr(Mu,6)===Ki?(e=Ki,Mu+=6):(e=r,0===Gu&&ts(Yi)),e===r&&(t.substr(Mu,3)===hi?(e=hi,Mu+=3):(e=r,0===Gu&&ts(di)),e===r&&(t.substr(Mu,3)===Un?(e=Un,Mu+=3):(e=r,0===Gu&&ts(Wn)),e===r&&(t.substr(Mu,3)===qn?(e=qn,Mu+=3):(e=r,0===Gu&&ts($n)),e===r&&(t.substr(Mu,2)===Ln?(e=Ln,Mu+=2):(e=r,0===Gu&&ts(Bn)),e===r&&(t.substr(Mu,2)===Dn?(e=Dn,Mu+=2):(e=r,0===Gu&&ts(Mn)),e===r&&(t.substr(Mu,2)===In?(e=In,Mu+=2):(e=r,0===Gu&&ts(Fn)),e===r&&(t.substr(Mu,2)===Nn?(e=Nn,Mu+=2):(e=r,0===Gu&&ts(kn)),e===r&&(t.substr(Mu,2)===zn?(e=zn,Mu+=2):(e=r,0===Gu&&ts(Vn)),e===r&&(t.substr(Mu,2)===Yn?(e=Yn,Mu+=2):(e=r,0===Gu&&ts(Xn)),e===r&&(t.substr(Mu,2)===Gn?(e=Gn,Mu+=2):(e=r,0===Gu&&ts(Hn)),e===r&&(t.substr(Mu,2)===nr?(e=nr,Mu+=2):(e=r,0===Gu&&ts(rr)),e===r&&(t.substr(Mu,2)===Xr?(e=Xr,Mu+=2):(e=r,0===Gu&&ts(Jr)),e===r&&(t.substr(Mu,2)===ti?(e=ti,Mu+=2):(e=r,0===Gu&&ts(ei)),e===r&&(t.substr(Mu,2)===zr?(e=zr,Mu+=2):(e=r,0===Gu&&ts(Vr)),e===r&&(t.substr(Mu,2)===Lr?(e=Lr,Mu+=2):(e=r,0===Gu&&ts(Br)),e===r&&(t.substr(Mu,2)===qr?(e=qr,Mu+=2):(e=r,0===Gu&&ts($r)),e===r&&(t.substr(Mu,2)===Gr?(e=Gr,Mu+=2):(e=r,0===Gu&&ts(Hr)),e===r&&(t.substr(Mu,2)===vr?(e=vr,Mu+=2):(e=r,0===Gu&&ts(_r)),e===r&&(t.substr(Mu,2)===fr?(e=fr,Mu+=2):(e=r,0===Gu&&ts(pr)),e===r&&(t.substr(Mu,2)===mi?(e=mi,Mu+=2):(e=r,0===Gu&&ts(vi)),e===r&&(t.substr(Mu,2)===bi?(e=bi,Mu+=2):(e=r,0===Gu&&ts(gi)),e===r&&(t.substr(Mu,2)===go?(e=go,Mu+=2):(e=r,0===Gu&&ts(wo)),e===r&&(t.substr(Mu,2)===$o?(e=$o,Mu+=2):(e=r,0===Gu&&ts(Go)),e===r&&(t.substr(Mu,2)===Ho?(e=Ho,Mu+=2):(e=r,0===Gu&&ts(Qo)),e===r&&(43===t.charCodeAt(Mu)?(e=ni,Mu++):(e=r,0===Gu&&ts(ri)),e===r&&(45===t.charCodeAt(Mu)?(e=ii,Mu++):(e=r,0===Gu&&ts(oi)),e===r&&(42===t.charCodeAt(Mu)?(e=tn,Mu++):(e=r,0===Gu&&ts(en)),e===r&&(47===t.charCodeAt(Mu)?(e=ai,Mu++):(e=r,0===Gu&&ts(ui)),e===r&&(37===t.charCodeAt(Mu)?(e=si,Mu++):(e=r,0===Gu&&ts(ci)),e===r&&(94===t.charCodeAt(Mu)?(e=Or,Mu++):(e=r,0===Gu&&ts(Sr)),e===r&&(38===t.charCodeAt(Mu)?(e=rn,Mu++):(e=r,0===Gu&&ts(on)),e===r&&(124===t.charCodeAt(Mu)?(e=Rr,Mu++):(e=r,0===Gu&&ts(Tr)),e===r&&(126===t.charCodeAt(Mu)?(e=Ct,Mu++):(e=r,0===Gu&&ts(Ot)),e===r&&(33===t.charCodeAt(Mu)?(e=ji,Mu++):(e=r,0===Gu&&ts(Ii)),e===r&&(61===t.charCodeAt(Mu)?(e=Be,Mu++):(e=r,0===Gu&&ts(De)),e===r&&(60===t.charCodeAt(Mu)?(e=Qr,Mu++):(e=r,0===Gu&&ts(Zr)),e===r&&(62===t.charCodeAt(Mu)?(e=Kr,Mu++):(e=r,0===Gu&&ts(Yr)),e===r&&(44===t.charCodeAt(Mu)?(e=bt,Mu++):(e=r,0===Gu&&ts(gt))))))))))))))))))))))))))))))))))))))))))),e}())!==r?(Uu=e,n=Do(i),e=n):(Mu=e,e=r),e}())===r&&(e=lc()),e}function cc(){var e;return(e=function(){var e;return t.substr(Mu,2)===Ta?(e=Ta,Mu+=2):(e=r,0===Gu&&ts(xa)),e===r&&(t.substr(Mu,2)===Ea?(e=Ea,Mu+=2):(e=r,0===Gu&&ts(Aa)),e===r&&(t.substr(Mu,2)===Ca?(e=Ca,Mu+=2):(e=r,0===Gu&&ts(Oa)),e===r&&(t.substr(Mu,2)===Sa?(e=Sa,Mu+=2):(e=r,0===Gu&&ts(Pa)),e===r&&(t.substr(Mu,2)===ja?(e=ja,Mu+=2):(e=r,0===Gu&&ts(Ia)),e===r&&(t.substr(Mu,2)===Fa?(e=Fa,Mu+=2):(e=r,0===Gu&&ts(Na)),e===r&&(t.substr(Mu,2)===ka?(e=ka,Mu+=2):(e=r,0===Gu&&ts(za)),e===r&&(t.substr(Mu,2)===Va?(e=Va,Mu+=2):(e=r,0===Gu&&ts(La)),e===r&&(t.substr(Mu,2)===Ba?(e=Ba,Mu+=2):(e=r,0===Gu&&ts(Da)),e===r&&(t.substr(Mu,2)===Ma?(e=Ma,Mu+=2):(e=r,0===Gu&&ts(Ua)),e===r&&(t.substr(Mu,2)===Wa?(e=Wa,Mu+=2):(e=r,0===Gu&&ts(qa)),e===r&&(t.substr(Mu,2)===$a?(e=$a,Mu+=2):(e=r,0===Gu&&ts(Ga))))))))))))),e}())===r&&(e=function(){var e,n,i,o;return Ha.test(t.charAt(Mu))?(e=t.charAt(Mu),Mu++):(e=r,0===Gu&&ts(Qa)),e===r&&(e=Mu,Ha.test(t.charAt(Mu))?(n=t.charAt(Mu),Mu++):(n=r,0===Gu&&ts(Qa)),n!==r?(Ha.test(t.charAt(Mu))?(i=t.charAt(Mu),Mu++):(i=r,0===Gu&&ts(Qa)),i!==r?e=n=[n,i]:(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,Ha.test(t.charAt(Mu))?(n=t.charAt(Mu),Mu++):(n=r,0===Gu&&ts(Qa)),n!==r?(Ha.test(t.charAt(Mu))?(i=t.charAt(Mu),Mu++):(i=r,0===Gu&&ts(Qa)),i!==r?(Ha.test(t.charAt(Mu))?(o=t.charAt(Mu),Mu++):(o=r,0===Gu&&ts(Qa)),o!==r?e=n=[n,i,o]:(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r))),e}()),e}function lc(){var e,n,i,o;if(Gu++,e=Mu,(n=function(){var e;return Ja.test(t.charAt(Mu))?(e=t.charAt(Mu),Mu++):(e=r,0===Gu&&ts(tu)),e}())!==r){for(i=[],o=fc();o!==r;)i.push(o),o=fc();i!==r?(Uu=e,e=n=Ka(n,i)):(Mu=e,e=r)}else Mu=e,e=r;return Gu--,e===r&&(n=r,0===Gu&&ts(Za)),e}function fc(){var e;return Ya.test(t.charAt(Mu))?(e=t.charAt(Mu),Mu++):(e=r,0===Gu&&ts(Xa)),e}function pc(){var e,n,i,o;for(Gu++,e=Mu,n=[],nu.test(t.charAt(Mu))?(i=t.charAt(Mu),Mu++):(i=r,0===Gu&&ts(ru));i!==r;)n.push(i),nu.test(t.charAt(Mu))?(i=t.charAt(Mu),Mu++):(i=r,0===Gu&&ts(ru));if(n!==r&&(i=is())!==r&&(o=pc())!==r?e=n=[n,i,o]:(Mu=e,e=r),e===r)for(e=[],nu.test(t.charAt(Mu))?(n=t.charAt(Mu),Mu++):(n=r,0===Gu&&ts(ru));n!==r;)e.push(n),nu.test(t.charAt(Mu))?(n=t.charAt(Mu),Mu++):(n=r,0===Gu&&ts(ru));return Gu--,e===r&&(n=r,0===Gu&&ts(eu)),e}function hc(){var e,n,i,o;if(Gu++,e=Mu,(n=is())!==r&&(i=hc())!==r?e=n=[n,i]:(Mu=e,e=r),e===r){if(e=Mu,n=[],nu.test(t.charAt(Mu))?(i=t.charAt(Mu),Mu++):(i=r,0===Gu&&ts(ru)),i!==r)for(;i!==r;)n.push(i),nu.test(t.charAt(Mu))?(i=t.charAt(Mu),Mu++):(i=r,0===Gu&&ts(ru));else n=r;if(n!==r&&(i=is())!==r&&(o=pc())!==r?e=n=[n,i,o]:(Mu=e,e=r),e===r)if(e=[],nu.test(t.charAt(Mu))?(n=t.charAt(Mu),Mu++):(n=r,0===Gu&&ts(ru)),n!==r)for(;n!==r;)e.push(n),nu.test(t.charAt(Mu))?(n=t.charAt(Mu),Mu++):(n=r,0===Gu&&ts(ru));else e=r}return Gu--,e===r&&(n=r,0===Gu&&ts(iu)),e}function dc(){var e,n,i,o,a,u,s;if(e=Mu,n=[],i=Mu,(o=mc())!==r&&pc()!==r?(Uu=i,i=o=yu(o)):(Mu=i,i=r),i!==r)for(;i!==r;)n.push(i),i=Mu,(o=mc())!==r&&pc()!==r?(Uu=i,i=o=yu(o)):(Mu=i,i=r);else n=r;if(n!==r&&(Uu=e,n=mu(n)),(e=n)===r)if(e=Mu,(n=yc())!==r)if((i=pc())!==r)if(58===t.charCodeAt(Mu)?(o=T,Mu++):(o=r,0===Gu&&ts(x)),o!==r)if(pc()!==r){for(a=[],u=Mu,(s=mc())!==r&&pc()!==r?(Uu=u,u=s=vu(n,s)):(Mu=u,u=r);u!==r;)a.push(u),u=Mu,(s=mc())!==r&&pc()!==r?(Uu=u,u=s=vu(n,s)):(Mu=u,u=r);a!==r?(Uu=e,e=n=_u(n,a)):(Mu=e,e=r)}else Mu=e,e=r;else Mu=e,e=r;else Mu=e,e=r;else Mu=e,e=r;return e}function yc(){var e;return t.substr(Mu,7)===bu?(e=bu,Mu+=7):(e=r,0===Gu&&ts(gu)),e===r&&(t.substr(Mu,9)===wu?(e=wu,Mu+=9):(e=r,0===Gu&&ts(Ru)),e===r&&(t.substr(Mu,6)===Tu?(e=Tu,Mu+=6):(e=r,0===Gu&&ts(xu)))),e}function mc(){var e,n,i,o,a,u;return e=Mu,(n=ds())!==r?(i=Mu,Gu++,o=lc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r&&(o=pc())!==r&&(a=function(){var e,n,i,o,a,u,s;if(e=Mu,(n=vc())!==r){for(i=[],o=Mu,(a=pc())!==r?(44===t.charCodeAt(Mu)?(u=bt,Mu++):(u=r,0===Gu&&ts(gt)),u!==r&&pc()!==r&&(s=vc())!==r?(Uu=o,a=wt(n,s),o=a):(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,(a=pc())!==r?(44===t.charCodeAt(Mu)?(u=bt,Mu++):(u=r,0===Gu&&ts(gt)),u!==r&&pc()!==r&&(s=vc())!==r?(Uu=o,a=wt(n,s),o=a):(Mu=o,o=r)):(Mu=o,o=r);i!==r?(Uu=e,n=Rt(n,i),e=n):(Mu=e,e=r)}else Mu=e,e=r;return e}())!==r&&pc()!==r?(59===t.charCodeAt(Mu)?(u=I,Mu++):(u=r,0===Gu&&ts(F)),u!==r?(Uu=e,e=n=Eu(n,a)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,(n=ps())!==r&&(i=pc())!==r?(59===t.charCodeAt(Mu)?(o=I,Mu++):(o=r,0===Gu&&ts(F)),o===r&&(o=null),o!==r?(Uu=e,e=n=Au(n)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,(n=function(){var e,n,i,o,a,u,s,c,l,f;return e=Mu,126===t.charCodeAt(Mu)?(n=Ct,Mu++):(n=r,0===Gu&&ts(Ot)),n!==r&&(i=lc())!==r&&(o=pc())!==r?(40===t.charCodeAt(Mu)?(a=q,Mu++):(a=r,0===Gu&&ts($)),a!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(u=G,Mu++):(u=r,0===Gu&&ts(H)),u!==r&&pc()!==r?((s=ss())===r&&(s=Mu,59===t.charCodeAt(Mu)?(c=I,Mu++):(c=r,0===Gu&&ts(F)),c!==r&&(Uu=s,c=St(i)),s=c),s!==r?(Uu=e,e=n=Pt(i,s)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,7)===jt?(n=jt,Mu+=7):(n=r,0===Gu&&ts(It)),n!==r&&(i=hc())!==r?(126===t.charCodeAt(Mu)?(o=Ct,Mu++):(o=r,0===Gu&&ts(Ot)),o!==r&&(a=lc())!==r&&pc()!==r?(40===t.charCodeAt(Mu)?(u=q,Mu++):(u=r,0===Gu&&ts($)),u!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(s=G,Mu++):(s=r,0===Gu&&ts(H)),s!==r&&(c=pc())!==r?((l=ss())===r&&(l=Mu,59===t.charCodeAt(Mu)?(f=I,Mu++):(f=r,0===Gu&&ts(F)),f!==r&&(Uu=l,f=St(a)),l=f),l!==r?(Uu=e,e=n=Ft(a,l)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)),e}())!==r&&(i=pc())!==r?(59===t.charCodeAt(Mu)?(o=I,Mu++):(o=r,0===Gu&&ts(F)),o===r&&(o=null),o!==r?(Uu=e,e=n=Cu(n)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,(n=fs())!==r&&(i=pc())!==r?(59===t.charCodeAt(Mu)?(o=I,Mu++):(o=r,0===Gu&&ts(F)),o===r&&(o=null),o!==r?(Uu=e,e=n=Ou(n)):(Mu=e,e=r)):(Mu=e,e=r)))),e}function vc(){var e,n,i,o;return e=Mu,(n=Rs())!==r&&pc()!==r?(61===t.charCodeAt(Mu)?(i=Be,Mu++):(i=r,0===Gu&&ts(De)),i!==r&&pc()!==r?(48===t.charCodeAt(Mu)?(o=Su,Mu++):(o=r,0===Gu&&ts(Pu)),o!==r?(Uu=e,e=n=ju(n)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,(n=Rs())!==r&&pc()!==r?(61===t.charCodeAt(Mu)?(i=Be,Mu++):(i=r,0===Gu&&ts(De)),i!==r&&pc()!==r?(t.substr(Mu,21)===We?(o=We,Mu+=21):(o=r,0===Gu&&ts(qe)),o!==r?(Uu=e,e=n=Iu(n)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,(n=Rs())!==r&&pc()!==r&&(i=ws())!==r?(Uu=e,e=n=Fu(n,i)):(Mu=e,e=r),e===r&&(e=Rs()))),e}function _c(){var e,n,i,o,a;return e=Mu,t.substr(Mu,7)===jt?(n=jt,Mu+=7):(n=r,0===Gu&&ts(It)),n!==r&&(i=hc())!==r?(o=Mu,(a=yc())!==r&&hc()!==r?(Uu=o,o=a=zu(a)):(Mu=o,o=r),o!==r&&(a=bc())!==r?(Uu=e,e=n=Vu(o,a)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,n=Mu,(i=yc())!==r&&(o=hc())!==r?(Uu=n,n=i=zu(i)):(Mu=n,n=r),n!==r?(t.substr(Mu,7)===jt?(i=jt,Mu+=7):(i=r,0===Gu&&ts(It)),i!==r&&(o=hc())!==r&&(a=bc())!==r?(Uu=e,e=n=Vu(n,a)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,(n=yc())!==r&&(i=hc())!==r&&(o=bc())!==r?(Uu=e,e=n=Lu(n,o)):(Mu=e,e=r),e===r&&(e=Mu,(n=bc())!==r&&(Uu=e,n=Bu(n)),e=n))),e}function bc(){var t,e,n;return t=Mu,(e=ac())!==r&&pc()!==r&&(n=lc())!==r?(Uu=t,t=e=Du(e,n)):(Mu=t,t=r),t===r&&(t=lc()),t}function gc(t,e,n,r){if(!e||0===e.length)return t;if("left"===n){var i=e.pop();return{construct_type:r,operator:i[0],left:gc(t,e,n,r),right:i[1],associativity:n}}var o=e.shift();return{construct_type:r,operator:o[0],left:t,right:gc(o[1],e,n,r),associativity:n}}function wc(t,e){if(!e)return t;for(var n in e)"start"!=n&&"end"!=n&&(t[n]=e[n]);return t}function Rc(t,e,n){return t.source={location:e,start:e.start.offset,text:n,line:e.start.line,column:e.start.column,end:e.start.offset+n.length},t}var Tc={};function xc(){return Tc}if((n=a())!==r&&Mu===t.length)return n;throw n!==r&&Mu<t.length&&ts({type:"end"}),es($u,qu<t.length?t.charAt(qu):null,qu<t.length?Ju(qu,qu+1):Ju(qu,qu))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(55),i=n(3),o=n(0),a=n(13),u=n(4),s=n(5),c=n(2),l=function(){function t(){this._allNotes=[],this.allNotes=this._allNotes,this.hasErrors=!1,this.hasSyntaxErrors=!1,this.hasWarnings=!1}return t.prototype.addNote=function(t){this._allNotes.push(t);t.kind===i.NoteKind.ERROR?(this.hasErrors=!0,t instanceof i.SyntaxNote&&(this.hasSyntaxErrors=!0)):t.kind===i.NoteKind.WARNING&&(this.hasWarnings=!0)},t.prototype.addNotes=function(t){var e=this;t.forEach(function(t){return e.addNote(t)})},t.prototype.clearNotes=function(){this._allNotes.length=0;this.hasErrors=!1,this.hasSyntaxErrors=!1,this.hasWarnings=!1},t}();e.NoteRecorder=l;var f=function(){function t(t,e){var n=this;for(var r in this.context={program:this},this.isCompilationUpToDate=!0,this.sourceFiles={},this.translationUnits={},this.globalObjects=[],this.functionCalls=[],this.definitions={},this.linkedEntities=[],this.notes=new l,t.forEach(function(t){n.sourceFiles[t.name]=t}),e.forEach(function(t){o.assert(!!n.sourceFiles[t],"Source file "+t+" not found."),n.translationUnits[t]=new y(n,new d(n.sourceFiles[t],n.sourceFiles))}),this.translationUnits){var i=this.translationUnits[r];this.notes.addNotes(i.notes.allNotes)}this.notes.hasSyntaxErrors||this.link(),this.isCompilationUpToDate=!0}return t.prototype.link=function(){var t=this;this.defineIntrinsics(),this.linkedEntities.forEach(function(e){return e.link(t.definitions[e.qualifiedName])});var e=this.definitions["::main"];e instanceof a.FunctionDefinition&&(this.mainFunction=e),this.globalObjectAllocator=new c.GlobalObjectAllocator(this.context,this.globalObjects)},t.prototype.defineIntrinsics=function(){},t.prototype.registerLinkedEntity=function(t){o.asMutable(this.linkedEntities).push(t)},t.prototype.registerGlobalObjectDefinition=function(t,e){this.definitions[t]?this.notes.addNote(i.CPPError.link.multiple_def(e,t)):(this.definitions[t]=e,o.asMutable(this.globalObjects).push(e))},t.prototype.registerFunctionDefinition=function(t,e){var n=this.definitions[t];if(n)if(Array.isArray(n)){u.selectOverloadedDefinition(n,e.declaration.type)?this.notes.addNote(i.CPPError.link.multiple_def(e,t)):n.push(e)}else this.notes.addNote(i.CPPError.link.multiple_def(e,t));else this.definitions[t]=[e]},t}();e.Program=f;var p=function(){return function(t,e){this.observable=new s.Observable(this),this.name=t,this.text=e}}();e.SourceFile=p;var h=function(){function t(t,e,n,r,i){this._includes=[],this.includes=this._includes,this.sourceFile=t,this.line=e,this.column=n,this.start=r,this.end=i}return t.createIncluded=function(e,n,r){var i=new t(r.sourceFile,r.line,r.column,r.start,r.end);return i._includes.push({sourceFile:e,lineIncluded:n}),r.includes.forEach(function(t){return i._includes.push(t)}),i},Object.defineProperty(t.prototype,"isIncluded",{get:function(){return this.includes.length>0},enumerable:!0,configurable:!0}),t}();e.SourceReference=h;var d=function(){function t(e,n,r){var o=this;void 0===r&&(r={}),this.notes=new l,this._includes=[],this.includes=this._includes,this.includedSourceFiles={},this.primarySourceFile=e,this.name=e.name,this.availableToInclude=n,r[this.primarySourceFile.name]=!0;var a=e.text;a=this.filterSourceCode(a);var u=0,s=1,c=1;this.includedSourceFiles[this.primarySourceFile.name]=this.primarySourceFile,this.preprocessedText=a.replace(/#include[^\S\n]+"(.*)"/g,function(n,a,l,f){for(var p={},d=u;d<l;++d)"\n"===f[d]&&(++s,++c);if(p.startLine=s,p.startOffset=l,u=l+n.length,r[a])return o.notes.addNote(i.CPPError.preprocess.recursiveInclude(new h(e,s,0,l,u))),Array(n.length+1).join(" ");var y=new t(o.availableToInclude[a],o.availableToInclude,Object.assign({},r));return Object.assign(o.includedSourceFiles,y.includedSourceFiles),p.numLines=y.numLines,p.endLine=p.startLine+y.numLines,p.lineDelta=y.numLines-1,p.lengthDelta=y.length-n.length,s+=y.numLines-1,p.included=y,p.lineIncluded=c,o._includes.push(p),y.preprocessedText});for(var f=u;f<a.length;++f)"\n"===a[f]&&++s;this.numLines=s,this.length=this.preprocessedText.length}return t.prototype.filterSourceCode=function(t){return(t=t.replace(/\r/g,"")).includes("#ifndef")&&(t=t.replace(/#ifndef.*/g,function(t){return Array(t.length+1).join(" ")})),t.includes("#define")&&(t=t.replace(/#define.*/g,function(t){return Array(t.length+1).join(" ")})),t.includes("#endif")&&(t=t.replace(/#endif.*/g,function(t){return Array(t.length+1).join(" ")})),(t=t.replace(/#include.*<.*>/g,function(t){return Array(t.length+1).join(" ")})).includes("using namespace")&&(t=t.replace(/using namespace.*/g,function(t){return Array(t.length+1).join(" ")})),t.includes("using std::")&&(t=t.replace(/using std::.*/g,function(t){return Array(t.length+1).join(" ")})),t},t.prototype.getSourceReference=function(t,e,n,r){for(var i=0,o=1,a=0;a<this.includes.length;++a){var u=this.includes[a];if(t<u.startLine)return new h(this.primarySourceFile,t-o+1,e,n&&n-i,r&&r-i);if(u.startLine<=t&&t<u.endLine)return h.createIncluded(this.primarySourceFile,u.lineIncluded,u.included.getSourceReference(t-u.startLine+1,e,n&&n-u.startOffset,r&&r-u.startOffset));i+=u.lengthDelta,o+=u.lineDelta}return new h(this.primarySourceFile,t-o+1,e,n&&n-i,r&&r-i)},t}(),y=function(){function t(t,e){this.notes=new l,this.topLevelDeclarations=[],this.staticEntities=[],this.stringLiterals=[],this.functionCalls=[],this.program=t,this.source=e,this.globalScope=new u.NamespaceScope(e.primarySourceFile.name+"_GLOBAL_SCOPE"),this.name=e.name,this.context=c.createTranslationUnitContext(t.context,this,this.globalScope);try{var n=r.parse(this.source.preprocessedText);this.parsedAST=n,this.createBuiltInGlobals(),this.compileTopLevelDeclarations(this.parsedAST)}catch(t){if("SyntaxError"!=t.name)throw console.log(t.stack),t;this.notes.addNote(new i.SyntaxNote(this.getSourceReference(t.location.start.line,t.location.start.column,t.location.start.offset,t.location.start.offset+1),i.NoteKind.ERROR,"syntax",t.message))}}return t.prototype.createBuiltInGlobals=function(){},t.prototype.compileTopLevelDeclarations=function(t){var e=this;t.declarations.forEach(function(t){var n=a.createDeclarationFromAST(t,e.context);Array.isArray(n)?n.forEach(function(t){return o.asMutable(e.topLevelDeclarations).push(t)}):o.asMutable(e.topLevelDeclarations).push(n)})},t.prototype.addStringLiteral=function(t){o.asMutable(this.stringLiterals).push(t)},t.prototype.registerFunctionCall=function(t){o.asMutable(this.functionCalls).push(t)},t.prototype.getNearestSourceReferenceForConstruct=function(t){for(;!t.ast&&t.parent;)t=t.parent;if(!t.ast)return o.assertFalse("Can't find source reference for construct");var e=t.ast.source;return this.getSourceReference(e.line,e.column,e.start,e.end)},t.prototype.getSourceReference=function(t,e,n,r){return this.source.getSourceReference(t,e,n,r)},t}();e.TranslationUnit=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(56);console.log("hello");var i=new r.SourceFile("test.cpp","int main() {int x = 2;}"),o=new r.Program([i],["test.cpp"]);console.log(o)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9CdW5kbGUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vc3JjL2pzL3V0aWwvdXRpbC50cyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvY29yZS90eXBlcy50cyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvY29yZS9jb25zdHJ1Y3RzLnRzIiwid2VicGFjazovL0J1bmRsZS8uL3NyYy9qcy9jb3JlL2Vycm9ycy50cyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvY29yZS9lbnRpdGllcy50cyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvdXRpbC9vYnNlcnZlLnRzIiwid2VicGFjazovL0J1bmRsZS8uL3NyYy9qcy9jb3JlL2V4cHJlc3Npb25zLnRzIiwid2VicGFjazovL0J1bmRsZS8uL3NyYy9qcy9jb3JlL3J1bnRpbWVFbnZpcm9ubWVudC50cyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvY29yZS9leHByZXNzaW9uQmFzZS50cyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvY29yZS9vYmplY3RzLnRzIiwid2VicGFjazovL0J1bmRsZS8uL3NyYy9qcy9jb3JlL2xleGljYWwudHMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vc3JjL2pzL2NvcmUvc3RhbmRhcmRDb252ZXJzaW9ucy50cyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvY29yZS9pbml0aWFsaXplcnMudHMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vc3JjL2pzL2NvcmUvZGVjbGFyYXRpb25zLnRzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNPYmplY3QuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19yb290LmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX1N5bWJvbC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lkZW50aXR5LmpzIiwid2VicGFjazovL0J1bmRsZS8uL3NyYy9qcy9jb3JlL3N0YXRlbWVudHMudHMiLCJ3ZWJwYWNrOi8vQnVuZGxlLyh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL2xvZGFzaC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvY29yZS9mdW5jdGlvbkNhbGwudHMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vc3JjL2pzL2NvcmUvU2ltdWxhdGlvbi50cyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL2xhc3QuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fY29weUFycmF5LmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VVbmFyeS5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlSW5kZXhPZldpdGguanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fc3RyaWN0SW5kZXhPZi5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlSXNOYU4uanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUZpbmRJbmRleC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlSW5kZXhPZi5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hcnJheU1hcC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlUHVsbEFsbC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL3B1bGxBbGwuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fc2hvcnRPdXQuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0VmFsdWUuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fdG9Tb3VyY2UuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fY29yZUpzRGF0YS5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19pc01hc2tlZC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19vYmplY3RUb1N0cmluZy5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRSYXdUYWcuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZnJlZUdsb2JhbC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlR2V0VGFnLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlSXNOYXRpdmUuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0TmF0aXZlLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2RlZmluZVByb3BlcnR5LmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvY29uc3RhbnQuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZVNldFRvU3RyaW5nLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3NldFRvU3RyaW5nLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2FwcGx5LmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX292ZXJSZXN0LmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VSZXN0LmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvcHVsbC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvcGFyc2UvY3BwX3BhcnNlci50cyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvY29yZS9Qcm9ncmFtLnRzIiwid2VicGFjazovL0J1bmRsZS8uL3NyYy9qcy9tYWluLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiYXNNdXRhYmxlIiwib2JqIiwiYXNzZXJ0IiwiY29uZGl0aW9uIiwibWVzc2FnZSIsIkVycm9yIiwiYXNzZXJ0RmFsc2UiLCJjcmVhdGVNZXRob2RNaXhpbiIsIm1peCIsInRhcmdldFByb3RvIiwiaHRtbERlY29yYXRlZFR5cGUiLCJ0eXBlU3RyaW5nIiwiZXNjYXBlcyIsImVzY2FwZWQiLCJlc2NhcGVTdHJpbmciLCJ0ZXh0IiwibGVuZ3RoIiwicmVwbGFjZSIsInVuZXNjYXBlU3RyaW5nIiwibmV3U3RyIiwiaiIsIkNQUFJhbmRvbSIsInRoaXMiLCJzZWVkIiwic2V0UmFuZG9tU2VlZCIsIm5ld1NlZWQiLCJyYW5kb20iLCJtaW4iLCJtYXgiLCJzZWVkZWRSYW5kb20iLCJybmQiLCJNYXRoIiwidXRpbF8xIiwidm93ZWxzIiwic2FtZVR5cGUiLCJ0eXBlMSIsInR5cGUyIiwic2ltaWxhclR5cGUiLCJzdWJUeXBlIiwiQ2xhc3NUeXBlIiwiaXNEZXJpdmVkRnJvbSIsImlzVHlwZSIsInR5cGUiLCJjdG9yIiwiY292YXJpYW50VHlwZSIsImRlcml2ZWQiLCJiYXNlIiwiZGMiLCJiYyIsIlBvaW50ZXJUeXBlIiwicHRyVG8iLCJSZWZlcmVuY2VUeXBlIiwicmVmVG8iLCJpc0NvbnN0IiwiaXNWb2xhdGlsZSIsInJlZmVyZW5jZUNvbXBhdGlibGUiLCJmcm9tIiwidG8iLCJpc1JlZmVyZW5jZUNvbXBhdGlibGUiLCJpc0N2Q29udmVydGlibGUiLCJmcm9tVHlwZSIsInRvVHlwZSIsImdldENvbXBvdW5kTmV4dCIsInQyQWxsQ29uc3QiLCJUeXBlQmFzZSIsImdldENWU3RyaW5nIiwidG9TdHJpbmciLCJpc09iamVjdFR5cGUiLCJPYmplY3RUeXBlIiwiaXNBdG9taWNUeXBlIiwiQXRvbWljVHlwZSIsImlzQXJpdGhtZXRpY1R5cGUiLCJBcml0aG1ldGljVHlwZSIsImlzSW50ZWdyYWxUeXBlIiwiSW50ZWdyYWxUeXBlIiwiaXNGbG9hdGluZ1BvaW50VHlwZSIsIkZsb2F0aW5nUG9pbnRUeXBlIiwiaXNQb2ludGVyVHlwZSIsImlzUmVmZXJlbmNlVHlwZSIsImlzQ2xhc3NUeXBlIiwiaXNCb3VuZGVkQXJyYXlUeXBlIiwiQm91bmRlZEFycmF5VHlwZSIsImlzQXJyYXlPZlVua25vd25Cb3VuZFR5cGUiLCJBcnJheU9mVW5rbm93bkJvdW5kVHlwZSIsImlzR2VuZXJpY0FycmF5VHlwZSIsImlzRnVuY3Rpb25UeXBlIiwiRnVuY3Rpb25UeXBlIiwiaXNBcnJheUVsZW1UeXBlIiwiaXNWb2lkVHlwZSIsIlZvaWRUeXBlIiwiaXNQb3RlbnRpYWxSZXR1cm5UeXBlIiwiaXNQb3RlbnRpYWxQYXJhbWV0ZXJUeXBlIiwiaXNSZWZlcmVuY2VSZWxhdGVkIiwib3RoZXIiLCJjdlVucXVhbGlmaWVkIiwiZGVjbGFyYXRvclN0cmluZyIsInZhcm5hbWUiLCJwYXJlbnRoZXNpemUiLCJvdXRzaWRlIiwic3RyIiwicHJlY2VkZW5jZSIsImRlc2NyaWJlIiwiaXNDVlF1YWxpZmllZCIsImN2UXVhbGlmaWVkIiwiY3ZRdWFsaWZpZWRJbXBsIiwiX25hbWUiLCJfc3VwZXIiLCJfdGhpcyIsImFwcGx5IiwiYXJndW1lbnRzIiwiaXNDb21wbGV0ZSIsIl9fZXh0ZW5kcyIsImV4Y2x1ZGVCYXNlIiwiZGVjb3JhdGVkIiwiZW5nbGlzaFN0cmluZyIsInBsdXJhbCIsIlZPSUQiLCJpc0F0b21pYyIsIlZhbHVlVHlwZSIsImJ5dGVzVG9WYWx1ZSIsImJ5dGVzIiwidmFsdWVUb0J5dGVzIiwic2l6ZSIsInB1c2giLCJ2YWx1ZVRvT3N0cmVhbVN0cmluZyIsInZhbHVlVG9TdHJpbmciLCJTaW1wbGVUeXBlIiwic2ltcGxlVHlwZSIsIndvcmQiLCJpbmRleE9mIiwiaXNWb3dlbCIsImNoYXJBdCIsImlzVmFsdWVWYWxpZCIsIkNoYXIiLCJpc051bGxDaGFyIiwiTlVMTF9DSEFSIiwianNTdHJpbmdUb051bGxUZXJtaW5hdGVkQ2hhckFycmF5IiwiY2hhcnMiLCJzcGxpdCIsIm1hcCIsImNoYXJDb2RlQXQiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJDSEFSIiwiSW50IiwiSU5UIiwiU2l6ZV90IiwiQm9vbCIsIkJPT0wiLCJGbG9hdCIsIkZMT0FUIiwiRG91YmxlIiwiRE9VQkxFIiwiaXNOdWxsIiwiaXNOZWdhdGl2ZSIsImlzT2JqZWN0UG9pbnRlciIsImlzVmFsdWVEZXJlZmVyZW5jZWFibGUiLCJBcnJheVBvaW50ZXIiLCJhcnJheU9iamVjdCIsImVsZW1UeXBlIiwiYWRkcmVzcyIsIm9uZVBhc3QiLCJpc0FsaXZlIiwidG9JbmRleCIsImFkZHIiLCJ0cnVuYyIsIk9iamVjdFBvaW50ZXIiLCJwb2ludGVkT2JqZWN0IiwiZ2V0UG9pbnRlZE9iamVjdCIsIm5vUmVmIiwiYWRqdXN0VG9Qb2ludGVyVHlwZSIsInNpemVFeHByZXNzaW9uQVNUIiwiY2xhc3NOYW1lIiwicmV0dXJuVHlwZSIsInBhcmFtVHlwZXMiLCJyZWNlaXZlclR5cGUiLCJwdHlwZSIsInBhcmFtU3RyVHlwZSIsInBhcmFtU3RyRW5nbGlzaCIsInNhbWVSZXR1cm5UeXBlIiwic2FtZVBhcmFtVHlwZXMiLCJvdGhlclBhcmFtVHlwZXMiLCJzYW1lUmVjZWl2ZXJUeXBlIiwic2FtZVNpZ25hdHVyZSIsImlzUG90ZW50aWFsT3ZlcnJpZGVyT2YiLCJidWlsdEluVHlwZU5hbWVzIiwiU2V0IiwiaXNCdWlsdEluVHlwZU5hbWUiLCJoYXMiLCJidWlsdEluVHlwZXMiLCJjaGFyIiwiaW50IiwiYm9vbCIsImZsb2F0IiwiZG91YmxlIiwidm9pZCIsImVudGl0aWVzXzEiLCJlcnJvcnNfMSIsIm9ic2VydmVfMSIsImNyZWF0ZVRyYW5zbGF0aW9uVW5pdENvbnRleHQiLCJjb250ZXh0IiwidHJhbnNsYXRpb25Vbml0IiwiY29udGV4dHVhbFNjb3BlIiwiYXNzaWduIiwiY3JlYXRlRXhwcmVzc2lvbkNvbnRleHQiLCJjb250ZXh0dWFsUGFyYW1ldGVyVHlwZXMiLCJjcmVhdGVGdW5jdGlvbkNvbnRleHQiLCJjb250YWluaW5nRnVuY3Rpb24iLCJmdW5jdGlvbkxvY2FscyIsIkZ1bmN0aW9uTG9jYWxzIiwiaXNCbG9ja0NvbnRleHQiLCJCbG9ja1Njb3BlIiwiQ1BQQ29uc3RydWN0Iiwibm90ZXMiLCJoYXNFcnJvcnMiLCJjaGlsZHJlbiIsImlkIiwiTkVYVF9JRCIsImF0dGFjaCIsImNoaWxkIiwib25BdHRhY2giLCJhdHRhY2hBbGwiLCJmb3JFYWNoIiwic2V0QVNUIiwiYXN0Iiwic291cmNlIiwic291cmNlUmVmZXJlbmNlIiwiZ2V0U291cmNlUmVmZXJlbmNlIiwibGluZSIsImNvbHVtbiIsInN0YXJ0IiwiZW5kIiwiZXhwbGFpbiIsInNpbSIsInJ0Q29uc3RydWN0IiwiaWdub3JlIiwiYWRkTm90ZSIsIm5vdGUiLCJraW5kIiwiTm90ZUtpbmQiLCJFUlJPUiIsImdldE5lYXJlc3RTb3VyY2VSZWZlcmVuY2UiLCJjb25zdHJ1Y3QiLCJwYXJlbnQiLCJSdW50aW1lQ29uc3RydWN0IiwibW9kZWwiLCJzdGFja1R5cGUiLCJwYXJlbnRPclNpbSIsIm9ic2VydmFibGUiLCJPYnNlcnZhYmxlIiwicHVzaGVkQ2hpbGRyZW4iLCJpc0FjdGl2ZSIsImlzRG9uZSIsInBhdXNlcyIsImFkZENoaWxkIiwiY29udGFpbmluZ1J1bnRpbWVGdW5jdGlvbiIsInN0ZXBzVGFrZW5BdFN0YXJ0Iiwic3RlcHNUYWtlbiIsInN0ZXBGb3J3YXJkIiwic2VuZCIsInN0ZXBGb3J3YXJkSW1wbCIsInVwTmV4dCIsInVwTmV4dEltcGwiLCJkb25lIiwic2V0UGF1c2VXaGVuVXBOZXh0IiwicGF1c2VXaGVuVXBOZXh0Iiwid2FpdCIsInB1c2hlZCIsInBvcHBlZCIsImZpbmRQYXJlbnRCeU1vZGVsIiwiQmFzaWNDUFBDb25zdHJ1Y3QiLCJJbnZhbGlkQ29uc3RydWN0IiwiZXJyb3JGbiIsIlBvdGVudGlhbEZ1bGxFeHByZXNzaW9uIiwidGVtcG9yYXJ5T2JqZWN0cyIsImlzRnVsbEV4cHJlc3Npb24iLCJmZV8xIiwiZmluZEZ1bGxFeHByZXNzaW9uIiwidGVtcEVudCIsImFkZFRlbXBvcmFyeU9iamVjdCIsInRlbXBvcmFyeURlYWxsb2NhdG9yIiwiVGVtcG9yYXJ5RGVhbGxvY2F0b3IiLCJ0ZW1wT2JqRW50Iiwic2V0T3duZXIiLCJjcmVhdGVUZW1wb3JhcnlPYmplY3QiLCJkZXNjcmlwdGlvbiIsImZlIiwiVGVtcG9yYXJ5T2JqZWN0RW50aXR5IiwiZW50aXR5SWQiLCJSdW50aW1lUG90ZW50aWFsRnVsbEV4cHJlc3Npb24iLCJjcmVhdGVSdW50aW1lQ29uc3RydWN0IiwiY29udGFpbmluZ0Z1bGxFeHByZXNzaW9uIiwicnQiLCJSdW50aW1lRnVuY3Rpb25JbmRpY2VzIiwibG9jYWxPYmplY3RzIiwibG9jYWxSZWZlcmVuY2VzIiwibG9jYWxWYXJpYWJsZXNCeUVudGl0eUlkIiwicmVnaXN0ZXJMb2NhbFZhcmlhYmxlIiwibG9jYWwiLCJSdW50aW1lRnVuY3Rpb24iLCJyZWNlaXZlciIsImhhc0NvbnRyb2wiLCJib2R5IiwiY3JlYXRlUnVudGltZVN0YXRlbWVudCIsInB1c2hTdGFja0ZyYW1lIiwic3RhY2tGcmFtZSIsIm1lbW9yeSIsInN0YWNrIiwicHVzaEZyYW1lIiwic2V0UmV0dXJuT2JqZWN0IiwicmV0dXJuT2JqZWN0IiwiZ2FpbkNvbnRyb2wiLCJsb3NlQ29udHJvbCIsInBvcCIsIlJ1bnRpbWVUZW1wb3JhcnlEZWFsbG9jYXRvciIsImluZGV4IiwianVzdERlc3RydWN0ZWQiLCJkdG9ycyIsImRlYWxsb2NhdGVUZW1wb3JhcnlPYmplY3QiLCJydW50aW1lTG9va3VwIiwiVW5zdXBwb3J0ZWRDb25zdHJ1Y3QiLCJ1bnN1cHBvcnRlZE5hbWUiLCJDUFBFcnJvciIsImxvYnN0ZXIiLCJ1bnN1cHBvcnRlZF9mZWF0dXJlIiwiR2xvYmFsT2JqZWN0QWxsb2NhdG9yIiwiZ2xvYmFsT2JqZWN0cyIsIlJ1bnRpbWVHbG9iYWxPYmplY3RBbGxvY2F0b3IiLCJvYmpEZWYiLCJhbGxvY2F0ZVN0YXRpYyIsImluaXRpYWxpemVyIiwiY3JlYXRlUnVudGltZUluaXRpYWxpemVyIiwiY29uc3RydWN0c18xIiwidHlwZXNfMSIsIk5vdGUiLCJCYXNpY05vdGVCYXNlIiwic291cmNlUmVmIiwicHJpbWFyeVNvdXJjZVJlZmVyZW5jZSIsImFsbFNvdXJjZVJlZmVyZW5jZXMiLCJQcmVwcm9jZXNzb3JOb3RlIiwiU3ludGF4Tm90ZSIsIkNvbnN0cnVjdE5vdGVCYXNlIiwiY29uc3RydWN0cyIsInByaW1hcnlDb25zdHJ1Y3QiLCJDb21waWxlck5vdGUiLCJMaW5rZXJOb3RlIiwiY2luX25vdF9zdXBwb3J0ZWQiLCJjbGFzc19kZWYiLCJwcmV2X2RlZiIsInByZXYiLCJiYXNlX2NsYXNzX3R5cGUiLCJiaWdfdGhyZWUiLCJiaWdUaHJlZVllcyIsImJpZ1RocmVlTm8iLCJ5U3RyIiwiam9pbiIsIm5TdHIiLCJXQVJOSU5HIiwibXVsdGlwbGVfaW5oZXJpdGFuY2UiLCJ2aXJ0dWFsX2luaGVyaXRhbmNlIiwiY3Rvcl9kZWYiLCJkdG9yX2RlZiIsImRlY2xhcmF0aW9uIiwiY29weSIsInBhc3NfYnlfdmFsdWUiLCJjb25zdFJlZiIsImluaXQiLCJub19zdWNoX21lbWJlciIsImNsYXNzVHlwZSIsImltcHJvcGVyX21lbWJlciIsImRlbGVnYXRpbmdfb25seSIsIm11bHRpcGxlX2Jhc2VfaW5pdHMiLCJkdG9yIiwibm9fZGVzdHJ1Y3Rvcl9hdXRvIiwiZW50aXR5Iiwibm9fZGVzdHJ1Y3Rvcl90ZW1wb3JhcnkiLCJwcmV2X2xvY2FsIiwiZnVuYyIsInJldHVybl9hcnJheSIsInJldHVybl9mdW5jIiwiaW52YWxpZF9yZXR1cm5fdHlwZSIsInNvbWVfaW52YWxpZF9wYXJhbWV0ZXJfdHlwZXMiLCJhcnJheSIsInZvaWRfcGFyYW0iLCJvcF9tZW1iZXIiLCJvcF9zdWJzY3JpcHRfb25lX3BhcmFtIiwicmV0dXJuVHlwZXNNYXRjaCIsImRlY2xhcmF0aW9ucyIsIm1haW5QYXJhbXMiLCJub19yZXR1cm5fdHlwZSIsIm5vbkNvdmFyaWFudFJldHVyblR5cGUiLCJkZWZpbml0aW9uX25vbl9mdW5jdGlvbl90eXBlIiwicG9pbnRlciIsInJlZmVyZW5jZSIsImludmFsaWRfcG9pbnRlZF90eXBlIiwicmVmIiwiaW52YWxpZF9yZWZlcnJlZF90eXBlIiwibWVtYmVyTm90U3VwcG9ydGVkIiwibGVuZ3RoX3JlcXVpcmVkIiwiemVyb19sZW5ndGgiLCJtdWx0aWRpbWVuc2lvbmFsX2FycmF5c191bnN1cHBvcnRlZCIsImludmFsaWRfZWxlbWVudF90eXBlIiwic2NhbGFyX2FyZ3MiLCJkZWNsVHlwZSIsImFycmF5X3N0cmluZ19saXRlcmFsIiwidGFyZ2V0VHlwZSIsImNvbnZlcnQiLCJpbml0VHlwZSIsImxpc3RfbmFycm93aW5nIiwibGlzdF9hcnJheSIsImxpc3RfbGVuZ3RoIiwibWF0Y2hpbmdfY29uc3RydWN0b3IiLCJhcmdUeXBlcyIsImRlc2MiLCJub19kZWZhdWx0X2NvbnN0cnVjdG9yIiwicmVmZXJlbmNlUHJ2YWx1ZUNvbnN0IiwicmVmZXJlbmNlVHlwZSIsInJlZmVyZW5jZUJpbmQiLCJyZWZlcmVuY2VCaW5kTXVsdGlwbGUiLCJzdHJpbmdMaXRlcmFsTGVuZ3RoIiwic3RyaW5nU2l6ZSIsImFyclNpemUiLCJ1bmluaXRpYWxpemVkIiwiZW50IiwiYXJyYXlfZGVmYXVsdF9pbml0IiwiYXJyYXlfZGlyZWN0X2luaXQiLCJPVEhFUiIsInN0b3JhZ2UiLCJvbmNlIiwic3BlYyIsImluY29tcGF0aWJsZSIsInNwZWNzIiwidHlwZVNwZWNpZmllciIsIm9uZV90eXBlIiwidHlwZU5hbWVzIiwic2lnbmVkX3Vuc2lnbmVkIiwiZnJpZW5kIiwib3V0c2lkZV9jbGFzcyIsInZpcnR1YWxfcHJvaGliaXRlZCIsInBhcmFtZXRlciIsInN0b3JhZ2VfcHJvaGliaXRlZCIsInVua25vd25fdHlwZSIsInZvaWRfcHJvaGliaXRlZCIsImRlY2xhcmF0b3IiLCJ0eXBlX21pc21hdGNoIiwibmV3RW50aXR5IiwiZXhpc3RpbmdFbnRpdHkiLCJ1bnNpZ25lZF9ub3Rfc3VwcG9ydGVkIiwidHlwZU5vdEZvdW5kIiwidHlwZU5hbWUiLCJleHByIiwiYXJyYXlfb3BlcmFuZCIsImFycmF5X29mZnNldCIsImFzc2lnbm1lbnQiLCJsaHNfbHZhbHVlIiwibGhzX2NvbnN0IiwibGhzIiwicmhzIiwic2VsZiIsImJpbmFyeSIsImFyaXRobWV0aWNfb3BlcmFuZHMiLCJvcGVyYXRvciIsImxlZnQiLCJyaWdodCIsImludGVncmFsX29wZXJhbmRzIiwiYm9vbGVhbl9vcGVyYW5kIiwib3BlcmFuZCIsImFyaXRobWV0aWNfY29tbW9uX3R5cGUiLCJ1bmFyeSIsImRlbGV0ZSIsIm5vX2Rlc3RydWN0b3IiLCJwb2ludGVyVG9PYmplY3RUeXBlIiwiZGVyZWZlcmVuY2UiLCJkb3QiLCJjbGFzc190eXBlIiwibWVtYmVyTG9va3VwIiwiYXJyb3ciLCJjbGFzc19wb2ludGVyX3R5cGUiLCJpbnZhbGlkX29wZXJhbmQiLCJsdmFsdWVfb3BlcmFuZCIsImludmFsaWRfYmluYXJ5X29wZXJhbmRzIiwibG9naWNhbE5vdCIsIm9wZXJhbmRfYm9vbCIsImFkZHJlc3NPZiIsImx2YWx1ZV9yZXF1aXJlZCIsInRlcm5hcnkiLCJjb25kaXRpb25fYm9vbCIsInNhbWVWYWx1ZUNhdGVnb3J5IiwidW5hcnlQbHVzIiwidW5hcnlNaW51cyIsImZ1bmN0aW9uQ2FsbCIsIm1haW4iLCJudW1QYXJhbXMiLCJpbnZhbGlkX29wZXJhbmRfZXhwcmVzc2lvbiIsInBhcmFtVHlwZSIsInBhcmFtUmVmZXJlbmNlVHlwZSIsInBhcmFtUmVmZXJlbmNlTHZhbHVlIiwibm90X2RlZmluZWQiLCJwdCIsInRoaXNFeHByIiwibWVtYmVyRnVuYyIsImlkZW4iLCJhbWJpZ3VvdXMiLCJub19tYXRjaCIsImtleXdvcmQiLCJhbHRfb3AiLCJwYXJhbSIsInRoaXNDb25zdCIsInN0bXQiLCJmdW5jdGlvbl9kZWZpbml0aW9uX3Byb2hpYml0ZWQiLCJzZWxlY3Rpb24iLCJpdGVyYXRpb24iLCJicmVha1N0YXRlbWVudCIsImxvY2F0aW9uIiwicmV0dXJuU3RhdGVtZW50IiwiZW1wdHkiLCJleHByVm9pZCIsImxpbmsiLCJsaWJyYXJ5X3Vuc3VwcG9ydGVkIiwibXVsdGlwbGVfZGVmIiwiZW50MSIsImVudDIiLCJjbGFzc19zYW1lX3Rva2VucyIsImRlZl9ub3RfZm91bmQiLCJub19tYXRjaGluZ19vdmVybG9hZCIsInByZXByb2Nlc3MiLCJyZWN1cnNpdmVJbmNsdWRlIiwiZmVhdHVyZSIsInJlZmVyZW5jZVBydmFsdWUiLCJ0ZXJuYXJ5U2FtZVR5cGUiLCJ0ZXJuYXJ5Tm9Wb2lkIiwib2JqZWN0c18xIiwiU2NvcGUiLCJlbnRpdGllcyIsImFkZERlY2xhcmVkRW50aXR5IiwibWVyZ2VJbnRvIiwiRnVuY3Rpb25FbnRpdHkiLCJsb29rdXAiLCJvcHRpb25zIiwiaW5jbHVkZXMiLCJvd24iLCJBcnJheSIsImlzQXJyYXkiLCJ2aWFibGUiLCJwYXJhbVR5cGVzXzEiLCJyZWNlaXZlclR5cGVfMSIsImZpbHRlciIsImNhbmQiLCJOYW1lc3BhY2VTY29wZSIsIkNQUEVudGl0eSIsIl9uZXh0RW50aXR5SWQiLCJOYW1lZEVudGl0eSIsIkRlY2xhcmVkRW50aXR5QmFzZSIsImRlY2wiLCJEZWNsYXJlZE9iamVjdEVudGl0eSIsIkF1dG9FbnRpdHkiLCJkZWYiLCJpc1BhcmFtZXRlciIsImRlZmluaXRpb24iLCJnZXRMb2NhbE9iamVjdCIsIkxvY2FsUmVmZXJlbmNlRW50aXR5IiwiYmluZFRvIiwiYmluZFJlZmVyZW5jZSIsInJlZmVyZW5jZUxvb2t1cCIsIlN0YXRpY0VudGl0eSIsInF1YWxpZmllZE5hbWUiLCJzdGF0aWNMb29rdXAiLCJSZXR1cm5PYmplY3RFbnRpdHkiLCJSZXR1cm5CeVJlZmVyZW5jZUVudGl0eSIsIlN0cmluZ0xpdGVyYWxFbnRpdHkiLCJvYmplY3RJbnN0YW5jZSIsIlN0cmluZ0xpdGVyYWxPYmplY3QiLCJnZXRTdHJpbmdMaXRlcmFsIiwiUGFzc0J5VmFsdWVQYXJhbWV0ZXJFbnRpdHkiLCJjYWxsZWRGdW5jdGlvbiIsIm51bSIsInRvcEZ1bmN0aW9uIiwicGFyYW1ldGVycyIsImRlY2xhcmVkRW50aXR5IiwicGFyYW1PYmoiLCJQYXNzQnlSZWZlcmVuY2VQYXJhbWV0ZXJFbnRpdHkiLCJBcnJheVN1Ym9iamVjdEVudGl0eSIsImFycmF5RW50aXR5IiwiZ2V0QXJyYXlFbGVtU3Vib2JqZWN0IiwiYXJyRGVzYyIsImNyZWF0b3IiLCJvd25lciIsIm5ld093bmVyIiwiY3JlYXRvclJ0Iiwib2JqSW5zdCIsImFsbG9jYXRlVGVtcG9yYXJ5T2JqZWN0IiwiaXNTdGF0aWNhbGx5Qm91bmQiLCJuYW1lU3RyaW5nIiwibWF0Y2hpbmdGdW5jdGlvbiIsInNlbGVjdE92ZXJsb2FkZWRFbnRpdHkiLCJvdmVybG9hZCIsInNlbGVjdE92ZXJsb2FkZWREZWZpbml0aW9uIiwiaXNNYWluIiwib3ZlcmxvYWRHcm91cCIsImZpbmQiLCJwdWxsXzEiLCJfX2ltcG9ydERlZmF1bHQiLCJyZWNlaXZlTWVzc2FnZSIsIm9ic2VydmVyIiwibXNnIiwiY2F0QWN0IiwiX2FjdCIsImNhdGVnb3J5IiwiX2RlZmF1bHQiLCJhZGRMaXN0ZW5lciIsIm9ialdpdGhPYnNlcnZhYmxlIiwibGlzdGVuZXIiLCJtZXNzYWdlUmVzcG9uc2UiLCJtZXNzYWdlQ2F0ZWdvcnkiLCJ0YXJnZXQiLCJwcm9wZXJ0eUtleSIsImRlc2NyaXB0b3IiLCJ1bml2ZXJzYWxPYnNlcnZlcnMiLCJvYnNlcnZlcnMiLCJkYXRhIiwic2lsZW50IiwibGlzdGVuZXJBZGRlZCIsInJlbW92ZUxpc3RlbmVyIiwiZGVmYXVsdCIsImxpc3RlbmVyUmVtb3ZlZCIsImNhdCIsIlNpbXVsYXRpb25fMSIsInJ1bnRpbWVFbnZpcm9ubWVudF8xIiwic3RhbmRhcmRDb252ZXJzaW9uc18xIiwibGV4aWNhbF8xIiwiZnVuY3Rpb25DYWxsXzEiLCJleHByZXNzaW9uQmFzZV8xIiwicmVhZFZhbHVlV2l0aEFsZXJ0IiwicmVhZFZhbHVlIiwiaXNWYWxpZCIsIm9iakRlc2MiLCJyYXdWYWx1ZSIsImV2ZW50T2NjdXJyZWQiLCJTaW11bGF0aW9uRXZlbnQiLCJVTkRFRklORURfQkVIQVZJT1IiLCJFeHByZXNzaW9uQ29uc3RydWN0c01hcCIsImNvbW1hX2V4cHJlc3Npb24iLCJDb21tYUV4cHJlc3Npb24iLCJjcmVhdGVGcm9tQVNUIiwidGVybmFyeV9leHByZXNzaW9uIiwiVGVybmFyeUV4cHJlc3Npb24iLCJhc3NpZ25tZW50X2V4cHJlc3Npb24iLCJBc3NpZ25tZW50RXhwcmVzc2lvbiIsImNvbXBvdW5kX2Fzc2lnbm1lbnRfZXhwcmVzc2lvbiIsIlVuc3VwcG9ydGVkRXhwcmVzc2lvbiIsImFyaXRobWV0aWNfYmluYXJ5X29wZXJhdG9yX2V4cHJlc3Npb24iLCJBcml0aG1ldGljQmluYXJ5T3BlcmF0b3JFeHByZXNzaW9uIiwicmVsYXRpb25hbF9iaW5hcnlfb3BlcmF0b3JfZXhwcmVzc2lvbiIsIlJlbGF0aW9uYWxCaW5hcnlPcGVyYXRvciIsImxvZ2ljYWxfYmluYXJ5X29wZXJhdG9yX2V4cHJlc3Npb24iLCJMb2dpY2FsQmluYXJ5T3BlcmF0b3IiLCJwb2ludGVyX3RvX21lbWJlcl9leHByZXNzaW9uIiwiY19zdHlsZV9jYXN0X2V4cHJlc3Npb24iLCJwcmVmaXhfaW5jcmVtZW50X2V4cHJlc3Npb24iLCJwcmVmaXhfZGVjcmVtZW50X2V4cHJlc3Npb24iLCJkZXJlZmVyZW5jZV9leHByZXNzaW9uIiwiYWRkcmVzc19vZl9leHByZXNzaW9uIiwidW5hcnlfcGx1c19leHByZXNzaW9uIiwidW5hcnlfbWludXNfZXhwcmVzc2lvbiIsImxvZ2ljYWxfbm90X2V4cHJlc3Npb24iLCJiaXR3aXNlX25vdF9leHByZXNzaW9uIiwic2l6ZW9mX2V4cHJlc3Npb24iLCJzaXplb2ZfdHlwZV9leHByZXNzaW9uIiwibmV3X2V4cHJlc3Npb24iLCJkZWxldGVfZXhwcmVzc2lvbiIsImRlbGV0ZV9hcnJheV9leHByZXNzaW9uIiwic3RhdGljX2Nhc3RfZXhwcmVzc2lvbiIsImR5bmFtaWNfY2FzdF9leHByZXNzaW9uIiwicmVpbnRlcnByZXRfY2FzdF9leHByZXNzaW9uIiwiY29uc3RfY2FzdF9leHByZXNzaW9uIiwic3Vic2NyaXB0X2V4cHJlc3Npb24iLCJmdW5jdGlvbl9jYWxsX2V4cHJlc3Npb24iLCJGdW5jdGlvbkNhbGxFeHByZXNzaW9uIiwiZG90X2V4cHJlc3Npb24iLCJhcnJvd19leHByZXNzaW9uIiwicG9zdGZpeF9pbmNyZW1lbnRfZXhwcmVzc2lvbiIsInBvc3RmaXhfZGVjcmVtZW50X2V4cHJlc3Npb24iLCJjb25zdHJ1Y3RfZXhwcmVzc2lvbiIsImlkZW50aWZpZXJfZXhwcmVzc2lvbiIsIklkZW50aWZpZXJFeHByZXNzaW9uIiwidGhpc19leHByZXNzaW9uIiwibnVtZXJpY19saXRlcmFsIiwiTnVtZXJpY0xpdGVyYWwiLCJjcmVhdGVFeHByZXNzaW9uRnJvbUFTVCIsImNvbnN0cnVjdF90eXBlIiwidW5kZWZpbmVkIiwidmFsdWVDYXRlZ29yeSIsImNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uIiwiZGVzY3JpYmVFdmFsUmVzdWx0IiwiZGVwdGgiLCJFeHByZXNzaW9uIiwiU2ltcGxlUnVudGltZUV4cHJlc3Npb24iLCJzdWJleHByZXNzaW9ucyIsInNldFN1YmV4cHJlc3Npb25zIiwib3BlcmF0ZSIsIlJ1bnRpbWVFeHByZXNzaW9uIiwiUnVudGltZUNvbW1hIiwiY29uc3RydWN0S2luZCIsInNldEV2YWxSZXN1bHQiLCJldmFsUmVzdWx0IiwidGhlbiIsIm90aGVyd2lzZSIsImlzV2VsbFR5cGVkIiwiY29tcGlsZUNvbmRpdGlvbiIsIl9hIiwiY29tcGlsZUNvbnNlcXVlbmNlcyIsInN0YW5kYXJkQ29udmVyc2lvbiIsImlzUHJ2YWx1ZSIsImlzTHZhbHVlIiwiY29udmVydFRvUFJWYWx1ZSIsIlJ1bnRpbWVUZXJuYXJ5IiwiUnVudGltZUFzc2lnbm1lbnQiLCJpc1RhaWxDaGlsZCIsImlzVGFpbCIsInJlYXNvbiIsIm90aGVycyIsIndyaXRlVmFsdWUiLCJhZGQiLCJzdWIiLCJtdWx0IiwiaW50RGl2IiwiZmxvYXREaXYiLCJtb2QiLCJsdCIsImd0IiwibHRlIiwiZ3RlIiwiZXEiLCJuZSIsImJpdEFuZCIsImJpdFhvciIsImJpdE9yIiwiYml0U2hpZnRMZWZ0IiwiYml0U2hpZnRSaWdodCIsIkJpbmFyeU9wZXJhdG9yIiwiUnVudGltZUJpbmFyeU9wZXJhdG9yIiwiQVJJVEhNRVRJQ19CSU5BUllfT1BFUkFUSU9OUyIsIisiLCJjb21iaW5lIiwiLSIsIioiLCIvIiwiJSIsIiYiLCJeIiwifCIsIjw8IiwiPj4iLCJpc0FyaXRobWV0aWNUeXBlZCIsImlzSW50ZWdyYWxUeXBlZCIsInVzdWFsQXJpdGhtZXRpY0NvbnZlcnNpb25zIiwiY29udmVydGVkTGVmdCIsImNvbnZlcnRlZFJpZ2h0Iiwib3AiLCJpc1BvaW50ZXJUeXBlZCIsImlzQm91bmRlZEFycmF5VHlwZWQiLCJQb2ludGVyRGlmZmVyZW5jZSIsIlBvaW50ZXJPZmZzZXQiLCJSdW50aW1lQXJpdGhtZXRpY0JpbmFyeU9wZXJhdG9yIiwiUnVudGltZVBvaW50ZXJEaWZmZXJlbmNlIiwicmVzdWx0IiwicG9pbnRlckRpZmZlcmVuY2UiLCJsZWZ0QXJyIiwicmlnaHRBcnIiLCJyYXdFcXVhbHMiLCJpbnZhbGlkYXRlZCIsInBvaW50ZXJPbkxlZnQiLCJvZmZzZXQiLCJSdW50aW1lUG9pbnRlck9mZnNldCIsInBvaW50ZXJPZmZzZXQiLCJyZXN1bHRUeXBlIiwiUkVMQVRJT05BTF9CSU5BUllfT1BFUkFUSU9OUyIsIjwiLCJjb21wYXJlIiwiPiIsIjw9IiwiPj0iLCI9PSIsIiE9IiwiUnVudGltZVJlbGF0aW9uYWxCaW5hcnlPcGVyYXRvciIsImNvbXBpbGVMb2dpY2FsU3ViZXhwcmVzc2lvbiIsInN1YmV4cHIiLCJSdW50aW1lTG9naWNhbEJpbmFyeU9wZXJhdG9yIiwic2hvcnRDaXJjdWl0UmVzbHQiLCJoYXNTaG9ydENpcmN1aXRlZCIsImEiLCJiIiwiY2hlY2tJZGVudGlmaWVyIiwibG9va3VwUmVzdWx0Iiwib3ZlcmxvYWRSZXN1bHQiLCJvdmVybG9hZFJlc29sdXRpb24iLCJjb250ZXh0dWFsUmVjZWl2ZXJUeXBlIiwic2VsZWN0ZWQiLCJjYW5kaWRhdGVzIiwiY2FuZGlkYXRlIiwiaWRlbnRpZmllciIsIlJ1bnRpbWVGdW5jdGlvbklkZW50aWZpZXIiLCJSdW50aW1lT2JqZWN0SWRlbnRpZmllciIsImxpdGVyYWxKU1BhcnNlIiwicGFyc2VJbnQiLCJwYXJzZUZsb2F0IiwibGl0VmFsdWUiLCJsaXRlcmFsVHlwZXMiLCJwYXJzZU51bWVyaWNMaXRlcmFsVmFsdWVGcm9tQVNUIiwiVmFsdWUiLCJSdW50aW1lTnVtZXJpY0xpdGVyYWwiLCJQYXJlbnRoZXNlcyIsInN1YmV4cHJlc3Npb24iLCJSdW50aW1lUGFyZW50aGVzZXMiLCJJTkRFWF9QQVJFTlRIRVNFU19TVUJFWFBSRVNTSU9OUyIsIkFVWElMSUFSWV9FWFBSRVNTSU9OX0NPTlRFWFQiLCJwcm9ncmFtIiwiQXV4aWxpYXJ5RXhwcmVzc2lvbiIsInJlc3VsdENhbmRpZGF0ZXMiLCJjYW5kaWRhdGVQYXJhbVR5cGVzIiwiYXJnVHlwZSIsImNhbmRpZGF0ZVBhcmFtVHlwZSIsImF1eEFyZyIsImNvbnZlcnRlZEFyZyIsImxhc3RfMSIsIl9pc1ZhbGlkIiwiY2xvbmUiLCJ2YWx1ZVRvQ2xvbmUiLCJlcXVhbHMiLCJvdGhlclZhbHVlIiwib3RoZXJSYXdWYWx1ZSIsImNvbWJpbmVyIiwib2Zmc2V0VmFsdWUiLCJzdWJ0cmFjdCIsImNvbXBhcmVyIiwibW9kaWZ5IiwibW9kaWZpZXIiLCJ2YWx1ZVN0cmluZyIsInNldFJhd1ZhbHVlIiwiTWVtb3J5IiwiY2FwYWNpdHkiLCJzdGF0aWNDYXBhY2l0eSIsInN0YWNrQ2FwYWNpdHkiLCJmbG9vciIsImhlYXBDYXBhY2l0eSIsInN0YXRpY1N0YXJ0Iiwic3RhdGljRW5kIiwic3RhY2tTdGFydCIsInN0YWNrRW5kIiwiaGVhcFN0YXJ0IiwiaGVhcEVuZCIsInRlbXBvcmFyeVN0YXJ0IiwidGVtcG9yYXJ5Q2FwYWNpdHkiLCJ0ZW1wb3JhcnlFbmQiLCJyZXNldCIsIm9iamVjdHMiLCJzdHJpbmdMaXRlcmFsTWFwIiwic3RhdGljVG9wIiwic3RhdGljT2JqZWN0cyIsInRlbXBvcmFyeUJvdHRvbSIsIk1lbW9yeVN0YWNrIiwiaGVhcCIsIk1lbW9yeUhlYXAiLCJnZXRCeXRlIiwicmVhZEJ5dGUiLCJnZXRCeXRlcyIsInNsaWNlIiwicmVhZEJ5dGVzIiwic2V0Qnl0ZSIsIndyaXRlQnl0ZSIsInNldEJ5dGVzIiwidmFsdWVzIiwid3JpdGVCeXRlcyIsInB0ciIsImdldEFycmF5RWxlbVN1Ym9iamVjdEJ5QWRkcmVzcyIsIkludmFsaWRPYmplY3QiLCJhbGxvY2F0ZU9iamVjdCIsImtpbGxPYmplY3QiLCJraWxsZXIiLCJraWxsIiwiYWxsb2NhdGVTdHJpbmdMaXRlcmFsIiwic3RyaW5nTGl0ZXJhbEVudGl0eSIsInNldFZhbHVlIiwiU3RhdGljT2JqZWN0Iiwic3RhdGljRW50aXR5IiwidGVtcEVudGl0eSIsIlRlbXBvcmFyeU9iamVjdCIsInRvcCIsImZyYW1lcyIsInRvcEZyYW1lIiwicnRGdW5jIiwiZnJhbWUiLCJNZW1vcnlGcmFtZSIsInBvcEZyYW1lIiwiYm90dG9tIiwib2JqZWN0TWFwIiwibG9jYWxPYmplY3RzQnlFbnRpdHlJZCIsImxvY2FsUmVmZXJlbmNlc0J5RW50aXR5SWQiLCJvYmpFbnRpdHkiLCJBdXRvT2JqZWN0IiwiY29udmVyc2lvbkxlbmd0aCIsImlzVHlwZWQiLCJpc09iamVjdFR5cGVkIiwiaXNBdG9taWNUeXBlZCIsImlzRmxvYXRpbmdQb2ludFR5cGVkIiwiaXNSZWZlcmVuY2VUeXBlZCIsImlzQ2xhc3NUeXBlZCIsImlzQXJyYXlPZlVua25vd25Cb3VuZFR5cGVkIiwiaXNHZW5lcmljQXJyYXlUeXBlZCIsImFsbFdlbGxUeXBlZCIsImV4cHJlc3Npb25zIiwiZXZlcnkiLCJhbGxPYmplY3RUeXBlZCIsIk9iamVjdERhdGEiLCJBdG9taWNPYmplY3REYXRhIiwibmV3VmFsdWUiLCJ3cml0ZSIsIkFycmF5T2JqZWN0RGF0YSIsInN1YkFkZHIiLCJlbGVtT2JqZWN0cyIsIkFycmF5U3Vib2JqZWN0IiwiQ2xhc3NPYmplY3REYXRhIiwiQ1BQT2JqZWN0Iiwic3Vib2JqZWN0VmFsdWVXcml0dGVuIiwiZGVhbGxvY2F0ZWRCeSIsImdldFBvaW50ZXJUbyIsImdldFZhbHVlIiwicmVhZCIsInZhbCIsImdldFJhd1ZhbHVlIiwib25WYWx1ZVNldCIsImNhbGxSZWNlaXZlZCIsImNhbGxFbmRlZCIsInNldFZhbGlkaXR5IiwidmFsaWQiLCJNYWluUmV0dXJuT2JqZWN0IiwiRHluYW1pY09iamVjdCIsIlRoaXNPYmplY3QiLCJTdWJvYmplY3QiLCJjb250YWluaW5nT2JqZWN0IiwiYXJyT2JqIiwiQmFzZVN1Ym9iamVjdCIsIk1lbWJlclN1Ym9iamVjdCIsInBhcmVudERlc2MiLCJLRVlXT1JEUyIsIkFMVF9PUFMiLCJzcmMiLCJub3RlSGFuZGxlciIsImVsZW0iLCJjcmVhdGVGdWxseVF1YWxpZmllZE5hbWUiLCJuYW1lcyIsIl9pIiwiZnVsbHlRdWFsaWZpZWROYW1lVG9VbnF1YWxpZmllZCIsImZxbmFtZSIsImxhc3RJbmRleE9mIiwiZXhwcmVzc2lvbnNfMSIsIkltcGxpY2l0Q29udmVyc2lvbiIsIlJ1bnRpbWVJbXBsaWNpdENvbnZlcnNpb24iLCJMVmFsdWVUb1JWYWx1ZSIsImZyb21FdmFsUmVzdWx0IiwiQXJyYXlUb1BvaW50ZXIiLCJUeXBlQ29udmVyc2lvbiIsIk5vT3BUeXBlQ29udmVyc2lvbiIsIk51bGxQb2ludGVyQ29udmVyc2lvbiIsIlBvaW50ZXJDb252ZXJzaW9uIiwiUG9pbnRlclRvQm9vbGVhbkNvbnZlcnNpb24iLCJJbnRlZ3JhbFByb21vdGlvbiIsIkludGVncmFsQ29udmVyc2lvbiIsIkZsb2F0aW5nUG9pbnRQcm9tb3Rpb24iLCJGbG9hdGluZ1BvaW50Q29udmVyc2lvbiIsIkludGVncmFsVG9GbG9hdGluZ0NvbnZlcnNpb24iLCJGbG9hdGluZ1RvSW50ZWdyYWxDb252ZXJzaW9uIiwiUXVhbGlmaWNhdGlvbkNvbnZlcnNpb24iLCJ0eXBlQ29udmVyc2lvbiIsInF1YWxpZmljYXRpb25Db252ZXJzaW9uIiwiaW50ZWdyYWxQcm9tb3Rpb24iLCJzdXBwcmVzc0xUUiIsImZyb21QcnZhbHVlIiwibGVmdE9yaWciLCJyaWdodE9yaWciLCJJbml0aWFsaXplciIsIlJ1bnRpbWVJbml0aWFsaXplciIsIkRlZmF1bHRJbml0aWFsaXplciIsIlJlZmVyZW5jZURlZmF1bHRJbml0aWFsaXplciIsIkF0b21pY0RlZmF1bHRJbml0aWFsaXplciIsIkFycmF5RGVmYXVsdEluaXRpYWxpemVyIiwiUnVudGltZURlZmF1bHRJbml0aWFsaXplciIsIlJ1bnRpbWVBdG9taWNEZWZhdWx0SW5pdGlhbGl6ZXIiLCJ0YXJnZXREZXNjIiwiZWxlbWVudEluaXRpYWxpemVycyIsImVsZW1Jbml0IiwiUnVudGltZUFycmF5RGVmYXVsdEluaXRpYWxpemVyIiwiRGlyZWN0SW5pdGlhbGl6ZXIiLCJhcmdzIiwiUmVmZXJlbmNlRGlyZWN0SW5pdGlhbGl6ZXIiLCJBdG9taWNEaXJlY3RJbml0aWFsaXplciIsIlJ1bnRpbWVEaXJlY3RJbml0aWFsaXplciIsImFyZyIsIlJ1bnRpbWVSZWZlcmVuY2VEaXJlY3RJbml0aWFsaXplciIsInJoc0Rlc2MiLCJhbHJlYWR5UHVzaGVkIiwicnRSZWYiLCJ0eXBlZEFyZyIsIlJ1bnRpbWVBdG9taWNEaXJlY3RJbml0aWFsaXplciIsIkNvcHlJbml0aWFsaXplciIsIlJ1bnRpbWVDb3B5SW5pdGlhbGl6ZXIiLCJSZWZlcmVuY2VDb3B5SW5pdGlhbGl6ZXIiLCJSdW50aW1lUmVmZXJlbmNlQ29weUluaXRpYWxpemVyIiwiQXRvbWljQ29weUluaXRpYWxpemVyIiwiUnVudGltZUF0b21pY0NvcHlJbml0aWFsaXplciIsImluaXRpYWxpemVyc18xIiwic3RhdGVtZW50c18xIiwiU3RvcmFnZVNwZWNpZmllciIsIm51bVNwZWNzIiwic3RhdGljIiwiZXh0ZXJuIiwidGhyZWFkX2xvY2FsIiwicmVnaXN0ZXIiLCJtdXRhYmxlIiwiaXNFbXB0eSIsIlR5cGVTcGVjaWZpZXIiLCJlbnVtIiwibWF0Y2hlZFNwZWMiLCJ1bnNpZ25lZCIsInNpZ25lZCIsImNvbnN0Iiwidm9sYXRpbGUiLCJjcmVhdGVTaW1wbGVEZWNsYXJhdGlvbkZyb21BU1QiLCJ0eXBlU3BlYyIsInR5cGVTcGVjcyIsImJhc2VUeXBlIiwic3RvcmFnZVNwZWMiLCJzdG9yYWdlU3BlY3MiLCJkZWNsYXJhdG9ycyIsImRlY2xBU1QiLCJEZWNsYXJhdG9yIiwiZGVjbGFyZWRUeXBlIiwiRnJpZW5kRGVjbGFyYXRpb24iLCJ0eXBlZGVmIiwiVHlwZWRlZkRlY2xhcmF0aW9uIiwiVm9pZERlY2xhcmF0aW9uIiwiRnVuY3Rpb25EZWNsYXJhdGlvbiIsIlVua25vd25Cb3VuZEFycmF5RGVjbGFyYXRpb24iLCJMb2NhbFZhcmlhYmxlRGVmaW5pdGlvbiIsIkdsb2JhbE9iamVjdERlZmluaXRpb24iLCJzZXREaXJlY3RJbml0aWFsaXplciIsInNldENvcHlJbml0aWFsaXplciIsInNldERlZmF1bHRJbml0aWFsaXplciIsIlVua25vd25UeXBlRGVjbGFyYXRpb24iLCJjcmVhdGVEZWNsYXJhdGlvbkZyb21BU1QiLCJGdW5jdGlvbkRlZmluaXRpb24iLCJTaW1wbGVEZWNsYXJhdGlvbiIsIm90aGVyU3BlY3MiLCJzdG9yYWdlU3BlY2lmaWVyIiwib3RoZXJTcGVjaWZpZXJzIiwidmlydHVhbCIsImluaXRpYWxpemVyQWxsb3dlZCIsImlzRGVmaW5pdGlvbiIsInBhcmFtZXRlckRlY2xhcmF0b3JzIiwiZSIsInJlZ2lzdGVyTGlua2VkRW50aXR5IiwiVmFyaWFibGVEZWZpbml0aW9uIiwic2V0SW5pdGlhbGl6ZXIiLCJzZXRJbml0aWFsaXplckxpc3QiLCJyZWdpc3Rlckdsb2JhbE9iamVjdERlZmluaXRpb24iLCJQYXJhbWV0ZXJEZWZpbml0aW9uIiwicHVyZVZpcnR1YWwiLCJpc1B1cmVWaXJ0dWFsIiwiZGV0ZXJtaW5lTmFtZUFuZFR5cGUiLCJ0ZW1wRGVjbCIsImlzSW5uZXJtb3N0IiwicG9zdGZpeGVzIiwiYXJlUG9zdGZpeGVzSW5uZXJtb3N0IiwicG9zdGZpeCIsInBhcmFtRGVjbGFyYXRvcnMiLCJhcmdBU1QiLCJjb250YWluaW5nQ2xhc3MiLCJPVkVSTE9BREFCTEVfT1BTIiwicmVnaXN0ZXJGdW5jdGlvbkRlZmluaXRpb24iLCJmdW5jdGlvbkNvbnRleHQiLCJCbG9jayIsImJvZHlDb250ZXh0IiwiYmxvY2tDb250ZXh0IiwicGFyYW1EZWNsYXJhdG9yIiwic3RhdGVtZW50cyIsInNOb2RlIiwiYWRkU3RhdGVtZW50IiwiY3JlYXRlU3RhdGVtZW50RnJvbUFTVCIsImNyZWF0ZVJ1bnRpbWVGdW5jdGlvbiIsImciLCJGdW5jdGlvbiIsImV2YWwiLCJ3aW5kb3ciLCJmcmVlR2xvYmFsIiwiZnJlZVNlbGYiLCJyb290IiwiZGVjbGFyYXRpb25zXzEiLCJTdGF0ZW1lbnRDb25zdHJ1Y3RzTWFwIiwibGFiZWxlZF9zdGF0ZW1lbnQiLCJVbnN1cHBvcnRlZFN0YXRlbWVudCIsImNvbXBvdW5kX3N0YXRlbWVudCIsInNlbGVjdGlvbl9zdGF0ZW1lbnQiLCJ3aGlsZV9zdGF0ZW1lbnQiLCJkb3doaWxlX3N0YXRlbWVudCIsImZvcl9zdGF0ZW1lbnQiLCJicmVha19zdGF0ZW1lbnQiLCJjb250aW51ZV9zdGF0ZW1lbnQiLCJyZXR1cm5fc3RhdGVtZW50IiwiUmV0dXJuU3RhdGVtZW50IiwiZGVjbGFyYXRpb25fc3RhdGVtZW50IiwiRGVjbGFyYXRpb25TdGF0ZW1lbnQiLCJleHByZXNzaW9uX3N0YXRlbWVudCIsIkV4cHJlc3Npb25TdGF0ZW1lbnQiLCJudWxsX3N0YXRlbWVudCIsIk51bGxTdGF0ZW1lbnQiLCJTdGF0ZW1lbnQiLCJSdW50aW1lU3RhdGVtZW50IiwiZXhwcmVzc2lvbiIsIlJ1bnRpbWVFeHByZXNzaW9uU3RhdGVtZW50IiwiUnVudGltZU51bGxTdGF0ZW1lbnQiLCJSdW50aW1lRGVjbGFyYXRpb25TdGF0ZW1lbnQiLCJpbml0aWFsaXplcnMiLCJydW50aW1lSW5pdCIsIlJ1bnRpbWVSZXR1cm5TdGF0ZW1lbnRJbmRpY2VzIiwicmV0dXJuSW5pdGlhbGl6ZXIiLCJSdW50aW1lUmV0dXJuU3RhdGVtZW50IiwiUFVTSF9JTklUSUFMSVpFUiIsIlJFVFVSTiIsImNhbGxlciIsInBvcFVudGlsIiwiY3JlYXRlQmxvY2tDb250ZXh0IiwiYmxvY2siLCJzdG10QXN0Iiwic3RhdGVtZW50IiwiUnVudGltZUJsb2NrIiwid2VicGFja1BvbHlmaWxsIiwiZGVwcmVjYXRlIiwicGF0aHMiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyIsIkxBUkdFX0FSUkFZX1NJWkUiLCJDT1JFX0VSUk9SX1RFWFQiLCJGVU5DX0VSUk9SX1RFWFQiLCJIQVNIX1VOREVGSU5FRCIsIk1BWF9NRU1PSVpFX1NJWkUiLCJQTEFDRUhPTERFUiIsIkNMT05FX0RFRVBfRkxBRyIsIkNMT05FX0ZMQVRfRkxBRyIsIkNMT05FX1NZTUJPTFNfRkxBRyIsIkNPTVBBUkVfUEFSVElBTF9GTEFHIiwiQ09NUEFSRV9VTk9SREVSRURfRkxBRyIsIldSQVBfQklORF9GTEFHIiwiV1JBUF9CSU5EX0tFWV9GTEFHIiwiV1JBUF9DVVJSWV9CT1VORF9GTEFHIiwiV1JBUF9DVVJSWV9GTEFHIiwiV1JBUF9DVVJSWV9SSUdIVF9GTEFHIiwiV1JBUF9QQVJUSUFMX0ZMQUciLCJXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyIsIldSQVBfQVJZX0ZMQUciLCJXUkFQX1JFQVJHX0ZMQUciLCJXUkFQX0ZMSVBfRkxBRyIsIkRFRkFVTFRfVFJVTkNfTEVOR1RIIiwiREVGQVVMVF9UUlVOQ19PTUlTU0lPTiIsIkhPVF9DT1VOVCIsIkhPVF9TUEFOIiwiTEFaWV9GSUxURVJfRkxBRyIsIkxBWllfTUFQX0ZMQUciLCJJTkZJTklUWSIsIk1BWF9TQUZFX0lOVEVHRVIiLCJNQVhfSU5URUdFUiIsIk5BTiIsIk1BWF9BUlJBWV9MRU5HVEgiLCJNQVhfQVJSQVlfSU5ERVgiLCJIQUxGX01BWF9BUlJBWV9MRU5HVEgiLCJ3cmFwRmxhZ3MiLCJhcmdzVGFnIiwiYXJyYXlUYWciLCJhc3luY1RhZyIsImJvb2xUYWciLCJkYXRlVGFnIiwiZG9tRXhjVGFnIiwiZXJyb3JUYWciLCJmdW5jVGFnIiwiZ2VuVGFnIiwibWFwVGFnIiwibnVtYmVyVGFnIiwibnVsbFRhZyIsIm9iamVjdFRhZyIsInByb3h5VGFnIiwicmVnZXhwVGFnIiwic2V0VGFnIiwic3RyaW5nVGFnIiwic3ltYm9sVGFnIiwidW5kZWZpbmVkVGFnIiwid2Vha01hcFRhZyIsIndlYWtTZXRUYWciLCJhcnJheUJ1ZmZlclRhZyIsImRhdGFWaWV3VGFnIiwiZmxvYXQzMlRhZyIsImZsb2F0NjRUYWciLCJpbnQ4VGFnIiwiaW50MTZUYWciLCJpbnQzMlRhZyIsInVpbnQ4VGFnIiwidWludDhDbGFtcGVkVGFnIiwidWludDE2VGFnIiwidWludDMyVGFnIiwicmVFbXB0eVN0cmluZ0xlYWRpbmciLCJyZUVtcHR5U3RyaW5nTWlkZGxlIiwicmVFbXB0eVN0cmluZ1RyYWlsaW5nIiwicmVFc2NhcGVkSHRtbCIsInJlVW5lc2NhcGVkSHRtbCIsInJlSGFzRXNjYXBlZEh0bWwiLCJSZWdFeHAiLCJyZUhhc1VuZXNjYXBlZEh0bWwiLCJyZUVzY2FwZSIsInJlRXZhbHVhdGUiLCJyZUludGVycG9sYXRlIiwicmVJc0RlZXBQcm9wIiwicmVJc1BsYWluUHJvcCIsInJlUHJvcE5hbWUiLCJyZVJlZ0V4cENoYXIiLCJyZUhhc1JlZ0V4cENoYXIiLCJyZVRyaW0iLCJyZVRyaW1TdGFydCIsInJlVHJpbUVuZCIsInJlV3JhcENvbW1lbnQiLCJyZVdyYXBEZXRhaWxzIiwicmVTcGxpdERldGFpbHMiLCJyZUFzY2lpV29yZCIsInJlRXNjYXBlQ2hhciIsInJlRXNUZW1wbGF0ZSIsInJlRmxhZ3MiLCJyZUlzQmFkSGV4IiwicmVJc0JpbmFyeSIsInJlSXNIb3N0Q3RvciIsInJlSXNPY3RhbCIsInJlSXNVaW50IiwicmVMYXRpbiIsInJlTm9NYXRjaCIsInJlVW5lc2NhcGVkU3RyaW5nIiwicnNDb21ib1JhbmdlIiwicnNDb21ib01hcmtzUmFuZ2UiLCJyc0JyZWFrUmFuZ2UiLCJyc01hdGhPcFJhbmdlIiwicnNBc3RyYWwiLCJyc0JyZWFrIiwicnNDb21ibyIsInJzRGlnaXRzIiwicnNEaW5nYmF0IiwicnNMb3dlciIsInJzTWlzYyIsInJzRml0eiIsInJzTm9uQXN0cmFsIiwicnNSZWdpb25hbCIsInJzU3VyclBhaXIiLCJyc1VwcGVyIiwicnNNaXNjTG93ZXIiLCJyc01pc2NVcHBlciIsInJlT3B0TW9kIiwicnNTZXEiLCJyc0Vtb2ppIiwicnNTeW1ib2wiLCJyZUFwb3MiLCJyZUNvbWJvTWFyayIsInJlVW5pY29kZSIsInJlVW5pY29kZVdvcmQiLCJyZUhhc1VuaWNvZGUiLCJyZUhhc1VuaWNvZGVXb3JkIiwiY29udGV4dFByb3BzIiwidGVtcGxhdGVDb3VudGVyIiwidHlwZWRBcnJheVRhZ3MiLCJjbG9uZWFibGVUYWdzIiwic3RyaW5nRXNjYXBlcyIsIlxcIiwiJyIsIlxuIiwiXHIiLCLigKgiLCLigKkiLCJmcmVlUGFyc2VGbG9hdCIsImZyZWVQYXJzZUludCIsImdsb2JhbCIsImZyZWVFeHBvcnRzIiwibm9kZVR5cGUiLCJmcmVlTW9kdWxlIiwibW9kdWxlRXhwb3J0cyIsImZyZWVQcm9jZXNzIiwicHJvY2VzcyIsIm5vZGVVdGlsIiwidHlwZXMiLCJyZXF1aXJlIiwiYmluZGluZyIsIm5vZGVJc0FycmF5QnVmZmVyIiwiaXNBcnJheUJ1ZmZlciIsIm5vZGVJc0RhdGUiLCJpc0RhdGUiLCJub2RlSXNNYXAiLCJpc01hcCIsIm5vZGVJc1JlZ0V4cCIsImlzUmVnRXhwIiwibm9kZUlzU2V0IiwiaXNTZXQiLCJub2RlSXNUeXBlZEFycmF5IiwiaXNUeXBlZEFycmF5IiwidGhpc0FyZyIsImFycmF5QWdncmVnYXRvciIsInNldHRlciIsIml0ZXJhdGVlIiwiYWNjdW11bGF0b3IiLCJhcnJheUVhY2giLCJhcnJheUVhY2hSaWdodCIsImFycmF5RXZlcnkiLCJwcmVkaWNhdGUiLCJhcnJheUZpbHRlciIsInJlc0luZGV4IiwiYXJyYXlJbmNsdWRlcyIsImJhc2VJbmRleE9mIiwiYXJyYXlJbmNsdWRlc1dpdGgiLCJjb21wYXJhdG9yIiwiYXJyYXlNYXAiLCJhcnJheVB1c2giLCJhcnJheVJlZHVjZSIsImluaXRBY2N1bSIsImFycmF5UmVkdWNlUmlnaHQiLCJhcnJheVNvbWUiLCJhc2NpaVNpemUiLCJiYXNlUHJvcGVydHkiLCJiYXNlRmluZEtleSIsImNvbGxlY3Rpb24iLCJlYWNoRnVuYyIsImJhc2VGaW5kSW5kZXgiLCJmcm9tSW5kZXgiLCJmcm9tUmlnaHQiLCJzdHJpY3RJbmRleE9mIiwiYmFzZUlzTmFOIiwiYmFzZUluZGV4T2ZXaXRoIiwiYmFzZU1lYW4iLCJiYXNlU3VtIiwiYmFzZVByb3BlcnR5T2YiLCJiYXNlUmVkdWNlIiwiY3VycmVudCIsImJhc2VUaW1lcyIsImJhc2VVbmFyeSIsImJhc2VWYWx1ZXMiLCJwcm9wcyIsImNhY2hlSGFzIiwiY2FjaGUiLCJjaGFyc1N0YXJ0SW5kZXgiLCJzdHJTeW1ib2xzIiwiY2hyU3ltYm9scyIsImNoYXJzRW5kSW5kZXgiLCJkZWJ1cnJMZXR0ZXIiLCLDgCIsIsOBIiwiw4IiLCLDgyIsIsOEIiwiw4UiLCLDoCIsIsOhIiwiw6IiLCLDoyIsIsOkIiwiw6UiLCLDhyIsIsOnIiwiw5AiLCLDsCIsIsOIIiwiw4kiLCLDiiIsIsOLIiwiw6giLCLDqSIsIsOqIiwiw6siLCLDjCIsIsONIiwiw44iLCLDjyIsIsOsIiwiw60iLCLDriIsIsOvIiwiw5EiLCLDsSIsIsOSIiwiw5MiLCLDlCIsIsOVIiwiw5YiLCLDmCIsIsOyIiwiw7MiLCLDtCIsIsO1Iiwiw7YiLCLDuCIsIsOZIiwiw5oiLCLDmyIsIsOcIiwiw7kiLCLDuiIsIsO7Iiwiw7wiLCLDnSIsIsO9Iiwiw78iLCLDhiIsIsOmIiwiw54iLCLDviIsIsOfIiwixIAiLCLEgiIsIsSEIiwixIEiLCLEgyIsIsSFIiwixIYiLCLEiCIsIsSKIiwixIwiLCLEhyIsIsSJIiwixIsiLCLEjSIsIsSOIiwixJAiLCLEjyIsIsSRIiwixJIiLCLElCIsIsSWIiwixJgiLCLEmiIsIsSTIiwixJUiLCLElyIsIsSZIiwixJsiLCLEnCIsIsSeIiwixKAiLCLEoiIsIsSdIiwixJ8iLCLEoSIsIsSjIiwixKQiLCLEpiIsIsSlIiwixKciLCLEqCIsIsSqIiwixKwiLCLEriIsIsSwIiwixKkiLCLEqyIsIsStIiwixK8iLCLEsSIsIsS0IiwixLUiLCLEtiIsIsS3IiwixLgiLCLEuSIsIsS7IiwixL0iLCLEvyIsIsWBIiwixLoiLCLEvCIsIsS+IiwixYAiLCLFgiIsIsWDIiwixYUiLCLFhyIsIsWKIiwixYQiLCLFhiIsIsWIIiwixYsiLCLFjCIsIsWOIiwixZAiLCLFjSIsIsWPIiwixZEiLCLFlCIsIsWWIiwixZgiLCLFlSIsIsWXIiwixZkiLCLFmiIsIsWcIiwixZ4iLCLFoCIsIsWbIiwixZ0iLCLFnyIsIsWhIiwixaIiLCLFpCIsIsWmIiwixaMiLCLFpSIsIsWnIiwixagiLCLFqiIsIsWsIiwixa4iLCLFsCIsIsWyIiwixakiLCLFqyIsIsWtIiwixa8iLCLFsSIsIsWzIiwixbQiLCLFtSIsIsW2IiwixbciLCLFuCIsIsW5IiwixbsiLCLFvSIsIsW6IiwixbwiLCLFviIsIsSyIiwixLMiLCLFkiIsIsWTIiwixYkiLCLFvyIsImVzY2FwZUh0bWxDaGFyIiwiXCIiLCJlc2NhcGVTdHJpbmdDaGFyIiwiY2hyIiwiaGFzVW5pY29kZSIsInN0cmluZyIsInRlc3QiLCJtYXBUb0FycmF5Iiwib3ZlckFyZyIsInRyYW5zZm9ybSIsInJlcGxhY2VIb2xkZXJzIiwicGxhY2Vob2xkZXIiLCJzYWZlR2V0Iiwic2V0VG9BcnJheSIsInNldCIsInNldFRvUGFpcnMiLCJsYXN0SW5kZXgiLCJ1bmljb2RlU2l6ZSIsInN0cmluZ1RvQXJyYXkiLCJtYXRjaCIsInVuaWNvZGVUb0FycmF5IiwiYXNjaWlUb0FycmF5IiwidW5lc2NhcGVIdG1sQ2hhciIsIiZhbXA7IiwiJmx0OyIsIiZndDsiLCImcXVvdDsiLCImIzM5OyIsIl8iLCJydW5JbkNvbnRleHQiLCJkZWZhdWx0cyIsInBpY2siLCJEYXRlIiwiVHlwZUVycm9yIiwiYXJyYXlQcm90byIsImZ1bmNQcm90byIsIm9iamVjdFByb3RvIiwiY29yZUpzRGF0YSIsImZ1bmNUb1N0cmluZyIsImlkQ291bnRlciIsIm1hc2tTcmNLZXkiLCJ1aWQiLCJleGVjIiwia2V5cyIsIklFX1BST1RPIiwibmF0aXZlT2JqZWN0VG9TdHJpbmciLCJvYmplY3RDdG9yU3RyaW5nIiwib2xkRGFzaCIsInJlSXNOYXRpdmUiLCJCdWZmZXIiLCJVaW50OEFycmF5IiwiYWxsb2NVbnNhZmUiLCJnZXRQcm90b3R5cGUiLCJnZXRQcm90b3R5cGVPZiIsIm9iamVjdENyZWF0ZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwic3BsaWNlIiwic3ByZWFkYWJsZVN5bWJvbCIsImlzQ29uY2F0U3ByZWFkYWJsZSIsInN5bUl0ZXJhdG9yIiwiaXRlcmF0b3IiLCJzeW1Ub1N0cmluZ1RhZyIsImdldE5hdGl2ZSIsImN0eENsZWFyVGltZW91dCIsImNsZWFyVGltZW91dCIsImN0eE5vdyIsIm5vdyIsImN0eFNldFRpbWVvdXQiLCJzZXRUaW1lb3V0IiwibmF0aXZlQ2VpbCIsImNlaWwiLCJuYXRpdmVGbG9vciIsIm5hdGl2ZUdldFN5bWJvbHMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJuYXRpdmVJc0J1ZmZlciIsImlzQnVmZmVyIiwibmF0aXZlSXNGaW5pdGUiLCJpc0Zpbml0ZSIsIm5hdGl2ZUpvaW4iLCJuYXRpdmVLZXlzIiwibmF0aXZlTWF4IiwibmF0aXZlTWluIiwibmF0aXZlTm93IiwibmF0aXZlUGFyc2VJbnQiLCJuYXRpdmVSYW5kb20iLCJuYXRpdmVSZXZlcnNlIiwicmV2ZXJzZSIsIkRhdGFWaWV3IiwiTWFwIiwiUHJvbWlzZSIsIldlYWtNYXAiLCJuYXRpdmVDcmVhdGUiLCJtZXRhTWFwIiwicmVhbE5hbWVzIiwiZGF0YVZpZXdDdG9yU3RyaW5nIiwidG9Tb3VyY2UiLCJtYXBDdG9yU3RyaW5nIiwicHJvbWlzZUN0b3JTdHJpbmciLCJzZXRDdG9yU3RyaW5nIiwid2Vha01hcEN0b3JTdHJpbmciLCJzeW1ib2xQcm90byIsInN5bWJvbFZhbHVlT2YiLCJ2YWx1ZU9mIiwic3ltYm9sVG9TdHJpbmciLCJsb2Rhc2giLCJpc09iamVjdExpa2UiLCJMYXp5V3JhcHBlciIsIkxvZGFzaFdyYXBwZXIiLCJ3cmFwcGVyQ2xvbmUiLCJiYXNlQ3JlYXRlIiwicHJvdG8iLCJpc09iamVjdCIsImJhc2VMb2Rhc2giLCJjaGFpbkFsbCIsIl9fd3JhcHBlZF9fIiwiX19hY3Rpb25zX18iLCJfX2NoYWluX18iLCJfX2luZGV4X18iLCJfX3ZhbHVlc19fIiwiX19kaXJfXyIsIl9fZmlsdGVyZWRfXyIsIl9faXRlcmF0ZWVzX18iLCJfX3Rha2VDb3VudF9fIiwiX192aWV3c19fIiwiSGFzaCIsImVudHJpZXMiLCJjbGVhciIsImVudHJ5IiwiTGlzdENhY2hlIiwiTWFwQ2FjaGUiLCJTZXRDYWNoZSIsIl9fZGF0YV9fIiwiU3RhY2siLCJhcnJheUxpa2VLZXlzIiwiaW5oZXJpdGVkIiwiaXNBcnIiLCJpc0FyZyIsImlzQXJndW1lbnRzIiwiaXNCdWZmIiwic2tpcEluZGV4ZXMiLCJpc0luZGV4IiwiYXJyYXlTYW1wbGUiLCJiYXNlUmFuZG9tIiwiYXJyYXlTYW1wbGVTaXplIiwic2h1ZmZsZVNlbGYiLCJjb3B5QXJyYXkiLCJiYXNlQ2xhbXAiLCJhcnJheVNodWZmbGUiLCJhc3NpZ25NZXJnZVZhbHVlIiwiYmFzZUFzc2lnblZhbHVlIiwiYXNzaWduVmFsdWUiLCJvYmpWYWx1ZSIsImFzc29jSW5kZXhPZiIsImJhc2VBZ2dyZWdhdG9yIiwiYmFzZUVhY2giLCJiYXNlQXNzaWduIiwiY29weU9iamVjdCIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiYmFzZUF0Iiwic2tpcCIsIm51bWJlciIsImxvd2VyIiwidXBwZXIiLCJiYXNlQ2xvbmUiLCJiaXRtYXNrIiwiY3VzdG9taXplciIsImlzRGVlcCIsImlzRmxhdCIsImlzRnVsbCIsImNvbnN0cnVjdG9yIiwiaW5wdXQiLCJpbml0Q2xvbmVBcnJheSIsInRhZyIsImdldFRhZyIsImlzRnVuYyIsImNsb25lQnVmZmVyIiwiaW5pdENsb25lT2JqZWN0IiwiZ2V0U3ltYm9sc0luIiwiY29weVN5bWJvbHNJbiIsImtleXNJbiIsImJhc2VBc3NpZ25JbiIsImdldFN5bWJvbHMiLCJjb3B5U3ltYm9scyIsIkN0b3IiLCJjbG9uZUFycmF5QnVmZmVyIiwiZGF0YVZpZXciLCJidWZmZXIiLCJieXRlT2Zmc2V0IiwiYnl0ZUxlbmd0aCIsImNsb25lRGF0YVZpZXciLCJjbG9uZVR5cGVkQXJyYXkiLCJyZWdleHAiLCJjbG9uZVJlZ0V4cCIsInN5bWJvbCIsImNsb25lU3ltYm9sIiwiaW5pdENsb25lQnlUYWciLCJzdGFja2VkIiwic3ViVmFsdWUiLCJnZXRBbGxLZXlzSW4iLCJnZXRBbGxLZXlzIiwiYmFzZUNvbmZvcm1zVG8iLCJiYXNlRGVsYXkiLCJiYXNlRGlmZmVyZW5jZSIsImlzQ29tbW9uIiwidmFsdWVzTGVuZ3RoIiwib3V0ZXIiLCJjb21wdXRlZCIsInZhbHVlc0luZGV4IiwidGVtcGxhdGVTZXR0aW5ncyIsImVzY2FwZSIsImV2YWx1YXRlIiwiaW50ZXJwb2xhdGUiLCJ2YXJpYWJsZSIsImltcG9ydHMiLCJoYXNoIiwiZ2V0TWFwRGF0YSIsInBhaXJzIiwiY3JlYXRlQmFzZUVhY2giLCJiYXNlRm9yT3duIiwiYmFzZUVhY2hSaWdodCIsImJhc2VGb3JPd25SaWdodCIsImJhc2VFdmVyeSIsImJhc2VFeHRyZW11bSIsImlzU3ltYm9sIiwiYmFzZUZpbHRlciIsImJhc2VGbGF0dGVuIiwiaXNTdHJpY3QiLCJpc0ZsYXR0ZW5hYmxlIiwiYmFzZUZvciIsImNyZWF0ZUJhc2VGb3IiLCJiYXNlRm9yUmlnaHQiLCJiYXNlRnVuY3Rpb25zIiwiaXNGdW5jdGlvbiIsImJhc2VHZXQiLCJwYXRoIiwiY2FzdFBhdGgiLCJ0b0tleSIsImJhc2VHZXRBbGxLZXlzIiwia2V5c0Z1bmMiLCJzeW1ib2xzRnVuYyIsImJhc2VHZXRUYWciLCJpc093biIsInVubWFza2VkIiwiZ2V0UmF3VGFnIiwib2JqZWN0VG9TdHJpbmciLCJiYXNlR3QiLCJiYXNlSGFzIiwiYmFzZUhhc0luIiwiYmFzZUludGVyc2VjdGlvbiIsImFycmF5cyIsIm90aExlbmd0aCIsIm90aEluZGV4IiwiY2FjaGVzIiwibWF4TGVuZ3RoIiwiSW5maW5pdHkiLCJzZWVuIiwiYmFzZUludm9rZSIsImxhc3QiLCJiYXNlSXNBcmd1bWVudHMiLCJiYXNlSXNFcXVhbCIsImVxdWFsRnVuYyIsIm9iaklzQXJyIiwib3RoSXNBcnIiLCJvYmpUYWciLCJvdGhUYWciLCJvYmpJc09iaiIsIm90aElzT2JqIiwiaXNTYW1lVGFnIiwiZXF1YWxBcnJheXMiLCJpc1BhcnRpYWwiLCJlcXVhbEJ5VGFnIiwib2JqSXNXcmFwcGVkIiwib3RoSXNXcmFwcGVkIiwib2JqVW53cmFwcGVkIiwib3RoVW53cmFwcGVkIiwib2JqUHJvcHMiLCJvYmpMZW5ndGgiLCJza2lwQ3RvciIsIm90aFZhbHVlIiwiY29tcGFyZWQiLCJvYmpDdG9yIiwib3RoQ3RvciIsImVxdWFsT2JqZWN0cyIsImJhc2VJc0VxdWFsRGVlcCIsImJhc2VJc01hdGNoIiwibWF0Y2hEYXRhIiwibm9DdXN0b21pemVyIiwic3JjVmFsdWUiLCJiYXNlSXNOYXRpdmUiLCJpc01hc2tlZCIsImJhc2VJdGVyYXRlZSIsImlkZW50aXR5IiwiYmFzZU1hdGNoZXNQcm9wZXJ0eSIsImJhc2VNYXRjaGVzIiwiYmFzZUtleXMiLCJpc1Byb3RvdHlwZSIsImJhc2VLZXlzSW4iLCJuYXRpdmVLZXlzSW4iLCJpc1Byb3RvIiwiYmFzZUx0IiwiYmFzZU1hcCIsImlzQXJyYXlMaWtlIiwiZ2V0TWF0Y2hEYXRhIiwibWF0Y2hlc1N0cmljdENvbXBhcmFibGUiLCJpc0tleSIsImlzU3RyaWN0Q29tcGFyYWJsZSIsImhhc0luIiwiYmFzZU1lcmdlIiwic3JjSW5kZXgiLCJtZXJnZUZ1bmMiLCJpc0FycmF5TGlrZU9iamVjdCIsImlzUGxhaW5PYmplY3QiLCJ0b1BsYWluT2JqZWN0IiwiYmFzZU1lcmdlRGVlcCIsImJhc2VOdGgiLCJiYXNlT3JkZXJCeSIsIml0ZXJhdGVlcyIsIm9yZGVycyIsImdldEl0ZXJhdGVlIiwic29ydCIsImJhc2VTb3J0QnkiLCJjcml0ZXJpYSIsIm9iakNyaXRlcmlhIiwib3RoQ3JpdGVyaWEiLCJvcmRlcnNMZW5ndGgiLCJjb21wYXJlQXNjZW5kaW5nIiwib3JkZXIiLCJjb21wYXJlTXVsdGlwbGUiLCJiYXNlUGlja0J5IiwiYmFzZVNldCIsImJhc2VQdWxsQWxsIiwiYmFzZVB1bGxBdCIsImluZGV4ZXMiLCJwcmV2aW91cyIsImJhc2VVbnNldCIsImJhc2VSZXBlYXQiLCJiYXNlUmVzdCIsInNldFRvU3RyaW5nIiwib3ZlclJlc3QiLCJiYXNlU2FtcGxlIiwiYmFzZVNhbXBsZVNpemUiLCJuZXN0ZWQiLCJiYXNlU2V0RGF0YSIsImJhc2VTZXRUb1N0cmluZyIsImNvbnN0YW50IiwiYmFzZVNodWZmbGUiLCJiYXNlU2xpY2UiLCJiYXNlU29tZSIsImJhc2VTb3J0ZWRJbmRleCIsInJldEhpZ2hlc3QiLCJsb3ciLCJoaWdoIiwibWlkIiwiYmFzZVNvcnRlZEluZGV4QnkiLCJ2YWxJc05hTiIsInZhbElzTnVsbCIsInZhbElzU3ltYm9sIiwidmFsSXNVbmRlZmluZWQiLCJvdGhJc0RlZmluZWQiLCJvdGhJc051bGwiLCJvdGhJc1JlZmxleGl2ZSIsIm90aElzU3ltYm9sIiwic2V0TG93IiwiYmFzZVNvcnRlZFVuaXEiLCJiYXNlVG9OdW1iZXIiLCJiYXNlVG9TdHJpbmciLCJiYXNlVW5pcSIsImNyZWF0ZVNldCIsInNlZW5JbmRleCIsImJhc2VVcGRhdGUiLCJ1cGRhdGVyIiwiYmFzZVdoaWxlIiwiaXNEcm9wIiwiYmFzZVdyYXBwZXJWYWx1ZSIsImFjdGlvbnMiLCJhY3Rpb24iLCJiYXNlWG9yIiwiYmFzZVppcE9iamVjdCIsImFzc2lnbkZ1bmMiLCJ2YWxzTGVuZ3RoIiwiY2FzdEFycmF5TGlrZU9iamVjdCIsImNhc3RGdW5jdGlvbiIsInN0cmluZ1RvUGF0aCIsImNhc3RSZXN0IiwiY2FzdFNsaWNlIiwiYXJyYXlCdWZmZXIiLCJ0eXBlZEFycmF5IiwidmFsSXNEZWZpbmVkIiwidmFsSXNSZWZsZXhpdmUiLCJjb21wb3NlQXJncyIsInBhcnRpYWxzIiwiaG9sZGVycyIsImlzQ3VycmllZCIsImFyZ3NJbmRleCIsImFyZ3NMZW5ndGgiLCJob2xkZXJzTGVuZ3RoIiwibGVmdEluZGV4IiwibGVmdExlbmd0aCIsInJhbmdlTGVuZ3RoIiwiaXNVbmN1cnJpZWQiLCJjb21wb3NlQXJnc1JpZ2h0IiwiaG9sZGVyc0luZGV4IiwicmlnaHRJbmRleCIsInJpZ2h0TGVuZ3RoIiwiaXNOZXciLCJjcmVhdGVBZ2dyZWdhdG9yIiwiY3JlYXRlQXNzaWduZXIiLCJhc3NpZ25lciIsInNvdXJjZXMiLCJndWFyZCIsImlzSXRlcmF0ZWVDYWxsIiwiaXRlcmFibGUiLCJjcmVhdGVDYXNlRmlyc3QiLCJtZXRob2ROYW1lIiwidHJhaWxpbmciLCJjcmVhdGVDb21wb3VuZGVyIiwiY2FsbGJhY2siLCJ3b3JkcyIsImRlYnVyciIsImNyZWF0ZUN0b3IiLCJ0aGlzQmluZGluZyIsImNyZWF0ZUZpbmQiLCJmaW5kSW5kZXhGdW5jIiwiY3JlYXRlRmxvdyIsImZsYXRSZXN0IiwiZnVuY3MiLCJwcmVyZXEiLCJ0aHJ1Iiwid3JhcHBlciIsImdldEZ1bmNOYW1lIiwiZnVuY05hbWUiLCJnZXREYXRhIiwiaXNMYXppYWJsZSIsInBsYW50IiwiY3JlYXRlSHlicmlkIiwicGFydGlhbHNSaWdodCIsImhvbGRlcnNSaWdodCIsImFyZ1BvcyIsImFyeSIsImFyaXR5IiwiaXNBcnkiLCJpc0JpbmQiLCJpc0JpbmRLZXkiLCJpc0ZsaXAiLCJnZXRIb2xkZXIiLCJob2xkZXJzQ291bnQiLCJjb3VudEhvbGRlcnMiLCJuZXdIb2xkZXJzIiwiY3JlYXRlUmVjdXJyeSIsImZuIiwiYXJyTGVuZ3RoIiwib2xkQXJyYXkiLCJyZW9yZGVyIiwiY3JlYXRlSW52ZXJ0ZXIiLCJ0b0l0ZXJhdGVlIiwiYmFzZUludmVydGVyIiwiY3JlYXRlTWF0aE9wZXJhdGlvbiIsImRlZmF1bHRWYWx1ZSIsImNyZWF0ZU92ZXIiLCJhcnJheUZ1bmMiLCJjcmVhdGVQYWRkaW5nIiwiY2hhcnNMZW5ndGgiLCJjcmVhdGVSYW5nZSIsInN0ZXAiLCJ0b0Zpbml0ZSIsImJhc2VSYW5nZSIsImNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24iLCJ0b051bWJlciIsIndyYXBGdW5jIiwiaXNDdXJyeSIsIm5ld0RhdGEiLCJzZXREYXRhIiwic2V0V3JhcFRvU3RyaW5nIiwiY3JlYXRlUm91bmQiLCJwcmVjaXNpb24iLCJ0b0ludGVnZXIiLCJwYWlyIiwibm9vcCIsImNyZWF0ZVRvUGFpcnMiLCJiYXNlVG9QYWlycyIsImNyZWF0ZVdyYXAiLCJzcmNCaXRtYXNrIiwibmV3Qml0bWFzayIsImlzQ29tYm8iLCJtZXJnZURhdGEiLCJjcmVhdGVDdXJyeSIsImNyZWF0ZVBhcnRpYWwiLCJjcmVhdGVCaW5kIiwiY3VzdG9tRGVmYXVsdHNBc3NpZ25JbiIsImN1c3RvbURlZmF1bHRzTWVyZ2UiLCJjdXN0b21PbWl0Q2xvbmUiLCJhcnJWYWx1ZSIsImZsYXR0ZW4iLCJvdGhlckZ1bmMiLCJpc0tleWFibGUiLCJzdHViQXJyYXkiLCJoYXNQYXRoIiwiaGFzRnVuYyIsImlzTGVuZ3RoIiwiQXJyYXlCdWZmZXIiLCJyZXNvbHZlIiwiY3RvclN0cmluZyIsImlzTWFza2FibGUiLCJzdHViRmFsc2UiLCJvdGhlckFyZ3MiLCJzaG9ydE91dCIsImRldGFpbHMiLCJpbnNlcnRXcmFwRGV0YWlscyIsInVwZGF0ZVdyYXBEZXRhaWxzIiwiZ2V0V3JhcERldGFpbHMiLCJjb3VudCIsImxhc3RDYWxsZWQiLCJzdGFtcCIsInJlbWFpbmluZyIsInJhbmQiLCJtZW1vaXplIiwibWVtb2l6ZUNhcHBlZCIsInF1b3RlIiwic3ViU3RyaW5nIiwiZGlmZmVyZW5jZSIsImRpZmZlcmVuY2VCeSIsImRpZmZlcmVuY2VXaXRoIiwiZmluZEluZGV4IiwiZmluZExhc3RJbmRleCIsImhlYWQiLCJpbnRlcnNlY3Rpb24iLCJtYXBwZWQiLCJpbnRlcnNlY3Rpb25CeSIsImludGVyc2VjdGlvbldpdGgiLCJwdWxsIiwicHVsbEFsbCIsInB1bGxBdCIsInVuaW9uIiwidW5pb25CeSIsInVuaW9uV2l0aCIsInVuemlwIiwiZ3JvdXAiLCJ1bnppcFdpdGgiLCJ3aXRob3V0IiwieG9yIiwieG9yQnkiLCJ4b3JXaXRoIiwiemlwIiwiemlwV2l0aCIsImNoYWluIiwiaW50ZXJjZXB0b3IiLCJ3cmFwcGVyQXQiLCJjb3VudEJ5IiwiZmluZExhc3QiLCJmb3JFYWNoUmlnaHQiLCJncm91cEJ5IiwiaW52b2tlTWFwIiwia2V5QnkiLCJwYXJ0aXRpb24iLCJzb3J0QnkiLCJiZWZvcmUiLCJiaW5kS2V5IiwiZGVib3VuY2UiLCJsYXN0QXJncyIsImxhc3RUaGlzIiwibWF4V2FpdCIsInRpbWVySWQiLCJsYXN0Q2FsbFRpbWUiLCJsYXN0SW52b2tlVGltZSIsImxlYWRpbmciLCJtYXhpbmciLCJpbnZva2VGdW5jIiwidGltZSIsInNob3VsZEludm9rZSIsInRpbWVTaW5jZUxhc3RDYWxsIiwidGltZXJFeHBpcmVkIiwidHJhaWxpbmdFZGdlIiwidGltZVdhaXRpbmciLCJyZW1haW5pbmdXYWl0IiwiZGVib3VuY2VkIiwiaXNJbnZva2luZyIsImxlYWRpbmdFZGdlIiwiY2FuY2VsIiwiZmx1c2giLCJkZWZlciIsImRlbGF5IiwicmVzb2x2ZXIiLCJtZW1vaXplZCIsIkNhY2hlIiwibmVnYXRlIiwib3ZlckFyZ3MiLCJ0cmFuc2Zvcm1zIiwiZnVuY3NMZW5ndGgiLCJwYXJ0aWFsIiwicGFydGlhbFJpZ2h0IiwicmVhcmciLCJpc0Vycm9yIiwiaXNJbnRlZ2VyIiwiaXNOdW1iZXIiLCJpc1N0cmluZyIsInRvQXJyYXkiLCJuZXh0IiwiaXRlcmF0b3JUb0FycmF5IiwicmVtYWluZGVyIiwidG9MZW5ndGgiLCJpc0JpbmFyeSIsImFzc2lnbkluIiwiYXNzaWduSW5XaXRoIiwiYXNzaWduV2l0aCIsImF0IiwicHJvcHNJbmRleCIsInByb3BzTGVuZ3RoIiwiZGVmYXVsdHNEZWVwIiwibWVyZ2VXaXRoIiwiaW52ZXJ0IiwiaW52ZXJ0QnkiLCJpbnZva2UiLCJtZXJnZSIsIm9taXQiLCJiYXNlUGljayIsInBpY2tCeSIsInByb3AiLCJ0b1BhaXJzIiwidG9QYWlyc0luIiwiY2FtZWxDYXNlIiwidG9Mb3dlckNhc2UiLCJjYXBpdGFsaXplIiwidXBwZXJGaXJzdCIsImtlYmFiQ2FzZSIsImxvd2VyQ2FzZSIsImxvd2VyRmlyc3QiLCJzbmFrZUNhc2UiLCJzdGFydENhc2UiLCJ1cHBlckNhc2UiLCJ0b1VwcGVyQ2FzZSIsInBhdHRlcm4iLCJoYXNVbmljb2RlV29yZCIsInVuaWNvZGVXb3JkcyIsImFzY2lpV29yZHMiLCJhdHRlbXB0IiwiYmluZEFsbCIsIm1ldGhvZE5hbWVzIiwiZmxvdyIsImZsb3dSaWdodCIsIm1ldGhvZCIsIm1ldGhvZE9mIiwibWl4aW4iLCJvdmVyIiwib3ZlckV2ZXJ5Iiwib3ZlclNvbWUiLCJiYXNlUHJvcGVydHlEZWVwIiwicmFuZ2UiLCJyYW5nZVJpZ2h0IiwiYXVnZW5kIiwiYWRkZW5kIiwiZGl2aWRlIiwiZGl2aWRlbmQiLCJkaXZpc29yIiwibXVsdGlwbHkiLCJtdWx0aXBsaWVyIiwibXVsdGlwbGljYW5kIiwicm91bmQiLCJtaW51ZW5kIiwic3VidHJhaGVuZCIsImFmdGVyIiwiY2FzdEFycmF5IiwiY2h1bmsiLCJjb21wYWN0IiwiY29uY2F0IiwiY29uZCIsImNvbmZvcm1zIiwiYmFzZUNvbmZvcm1zIiwicHJvcGVydGllcyIsImN1cnJ5IiwiY3VycnlSaWdodCIsImRyb3AiLCJkcm9wUmlnaHQiLCJkcm9wUmlnaHRXaGlsZSIsImRyb3BXaGlsZSIsImZpbGwiLCJiYXNlRmlsbCIsImZsYXRNYXAiLCJmbGF0TWFwRGVlcCIsImZsYXRNYXBEZXB0aCIsImZsYXR0ZW5EZWVwIiwiZmxhdHRlbkRlcHRoIiwiZmxpcCIsImZyb21QYWlycyIsImZ1bmN0aW9ucyIsImZ1bmN0aW9uc0luIiwiaW5pdGlhbCIsIm1hcEtleXMiLCJtYXBWYWx1ZXMiLCJtYXRjaGVzIiwibWF0Y2hlc1Byb3BlcnR5IiwibnRoQXJnIiwib21pdEJ5Iiwib3JkZXJCeSIsInByb3BlcnR5T2YiLCJwdWxsQWxsQnkiLCJwdWxsQWxsV2l0aCIsInJlamVjdCIsInJlbW92ZSIsInJlc3QiLCJzYW1wbGVTaXplIiwic2V0V2l0aCIsInNodWZmbGUiLCJzb3J0ZWRVbmlxIiwic29ydGVkVW5pcUJ5Iiwic2VwYXJhdG9yIiwibGltaXQiLCJzcHJlYWQiLCJ0YWlsIiwidGFrZSIsInRha2VSaWdodCIsInRha2VSaWdodFdoaWxlIiwidGFrZVdoaWxlIiwidGFwIiwidGhyb3R0bGUiLCJ0b1BhdGgiLCJpc0Fyckxpa2UiLCJ1bmlxIiwidW5pcUJ5IiwidW5pcVdpdGgiLCJ1bnNldCIsInVwZGF0ZSIsInVwZGF0ZVdpdGgiLCJ2YWx1ZXNJbiIsIndyYXAiLCJ6aXBPYmplY3QiLCJ6aXBPYmplY3REZWVwIiwiZW50cmllc0luIiwiZXh0ZW5kIiwiZXh0ZW5kV2l0aCIsImNsYW1wIiwiY2xvbmVEZWVwIiwiY2xvbmVEZWVwV2l0aCIsImNsb25lV2l0aCIsImNvbmZvcm1zVG8iLCJkZWZhdWx0VG8iLCJlbmRzV2l0aCIsInBvc2l0aW9uIiwiZXNjYXBlUmVnRXhwIiwiZmluZEtleSIsImZpbmRMYXN0S2V5IiwiZm9ySW4iLCJmb3JJblJpZ2h0IiwiZm9yT3duIiwiZm9yT3duUmlnaHQiLCJpblJhbmdlIiwiYmFzZUluUmFuZ2UiLCJpc0Jvb2xlYW4iLCJpc0VsZW1lbnQiLCJpc0VxdWFsIiwiaXNFcXVhbFdpdGgiLCJpc01hdGNoIiwiaXNNYXRjaFdpdGgiLCJpc05hTiIsImlzTmF0aXZlIiwiaXNOaWwiLCJpc1NhZmVJbnRlZ2VyIiwiaXNVbmRlZmluZWQiLCJpc1dlYWtNYXAiLCJpc1dlYWtTZXQiLCJzdHJpY3RMYXN0SW5kZXhPZiIsIm1heEJ5IiwibWVhbiIsIm1lYW5CeSIsIm1pbkJ5Iiwic3R1Yk9iamVjdCIsInN0dWJTdHJpbmciLCJzdHViVHJ1ZSIsIm50aCIsIm5vQ29uZmxpY3QiLCJwYWQiLCJzdHJMZW5ndGgiLCJwYWRFbmQiLCJwYWRTdGFydCIsInJhZGl4IiwiZmxvYXRpbmciLCJ0ZW1wIiwicmVkdWNlIiwicmVkdWNlUmlnaHQiLCJyZXBlYXQiLCJzYW1wbGUiLCJzb21lIiwic29ydGVkSW5kZXgiLCJzb3J0ZWRJbmRleEJ5Iiwic29ydGVkSW5kZXhPZiIsInNvcnRlZExhc3RJbmRleCIsInNvcnRlZExhc3RJbmRleEJ5Iiwic29ydGVkTGFzdEluZGV4T2YiLCJzdGFydHNXaXRoIiwic3VtIiwic3VtQnkiLCJ0ZW1wbGF0ZSIsInNldHRpbmdzIiwiaXNFc2NhcGluZyIsImlzRXZhbHVhdGluZyIsImltcG9ydHNLZXlzIiwiaW1wb3J0c1ZhbHVlcyIsInJlRGVsaW1pdGVycyIsInNvdXJjZVVSTCIsImVzY2FwZVZhbHVlIiwiaW50ZXJwb2xhdGVWYWx1ZSIsImVzVGVtcGxhdGVWYWx1ZSIsImV2YWx1YXRlVmFsdWUiLCJ0aW1lcyIsInRvTG93ZXIiLCJ0b1NhZmVJbnRlZ2VyIiwidG9VcHBlciIsInRyaW0iLCJ0cmltRW5kIiwidHJpbVN0YXJ0IiwidHJ1bmNhdGUiLCJvbWlzc2lvbiIsInNlYXJjaCIsInN1YnN0cmluZyIsIm5ld0VuZCIsInVuZXNjYXBlIiwidW5pcXVlSWQiLCJwcmVmaXgiLCJlYWNoIiwiZWFjaFJpZ2h0IiwiZmlyc3QiLCJWRVJTSU9OIiwiaXNGaWx0ZXIiLCJ0YWtlTmFtZSIsImRyb3BOYW1lIiwiY2hlY2tJdGVyYXRlZSIsImlzVGFrZXIiLCJsb2Rhc2hGdW5jIiwicmV0VW53cmFwcGVkIiwiaXNMYXp5IiwidXNlTGF6eSIsImlzSHlicmlkIiwiaXNVbndyYXBwZWQiLCJvbmx5TGF6eSIsImNoYWluTmFtZSIsImRpciIsImlzUmlnaHQiLCJ2aWV3IiwiZ2V0VmlldyIsIml0ZXJMZW5ndGgiLCJ0YWtlQ291bnQiLCJpdGVySW5kZXgiLCJjb21taXQiLCJ3cmFwcGVkIiwidG9KU09OIiwibG9kYXNoXzEiLCJGdW5jdGlvbkNhbGwiLCJyZXR1cm5CeVZhbHVlVGFyZ2V0IiwicmVnaXN0ZXJGdW5jdGlvbkNhbGwiLCJjcmVhdGVSdW50aW1lRnVuY3Rpb25DYWxsIiwiUnVudGltZUZ1bmN0aW9uQ2FsbCIsIklOREVYX0ZVTkNUSU9OX0NBTExfUFVTSCIsIklOREVYX0ZVTkNUSU9OX0NBTExfQ0FMTCIsImZ1bmN0aW9uRGVmIiwiYXJnSW5pdGlhbGl6ZXJzIiwiYUluaXQiLCJjb250ZXh0dWFsUGFyYW1UeXBlcyIsIlJ1bnRpbWVGdW5jdGlvbkNhbGxFeHByZXNzaW9uIiwiSU5ERVhfRlVOQ1RJT05fQ0FMTF9FWFBSRVNTSU9OX09QRVJBTkQiLCJyZXRPYmoiLCJTaW11bGF0aW9uIiwiYWxlcnRzT2ZmIiwiX2V2ZW50c09jY3VycmVkIiwidW5kZWZpbmVkX2JlaGF2aW9yIiwidW5zcGVjaWZpZWRfYmVoYXZpb3IiLCJpbXBsZW1lbnRhdGlvbl9kZWZpbmVkX2JlaGF2aW9yIiwibWVtb3J5X2xlYWsiLCJhc3NlcnRpb25fZmFpbHVyZSIsImNyYXNoIiwiZXZlbnRzT2NjdXJyZWQiLCJpc1BhdXNlZCIsImV4ZWNTdGFjayIsIl9leGVjU3RhY2siLCJwZW5kaW5nTmV3cyIsImxlYWtDaGVja0luZGV4IiwiYXRFbmQiLCJhbGxvY2F0ZVN0cmluZ0xpdGVyYWxzIiwiY2FsbE1haW4iLCJnbG9iYWxPYmplY3RBbGxvY2F0b3IiLCJtYWluUmV0dXJuT2JqZWN0IiwibWFpbkZ1bmN0aW9uIiwicnVudGltZUNvbnN0cnVjdCIsInR1cyIsInRyYW5zbGF0aW9uVW5pdHMiLCJ0dU5hbWUiLCJzdHJpbmdMaXRlcmFscyIsImxpdCIsIl9zdGVwRm9yd2FyZCIsImluc3QiLCJzdGVwVG9FbmQiLCJjb3V0IiwiY29uc29sZSIsImxvZyIsImV2ZW50Iiwic2hvd0FsZXJ0IiwiYWxlcnQiLCJoYXNFdmVudE9jY3VycmVkIiwiU3ludGF4RXJyb3IiLCJleHBlY3RlZCIsImZvdW5kIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJidWlsZE1lc3NhZ2UiLCJoZXgiLCJjaCIsImxpdGVyYWxFc2NhcGUiLCJjbGFzc0VzY2FwZSIsImRlc2NyaWJlRXhwZWN0YXRpb24iLCJleHBlY3RhdGlvbiIsImVzY2FwZWRQYXJ0cyIsInBhcnRzIiwicGFydCIsImludmVydGVkIiwiZXhwZWN0ZWQxIiwiZGVzY3JpcHRpb25zIiwiZGVzY3JpYmVFeHBlY3RlZCIsImZvdW5kMSIsImRlc2NyaWJlRm91bmQiLCJwYXJzZSIsInBlZyRyZXN1bHQiLCJwZWckRkFJTEVEIiwicGVnJHN0YXJ0UnVsZUZ1bmN0aW9ucyIsInBlZyRwYXJzZXN0YXJ0IiwicGVnJHN0YXJ0UnVsZUZ1bmN0aW9uIiwicGVnJGMwIiwicGVnJGMxIiwiZGVjbHMiLCJwZWckYzIiLCJwZWckYzMiLCJwZWckYzQiLCJwZWckbGl0ZXJhbEV4cGVjdGF0aW9uIiwicGVnJGM1IiwicGVnJGM2IiwicGVnJGNsYXNzRXhwZWN0YXRpb24iLCJwZWckYzciLCJwZWckYzgiLCJwZWckYzkiLCJwZWckYzEwIiwicGVnJGMxMSIsInBlZyRjMTIiLCJwZWckYzEzIiwicGVnJGMxNCIsInRyYWNrIiwicGVnJGMxNSIsImFic29yYiIsInBlZyRjMTYiLCJwZWckYzE3IiwicGVnJGMxOCIsImxhYmVsIiwicGVnJGMxOSIsInBlZyRjMjAiLCJwZWckYzIxIiwiY2FzZSIsInBlZyRjMjIiLCJwZWckYzIzIiwicGVnJGMyNCIsInBlZyRjMjUiLCJwZWckYzI2IiwicGVnJGMyNyIsInBlZyRjMjgiLCJwZWckYzI5IiwicGVnJGMzMCIsInBlZyRjMzEiLCJwZWckYzMyIiwicGVnJGMzMyIsInBlZyRjMzQiLCJzdG10cyIsInBlZyRjMzUiLCJwZWckYzM2IiwicGVnJGMzNyIsInBlZyRjMzgiLCJwZWckYzM5IiwicGVnJGM0MCIsInBlZyRjNDEiLCJwZWckYzQyIiwicGVnJGM0MyIsInBlZyRjNDQiLCJwZWckYzQ1IiwicGVnJGM0NiIsInBlZyRjNDciLCJwZWckYzQ4IiwicGVnJGM0OSIsInBlZyRjNTAiLCJwZWckYzUxIiwicGVnJGM1MiIsInBlZyRjNTMiLCJwb3N0IiwicGVnJGM1NCIsInBlZyRjNTUiLCJwZWckYzU2IiwicGVnJGM1NyIsInBlZyRjNTgiLCJwZWckYzU5IiwicGVnJGM2MCIsInBlZyRjNjEiLCJwZWckYzYyIiwicGVnJGM2MyIsInJldCIsInBlZyRjNjQiLCJwZWckYzY1IiwicGVnJGM2NiIsInBlZyRjNjciLCJwZWckYzY4IiwicGVnJGM2OSIsInVuc2hpZnQiLCJwZWckYzcwIiwicGVnJGM3MSIsInBlZyRjNzIiLCJwZWckYzczIiwicGVnJGM3NCIsInBlZyRjNzUiLCJwZWckYzc2IiwicGVnJGM3NyIsInBlZyRjNzgiLCJwZWckYzc5IiwicGVnJGM4MCIsInBlZyRjODEiLCJwZWckYzgyIiwicGVnJGM4MyIsIm1lbWJlciIsInBlZyRjODQiLCJwZWckYzg1IiwicGVnJGM4NiIsImRlY2xTcGVjcyIsImlubGluZSIsImV4cGxpY2l0IiwicGVnJGM4NyIsInBlZyRjODgiLCJwZWckYzg5IiwicGVnJGM5MCIsInBlZyRjOTEiLCJwZWckYzkyIiwicGVnJGM5MyIsInBlZyRjOTQiLCJwZWckYzk1IiwicGVnJGM5NiIsInBlZyRjOTciLCJwZWckYzk4IiwicGVnJGM5OSIsInBlZyRjMTAwIiwicGVnJGMxMDEiLCJwZWckYzEwMiIsInBlZyRjMTAzIiwicGVnJGMxMDQiLCJwZWckYzEwNSIsInBlZyRjMTA2IiwicGVnJGMxMDciLCJwZWckYzEwOCIsInBlZyRjMTA5IiwicGVnJGMxMTAiLCJwZWckYzExMSIsInBlZyRjMTEyIiwicGVnJG90aGVyRXhwZWN0YXRpb24iLCJwZWckYzExMyIsInBlZyRjMTE0IiwicGVnJGMxMTUiLCJwZWckYzExNiIsInBlZyRjMTE3IiwicGVnJGMxMTgiLCJwZWckYzExOSIsInBlZyRjMTIwIiwicGVnJGMxMjEiLCJwZWckYzEyMiIsInBlZyRjMTIzIiwicGVnJGMxMjQiLCJwZWckYzEyNSIsInBlZyRjMTI2IiwicGVnJGMxMjciLCJwZWckYzEyOCIsInBlZyRjMTI5IiwicGVnJGMxMzAiLCJwZWckYzEzMSIsInBlZyRjMTMyIiwicGVnJGMxMzMiLCJwZWckYzEzNCIsImdldFVzZXJUeXBlTmFtZXMiLCJpc1VzZXJUeXBlTmFtZSIsInBlZyRjMTM1IiwicGVnJGMxMzYiLCJwZWckYzEzNyIsInBlZyRjMTM4IiwicGVnJGMxMzkiLCJwZWckYzE0MCIsInBlZyRjMTQxIiwicGVnJGMxNDIiLCJwZWckYzE0MyIsInBlZyRjMTQ0IiwicGVnJGMxNDUiLCJwZWckYzE0NiIsInBlZyRjMTQ3IiwicGVnJGMxNDgiLCJwZWckYzE0OSIsInBlZyRjMTUwIiwicGVnJGMxNTEiLCJwZWckYzE1MiIsInBlZyRjMTUzIiwicGVnJGMxNTQiLCJhYnN0cmFjdCIsInBlZyRjMTU1IiwicGVnJGMxNTYiLCJwZWckYzE1NyIsImN2IiwicGVnJGMxNTgiLCJwZWckYzE1OSIsInBlZyRjMTYwIiwicGVnJGMxNjEiLCJwZWckYzE2MiIsInBlZyRjMTYzIiwicGVnJGMxNjQiLCJwZWckYzE2NSIsInBlZyRjMTY2IiwicGVnJGMxNjciLCJwZWckYzE2OCIsInBlZyRjMTY5IiwicGVnJGMxNzAiLCJwZWckYzE3MSIsInBlZyRjMTcyIiwicGVnJGMxNzMiLCJwZWckYzE3NCIsInBlZyRjMTc1IiwicGVnJGMxNzYiLCJwZWckYzE3NyIsInBlZyRjMTc4IiwicGVnJGMxNzkiLCJwZWckYzE4MCIsInBlZyRjMTgxIiwicGVnJGMxODIiLCJwZWckYzE4MyIsImNvbXBvc2VCaW5hcnlPcCIsInBlZyRjMTg0IiwicGVnJGMxODUiLCJwZWckYzE4NiIsInBlZyRjMTg3IiwicGVnJGMxODgiLCJwZWckYzE4OSIsInBlZyRjMTkwIiwicGVnJGMxOTEiLCJwZWckYzE5MiIsInBlZyRjMTkzIiwicGVnJGMxOTQiLCJwZWckYzE5NSIsInBlZyRjMTk2IiwicGVnJGMxOTciLCJwZWckYzE5OCIsInBlZyRjMTk5IiwicGVnJGMyMDAiLCJwZWckYzIwMSIsInBlZyRjMjAyIiwicGVnJGMyMDMiLCJwZWckYzIwNCIsInBlZyRjMjA1IiwicGVnJGMyMDYiLCJwZWckYzIwNyIsInBlZyRjMjA4IiwicGVnJGMyMDkiLCJwZWckYzIxMCIsInBlZyRjMjExIiwicGVnJGMyMTIiLCJwZWckYzIxMyIsInBlZyRjMjE0IiwicGVnJGMyMTUiLCJwZWckYzIxNiIsInBlZyRjMjE3IiwicGVnJGMyMTgiLCJwZWckYzIxOSIsInBlZyRjMjIwIiwicGVnJGMyMjEiLCJwZWckYzIyMiIsInBlZyRjMjIzIiwicGVnJGMyMjQiLCJwZWckYzIyNSIsInBlZyRjMjI2IiwicGVnJGMyMjciLCJwZWckYzIyOCIsInBlZyRjMjI5IiwicGVnJGMyMzAiLCJwZWckYzIzMSIsInBlZyRjMjMyIiwicGVnJGMyMzMiLCJwZWckYzIzNCIsInBlZyRjMjM1IiwicGVnJGMyMzYiLCJwZWckYzIzNyIsInBlZyRjMjM4IiwicGVnJGMyMzkiLCJwZWckYzI0MCIsInBlZyRjMjQxIiwicGVnJGMyNDIiLCJwZWckYzI0MyIsInBlZyRjMjQ0IiwicGVnJGMyNDUiLCJwZWckYzI0NiIsInBlZyRjMjQ3IiwicGVnJGMyNDgiLCJwZWckYzI0OSIsInBlZyRjMjUwIiwicGVnJGMyNTEiLCJwZWckYzI1MiIsInBlZyRjMjUzIiwicGVnJGMyNTQiLCJwZWckYzI1NSIsInBlZyRjMjU2IiwicGVnJGMyNTciLCJwZWckYzI1OCIsInBlZyRjMjU5IiwicGVnJGMyNjAiLCJwZWckYzI2MSIsInBlZyRjMjYyIiwicGVnJGMyNjMiLCJwZWckYzI2NCIsInBlZyRjMjY1IiwicGVnJGMyNjYiLCJwZWckYzI2NyIsInBlZyRjMjY4IiwicGVnJGMyNjkiLCJwZWckYzI3MCIsInBlZyRjMjcxIiwicGVnJGMyNzIiLCJwZWckYzI3MyIsInBlZyRjMjc0IiwicGVnJGMyNzUiLCJwZWckYzI3NiIsInBlZyRjMjc3IiwicGVnJGMyNzgiLCJwZWckYzI3OSIsInBlZyRjMjgwIiwicGVnJGMyODEiLCJwZWckYzI4MiIsInBlZyRjMjgzIiwicGVnJGMyODQiLCJwZWckYzI4NSIsInBlZyRjMjg2IiwicGVnJGMyODciLCJwZWckYzI4OCIsInBlZyRjMjg5IiwicGVnJGMyOTAiLCJwZWckYzI5MSIsInBlZyRjMjkyIiwicGVnJGMyOTMiLCJwZWckYzI5NCIsInBlZyRjMjk1IiwicGVnJGMyOTYiLCJwZWckYzI5NyIsInBlZyRjMjk4IiwicGVnJGMyOTkiLCJwZWckYzMwMCIsInBlZyRjMzAxIiwicGVnJGMzMDIiLCJwZWckYzMwMyIsInBlZyRjMzA0IiwicGVnJGMzMDUiLCJwZWckYzMwNiIsInBlZyRjMzA3IiwicGVnJGMzMDgiLCJwZWckYzMwOSIsInBlZyRjMzEwIiwicGVnJGMzMTEiLCJwZWckYzMxMiIsInBlZyRjMzEzIiwicGVnJGMzMTQiLCJwZWckYzMxNSIsInBlZyRjMzE2IiwicGVnJGMzMTciLCJwZWckYzMxOCIsInBlZyRjMzE5IiwicGVnJGMzMjAiLCJwZWckYzMyMSIsInBlZyRjMzIyIiwicGVnJGMzMjMiLCJwZWckYzMyNCIsInBlZyRjMzI1IiwicGVnJGMzMjYiLCJwZWckYzMyNyIsInBlZyRjMzI4IiwicGVnJGMzMjkiLCJvcHMiLCJwb3N0Zml4RXhwIiwicGVnJGMzMzAiLCJwZWckYzMzMSIsInBlZyRjMzMyIiwicGVnJGMzMzMiLCJwZWckYzMzNCIsInBlZyRjMzM1IiwicGVnJGMzMzYiLCJwZWckYzMzNyIsInBlZyRjMzM4IiwicGVnJGMzMzkiLCJwZWckYzM0MCIsInBlZyRjMzQxIiwicGVnJGMzNDIiLCJwZWckYzM0MyIsInBlZyRjMzQ0IiwicGVnJGMzNDUiLCJwZWckYzM0NiIsInBlZyRjMzQ3IiwidSIsInBlZyRjMzQ4IiwicGVnJGMzNDkiLCJwZWckYzM1MCIsInBlZyRjMzUxIiwicGVnJGMzNTIiLCJwZWckYzM1MyIsInBlZyRjMzU0IiwicGVnJGMzNTUiLCJwZWckYzM1NiIsInBlZyRjMzU3IiwicGVnJGMzNTgiLCJwZWckYzM1OSIsInBlZyRjMzYwIiwicGVnJGMzNjEiLCJwZWckYzM2MiIsInBlZyRjMzYzIiwicGVnJGMzNjYiLCJwZWckYzM2NyIsInBlZyRjMzY4IiwicGVnJGMzNjkiLCJwZWckYzM3MCIsInBlZyRjMzcxIiwicGVnJGMzNzIiLCJwZWckYzM3MyIsIm5lZyIsImRpZ2l0cyIsInBlZyRjMzc0IiwicGVnJGMzNzUiLCJwZWckYzM3NiIsInBlZyRjMzc3IiwicGVnJGMzNzgiLCJwZWckYzM3OSIsInBlZyRjMzgwIiwicGVnJGMzODEiLCJwZWckYzM4MiIsInBlZyRjMzgzIiwicGVnJGMzODQiLCJwZWckYzM4NSIsInBlZyRjMzg2IiwicGVnJGMzODciLCJwZWckYzM4OCIsInBlZyRjMzg5IiwicGVnJGMzOTAiLCJwZWckYzM5MSIsInBlZyRjMzkyIiwicGVnJGMzOTMiLCJwZWckYzM5NCIsInBlZyRjMzk1IiwicGVnJGMzOTYiLCJwZWckYzM5NyIsInBlZyRjMzk4IiwicGVnJGMzOTkiLCJwZWckYzQwMCIsInBlZyRjNDAxIiwicGVnJGM0MDIiLCJwZWckYzQwMyIsInBlZyRjNDA0IiwicGVnJGM0MDUiLCJwZWckYzQwNiIsInBlZyRjNDA3IiwicGVnJGM0MDgiLCJwZWckYzQwOSIsInBlZyRjNDEwIiwicGVnJGM0MTEiLCJwZWckYzQxMiIsInBlZyRjNDEzIiwicGVnJGM0MTQiLCJwZWckYzQxNSIsInBlZyRjNDE2IiwicGVnJGM0MTciLCJwZWckYzQxOCIsInBlZyRjNDE5IiwicGVnJGM0MjAiLCJwZWckYzQyMSIsInBlZyRjNDIyIiwicGVnJGM0MjMiLCJwZWckYzQyNCIsInBlZyRjNDI1IiwicGVnJGM0MjYiLCJwZWckYzQyNyIsInBlZyRjNDI4IiwicGVnJGM0MjkiLCJwZWckYzQzMCIsInBlZyRjNDMxIiwibWVtcyIsIm1lbWJlcl9zcGVjcyIsInBlZyRjNDMyIiwicGVnJGM0MzMiLCJiYXNlcyIsInBlZyRjNDM0IiwicGVnJGM0MzUiLCJwZWckYzQzNiIsInBlZyRjNDM3IiwicGVnJGM0MzgiLCJwZWckYzQzOSIsInBlZyRjNDQwIiwicGVnJGM0NDEiLCJtZW1iZXJzIiwicGVnJGM0NDIiLCJhY2Nlc3MiLCJwZWckYzQ0MyIsInBlZyRjNDQ0IiwicGVnJGM0NDUiLCJwZWckYzQ0NiIsInBlZyRjNDQ3IiwicGVnJGM0NDgiLCJwZWckYzQ0OSIsInBlZyRjNDUwIiwicGVnJGM0NTEiLCJwZWckYzQ1MiIsInBlZyRjNDUzIiwiZiIsInBlZyRjNDU0IiwicGVnJGM0NTUiLCJwZWckYzQ1NiIsInBlZyRjNDU3IiwicGVnJGM0NTgiLCJwZWckYzQ1OSIsInBlZyRjNDYwIiwicGVnJGM0NjEiLCJwZWckYzQ2MiIsInBlZyRjNDYzIiwicGVnJGM0NjQiLCJwZWckYzQ2NSIsInBlZyRjdXJyUG9zIiwicGVnJHNhdmVkUG9zIiwicGVnJHBvc0RldGFpbHNDYWNoZSIsInBlZyRtYXhGYWlsUG9zIiwicGVnJG1heEZhaWxFeHBlY3RlZCIsInBlZyRzaWxlbnRGYWlscyIsInN0YXJ0UnVsZSIsInBlZyRjb21wdXRlTG9jYXRpb24iLCJ0ZXh0MSIsImlnbm9yZUNhc2UiLCJwZWckY29tcHV0ZVBvc0RldGFpbHMiLCJwb3MiLCJzdGFydFBvcyIsImVuZFBvcyIsInN0YXJ0UG9zRGV0YWlscyIsImVuZFBvc0RldGFpbHMiLCJwZWckZmFpbCIsInBlZyRidWlsZFN0cnVjdHVyZWRFcnJvciIsImxvY2F0aW9uMSIsInMwIiwiczIiLCJzMyIsInM0IiwicGVnJHBhcnNld3MiLCJwZWckcGFyc2VkZWNsX29yX2NvbW1lbnQiLCJzMSIsInBlZyRwYXJzZWNvbW1lbnQiLCJwZWckcGFyc2VkZWNsYXJhdGlvbiIsInM1Iiwic3Vic3RyIiwicGVnJHBhcnNlc3RhdGVtZW50IiwiczciLCJwZWckcGFyc2VpZGVudGlmaWVyIiwicGVnJHBhcnNlV1MiLCJwZWckcGFyc2VleHBfY29uc3QiLCJwZWckcGFyc2VsYWJlbGVkX3N0YXRlbWVudCIsInBlZyRwYXJzZWJsb2NrIiwiczkiLCJzMTEiLCJzMTMiLCJwZWckcGFyc2VleHByZXNzaW9uIiwicGVnJHBhcnNlc2VsZWN0aW9uX3N0YXRlbWVudCIsInM2IiwiczgiLCJzMTAiLCJzMTIiLCJzMTQiLCJzMTUiLCJwZWckcGFyc2VpZGVudGlmaWVyQ2hhciIsInBlZyRwYXJzZWV4cHJlc3Npb25fc3RhdGVtZW50IiwicGVnJHBhcnNlbnVsbF9zdGF0ZW1lbnQiLCJwZWckcGFyc2VkZWNsYXJhdGlvbl9zdGF0ZW1lbnQiLCJwZWckcGFyc2Vmb3JfaW5pdF9zdGF0ZW1lbnQiLCJwZWckcGFyc2VpdGVyYXRpb25fc3RhdGVtZW50IiwicGVnJHBhcnNlanVtcF9zdGF0ZW1lbnQiLCJwZWckcGFyc2VzdGF0ZW1lbnRfdHJhY2tlZCIsInBlZyRwYXJzZWRlY2xfc3BlY2lmaWVycyIsInBlZyRwYXJzZWRlY2xhcmF0b3JfaW5pdCIsInBlZyRwYXJzZWRlY2xhcmF0b3JfbGlzdCIsInBlZyRwYXJzZXNpbXBsZV9kZWNsYXJhdGlvbiIsInBlZyRwYXJzZWNsYXNzX2tleSIsInBlZyRwYXJzZWJhc2Vfc3BlY2lmaWVyIiwicGVnJHBhcnNlYmFzZV9zcGVjaWZpZXJfbGlzdCIsInBlZyRwYXJzZWJhc2VfY2xhdXNlIiwicGVnJHBhcnNlY2xhc3NfaGVhZCIsInBlZyRwYXJzZW1lbWJlcl9zcGVjaWZpY2F0aW9uIiwicGVnJHBhcnNlY2xhc3Nfc3BlY2lmaWVyIiwicGVnJHBhcnNlY2xhc3NfZGVjbGFyYXRpb24iLCJwZWckcGFyc2VmdW5jdGlvbl9kZWZpbml0aW9uIiwicGVnJHBhcnNlZGVjbGFyYXRvciIsInBlZyRwYXJzZWNvbnN0cnVjdG9yX2RlZmluaXRpb24iLCJwZWckcGFyc2Vhcmd1bWVudF9kZWNsYXJhdGlvbl9saXN0IiwicGVnJHBhcnNlbWVtX2luaXRpYWxpemVyIiwicGVnJHBhcnNlY3Rvcl9pbml0aWFsaXplciIsInBlZyRwYXJzZWV4cF9saXN0IiwicGVnJHBhcnNlZGVjbF9zcGVjaWZpZXIiLCJwZWckcGFyc2VzaW1wbGVfdHlwZV9uYW1lIiwicGVnJHBhcnNldHlwZV9zcGVjaWZpZXIiLCJwZWckcGFyc2VzdG9yYWdlX2NsYXNzX3NwZWNpZmllciIsInBlZyRwYXJzZWZ1bmN0aW9uX3NwZWNpZmllciIsInBlZyRwYXJzZXR5cGVfc3BlY2lmaWVycyIsInBlZyRwYXJzZWVudW1lcmF0b3IiLCJwZWckcGFyc2VlbnVtX3NwZWNpZmllciIsInBlZyRwYXJzZV9zaW1wbGVfdHlwZV9uYW1lIiwicGVnJHBhcnNlYnJhY2Vfb3JfZXF1YWxfaW5pdGlhbGl6ZXIiLCJwZWckcGFyc2Vpbml0aWFsaXplciIsInBlZyRwYXJzZWV4cF9hc3NuIiwicGVnJHBhcnNlaW5pdGlhbGl6ZXJfbGlzdCIsInBlZyRwYXJzZV9kZWNsYXJhdG9yIiwicGVnJHBhcnNlYWJzdHJhY3RfZGVjbGFyYXRvciIsInBlZyRwYXJzZV9hYnNfZGVjbGFyYXRvciIsInBlZyRwYXJzZWN2X3F1YWxpZmllciIsInBlZyRwYXJzZWRlY2xhcmF0b3Jfc2ltcGxlIiwicGVnJHBhcnNlZGVjbGFyYXRvcl9wb3N0Zml4ZXMiLCJwZWckcGFyc2VhYnNfZGVjbGFyYXRvcl9zaW1wbGUiLCJwZWckcGFyc2VkZWNsYXJhdG9yX3Bvc3RmaXgiLCJwZWckcGFyc2VuYW1lIiwicGVnJHBhcnNldHlwZV9pZCIsInBlZyRwYXJzZWFyZ3VtZW50X2RlY2xhcmF0aW9uIiwicGVnJHBhcnNlZXhwX3VuYXJ5IiwicGVnJHBhcnNlb3BfY29tcF9hc3NuIiwicGVnJHBhcnNlZXhwX2NvbmQiLCJwZWckcGFyc2VleHBfb3IiLCJwZWckcGFyc2VleHBfYW5kIiwicGVnJHBhcnNlZXhwX29yX2JpdCIsInBlZyRwYXJzZWV4cF94b3JfYml0IiwicGVnJHBhcnNlZXhwX2FuZF9iaXQiLCJwZWckcGFyc2VleHBfZXEiLCJwZWckcGFyc2VleHBfcmVsIiwicGVnJHBhcnNlZXhwX3NoaWZ0IiwicGVnJHBhcnNlb3BfcmVsIiwicGVnJHBhcnNlZXhwX2FkZCIsInBlZyRwYXJzZW9wX3NoaWZ0IiwicGVnJHBhcnNlZXhwX211bHQiLCJwZWckcGFyc2VvcF9hZGQiLCJwZWckcGFyc2VleHBfcG0iLCJwZWckcGFyc2VvcF9tdWx0IiwicGVnJHBhcnNlZXhwX2Nhc3QiLCJwZWckcGFyc2VvcF9wbSIsInBlZyRwYXJzZW9wX3VuYXJ5IiwicGVnJHBhcnNlX25ld19kZWNsYXJhdG9yIiwicGVnJHBhcnNlbmV3X2RlY2xhcmF0b3JfcG9zdGZpeCIsInBlZyRwYXJzZW5ld19kZWNsYXJhdG9yX3Bvc3RmaXhlcyIsInBlZyRwYXJzZW5ld19kZWNsYXJhdG9yIiwicGVnJHBhcnNlbmV3X3R5cGVfaWQiLCJwZWckcGFyc2VuZXdfaW5pdGlhbGl6ZXIiLCJwZWckcGFyc2VleHBfbmV3IiwicGVnJHBhcnNlZXhwX2NvbnN0cnVjdCIsInBlZyRwYXJzZWxpdGVyYWxfZmxvYXQiLCJwZWckcGFyc2VsaXRlcmFsX2ludCIsInBlZyRwYXJzZWVzY2FwZSIsInBlZyRwYXJzZWxpdGVyYWxfY2hhciIsInBlZyRwYXJzZWxpdGVyYWxfc3RyaW5nIiwicGVnJHBhcnNlbGl0ZXJhbF9ib29sZWFuIiwicGVnJHBhcnNlbGl0ZXJhbCIsInBlZyRwYXJzZW5lc3RlZF9uYW1lX3NwZWNpZmllciIsInBlZyRwYXJzZXF1YWxpZmllZF9pZCIsInBlZyRwYXJzZWV4cF9pZCIsInBlZyRwYXJzZWV4cF9wcmltYXJ5IiwicGVnJHBhcnNlb3BfcG9zdGZpeCIsInBlZyRwYXJzZWV4cF9wb3N0Zml4IiwicGVnJHBhcnNlZXhwX2RlbGV0ZSIsInBlZyRwYXJzZXR5cGVfbmFtZV9pZCIsInBlZyRwYXJzZW92ZXJsb2FkYWJsZV9vcCIsInBlZyRwYXJzZW9wZXJhdG9yX2Z1bmN0aW9uX2lkIiwicGVnJHBhcnNlc2ltcGxlX2VzY2FwZSIsInBlZyRwYXJzZW9jdGFsX2VzY2FwZSIsInBlZyRwYXJzZWlkZW50aWZpZXJGaXJzdENoYXIiLCJwZWckcGFyc2VtZW1iZXJfZGVjbGFyYXRpb24iLCJwZWckcGFyc2VhY2Nlc3Nfc3BlY2lmaWVyIiwicGVnJHBhcnNlbWVtYmVyX2RlY2xhcmF0b3IiLCJwZWckcGFyc2VtZW1iZXJfZGVjbGFyYXRvcl9saXN0IiwicGVnJHBhcnNlZGVzdHJ1Y3Rvcl9kZWZpbml0aW9uIiwicGVnJHBhcnNlcXVhbGlmaWVkX2NsYXNzX25hbWUiLCJhc3NvYyIsImV4cHJUeXBlIiwiYXNzb2NpYXRpdml0eSIsInNoaWZ0IiwiZWF0ZXIiLCJlYXRlbiIsImF0dHIiLCJfdXNlclR5cGVOYW1lcyIsImNwcF9wYXJzZXJfMSIsIk5vdGVSZWNvcmRlciIsIl9hbGxOb3RlcyIsImFsbE5vdGVzIiwiaGFzU3ludGF4RXJyb3JzIiwiaGFzV2FybmluZ3MiLCJhZGROb3RlcyIsIl90aGlzXzEiLCJjbGVhck5vdGVzIiwiUHJvZ3JhbSIsInNvdXJjZUZpbGVzIiwiaXNDb21waWxhdGlvblVwVG9EYXRlIiwiZnVuY3Rpb25DYWxscyIsImRlZmluaXRpb25zIiwibGlua2VkRW50aXRpZXMiLCJmaWxlIiwiVHJhbnNsYXRpb25Vbml0IiwiUHJlcHJvY2Vzc2VkU291cmNlIiwidHUiLCJkZWZpbmVJbnRyaW5zaWNzIiwibGUiLCJwcmV2RGVmIiwiU291cmNlRmlsZSIsIlNvdXJjZVJlZmVyZW5jZSIsInNvdXJjZUZpbGUiLCJfaW5jbHVkZXMiLCJjcmVhdGVJbmNsdWRlZCIsImxpbmVJbmNsdWRlZCIsIm9yaWdpbmFsUmVmZXJlbmNlIiwiaW5jIiwiYXZhaWxhYmxlVG9JbmNsdWRlIiwiYWxyZWFkeUluY2x1ZGVkIiwiaW5jbHVkZWRTb3VyY2VGaWxlcyIsInByaW1hcnlTb3VyY2VGaWxlIiwiY29kZVN0ciIsImZpbHRlclNvdXJjZUNvZGUiLCJjdXJyZW50SW5jbHVkZU9mZnNldCIsImN1cnJlbnRJbmNsdWRlTGluZU51bWJlciIsIm9yaWdpbmFsSW5jbHVkZUxpbmVOdW1iZXIiLCJwcmVwcm9jZXNzZWRUZXh0IiwiaW5jbHVkZUxpbmUiLCJmaWxlbmFtZSIsIm9yaWdpbmFsIiwibWFwcGluZyIsImlfMSIsInN0YXJ0TGluZSIsInN0YXJ0T2Zmc2V0IiwiaW5jbHVkZWQiLCJudW1MaW5lcyIsImVuZExpbmUiLCJsaW5lRGVsdGEiLCJsZW5ndGhEZWx0YSIsImxpbmVPZmZzZXQiLCJwcmVwcm9jZXNzZWRTb3VyY2UiLCJ0b3BMZXZlbERlY2xhcmF0aW9ucyIsInN0YXRpY0VudGl0aWVzIiwiZ2xvYmFsU2NvcGUiLCJwYXJzZWRBU1QiLCJjcmVhdGVCdWlsdEluR2xvYmFscyIsImNvbXBpbGVUb3BMZXZlbERlY2xhcmF0aW9ucyIsImVyciIsImRlY2xzT3JGdW5jRGVmIiwiYWRkU3RyaW5nTGl0ZXJhbCIsImxpdGVyYWwiLCJnZXROZWFyZXN0U291cmNlUmVmZXJlbmNlRm9yQ29uc3Ry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QSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLEtBQUFDLElBQUEsS0FDQUMsSUFBQSxLQUFBQyxJQUFBLEtBQ0FDLElBQUEsS0FFQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FD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QUFBLElBRUFxNkUsUUFBUUMsSUFBSSxTQUlaLElBQUltdkIsRUFBUSxJQUFJRCxFQUFBM0MsV0FBVyxXQUFZLDJCQUNuQ3p4RSxFQUFVLElBQUlvMEUsRUFBQXhELFNBQVN5RCxJQUFTLGFBQ3BDcHZCLFFBQVFDLElBQUlsbEQiLCJmaWxlIjoibWFpbi5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNTcpO1xuIiwiaW1wb3J0IGFzc2lnbiBmcm9tIFwibG9kYXNoL2Fzc2lnblwiO1xyXG5cclxuZXhwb3J0IHR5cGUgTXV0YWJsZTxUPiA9IHsgLXJlYWRvbmx5IFtQIGluIGtleW9mIFRdOiBUW1BdIH07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYXNNdXRhYmxlPFQ+KG9iajogVCkgOiBNdXRhYmxlPFQ+IHtcclxuICAgIHJldHVybiA8TXV0YWJsZTxUPj5vYmo7XHJcbn1cclxuXHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydChjb25kaXRpb246IGJvb2xlYW4sIG1lc3NhZ2U6IHN0cmluZyA9IFwiXCIpIHtcclxuICAgIGlmICghY29uZGl0aW9uKVxyXG4gICAgICAgIHRocm93IEVycm9yKFwiQXNzZXJ0IGZhaWxlZDogXCIgKyBtZXNzYWdlKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRGYWxzZShtZXNzYWdlOiBzdHJpbmcgPSBcIlwiKSA6IG5ldmVyIHtcclxuICAgIHRocm93IEVycm9yKFwiQXNzZXJ0IGZhaWxlZDogXCIgKyBtZXNzYWdlKTtcclxufTtcclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTWV0aG9kTWl4aW48VGFyZ2V0VHlwZSwgTWV0aG9kTmFtZSBleHRlbmRzIGtleW9mIFRhcmdldFR5cGU+KG1peDogVGFyZ2V0VHlwZVtNZXRob2ROYW1lXSkge1xyXG4gICAgcmV0dXJuICh0YXJnZXRQcm90bzogVGFyZ2V0VHlwZSwgbmFtZTogTWV0aG9kTmFtZSkgPT4ge1xyXG4gICAgICAgIHRhcmdldFByb3RvW25hbWVdID0gbWl4O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBDb25zdHJ1Y3RvcjxUPiA9IG5ldyAoLi4uYXJnczogYW55W10pID0+IFQ7XHJcblxyXG5leHBvcnQgdHlwZSBPdmVyd3JpdGU8VDEsIFQyPiA9IFBpY2s8VDEsIEV4Y2x1ZGU8a2V5b2YgVDEsIGtleW9mIFQyPj4gJiBUMjtcclxuXHJcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzUwMTI1ODkzL3R5cGVzY3JpcHQtZGVyaXZlLW1hcC1mcm9tLWRpc2NyaW1pbmF0ZWQtdW5pb25cclxuZXhwb3J0IHR5cGUgRGlzY3JpbWluYXRlVW5pb248VCwgSyBleHRlbmRzIGtleW9mIFQsIFYgZXh0ZW5kcyBUW0tdPiA9IFxyXG4gICAgVCBleHRlbmRzIFJlY29yZDxLLCBWPiA/IFQgOiBuZXZlcjtcclxuZXhwb3J0IHR5cGUgTWFwRGlzY3JpbWluYXRlZFVuaW9uPFQgZXh0ZW5kcyBSZWNvcmQ8Sywgc3RyaW5nPiwgSyBleHRlbmRzIGtleW9mIFQ+ID1cclxuICB7IFtWIGluIFRbS11dOiBEaXNjcmltaW5hdGVVbmlvbjxULCBLLCBWPiB9O1xyXG5cclxuLy8gZXhwb3J0IGZ1bmN0aW9uIGh0bWxEZWNvcmF0ZWRPcGVyYXRvcihvcGVyYXRvciwgY3NzQ2xhc3Mpe1xyXG4vLyAgICAgcmV0dXJuIFwiPHNwYW4gY2xhc3M9J2NvZGVJbnN0YW5jZSBcIiArIChjc3NDbGFzcyB8fCBcIlwiKSArIFwiJz5cIiArIG9wZXJhdG9yICsgXCI8c3BhbiBjbGFzcz0naGlnaGxpZ2h0Jz48L3NwYW4+PC9zcGFuPlwiO1xyXG4vLyB9O1xyXG5cclxuLy8gZXhwb3J0IGZ1bmN0aW9uIGh0bWxEZWNvcmF0ZWRLZXl3b3JkKGtleXdvcmQpe1xyXG4vLyAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cImNvZGUta2V5d29yZFwiPicgKyBrZXl3b3JkICsgJzwvc3Bhbj4nO1xyXG4vLyB9O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGh0bWxEZWNvcmF0ZWRUeXBlKHR5cGVTdHJpbmc6IHN0cmluZykge1xyXG4gICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cImNvZGUtdHlwZVwiPicgKyB0eXBlU3RyaW5nICsgJzwvc3Bhbj4nO1xyXG59O1xyXG5cclxuLy8gZXhwb3J0IGZ1bmN0aW9uIGh0bWxEZWNvcmF0ZWROYW1lKG5hbWUsIHR5cGUpe1xyXG4vLyAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cImNvZGUtbmFtZVwiPjxzcGFuIGNsYXNzID0gXCJoaWdobGlnaHRcIj48L3NwYW4+PHNwYW4gY2xhc3M9XCJ0eXBlXCI+JyArIHR5cGUuZW5nbGlzaFN0cmluZygpICsgJzwvc3Bhbj4nICsgbmFtZSArICc8L3NwYW4+JztcclxuLy8gfTtcclxuXHJcbi8vIGV4cG9ydCBmdW5jdGlvbiBodG1sRGVjb3JhdGVkVmFsdWUodmFsdWUpe1xyXG4vLyAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cImNvZGUtbGl0ZXJhbFwiPicgKyB2YWx1ZSArICc8L3NwYW4+JztcclxuLy8gfTtcclxuXHJcblxyXG52YXIgZXNjYXBlcyA9IFtcIlxcXFxcXFwiXCIsIFwiXFxcXCdcIiwgXCJcXFxcP1wiLCBcIlxcXFxcXFxcXCIsIFwiXFxcXGFcIiwgXCJcXFxcYlwiLCBcIlxcXFxmXCIsIFwiXFxcXG5cIiwgXCJcXFxcclwiLCBcIlxcXFx0XCIsIFwiXFxcXHZcIiwgXCJcXFxcMFwiXTtcclxudmFyIGVzY2FwZWQgPSBbXCJcXFwiXCIsIFwiXFwnXCIsIFwiXCIsIFwiXFxcXFwiLCBcIlwiLCBcIlxcYlwiLCBcIlxcZlwiLCBcIlxcblwiLCBcIlxcclwiLCBcIlxcdFwiLCBcIlxcdlwiLCBcIlxcMFwiXTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVTdHJpbmcodGV4dDogc3RyaW5nKSB7XHJcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgZXNjYXBlcy5sZW5ndGg7ICsraSl7XHJcbiAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZShlc2NhcGVzW2ldLCBlc2NhcGVkW2ldKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0ZXh0O1xyXG59O1xyXG5leHBvcnQgZnVuY3Rpb24gdW5lc2NhcGVTdHJpbmcodGV4dDogc3RyaW5nKXtcclxuICAgIHZhciBuZXdTdHIgPSBcIlwiO1xyXG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHRleHQubGVuZ3RoOyArK2kpe1xyXG4gICAgICAgIHZhciBjID0gdGV4dFtpXTtcclxuICAgICAgICBmb3IodmFyIGogPSAwOyBqIDwgZXNjYXBlZC5sZW5ndGg7ICsrail7XHJcbiAgICAgICAgICAgIGlmIChjID09PSBlc2NhcGVkW2pdKXtcclxuICAgICAgICAgICAgICAgIGMgPSBlc2NhcGVzW2pdO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbmV3U3RyICs9IGM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3U3RyO1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIENQUFJhbmRvbSB7XHJcblxyXG4gICAgcHJpdmF0ZSBzZWVkID0gMDtcclxuXHJcbiAgICBwdWJsaWMgc2V0UmFuZG9tU2VlZChuZXdTZWVkOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnNlZWQgPSBuZXdTZWVkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByYW5kb20obWluOiBudW1iZXIgPSAwLCBtYXg6IG51bWJlciA9IDEpIHtcclxuICAgICAgICB0aGlzLnNlZWQgPSAodGhpcy5zZWVkICogOTMwMSArIDQ5Mjk3KSAlIDIzMzI4MDtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZWVkZWRSYW5kb20odGhpcy5zZWVkLCBtaW4sIG1heCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNlZWRlZFJhbmRvbShzZWVkOiBudW1iZXIsIG1pbjogbnVtYmVyID0gMCwgbWF4OiBudW1iZXIgPSAxKSB7XHJcbiAgICAgICAgdmFyIHJuZCA9IHNlZWQgJSAyMzMyODAgLyAyMzMyODA7XHJcbiAgICBcclxuICAgICAgICBybmQgPSBtaW4gKyBybmQgKiAobWF4IC0gbWluKTtcclxuICAgICAgICBybmQgPSBNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgcm5kKSk7XHJcbiAgICAgICAgcmV0dXJuIHJuZDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbnN0cnVjdG9yLCBodG1sRGVjb3JhdGVkVHlwZSwgdW5lc2NhcGVTdHJpbmcgfSBmcm9tIFwiLi4vdXRpbC91dGlsXCI7XHJcbmltcG9ydCB7IGJ5dGUsIFJhd1ZhbHVlVHlwZSB9IGZyb20gXCIuL3J1bnRpbWVFbnZpcm9ubWVudFwiO1xyXG5pbXBvcnQgeyBDUFBPYmplY3QgfSBmcm9tIFwiLi9vYmplY3RzXCI7XHJcbmltcG9ydCB7IEV4cHJlc3Npb25BU1ROb2RlIH0gZnJvbSBcIi4vZXhwcmVzc2lvbnNcIjtcclxuaW1wb3J0IHsgRGVzY3JpcHRpb24gfSBmcm9tIFwiLi9jb25zdHJ1Y3RzXCI7XHJcblxyXG5cclxudmFyIHZvd2VscyA9IFtcImFcIiwgXCJlXCIsIFwiaVwiLCBcIm9cIiwgXCJ1XCJdO1xyXG5mdW5jdGlvbiBpc1Zvd2VsKGM6IHN0cmluZykge1xyXG4gICAgcmV0dXJuIHZvd2Vscy5pbmRleE9mKGMpICE9IC0xO1xyXG59O1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyBsZXQgVVNFUl9UWVBFX05BTUVTID0ge307XHJcbi8vIGV4cG9ydCBmdW5jdGlvbiByZXNldFVzZXJUeXBlTmFtZXMoKSB7XHJcbi8vICAgICBVU0VSX1RZUEVfTkFNRVMgPSB7fTtcclxuLy8gfVxyXG5cclxuLy8gZXhwb3J0IGxldCBkZWZhdWx0VXNlclR5cGVOYW1lcyA9IHtcclxuLy8gICAgIG9zdHJlYW0gOiB0cnVlLFxyXG4vLyAgICAgaXN0cmVhbSA6IHRydWUsXHJcbi8vICAgICBzaXplX3QgOiB0cnVlXHJcbi8vIH07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNUeXBlPFQgZXh0ZW5kcyBUeXBlPih0eXBlOiBUeXBlLCBjdG9yOiBDb25zdHJ1Y3RvcjxUPikgOiB0eXBlIGlzIEluc3RhbmNlVHlwZTx0eXBlb2YgY3Rvcj4ge1xyXG4gICAgcmV0dXJuIHR5cGUuaXNUeXBlKGN0b3IpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNhbWVUeXBlKHR5cGUxOiBUeXBlLCB0eXBlMjogVHlwZSkge1xyXG4gICAgcmV0dXJuIHR5cGUxLnNhbWVUeXBlKHR5cGUyKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzaW1pbGFyVHlwZSh0eXBlMTogVHlwZSwgdHlwZTI6IFR5cGUpIHtcclxuICAgIHJldHVybiB0eXBlMS5zaW1pbGFyVHlwZSh0eXBlMik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3ViVHlwZSh0eXBlMTogVHlwZSwgdHlwZTI6IFR5cGUpIHtcclxuICAgIHJldHVybiB0eXBlMSBpbnN0YW5jZW9mIENsYXNzVHlwZSAmJiB0eXBlMiBpbnN0YW5jZW9mIENsYXNzVHlwZSAmJiB0eXBlMS5pc0Rlcml2ZWRGcm9tKHR5cGUyKTtcclxufTtcclxuXHJcbmV4cG9ydCB2YXIgY292YXJpYW50VHlwZSA9IGZ1bmN0aW9uKGRlcml2ZWQ6IFR5cGUsIGJhc2U6IFR5cGUpe1xyXG4gICAgaWYgKHNhbWVUeXBlKGRlcml2ZWQsIGJhc2UpKXtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZGM7XHJcbiAgICB2YXIgYmM7XHJcbiAgICBpZiAoZGVyaXZlZCBpbnN0YW5jZW9mIFBvaW50ZXJUeXBlICYmIGJhc2UgaW5zdGFuY2VvZiBQb2ludGVyVHlwZSl7XHJcbiAgICAgICAgZGMgPSBkZXJpdmVkLnB0clRvO1xyXG4gICAgICAgIGJjID0gYmFzZS5wdHJUbztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGRlcml2ZWQgaW5zdGFuY2VvZiBSZWZlcmVuY2VUeXBlICYmIGJhc2UgaW5zdGFuY2VvZiBSZWZlcmVuY2VUeXBlKXtcclxuICAgICAgICBkYyA9IGRlcml2ZWQucmVmVG87XHJcbiAgICAgICAgYmMgPSBiYXNlLnJlZlRvO1xyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIG5vdCBib3RoIHBvaW50ZXJzIG9yIGJvdGggcmVmZXJlbmNlc1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE11c3QgYmUgcG9pbnRlcnMgb3IgcmVmZXJlbmNlcyB0byBjbGFzcyB0eXBlXHJcbiAgICBpZiAoIShkYyBpbnN0YW5jZW9mIENsYXNzVHlwZSkgfHwgIShiYyBpbnN0YW5jZW9mIENsYXNzVHlwZSkpe1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBkYyBtdXN0IGJlIGRlcml2ZWQgZnJvbSBiY1xyXG4gICAgaWYgKCFkYy5pc0Rlcml2ZWRGcm9tKGJjKSl7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFBvaW50ZXJzL1JlZmVyZW5jZXMgbXVzdCBoYXZlIHRoZSBzYW1lIGN2LXF1YWxpZmljYXRpb25cclxuICAgIGlmIChkZXJpdmVkLmlzQ29uc3QgIT0gYmFzZS5pc0NvbnN0IHx8IGRlcml2ZWQuaXNWb2xhdGlsZSAhPSBiYXNlLmlzVm9sYXRpbGUpe1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBkYyBtdXN0IGhhdmUgc2FtZSBvciBsZXNzIGN2LXF1YWxpZmljYXRpb24gYXMgYmNcclxuICAgIGlmIChkYy5pc0NvbnN0ICYmICFiYy5pc0NvbnN0IHx8IGRjLmlzVm9sYXRpbGUgJiYgIWJjLmlzVm9sYXRpbGUpe1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBZYXkgd2UgbWFkZSBpdCFcclxuICAgIHJldHVybiB0cnVlO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZmVyZW5jZUNvbXBhdGlibGUoZnJvbTogVHlwZSwgdG86IFR5cGUpe1xyXG4gICAgcmV0dXJuIGZyb20gJiYgdG8gJiYgZnJvbS5pc1JlZmVyZW5jZUNvbXBhdGlibGUodG8pO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzQ3ZDb252ZXJ0aWJsZShmcm9tVHlwZTogVHlwZSB8IG51bGwsIHRvVHlwZTogVHlwZSB8IG51bGwpIHtcclxuXHJcbiAgICBpZiAoZnJvbVR5cGUgPT09IG51bGwgfHwgdG9UeXBlID09PSBudWxsKSB7IHJldHVybiBmYWxzZTsgfVxyXG5cclxuICAgIC8vIHQxIGFuZCB0MiBtdXN0IGJlIHNpbWlsYXJcclxuICAgIGlmICghc2ltaWxhclR5cGUoZnJvbVR5cGUsdG9UeXBlKSkgeyByZXR1cm4gZmFsc2U7IH1cclxuXHJcbiAgICAvLyBEaXNjYXJkIDB0aCBsZXZlbCBvZiBjdi1xdWFsaWZpY2F0aW9uIHNpZ25hdHVyZXMsIHdlIGRvbid0IGNhcmUgYWJvdXQgdGhlbS5cclxuICAgIC8vIChJdCdzIGVzc2VudGlhbGx5IGEgdmFsdWUgc2VtYW50aWNzIHRoaW5nLCB3ZSdyZSBtYWtpbmcgYSBjb3B5IHNvIHRvcCBsZXZlbCBjb25zdCBkb2Vzbid0IG1hdHRlci4pXHJcbiAgICBmcm9tVHlwZSA9IGZyb21UeXBlLmdldENvbXBvdW5kTmV4dCgpO1xyXG4gICAgdG9UeXBlID0gdG9UeXBlLmdldENvbXBvdW5kTmV4dCgpO1xyXG5cclxuICAgIC8vIGNoZWNrIHRoYXQgdDIgaGFzIGNvbnN0IGV2ZXJ5d2hlcmUgdGhhdCB0MSBkb2VzXHJcbiAgICAvLyBhbHNvIGlmIHdlIGV2ZXIgZmluZCBhIGRpZmZlcmVuY2UsIHQyIG5lZWRzIGNvbnN0IGV2ZXJ5d2hlcmUgbGVhZGluZ1xyXG4gICAgLy8gdXAgdG8gaXQgKGJ1dCBub3QgaW5jbHVkaW5nKSAoYW5kIG5vdCBpbmNsdWRpbmcgZGlzY2FyZGVkIDB0aCBsZXZlbCkuXHJcbiAgICBsZXQgdDJBbGxDb25zdCA9IHRydWU7XHJcbiAgICB3aGlsZShmcm9tVHlwZSAmJiB0b1R5cGUpeyAvL3NpbWlsYXIgc28gdGhleSBzaG91bGQgcnVuIG91dCBhdCBzYW1lIHRpbWVcclxuICAgICAgICBpZiAoZnJvbVR5cGUuaXNDb25zdCAmJiAhdG9UeXBlLmlzQ29uc3Qpe1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCFmcm9tVHlwZS5pc0NvbnN0ICYmIHRvVHlwZS5pc0NvbnN0ICYmICF0MkFsbENvbnN0KXtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIGFsbENvbnN0XHJcbiAgICAgICAgdDJBbGxDb25zdCA9IHQyQWxsQ29uc3QgJiYgdG9UeXBlLmlzQ29uc3Q7XHJcbiAgICAgICAgZnJvbVR5cGUgPSBmcm9tVHlwZS5nZXRDb21wb3VuZE5leHQoKTtcclxuICAgICAgICB0b1R5cGUgPSB0b1R5cGUuZ2V0Q29tcG91bmROZXh0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgbm8gdmlvbGF0aW9ucywgdDEgaXMgY29udmVydGFibGUgdG8gdDJcclxuICAgIHJldHVybiB0cnVlO1xyXG59O1xyXG5cclxuYWJzdHJhY3QgY2xhc3MgVHlwZUJhc2Uge1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBfbmFtZSA9IFwiVHlwZVwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXNlZCBpbiBwYXJlbnRoZXNpemF0aW9uIG9mIHN0cmluZyByZXByZXNlbnRhdGlvbnMgb2YgdHlwZXMuXHJcbiAgICAgKiBlLmcuIEFycmF5IHR5cGVzIGhhdmUgcHJlY2VkZW5jZSAyLCB3aGVyZWFzIFBvaW50ZXIgdHlwZXMgaGF2ZSBwcmVjZWRlbmNlIDEuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhYnN0cmFjdCByZWFkb25seSBwcmVjZWRlbmNlOiBudW1iZXI7XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IHJlYWRvbmx5IGlzQ29tcGxldGU6IGJvb2xlYW47XHJcblxyXG4gICAgLy8gcmVndWxhciBtZW1iZXIgcHJvcGVydGllc1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGlzQ29uc3Q6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNWb2xhdGlsZTogYm9vbGVhbjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoaXNDb25zdDogYm9vbGVhbiA9IGZhbHNlLCBpc1ZvbGF0aWxlOiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgICAgICB0aGlzLmlzQ29uc3QgPSBpc0NvbnN0O1xyXG4gICAgICAgIC8vIFRPRE8gaWdub3JlIHZvbGF0aWxlIGNvbXBsZXRlbHk/IGZvciBub3cgKGFuZCBwZXJoYXBzIGZvcmV2ZXIgbG9sKVxyXG4gICAgICAgIHRoaXMuaXNWb2xhdGlsZSA9IGlzVm9sYXRpbGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldENWU3RyaW5nKCkge1xyXG4gICAgICAgIHJldHVybiAodGhpcy5pc0NvbnN0ID8gXCJjb25zdCBcIiA6IFwiXCIpICsgKHRoaXMuaXNWb2xhdGlsZSA/IFwidm9sYXRpbGUgXCIgOiBcIlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZVN0cmluZyhmYWxzZSwgXCJcIik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB0eXBlIG9iamVjdCBpcyBhbiBpbnN0YW5jZSBvZiB0aGUgZ2l2ZW4gVHlwZSBjbGFzc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaXNUeXBlPFQgZXh0ZW5kcyBUeXBlPihjdG9yOiBDb25zdHJ1Y3RvcjxUPikgOiB0aGlzIGlzIEluc3RhbmNlVHlwZTx0eXBlb2YgY3Rvcj4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgY3RvcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNPYmplY3RUeXBlKCkgOiB0aGlzIGlzIE9iamVjdFR5cGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgT2JqZWN0VHlwZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIGlzQXRvbWljVHlwZSgpIDogdGhpcyBpcyBBdG9taWNUeXBlIHtcclxuICAgICAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIEF0b21pY1R5cGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzQXJpdGhtZXRpY1R5cGUoKSA6IHRoaXMgaXMgQXJpdGhtZXRpY1R5cGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgQXJpdGhtZXRpY1R5cGU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBpc0ludGVncmFsVHlwZSgpIDogdGhpcyBpcyBJbnRlZ3JhbFR5cGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgSW50ZWdyYWxUeXBlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgaXNGbG9hdGluZ1BvaW50VHlwZSgpIDogdGhpcyBpcyBGbG9hdGluZ1BvaW50VHlwZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBGbG9hdGluZ1BvaW50VHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNQb2ludGVyVHlwZSgpIDogdGhpcyBpcyBQb2ludGVyVHlwZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBQb2ludGVyVHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNSZWZlcmVuY2VUeXBlKCkgOiB0aGlzIGlzIFJlZmVyZW5jZVR5cGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgUmVmZXJlbmNlVHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNDbGFzc1R5cGUoKSA6IHRoaXMgaXMgQ2xhc3NUeXBlIHtcclxuICAgICAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIENsYXNzVHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNCb3VuZGVkQXJyYXlUeXBlKCkgOiB0aGlzIGlzIEJvdW5kZWRBcnJheVR5cGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgQm91bmRlZEFycmF5VHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNBcnJheU9mVW5rbm93bkJvdW5kVHlwZSgpIDogdGhpcyBpcyBBcnJheU9mVW5rbm93bkJvdW5kVHlwZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBBcnJheU9mVW5rbm93bkJvdW5kVHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNHZW5lcmljQXJyYXlUeXBlKCkgOiB0aGlzIGlzIEJvdW5kZWRBcnJheVR5cGUgfCBBcnJheU9mVW5rbm93bkJvdW5kVHlwZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBCb3VuZGVkQXJyYXlUeXBlIHx8IHRoaXMgaW5zdGFuY2VvZiBBcnJheU9mVW5rbm93bkJvdW5kVHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNGdW5jdGlvblR5cGUoKSA6IHRoaXMgaXMgRnVuY3Rpb25UeXBlIHtcclxuICAgICAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIEZ1bmN0aW9uVHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNBcnJheUVsZW1UeXBlKCkgOiB0aGlzIGlzIEFycmF5RWxlbVR5cGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgQXRvbWljVHlwZSB8fCB0aGlzIGluc3RhbmNlb2YgQ2xhc3NUeXBlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc1ZvaWRUeXBlKCkgOiB0aGlzIGlzIFZvaWRUeXBlIHtcclxuICAgICAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIFZvaWRUeXBlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgaXNQb3RlbnRpYWxSZXR1cm5UeXBlKCkgOiB0aGlzIGlzIFBvdGVudGlhbFJldHVyblR5cGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgT2JqZWN0VHlwZSB8fCB0aGlzIGluc3RhbmNlb2YgUmVmZXJlbmNlVHlwZSB8fCB0aGlzIGluc3RhbmNlb2YgVm9pZFR5cGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzUG90ZW50aWFsUGFyYW1ldGVyVHlwZSgpIDogdGhpcyBpcyBQb3RlbnRpYWxQYXJhbWV0ZXJUeXBlIHtcclxuICAgICAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIE9iamVjdFR5cGUgfHwgdGhpcyBpbnN0YW5jZW9mIFJlZmVyZW5jZVR5cGU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgb3RoZXIgcmVwcmVzZW50cyBleGFjdGx5IHRoZSBzYW1lIHR5cGUgYXMgdGhpcywgaW5jbHVkaW5nIGN2LXF1YWxpZmljYXRpb25zLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWJzdHJhY3Qgc2FtZVR5cGU8VCBleHRlbmRzIFR5cGU+KG90aGVyOiBUKSA6IHRoaXMgaXMgVDtcclxuICAgIHB1YmxpYyBhYnN0cmFjdCBzYW1lVHlwZShvdGhlcjogVHlwZSkgOiBib29sZWFuO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0cnVlIGlmIG90aGVyIHJlcHJlc2VudHMgdGhlIHNhbWUgdHlwZSBhcyB0aGlzLCBpZ25vcmluZyBjdi1xdWFsaWZpY2F0aW9ucy5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGFic3RyYWN0IHNpbWlsYXJUeXBlPFQgZXh0ZW5kcyBUeXBlPihvdGhlcjogVCkgOiB0aGlzIGlzIFQ7XHJcbiAgICBwdWJsaWMgYWJzdHJhY3Qgc2ltaWxhclR5cGUob3RoZXI6IFR5cGUpIDogYm9vbGVhbjtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB0eXBlIGlzIHJlZmVyZW5jZS1yZWxhdGVkIChzZWUgQysrIHN0YW5kYXJkKSB0byB0aGUgdHlwZSBvdGhlci5cclxuICAgICAqIEBwYXJhbSBvdGhlclxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaXNSZWZlcmVuY2VSZWxhdGVkKHRoaXM6IFR5cGUsIG90aGVyOiBUeXBlKSA6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBzYW1lVHlwZSh0aGlzLmN2VW5xdWFsaWZpZWQoKSwgb3RoZXIuY3ZVbnF1YWxpZmllZCgpKSB8fFxyXG4gICAgICAgICAgICBzdWJUeXBlKHRoaXMuY3ZVbnF1YWxpZmllZCgpLCBvdGhlci5jdlVucXVhbGlmaWVkKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgdHlwZSBpcyByZWZlcmVuY2UtY29tcGF0aWJsZSAoc2VlIEMrKyBzdGFuZGFyZCkgdG8gdGhlIHR5cGUgb3RoZXIuXHJcbiAgICAgKiBAcGFyYW0ge1R5cGV9IG90aGVyXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgcHVibGljIGlzUmVmZXJlbmNlQ29tcGF0aWJsZSh0aGlzOiBUeXBlLCBvdGhlcjogVHlwZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzUmVmZXJlbmNlUmVsYXRlZChvdGhlcikgJiYgKG90aGVyLmlzQ29uc3QgfHwgIXRoaXMuaXNDb25zdCkgJiYgKG90aGVyLmlzVm9sYXRpbGUgfHwgIXRoaXMuaXNWb2xhdGlsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgQysrIHN0eWxlZCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyB0eXBlLlxyXG4gICAgICogQHBhcmFtIGV4Y2x1ZGVCYXNlIElmIHRydWUsIGV4Y2x1ZGUgdGhlIGJhc2UgdHlwZS5cclxuICAgICAqIEBwYXJhbSB2YXJuYW1lIFRoZSBuYW1lIG9mIHRoZSB2YXJpYWJsZS4gTWF5IGJlIHRoZSBlbXB0eSBzdHJpbmcuXHJcbiAgICAgKiBAcGFyYW0gZGVjb3JhdGVkIElmIHRydWUsIGh0bWwgdGFncyB3aWxsIGJlIGFkZGVkLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgdHlwZVN0cmluZyhleGNsdWRlQmFzZTogYm9vbGVhbiwgdmFybmFtZTogc3RyaW5nLCBkZWNvcmF0ZWQ/OiBib29sZWFuKSA6IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSBDKysgc3R5bGVkIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHR5cGUsIHdpdGggdGhlIGJhc2UgdHlwZSBleGNsdWRlZCBhc1xyXG4gICAgICogd291bGQgYmUgc3VpdGFibGUgZm9yIG9ubHkgcHJpbnRpbmcgdGhlIGRlY2xhcmF0b3IgcGFydCBvZiBhIGRlY2xhcmF0aW9uLlxyXG4gICAgICogQHBhcmFtIHZhcm5hbWUgVGhlIG5hbWUgb2YgdGhlIHZhcmlhYmxlLiBNYXkgYmUgdGhlIGVtcHR5IHN0cmluZy5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGRlY2xhcmF0b3JTdHJpbmcodmFybmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZVN0cmluZyh0cnVlLCB2YXJuYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgdHlwZSBhcyBpdCBtaWdodCBiZSByZWFkIHZlcmJhbGx5IGluIGVuZ2xpc2guXHJcbiAgICAgKiBlLmcuIGludCBjb25zdCAqIHZhcls1XSAtLT4gXCJhbiBhcnJheSBvZiA1IHBvaW50ZXJzIHRvIGNvbnN0IGludFwiXHJcbiAgICAgKiBAcGFyYW0gcGx1cmFsIFdoZXRoZXIgdGhlIHJldHVybmVkIHN0cmluZyBzaG91bGQgYmUgcGx1cmFsLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZW5nbGlzaFN0cmluZyhwbHVyYWw6IGJvb2xlYW4pIDogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIGZvciBmdW5jdGlvbnMgdGhhdCBjcmVhdGUgc3RyaW5nIHJlcHJlc2VudGF0aW9ucyBvZiB0eXBlcy5cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIHBhcmVudGhlc2l6ZShvdXRzaWRlOiBUeXBlLCBzdHI6IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnByZWNlZGVuY2UgPCBvdXRzaWRlLnByZWNlZGVuY2UgPyBcIihcIiArIHN0ciArIFwiKVwiIDogc3RyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQm90aCB0aGUgbmFtZSBhbmQgbWVzc2FnZSBhcmUganVzdCBhIEMrKyBzdHlsZWQgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB0eXBlLlxyXG4gICAgICogQHJldHVybnMge3tuYW1lOiB7U3RyaW5nfSwgbWVzc2FnZToge1N0cmluZ319fVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZGVzY3JpYmUoKSA6IERlc2NyaXB0aW9uIHtcclxuICAgICAgICB2YXIgc3RyID0gdGhpcy50eXBlU3RyaW5nKGZhbHNlLCBcIlwiKTtcclxuICAgICAgICByZXR1cm4ge25hbWU6IHN0ciwgbWVzc2FnZTogc3RyfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIElmIHRoaXMgaXMgYSBjb21wb3VuZCB0eXBlLCByZXR1cm5zIHRoZSBcIm5leHRcIiB0eXBlLlxyXG4gICAgICogZS5nLiBpZiB0aGlzIGlzIGEgcG9pbnRlci10by1pbnQsIHJldHVybnMgaW50XHJcbiAgICAgKiBlLmcuIGlmIHRoaXMgaWEgYSByZWZlcmVuY2UgdG8gcG9pbnRlci10by1pbnQsIHJldHVybnMgaW50XHJcbiAgICAgKiBlLmcuIGlmIHRoaXMgaXMgYW4gYXJyYXkgb2YgYm9vbCwgcmV0dXJucyBib29sXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRDb21wb3VuZE5leHQoKSA6IFR5cGUgfCBudWxsIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHR5cGUgaXMgZWl0aGVyIGNvbnN0IG9yIHZvbGF0aWxlIChvciBib3RoKVxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc0NWUXVhbGlmaWVkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzQ29uc3QgfHwgdGhpcy5pc1ZvbGF0aWxlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRPRE86IHBlcmhhcHMgbWFrZSBhIHdheSB0byBjbG9uZSBhIHR5cGUgd2l0aCBhIHBhcnRpY3VsYXIgY3YgcXVhbGlmaWNhdGlvbiByYXRoZXIgdGhhbiB0aGUgcHJveHkgYXBwcm9hY2gsIHdoaWNoIHNlZW1zIG1vcmUgZnJhZ2lsZVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIGN2LXVucXVhbGlmaWVkIGNvcHkgb2YgdGhpcyB0eXBlLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY3ZVbnF1YWxpZmllZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jdlF1YWxpZmllZChmYWxzZSwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIGNvcHkgb2YgdGhpcyB0eXBlIHdpdGggdGhlIHNwZWNpZmllZCBjdi1xdWFsaWZpY2F0aW9ucy5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGN2UXVhbGlmaWVkKGlzQ29uc3Q6IGJvb2xlYW4sIGlzVm9sYXRpbGU6IGJvb2xlYW4gPSBmYWxzZSk6IHRoaXMge1xyXG4gICAgICAgIHJldHVybiA8dGhpcz50aGlzLmN2UXVhbGlmaWVkSW1wbChpc0NvbnN0LCBpc1ZvbGF0aWxlKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgY3ZRdWFsaWZpZWRJbXBsKGlzQ29uc3Q6IGJvb2xlYW4sIGlzVm9sYXRpbGU6IGJvb2xlYW4pOiBUeXBlQmFzZTtcclxufTtcclxuXHJcbi8vIC8qKlxyXG4vLyAgKiBVc2VkIHdoZW4gYSBjb21waWxhdGlvbiBlcnJvciBjYXVzZXMgYW4gdW5rbm93biB0eXBlLlxyXG4vLyAgKi9cclxuLy8gZXhwb3J0IGNsYXNzIFVua25vd24gZXh0ZW5kcyBUeXBlIHtcclxuXHJcblxyXG4vLyAgICAgcHVibGljIHNhbWVUeXBlKG90aGVyOiBUeXBlKSA6IGJvb2xlYW4ge1xyXG4vLyAgICAgICAgIHJldHVybiBmYWxzZTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgc2ltaWxhclR5cGUob3RoZXI6IFR5cGUpIDogYm9vbGVhbntcclxuLy8gICAgICAgICByZXR1cm4gZmFsc2U7XHJcbi8vICAgICB9XHJcblxyXG4vLyBcdHB1YmxpYyB0eXBlU3RyaW5nKGV4Y2x1ZGVCYXNlOiBib29sZWFuLCB2YXJuYW1lOiBzdHJpbmcsIGRlY29yYXRlZDogYm9vbGVhbikge1xyXG4vLyAgICAgICAgIHJldHVybiBcIjx1bmtub3duPlwiO1xyXG4vLyAgICAgfVxyXG4gICAgXHJcbi8vIFx0cHVibGljIGVuZ2xpc2hTdHJpbmcocGx1cmFsOiBib29sZWFuKSB7XHJcbi8vIFx0XHRyZXR1cm4gXCJhbiB1bmtub3duIHR5cGVcIjtcclxuLy8gICAgIH1cclxuICAgIFxyXG4vLyBcdHB1YmxpYyB2YWx1ZVRvU3RyaW5nKHZhbHVlOiBSYXdWYWx1ZVR5cGUpIHtcclxuLy8gICAgICAgICBVdGlsLmFzc2VydChmYWxzZSk7XHJcbi8vICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbi8vICAgICB9XHJcbiAgICBcclxuLy8gICAgIHB1YmxpYyBpc1ZhbHVlVmFsaWQodmFsdWU6IFJhd1ZhbHVlVHlwZSkge1xyXG4vLyAgICAgICAgIHJldHVybiBmYWxzZTtcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuLy8gZXhwb3J0IGxldCBVTktOT1dOX1RZUEUgPSBuZXcgVW5rbm93bigpO1xyXG5cclxuZXhwb3J0IHR5cGUgVHlwZSA9IFZvaWRUeXBlIHwgT2JqZWN0VHlwZSB8IEZ1bmN0aW9uVHlwZSB8IFJlZmVyZW5jZVR5cGUgfCBBcnJheU9mVW5rbm93bkJvdW5kVHlwZTtcclxuXHJcbmV4cG9ydCBjbGFzcyBWb2lkVHlwZSBleHRlbmRzIFR5cGVCYXNlIHtcclxuICAgIFxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBWT0lEID0gbmV3IFZvaWRUeXBlKCk7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGlzQ29tcGxldGUgPSB0cnVlO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBwcmVjZWRlbmNlID0gMDtcclxuXHJcbiAgICBwdWJsaWMgc2FtZVR5cGUob3RoZXI6IFR5cGUpIDogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgVm9pZFR5cGVcclxuICAgICAgICAgICAgJiYgb3RoZXIuaXNDb25zdCA9PT0gdGhpcy5pc0NvbnN0XHJcbiAgICAgICAgICAgICYmIG90aGVyLmlzVm9sYXRpbGUgPT09IHRoaXMuaXNWb2xhdGlsZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2ltaWxhclR5cGUob3RoZXI6IFR5cGUpIDogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgVm9pZFR5cGU7XHJcbiAgICB9XHJcblxyXG5cdHB1YmxpYyB0eXBlU3RyaW5nKGV4Y2x1ZGVCYXNlOiBib29sZWFuLCB2YXJuYW1lOiBzdHJpbmcsIGRlY29yYXRlZDogYm9vbGVhbikge1xyXG4gICAgICAgIHJldHVybiBcInZvaWRcIjtcclxuICAgIH1cclxuICAgIFxyXG5cdHB1YmxpYyBlbmdsaXNoU3RyaW5nKHBsdXJhbDogYm9vbGVhbikge1xyXG5cdFx0cmV0dXJuIFwidm9pZFwiO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcm90ZWN0ZWQgY3ZRdWFsaWZpZWRJbXBsKGlzQ29uc3Q6IGJvb2xlYW4sIGlzVm9sYXRpbGU6IGJvb2xlYW4pIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZvaWRUeXBlKGlzQ29uc3QsIGlzVm9sYXRpbGUpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogUmVwcmVzZW50cyBhIHR5cGUgZm9yIGFuIG9iamVjdCB0aGF0IGV4aXN0cyBpbiBtZW1vcnkgYW5kIHRha2VzIHVwIHNvbWUgc3BhY2UuXHJcbiAqIEhhcyBhIHNpemUgcHJvcGVydHksIGJ1dCBOT1QgbmVjZXNzYXJpbHkgYSB2YWx1ZS4gKGUuZy4gYW4gYXJyYXkpLlxyXG4gKi9cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIE9iamVjdFR5cGUgZXh0ZW5kcyBUeXBlQmFzZSB7XHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcmVhZG9ubHkgc2l6ZTogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBQb3RlbnRpYWxSZXR1cm5UeXBlID0gT2JqZWN0VHlwZSB8IFJlZmVyZW5jZVR5cGUgfCBWb2lkVHlwZTtcclxuXHJcbmV4cG9ydCB0eXBlIFBvdGVudGlhbFBhcmFtZXRlclR5cGUgPSBBdG9taWNUeXBlIHwgQ2xhc3NUeXBlIHwgUmVmZXJlbmNlVHlwZTsgLy8gRG9lcyBub3QgaW5jbHVkZSBhcnJheXNcclxuXHJcbi8qKlxyXG4gKiBSZXByZXNlbnRzIGEgdHlwZSBmb3IgYW4gb2JqZWN0IHRoYXQgaGFzIGEgdmFsdWUuXHJcbiAqL1xyXG5hYnN0cmFjdCBjbGFzcyBWYWx1ZVR5cGUgZXh0ZW5kcyBPYmplY3RUeXBlIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnZlcnRzIGEgc2VxdWVuY2Ugb2YgYnl0ZXMgKGkuZS4gdGhlIEMrKyBvYmplY3QgcmVwcmVzZW50YXRpb24pIG9mIGEgdmFsdWUgb2ZcclxuICAgICAqIHRoaXMgdHlwZSBpbnRvIHRoZSByYXcgdmFsdWUgdXNlZCB0byByZXByZXNlbnQgaXQgaW50ZXJuYWxseSBpbiBMb2JzdGVyIChpLmUuIGEgamF2YXNjcmlwdCB2YWx1ZSkuXHJcbiAgICAgKiBAcGFyYW0gYnl0ZXNcclxuICAgICAqL1xyXG4gICAgcHVibGljIGJ5dGVzVG9WYWx1ZShieXRlczogYnl0ZVtdKSA6IFJhd1ZhbHVlVHlwZSB7XHJcbiAgICAgICAgLy8gSEFDSzogdGhlIHdob2xlIHZhbHVlIGlzIHN0b3JlZCBpbiB0aGUgZmlyc3QgYnl0ZVxyXG4gICAgICAgIHJldHVybiBieXRlc1swXTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnZlcnRzIGEgcmF3IHZhbHVlIHJlcHJlc2VudGluZyBhIHZhbHVlIG9mIHRoaXMgdHlwZSB0byBhIHNlcXVlbmNlIG9mIGJ5dGVzXHJcbiAgICAgKiAoaS5lLiB0aGUgQysrIG9iamVjdCByZXByZXNlbnRhdGlvbilcclxuICAgICAqIEBwYXJhbSB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdmFsdWVUb0J5dGVzKHZhbHVlOiBSYXdWYWx1ZVR5cGUpIHtcclxuICAgICAgICB2YXIgYnl0ZXMgPSBbXTtcclxuICAgICAgICAvLyBIQUNLOiBzdG9yZSB0aGUgd2hvbGUgdmFsdWUgaW4gdGhlIGZpcnN0IGJ5dGUgYW5kIHplcm8gb3V0IHRoZSByZXN0LiB0aGFua3MgamF2YXNjcmlwdCA6KVxyXG4gICAgICAgIGJ5dGVzWzBdID0gdmFsdWU7XHJcbiAgICAgICAgZm9yKHZhciBpID0gMTsgaSA8IHRoaXMuc2l6ZS0xOyArK2kpe1xyXG4gICAgICAgICAgICBieXRlcy5wdXNoKDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gPGJ5dGVbXT5ieXRlcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgd2hldGhlciBhIGdpdmVuIHJhdyB2YWx1ZSBmb3IgdGhpcyB0eXBlIGlzIHZhbGlkLiBGb3IgZXhhbXBsZSwgYSBwb2ludGVyIHR5cGUgbWF5IHRyYWNrIHJ1bnRpbWVcclxuICAgICAqIHR5cGUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGFycmF5IGZyb20gd2hpY2ggaXQgd2FzIG9yaWdpbmFsbHkgZGVyaXZlZC4gSWYgdGhlIHBvaW50ZXIgdmFsdWUgaW5jcmVhc2VzIHN1Y2hcclxuICAgICAqIHRoYXQgaXQgd2FuZGVycyBvdmVyIHRoZSBlbmQgb2YgdGhhdCBhcnJheSwgaXRzIHZhbHVlIGJlY29tZXMgaW52YWxpZC5cclxuICAgICAqIEBwYXJhbSB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgaXNWYWx1ZVZhbGlkKHZhbHVlOiBSYXdWYWx1ZVR5cGUpIDogYm9vbGVhbjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSBodW1hbi1yZWFkYWJsZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIHJhdyB2YWx1ZSBmb3IgdGhpcyBUeXBlLlxyXG4gICAgICogVGhpcyBpcyB0aGUgcmVwcmVzZW50YXRpb24gdGhhdCBtaWdodCBiZSBkaXNwbGF5ZWQgdG8gdGhlIHVzZXIgd2hlbiBpbnNwZWN0aW5nIHRoZVxyXG4gICAgICogdmFsdWUgb2YgYW4gb2JqZWN0LlxyXG4gICAgICogTm90ZSB0aGF0IHRoZSB2YWx1ZSByZXByZXNlbnRhdGlvbiBmb3IgdGhlIHR5cGUgaW4gTG9ic3RlciBpcyBqdXN0IGEgamF2YXNjcmlwdFxyXG4gICAgICogdmFsdWUuIEl0IGlzIG5vdCB0aGUgQysrIHZhbHVlIHJlcHJlc2VudGF0aW9uIGZvciB0aGUgdHlwZS5cclxuICAgICAqIEBwYXJhbSB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgdmFsdWVUb1N0cmluZyh2YWx1ZTogUmF3VmFsdWVUeXBlKSA6IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gcmF3IHZhbHVlIGZvciB0aGlzIFR5cGUgdGhhdCB3b3VsZCBiZVxyXG4gICAgICogcHJpbnRlZCB0byBhbiBvc3RyZWFtLlxyXG4gICAgICogTm90ZSB0aGF0IHRoZSByYXcgdmFsdWUgcmVwcmVzZW50YXRpb24gZm9yIHRoZSB0eXBlIGluIExvYnN0ZXIgaXMganVzdCBhIGphdmFzY3JpcHRcclxuICAgICAqIHZhbHVlLiBJdCBpcyBub3QgdGhlIEMrKyB2YWx1ZSByZXByZXNlbnRhdGlvbiBmb3IgdGhlIHR5cGUuXHJcbiAgICAgKiBUT0RPOiBUaGlzIGlzIGEgaGFjayB0aGF0IG1heSBldmVudHVhbGx5IGJlIHJlbW92ZWQgc2luY2UgcHJpbnRpbmcgdG8gYSBzdHJlYW0gc2hvdWxkXHJcbiAgICAgKiByZWFsbHkgYmUgaGFuZGxlZCBieSBvdmVybG9hZGVkIDw8IG9wZXJhdG9yIGZ1bmN0aW9ucy5cclxuICAgICAqIEBwYXJhbSB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdmFsdWVUb09zdHJlYW1TdHJpbmcodmFsdWU6IFJhd1ZhbHVlVHlwZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlVG9TdHJpbmcodmFsdWUpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBdG9taWNUeXBlIGV4dGVuZHMgVmFsdWVUeXBlIHtcclxuICAgIHB1YmxpYyByZWFkb25seSBpc0F0b21pYyA9IHRydWU7XHJcblxyXG59XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgU2ltcGxlVHlwZSBleHRlbmRzIEF0b21pY1R5cGUge1xyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIFN1YmNsYXNzZXMgbXVzdCBpbXBsZW1lbnQgYSBjb25jcmV0ZSB0eXBlIHByb3BlcnR5IHRoYXQgc2hvdWxkIGJlIGFcclxuICAgICAqIHN0cmluZyBpbmRpY2F0aW5nIHRoZSBraW5kIG9mIHR5cGUgZS5nLiBcImludFwiLCBcImRvdWJsZVwiLCBcImJvb2xcIiwgZXRjLlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3Qgc2ltcGxlVHlwZTogc3RyaW5nO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBpc0NvbXBsZXRlID0gdHJ1ZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBwcmVjZWRlbmNlID0gMDtcclxuXHJcbiAgICBwdWJsaWMgc2FtZVR5cGUob3RoZXI6IFR5cGUpIDogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgU2ltcGxlVHlwZVxyXG4gICAgICAgICAgICAmJiBvdGhlci5zaW1wbGVUeXBlID09PSB0aGlzLnNpbXBsZVR5cGVcclxuICAgICAgICAgICAgJiYgb3RoZXIuaXNDb25zdCA9PT0gdGhpcy5pc0NvbnN0XHJcbiAgICAgICAgICAgICYmIG90aGVyLmlzVm9sYXRpbGUgPT09IHRoaXMuaXNWb2xhdGlsZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2ltaWxhclR5cGUob3RoZXI6IFR5cGUpIDogYm9vbGVhbntcclxuICAgICAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBTaW1wbGVUeXBlXHJcbiAgICAgICAgICAgICYmIG90aGVyLnNpbXBsZVR5cGUgPT09IHRoaXMuc2ltcGxlVHlwZTtcclxuICAgIH1cclxuXHJcblx0cHVibGljIHR5cGVTdHJpbmcoZXhjbHVkZUJhc2U6IGJvb2xlYW4sIHZhcm5hbWU6IHN0cmluZywgZGVjb3JhdGVkOiBib29sZWFuKSB7XHJcbiAgICAgICAgaWYgKGV4Y2x1ZGVCYXNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YXJuYW1lID8gdmFybmFtZSA6IFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENWU3RyaW5nKCkgKyAoZGVjb3JhdGVkID8gaHRtbERlY29yYXRlZFR5cGUodGhpcy5zaW1wbGVUeXBlLnRvU3RyaW5nKCkpIDogdGhpcy5zaW1wbGVUeXBlKSArICh2YXJuYW1lID8gXCIgXCIgKyB2YXJuYW1lIDogXCJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcblx0cHVibGljIGVuZ2xpc2hTdHJpbmcocGx1cmFsOiBib29sZWFuKSB7XHJcblx0XHQvLyBubyByZWN1cnNpdmUgY2FsbHMgdG8gdGhpcy5zaW1wbGVUeXBlLmVuZ2xpc2hTdHJpbmcoKSBoZXJlXHJcblx0XHQvLyBiZWNhdXNlIHRoaXMuc2ltcGxlVHlwZSBpcyBqdXN0IGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdHlwZVxyXG4gICAgICAgIHZhciB3b3JkID0gdGhpcy5nZXRDVlN0cmluZygpICsgdGhpcy5zaW1wbGVUeXBlO1xyXG5cdFx0cmV0dXJuIChwbHVyYWwgPyB0aGlzLnNpbXBsZVR5cGUrXCJzXCIgOiAoaXNWb3dlbCh3b3JkLmNoYXJBdCgwKSkgPyBcImFuIFwiIDogXCJhIFwiKSArIHdvcmQpO1xyXG4gICAgfVxyXG4gICAgXHJcblx0cHVibGljIHZhbHVlVG9TdHJpbmcodmFsdWU6IFJhd1ZhbHVlVHlwZSkge1xyXG5cdFx0cmV0dXJuIFwiXCIrdmFsdWU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBpc1ZhbHVlVmFsaWQodmFsdWU6IFJhd1ZhbHVlVHlwZSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFyaXRobWV0aWNUeXBlIGV4dGVuZHMgU2ltcGxlVHlwZSB7XHJcblxyXG59XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgSW50ZWdyYWxUeXBlIGV4dGVuZHMgQXJpdGhtZXRpY1R5cGUge1xyXG4gICAgXHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgQ2hhciBleHRlbmRzIEludGVncmFsVHlwZSB7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IENIQVIgPSBuZXcgQ2hhcigpO1xyXG4gICAgXHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgc2ltcGxlVHlwZSA9IFwiY2hhclwiO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHNpemUgPSAxO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTlVMTF9DSEFSID0gMDtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGlzTnVsbENoYXIodmFsdWU6IFJhd1ZhbHVlVHlwZSkge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdGhpcy5OVUxMX0NIQVI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBqc1N0cmluZ1RvTnVsbFRlcm1pbmF0ZWRDaGFyQXJyYXkoc3RyOiBzdHJpbmcpIHtcclxuICAgICAgICB2YXIgY2hhcnMgPSBzdHIuc3BsaXQoXCJcIikubWFwKGZ1bmN0aW9uKGMpe1xyXG4gICAgICAgICAgICByZXR1cm4gYy5jaGFyQ29kZUF0KDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNoYXJzLnB1c2goQ2hhci5OVUxMX0NIQVIpO1xyXG4gICAgICAgIHJldHVybiBjaGFycztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmFsdWVUb1N0cmluZyh2YWx1ZTogUmF3VmFsdWVUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiJ1wiICsgdW5lc2NhcGVTdHJpbmcoU3RyaW5nLmZyb21DaGFyQ29kZSh2YWx1ZSkpICsgXCInXCI7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgdmFsdWVUb09zdHJlYW1TdHJpbmcodmFsdWU6IFJhd1ZhbHVlVHlwZSkge1xyXG4gICAgICAgIC8vIHVzZSA8bnVtYmVyPiBhc3NlcnRpb24gYmFzZWQgb24gdGhlIGFzc3VtcHRpb24gdGhpcyB3aWxsIG9ubHkgYmUgdXNlZCB3aXRoIHByb3BlciByYXcgdmFsdWVzIHRoYXQgYXJlIG51bWJlcnNcclxuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSg8bnVtYmVyPnZhbHVlKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJvdGVjdGVkIGN2UXVhbGlmaWVkSW1wbChpc0NvbnN0OiBib29sZWFuLCBpc1ZvbGF0aWxlOiBib29sZWFuKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDaGFyKGlzQ29uc3QsIGlzVm9sYXRpbGUpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgSW50IGV4dGVuZHMgSW50ZWdyYWxUeXBlIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSU5UID0gbmV3IEludCgpO1xyXG5cclxuICAgIHByb3RlY3RlZCByZWFkb25seSBzaW1wbGVUeXBlID0gXCJpbnRcIjtcclxuICAgIHB1YmxpYyByZWFkb25seSBzaXplID0gNDtcclxuICAgIFxyXG4gICAgcHJvdGVjdGVkIGN2UXVhbGlmaWVkSW1wbChpc0NvbnN0OiBib29sZWFuLCBpc1ZvbGF0aWxlOiBib29sZWFuKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBJbnQoaXNDb25zdCwgaXNWb2xhdGlsZSk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgU2l6ZV90IGV4dGVuZHMgSW50ZWdyYWxUeXBlIHtcclxuICAgIHByb3RlY3RlZCByZWFkb25seSBzaW1wbGVUeXBlID0gXCJzaXplX3RcIjtcclxuICAgIHB1YmxpYyByZWFkb25seSBzaXplID0gODtcclxuICAgIFxyXG4gICAgcHJvdGVjdGVkIGN2UXVhbGlmaWVkSW1wbChpc0NvbnN0OiBib29sZWFuLCBpc1ZvbGF0aWxlOiBib29sZWFuKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTaXplX3QoaXNDb25zdCwgaXNWb2xhdGlsZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBCb29sIGV4dGVuZHMgSW50ZWdyYWxUeXBlIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQk9PTCA9IG5ldyBCb29sKCk7XHJcblxyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IHNpbXBsZVR5cGUgPSBcImJvb2xcIjtcclxuICAgIHB1YmxpYyByZWFkb25seSBzaXplID0gMTtcclxuICAgIFxyXG4gICAgcHJvdGVjdGVkIGN2UXVhbGlmaWVkSW1wbChpc0NvbnN0OiBib29sZWFuLCBpc1ZvbGF0aWxlOiBib29sZWFuKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCb29sKGlzQ29uc3QsIGlzVm9sYXRpbGUpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBUT0RPOiBhZGQgc3VwcG9ydCBmb3IgRW51bXNcclxuXHJcblxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEZsb2F0aW5nUG9pbnRUeXBlIGV4dGVuZHMgQXJpdGhtZXRpY1R5cGUge1xyXG5cclxuICAgIHB1YmxpYyB2YWx1ZVRvU3RyaW5nKHZhbHVlOiBSYXdWYWx1ZVR5cGUpIHtcclxuICAgICAgICAvLyB1c2UgPG51bWJlcj4gYXNzZXJ0aW9uIGJhc2VkIG9uIHRoZSBhc3N1bXB0aW9uIHRoaXMgd2lsbCBvbmx5IGJlIHVzZWQgd2l0aCBwcm9wZXIgcmF3IHZhbHVlcyB0aGF0IGFyZSBudW1iZXJzXHJcbiAgICAgICAgdmFyIHN0ciA9IFwiXCIrPG51bWJlcj52YWx1ZTtcclxuICAgICAgICByZXR1cm4gc3RyLmluZGV4T2YoXCIuXCIpICE9IC0xID8gc3RyIDogc3RyICsgXCIuXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBGbG9hdCBleHRlbmRzIEZsb2F0aW5nUG9pbnRUeXBlIHtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEZMT0FUID0gbmV3IEZsb2F0KCk7XHJcblxyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IHNpbXBsZVR5cGUgPSBcImZsb2F0XCI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2l6ZSA9IDQ7XHJcbiAgICBcclxuICAgIHByb3RlY3RlZCBjdlF1YWxpZmllZEltcGwoaXNDb25zdDogYm9vbGVhbiwgaXNWb2xhdGlsZTogYm9vbGVhbikge1xyXG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQoaXNDb25zdCwgaXNWb2xhdGlsZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBEb3VibGUgZXh0ZW5kcyBGbG9hdGluZ1BvaW50VHlwZSB7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBET1VCTEUgPSBuZXcgRG91YmxlKCk7XHJcblxyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IHNpbXBsZVR5cGUgPSBcImRvdWJsZVwiO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHNpemUgPSA4O1xyXG4gICAgXHJcbiAgICBwcm90ZWN0ZWQgY3ZRdWFsaWZpZWRJbXBsKGlzQ29uc3Q6IGJvb2xlYW4sIGlzVm9sYXRpbGU6IGJvb2xlYW4pIHtcclxuICAgICAgICByZXR1cm4gbmV3IERvdWJsZShpc0NvbnN0LCBpc1ZvbGF0aWxlKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gVE9ETzogT1N0cmVhbSBzaG91bGRuJ3QgYmUgYSBwcmltaXRpdmUgdHlwZSwgc2hvdWxkIGJlIGFuIGluc3RyaW5zaWMgY2xhc3NcclxuLy8gZXhwb3J0IGNsYXNzIE9TdHJlYW0gZXh0ZW5kcyBTaW1wbGVUeXBlIHtcclxuLy8gICAgIHByb3RlY3RlZCByZWFkb25seSBzaW1wbGVUeXBlID0gXCJvc3RyZWFtXCI7XHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgc2l6ZSA9IDQ7XHJcblxyXG4vLyB9XHJcblxyXG4vLyBUT0RPOiBhZGQgc3VwcG9ydCBmb3IgaXN0cmVhbVxyXG4vLyBleHBvcnQgY2xhc3MgSVN0cmVhbSA9IFNpbXBsZVR5cGUuZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lOiBcIklTdHJlYW1cIixcclxuLy8gICAgIHNpbXBsZVR5cGU6IFwiaXN0cmVhbVwiLFxyXG4vLyAgICAgc2l6ZTogNCxcclxuXHJcbi8vICAgICB2YWx1ZVRvU3RyaW5nIDogZnVuY3Rpb24odmFsdWUpe1xyXG4vLyAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuXHJcblxyXG5cclxuLy9UT0RPOiBjcmVhdGUgc2VwYXJhdGUgZnVuY3Rpb24gcG9pbnRlciB0eXBlPz8/XHJcblxyXG5leHBvcnQgY2xhc3MgUG9pbnRlclR5cGU8UHRyVG8gZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZT4gZXh0ZW5kcyBBdG9taWNUeXBlIHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2l6ZSA9IDg7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJlY2VkZW5jZSA9IDE7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNDb21wbGV0ZSA9IHRydWU7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBpc051bGwodmFsdWU6IFJhd1ZhbHVlVHlwZSkge1xyXG4gICAgICAgIHJldHVybiA8bnVtYmVyPnZhbHVlID09PSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgaXNOZWdhdGl2ZSh2YWx1ZTogUmF3VmFsdWVUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIDxudW1iZXI+dmFsdWUgPCAwO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBwdHJUbzogUHRyVG87IC8vIFRPRE86IGFkZCB8IFZvaWRUeXBlIGZvciB2b2lkIHBvaW50ZXJzPyBvciBqdXN0IG1ha2UgdGhhdCBhIHdob2xlIHNlcGFyYXRlIFZvaWRQb2ludGVyIGNsYXNzP1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihwdHJUbzogUHRyVG8sIGlzQ29uc3Q/OiBib29sZWFuLCBpc1ZvbGF0aWxlPzogYm9vbGVhbikge1xyXG4gICAgICAgIHN1cGVyKGlzQ29uc3QsIGlzVm9sYXRpbGUpO1xyXG4gICAgICAgIHRoaXMucHRyVG8gPSBwdHJUbztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Q29tcG91bmROZXh0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnB0clRvO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzYW1lVHlwZShvdGhlcjogVHlwZSkgOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBQb2ludGVyVHlwZVxyXG4gICAgICAgICAgICAmJiB0aGlzLnB0clRvLnNhbWVUeXBlKG90aGVyLnB0clRvKVxyXG4gICAgICAgICAgICAmJiBvdGhlci5pc0NvbnN0ID09PSB0aGlzLmlzQ29uc3RcclxuICAgICAgICAgICAgJiYgb3RoZXIuaXNWb2xhdGlsZSA9PT0gdGhpcy5pc1ZvbGF0aWxlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaW1pbGFyVHlwZShvdGhlcjogVHlwZSkgOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBQb2ludGVyVHlwZVxyXG4gICAgICAgICAgICAmJiB0aGlzLnB0clRvLnNpbWlsYXJUeXBlKG90aGVyLnB0clRvKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdHlwZVN0cmluZyhleGNsdWRlQmFzZTogYm9vbGVhbiwgdmFybmFtZTogc3RyaW5nLCBkZWNvcmF0ZWQ6IGJvb2xlYW4pIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wdHJUby50eXBlU3RyaW5nKGV4Y2x1ZGVCYXNlLCB0aGlzLnBhcmVudGhlc2l6ZSh0aGlzLnB0clRvLCB0aGlzLmdldENWU3RyaW5nKCkgKyBcIipcIiArIHZhcm5hbWUpLCBkZWNvcmF0ZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBlbmdsaXNoU3RyaW5nKHBsdXJhbDogYm9vbGVhbikge1xyXG4gICAgICAgIHJldHVybiAocGx1cmFsID8gdGhpcy5nZXRDVlN0cmluZygpK1wicG9pbnRlcnMgdG9cIiA6IFwiYSBcIiArdGhpcy5nZXRDVlN0cmluZygpK1wicG9pbnRlciB0b1wiKSArIFwiIFwiICsgdGhpcy5wdHJUby5lbmdsaXNoU3RyaW5nKGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmFsdWVUb1N0cmluZyh2YWx1ZTogUmF3VmFsdWVUeXBlKSB7XHJcbiAgICAgICAgLy8gVE9ETzogY2xlYW4gdXAgd2hlbiBmdW5jdGlvbiBwb2ludGVycyBhcmUgcmVpbXBsZW1lbnRlZFxyXG4gICAgICAgIC8vIGlmICh0aGlzLnB0clRvIGluc3RhbmNlb2YgRnVuY3Rpb25UeXBlICYmIHZhbHVlKSB7XHJcbiAgICAgICAgLy8gICAgIHJldHVybiB2YWx1ZS5uYW1lO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBlbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCIweFwiICsgdmFsdWU7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc09iamVjdFBvaW50ZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHRyVG8uaXNPYmplY3RUeXBlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgYSBnaXZlbiByYXcgdmFsdWUgZm9yIHRoaXMgdHlwZSBpcyBkZXJlZmVyZW5jZWFibGUuIEZvciBwb2ludGVyIHR5cGVzLCB0aGUgZ2l2ZW4gcmF3IHZhbHVlIGlzIGRlcmVmZXJlbmNlYWJsZVxyXG4gICAgICogaWYgdGhlIHJlc3VsdCBvZiB0aGUgZGVyZWZlcmVuY2Ugd2lsbCBiZSBhIGxpdmUgb2JqZWN0LiBBbiBleGFtcGxlIG9mIHRoZSBkaXN0aW5jdGlvbiBiZXR3ZWVuIHZhbGlkaXR5IGFuZFxyXG4gICAgICogZGVyZWZlcmVuY2VhYmlsaXR5IGZvciBwb2ludGVyIHR5cGVzIHdvdWxkIGJlIGFuIGFycmF5IHBvaW50ZXIuIFRoZSBwb2ludGVyIHZhbHVlIChhbiBhZGRyZXNzKSBpcyBkZXJlZmVyZW5jZWFibGVcclxuICAgICAqIGlmIGl0IGlzIHdpdGhpbiB0aGUgYm91bmRzIG9mIHRoZSBhcnJheS4gSXQgaXMgdmFsaWQgaW4gdGhvc2Ugc2FtZSBsb2NhdGlvbnMgcGx1cyBhbHNvIHRoZSBsb2NhdGlvbiBvbmUgc3BhY2VcclxuICAgICAqIHBhc3QgdGhlIGVuZCAoYnV0IG5vdCBkZXJlZmVyZW5jZWFibGUgdGhlcmUpLiBBbGwgb3RoZXIgYWRkcmVzcyB2YWx1ZXMgYXJlIGludmFsaWQuXHJcbiAgICAgKiBAcGFyYW0gdmFsdWVcclxuICAgICAqL1xyXG4gICAgcHVibGljIGlzVmFsdWVEZXJlZmVyZW5jZWFibGUodmFsdWU6IFJhd1ZhbHVlVHlwZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsdWVWYWxpZCh2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzVmFsdWVWYWxpZCh2YWx1ZTogUmF3VmFsdWVUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByb3RlY3RlZCBjdlF1YWxpZmllZEltcGwoaXNDb25zdDogYm9vbGVhbiwgaXNWb2xhdGlsZTogYm9vbGVhbikge1xyXG4gICAgICAgIHJldHVybiBuZXcgUG9pbnRlclR5cGUodGhpcy5wdHJUbywgaXNDb25zdCwgaXNWb2xhdGlsZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBcnJheVBvaW50ZXIgZXh0ZW5kcyBQb2ludGVyVHlwZSB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGFycmF5T2JqZWN0OiBDUFBPYmplY3Q8Qm91bmRlZEFycmF5VHlwZT47XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGFycmF5T2JqZWN0OiBDUFBPYmplY3Q8Qm91bmRlZEFycmF5VHlwZT4sIGlzQ29uc3Q/OiBib29sZWFuLCBpc1ZvbGF0aWxlPzogYm9vbGVhbikge1xyXG4gICAgICAgIHN1cGVyKGFycmF5T2JqZWN0LnR5cGUuZWxlbVR5cGUsIGlzQ29uc3QsIGlzVm9sYXRpbGUpO1xyXG4gICAgICAgIHRoaXMuYXJyYXlPYmplY3QgPSBhcnJheU9iamVjdDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbWluKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFycmF5T2JqZWN0LmFkZHJlc3M7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uZVBhc3QoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJyYXlPYmplY3QuYWRkcmVzcyArIHRoaXMuYXJyYXlPYmplY3QudHlwZS5zaXplO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc1ZhbHVlVmFsaWQodmFsdWU6IFJhd1ZhbHVlVHlwZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5hcnJheU9iamVjdC5pc0FsaXZlKXtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYXJyYXlPYmplY3QgPSB0aGlzLmFycmF5T2JqZWN0O1xyXG4gICAgICAgIHJldHVybiBhcnJheU9iamVjdC5hZGRyZXNzIDw9IHZhbHVlICYmIHZhbHVlIDw9IGFycmF5T2JqZWN0LmFkZHJlc3MgKyBhcnJheU9iamVjdC50eXBlLnNpemU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzVmFsdWVEZXJlZmVyZW5jZWFibGUodmFsdWU6IFJhd1ZhbHVlVHlwZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsdWVWYWxpZCh2YWx1ZSkgJiYgdmFsdWUgIT09IHRoaXMub25lUGFzdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b0luZGV4KGFkZHI6IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiBNYXRoLnRydW5jKChhZGRyIC0gdGhpcy5hcnJheU9iamVjdC5hZGRyZXNzKSAvICB0aGlzLmFycmF5T2JqZWN0LnR5cGUuZWxlbVR5cGUuc2l6ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGN2UXVhbGlmaWVkSW1wbChpc0NvbnN0OiBib29sZWFuLCBpc1ZvbGF0aWxlOiBib29sZWFuKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBBcnJheVBvaW50ZXIodGhpcy5hcnJheU9iamVjdCwgaXNDb25zdCwgaXNWb2xhdGlsZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBPYmplY3RQb2ludGVyIGV4dGVuZHMgUG9pbnRlclR5cGUge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBwb2ludGVkT2JqZWN0OiBDUFBPYmplY3Q8T2JqZWN0VHlwZT47XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG9iajogQ1BQT2JqZWN0PE9iamVjdFR5cGU+LCBpc0NvbnN0PzogYm9vbGVhbiwgaXNWb2xhdGlsZT86IGJvb2xlYW4pIHtcclxuICAgICAgICBzdXBlcihvYmoudHlwZSwgaXNDb25zdCwgaXNWb2xhdGlsZSk7XHJcbiAgICAgICAgdGhpcy5wb2ludGVkT2JqZWN0ID0gb2JqO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRQb2ludGVkT2JqZWN0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBvaW50ZWRPYmplY3Q7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBpc1ZhbHVlVmFsaWQodmFsdWU6IFJhd1ZhbHVlVHlwZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBvaW50ZWRPYmplY3QuaXNBbGl2ZSAmJiB0aGlzLnBvaW50ZWRPYmplY3QuYWRkcmVzcyA9PT0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGN2UXVhbGlmaWVkSW1wbChpc0NvbnN0OiBib29sZWFuLCBpc1ZvbGF0aWxlOiBib29sZWFuKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBPYmplY3RQb2ludGVyKHRoaXMucG9pbnRlZE9iamVjdCwgaXNDb25zdCwgaXNWb2xhdGlsZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgUmVmZXJlbmNlVHlwZTxSZWZUbyBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiBleHRlbmRzIFR5cGVCYXNlIHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJlY2VkZW5jZSA9IDE7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNDb21wbGV0ZSA9IHRydWU7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHJlZlRvOiBSZWZUbztcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IocmVmVG86IFJlZlRvLCBpc0NvbnN0PzogYm9vbGVhbiwgaXNWb2xhdGlsZT86IGJvb2xlYW4pIHtcclxuICAgICAgICAvLyBSZWZlcmVuY2VzIGhhdmUgbm8gbm90aW9uIG9mIGNvbnN0ICh0aGV5IGNhbid0IGJlIHJlLWJvdW5kIGFueXdheSlcclxuICAgICAgICBzdXBlcihmYWxzZSwgaXNWb2xhdGlsZSk7XHJcbiAgICAgICAgdGhpcy5yZWZUbyA9IHJlZlRvO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDb21wb3VuZE5leHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmVG87XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNhbWVUeXBlKG90aGVyOiBUeXBlKSA6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIFJlZmVyZW5jZVR5cGUgJiYgdGhpcy5yZWZUby5zYW1lVHlwZShvdGhlci5yZWZUbyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9Ob3RlOiBJIGRvbid0IHRoaW5rIHNpbWlsYXIgdHlwZXMgZXZlbiBtYWtlIHNlbnNlIHdpdGggcmVmZXJlbmNlcy4gU2VlIHN0YW5kYXJkIDQuNFxyXG4gICAgcHVibGljIHNpbWlsYXJUeXBlKG90aGVyOiBUeXBlKSA6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIFJlZmVyZW5jZVR5cGUgJiYgdGhpcy5yZWZUby5zaW1pbGFyVHlwZShvdGhlci5yZWZUbyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHR5cGVTdHJpbmcoZXhjbHVkZUJhc2U6IGJvb2xlYW4sIHZhcm5hbWU6IHN0cmluZywgZGVjb3JhdGVkOiBib29sZWFuKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5yZWZUby50eXBlU3RyaW5nKGV4Y2x1ZGVCYXNlLCB0aGlzLnBhcmVudGhlc2l6ZSh0aGlzLnJlZlRvLCB0aGlzLmdldENWU3RyaW5nKCkgKyBcIiZcIiArIHZhcm5hbWUpLCBkZWNvcmF0ZWQpO1xyXG4gICAgfVxyXG4gICAgXHJcblx0cHVibGljIGVuZ2xpc2hTdHJpbmcocGx1cmFsOiBib29sZWFuKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5nZXRDVlN0cmluZygpICsgKHBsdXJhbCA/IFwicmVmZXJlbmNlcyB0b1wiIDogXCJhIHJlZmVyZW5jZSB0b1wiKSArIFwiIFwiICsgdGhpcy5yZWZUby5lbmdsaXNoU3RyaW5nKGZhbHNlKTtcclxuICAgIH1cclxuICAgIFxyXG5cdHB1YmxpYyB2YWx1ZVRvU3RyaW5nKHZhbHVlOiBSYXdWYWx1ZVR5cGUpe1xyXG5cdFx0cmV0dXJuIFwiXCIrdmFsdWU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByb3RlY3RlZCBjdlF1YWxpZmllZEltcGwoaXNDb25zdDogYm9vbGVhbiwgaXNWb2xhdGlsZTogYm9vbGVhbikge1xyXG4gICAgICAgIHJldHVybiBuZXcgUmVmZXJlbmNlVHlwZSh0aGlzLnJlZlRvLCBpc0NvbnN0LCBpc1ZvbGF0aWxlKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHR5cGUgTm9SZWZUeXBlPFQgZXh0ZW5kcyBPYmplY3RUeXBlIHwgUmVmZXJlbmNlVHlwZSB8IFZvaWRUeXBlPiA9IFQgZXh0ZW5kcyBSZWZlcmVuY2VUeXBlPGluZmVyIFJlZlRvPiA/IFJlZlRvIDogVDtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBub1JlZjxUIGV4dGVuZHMgT2JqZWN0VHlwZSB8IFJlZmVyZW5jZVR5cGUgfCBWb2lkVHlwZT4odHlwZSA6IFQpIDogTm9SZWZUeXBlPFQ+IHtcclxuICAgIGlmKHR5cGUgaW5zdGFuY2VvZiBSZWZlcmVuY2VUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIHR5cGUucmVmVG87XHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAgIHJldHVybiA8Tm9SZWZUeXBlPFQ+PnR5cGU7IC8vIHdpbGwgZWl0aGVyIGJlIGFuIG9iamVjdCB0eXBlIG9yIHZvaWQgdHlwZVxyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgQXJyYXlFbGVtVHlwZSA9IEF0b21pY1R5cGUgfCBDbGFzc1R5cGU7XHJcblxyXG4vLyBSZXByZXNlbnRzIHRoZSB0eXBlIG9mIGFuIGFycmF5LiBUaGlzIGlzIG5vdCBhbiBPYmplY3RUeXBlIGJlY2F1c2UgYW4gYXJyYXkgZG9lc1xyXG4vLyBub3QgaGF2ZSBhIHZhbHVlIHRoYXQgY2FuIGJlIHJlYWQvd3JpdHRlbi4gVGhlIEVsZW1fdHlwZSB0eXBlIHBhcmFtZXRlciBtdXN0IGJlXHJcbi8vIGFuIEF0b21pY1R5cGUgb3IgQ2xhc3NUeXBlLiAoTm90ZSB0aGF0IHRoaXMgcnVsZXMgb3V0IGFycmF5cyBvZiBhcnJheXMsIHdoaWNoIGFyZSBjdXJyZW50bHkgbm90IHN1cHBvcnRlZC4pXHJcbmV4cG9ydCBjbGFzcyBCb3VuZGVkQXJyYXlUeXBlPEVsZW1fdHlwZSBleHRlbmRzIEFycmF5RWxlbVR5cGUgPSBBcnJheUVsZW1UeXBlPiBleHRlbmRzIE9iamVjdFR5cGUge1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2l6ZTogbnVtYmVyO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBwcmVjZWRlbmNlID0gMjtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZWxlbVR5cGU6IEVsZW1fdHlwZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBsZW5ndGg6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoZWxlbVR5cGU6IEVsZW1fdHlwZSwgbGVuZ3RoOiBudW1iZXIpIHtcclxuXHJcbiAgICAgICAgLy8gVE9ETzogc2FuaXR5IGNoZWNrIHRoZSBzZW1hbnRpY3MgaGVyZSwgYnV0IEkgZG9uJ3QgdGhpbmsgaXQgbWFrZXMgc2Vuc2UgZm9yIGFuIGFycmF5IGl0c2VsZiB0byBiZSB2b2xhdGlsZVxyXG4gICAgICAgIHN1cGVyKGZhbHNlLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIHRoaXMuZWxlbVR5cGUgPSBlbGVtVHlwZTtcclxuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcclxuICAgICAgICB0aGlzLnNpemUgPSBlbGVtVHlwZS5zaXplICogbGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgaXNDb21wbGV0ZSgpIHtcclxuICAgICAgICAvLyBOb3RlOiB0aGlzIGNsYXNzIGRvZXMgbm90IGN1cnJlbnRseSByZXByZXNlbnQgXCJhcnJheSBvZiB1bmtub3duIGJvdW5kXCIgdHlwZXMuXHJcbiAgICAgICAgLy8gU2hvdWxkIHRoYXQgY2hhbmdlLCBhZGRpdGlvbmFsIGxvZ2ljIHdvdWxkIGJlIG5lZWRlZCBoZXJlIHNpbmNlIHRob3NlIGFyZSBjb25zaWRlcmVkXHJcbiAgICAgICAgLy8gaW5jb21wbGV0ZSB0eXBlcy5cclxuICAgICAgICBcclxuICAgICAgICAvLyBDb21wbGV0ZW5lc3MgbWF5IGNoYW5nZSBpZiBlbGVtVHlwZSBjb21wbGV0ZW5lc3MgY2hhbmdlc1xyXG4gICAgICAgIC8vIChlLmcuIGFycmF5IG9mIHBvdGVudGlhbGx5IChpbiljb21wbGV0ZSBjbGFzcyB0eXBlIG9iamVjdHMpXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbVR5cGUuaXNDb21wbGV0ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Q29tcG91bmROZXh0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1UeXBlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzYW1lVHlwZShvdGhlcjogVHlwZSkgOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBCb3VuZGVkQXJyYXlUeXBlICYmIHRoaXMuZWxlbVR5cGUuc2FtZVR5cGUob3RoZXIuZWxlbVR5cGUpICYmIHRoaXMubGVuZ3RoID09PSBvdGhlci5sZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNpbWlsYXJUeXBlKG90aGVyOiBUeXBlKSA6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIEJvdW5kZWRBcnJheVR5cGUgJiYgdGhpcy5lbGVtVHlwZS5zaW1pbGFyVHlwZShvdGhlci5lbGVtVHlwZSkgJiYgdGhpcy5sZW5ndGggPT09IG90aGVyLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdHlwZVN0cmluZyhleGNsdWRlQmFzZTogYm9vbGVhbiwgdmFybmFtZTogc3RyaW5nLCBkZWNvcmF0ZWQ6IGJvb2xlYW4pIHtcclxuXHRcdHJldHVybiB0aGlzLmVsZW1UeXBlLnR5cGVTdHJpbmcoZXhjbHVkZUJhc2UsIHZhcm5hbWUgKyAgXCJbXCIrdGhpcy5sZW5ndGgrXCJdXCIsIGRlY29yYXRlZCk7XHJcbiAgICB9XHJcbiAgICBcclxuXHRwdWJsaWMgZW5nbGlzaFN0cmluZyhwbHVyYWw6IGJvb2xlYW4pIHtcclxuICAgICAgICByZXR1cm4gKHBsdXJhbCA/IFwiYXJyYXlzIG9mIFwiIDogXCJhbiBhcnJheSBvZiBcIikgKyB0aGlzLmxlbmd0aCArIFwiIFwiICsgdGhpcy5lbGVtVHlwZS5lbmdsaXNoU3RyaW5nKHRoaXMubGVuZ3RoID4gMSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByb3RlY3RlZCBjdlF1YWxpZmllZEltcGwoaXNDb25zdDogYm9vbGVhbiwgaXNWb2xhdGlsZTogYm9vbGVhbikge1xyXG4gICAgICAgIHJldHVybiBuZXcgQm91bmRlZEFycmF5VHlwZSh0aGlzLmVsZW1UeXBlLCB0aGlzLmxlbmd0aCk7IC8vIE5vdGUgYXJyYXlzIGRvbid0IGhhdmUgY3YgcXVhbGlmaWNhdGlvbnMgc28gdGhleSBhcmUgaWdub3JlZCBoZXJlXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBhZGp1c3RUb1BvaW50ZXJUeXBlKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUG9pbnRlclR5cGUodGhpcy5lbGVtVHlwZSwgZmFsc2UsIGZhbHNlKTtcclxuICAgIH1cclxuXHJcblx0Ly8gcHVibGljIHZhbHVlVG9TdHJpbmcodmFsdWU6IFJhd1ZhbHVlVHlwZSkge1xyXG5cdC8vIFx0cmV0dXJuIFwiXCIrdmFsdWU7XHJcbiAgICAvLyB9XHJcbiAgICBcclxuICAgIC8vIHB1YmxpYyBieXRlc1RvVmFsdWUoYnl0ZXM6IGJ5dGVbXSkgOiBuZXZlciB7XHJcbiAgICAvLyAgICAgcmV0dXJuIFV0aWwuYXNzZXJ0RmFsc2UoKTsgLy8gVE9ETzogYWN0dWFsbHkgY2hhbmdlIHR5cGUgaGllcmFyY2h5IHNvIEFycmF5VHlwZXMgZG8gbm90IHN1cHBvcnQgYSBtZWNoYW5pc20gZm9yIHJlYWRpbmcvd3JpdGluZyB0aGVpciB2YWx1ZVxyXG4gICAgLy8gICAgIC8vIHZhciBhcnIgPSBbXTtcclxuICAgIC8vICAgICAvLyB2YXIgZWxlbVNpemUgPSB0aGlzLmVsZW1UeXBlLnNpemU7XHJcbiAgICAvLyAgICAgLy8gZm9yKHZhciBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSArPSBlbGVtU2l6ZSl7XHJcbiAgICAvLyAgICAgLy8gICAgIGFyci5wdXNoKHRoaXMuZWxlbVR5cGUuYnl0ZXNUb1ZhbHVlKGJ5dGVzLnNsaWNlKGksIGkgKyBlbGVtU2l6ZSkpKTtcclxuICAgIC8vICAgICAvLyB9XHJcbiAgICAvLyAgICAgLy8gcmV0dXJuIGFycjtcclxuICAgIC8vIH1cclxuICAgIC8vIHB1YmxpYyB2YWx1ZVRvQnl0ZXModmFsdWU6IFJhd1ZhbHVlVHlwZSkgOiBuZXZlciB7XHJcbiAgICAvLyAgICAgcmV0dXJuIFV0aWwuYXNzZXJ0RmFsc2UoKTsgLy8gVE9ETzogYWN0dWFsbHkgY2hhbmdlIHR5cGUgaGllcmFyY2h5IHNvIEFycmF5VHlwZXMgZG8gbm90IHN1cHBvcnQgYSBtZWNoYW5pc20gZm9yIHJlYWRpbmcvd3JpdGluZyB0aGVpciB2YWx1ZVxyXG4gICAgLy8gICAgIC8vIHJldHVybiBmbGF0dGVuKHZhbHVlLm1hcChcclxuICAgIC8vICAgICAvLyAgICAgKGVsZW06IFJhd1ZhbHVlVHlwZSkgPT4geyByZXR1cm4gdGhpcy5lbGVtVHlwZS52YWx1ZVRvQnl0ZXMoZWxlbSk7IH1cclxuICAgIC8vICAgICAvLyApKTtcclxuICAgIC8vIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBBcnJheU9mVW5rbm93bkJvdW5kVHlwZTxFbGVtX3R5cGUgZXh0ZW5kcyBBcnJheUVsZW1UeXBlID0gQXJyYXlFbGVtVHlwZT4gZXh0ZW5kcyBUeXBlQmFzZSB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHByZWNlZGVuY2UgPSAyO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBlbGVtVHlwZTogRWxlbV90eXBlO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBpc0NvbXBsZXRlID0gZmFsc2U7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHNpemVFeHByZXNzaW9uQVNUPzogRXhwcmVzc2lvbkFTVE5vZGU7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGVsZW1UeXBlOiBFbGVtX3R5cGUsIHNpemVFeHByZXNzaW9uQVNUPzogRXhwcmVzc2lvbkFTVE5vZGUpIHtcclxuICAgICAgICBzdXBlcihmYWxzZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZWxlbVR5cGUgPSBlbGVtVHlwZTtcclxuICAgICAgICB0aGlzLnNpemVFeHByZXNzaW9uQVNUID0gc2l6ZUV4cHJlc3Npb25BU1Q7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldENvbXBvdW5kTmV4dCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtVHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2FtZVR5cGUob3RoZXI6IFR5cGUpIDogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgQXJyYXlPZlVua25vd25Cb3VuZFR5cGUgJiYgdGhpcy5lbGVtVHlwZS5zYW1lVHlwZShvdGhlci5lbGVtVHlwZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNpbWlsYXJUeXBlKG90aGVyOiBUeXBlKSA6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIEFycmF5T2ZVbmtub3duQm91bmRUeXBlICYmIHRoaXMuZWxlbVR5cGUuc2ltaWxhclR5cGUob3RoZXIuZWxlbVR5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0eXBlU3RyaW5nKGV4Y2x1ZGVCYXNlOiBib29sZWFuLCB2YXJuYW1lOiBzdHJpbmcsIGRlY29yYXRlZDogYm9vbGVhbikge1xyXG5cdFx0cmV0dXJuIHRoaXMuZWxlbVR5cGUudHlwZVN0cmluZyhleGNsdWRlQmFzZSwgdmFybmFtZSArICBcIltdXCIsIGRlY29yYXRlZCk7XHJcbiAgICB9XHJcbiAgICBcclxuXHRwdWJsaWMgZW5nbGlzaFN0cmluZyhwbHVyYWw6IGJvb2xlYW4pIHtcclxuICAgICAgICByZXR1cm4gKHBsdXJhbCA/IFwiYXJyYXlzIG9mIHVua25vd24gYm91bmQgb2YgXCIgOiBcImFuIGFycmF5IG9mIHVua25vd24gYm91bmQgb2YgXCIpICsgdGhpcy5lbGVtVHlwZS5lbmdsaXNoU3RyaW5nKHRydWUpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcm90ZWN0ZWQgY3ZRdWFsaWZpZWRJbXBsKGlzQ29uc3Q6IGJvb2xlYW4sIGlzVm9sYXRpbGU6IGJvb2xlYW4pIHtcclxuICAgICAgICByZXR1cm4gbmV3IEFycmF5T2ZVbmtub3duQm91bmRUeXBlKHRoaXMuZWxlbVR5cGUsIHRoaXMuc2l6ZUV4cHJlc3Npb25BU1QpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGp1c3RUb1BvaW50ZXJUeXBlKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUG9pbnRlclR5cGUodGhpcy5lbGVtVHlwZSwgZmFsc2UsIGZhbHNlKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gVE9ETzogQWRkIGEgdHlwZSBmb3IgYW4gaW5jb21wbGV0ZSBjbGFzc1xyXG5cclxuLy8gVE9ETzogZ2V0IHJpZCBvZiBvciBtb3ZlIHRoaXMgY29tbWVudCBzb21ld2hlcmUgYXBwcm9wcmlhdGVcclxuLyoqXHJcbiAqIG1lbWJlckVudGl0aWVzIC0gYW4gYXJyYXkgb2YgYWxsIG1lbWJlciBlbnRpdGllcy4gZG9lcyBub3QgaW5sY3VkZSBjb25zdHJ1Y3RvcnMsIGRlc3RydWN0b3IsIG9yIGJhc2UgY2xhc3Mgc3Vib2JqZWN0IGVudGl0aWVzXHJcbiAqIHN1Ym9iamVjdEVudGl0aWVzIC0gYW4gYXJyYXkgY29udGFpbmluZyBhbGwgc3Vib2JqZWN0IGVudGl0aWVzLCBpbmNsdWRlIGJhc2UgY2xhc3Mgc3Vib2JqZWN0cyBhbmQgbWVtYmVyIHN1Ym9iamVjdHNcclxuICogYmFzZUNsYXNzRW50aXRpZXMgLSBhbiBhcnJheSBjb250YWluaW5nIGVudGl0aWVzIGZvciBhbnkgYmFzZSBjbGFzcyBzdWJvYmplY3RzXHJcbiAqIG1lbWJlclN1Ym9iamVjdEVudGl0aWVzIC0gYW4gYXJyYXkgY29udGFpbmluZyBlbnRpdGllcyBmb3IgbWVtYmVyIHN1Ym9iamVjdHMgKGRvZXMgbm90IGNvbnRhaW4gYmFzZSBjbGFzcyBzdWJvYmplY3RzKVxyXG4gKiBjb25zdHJ1Y3RvcnMgLSBhbiBhcnJheSBvZiB0aGUgY29uc3RydWN0b3IgZW50aXRpZXMgZm9yIHRoaXMgY2xhc3MuIG1heSBiZSBlbXB0eSBpZiBubyBjb25zdHJ1Y3RvcnNcclxuICogZGVzdHJ1Y3RvciAtIHRoZSBkZXN0cnVjdG9yIGVudGl0eSBmb3IgdGhpcyBjbGFzcy4gbWlnaHQgYmUgbnVsbCBpZiBkb2Vzbid0IGhhdmUgYSBkZXN0cnVjdG9yXHJcbiAqL1xyXG5cclxuXHJcblxyXG4gICAgLy8gVE9ETzogSEFDSyB0byBtYWtlIENsYXNzVHlwZSBleGlzdCBidXQgZG8gbm90aGluZyBmb3Igbm93XHJcbmV4cG9ydCBjbGFzcyBDbGFzc1R5cGUgZXh0ZW5kcyBPYmplY3RUeXBlIHtcclxuICAgIHB1YmxpYyBzaXplOiBudW1iZXI9IDA7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJlY2VkZW5jZTogbnVtYmVyID0gMDtcclxuICAgIHB1YmxpYyByZWFkb25seSBpc0NvbXBsZXRlOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2xhc3NOYW1lOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgcHVibGljIHNhbWVUeXBlKG90aGVyOiBUeXBlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2ltaWxhclR5cGUob3RoZXI6IFR5cGUpOiBib29sZWFuIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNEZXJpdmVkRnJvbShvdGhlcjogVHlwZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0eXBlU3RyaW5nKGV4Y2x1ZGVCYXNlOiBib29sZWFuLCB2YXJuYW1lOiBzdHJpbmcsIGRlY29yYXRlZD86IGJvb2xlYW4gfCB1bmRlZmluZWQpOiBzdHJpbmcge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGVuZ2xpc2hTdHJpbmcocGx1cmFsOiBib29sZWFuKTogc3RyaW5nIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJvdGVjdGVkIGN2UXVhbGlmaWVkSW1wbChpc0NvbnN0OiBib29sZWFuLCBpc1ZvbGF0aWxlOiBib29sZWFuKSB7XHJcbiAgICAgICAgLy8gVE9ET1xyXG4gICAgICAgIHJldHVybiBuZXcgQ2xhc3NUeXBlKGlzQ29uc3QsIGlzVm9sYXRpbGUpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBleHBvcnQgY2xhc3MgQ2xhc3NUeXBlIGV4dGVuZHMgT2JqZWN0VHlwZSB7XHJcbi8vICAgICBwdWJsaWMgaXNWYWx1ZVZhbGlkKHZhbHVlOiBudW1iZXIpOiBib29sZWFuIHtcclxuLy8gICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuLy8gICAgIH1cclxuLy8gICAgIHB1YmxpYyB2YWx1ZVRvU3RyaW5nKHZhbHVlOiBudW1iZXIpOiBzdHJpbmcge1xyXG4vLyAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBlbmdsaXNoU3RyaW5nKHBsdXJhbDogYm9vbGVhbik6IHN0cmluZyB7XHJcbi8vICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbi8vICAgICB9XHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgcHJlY2VkZW5jZSA9IDA7XHJcblxyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IGNwcENsYXNzOiBDUFBDbGFzcztcclxuXHJcbi8vICAgICBwdWJsaWMgY29uc3RydWN0b3IoY3BwQ2xhc3M6IENQUENsYXNzLCBpc0NvbnN0PzogYm9vbGVhbiwgaXNWb2xhdGlsZT86IGJvb2xlYW4pIHtcclxuLy8gICAgICAgICBzdXBlcihpc0NvbnN0LCBpc1ZvbGF0aWxlKTtcclxuXHJcbi8vICAgICAgICAgdGhpcy5jcHBDbGFzcyA9IGNwcENsYXNzO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBnZXQgaXNDb21wbGV0ZSgpIHtcclxuLy8gICAgICAgICByZXR1cm4gdGhpcy5jcHBDbGFzcy5pc0NvbXBsZXRlO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBnZXQgc2l6ZSgpIHtcclxuLy8gICAgICAgICByZXR1cm4gdGhpcy5jcHBDbGFzcy5zaXplO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBzYW1lVHlwZShvdGhlcjogVHlwZSkge1xyXG4vLyAgICAgICAgIC8vYWxlcnQob3RoZXIuaXNBKHRoaXMuX2NsYXNzKSk7XHJcbi8vICAgICAgICAgcmV0dXJuIHRoaXMuc2ltaWxhclR5cGUob3RoZXIpXHJcbi8vICAgICAgICAgICAgICYmIG90aGVyLmlzQ29uc3QgPT09IHRoaXMuaXNDb25zdFxyXG4vLyAgICAgICAgICAgICAmJiBvdGhlci5pc1ZvbGF0aWxlID09PSB0aGlzLmlzVm9sYXRpbGU7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIHNpbWlsYXJUeXBlKG90aGVyOiBUeXBlKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgQ2xhc3NUeXBlICYmIG90aGVyLmNwcENsYXNzLmZ1bGx5UXVhbGlmaWVkTmFtZSA9PT0gdGhpcy5jcHBDbGFzcy5mdWxseVF1YWxpZmllZE5hbWU7XHJcbi8vICAgICB9XHJcbi8vICAgICB0eXBlU3RyaW5nIDogZnVuY3Rpb24oZXhjbHVkZUJhc2UsIHZhcm5hbWUsIGRlY29yYXRlZCl7XHJcbi8vICAgICAgICAgaWYgKGV4Y2x1ZGVCYXNlKSB7XHJcbi8vICAgICAgICAgICAgIHJldHVybiB2YXJuYW1lID8gdmFybmFtZSA6IFwiXCI7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENWU3RyaW5nKCkgKyAoZGVjb3JhdGVkID8gVXRpbC5odG1sRGVjb3JhdGVkVHlwZSh0aGlzLmNsYXNzTmFtZSkgOiB0aGlzLmNsYXNzTmFtZSkgKyAodmFybmFtZSA/IFwiIFwiICsgdmFybmFtZSA6IFwiXCIpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcbi8vICAgICBlbmdsaXNoU3RyaW5nIDogZnVuY3Rpb24ocGx1cmFsKXtcclxuLy8gICAgICAgICAvLyBubyByZWN1cnNpdmUgY2FsbHMgdG8gdGhpcy50eXBlLmVuZ2xpc2hTdHJpbmcoKSBoZXJlXHJcbi8vICAgICAgICAgLy8gYmVjYXVzZSB0aGlzLnR5cGUgaXMganVzdCBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHR5cGVcclxuLy8gICAgICAgICByZXR1cm4gdGhpcy5nZXRDVlN0cmluZygpICsgKHBsdXJhbCA/IHRoaXMuY2xhc3NOYW1lK1wic1wiIDogKGlzVm93ZWwodGhpcy5jbGFzc05hbWUuY2hhckF0KDApKSA/IFwiYW4gXCIgOiBcImEgXCIpICsgdGhpcy5jbGFzc05hbWUpO1xyXG4vLyAgICAgfSxcclxuLy8gICAgIHZhbHVlVG9TdHJpbmcgOiBmdW5jdGlvbih2YWx1ZSl7XHJcbi8vICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlLCBudWxsLCAyKTtcclxuLy8gICAgIH0sXHJcbi8vICAgICBieXRlc1RvVmFsdWUgOiBmdW5jdGlvbihieXRlcyl7XHJcbi8vICAgICAgICAgdmFyIHZhbCA9IHt9O1xyXG4vLyAgICAgICAgIHZhciBiID0gMDtcclxuLy8gICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5tZW1iZXJTdWJvYmplY3RFbnRpdGllcy5sZW5ndGg7ICsraSkge1xyXG4vLyAgICAgICAgICAgICB2YXIgbWVtID0gdGhpcy5tZW1iZXJTdWJvYmplY3RFbnRpdGllc1tpXTtcclxuLy8gICAgICAgICAgICAgdmFsW21lbS5uYW1lXSA9IG1lbS50eXBlLmJ5dGVzVG9WYWx1ZShieXRlcy5zbGljZShiLCBiICsgbWVtLnR5cGUuc2l6ZSkpO1xyXG4vLyAgICAgICAgICAgICBiICs9IG1lbS50eXBlLnNpemU7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIHJldHVybiB2YWw7XHJcbi8vICAgICB9LFxyXG4vLyAgICAgdmFsdWVUb0J5dGVzIDogZnVuY3Rpb24odmFsdWUpe1xyXG4vLyAgICAgICAgIHZhciBieXRlcyA9IFtdO1xyXG4vLyAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLm1lbWJlclN1Ym9iamVjdEVudGl0aWVzLmxlbmd0aDsgKytpKSB7XHJcbi8vICAgICAgICAgICAgIHZhciBtZW0gPSB0aGlzLm1lbWJlclN1Ym9iamVjdEVudGl0aWVzW2ldO1xyXG4vLyAgICAgICAgICAgICBieXRlcy5wdXNoQWxsKG1lbS50eXBlLnZhbHVlVG9CeXRlcyh2YWx1ZVttZW0ubmFtZV0pKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgcmV0dXJuIGJ5dGVzO1xyXG4vLyAgICAgfVxyXG4vLyB9XHJcblxyXG4vLyBleHBvcnQgY2xhc3MgQ1BQQ2xhc3Mge1xyXG5cclxuLy8gICAgIHByaXZhdGUgc3RhdGljIG5leHRDbGFzc0lkID0gMDtcclxuXHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IGZ1bGx5UXVhbGlmaWVkTmFtZTogc3RyaW5nO1xyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IHNpemU6IG51bWJlciA9IDE7XHJcbi8vICAgICBwcml2YXRlIGFjdHVhbGx5WmVyb1NpemUgPSB0cnVlO1xyXG5cclxuLy8gICAgIC8vIFRPRE86IHRoZXJlIGlzbid0IHJlYWxseSBhIG5lZWQgdG8gc3RvcmUgZW50aXRpZXMgaW4gaGVyZS4ganVzdCB0aGUgdHlwZXMgd291bGQgYmUgZmluZSBhbmQgZW50aXRpZXMgZm9yIHRoZSBuYW1lZFxyXG4vLyAgICAgLy8gbWVtYmVycyB3b3VsZCBzdGlsbCBnbyBpbiB0aGUgY2xhc3Mgc2NvcGUuIEJhc2UgY2xhc3MgZW50aXRpZXMgYXJlbid0IHJlYWxseSBuZWVkZWQgYXQgYWxsLlxyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IHNjb3BlOiBDbGFzc1Njb3BlO1xyXG4vLyAgICAgcHJpdmF0ZSBtZW1iZXJFbnRpdGllcyA6IE1lbWJlclZhcmlhYmxlRW50aXR5W10gPSBbXTtcclxuLy8gICAgIHByaXZhdGUgc3Vib2JqZWN0RW50aXRpZXM6IChNZW1iZXJWYXJpYWJsZUVudGl0eSB8IEJhc2VDbGFzc0VudGl0eSlbXSA9IFtdO1xyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IGJhc2VDbGFzc0VudGl0aWVzOiBCYXNlQ2xhc3NFbnRpdHlbXSA9IFtdO1xyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IG1lbWJlclN1Ym9iamVjdEVudGl0aWVzOiBNZW1iZXJWYXJpYWJsZUVudGl0eVtdID0gW107XHJcbi8vICAgICBwdWJsaWMgY3RvcnM6IENvbnN0cnVjdG9yRW50aXR5W10gPSBbXTtcclxuLy8gICAgIHB1YmxpYyBkZXN0cnVjdG9yPzogRGVzdHJ1Y3RvckVudGl0eTtcclxuXHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgaXNDb21wbGV0ZTogYm9vbGVhbjtcclxuICAgIFxyXG4vLyAgICAgcHVibGljIGNvbnN0cnVjdG9yKGZ1bGx5UXVhbGlmaWVkTmFtZTogc3RyaW5nLCBwYXJlbnRTY29wZTogU2NvcGUsIGJhc2VDbGFzczogQ2xhc3NFbnRpdHkpIHtcclxuLy8gICAgICAgICB0aGlzLmZ1bGx5UXVhbGlmaWVkTmFtZSA9IGZ1bGx5UXVhbGlmaWVkTmFtZTtcclxuLy8gICAgICAgICB0aGlzLm5hbWUgPSBmdWxseVF1YWxpZmllZE5hbWVUb1VucXVhbGlmaWVkKGZ1bGx5UXVhbGlmaWVkTmFtZSk7XHJcbi8vICAgICAgICAgdGhpcy5zY29wZSA9IENsYXNzU2NvcGUuaW5zdGFuY2UobmFtZSwgcGFyZW50U2NvcGUsIGJhc2VDbGFzcyk7XHJcblxyXG4vLyAgICAgICAgIGlmIChiYXNlQ2xhc3MpIHtcclxuLy8gICAgICAgICAgICAgbGV0IGJhc2VFbnRpdHkgPSBuZXcgQmFzZUNsYXNzRW50aXR5KGJhc2VDbGFzcywgdGhpcywgXCJwdWJsaWNcIik7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYmFzZUNsYXNzRW50aXRpZXMucHVzaChiYXNlRW50aXR5KTtcclxuLy8gICAgICAgICAgICAgdGhpcy5zdWJvYmplY3RFbnRpdGllcy5wdXNoKGJhc2VFbnRpdHkpO1xyXG4vLyAgICAgICAgICAgICB0aGlzLnNpemUgKz0gYmFzZS50eXBlLnNpemU7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICB0aGlzLmlzQ29tcGxldGUgPSBmYWxzZTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgZ2V0QmFzZUNsYXNzKCkge1xyXG4vLyAgICAgICAgIGlmICh0aGlzLmJhc2VDbGFzc0VudGl0aWVzLmxlbmd0aCA+IDApIHtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmFzZUNsYXNzRW50aXRpZXNbMF07XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2Uge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIG1lbWJlckxvb2t1cChtZW1iZXJOYW1lOiBzdHJpbmcsIG9wdGlvbnM6IE5hbWVMb29rdXBPcHRpb25zKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUubWVtYmVyTG9va3VwKG1lbWJlck5hbWUsIG9wdGlvbnMpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyByZXF1aXJlZE1lbWJlckxvb2t1cChtZW1iZXJOYW1lOiBzdHJpbmcsIG9wdGlvbnM6IE5hbWVMb29rdXBPcHRpb25zKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUucmVxdWlyZWRNZW1iZXJMb29rdXAobWVtYmVyTmFtZSwgb3B0aW9ucyk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIGhhc01lbWJlcihtZW1iZXJOYW1lOiBzdHJpbmcsIG9wdGlvbnM6IE5hbWVMb29rdXBPcHRpb25zKSB7XHJcbi8vICAgICAgICAgcmV0dXJuICEhdGhpcy5tZW1iZXJMb29rdXAobWVtYmVyTmFtZSwgb3B0aW9ucyk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIGFkZE1lbWJlcihtZW06IENQUEVudGl0eSkge1xyXG4vLyAgICAgICAgIFV0aWwuYXNzZXJ0KCF0aGlzLmlzQ29tcGxldGUsIFwiTWF5IG5vdCBtb2RpZnkgYSBjbGFzcyBkZWZpbml0aW9uIG9uY2UgaXQgaGFzIGJlZW4gY29tcGxldGVkLlwiKTtcclxuLy8gICAgICAgICB0aGlzLnNjb3BlLmFkZERlY2xhcmVkRW50aXR5KG1lbSk7XHJcbi8vICAgICAgICAgdGhpcy5tZW1iZXJFbnRpdGllcy5wdXNoKG1lbSk7XHJcbi8vICAgICAgICAgaWYobWVtLnR5cGUuaXNPYmplY3RUeXBlKCkpe1xyXG4vLyAgICAgICAgICAgICBpZiAodGhpcy5hY3R1YWxseVplcm9TaXplKXtcclxuLy8gICAgICAgICAgICAgICAgICg8bnVtYmVyPnRoaXMuc2l6ZSkgPSAwO1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5hY3R1YWxseVplcm9TaXplID0gZmFsc2U7XHJcbi8vICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgIHRoaXMubWVtYmVyU3Vib2JqZWN0RW50aXRpZXMucHVzaChtZW0pO1xyXG4vLyAgICAgICAgICAgICB0aGlzLnN1Ym9iamVjdEVudGl0aWVzLnB1c2gobWVtKTtcclxuLy8gICAgICAgICAgICAgKDxudW1iZXI+dGhpcy5zaXplKSArPSBtZW0udHlwZS5zaXplO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgYWRkQ29uc3RydWN0b3IoY29uc3RydWN0b3I6IENvbnN0cnVjdG9yRW50aXR5KSB7XHJcbi8vICAgICAgICAgVXRpbC5hc3NlcnQoIXRoaXMuaXNDb21wbGV0ZSwgXCJNYXkgbm90IG1vZGlmeSBhIGNsYXNzIGRlZmluaXRpb24gb25jZSBpdCBoYXMgYmVlbiBjb21wbGV0ZWQuXCIpO1xyXG4vLyAgICAgICAgIHRoaXMuY3RvcnMucHVzaChjb25zdHJ1Y3Rvcik7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIGFkZERlc3RydWN0b3IoZGVzdHJ1Y3RvcjogRGVzdHJ1Y3RvckVudGl0eSkge1xyXG4vLyAgICAgICAgIFV0aWwuYXNzZXJ0KCF0aGlzLmlzQ29tcGxldGUsIFwiTWF5IG5vdCBtb2RpZnkgYSBjbGFzcyBkZWZpbml0aW9uIG9uY2UgaXQgaGFzIGJlZW4gY29tcGxldGVkLlwiKTtcclxuLy8gICAgICAgICB0aGlzLmRlc3RydWN0b3IgPSBkZXN0cnVjdG9yO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBnZXREZWZhdWx0Q29uc3RydWN0b3IoKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuc2luZ2xlTG9va3VwKHRoaXMubmFtZStcIlxcMFwiLCB7XHJcbi8vICAgICAgICAgICAgIG93bjp0cnVlLCBub0Jhc2U6dHJ1ZSwgZXhhY3RNYXRjaDp0cnVlLFxyXG4vLyAgICAgICAgICAgICBwYXJhbVR5cGVzOltdfSk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIGdldENvcHlDb25zdHJ1Y3RvcihyZXF1aXJlQ29uc3Q6IGJvb2xlYW4pe1xyXG4vLyAgICAgICAgIHJldHVybiB0aGlzLnNjb3BlLnNpbmdsZUxvb2t1cCh0aGlzLm5hbWUrXCJcXDBcIiwge1xyXG4vLyAgICAgICAgICAgICAgICAgb3duOnRydWUsIG5vQmFzZTp0cnVlLCBleGFjdE1hdGNoOnRydWUsXHJcbi8vICAgICAgICAgICAgICAgICBwYXJhbVR5cGVzOltuZXcgUmVmZXJlbmNlKG5ldyBDbGFzc1R5cGUodGhpcywgdHJ1ZSkpXX0pIHx8XHJcbi8vICAgICAgICAgICAgICFyZXF1aXJlQ29uc3QgJiZcclxuLy8gICAgICAgICAgICAgdGhpcy5zY29wZS5zaW5nbGVMb29rdXAodGhpcy5uYW1lK1wiXFwwXCIsIHtcclxuLy8gICAgICAgICAgICAgICAgIG93bjp0cnVlLCBub0Jhc2U6dHJ1ZSwgZXhhY3RNYXRjaDp0cnVlLFxyXG4vLyAgICAgICAgICAgICAgICAgcGFyYW1UeXBlczpbbmV3IFJlZmVyZW5jZShuZXcgQ2xhc3NUeXBlKHRoaXMpKV19KTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgZ2V0QXNzaWdubWVudE9wZXJhdG9yKHJlcXVpcmVDb25zdDogYm9vbGVhbiwgaXNUaGlzQ29uc3Q6IGJvb2xlYW4pIHtcclxuLy8gICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5zaW5nbGVMb29rdXAoXCJvcGVyYXRvcj1cIiwge1xyXG4vLyAgICAgICAgICAgICAgICAgb3duOnRydWUsIG5vQmFzZTp0cnVlLCBleGFjdE1hdGNoOnRydWUsXHJcbi8vICAgICAgICAgICAgICAgICBwYXJhbVR5cGVzOltuZXcgQ2xhc3NUeXBlKHRoaXMpXX0pIHx8XHJcbi8vICAgICAgICAgICAgIHRoaXMuc2NvcGUuc2luZ2xlTG9va3VwKFwib3BlcmF0b3I9XCIsIHtcclxuLy8gICAgICAgICAgICAgICAgIG93bjp0cnVlLCBub0Jhc2U6dHJ1ZSwgZXhhY3RNYXRjaDp0cnVlLFxyXG4vLyAgICAgICAgICAgICAgICAgcGFyYW1UeXBlczpbbmV3IFJlZmVyZW5jZShuZXcgQ2xhc3NUeXBlKHRoaXMsIHRydWUpKV19KSB8fFxyXG4vLyAgICAgICAgICAgICAhcmVxdWlyZUNvbnN0ICYmXHJcbi8vICAgICAgICAgICAgIHRoaXMuc2NvcGUuc2luZ2xlTG9va3VwKFwib3BlcmF0b3I9XCIsIHtcclxuLy8gICAgICAgICAgICAgICAgIG93bjp0cnVlLCBub0Jhc2U6dHJ1ZSwgZXhhY3RNYXRjaDp0cnVlLFxyXG4vLyAgICAgICAgICAgICAgICAgcGFyYW1UeXBlczpbbmV3IFJlZmVyZW5jZShuZXcgQ2xhc3NUeXBlKHRoaXMpKV19KVxyXG5cclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgbWFrZUNvbXBsZXRlKCkge1xyXG4vLyAgICAgICAgICg8Ym9vbGVhbj50aGlzLmlzQ29tcGxldGUpID0gdHJ1ZTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICAvLyBUT0RPOiB0aGluayBhYm91dCB3aGV0aGVyIHRoaXMgaXMgbmVjZXNzYXJ5IChpdCBwcm9iYWJseSBpcywgb3IgbWF5YmUganVzdCB0aGUgY2xhc3Mgc2NvcGVzIHdvdWxkIG5lZWQgdG8gYmUgbWVyZ2VkPylcclxuLy8gICAgIC8vIG1lcmdlIDogZnVuY3Rpb24oY2xhc3MxLCBjbGFzczIpIHtcclxuLy8gICAgIC8vICAgICBjbGFzczEuaV9jbGFzc0lkID0gY2xhc3MyLmlfY2xhc3NJZCA9IE1hdGgubWluKGNsYXNzMS5pX2NsYXNzSWQsIGNsYXNzMi5pX2NsYXNzSWQpO1xyXG4vLyAgICAgLy8gfSxcclxuXHJcbi8vICAgICBwdWJsaWMgaXNEZXJpdmVkRnJvbShwb3RlbnRpYWxCYXNlOiBDbGFzc0VudGl0eSkge1xyXG4vLyAgICAgICAgIHZhciBiID0gdGhpcy5nZXRCYXNlQ2xhc3MoKTtcclxuLy8gICAgICAgICB3aGlsZShiKSB7XHJcbi8vICAgICAgICAgICAgIGlmIChzaW1pbGFyVHlwZShwb3RlbnRpYWxCYXNlLnR5cGUsIGIudHlwZSkpIHtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGIgPSBiLmJhc2U7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIHJldHVybiBmYWxzZTtcclxuLy8gICAgIH1cclxuXHJcblxyXG5cclxuLy8gfVxyXG4vLyBleHBvcnQge0NsYXNzVHlwZSBhcyBDbGFzc307XHJcblxyXG5cclxuXHJcbi8vIFJFUVVJUkVTOiByZXR1cm5UeXBlIG11c3QgYmUgYSB0eXBlXHJcbi8vICAgICAgICAgICBhcmdUeXBlcyBtdXN0IGJlIGFuIGFycmF5IG9mIHR5cGVzXHJcbmV4cG9ydCBjbGFzcyBGdW5jdGlvblR5cGUgZXh0ZW5kcyBUeXBlQmFzZSB7XHJcbiAgICBwdWJsaWMgaXNDb21wbGV0ZSA9IHRydWU7XHJcbiAgICBcclxuICAgIHB1YmxpYyByZWFkb25seSBwcmVjZWRlbmNlID0gMjtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmV0dXJuVHlwZTogUG90ZW50aWFsUmV0dXJuVHlwZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBwYXJhbVR5cGVzOiByZWFkb25seSBQb3RlbnRpYWxQYXJhbWV0ZXJUeXBlW107XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVjZWl2ZXJUeXBlPzogQ2xhc3NUeXBlO1xyXG5cclxuICAgIHByaXZhdGUgcGFyYW1TdHJUeXBlOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHBhcmFtU3RyRW5nbGlzaDogc3RyaW5nO1xyXG4gICAgXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IocmV0dXJuVHlwZTogUG90ZW50aWFsUmV0dXJuVHlwZSwgcGFyYW1UeXBlczogcmVhZG9ubHkgUG90ZW50aWFsUGFyYW1ldGVyVHlwZVtdLCBpc0NvbnN0PzogYm9vbGVhbiwgaXNWb2xhdGlsZT86IGJvb2xlYW4sIHJlY2VpdmVyVHlwZT86IENsYXNzVHlwZSkge1xyXG4gICAgICAgIHN1cGVyKGlzQ29uc3QsIGlzVm9sYXRpbGUpO1xyXG5cclxuICAgICAgICB0aGlzLnJlY2VpdmVyVHlwZSA9IHJlY2VpdmVyVHlwZTtcclxuXHJcbiAgICAgICAgLy8gVG9wLWxldmVsIGNvbnN0IG9uIHJldHVybiB0eXBlIGlzIGlnbm9yZWQgZm9yIG5vbi1jbGFzcyB0eXBlc1xyXG4gICAgICAgIC8vIChJdCdzIGEgdmFsdWUgc2VtYW50aWNzIHRoaW5nLilcclxuICAgICAgICBpZighKHJldHVyblR5cGUgaW5zdGFuY2VvZiBDbGFzc1R5cGUgfHwgcmV0dXJuVHlwZSBpbnN0YW5jZW9mIFBvaW50ZXJUeXBlIHx8IHJldHVyblR5cGUgaW5zdGFuY2VvZiBSZWZlcmVuY2VUeXBlKSl7XHJcbiAgICAgICAgICAgIHRoaXMucmV0dXJuVHlwZSA9IHJldHVyblR5cGUuY3ZVbnF1YWxpZmllZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICB0aGlzLnJldHVyblR5cGUgPSByZXR1cm5UeXBlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVG9wLWxldmVsIGNvbnN0IG9uIHBhcmFtZXRlciB0eXBlcyBpcyBpZ25vcmVkIGZvciBub24tY2xhc3MgdHlwZXNcclxuICAgICAgICB0aGlzLnBhcmFtVHlwZXMgPSBwYXJhbVR5cGVzLm1hcCgocHR5cGUpID0+IHB0eXBlIGluc3RhbmNlb2YgQ2xhc3NUeXBlID8gcHR5cGUgOiBwdHlwZS5jdlVucXVhbGlmaWVkKCkpO1xyXG5cclxuICAgICAgICB0aGlzLnBhcmFtU3RyVHlwZSA9IFwiKFwiO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyYW1UeXBlcy5sZW5ndGg7ICsraSl7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1TdHJUeXBlICs9IChpID09IDAgPyBcIlwiIDogXCIsXCIpICsgcGFyYW1UeXBlc1tpXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wYXJhbVN0clR5cGUgKz0gXCIpXCI7XHJcblxyXG4gICAgICAgIHRoaXMucGFyYW1TdHJFbmdsaXNoID0gXCIoXCI7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbVR5cGVzLmxlbmd0aDsgKytpKXtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbVN0ckVuZ2xpc2ggKz0gKGkgPT0gMCA/IFwiXCIgOiBcIiwgXCIpICsgcGFyYW1UeXBlc1tpXS5lbmdsaXNoU3RyaW5nKGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wYXJhbVN0ckVuZ2xpc2ggKz0gXCIpXCI7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByb3RlY3RlZCBjdlF1YWxpZmllZEltcGwoaXNDb25zdDogYm9vbGVhbiwgaXNWb2xhdGlsZTogYm9vbGVhbikge1xyXG4gICAgICAgIHJldHVybiBuZXcgRnVuY3Rpb25UeXBlKHRoaXMucmV0dXJuVHlwZSwgdGhpcy5wYXJhbVR5cGVzLCBpc0NvbnN0LCBpc1ZvbGF0aWxlLCB0aGlzLnJlY2VpdmVyVHlwZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNhbWVUeXBlKG90aGVyOiBUeXBlKSB7XHJcbiAgICAgICAgaWYgKCFvdGhlcil7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBGdW5jdGlvblR5cGUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLnNhbWVSZXR1cm5UeXBlKG90aGVyKSl7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLnNhbWVQYXJhbVR5cGVzKG90aGVyKSl7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVE9ETzogc2hvdWxkIHRoaXMgYmUgaGVyZT9cclxuICAgICAgICAvLyBpZiAoIXRoaXMuc2FtZVJlY2VpdmVyVHlwZShvdGhlcikpIHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPOiBDaGVjayBkZWZpbml0aW9uIG9mIHNpbWlsYXIgdHlwZXMgZm9yIGZ1bmN0aW9uc1xyXG4gICAgcHVibGljIHNpbWlsYXJUeXBlKG90aGVyOiBUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2FtZVR5cGUob3RoZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzYW1lUGFyYW1UeXBlcyhvdGhlcjogRnVuY3Rpb25UeXBlIHwgcmVhZG9ubHkgVHlwZVtdKSB7XHJcbiAgICAgICAgbGV0IG90aGVyUGFyYW1UeXBlcyA9IG90aGVyIGluc3RhbmNlb2YgRnVuY3Rpb25UeXBlID8gb3RoZXIucGFyYW1UeXBlcyA6IG90aGVyO1xyXG4gICAgICAgIGlmICh0aGlzLnBhcmFtVHlwZXMubGVuZ3RoICE9PSBvdGhlclBhcmFtVHlwZXMubGVuZ3RoKXtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5wYXJhbVR5cGVzLmxlbmd0aDsgKytpKXtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmFtVHlwZXNbaV0uc2FtZVR5cGUob3RoZXJQYXJhbVR5cGVzW2ldKSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNhbWVSZXR1cm5UeXBlKG90aGVyOiBGdW5jdGlvblR5cGUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZXR1cm5UeXBlLnNhbWVUeXBlKG90aGVyLnJldHVyblR5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzYW1lUmVjZWl2ZXJUeXBlKG90aGVyOiBGdW5jdGlvblR5cGUpIHtcclxuICAgICAgICBpZiAoIXRoaXMucmVjZWl2ZXJUeXBlIHx8ICFvdGhlci5yZWNlaXZlclR5cGUpIHtcclxuICAgICAgICAgICAgLy8gSWYgZWl0aGVyIGRvZXMgbm90IGhhdmUgYSByZWNlaXZlciwgcmV0dXJuIHRydWUgb25seSBpZiBuZWl0aGVyIGhhcyBhIHJlY2VpdmVyXHJcbiAgICAgICAgICAgIHJldHVybiAhdGhpcy5yZWNlaXZlclR5cGUgJiYgIW90aGVyLnJlY2VpdmVyVHlwZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnJlY2VpdmVyVHlwZS5zYW1lVHlwZShvdGhlci5yZWNlaXZlclR5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzYW1lU2lnbmF0dXJlKG90aGVyOiBGdW5jdGlvblR5cGUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zYW1lUmVjZWl2ZXJUeXBlKG90aGVyKSAmJiB0aGlzLnNhbWVQYXJhbVR5cGVzKG90aGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNQb3RlbnRpYWxPdmVycmlkZXJPZihvdGhlcjogRnVuY3Rpb25UeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2FtZVBhcmFtVHlwZXMob3RoZXIpICYmIHRoaXMuaXNDb25zdCA9PT0gb3RoZXIuaXNDb25zdCAmJiB0aGlzLmlzVm9sYXRpbGUgPT0gb3RoZXIuaXNWb2xhdGlsZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdHlwZVN0cmluZyhleGNsdWRlQmFzZTogYm9vbGVhbiwgdmFybmFtZTogc3RyaW5nLCBkZWNvcmF0ZWQ6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJldHVyblR5cGUudHlwZVN0cmluZyhleGNsdWRlQmFzZSwgdmFybmFtZSArIHRoaXMucGFyYW1TdHJUeXBlLCBkZWNvcmF0ZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBlbmdsaXNoU3RyaW5nKHBsdXJhbDogYm9vbGVhbikge1xyXG4gICAgICAgIHJldHVybiAocGx1cmFsID8gXCJmdW5jdGlvbnMgdGhhdCB0YWtlIFwiIDogXCJhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgXCIpICsgdGhpcy5wYXJhbVN0ckVuZ2xpc2ggKyBcIiBcIiArXHJcbiAgICAgICAgICAgICAgIChwbHVyYWwgPyBcImFuZCByZXR1cm4gXCIgOiBcImFuZCByZXR1cm5zIFwiKSArIHRoaXMucmV0dXJuVHlwZS5lbmdsaXNoU3RyaW5nKGZhbHNlKTtcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgYnVpbHRJblR5cGVOYW1lcyA9IG5ldyBTZXQoW1wiY2hhclwiLCBcImludFwiLCBcImJvb2xcIiwgXCJmbG9hdFwiLCBcImRvdWJsZVwiLCBcInZvaWRcIl0pO1xyXG5leHBvcnQgZnVuY3Rpb24gaXNCdWlsdEluVHlwZU5hbWUobmFtZTogc3RyaW5nKSA6IG5hbWUgaXMgXCJjaGFyXCIgfCBcImludFwiIHwgXCJib29sXCIgfCBcImZsb2F0XCIgfCBcImRvdWJsZVwiIHwgXCJ2b2lkXCIge1xyXG4gICAgcmV0dXJuIGJ1aWx0SW5UeXBlTmFtZXMuaGFzKG5hbWUpO1xyXG59XHJcbmV4cG9ydCBjb25zdCBidWlsdEluVHlwZXMgPSB7XHJcbiAgICBcImNoYXJcIjogQ2hhcixcclxuICAgIFwiaW50XCI6IEludCxcclxuICAgIFwiYm9vbFwiOiBCb29sLFxyXG4gICAgXCJmbG9hdFwiOiBGbG9hdCxcclxuICAgIFwiZG91YmxlXCI6IERvdWJsZSxcclxuICAgIFwidm9pZFwiOiBWb2lkVHlwZVxyXG59OyIsImltcG9ydCB7IFByb2dyYW0sIFRyYW5zbGF0aW9uVW5pdCwgU291cmNlUmVmZXJlbmNlIH0gZnJvbSBcIi4vUHJvZ3JhbVwiO1xyXG5pbXBvcnQgeyBTY29wZSwgVGVtcG9yYXJ5T2JqZWN0RW50aXR5LCBGdW5jdGlvbkVudGl0eSwgQXV0b0VudGl0eSwgTG9jYWxWYXJpYWJsZUVudGl0eSwgTG9jYWxSZWZlcmVuY2VFbnRpdHksIEJsb2NrU2NvcGUgfSBmcm9tIFwiLi9lbnRpdGllc1wiO1xyXG5pbXBvcnQgeyBOb3RlLCBOb3RlS2luZCwgQ1BQRXJyb3IgfSBmcm9tIFwiLi9lcnJvcnNcIjtcclxuaW1wb3J0IHsgYXNNdXRhYmxlLCBNdXRhYmxlLCBhc3NlcnRGYWxzZSwgYXNzZXJ0IH0gZnJvbSBcIi4uL3V0aWwvdXRpbFwiO1xyXG5pbXBvcnQgeyBTaW11bGF0aW9uIH0gZnJvbSBcIi4vU2ltdWxhdGlvblwiO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSBcIi4uL3V0aWwvb2JzZXJ2ZVwiO1xyXG5pbXBvcnQgeyBPYmplY3RUeXBlLCBDbGFzc1R5cGUsIFJlZmVyZW5jZVR5cGUsIE5vUmVmVHlwZSwgVm9pZFR5cGUsIFBvdGVudGlhbFJldHVyblR5cGUsIFR5cGUgfSBmcm9tIFwiLi90eXBlc1wiO1xyXG5pbXBvcnQgeyBUZW1wb3JhcnlPYmplY3QsIENQUE9iamVjdCB9IGZyb20gXCIuL29iamVjdHNcIjtcclxuaW1wb3J0IHsgR2xvYmFsT2JqZWN0RGVmaW5pdGlvbiwgQ29tcGlsZWRHbG9iYWxPYmplY3REZWZpbml0aW9uLCBDb21waWxlZEZ1bmN0aW9uRGVmaW5pdGlvbiB9IGZyb20gXCIuL2RlY2xhcmF0aW9uc1wiO1xyXG5pbXBvcnQgeyBSdW50aW1lQmxvY2sgfSBmcm9tIFwiLi9zdGF0ZW1lbnRzXCI7XHJcbmltcG9ydCB7IE1lbW9yeUZyYW1lIH0gZnJvbSBcIi4vcnVudGltZUVudmlyb25tZW50XCI7XHJcbmltcG9ydCB7IFJ1bnRpbWVGdW5jdGlvbkNhbGwgfSBmcm9tIFwiLi9mdW5jdGlvbkNhbGxcIjtcclxuXHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEZXNjcmlwdGlvbiB7XHJcbiAgICBuYW1lPzogc3RyaW5nO1xyXG4gICAgbWVzc2FnZTogc3RyaW5nO1xyXG4gICAgaWdub3JlPzogYm9vbGVhbjsgLy8gVE9ETzogY2hlY2sgd2hhdCB0aGlzIGlzIHVzZWQgZm9yXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRXhwbGFuYXRpb24ge1xyXG4gICAgbWVzc2FnZTogc3RyaW5nO1xyXG4gICAgaWdub3JlPzogYm9vbGVhbjsgLy8gVE9ETzogY2hlY2sgd2hhdCB0aGlzIGlzIHVzZWQgZm9yXHJcbn1cclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEFTVE5vZGUge1xyXG4gICAgLy8gcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IHN0cmluZztcclxuICAgIHJlYWRvbmx5IHNvdXJjZToge1xyXG4gICAgICAgIHJlYWRvbmx5IHN0YXJ0IDogbnVtYmVyO1xyXG4gICAgICAgIHJlYWRvbmx5IGVuZCA6IG51bWJlcjtcclxuICAgICAgICByZWFkb25seSB0ZXh0IDogc3RyaW5nO1xyXG4gICAgICAgIHJlYWRvbmx5IGxpbmUgOiBudW1iZXI7XHJcbiAgICAgICAgcmVhZG9ubHkgY29sdW1uIDogbnVtYmVyO1xyXG4gICAgfTtcclxuICAgIHJlYWRvbmx5IGxpYnJhcnlfaWQ/OiBudW1iZXI7XHJcbiAgICByZWFkb25seSBsaWJyYXJ5X3Vuc3VwcG9ydGVkPzogYm9vbGVhbjtcclxufTtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUHJvZ3JhbUNvbnRleHQge1xyXG4gICAgcmVhZG9ubHkgcHJvZ3JhbTogUHJvZ3JhbTtcclxuICAgIHJlYWRvbmx5IGltcGxpY2l0PzogYm9vbGVhbjtcclxuICAgIHJlYWRvbmx5IGxpYnJhcnlJZD86IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGxpYnJhcnlVbnN1cHBvcnRlZD86IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNsYXRpb25Vbml0Q29udGV4dCBleHRlbmRzIFByb2dyYW1Db250ZXh0IHtcclxuICAgIHJlYWRvbmx5IHRyYW5zbGF0aW9uVW5pdDogVHJhbnNsYXRpb25Vbml0O1xyXG4gICAgcmVhZG9ubHkgY29udGV4dHVhbFNjb3BlOiBTY29wZTtcclxuICAgIHJlYWRvbmx5IGNvbnRhaW5pbmdDbGFzcz86IENsYXNzVHlwZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRyYW5zbGF0aW9uVW5pdENvbnRleHQoY29udGV4dDogUHJvZ3JhbUNvbnRleHQsIHRyYW5zbGF0aW9uVW5pdDogVHJhbnNsYXRpb25Vbml0LCBjb250ZXh0dWFsU2NvcGU6IFNjb3BlKSA6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQge1xyXG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGNvbnRleHQsIHt0cmFuc2xhdGlvblVuaXQ6IHRyYW5zbGF0aW9uVW5pdCwgY29udGV4dHVhbFNjb3BlOiBjb250ZXh0dWFsU2NvcGUgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRXhwcmVzc2lvbkNvbnRleHQgZXh0ZW5kcyBUcmFuc2xhdGlvblVuaXRDb250ZXh0IHtcclxuICAgIHJlYWRvbmx5IGNvbnRleHR1YWxQYXJhbWV0ZXJUeXBlcz86IHJlYWRvbmx5IChUeXBlIHwgdW5kZWZpbmVkKVtdO1xyXG4gICAgcmVhZG9ubHkgY29udGV4dHVhbFJlY2VpdmVyVHlwZT86IENsYXNzVHlwZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV4cHJlc3Npb25Db250ZXh0KGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIGNvbnRleHR1YWxQYXJhbWV0ZXJUeXBlczogcmVhZG9ubHkgKFR5cGUgfCB1bmRlZmluZWQpW10pIDogRXhwcmVzc2lvbkNvbnRleHQge1xyXG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGNvbnRleHQsIHtjb250ZXh0dWFsUGFyYW1ldGVyVHlwZXM6IGNvbnRleHR1YWxQYXJhbWV0ZXJUeXBlc30pO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEZ1bmN0aW9uQ29udGV4dCBleHRlbmRzIFRyYW5zbGF0aW9uVW5pdENvbnRleHQge1xyXG4gICAgcmVhZG9ubHkgY29udGFpbmluZ0Z1bmN0aW9uOiBGdW5jdGlvbkVudGl0eTtcclxuICAgIHJlYWRvbmx5IGZ1bmN0aW9uTG9jYWxzOiBGdW5jdGlvbkxvY2FscztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZ1bmN0aW9uQ29udGV4dChjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCBjb250YWluaW5nRnVuY3Rpb246IEZ1bmN0aW9uRW50aXR5KSA6IEZ1bmN0aW9uQ29udGV4dCB7XHJcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgY29udGV4dCwge2NvbnRhaW5pbmdGdW5jdGlvbjogY29udGFpbmluZ0Z1bmN0aW9uLCBmdW5jdGlvbkxvY2FsczogbmV3IEZ1bmN0aW9uTG9jYWxzKCl9KTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBCbG9ja0NvbnRleHQgZXh0ZW5kcyBGdW5jdGlvbkNvbnRleHQge1xyXG4gICAgcmVhZG9ubHkgY29udGV4dHVhbFNjb3BlOiBCbG9ja1Njb3BlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNCbG9ja0NvbnRleHQoY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCkgOiBjb250ZXh0IGlzIEJsb2NrQ29udGV4dCB7XHJcbiAgICByZXR1cm4gY29udGV4dC5jb250ZXh0dWFsU2NvcGUgaW5zdGFuY2VvZiBCbG9ja1Njb3BlO1xyXG59XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ1BQQ29uc3RydWN0PENvbnRleHRUeXBlIGV4dGVuZHMgUHJvZ3JhbUNvbnRleHQgPSBQcm9ncmFtQ29udGV4dCwgQVNUVHlwZSBleHRlbmRzIEFTVE5vZGUgPSBBU1ROb2RlPiB7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgTkVYVF9JRCA9IDA7XHJcbiAgICAvLyBpbml0SW5kZXg6IFwicHVzaENoaWxkcmVuXCIsXHJcblxyXG4gICAgLy8gaV9jaGlsZHJlblRvQ3JlYXRlIDogW10sXHJcbiAgICAvLyBpX2NoaWxkcmVuVG9Db252ZXJ0IDoge30sXHJcbiAgICAvLyBpX2NoaWxkcmVuVG9FeGVjdXRlIDogW10sXHJcbiAgICAvL1xyXG4gICAgLy8gY3JlYXRlV2l0aENoaWxkcmVuIDogZnVuY3Rpb24oY2hpbGRyZW4sIGNvbnRleHQpIHtcclxuICAgIC8vICAgICB2YXIgY29uc3RydWN0ID0gdGhpcy5pbnN0YW5jZShjb250ZXh0KTtcclxuICAgIC8vICAgICB0aGlzLmlfY3JlYXRlV2l0aENoaWxkcmVuSW1wbChjb25zdHJ1Y3QsIGNoaWxkcmVuLCBjb250ZXh0KTtcclxuICAgIC8vXHJcbiAgICAvLyAgICAgcmV0dXJuIGNvbnN0cnVjdDtcclxuICAgIC8vIH0sXHJcbiAgICBcclxuICAgIHB1YmxpYyByZWFkb25seSBpZDogbnVtYmVyO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBub3RlczogTm90ZVtdID0gW107IFxyXG4gICAgcHVibGljIHJlYWRvbmx5IGhhc0Vycm9yczogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBjb250ZXh0OiBDb250ZXh0VHlwZTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgYXN0PzogQVNUVHlwZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBzb3VyY2VSZWZlcmVuY2U/OiBTb3VyY2VSZWZlcmVuY2U7XHJcblxyXG4gICAgLy8gcHVibGljIHJlYWRvbmx5IGxpYnJhcnlJZD86IG51bWJlcjtcclxuICAgIC8vIHB1YmxpYyByZWFkb25seSBpc0xpYnJhcnlVbnN1cHBvcnRlZD86IGJvb2xlYW47XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IHJlYWRvbmx5IHBhcmVudD86IENQUENvbnN0cnVjdDtcclxuICAgIHB1YmxpYyByZWFkb25seSBjaGlsZHJlbjogcmVhZG9ubHkgQ1BQQ29uc3RydWN0W10gPSBbXTtcclxuICAgIFxyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHRUeXBlKSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IENQUENvbnN0cnVjdC5ORVhUX0lEKys7XHJcblxyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XHJcblxyXG4gICAgICAgIC8vIFRPRE86IGZpZ3VyZSBvdXQgbGlicmFyeSBzdHVmZlxyXG4gICAgICAgIC8vIGlmIChjb250ZXh0LmxpYnJhcnlJZCkge1xyXG4gICAgICAgIC8vICAgICB0aGlzLmxpYnJhcnlJZCA9IGNvbnRleHQubGlicmFyeUlkO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBpZiAoY29udGV4dC5saWJyYXJ5VW5zdXBwb3J0ZWQpIHtcclxuICAgICAgICAvLyAgICAgdGhpcy5pc0xpYnJhcnlVbnN1cHBvcnRlZCA9IHRydWU7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICBcclxuICAgICAgICAvLyBUT0RPOiBmaWd1cmUgb3V0IGxpYnJhcnkgc3R1ZmZcclxuICAgICAgICAvLyBJZiB0aGUgcGFyZW50IGlzIGFuIHVzdXBwb3J0ZWQgbGlicmFyeSBjb25zdHJ1Y3QsIHNvIGFyZSBpdHMgY2hpbGRyZW4gKGluY2x1ZGluZyB0aGlzIG9uZSlcclxuICAgICAgICAvLyBpZiAodGhpcy5wYXJlbnQgJiYgdGhpcy5wYXJlbnQubGlicmFyeV91bnN1cHBvcnRlZCkge1xyXG4gICAgICAgIC8vICAgICB0aGlzLmlfbGlicmFyeV91bnN1cHBvcnRlZCA9IHRydWU7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAvLyBJZiB0aGlzIGNvbnRydWN0IGlzIE5PVCBhdXhpbGlhcnkgV0lUSCBSRVNQRUNUIFRPIElUUyBQQVJFTlQgKGFzIGluZGljYXRlZCBieSBjb250ZXh0LmF1eGlsaWFyeSksIHRoZW4gd2Ugc2hvdWxkXHJcbiAgICAgICAgLy8gYWRkIGl0IGFzIGEgY2hpbGQuIE90aGVyd2lzZSwgaWYgdGhpcyBjb25zdHJ1Y3QgaXMgYXV4aWxpYXJ5IGluIHRoYXQgc2Vuc2Ugd2UgZG9uJ3QuXHJcbiAgICAgICAgLy8gaWYgKGNvbnRleHQucGFyZW50KSB7XHJcbiAgICAgICAgLy8gICAgIC8vIFRoaXMgY2FzdCBoZXJlIGlzIGEgaGFjayB0byBnZXQgYXJvdW5kIHRoZSB0eXBlIHN5c3RlbSBub3QgbGlraW5nXHJcbiAgICAgICAgLy8gICAgIC8vIHRoZSBmYWN0IHRoYXQgYWRkQ2hpbGQgaXMgcHVibGljIGluIEdsb2JhbFByb2dyYW1Db25zdHJ1Y3QgYnV0IHByaXZhdGUgaW4gQ1BQQ29uc3RydWN0XHJcbiAgICAgICAgLy8gICAgIC8vICh0aGUgdW5pb24gdHlwZSBvbmx5IGNvbnRhaW5zIHRoZSBwdWJsaWMgbWV0aG9kcylcclxuICAgICAgICAvLyAgICAgKDxDUFBDb25zdHJ1Y3Q+dGhpcy5wYXJlbnQpLmFkZENoaWxkKHRoaXMpO1xyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXR0YWNoKGNoaWxkOiBDUFBDb25zdHJ1Y3QpIHtcclxuICAgICAgICBhc011dGFibGUodGhpcy5jaGlsZHJlbikucHVzaChjaGlsZCk7XHJcbiAgICAgICAgY2hpbGQub25BdHRhY2godGhpcyk7XHJcbiAgICAgICAgLy8gVE9ETzogYWRkIG5vdGVzIGZyb20gY2hpbGQ/XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGF0dGFjaEFsbChjaGlsZHJlbjogcmVhZG9ubHkgQ1BQQ29uc3RydWN0W10pIHtcclxuICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4gdGhpcy5hdHRhY2goY2hpbGQpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3Qgb25BdHRhY2gocGFyZW50OiB0aGlzW1wicGFyZW50XCJdKSA6IHZvaWQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVc2VkIGJ5IFwiY3JlYXRlRnJvbUFTVFwiIHN0YXRpYyBcIm5hbWVkIGNvbnN0cnVjdG9yXCIgZnVuY3Rpb25zIGluIGRlcml2ZWQgY2xhc3Nlc1xyXG4gICAgICogdG8gc2V0IHRoZSBBU1QgZnJvbSB3aGljaCBhIGNvbnN0cnVjdCB3YXMgY3JlYXRlZC4gUmV0dXJucyBgdGhpc2AgZm9yIGNvbnZlbmllbmNlLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0QVNUKHRoaXM6IENQUENvbnN0cnVjdDxUcmFuc2xhdGlvblVuaXRDb250ZXh0PiwgYXN0OiBBU1RUeXBlKSA6IHRoaXMgJiB7YXN0OiBBU1RUeXBlfSB7XHJcbiAgICAgICAgYXNNdXRhYmxlKHRoaXMpLmFzdCA9IGFzdDtcclxuICAgICAgICBpZiAoIWFzdC5zb3VyY2UpIHtcclxuICAgICAgICAgICAgYXNzZXJ0RmFsc2UoXCJBU1Qgc291cmNlIGlzIHVuZGVmaW5lZC4gQSB0cmFjaygpIGNhbGwgaXMgbGlrZWx5IG1pc3NpbmcgaW4gdGhlIGdyYW1tYXIuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhc011dGFibGUodGhpcykuc291cmNlUmVmZXJlbmNlID0gdGhpcy5jb250ZXh0LnRyYW5zbGF0aW9uVW5pdC5nZXRTb3VyY2VSZWZlcmVuY2UoYXN0LnNvdXJjZS5saW5lLCBhc3Quc291cmNlLmNvbHVtbiwgYXN0LnNvdXJjZS5zdGFydCwgYXN0LnNvdXJjZS5lbmQpO1xyXG4gICAgICAgIHJldHVybiA8dGhpcyAmIHthc3Q6IEFTVFR5cGV9Pjxhbnk+dGhpczsgLy8gVE9ETzogdGhpcyB3aG9sZSBmdW5jdGlvbiBpcyBnb2luZyB0byBnbyBhd2F5LCBzbyB0aGlzIHVnbHkgY2FzdCB3aWxsIHRvb1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHB1YmxpYyBnZXRTb3VyY2VUZXh0KCkge1xyXG4gICAgLy8gICAgIHJldHVybiB0aGlzLmFzdC5jb2RlID8gdGhpcy5hc3QuY29kZS50ZXh0IDogXCJhbiBleHByZXNzaW9uXCI7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gcHVibGljIGlzTGlicmFyeUNvbnN0cnVjdCgpIHtcclxuICAgIC8vICAgICByZXR1cm4gdGhpcy5saWJyYXJ5SWQgIT09IHVuZGVmaW5lZDtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgZ2V0TGlicmFyeUlkKCkge1xyXG4gICAgLy8gICAgIHJldHVybiB0aGlzLmxpYnJhcnlJZDtcclxuICAgIC8vIH1cclxuXHJcbiAgICBwdWJsaWMgZXhwbGFpbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KSA6IEV4cGxhbmF0aW9uIHtcclxuICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwiW05vIGV4cGxhbmF0aW9uIGF2YWlsYWJsZS5dXCIsIGlnbm9yZTogdHJ1ZX07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlc2NyaWJlKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogRGVzY3JpcHRpb24ge1xyXG4gICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJbTm8gZGVzY3JpcHRpb24gYXZhaWxhYmxlLl1cIiwgaWdub3JlOiBmYWxzZX07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZE5vdGUobm90ZTogTm90ZSkge1xyXG4gICAgICAgIHRoaXMubm90ZXMucHVzaChub3RlKTtcclxuICAgICAgICBpZiAobm90ZS5raW5kID09PSBOb3RlS2luZC5FUlJPUikge1xyXG4gICAgICAgICAgICAoPE11dGFibGU8dGhpcz4+dGhpcykuaGFzRXJyb3JzID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgKHRoaXMucGFyZW50ICYmIHRoaXMuaV9hdXhpbGlhcnlMZXZlbCA9PT0gdGhpcy5wYXJlbnQuaV9hdXhpbGlhcnlMZXZlbCkge1xyXG4gICAgICAgIC8vICAgICB0aGlzLnBhcmVudC5hZGROb3RlKG5vdGUpO1xyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBnZXROb3RlcyA6IGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gICAgIHJldHVybiB0aGlzLmlfbm90ZXM7XHJcbiAgICAvLyB9LFxyXG4gICAgcHVibGljIGdldE5lYXJlc3RTb3VyY2VSZWZlcmVuY2UodGhpczogQ1BQQ29uc3RydWN0PFRyYW5zbGF0aW9uVW5pdENvbnRleHQ+KSB7XHJcbiAgICAgICAgbGV0IGNvbnN0cnVjdCA6IENQUENvbnN0cnVjdCA9IHRoaXM7XHJcbiAgICAgICAgd2hpbGUgKCFjb25zdHJ1Y3Quc291cmNlUmVmZXJlbmNlICYmIGNvbnN0cnVjdC5wYXJlbnQpIHtcclxuICAgICAgICAgICAgY29uc3RydWN0ID0gY29uc3RydWN0LnBhcmVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdC5zb3VyY2VSZWZlcmVuY2UgfHwgdGhpcy5jb250ZXh0LnRyYW5zbGF0aW9uVW5pdC5nZXRTb3VyY2VSZWZlcmVuY2UoMCwwLDAsMCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdDxBU1RUeXBlIGV4dGVuZHMgQVNUTm9kZSA9IEFTVE5vZGU+ID0gQ1BQQ29uc3RydWN0PFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIEFTVFR5cGU+O1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcbiAgICBcclxuICAgIC8vIF90X2lzQ29tcGlsZWQgaXMgaGVyZSB0byBwcmV2ZW50IChvdGhlcndpc2UpIHN0cnVjdHVyYWxseSBlcXVpdmFsZW50IG5vbi1jb21waWxlZCBjb25zdHJ1Y3RzXHJcbiAgICAvLyBmcm9tIGJlaW5nIGFzc2lnbmFibGUgdG8gYSBjb21waWxlZCBleHByZXNzaW9uIHR5cGVcclxuICAgIC8vIFRPRE86IG1heWJlIGJldHRlciB0byB1c2UgYSBzeW1ib2wgaGVyZT9cclxuICAgIHJlYWRvbmx5IF90X2lzQ29tcGlsZWQ6IG5ldmVyO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZENvbnN0cnVjdCBleHRlbmRzIENQUENvbnN0cnVjdCwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG5cclxufVxyXG5cclxuZXhwb3J0IHR5cGUgU3RhY2tUeXBlID0gXCJzdGF0ZW1lbnRcIiB8IFwiZXhwcmVzc2lvblwiIHwgIFwiZnVuY3Rpb25cIiB8IFwiaW5pdGlhbGl6ZXJcIiB8XCJjYWxsXCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgUnVudGltZUNvbnN0cnVjdDxDIGV4dGVuZHMgQ29tcGlsZWRDb25zdHJ1Y3QgPSBDb21waWxlZENvbnN0cnVjdD4ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUodGhpcyk7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHNpbTogU2ltdWxhdGlvbjtcclxuICAgIHB1YmxpYyByZWFkb25seSBtb2RlbDogQztcclxuICAgIHB1YmxpYyByZWFkb25seSBzdGFja1R5cGU6IFN0YWNrVHlwZTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHVzaGVkQ2hpbGRyZW46IHtbaW5kZXg6IHN0cmluZ106IFJ1bnRpbWVDb25zdHJ1Y3R9ID0ge307IC8vIFRPRE86IGNoYW5nZSBuYW1lICh0aGUgY2hpbGRyZW4gYXJlIG5vdCBuZWNlc3NhcmlseSBwdXNoZWQpXHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHBhcmVudD86IFJ1bnRpbWVDb25zdHJ1Y3Q7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBXQVJOSU5HOiBUaGUgY29udGFpbmluZ1J1bnRpbWVGdW5jdGlvbiBwcm9wZXJ0eSBtYXkgYmUgdW5kZWZpbmVkLCBldmVuIHRob3VnaCBpdCdzIHR5cGUgc3VnZ2VzdHMgaXQgd2lsbCBhbHdheXNcclxuICAgICAqIGJlIGRlZmluZWQuIEluIG1vc3QgcGxhY2VzIHdoZXJlIGl0IGlzIGFjY2Vzc2VkLCB0aGVyZSBpcyBhbiBpbXBsaWNpdCBhc3N1bXB0aW9uIHRoYXQgYSBydW50aW1lIGNvbnN0cnVjdFxyXG4gICAgICogc2l0dWF0ZWQgaW5zaWRlIGEgZnVuY3Rpb24gaXMgYmVpbmcgdXNlZCAoZS5nLiBsb29raW5nIHVwIGFuIGVudGl0eSB0aGF0IGRlcGVuZHMgb24gYSBsb2NhbCBmdW5jdGlvbikgYW5kIHRoZVxyXG4gICAgICogY2xpZW50IGNvZGUgd291bGQgZW5kIHVwIG5lZWRpbmcgYSBub24tbnVsbCBhc3NlcnRpb24gYW55d2F5LiBUaG9zZSBub24tbnVsbCBhc3NlcnRpb25zIGFyZSBhbm5veWluZywgc29cclxuICAgICAqIGluc3RlYWQgd2UgdHJpY2sgdGhlIHR5cGUgc3lzdGVtIGFuZCB0cnVzdCB0aGF0IHRoaXMgcHJvcGVydHkgd2lsbCBiZSB1c2VkIGFwcHJvcHJpYXRlbHkgYnkgdGhlIHByb2dyYW1tZXIuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZWFkb25seSBjb250YWluaW5nUnVudGltZUZ1bmN0aW9uITogUnVudGltZUZ1bmN0aW9uO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBzdGVwc1Rha2VuQXRTdGFydDogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGlzQWN0aXZlOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgcHVibGljIGlzRG9uZTogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIC8vIFRPRE86IHJlZmFjdG9yIHBhdXNlcy4gbWF5YmUgbW92ZSB0aGVtIHRvIHRoZSBpbXBsZW1lbnRhdGlvblxyXG4gICAgcHJpdmF0ZSBwYXVzZXM6IHtbaW5kZXg6c3RyaW5nXTogYW55fSA9IHt9OyAvLyBUT0RPOiByZW1vdmUgYW55IHR5cGVcclxuICAgIFxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChtb2RlbDogQywgc3RhY2tUeXBlOiBTdGFja1R5cGUsIHBhcmVudE9yU2ltOiBSdW50aW1lQ29uc3RydWN0IHwgU2ltdWxhdGlvbikge1xyXG4gICAgICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcclxuICAgICAgICB0aGlzLnN0YWNrVHlwZSA9IHN0YWNrVHlwZTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAocGFyZW50T3JTaW0gaW5zdGFuY2VvZiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLnBhcmVudCAhPT0gdGhpcywgXCJDb2RlIGluc3RhbmNlIG1heSBub3QgYmUgaXRzIG93biBwYXJlbnRcIik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNpbSA9IHBhcmVudE9yU2ltLnNpbTtcclxuICAgICAgICAgICAgYXNzZXJ0KHBhcmVudE9yU2ltLnNpbSA9PT0gdGhpcy5zaW0sIFwiUnVudGltZSBjb25zdHJ1Y3QgbWF5IG5vdCBiZWxvbmcgdG8gYSBkaWZmZXJlbnQgc2ltdWxhdGlvbiB0aGFuIGl0cyBwYXJlbnQuXCIpXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudE9yU2ltO1xyXG4gICAgICAgICAgICB0aGlzLnBhcmVudC5hZGRDaGlsZCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChwYXJlbnRPclNpbS5jb250YWluaW5nUnVudGltZUZ1bmN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5pbmdSdW50aW1lRnVuY3Rpb24gPSBwYXJlbnRPclNpbS5jb250YWluaW5nUnVudGltZUZ1bmN0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNpbSA9IHBhcmVudE9yU2ltO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zdGVwc1Rha2VuQXRTdGFydCA9IHRoaXMuc2ltLnN0ZXBzVGFrZW47XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSRVFVSVJFUzogdGhpcyBpbnN0YW5jZSBpcyBvbiB0aGUgdG9wIG9mIHRoZSBleGVjdXRpb24gc3RhY2tcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0ZXBGb3J3YXJkKCkge1xyXG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwic3RlcEZvcndhcmRcIik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RlcEZvcndhcmRJbXBsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IHN0ZXBGb3J3YXJkSW1wbCgpIDogdm9pZDtcclxuXHJcbiAgICBwdWJsaWMgdXBOZXh0KCkge1xyXG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwidXBOZXh0XCIpO1xyXG5cclxuICAgICAgICAvLyBmb3IodmFyIGtleSBpbiB0aGlzLnBhdXNlcyl7XHJcbiAgICAgICAgLy8gICAgIHZhciBwID0gdGhpcy5wYXVzZXNba2V5XTtcclxuICAgICAgICAvLyAgICAgaWYgKHAucGF1c2VXaGVuVXBOZXh0IC8vfHxcclxuICAgICAgICAvLyAgICAgICAgIC8vIHAucGF1c2VBdEluZGV4ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5pbmRleCA9PSBwLnBhdXNlQXRJbmRleCl7XHJcbiAgICAgICAgLy8gICAgICl7XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLnNpbS5wYXVzZSgpO1xyXG4gICAgICAgIC8vICAgICAgICAgcC5jYWxsYmFjayAmJiBwLmNhbGxiYWNrKCk7XHJcbiAgICAgICAgLy8gICAgICAgICBkZWxldGUgdGhpcy5wYXVzZXNba2V5XTtcclxuICAgICAgICAvLyAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy51cE5leHRJbXBsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IHVwTmV4dEltcGwoKSA6IHZvaWQ7XHJcblxyXG4gICAgcHJvdGVjdGVkIGRvbmUoKSB7XHJcbiAgICAgICAgdGhpcy5pc0RvbmUgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRQYXVzZVdoZW5VcE5leHQoKSB7XHJcbiAgICAgICAgdGhpcy5wYXVzZXNbXCJ1cE5leHRcIl0gPSB7cGF1c2VXaGVuVXBOZXh0OiB0cnVlfTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgd2FpdCgpIHtcclxuICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcIndhaXRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHB1c2hlZCgpIHtcclxuICAgICAgICAoPGJvb2xlYW4+dGhpcy5pc0FjdGl2ZSkgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwicHVzaGVkXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwb3BwZWQoKSB7XHJcbiAgICAgICAgKDxib29sZWFuPnRoaXMuaXNBY3RpdmUpID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJwb3BwZWRcIiwgdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhZGRDaGlsZChjaGlsZDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgICAgIHRoaXMucHVzaGVkQ2hpbGRyZW5bY2hpbGQubW9kZWwuaWRdID0gY2hpbGQ7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJjaGlsZFB1c2hlZFwiLCBjaGlsZCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIGZpbmRQYXJlbnQgOiBmdW5jdGlvbihzdGFja1R5cGUpe1xyXG4gICAgLy8gICAgIGlmIChzdGFja1R5cGUpe1xyXG4gICAgLy8gICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnQ7XHJcbiAgICAvLyAgICAgICAgIHdoaWxlKHBhcmVudCAmJiBwYXJlbnQuc3RhY2tUeXBlICE9IHN0YWNrVHlwZSl7XHJcbiAgICAvLyAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIHJldHVybiBwYXJlbnQ7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2V7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudDtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9LFxyXG5cclxuICAgIHB1YmxpYyBmaW5kUGFyZW50QnlNb2RlbChtb2RlbDogQ1BQQ29uc3RydWN0KSB7XHJcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50O1xyXG4gICAgICAgIHdoaWxlKHBhcmVudCAmJiBwYXJlbnQubW9kZWwuaWQgIT0gbW9kZWwuaWQpe1xyXG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGFyZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBleHBsYWluKCkgOiBFeHBsYW5hdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwuZXhwbGFpbih0aGlzLnNpbSwgdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlc2NyaWJlKCkgOiBEZXNjcmlwdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwuZGVzY3JpYmUodGhpcy5zaW0sIHRoaXMpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEJhc2ljQ1BQQ29uc3RydWN0PENvbnRleHRUeXBlIGV4dGVuZHMgVHJhbnNsYXRpb25Vbml0Q29udGV4dCA9IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIEFTVFR5cGUgZXh0ZW5kcyBBU1ROb2RlID0gQVNUTm9kZT4gZXh0ZW5kcyBDUFBDb25zdHJ1Y3Q8Q29udGV4dFR5cGUsIEFTVFR5cGU+IHtcclxuXHJcbiAgICBwdWJsaWMgcGFyZW50PzogQ1BQQ29uc3RydWN0O1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0VHlwZSkge1xyXG4gICAgICAgIHN1cGVyKGNvbnRleHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkF0dGFjaChwYXJlbnQ6IENQUENvbnN0cnVjdCkge1xyXG4gICAgICAgICg8TXV0YWJsZTx0aGlzPj50aGlzKS5wYXJlbnQgPSBwYXJlbnQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBJbnZhbGlkQ29uc3RydWN0IGV4dGVuZHMgQmFzaWNDUFBDb25zdHJ1Y3Qge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBub3RlOiBOb3RlO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCBlcnJvckZuOiAoY29uc3RydWN0OiBDUFBDb25zdHJ1Y3QpID0+IE5vdGUpIHtcclxuICAgICAgICBzdXBlcihjb250ZXh0KTtcclxuICAgICAgICB0aGlzLmFkZE5vdGUodGhpcy5ub3RlID0gZXJyb3JGbih0aGlzKSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgUG90ZW50aWFsRnVsbEV4cHJlc3Npb248Q29udGV4dFR5cGUgZXh0ZW5kcyBUcmFuc2xhdGlvblVuaXRDb250ZXh0ID0gVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgQVNUVHlwZSBleHRlbmRzIEFTVE5vZGUgPSBBU1ROb2RlPiBleHRlbmRzIEJhc2ljQ1BQQ29uc3RydWN0PENvbnRleHRUeXBlLCBBU1RUeXBlPiB7XHJcbiAgICBcclxuICAgIHB1YmxpYyByZWFkb25seSBwYXJlbnQ/OiBCYXNpY0NQUENvbnN0cnVjdDsgLy8gTmFycm93cyB0eXBlIG9mIHBhcmVudCBwcm9wZXJ0eSBvZiBDUFBDb25zdHJ1Y3RcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGVtcG9yYXJ5T2JqZWN0czogVGVtcG9yYXJ5T2JqZWN0RW50aXR5W10gPSBbXTtcclxuICAgIHB1YmxpYyByZWFkb25seSB0ZW1wb3JhcnlEZWFsbG9jYXRvcj86IFRlbXBvcmFyeURlYWxsb2NhdG9yO1xyXG5cclxuXHJcbiAgICBwdWJsaWMgb25BdHRhY2gocGFyZW50OiBCYXNpY0NQUENvbnN0cnVjdCkge1xyXG5cclxuICAgICAgICAoPE11dGFibGU8dGhpcz4+dGhpcykucGFyZW50ID0gcGFyZW50O1xyXG5cclxuICAgICAgICAvLyBUaGlzIG1heSBubyBsb25nZXIgYmUgYSBmdWxsIGV4cHJlc3Npb24uIElmIHNvLCBtb3ZlIHRlbXBvcmFyeSBlbnRpdGllcyB0b1xyXG4gICAgICAgIC8vIHRoZWlyIG5ldyBmdWxsIGV4cHJlc3Npb24uXHJcbiAgICAgICAgaWYgKCF0aGlzLmlzRnVsbEV4cHJlc3Npb24oKSkge1xyXG4gICAgICAgICAgICBsZXQgZmUgPSB0aGlzLmZpbmRGdWxsRXhwcmVzc2lvbigpO1xyXG4gICAgICAgICAgICB0aGlzLnRlbXBvcmFyeU9iamVjdHMuZm9yRWFjaCgodGVtcEVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZmUuYWRkVGVtcG9yYXJ5T2JqZWN0KHRlbXBFbnQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy50ZW1wb3JhcnlPYmplY3RzLmxlbmd0aCA9IDA7IC8vIGNsZWFyIGFycmF5XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBOb3cgdGhhdCB3ZSBhcmUgYXR0YWNoZWQsIHRoZSBhc3N1bXB0aW9uIGlzIG5vIG1vcmUgdGVtcG9yYXJ5IGVudGl0aWVzXHJcbiAgICAgICAgLy8gd2lsbCBiZSBhZGRlZCB0byB0aGlzIGNvbnN0cnVjdCBvciBpdHMgYXR0YWNoZWQgY2hpbGRyZW4uIChUaGVyZSdzIGFuXHJcbiAgICAgICAgLy8gYXNzZXJ0IGluIGFkZFRlbXBvcmFyeU9iamVjdCgpIHRvIHByZXZlbnQgdGhpcy4pIFRoYXQgbWVhbnMgaXQgaXMgbm93XHJcbiAgICAgICAgLy8gc2FmZSB0byBjb21waWxlIGFuZCBhZGQgdGhlIHRlbXBvcmFyeSBkZWFsbG9jYXRvciBjb25zdHJ1Y3QgYXMgYSBjaGlsZC5cclxuICAgICAgICBpZih0aGlzLnRlbXBvcmFyeU9iamVjdHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAoPFRlbXBvcmFyeURlYWxsb2NhdG9yPnRoaXMudGVtcG9yYXJ5RGVhbGxvY2F0b3IpID0gbmV3IFRlbXBvcmFyeURlYWxsb2NhdG9yKHRoaXMuY29udGV4dCwgdGhpcy50ZW1wb3JhcnlPYmplY3RzKTtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2godGhpcy50ZW1wb3JhcnlEZWFsbG9jYXRvciEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNGdWxsRXhwcmVzc2lvbigpIDogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnBhcmVudCB8fCAhKHRoaXMucGFyZW50IGluc3RhbmNlb2YgUG90ZW50aWFsRnVsbEV4cHJlc3Npb24pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuICF0aGlzLnBhcmVudC5pc0Z1bGxFeHByZXNzaW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETzogdGhpcyBmdW5jdGlvbiBjYW4gcHJvYmFibHkgYmUgY2xlYW5lZCB1cCBzbyB0aGF0IGl0IGRvZXNuJ3QgcmVxdWlyZSB0aGVzZSB1Z2x5IHJ1bnRpbWUgY2hlY2tzXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIG5lYXJlc3QgZnVsbCBleHByZXNzaW9uIGNvbnRhaW5pbmcgdGhpcyBleHByZXNzaW9uIChwb3NzaWJseSBpdHNlbGYpLlxyXG4gICAgICogQHBhcmFtIGluc3RcclxuICAgICAqL1xyXG4gICAgcHVibGljIGZpbmRGdWxsRXhwcmVzc2lvbigpIDogUG90ZW50aWFsRnVsbEV4cHJlc3Npb24ge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRnVsbEV4cHJlc3Npb24oKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5wYXJlbnQgfHwgISh0aGlzLnBhcmVudCBpbnN0YW5jZW9mIFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXNzZXJ0RmFsc2UoXCJmYWlsZWQgdG8gZmluZCBmdWxsIGV4cHJlc3Npb24gZm9yIFwiICsgdGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQuZmluZEZ1bGxFeHByZXNzaW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhZGRUZW1wb3JhcnlPYmplY3QodGVtcE9iakVudDogVGVtcG9yYXJ5T2JqZWN0RW50aXR5KSB7XHJcbiAgICAgICAgYXNzZXJ0KCF0aGlzLnBhcmVudCwgXCJUZW1wb3Jhcnkgb2JqZWN0cyBtYXkgbm90IGJlIGFkZGVkIHRvIGEgZnVsbCBleHByZXNzaW9uIGFmdGVyIGl0IGhhcyBiZWVuIGF0dGFjaGVkLlwiKVxyXG4gICAgICAgIHRoaXMudGVtcG9yYXJ5T2JqZWN0cy5wdXNoKHRlbXBPYmpFbnQpO1xyXG4gICAgICAgIHRlbXBPYmpFbnQuc2V0T3duZXIodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZVRlbXBvcmFyeU9iamVjdDxUIGV4dGVuZHMgT2JqZWN0VHlwZT4odHlwZTogVCwgZGVzY3JpcHRpb246IHN0cmluZykgOiBUZW1wb3JhcnlPYmplY3RFbnRpdHk8VD57XHJcbiAgICAgICAgbGV0IGZlID0gdGhpcy5maW5kRnVsbEV4cHJlc3Npb24oKTtcclxuICAgICAgICB2YXIgdGVtcE9iakVudCA9IG5ldyBUZW1wb3JhcnlPYmplY3RFbnRpdHkodHlwZSwgdGhpcywgZmUsIGRlc2NyaXB0aW9uKTtcclxuICAgICAgICB0aGlzLnRlbXBvcmFyeU9iamVjdHNbdGVtcE9iakVudC5lbnRpdHlJZF0gPSB0ZW1wT2JqRW50O1xyXG4gICAgICAgIHJldHVybiB0ZW1wT2JqRW50O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkUG90ZW50aWFsRnVsbEV4cHJlc3Npb24gZXh0ZW5kcyBQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4gICAgcmVhZG9ubHkgdGVtcG9yYXJ5RGVhbGxvY2F0b3I/OiBDb21waWxlZFRlbXBvcmFyeURlYWxsb2NhdG9yO1xyXG59XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgUnVudGltZVBvdGVudGlhbEZ1bGxFeHByZXNzaW9uPEMgZXh0ZW5kcyBDb21waWxlZFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uID0gQ29tcGlsZWRQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbj4gZXh0ZW5kcyBSdW50aW1lQ29uc3RydWN0PEM+IHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGVtcG9yYXJ5RGVhbGxvY2F0b3I/OiBSdW50aW1lVGVtcG9yYXJ5RGVhbGxvY2F0b3I7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGVtcG9yYXJ5T2JqZWN0czoge1tpbmRleDogbnVtYmVyXTogVGVtcG9yYXJ5T2JqZWN0IHwgdW5kZWZpbmVkfSA9IHt9O1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBjb250YWluaW5nRnVsbEV4cHJlc3Npb24gOiBSdW50aW1lUG90ZW50aWFsRnVsbEV4cHJlc3Npb247XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG1vZGVsOiBDLCBzdGFja1R5cGU6IFN0YWNrVHlwZSwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgc3VwZXIobW9kZWwsIHN0YWNrVHlwZSwgcGFyZW50KTtcclxuICAgICAgICBpZiAodGhpcy5tb2RlbC50ZW1wb3JhcnlEZWFsbG9jYXRvcikge1xyXG4gICAgICAgICAgICB0aGlzLnRlbXBvcmFyeURlYWxsb2NhdG9yID0gdGhpcy5tb2RlbC50ZW1wb3JhcnlEZWFsbG9jYXRvci5jcmVhdGVSdW50aW1lQ29uc3RydWN0KHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNvbnRhaW5pbmdGdWxsRXhwcmVzc2lvbiA9IHRoaXMuZmluZEZ1bGxFeHByZXNzaW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBmaW5kRnVsbEV4cHJlc3Npb24oKSA6IFJ1bnRpbWVQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiB7XHJcblxyXG4gICAgICAgIGxldCBydCA6IFJ1bnRpbWVDb25zdHJ1Y3QgPSB0aGlzO1xyXG4gICAgICAgIHdoaWxlIChydCBpbnN0YW5jZW9mIFJ1bnRpbWVQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiAmJiAhcnQubW9kZWwuaXNGdWxsRXhwcmVzc2lvbigpICYmIHJ0LnBhcmVudCkge1xyXG4gICAgICAgICAgICBydCA9IHJ0LnBhcmVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChydCBpbnN0YW5jZW9mIFJ1bnRpbWVQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gcnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gYXNzZXJ0RmFsc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGRvbmUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudGVtcG9yYXJ5RGVhbGxvY2F0b3IpIHtcclxuICAgICAgICAgICAgdGhpcy5zaW0ucHVzaCh0aGlzLnRlbXBvcmFyeURlYWxsb2NhdG9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3VwZXIuZG9uZSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBGdW5jdGlvbkxvY2FscyB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGxvY2FsT2JqZWN0czogcmVhZG9ubHkgQXV0b0VudGl0eVtdID0gW107XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbG9jYWxSZWZlcmVuY2VzOiByZWFkb25seSBMb2NhbFJlZmVyZW5jZUVudGl0eVtdID0gW107XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbG9jYWxWYXJpYWJsZXNCeUVudGl0eUlkOiB7XHJcbiAgICAgICAgW2luZGV4OiBudW1iZXJdIDogTG9jYWxWYXJpYWJsZUVudGl0eVxyXG4gICAgfSA9IHt9O1xyXG5cclxuICAgIHB1YmxpYyByZWdpc3RlckxvY2FsVmFyaWFibGUobG9jYWw6IExvY2FsVmFyaWFibGVFbnRpdHkpIHtcclxuICAgICAgICBhc3NlcnQoIXRoaXMubG9jYWxWYXJpYWJsZXNCeUVudGl0eUlkW2xvY2FsLmVudGl0eUlkXSk7XHJcbiAgICAgICAgdGhpcy5sb2NhbFZhcmlhYmxlc0J5RW50aXR5SWRbbG9jYWwuZW50aXR5SWRdID0gbG9jYWw7XHJcbiAgICAgICAgaWYgKGxvY2FsLmtpbmQgPT09IFwiQXV0b0VudGl0eVwiKSB7XHJcbiAgICAgICAgICAgIGFzTXV0YWJsZSh0aGlzLmxvY2FsT2JqZWN0cykucHVzaChsb2NhbClcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGFzTXV0YWJsZSh0aGlzLmxvY2FsUmVmZXJlbmNlcykucHVzaChsb2NhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5lbnVtIFJ1bnRpbWVGdW5jdGlvbkluZGljZXMge1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJ1bnRpbWVGdW5jdGlvbjxUIGV4dGVuZHMgUG90ZW50aWFsUmV0dXJuVHlwZSA9IFBvdGVudGlhbFJldHVyblR5cGU+IGV4dGVuZHMgUnVudGltZUNvbnN0cnVjdDxDb21waWxlZEZ1bmN0aW9uRGVmaW5pdGlvbj4ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBjYWxsZXI/OiBSdW50aW1lRnVuY3Rpb25DYWxsO1xyXG4gICAgLy8gcHVibGljIHJlYWRvbmx5IGNvbnRhaW5pbmdSdW50aW1lRnVuY3Rpb246IHRoaXM7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHN0YWNrRnJhbWU/OiBNZW1vcnlGcmFtZTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVjZWl2ZXI/OiBDUFBPYmplY3Q8Q2xhc3NUeXBlPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBvYmplY3QgcmV0dXJuZWQgYnkgdGhlIGZ1bmN0aW9uLCBlaXRoZXIgYW4gb3JpZ2luYWwgcmV0dXJuZWQtYnktcmVmZXJlbmNlIG9yIGEgdGVtcG9yYXJ5XHJcbiAgICAgKiBvYmplY3QgY3JlYXRlZCB0byBob2xkIGEgcmV0dXJuLWJ5LXZhbHVlLiBPbmNlIHRoZSBmdW5jdGlvbiBjYWxsIGhhcyBiZWVuIGV4ZWN1dGVkLCB3aWxsIGJlXHJcbiAgICAgKiBkZWZpbmVkIHVubGVzcyBpdCdzIGEgdm9pZCBmdW5jdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHJldHVybk9iamVjdD86IENQUE9iamVjdDxOb1JlZlR5cGU8RXhjbHVkZTxULFZvaWRUeXBlPj4+O1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBoYXNDb250cm9sOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGJvZHk6IFJ1bnRpbWVCbG9jaztcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IgKG1vZGVsOiBDb21waWxlZEZ1bmN0aW9uRGVmaW5pdGlvbiwgcGFyZW50OiBSdW50aW1lRnVuY3Rpb25DYWxsLCByZWNlaXZlcj86IENQUE9iamVjdDxDbGFzc1R5cGU+KTtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvciAobW9kZWw6IENvbXBpbGVkRnVuY3Rpb25EZWZpbml0aW9uLCBzaW06IFNpbXVsYXRpb24sIHJlY2VpdmVyPzogQ1BQT2JqZWN0PENsYXNzVHlwZT4pO1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChtb2RlbDogQ29tcGlsZWRGdW5jdGlvbkRlZmluaXRpb24sIHBhcmVudE9yU2ltOiBSdW50aW1lRnVuY3Rpb25DYWxsIHwgU2ltdWxhdGlvbiwgcmVjZWl2ZXI/OiBDUFBPYmplY3Q8Q2xhc3NUeXBlPikge1xyXG4gICAgICAgIHN1cGVyKG1vZGVsLCBcImZ1bmN0aW9uXCIsIHBhcmVudE9yU2ltKTtcclxuICAgICAgICAvLyBpZiAocGFyZW50T3JTaW0gaW5zdGFuY2VvZiBSdW50aW1lRnVuY3Rpb25DYWxsKSB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuY2FsbGVyID0gcGFyZW50T3JTaW07XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIHRoaXMucmVjZWl2ZXIgPSByZWNlaXZlcjtcclxuICAgICAgICAvLyBBIGZ1bmN0aW9uIGlzIGl0cyBvd24gY29udGFpbmluZyBmdW5jdGlvbiBjb250ZXh0XHJcbiAgICAgICAgLy8gdGhpcy5jb250YWluaW5nUnVudGltZUZ1bmN0aW9uID0gdGhpcztcclxuICAgICAgICB0aGlzLmJvZHkgPSB0aGlzLm1vZGVsLmJvZHkuY3JlYXRlUnVudGltZVN0YXRlbWVudCh0aGlzKTtcclxuICAgIH1cclxuICAgIFxyXG5cclxuICAgIC8vIHNldENhbGxlciA6IGZ1bmN0aW9uKGNhbGxlcikge1xyXG4gICAgLy8gICAgIHRoaXMuaV9jYWxsZXIgPSBjYWxsZXI7XHJcbiAgICAvLyB9LFxyXG5cclxuICAgIHB1YmxpYyBwdXNoU3RhY2tGcmFtZSgpIHtcclxuICAgICAgICAoPE11dGFibGU8dGhpcz4+dGhpcykuc3RhY2tGcmFtZSA9IHRoaXMuc2ltLm1lbW9yeS5zdGFjay5wdXNoRnJhbWUodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSByZXR1cm4gb2JqZWN0IGZvciB0aGlzIGZ1bmN0aW9uLiBNYXkgb25seSBiZSBpbnZva2VkIG9uY2UuXHJcbiAgICAgKiBlLmcuXHJcbiAgICAgKiAgLSByZXR1cm4tYnktdmFsdWU6IFRoZSBjYWxsZXIgc2hvdWxkIHNldCB0aGUgcmV0dXJuIG9iamVjdCB0byBhIHRlbXBvcmFyeSBvYmplY3QsIHdob3NlIHZhbHVlXHJcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgIG1heSBiZSBpbml0aWFsaXplZCBieSBhIHJldHVybiBzdGF0ZW1lbnQuXHJcbiAgICAgKiAgLSByZXR1cm4tYnktcmVmZXJlbmNlOiBXaGVuIHRoZSBmdW5jdGlvbiBpcyBmaW5pc2hlZCwgaXMgc2V0IHRvIHRoZSBvYmplY3QgcmV0dXJuZWQuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRSZXR1cm5PYmplY3Q8VCBleHRlbmRzIE9iamVjdFR5cGUgfCBSZWZlcmVuY2VUeXBlPih0aGlzOiBSdW50aW1lRnVuY3Rpb248VD4sIG9iajogQ1BQT2JqZWN0PE5vUmVmVHlwZTxUPj4pIHtcclxuICAgICAgICAvLyBUaGlzIHNob3VsZCBvbmx5IGJlIHVzZWQgb25jZVxyXG4gICAgICAgIGFzc2VydCghdGhpcy5yZXR1cm5PYmplY3QpO1xyXG4gICAgICAgICg8TXV0YWJsZTxSdW50aW1lRnVuY3Rpb248T2JqZWN0VHlwZT4gfCBSdW50aW1lRnVuY3Rpb248UmVmZXJlbmNlVHlwZT4+PnRoaXMpLnJldHVybk9iamVjdCA9IG9iajtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdhaW5Db250cm9sKCkge1xyXG4gICAgICAgICg8Ym9vbGVhbj50aGlzLmhhc0NvbnRyb2wpID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcImdhaW5Db250cm9sXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBsb3NlQ29udHJvbCgpIHtcclxuICAgICAgICAoPGJvb2xlYW4+dGhpcy5oYXNDb250cm9sKSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJsb3NlQ29udHJvbFwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBwcml2YXRlIGVuY291bnRlclJldHVyblN0YXRlbWVudCA6IGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gICAgIHRoaXMuaV9yZXR1cm5TdGF0ZW1lbnRFbmNvdW50ZXJlZCA9IHRydWU7XHJcbiAgICAvLyB9LFxyXG5cclxuICAgIC8vIHJldHVyblN0YXRlbWVudEVuY291bnRlcmVkIDogZnVuY3Rpb24oKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuaV9yZXR1cm5TdGF0ZW1lbnRFbmNvdW50ZXJlZDtcclxuICAgIC8vIH1cclxuXHJcbiAgICBcclxuICAgIC8vIHRhaWxDYWxsUmVzZXQgOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0LCBjYWxsZXIpIHtcclxuXHJcbiAgICAvLyAgICAgLy8gTmVlZCB0byB1bnNlYXQgYWxsIHJlZmVyZW5jZSB0aGF0IHdlcmUgb24gdGhlIHN0YWNrIGZyYW1lIGZvciB0aGUgZnVuY3Rpb24uXHJcbiAgICAvLyAgICAgLy8gT3RoZXJ3aXNlLCBsb29rdXAgd2VpcmRuZXNzIGNhbiBvY2N1ciBiZWNhdXNlIHRoZSByZWZlcmVuY2UgbG9va3VwIGNvZGUgd2Fzbid0XHJcbiAgICAvLyAgICAgLy8gaW50ZW5kZWQgdG8gYmUgYWJsZSB0byByZXNlYXQgcmVmZXJlbmNlcyBhbmQgcGFyYW1ldGVyIGluaXRpYWxpemVycyB3aWxsIGluc3RlYWRcclxuICAgIC8vICAgICAvLyB0aGluayB0aGV5J3JlIHN1cHBvc2VkIHRvIHBhc3MgaW50byB0aGUgdGhpbmdzIHRoYXQgdGhlIHJlZmVyZW5jZXMgb24gdGhlIGV4aXN0aW5nXHJcbiAgICAvLyAgICAgLy8gc3RhY2sgZnJhbWUgd2VyZSByZWZlcnJpbmcgdG8uXHJcbiAgICAvLyAgICAgaW5zdC5zdGFja0ZyYW1lLnNldFVwUmVmZXJlbmNlSW5zdGFuY2VzKCk7XHJcblxyXG4gICAgLy8gICAgIGluc3QucmV1c2VkRnJhbWUgPSB0cnVlO1xyXG4gICAgLy8gICAgIGluc3Quc2V0Q2FsbGVyKGNhbGxlcik7XHJcbiAgICAvLyAgICAgaW5zdC5pbmRleCA9IHRoaXMuaW5pdEluZGV4O1xyXG4gICAgLy8gICAgIHNpbS5wb3BVbnRpbChpbnN0KTtcclxuICAgIC8vICAgICAvL2luc3Quc2VuZChcInJlc2V0XCIpOyAvLyBkb24ndCBuZWVkIGkgdGhpbmtcclxuICAgIC8vICAgICByZXR1cm4gaW5zdDtcclxuICAgIC8vIH0sXHJcbiAgICBcclxuICAgIHByb3RlY3RlZCBzdGVwRm9yd2FyZEltcGwoKTogdm9pZCB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCB1cE5leHRJbXBsKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmJvZHkuaXNEb25lKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2ltLnBvcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zaW0ucHVzaCh0aGlzLmJvZHkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gdXBOZXh0IDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gc3RlcEZvcndhcmQgOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuICAgIC8vICAgICBpZiAoaW5zdC5pbmRleCA9PT0gXCJhZnRlckRlc3RydWN0b3JzXCIpe1xyXG4gICAgLy8gICAgICAgICB0aGlzLmRvbmUoc2ltLCBpbnN0KTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gZG9uZSA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG5cclxuICAgIC8vICAgICAvLyBJZiBub24tdm9pZCByZXR1cm4gdHlwZSwgY2hlY2sgdGhhdCByZXR1cm4gb2JqZWN0IHdhcyBpbml0aWFsaXplZC5cclxuICAgIC8vICAgICAvLyBOb24tdm9pZCBmdW5jdGlvbnMgc2hvdWxkIGJlIGd1YXJhbnRlZWQgdG8gaGF2ZSBhIHJldHVybk9iamVjdCAoZXZlbiBpZiBpdCBtaWdodCBiZSBhIHJlZmVyZW5jZSlcclxuICAgIC8vICAgICBpZiAoIWlzQSh0aGlzLnR5cGUucmV0dXJuVHlwZSwgVHlwZXMuVm9pZCkgJiYgIWluc3QucmV0dXJuU3RhdGVtZW50RW5jb3VudGVyZWQoKSl7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuZmxvd09mZk5vblZvaWQoc2ltLCBpbnN0KTtcclxuICAgIC8vICAgICB9XHJcblxyXG4gICAgLy8gICAgIGlmIChpbnN0LnJlY2VpdmVyKXtcclxuICAgIC8vICAgICAgICAgaW5zdC5yZWNlaXZlci5jYWxsRW5kZWQoKTtcclxuICAgIC8vICAgICB9XHJcblxyXG4gICAgLy8gICAgIHNpbS5tZW1vcnkuc3RhY2sucG9wRnJhbWUoaW5zdCk7XHJcbiAgICAvLyAgICAgc2ltLnBvcChpbnN0KTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBmbG93T2ZmTm9uVm9pZCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4gICAgLy8gICAgIGlmICh0aGlzLmlzTWFpbil7XHJcbiAgICAvLyAgICAgICAgIGluc3QuaV9yZXR1cm5PYmplY3Quc2V0VmFsdWUoVmFsdWUuaW5zdGFuY2UoMCwgVHlwZXMuSW50Lmluc3RhbmNlKCkpKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZXtcclxuICAgIC8vICAgICAgICAgc2ltLmltcGxlbWVudGF0aW9uRGVmaW5lZEJlaGF2aW9yKFwiWWlrZXMhIFRoaXMgaXMgYSBub24tdm9pZCBmdW5jdGlvbiAoaS5lLiBpdCdzIHN1cHBvc2VkIHRvIHJldHVybiBzb21ldGhpbmcpLCBidXQgaXQgZW5kZWQgd2l0aG91dCBoaXR0aW5nIGEgcmV0dXJuIHN0YXRlbWVudFwiKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG59XHJcblxyXG4vLyBUT0RPOiBpcyB0aGlzIG5lZWRlZD8gSSB0aGluayBSdW50aW1lRnVuY3Rpb24gbWF5IGJlIGFibGUgdG8gaGFuZGxlIGFsbCBvZiBpdC5cclxuLy8gZXhwb3J0IGNsYXNzIFJ1bnRpbWVNZW1iZXJGdW5jdGlvbiBleHRlbmRzIFJ1bnRpbWVGdW5jdGlvbiB7XHJcblxyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IHJlY2VpdmVyOiBDUFBPYmplY3Q8Q2xhc3NUeXBlPjtcclxuXHJcbi8vICAgICBwdWJsaWMgY29uc3RydWN0b3IgKG1vZGVsOiBGdW5jdGlvbkRlZmluaXRpb24sIHBhcmVudDogUnVudGltZUZ1bmN0aW9uQ2FsbCwgcmVjZWl2ZXI6IENQUE9iamVjdDxDbGFzc1R5cGU+KSB7XHJcbi8vICAgICAgICAgc3VwZXIobW9kZWwsIHBhcmVudCk7XHJcbi8vICAgICAgICAgdGhpcy5yZWNlaXZlciA9IHJlY2VpdmVyO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gfVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBUZW1wb3JhcnlEZWFsbG9jYXRvciBleHRlbmRzIEJhc2ljQ1BQQ29uc3RydWN0IHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFyZW50PzogUG90ZW50aWFsRnVsbEV4cHJlc3Npb247XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGVtcG9yYXJ5T2JqZWN0czogVGVtcG9yYXJ5T2JqZWN0RW50aXR5W107XHJcblxyXG4gICAgLy8gcHVibGljIHJlYWRvbmx5IGR0b3JzOiAoTWVtYmVyRnVuY3Rpb25DYWxsIHwgbnVsbClbXTtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgdGVtcG9yYXJ5T2JqZWN0czogVGVtcG9yYXJ5T2JqZWN0RW50aXR5W10gKSB7XHJcbiAgICAgICAgc3VwZXIoY29udGV4dCk7XHJcbiAgICAgICAgdGhpcy50ZW1wb3JhcnlPYmplY3RzID0gdGVtcG9yYXJ5T2JqZWN0cztcclxuXHJcbiAgICAgICAgLy8gVE9ETyBDTEFTU0VTOiBhZGQgYmFjayBpbiBkZXN0cnVjdG9yIGNhbGxzIGFuZCBkdG9ycyBtZW1iZXIgZnVuY3Rpb24gYWJvdmVcclxuICAgICAgICAvLyB0aGlzLmR0b3JzID0gdGVtcG9yYXJ5T2JqZWN0cy5tYXAoKHRlbXBFbnQpID0+IHtcclxuICAgICAgICAvLyAgICAgaWYgKHRlbXBFbnQudHlwZSBpbnN0YW5jZW9mIENsYXNzVHlwZSkge1xyXG4gICAgICAgIC8vICAgICAgICAgdmFyIGR0b3IgPSB0ZW1wRW50LnR5cGUuY3BwQ2xhc3MuZGVzdHJ1Y3RvcjtcclxuICAgICAgICAvLyAgICAgICAgIGlmIChkdG9yKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgLy9NZW1iZXJGdW5jdGlvbkNhbGwgYXJncyBhcmU6IGNvbnRleHQsIGZ1bmN0aW9uIHRvIGNhbGwsIGVtcHR5IGFyZ3MsIHJlY2VpdmVyXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgbGV0IGR0b3JDYWxsID0gbmV3IE1lbWJlckZ1bmN0aW9uQ2FsbChjb250ZXh0LCBkdG9yLCBbXSwgPFRlbXBvcmFyeU9iamVjdEVudGl0eTxDbGFzc1R5cGU+PnRlbXBFbnQpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHRoaXMuYXR0YWNoKGR0b3JDYWxsKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICByZXR1cm4gZHRvckNhbGw7XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgICAgICBlbHNle1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5kdG9yLm5vX2Rlc3RydWN0b3JfdGVtcG9yYXJ5KHRlbXBFbnQuY3JlYXRvciwgdGVtcEVudCkpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVDb25zdHJ1Y3QodGhpczogQ29tcGlsZWRUZW1wb3JhcnlEZWFsbG9jYXRvciwgcGFyZW50OiBSdW50aW1lUG90ZW50aWFsRnVsbEV4cHJlc3Npb24pIHtcclxuICAgICAgICByZXR1cm4gbmV3IFJ1bnRpbWVUZW1wb3JhcnlEZWFsbG9jYXRvcih0aGlzLCBwYXJlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHB1YmxpYyBpc1RhaWxDaGlsZChjaGlsZDogRXhlY3V0YWJsZUNvbnN0cnVjdCkge1xyXG4gICAgLy8gICAgIHJldHVybiB7aXNUYWlsOiB0cnVlfTtcclxuICAgIC8vIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZFRlbXBvcmFyeURlYWxsb2NhdG9yIGV4dGVuZHMgVGVtcG9yYXJ5RGVhbGxvY2F0b3IsIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuXHJcbiAgICAvLyByZWFkb25seSBkdG9yczogKENvbXBpbGVkTWVtYmVyRnVuY3Rpb25DYWxsIHwgbnVsbClbXTtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBSdW50aW1lVGVtcG9yYXJ5RGVhbGxvY2F0b3IgZXh0ZW5kcyBSdW50aW1lQ29uc3RydWN0PENvbXBpbGVkVGVtcG9yYXJ5RGVhbGxvY2F0b3I+IHtcclxuXHJcbiAgICBwcml2YXRlIGluZGV4ID0gMDtcclxuICAgIHByaXZhdGUganVzdERlc3RydWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IgKG1vZGVsOiBDb21waWxlZFRlbXBvcmFyeURlYWxsb2NhdG9yLCBwYXJlbnQ6IFJ1bnRpbWVQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbikge1xyXG4gICAgICAgIHN1cGVyKG1vZGVsLCBcImV4cHJlc3Npb25cIiwgcGFyZW50KTtcclxuICAgIH1cclxuXHRcclxuICAgIHByb3RlY3RlZCB1cE5leHRJbXBsKCkge1xyXG5cclxuICAgICAgICAvLyBmb3IgKHZhciBrZXkgaW4gdGhpcy50ZW1wb3Jhcmllcyl7XHJcbiAgICAgICAgLy8gICAgIHZhciB0ZW1wT2JqSW5zdCA9IHRoaXMudGVtcG9yYXJpZXNba2V5XS5ydW50aW1lTG9va3VwKHNpbSwgaW5zdC5wYXJlbnQpO1xyXG4gICAgICAgIC8vICAgICBpZiAodGVtcE9iakluc3QpIHtcclxuICAgICAgICAvLyAgICAgICAgIHNpbS5tZW1vcnkuZGVhbGxvY2F0ZVRlbXBvcmFyeU9iamVjdCh0ZW1wT2JqSW5zdCwgaW5zdCk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gdGhpcy5kb25lKHNpbSwgaW5zdCk7XHJcbiAgICAgICAgLy8gcmV0dXJuIHRydWU7XHJcblxyXG5cclxuICAgICAgICAvLyBsZXQgZHRvcnMgPSB0aGlzLm1vZGVsLmR0b3JzO1xyXG4gICAgICAgIGxldCBkdG9ycyA6IHJlYWRvbmx5IG51bGxbXSA9IHRoaXMubW9kZWwudGVtcG9yYXJ5T2JqZWN0cy5tYXAodCA9PiBudWxsKTsgLy8gVE9ETyBDTEFTU0VTOiByZXBsYWNlIHRoaXMgaGFjayB3aXRoIGFib3ZlXHJcbiAgICAgICAgaWYgKHRoaXMuaW5kZXggPCBkdG9ycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgLy8gbGV0IGR0b3IgPSBkdG9yc1t0aGlzLmluZGV4XTtcclxuICAgICAgICAgICAgLy8gaWYgKCF0aGlzLmp1c3REZXN0cnVjdGVkICYmIGR0b3IpIHtcclxuICAgICAgICAgICAgLy8gICAgIGR0b3IuY3JlYXRlUnVudGltZUNvbnN0cnVjdCh0aGlzKTtcclxuICAgICAgICAgICAgLy8gICAgIHRoaXMuc2ltLnB1c2goZHRvcik7XHJcbiAgICAgICAgICAgIC8vICAgICB0aGlzLmp1c3REZXN0cnVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAvLyBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2ltLm1lbW9yeS5kZWFsbG9jYXRlVGVtcG9yYXJ5T2JqZWN0KHRoaXMubW9kZWwudGVtcG9yYXJ5T2JqZWN0c1t0aGlzLmluZGV4XS5ydW50aW1lTG9va3VwKHRoaXMpKTtcclxuICAgICAgICAgICAgICAgICsrdGhpcy5pbmRleDtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuanVzdERlc3RydWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICB0aGlzLnNpbS5wb3AoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0ZXBGb3J3YXJkSW1wbCgpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIFRPRE86IEZha2VDb25zdHJ1Y3QgYW5kIEZha2VEZWNsYXJhdGlvbiBhcmUgbmV2ZXIgdXNlZFxyXG4vLyB2YXIgRmFrZUNvbnN0cnVjdCA9IENsYXNzLmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZSA6IFwiRmFrZUNvbnN0cnVjdFwiLFxyXG5cclxuLy8gICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcclxuXHJcbi8vICAgICAgICAgdGhpcy5pZCA9IENQUENvbnN0cnVjdC5fbmV4dElkKys7XHJcbi8vICAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xyXG5cclxuLy8gICAgICAgICAvLyB0aGlzLmlfbm90ZXMgPSBbXTtcclxuLy8gICAgICAgICAvLyB0aGlzLmlfaGFzRXJyb3JzID0gZmFsc2U7XHJcblxyXG4vLyAgICAgICAgIC8vIHRoaXMuaV9zZXRDb250ZXh0KGNvbnRleHQpO1xyXG4vLyAgICAgfSxcclxuXHJcblxyXG4vLyAgICAgZ2V0U291cmNlUmVmZXJlbmNlIDogZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIG51bGw7XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuLy8gdmFyIEZha2VEZWNsYXJhdGlvbiA9IEZha2VDb25zdHJ1Y3QuZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lIDogRmFrZURlY2xhcmF0aW9uLFxyXG5cclxuLy8gICAgIGluaXQgOiBmdW5jdGlvbihuYW1lLCB0eXBlKSB7XHJcbi8vICAgICAgICAgdGhpcy5pbml0UGFyZW50KCk7XHJcbi8vICAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuLy8gICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgVW5zdXBwb3J0ZWRDb25zdHJ1Y3QgZXh0ZW5kcyBCYXNpY0NQUENvbnN0cnVjdCB7XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgdW5zdXBwb3J0ZWROYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihjb250ZXh0KTtcclxuICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IubG9ic3Rlci51bnN1cHBvcnRlZF9mZWF0dXJlKHRoaXMsIHVuc3VwcG9ydGVkTmFtZSkpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbi8vIFRPRE86IHRoaXMgaXMganVzdCB0aGUgc2FtZSBhcyBSdW50aW1lQ29uc3RydWN0IHJpZ2h0IG5vd1xyXG4vLyBleHBvcnQgdHlwZSBFeGVjdXRhYmxlUnVudGltZUNvbnN0cnVjdCA9IFJ1bnRpbWVDb25zdHJ1Y3Q7IC8vIFJ1bnRpbWVGdW5jdGlvbiB8IFJ1bnRpbWVJbnN0cnVjdGlvbjtcclxuLy8gZXhwb3J0IGludGVyZmFjZSBFeGVjdXRhYmxlUnVudGltZUNvbnN0cnVjdCBleHRlbmRzIFJ1bnRpbWVDb25zdHJ1Y3Qge1xyXG4vLyAgICAgLy8gcmVhZG9ubHkgY29udGFpbmluZ1J1bnRpbWVGdW5jdGlvbiA6IFJ1bnRpbWVGdW5jdGlvbjtcclxuLy8gfVxyXG4vLyBleHBvcnQgYWJzdHJhY3QgY2xhc3MgUnVudGltZUluc3RydWN0aW9uPEMgZXh0ZW5kcyBDb21waWxlZEluc3RydWN0aW9uQ29uc3RydWN0ID0gQ29tcGlsZWRJbnN0cnVjdGlvbkNvbnN0cnVjdD4gZXh0ZW5kcyBSdW50aW1lQ29uc3RydWN0PEM+IHtcclxuXHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgY29udGFpbmluZ1J1bnRpbWVGdW5jdGlvbjogUnVudGltZUZ1bmN0aW9uO1xyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IHBhcmVudCE6IEV4ZWN1dGFibGVSdW50aW1lQ29uc3RydWN0OyAvLyBuYXJyb3dzIHR5cGUgZnJvbSBiYXNlIGNsYXNzIHRvIGJlIGZvciBzdXJlIGRlZmluZWRcclxuXHJcbi8vICAgICBwdWJsaWMgY29uc3RydWN0b3IgKG1vZGVsOiBDLCBzdGFja1R5cGU6IFN0YWNrVHlwZSwgcGFyZW50OiBFeGVjdXRhYmxlUnVudGltZUNvbnN0cnVjdCkge1xyXG4vLyAgICAgICAgIHN1cGVyKG1vZGVsLCBzdGFja1R5cGUsIHBhcmVudCk7XHJcbi8vICAgICAgICAgdGhpcy5jb250YWluaW5nUnVudGltZUZ1bmN0aW9uID0gcGFyZW50LmNvbnRhaW5pbmdSdW50aW1lRnVuY3Rpb247XHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcbi8vIGV4cG9ydCBpbnRlcmZhY2UgXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyAvKipcclxuLy8gICogUmVwcmVzZW50cyBlaXRoZXIgYSBkb3Qgb3IgYXJyb3cgb3BlcmF0b3IgYXQgcnVudGltZS5cclxuLy8gICogUHJvdmlkZXMgYSBjb250ZXh0IHRoYXQgbWF5IGNoYW5nZSBob3cgZW50aXRpZXMgYXJlIGxvb2tlZCB1cCBiYXNlZFxyXG4vLyAgKiBvbiB0aGUgb2JqZWN0IHRoZSBtZW1iZXIgaXMgYmVpbmcgYWNjZXNzZWQgZnJvbS4gZS5nLiBBIHZpcnR1YWwgbWVtYmVyXHJcbi8vICAqIGZ1bmN0aW9uIGxvb2t1cCBkZXBlbmRzIG9uIHRoZSBhY3R1YWwgKGkuZS4gZHluYW1pYykgdHlwZSBvZiB0aGUgb2JqZWN0XHJcbi8vICAqIG9uIHdoaWNoIGl0IHdhcyBjYWxsZWQuXHJcbi8vICAqL1xyXG4vLyBleHBvcnQgdmFyIFJ1bnRpbWVNZW1iZXJBY2Nlc3MgPSBSdW50aW1lQ29uc3RydWN0LmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZSA6IFwiUnVudGltZU1lbWJlckFjY2Vzc1wiLFxyXG5cclxuLy8gICAgIHNldE9iamVjdEFjY2Vzc2VkRnJvbSA6IGZ1bmN0aW9uKG9iaikge1xyXG4vLyAgICAgICAgIHRoaXMuaV9vYmplY3RBY2Nlc3NlZEZyb20gPSBvYmo7XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIGNvbnRleHR1YWxSZWNlaXZlciA6IGZ1bmN0aW9uKCl7XHJcbi8vICAgICAgICAgcmV0dXJuIHRoaXMuaV9vYmplY3RBY2Nlc3NlZEZyb207XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuLy8gZXhwb3J0IHZhciBSdW50aW1lTmV3SW5pdGlhbGl6ZXIgPSBSdW50aW1lQ29uc3RydWN0LmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZSA6IFwiUnVudGltZU5ld0luaXRpYWxpemVyXCIsXHJcblxyXG4vLyAgICAgc2V0QWxsb2NhdGVkT2JqZWN0IDogZnVuY3Rpb24ob2JqKSB7XHJcbi8vICAgICAgICAgdGhpcy5pX2FsbG9jYXRlZE9iamVjdCA9IG9iajtcclxuLy8gICAgIH0sXHJcbi8vICAgICBnZXRBbGxvY2F0ZWRPYmplY3QgOiBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICByZXR1cm4gdGhpcy5pX2FsbG9jYXRlZE9iamVjdDtcclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgR2xvYmFsT2JqZWN0QWxsb2NhdG9yIGV4dGVuZHMgQ1BQQ29uc3RydWN0IHtcclxuICAgIFxyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBwYXJlbnQ/OiB1bmRlZmluZWQ7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZ2xvYmFsT2JqZWN0czogcmVhZG9ubHkgR2xvYmFsT2JqZWN0RGVmaW5pdGlvbltdO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBQcm9ncmFtQ29udGV4dCwgZ2xvYmFsT2JqZWN0czogcmVhZG9ubHkgR2xvYmFsT2JqZWN0RGVmaW5pdGlvbltdICkge1xyXG4gICAgICAgIHN1cGVyKGNvbnRleHQpO1xyXG4gICAgICAgIHRoaXMuZ2xvYmFsT2JqZWN0cyA9IGdsb2JhbE9iamVjdHM7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByb3RlY3RlZCBvbkF0dGFjaChwYXJlbnQ6IHRoaXNbXCJwYXJlbnRcIl0pOiB2b2lkIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUNvbnN0cnVjdCh0aGlzOiBDb21waWxlZEdsb2JhbE9iamVjdEFsbG9jYXRvciwgc2ltOiBTaW11bGF0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSdW50aW1lR2xvYmFsT2JqZWN0QWxsb2NhdG9yKHRoaXMsIHNpbSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHVibGljIGlzVGFpbENoaWxkKGNoaWxkOiBFeGVjdXRhYmxlQ29uc3RydWN0KSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIHtpc1RhaWw6IHRydWV9O1xyXG4gICAgLy8gfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkR2xvYmFsT2JqZWN0QWxsb2NhdG9yIGV4dGVuZHMgR2xvYmFsT2JqZWN0QWxsb2NhdG9yLCBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcbiAgICByZWFkb25seSBnbG9iYWxPYmplY3RzOiByZWFkb25seSBDb21waWxlZEdsb2JhbE9iamVjdERlZmluaXRpb25bXTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJ1bnRpbWVHbG9iYWxPYmplY3RBbGxvY2F0b3IgZXh0ZW5kcyBSdW50aW1lQ29uc3RydWN0PENvbXBpbGVkR2xvYmFsT2JqZWN0QWxsb2NhdG9yPiB7XHJcblxyXG4gICAgcHJpdmF0ZSBpbmRleCA9IDA7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChtb2RlbDogQ29tcGlsZWRHbG9iYWxPYmplY3RBbGxvY2F0b3IsIHNpbTogU2ltdWxhdGlvbikge1xyXG4gICAgICAgIHN1cGVyKG1vZGVsLCBcInN0YXRlbWVudFwiLCBzaW0pOyAvLyBUT0RPOiBpcyBcInN0YXRlbWVudFwiIHRoZSByaWdodCBzdGFjayB0eXBlIGhlcmU/IHNob3VsZCBJIG1ha2UgYSBuZXcgb25lP1xyXG4gICAgfVxyXG5cdFxyXG4gICAgcHJvdGVjdGVkIHVwTmV4dEltcGwoKSB7XHJcblxyXG4gICAgICAgIC8vIGxldCBkdG9ycyA9IHRoaXMubW9kZWwuZHRvcnM7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5kZXggPCB0aGlzLm1vZGVsLmdsb2JhbE9iamVjdHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGxldCBvYmpEZWYgPSB0aGlzLm1vZGVsLmdsb2JhbE9iamVjdHNbdGhpcy5pbmRleF07XHJcbiAgICAgICAgICAgIHRoaXMuc2ltLm1lbW9yeS5hbGxvY2F0ZVN0YXRpYyhvYmpEZWYpO1xyXG4gICAgICAgICAgICBpZiAob2JqRGVmLmluaXRpYWxpemVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpbS5wdXNoKG9iakRlZi5pbml0aWFsaXplci5jcmVhdGVSdW50aW1lSW5pdGlhbGl6ZXIodGhpcykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICsrdGhpcy5pbmRleDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5zaW0ucG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGVwRm9yd2FyZEltcGwoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgQ1BQQ29uc3RydWN0IH0gZnJvbSBcIi4vY29uc3RydWN0c1wiO1xyXG5pbXBvcnQgeyBTb3VyY2VSZWZlcmVuY2UgfSBmcm9tIFwiLi9Qcm9ncmFtXCI7XHJcbmltcG9ydCB7IFJlZmVyZW5jZVR5cGUsIE9iamVjdFR5cGUsIENsYXNzVHlwZSwgVHlwZSwgQm91bmRlZEFycmF5VHlwZSwgQXJyYXlPZlVua25vd25Cb3VuZFR5cGUsIEF0b21pY1R5cGUsIHNhbWVUeXBlLCBQb3RlbnRpYWxQYXJhbWV0ZXJUeXBlIH0gZnJvbSBcIi4vdHlwZXNcIjtcclxuaW1wb3J0IHsgQ1BQRW50aXR5LCBEZWNsYXJlZEVudGl0eSwgT2JqZWN0RW50aXR5LCBBdXRvRW50aXR5LCBUZW1wb3JhcnlPYmplY3RFbnRpdHksIEZ1bmN0aW9uRW50aXR5LCBTdGF0aWNFbnRpdHkgfSBmcm9tIFwiLi9lbnRpdGllc1wiO1xyXG5pbXBvcnQgeyBWb2lkRGVjbGFyYXRpb24sIFN0b3JhZ2VTcGVjaWZpZXJLZXksIFR5cGVTcGVjaWZpZXJLZXksIFNpbXBsZVR5cGVOYW1lLCBTaW1wbGVEZWNsYXJhdGlvbiB9IGZyb20gXCIuL2RlY2xhcmF0aW9uc1wiO1xyXG5pbXBvcnQgeyBFeHByZXNzaW9uLCBUeXBlZEV4cHJlc3Npb24gfSBmcm9tIFwiLi9leHByZXNzaW9uQmFzZVwiO1xyXG5cclxuZXhwb3J0IGVudW0gTm90ZUtpbmQge1xyXG4gICAgRVJST1IgPSBcImVycm9yXCIsXHJcbiAgICBXQVJOSU5HID0gXCJ3YXJuaW5nXCIsXHJcbiAgICBTVFlMRSA9IFwic3R5bGVcIixcclxuICAgIE9USEVSID0gXCJvdGhlclwiXHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBOb3RlIHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkga2luZDogTm90ZUtpbmQ7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaWQ6IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSBtZXNzYWdlOiBzdHJpbmc7IFxyXG4gICAgXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Ioa2luZDogTm90ZUtpbmQsIGlkOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMua2luZCA9IGtpbmQ7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgcHJpbWFyeSBzb3VyY2UgcmVmZXJlbmNlIGZvciB0aGlzIG5vdGUsIGFsdGhvdWdoIG1vcmUgdGhhbiBvbmUgbWF5IGV4aXN0LlxyXG4gICAgICogVXNlIHRoZSBhbGxTb3VyY2VSZWZlcmVuY2VzIHByb3BlcnR5IHRvIHJldHJpZXZlIGFuIGFycmF5IG9mIGFsbCBzb3VyY2UgcmVmZXJlbmNlcy5cclxuICAgICAqIE1heSBiZSB1bmRlZmluZWQgaWYgdGhlIG5vdGUgZG9lc24ndCBjb25jZXJuIGFueSBwYXJ0aWN1bGFyIHBhcnQgb2YgdGhlIHNvdXJjZS5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGFic3RyYWN0IHJlYWRvbmx5IHByaW1hcnlTb3VyY2VSZWZlcmVuY2U/OiBTb3VyY2VSZWZlcmVuY2U7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBbiBhcnJheSBvZiBhbGwgc291cmNlIHJlZmVyZW5jZXMgZm9yIHRoaXMgbm90ZS5cclxuICAgICAqIE1heSBiZSBlbXB0eSBpZiB0aGUgbm90ZSBkb2Vzbid0IGNvbmNlcm4gYW55IHBhcnRpY3VsYXIgcGFydCBvZiB0aGUgc291cmNlLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcmVhZG9ubHkgYWxsU291cmNlUmVmZXJlbmNlczogcmVhZG9ubHkgU291cmNlUmVmZXJlbmNlW107XHJcblxyXG5cclxufVxyXG5cclxuXHJcblxyXG5hYnN0cmFjdCBjbGFzcyBCYXNpY05vdGVCYXNlIGV4dGVuZHMgTm90ZSB7XHJcblxyXG4gICAgcHVibGljIHByaW1hcnlTb3VyY2VSZWZlcmVuY2U6IFNvdXJjZVJlZmVyZW5jZTtcclxuICAgIHB1YmxpYyBhbGxTb3VyY2VSZWZlcmVuY2VzOiByZWFkb25seSBTb3VyY2VSZWZlcmVuY2VbXTtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Ioc291cmNlUmVmOiBTb3VyY2VSZWZlcmVuY2UsIGtpbmQ6IE5vdGVLaW5kLCBpZDogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihraW5kLCBpZCwgbWVzc2FnZSk7XHJcbiAgICAgICAgdGhpcy5wcmltYXJ5U291cmNlUmVmZXJlbmNlID0gc291cmNlUmVmO1xyXG4gICAgICAgIHRoaXMuYWxsU291cmNlUmVmZXJlbmNlcyA9IFtzb3VyY2VSZWZdO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUHJlcHJvY2Vzc29yTm90ZSBleHRlbmRzIEJhc2ljTm90ZUJhc2Uge1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFN5bnRheE5vdGUgZXh0ZW5kcyBCYXNpY05vdGVCYXNlIHtcclxuXHJcbn1cclxuXHJcbmNsYXNzIENvbnN0cnVjdE5vdGVCYXNlIGV4dGVuZHMgTm90ZSB7XHJcblxyXG4gICAgcHVibGljIHByaW1hcnlDb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdDtcclxuICAgIHB1YmxpYyByZWFkb25seSBjb25zdHJ1Y3RzOiByZWFkb25seSBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3RbXTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemVzIGEgbm90ZSBhc3NvY2lhdGVkIHdpdGggdGhlIHByb3ZpZGVkIGNvbnN0cnVjdHMuXHJcbiAgICAgKiBAcGFyYW0gY29uc3RydWN0cyBBIHNpbmdsZSBjb2RlIGNvbnN0cnVjdCBvciBhcnJheSBvZiBjb25zdHJ1Y3RzLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29uc3RydWN0czogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0IHwgcmVhZG9ubHkgVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0W10sIGtpbmQ6IE5vdGVLaW5kLCBpZDogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihraW5kLCBpZCwgbWVzc2FnZSk7XHJcbiAgICAgICAgdGhpcy5jb25zdHJ1Y3RzID0gY29uc3RydWN0cyBpbnN0YW5jZW9mIENQUENvbnN0cnVjdCA/IFtjb25zdHJ1Y3RzXSA6IGNvbnN0cnVjdHM7XHJcbiAgICAgICAgdGhpcy5wcmltYXJ5Q29uc3RydWN0ID0gdGhpcy5jb25zdHJ1Y3RzWzBdO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgZ2V0IHByaW1hcnlTb3VyY2VSZWZlcmVuY2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHJpbWFyeUNvbnN0cnVjdC5nZXROZWFyZXN0U291cmNlUmVmZXJlbmNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBhbGxTb3VyY2VSZWZlcmVuY2VzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdHMubWFwKGMgPT4gYy5nZXROZWFyZXN0U291cmNlUmVmZXJlbmNlKCkpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ29tcGlsZXJOb3RlIGV4dGVuZHMgQ29uc3RydWN0Tm90ZUJhc2Uge1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIExpbmtlck5vdGUgZXh0ZW5kcyBDb25zdHJ1Y3ROb3RlQmFzZSB7XHJcblxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQ1BQRXJyb3IgPSB7XHJcblx0Ly8gYXR0cmlidXRlRW1wdHlUbyA6IGZ1bmN0aW9uKHByb2JsZW1zLCBjb2RlKSB7XHJcblx0Ly8gXHRmb3IodmFyIGtleSBpbiBwcm9ibGVtcykge1xyXG5cdC8vIFx0XHR2YXIgcHJvYiA9IHByb2JsZW1zW2tleV07XHJcblx0Ly8gXHRcdHByb2IuY29kZSA9IHByb2IuY29kZSB8fCBjb2RlO1xyXG5cdC8vIFx0fVxyXG5cdC8vIH0sXHJcblx0Ly8gc3VtbWFyeSA6IGZ1bmN0aW9uKHByb2JsZW1zKSB7XHJcblx0Ly8gXHR2YXIgc3RyID0gXCJcIjtcclxuXHQvLyBcdGZvcih2YXIgaSA9IDA7IGkgPCBwcm9ibGVtcy5sZW5ndGg7ICsraSkge1xyXG5cdC8vIFx0XHR2YXIgcHJvYiA9IHByb2JsZW1zW2ldO1xyXG5cdC8vIFx0XHRzdHIgKz0gXCI8c3BhbiBzdHlsZT1cXFwiYmFja2dyb3VuZC1jb2xvcjpcIitwcm9iLmNvbG9yK1wiXFxcIj5cIitwcm9iLnNlbnRlbmNlICsgXCI8L3NwYW4+PGJyIC8+XCI7XHJcblx0Ly8gXHR9XHJcblx0Ly8gXHRyZXR1cm4gc3RyO1xyXG5cdC8vIH0sXHJcbiAgICBvdGhlciA6IHtcclxuXHQgICAgY2luX25vdF9zdXBwb3J0ZWQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcIm90aGVyLmNpbl9ub3Rfc3VwcG9ydGVkXCIsIFwiU29ycnksIDxzcGFuIGNsYXNzPSdjb2RlJz5jaW48L3NwYW4+IGlzIG5vdCBzdXBwb3J0ZWQgeWV0IDooLlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgY2xhc3NfZGVmIDoge1xyXG4gICAgICAgIHByZXZfZGVmIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIG5hbWU6IHN0cmluZywgcHJldjogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiY2xhc3NfZGVmLnByZXZfZGVmXCIsIG5hbWUgKyBcIiBjYW5ub3QgYmUgZGVmaW5lZCBtb3JlIHRoYW4gb25jZS4gTm90ZSB0aGF0IExvYnN0ZXIganVzdCBwdXRzIGFsbCBjbGFzcyBuYW1lcyAoaS5lLiB0eXBlcykgaW4gb25lIGdsb2JhbCBzb3J0IG9mIG5hbWVzcGFjZSwgc28geW91IGNhbid0IGV2ZXIgaGF2ZSB0d28gY2xhc3NlcyBvZiB0aGUgc2FtZSBuYW1lLlwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJhc2VfY2xhc3NfdHlwZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJjbGFzc19kZWYuYmFzZV9jbGFzc190eXBlXCIsIFwiSSBjYW5ub3QgZmluZCBhIHN1aXRhYmxlIGNsYXNzIGNhbGxlZCBcXFwiXCIrIG5hbWUgKyBcIlxcXCIgdG8gdXNlIGFzIGEgYmFzZS5cIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBiaWdfdGhyZWUgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgYmlnVGhyZWVZZXM6IHJlYWRvbmx5IHN0cmluZ1tdLCBiaWdUaHJlZU5vOiByZWFkb25seSBzdHJpbmdbXSkge1xyXG4gICAgICAgICAgICB2YXIgeVN0ciA9IGJpZ1RocmVlWWVzLmpvaW4oXCIgYW5kIFwiKTtcclxuICAgICAgICAgICAgdmFyIG5TdHIgPSBiaWdUaHJlZU5vLmpvaW4oXCIgYW5kIFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5XQVJOSU5HLCBcImNsYXNzX2RlZi5iaWdfdGhyZWVcIiwgXCJUaGlzIGNsYXNzIGRvZXMgbm90IGZvbGxvdyB0aGUgcnVsZSBvZiB0aGUgQmlnIFRocmVlLiBJdCBoYXMgYSBjdXN0b20gaW1wbGVtZW50YXRpb24gZm9yIHRoZSBcIiArIHlTdHIgKyBcIiBidXQgbm90IGZvciB0aGUgXCIgKyBuU3RyICsgXCIuIFRoZSBjb21waWxlciB3aWxsIHByb3ZpZGUgaW1wbGljaXQgdmVyc2lvbnMgb2YgdGhlIG1pc3Npbmcgb25lcywgYnV0IHRoZXkgd2lsbCBhbG1vc3QgY2VydGFpbmx5IHdvcmsgXFxcImluY29ycmVjdGx5XFxcIiAoZS5nLiBtYWtlIHNoYWxsb3cgY29waWVzIG9yIG5lZ2xlY3QgdG8gZGVsZXRlIGR5bmFtaWMgbWVtb3J5KS5cIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtdWx0aXBsZV9pbmhlcml0YW5jZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiY2xhc3NfZGVmLm11bHRpcGxlX2luaGVyaXRhbmNlXCIsIFwiU29ycnksIGJ1dCBMb2JzdGVyIGRvZXMgbm90IHN1cHBvcnQgbXVsdGlwbGUgaW5oZXJpdGFuY2UuXCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdmlydHVhbF9pbmhlcml0YW5jZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiY2xhc3NfZGVmLnZpcnR1YWxfaW5oZXJpdGFuY2VcIiwgXCJTb3JyeSwgYnV0IExvYnN0ZXIgZG9lcyBub3Qgc3VwcG9ydCB2aXJ0dWFsIGluaGVyaXRhbmNlLlwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGN0b3JfZGVmIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJjbGFzc19kZWYuY3Rvcl9kZWZcIiwgXCJTb3JyeSwgYnV0IGZvciBub3cgTG9ic3RlciBvbmx5IHN1cHBvcnRzIGNvbnN0cnVjdG9ycyB0aGF0IGFyZSBkZWZpbmVkIGlubGluZS4gKGkuZS4gWW91IG5lZWQgYSBib2R5LilcIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBkdG9yX2RlZiA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiY2xhc3NfZGVmLmR0b3JfZGVmXCIsIFwiU29ycnksIGJ1dCBmb3Igbm93IExvYnN0ZXIgb25seSBzdXBwb3J0cyBkZXN0cnVjdG9ycyB0aGF0IGFyZSBkZWZpbmVkIGlubGluZS4gKGkuZS4gWW91IG5lZWQgYSBib2R5LilcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHRkZWNsYXJhdGlvbiA6IHtcclxuICAgICAgICBjdG9yIDoge1xyXG4gICAgICAgICAgICBjb3B5IDoge1xyXG4gICAgICAgICAgICAgICAgcGFzc19ieV92YWx1ZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCB0eXBlOiBPYmplY3RUeXBlLCBuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29uc3RSZWYgPSBuZXcgUmVmZXJlbmNlVHlwZSh0eXBlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmN0b3IuY29weS5wYXNzX2J5X3ZhbHVlXCIsIFwiQSBjb3B5IGNvbnN0cnVjdG9yIGNhbm5vdCB0YWtlIGl0cyBwYXJhbWV0ZXIgYnkgdmFsdWUuIEJlY2F1c2UgcGFzcy1ieS12YWx1ZSBpdHNlbGYgdXNlcyB0aGUgY29weSBjb25zdHJ1Y3RvciwgdGhpcyB3b3VsZCBjYXVzZSBpbmZpbml0ZSByZWN1cnNpb24gaWYgaXQgd2VyZSBhbGxvd2VkLiBUcnkgcGFzc2luZyBieSBjb25zdCByZWZlcmVuY2UgaW5zdGVhZCEgKGkuZS4gXCIgKyBjb25zdFJlZi50eXBlU3RyaW5nKGZhbHNlLCBuYW1lLCBmYWxzZSkgKyBcIilcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGluaXQgOiB7XHJcbiAgICAgICAgICAgICAgICBub19zdWNoX21lbWJlciA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBjbGFzc1R5cGU6IENsYXNzVHlwZSwgbmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5jdG9yLmluaXQubm9fc3VjaF9tZW1iZXJcIiwgXCJDbGFzcyBcIiArIGNsYXNzVHlwZS50b1N0cmluZygpICsgXCIgaGFzIG5vIG1lbWJlciBuYW1lZCBcIiArIG5hbWUgKyBcIi5cIik7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgaW1wcm9wZXJfbWVtYmVyIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGNsYXNzVHlwZTogQ2xhc3NUeXBlLCBuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmN0b3IuaW5pdC5pbXByb3Blcl9tZW1iZXJcIiwgXCJBIG1lbWJlciBpbml0aWFsaXplciBjYW4gb25seSBiZSB1c2VkIGZvciBub24tc3RhdGljIGRhdGEgbWVtYmVycy4gVGhlcmUgaXMgbm8gc3VjaCBtZW1iZXIgbmFtZWQgXCIgKyBuYW1lICsgXCIgaW4gdGhlIFwiICsgY2xhc3NUeXBlLmNsYXNzTmFtZSArIFwiIGNsYXNzLlwiKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxlZ2F0aW5nX29ubHkgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgY2xhc3NUeXBlOiBDbGFzc1R5cGUsIG5hbWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uY3Rvci5pbml0LmRlbGVnYXRpbmdfb25seVwiLCBcIklmIGEgY29uc3RydWN0b3IncyBpbml0aWFsaXplciBsaXN0IGRlbGVnYXRlcyB0byBhbm90aGVyIGNvbnN0cnVjdG9yIGZyb20gdGhlIHNhbWUgY2xhc3MsIHRoYXQgbXVzdCBiZSB0aGUgb25seSB0aGluZyBpdCBkb2VzLlwiKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBtdWx0aXBsZV9iYXNlX2luaXRzIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGNsYXNzVHlwZTogQ2xhc3NUeXBlLCBuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmN0b3IuaW5pdC5tdWx0aXBsZV9iYXNlX2luaXRzXCIsIFwiQSBjb25zdHJ1Y3RvcidzIGluaXRpYWxpemVyIGxpc3QgY2Fubm90IHNwZWNpZnkgbW9yZSB0aGFuIG9uZSBiYXNlIGNsYXNzIGNvbnN0cnVjdG9yIHRvIHVzZS5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGR0b3IgOiB7XHJcbiAgICAgICAgICAgIG5vX2Rlc3RydWN0b3JfYXV0byA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBlbnRpdHk6IEF1dG9FbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uZHRvci5ub19kZXN0cnVjdG9yX2F1dG9cIiwgXCJUaGUgbG9jYWwgdmFyaWFibGUgXCIgKyBlbnRpdHkubmFtZSArIFwiIG5lZWRzIHRvIGJlIGRlc3Ryb3llZCB3aGVuIGl0IFxcXCJnb2VzIG91dCBvZiBzY29wZVxcXCIsIGJ1dCBJIGNhbid0IGZpbmQgYSBkZXN0cnVjdG9yIGZvciB0aGUgXCIgKyBlbnRpdHkudHlwZSArIFwiIGNsYXNzLiBUaGUgY29tcGlsZXIgc29tZXRpbWVzIHByb3ZpZGVzIG9uZSBpbXBsaWNpdGx5IGZvciB5b3UsIGJ1dCBub3QgaWYgb25lIG9mIGl0cyBtZW1iZXJzIG9yIGl0cyBiYXNlIGNsYXNzIGFyZSBtaXNzaW5nIGEgZGVzdHJ1Y3Rvci4gKE9yLCBpZiB5b3UndmUgdmlvbGF0ZWQgdGhlIHJ1bGUgb2YgdGhlIEJpZyBUaHJlZS4pXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvLyBub19kZXN0cnVjdG9yX21lbWJlciA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBlbnRpdHk6IE9iamVjdEVudGl0eSwgY29udGFpbmluZ0NsYXNzKSB7XHJcbiAgICAgICAgICAgIC8vICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmR0b3Iubm9fZGVzdHJ1Y3Rvcl9tZW1iZXJcIiwgXCJUaGUgbWVtYmVyIHZhcmlhYmxlIFwiICsgZW50aXR5Lm5hbWUgKyBcIiBuZWVkcyB0byBiZSBkZXN0cm95ZWQgYXMgcGFydCBvZiB0aGUgXCIgKyBjb250YWluaW5nQ2xhc3MuY2xhc3NOYW1lICsgXCIgZGVzdHJ1Y3RvciwgYnV0IEkgY2FuJ3QgZmluZCBhIGRlc3RydWN0b3IgZm9yIHRoZSBcIiArIGVudGl0eS50eXBlICsgXCIgY2xhc3MuIFRoZSBjb21waWxlciBzb21ldGltZXMgcHJvdmlkZXMgb25lIGltcGxpY2l0bHkgZm9yIHlvdSwgYnV0IG5vdCBpZiBvbmUgb2YgaXRzIG1lbWJlcnMgb3IgaXRzIGJhc2UgY2xhc3MgYXJlIG1pc3NpbmcgYSBkZXN0cnVjdG9yLiAoT3IsIGlmIHlvdSd2ZSB2aW9sYXRlZCB0aGUgcnVsZSBvZiB0aGUgQmlnIFRocmVlLilcIik7XHJcbiAgICAgICAgICAgIC8vIH0sXHJcbiAgICAgICAgICAgIC8vIG5vX2Rlc3RydWN0b3JfYmFzZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBlbnRpdHksIGNvbnRhaW5pbmdDbGFzcykge1xyXG4gICAgICAgICAgICAvLyAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5kdG9yLm5vX2Rlc3RydWN0b3JfYmFzZVwiLCBcIlRoZSBiYXNlIGNsYXNzIFwiICsgZW50aXR5Lm5hbWUgKyBcIiBuZWVkcyB0byBiZSBkZXN0cm95ZWQgYXMgcGFydCBvZiB0aGUgXCIgKyBjb250YWluaW5nQ2xhc3MuY2xhc3NOYW1lICsgXCIgZGVzdHJ1Y3RvciwgYnV0IEkgY2FuJ3QgZmluZCBhIGRlc3RydWN0b3IgZm9yIHRoZSBcIiArIGVudGl0eS50eXBlICsgXCIgY2xhc3MuIFRoZSBjb21waWxlciBzb21ldGltZXMgcHJvdmlkZXMgb25lIGltcGxpY2l0bHkgZm9yIHlvdSwgYnV0IG5vdCBpZiBvbmUgb2YgaXRzIG1lbWJlcnMgb3IgaXRzIGJhc2UgY2xhc3MgYXJlIG1pc3NpbmcgYSBkZXN0cnVjdG9yLiAoT3IsIGlmIHlvdSd2ZSB2aW9sYXRlZCB0aGUgcnVsZSBvZiB0aGUgQmlnIFRocmVlLilcIik7XHJcbiAgICAgICAgICAgIC8vIH0sXHJcbiAgICAgICAgICAgIG5vX2Rlc3RydWN0b3JfdGVtcG9yYXJ5IDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGVudGl0eTogVGVtcG9yYXJ5T2JqZWN0RW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmR0b3Iubm9fZGVzdHJ1Y3Rvcl90ZW1wb3JhcnlcIiwgXCJUaGlzIGV4cHJlc3Npb24gY3JlYXRlcyBhIHRlbXBvcmFyeSBvYmplY3Qgb2YgdHlwZSBcIiArIGVudGl0eS50eXBlICsgXCIgdGhhdCBuZWVkcyB0byBiZSBkZXN0cm95ZWQsIGJ1dCBJIGNhbid0IGZpbmQgYSBkZXN0cnVjdG9yIGZvciB0aGUgXCIgKyBlbnRpdHkudHlwZSArIFwiIGNsYXNzLiBUaGUgY29tcGlsZXIgc29tZXRpbWVzIHByb3ZpZGVzIG9uZSBpbXBsaWNpdGx5IGZvciB5b3UsIGJ1dCBub3QgaWYgb25lIG9mIGl0cyBtZW1iZXJzIG9yIGl0cyBiYXNlIGNsYXNzIGFyZSBtaXNzaW5nIGEgZGVzdHJ1Y3Rvci4gKE9yLCBpZiB5b3UndmUgdmlvbGF0ZWQgdGhlIHJ1bGUgb2YgdGhlIEJpZyBUaHJlZS4pXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFRPRE8gQWRkIHdhcm5pbmcgZm9yIG5vbi12aXJ0dWFsIGRlc3RydWN0b3IgaWYgZGVyaXZlZCBjbGFzc2VzIGV4aXN0XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBub190eXBlIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5ub190eXBlXCIsIFwiSVNPIEMrKyBmb3JiaWRzIGRlY2xhcmF0aW9uIHdpdGggbm8gdHlwZS5cIik7XHJcbiAgICAgICAgLy8gfSxcclxuICAgICAgICAvLyBwcmV2X2RlY2wgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgbmFtZSwgcHJldikge1xyXG4gICAgICAgIC8vICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLnByZXZfZGVjbFwiLCBuYW1lICsgXCIgY2Fubm90IGJlIGRlY2xhcmVkIG1vcmUgdGhhbiBvbmNlIGluIHRoaXMgc2NvcGUuXCIpO1xyXG4gICAgICAgIC8vIH0sXHJcbiAgICAgICAgcHJldl9kZWYgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgbmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24ucHJldl9kZWZcIiwgbmFtZSArIFwiIGNhbm5vdCBiZSBkZWZpbmVkIG1vcmUgdGhhbiBvbmNlIGluIHRoaXMgc2NvcGUuXCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcHJldl9sb2NhbCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5wcmV2X2xvY2FsXCIsIGBUaGlzIGRlY2xhcmF0aW9uIG9mIGEgbG9jYWwgdmFyaWFibGUgJHtuYW1lfSArIFwiIGNvbmZsaWN0cyB3aXRoIGFuIGVhcmxpZXIgZGVjbGFyYXRpb24gb2YgJHtuYW1lfSBpbiB0aGUgc2FtZSBzY29wZS5gKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIHByZXZfbWFpbiA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBuYW1lLCBwcmV2KSB7XHJcbiAgICAgICAgLy8gICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24ucHJldl9tYWluXCIsIG5hbWUgKyBcIiBjYW5ub3QgYmUgZGVmaW5lZCBtb3JlIHRoYW4gb25jZSBpbiB0aGlzIHNjb3BlLlwiKTtcclxuICAgICAgICAvLyB9LFxyXG5cdFx0ZnVuYyA6IHtcclxuXHRcdFx0cmV0dXJuX2FycmF5IDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuXHRcdFx0XHRyZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmZ1bmMucmV0dXJuX2FycmF5XCIsIFwiQ2Fubm90IGRlY2xhcmUgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gYXJyYXkuXCIpO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRyZXR1cm5fZnVuYyA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcblx0XHRcdFx0cmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5mdW5jLnJldHVybl9mdW5jXCIsIFwiQ2Fubm90IGRlY2xhcmUgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBmdW5jdGlvbi4gVHJ5IHJldHVybmluZyBhIGZ1bmN0aW9uIHBvaW50ZXI/XCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpbnZhbGlkX3JldHVybl90eXBlIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIHR5cGU6IFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uZnVuYy5pbnZhbGlkX3JldHVybl90eXBlXCIsIGBUaGUgdHlwZSAke3R5cGUudG9TdHJpbmcoKX0gaXMgbm90IGFsbG93ZWQgYXMgYSByZXR1cm4gdHlwZS5gKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc29tZV9pbnZhbGlkX3BhcmFtZXRlcl90eXBlcyA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmZ1bmMuc29tZV9pbnZhbGlkX3BhcmFtZXRlcl90eXBlc1wiLCBgVGhpcyBmdW5jdGlvbiB0eXBlIGNvbnRhaW5zIHNvbWUgaW52YWxpZCBwYXJhbWV0ZXIgdHlwZXMuYCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFycmF5IDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uZnVuYy5hcnJheVwiLCBcIkNhbm5vdCBkZWNsYXJlIGFuIGFycmF5IG9mIGZ1bmN0aW9ucy5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHZvaWRfcGFyYW0gOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5mdW5jLnZvaWRfcGFyYW1cIiwgXCJGdW5jdGlvbiBwYXJhbWV0ZXJzIG1heSBub3QgaGF2ZSB2b2lkIHR5cGUuXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvcF9tZW1iZXIgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5mdW5jLm9wX21lbWJlclwiLCBcIlRoaXMgb3BlcmF0b3IgbXVzdCBiZSBvdmVybG9hZGVkIGFzIGEgbm9uLXN0YXRpYyBtZW1iZXIgZnVuY3Rpb24uXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvcF9zdWJzY3JpcHRfb25lX3BhcmFtIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uZnVuYy5vcF9zdWJzY3JpcHRfb25lX3BhcmFtXCIsIFwiQW4gb3ZlcmxvYWRlZCBzdWJzY3JpcHQgKFtdKSBvcGVyYXRvciBtdXN0IHRha2UgZXhhY3RseSBvbmUgcGFyYW1ldGVyLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmV0dXJuVHlwZXNNYXRjaCA6IGZ1bmN0aW9uKGRlY2xhcmF0aW9uczogU2ltcGxlRGVjbGFyYXRpb25bXSwgbmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShkZWNsYXJhdGlvbnMsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmZ1bmMucmV0dXJuVHlwZXNNYXRjaFwiLCBcIkNhbm5vdCByZWRlY2xhcmUgZnVuY3Rpb24gXCIgKyBuYW1lICsgXCIgd2l0aCB0aGUgc2FtZSBwYXJhbWV0ZXIgdHlwZXMgYnV0IGEgZGlmZmVyZW50IHJldHVybiB0eXBlLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWFpblBhcmFtcyA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmZ1bmMubWFpblBhcmFtc1wiLCBcIlNvcnJ5LCBidXQgZm9yIG5vdyBjb21tYW5kIGxpbmUgYXJndW1lbnRzIChhbmQgdGh1cyBwYXJhbWV0ZXJzIGZvciBtYWluKSBhcmUgbm90IHN1cHBvcnRlZCBpbiBMb2JzdGVyLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbm9fcmV0dXJuX3R5cGUgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5mdW5jLm5vX3JldHVybl90eXBlXCIsIFwiWW91IG11c3Qgc3BlY2lmeSBhIHJldHVybiB0eXBlIGZvciB0aGlzIGZ1bmN0aW9uLiAoT3IgaWYgeW91IG1lYW50IGl0IHRvIGJlIGEgY29uc3RydWN0b3IsIGRpZCB5b3UgbWlzc3BlbGwgdGhlIG5hbWU/KVwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbm9uQ292YXJpYW50UmV0dXJuVHlwZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBkZXJpdmVkOiBUeXBlLCBiYXNlOiBUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmZ1bmMubm9uQ292YXJpYW50UmV0dXJuVHlwZVwiLCBcIlJldHVybiB0eXBlcyBpbiBvdmVycmlkZGVuIHZpcnR1YWwgZnVuY3Rpb25zIG11c3QgZWl0aGVyIGJlIHRoZSBzYW1lIG9yIGNvdmFyaWFudCAoaS5lLiBmb2xsb3cgdGhlIExpc2tvdiBTdWJzdGl0dXRpb24gUHJpbmNpcGxlKS4gQm90aCByZXR1cm4gdHlwZXMgbXVzdCBiZSBwb2ludGVycy9yZWZlcmVuY2VzIHRvIGNsYXNzIHR5cGVzLCBhbmQgdGhlIGNsYXNzIHR5cGUgaW4gdGhlIG92ZXJyaWRpbmcgZnVuY3Rpb24gbXVzdCBiZSB0aGUgc2FtZSBvciBhIGRlcml2ZWQgdHlwZS4gVGhlcmUgYXJlIGFsc28gcmVzdHJpY3Rpb25zIG9uIHRoZSBjdi1xdWFsaWZpY2F0aW9ucyBvZiB0aGUgcmV0dXJuIHR5cGVzLiBJbiB0aGlzIGNhc2UsIHJldHVybmluZyBhIFwiICsgZGVyaXZlZCArIFwiIGluIHBsYWNlIG9mIGEgXCIgKyBiYXNlICsgXCIgdmlvbGF0ZXMgY292YXJpYW5jZS5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRlZmluaXRpb25fbm9uX2Z1bmN0aW9uX3R5cGUgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5mdW5jLmRlZmluaXRpb25fbm9uX2Z1bmN0aW9uX3R5cGVcIiwgXCJUaGlzIGFwcGVhcnMgdG8gYmUgYSBmdW5jdGlvbiBkZWZpbml0aW9uLCBidXQgdGhlIGRlY2xhcmF0b3IgZG9lcyBub3QgaW5kaWNhdGUgYSBmdW5jdGlvbiB0eXBlLiBNYXliZSB5b3UgZm9yZ3QgdGhlIHBhcmVudGhlc2VzP1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcG9pbnRlcjoge1xyXG4gICAgICAgICAgICByZWZlcmVuY2UgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5wb2ludGVyLnJlZmVyZW5jZVwiLCBcIkNhbm5vdCBkZWNsYXJlIGEgcG9pbnRlciB0byBhIHJlZmVyZW5jZS5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHZvaWQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5wb2ludGVyLnZvaWRcIiwgXCJTb3JyeSwgTG9ic3RlciBkb2VzIG5vdCBzdXBwb3J0IHZvaWQgcG9pbnRlcnMuXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpbnZhbGlkX3BvaW50ZWRfdHlwZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCB0eXBlOiBUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLnBvaW50ZXIuaW52YWxpZF9wb2ludGVkX3R5cGVcIiwgYEEgcG9pbnRlciB0byB0eXBlICR7dHlwZS50b1N0cmluZygpfSBpcyBub3QgYWxsb3dlZC5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblx0XHRyZWYgOiB7XHJcblx0XHRcdHJlZiA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcblx0XHRcdFx0cmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5yZWYucmVmXCIsIFwiQSByZWZlcmVuY2UgdG8gYSByZWZlcmVuY2UgaXMgbm90IGFsbG93ZWQuXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvLyBUT0RPOiBtb3ZlIHRoaXMgdG8gYXJyYXkgc2VjdGlvbiBpbnN0ZWFkXHJcbiAgICAgICAgICAgIGFycmF5IDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24ucmVmLmFycmF5XCIsIFwiQ2Fubm90IGRlY2xhcmUgYW4gYXJyYXkgb2YgcmVmZXJlbmNlcy5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGludmFsaWRfcmVmZXJyZWRfdHlwZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCB0eXBlOiBUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLnJlZi5pbnZhbGlkX3JlZmVycmVkX3R5cGVcIiwgYEEgcmVmZXJlbmNlIHRvIHR5cGUgJHt0eXBlLnRvU3RyaW5nKCl9IGlzIG5vdCBhbGxvd2VkLmApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtZW1iZXJOb3RTdXBwb3J0ZWQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5yZWYubWVtYmVyTm90U3VwcG9ydGVkXCIsIFwiU29ycnksIHJlZmVyZW5jZSBtZW1iZXJzIGFyZSBub3Qgc3VwcG9ydGVkIGF0IHRoZSBtb21lbnQuXCIpO1xyXG4gICAgICAgICAgICB9XHJcblx0XHR9LFxyXG4gICAgICAgIGFycmF5IDoge1xyXG4gICAgICAgICAgICBsZW5ndGhfcmVxdWlyZWQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5hcnJheS5sZW5ndGhfcmVxdWlyZWRcIiwgXCJNdXN0IHNwZWNpZnkgbGVuZ3RoIGFzIGFuIGludGVnZXIgbGl0ZXJhbCB3aGVuIGRlY2xhcmluZyBhbiBhcnJheS4gKFNvcnJ5LCBidXQgTG9ic3RlciByZXF1aXJlcyB0aGlzIGZvciBub3cgZXZlbiBpZiBpdCBjb3VsZCBoeXBvdGhldGljYWxseSBiZSBkZWR1Y2VkIGZyb20gdGhlIGluaXRpYWxpemVyLilcIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHplcm9fbGVuZ3RoIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uYXJyYXkuemVyb19sZW5ndGhcIiwgXCJBbHRob3VnaCB0ZWNobmljYWxseSBhbGxvd2VkIGluIEMrKywgYXJyYXlzIHdpdGggemVybyBsZW5ndGggYXJlIHByb2hpYml0ZWQgaW4gTG9ic3Rlci5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG11bHRpZGltZW5zaW9uYWxfYXJyYXlzX3Vuc3VwcG9ydGVkIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uYXJyYXkubXVsdGlkaW1lbnNpb25hbF9hcnJheXNfdW5zdXBwb3J0ZWRcIiwgXCJTb3JyeSwgTG9ic3RlciBjdXJyZW50bHkgZG9lc24ndCBzdXBwb3J0IG11bHRpZGltZW5zaW9uYWwgYXJyYXlzLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaW52YWxpZF9lbGVtZW50X3R5cGUgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgdHlwZTogVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5hcnJheS5pbnZhbGlkX2VsZW1lbnRfdHlwZVwiLCBgVGhlIHR5cGUgJHt0eXBlLnRvU3RyaW5nKCl9IGlzIG5vdCBhbGxvd2VkIGFzIGFuIGFycmF5IHBhcmFtZXRlci5gICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGluaXQgOiB7XHJcbiAgICAgICAgICAgIHNjYWxhcl9hcmdzIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGRlY2xUeXBlOiBBdG9taWNUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmluaXQuc2NhbGFyX2FyZ3NcIiwgXCJJbnZhbGlkIGluaXRpYWxpemF0aW9uIG9mIHNjYWxhciB0eXBlIFwiICsgZGVjbFR5cGUgKyBcIiBmcm9tIG11bHRpcGxlIHZhbHVlcy5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFycmF5X3N0cmluZ19saXRlcmFsIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIHRhcmdldFR5cGU6IEJvdW5kZWRBcnJheVR5cGUgfCBBcnJheU9mVW5rbm93bkJvdW5kVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5pbml0LmFycmF5X3N0cmluZ19saXRlcmFsXCIsIFwiQ2Fubm90IGRpcmVjdC9jb3B5IGluaXRpYWxpemUgYW4gYXJyYXkgb2YgdHlwZSBcIiArIHRhcmdldFR5cGUgKyBcIi4gVGhlIG9ubHkgYWxsb3dlZCBkaXJlY3QvY29weSBpbml0aWFsaXphdGlvbiBvZiBhbiBhcnJheSBpcyB0byBpbml0aWFsaXplIGFuIGFycmF5IG9mIGNoYXIgZnJvbSBhIHN0cmluZyBsaXRlcmFsLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY29udmVydCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBpbml0VHlwZTogVHlwZSwgZGVjbFR5cGU6IFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uaW5pdC5jb252ZXJ0XCIsIFwiSW52YWxpZCBjb252ZXJzaW9uIGZyb20gXCIgKyBpbml0VHlwZSArIFwiIHRvIFwiICsgZGVjbFR5cGUgKyBcIi5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpc3RfbmFycm93aW5nIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGluaXRUeXBlOiBUeXBlLCBkZWNsVHlwZTogVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5pbml0Lmxpc3RfbmFycm93aW5nXCIsIFwiSW1wbGljaXQgbmFycm93aW5nIGNvbnZlcnNpb24gZnJvbSBcIiArIGluaXRUeXBlICsgXCIgdG8gXCIgKyBkZWNsVHlwZSArIFwiIGlzIG5vdCBhbGxvd2VkIGluIGluaXRpYWxpemVyIGxpc3QuXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsaXN0X2FycmF5IDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uaW5pdC5saXN0X2FycmF5XCIsIFwiSW5pdGlhbGl6ZXIgbGlzdCBzeW50YXggb25seSBzdXBwb3J0ZWQgZm9yIGFycmF5cy5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpc3RfbGVuZ3RoIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGxlbmd0aDogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmluaXQubGlzdF9sZW5ndGhcIiwgXCJMZW5ndGggb2YgaW5pdGlhbGl6ZXIgbGlzdCBtdXN0IG1hdGNoIGxlbmd0aCBvZiBhcnJheSAoXCIgKyBsZW5ndGggKyBcIikuXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtYXRjaGluZ19jb25zdHJ1Y3RvciA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBlbnRpdHk6IE9iamVjdEVudGl0eTxDbGFzc1R5cGU+LCBhcmdUeXBlczogcmVhZG9ubHkgVHlwZVtdKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGVzYyA9IGVudGl0eS5kZXNjcmliZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5pbml0Lm1hdGNoaW5nX2NvbnN0cnVjdG9yXCIsIFwiVHJ5aW5nIHRvIGluaXRpYWxpemUgXCIgKyAoZGVzYy5uYW1lIHx8IGRlc2MubWVzc2FnZSkgKyBcIiwgYnV0IHVuYWJsZSB0byBmaW5kIGEgbWF0Y2hpbmcgY29uc3RydWN0b3IgZGVmaW5pdGlvbiBmb3IgdGhlIFwiICsgZW50aXR5LnR5cGUuY2xhc3NOYW1lICsgXCIgY2xhc3MgdXNpbmcgdGhlIGdpdmVuIGFyZ3VtZW50cyAoXCIgKyBhcmdUeXBlcy5qb2luKFwiLCBcIikgKyBcIikuXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBub19kZWZhdWx0X2NvbnN0cnVjdG9yIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGVudGl0eTogT2JqZWN0RW50aXR5PENsYXNzVHlwZT4pIHtcclxuICAgICAgICAgICAgICAgIHZhciBkZXNjID0gZW50aXR5LmRlc2NyaWJlKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmluaXQubm9fZGVmYXVsdF9jb25zdHJ1Y3RvclwiLCBcIlRoaXMgY2FsbHMgZm9yIHRoZSBkZWZhdWx0IGluaXRpYWxpemF0aW9uIG9mIFwiICsgKGRlc2MubmFtZSB8fCBkZXNjLm1lc3NhZ2UpICsgXCIsIGJ1dCBJIGNhbid0IGZpbmQgYSBkZWZhdWx0IGNvbnN0cnVjdG9yIChpLmUuIHRha2luZyBubyBhcmd1bWVudHMpIGZvciB0aGUgXCIgKyBlbnRpdHkudHlwZS5jbGFzc05hbWUgKyBcIiBjbGFzcy4gVGhlIGNvbXBpbGVyIHVzdWFsbHkgcHJvdmlkZXMgYW4gaW1wbGljaXQgb25lIGZvciB5b3UsIGJ1dCBub3QgaWYgeW91IGhhdmUgZGVjbGFyZWQgb3RoZXIgY29uc3RydWN0b3JzICh1bmRlciB0aGUgYXNzdW1wdGlvbiB5b3Ugd291bGQgd2FudCB0byB1c2Ugb25lIG9mIHRob3NlKS5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlZmVyZW5jZVBydmFsdWVDb25zdCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmluaXQucmVmZXJlbmNlUHJ2YWx1ZUNvbnN0XCIsIFwiWW91IGNhbm5vdCBiaW5kIGEgbm9uLWNvbnN0IHJlZmVyZW5jZSB0byBhIHBydmFsdWUgKGUuZy4gYSB0ZW1wb3Jhcnkgb2JqZWN0KS5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlZmVyZW5jZVR5cGUgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgZnJvbTogVHlwZSwgdG86IE9iamVjdFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uaW5pdC5yZWZlcmVuY2VUeXBlXCIsIFwiQSByZWZlcmVuY2UgKG9mIHR5cGUgXCIgKyB0byArIFwiKSBjYW5ub3QgYmUgYm91bmQgdG8gYW4gb2JqZWN0IG9mIGEgZGlmZmVyZW50IHR5cGUgKFwiICsgZnJvbSArIFwiKS5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlZmVyZW5jZUJpbmQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5pbml0LnJlZmVyZW5jZUJpbmRcIiwgXCJSZWZlcmVuY2VzIG11c3QgYmUgYm91bmQgdG8gc29tZXRoaW5nIHdoZW4gdGhleSBhcmUgZGVjbGFyZWQuXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZWZlcmVuY2VCaW5kTXVsdGlwbGUgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5pbml0LnJlZmVyZW5jZUJpbmRNdWx0aXBsZVwiLCBcIlJlZmVyZW5jZXMgY2Fubm90IGJlIGJvdW5kIHRvIG11bHRpcGxlIG9iamVjdHMuXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdHJpbmdMaXRlcmFsTGVuZ3RoIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIHN0cmluZ1NpemU6IG51bWJlciwgYXJyU2l6ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJyU2l6ZSA9PT0gc3RyaW5nU2l6ZSAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmluaXQuc3RyaW5nTGl0ZXJhbExlbmd0aFwiLCBcIllvdXIgYXJyYXkgaXMgb25lIGVsZW1lbnQgdG9vIHNob3J0LiBSZW1lbWJlciwgd2hlbiBpbml0aWFsaXppbmcgYSBjaGFyYWN0ZXIgYXJyYXkgKGkuZS4gYSBjLXN0cmluZykgd2l0aCBhIHN0cmluZyBsaXRlcmFsLCBhbiBleHRyYSBcXFxcMCAobnVsbCBjaGFyYWN0ZXIpIGlzIGF1dG9tYXRpY2FsbHkgYXBwZW5kZWQuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYXJyU2l6ZSA+IHN0cmluZ1NpemUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLldBUk5JTkcsIFwiZGVjbGFyYXRpb24uaW5pdC5zdHJpbmdMaXRlcmFsTGVuZ3RoXCIsIFwiWW91ciBhcnJheSAobGVuZ3RoIFwiICsgYXJyU2l6ZSArXCIpIGlzIGxvbmdlciB0aGFuIGl0IG5lZWRzIHRvIGJlIHRvIGhvbGQgdGhlIHN0cmluZyBsaXRlcmFsIChsZW5ndGggXCIgKyBzdHJpbmdTaXplICsgXCIpLiBUaGUgcmVtYWluaW5nIGNoYXJhY3RlciBlbGVtZW50cyB3aWxsIGJlIHplcm8taW5pdGlhbGl6ZWQuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmluaXQuc3RyaW5nTGl0ZXJhbExlbmd0aFwiLCBcIlRoZSBzdHJpbmcgbGl0ZXJhbCB1c2VkIGZvciBpbml0aWFsaXphdGlvbiAobGVuZ3RoIFwiICsgc3RyaW5nU2l6ZSArIFwiKSBjYW5ub3QgZml0IGluIHRoZSBkZWNsYXJlZCBhcnJheSAobGVuZ3RoIFwiICsgYXJyU2l6ZSArXCIpLlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdW5pbml0aWFsaXplZCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBlbnQ6IE9iamVjdEVudGl0eSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5XQVJOSU5HLCBcImRlY2xhcmF0aW9uLmluaXQudW5pbml0aWFsaXplZFwiLCAoZW50LmRlc2NyaWJlKCkubmFtZSB8fCBlbnQuZGVzY3JpYmUoKS5tZXNzYWdlKSArIFwiIGlzIHVuaW5pdGlhbGl6ZWQsIHNvIGl0IHdpbGwgc3RhcnQgd2l0aCB3aGF0ZXZlciB2YWx1ZSBoYXBwZW5zIHRvIGJlIGluIG1lbW9yeSAoaS5lLiBtZW1vcnkganVuaykuIElmIHlvdSB0cnkgdG8gdXNlIHRoaXMgdmFyaWFibGUgYmVmb3JlIGluaXRpYWxpemluZyBpdCwgd2hvIGtub3dzIHdoYXQgd2lsbCBoYXBwZW4hXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhcnJheV9kZWZhdWx0X2luaXQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5XQVJOSU5HLCBcImRlY2xhcmF0aW9uLmluaXQuYXJyYXlfZGVmYXVsdF9pbml0XCIsIFwiTm90ZTogRGVmYXVsdCBpbml0aWFsaXphdGlvbiBvZiBhbiBhcnJheSByZXF1aXJlcyBkZWZhdWx0IGluaXRpYWxpemF0aW9uIG9mIGVhY2ggb2YgaXRzIGVsZW1lbnRzLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYXJyYXlfZGlyZWN0X2luaXQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5PVEhFUiwgXCJkZWNsYXJhdGlvbi5pbml0LmFycmF5X2RpcmVjdF9pbml0XCIsIFwiTm90ZTogaW5pdGlhbGl6YXRpb24gb2YgYW4gYXJyYXkgcmVxdWlyZXMgaW5pdGlhbGl6YXRpb24gb2YgZWFjaCBvZiBpdHMgZWxlbWVudHMuXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc3RvcmFnZSA6IHtcclxuICAgICAgICAgICAgb25jZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBzcGVjOiBTdG9yYWdlU3BlY2lmaWVyS2V5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLnN0b3JhZ2Uub25jZVwiLCBcIlN0b3JhZ2Ugc3BlY2lmaWVyIChcIiArIHNwZWMgKyBcIikgbWF5IG9ubHkgYmUgdXNlZCBvbmNlLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaW5jb21wYXRpYmxlIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIHNwZWNzOiByZWFkb25seSBTdG9yYWdlU3BlY2lmaWVyS2V5W10pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uc3RvcmFnZS5pbmNvbXBhdGlibGVcIiwgXCJTdG9yYWdlIHNwZWNpZmllcnMgKCBcIiArIHNwZWNzLmpvaW4oXCIgXCIpICsgXCIpIGFyZSBpbmNvbXBhdGlibGUgd2l0aCBlYWNoIG90aGVyLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy8gdHlwZWRlZiA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBzcGVjcykge1xyXG4gICAgICAgICAgICAvLyAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5zdG9yYWdlLnR5cGVkZWZcIiwgXCJTdG9yYWdlIHNwZWNpZmllcnMgbWF5IG5vdCBiZSB1c2VkIGluIGEgdHlwZWRlZi4gKFwiICsgc3BlY3MgKyBcIiB3ZXJlIGZvdW5kLilcIik7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHR5cGVTcGVjaWZpZXIgOiB7XHJcbiAgICAgICAgICAgIG9uY2UgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgc3BlYzogVHlwZVNwZWNpZmllcktleSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi50eXBlU3BlY2lmaWVyLm9uY2VcIiwgXCJUeXBlIHNwZWNpZmllciAoXCIgKyBzcGVjICsgXCIpIG1heSBvbmx5IGJlIHVzZWQgb25jZS5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uZV90eXBlIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIHR5cGVOYW1lczogcmVhZG9ubHkgU2ltcGxlVHlwZU5hbWVbXSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi50eXBlU3BlY2lmaWVyLm9uZV90eXBlXCIsIGBUeXBlIHNwZWNpZmllciBtdXN0IG9ubHkgc3BlY2lmeSBvbmUgdHlwZS4gRm91bmQ6ICR7dHlwZU5hbWVzfS5gKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2lnbmVkX3Vuc2lnbmVkIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwidHlwZS5zaWduZWRfdW5zaWduZWRcIiwgXCJUeXBlIHNwZWNpZmllciBtYXkgbm90IGluZGljYXRlIGJvdGggc2lnbmVkIGFuZCB1bnNpZ25lZC5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBmcmllbmQgOiB7XHJcbiAgICAgICAgICAgIG91dHNpZGVfY2xhc3MgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5mcmllbmQub3V0c2lkZV9jbGFzc1wiLCBcIkZyaWVuZCBkZWNsYXJhdGlvbnMgYXJlIG5vdCBhbGxvd2VkIGhlcmUuXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB2aXJ0dWFsX3Byb2hpYml0ZWQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5mcmllbmQudmlydHVhbF9wcm9oaWJpdGVkXCIsIFwiQSB2aXJ0dWFsIGZ1bmN0aW9uIG1heSBub3QgYmUgZGVjbGFyZWQgYXMgYSBmcmllbmQuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBwYXJhbWV0ZXIgOiB7XHJcbiAgICAgICAgICAgIHN0b3JhZ2VfcHJvaGliaXRlZCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLnBhcmFtZXRlci5zdG9yYWdlX3Byb2hpYml0ZWRcIiwgXCJTdG9yYWdlIHNwZWNpZmllcnMgYXJlIG5vdCBwZXJtaXR0ZWQgaW4gcGFyYW1ldGVyIGRlY2xhcmF0aW9ucy5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHZpcnR1YWxfcHJvaGliaXRlZCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmZyaWVuZC52aXJ0dWFsX3Byb2hpYml0ZWRcIiwgXCJBIHZpcnR1YWwgZnVuY3Rpb24gbWF5IG5vdCBiZSBkZWNsYXJlZCBhcyBhIGZyaWVuZC5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHVua25vd25fdHlwZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24udW5rbm93bl90eXBlXCIsIFwiVW5hYmxlIHRvIGRldGVybWluZSB0aGUgdHlwZSBkZWNsYXJlZCBoZXJlLlwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHZvaWRfcHJvaGliaXRlZCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVm9pZERlY2xhcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24udm9pZF9wcm9oaWJpdGVkXCIsIGBUaGUgdmFyaWFibGUgJHtjb25zdHJ1Y3QuZGVjbGFyYXRvci5uYW1lIHx8IFwiaGVyZVwifSBtYXkgbm90IGJlIGRlY2xhcmVkIGFzIHR5cGUgdm9pZC5gKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHZpcnR1YWxfcHJvaGliaXRlZCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24udmlydHVhbF9wcm9oaWJpdGVkXCIsIFwiVGhlIHZpcnR1YWwga2V5d29yZCBtYXkgb25seSBiZSB1c2VkIGluIG1lbWJlciBmdW5jdGlvbiBkZWNsYXJhdGlvbnMuXCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdHlwZV9taXNtYXRjaCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBuZXdFbnRpdHk6IERlY2xhcmVkRW50aXR5LCBleGlzdGluZ0VudGl0eTogRGVjbGFyZWRFbnRpdHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi50eXBlX21pc21hdGNoXCIsIGBUeXBlIG1pc21hdGNoLiBUaGlzIGRlY2xhcmF0aW9uIGZvciAke25ld0VudGl0eS5uYW1lfSBoYXMgdHlwZSAke25ld0VudGl0eS50eXBlfSwgYnV0IGEgcHJldmlvdXMgZGVjbGFyYXRpb24gb2YgJHtleGlzdGluZ0VudGl0eS5uYW1lfSBoYXMgdHlwZSAke2V4aXN0aW5nRW50aXR5LnR5cGV9YCk7XHJcbiAgICAgICAgfSxcclxuXHR9LFxyXG5cdHR5cGUgOiB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdW5zaWduZWRfbm90X3N1cHBvcnRlZCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuV0FSTklORywgXCJ0eXBlLnVuc2lnbmVkX25vdF9zdXBwb3J0ZWRcIiwgXCJTb3JyeSwgdW5zaWduZWQgaW50ZWdyYWwgdHlwZXMgYXJlIG5vdCBzdXBwb3J0ZWQgeWV0LiBJdCB3aWxsIGp1c3QgYmUgdHJlYXRlZCBsaWtlIGEgbm9ybWFsIGludC5cIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdG9yYWdlIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5XQVJOSU5HLCBcInR5cGUuc3RvcmFnZVwiLCBcIkJlY2F1c2Ugb2YgdGhlIHdheSBMb2JzdGVyIHdvcmtzLCBzdG9yYWdlIGNsYXNzIHNwZWNpZmllcnMgKGUuZy4gc3RhdGljKSBoYXZlIG5vIGVmZmVjdC5cIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0eXBlTm90Rm91bmQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgdHlwZU5hbWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcInR5cGUudHlwZU5vdEZvdW5kXCIsIFwiT29wcywgdGhpcyBpcyBlbWJhcmFzc2luZy4uLiBJIGZlZWwgbGlrZSBcIiArIHR5cGVOYW1lICsgXCIgc2hvdWxkIGJlIGEgdHlwZSwgYnV0IEkgY2FuJ3QgZmlndXJlIG91dCB3aGF0IGl0IGlzLlwiKTtcclxuICAgICAgICB9XHJcblx0fSxcclxuICAgIGV4cHIgOiB7XHJcbiAgICAgICAgLy8gb3ZlcmxvYWRMb29rdXAgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgb3ApIHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLm92ZXJsb2FkTG9va3VwXCIsIFwiVHJ5aW5nIHRvIGZpbmQgYSBmdW5jdGlvbiBpbXBsZW1lbnRpbmcgYW4gb3ZlcmxvYWRlZCBcIiArIG9wICsgXCIgb3BlcmF0b3IuLi5cIik7XHJcbiAgICAgICAgLy8gfSxcclxuICAgICAgICBhcnJheV9vcGVyYW5kIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIHR5cGU6IFR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLmFycmF5X29wZXJhbmRcIiwgXCJUeXBlIFwiICsgdHlwZSArIFwiIGNhbm5vdCBiZSBzdWJzY3JpcHRlZC5cIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhcnJheV9vZmZzZXQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgdHlwZTogVHlwZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIuYXJyYXlfb2Zmc2V0XCIsIFwiSW52YWxpZCB0eXBlIChcIiArIHR5cGUgKyBcIikgZm9yIGFycmF5IHN1YnNjcmlwdCBvZmZzZXQuXCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYXNzaWdubWVudCA6IHtcclxuICAgICAgICAgICAgbGhzX2x2YWx1ZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIuYXNzaWdubWVudC5saHNfbHZhbHVlXCIsIFwiTHZhbHVlIHJlcXVpcmVkIGFzIGxlZnQgb3BlcmFuZCBvZiBhc3NpZ25tZW50LlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGhzX2NvbnN0IDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZXhwci5hc3NpZ25tZW50Lmxoc19jb25zdFwiLCBcIkxlZnQgaGFuZCBzaWRlIG9mIGFzc2lnbm1lbnQgaXMgbm90IG1vZGlmaWFibGUuXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjb252ZXJ0IDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGxoczogVHlwZWRFeHByZXNzaW9uLCByaHM6IFR5cGVkRXhwcmVzc2lvbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLmFzc2lnbm1lbnQuY29udmVydFwiLCBcIkNhbm5vdCBjb252ZXJ0IFwiICsgcmhzLnR5cGUgKyBcIiB0byBcIiArIGxocy50eXBlICsgXCIgaW4gYXNzaWdubWVudC5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNlbGYgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgZW50aXR5OiBPYmplY3RFbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuV0FSTklORywgXCJleHByLmFzc2lnbm1lbnQuc2VsZlwiLCBcIlNlbGYgYXNzaWdubWVudCBmcm9tIFwiICsgKGVudGl0eS5kZXNjcmliZSgpLm5hbWUgfHwgZW50aXR5LmRlc2NyaWJlKCkubWVzc2FnZSkgKyBcIiB0byBpdHNlbGYuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIG5vdF9kZWZpbmVkIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIHR5cGUpIHtcclxuICAgICAgICAgICAgLy8gICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZXhwci5hc3NpZ25tZW50Lm5vdF9kZWZpbmVkXCIsIFwiQW4gYXNzaWdubWVudCBvcGVyYXRvciBmb3IgdGhlIHR5cGUgXCIgKyB0eXBlICsgXCIgY2Fubm90IGJlIGZvdW5kLlwiKTtcclxuICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICB9LFxyXG4gICAgICAgIGJpbmFyeSA6IHtcclxuICAgICAgICAgICAgLy8gb3ZlcmxvYWRfbm90X2ZvdW5kIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIG9wLCBvcGVyYW5kcykge1xyXG4gICAgICAgICAgICAvLyAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLmJpbmFyeS5vdmVybG9hZF9ub3RfZm91bmRcIiwgXCJBbiBvdmVybG9hZGVkIFwiICsgb3AgKyBcIiBvcGVyYXRvciBmb3IgdGhlIHR5cGVzIChcIiArIG9wZXJhbmRzLm1hcCgob3ApPT57cmV0dXJuIG9wLnR5cGU7fSkuam9pbihcIiwgXCIpICsgXCIpIGNhbm5vdCBiZSBmb3VuZC5cIik7XHJcbiAgICAgICAgICAgIC8vIH0sXHJcbiAgICAgICAgICAgIGFyaXRobWV0aWNfb3BlcmFuZHMgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgb3BlcmF0b3I6IHN0cmluZywgbGVmdDogVHlwZWRFeHByZXNzaW9uLCByaWdodDogVHlwZWRFeHByZXNzaW9uKSB7ICAgIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLmJpbmFyeS5hcml0aG1ldGljX29wZXJhbmRzXCIsIFwiSW52YWxpZCBvcGVyYW5kIHR5cGVzIChcIiArIGxlZnQudHlwZSArIFwiLCBcIiArIHJpZ2h0LnR5cGUgKyBcIikgZm9yIG9wZXJhdG9yIFwiICsgb3BlcmF0b3IgKyBcIiwgd2hpY2ggcmVxdWlyZXMgb3BlcmFuZHMgb2YgYXJpdGhtZXRpYyB0eXBlLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaW50ZWdyYWxfb3BlcmFuZHMgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgb3BlcmF0b3I6IHN0cmluZywgbGVmdDogVHlwZWRFeHByZXNzaW9uLCByaWdodDogVHlwZWRFeHByZXNzaW9uKSB7ICAgIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLmJpbmFyeS5pbnRlZ3JhbF9vcGVyYW5kc1wiLCBcIkludmFsaWQgb3BlcmFuZCB0eXBlcyAoXCIgKyBsZWZ0LnR5cGUgKyBcIiwgXCIgKyByaWdodC50eXBlICsgXCIpIGZvciBvcGVyYXRvciBcIiArIG9wZXJhdG9yICsgXCIsIHdoaWNoIHJlcXVpcmVzIG9wZXJhbmRzIG9mIGludGVncmFsIHR5cGUuXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBib29sZWFuX29wZXJhbmQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgb3BlcmF0b3I6IHN0cmluZywgb3BlcmFuZDogVHlwZWRFeHByZXNzaW9uKSB7ICAgIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLmJpbmFyeS5ib29sZWFuX29wZXJhbmRcIiwgXCJJbnZhbGlkIG9wZXJhbmQgdHlwZSAoXCIgKyBvcGVyYW5kLnR5cGUgKyBcIikgZm9yIG9wZXJhdG9yIFwiICsgb3BlcmF0b3IgKyBcIiwgd2hpY2ggcmVxdWlyZXMgb3BlcmFuZHMgdGhhdCBtYXkgYmUgY29udmVydGVkIHRvIGJvb2xlYW4gdHlwZS5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFyaXRobWV0aWNfY29tbW9uX3R5cGUgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgb3BlcmF0b3I6IHN0cmluZywgbGVmdDogVHlwZWRFeHByZXNzaW9uLCByaWdodDogVHlwZWRFeHByZXNzaW9uKSB7ICAgIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLmJpbmFyeS5hcml0aG1ldGljX2NvbW1vbl90eXBlXCIsIFwiUGVyZm9ybWluZyB0aGUgdXN1YWwgYXJpdGhtZXRpYyBjb252ZXJzaW9ucyB5aWVsZGVkIG9wZXJhbmRzIG9mIHR5cGVzIChcIiArIGxlZnQudHlwZSArIFwiLCBcIiArIHJpZ2h0LnR5cGUgKyBcIikgZm9yIG9wZXJhdG9yIFwiICsgb3BlcmF0b3IgKyBcIiwgYnV0IGEgY29tbW9uIGFyaXRobWV0aWMgdHlwZSBjb3VsZCBub3QgYmUgZm91bmQuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1bmFyeSA6IHtcclxuICAgICAgICAgICAgLy8gb3ZlcmxvYWRfbm90X2ZvdW5kIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIG9wLCB0eXBlKSB7XHJcbiAgICAgICAgICAgIC8vICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIudW5hcnkub3ZlcmxvYWRfbm90X2ZvdW5kXCIsIFwiQW4gb3ZlcmxvYWRlZCBcIiArIG9wICsgXCIgb3BlcmF0b3IgZm9yIHRoZSB0eXBlIFwiICsgdHlwZSArIFwiIGNhbm5vdCBiZSBmb3VuZC5cIik7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGRlbGV0ZSA6IHtcclxuICAgICAgICAgICAgbm9fZGVzdHJ1Y3RvciA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCB0eXBlOiBDbGFzc1R5cGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZXhwci5kZWxldGUubm9fZGVzdHJ1Y3RvclwiLCBcIkkgY2FuJ3QgZmluZCBhIGRlc3RydWN0b3IgZm9yIHRoZSBcIiArIHR5cGUgKyBcIiBjbGFzcy4gVGhlIGNvbXBpbGVyIHNvbWV0aW1lcyBwcm92aWRlcyBvbmUgaW1wbGljaXRseSBmb3IgeW91LCBidXQgbm90IGlmIG9uZSBvZiBpdHMgbWVtYmVycyBvciBpdHMgYmFzZSBjbGFzcyBhcmUgbWlzc2luZyBhIGRlc3RydWN0b3IuIChPciwgaWYgeW91J3ZlIHZpb2xhdGVkIHRoZSBydWxlIG9mIHRoZSBCaWcgVGhyZWUuKVwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcG9pbnRlciA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCB0eXBlOiBUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIuZGVsZXRlLnBvaW50ZXJcIiwgXCJUaGUgZGVsZXRlIG9wZXJhdG9yIHJlcXVpcmVzIGFuIG9wZXJhbmQgb2YgcG9pbnRlciB0eXBlLiAoQ3VycmVudCBvcGVyYW5kIGlzIFwiICsgdHlwZSArIFwiICkuXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwb2ludGVyVG9PYmplY3RUeXBlIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIHR5cGU6IFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZXhwci5kZWxldGUucG9pbnRlclRvT2JqZWN0VHlwZVwiLCBcIlRoZSBkZWxldGUgb3BlcmF0b3IgY2Fubm90IGJlIHVzZWQgd2l0aCBhIHBvaW50ZXIgdG8gYSBub24tb2JqZWN0IHR5cGUgKGUuZy4gdm9pZCBwb2ludGVycywgZnVuY3Rpb24gcG9pbnRlcnMpLiAoQ3VycmVudCBvcGVyYW5kIGlzIFwiICsgdHlwZSArIFwiICkuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBkZXJlZmVyZW5jZSA6IHtcclxuICAgICAgICAgICAgcG9pbnRlciA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCB0eXBlOiBUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIuZGVyZWZlcmVuY2UucG9pbnRlclwiLCBcIlRoZSBkZXJlZmVyZW5jZSBvcGVyYXRvciAoKikgcmVxdWlyZXMgYW4gb3BlcmFuZCBvZiBwb2ludGVyIHR5cGUuIChDdXJyZW50IG9wZXJhbmQgaXMgXCIgKyB0eXBlICsgXCIgKS5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHBvaW50ZXJUb09iamVjdFR5cGUgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgdHlwZTogVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLmRlcmVmZXJlbmNlLnBvaW50ZXJUb09iamVjdFR5cGVcIiwgXCJQb2ludGVycyB0byBhIG5vbi1vYmplY3QsIG5vbi1mdW5jdGlvbiB0eXBlIChlLmcuIHZvaWQgcG9pbnRlcnMpIGNhbm5vdCBiZSBkZXJlZmVyZW5jZWQuIChDdXJyZW50IG9wZXJhbmQgaXMgXCIgKyB0eXBlICsgXCIgKS5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGRvdCA6IHtcclxuICAgICAgICAgICAgY2xhc3NfdHlwZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIuZG90LmNsYXNzX3R5cGVcIiwgXCJUaGUgZG90IG9wZXJhdG9yIGNhbiBvbmx5IGJlIHVzZWQgdG8gYWNjZXNzIG1lbWJlcnMgb2YgYW4gb3BlcmFuZCB3aXRoIGNsYXNzIHR5cGUuXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBub19zdWNoX21lbWJlciA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBjbGFzc1R5cGU6IENsYXNzVHlwZSwgbmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIuZG90Lm5vX3N1Y2hfbWVtYmVyXCIsIFwiT3BlcmFuZCBvZiB0eXBlIFwiICsgY2xhc3NUeXBlICsgXCIgaGFzIG5vIG1lbWJlciBuYW1lZCBcIiArIG5hbWUgKyBcIi5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG1lbWJlckxvb2t1cCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBjbGFzc1R5cGU6IENsYXNzVHlwZSwgbmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIuZG90Lm1lbWJlckxvb2t1cFwiLCBcIk1lbWJlciBsb29rdXAgZm9yIFwiICsgbmFtZSArIFwiIGluIGNsYXNzIFwiICsgY2xhc3NUeXBlICsgXCIgZmFpbGVkLi4uXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhcnJvdyA6IHtcclxuICAgICAgICAgICAgY2xhc3NfcG9pbnRlcl90eXBlIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZXhwci5hcnJvdy5jbGFzc19wb2ludGVyX3R5cGVcIiwgXCJUaGUgYXJyb3cgb3BlcmF0b3IgY2FuIG9ubHkgYmUgdXNlZCB0byBhY2Nlc3MgbWVtYmVycyBvZiBhbiBvcGVyYW5kIHdpdGggcG9pbnRlci10by1jbGFzcyB0eXBlLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbm9fc3VjaF9tZW1iZXIgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgY2xhc3NUeXBlOiBDbGFzc1R5cGUsIG5hbWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLmFycm93Lm5vX3N1Y2hfbWVtYmVyXCIsIFwiT3BlcmFuZCBvZiB0eXBlIFwiICsgY2xhc3NUeXBlICsgXCIgaGFzIG5vIG1lbWJlciBuYW1lZCBcIiArIG5hbWUgKyBcIi5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG1lbWJlckxvb2t1cCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBjbGFzc1R5cGU6IENsYXNzVHlwZSwgbmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIuYXJyb3cubWVtYmVyTG9va3VwXCIsIFwiTWVtYmVyIGxvb2t1cCBmb3IgXCIgKyBuYW1lICsgXCIgaW4gY2xhc3MgXCIgKyBjbGFzc1R5cGUgKyBcIiBmYWlsZWQuLi5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGludmFsaWRfb3BlcmFuZCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBvcGVyYXRvcjogc3RyaW5nLCBvcGVyYW5kOiBUeXBlZEV4cHJlc3Npb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLmludmFsaWRfb3BlcmFuZFwiLCBcIkludmFsaWQgb3BlcmFuZCB0eXBlIChcIiArIG9wZXJhbmQudHlwZSArIFwiKSBmb3Igb3BlcmF0b3IgXCIgKyBvcGVyYXRvciArIFwiLlwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGx2YWx1ZV9vcGVyYW5kIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIG9wZXJhdG9yOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLmx2YWx1ZV9vcGVyYW5kXCIsIFwiVGhlIFwiICsgb3BlcmF0b3IgKyBcIiBvcGVyYXRvciByZXF1aXJlcyBhbiBsdmFsdWUgb3BlcmFuZC5cIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBpbnZhbGlkX2JpbmFyeV9vcGVyYW5kcyA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBvcGVyYXRvcjogc3RyaW5nLCBsZWZ0OiBUeXBlZEV4cHJlc3Npb24sIHJpZ2h0OiBUeXBlZEV4cHJlc3Npb24pIHtcclxuXHJcbiAgICAgICAgICAgIGlmIChsZWZ0LnR5cGUuaXNQb2ludGVyVHlwZSgpICYmIHNhbWVUeXBlKGxlZnQudHlwZS5wdHJUbywgcmlnaHQudHlwZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZXhwci5pbnZhbGlkX2JpbmFyeV9vcGVyYW5kc1wiLCBcIlRoZSB0eXBlcyBvZiB0aGUgb3BlcmFuZHMgdXNlZCBmb3IgdGhlIFwiICsgb3BlcmF0b3IgKyBcIiBvcGVyYXRvciBcIiArXHJcbiAgICAgICAgICAgICAgICBcImFyZW4ndCBxdWl0ZSBjb21wYXRpYmxlLiBUaGUgb25lIG9uIHRoZSByaWdodCBpcyBcIiArIHJpZ2h0LnR5cGUuZW5nbGlzaFN0cmluZyhmYWxzZSkgKyBcIiwgYnV0IHRoZSBsZWZ0IGlzIGEgcG9pbnRlciB0byB0aGF0IHR5cGUuIFRoaW5rIGFib3V0IHdoZXRoZXIgeW91IHdhbnQgdG8gY29tcGFyZSBwb2ludGVycyAoYWRkcmVzc2VzKSBvciB0aGUgb2JqZWN0cyB0aGV5IHBvaW50IHRvLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChyaWdodC50eXBlLmlzUG9pbnRlclR5cGUoKSAmJiBzYW1lVHlwZShyaWdodC50eXBlLnB0clRvLCBsZWZ0LnR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIuaW52YWxpZF9iaW5hcnlfb3BlcmFuZHNcIiwgXCJUaGUgdHlwZXMgb2YgdGhlIG9wZXJhbmRzIHVzZWQgZm9yIHRoZSBcIiArIG9wZXJhdG9yICsgXCIgb3BlcmF0b3IgXCIgK1xyXG4gICAgICAgICAgICAgICAgXCJhcmVuJ3QgcXVpdGUgY29tcGF0aWJsZS4gVGhlIG9uZSBvbiB0aGUgbGVmdCBpcyBcIiArIGxlZnQudHlwZS5lbmdsaXNoU3RyaW5nKGZhbHNlKSArIFwiLCBidXQgdGhlIHJpZ2h0IGlzIGEgcG9pbnRlciB0byB0aGF0IHR5cGUuICBUaGluayBhYm91dCB3aGV0aGVyIHlvdSB3YW50IHRvIGNvbXBhcmUgcG9pbnRlcnMgKGFkZHJlc3Nlcykgb3IgdGhlIG9iamVjdHMgdGhleSBwb2ludCB0by5cIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZXhwci5pbnZhbGlkX2JpbmFyeV9vcGVyYW5kc1wiLCBcIkludmFsaWQgb3BlcmFuZCB0eXBlcyAoXCIgKyBsZWZ0LnR5cGUgKyBcIiwgXCIgKyByaWdodC50eXBlICsgXCIpIGZvciBvcGVyYXRvciBcIiArIG9wZXJhdG9yICsgXCIuXCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbG9naWNhbE5vdCA6IHtcclxuICAgICAgICAgICAgb3BlcmFuZF9ib29sIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIG9wZXJhbmQ6IFR5cGVkRXhwcmVzc2lvbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLmxvZ2ljYWxOb3Qub3BlcmFuZF9ib29sXCIsIFwiRXhwcmVzc2lvbiBvZiB0eXBlIChcIiArIG9wZXJhbmQudHlwZSArIFwiKSBjYW5ub3QgYmUgY29udmVydGVkIHRvIGJvb2xlYW4gKGFzIHJlcXVpcmVkIGZvciB0aGUgb3BlcmFuZCBvZiBsb2dpY2FsIG5vdCkuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZGRyZXNzT2YgOiB7XHJcbiAgICAgICAgICAgIGx2YWx1ZV9yZXF1aXJlZCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIuYWRkcmVzc09mLmx2YWx1ZV9yZXF1aXJlZFwiLCBcIk9wZXJhbmQgZm9yIGFkZHJlc3Mtb2Ygb3BlcmF0b3IgKCYpIG11c3QgYmUgYW4gbHZhbHVlLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGVybmFyeSA6IHtcclxuICAgICAgICAgICAgY29uZGl0aW9uX2Jvb2wgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgdHlwZTogVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLnRlcm5hcnkuY29uZGl0aW9uX2Jvb2xcIiwgXCJFeHByZXNzaW9uIG9mIHR5cGUgKFwiICsgdHlwZSArIFwiKSBjYW5ub3QgYmUgY29udmVydGVkIHRvIGJvb2xlYW4gY29uZGl0aW9uLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2FtZVZhbHVlQ2F0ZWdvcnkgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLnRlcm5hcnkuc2FtZVZhbHVlQ2F0ZWdvcnlcIiwgXCJUaGUgc2Vjb25kIGFuZCB0aGlyZCBvcGVyYW5kcyBvZiB0aGUgdGVybmFyeSBvcGVyYXRvciBtdXN0IHlpZWxkIGEgY29tbW9uIHZhbHVlIGNhdGVnb3J5LlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdW5hcnlQbHVzIDoge1xyXG4gICAgICAgICAgICBvcGVyYW5kIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZXhwci51bmFyeVBsdXMub3BlcmFuZFwiLCBcIlRoZSB1bmFyeSBwbHVzIG9wZXJhdG9yICgrKSByZXF1aXJlcyBhbiBvcGVyYW5kIG9mIGFyaXRobWV0aWMgb3IgcG9pbnRlciB0eXBlLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdW5hcnlNaW51cyA6IHtcclxuICAgICAgICAgICAgb3BlcmFuZCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIudW5hcnlNaW51cy5vcGVyYW5kXCIsIFwiVGhlIHVuYXJ5IG1pbnVzIG9wZXJhdG9yICgtKSByZXF1aXJlcyBhbiBvcGVyYW5kIG9mIGFyaXRobWV0aWMgdHlwZS5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGZ1bmN0aW9uQ2FsbCA6IHtcclxuICAgICAgICAgICAgbWFpbiA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIuZnVuY3Rpb25DYWxsLm1haW5cIiwgXCJZb3UgY2FuJ3QgZXhwbGljaXRseSBjYWxsIG1haW4uXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBudW1QYXJhbXMgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLmZ1bmN0aW9uQ2FsbC5udW1QYXJhbXNcIiwgXCJJbXByb3BlciBudW1iZXIgb2YgYXJndW1lbnRzIGZvciB0aGlzIGZ1bmN0aW9uIGNhbGwuXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpbnZhbGlkX29wZXJhbmRfZXhwcmVzc2lvbiA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBvcGVyYW5kOiBFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIuZnVuY3Rpb25DYWxsLmludmFsaWRfb3BlcmFuZF9leHByZXNzaW9uXCIsIFwiVGhlIGV4cHJlc3Npb24gXCIgKyBvcGVyYW5kICsgXCIgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb3BlcmFuZCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBvcGVyYW5kOiBDUFBFbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZXhwci5mdW5jdGlvbkNhbGwub3BlcmFuZFwiLCBcIk9wZXJhbmQgb2YgdHlwZSBcIiArIG9wZXJhbmQudHlwZSArIFwiIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHBhcmFtVHlwZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBmcm9tOiBUeXBlLCB0bzogVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLmZ1bmN0aW9uQ2FsbC5wYXJhbVR5cGVcIiwgXCJDYW5ub3QgY29udmVydCBcIiArIGZyb20gKyBcIiB0byBcIiArIHRvICsgXCIgaW4gZnVuY3Rpb24gY2FsbCBwYXJhbWV0ZXIuXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwYXJhbVJlZmVyZW5jZVR5cGUgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgZnJvbTogVHlwZSwgdG86IFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZXhwci5mdW5jdGlvbkNhbGwucGFyYW1SZWZlcmVuY2VUeXBlXCIsIFwiVGhlIGdpdmVuIGFyZ3VtZW50IChvZiB0eXBlIFwiICsgZnJvbSArIFwiKSBjYW5ub3QgYmUgYm91bmQgdG8gYSByZWZlcmVuY2UgcGFyYW1ldGVyIG9mIGEgZGlmZmVyZW50IHR5cGUgKFwiKyB0byArIFwiKS5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHBhcmFtUmVmZXJlbmNlTHZhbHVlIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZXhwci5mdW5jdGlvbkNhbGwucGFyYW1SZWZlcmVuY2VMdmFsdWVcIiwgXCJGb3Igbm93LCB5b3UgY2Fubm90IGJpbmQgYSBub24tbHZhbHVlIGFzIGEgcmVmZXJlbmNlIHBhcmFtZXRlciBpbiBMb2JzdGVyLiAoaS5lLiB5b3UgaGF2ZSB0byBiaW5kIGEgdmFyaWFibGUpXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBub3RfZGVmaW5lZCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCB0eXBlOiBUeXBlLCBwYXJhbVR5cGVzOiByZWFkb25seSBQb3RlbnRpYWxQYXJhbWV0ZXJUeXBlW10pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZXhwci5mdW5jdGlvbkNhbGwubm90X2RlZmluZWRcIiwgXCJBIGZ1bmN0aW9uIGNhbGwgb3BlcmF0b3Igd2l0aCBwYXJhbWV0ZXJzIG9mIHR5cGVzIChcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1UeXBlcy5tYXAoZnVuY3Rpb24ocHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHB0LnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkuam9pbihcIiwgXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgKyBcIikgZm9yIHRoZSBjbGFzcyB0eXBlIFwiICsgdHlwZSArIFwiIGhhcyBub3QgYmVlbiBkZWZpbmVkLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyxcclxuICAgICAgICAgICAgLy90YWlsX3JlY3Vyc2l2ZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCByZWFzb24pIHtcclxuICAgICAgICAgICAgLy8gICAgcmV0dXJuIFdpZGdldEFubm90YXRpb24uaW5zdGFuY2Uoc3JjLCBcInRhaWxSZWN1cnNpdmVcIiwgXCJUaGlzIGZ1bmN0aW9uIGNhbGwgaXMgdGFpbCByZWN1cnNpdmUhXCIgKyAocmVhc29uID8gXCIgXCIrcmVhc29uIDogXCJcIikpO1xyXG4gICAgICAgICAgICAvL30sXHJcbiAgICAgICAgICAgIC8vbm90X3RhaWxfcmVjdXJzaXZlIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIHJlYXNvbikge1xyXG4gICAgICAgICAgICAvLyAgICByZXR1cm4gV2lkZ2V0QW5ub3RhdGlvbi5pbnN0YW5jZShzcmMsIFwicmVjdXJzaXZlXCIsIFwiVGhpcyBmdW5jdGlvbiBjYWxsIGlzIHJlY3Vyc2l2ZSwgYnV0IE5PVCB0YWlsIHJlY3Vyc2l2ZSFcIiArIChyZWFzb24gPyBcIiBcIityZWFzb24gOiBcIlwiKSk7XHJcbiAgICAgICAgICAgIC8vfVxyXG5cclxuICAgICAgICB9LFxyXG4gICAgICAgIHRoaXNFeHByOiB7XHJcbiAgICAgICAgICAgIG1lbWJlckZ1bmMgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLnRoaXNFeHByLm1lbWJlckZ1bmNcIiwgXCJZb3UgbWF5IG9ubHkgdXNlIHRoZSA8L3NwYW4gY2xhc3M9J2NvZGUnPnRoaXM8L3NwYW4+IGtleXdvcmQgaW4gbm9uLXN0YXRpYyBtZW1iZXIgZnVuY3Rpb25zLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfSxcclxuXHRpZGVuIDoge1xyXG4gICAgICAgIGFtYmlndW91cyA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJpZGVuLmFtYmlndW91c1wiLCBcIlxcXCJcIituYW1lK1wiXFxcIiBpcyBhbWJpZ3VvdXMuIChUaGVyZSBpcyBub3QgZW5vdWdoIGNvbnRleHR1YWwgdHlwZSBpbmZvcm1hdGlvbiBmb3IgbmFtZSBsb29rdXAgdG8gZmlndXJlIG91dCB3aGljaCBlbnRpdHkgdGhpcyBpZGVudGlmaWVyIHJlZmVycyB0by4pXCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbm9fbWF0Y2ggOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgbmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiaWRlbi5ub19tYXRjaFwiLCBcIk5vIG1hdGNoaW5nIGZ1bmN0aW9uIGZvdW5kIGZvciBjYWxsIHRvIFxcXCJcIituYW1lK1wiXFxcIiB3aXRoIHRoZXNlIHBhcmFtZXRlciB0eXBlcy5cIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBub3RfZGVjbGFyZWQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgbmFtZSkge1xyXG4gICAgICAgIC8vICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImlkZW4ubm90X2RlY2xhcmVkXCIsIFwiXFxcIlwiK25hbWUrXCJcXFwiIHdhcyBub3QgZGVjbGFyZWQgaW4gdGhpcyBzY29wZS5cIik7XHJcbiAgICAgICAgLy8gfSxcclxuICAgICAgICBrZXl3b3JkIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIG5hbWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImlkZW4ua2V5d29yZFwiLCBcIlxcXCJcIituYW1lK1wiXFxcIiBpcyBhIEMrKyBrZXl3b3JkIGFuZCBjYW5ub3QgYmUgdXNlZCBhcyBhbiBpZGVudGlmaWVyLlwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFsdF9vcCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJpZGVuLmFsdF9vcFwiLCBcIlxcXCJcIituYW1lK1wiXFxcIiBpcyBhIEMrKyBvcGVyYXRvciBhbmQgY2Fubm90IGJlIHVzZWQgYXMgYW4gaWRlbnRpZmllci5cIik7XHJcbiAgICAgICAgfVxyXG5cdH0sXHJcbiAgICBwYXJhbSA6IHtcclxuICAgICAgICBudW1QYXJhbXMgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcInBhcmFtLm51bVBhcmFtc1wiLCBcIkltcHJvcGVyIG51bWJlciBvZiBhcmd1bWVudHMuXCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcGFyYW1UeXBlIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGZyb206IFR5cGUsIHRvOiBUeXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwicGFyYW0ucGFyYW1UeXBlXCIsIFwiQ2Fubm90IGNvbnZlcnQgXCIgKyBmcm9tICsgXCIgdG8gYSBwYXJhbWV0ZXIgb2YgdHlwZSBcIiArIHRvICsgXCIuXCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcGFyYW1SZWZlcmVuY2VUeXBlIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGZyb206IFR5cGUsIHRvOiBUeXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwicGFyYW0ucGFyYW1SZWZlcmVuY2VUeXBlXCIsIFwiVGhlIGdpdmVuIGFyZ3VtZW50IChvZiB0eXBlIFwiICsgZnJvbSArIFwiKSBjYW5ub3QgYmUgYm91bmQgdG8gYSByZWZlcmVuY2UgcGFyYW1ldGVyIG9mIGEgZGlmZmVyZW50IHR5cGUgKFwiKyB0byArIFwiKS5cIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBwYXJhbVJlZmVyZW5jZUx2YWx1ZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwicGFyYW0ucGFyYW1SZWZlcmVuY2VMdmFsdWVcIiwgXCJGb3Igbm93LCB5b3UgY2Fubm90IGJpbmQgYSBub24tbHZhbHVlIGFzIGEgcmVmZXJlbmNlIHBhcmFtZXRlciBpbiBMb2JzdGVyLiAoaS5lLiB5b3UgaGF2ZSB0byBiaW5kIGEgdmFyaWFibGUpXCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gcGFyYW1Db3B5Q29uc3RydWN0b3IgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgdHlwZSkge1xyXG4gICAgICAgIC8vICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcInBhcmFtLnBhcmFtQ29weUNvbnN0cnVjdG9yXCIsIFwiQ2Fubm90IGZpbmQgYSBjb3B5IGNvbnN0cnVjdG9yIHRvIHBhc3MgYSBwYXJhbWV0ZXIgb2YgdHlwZSBcIiArIHR5cGUgKyBcIiBieSB2YWx1ZS5cIik7XHJcbiAgICAgICAgLy8gfSxcclxuICAgICAgICB0aGlzQ29uc3QgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgdHlwZTogVHlwZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcInBhcmFtLnRoaXNDb25zdFwiLCBcIkEgbm9uLWNvbnN0IG1lbWJlciBmdW5jdGlvbiBjYW5ub3QgYmUgY2FsbGVkIG9uIGEgY29uc3QgaW5zdGFuY2Ugb2YgdGhlIFwiICsgdHlwZSArIFwiIGNsYXNzLlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc3RtdCA6IHtcclxuICAgICAgICBmdW5jdGlvbl9kZWZpbml0aW9uX3Byb2hpYml0ZWQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcInN0bXQuZnVuY3Rpb25fZGVmaW5pdGlvbl9wcm9oaWJpdGVkXCIsIFwiQSBmdW5jdGlvbiBkZWZpbml0aW9uIGlzIHByb2hpYml0ZWQgaGVyZSAoaS5lLiBpbnNpZGUgYSBzdGF0ZW1lbnQpLlwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNlbGVjdGlvbiA6IHtcclxuICAgICAgICAgICAgY29uZGl0aW9uX2Jvb2wgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgZXhwcjogVHlwZWRFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShleHByLCBOb3RlS2luZC5FUlJPUiwgXCJzdG10LnNlbGVjdGlvbi5jb25kaXRpb25fYm9vbFwiLCBcIkV4cHJlc3Npb24gb2YgdHlwZSAoXCIgKyBleHByLnR5cGUgKyBcIikgY2Fubm90IGJlIGNvbnZlcnRlZCB0byBib29sZWFuIGNvbmRpdGlvbi5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGl0ZXJhdGlvbjoge1xyXG4gICAgICAgICAgICBjb25kaXRpb25fYm9vbCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBleHByOiBUeXBlZEV4cHJlc3Npb24pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGV4cHIsIE5vdGVLaW5kLkVSUk9SLCBcInN0bXQuaXRlcmF0aW9uLmNvbmRpdGlvbl9ib29sXCIsIFwiRXhwcmVzc2lvbiBvZiB0eXBlIChcIiArIGV4cHIudHlwZSArIFwiKSBjYW5ub3QgYmUgY29udmVydGVkIHRvIGJvb2xlYW4gY29uZGl0aW9uLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYnJlYWtTdGF0ZW1lbnQ6IHtcclxuICAgICAgICAgICAgbG9jYXRpb246IGZ1bmN0aW9uIChjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJzdG10LmJyZWFrU3RhdGVtZW50LmxvY2F0aW9uXCIsIFwiQnJlYWsgc3RhdGVtZW50cyBtYXkgb25seSBvY2N1ciBpbnNpZGUgbG9vcHMgb3IgY2FzZSBzdGF0ZW1lbnRzLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmV0dXJuU3RhdGVtZW50OiB7XHJcbiAgICAgICAgICAgIGVtcHR5OiBmdW5jdGlvbiAoY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwic3RtdC5yZXR1cm5TdGF0ZW1lbnQuZW1wdHlcIiwgXCJBIHJldHVybiBzdGF0ZW1lbnQgd2l0aG91dCBhbiBleHByZXNzaW9uIGlzIG9ubHkgYWxsb3dlZCBpbiB2b2lkIGZ1bmN0aW9ucy5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGV4cHJWb2lkOiBmdW5jdGlvbiAoY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwic3RtdC5yZXR1cm5TdGF0ZW1lbnQuZXhwclZvaWRcIiwgXCJBIHJldHVybiBzdGF0ZW1lbnQgd2l0aCBhbiBleHByZXNzaW9uIG9mIG5vbi12b2lkIHR5cGUgaXMgb25seSBhbGxvd2VkIGluIGEgbm9uLXZvaWQgZnVuY3Rpb24uXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjb252ZXJ0IDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGZyb206IFR5cGUsIHRvOiBUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcInN0bXQucmV0dXJuU3RhdGVtZW50LmNvbnZlcnRcIiwgXCJDYW5ub3QgY29udmVydCBcIiArIGZyb20gKyBcIiB0byByZXR1cm4gdHlwZSBvZiBcIiArIHRvICsgXCIgaW4gcmV0dXJuIHN0YXRlbWVudC5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbGluayA6IHtcclxuICAgICAgICBsaWJyYXJ5X3Vuc3VwcG9ydGVkIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGZ1bmM6IEZ1bmN0aW9uRW50aXR5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTGlua2VyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImxpbmsubGlicmFyeV91bnN1cHBvcnRlZFwiLCBcIkknbSBzb3JyeSwgYnV0IHRoaXMgZnVuY3Rpb24gKFwiICsgZnVuYyArIFwiKSBpcyBhIHBhcnQgb2YgdGhlIHN0YW5kYXJkIGxpYnJhcnkgdGhhdCBpc24ndCBjdXJyZW50bHkgc3VwcG9ydGVkLlwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG11bHRpcGxlX2RlZiA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBMaW5rZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwibGluay5tdWx0aXBsZV9kZWZcIiwgXCJNdWx0aXBsZSBkZWZpbml0aW9ucyBmb3VuZCBmb3IgXCIgKyBuYW1lICsgXCIuXCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdHlwZV9taXNtYXRjaCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBlbnQxOiBEZWNsYXJlZEVudGl0eSwgZW50MjogRGVjbGFyZWRFbnRpdHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBMaW5rZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwibGluay50eXBlX21pc21hdGNoXCIsIFwiTXVsdGlwbGUgZGVjbGFyYXRpb25zIGZvdW5kIGZvciBcIiArIGVudDEubmFtZSArIFwiLCBidXQgd2l0aCBkaWZmZXJlbnQgdHlwZXMuXCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2xhc3Nfc2FtZV90b2tlbnMgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgZW50MTogRGVjbGFyZWRFbnRpdHksIGVudDI6IERlY2xhcmVkRW50aXR5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTGlua2VyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImxpbmsuY2xhc3Nfc2FtZV90b2tlbnNcIiwgXCJNdWx0aXBsZSBjbGFzcyBkZWZpbml0aW9ucyBhcmUgb2sgaWYgdGhleSBhcmUgRVhBQ1RMWSB0aGUgc2FtZSBpbiB0aGUgc291cmNlIGNvZGUuIEhvd2V2ZXIsIHRoZSBtdWx0aXBsZSBkZWZpbml0aW9ucyBmb3VuZCBmb3IgXCIgKyBlbnQxLm5hbWUgKyBcIiBkbyBub3QgbWF0Y2ggZXhhY3RseS5cIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmdW5jIDoge1xyXG4gICAgICAgICAgICBkZWZfbm90X2ZvdW5kIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGZ1bmM6IEZ1bmN0aW9uRW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IExpbmtlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJsaW5rLmZ1bmMuZGVmX25vdF9mb3VuZFwiLCBcIkNhbm5vdCBmaW5kIGRlZmluaXRpb24gZm9yIGZ1bmN0aW9uIFwiICsgZnVuYy5uYW1lICsgXCIuIFRoYXQgaXMsIHRoZSBmdW5jdGlvbiBpcyBkZWNsYXJlZCBhbmQgSSBrbm93IHdoYXQgaXQgaXMsIGJ1dCBJIGNhbid0IGZpbmQgdGhlIGFjdHVhbCBjb2RlIHRoYXQgaW1wbGVtZW50cyBpdC5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG5vX21hdGNoaW5nX292ZXJsb2FkIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGZ1bmM6IEZ1bmN0aW9uRW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IExpbmtlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJsaW5rLmZ1bmMubm9fbWF0Y2hpbmdfb3ZlcmxvYWRcIiwgYEFsdGhvdWdoIHNvbWUgZGVmaW5pdGlvbnMgZm9yIGEgZnVuY3Rpb24gbmFtZWQgJHtmdW5jLm5hbWV9IGV4aXN0LCBJIGNhbid0IGZpbmQgb25lIHdpdGggdGhlIHJpZ2h0IHNpZ25hdHVyZSB0byBtYXRjaCB0aGlzIGRlY2xhcmF0aW9uLmApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZXR1cm5UeXBlc01hdGNoIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGZ1bmM6IEZ1bmN0aW9uRW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IExpbmtlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJsaW5rLmZ1bmMucmV0dXJuVHlwZXNNYXRjaFwiLCBcIlRoaXMgZGVjbGFyYXRpb24gb2YgdGhlIGZ1bmN0aW9uIFwiICsgZnVuYy5uYW1lICsgXCIgaGFzIGEgZGlmZmVyZW50IHJldHVybiB0eXBlIHRoYW4gaXRzIGRlZmluaXRpb24uXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBkZWZfbm90X2ZvdW5kIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGVudDogU3RhdGljRW50aXR5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTGlua2VyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImxpbmsuZGVmX25vdF9mb3VuZFwiLCBcIkNhbm5vdCBmaW5kIGRlZmluaXRpb24gZm9yIG9iamVjdCBcIiArIGVudC5uYW1lICsgXCIuIChJdCBpcyBkZWNsYXJlZCwgc28gSSBrbm93IGl0J3MgYSB2YXJpYWJsZSBhbmQgd2hhdCB0eXBlIGl0IGlzLCBidXQgaXQncyBuZXZlciBkZWZpbmVkIGFueXdoZXJlLilcIik7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICB9LFxyXG4gICAgLy8gbG9va3VwIDoge1xyXG4gICAgLy8gICAgIC8vIGJhZExvb2t1cCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBuYW1lKSB7XHJcbiAgICAvLyAgICAgLy8gICAgIG5hbWUgPSBJZGVudGlmaWVyLnF1YWxpZmllZE5hbWVTdHJpbmcobmFtZSk7XHJcbiAgICAvLyAgICAgLy8gICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwibG9va3VwLmJhZExvb2t1cFwiLCBcIk5hbWUgbG9va3VwIGZvciBcXFwiXCIrbmFtZStcIlxcXCIgd2FzIHVuc3VjY2Vzc2Z1bC4pXCIpO1xyXG4gICAgLy8gICAgIC8vIH0sXHJcbiAgICAvLyAgICAgYW1iaWd1b3VzIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIG5hbWUpIHtcclxuICAgIC8vICAgICAgICAgbmFtZSA9IElkZW50aWZpZXIucXVhbGlmaWVkTmFtZVN0cmluZyhuYW1lKTtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJsb29rdXAuYW1iaWd1b3VzXCIsIFwiXFxcIlwiK25hbWUrXCJcXFwiIGlzIGFtYmlndW91cy4gKFRoZXJlIGlzIG5vdCBlbm91Z2ggY29udGV4dHVhbCB0eXBlIGluZm9ybWF0aW9uIGZvciBuYW1lIGxvb2t1cCB0byBmaWd1cmUgb3V0IHdoaWNoIGVudGl0eSB0aGlzIGlkZW50aWZpZXIgcmVmZXJzIHRvLilcIik7XHJcbiAgICAvLyAgICAgfSxcclxuICAgIC8vICAgICBub19tYXRjaCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBuYW1lLCBwYXJhbVR5cGVzLCBpc1RoaXNDb25zdCkge1xyXG4gICAgLy8gICAgICAgICBuYW1lID0gSWRlbnRpZmllci5xdWFsaWZpZWROYW1lU3RyaW5nKG5hbWUpO1xyXG4gICAgLy8gICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImxvb2t1cC5ub19tYXRjaFwiLCBcIk5vIG1hdGNoaW5nIGZ1bmN0aW9uIGZvdW5kIGZvciBjYWxsIHRvIFxcXCJcIituYW1lK1wiXFxcIiB3aXRoIHBhcmFtZXRlciB0eXBlcyAoXCIgK1xyXG4gICAgLy8gICAgICAgICBwYXJhbVR5cGVzLm1hcChmdW5jdGlvbihwdCkge1xyXG4gICAgLy8gICAgICAgICAgICAgcmV0dXJuIHB0LnRvU3RyaW5nKCk7XHJcbiAgICAvLyAgICAgICAgIH0pLmpvaW4oXCIsIFwiKSArXHJcbiAgICAvLyAgICAgICAgIFwiKVwiICsgKGlzVGhpc0NvbnN0ID8gXCIgYW5kIHRoYXQgbWF5IGJlIGFwcGxpZWQgdG8gYSBjb25zdCBvYmplY3QgKG9yIGNhbGxlZCBmcm9tIGNvbnN0IG1lbWJlciBmdW5jdGlvbikuXCIgOiBcIi5cIikpO1xyXG4gICAgLy8gICAgIH0sXHJcbiAgICAvLyAgICAgaGlkZGVuIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIG5hbWUsIHBhcmFtVHlwZXMsIGlzVGhpc0NvbnN0KSB7XHJcbiAgICAvLyAgICAgICAgIG5hbWUgPSBJZGVudGlmaWVyLnF1YWxpZmllZE5hbWVTdHJpbmcobmFtZSk7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwibG9va3VwLmhpZGRlblwiLCBcIk5vIG1hdGNoaW5nIGZ1bmN0aW9uIGZvdW5kIGZvciBjYWxsIHRvIFxcXCJcIituYW1lK1wiXFxcIiB3aXRoIHBhcmFtZXRlciB0eXBlcyhcIiArXHJcbiAgICAvLyAgICAgICAgICAgICBwYXJhbVR5cGVzLm1hcChmdW5jdGlvbihwdCkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHJldHVybiBwdC50b1N0cmluZygpO1xyXG4gICAgLy8gICAgICAgICAgICAgfSkuam9pbihcIiwgXCIpICtcclxuICAgIC8vICAgICAgICAgICAgIFwiKVwiICsgKGlzVGhpc0NvbnN0ID8gXCIgYW5kIHRoYXQgbWF5IGJlIGFwcGxpZWQgdG8gYSBjb25zdCBvYmplY3QgKG9yIGNhbGxlZCBmcm9tIGNvbnN0IG1lbWJlciBmdW5jdGlvbikuXCIgOiBcIi5cIikgKyBcIiAoQWN0dWFsbHksIHRoZXJlIGlzIGEgbWF0Y2ggaW4gYSBtb3JlIGRpc3RhbnQgc2NvcGUsIGJ1dCBpdCBpcyBoaWRkZW4gYnkgYW4gZW50aXR5IG9mIHRoZSBzYW1lIG5hbWUgaW4gYSBuZWFyZXIgc2NvcGUuKVwiKTtcclxuICAgIC8vICAgICB9LFxyXG4gICAgLy8gICAgIG5vdF9mb3VuZCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBuYW1lKSB7XHJcbiAgICAvLyAgICAgICAgIG5hbWUgPSBJZGVudGlmaWVyLnF1YWxpZmllZE5hbWVTdHJpbmcobmFtZSk7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwibG9va3VwLm5vdF9mb3VuZFwiLCBcIkNhbm5vdCBmaW5kIGRlY2xhcmF0aW9uIGZvciBcXFwiXCIrbmFtZStcIlxcXCIuXCIpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH0sXHJcbiAgICBwcmVwcm9jZXNzIDoge1xyXG4gICAgICAgIHJlY3Vyc2l2ZUluY2x1ZGUgOiBmdW5jdGlvbihzb3VyY2VSZWY6IFNvdXJjZVJlZmVyZW5jZSkge1xyXG4gICAgICAgICAgICAgcmV0dXJuIG5ldyBQcmVwcm9jZXNzb3JOb3RlKHNvdXJjZVJlZiwgTm90ZUtpbmQuV0FSTklORywgXCJwcmVwcm9jZXNzLnJlY3Vyc2l2ZUluY2x1ZGVcIiwgXCJSZWN1cnNpdmUgI2luY2x1ZGUgZGV0ZWN0ZWQuIChpLmUuIEEgZmlsZSAjaW5jbHVkZWQgaXRzZWxmLCBvciAjaW5jbHVkZWQgYSBkaWZmZXJlbnQgZmlsZSB0aGF0IHRoZW4gI2luY2x1ZGVzIHRoZSBvcmlnaW5hbCwgZXRjLilcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGxvYnN0ZXIgOiB7XHJcbiAgICAgICAgdW5zdXBwb3J0ZWRfZmVhdHVyZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBmZWF0dXJlOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJsb2JzdGVyLnVuc3VwcG9ydGVkX2ZlYXR1cmVcIiwgXCJTb3JyeSwgeW91IGhhdmUgdXNlZCBhIEMrKyBmZWF0dXJlIChcIiArIGZlYXR1cmUgKyBcIikgdGhhdCBpcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZCBpbiBMb2JzdGVyLlwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlZmVyZW5jZVBydmFsdWUgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImxvYnN0ZXIucmVmZXJlbmNlUHJ2YWx1ZVwiLCBcIlNvcnJ5LCBMb2JzdGVyIGRvZXMgbm90IHlldCBzdXBwb3J0IGJpbmRpbmcgcmVmZXJlbmNlcyAoZXZlbiBpZiB0aGV5IGFyZSByZWZlcmVuY2UtdG8tY29uc3QpIHRvIHBydmFsdWVzIChlLmcuIHRlbXBvcmFyeSBvYmplY3RzKS5cIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0ZXJuYXJ5U2FtZVR5cGUgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgdHlwZTE6IFR5cGUsIHR5cGUyOiBUeXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwibG9ic3Rlci50ZXJuYXJ5U2FtZVR5cGVcIiwgXCJMb2JzdGVyJ3MgdGVybmFyeSBvcGVyYXRvciByZXF1aXJlcyBzZWNvbmQgYW5kIHRoaXJkIG9wZXJhbmRzIG9mIHRoZSBzYW1lIHR5cGUuIFRoZSBnaXZlbiBvcGVyYW5kcyBoYXZlIHR5cGVzIFwiICsgdHlwZTEgKyBcIiBhbmQgXCIgKyB0eXBlMiArIFwiLlwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRlcm5hcnlOb1ZvaWQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImxvYnN0ZXIudGVybmFyeU5vVm9pZFwiLCBcIkxvYnN0ZXIncyB0ZXJuYXJ5IG9wZXJhdG9yIGRvZXMgbm90IGFsbG93IHZvaWQgb3BlcmFuZHMuXCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE5vdGVIYW5kbGVyIHsgXHJcbiAgICBhZGROb3RlKG5vdGU6IE5vdGUpIDogdm9pZDtcclxuXHJcblxyXG59IiwiaW1wb3J0IHsgUG90ZW50aWFsUGFyYW1ldGVyVHlwZSwgQ2xhc3NUeXBlLCBUeXBlLCBPYmplY3RUeXBlLCBzYW1lVHlwZSwgUmVmZXJlbmNlVHlwZSwgQm91bmRlZEFycmF5VHlwZSwgQ2hhciwgQXJyYXlFbGVtVHlwZSwgRnVuY3Rpb25UeXBlLCByZWZlcmVuY2VDb21wYXRpYmxlIH0gZnJvbSBcIi4vdHlwZXNcIjtcclxuaW1wb3J0IHsgYXNzZXJ0LCBNdXRhYmxlLCB1bmVzY2FwZVN0cmluZywgYXNzZXJ0RmFsc2UgfSBmcm9tIFwiLi4vdXRpbC91dGlsXCI7XHJcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tIFwiLi4vdXRpbC9vYnNlcnZlXCI7XHJcbmltcG9ydCB7IERlc2NyaXB0aW9uLCBSdW50aW1lQ29uc3RydWN0LCBSdW50aW1lRnVuY3Rpb24sIFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uLCBSdW50aW1lUG90ZW50aWFsRnVsbEV4cHJlc3Npb24gfSBmcm9tIFwiLi9jb25zdHJ1Y3RzXCI7XHJcbmltcG9ydCB7IFNpbXBsZURlY2xhcmF0aW9uLCBMb2NhbFZhcmlhYmxlRGVmaW5pdGlvbiwgUGFyYW1ldGVyRGVmaW5pdGlvbiwgR2xvYmFsT2JqZWN0RGVmaW5pdGlvbiwgTGlua2VkRGVmaW5pdGlvbiwgRnVuY3Rpb25EZWZpbml0aW9uIH0gZnJvbSBcIi4vZGVjbGFyYXRpb25zXCI7XHJcbmltcG9ydCB7IENQUE9iamVjdCwgQXV0b09iamVjdCwgU3RhdGljT2JqZWN0LCBTdHJpbmdMaXRlcmFsT2JqZWN0LCBUZW1wb3JhcnlPYmplY3QgfSBmcm9tIFwiLi9vYmplY3RzXCI7XHJcbmltcG9ydCB7IENQUEVycm9yIH0gZnJvbSBcIi4vZXJyb3JzXCI7XHJcbmltcG9ydCB7IE1lbW9yeSB9IGZyb20gXCIuL3J1bnRpbWVFbnZpcm9ubWVudFwiO1xyXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4vZXhwcmVzc2lvbkJhc2VcIjtcclxuXHJcblxyXG5cclxuaW50ZXJmYWNlIE5vcm1hbExvb2t1cE9wdGlvbnMge1xyXG4gICAgcmVhZG9ubHkga2luZDogXCJub3JtYWxcIjtcclxuICAgIHJlYWRvbmx5IG93bj86IGJvb2xlYW47XHJcbiAgICByZWFkb25seSBub0Jhc2U/OiBib29sZWFuO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRXhhY3RMb29rdXBPcHRpb25zIHtcclxuICAgIHJlYWRvbmx5IGtpbmQ6IFwiZXhhY3RcIjtcclxuICAgIHJlYWRvbmx5IG93bj86IGJvb2xlYW47XHJcbiAgICByZWFkb25seSBub0Jhc2U/OiBib29sZWFuO1xyXG4gICAgcmVhZG9ubHkgcGFyYW1UeXBlczogcmVhZG9ubHkgUG90ZW50aWFsUGFyYW1ldGVyVHlwZVtdXHJcbiAgICByZWFkb25seSByZWNlaXZlclR5cGU/OiBDbGFzc1R5cGU7XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIE5hbWVMb29rdXBPcHRpb25zID0gTm9ybWFsTG9va3VwT3B0aW9ucyB8IEV4YWN0TG9va3VwT3B0aW9ucztcclxuXHJcbmV4cG9ydCBjbGFzcyBTY29wZSB7XHJcblxyXG4gICAgLy8gcHJpdmF0ZSBzdGF0aWMgSElEREVOID0gU3ltYm9sKFwiSElEREVOXCIpO1xyXG4gICAgLy8gcHJpdmF0ZSBzdGF0aWMgTk9fTUFUQ0ggPSBTeW1ib2woXCJOT19NQVRDSFwiKTtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGVudGl0aWVzOiB7W2luZGV4OnN0cmluZ106IERlY2xhcmVkT2JqZWN0RW50aXR5IHwgRnVuY3Rpb25FbnRpdHlbXSB8IHVuZGVmaW5lZH07XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFyZW50PzogU2NvcGU7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHBhcmVudD86IFNjb3BlKSB7XHJcbiAgICAgICAgdGhpcy5lbnRpdGllcyA9IHt9O1xyXG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpIHtcclxuICAgICAgICBsZXQgc3RyID0gXCJcIjtcclxuICAgICAgICBmb3IobGV0IGtleSBpbiB0aGlzLmVudGl0aWVzKSB7XHJcbiAgICAgICAgICAgIHN0ciArPSB0aGlzLmVudGl0aWVzW2tleV0gKyBcIlxcblwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RyO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHB1YmxpYyBhbGxFbnRpdGllcygpIHtcclxuICAgIC8vICAgICB2YXIgZW50cyA9IFtdO1xyXG4gICAgLy8gICAgIGZvcih2YXIgbmFtZSBpbiB0aGlzLmVudGl0aWVzKSB7XHJcbiAgICAvLyAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuZW50aXRpZXNbbmFtZV0pKSB7XHJcbiAgICAvLyAgICAgICAgICAgICB2YXIgZSA9IDxDUFBFbnRpdHlbXT50aGlzLmVudGl0aWVzW25hbWVdO1xyXG4gICAgLy8gICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGUubGVuZ3RoOyArK2kpIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICBlbnRzLnB1c2goZVtpXSk7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgZWxzZXtcclxuICAgIC8vICAgICAgICAgICAgIGVudHMucHVzaCh0aGlzLmVudGl0aWVzW25hbWVdKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICByZXR1cm4gZW50cztcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBUT0RPIE5FVzogdGhpcyBkb2N1bWVudGF0aW9uIGlzIGtpbmQgb2YgbWVzc3kgKGJ1dCBoZXksIGF0IGxlYXN0IGl0IGV4aXN0cyEpXHJcbiAgICAvKipcclxuICAgICAqIEF0dGVtcHRzIHRvIGFkZCBhIG5ldyBlbnRpdHkgdG8gdGhpcyBzY29wZS5cclxuICAgICAqIEBwYXJhbSB7RGVjbGFyZWRFbnRpdHl9IG5ld0VudGl0eSAtIFRoZSBlbnRpdHkgdG8gYXR0ZW1wdCB0byBhZGQuXHJcbiAgICAgKiBAcmV0dXJucyB7RGVjbGFyZWRFbnRpdHl9IEVpdGhlciB0aGUgZW50aXR5IHRoYXQgd2FzIGFkZGVkLCBvciBhbiBleGlzdGluZyBvbmUgYWxyZWFkeSB0aGVyZSwgYXNzdW1pbmcgaXQgd2FzIGNvbXBhdGlibGUuXHJcbiAgICAgKiBAdGhyb3dzICB7U2VtYW50aWNFeGNlcHRpb259IElmIGFuIGVycm9yIHByZXZlbnRzIHRoZSBlbnRpdHkgYmVpbmcgYWRkZWQgc3VjY2Vzc2Z1bGx5LiAoZS5nLiBGdW5jdGlvbiBkZWNsYXJhdGlvbnMgd2l0aFxyXG4gICAgICogdGhlIHNhbWUgc2lnbmF0dXJlIGJ1dCBhIG1pc21hdGNoIG9mIHJldHVybiB0eXBlcylcclxuICAgICAqL1xyXG4gICAgcHVibGljIGFkZERlY2xhcmVkRW50aXR5KG5ld0VudGl0eTogRGVjbGFyZWRFbnRpdHkpIHtcclxuICAgICAgICBsZXQgZXhpc3RpbmdFbnRpdHkgPSB0aGlzLmVudGl0aWVzW25ld0VudGl0eS5uYW1lXTtcclxuXHJcbiAgICAgICAgaWYgKCFleGlzdGluZ0VudGl0eSkgeyAvLyBObyBwcmV2aW91cyBlbnRpdHkgd2l0aCB0aGlzIG5hbWUsIHNvIGp1c3QgYWRkIGl0XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVudGl0aWVzW25ld0VudGl0eS5uYW1lXSA9IG5ld0VudGl0eSBpbnN0YW5jZW9mIEZ1bmN0aW9uRW50aXR5ID8gW25ld0VudGl0eV0gOiBuZXdFbnRpdHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBuZXdFbnRpdHkubWVyZ2VJbnRvKGV4aXN0aW5nRW50aXR5KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBwcm90ZWN0ZWQgZGVjbGFyZWRFbnRpdHlBZGRlZChlbnQ6IERlY2xhcmVkRW50aXR5KSB7XHJcbiAgICAgICAgXHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gcHVibGljIHNpbmdsZUxvb2t1cChuYW1lOiBzdHJpbmcsIG9wdGlvbnM6IE5hbWVMb29rdXBPcHRpb25zKSB7XHJcbiAgICAvLyAgICAgdmFyIHJlc3VsdCA9IHRoaXMubG9va3VwKG5hbWUsIG9wdGlvbnMpO1xyXG4gICAgLy8gICAgIGlmIChBcnJheS5pc0FycmF5KHJlc3VsdCkpe1xyXG4gICAgLy8gICAgICAgICByZXR1cm4gcmVzdWx0WzBdO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBlbHNle1xyXG4gICAgLy8gICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgcmVxdWlyZWRMb29rdXAobmFtZSwgb3B0aW9ucyl7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuaV9yZXF1aXJlZExvb2t1cEltcGwodGhpcy5sb29rdXAobmFtZSwgb3B0aW9ucyksIG5hbWUsIG9wdGlvbnMpO1xyXG4gICAgLy8gfVxyXG4gICAgLy8gcHJpdmF0ZSBpX3JlcXVpcmVkTG9va3VwSW1wbChyZXMsIG5hbWUsIG9wdGlvbnMpIHtcclxuICAgIC8vICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuICAgIC8vICAgICBpZiAoIXJlcyl7XHJcbiAgICAvLyAgICAgICAgIGlmIChvcHRpb25zLnBhcmFtVHlwZXMgfHwgb3B0aW9ucy5wYXJhbXMpe1xyXG4gICAgLy8gICAgICAgICAgICAgdGhyb3cgU2VtYW50aWNFeGNlcHRpb25zLk5vTWF0Y2guaW5zdGFuY2UodGhpcywgbmFtZSxcclxuICAgIC8vICAgICAgICAgICAgICAgICBvcHRpb25zLnBhcmFtVHlwZXMgfHwgb3B0aW9ucy5wYXJhbXMgJiYgb3B0aW9ucy5wYXJhbXMubWFwKGZ1bmN0aW9uKHApe3JldHVybiBwLnR5cGU7fSksXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgb3B0aW9ucy5pc1RoaXNDb25zdFxyXG4gICAgLy8gICAgICAgICAgICAgKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICBlbHNle1xyXG4gICAgLy8gICAgICAgICAgICAgdGhyb3cgU2VtYW50aWNFeGNlcHRpb25zLk5vdEZvdW5kLmluc3RhbmNlKHRoaXMsIG5hbWUpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2UgaWYoQXJyYXkuaXNBcnJheShyZXMpKXtcclxuICAgIC8vICAgICAgICAgaWYgKHJlcyA9PT0gU2NvcGUuSElEREVOKXtcclxuICAgIC8vICAgICAgICAgICAgIHRocm93IFNlbWFudGljRXhjZXB0aW9ucy5IaWRkZW4uaW5zdGFuY2UodGhpcywgbmFtZSxcclxuICAgIC8vICAgICAgICAgICAgICAgICBvcHRpb25zLnBhcmFtVHlwZXMgfHwgb3B0aW9ucy5wYXJhbXMgJiYgb3B0aW9ucy5wYXJhbXMubWFwKGZ1bmN0aW9uKHApe3JldHVybiBwLnR5cGU7fSksXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgb3B0aW9ucy5pc1RoaXNDb25zdCk7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgaWYgKHJlcy5sZW5ndGggPT09IDApe1xyXG4gICAgLy8gICAgICAgICAgICAgdGhyb3cgU2VtYW50aWNFeGNlcHRpb25zLk5vTWF0Y2guaW5zdGFuY2UodGhpcywgbmFtZSxcclxuICAgIC8vICAgICAgICAgICAgICAgICBvcHRpb25zLnBhcmFtVHlwZXMgfHwgb3B0aW9ucy5wYXJhbXMgJiYgb3B0aW9ucy5wYXJhbXMubWFwKGZ1bmN0aW9uKHApe3JldHVybiBwLnR5cGU7fSksXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgb3B0aW9ucy5pc1RoaXNDb25zdFxyXG4gICAgLy8gICAgICAgICAgICAgKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICBpZiAocmVzLmxlbmd0aCA+IDEpe1xyXG4gICAgLy8gICAgICAgICAgICAgdGhyb3cgU2VtYW50aWNFeGNlcHRpb25zLkFtYmlndWl0eS5pbnN0YW5jZSh0aGlzLCBuYW1lKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICByZXR1cm4gcmVzWzBdO1xyXG4gICAgLy8gICAgIH1cclxuXHJcbiAgICAvLyAgICAgcmV0dXJuIHJlcztcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyAvLyBUT0RPOiB0aGlzIHNob3VsZCBiZSBhIG1lbWJlciBmdW5jdGlvbiBvZiB0aGUgUHJvZ3JhbSBjbGFzc1xyXG4gICAgLy8gcHVibGljIHF1YWxpZmllZExvb2t1cChuYW1lcywgb3B0aW9ucyl7XHJcbiAgICAvLyAgICAgYXNzZXJ0KEFycmF5LmlzQXJyYXkobmFtZXMpICYmIG5hbWVzLmxlbmd0aCA+IDApO1xyXG4gICAgLy8gICAgIHZhciBzY29wZSA9IHRoaXMuc2ltLmdldEdsb2JhbFNjb3BlKCk7XHJcbiAgICAvLyAgICAgZm9yKHZhciBpID0gMDsgc2NvcGUgJiYgaSA8IG5hbWVzLmxlbmd0aCAtIDE7ICsraSl7XHJcbiAgICAvLyAgICAgICAgIHNjb3BlID0gc2NvcGUuY2hpbGRyZW5bbmFtZXNbaV0uaWRlbnRpZmllcl07XHJcbiAgICAvLyAgICAgfVxyXG5cclxuICAgIC8vICAgICBpZiAoIXNjb3BlKXtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAvLyAgICAgfVxyXG5cclxuICAgIC8vICAgICB2YXIgbmFtZSA9IG5hbWVzLmxhc3QoKS5pZGVudGlmaWVyO1xyXG4gICAgLy8gICAgIHZhciByZXN1bHQgPSBzY29wZS5sb29rdXAobmFtZSwgY29weU1peGluKG9wdGlvbnMsIHtxdWFsaWZpZWQ6dHJ1ZX0pKTtcclxuXHJcbiAgICAvLyAgICAgLy8gUXVhbGlmaWVkIGxvb2t1cCBzdXBwcmVzc2VzIHZpcnR1YWwgZnVuY3Rpb24gY2FsbCBtZWNoYW5pc20sIHNvIGlmIHdlXHJcbiAgICAvLyAgICAgLy8ganVzdCBsb29rZWQgdXAgYSBNZW1iZXJGdW5jdGlvbkVudGl0eSwgd2UgY3JlYXRlIGEgcHJveHkgdG8gZG8gdGhhdC5cclxuICAgIC8vICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXN1bHQpKXtcclxuICAgIC8vICAgICAgICAgcmVzdWx0ID0gcmVzdWx0Lm1hcChmdW5jdGlvbihlbGVtKXtcclxuICAgIC8vICAgICAgICAgICAgIHJldHVybiBlbGVtIGluc3RhbmNlb2YgTWVtYmVyRnVuY3Rpb25FbnRpdHkgPyBlbGVtLnN1cHByZXNzZWRWaXJ0dWFsUHJveHkoKSA6IGVsZW07XHJcbiAgICAvLyAgICAgICAgIH0pO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgLy8gfVxyXG5cclxuICAgIHB1YmxpYyBsb29rdXAobmFtZTogc3RyaW5nLCBvcHRpb25zOiBOYW1lTG9va3VwT3B0aW9ucyA9IHtraW5kOlwibm9ybWFsXCJ9KSA6IERlY2xhcmVkT2JqZWN0RW50aXR5IHwgRnVuY3Rpb25FbnRpdHlbXSB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblxyXG4gICAgICAgIGFzc2VydCghbmFtZS5pbmNsdWRlcyhcIjo6XCIpLCBcIlF1YWxpZmllZCBuYW1lIHVzZWQgd2l0aCB1bnF1YWxpZmllZCBsb29va3VwIGZ1bmN0aW9uLlwiKTtcclxuXHJcbiAgICAgICAgbGV0IGVudCA9IHRoaXMuZW50aXRpZXNbbmFtZV07XHJcblxyXG4gICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW4gZW50aXR5IGluIHRoaXMgc2NvcGUgYW5kIHdlIGRpZG4ndCBzcGVjaWZ5IHdlXHJcbiAgICAgICAgLy8gd2FudGVkIGFuIG93biBlbnRpdHksIGxvb2sgaW4gcGFyZW50IHNjb3BlIChpZiB0aGVyZSBpcyBvbmUpXHJcbiAgICAgICAgaWYgKCFlbnQgJiYgIW9wdGlvbnMub3duICYmIHRoaXMucGFyZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudC5sb29rdXAobmFtZSwgb3B0aW9ucyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiB3ZSBkaWRuJ3QgZmluZCBhbnl0aGluZywgcmV0dXJuIG51bGxcclxuICAgICAgICBpZiAoIWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGVudCkpIHtcclxuICAgICAgICAgICAgLy8gSWYgaXQncyBub3QgYW4gYXJyYXksIGl0J3MgYSBzaW5nbGUgZW50aXR5IHNvIHJldHVybiBpdFxyXG4gICAgICAgICAgICByZXR1cm4gZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IHZpYWJsZSA9IGVudDsgLy8gYSBzZXQgb2YgcG90ZW50aWFsbHkgdmlhYmxlIGZ1bmN0aW9uIG92ZXJsb2Fkc1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgd2UncmUgbG9va2luZyBmb3IgYW4gZXhhY3QgbWF0Y2ggb2YgcGFyYW1ldGVyIHR5cGVzXHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmtpbmQgPT09IFwiZXhhY3RcIikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW1UeXBlcyA9IG9wdGlvbnMucGFyYW1UeXBlcztcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlY2VpdmVyVHlwZSA9IG9wdGlvbnMucmVjZWl2ZXJUeXBlO1xyXG4gICAgICAgICAgICAgICAgdmlhYmxlID0gZW50LmZpbHRlcigoY2FuZCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IHBhcmFtZXRlciB0eXBlcyBtYXRjaFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY2FuZC50eXBlLnNhbWVQYXJhbVR5cGVzKHBhcmFtVHlwZXMpKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVjZWl2ZXJUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHJlY2VpdmVyIHR5cGUgaXMgZGVmaW5lZCwgY2FuZGlkYXRlIG11c3QgYWxzbyBoYXZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGEgcmVjZWl2ZXIgYW5kIHRoZSBwcmVzZW5jZS9hYnNlbmNlIG9mIGNvbnN0IG11c3QgbWF0Y2hcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTk9URTogdGhlIGFjdHVhbCByZWNlaXZlciB0eXBlIGRvZXMgbm90IG5lZWQgdG8gbWF0Y2gsIGp1c3QgdGhlIGNvbnN0bmVzc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FuZC50eXBlLnJlY2VpdmVyVHlwZSAmJiByZWNlaXZlclR5cGUuaXNDb25zdCA9PT0gY2FuZC50eXBlLmlzQ29uc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBubyByZWNlaXZlciB0eXBlIGlzIGRlZmluZWQsIGNhbmRpZGF0ZSBtdXN0IG5vdCBoYXZlIGEgcmVjZWl2ZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFjYW5kLnR5cGUucmVjZWl2ZXJUeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FuZC50eXBlLnNhbWVQYXJhbVR5cGVzKHBhcmFtVHlwZXMpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZpYWJsZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gLy8gSWYgd2UncmUgbG9va2luZyBmb3Igc29tZXRoaW5nIHRoYXQgY291bGQgYmUgY2FsbGVkIHdpdGggZ2l2ZW4gcGFyYW1ldGVyIHR5cGVzLCBpbmNsdWRpbmcgY29udmVyc2lvbnNcclxuICAgICAgICAgICAgLy8gZWxzZSBpZiAob3B0aW9ucy5wYXJhbVR5cGVzKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAvLyB2YXIgcGFyYW1zID0gb3B0aW9ucy5wYXJhbXMgfHwgb3B0aW9ucy5wYXJhbVR5cGVzICYmIGZha2VFeHByZXNzaW9uc0Zyb21UeXBlcyhvcHRpb25zLnBhcmFtVHlwZXMpO1xyXG4gICAgICAgICAgICAvLyAgICAgdmlhYmxlID0gb3ZlcmxvYWRSZXNvbHV0aW9uKGVudCwgb3B0aW9ucy5wYXJhbVR5cGVzLCBvcHRpb25zLnJlY2VpdmVyVHlwZSkudmlhYmxlIHx8IFtdO1xyXG4gICAgICAgICAgICAvLyAgICAgcmV0dXJuIHZpYWJsZVswXTtcclxuICAgICAgICAgICAgLy8gICAgIC8vIFRPRE8gLSBzaG91bGQgZ2l2ZSBlcnJvciBpZiB0aGVyZSdzIG11bHRpcGxlIGVsZW1lbnRzIGkuZS4gYW4gYW1iaWd1aXR5XHJcbiAgICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB2aWFibGU7XHJcblxyXG4gICAgICAgICAgICAvLyAvLyBJZiB2aWFibGUgaXMgZW1wdHksIG5vdCBmb3VuZC5cclxuICAgICAgICAgICAgLy8gaWYgKHZpYWJsZSAmJiB2aWFibGUubGVuZ3RoID09PSAwKXtcclxuICAgICAgICAgICAgLy8gICAgIC8vIENoZWNrIHRvIHNlZSBpZiB3ZSBjb3VsZCBoYXZlIGZvdW5kIGl0IGV4Y2VwdCBmb3IgbmFtZSBoaWRpbmdcclxuICAgICAgICAgICAgLy8gICAgIGlmICghb3B0aW9ucy5vd24gJiYgdGhpcy5wYXJlbnQpe1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIHZhciBjb3VsZEhhdmUgPSB0aGlzLnBhcmVudC5sb29rdXAobmFtZSwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgaWYgKGNvdWxkSGF2ZSAmJiAoIUFycmF5LmlzQXJyYXkoY291bGRIYXZlKSB8fCBjb3VsZEhhdmUubGVuZ3RoID09PSAxIHx8IGNvdWxkSGF2ZSA9PT0gU2NvcGUuSElEREVOKSl7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIGlmIChvcHRpb25zLm5vTmFtZUhpZGluZyl7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICByZXR1cm4gY291bGRIYXZlO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICByZXR1cm4gU2NvcGUuSElEREVOO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAvLyAgICAgcmV0dXJuIFNjb3BlLk5PX01BVENIO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIC8vIGVsc2V7XHJcbiAgICAgICAgICAgIC8vICAgICByZXR1cm4gdmlhYmxlO1xyXG4gICAgICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEJsb2NrU2NvcGUgZXh0ZW5kcyBTY29wZSB7XHJcblxyXG4gICAgLy8gcHJvdGVjdGVkIGRlY2xhcmVkRW50aXR5QWRkZWQoZW50OiBEZWNsYXJlZEVudGl0eSkge1xyXG4gICAgLy8gICAgIGlmIChlbnQgaW5zdGFuY2VvZiBBdXRvRW50aXR5KSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBwcml2YXRlIGFkZEF1dG9tYXRpY0VudGl0eSA6IGZ1bmN0aW9uKG9iail7XHJcbiAgICAvLyAgICAgYXNzZXJ0KHRoaXMucGFyZW50LCBcIk9iamVjdHMgd2l0aCBhdXRvbWF0aWMgc3RvcmFnZSBkdXJhdGlvbiBzaG91bGQgYWx3YXlzIGJlIGluc2lkZSBzb21lIGJsb2NrIHNjb3BlIGluc2lkZSBhIGZ1bmN0aW9uLlwiKTtcclxuICAgIC8vICAgICB0aGlzLnBhcmVudC5hZGRBdXRvbWF0aWNFbnRpdHkob2JqKTtcclxuICAgIC8vIH0sXHJcbiAgICAvLyBwcml2YXRlIGFkZFJlZmVyZW5jZUVudGl0eSA6IGZ1bmN0aW9uKG9iail7XHJcbiAgICAvLyAgICAgYXNzZXJ0KHRoaXMucGFyZW50KTtcclxuICAgIC8vICAgICB0aGlzLnBhcmVudC5hZGRSZWZlcmVuY2VFbnRpdHkob2JqKTtcclxuICAgIC8vIH0sXHJcbiAgICAvLyBwcml2YXRlIGFkZFN0YXRpY0VudGl0eSA6IGZ1bmN0aW9uKGVudCkge1xyXG4gICAgLy8gICAgIHRoaXMuc2ltLmFkZFN0YXRpY0VudGl0eShlbnQpO1xyXG4gICAgLy8gfSxcclxuICAgIC8vIG1lcmdlIDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gTm90aGluZyBpbiBoZXJlIHNob3VsZCBoYXZlIGxpbmthZ2UsIHJpZ2h0P1xyXG4gICAgICAgIC8vIFVubGVzcyBJIGFsbG93IGZ1bmN0aW9uL2NsYXNzIGRlY2xhcmF0aW9ucywgZXRjLiBpbnNpZGUgYmxvY2tzLCB3aGljaCBJIGN1cnJlbnRseSBkb24ndFxyXG4gICAgLy8gfVxyXG5cclxuXHJcbn1cclxuXHJcbi8vIGV4cG9ydCBjbGFzcyBGdW5jdGlvbkJsb2NrU2NvcGUgZXh0ZW5kcyBCbG9ja1Njb3BlIHtcclxuLy8gICAgIF9uYW1lOiBcIkZ1bmN0aW9uQmxvY2tTY29wZVwiLFxyXG4vLyAgICAgaW5pdDogZnVuY3Rpb24ocGFyZW50LCBzaW0pe1xyXG4vLyAgICAgICAgIHRoaXMuaW5pdFBhcmVudChwYXJlbnQsIHNpbSk7XHJcbi8vICAgICAgICAgdGhpcy5hdXRvbWF0aWNPYmplY3RzID0gW107XHJcbi8vICAgICAgICAgdGhpcy5yZWZlcmVuY2VPYmplY3RzID0gW107XHJcbi8vICAgICB9LFxyXG4vLyAgICAgYWRkQXV0b21hdGljRW50aXR5IDogZnVuY3Rpb24ob2JqKXtcclxuLy8gICAgICAgICB0aGlzLmF1dG9tYXRpY09iamVjdHMucHVzaChvYmopO1xyXG4vLyAgICAgfSxcclxuLy8gICAgIGFkZFJlZmVyZW5jZUVudGl0eSA6IGZ1bmN0aW9uKG9iail7XHJcbi8vICAgICAgICAgdGhpcy5yZWZlcmVuY2VPYmplY3RzLnB1c2gob2JqKTtcclxuLy8gICAgIH0sXHJcbi8vICAgICBhZGRTdGF0aWNFbnRpdHkgOiBmdW5jdGlvbihlbnQpIHtcclxuLy8gICAgICAgICB0aGlzLnNpbS5hZGRTdGF0aWNFbnRpdHkoZW50KTtcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuZXhwb3J0IGNsYXNzIE5hbWVzcGFjZVNjb3BlIGV4dGVuZHMgU2NvcGUge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNoaWxkcmVuOiB7W2luZGV4OnN0cmluZ106IE5hbWVzcGFjZVNjb3BlIHwgdW5kZWZpbmVkfTtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCBwYXJlbnQ/OiBOYW1lc3BhY2VTY29wZSkge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudCk7XHJcbiAgICAgICAgYXNzZXJ0KCFwYXJlbnQgfHwgcGFyZW50IGluc3RhbmNlb2YgTmFtZXNwYWNlU2NvcGUpO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IHt9O1xyXG4gICAgICAgIGlmKHBhcmVudCkge1xyXG4gICAgICAgICAgICBwYXJlbnQuYWRkQ2hpbGQodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkQ2hpbGQoY2hpbGQ6IE5hbWVzcGFjZVNjb3BlKSB7XHJcbiAgICAgICAgaWYoY2hpbGQubmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2NoaWxkLm5hbWVdID0gY2hpbGQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gYWRkQXV0b21hdGljRW50aXR5IDogZnVuY3Rpb24ob2JqKXtcclxuICAgIC8vICAgICBhc3NlcnQoZmFsc2UsIFwiQ2FuJ3QgYWRkIGFuIGF1dG9tYXRpYyBlbnRpdHkgdG8gYSBuYW1lc3BhY2Ugc2NvcGUuXCIpO1xyXG4gICAgLy8gfSxcclxuICAgIC8vIGFkZFJlZmVyZW5jZUVudGl0eSA6IGZ1bmN0aW9uKG9iail7XHJcbiAgICAvLyAgICAgYXNzZXJ0KGZhbHNlLCBcIlRPRE9cIik7XHJcbiAgICAvLyB9LFxyXG4gICAgLy8gYWRkU3RhdGljRW50aXR5IDogZnVuY3Rpb24oZW50KSB7XHJcbiAgICAvLyAgICAgdGhpcy5zaW0uYWRkU3RhdGljRW50aXR5KGVudCk7XHJcbiAgICAvLyB9LFxyXG5cclxuICAgIC8vIG1lcmdlIDogZnVuY3Rpb24gKG90aGVyU2NvcGUsIG9uRXJyKSB7XHJcbiAgICAvLyAgICAgZm9yKHZhciBuYW1lIGluIG90aGVyU2NvcGUuZW50aXRpZXMpe1xyXG4gICAgLy8gICAgICAgICB2YXIgb3RoZXJFbnRpdHkgPSBvdGhlclNjb3BlLmVudGl0aWVzW25hbWVdO1xyXG4gICAgLy8gICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvdGhlckVudGl0eSkpIHtcclxuICAgIC8vICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBvdGhlckVudGl0eS5sZW5ndGg7ICsraSkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRGVjbGFyZWRFbnRpdHkob3RoZXJFbnRpdHlbaV0pO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBvbkVycihlKTtcclxuICAgIC8vICAgICAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgZWxzZXtcclxuICAgIC8vICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgdGhpcy5hZGREZWNsYXJlZEVudGl0eShvdGhlckVudGl0eSk7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIG9uRXJyKGUpO1xyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG5cclxuICAgIC8vICAgICAvLyBNZXJnZSBpbiBhbGwgY2hpbGQgc2NvcGVzIGZyb20gdGhlIG90aGVyXHJcbiAgICAvLyAgICAgZm9yKHZhciBjaGlsZE5hbWUgaW4gb3RoZXJTY29wZS5jaGlsZHJlbikge1xyXG4gICAgLy8gICAgICAgICBpZiAoIXRoaXMuY2hpbGRyZW5bY2hpbGROYW1lXSkge1xyXG4gICAgLy8gICAgICAgICAgICAgLy8gSWYgYSBtYXRjaGluZyBjaGlsZCBzY29wZSBkb2Vzbid0IGFscmVhZHkgZXhpc3QsIGNyZWF0ZSBpdFxyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltjaGlsZE5hbWVdID0gTmFtZXNwYWNlU2NvcGUuaW5zdGFuY2UoY2hpbGROYW1lLCB0aGlzLCB0aGlzLnNpbSk7XHJcbiAgICAvLyAgICAgICAgIH1cclxuXHJcbiAgICAvLyAgICAgICAgIHRoaXMuY2hpbGRyZW5bY2hpbGROYW1lXS5tZXJnZShvdGhlclNjb3BlLmNoaWxkcmVuW2NoaWxkTmFtZV0sIG9uRXJyKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcbn1cclxuXHJcblxyXG4vLyBleHBvcnQgdmFyIENsYXNzU2NvcGUgPSBOYW1lc3BhY2VTY29wZS5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiQ2xhc3NTY29wZVwiLFxyXG5cclxuLy8gICAgIGluaXQ6IGZ1bmN0aW9uKG5hbWUsIHBhcmVudCwgYmFzZSwgc2ltKXtcclxuLy8gICAgICAgICB0aGlzLmluaXRQYXJlbnQobmFtZSwgcGFyZW50LCBzaW0pO1xyXG4vLyAgICAgICAgIGlmKGJhc2Upe1xyXG4vLyAgICAgICAgICAgICBhc3NlcnQoYmFzZSBpbnN0YW5jZW9mIENsYXNzU2NvcGUpO1xyXG4vLyAgICAgICAgICAgICB0aGlzLmJhc2UgPSBiYXNlO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgbG9va3VwIDogZnVuY3Rpb24obmFtZSwgb3B0aW9ucyl7XHJcbi8vICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcbi8vICAgICAgICAgLy8gSWYgc3BlY2lmaWVkLCB3aWxsIG5vdCBsb29rIHVwIGluIGJhc2UgY2xhc3Mgc2NvcGVzXHJcbi8vICAgICAgICAgaWYgKG9wdGlvbnMubm9CYXNlKXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIFNjb3BlLmxvb2t1cC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgcmV0dXJuIHRoaXMubWVtYmVyTG9va3VwKG5hbWUsIG9wdGlvbnMpIHx8IFNjb3BlLmxvb2t1cC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICByZXF1aXJlZE1lbWJlckxvb2t1cCA6IGZ1bmN0aW9uKG5hbWUsIG9wdGlvbnMpe1xyXG4vLyAgICAgICAgIHJldHVybiB0aGlzLmlfcmVxdWlyZWRMb29rdXBJbXBsKHRoaXMubWVtYmVyTG9va3VwKG5hbWUsIG9wdGlvbnMpLCBuYW1lLCBvcHRpb25zKTtcclxuLy8gICAgIH0sXHJcbi8vICAgICBtZW1iZXJMb29rdXAgOiBmdW5jdGlvbihuYW1lLCBvcHRpb25zKXtcclxuLy8gICAgICAgICB2YXIgb3duID0gU2NvcGUubG9va3VwLmNhbGwodGhpcywgbmFtZSwgY29weU1peGluKG9wdGlvbnMsIHtvd246dHJ1ZX0pKTtcclxuLy8gICAgICAgICBpZiAoIW93bil7XHJcbi8vICAgICAgICAgICAgIHJldHVybiAhb3B0aW9ucy5ub0Jhc2UgJiYgdGhpcy5iYXNlICYmIHRoaXMuYmFzZS5tZW1iZXJMb29rdXAobmFtZSwgb3B0aW9ucyk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG93bikgJiYgb3duLmxlbmd0aCA9PT0gMCl7XHJcbi8vICAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB3ZSBjb3VsZCBoYXZlIGZvdW5kIGl0IGV4Y2VwdCBmb3IgbmFtZSBoaWRpbmdcclxuLy8gICAgICAgICAgICAgLy8gKElmIHdlIGV2ZXIgZ290IGFuIGFycmF5LCByYXRoZXIgdGhhbiBqdXN0IG51bGwsIGl0IG1lYW5zIHdlIGZvdW5kIGEgbWF0Y2hcclxuLy8gICAgICAgICAgICAgLy8gd2l0aCB0aGUgbmFtZSBmb3IgYSBzZXQgb2Ygb3ZlcmxvYWRlZCBmdW5jdGlvbnMsIGJ1dCBub25lIHdlcmUgdmlhYmxlKVxyXG4vLyAgICAgICAgICAgICBpZiAoIW9wdGlvbnMubm9CYXNlICYmIHRoaXMuYmFzZSl7XHJcbi8vICAgICAgICAgICAgICAgICB2YXIgY291bGRIYXZlID0gdGhpcy5iYXNlLm1lbWJlckxvb2t1cChuYW1lLCBvcHRpb25zKTtcclxuLy8gICAgICAgICAgICAgICAgIGlmIChjb3VsZEhhdmUgJiYgKCFBcnJheS5pc0FycmF5KGNvdWxkSGF2ZSkgfHwgY291bGRIYXZlLmxlbmd0aCA9PT0gMSB8fCBjb3VsZEhhdmUgPT09IFNjb3BlLkhJRERFTikpe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm5vTmFtZUhpZGluZyl7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb3VsZEhhdmU7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTY29wZS5ISURERU47XHJcbi8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIHJldHVybiBTY29wZS5OT19NQVRDSDtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgcmV0dXJuIG93bjtcclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG5leHBvcnQgdHlwZSBFbnRpdHlJRCA9IG51bWJlcjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDUFBFbnRpdHk8VCBleHRlbmRzIFR5cGUgPSBUeXBlPiB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBfbmV4dEVudGl0eUlkID0gMDtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKHRoaXMpO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBlbnRpdHlJZDogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGU6IFQ7XHJcblxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIE1vc3QgZW50aXRpZXMgd2lsbCBoYXZlIGEgbmF0dXJhbCB0eXBlLCBidXQgYSBmZXcgd2lsbCBub3QgKGUuZy4gbmFtZXNwYWNlcykuIEluIHRoaXMgY2FzZSxcclxuICAgICAqIHRoZSB0eXBlIHdpbGwgYmUgbnVsbC5cclxuICAgICAqIFRPRE86IGZpeCB0aGlzIC0gdGhlcmUgc2hvdWxkIHByb2JhYmx5IGJlIGEgc3VidHlwZSBvciBpbnRlcmZhY2UgZm9yIGEgVHlwZWRFbnRpdHkgb3IgT2JqZWN0RW50aXR5XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcih0eXBlOiBUKSB7XHJcbiAgICAgICAgdGhpcy5lbnRpdHlJZCA9IENQUEVudGl0eS5fbmV4dEVudGl0eUlkKys7XHJcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZGVzY3JpYmUoKSA6IERlc2NyaXB0aW9uO1xyXG5cclxuICAgIC8vIC8vIFRPRE86IGRvZXMgdGhpcyBiZWxvbmcgaGVyZT9cclxuICAgIC8vIHB1YmxpYyBpc0xpYnJhcnlDb25zdHJ1Y3QoKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gLy8gVE9ETzogZG9lcyB0aGlzIGJlbG9uZyBoZXJlP1xyXG4gICAgLy8gcHVibGljIGlzTGlicmFyeVVuc3VwcG9ydGVkKCkge1xyXG4gICAgLy8gICAgIHJldHVybiBmYWxzZTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvL1RPRE86IGZ1bmN0aW9uIGZvciBpc09kclVzZWQoKT9cclxufTtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBOYW1lZEVudGl0eTxUIGV4dGVuZHMgVHlwZSA9IFR5cGU+IGV4dGVuZHMgQ1BQRW50aXR5PFQ+IHtcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFsbCBOYW1lZEVudGl0eXMgd2lsbCBoYXZlIGEgbmFtZSwgYnV0IGluIHNvbWUgY2FzZXMgdGhpcyBtaWdodCBiZSBcIlwiLiBlLmcuIGFuIHVubmFtZWQgbmFtZXNwYWNlLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IodHlwZTogVCwgbmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIodHlwZSk7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIERlY2xhcmVkRW50aXR5QmFzZTxUIGV4dGVuZHMgVHlwZSA9IFR5cGU+IGV4dGVuZHMgTmFtZWRFbnRpdHk8VD4ge1xyXG5cclxuICAgIC8vIC8qKlxyXG4gICAgLy8gICogSWYgbmVpdGhlciBlbnRpdHkgaXMgZGVmaW5lZCwgZG9lcyBub3RoaW5nLlxyXG4gICAgLy8gICogSWYgZXhhY3RseSBvbmUgZW50aXR5IGlzIGRlZmluZWQsIGdpdmVzIHRoYXQgZGVmaW5pdGlvbiB0byB0aGUgb3RoZXIgb25lIGFzIHdlbGwuXHJcbiAgICAvLyAgKiBJZiBib3RoIGVudGl0aWVzIGFyZSBkZWZpbmVkLCB0aHJvd3MgYW4gZXhjZXB0aW9uLiBJZiB0aGUgZW50aXRpZXMgYXJlIGZ1bmN0aW9ucyB3aXRoXHJcbiAgICAvLyAgKiB0aGUgc2FtZSBzaWduYXR1cmUgYW5kIGRpZmZlcmVudCByZXR1cm4gdHlwZXMsIHRocm93cyBhbiBleGNlcHRpb24uXHJcbiAgICAvLyAgKiBSRVFVSVJFUzogQm90aCBlbnRpdGllcyBzaG91bGQgaGF2ZSB0aGUgc2FtZSB0eXBlLiAoZm9yIGZ1bmN0aW9ucywgdGhlIHNhbWUgc2lnbmF0dXJlKVxyXG4gICAgLy8gICogQHBhcmFtIGVudGl0eTEgLSBBbiBlbnRpdHkgYWxyZWFkeSBwcmVzZW50IGluIGEgc2NvcGUuXHJcbiAgICAvLyAgKiBAcGFyYW0gZW50aXR5MiAtIEEgbmV3IGVudGl0eSBtYXRjaGluZyB0aGUgb3JpZ2luYWwgb25lLlxyXG4gICAgLy8gICogQHRocm93cyB7Tm90ZX1cclxuICAgIC8vICAqL1xyXG4gICAgLy8gcHVibGljIHN0YXRpYyBtZXJnZShlbnRpdHkxOiBEZWNsYXJlZEVudGl0eSwgZW50aXR5MjogRGVjbGFyZWRFbnRpdHkpIHtcclxuXHJcbiAgICAvLyAgICAgLy8gVE9ETzogQWRkIHN1cHBvcnQgZm9yIFwiZm9yd2FyZCBkZWNsYXJhdGlvbnNcIiBvZiBhIGNsYXNzL3N0cnVjdFxyXG5cclxuICAgIC8vICAgICAvLyBTcGVjaWFsIGNhc2U6IGlnbm9yZSBtYWdpYyBmdW5jdGlvbnNcclxuICAgIC8vICAgICBpZiAoZW50aXR5MSBpbnN0YW5jZW9mIE1hZ2ljRnVuY3Rpb25FbnRpdHkgfHwgZW50aXR5MiBpbnN0YW5jZW9mIE1hZ2ljRnVuY3Rpb25FbnRpdHkpIHtcclxuICAgIC8vICAgICAgICAgcmV0dXJuO1xyXG4gICAgLy8gICAgIH1cclxuXHJcbiAgICAvLyAgICAgLy8gU3BlY2lhbCBjYXNlOiBpZiBib3RoIGFyZSBkZWZpbml0aW9ucyBmb3IgdGhlIHNhbWUgY2xhc3MsIGl0J3Mgb2sgT05MWSBpZiB0aGV5IGhhdmUgZXhhY3RseSB0aGUgc2FtZSB0b2tlbnNcclxuICAgIC8vICAgICBpZiAoZW50aXR5MS5kZWNsIGluc3RhbmNlb2YgQ2xhc3NEZWNsYXJhdGlvbiAmJiBlbnRpdHkyLmRlY2wgaW5zdGFuY2VvZiBDbGFzc0RlY2xhcmF0aW9uXHJcbiAgICAvLyAgICAgICAgICYmIGVudGl0eTEudHlwZS5jbGFzc05hbWUgPT09IGVudGl0eTIudHlwZS5jbGFzc05hbWUpIHtcclxuICAgIC8vICAgICAgICAgaWYgKGVudGl0eTEuZGVjbC5pc0xpYnJhcnlDb25zdHJ1Y3QoKSAmJiBlbnRpdHkyLmRlY2wuaXNMaWJyYXJ5Q29uc3RydWN0KCkgIT09IHVuZGVmaW5lZFxyXG4gICAgLy8gICAgICAgICAgICAgJiYgZW50aXR5MS5kZWNsLmdldExpYnJhcnlJZCgpID09PSBlbnRpdHkyLmRlY2wuZ2V0TGlicmFyeUlkKCkgfHxcclxuICAgIC8vICAgICAgICAgICAgIGVudGl0eTEuZGVjbC5oYXNTb3VyY2VDb2RlKCkgJiYgZW50aXR5Mi5kZWNsLmhhc1NvdXJjZUNvZGUoKSAmJlxyXG4gICAgLy8gICAgICAgICAgICAgZW50aXR5MS5kZWNsLmdldFNvdXJjZVRleHQoKS5yZXBsYWNlKC9cXHMvZywnJykgPT09IGVudGl0eTIuZGVjbC5nZXRTb3VyY2VUZXh0KCkucmVwbGFjZSgvXFxzL2csJycpKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAvLyBleGFjdGx5IHNhbWUgdG9rZW5zLCBzbyBpdCdzIGZpbmVcclxuXHJcbiAgICAvLyAgICAgICAgICAgICAvLyBtZXJnZSB0aGUgdHlwZXMgdG9vLCBzbyB0aGF0IHRoZSB0eXBlIHN5c3RlbSByZWNvZ25pemVzIHRoZW0gYXMgdGhlIHNhbWVcclxuICAgIC8vICAgICAgICAgICAgIFR5cGVzLkNsYXNzLm1lcmdlKGVudGl0eTEudHlwZSwgZW50aXR5Mi50eXBlKTtcclxuXHJcbiAgICAvLyAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgZWxzZSB7XHJcbiAgICAvLyAgICAgICAgICAgICB0aHJvdyBDUFBFcnJvci5saW5rLmNsYXNzX3NhbWVfdG9rZW5zKFtlbnRpdHkxLmRlY2wsIGVudGl0eTIuZGVjbF0sIGVudGl0eTEsIGVudGl0eTIpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG5cclxuICAgIC8vICAgICAvLyBJZiB0aGV5J3JlIG5vdCB0aGUgc2FtZSB0eXBlLCB0aGF0J3MgYSBwcm9ibGVtXHJcbiAgICAvLyAgICAgaWYgKCFzYW1lVHlwZShlbnRpdHkxLnR5cGUsIGVudGl0eTIudHlwZSkpIHtcclxuICAgIC8vICAgICAgICAgdGhyb3cgQ1BQRXJyb3IubGluay50eXBlX21pc21hdGNoKGVudGl0eTEuZGVjbCwgZW50aXR5MSwgZW50aXR5Mik7XHJcbiAgICAvLyAgICAgfVxyXG5cclxuICAgIC8vICAgICAvLyBTcGVjaWFsIGNhc2U6IGlmIGJvdGggYXJlIGRlZmluaXRpb25zIG9mIGEgbWVtYmVyIGluc2lkZSB0aGUgc2FtZSBjbGFzcywgaWdub3JlIHRoZW0uIChUaGUgY2xhc3MgZGVmaW5pdGlvbnNcclxuICAgIC8vICAgICAvLyBoYXZlIGFscmVhZHkgYmVlbiBjaGVja2VkIGFib3ZlIGFuZCBtdXN0IGJlIHRoZSBzYW1lIGF0IHRoaXMgcG9pbnQsIHNvIGl0J3MgcG9pbnRsZXNzIGFuZCB3aWxsIGNhdXNlIGVycm9yc1xyXG4gICAgLy8gICAgIC8vIHRvIHRyeSB0byBtZXJnZSB0aGVtLilcclxuICAgIC8vICAgICBpZiAoZW50aXR5MS5kZWNsIGluc3RhbmNlb2YgTWVtYmVyRGVjbGFyYXRpb24pIHtcclxuICAgIC8vICAgICAgICAgcmV0dXJuO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBpZiAoZW50aXR5MS5kZWNsIGluc3RhbmNlb2YgRnVuY3Rpb25EZWZpbml0aW9uICYmIGVudGl0eTEuZGVjbC5pc0lubGluZU1lbWJlckZ1bmN0aW9uKSB7XHJcbiAgICAvLyAgICAgICAgIHJldHVybjsgLy8gVE9ETzogU2hvdWxkIHdlIGJlIGNoZWNraW5nIHRoaXM/XHJcbiAgICAvLyAgICAgfVxyXG5cclxuICAgIC8vICAgICAvLyBBdHRlbXB0IHRvIG1lcmdlIHRoZSB0d29cclxuICAgIC8vICAgICBpZiAoIWVudGl0eTIuaXNEZWZpbmVkKCkgJiYgIWVudGl0eTEuaXNEZWZpbmVkKCkpIHtcclxuICAgIC8vICAgICAgICAgLy8gSWYgYm90aCBhcmUgZGVjbGFyYXRpb25zLCBqdXN0IGtlZXAgdGhlIG9sZCBvbmVcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZSBpZiAoZW50aXR5Mi5pc0RlZmluZWQoKSAmJiBlbnRpdHkxLmlzRGVmaW5lZCgpKSB7XHJcbiAgICAvLyAgICAgICAgIC8vIElmIGJvdGggYXJlIGRlZmluaXRpb25zLCB0aGF0J3MgYSBwcm9ibGVtLlxyXG4gICAgLy8gICAgICAgICB0aHJvdyBDUFBFcnJvci5saW5rLm11bHRpcGxlX2RlZihbZW50aXR5MS5kZWNsLCBlbnRpdHkyLmRlY2xdLCBlbnRpdHkxLm5hbWUpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBlbHNlIHsgLy8gb25lIG9mIHRoZW0gaXMgZGVmaW5lZCBhbmQgb25lIGlzIHVuZGVmaW5lZFxyXG4gICAgLy8gICAgICAgICB2YXIgdW5kZWZpbmVkRW50aXR5ID0gZW50aXR5MTtcclxuICAgIC8vICAgICAgICAgdmFyIGRlZmluZWRFbnRpdHkgPSBlbnRpdHkyO1xyXG4gICAgLy8gICAgICAgICBpZiAoZW50aXR5MS5pc0RlZmluZWQoKSkge1xyXG4gICAgLy8gICAgICAgICAgICAgdW5kZWZpbmVkRW50aXR5ID0gZW50aXR5MjtcclxuICAgIC8vICAgICAgICAgICAgIGRlZmluZWRFbnRpdHkgPSBlbnRpdHkxO1xyXG4gICAgLy8gICAgICAgICB9XHJcblxyXG4gICAgLy8gICAgICAgICAvLyBDaGVjayByZXR1cm4gdHlwZXMgZm9yIGZ1bmN0aW9uc1xyXG4gICAgLy8gICAgICAgICBpZiAoZW50aXR5MSBpbnN0YW5jZW9mIEZ1bmN0aW9uRW50aXR5KSB7XHJcbiAgICAvLyAgICAgICAgICAgICAvLyBJZiB0aGV5IGhhdmUgbWlzbWF0Y2hlZCByZXR1cm4gdHlwZXMsIHRoYXQncyBhIHByb2JsZW0uXHJcbiAgICAvLyAgICAgICAgICAgICBpZiAoIWVudGl0eTEudHlwZS5zYW1lUmV0dXJuVHlwZShlbnRpdHkyLnR5cGUpKXtcclxuICAgIC8vICAgICAgICAgICAgICAgICB0aHJvdyBDUFBFcnJvci5saW5rLmZ1bmMucmV0dXJuVHlwZXNNYXRjaChbZW50aXR5MS5kZWNsLCBlbnRpdHkyLmRlY2xdLCBlbnRpdHkxLm5hbWUpO1xyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICB9XHJcblxyXG4gICAgLy8gICAgICAgICAvLyBJZiBhIHByZXZpb3VzIGRlY2xhcmF0aW9uLCBhbmQgbm93IGEgbmV3IGRlZmluaXRpb24sIG1lcmdlXHJcbiAgICAvLyAgICAgICAgIHVuZGVmaW5lZEVudGl0eS5zZXREZWZpbml0aW9uKGRlZmluZWRFbnRpdHkuZGVmaW5pdGlvbik7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBkZWNsYXJhdGlvbjogU2ltcGxlRGVjbGFyYXRpb247XHJcbiAgICAvLyBwdWJsaWMgcmVhZG9ubHkgZGVmaW5pdGlvbj86IFNpbXBsZURlY2xhcmF0aW9uO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcih0eXBlOiBULCBkZWNsOiBTaW1wbGVEZWNsYXJhdGlvbikge1xyXG4gICAgICAgIHN1cGVyKHR5cGUsIGRlY2wubmFtZSk7XHJcbiAgICAgICAgdGhpcy5kZWNsYXJhdGlvbiA9IGRlY2w7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHVibGljIHNldERlZmluaXRpb24oZGVmaW5pdGlvbjogU2ltcGxlRGVjbGFyYXRpb24pIHtcclxuICAgIC8vICAgICAoPFNpbXBsZURlY2xhcmF0aW9uPnRoaXMuZGVmaW5pdGlvbikgPSBkZWZpbml0aW9uO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIHB1YmxpYyBpc0RlZmluZWQoKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuICEhdGhpcy5kZWZpbml0aW9uO1xyXG4gICAgLy8gfVxyXG5cclxuXHJcbiAgICAvLyBwdWJsaWMgaXNMaWJyYXJ5Q29uc3RydWN0KCkge1xyXG4gICAgLy8gICAgIHJldHVybiB0aGlzLmRlY2wuaXNMaWJyYXJ5Q29uc3RydWN0KCk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gcHVibGljIGlzTGlicmFyeVVuc3VwcG9ydGVkKCkge1xyXG4gICAgLy8gICAgIHJldHVybiB0aGlzLmRlY2wuaXNMaWJyYXJ5VW5zdXBwb3J0ZWQoKTtcclxuICAgIC8vIH1cclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIERlY2xhcmVkRW50aXR5ID0gRGVjbGFyZWRPYmplY3RFbnRpdHkgfCBGdW5jdGlvbkVudGl0eTtcclxuXHJcblxyXG5leHBvcnQgdHlwZSBMaW5rZWRFbnRpdHkgPSBTdGF0aWNFbnRpdHkgfCBGdW5jdGlvbkVudGl0eTtcclxuXHJcbi8vIGFic3RyYWN0IGNsYXNzIExpbmtlZEVudGl0eTxUIGV4dGVuZHMgVHlwZSA9IFR5cGU+IGV4dGVuZHMgRGVjbGFyZWRFbnRpdHk8VD4ge1xyXG5cclxuLy8gICAgIHB1YmxpYyByZWFkb25seSBxdWFsaWZpZWROYW1lOiBzdHJpbmc7XHJcblxyXG4vLyAgICAgcHVibGljIGNvbnN0cnVjdG9yKHR5cGU6IFQsIGRlY2w6IFNpbXBsZURlY2xhcmF0aW9uKSB7XHJcbi8vICAgICAgICAgc3VwZXIodHlwZSwgZGVjbCk7XHJcbi8vICAgICAgICAgdGhpcy5xdWFsaWZpZWROYW1lID0gXCI6OlwiICsgdGhpcy5uYW1lOyAvLyBUT0RPOiB3aGVuIG5hbWVzcGFjZXMgYXJlIGltcGxlbWVudGVkLCBmaXggdGhpcyB0byBhY3R1YWxseSBkbyBzb21ldGhpbmdcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgYWJzdHJhY3QgbGluayhkZWY6IEdsb2JhbE9iamVjdERlZmluaXRpb24gfCBGdW5jdGlvbkRlZmluaXRpb24pIDogdm9pZDtcclxuXHJcbi8vICAgICAvLyBwdWJsaWMgaXNEZWZpbmVkKCkge1xyXG4vLyAgICAgLy8gICAgIHJldHVybiAhIXRoaXMuZGVmaW5pdGlvbjtcclxuLy8gICAgIC8vIH1cclxuXHJcblxyXG4vLyAgICAgLy8gcHVibGljIGlzTGlicmFyeUNvbnN0cnVjdCgpIHtcclxuLy8gICAgIC8vICAgICByZXR1cm4gdGhpcy5kZWNsLmlzTGlicmFyeUNvbnN0cnVjdCgpO1xyXG4vLyAgICAgLy8gfVxyXG5cclxuLy8gICAgIC8vIHB1YmxpYyBpc0xpYnJhcnlVbnN1cHBvcnRlZCgpIHtcclxuLy8gICAgIC8vICAgICByZXR1cm4gdGhpcy5kZWNsLmlzTGlicmFyeVVuc3VwcG9ydGVkKCk7XHJcbi8vICAgICAvLyB9XHJcbi8vIH1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgT2JqZWN0RW50aXR5PFQgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZT4gZXh0ZW5kcyBDUFBFbnRpdHk8VD4ge1xyXG4gICAgcnVudGltZUxvb2t1cChydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCkgOiBDUFBPYmplY3Q8VD47XHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBEZWNsYXJlZE9iamVjdEVudGl0eTxUIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGU+IGV4dGVuZHMgRGVjbGFyZWRFbnRpdHlCYXNlPFQ+IGltcGxlbWVudHMgT2JqZWN0RW50aXR5PFQ+IHtcclxuICAgIFxyXG4gICAgcHVibGljIGFic3RyYWN0IHJ1bnRpbWVMb29rdXAocnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogQ1BQT2JqZWN0PFQ+O1xyXG4gICAgXHJcbiAgICBwdWJsaWMgbWVyZ2VJbnRvKGV4aXN0aW5nRW50aXR5OiBEZWNsYXJlZE9iamVjdEVudGl0eSB8IEZ1bmN0aW9uRW50aXR5W10pIHtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShleGlzdGluZ0VudGl0eSkpIHsgLy8gYW4gYXJyYXkgaW5kaWNhdGVzIGEgZnVuY3Rpb24gb3ZlcmxvYWQgZ3JvdXAgd2FzIGZvdW5kXHJcbiAgICAgICAgICAgIHRocm93IENQUEVycm9yLmRlY2xhcmF0aW9uLnR5cGVfbWlzbWF0Y2godGhpcy5kZWNsYXJhdGlvbiwgdGhpcywgZXhpc3RpbmdFbnRpdHlbMF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gYm90aCBhcmUgbm9uLWZ1bmN0aW9ucywgc28gY2hlY2sgdGhhdCB0aGUgdHlwZXMgYXJlIHRoZSBzYW1lXHJcbiAgICAgICAgICAgIGlmICghc2FtZVR5cGUodGhpcy50eXBlLCBleGlzdGluZ0VudGl0eS50eXBlKSkgeyAvLyBhbiBhcnJheSBpbmRpY2F0ZXMgYSBmdW5jdGlvbiBvdmVybG9hZCBncm91cCB3YXMgZm91bmRcclxuICAgICAgICAgICAgICAgIHRocm93IENQUEVycm9yLmRlY2xhcmF0aW9uLnR5cGVfbWlzbWF0Y2godGhpcy5kZWNsYXJhdGlvbiwgdGhpcywgZXhpc3RpbmdFbnRpdHkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBleGlzdGluZ0VudGl0eTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBdXRvRW50aXR5PFQgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZT4gZXh0ZW5kcyBEZWNsYXJlZE9iamVjdEVudGl0eTxUPiB7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkga2luZCA9IFwiQXV0b0VudGl0eVwiO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGlzUGFyYW1ldGVyOiBib29sZWFuO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBkZWZpbml0aW9uOiBMb2NhbFZhcmlhYmxlRGVmaW5pdGlvbiB8IFBhcmFtZXRlckRlZmluaXRpb247XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHR5cGU6IFQsIGRlZjogTG9jYWxWYXJpYWJsZURlZmluaXRpb24gfCBQYXJhbWV0ZXJEZWZpbml0aW9uLCBpc1BhcmFtZXRlcj86IGJvb2xlYW4pIHtcclxuICAgICAgICBzdXBlcih0eXBlLCBkZWYpO1xyXG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbiA9IGRlZjtcclxuICAgICAgICB0aGlzLmlzUGFyYW1ldGVyID0gISFpc1BhcmFtZXRlcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZSArIFwiIChcIiArIHRoaXMudHlwZSArIFwiKVwiO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtZXJnZUludG8oZXhpc3RpbmdFbnRpdHk6IERlY2xhcmVkT2JqZWN0RW50aXR5IHwgRnVuY3Rpb25FbnRpdHlbXSkgOiBuZXZlciB7XHJcbiAgICAgICAgLy8gUmVkZWNsYXJhdGlvbiBvZiBsb2NhbCBpcyBuZXZlciBva1xyXG4gICAgICAgIHRocm93IENQUEVycm9yLmRlY2xhcmF0aW9uLnByZXZfbG9jYWwodGhpcy5kZWNsYXJhdGlvbiwgdGhpcy5uYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcnVudGltZUxvb2t1cChydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCkgOiBBdXRvT2JqZWN0PFQ+IHtcclxuICAgICAgICAvLyBUT0RPOiByZXZpc2l0IHRoZSBub24tbnVsbCBhc3NlcnRpb24gYmVsb3dcclxuICAgICAgICByZXR1cm4gcnRDb25zdHJ1Y3QuY29udGFpbmluZ1J1bnRpbWVGdW5jdGlvbi5zdGFja0ZyYW1lIS5nZXRMb2NhbE9iamVjdCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzY3JpYmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBgdGhlICR7dGhpcy5pc1BhcmFtZXRlciA/IFwicGFyYW1ldGVyXCIgOiBcImxvY2FsIHZhcmlhYmxlXCJ9ICR7dGhpcy5uYW1lfWB9O1xyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEJvdW5kUmVmZXJlbmNlRW50aXR5PFQgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZT4gZXh0ZW5kcyBDUFBFbnRpdHk8VD4sIE9iamVjdEVudGl0eTxUPiB7XHJcbiAgICBydW50aW1lTG9va3VwKHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KSA6IENQUE9iamVjdDxUPjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBVbmJvdW5kUmVmZXJlbmNlRW50aXR5PFQgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZT4gZXh0ZW5kcyBDUFBFbnRpdHk8VD4ge1xyXG4gICAgYmluZFRvKHJ0Q29uc3RydWN0IDogUnVudGltZUNvbnN0cnVjdCwgb2JqOiBDUFBPYmplY3Q8VD4pIDogdm9pZDtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIExvY2FsUmVmZXJlbmNlRW50aXR5PFQgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZT4gZXh0ZW5kcyBEZWNsYXJlZE9iamVjdEVudGl0eTxUPiBpbXBsZW1lbnRzIEJvdW5kUmVmZXJlbmNlRW50aXR5PFQ+LCBVbmJvdW5kUmVmZXJlbmNlRW50aXR5PFQ+IHtcclxuICAgIHB1YmxpYyByZWFkb25seSBraW5kID0gXCJMb2NhbFJlZmVyZW5jZUVudGl0eVwiO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGlzUGFyYW1ldGVyOiBib29sZWFuO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcih0eXBlOiBULCBkZWNsOiBTaW1wbGVEZWNsYXJhdGlvbiwgaXNQYXJhbWV0ZXI6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgICAgIHN1cGVyKHR5cGUsIGRlY2wpO1xyXG4gICAgICAgIHRoaXMuaXNQYXJhbWV0ZXIgPSBpc1BhcmFtZXRlcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbWVyZ2VJbnRvKGV4aXN0aW5nRW50aXR5OiBEZWNsYXJlZE9iamVjdEVudGl0eSB8IEZ1bmN0aW9uRW50aXR5W10pIDogbmV2ZXIge1xyXG4gICAgICAgIC8vIFJlZGVjbGFyYXRpb24gb2YgbG9jYWwgaXMgbmV2ZXIgb2tcclxuICAgICAgICB0aHJvdyBDUFBFcnJvci5kZWNsYXJhdGlvbi5wcmV2X2xvY2FsKHRoaXMuZGVjbGFyYXRpb24sIHRoaXMubmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGJpbmRUbyhydENvbnN0cnVjdCA6IFJ1bnRpbWVDb25zdHJ1Y3QsIG9iajogQ1BQT2JqZWN0PFQ+KSB7XHJcbiAgICAgICAgcnRDb25zdHJ1Y3QuY29udGFpbmluZ1J1bnRpbWVGdW5jdGlvbi5zdGFja0ZyYW1lIS5iaW5kUmVmZXJlbmNlKHRoaXMsIG9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJ1bnRpbWVMb29rdXAocnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogQ1BQT2JqZWN0PFQ+IHtcclxuICAgICAgICAvLyBUT0RPOiByZXZpc2l0IHRoZSBub24tbnVsbCBhc3NlcnRpb25zIGJlbG93XHJcbiAgICAgICAgcmV0dXJuIHJ0Q29uc3RydWN0LmNvbnRhaW5pbmdSdW50aW1lRnVuY3Rpb24uc3RhY2tGcmFtZSEucmVmZXJlbmNlTG9va3VwPFQ+KHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZXNjcmliZSgpIHtcclxuICAgICAgICByZXR1cm4ge21lc3NhZ2U6IGB0aGUgJHt0aGlzLmlzUGFyYW1ldGVyID8gXCJyZWZlcmVuY2UgcGFyYW1ldGVyXCIgOiBcInJlZmVyZW5jZVwifSAke3RoaXMubmFtZX1gfTtcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIExvY2FsVmFyaWFibGVFbnRpdHk8VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiA9IEF1dG9FbnRpdHk8VD4gfCBMb2NhbFJlZmVyZW5jZUVudGl0eTxUPjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGF0aWNFbnRpdHk8VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiBleHRlbmRzIERlY2xhcmVkT2JqZWN0RW50aXR5PFQ+IHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcXVhbGlmaWVkTmFtZTogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGRlZmluaXRpb24/OiBHbG9iYWxPYmplY3REZWZpbml0aW9uO1xyXG4gICAgXHJcbiAgICAvLyBzdG9yYWdlOiBcInN0YXRpY1wiLFxyXG4gICAgY29uc3RydWN0b3IodHlwZTogVCwgZGVjbDogU2ltcGxlRGVjbGFyYXRpb24pIHtcclxuICAgICAgICBzdXBlcih0eXBlLCBkZWNsKTtcclxuICAgICAgICB0aGlzLnF1YWxpZmllZE5hbWUgPSBcIjo6XCIgKyB0aGlzLm5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRvU3RyaW5nKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5hbWUgKyBcIiAoXCIgKyB0aGlzLnR5cGUgKyBcIilcIjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbGluayhkZWY6IExpbmtlZERlZmluaXRpb24gfCB1bmRlZmluZWQpIHtcclxuICAgICAgICBpZiAoIWRlZiB8fCBBcnJheS5pc0FycmF5KGRlZikpIHtcclxuICAgICAgICAgICAgLy8gRWl0aGVyIHVuZGVmaW5lZCwgb3IgbGlua2VkIGFnYWluc3QgYSBmdW5jdGlvbiBvdmVybG9hZCBncm91cFxyXG4gICAgICAgICAgICB0aGlzLmRlY2xhcmF0aW9uLmFkZE5vdGUoQ1BQRXJyb3IubGluay5kZWZfbm90X2ZvdW5kKHRoaXMuZGVjbGFyYXRpb24sIHRoaXMpKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAoPE11dGFibGU8dGhpcz4+dGhpcykuZGVmaW5pdGlvbiA9IGRlZjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcnVudGltZUxvb2t1cChydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCkgOiBTdGF0aWNPYmplY3Q8VD4ge1xyXG4gICAgICAgIHJldHVybiBydENvbnN0cnVjdC5zaW0ubWVtb3J5LnN0YXRpY0xvb2t1cCh0aGlzKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIGRlc2NyaWJlKCkge1xyXG4gICAgICAgIHJldHVybiB7bmFtZTogdGhpcy5uYW1lLCBtZXNzYWdlOiBcInRoZSB2YXJpYWJsZSBcIiArIHRoaXMubmFtZX07XHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBWYXJpYWJsZUVudGl0eTxUIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGU+ID0gTG9jYWxWYXJpYWJsZUVudGl0eTxUPiB8IFN0YXRpY0VudGl0eTxUPjtcclxuXHJcbi8vIFRPRE86IGltcGxlbWVudCBnbG9iYWwgcmVmZXJlbmNlc1xyXG4vLyBleHBvcnQgY2xhc3MgR2xvYmFsUmVmZXJlbmNlRW50aXR5PFQgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZT4gZXh0ZW5kcyBEZWNsYXJlZEVudGl0eTxUPiBpbXBsZW1lbnRzIEJvdW5kUmVmZXJlbmNlRW50aXR5PFQ+LCBVbmJvdW5kUmVmZXJlbmNlRW50aXR5PFQ+IHtcclxuXHJcbi8vICAgICBwdWJsaWMgYmluZFRvKHJ0Q29uc3RydWN0IDogUnVudGltZUNvbnN0cnVjdCwgb2JqOiBDUFBPYmplY3Q8VD4pIHtcclxuLy8gICAgICAgICBydENvbnN0cnVjdC5jb250YWluaW5nUnVudGltZUZ1bmN0aW9uLnN0YWNrRnJhbWUhLmJpbmRSZWZlcmVuY2UodGhpcywgb2JqKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgcnVudGltZUxvb2t1cChydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCkgOiBDUFBPYmplY3Q8VD4ge1xyXG4vLyAgICAgICAgIC8vIFRPRE86IHJldmlzaXQgdGhlIG5vbi1udWxsIGFzc2VydGlvbiBiZWxvd1xyXG4vLyAgICAgICAgIHJldHVybiBydENvbnN0cnVjdC5jb250YWluaW5nUnVudGltZUZ1bmN0aW9uLnN0YWNrRnJhbWUhLnJlZmVyZW5jZUxvb2t1cCh0aGlzKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgZGVzY3JpYmUoKSB7XHJcbi8vICAgICAgICAgaWYgKHRoaXMuZGVjbCBpbnN0YW5jZW9mIERlY2xhcmF0aW9ucy5QYXJhbWV0ZXIpe1xyXG4vLyAgICAgICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwidGhlIHJlZmVyZW5jZSBwYXJhbWV0ZXIgXCIgKyB0aGlzLm5hbWV9O1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwidGhlIHJlZmVyZW5jZSBcIiArIHRoaXMubmFtZX07XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG4vLyB9O1xyXG5cclxuLyoqXHJcbiAqIExvb2tpbmcgdGhpcyBlbnRpdHkgdXAgYXQgcnVudGltZSB5aWVsZHMgdGhlIHJldHVybiBvYmplY3Qgb2YgdGhlIGNvbnRhaW5pbmcgcnVudGltZSBmdW5jdGlvbi5cclxuICogTm90ZSB0aGlzIGlzIGdlbmVyYWxseSBvbmx5IHNvbWV0aGluZyB5b3Ugd291bGQgd2FudCBpbiB0aGUgY29udGV4dCBvZiBhIHJldHVybi1ieS12YWx1ZVxyXG4gKiBmdW5jdGlvbiwgaW4gd2hpY2ggY2FzZSB0aGUgcmV0dXJuIG9iamVjdCBpcyBhIHRlbXBvcmFyeSBvYmplY3QgY3JlYXRlZCB0byBldmVudHVhbGx5IGJlIGluaXRpYWxpemVkXHJcbiAqIHdpdGggdGhlIHJldHVybmVkIHZhbHVlLiBJbiBhIHBhc3MtYnktcmVmZXJlbmNlIGZ1bmN0aW9uLCB0aGUgcmV0dXJuIG9iamVjdCB3aWxsIG9ubHkgZXhpc3Qgb25jZSB0aGVcclxuICogcmV0dXJuIGhhcyBiZWVuIHByb2Nlc3NlZCBhbmQgaXQgaXMgc2V0IHRvIHRoZSByZXR1cm5lZCBvYmplY3QuIEluIHZvaWQgZnVuY3Rpb24sIHRoZXJlIGlzIG5vIHJldHVyblxyXG4gKiBvYmplY3QuXHJcbiAqIEB0aHJvd3MgVGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiB0aGUgcmV0dXJuIG9iamVjdCBkb2VzIG5vdCBleGlzdC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBSZXR1cm5PYmplY3RFbnRpdHkgZXh0ZW5kcyBDUFBFbnRpdHk8T2JqZWN0VHlwZT4gaW1wbGVtZW50cyBPYmplY3RFbnRpdHk8T2JqZWN0VHlwZT4ge1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcnVudGltZUxvb2t1cChydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCkgOiBDUFBPYmplY3Q8T2JqZWN0VHlwZT4ge1xyXG4gICAgICAgIGxldCByZXR1cm5PYmplY3QgPSBydENvbnN0cnVjdC5jb250YWluaW5nUnVudGltZUZ1bmN0aW9uLnJldHVybk9iamVjdDtcclxuICAgICAgICBpZiAoIXJldHVybk9iamVjdCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcIkVycm9yOiBSdW50aW1lIGxvb2t1cCBwZXJmb3JtZWQgZm9yIHRoZSByZXR1cm4gb2JqZWN0IG9mIGEgZnVuY3Rpb24sIGJ1dCB0aGUgcmV0dXJuIG9iamVjdCBkb2VzIG5vdCBjdXJyZW50bHkgZXhpc3QuXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXR1cm5PYmplY3Q7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBkZXNjcmliZSgpIHtcclxuICAgICAgICAvLyBUT0RPOiBhZGQgaW5mbyBhYm91dCB3aGljaCBmdW5jdGlvbj8gd291bGQgbmVlZCB0byBiZSBzcGVjaWZpZWQgd2hlbiB0aGUgcmV0dXJuIHZhbHVlIGlzIGNyZWF0ZWRcclxuICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwidGhlIHJldHVybiBvYmplY3RcIn07XHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgUmV0dXJuQnlSZWZlcmVuY2VFbnRpdHk8VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiBleHRlbmRzIENQUEVudGl0eTxUPiBpbXBsZW1lbnRzIFVuYm91bmRSZWZlcmVuY2VFbnRpdHk8VD4ge1xyXG4gICAgXHJcbiAgICBwdWJsaWMgYmluZFRvKHJ0Q29uc3RydWN0IDogUnVudGltZUNvbnN0cnVjdCwgb2JqOiBDUFBPYmplY3Q8VD4pIHtcclxuICAgICAgICAvLyBBc3N1bWUgYSBSZXR1cm5CeVJlZmVyZW5jZUVudGl0eSB3aWxsIG9ubHkgYmUgYm91bmQgaW4gdGhlIGNvbnRleHQgb2YgYSByZXR1cm5cclxuICAgICAgICAvLyBmb3IgYSByZXR1cm4tYnktcmVmZXJlbmNlIGZ1bmN0aW9uLCB0aHVzIHRoZSBjYXN0XHJcbiAgICAgICAgbGV0IGZ1bmMgPSA8UnVudGltZUZ1bmN0aW9uPFJlZmVyZW5jZVR5cGU8VD4+PnJ0Q29uc3RydWN0LmNvbnRhaW5pbmdSdW50aW1lRnVuY3Rpb247XHJcbiAgICAgICAgZnVuYy5zZXRSZXR1cm5PYmplY3Qob2JqKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzY3JpYmUoKSB7XHJcbiAgICAgICAgLy8gVE9ETzogYWRkIGluZm8gYWJvdXQgd2hpY2ggZnVuY3Rpb24/IHdvdWxkIG5lZWQgdG8gYmUgc3BlY2lmaWVkIHdoZW4gdGhlIHJldHVybiB2YWx1ZSBpcyBjcmVhdGVkXHJcbiAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcInRoZSBvYmplY3QgcmV0dXJuZWQgYnkgcmVmZXJlbmNlXCJ9O1xyXG4gICAgfVxyXG59O1xyXG5cclxuLy8gVE9ETzogZGV0ZXJtaW5lIHdoYXQgc2hvdWxkIGFjdHVhbGx5IGJlIHRoZSBiYXNlIGNsYXNzIGhlcmVcclxuLy8gVE9ETzogSSB0aGluayB0aGlzIHNob3VsZCBiZSBhbiBvYmplY3Q/XHJcbi8vIFRPRE86IEkgZG9uJ3QgdGhpbmsgdGhpcyBzaG91bGQgYmUgYW4gb2JqZWN0ISBNb3ZlIHRvIHJ1bnRpbWVFbnZpcm9ubWVudC50cz9cclxuLy8gVE9ETzogSXMgdGhpcyBuZWVkZWQ/IENhbiB3aGVyZXZlciB1c2VzIGl0IGp1c3Qga2VlcCB0cmFjayBvZiB0aGUgYWN0dWFsIG9iamVjdHM/XHJcbi8vIGV4cG9ydCBjbGFzcyBSdW50aW1lUmVmZXJlbmNlPFQgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZT4ge1xyXG5cclxuLy8gICAgIHB1YmxpYyByZWFkb25seSBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUodGhpcyk7XHJcblxyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IGVudGl0eTogQm91bmRSZWZlcmVuY2VFbnRpdHk8VD47XHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgcmVmZXJzVG86IENQUE9iamVjdDxUPjtcclxuXHJcbi8vICAgICBwdWJsaWMgY29uc3RydWN0b3IoZW50aXR5OiBCb3VuZFJlZmVyZW5jZUVudGl0eTxUPiwgcmVmZXJzVG86IENQUE9iamVjdDxUPikge1xyXG4vLyAgICAgICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xyXG4gICAgICAgIFxyXG5cclxuLy8gICAgICAgICB0aGlzLnJlZmVyc1RvID0gcmVmZXJzVG87XHJcbi8vICAgICAgICAgLy8gSW5pdGlhbGx5IHJlZmVycyB0byBhIGRlYWQgb2JqZWN0IGF0IGFkZHJlc3MgMFxyXG4vLyAgICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBiYWQgaWRlYSwgc28gSSByZW1vdmVkIGl0XHJcbi8vICAgICAgICAgLy8gdGhpcy5yZWZlcnNUbyA9IG5ldyBBbm9ueW1vdXNPYmplY3QodGhpcy5lbnRpdHkudHlwZSwgbWVtb3J5LCAwKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICAvLyBwdWJsaWMgYmluZFRvKHJlZmVyc1RvOiBDUFBPYmplY3QpIHtcclxuLy8gICAgIC8vICAgICAoPHR5cGVvZiBSdW50aW1lUmVmZXJlbmNlLnByb3RvdHlwZS5yZWZlcnNUbz50aGlzLnJlZmVyc1RvKSA9IHJlZmVyc1RvO1xyXG4vLyAgICAgLy8gICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwiYm91bmRcIik7XHJcbi8vICAgICAvLyB9XHJcblxyXG4vLyAgICAgcHVibGljIGRlc2NyaWJlKCkge1xyXG4vLyAgICAgICAgIGlmICh0aGlzLnJlZmVyc1RvKSB7XHJcbi8vICAgICAgICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJ0aGUgcmVmZXJlbmNlIFwiICsgdGhpcy5lbnRpdHkubmFtZSArIFwiICh3aGljaCBpcyBib3VuZCB0byBcIiArIHRoaXMucmVmZXJzVG8uZGVzY3JpYmUoKS5tZXNzYWdlICsgXCIpXCJ9O1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNlIHtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcInRoZSByZWZlcmVuY2UgXCIgKyB0aGlzLmVudGl0eS5uYW1lICsgXCIgKHdoaWNoIGhhcyBub3QgeWV0IGJlZW4gYm91bmQgdG8gYW4gb2JqZWN0KVwifTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcbi8vIH07XHJcblxyXG5leHBvcnQgY2xhc3MgU3RyaW5nTGl0ZXJhbEVudGl0eSBleHRlbmRzIENQUEVudGl0eTxCb3VuZGVkQXJyYXlUeXBlPiBpbXBsZW1lbnRzIE9iamVjdEVudGl0eTxCb3VuZGVkQXJyYXlUeXBlPiB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHN0cjogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGUhOiBCb3VuZGVkQXJyYXlUeXBlPENoYXI+OyAvLyBoYW5kbGVkIGJ5IHBhcmVudFxyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihzdHI6IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKG5ldyBCb3VuZGVkQXJyYXlUeXBlKG5ldyBDaGFyKHRydWUpLCBzdHIubGVuZ3RoICsgMSkpOyAvLyArIDEgZm9yIG51bGwgY2hhclxyXG4gICAgICAgIHRoaXMuc3RyID0gc3RyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvYmplY3RJbnN0YW5jZShtZW1vcnk6IE1lbW9yeSwgYWRkcmVzczogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTdHJpbmdMaXRlcmFsT2JqZWN0KHRoaXMudHlwZSwgbWVtb3J5LCBhZGRyZXNzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwic3RyaW5nIGxpdGVyYWwgXFxcIlwiICsgdW5lc2NhcGVTdHJpbmcodGhpcy5zdHIpICsgXCJcXFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJ1bnRpbWVMb29rdXAocnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICByZXR1cm4gcnRDb25zdHJ1Y3Quc2ltLm1lbW9yeS5nZXRTdHJpbmdMaXRlcmFsKHRoaXMuc3RyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzY3JpYmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcInRoZSBzdHJpbmcgbGl0ZXJhbCBcXFwiXCIgKyB1bmVzY2FwZVN0cmluZyh0aGlzLnN0cikgKyBcIlxcXCJcIn07XHJcbiAgICB9XHJcbn07XHJcblxyXG4vLyBUT0RPOiB3aWxsIG5lZWQgdG8gYWRkIGEgY2xhc3MgZm9yIFJlZmVyZW5jZVBhcmFtZXRlckVudGl0eVxyXG5leHBvcnQgY2xhc3MgUGFzc0J5VmFsdWVQYXJhbWV0ZXJFbnRpdHk8VCBleHRlbmRzIE9iamVjdFR5cGU+IGV4dGVuZHMgQ1BQRW50aXR5PFQ+IGltcGxlbWVudHMgT2JqZWN0RW50aXR5PFQ+IHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2FsbGVkRnVuY3Rpb246IEZ1bmN0aW9uRW50aXR5O1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGU6IFQ7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbnVtOiBudW1iZXI7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNhbGxlZEZ1bmN0aW9uOiBGdW5jdGlvbkVudGl0eSwgdHlwZTogVCwgbnVtOiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlcih0eXBlKTtcclxuICAgICAgICB0aGlzLmNhbGxlZEZ1bmN0aW9uID0gY2FsbGVkRnVuY3Rpb247XHJcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcclxuICAgICAgICB0aGlzLm51bSA9IG51bTtcclxuICAgICAgICBhc3NlcnQoc2FtZVR5cGUoY2FsbGVkRnVuY3Rpb24udHlwZS5wYXJhbVR5cGVzW251bV0sIHR5cGUpLCBcIkluY29uc2lzdGVudCB0eXBlIGZvciBwYXJhbWV0ZXIgZW50aXR5LlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcnVudGltZUxvb2t1cChydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgICAgIC8vIEdldHRpbmcgdGhlIGZ1bmN0aW9uIGF0IHJ1bnRpbWUgYWxyZWFkeSB0YWtlcyBjYXJlIG9mIHBvbHltb3JwaGlzbSBmb3IgdmlydHVhbCBmdW5jdGlvbnNcclxuICAgICAgICAvLyBOb3RlOiBydENvbnN0cnVjdC5jb250YWluaW5nUnVudGltZUZ1bmN0aW9uIGlzIG5vdCBjb3JyZWN0IGhlcmUgc2luY2UgdGhlIGxvb2t1cCB3b3VsZCBvY2N1clxyXG4gICAgICAgIC8vIGluIHRoZSBjb250ZXh0IG9mIHRoZSBjYWxsaW5nIGZ1bmN0aW9uLCByYXRoZXIgdGhhbiB0aGUgY2FsbGVkIGZ1bmN0aW9uLlxyXG4gICAgICAgIHZhciBmdW5jID0gcnRDb25zdHJ1Y3Quc2ltLnRvcEZ1bmN0aW9uKCkhO1xyXG5cclxuICAgICAgICAvLyBMb29rIHVwIHRoZSBwYXJhbWV0ZXIgKGFzIGEgbG9jYWwgdmFyaWFibGUpIGluIHRoZSBjb250ZXh0IG9mIHRoZSB0b3AgZnVuY3Rpb24gb24gdGhlIHN0YWNrLlxyXG4gICAgICAgIGxldCBwYXJhbSA9IGZ1bmMubW9kZWwucGFyYW1ldGVyc1t0aGlzLm51bV0uZGVjbGFyZWRFbnRpdHk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCEocGFyYW0gaW5zdGFuY2VvZiBBdXRvRW50aXR5KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXNzZXJ0RmFsc2UoXCJQYXNzIGJ5IHZhbHVlIHVzZWQgd2l0aCByZWZlcmVuY2UgcGFyYW1ldGVyLlwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBwYXJhbU9iaiA9IHBhcmFtLnJ1bnRpbWVMb29rdXAoZnVuYyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgYXNzZXJ0KHNhbWVUeXBlKHBhcmFtT2JqLnR5cGUsIHRoaXMudHlwZSkpO1xyXG4gICAgICAgIHJldHVybiA8QXV0b09iamVjdDxUPj5wYXJhbU9iajtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzY3JpYmUoKSB7XHJcbiAgICAgICAgbGV0IGRlZmluaXRpb24gPSB0aGlzLmNhbGxlZEZ1bmN0aW9uLmRlZmluaXRpb247XHJcbiAgICAgICAgaWYgKGRlZmluaXRpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRlZmluaXRpb24ucGFyYW1ldGVyc1t0aGlzLm51bV0uZGVjbGFyZWRFbnRpdHkuZGVzY3JpYmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7bWVzc2FnZTogYFBhcmFtZXRlciAjJHt0aGlzLm51bSsxfSBvZiB0aGUgY2FsbGVkIGZ1bmN0aW9uYH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBQYXNzQnlSZWZlcmVuY2VQYXJhbWV0ZXJFbnRpdHk8VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiBleHRlbmRzIENQUEVudGl0eTxUPiBpbXBsZW1lbnRzIFVuYm91bmRSZWZlcmVuY2VFbnRpdHk8VD4ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBjYWxsZWRGdW5jdGlvbjogRnVuY3Rpb25FbnRpdHk7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZTogVDtcclxuICAgIHB1YmxpYyByZWFkb25seSBudW06IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY2FsbGVkRnVuY3Rpb246IEZ1bmN0aW9uRW50aXR5LCB0eXBlOiBULCBudW06IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyKHR5cGUpO1xyXG4gICAgICAgIHRoaXMuY2FsbGVkRnVuY3Rpb24gPSBjYWxsZWRGdW5jdGlvbjtcclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgICAgIHRoaXMubnVtID0gbnVtO1xyXG4gICAgICAgIGFzc2VydChzYW1lVHlwZShjYWxsZWRGdW5jdGlvbi50eXBlLnBhcmFtVHlwZXNbbnVtXSwgdHlwZSksIFwiSW5jb25zaXN0ZW50IHR5cGUgZm9yIHBhcmFtZXRlciBlbnRpdHkuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBiaW5kVG8ocnRDb25zdHJ1Y3QgOiBSdW50aW1lQ29uc3RydWN0LCBvYmo6IENQUE9iamVjdDxUPikge1xyXG4gICAgICAgIC8vIEdldHRpbmcgdGhlIGZ1bmN0aW9uIGF0IHJ1bnRpbWUgYWxyZWFkeSB0YWtlcyBjYXJlIG9mIHBvbHltb3JwaGlzbSBmb3IgdmlydHVhbCBmdW5jdGlvbnNcclxuICAgICAgICAvLyBOb3RlOiBydENvbnN0cnVjdC5jb250YWluaW5nUnVudGltZUZ1bmN0aW9uIGlzIG5vdCBjb3JyZWN0IGhlcmUgc2luY2UgdGhlIGxvb2t1cCB3b3VsZCBvY2N1clxyXG4gICAgICAgIC8vIGluIHRoZSBjb250ZXh0IG9mIHRoZSBjYWxsaW5nIGZ1bmN0aW9uLCByYXRoZXIgdGhhbiB0aGUgY2FsbGVkIGZ1bmN0aW9uLlxyXG4gICAgICAgIHZhciBmdW5jID0gcnRDb25zdHJ1Y3Quc2ltLnRvcEZ1bmN0aW9uKCkhO1xyXG5cclxuICAgICAgICAvLyBMb29rIHVwIHRoZSBwYXJhbWV0ZXIgKGFzIGEgbG9jYWwgdmFyaWFibGUpIGluIHRoZSBjb250ZXh0IG9mIHRoZSB0b3AgZnVuY3Rpb24gb24gdGhlIHN0YWNrLlxyXG4gICAgICAgIGxldCBwYXJhbSA9IGZ1bmMubW9kZWwucGFyYW1ldGVyc1t0aGlzLm51bV0uZGVjbGFyZWRFbnRpdHk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCEocGFyYW0gaW5zdGFuY2VvZiBMb2NhbFJlZmVyZW5jZUVudGl0eSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFzc2VydEZhbHNlKFwiUGFzcyBieSByZWZlcmVuY2UgdXNlZCB3aXRoIG5vbi1yZWZlcmVuY2UgcGFyYW1ldGVyLlwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHBhcmFtLmJpbmRUbyhmdW5jLCBvYmopO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGRlc2NyaWJlKCkge1xyXG4gICAgICAgIGxldCBkZWZpbml0aW9uID0gdGhpcy5jYWxsZWRGdW5jdGlvbi5kZWZpbml0aW9uO1xyXG4gICAgICAgIGlmIChkZWZpbml0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkZWZpbml0aW9uLnBhcmFtZXRlcnNbdGhpcy5udW1dLmRlY2xhcmVkRW50aXR5LmRlc2NyaWJlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4ge21lc3NhZ2U6IGBQYXJhbWV0ZXIgIyR7dGhpcy5udW0rMX0gb2YgdGhlIGNhbGxlZCBmdW5jdGlvbmB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbi8vIGV4cG9ydCBjbGFzcyBSZWNlaXZlckVudGl0eSBleHRlbmRzIENQUEVudGl0eTxDbGFzc1R5cGU+IGltcGxlbWVudHMgT2JqZWN0RW50aXR5PENsYXNzVHlwZT4ge1xyXG4vLyAgICAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfbmFtZTogXCJSZWNlaXZlckVudGl0eVwiO1xyXG5cclxuLy8gICAgIC8vIHN0b3JhZ2U6IFwiYXV0b21hdGljXCIsXHJcbiAgICBcclxuLy8gICAgIGNvbnN0cnVjdG9yKHR5cGU6IFQpIHtcclxuLy8gICAgICAgICBzdXBlcih0eXBlKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgdG9TdHJpbmcoKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIFwiZnVuY3Rpb24gcmVjZWl2ZXIgKFwiICsgdGhpcy50eXBlICsgXCIpXCI7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIHJ1bnRpbWVMb29rdXAocnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuLy8gICAgICAgICByZXR1cm4gcnRDb25zdHJ1Y3QuY29udGV4dHVhbFJlY2VpdmVyKCk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIGRlc2NyaWJlKCkge1xyXG4vLyAgICAgICAgIC8vIGlmIChydENvbnN0cnVjdCl7XHJcbi8vICAgICAgICAgLy8gICAgIHJldHVybiB7bWVzc2FnZTogXCJ0aGUgcmVjZWl2ZXIgb2YgdGhpcyBjYWxsIHRvIFwiICsgcnRDb25zdHJ1Y3QuY29udGFpbmluZ1J1bnRpbWVGdW5jdGlvbigpLmRlc2NyaWJlKCkubWVzc2FnZSArIFwiIChpLmUuICp0aGlzKSBcIn07XHJcbi8vICAgICAgICAgLy8gfVxyXG4vLyAgICAgICAgIC8vIGVsc2Uge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwidGhlIHJlY2VpdmVyIG9mIHRoaXMgY2FsbCAoaS5lLiAqdGhpcylcIn07XHJcbi8vICAgICAgICAgLy8gfVxyXG4vLyAgICAgfVxyXG4vLyB9O1xyXG5cclxuXHJcblxyXG4vLyBleHBvcnQgY2xhc3MgTmV3T2JqZWN0RW50aXR5PFQgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZT4gZXh0ZW5kcyBDUFBFbnRpdHk8VD4gaW1wbGVtZW50cyBPYmplY3RFbnRpdHk8VD4ge1xyXG4vLyAgICAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfbmFtZSA9IFwiTmV3T2JqZWN0RW50aXR5XCI7XHJcblxyXG4vLyAgICAgLy8gc3RvcmFnZTogXCJhdXRvbWF0aWNcIixcclxuICAgIFxyXG4vLyAgICAgcHVibGljIHRvU3RyaW5nKCkge1xyXG4vLyAgICAgICAgIHJldHVybiBcIm9iamVjdCAoXCIgKyB0aGlzLnR5cGUgKyBcIilcIjtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgcnVudGltZUxvb2t1cChydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4vLyAgICAgICAgIC8vIG5vIGFkZGl0aW9uYWwgcnVudGltZUxvb2t1cCgpIG5lZWRlZCBvbiB0aGUgb2JqZWN0IHNpbmNlIGl0IHdpbGwgbmV2ZXIgYmUgYSByZWZlcmVuY2VcclxuLy8gICAgICAgICByZXR1cm4gcnRDb25zdHJ1Y3QuZ2V0QWxsb2NhdGVkT2JqZWN0KCk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIGRlc2NyaWJlKCkge1xyXG4vLyAgICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJ0aGUgZHluYW1pY2FsbHkgYWxsb2NhdGVkIG9iamVjdCAob2YgdHlwZSBcIit0aGlzLnR5cGUrXCIpIGNyZWF0ZWQgYnkgbmV3XCJ9O1xyXG4vLyAgICAgfVxyXG5cclxuLy8gfTtcclxuXHJcbmV4cG9ydCBjbGFzcyBBcnJheVN1Ym9iamVjdEVudGl0eTxUIGV4dGVuZHMgQXJyYXlFbGVtVHlwZSA9IEFycmF5RWxlbVR5cGU+IGV4dGVuZHMgQ1BQRW50aXR5PFQ+IGltcGxlbWVudHMgT2JqZWN0RW50aXR5PFQ+IHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgYXJyYXlFbnRpdHk6IE9iamVjdEVudGl0eTxCb3VuZGVkQXJyYXlUeXBlPFQ+PjtcclxuICAgIHB1YmxpYyByZWFkb25seSBpbmRleDogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGFycmF5RW50aXR5OiBPYmplY3RFbnRpdHk8Qm91bmRlZEFycmF5VHlwZTxUPj4sIGluZGV4OiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlcihhcnJheUVudGl0eS50eXBlLmVsZW1UeXBlKTtcclxuICAgICAgICB0aGlzLmFycmF5RW50aXR5ID0gYXJyYXlFbnRpdHk7XHJcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBydW50aW1lTG9va3VwKHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJyYXlFbnRpdHkucnVudGltZUxvb2t1cChydENvbnN0cnVjdCkuZ2V0QXJyYXlFbGVtU3Vib2JqZWN0KHRoaXMuaW5kZXgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZXNjcmliZSgpIHtcclxuICAgICAgICBsZXQgYXJyRGVzYyA9IHRoaXMuYXJyYXlFbnRpdHkuZGVzY3JpYmUoKTtcclxuICAgICAgICBsZXQgZGVzYyA6IERlc2NyaXB0aW9uID0ge1xyXG4gICAgICAgICAgICBtZXNzYWdlOiBcImVsZW1lbnQgXCIgKyB0aGlzLmluZGV4ICsgXCIgb2YgXCIgKyBhcnJEZXNjLm1lc3NhZ2VcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmIChhcnJEZXNjLm5hbWUpe1xyXG4gICAgICAgICAgICBkZXNjLm5hbWUgPSBhcnJEZXNjLm5hbWUgKyBcIltcIiArIHRoaXMuaW5kZXggKyBcIl1cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRlc2M7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIGV4cG9ydCBjbGFzcyBCYXNlU3Vib2JqZWN0RW50aXR5IGV4dGVuZHMgQ1BQRW50aXR5PENsYXNzVHlwZT4gaW1wbGVtZW50cyBPYmplY3RFbnRpdHk8Q2xhc3NUeXBlPiB7XHJcblxyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IGNvbnRhaW5pbmdFbnRpdHk6IE9iamVjdEVudGl0eTxDbGFzc1R5cGU+O1xyXG5cclxuLy8gICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5pbmdFbnRpdHk6IE9iamVjdEVudGl0eTxDbGFzc1R5cGU+LCB0eXBlOiBDbGFzc1R5cGUpIHtcclxuLy8gICAgICAgICBzdXBlcih0eXBlKTtcclxuLy8gICAgICAgICB0aGlzLmNvbnRhaW5pbmdFbnRpdHkgPSBjb250YWluaW5nRW50aXR5O1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBydW50aW1lTG9va3VwKHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbi8vICAgICAgICAgLy8gVE9ETzogY2hlY2sgb24gbm9uLW51bGwgYXNzZXJ0aW9uIGJlbG93XHJcbi8vICAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmluZ0VudGl0eS5ydW50aW1lTG9va3VwKHJ0Q29uc3RydWN0KS5nZXRCYXNlU3Vib2JqZWN0KCkhO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBkZXNjcmliZSgpIHtcclxuLy8gICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwidGhlIFwiICsgdGhpcy50eXBlLmNwcENsYXNzLm5hbWUgKyBcIiBiYXNlIGNsYXNzIHN1Ym9iamVjdCBvZiBcIiArIHRoaXMuY29udGFpbmluZ0VudGl0eS5kZXNjcmliZSgpfTtcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuXHJcblxyXG4vLyBleHBvcnQgY2xhc3MgTWVtYmVyU3Vib2JqZWN0RW50aXR5PFQgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZT4gZXh0ZW5kcyBDUFBFbnRpdHk8VD4gaW1wbGVtZW50cyBPYmplY3RFbnRpdHk8VD4ge1xyXG5cclxuLy8gICAgIHB1YmxpYyByZWFkb25seSBjb250YWluaW5nRW50aXR5OiBPYmplY3RFbnRpdHk8Q2xhc3NUeXBlPjtcclxuLy8gICAgIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmc7XHJcblxyXG4vLyAgICAgY29uc3RydWN0b3IoY29udGFpbmluZ0VudGl0eTogT2JqZWN0RW50aXR5PENsYXNzVHlwZT4sIHR5cGU6IFQsIG5hbWU6IHN0cmluZykge1xyXG4vLyAgICAgICAgIHN1cGVyKHR5cGUpO1xyXG4vLyAgICAgICAgIHRoaXMuY29udGFpbmluZ0VudGl0eSA9IGNvbnRhaW5pbmdFbnRpdHk7XHJcbi8vICAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgcnVudGltZUxvb2t1cChydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4vLyAgICAgICAgIC8vIFRPRE86IGNoZWNrIG9uIGNhc3QgYmVsb3dcclxuLy8gICAgICAgICByZXR1cm4gPE1lbWJlclN1Ym9iamVjdDxUPj50aGlzLmNvbnRhaW5pbmdFbnRpdHkucnVudGltZUxvb2t1cChydENvbnN0cnVjdCkuZ2V0TWVtYmVyU3Vib2JqZWN0KHRoaXMubmFtZSk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIGRlc2NyaWJlKCkge1xyXG4vLyAgICAgICAgIGxldCBjb250YWluaW5nT2JqZWN0RGVzYyA9IHRoaXMuY29udGFpbmluZ0VudGl0eS5kZXNjcmliZSgpO1xyXG4vLyAgICAgICAgIGxldCBkZXNjIDogRGVzY3JpcHRpb24gPSB7XHJcbi8vICAgICAgICAgICAgIG1lc3NhZ2U6IFwidGhlIFwiICsgdGhpcy5uYW1lICsgXCIgbWVtYmVyIG9mIFwiICsgY29udGFpbmluZ09iamVjdERlc2MubWVzc2FnZVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBpZiAoY29udGFpbmluZ09iamVjdERlc2MubmFtZSkge1xyXG4vLyAgICAgICAgICAgICBkZXNjLm5hbWUgPSBjb250YWluaW5nT2JqZWN0RGVzYy5uYW1lICsgXCIuXCIgKyB0aGlzLm5hbWVcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgcmV0dXJuIGRlc2M7XHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcbi8vIGV4cG9ydCBjbGFzcyBCYXNlQ2xhc3NFbnRpdHkgZXh0ZW5kcyBDUFBFbnRpdHk8Q2xhc3NUeXBlPiBpbXBsZW1lbnRzIE9iamVjdEVudGl0eTxDbGFzc1R5cGU+IHtcclxuLy8gICAgIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX25hbWUgPSBcIkJhc2VDbGFzc0VudGl0eVwiO1xyXG4vLyAgICAgLy8gc3RvcmFnZTogXCJub25lXCIsXHJcblxyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IGFjY2Vzczogc3RyaW5nO1xyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IG1lbWJlck9mVHlwZTogQ2xhc3NUeXBlO1xyXG5cclxuLy8gICAgIGNvbnN0cnVjdG9yKHR5cGU6IENsYXNzVHlwZSwgbWVtYmVyT2ZUeXBlOiBDbGFzc1R5cGUsIGFjY2Vzczogc3RyaW5nKSB7XHJcbi8vICAgICAgICAgc3VwZXIodHlwZSk7XHJcbi8vICAgICAgICAgdGhpcy5tZW1iZXJPZlR5cGUgPSBtZW1iZXJPZlR5cGU7XHJcbi8vICAgICAgICAgdGhpcy5hY2Nlc3MgPSBhY2Nlc3M7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIHRvU3RyaW5nKCkge1xyXG4vLyAgICAgICAgIHJldHVybiBcInRoZSBcIiArIHRoaXMudHlwZS5jbGFzc05hbWUgKyBcIiBiYXNlIG9iamVjdCBvZiBcIiArIHRoaXMubWVtYmVyT2ZUeXBlLmNsYXNzTmFtZTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgcnVudGltZUxvb2t1cChydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4vLyAgICAgICAgIHZhciByZWNPYmogPSBydENvbnN0cnVjdC5jb250ZXh0dWFsUmVjZWl2ZXIoKTtcclxuXHJcbi8vICAgICAgICAgd2hpbGUocmVjT2JqICYmICEocmVjT2JqLnR5cGUgaW5zdGFuY2VvZiB0aGlzLnR5cGUpKXsgLy8gVE9ETzogdGhpcyBpc0Egc2hvdWxkIHByb2JhYmx5IGJlIGNoYW5nZWQgdG8gYSB0eXBlIGZ1bmN0aW9uXHJcbi8vICAgICAgICAgICAgIHJlY09iaiA9IHJlY09iai50eXBlLmdldEJhc2VDbGFzcygpICYmIHJlY09iai5pX2Jhc2VTdWJvYmplY3RzWzBdO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBVdGlsLmFzc2VydChyZWNPYmosIFwiSW50ZXJuYWwgbG9va3VwIGZhaWxlZCB0byBmaW5kIHN1Ym9iamVjdCBpbiBjbGFzcyBvciBiYXNlIGNsYXNzZXMuXCIpO1xyXG5cclxuLy8gICAgICAgICByZXR1cm4gcmVjT2JqO1xyXG4vLyAgICAgfVxyXG4gICAgXHJcbi8vICAgICBwdWJsaWMgb2JqZWN0SW5zdGFuY2UocGFyZW50T2JqOiBDUFBPYmplY3Q8Q2xhc3NUeXBlPiwgbWVtb3J5OiBNZW1vcnksIGFkZHJlc3M6IG51bWJlcikge1xyXG4vLyAgICAgICAgIHJldHVybiBuZXcgQmFzZVN1Ym9iamVjdChwYXJlbnRPYmosIHRoaXMudHlwZSwgbWVtb3J5LCBhZGRyZXNzKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgZGVzY3JpYmUoKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcInRoZSBcIiArIHRoaXMudHlwZS5jbGFzc05hbWUgKyBcIiBiYXNlIG9iamVjdCBvZiBcIiArIHRoaXMubWVtYmVyT2ZUeXBlLmNsYXNzTmFtZX07XHJcbi8vICAgICB9XHJcbi8vIH07XHJcblxyXG4vLyAvLyBUT0RPOiBuZWVkIGNsYXNzIGZvciByZWZlcmVuY2UgbWVtYmVyc1xyXG4vLyBleHBvcnQgY2xhc3MgTWVtYmVyVmFyaWFibGVFbnRpdHk8VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiBleHRlbmRzIERlY2xhcmVkRW50aXR5PFQ+IGltcGxlbWVudHMgT2JqZWN0RW50aXR5PFQ+IHtcclxuLy8gICAgIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX25hbWUgPSBcIk1lbWJlclZhcmlhYmxlRW50aXR5XCI7XHJcbi8vICAgICAvLyBzdG9yYWdlOiBcIm5vbmVcIixcclxuXHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgYWNjZXNzOiBzdHJpbmc7XHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgbWVtYmVyT2ZUeXBlOiBUeXBlcy5DbGFzcztcclxuXHJcbi8vICAgICBwdWJsaWMgY29uc3RydWN0b3IoZGVjbDogU2ltcGxlRGVjbGFyYXRpb24sIG1lbWJlck9mVHlwZTogVHlwZXMuQ2xhc3MpIHtcclxuLy8gICAgICAgICBzdXBlcihkZWNsKTtcclxuLy8gICAgICAgICB0aGlzLm1lbWJlck9mVHlwZSA9IG1lbWJlck9mVHlwZTtcclxuLy8gICAgICAgICB0aGlzLmFjY2VzcyA9IGRlY2wuYWNjZXNzO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyB0b1N0cmluZygpIHtcclxuLy8gICAgICAgICByZXR1cm4gdGhpcy5uYW1lICsgXCIgKFwiICsgdGhpcy50eXBlICsgXCIpXCI7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIHJ1bnRpbWVMb29rdXAocnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuLy8gICAgICAgICB2YXIgcmVjT2JqID0gcnRDb25zdHJ1Y3QuY29udGV4dHVhbFJlY2VpdmVyKCk7XHJcblxyXG4vLyAgICAgICAgIHdoaWxlKHJlY09iaiAmJiAhcmVjT2JqLnR5cGUuc2ltaWxhclR5cGUodGhpcy5tZW1iZXJPZlR5cGUpKSB7XHJcbi8vICAgICAgICAgICAgIHJlY09iaiA9IHJlY09iai50eXBlLmdldEJhc2VDbGFzcygpICYmIHJlY09iai5pX2Jhc2VTdWJvYmplY3RzWzBdO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgYXNzZXJ0KHJlY09iaiwgXCJJbnRlcm5hbCBsb29rdXAgZmFpbGVkIHRvIGZpbmQgc3Vib2JqZWN0IGluIGNsYXNzIG9yIGJhc2UgY2xhc3NzZXMuXCIpO1xyXG5cclxuLy8gICAgICAgICByZXR1cm4gcmVjT2JqLmdldE1lbWJlclN1Ym9iamVjdCh0aGlzLm5hbWUpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBvYmplY3RJbnN0YW5jZShwYXJlbnRPYmo6IENQUE9iamVjdDxDbGFzc1R5cGU+LCBtZW1vcnk6IE1lbW9yeSwgYWRkcmVzczogbnVtYmVyKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIG5ldyBNZW1iZXJTdWJvYmplY3QocGFyZW50T2JqLCB0aGlzLnR5cGUsIHRoaXMubmFtZSwgbWVtb3J5LCBhZGRyZXNzKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgZGVzY3JpYmUoKSB7XHJcbi8vICAgICAgICAgaWYgKHJ0Q29uc3RydWN0KXtcclxuLy8gICAgICAgICAgICAgdmFyIHJlY09iaiA9IHJ0Q29uc3RydWN0LmNvbnRleHR1YWxSZWNlaXZlcigpO1xyXG4vLyAgICAgICAgICAgICBpZiAocmVjT2JqLm5hbWUpe1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIHttZXNzYWdlOiByZWNPYmoubmFtZSArIFwiLlwiICsgdGhpcy5uYW1lfTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcInRoZSBtZW1iZXIgXCIgKyB0aGlzLm5hbWUgKyBcIiBvZiBcIiArIHJlY09iai5kZXNjcmliZSgpLm1lc3NhZ2V9O1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgIHJldHVybiB7XHJcbi8vICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm1lbWJlck9mVHlwZS5jbGFzc05hbWUgKyBcIi5cIiArIHRoaXMubmFtZSxcclxuLy8gICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwidGhlIFwiICsgdGhpcy5uYW1lICsgXCIgbWVtYmVyIG9mIHRoZSBcIiArIHRoaXMubWVtYmVyT2ZUeXBlLmNsYXNzTmFtZSArIFwiIGNsYXNzXCJcclxuLy8gICAgICAgICAgICAgfTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcbmV4cG9ydCBjbGFzcyBUZW1wb3JhcnlPYmplY3RFbnRpdHk8VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiBleHRlbmRzIENQUEVudGl0eTxUPiBpbXBsZW1lbnRzIE9iamVjdEVudGl0eTxUPiB7XHJcbiAgICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9uYW1lID0gXCJUZW1wb3JhcnlPYmplY3RFbnRpdHlcIjtcclxuICAgIC8vIHN0b3JhZ2U6IFwidGVtcFwiLFxyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBjcmVhdG9yOiBQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbjtcclxuICAgIHB1YmxpYyByZWFkb25seSBvd25lcjogUG90ZW50aWFsRnVsbEV4cHJlc3Npb247XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHR5cGU6IFQsIGNyZWF0b3I6IFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uLCBvd25lcjogUG90ZW50aWFsRnVsbEV4cHJlc3Npb24sIGRlc2NyaXB0aW9uOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcih0eXBlKTtcclxuICAgICAgICB0aGlzLmNyZWF0b3IgPSBjcmVhdG9yO1xyXG4gICAgICAgIHRoaXMub3duZXIgPSBvd25lcjtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lOyAvLyBUT0RPOiBjaGFuZ2Ugd2hlbiBJIGNoZWNrIG92ZXIgdXNhZ2VzIG9mIC5uYW1lIGFuZCByZXBsYWNlIHdpdGggZGVzY3JpcHRpb24gb3Igc29tZXRoaW5nXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldE93bmVyKG5ld093bmVyOiBQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbikge1xyXG4gICAgICAgICg8TXV0YWJsZTx0aGlzPj50aGlzKS5vd25lciA9IG5ld093bmVyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvYmplY3RJbnN0YW5jZShjcmVhdG9yUnQ6IFJ1bnRpbWVQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbikge1xyXG5cclxuICAgICAgICBsZXQgb2JqSW5zdCA6IFRlbXBvcmFyeU9iamVjdDxUPiA9IGNyZWF0b3JSdC5zaW0ubWVtb3J5LmFsbG9jYXRlVGVtcG9yYXJ5T2JqZWN0KHRoaXMpO1xyXG5cclxuICAgICAgICBsZXQgb3duZXIgPSBjcmVhdG9yUnQuY29udGFpbmluZ0Z1bGxFeHByZXNzaW9uO1xyXG4gICAgICAgIG93bmVyLnRlbXBvcmFyeU9iamVjdHNbdGhpcy5lbnRpdHlJZF0gPSBvYmpJbnN0O1xyXG4gICAgICAgIHJldHVybiBvYmpJbnN0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBydW50aW1lTG9va3VwKHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgLy8gU29tZSBoYWNreSBjYXN0cyBhbmQgYXNzZXJ0aW9ucyBpbiB0aGlzIGltcGxlbWVudGF0aW9uXHJcbiAgICAgICAgaWYgKCEocnRDb25zdHJ1Y3QgaW5zdGFuY2VvZiBSdW50aW1lUG90ZW50aWFsRnVsbEV4cHJlc3Npb24pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhc3NlcnRGYWxzZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gPFRlbXBvcmFyeU9iamVjdDxUPj5ydENvbnN0cnVjdC5jb250YWluaW5nRnVsbEV4cHJlc3Npb24udGVtcG9yYXJ5T2JqZWN0c1t0aGlzLmVudGl0eUlkXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzY3JpYmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHttZXNzYWdlOiB0aGlzLm5hbWV9OyAvLyBUT09EOiBldmVudHVhbGx5IGNoYW5nZSBpbXBsZW1lbnRhdGlvbiB3aGVuIEkgcmVtb3ZlIG5hbWVcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEZ1bmN0aW9uRW50aXR5IGV4dGVuZHMgRGVjbGFyZWRFbnRpdHlCYXNlPEZ1bmN0aW9uVHlwZT4ge1xyXG5cclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IHF1YWxpZmllZE5hbWU6IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSBkZWZpbml0aW9uPzogRnVuY3Rpb25EZWZpbml0aW9uO1xyXG4gICAgXHJcbiAgICAvLyBzdG9yYWdlOiBcInN0YXRpY1wiLFxyXG4gICAgY29uc3RydWN0b3IodHlwZTogRnVuY3Rpb25UeXBlLCBkZWNsOiBTaW1wbGVEZWNsYXJhdGlvbikge1xyXG4gICAgICAgIHN1cGVyKHR5cGUsIGRlY2wpO1xyXG4gICAgICAgIHRoaXMucXVhbGlmaWVkTmFtZSA9IFwiOjpcIiArIHRoaXMubmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNTdGF0aWNhbGx5Qm91bmQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBpc1ZpcnR1YWwoKSB7Ly8gVE9ETzogd2h5IGRvIHdlIGhhdmUgdGhpcyBmb3Igbm9uLW1lbWJlciBmdW5jdGlvbnMgYXMgd2VsbD9cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRvU3RyaW5nKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG5hbWVTdHJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIG1lcmdlSW50byhleGlzdGluZ0VudGl0eTogRGVjbGFyZWRPYmplY3RFbnRpdHkgfCBGdW5jdGlvbkVudGl0eVtdKSB7XHJcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGV4aXN0aW5nRW50aXR5KSkgeyAvLyBJdCdzIG5vdCBhIGZ1bmN0aW9uIG92ZXJsb2FkIGdyb3VwXHJcbiAgICAgICAgICAgIHRocm93IENQUEVycm9yLmRlY2xhcmF0aW9uLnR5cGVfbWlzbWF0Y2godGhpcy5kZWNsYXJhdGlvbiwgdGhpcywgZXhpc3RpbmdFbnRpdHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHsgLy8gSXQgaXMgYSBmdW5jdGlvbiBvdmVybG9hZCBncm91cCwgY2hlY2sgZWFjaCBvdGhlciBmdW5jdGlvbiBmb3VuZFxyXG4gICAgICAgICAgICBsZXQgbWF0Y2hpbmdGdW5jdGlvbiA9IHNlbGVjdE92ZXJsb2FkZWRFbnRpdHkoZXhpc3RpbmdFbnRpdHksIHRoaXMudHlwZSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoIW1hdGNoaW5nRnVuY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIG5vbmUgd2VyZSBmb3VuZCB3aXRoIHRoZSBzYW1lIHNpZ25hdHVyZSwgdGhpcyBpcyBhIG5ldyBvdmVybG9hZCwgc28gZ28gYWhlYWQgYW5kIGFkZCBpdFxyXG4gICAgICAgICAgICAgICAgZXhpc3RpbmdFbnRpdHkucHVzaCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBJZiB0aGV5IGhhdmUgbWlzbWF0Y2hlZCByZXR1cm4gdHlwZXMsIHRoYXQncyBhIHByb2JsZW0uXHJcbiAgICAgICAgICAgIGlmICghdGhpcy50eXBlLnNhbWVSZXR1cm5UeXBlKG1hdGNoaW5nRnVuY3Rpb24udHlwZSkpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IENQUEVycm9yLmRlY2xhcmF0aW9uLmZ1bmMucmV0dXJuVHlwZXNNYXRjaChbdGhpcy5kZWNsYXJhdGlvbiwgbWF0Y2hpbmdGdW5jdGlvbi5kZWNsYXJhdGlvbl0sIHRoaXMubmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEFzIGEgc2FuaXR5IGNoZWNrLCBtYWtlIHN1cmUgdGhleSdyZSB0aGUgc2FtZSB0eXBlLlxyXG4gICAgICAgICAgICAvLyBCdXQgdGhpcyBzaG91bGQgYWxyZWFkeSBiZSB0cnVlLCBnaXZlbiB0aGF0IHRoZXkgaGF2ZSB0aGUgc2FtZSBzaWduYXR1cmUgYW5kIHJldHVybiB0eXBlLlxyXG4gICAgICAgICAgICBpZiAoIXNhbWVUeXBlKHRoaXMudHlwZSwgbWF0Y2hpbmdGdW5jdGlvbi50eXBlKSkgeyAvLyBhbiBhcnJheSBpbmRpY2F0ZXMgYSBmdW5jdGlvbiBvdmVybG9hZCBncm91cCB3YXMgZm91bmRcclxuICAgICAgICAgICAgICAgIHRocm93IENQUEVycm9yLmRlY2xhcmF0aW9uLnR5cGVfbWlzbWF0Y2godGhpcy5kZWNsYXJhdGlvbiwgdGhpcywgbWF0Y2hpbmdGdW5jdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBtYXRjaGluZ0Z1bmN0aW9uO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBsaW5rKGRlZjogTGlua2VkRGVmaW5pdGlvbiB8IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGlmICghZGVmIHx8ICFBcnJheS5pc0FycmF5KGRlZikpIHtcclxuICAgICAgICAgICAgLy8gRWl0aGVyIHVuZGVmaW5lZCwgb3IgbGlua2VkIGFnYWluc3Qgc29tZXRoaW5nIG90aGVyIHRoYW4gYSBmdW5jdGlvbiBvdmVybG9hZCBncm91cFxyXG4gICAgICAgICAgICB0aGlzLmRlY2xhcmF0aW9uLmFkZE5vdGUoQ1BQRXJyb3IubGluay5mdW5jLmRlZl9ub3RfZm91bmQodGhpcy5kZWNsYXJhdGlvbiwgdGhpcykpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGZvdW5kIGFuIG92ZXJsb2FkIGdyb3VwIG9mIGZ1bmN0aW9uIGRlZmluaXRpb25zLCBjaGVjayBmb3Igb25lXHJcbiAgICAgICAgLy8gd2l0aCBtYXRjaGluZyBzaWduYXR1cmUgdG8gdGhlIGdpdmVuIGxpbmtlZCBlbnRpdHlcclxuICAgICAgICBsZXQgb3ZlcmxvYWQgPSBzZWxlY3RPdmVybG9hZGVkRGVmaW5pdGlvbihkZWYsIHRoaXMudHlwZSk7XHJcbiAgICAgICAgaWYgKCFvdmVybG9hZCkge1xyXG4gICAgICAgICAgICB0aGlzLmRlY2xhcmF0aW9uLmFkZE5vdGUoQ1BQRXJyb3IubGluay5mdW5jLm5vX21hdGNoaW5nX292ZXJsb2FkKHRoaXMuZGVjbGFyYXRpb24sIHRoaXMpKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gY2hlY2sgcmV0dXJuIHR5cGVcclxuICAgICAgICBpZiAoIXRoaXMudHlwZS5zYW1lUmV0dXJuVHlwZShvdmVybG9hZC5kZWNsYXJhdGlvbi50eXBlKSkge1xyXG4gICAgICAgICAgICB0aGlzLmRlY2xhcmF0aW9uLmFkZE5vdGUoQ1BQRXJyb3IubGluay5mdW5jLnJldHVyblR5cGVzTWF0Y2godGhpcy5kZWNsYXJhdGlvbiwgdGhpcykpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgICg8TXV0YWJsZTx0aGlzPj50aGlzKS5kZWZpbml0aW9uID0gb3ZlcmxvYWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETzogY2hlY2sgb24gd2hhdCB0aGlzIGlzIGhlcmUgZm9yXHJcbiAgICAvLyBwdWJsaWMgZ2V0UG9pbnRlclRvKCkge1xyXG4gICAgLy8gICAgIHJldHVybiBuZXcgVmFsdWUodGhpcywgdGhpcy50eXBlKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICBwdWJsaWMgaXNNYWluKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnF1YWxpZmllZE5hbWUgPT09IFwiOjptYWluXCI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlc2NyaWJlKCk6IERlc2NyaXB0aW9uIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gZXhwb3J0IGNsYXNzIE1hZ2ljRnVuY3Rpb25FbnRpdHkgZXh0ZW5kcyBGdW5jdGlvbkVudGl0eSB7XHJcbi8vICAgICBwdWJsaWMgY29uc3RydWN0b3IoZGVjbDogU2ltcGxlRGVjbGFyYXRpb24pIHtcclxuLy8gICAgICAgICBzdXBlcihkZWNsKTtcclxuLy8gICAgICAgICB0aGlzLnNldERlZmluaXRpb24oZGVjbCk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIGRlc2NyaWJlKCkge1xyXG4vLyAgICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJubyBkZXNjcmlwdGlvbiBhdmFpbGFibGVcIn07XHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcblxyXG4vLyBleHBvcnQgY2xhc3MgTWVtYmVyRnVuY3Rpb25FbnRpdHkgZXh0ZW5kcyBGdW5jdGlvbkVudGl0eSB7XHJcblxyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IGNvbnRhaW5pbmdDbGFzczogVHlwZXMuQ2xhc3M7XHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgaXNWaXJ0dWFsOiBib29sZWFuO1xyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IHB1cmVWaXJ0dWFsOiBib29sZWFuO1xyXG5cclxuLy8gICAgIGNvbnN0cnVjdG9yKGRlY2w6IFNpbXBsZURlY2xhcmF0aW9uLCBjb250YWluaW5nQ2xhc3M6IFR5cGVzLkNsYXNzLCBpc1ZpcnR1YWw6IGJvb2xlYW4pIHtcclxuLy8gICAgICAgICBzdXBlcihkZWNsKTtcclxuLy8gICAgICAgICB0aGlzLmNvbnRhaW5pbmdDbGFzcyA9IGNvbnRhaW5pbmdDbGFzcztcclxuLy8gICAgICAgICB0aGlzLmlzVmlydHVhbCA9IGlzVmlydHVhbDtcclxuLy8gICAgICAgICB0aGlzLnB1cmVWaXJ0dWFsID0gZGVjbC5wdXJlVmlydHVhbDtcclxuLy8gICAgICAgICAvLyBNYXkgYWxzbyBiZSBzZXQgdG8gdmlydHVhbCBsYXRlciBpZiBpdCdzIGRpc2NvdmVyZWQgdG8gYmUgYW4gb3ZlcnJpZGVyXHJcbi8vICAgICAgICAgLy8gZm9yIGEgdmlydHVhbCBmdW5jdGlvbiBpbiBhIGJhc2UgY2xhc3NcclxuXHJcbi8vICAgICAgICAgdGhpcy5jaGVja0Zvck92ZXJyaWRlKCk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHJpdmF0ZSBjaGVja0Zvck92ZXJyaWRlKCkge1xyXG4vLyAgICAgICAgIGlmICghdGhpcy5jb250YWluaW5nQ2xhc3MuZ2V0QmFzZUNsYXNzKCkpIHtcclxuLy8gICAgICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgLy8gRmluZCB0aGUgbmVhcmVzdCBvdmVycmlkZXIgb2YgYSBoeXBvdGhldGljYWwgdmlydHVhbCBmdW5jdGlvbi5cclxuLy8gICAgICAgICAvLyBJZiBhbnkgYXJlIHZpcnR1YWwsIHRoaXMgb25lIHdvdWxkIGhhdmUgYWxyZWFkeSBiZWVuIHNldCB0byBiZVxyXG4vLyAgICAgICAgIC8vIGFsc28gdmlydHVhbCBieSB0aGlzIHNhbWUgcHJvY2VkdXJlLCBzbyBjaGVja2luZyB0aGlzIG9uZSBpcyBzdWZmaWNpZW50LlxyXG4vLyAgICAgICAgIC8vIElmIHdlIG92ZXJyaWRlIGFueSB2aXJ0dWFsIGZ1bmN0aW9uLCB0aGlzIG9uZSBpcyB0b28uXHJcbi8vICAgICAgICAgdmFyIG92ZXJyaWRkZW4gPSB0aGlzLmNvbnRhaW5pbmdDbGFzcy5nZXRCYXNlQ2xhc3MoKS5jbGFzc1Njb3BlLnNpbmdsZUxvb2t1cCh0aGlzLm5hbWUsIHtcclxuLy8gICAgICAgICAgICAgcGFyYW1UeXBlczogdGhpcy50eXBlLnBhcmFtVHlwZXMsIGlzVGhpc0NvbnN0OiB0aGlzLnR5cGUuaXNUaGlzQ29uc3QsXHJcbi8vICAgICAgICAgICAgIGV4YWN0TWF0Y2g6dHJ1ZSwgb3duOnRydWUsIG5vTmFtZUhpZGluZzp0cnVlfSk7XHJcblxyXG4vLyAgICAgICAgIGlmIChvdmVycmlkZGVuICYmIG92ZXJyaWRkZW4gaW5zdGFuY2VvZiBGdW5jdGlvbkVudGl0eSAmJiBvdmVycmlkZGVuLmlzVmlydHVhbCl7XHJcbi8vICAgICAgICAgICAgICg8Ym9vbGVhbj50aGlzLmlzVmlydHVhbCkgPSB0cnVlO1xyXG4vLyAgICAgICAgICAgICAvLyBDaGVjayB0byBtYWtlIHN1cmUgdGhhdCB0aGUgcmV0dXJuIHR5cGVzIGFyZSBjb3ZhcmlhbnRcclxuLy8gICAgICAgICAgICAgaWYgKCFjb3ZhcmlhbnRUeXBlKHRoaXMudHlwZS5yZXR1cm5UeXBlLCBvdmVycmlkZGVuLnR5cGUucmV0dXJuVHlwZSkpe1xyXG4vLyAgICAgICAgICAgICAgICAgdGhyb3cgU2VtYW50aWNFeGNlcHRpb25zLk5vbkNvdmFyaWFudFJldHVyblR5cGVzLmluc3RhbmNlKHRoaXMsIG92ZXJyaWRkZW4pO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBpc1N0YXRpY2FsbHlCb3VuZCgpIHtcclxuLy8gICAgICAgICByZXR1cm4gIXRoaXMuaXNWaXJ0dWFsO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBpc0xpbmtlZCgpIHtcclxuLy8gICAgICAgICByZXR1cm4gdGhpcy52aXJ0dWFsICYmIHRoaXMucHVyZVZpcnR1YWwgfHwgdGhpcy5pc0RlZmluZWQoKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgcnVudGltZUxvb2t1cChzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbi8vICAgICAgICAgaWYgKHRoaXMuaXNWaXJ0dWFsKXtcclxuLy8gICAgICAgICAgICAgLy8gSWYgaXQncyBhIHZpcnR1YWwgZnVuY3Rpb24gc3RhcnQgZnJvbSB0aGUgY2xhc3Mgc2NvcGUgb2YgdGhlIGR5bmFtaWMgdHlwZVxyXG4vLyAgICAgICAgICAgICB2YXIgcmVjZWl2ZXIgPSBydENvbnN0cnVjdC5jb250ZXh0dWFsUmVjZWl2ZXIoKTtcclxuLy8gICAgICAgICAgICAgVXRpbC5hc3NlcnQocmVjZWl2ZXIsIFwiZHluYW1pYyBmdW5jdGlvbiBsb29rdXAgcmVxdWlyZXMgcmVjZWl2ZXJcIik7XHJcbi8vICAgICAgICAgICAgIHZhciBkeW5hbWljVHlwZSA9IHJlY2VpdmVyLnR5cGU7XHJcblxyXG4vLyAgICAgICAgICAgICAvLyBTb3JyeSB0aGlzIGlzIGhhY2t5IDooXHJcbi8vICAgICAgICAgICAgIC8vIElmIGl0J3MgYSBkZXN0cnVjdG9yLCB3ZSBsb29rIGluc3RlYWQgZm9yIHRoZSBkZXN0cnVjdG9yIG9mIHRoZSBkeW5hbWljIHR5cGVcclxuLy8gICAgICAgICAgICAgdmFyIGZ1bmM7XHJcbi8vICAgICAgICAgICAgIGlmICh0aGlzLmRlZmluaXRpb24gaW5zdGFuY2VvZiBEZXN0cnVjdG9yRGVmaW5pdGlvbikge1xyXG4vLyAgICAgICAgICAgICAgICAgZnVuYyA9IGR5bmFtaWNUeXBlLmRlc3RydWN0b3I7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgICAgIGZ1bmMgPSBkeW5hbWljVHlwZS5jbGFzc1Njb3BlLnNpbmdsZUxvb2t1cCh0aGlzLm5hbWUsIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBwYXJhbVR5cGVzOiB0aGlzLnR5cGUucGFyYW1UeXBlcywgaXNUaGlzQ29uc3Q6IHRoaXMudHlwZS5pc1RoaXNDb25zdCxcclxuLy8gICAgICAgICAgICAgICAgICAgICBleGFjdE1hdGNoOnRydWUsIG93bjp0cnVlLCBub05hbWVIaWRpbmc6dHJ1ZX0pO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIFV0aWwuYXNzZXJ0KGZ1bmMsIFwiRmFpbGVkIHRvIGZpbmQgdmlydHVhbCBmdW5jdGlvbiBpbXBsZW1lbnRhdGlvbiBkdXJpbmcgbG9va3VwLlwiKTtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIGZ1bmM7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgc3VwcHJlc3NlZFZpcnR1YWxQcm94eSgpIDogTWVtYmVyRnVuY3Rpb25FbnRpdHkge1xyXG4vLyAgICAgICAgIHZhciBwcm94eSA9IE9iamVjdC5jcmVhdGUodGhpcyk7XHJcbi8vICAgICAgICAgcHJveHkuaXNWaXJ0dWFsID0gZmFsc2U7XHJcbi8vICAgICAgICAgcmV0dXJuIHByb3h5O1xyXG4vLyAgICAgfVxyXG5cclxuLy8gfTtcclxuXHJcbi8vIGV4cG9ydCBjbGFzcyBDb25zdHJ1Y3RvckVudGl0eSBleHRlbmRzIE1lbWJlckZ1bmN0aW9uRW50aXR5IHtcclxuXHJcbi8vIH1cclxuXHJcblxyXG4vLyBleHBvcnQgY2xhc3MgUG9pbnRlZEZ1bmN0aW9uRW50aXR5IGV4dGVuZHMgQ1BQRW50aXR5IHtcclxuLy8gICAgIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX25hbWUgPSBcIkZ1bmN0aW9uRW50aXR5XCI7XHJcblxyXG4vLyAgICAgcHJpdmF0ZSByZWFkb25seSBkZXNjOiBzdHJpbmc7XHJcblxyXG4vLyAgICAgY29uc3RydWN0b3IodHlwZTogVHlwZSkge1xyXG4vLyAgICAgICAgIHN1cGVyKHR5cGUpO1xyXG4vLyAgICAgICAgIHRoaXMuZGVzYyA9IFwiVW5rbm93biBmdW5jdGlvbiBvZiB0eXBlIFwiICsgdHlwZTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgaXNTdGF0aWNhbGx5Qm91bmQoKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIHRvU3RyaW5nKCkge1xyXG4vLyAgICAgICAgIHJldHVybiB0aGlzLmRlc2M7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIHJ1bnRpbWVMb29rdXAoc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4vLyAgICAgICAgIHJldHVybiBydENvbnN0cnVjdC5wb2ludGVkRnVuY3Rpb24ucnVudGltZUxvb2t1cChzaW0sIHJ0Q29uc3RydWN0KTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgaXNMaW5rZWQoKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIGRlc2NyaWJlKCkge1xyXG4vLyAgICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJubyBkZXNjcmlwdGlvbiBhdmFpbGFibGVcIn07XHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcblxyXG5cclxuLy8gZXhwb3J0IGNsYXNzIFR5cGVFbnRpdHkgZXh0ZW5kcyBEZWNsYXJlZEVudGl0eSB7XHJcbi8vICAgICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9uYW1lID0gXCJUeXBlRW50aXR5XCI7XHJcblxyXG4vLyAgICAgcHVibGljIHRvU3RyaW5nKCkge1xyXG4vLyAgICAgICAgIHJldHVybiBcIlR5cGVFbnRpdHk6IFwiICsgdGhpcy50eXBlLmluc3RhbmNlU3RyaW5nKCk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIGRlc2NyaWJlKCkge1xyXG4vLyAgICAgICAgIHJldHVybiB0aGlzLnR5cGUuZGVzY3JpYmUoKTtcclxuLy8gICAgIH1cclxuLy8gfTtcclxuXHJcblxyXG5mdW5jdGlvbiBjb252TGVuKGFyZ3M6IHJlYWRvbmx5IEV4cHJlc3Npb25bXSkge1xyXG4gICAgcmV0dXJuIGFyZ3MucmVkdWNlKChyZXMsIGV4cCkgPT4gcmVzICsgZXhwLmNvbnZlcnNpb25MZW5ndGgsIDApO1xyXG59O1xyXG5cclxuLy8gU2VsZWN0cyBmcm9tIGNhbmRpZGF0ZXMgdGhlIGZ1bmN0aW9uIHRoYXQgaXMgdGhlIGJlc3QgbWF0Y2hcclxuLy8gZm9yIHRoZSBhcmd1bWVudHMgaW4gdGhlIGFyZ3MgYXJyYXkuIEFsc28gbW9kaWZpZXMgYXJncyBzb1xyXG4vLyB0aGF0IGVhY2ggYXJndW1lbnQgaXMgYW1lbmRlZCB3aXRoIGFueSBpbXBsaWNpdCBjb252ZXJzaW9uc1xyXG4vLyBuZWNlc3NhcnkgZm9yIHRoZSBtYXRjaC5cclxuLy8gT3B0aW9uczpcclxuLy8gICBwcm9ibGVtcyAtIGFuIGFycmF5IHRoYXQgd2lsbCBiZSBmaWxsZWQgd2l0aCBhbiBlbnRyeSBmb3IgZWFjaCBjYW5kaWRhdGVcclxuLy8gICAgICAgICAgICAgIGNvbnNpc3Rpbmcgb2YgYW4gYXJyYXkgb2YgYW55IHNlbWFudGljIHByb2JsZW1zIHRoYXQgcHJldmVudCBpdFxyXG4vLyAgICAgICAgICAgICAgZnJvbSBiZWluZyBjaG9zZW4uXHJcblxyXG5cclxuXHJcblxyXG4vKipcclxuICogU2VsZWN0cyBhIGZ1bmN0aW9uIGZyb20gdGhlIGdpdmVuIG92ZXJsb2FkIGdyb3VwIGJhc2VkIG9uIHRoZSBzaWduYXR1cmUgb2ZcclxuICogdGhlIHByb3ZpZGVkIGZ1bmN0aW9uIHR5cGUuIChOb3RlIHRoZXJlJ3Mgbm8gY29uc2lkZXJhdGlvbiBvZiBmdW5jdGlvbiBuYW1lcyBoZXJlLilcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RPdmVybG9hZGVkRW50aXR5KG92ZXJsb2FkR3JvdXA6IHJlYWRvbmx5IEZ1bmN0aW9uRW50aXR5W10sIHR5cGU6IEZ1bmN0aW9uVHlwZSkge1xyXG4gICAgcmV0dXJuIG92ZXJsb2FkR3JvdXAuZmluZChmdW5jID0+IHR5cGUuc2FtZVNpZ25hdHVyZShmdW5jLnR5cGUpKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBTZWxlY3RzIGEgZnVuY3Rpb24gZnJvbSB0aGUgZ2l2ZW4gb3ZlcmxvYWQgZ3JvdXAgYmFzZWQgb24gdGhlIHNpZ25hdHVyZSBvZlxyXG4gKiB0aGUgcHJvdmlkZWQgZnVuY3Rpb24gdHlwZS4gKE5vdGUgdGhlcmUncyBubyBjb25zaWRlcmF0aW9uIG9mIGZ1bmN0aW9uIG5hbWVzIGhlcmUuKVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdE92ZXJsb2FkZWREZWZpbml0aW9uKG92ZXJsb2FkR3JvdXA6IHJlYWRvbmx5IEZ1bmN0aW9uRGVmaW5pdGlvbltdLCB0eXBlOiBGdW5jdGlvblR5cGUpIHtcclxuICAgIHJldHVybiBvdmVybG9hZEdyb3VwLmZpbmQoZnVuYyA9PiB0eXBlLnNhbWVTaWduYXR1cmUoZnVuYy5kZWNsYXJhdGlvbi50eXBlKSk7XHJcbn0iLCJcclxuaW1wb3J0IHB1bGwgZnJvbSBcImxvZGFzaC9wdWxsXCI7XHJcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuL3V0aWxcIjtcclxuXHJcbmludGVyZmFjZSBNZXNzYWdlIHtcclxuICAgIGNhdGVnb3J5OiBzdHJpbmc7XHJcbiAgICBkYXRhOiB7fTtcclxuICAgIHNvdXJjZTogYW55O1xyXG59XHJcblxyXG5cclxuLy8gaW50ZXJmYWNlIE9ic2VydmFibGVUeXBlIHtcclxuLy8gICAgIHNlbmQoY2F0ZWdvcnk6IHN0cmluZywgZGF0YTogYW55KSA6IHZvaWQ7XHJcbi8vICAgICBhZGRMaXN0ZW5lcihsaXN0ZW5lcjogT2JzZXJ2ZXJUeXBlLCBjYXRlZ29yeT86IHN0cmluZyB8IHN0cmluZ1tdKSA6IE9ic2VydmFibGVUeXBlO1xyXG4vLyAgICAgcmVtb3ZlTGlzdGVuZXIobGlzdGVuZXI6IE9ic2VydmVyVHlwZSwgY2F0ZWdvcnk/OiBzdHJpbmcpIDogT2JzZXJ2YWJsZVR5cGU7XHJcbi8vICAgICBpZGVudGlmeShjYXRlZ29yeTogc3RyaW5nLCBmdW5jOiAobzpPYnNlcnZlclR5cGUpID0+IGFueSkgOiBPYnNlcnZlclR5cGU7XHJcbi8vIH1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRMaXN0ZW5lcihvYmpXaXRoT2JzZXJ2YWJsZToge29ic2VydmFibGU6IE9ic2VydmFibGV9LCBsaXN0ZW5lcjogT2JzZXJ2ZXJUeXBlLCBjYXRlZ29yeT86IHN0cmluZyB8IHN0cmluZ1tdKSB7XHJcbiAgICBvYmpXaXRoT2JzZXJ2YWJsZS5vYnNlcnZhYmxlLmFkZExpc3RlbmVyKGxpc3RlbmVyLCBjYXRlZ29yeSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtZXNzYWdlUmVzcG9uc2UobWVzc2FnZUNhdGVnb3J5Pzogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldDogYW55LCBwcm9wZXJ0eUtleTogc3RyaW5nLCBkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IpIHtcclxuICAgICAgICBpZiAoIXRhcmdldC5fYWN0KSB7IHRhcmdldC5fYWN0ID0ge307IH1cclxuICAgICAgICB0YXJnZXQuX2FjdFttZXNzYWdlQ2F0ZWdvcnkgfHwgcHJvcGVydHlLZXldID0gdGFyZ2V0W3Byb3BlcnR5S2V5XTtcclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWVzc2FnZVJlc3BvbnNlcyB7XHJcbiAgICBbaW5kZXg6IHN0cmluZ106ICgobXNnOiBNZXNzYWdlKSA9PiB2b2lkKTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBPYnNlcnZlclR5cGUge1xyXG4gICAgX2FjdCA6IE1lc3NhZ2VSZXNwb25zZXM7XHJcbn1cclxuXHJcbi8vIGV4cG9ydCBjbGFzcyBPYnNlcnZlciB7XHJcbi8vICAgICBwcml2YXRlIHJlYWRvbmx5IGFjdG9yOiBBY3RvcjtcclxuXHJcbi8vICAgICBjb25zdHJ1Y3RvcihhY3RvcjogQWN0b3IpIHtcclxuLy8gICAgICAgICB0aGlzLmFjdG9yID0gYWN0b3I7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIF9JREVOVElGWShtc2cgOiB7ZGF0YToobzphbnkpID0+IHZvaWR9KSB7XHJcbi8vICAgICAgICAgbXNnLmRhdGEodGhpcyk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIGxpc3RlblRvKG90aGVyOiBPYnNlcnZhYmxlVHlwZSwgY2F0ZWdvcnk6IHN0cmluZykge1xyXG4vLyAgICAgICAgIG90aGVyLmFkZExpc3RlbmVyKHRoaXMsIGNhdGVnb3J5KTtcclxuLy8gICAgICAgICByZXR1cm4gdGhpcztcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgc3RvcExpc3RlbmluZ1RvKG90aGVyOiBPYnNlcnZhYmxlVHlwZSwgY2F0ZWdvcnk6IHN0cmluZykge1xyXG4vLyAgICAgICAgIGlmIChvdGhlcikge1xyXG4vLyAgICAgICAgICAgICBvdGhlci5yZW1vdmVMaXN0ZW5lcih0aGlzLCBjYXRlZ29yeSk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIHJldHVybiB0aGlzO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyByZWN2IChtc2cgOiBNZXNzYWdlKSB7XHJcblxyXG4vLyAgICAgICAgIC8vIENhbGwgdGhlIFwiX2FjdFwiIGZ1bmN0aW9uIGZvciB0aGlzXHJcbi8vICAgICAgICAgdmFyIGNhdEFjdCA9IHRoaXMuYWN0b3IuX2FjdFttc2cuY2F0ZWdvcnldO1xyXG4vLyAgICAgICAgIGlmIChjYXRBY3Qpe1xyXG4vLyAgICAgICAgICAgICBjYXRBY3QuY2FsbCh0aGlzLmFjdG9yLCBtc2cpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNlIGlmICh0aGlzLmFjdG9yLl9hY3QuX2RlZmF1bHQpIHtcclxuLy8gICAgICAgICAgICAgdGhpcy5hY3Rvci5fYWN0Ll9kZWZhdWx0LmNhbGwodGhpcy5hY3RvciwgbXNnKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZSB7XHJcbi8vICAgICAgICAgICAgIGFzc2VydChmYWxzZSk7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuZnVuY3Rpb24gcmVjZWl2ZU1lc3NhZ2Uob2JzZXJ2ZXI6IE9ic2VydmVyVHlwZSwgbXNnOiBNZXNzYWdlKSB7XHJcbiAgICB2YXIgY2F0QWN0ID0gb2JzZXJ2ZXIuX2FjdFttc2cuY2F0ZWdvcnldO1xyXG4gICAgaWYgKGNhdEFjdCl7XHJcbiAgICAgICAgY2F0QWN0LmNhbGwob2JzZXJ2ZXIsIG1zZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChvYnNlcnZlci5fYWN0Ll9kZWZhdWx0KSB7XHJcbiAgICAgICAgb2JzZXJ2ZXIuX2FjdC5fZGVmYXVsdC5jYWxsKG9ic2VydmVyLCBtc2cpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgYXNzZXJ0KGZhbHNlKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE9ic2VydmFibGUge1xyXG4gICAgcHJpdmF0ZSB1bml2ZXJzYWxPYnNlcnZlcnM6IE9ic2VydmVyVHlwZVtdID0gW107XHJcbiAgICBwcml2YXRlIG9ic2VydmVyczoge1tpbmRleDogc3RyaW5nXSA6IE9ic2VydmVyVHlwZVtdfSA9IHt9O1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgc291cmNlOiBhbnk7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc291cmNlOiBhbnkpIHtcclxuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2VuZChjYXRlZ29yeTogc3RyaW5nLCBkYXRhPzogYW55KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc291cmNlLnNpbGVudCl7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IG1zZzogTWVzc2FnZSA9IHtcclxuICAgICAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LFxyXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgICAgICBzb3VyY2U6IHRoaXMuc291cmNlXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgbGV0IG9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzW21zZy5jYXRlZ29yeV07XHJcbiAgICAgICAgaWYgKG9ic2VydmVycykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9ic2VydmVycy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZU1lc3NhZ2Uob2JzZXJ2ZXJzW2ldLCBtc2cpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudW5pdmVyc2FsT2JzZXJ2ZXJzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIHJlY2VpdmVNZXNzYWdlKHRoaXMudW5pdmVyc2FsT2JzZXJ2ZXJzW2ldLCBtc2cpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkTGlzdGVuZXIobGlzdGVuZXI6IE9ic2VydmVyVHlwZSwgY2F0ZWdvcnk/OiBzdHJpbmcgfCBzdHJpbmdbXSkge1xyXG4gICAgICAgIGlmIChjYXRlZ29yeSkge1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjYXRlZ29yeSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3MgYW4gYXJyYXkgb2YgY2F0ZWdvcmllcywgYWRkIHRvIGFsbCBpbmRpdmlkdWFsbHlcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2F0ZWdvcnkubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZExpc3RlbmVyKGxpc3RlbmVyLCBjYXRlZ29yeVtpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMub2JzZXJ2ZXJzW2NhdGVnb3J5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXJzW2NhdGVnb3J5XSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5vYnNlcnZlcnNbY2F0ZWdvcnldLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lckFkZGVkKGxpc3RlbmVyLCBjYXRlZ29yeSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgLy8gaWYgbm8gY2F0ZWdvcnksIGludGVudCBpcyB0byBsaXN0ZW4gdG8gZXZlcnl0aGluZ1xyXG4gICAgICAgICAgICB0aGlzLnVuaXZlcnNhbE9ic2VydmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5lckFkZGVkKGxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICBOb3RlOiB0byByZW1vdmUgYSB1bml2ZXJzYWwgbGlzdGVuZXIsIHlvdSBtdXN0IGNhbGwgdGhpcyB3aXRoIGNhdGVnb3J5PT1mYWxzZS5cclxuICAgIElmIGEgbGlzdGVuZXIgaXMgdW5pdmVyc2FsLCByZW1vdmluZyBpdCBmcm9tIGEgcGFydGljdWxhciBjYXRlZ29yeSB3b24ndCBkbyBhbnl0aGluZy5cclxuICAgICovXHJcbiAgICBwdWJsaWMgcmVtb3ZlTGlzdGVuZXIobGlzdGVuZXI6IE9ic2VydmVyVHlwZSwgY2F0ZWdvcnk/OiBzdHJpbmcpIHtcclxuICAgICAgICBpZihjYXRlZ29yeSkge1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgZnJvbSB0aGUgbGlzdCBmb3IgYSBzcGVjaWZpYyBjYXRlZ29yeSAoaWYgbGlzdCBleGlzdHMpXHJcbiAgICAgICAgICAgIGxldCBvYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVyc1tjYXRlZ29yeV07XHJcbiAgICAgICAgICAgIG9ic2VydmVycyAmJiBwdWxsKG9ic2VydmVycywgbGlzdGVuZXIpO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVyUmVtb3ZlZChsaXN0ZW5lciwgY2F0ZWdvcnkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgZnJvbSBhbGwgY2F0ZWdvcmllc1xyXG4gICAgICAgICAgICBmb3IodmFyIGNhdCBpbiB0aGlzLm9ic2VydmVycyl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyLCBjYXQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBBbHNvIHJlbW92ZSBmcm9tIHVuaXZlcnNhbCBsaXN0ZW5lcnNcclxuICAgICAgICAgICAgcHVsbCh0aGlzLnVuaXZlcnNhbE9ic2VydmVycywgbGlzdGVuZXIpO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVyUmVtb3ZlZChsaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBsaXN0ZW5lckFkZGVkKGxpc3RlbmVyOiBPYnNlcnZlclR5cGUsIGNhdGVnb3J5Pzogc3RyaW5nKSA6IHZvaWQgeyB9XHJcbiAgICBwcm90ZWN0ZWQgbGlzdGVuZXJSZW1vdmVkKGxpc3RlbmVyOiBPYnNlcnZlclR5cGUsIGNhdGVnb3J5Pzogc3RyaW5nKSA6IHZvaWQgeyB9XHJcblxyXG4gICAgLy8gcHVibGljIGlkZW50aWZ5KGNhdGVnb3J5OiBzdHJpbmcsIGZ1bmM6IChvOk9ic2VydmVyVHlwZSkgPT4gYW55KSB7XHJcbiAgICAvLyAgICAgbGV0IG90aGVyISA6IE9ic2VydmVyVHlwZTsgLy8gVXNlcyBkZWZpbml0ZSBhc3NpZ25tZW50IGFubm90YXRpb24gc2luY2UgdGhlIGZ1bmN0aW9uIGlzIGFzc3VtZWQgdG8gYXNzaWduIHRvIG90aGVyXHJcbiAgICAvLyAgICAgdGhpcy5zZW5kKGNhdGVnb3J5LCBmdW5jIHx8IGZ1bmN0aW9uKG86T2JzZXJ2ZXJUeXBlKSB7b3RoZXIgPSBvO30pO1xyXG4gICAgLy8gICAgIHJldHVybiBvdGhlcjtcclxuICAgIC8vIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgQ1BQT2JqZWN0IH0gZnJvbSBcIi4vb2JqZWN0c1wiO1xyXG5pbXBvcnQgeyBTaW11bGF0aW9uLCBTaW11bGF0aW9uRXZlbnQgfSBmcm9tIFwiLi9TaW11bGF0aW9uXCI7XHJcbmltcG9ydCB7IFR5cGUsIE9iamVjdFR5cGUsIEF0b21pY1R5cGUsIEludGVncmFsVHlwZSwgRmxvYXRpbmdQb2ludFR5cGUsIFBvaW50ZXJUeXBlLCBSZWZlcmVuY2VUeXBlLCBDbGFzc1R5cGUsIEJvdW5kZWRBcnJheVR5cGUsIEZ1bmN0aW9uVHlwZSwgaXNUeXBlLCBQb3RlbnRpYWxSZXR1cm5UeXBlLCBCb29sLCBzYW1lVHlwZSwgVm9pZFR5cGUsIEFyaXRobWV0aWNUeXBlLCBBcnJheVBvaW50ZXIsIEludCwgUG90ZW50aWFsUGFyYW1ldGVyVHlwZSwgRmxvYXQsIERvdWJsZSwgQ2hhciwgTm9SZWZUeXBlLCBub1JlZiwgQXJyYXlPZlVua25vd25Cb3VuZFR5cGUsIHJlZmVyZW5jZUNvbXBhdGlibGUgfSBmcm9tIFwiLi90eXBlc1wiO1xyXG5pbXBvcnQgeyBBU1ROb2RlLCBQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQsIFJ1bnRpbWVQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiwgUnVudGltZUNvbnN0cnVjdCwgQ29tcGlsZWRUZW1wb3JhcnlEZWFsbG9jYXRvciwgQ1BQQ29uc3RydWN0LCBEZXNjcmlwdGlvbiwgRXhwcmVzc2lvbkNvbnRleHQsIGNyZWF0ZUV4cHJlc3Npb25Db250ZXh0IH0gZnJvbSBcIi4vY29uc3RydWN0c1wiO1xyXG5pbXBvcnQgeyBDUFBFcnJvciwgTm90ZSB9IGZyb20gXCIuL2Vycm9yc1wiO1xyXG5pbXBvcnQgeyBGdW5jdGlvbkVudGl0eSwgT2JqZWN0RW50aXR5IH0gZnJvbSBcIi4vZW50aXRpZXNcIjtcclxuaW1wb3J0IHsgVmFsdWUsIFJhd1ZhbHVlVHlwZSB9IGZyb20gXCIuL3J1bnRpbWVFbnZpcm9ubWVudFwiO1xyXG5pbXBvcnQgeyBNdXRhYmxlLCBDb25zdHJ1Y3RvciwgZXNjYXBlU3RyaW5nIH0gZnJvbSBcIi4uL3V0aWwvdXRpbFwiO1xyXG5pbXBvcnQgeyBzdGFuZGFyZENvbnZlcnNpb24sIGNvbnZlcnRUb1BSVmFsdWUsIHVzdWFsQXJpdGhtZXRpY0NvbnZlcnNpb25zIH0gZnJvbSBcIi4vc3RhbmRhcmRDb252ZXJzaW9uc1wiO1xyXG5pbXBvcnQgeyBjaGVja0lkZW50aWZpZXIgfSBmcm9tIFwiLi9sZXhpY2FsXCI7XHJcbmltcG9ydCB7IEZ1bmN0aW9uQ2FsbEV4cHJlc3Npb25BU1ROb2RlLCBGdW5jdGlvbkNhbGxFeHByZXNzaW9uIH0gZnJvbSBcIi4vZnVuY3Rpb25DYWxsXCI7XHJcbmltcG9ydCB7IEV4cHJlc3Npb24sIENvbXBpbGVkRXhwcmVzc2lvbiwgUnVudGltZUV4cHJlc3Npb24sIFZDUmVzdWx0VHlwZXMsIFZhbHVlQ2F0ZWdvcnksIFR5cGVkRXhwcmVzc2lvbiB9IGZyb20gXCIuL2V4cHJlc3Npb25CYXNlXCI7XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlYWRWYWx1ZVdpdGhBbGVydChvYmo6IENQUE9iamVjdDxBdG9taWNUeXBlPiwgc2ltOiBTaW11bGF0aW9uKSB7XHJcbiAgICBsZXQgdmFsdWUgPSBvYmoucmVhZFZhbHVlKCk7XHJcbiAgICBpZighdmFsdWUuaXNWYWxpZCkge1xyXG4gICAgICAgIGxldCBvYmpEZXNjID0gb2JqLmRlc2NyaWJlKCk7XHJcbiAgICAgICAgdmFyIG1zZyA9IFwiVGhlIHZhbHVlIHlvdSBqdXN0IGdvdCBvdXQgb2YgXCIgKyAob2JqRGVzYy5uYW1lIHx8IG9iakRlc2MubWVzc2FnZSkgKyBcIiBpc24ndCB2YWxpZC4gSXQgbWlnaHQgYmUgdW5pbml0aWFsaXplZCBvciBpdCBjb3VsZCBoYXZlIGNvbWUgZnJvbSBhIGRlYWQgb2JqZWN0LlwiO1xyXG4gICAgICAgIGlmICh2YWx1ZS5yYXdWYWx1ZSA9PT0gMCl7XHJcbiAgICAgICAgICAgIG1zZyArPSBcIlxcblxcbihOb3RlOiBUaGUgdmFsdWUganVzdCBoYXBwZW5zIHRvIGJlIHplcm8uIERvbid0IGJlIGZvb2xlZCEgVW5pbml0aWFsaXplZCBtZW1vcnkgaXNuJ3QgZ3VhcmFudGVlZCB0byBiZSB6ZXJvLilcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2ltLmV2ZW50T2NjdXJyZWQoU2ltdWxhdGlvbkV2ZW50LlVOREVGSU5FRF9CRUhBVklPUiwgbXNnLCB0cnVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxufTtcclxuXHJcbi8vIFRPRE86IGVuc3VyZSB0aGF0IGFuIGV4cHJlc3Npb24gaXMgbmV2ZXIgY29uc2lkZXJlZCBjb21waWxlZCB1bmxlc3MgaXRzIGNoaWxkcmVuIGFyZSBjb21waWxlZFxyXG5cclxuLyoqXHJcbiAqIFRPRE86IHRoaXMgY29tbWVudCBpcyBvdXQgb2YgZGF0ZVxyXG4gKiBTdGFuZGFyZCBjb21waWxhdGlvbiBwaGFzZSBmb3IgZXhwcmVzc2lvbnM6XHJcbiAqICAgMS4gQ29tcGlsZSBjaGlsZHJlbiAod2l0aCBubyBzcGVjaWFsIGNvbnRleHQgLSBpZiB0aGlzIGlzIG5lZWRlZCwgeW91J2xsIG5lZWQgdG8gb3ZlcnJpZGUgY29tcGlsZSgpKVxyXG4gKiAgIDIuIFBlcmZvcm0gYW55IGNvbnZlcnNpb25zIHNwZWNpZmllZCBpbiB0aGlzLmlfY2hpbGRyZW5Ub0NvbnZlcnQuIHRoZSBsdmFsdWUtdG8tcnZhbHVlIGNvbnZlcnNpb24gaXMgbm90IHN1cHByZXNzZWRcclxuICogICAzLiBJZiBhbnkgZXJyb3JzIGhhdmUgYmVlbiByZXBvcnRlZCBieSBjaGlsZHJlbiwgYWJvcnQuIFRoZSByZXN0IG9mIHRoZSBzZXF1ZW5jZSBpcyBza2lwcGVkXHJcbiAqICAgNC4gQ2FsbCB0aGUgdGhpcy5jb252ZXJ0KCkgaG9vay4gUHV0IGN1c3RvbSBjb252ZXJzaW9uIGNvZGUgaGVyZS5cclxuICogICA1LiBDYWxsIHRoZSB0aGlzLnR5cGVDaGVjaygpIGhvb2suIFB1dCBjdXN0b20gdHlwZWNoZWNraW5nIGhlcmUuIEFmdGVyIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkLCB0aGUgZXhwcmVzc2lvbiBzaG91bGRcclxuICogICAgICBoYXZlIHRoaXMudHlwZSBhbmQgdGhpcy52YWx1ZUNhdGVnb3J5IHNldCBjb3JyZWN0LCBhbHRob3VnaCB0aGlzIGRvZXMgbm90IG1lYW4gdGhlIGZ1bmN0aW9uIG5lY2Vzc2FyaWx5IGhhcyB0byBkb1xyXG4gKiAgICAgIHRoaXMgKGUuZy4gc29tZSBleHByZXNzaW9ucyBhbHdheXMgaGF2ZSB0aGUgc2FtZSB0eXBlIG9yIHZhbHVlIGNhdGVnb3J5LCBzbyB0aGVzZSBwcm9wZXJ0aWVzIG1heSBiZSBzZXQgaW5pdGlhbGx5XHJcbiAqICAgICAgYXQgdGhlIGNsYXNzIGxldmVsKS5cclxuICogICA2LiBDb21waWxlIGFueSB0ZW1wb3Jhcnkgb2JqZWN0cyBmb3Igd2hvbSB0aGlzIGlzIHRoZSBlbmNsb3NpbmcgZnVsbCBleHByZXNzaW9uLlxyXG4gKlxyXG4gKi9cclxuXHJcbi8vIGV4cG9ydCBpbnRlcmZhY2UgVHlwZWRBbmRDb21waWxlZDxUIGV4dGVuZHMgVHlwZSA9IFR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5ID0gVmFsdWVDYXRlZ29yeT4gZXh0ZW5kcyBFeHByZXNzaW9uPFQsVj4sIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuXHJcbi8vIH1cclxuXHJcbi8vIHR5cGUgQ29tcGlsZWRFeHByZXNzaW9uQmFzZTxFIGV4dGVuZHMgRXhwcmVzc2lvbiwgVCBleHRlbmRzIFR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5PiA9IEUgJiBUeXBlZEFuZENvbXBpbGVkPFQsVj47XHJcblxyXG4vLyBUT0RPOiBpcyB0aGlzIHVzZWQgYW55bW9yZT9cclxudHlwZSBTaW1pbGFyVHlwZWRDb21waWxlZEV4cHJlc3Npb248Q0UgZXh0ZW5kcyBDb21waWxlZEV4cHJlc3Npb24+ID0gQ29tcGlsZWRFeHByZXNzaW9uPENFW1widHlwZVwiXSwgQ0VbXCJ2YWx1ZUNhdGVnb3J5XCJdPjtcclxuXHJcblxyXG5leHBvcnQgdHlwZSBFeHByZXNzaW9uQVNUTm9kZSA9XHJcbiAgICBDb21tYUFTVE5vZGUgfFxyXG4gICAgVGVybmFyeUFTVE5vZGUgfFxyXG4gICAgQXNzaWdubWVudEV4cHJlc3Npb25BU1ROb2RlIHxcclxuICAgIENvbXBvdW5kQXNzaWdubWVudEV4cHJlc3Npb25BU1ROb2RlIHxcclxuICAgIEJpbmFyeU9wZXJhdG9yRXhwcmVzc2lvbkFTVE5vZGUgfFxyXG4gICAgUG9pbnRlclRvTWVtYmVyRXhwcmVzc2lvbkFTVE5vZGUgfFxyXG4gICAgQ1N0eWxlQ2FzdEV4cHJlc3Npb25BU1ROb2RlIHxcclxuICAgIFVuYXJ5RXhwcmVzc2lvbkFTVE5vZGUgfFxyXG4gICAgUG9zdGZpeEV4cHJlc3Npb25BU1ROb2RlIHxcclxuICAgIENvbnN0cnVjdEV4cHJlc3Npb25BU1ROb2RlIHxcclxuICAgIElkZW50aWZpZXJFeHByZXNzaW9uQVNUTm9kZSB8XHJcbiAgICBUaGlzRXhwcmVzc2lvbkFTVE5vZGUgfFxyXG4gICAgTnVtZXJpY0xpdGVyYWxBU1ROb2RlO1xyXG5cclxuXHJcbmNvbnN0IEV4cHJlc3Npb25Db25zdHJ1Y3RzTWFwID0ge1xyXG4gICAgXCJjb21tYV9leHByZXNzaW9uXCIgOiAoYXN0OiBDb21tYUFTVE5vZGUsIGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0KSA9PiBDb21tYUV4cHJlc3Npb24uY3JlYXRlRnJvbUFTVChhc3QsIGNvbnRleHQpLFxyXG4gICAgXHJcbiAgICBcInRlcm5hcnlfZXhwcmVzc2lvblwiIDogKGFzdDogVGVybmFyeUFTVE5vZGUsIGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0KSA9PiBUZXJuYXJ5RXhwcmVzc2lvbi5jcmVhdGVGcm9tQVNUKGFzdCwgY29udGV4dCksXHJcbiAgICBcclxuICAgIFwiYXNzaWdubWVudF9leHByZXNzaW9uXCIgOiAoYXN0OiBBc3NpZ25tZW50RXhwcmVzc2lvbkFTVE5vZGUsIGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0KSA9PiBBc3NpZ25tZW50RXhwcmVzc2lvbi5jcmVhdGVGcm9tQVNUKGFzdCwgY29udGV4dCksXHJcbiAgICBcImNvbXBvdW5kX2Fzc2lnbm1lbnRfZXhwcmVzc2lvblwiIDogKGFzdDogQ29tcG91bmRBc3NpZ25tZW50RXhwcmVzc2lvbkFTVE5vZGUsIGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0KSA9PiBuZXcgVW5zdXBwb3J0ZWRFeHByZXNzaW9uKGNvbnRleHQsIFwiY29tcG91bmQgYXNzaWdubWVudFwiKS5zZXRBU1QoYXN0KSxcclxuICAgIFxyXG4gICAgLy8gYmluYXJ5IG9wZXJhdG9yc1xyXG4gICAgXCJhcml0aG1ldGljX2JpbmFyeV9vcGVyYXRvcl9leHByZXNzaW9uXCIgOiAoYXN0OiBBcml0aG1ldGljQmluYXJ5T3BlcmF0b3JFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IEFyaXRobWV0aWNCaW5hcnlPcGVyYXRvckV4cHJlc3Npb24uY3JlYXRlRnJvbUFTVChhc3QsIGNvbnRleHQpLFxyXG4gICAgXCJyZWxhdGlvbmFsX2JpbmFyeV9vcGVyYXRvcl9leHByZXNzaW9uXCIgOiAoYXN0OiBSZWxhdGlvbmFsQmluYXJ5T3BlcmF0b3JFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IFJlbGF0aW9uYWxCaW5hcnlPcGVyYXRvci5jcmVhdGVGcm9tQVNUKGFzdCwgY29udGV4dCksXHJcbiAgICBcImxvZ2ljYWxfYmluYXJ5X29wZXJhdG9yX2V4cHJlc3Npb25cIiA6IChhc3Q6IExvZ2ljYWxCaW5hcnlPcGVyYXRvckV4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgPT4gTG9naWNhbEJpbmFyeU9wZXJhdG9yLmNyZWF0ZUZyb21BU1QoYXN0LCBjb250ZXh0KSxcclxuICAgIFxyXG4gICAgXCJwb2ludGVyX3RvX21lbWJlcl9leHByZXNzaW9uXCIgOiAoYXN0OiBQb2ludGVyVG9NZW1iZXJFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IG5ldyBVbnN1cHBvcnRlZEV4cHJlc3Npb24oY29udGV4dCwgXCJwb2ludGVyLXRvLW1lbWJlclwiKS5zZXRBU1QoYXN0KSxcclxuICAgIFxyXG4gICAgXCJjX3N0eWxlX2Nhc3RfZXhwcmVzc2lvblwiIDogKGFzdDogQ1N0eWxlQ2FzdEV4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgPT4gbmV3IFVuc3VwcG9ydGVkRXhwcmVzc2lvbihjb250ZXh0LCBcImMtc3R5bGUgY2FzdFwiKS5zZXRBU1QoYXN0KSxcclxuICAgIFxyXG4gICAgLy8gcHJlZml4IG9wZXJhdG9yc1xyXG4gICAgXCJwcmVmaXhfaW5jcmVtZW50X2V4cHJlc3Npb25cIiA6IChhc3Q6IFByZWZpeEluY3JlbWVudEV4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgPT4gbmV3IFVuc3VwcG9ydGVkRXhwcmVzc2lvbihjb250ZXh0LCBcInByZWZpeCBpbmNyZW1lbnRcIikuc2V0QVNUKGFzdCksXHJcbiAgICBcInByZWZpeF9kZWNyZW1lbnRfZXhwcmVzc2lvblwiIDogKGFzdDogUHJlZml4RGVjcmVtZW50RXhwcmVzc2lvbkFTVE5vZGUsIGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0KSA9PiBuZXcgVW5zdXBwb3J0ZWRFeHByZXNzaW9uKGNvbnRleHQsIFwicHJlZml4IGRlY3JlbWVudFwiKS5zZXRBU1QoYXN0KSxcclxuICAgIFwiZGVyZWZlcmVuY2VfZXhwcmVzc2lvblwiIDogKGFzdDogRGVyZWZlcmVuY2VFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IG5ldyBVbnN1cHBvcnRlZEV4cHJlc3Npb24oY29udGV4dCwgXCJkZXJlZmVyZW5jZVwiKS5zZXRBU1QoYXN0KSxcclxuICAgIFwiYWRkcmVzc19vZl9leHByZXNzaW9uXCIgOiAoYXN0OiBBZGRyZXNzT2ZFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IG5ldyBVbnN1cHBvcnRlZEV4cHJlc3Npb24oY29udGV4dCwgXCJhZGRyZXNzLW9mXCIpLnNldEFTVChhc3QpLFxyXG4gICAgXCJ1bmFyeV9wbHVzX2V4cHJlc3Npb25cIiA6IChhc3Q6IFVuYXJ5UGx1c0V4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgPT4gbmV3IFVuc3VwcG9ydGVkRXhwcmVzc2lvbihjb250ZXh0LCBcInVuYXJ5IHBsdXNcIikuc2V0QVNUKGFzdCksXHJcbiAgICBcInVuYXJ5X21pbnVzX2V4cHJlc3Npb25cIiA6IChhc3Q6IFVuYXJ5TWludXNFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IG5ldyBVbnN1cHBvcnRlZEV4cHJlc3Npb24oY29udGV4dCwgXCJ1bmFyeSBtaW51c1wiKS5zZXRBU1QoYXN0KSxcclxuICAgIFwibG9naWNhbF9ub3RfZXhwcmVzc2lvblwiIDogKGFzdDogTG9naWNhbE5vdEV4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgPT4gbmV3IFVuc3VwcG9ydGVkRXhwcmVzc2lvbihjb250ZXh0LCBcImxvZ2ljYWwgbm90XCIpLnNldEFTVChhc3QpLFxyXG4gICAgXCJiaXR3aXNlX25vdF9leHByZXNzaW9uXCIgOiAoYXN0OiBCaXR3aXNlTm90RXhwcmVzc2lvbkFTVE5vZGUsIGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0KSA9PiBuZXcgVW5zdXBwb3J0ZWRFeHByZXNzaW9uKGNvbnRleHQsIFwiYml0d2lzZSBub3RcIikuc2V0QVNUKGFzdCksXHJcbiAgICBcInNpemVvZl9leHByZXNzaW9uXCIgOiAoYXN0OiBTaXplb2ZFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IG5ldyBVbnN1cHBvcnRlZEV4cHJlc3Npb24oY29udGV4dCwgXCJzaXplb2ZcIikuc2V0QVNUKGFzdCksXHJcbiAgICBcInNpemVvZl90eXBlX2V4cHJlc3Npb25cIiA6IChhc3Q6IFNpemVvZlR5cGVFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IG5ldyBVbnN1cHBvcnRlZEV4cHJlc3Npb24oY29udGV4dCwgXCJzaXplb2YgKHR5cGUpXCIpLnNldEFTVChhc3QpLFxyXG4gICAgXCJuZXdfZXhwcmVzc2lvblwiIDogKGFzdDogTmV3RXhwcmVzc2lvbkFTVE5vZGUsIGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0KSA9PiBuZXcgVW5zdXBwb3J0ZWRFeHByZXNzaW9uKGNvbnRleHQsIFwibmV3XCIpLnNldEFTVChhc3QpLFxyXG4gICAgXCJkZWxldGVfZXhwcmVzc2lvblwiIDogKGFzdDogRGVsZXRlRXhwcmVzc2lvbkFTVE5vZGUsIGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0KSA9PiBuZXcgVW5zdXBwb3J0ZWRFeHByZXNzaW9uKGNvbnRleHQsIFwiZGVsZXRlXCIpLnNldEFTVChhc3QpLFxyXG4gICAgXCJkZWxldGVfYXJyYXlfZXhwcmVzc2lvblwiIDogKGFzdDogRGVsZXRlQXJyYXlFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IG5ldyBVbnN1cHBvcnRlZEV4cHJlc3Npb24oY29udGV4dCwgXCJkZWxldGVbXVwiKS5zZXRBU1QoYXN0KSxcclxuICAgIFxyXG4gICAgLy8gcG9zdGZpeCBvcGVyYXRvcnNcclxuICAgIFwic3RhdGljX2Nhc3RfZXhwcmVzc2lvblwiIDogKGFzdDogU3RhdGljQ2FzdEV4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgPT4gbmV3IFVuc3VwcG9ydGVkRXhwcmVzc2lvbihjb250ZXh0LCBcInN0YXRpYyBjYXN0XCIpLnNldEFTVChhc3QpLFxyXG4gICAgXCJkeW5hbWljX2Nhc3RfZXhwcmVzc2lvblwiIDogKGFzdDogRHluYW1pY0Nhc3RFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IG5ldyBVbnN1cHBvcnRlZEV4cHJlc3Npb24oY29udGV4dCwgXCJkeW5hbWljIGNhc3RcIikuc2V0QVNUKGFzdCksXHJcbiAgICBcInJlaW50ZXJwcmV0X2Nhc3RfZXhwcmVzc2lvblwiIDogKGFzdDogUmVpbnRlcnByZXRDYXN0RXhwcmVzc2lvbkFTVE5vZGUsIGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0KSA9PiBuZXcgVW5zdXBwb3J0ZWRFeHByZXNzaW9uKGNvbnRleHQsIFwicmVpbnRlcnByZXQgY2FzdFwiKS5zZXRBU1QoYXN0KSxcclxuICAgIFwiY29uc3RfY2FzdF9leHByZXNzaW9uXCIgOiAoYXN0OiBDb25zdENhc3RFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IG5ldyBVbnN1cHBvcnRlZEV4cHJlc3Npb24oY29udGV4dCwgXCJjb25zdCBjYXN0XCIpLnNldEFTVChhc3QpLFxyXG4gICAgXCJzdWJzY3JpcHRfZXhwcmVzc2lvblwiIDogKGFzdDogU3Vic2NyaXB0RXhwcmVzc2lvbkFTVE5vZGUsIGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0KSA9PiBuZXcgVW5zdXBwb3J0ZWRFeHByZXNzaW9uKGNvbnRleHQsIFwic3Vic2NyaXB0XCIpLnNldEFTVChhc3QpLFxyXG4gICAgXCJmdW5jdGlvbl9jYWxsX2V4cHJlc3Npb25cIiA6IChhc3Q6IEZ1bmN0aW9uQ2FsbEV4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgPT4gRnVuY3Rpb25DYWxsRXhwcmVzc2lvbi5jcmVhdGVGcm9tQVNUKGFzdCwgY29udGV4dCksXHJcbiAgICBcImRvdF9leHByZXNzaW9uXCIgOiAoYXN0OiBEb3RFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IG5ldyBVbnN1cHBvcnRlZEV4cHJlc3Npb24oY29udGV4dCwgXCJkb3Qgb3BlcmF0b3JcIikuc2V0QVNUKGFzdCksXHJcbiAgICBcImFycm93X2V4cHJlc3Npb25cIiA6IChhc3Q6IEFycm93RXhwcmVzc2lvbkFTVE5vZGUsIGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0KSA9PiBuZXcgVW5zdXBwb3J0ZWRFeHByZXNzaW9uKGNvbnRleHQsIFwiYXJyb3cgb3BlcmF0b3JcIikuc2V0QVNUKGFzdCksXHJcbiAgICBcInBvc3RmaXhfaW5jcmVtZW50X2V4cHJlc3Npb25cIiA6IChhc3Q6IFBvc3RmaXhJbmNyZW1lbnRFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IG5ldyBVbnN1cHBvcnRlZEV4cHJlc3Npb24oY29udGV4dCwgXCJwb3N0Zml4IGluY3JlbWVudFwiKS5zZXRBU1QoYXN0KSxcclxuICAgIFwicG9zdGZpeF9kZWNyZW1lbnRfZXhwcmVzc2lvblwiIDogKGFzdDogUG9zdGZpeERlY3JlbWVudEV4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgPT4gbmV3IFVuc3VwcG9ydGVkRXhwcmVzc2lvbihjb250ZXh0LCBcInBvc3RmaXggZGVjcmVtZW50XCIpLnNldEFTVChhc3QpLFxyXG4gICAgXHJcbiAgICBcImNvbnN0cnVjdF9leHByZXNzaW9uXCIgOiAoYXN0OiBDb25zdHJ1Y3RFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IG5ldyBVbnN1cHBvcnRlZEV4cHJlc3Npb24oY29udGV4dCwgXCJjb25zdHJ1Y3QgZXhwcmVzc2lvblwiKS5zZXRBU1QoYXN0KSxcclxuICAgIFxyXG4gICAgXCJpZGVudGlmaWVyX2V4cHJlc3Npb25cIiA6IChhc3Q6IElkZW50aWZpZXJFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IElkZW50aWZpZXJFeHByZXNzaW9uLmNyZWF0ZUZyb21BU1QoYXN0LCBjb250ZXh0KSxcclxuICAgIFxyXG4gICAgXCJ0aGlzX2V4cHJlc3Npb25cIiA6IChhc3Q6IFRoaXNFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IG5ldyBVbnN1cHBvcnRlZEV4cHJlc3Npb24oY29udGV4dCwgXCJ0aGlzIHBvaW50ZXJcIikuc2V0QVNUKGFzdCksXHJcblxyXG4gICAgXCJudW1lcmljX2xpdGVyYWxcIiA6IChhc3Q6IE51bWVyaWNMaXRlcmFsQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IE51bWVyaWNMaXRlcmFsLmNyZWF0ZUZyb21BU1QoYXN0LCBjb250ZXh0KSxcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV4cHJlc3Npb25Gcm9tQVNUPEFTVFR5cGUgZXh0ZW5kcyBFeHByZXNzaW9uQVNUTm9kZT4oYXN0OiBBU1RUeXBlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgOiBSZXR1cm5UeXBlPCh0eXBlb2YgRXhwcmVzc2lvbkNvbnN0cnVjdHNNYXApW0FTVFR5cGVbXCJjb25zdHJ1Y3RfdHlwZVwiXV0+IHtcclxuICAgIHJldHVybiA8YW55PkV4cHJlc3Npb25Db25zdHJ1Y3RzTWFwW2FzdC5jb25zdHJ1Y3RfdHlwZV0oPGFueT5hc3QsIGNvbnRleHQpO1xyXG59XHJcblxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBVbnN1cHBvcnRlZEV4cHJlc3Npb24gZXh0ZW5kcyBFeHByZXNzaW9uIHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZSA9IHVuZGVmaW5lZDtcclxuICAgIHB1YmxpYyByZWFkb25seSB2YWx1ZUNhdGVnb3J5ID0gdW5kZWZpbmVkO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCwgdW5zdXBwb3J0ZWROYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihjb250ZXh0KTtcclxuICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IubG9ic3Rlci51bnN1cHBvcnRlZF9mZWF0dXJlKHRoaXMsIHVuc3VwcG9ydGVkTmFtZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFdpbGwgbmV2ZXIgYmUgY2FsbGVkIHNpbmNlIGFuIFVuc3VwcG9ydGVkRXhwcmVzc2lvbiB3aWxsIGFsd2F5cyBoYXZlIGVycm9ycyBhbmRcclxuICAgIC8vIG5ldmVyIHNhdGlzZnkgdGhlIHJlcXVpcmVkIHRoaXMgY29udGV4dCBvZiBDb21waWxlZEV4cHJlc3Npb25cclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbih0aGlzOiBDb21waWxlZEV4cHJlc3Npb24sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBuZXZlciB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNyZWF0ZSBhIHJ1bnRpbWUgaW5zdGFuY2Ugb2YgYW4gdW5zdXBwb3J0ZWQgY29uc3RydWN0LlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzY3JpYmVFdmFsUmVzdWx0KGRlcHRoOiBudW1iZXIpOiBEZXNjcmlwdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbWVzc2FnZTogXCJhbiB1bnN1cHBvcnRlZCBleHByZXNzaW9uXCJcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgLy8gcHJvY2Vzc05vbk1lbWJlck92ZXJsb2FkIDogZnVuY3Rpb24oYXJncywgb3Ape1xyXG4gICAgLy8gICAgIHRyeXtcclxuICAgIC8vICAgICAgICAgdmFyIG92ZXJsb2FkZWRPcCA9IHRoaXMuY29udGV4dHVhbFNjb3BlLnJlcXVpcmVkTG9va3VwKFwib3BlcmF0b3JcIitvcCwge1xyXG4gICAgLy8gICAgICAgICAgICAgb3duOnRydWUsIHBhcmFtVHlwZXM6YXJncy5tYXAoZnVuY3Rpb24oYXJnKXtyZXR1cm4gYXJnLnR5cGU7fSlcclxuICAgIC8vICAgICAgICAgfSk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuZnVuY0NhbGwgPSB0aGlzLnN1Yi5mdW5jQ2FsbCA9IEZ1bmN0aW9uQ2FsbC5pbnN0YW5jZSh0aGlzLmNvZGUsIHtwYXJlbnQ6dGhpc30pO1xyXG4gICAgLy8gICAgICAgICB0aGlzLnN1Yi5mdW5jQ2FsbC5jb21waWxlKG92ZXJsb2FkZWRPcCwgYXJncy5tYXAoZnVuY3Rpb24oYXJnKXtyZXR1cm4gYXJnLmNvZGU7fSkpO1xyXG4gICAgLy8gICAgICAgICB0aGlzLnR5cGUgPSB0aGlzLnN1Yi5mdW5jQ2FsbC50eXBlO1xyXG4gICAgLy8gICAgICAgICB0aGlzLnZhbHVlQ2F0ZWdvcnkgPSB0aGlzLnN1Yi5mdW5jQ2FsbC52YWx1ZUNhdGVnb3J5O1xyXG4gICAgLy8gICAgICAgICB0aGlzLmlfY2hpbGRyZW5Ub0V4ZWN1dGUgPSB0aGlzLmlfY2hpbGRyZW5Ub0V4ZWN1dGVGb3JPdmVybG9hZDtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgY2F0Y2goZSl7XHJcbiAgICAvLyAgICAgICAgIGlmIChpc0EoZSwgU2VtYW50aWNFeGNlcHRpb25zLkJhZExvb2t1cCkpe1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIub3ZlcmxvYWRMb29rdXAodGhpcywgb3ApKTtcclxuICAgIC8vICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShlLmFubm90YXRpb24odGhpcykpO1xyXG4gICAgLy8gICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIGVsc2V7XHJcbiAgICAvLyAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfSxcclxuXHJcblxyXG4gICAgLy8gY29tcGlsZU1lbWJlck92ZXJsb2FkIDogZnVuY3Rpb24odGhpc0FyZywgYXJnQXN0cywgaXNUaGlzQ29uc3QsIG9wKXtcclxuICAgIC8vICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAvLyAgICAgdmFyIGF1eEFyZ3MgPSBhcmdBc3RzLm1hcChmdW5jdGlvbihhcmdBc3Qpe1xyXG4gICAgLy8gICAgICAgICB2YXIgYXV4QXJnID0gQ1BQQ29uc3RydWN0LmNyZWF0ZShhcmdBc3QsIHtwYXJlbnQ6IHNlbGYsIGF1eGlsaWFyeTogdHJ1ZX0pO1xyXG4gICAgLy8gICAgICAgICBhdXhBcmcudHJ5Q29tcGlsZSgpO1xyXG4gICAgLy8gICAgICAgICByZXR1cm4gYXV4QXJnO1xyXG4gICAgLy8gICAgIH0pO1xyXG5cclxuICAgIC8vICAgICB0cnl7XHJcbiAgICAvLyAgICAgICAgIHZhciBvdmVybG9hZGVkT3AgPSB0aGlzQXJnLnR5cGUuY2xhc3NTY29wZS5yZXF1aXJlZExvb2t1cChcIm9wZXJhdG9yXCIrb3AsIHtcclxuICAgIC8vICAgICAgICAgICAgIG93bjp0cnVlLCBwYXJhbVR5cGVzOmF1eEFyZ3MubWFwKGZ1bmN0aW9uKGFyZyl7cmV0dXJuIGFyZy50eXBlO30pLFxyXG4gICAgLy8gICAgICAgICAgICAgaXNUaGlzQ29uc3Q6IGlzVGhpc0NvbnN0XHJcbiAgICAvLyAgICAgICAgIH0pO1xyXG5cclxuICAgIC8vICAgICAgICAgdGhpcy5pc092ZXJsb2FkID0gdHJ1ZTtcclxuICAgIC8vICAgICAgICAgdGhpcy5pc01lbWJlck92ZXJsb2FkID0gdHJ1ZTtcclxuICAgIC8vICAgICAgICAgdGhpcy5mdW5jQ2FsbCA9IEZ1bmN0aW9uQ2FsbC5pbnN0YW5jZSh7YXJnczogYXJnQXN0c30sIHtwYXJlbnQ6dGhpc30pO1xyXG4gICAgLy8gICAgICAgICB0aGlzLmZ1bmNDYWxsLmNvbXBpbGUoe2Z1bmM6IG92ZXJsb2FkZWRPcH0pO1xyXG4gICAgLy8gICAgICAgICB0aGlzLnR5cGUgPSB0aGlzLmZ1bmNDYWxsLnR5cGU7XHJcbiAgICAvLyAgICAgICAgIHRoaXMudmFsdWVDYXRlZ29yeSA9IHRoaXMuZnVuY0NhbGwudmFsdWVDYXRlZ29yeTtcclxuICAgIC8vICAgICAgICAgdGhpcy5pX2NoaWxkcmVuVG9FeGVjdXRlID0gdGhpcy5pX2NoaWxkcmVuVG9FeGVjdXRlRm9yTWVtYmVyT3ZlcmxvYWQ7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGNhdGNoKGUpe1xyXG4gICAgLy8gICAgICAgICBpZiAoaXNBKGUsIFNlbWFudGljRXhjZXB0aW9ucy5CYWRMb29rdXApKXtcclxuICAgIC8vICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLm92ZXJsb2FkTG9va3VwKHRoaXMsIG9wKSk7XHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoZS5hbm5vdGF0aW9uKHRoaXMpKTtcclxuICAgIC8vICAgICAgICAgICAgIHJldHVybjtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICBlbHNle1xyXG4gICAgLy8gICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcblxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNpbXBsZVJ1bnRpbWVFeHByZXNzaW9uPFQgZXh0ZW5kcyBUeXBlID0gVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnkgPSBWYWx1ZUNhdGVnb3J5LCBDIGV4dGVuZHMgQ29tcGlsZWRFeHByZXNzaW9uPFQsVj4gPSBDb21waWxlZEV4cHJlc3Npb248VCxWPj4gZXh0ZW5kcyBSdW50aW1lRXhwcmVzc2lvbjxULFYsQz4ge1xyXG5cclxuICAgIHByaXZhdGUgaW5kZXggOiAwIHwgMSA9IDA7XHJcblxyXG4gICAgLy8gTm90ZTogdGhpcyBpcyBSdW50aW1lQ29uc3RydWN0IHJhdGhlciB0aGFuIFJ1bnRpbWVFeHByZXNzaW9uLCBiZWNhdXNlIFJ1bnRpbWVFeHByZXNzaW9uIGlzIGltcGxpY2l0bHlcclxuICAgIC8vICAgICAgIFJ1bnRpbWVFeHByZXNzaW9uPFR5cGUsIFZhbHVlQ2F0ZWdvcnk+IGFuZCBwYXJ0aWN1bGFyIGluc3RhbnRpYXRpb25zIG1heSBub3RcclxuICAgIHByaXZhdGUgc3ViZXhwcmVzc2lvbnM6IFJ1bnRpbWVDb25zdHJ1Y3RbXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvciAobW9kZWw6IEMsIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgICAgIHN1cGVyKG1vZGVsLCBwYXJlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBzZXRTdWJleHByZXNzaW9ucyhzdWJleHByZXNzaW9uczogUnVudGltZUNvbnN0cnVjdFtdKSB7XHJcbiAgICAgICAgdGhpcy5zdWJleHByZXNzaW9ucyA9IHN1YmV4cHJlc3Npb25zO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCB1cE5leHRJbXBsKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmluZGV4ID09PSAwKSB7IC8vIHN1YmV4cHJlc3Npb25zXHJcbiAgICAgICAgICAgIC8vIHB1c2ggc3ViZXhwcmVzc2lvbnMgaW4gcmV2ZXJzZSBvcmRlciBzaW5jZSBpdCdzIGEgc3RhY2tcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuc3ViZXhwcmVzc2lvbnMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2ltLnB1c2godGhpcy5zdWJleHByZXNzaW9uc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5pbmRleCA9IDE7IC8vIG9wZXJhdGVcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByb3RlY3RlZCBzdGVwRm9yd2FyZEltcGwoKSB7XHJcbiAgICAgICAgdGhpcy5vcGVyYXRlKCk7XHJcbiAgICAgICAgdGhpcy5kb25lKCk7XHJcbiAgICAgICAgLy8gVE9ETzogaG93IGRvIGV4cHJlc3Npb25zIHBvcCB0aGVtc2VsdmVzP1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBvcGVyYXRlKCkgOiB2b2lkO1xyXG59XHJcblxyXG5cclxuLy8gYWJzdHJhY3QgY2xhc3MgTFJFeHByZXNzaW9uIGV4dGVuZHMgRXhwcmVzc2lvbiB7XHJcbi8vICAgICB0X2NvbXBpbGVkVHlwZSEgOiBFeHByZXNzaW9uW1widF9jb21waWxlZFR5cGVcIl0gJiB7XHJcbi8vICAgICAgICAgbGVmdDogQ29tcGlsZWRFeHByZXNzaW9uPEV4cHJlc3Npb24sIFR5cGUsIFwicHJ2YWx1ZVwiPjtcclxuLy8gICAgICAgICByaWdodDogQ29tcGlsZWRFeHByZXNzaW9uPEV4cHJlc3Npb24sIFR5cGUsIFwicHJ2YWx1ZVwiPjtcclxuLy8gICAgIH1cclxuLy8gfTtcclxuXHJcblxyXG50eXBlIHRfT3ZlcmxvYWRhYmxlT3BlcmF0b3JzID1cclxuICAgIFwiK1wiIHwgXCItXCIgfCBcIipcIiB8IFwiL1wiIHwgXCIlXCIgfFxyXG4gICAgXCImXCIgfCBcInxcIiB8IFwiXlwiIHwgXCJ+XCIgfCBcIjw8XCIgfCBcIj4+XCIgfCBcIjxcIiB8IFwiPlwiIHwgXCI8PVwiIHxcclxuICAgIFwiPj1cIiB8IFwiPT1cIiB8IFwiIT1cIiB8IFwiJiZcIiB8IFwifHxcIiB8IFwiIVwiIHwgXCIrK1wiIHwgXCItLVwiIHxcclxuICAgIFwiKz1cIiB8IFwiLT1cIiB8IFwiKj1cIiB8IFwiLz1cIiB8IFwiJT1cIiB8IFwiJj1cIiB8IFwifD1cIiB8IFwiXj1cIiB8IFwiPDw9XCIgfCBcIj4+PVwiIHxcclxuICAgIFwiLFwiIHwgXCItPlwiIHwgXCItPipcIiB8IFwiKClcIiB8IFwiW11cIjtcclxuXHJcblxyXG4vLyBleHBvcnQgY2xhc3MgT3BlcmF0b3JPdmVybG9hZCBleHRlbmRzIEV4cHJlc3Npb24ge1xyXG5cclxuLy8gICAgIHB1YmxpYyByZWFkb25seSB0eXBlPzogVHlwZTtcclxuLy8gICAgIHB1YmxpYyByZWFkb25seSB2YWx1ZUNhdGVnb3J5PzogVmFsdWVDYXRlZ29yeTtcclxuXHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgb3BlcmF0b3I6IHRfT3ZlcmxvYWRhYmxlT3BlcmF0b3JzO1xyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IG9wZXJhbmRzOiBFeHByZXNzaW9uW107XHJcbiAgICBcclxuLy8gICAgIHB1YmxpYyByZWFkb25seSBpc01lbWJlck92ZXJsb2FkPzogYm9vbGVhbjtcclxuLy8gICAgIHB1YmxpYyByZWFkb25seSBvdmVybG9hZEZ1bmN0aW9uQ2FsbD86IEZ1bmN0aW9uQ2FsbDtcclxuXHJcbi8vICAgICBwcml2YXRlIGNvbnN0cnVjdG9yKGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0LCBvcGVyYW5kczogRXhwcmVzc2lvbltdLCBvcGVyYXRvcjogdF9PdmVybG9hZGFibGVPcGVyYXRvcnMpIHtcclxuLy8gICAgICAgICBzdXBlcihjb250ZXh0KTtcclxuXHJcbi8vICAgICAgICAgdGhpcy5vcGVyYXRvciA9IG9wZXJhdG9yO1xyXG4vLyAgICAgICAgIHRoaXMub3BlcmFuZHMgPSBvcGVyYW5kczsgLy8gVGhlc2UgbWF5IGdvIHRocm91Z2ggY29udmVyc2lvbnMgd2hlbiBhdHRhY2hlZCB0byBhIGZ1bmN0aW9uIGNhbGwsIGJ1dCB0aGlzIG1lbWJlciBjb250YWlucyB0aGUgXCJyYXdcIiB2ZXJzaW9uc1xyXG5cclxuLy8gICAgICAgICAvLyBJZiBhbnkgb2YgdGhlIG9wZXJhbmRzIGFyZSBub3Qgd2VsbC10eXBlZCwgY2FuJ3QgY29tcGlsZVxyXG4vLyAgICAgICAgIGlmICghdGhpcy5oYXNXZWxsVHlwZWRPcGVyYW5kcyhvcGVyYW5kcykpIHtcclxuLy8gICAgICAgICAgICAgdGhpcy50eXBlID0gbnVsbDtcclxuLy8gICAgICAgICAgICAgdGhpcy52YWx1ZUNhdGVnb3J5ID0gbnVsbDtcclxuXHJcbi8vICAgICAgICAgICAgIC8vIEluIHRoaXMgY2FzZSwgYXR0YWNoIG9wZXJhbmRzIGRpcmVjdGx5IGFzIGNoaWxkcmVuLlxyXG4vLyAgICAgICAgICAgICBvcGVyYW5kcy5mb3JFYWNoKChleHByKSA9PiB7dGhpcy5hdHRhY2goZXhwcik7fSk7XHJcbi8vICAgICAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIC8vIFNhbml0eSBjaGVjayB0aGF0IGF0IGxlYXN0IG9uZSBvZiB0aGUgb3BlcmFuZHMgaGFzIGNsYXNzLXR5cGVcclxuLy8gICAgICAgICBhc3NlcnQob3BlcmFuZHMubGVuZ3RoID4gMCwgXCJPcGVyYXRvciBvdmVybG9hZCBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIG9wZXJhbmQuXCIpO1xyXG4vLyAgICAgICAgIGFzc2VydChvcGVyYW5kcy5zb21lKChleHByKSA9PiB7cmV0dXJuIGlzVHlwZShleHByLnR5cGUsIENsYXNzVHlwZSk7fSksIFwiQXQgbGVhc3Qgb25lIG9wZXJhbmQgaW4gYSBub24tbWVtYmVyIG92ZXJsb2FkIG11c3QgaGF2ZSBjbGFzcy10eXBlLlwiKTtcclxuXHJcblxyXG4vLyAgICAgICAgIGxldCBvdmVybG9hZEZ1bmN0aW9uIDogRnVuY3Rpb25FbnRpdHk/ID0gbnVsbDtcclxuXHJcbi8vICAgICAgICAgLy8gSWYgdGhlIGxlZnRtb3N0IG9wZXJhbmQgaXMgY2xhc3MtdHlwZSwgd2UgY2FuIGxvb2sgZm9yIGEgbWVtYmVyIG92ZXJsb2FkXHJcbi8vICAgICAgICAgbGV0IGxlZnRtb3N0ID0gb3BlcmFuZHNbMF07XHJcbi8vICAgICAgICAgaWYgKGlzVHlwZShsZWZ0bW9zdC50eXBlLCBDbGFzc1R5cGUpKSB7XHJcbi8vICAgICAgICAgICAgIGxldCBlbnRpdHkgPSBsZWZ0bW9zdC50eXBlLmNwcENsYXNzLnNjb3BlLnNpbmdsZUxvb2t1cChcIm9wZXJhdG9yXCIgKyB0aGlzLm9wZXJhdG9yLCB7XHJcbi8vICAgICAgICAgICAgICAgICBvd246dHJ1ZSwgcGFyYW1zOltvcGVyYW5kcy5zbGljZSgxKV0sIGlzVGhpc0NvbnN0IDogbGVmdG1vc3QudHlwZS5pc0NvbnN0XHJcbi8vICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgVXRpbC5hc3NlcnQoZW50aXR5IGluc3RhbmNlb2YgRnVuY3Rpb25FbnRpdHksIFwiTm9uLWZ1bmN0aW9uIGVudGl0eSBmb3VuZCBmb3Igb3BlcmF0b3Igb3ZlcmxvYWQgbmFtZSBsb29rdXAuXCIpO1xyXG4vLyAgICAgICAgICAgICBvdmVybG9hZEZ1bmN0aW9uID0gPEZ1bmN0aW9uRW50aXR5PmVudGl0eTtcclxuLy8gICAgICAgICB9XHJcbiAgICAgICAgXHJcbi8vICAgICAgICAgLy8gSWYgd2UgZGlkbid0IGZpbmQgYSBtZW1iZXIgb3ZlcmxvYWQsIG5leHQgbG9vayBmb3IgYSBub24tbWVtYmVyIG92ZXJsb2FkXHJcbi8vICAgICAgICAgaWYgKCFvdmVybG9hZEZ1bmN0aW9uKSB7XHJcbi8vICAgICAgICAgICAgIGxldCBlbnRpdHkgPSB0aGlzLmNvbnRleHR1YWxTY29wZS5zaW5nbGVMb29rdXAoXCJvcGVyYXRvclwiICsgdGhpcy5vcGVyYXRvciwge1xyXG4vLyAgICAgICAgICAgICAgICAgcGFyYW1zOiBvcGVyYW5kc1xyXG4vLyAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgIFV0aWwuYXNzZXJ0KGVudGl0eSBpbnN0YW5jZW9mIEZ1bmN0aW9uRW50aXR5LCBcIk5vbi1mdW5jdGlvbiBlbnRpdHkgZm91bmQgZm9yIG9wZXJhdG9yIG92ZXJsb2FkIG5hbWUgbG9va3VwLlwiKTtcclxuLy8gICAgICAgICAgICAgb3ZlcmxvYWRGdW5jdGlvbiA9IDxGdW5jdGlvbkVudGl0eT5lbnRpdHk7XHJcbi8vICAgICAgICAgfVxyXG5cclxuXHJcbi8vICAgICAgICAgaWYgKG92ZXJsb2FkRnVuY3Rpb24pIHtcclxuLy8gICAgICAgICAgICAgdGhpcy5pc01lbWJlck92ZXJsb2FkID0gb3ZlcmxvYWRGdW5jdGlvbiBpbnN0YW5jZW9mIE1lbWJlckZ1bmN0aW9uRW50aXR5O1xyXG5cclxuXHJcbi8vICAgICAgICAgICAgIGlmICh0aGlzLmlzTWVtYmVyT3ZlcmxvYWQpIHtcclxuLy8gICAgICAgICAgICAgICAgIC8vIE1lbWJlciBvdmVybG9hZCBtZWFucyBsZWZ0bW9zdCBvcGVyYW5kIGlzIG91ciBkaXJlY3RseSBhdHRhY2hlZCBjaGlsZCwgb3RoZXIgb3BlcmFuZHMgYXJlIGFyZ3VtZW50cyB0byBmdW5jdGlvbiBjYWxsLlxyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2gob3BlcmFuZHNbMF0pO1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2godGhpcy5vdmVybG9hZEZ1bmN0aW9uQ2FsbCA9IG5ldyBGdW5jdGlvbkNhbGwoY29udGV4dCwgb3ZlcmxvYWRGdW5jdGlvbiwgb3BlcmFuZHMuc2xpY2UoMSkpKTtcclxuLy8gICAgICAgICAgICAgICAgIC8vIFRoZSByZWNlaXZlciBvZiB0aGUgZnVuY3Rpb24gY2FsbCBpcyBzZXQgYXQgcnVudGltZSBhZnRlciB0aGUgb3BlcmFuZCBpcyBldmFsdWF0ZWRcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICAgICAgLy8gTm9uLW1lbWJlciBvdmVybG9hZCBtZWFucyBhbGwgb3BlcmFuZHMgYXJlIGFyZ3VtZW50cyBvZiB0aGUgZnVuY3Rpb24gY2FsbFxyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2godGhpcy5vdmVybG9hZEZ1bmN0aW9uQ2FsbCA9IG5ldyBGdW5jdGlvbkNhbGwoY29udGV4dCwgb3ZlcmxvYWRGdW5jdGlvbiwgb3BlcmFuZHMpKTtcclxuLy8gICAgICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAgICAgdGhpcy50eXBlID0gdGhpcy5vdmVybG9hZEZ1bmN0aW9uQ2FsbC5mdW5jLnR5cGUucmV0dXJuVHlwZTtcclxuLy8gICAgICAgICAgICAgdGhpcy52YWx1ZUNhdGVnb3J5ID0gdGhpcy5vdmVybG9hZEZ1bmN0aW9uQ2FsbC52YWx1ZUNhdGVnb3J5O1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICAvLyBUT0RPOiBhZGQgaW4gbm90ZXMgZnJvbSBhdHRlbXB0ZWQgbG9va3VwIG9wZXJhdGlvbnMgZm9yIHRoZSBtZW1iZXIgYW5kIG5vbi1tZW1iZXIgb3ZlcmxvYWRzXHJcbi8vICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmJpbmFyeS5vdmVybG9hZF9ub3RfZm91bmQodGhpcywgb3BlcmF0b3IsIG9wZXJhbmRzKSk7XHJcblxyXG4vLyAgICAgICAgICAgICB0aGlzLnR5cGUgPSBudWxsO1xyXG4vLyAgICAgICAgICAgICB0aGlzLnZhbHVlQ2F0ZWdvcnkgPSBudWxsO1xyXG5cclxuLy8gICAgICAgICAgICAgLy8gSWYgd2UgZGlkbid0IGZpbmQgYSBmdW5jdGlvbiB0byB1c2UsIGp1c3QgYXR0YWNoIG9wZXJhbmRzIGRpcmVjdGx5IGFzIGNoaWxkcmVuLlxyXG4vLyAgICAgICAgICAgICBvcGVyYW5kcy5mb3JFYWNoKChleHByKSA9PiB7dGhpcy5hdHRhY2goZXhwcik7fSk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHByaXZhdGUgaGFzV2VsbFR5cGVkT3BlcmFuZHMob3BlcmFuZHM6IEV4cHJlc3Npb25bXSkgOiBvcGVyYW5kcyBpcyBUeXBlZEV4cHJlc3Npb25bXSB7XHJcbi8vICAgICAgICAgcmV0dXJuIG9wZXJhbmRzLmV2ZXJ5KChleHByKSA9PiB7IHJldHVybiBleHByLmlzV2VsbFR5cGVkKCk7IH0pO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbjxUIGV4dGVuZHMgVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnk+KHRoaXM6IENvbXBpbGVkRXhwcmVzc2lvbjxULFY+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZU9wZXJhdG9yT3ZlcmxvYWQ8Q29tcGlsZWRPcGVyYXRvck92ZXJsb2FkPFQsVj4+IHtcclxuLy8gICAgICAgICByZXR1cm4gbmV3IFJ1bnRpbWVPcGVyYXRvck92ZXJsb2FkKHRoaXMsIHBhcmVudCk7XHJcbi8vICAgICB9XHJcbiAgICBcclxuLy8gICAgIHB1YmxpYyBkZXNjcmliZUV2YWxSZXN1bHQoZGVwdGg6IG51bWJlcik6IERlc2NyaXB0aW9uIHtcclxuLy8gICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuLy8gICAgIH1cclxuXHJcblxyXG5cclxuLy8gICAgIC8vIHVwTmV4dCA6IENsYXNzLkFERElUSU9OQUxMWShmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuLy8gICAgIC8vICAgICBpZiAodGhpcy5mdW5jQ2FsbCl7XHJcbi8vICAgICAvLyAgICAgICAgIGluc3QuY2hpbGRJbnN0YW5jZXMuZnVuY0NhbGwuZ2V0UnVudGltZUZ1bmN0aW9uKCkuc2V0UmVjZWl2ZXIoRXZhbHVhdGlvblJlc3VsdFJ1bnRpbWVFbnRpdHkuaW5zdGFuY2UodGhpcy5saHMudHlwZSwgaW5zdC5jaGlsZEluc3RhbmNlcy5saHMpKTtcclxuLy8gICAgIC8vICAgICB9XHJcbi8vICAgICAvLyB9KSxcclxuXHJcbi8vICAgICAvLyBzdGVwRm9yd2FyZCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG5cclxuLy8gICAgIC8vICAgICBpZiAoaW5zdC5pbmRleCA9PSBcIm9wZXJhdGVcIil7XHJcblxyXG4vLyAgICAgLy8gICAgICAgICBpZiAodGhpcy5mdW5jQ2FsbCl7XHJcbi8vICAgICAvLyAgICAgICAgICAgICAvLyBBc3NpZ25tZW50IG9wZXJhdG9yIGZ1bmN0aW9uIGNhbGwgaGFzIGFscmVhZHkgdGFrZW4gY2FyZSBvZiB0aGUgXCJhc3NpZ25tZW50XCIuXHJcbi8vICAgICAvLyAgICAgICAgICAgICAvLyBKdXN0IGV2YWx1YXRlIHRvIHJldHVybmVkIHZhbHVlIGZyb20gYXNzaWdubWVudCBvcGVyYXRvci5cclxuLy8gICAgIC8vICAgICAgICAgICAgIGluc3Quc2V0RXZhbFJlc3VsdChpbnN0LmNoaWxkSW5zdGFuY2VzLmZ1bmNDYWxsLmV2YWxSZXN1bHQpO1xyXG4vLyAgICAgLy8gICAgICAgICAgICAgdGhpcy5kb25lKHNpbSwgaW5zdCk7XHJcbi8vICAgICAvLyAgICAgICAgICAgICAvL3JldHVybiB0cnVlO1xyXG4vLyAgICAgLy8gICAgICAgICB9XHJcbi8vICAgICAvLyAgICAgICAgIGVsc2V7XHJcbi8vICAgICAvLyAgICAgICAgIH1cclxuLy8gICAgIC8vICAgICB9XHJcbi8vICAgICAvLyB9LFxyXG5cclxuLy8gfVxyXG5cclxuLy8gZXhwb3J0IGludGVyZmFjZSBDb21waWxlZE9wZXJhdG9yT3ZlcmxvYWQ8VCBleHRlbmRzIFBvdGVudGlhbFJldHVyblR5cGUgPSBQb3RlbnRpYWxSZXR1cm5UeXBlLCBWIGV4dGVuZHMgVmFsdWVDYXRlZ29yeSA9IFZhbHVlQ2F0ZWdvcnk+IGV4dGVuZHMgT3BlcmF0b3JPdmVybG9hZCwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4gICAgXHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZTogVDtcclxuLy8gICAgIHB1YmxpYyByZWFkb25seSB2YWx1ZUNhdGVnb3J5OiBWO1xyXG5cclxuLy8gICAgIHB1YmxpYyByZWFkb25seSBvcGVyYW5kczogQ29tcGlsZWRFeHByZXNzaW9uW107XHJcbiAgICBcclxuLy8gICAgIHB1YmxpYyByZWFkb25seSBpc01lbWJlck92ZXJsb2FkOiBib29sZWFuO1xyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IG92ZXJsb2FkRnVuY3Rpb25DYWxsOiBDb21waWxlZEZ1bmN0aW9uQ2FsbDxULFY+OyBcclxuLy8gfVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21tYUFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcImNvbW1hX2V4cHJlc3Npb25cIjtcclxuICAgIHJlYWRvbmx5IG9wZXJhdG9yOiBcIixcIjtcclxuICAgIHJlYWRvbmx5IGxlZnQ6IEV4cHJlc3Npb25BU1ROb2RlO1xyXG4gICAgcmVhZG9ubHkgcmlnaHQ6IEV4cHJlc3Npb25BU1ROb2RlO1xyXG4gICAgcmVhZG9ubHkgYXNzb2NpYXRpdml0eTogXCJsZWZ0XCI7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDb21tYUV4cHJlc3Npb24gZXh0ZW5kcyBFeHByZXNzaW9uIHtcclxuICAgIFxyXG4gICAgLy8gVE9ETzogd2hhdCBpcyB0aGlzIGZvcj9cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgY29uc3RydWN0S2luZCA9IFN5bWJvbChcIkNvbW1hXCIpO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSB0eXBlPzogVHlwZTtcclxuICAgIHB1YmxpYyByZWFkb25seSB2YWx1ZUNhdGVnb3J5PzogVmFsdWVDYXRlZ29yeTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVmdDogRXhwcmVzc2lvbjtcclxuICAgIHB1YmxpYyByZWFkb25seSByaWdodDogRXhwcmVzc2lvbjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQsIGxlZnQ6IEV4cHJlc3Npb24sIHJpZ2h0OiBFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgc3VwZXIoY29udGV4dCk7XHJcbiAgICAgICAgdGhpcy50eXBlID0gcmlnaHQudHlwZTtcclxuICAgICAgICB0aGlzLnZhbHVlQ2F0ZWdvcnkgPSByaWdodC52YWx1ZUNhdGVnb3J5O1xyXG4gICAgICAgIHRoaXMuYXR0YWNoKHRoaXMubGVmdCA9IGxlZnQpO1xyXG4gICAgICAgIHRoaXMuYXR0YWNoKHRoaXMucmlnaHQgPSByaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVGcm9tQVNUKGFzdDogQ29tbWFBU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgOiBDb21tYUV4cHJlc3Npb24ge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ29tbWFFeHByZXNzaW9uKGNvbnRleHQsIGNyZWF0ZUV4cHJlc3Npb25Gcm9tQVNUKGFzdC5sZWZ0LCBjb250ZXh0KSwgY3JlYXRlRXhwcmVzc2lvbkZyb21BU1QoYXN0LnJpZ2h0LCBjb250ZXh0KSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIHB1YmxpYyBpc1N1Y2Nlc3NmdWxseUNvbXBpbGVkKCk6IHRoaXMgaXMgQ29tbWE8dHJ1ZT4ge1xyXG4gICAgLy8gICAgIHJldHVybiAhdGhpcy5oYXNFcnJvcnM7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPFQgZXh0ZW5kcyBUeXBlLCBWIGV4dGVuZHMgVmFsdWVDYXRlZ29yeT4odGhpczogQ29tcGlsZWRDb21tYTxULFY+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZUNvbW1hPFQsVj4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUnVudGltZUNvbW1hKDxDb21waWxlZENvbW1hPFQsVj4+dGhpcywgcGFyZW50KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgaXNUYWlsQ2hpbGQoY2hpbGQ6IENQUENvbnN0cnVjdCkge1xyXG4gICAgLy8gICAgIGlmIChjaGlsZCA9PT0gdGhpcy5yaWdodCl7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiB7aXNUYWlsOiB0cnVlLFxyXG4gICAgLy8gICAgICAgICAgICAgcmVhc29uOiBcIlRoZSByZWN1cnNpdmUgY2FsbCBpcyBvbiB0aGUgcmlnaHQgc2lkZSBvZiB0aGUgY29tbWEsIHNvIGl0IGlzIGd1YXJhbnRlZWQgdG8gYmUgZXZhbHVhdGVkIGxhc3QuXCJcclxuICAgIC8vICAgICAgICAgfTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZXtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIHtpc1RhaWw6IGZhbHNlLFxyXG4gICAgLy8gICAgICAgICAgICAgcmVhc29uOiBcIlRoZSBleHByZXNzaW9uIG9uIHRoZSByaWdodCBvZiB0aGUgY29tbWEgd2lsbCBiZSBldmFsdWF0ZWQgYWZ0ZXIgdGhlIHJlY3Vyc2l2ZSBjYWxsLlwiLFxyXG4gICAgLy8gICAgICAgICAgICAgb3RoZXJzOiBbdGhpcy5yaWdodF1cclxuICAgIC8vICAgICAgICAgfTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgcHVibGljIGRlc2NyaWJlRXZhbFJlc3VsdChkZXB0aDogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmlnaHQuZGVzY3JpYmVFdmFsUmVzdWx0KGRlcHRoKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRDb21tYTxUIGV4dGVuZHMgVHlwZSA9IFR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5ID0gVmFsdWVDYXRlZ29yeT4gZXh0ZW5kcyBDb21tYUV4cHJlc3Npb24sIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuICAgIHJlYWRvbmx5IHRlbXBvcmFyeURlYWxsb2NhdG9yPzogQ29tcGlsZWRUZW1wb3JhcnlEZWFsbG9jYXRvcjsgLy8gdG8gbWF0Y2ggQ29tcGlsZWRQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiBzdHJ1Y3R1cmVcclxuICAgIHJlYWRvbmx5IHR5cGU6IFQ7XHJcbiAgICByZWFkb25seSB2YWx1ZUNhdGVnb3J5OiBWO1xyXG4gICAgcmVhZG9ubHkgbGVmdDogQ29tcGlsZWRFeHByZXNzaW9uO1xyXG4gICAgcmVhZG9ubHkgcmlnaHQ6IENvbXBpbGVkRXhwcmVzc2lvbjxULFY+O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUnVudGltZUNvbW1hPFQgZXh0ZW5kcyBUeXBlLCBWIGV4dGVuZHMgVmFsdWVDYXRlZ29yeT4gZXh0ZW5kcyBTaW1wbGVSdW50aW1lRXhwcmVzc2lvbjxULFYsQ29tcGlsZWRDb21tYTxULFY+PiB7XHJcblxyXG4gICAgcHVibGljIGxlZnQ6IFJ1bnRpbWVFeHByZXNzaW9uO1xyXG4gICAgcHVibGljIHJpZ2h0OiBSdW50aW1lRXhwcmVzc2lvbjxULFY+O1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvciAobW9kZWw6IENvbXBpbGVkQ29tbWE8VCxWPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgc3VwZXIobW9kZWwsIHBhcmVudCk7XHJcbiAgICAgICAgdGhpcy5yaWdodCA9IHRoaXMubW9kZWwucmlnaHQuY3JlYXRlUnVudGltZUV4cHJlc3Npb24odGhpcyk7XHJcbiAgICAgICAgdGhpcy5sZWZ0ID0gdGhpcy5tb2RlbC5sZWZ0LmNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuc2V0U3ViZXhwcmVzc2lvbnMoW3RoaXMubGVmdCwgdGhpcy5yaWdodF0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvcGVyYXRlKCkge1xyXG4gICAgICAgIHRoaXMuc2V0RXZhbFJlc3VsdCh0aGlzLnJpZ2h0LmV2YWxSZXN1bHQpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBUZXJuYXJ5QVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwidGVybmFyeV9leHByZXNzaW9uXCI7XHJcbiAgICByZWFkb25seSBjb25kaXRpb246IEV4cHJlc3Npb25BU1ROb2RlO1xyXG4gICAgcmVhZG9ubHkgdGhlbjogRXhwcmVzc2lvbkFTVE5vZGU7XHJcbiAgICByZWFkb25seSBvdGhlcndpc2U6IEV4cHJlc3Npb25BU1ROb2RlO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVGVybmFyeUV4cHJlc3Npb24gZXh0ZW5kcyBFeHByZXNzaW9uIHtcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGU/OiBUeXBlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHZhbHVlQ2F0ZWdvcnk/OiBWYWx1ZUNhdGVnb3J5O1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBjb25kaXRpb246IEV4cHJlc3Npb247XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGhlbjogRXhwcmVzc2lvbjtcclxuICAgIHB1YmxpYyByZWFkb25seSBvdGhlcndpc2U6IEV4cHJlc3Npb247XHJcbiAgICBcclxuICAgIHB1YmxpYyByZWFkb25seSBfdF9jb21waWxlZCE6IENvbXBpbGVkVGVybmFyeTtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQsIGNvbmRpdGlvbjogRXhwcmVzc2lvbiwgdGhlbjogRXhwcmVzc2lvbiwgb3RoZXJ3aXNlOiBFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgc3VwZXIoY29udGV4dCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYoY29uZGl0aW9uLmlzV2VsbFR5cGVkKCkpIHtcclxuICAgICAgICAgICAgY29uZGl0aW9uID0gdGhpcy5jb21waWxlQ29uZGl0aW9uKGNvbmRpdGlvbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhlbi5pc1dlbGxUeXBlZCgpICYmIG90aGVyd2lzZS5pc1dlbGxUeXBlZCgpKSB7XHJcbiAgICAgICAgICAgICh7dGhlbiwgb3RoZXJ3aXNlfSA9IHRoaXMuY29tcGlsZUNvbnNlcXVlbmNlcyh0aGVuLCBvdGhlcndpc2UpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuYXR0YWNoKHRoaXMuY29uZGl0aW9uID0gY29uZGl0aW9uKTtcclxuICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLnRoZW4gPSB0aGVuKTtcclxuICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLm90aGVyd2lzZSA9IG90aGVyd2lzZSk7XHJcblxyXG4gICAgICAgIHRoaXMudHlwZSA9IHRoZW4udHlwZTtcclxuICAgICAgICB0aGlzLnZhbHVlQ2F0ZWdvcnkgPSB0aGVuLnZhbHVlQ2F0ZWdvcnk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRnJvbUFTVChhc3Q6IFRlcm5hcnlBU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgOiBUZXJuYXJ5RXhwcmVzc2lvbiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBUZXJuYXJ5RXhwcmVzc2lvbihjb250ZXh0LFxyXG4gICAgICAgICAgICBjcmVhdGVFeHByZXNzaW9uRnJvbUFTVChhc3QuY29uZGl0aW9uLCBjb250ZXh0KSxcclxuICAgICAgICAgICAgY3JlYXRlRXhwcmVzc2lvbkZyb21BU1QoYXN0LnRoZW4sIGNvbnRleHQpLFxyXG4gICAgICAgICAgICBjcmVhdGVFeHByZXNzaW9uRnJvbUFTVChhc3Qub3RoZXJ3aXNlLCBjb250ZXh0KSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjb21waWxlQ29uZGl0aW9uKGNvbmRpdGlvbiA6IFR5cGVkRXhwcmVzc2lvbikge1xyXG4gICAgICAgIGNvbmRpdGlvbiA9IHN0YW5kYXJkQ29udmVyc2lvbihjb25kaXRpb24sIG5ldyBCb29sKCkpO1xyXG4gICAgICAgIGlmICghaXNUeXBlKGNvbmRpdGlvbi50eXBlLCBCb29sKSkge1xyXG4gICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci50ZXJuYXJ5LmNvbmRpdGlvbl9ib29sKGNvbmRpdGlvbiwgY29uZGl0aW9uLnR5cGUpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbmRpdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNvbXBpbGVDb25zZXF1ZW5jZXModGhlbjogVHlwZWRFeHByZXNzaW9uLCBvdGhlcndpc2U6IFR5cGVkRXhwcmVzc2lvbikge1xyXG4gICAgICAgIC8vIElmIG9uZSBvZiB0aGUgZXhwcmVzc2lvbnMgaXMgYSBwcnZhbHVlLCBhdHRlbXB0IHRvIG1ha2UgdGhlIG90aGVyIG9uZSBhcyB3ZWxsXHJcbiAgICAgICAgaWYgKHRoZW4uaXNQcnZhbHVlKCkgJiYgb3RoZXJ3aXNlLmlzTHZhbHVlKCkpIHtcclxuICAgICAgICAgICAgb3RoZXJ3aXNlID0gY29udmVydFRvUFJWYWx1ZShvdGhlcndpc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChvdGhlcndpc2UuaXNQcnZhbHVlKCkgJiYgdGhlbi5pc0x2YWx1ZSgpKSB7XHJcbiAgICAgICAgICAgIHRoZW4gPSBjb252ZXJ0VG9QUlZhbHVlKHRoZW4pO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG5cclxuICAgICAgICBpZiAoIXNhbWVUeXBlKHRoZW4udHlwZSwgb3RoZXJ3aXNlLnR5cGUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5sb2JzdGVyLnRlcm5hcnlTYW1lVHlwZSh0aGlzLCB0aGVuLnR5cGUsIG90aGVyd2lzZS50eXBlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc1R5cGUodGhlbi50eXBlLCBWb2lkVHlwZSkgfHwgaXNUeXBlKG90aGVyd2lzZS50eXBlLCBWb2lkVHlwZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmxvYnN0ZXIudGVybmFyeU5vVm9pZCh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0aGVuLnZhbHVlQ2F0ZWdvcnkgIT09IG90aGVyd2lzZS52YWx1ZUNhdGVnb3J5KXtcclxuICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIudGVybmFyeS5zYW1lVmFsdWVDYXRlZ29yeSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB7dGhlbiwgb3RoZXJ3aXNlfTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUV4cHJlc3Npb248VCBleHRlbmRzIFR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5Pih0aGlzOiBDb21waWxlZFRlcm5hcnk8VCxWPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVUZXJuYXJ5PFQsVj47XHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUV4cHJlc3Npb248VCBleHRlbmRzIFR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5Pih0aGlzOiBDb21waWxlZEV4cHJlc3Npb248VCxWPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IG5ldmVyO1xyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPFQgZXh0ZW5kcyBUeXBlLCBWIGV4dGVuZHMgVmFsdWVDYXRlZ29yeT4odGhpczogQ29tcGlsZWRUZXJuYXJ5PFQsVj4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lVGVybmFyeTxULFY+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFJ1bnRpbWVUZXJuYXJ5KHRoaXMsIHBhcmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ET1xyXG4gICAgcHVibGljIGRlc2NyaWJlRXZhbFJlc3VsdChkZXB0aDogbnVtYmVyKTogRGVzY3JpcHRpb24ge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG5cclxuICAgIC8vIHB1YmxpYyBpc1RhaWxDaGlsZChjaGlsZDogQ1BQQ29uc3RydWN0KSB7XHJcbiAgICAvLyAgICAgaWYgKGNoaWxkID09PSB0aGlzLmNvbmRpdGlvbil7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiB7aXNUYWlsOiBmYWxzZSxcclxuICAgIC8vICAgICAgICAgICAgIHJlYXNvbjogXCJPbmUgb2YgdGhlIHR3byBzdWJleHByZXNzaW9ucyBpbiB0aGUgdGVybmFyeSBvcGVyYXRvciB3aWxsIGJlIGV2YWx1YXRlZCBhZnRlciB0aGUgZnVuY3Rpb24gY2FsbC5cIixcclxuICAgIC8vICAgICAgICAgICAgIG90aGVyczogW3RoaXMudGhlbiwgdGhpcy5vdGhlcndpc2VdXHJcbiAgICAvLyAgICAgICAgIH07XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2V7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiB7aXNUYWlsOiB0cnVlfTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRUZXJuYXJ5PFQgZXh0ZW5kcyBUeXBlID0gVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnkgPSBWYWx1ZUNhdGVnb3J5PiBleHRlbmRzIFRlcm5hcnlFeHByZXNzaW9uLCBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcbiAgICByZWFkb25seSB0ZW1wb3JhcnlEZWFsbG9jYXRvcj86IENvbXBpbGVkVGVtcG9yYXJ5RGVhbGxvY2F0b3I7IC8vIHRvIG1hdGNoIENvbXBpbGVkUG90ZW50aWFsRnVsbEV4cHJlc3Npb24gc3RydWN0dXJlXHJcbiAgICByZWFkb25seSB0eXBlOiBUO1xyXG4gICAgcmVhZG9ubHkgdmFsdWVDYXRlZ29yeTogVjtcclxuICAgIHJlYWRvbmx5IGNvbmRpdGlvbjogQ29tcGlsZWRFeHByZXNzaW9uPEJvb2wsIFwicHJ2YWx1ZVwiPjtcclxuICAgIHJlYWRvbmx5IHRoZW46IENvbXBpbGVkRXhwcmVzc2lvbjxULFY+O1xyXG4gICAgcmVhZG9ubHkgb3RoZXJ3aXNlOiBDb21waWxlZEV4cHJlc3Npb248VCxWPjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJ1bnRpbWVUZXJuYXJ5PFQgZXh0ZW5kcyBUeXBlID0gVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnkgPSBWYWx1ZUNhdGVnb3J5PiBleHRlbmRzIFJ1bnRpbWVFeHByZXNzaW9uPFQsVixDb21waWxlZFRlcm5hcnk8VCxWPj4ge1xyXG5cclxuICAgIHB1YmxpYyBjb25kaXRpb246IFJ1bnRpbWVFeHByZXNzaW9uPEJvb2wsIFwicHJ2YWx1ZVwiPjtcclxuICAgIHB1YmxpYyB0aGVuOiBSdW50aW1lRXhwcmVzc2lvbjxULFY+O1xyXG4gICAgcHVibGljIG90aGVyd2lzZTogUnVudGltZUV4cHJlc3Npb248VCxWPjtcclxuXHJcbiAgICBwcml2YXRlIGluZGV4ID0gXCJjb25kaXRpb25cIjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IgKG1vZGVsOiBDb21waWxlZFRlcm5hcnk8VCxWPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgc3VwZXIobW9kZWwsIHBhcmVudCk7XHJcbiAgICAgICAgdGhpcy5jb25kaXRpb24gPSB0aGlzLm1vZGVsLmNvbmRpdGlvbi5jcmVhdGVSdW50aW1lRXhwcmVzc2lvbih0aGlzKTtcclxuICAgICAgICB0aGlzLnRoZW4gPSB0aGlzLm1vZGVsLnRoZW4uY3JlYXRlUnVudGltZUV4cHJlc3Npb24odGhpcyk7XHJcbiAgICAgICAgdGhpcy5vdGhlcndpc2UgPSB0aGlzLm1vZGVsLm90aGVyd2lzZS5jcmVhdGVSdW50aW1lRXhwcmVzc2lvbih0aGlzKTtcclxuICAgIH1cclxuXHJcblx0cHJvdGVjdGVkIHVwTmV4dEltcGwoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5kZXggPT09IFwiY29uZGl0aW9uXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5zaW0ucHVzaCh0aGlzLmNvbmRpdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSBcImJyYW5jaFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmluZGV4ID09PSBcImJyYW5jaFwiKSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuY29uZGl0aW9uLmV2YWxSZXN1bHQucmF3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2ltLnB1c2godGhpcy50aGVuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaW0ucHVzaCh0aGlzLm90aGVyd2lzZSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmluZGV4ID0gXCJvcGVyYXRlXCI7XHJcbiAgICAgICAgfVxyXG5cdH1cclxuXHRcclxuXHRwcm90ZWN0ZWQgc3RlcEZvcndhcmRJbXBsKCkge1xyXG4gICAgICAgIHRoaXMuc2V0RXZhbFJlc3VsdCh0aGlzLnRoZW4gPyB0aGlzLnRoZW4uZXZhbFJlc3VsdCA6IHRoaXMub3RoZXJ3aXNlLmV2YWxSZXN1bHQpO1xyXG4gICAgICAgIHRoaXMuc2ltLnBvcCgpO1xyXG5cdH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQXNzaWdubWVudEV4cHJlc3Npb25BU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJhc3NpZ25tZW50X2V4cHJlc3Npb25cIjtcclxuICAgIHJlYWRvbmx5IGxoczogRXhwcmVzc2lvbkFTVE5vZGU7XHJcbiAgICByZWFkb25seSBvcGVyYXRvcjogXCI9XCI7XHJcbiAgICByZWFkb25seSByaHM6IEV4cHJlc3Npb25BU1ROb2RlO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQXNzaWdubWVudEV4cHJlc3Npb24gZXh0ZW5kcyBFeHByZXNzaW9uIHtcclxuICAgIC8vIHB1YmxpYyByZWFkb25seSBcclxuICAgIC8vIHZhbHVlQ2F0ZWdvcnkgOiBcImx2YWx1ZVwiLFxyXG4gICAgLy8gaXNPdmVybG9hZCA6IGZhbHNlLFxyXG4gICAgLy8gaXNNZW1iZXJPdmVybG9hZCA6IHRydWUsXHJcbiAgICAvLyBpX2NoaWxkcmVuVG9DcmVhdGUgOiBbXCJsaHNcIl0sXHJcbiAgICAvLyBpX2NoaWxkcmVuVG9FeGVjdXRlIDogW1wibGhzXCIsIFwicmhzXCJdLFxyXG4gICAgLy8gaV9jaGlsZHJlblRvRXhlY3V0ZUZvck92ZXJsb2FkIDogW1wibGhzXCIsIFwiZnVuY0NhbGxcIl0sIC8vIGRvZXMgbm90IGluY2x1ZGUgcmhzIGJlY2F1c2UgZnVuY3Rpb24gY2FsbCBkb2VzIHRoYXRcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZT86IFR5cGU7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmFsdWVDYXRlZ29yeSA9IFwibHZhbHVlXCI7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGxoczogRXhwcmVzc2lvbjtcclxuICAgIHB1YmxpYyByZWFkb25seSByaHM6IEV4cHJlc3Npb247XHJcbiAgICBcclxuICAgIC8vIHB1YmxpYyByZWFkb25seSBfdF9jb21waWxlZCE6IENvbXBpbGVkQXNzaWdubWVudDtcclxuXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0LCBsaHM6IEV4cHJlc3Npb24sIHJoczogRXhwcmVzc2lvbikge1xyXG4gICAgICAgIHN1cGVyKGNvbnRleHQpO1xyXG5cclxuICAgICAgICAvLyBJZiB0aGUgbGhzL3JocyBkb2Vzbid0IGhhdmUgYSB0eXBlIG9yIFZDLCB0aGUgcmVzdCBvZiB0aGUgYW5hbHlzaXMgZG9lc24ndCBtYWtlIG11Y2ggc2Vuc2UuXHJcbiAgICAgICAgaWYgKCFsaHMuaXNXZWxsVHlwZWQoKSB8fCAhcmhzLmlzV2VsbFR5cGVkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2godGhpcy5saHMgPSBsaHMpO1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLnJocyA9IHJocyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJocyA9IHN0YW5kYXJkQ29udmVyc2lvbihyaHMsIGxocy50eXBlLmN2VW5xdWFsaWZpZWQoKSk7XHJcblxyXG4gICAgICAgIGlmIChsaHMudmFsdWVDYXRlZ29yeSAmJiBsaHMudmFsdWVDYXRlZ29yeSAhPSBcImx2YWx1ZVwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmFzc2lnbm1lbnQubGhzX2x2YWx1ZSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBUT0RPOiBhZGQgYSBjaGVjayBmb3IgYSBtb2RpZmlhYmxlIHR5cGUgKGUuZy4gYW4gYXJyYXkgdHlwZSBpcyBub3QgbW9kaWZpYWJsZSlcclxuXHJcbiAgICAgICAgaWYgKGxocy50eXBlLmlzQ29uc3QpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIuYXNzaWdubWVudC5saHNfY29uc3QodGhpcykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHJocy5pc1dlbGxUeXBlZCgpICYmICFzYW1lVHlwZShyaHMudHlwZSwgbGhzLnR5cGUuY3ZVbnF1YWxpZmllZCgpKSkge1xyXG4gICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5hc3NpZ25tZW50LmNvbnZlcnQodGhpcywgbGhzLCByaHMpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFRPRE86IGRvIHdlIG5lZWQgdG8gY2hlY2sgdGhhdCBsaHMgaXMgYW4gQXRvbWljVHlwZT8gb3IgaXMgdGhhdCBuZWNlc3NhcnkgZ2l2ZW4gYWxsIHRoZSBvdGhlciBjaGVja3M/XHJcblxyXG4gICAgICAgIHRoaXMudHlwZSA9IGxocy50eXBlO1xyXG4gICAgICAgIHRoaXMuYXR0YWNoKHRoaXMubGhzID0gbGhzKTtcclxuICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLnJocyA9IHJocyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRnJvbUFTVChhc3Q6IEFzc2lnbm1lbnRFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpIDogQXNzaWdubWVudEV4cHJlc3Npb24ge1xyXG4gICAgICAgIHJldHVybiBuZXcgQXNzaWdubWVudEV4cHJlc3Npb24oY29udGV4dCxcclxuICAgICAgICAgICAgY3JlYXRlRXhwcmVzc2lvbkZyb21BU1QoYXN0LmxocywgY29udGV4dCksXHJcbiAgICAgICAgICAgIGNyZWF0ZUV4cHJlc3Npb25Gcm9tQVNUKGFzdC5yaHMsIGNvbnRleHQpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUV4cHJlc3Npb248VCBleHRlbmRzIEF0b21pY1R5cGU+KHRoaXM6IENvbXBpbGVkQXNzaWdubWVudDxUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVBc3NpZ25tZW50PFQ+O1xyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPFQgZXh0ZW5kcyBUeXBlLCBWIGV4dGVuZHMgVmFsdWVDYXRlZ29yeT4odGhpczogQ29tcGlsZWRFeHByZXNzaW9uPFQsVj4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBuZXZlcjtcclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbjxUIGV4dGVuZHMgQXRvbWljVHlwZT4odGhpczogQ29tcGlsZWRBc3NpZ25tZW50PFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZUFzc2lnbm1lbnQ8VD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUnVudGltZUFzc2lnbm1lbnQodGhpcywgcGFyZW50KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gVE9ET1xyXG4gICAgcHVibGljIGRlc2NyaWJlRXZhbFJlc3VsdChkZXB0aDogbnVtYmVyKTogRGVzY3JpcHRpb24ge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBjb252ZXJ0IDogZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgXHJcblxyXG4gICAgLy8gICAgIC8vIENoZWNrIGZvciBvdmVybG9hZGVkIGFzc2lnbm1lbnRcclxuICAgIC8vICAgICAvLyBOT1RFOiBkb24ndCBoYXZlIHRvIHdvcnJ5IGFib3V0IGxocyByZWZlcmVuY2UgdHlwZSBiZWNhdXNlIGl0IHdpbGwgaGF2ZSBiZWVuIGFkanVzdGVkIHRvIG5vbi1yZWZlcmVuY2VcclxuICAgIC8vICAgICBpZiAoaXNBKHRoaXMubGhzLnR5cGUsIFR5cGVzLkNsYXNzKSl7XHJcbiAgICAvLyAgICAgICAgIC8vIENsYXNzLXR5cGUgTEhTIG1lYW5zIHdlIGNoZWNrIGZvciBhbiBvdmVybG9hZGVkID0gb3BlcmF0b3JcclxuXHJcbiAgICAvLyAgICAgICAgIC8vIENvbXBpbGUgdGhlIFJIUyBhcyBhbiBhdXhpbGlhcnkgZXhwcmVzc2lvbiBzbyB0aGF0IHdlIGNhbiBmaWd1cmUgb3V0IGl0cyB0eXBlIHdpdGhvdXQgaW1wYWN0aW5nIHRoZSBjb25zdHJ1Y3QgdHJlZVxyXG4gICAgLy8gICAgICAgICB2YXIgYXV4UmhzID0gQ1BQQ29uc3RydWN0LmNyZWF0ZSh0aGlzLmFzdC5yaHMsIHtwYXJlbnQ6IHRoaXMsIGF1eGlsaWFyeTogdHJ1ZX0pO1xyXG4gICAgLy8gICAgICAgICBhdXhSaHMuY29tcGlsZSgpO1xyXG5cclxuICAgIC8vICAgICAgICAgdHJ5e1xyXG4gICAgLy8gICAgICAgICAgICAgLy8gTG9vayBmb3IgYW4gb3ZlcmxvYWRlZCA9IG9wZXJhdG9yIHRoYXQgd2UgY2FuIHVzZSB3aXRoIGFuIGFyZ3VtZW50IG9mIHRoZSBSSFMgdHlwZVxyXG4gICAgLy8gICAgICAgICAgICAgLy8gTm90ZTogXCJvd25cIiBoZXJlIG1lYW5zIGRvbid0IGxvb2sgaW4gcGFyZW50IHNjb3BlIGNvbnRhaW5pbmcgdGhlIGNsYXNzIGRlZmluaXRpb24sIGJ1dCB3ZSBzdGlsbFxyXG4gICAgLy8gICAgICAgICAgICAgLy8gbG9vayBpbiB0aGUgc2NvcGUgb2YgYW55IGJhc2UgY2xhc3NlcyB0aGF0IGV4aXN0IGR1ZSB0byB0aGUgY2xhc3Mgc2NvcGUgcGVyZm9ybWluZyBtZW1iZXIgbG9va3VwXHJcbiAgICAvLyAgICAgICAgICAgICB2YXIgYXNzbk9wID0gdGhpcy5saHMudHlwZS5jbGFzc1Njb3BlLnJlcXVpcmVkTWVtYmVyTG9va3VwKFwib3BlcmF0b3I9XCIsIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICBwYXJhbVR5cGVzOlthdXhSaHMudHlwZV0sXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgaXNUaGlzQ29uc3Q6IHRoaXMubGhzLnR5cGUuaXNDb25zdFxyXG4gICAgLy8gICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgLy8gICAgICAgICAgICAgLy8gVE9ETzogSXQgbG9va3MgbGlrZSB0aGlzIGlmL2Vsc2UgaXNuJ3QgbmVjZXNzYXJ5IGR1ZSB0byByZXF1aXJlZExvb2t1cCB0aHJvd2luZyBhbiBleGNlcHRpb24gaWYgbm90IGZvdW5kXHJcbiAgICAvLyAgICAgICAgICAgICBpZiAoYXNzbk9wKXtcclxuICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLmlzT3ZlcmxvYWQgPSB0cnVlO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHRoaXMuaXNNZW1iZXJPdmVybG9hZCA9IHRydWU7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgdGhpcy5mdW5jQ2FsbCA9IEZ1bmN0aW9uQ2FsbC5pbnN0YW5jZSh7YXJnczogW3RoaXMuYXN0LnJoc119LCB7cGFyZW50OnRoaXN9KTtcclxuICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLmZ1bmNDYWxsLmNvbXBpbGUoe2Z1bmM6IGFzc25PcH0pO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IHRoaXMuZnVuY0NhbGwudHlwZTtcclxuICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLmlfY2hpbGRyZW5Ub0V4ZWN1dGUgPSB0aGlzLmlfY2hpbGRyZW5Ub0V4ZWN1dGVGb3JPdmVybG9hZDtcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIuYXNzaWdubWVudC5ub3RfZGVmaW5lZCh0aGlzLCB0aGlzLmxocy50eXBlKSk7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgY2F0Y2goZSl7XHJcbiAgICAvLyAgICAgICAgICAgICBpZiAoaXNBKGUsIFNlbWFudGljRXhjZXB0aW9ucy5CYWRMb29rdXApKXtcclxuICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5vdmVybG9hZExvb2t1cCh0aGlzLCBcIj1cIikpO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShlLmFubm90YXRpb24odGhpcykpO1xyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgZWxzZXtcclxuICAgIC8vICAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIC8vIGVsc2V7XHJcbiAgICAvLyAgICAgLy8gICAgIC8vIE5vbi1jbGFzcyB0eXBlLCBzbyB0aGlzIGlzIHJlZ3VsYXIgYXNzaWdubWVudC4gQ3JlYXRlIGFuZCBjb21waWxlIHRoZSByaHMsIGFuZCB0aGVuIGF0dGVtcHRcclxuICAgIC8vICAgICAvLyAgICAgLy8gc3RhbmRhcmQgY29udmVyc2lvbiBvZiByaHMgdG8gbWF0Y2ggY3YtdW5xdWFsaWZpZWQgdHlwZSBvZiBsaHMsIGluY2x1ZGluZyBsdmFsdWUgdG8gcnZhbHVlIGNvbnZlcnNpb25cclxuICAgIC8vICAgICAvLyB9XHJcbiAgICAvLyB9LFxyXG5cclxuXHJcbiAgICAvLyB1cE5leHQgOiBDbGFzcy5BRERJVElPTkFMTFkoZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbiAgICAvLyAgICAgaWYgKHRoaXMuZnVuY0NhbGwpe1xyXG4gICAgLy8gICAgICAgICBpbnN0LmNoaWxkSW5zdGFuY2VzLmZ1bmNDYWxsLmdldFJ1bnRpbWVGdW5jdGlvbigpLnNldFJlY2VpdmVyKEV2YWx1YXRpb25SZXN1bHRSdW50aW1lRW50aXR5Lmluc3RhbmNlKHRoaXMubGhzLnR5cGUsIGluc3QuY2hpbGRJbnN0YW5jZXMubGhzKSk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfSksXHJcblxyXG4gICAgLy8gc3RlcEZvcndhcmQgOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuXHJcbiAgICAvLyAgICAgaWYgKGluc3QuaW5kZXggPT0gXCJvcGVyYXRlXCIpe1xyXG5cclxuICAgIC8vICAgICAgICAgaWYgKHRoaXMuZnVuY0NhbGwpe1xyXG4gICAgLy8gICAgICAgICAgICAgLy8gQXNzaWdubWVudCBvcGVyYXRvciBmdW5jdGlvbiBjYWxsIGhhcyBhbHJlYWR5IHRha2VuIGNhcmUgb2YgdGhlIFwiYXNzaWdubWVudFwiLlxyXG4gICAgLy8gICAgICAgICAgICAgLy8gSnVzdCBldmFsdWF0ZSB0byByZXR1cm5lZCB2YWx1ZSBmcm9tIGFzc2lnbm1lbnQgb3BlcmF0b3IuXHJcbiAgICAvLyAgICAgICAgICAgICBpbnN0LnNldEV2YWxSZXN1bHQoaW5zdC5jaGlsZEluc3RhbmNlcy5mdW5jQ2FsbC5ldmFsUmVzdWx0KTtcclxuICAgIC8vICAgICAgICAgICAgIHRoaXMuZG9uZShzaW0sIGluc3QpO1xyXG4gICAgLy8gICAgICAgICAgICAgLy9yZXR1cm4gdHJ1ZTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICBlbHNle1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfSxcclxuXHJcbiAgICBwdWJsaWMgaXNUYWlsQ2hpbGQoY2hpbGQ6IENQUENvbnN0cnVjdCkge1xyXG4gICAgICAgIHJldHVybiB7aXNUYWlsOiBmYWxzZSxcclxuICAgICAgICAgICAgcmVhc29uOiBcIlRoZSBhc3NpZ25tZW50IGl0c2VsZiB3aWxsIGhhcHBlbiBhZnRlciB0aGUgcmVjdXJzaXZlIGNhbGwgcmV0dXJucy5cIixcclxuICAgICAgICAgICAgb3RoZXJzOiBbdGhpc11cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBleHBsYWluKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICB2YXIgbGhzID0gdGhpcy5saHMuZGVzY3JpYmVFdmFsUmVzdWx0KDApO1xyXG4gICAgICAgIHZhciByaHMgPSB0aGlzLnJocy5kZXNjcmliZUV2YWxSZXN1bHQoMCk7XHJcbiAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcIlRoZSB2YWx1ZSBvZiBcIiArIChyaHMubmFtZSB8fCByaHMubWVzc2FnZSkgKyBcIiB3aWxsIGJlIGFzc2lnbmVkIHRvIFwiICsgKGxocy5uYW1lIHx8IGxocy5tZXNzYWdlKSArIFwiLlwifTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZEFzc2lnbm1lbnQ8VCBleHRlbmRzIEF0b21pY1R5cGUgPSBBdG9taWNUeXBlPiBleHRlbmRzIEFzc2lnbm1lbnRFeHByZXNzaW9uLCBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcbiAgICByZWFkb25seSB0ZW1wb3JhcnlEZWFsbG9jYXRvcj86IENvbXBpbGVkVGVtcG9yYXJ5RGVhbGxvY2F0b3I7IC8vIHRvIG1hdGNoIENvbXBpbGVkUG90ZW50aWFsRnVsbEV4cHJlc3Npb24gc3RydWN0dXJlXHJcbiAgICByZWFkb25seSB0eXBlOiBUO1xyXG4gICAgcmVhZG9ubHkgbGhzOiBDb21waWxlZEV4cHJlc3Npb248VCwgXCJsdmFsdWVcIj47XHJcbiAgICByZWFkb25seSByaHM6IENvbXBpbGVkRXhwcmVzc2lvbjxULCBcInBydmFsdWVcIj47XHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgUnVudGltZUFzc2lnbm1lbnQ8VCBleHRlbmRzIEF0b21pY1R5cGUgPSBBdG9taWNUeXBlPiBleHRlbmRzIFNpbXBsZVJ1bnRpbWVFeHByZXNzaW9uPFQsXCJsdmFsdWVcIiwgQ29tcGlsZWRBc3NpZ25tZW50PFQ+PiB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGxoczogUnVudGltZUV4cHJlc3Npb248VCwgXCJsdmFsdWVcIj47XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmhzOiBSdW50aW1lRXhwcmVzc2lvbjxULCBcInBydmFsdWVcIj47XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChtb2RlbDogQ29tcGlsZWRBc3NpZ25tZW50PFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICBzdXBlcihtb2RlbCwgcGFyZW50KTtcclxuICAgICAgICB0aGlzLmxocyA9IHRoaXMubW9kZWwubGhzLmNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucmhzID0gdGhpcy5tb2RlbC5yaHMuY3JlYXRlUnVudGltZUV4cHJlc3Npb24odGhpcyk7XHJcbiAgICAgICAgdGhpcy5zZXRTdWJleHByZXNzaW9ucyhbdGhpcy5yaHMsIHRoaXMubGhzXSk7XHJcbiAgICB9XHJcblxyXG5cdHByb3RlY3RlZCBvcGVyYXRlKCkge1xyXG4gICAgICAgIHRoaXMubGhzLmV2YWxSZXN1bHQud3JpdGVWYWx1ZSh0aGlzLnJocy5ldmFsUmVzdWx0KTtcclxuICAgICAgICB0aGlzLnNldEV2YWxSZXN1bHQodGhpcy5saHMuZXZhbFJlc3VsdCk7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgdHlwZSB0X0NvbXBvdW5kQXNzaWdubWVudE9wZXJhdG9ycyA9IFwiKj1cIiB8IFwiLz1cIiB8IFwiJT1cIiB8IFwiKz1cIiB8IFwiLT1cIiB8IFwiPj49XCIgfCBcIjw8PVwiIHwgXCImPVwiIHwgXCJePVwiIHwgXCJ8PVwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21wb3VuZEFzc2lnbm1lbnRFeHByZXNzaW9uQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwiY29tcG91bmRfYXNzaWdubWVudF9leHByZXNzaW9uXCI7XHJcbiAgICByZWFkb25seSBsaHM6IEV4cHJlc3Npb25BU1ROb2RlO1xyXG4gICAgcmVhZG9ubHkgb3BlcmF0b3I6IHRfQ29tcG91bmRBc3NpZ25tZW50T3BlcmF0b3JzO1xyXG4gICAgcmVhZG9ubHkgcmhzOiBFeHByZXNzaW9uQVNUTm9kZTtcclxufVxyXG5cclxuLy8gdmFyIGJlbmVhdGhDb252ZXJzaW9ucyA9IGZ1bmN0aW9uKGV4cHIpe1xyXG4vLyAgICAgd2hpbGUoaXNBKGV4cHIsIENvbnZlcnNpb25zLkltcGxpY2l0Q29udmVyc2lvbikpe1xyXG4vLyAgICAgICAgIGV4cHIgPSBleHByLmZyb207XHJcbi8vICAgICB9XHJcbi8vICAgICByZXR1cm4gZXhwcjtcclxuLy8gfTtcclxuXHJcbi8vIFRPRE86IHRoZXJlIG1pZ2h0IGJlIGEgYmV0dGVyIHdheSB0byBpbXBsZW1lbnQgdGhpcy4gY3VycmVudGx5IGl0IHJldXNlcyBjb2RlIGZyb20gQmluYXJ5T3BlcmF0b3IsIGJ1dCBJIGZlZWxcclxuLy8gYSBsaXR0bGUgYml0IGlja3kgYWJvdXQgaG93IGl0IGRvZXMgaXQgYW5kIHRoZSB3YXkgaXQgdHJlYXRzIHRoZSBjb25zdHJ1Y3QgdHJlZVxyXG4vLyBleHBvcnQgdmFyIENvbXBvdW5kQXNzaWdubWVudCAgPSBFeHByZXNzaW9uLmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZTogXCJDb21wb3VuZEFzc2lnbm1lbnRcIixcclxuLy8gICAgIHZhbHVlQ2F0ZWdvcnkgOiBcImx2YWx1ZVwiLFxyXG5cclxuLy8gICAgIGlfY3JlYXRlRnJvbUFTVDogZnVuY3Rpb24oYXN0KXtcclxuLy8gICAgICAgICBDb21wb3VuZEFzc2lnbm1lbnQuX3BhcmVudC5pX2NyZWF0ZUZyb21BU1QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHJcbi8vICAgICAgICAgLy8gQmFzaWNhbGx5IHRoaXMgdXNlcyBhIGJpbmFyeSBvcGVyYXRvciBleHByZXNzaW9uIHRvIGRvIG1vc3Qgb2YgdGhlIHdvcmtcclxuLy8gICAgICAgICAvLyBlLmcuIHggKz0geSBzaG91bGQgYmUgZXF1aXZhbGVudCAodG8gYSBjZXJ0YWluIGV4dGVudCkgdG8geCA9IHggKyB5XHJcblxyXG4vLyAgICAgICAgIHRoaXMub3BlcmF0b3IgPSBhc3Qub3BlcmF0b3I7XHJcbi8vICAgICAgICAgdmFyIGJpbmFyeU9wID0gdGhpcy5vcGVyYXRvci5zdWJzdHJpbmcoMCwgdGhpcy5vcGVyYXRvci5sZW5ndGgtMSk7IC8vIHJlbW92ZSB0aGUgPSBmcm9tIHRoZSBvcGVyYXRvciBlLmcuICs9IGJlY29tZXMgK1xyXG4vLyAgICAgICAgIHZhciBiaW5Bc3QgPSBjb3B5TWl4aW4oYXN0LCB7XHJcbi8vICAgICAgICAgICAgIGxlZnQ6IGFzdC5saHMsXHJcbi8vICAgICAgICAgICAgIHJpZ2h0OiBhc3QucmhzLFxyXG4vLyAgICAgICAgICAgICBvcGVyYXRvcjogYmluYXJ5T3BcclxuLy8gICAgICAgICB9KTtcclxuLy8gICAgICAgICB2YXIgYmluYXJ5T3BDbGFzcyA9IEJJTkFSWV9PUFNbYmluYXJ5T3BdO1xyXG4vLyAgICAgICAgIHRoaXMuaV9iaW5hcnlPcCA9IGJpbmFyeU9wQ2xhc3MuaW5zdGFuY2UoYmluQXN0LCB7cGFyZW50OiB0aGlzfSk7XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIGNvbXBpbGUgOiBmdW5jdGlvbigpIHtcclxuXHJcbi8vICAgICAgICAgLy9jb21waWxlcyBsZWZ0IGFuZCByaWdodFxyXG4vLyAgICAgICAgIHRoaXMuaV9iaW5hcnlPcC5jb21waWxlKCk7XHJcblxyXG4vLyAgICAgICAgIGlmKHRoaXMuaGFzRXJyb3JzKCkpe1xyXG4vLyAgICAgICAgICAgICByZXR1cm47XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAvLyBsZWZ0IHNob3VsZCBiZSBhIHN0YW5kYXJkIGNvbnZlcnNpb24gc2VxdWVuY2VcclxuLy8gICAgICAgICAvLyB3ZSB3YW50IHRvIGV4dHJhY3QgdGhlIHByZS1jb252ZXJzaW9uIGV4cHJlc3Npb24gZm9yIGxoc1xyXG4vLyAgICAgICAgIHRoaXMubGhzID0gYmVuZWF0aENvbnZlcnNpb25zKHRoaXMuaV9iaW5hcnlPcC5sZWZ0KTtcclxuXHJcbi8vICAgICAgICAgLy8gQXR0ZW1wdCB0byBjb252ZXJ0IHJocyAoYSBiaW5hcnkgb3BlcmF0aW9uKSBiYWNrIHRvIHR5cGUgb2YgbGhzXHJcbi8vICAgICAgICAgdGhpcy5yaHMgPSBzdGFuZGFyZENvbnZlcnNpb24odGhpcy5pX2JpbmFyeU9wLCB0aGlzLmxocy50eXBlKTtcclxuXHJcbi8vICAgICAgICAgLy8gVHlwZSBDaGVja1xyXG4vLyAgICAgICAgIGlmICh0aGlzLmxocy52YWx1ZUNhdGVnb3J5ICE9PSBcImx2YWx1ZVwiKSB7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmFzc2lnbm1lbnQubGhzX2x2YWx1ZSh0aGlzKSk7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICBpZiAoIXNhbWVUeXBlKHRoaXMucmhzLnR5cGUsIHRoaXMubGhzLnR5cGUpKSB7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmFzc2lnbm1lbnQuY29udmVydCh0aGlzLCB0aGlzLmxocywgdGhpcy5yaHMpKTtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIHRoaXMudHlwZSA9IHRoaXMubGhzLnR5cGU7XHJcblxyXG4vLyAgICAgICAgIHRoaXMuY29tcGlsZVRlbXBvcmFyaXJlcygpO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICB1cE5leHQgOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuLy8gICAgICAgICAvLyBFdmFsdWF0ZSBzdWJleHByZXNzaW9uc1xyXG4vLyAgICAgICAgIGlmIChpbnN0LmluZGV4ID09IFwic3ViZXhwcmVzc2lvbnNcIikge1xyXG4vLyAgICAgICAgICAgICBpbnN0LnJocyA9IHRoaXMucmhzLmNyZWF0ZUFuZFB1c2hJbnN0YW5jZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgICAgICBpbnN0LmluZGV4ID0gXCJvcGVyYXRlXCI7XHJcbi8vICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgc3RlcEZvcndhcmQgOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuLy8gICAgICAgICBpZiAoaW5zdC5pbmRleCA9PT0gXCJvcGVyYXRlXCIpe1xyXG4vLyAgICAgICAgICAgICAvLyBleHRyYWN0IGx2YWx1ZSBvbiBsaHMgdGhhdCBtYXkgYmUgdW5kZXJuZWF0aCBhIHN0YW5kYXJkIGNvbnZlcnNpb24gc2VxdWVuY2VcclxuLy8gICAgICAgICAgICAgLy8gbm90ZTogdGhpcyBpcyBvbmx5IGFwcGxpY2FibGUgaW4gY29tcG91bmQgYXNzaWdubWVudC4gaW4gcmVndWxhciBsaHMgd2lsbCBuZXZlciBiZSBjb252ZXJ0ZWRcclxuLy8gICAgICAgICAgICAgdmFyIGZpbmRMaHMgPSBpbnN0LnJocztcclxuLy8gICAgICAgICAgICAgd2hpbGUoaXNBKGZpbmRMaHMubW9kZWwsIEltcGxpY2l0Q29udmVyc2lvbikpe1xyXG4vLyAgICAgICAgICAgICAgICAgZmluZExocyA9IGZpbmRMaHMuY2hpbGRJbnN0YW5jZXMuZnJvbTsgLy8gc3RyaXAgY29udmVyc2lvbnMgb2ZmIHJlc3VsdCBvZiBiaW5hcnkgb3BcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBmaW5kTGhzID0gZmluZExocy5jaGlsZEluc3RhbmNlcy5sZWZ0OyAvLyBnbyB0byBsZWZ0IGFyZ3VtZW50IG9mIGJpbmFyeSBvcFxyXG4vLyAgICAgICAgICAgICB3aGlsZShpc0EoZmluZExocy5tb2RlbCwgSW1wbGljaXRDb252ZXJzaW9uKSl7XHJcbi8vICAgICAgICAgICAgICAgICBmaW5kTGhzID0gZmluZExocy5jaGlsZEluc3RhbmNlcy5mcm9tOyAvLyBzdHJpcCBjb252ZXJzaW9ucyBvZmYgbGVmdCBvcGVyYW5kXHJcbi8vICAgICAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgICAgIHZhciBsaHMgPSBmaW5kTGhzLmV2YWxSZXN1bHQ7XHJcbi8vICAgICAgICAgICAgIHZhciByaHMgPSBpbnN0LnJocy5ldmFsUmVzdWx0O1xyXG5cclxuLy8gICAgICAgICAgICAgbGhzLndyaXRlVmFsdWUocmhzKTtcclxuXHJcbi8vICAgICAgICAgICAgIGluc3Quc2V0RXZhbFJlc3VsdChsaHMpO1xyXG4vLyAgICAgICAgICAgICB0aGlzLmRvbmUoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIGlzVGFpbENoaWxkIDogZnVuY3Rpb24oY2hpbGQpe1xyXG4vLyAgICAgICAgIHJldHVybiB7aXNUYWlsOiBmYWxzZSxcclxuLy8gICAgICAgICAgICAgcmVhc29uOiBcIlRoZSBjb21wb3VuZCBhc3NpZ25tZW50IGl0c2VsZiB3aWxsIGhhcHBlbiBhZnRlciB0aGUgcmVjdXJzaXZlIGNhbGwgcmV0dXJucy5cIixcclxuLy8gICAgICAgICAgICAgb3RoZXJzOiBbdGhpc11cclxuLy8gICAgICAgICB9O1xyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZChsZWZ0OiBudW1iZXIsIHJpZ2h0OiBudW1iZXIpIHtcclxuICAgIHJldHVybiBsZWZ0ICsgcmlnaHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdWIobGVmdDogbnVtYmVyLCByaWdodDogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gbGVmdCAtIHJpZ2h0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbXVsdChsZWZ0OiBudW1iZXIsIHJpZ2h0OiBudW1iZXIpIHtcclxuICAgIHJldHVybiBsZWZ0ICogcmlnaHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbnREaXYobGVmdDogbnVtYmVyLCByaWdodDogbnVtYmVyKXtcclxuICAgIHJldHVybiBNYXRoLnRydW5jKGxlZnQgLyByaWdodCk7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZmxvYXREaXYobGVmdDogbnVtYmVyLCByaWdodDogbnVtYmVyKXtcclxuICAgIHJldHVybiBsZWZ0IC8gcmlnaHQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbW9kKGxlZnQ6IG51bWJlciwgcmlnaHQ6IG51bWJlcil7XHJcbiAgICByZXR1cm4gbGVmdCAtIGludERpdihsZWZ0LCByaWdodCkqcmlnaHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsdChsZWZ0OiBudW1iZXIsIHJpZ2h0OiBudW1iZXIpe1xyXG4gICAgcmV0dXJuIGxlZnQgPCByaWdodDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGd0KGxlZnQ6IG51bWJlciwgcmlnaHQ6IG51bWJlcil7XHJcbiAgICByZXR1cm4gbGVmdCA+IHJpZ2h0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbHRlKGxlZnQ6IG51bWJlciwgcmlnaHQ6IG51bWJlcil7XHJcbiAgICByZXR1cm4gbGVmdCA8PSByaWdodDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGd0ZShsZWZ0OiBudW1iZXIsIHJpZ2h0OiBudW1iZXIpe1xyXG4gICAgcmV0dXJuIGxlZnQgPj0gcmlnaHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlcShsZWZ0OiBudW1iZXIsIHJpZ2h0OiBudW1iZXIpe1xyXG4gICAgcmV0dXJuIGxlZnQgPT0gcmlnaHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBuZShsZWZ0OiBudW1iZXIsIHJpZ2h0OiBudW1iZXIpe1xyXG4gICAgcmV0dXJuIGxlZnQgPT0gcmlnaHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBiaXRBbmQobGVmdDogbnVtYmVyLCByaWdodDogbnVtYmVyKXtcclxuICAgIHJldHVybiBsZWZ0ICYgcmlnaHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBiaXRYb3IobGVmdDogbnVtYmVyLCByaWdodDogbnVtYmVyKXtcclxuICAgIHJldHVybiBsZWZ0IF4gcmlnaHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBiaXRPcihsZWZ0OiBudW1iZXIsIHJpZ2h0OiBudW1iZXIpe1xyXG4gICAgcmV0dXJuIGxlZnQgfCByaWdodDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJpdFNoaWZ0TGVmdChsZWZ0OiBudW1iZXIsIHJpZ2h0OiBudW1iZXIpe1xyXG4gICAgcmV0dXJuIGxlZnQgPDwgcmlnaHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBiaXRTaGlmdFJpZ2h0KGxlZnQ6IG51bWJlciwgcmlnaHQ6IG51bWJlcil7XHJcbiAgICByZXR1cm4gbGVmdCA+Pj4gcmlnaHQ7IC8vIFRPRE86IGlzIHRoZSBzaWduIHByZXNlcnZpbmcgYml0IHNoaWZ0IHJpZ2h0IG1vcmUgY29uc2lzdGVudCB3aXRoIEMrKz9cclxufVxyXG5cclxuZXhwb3J0IHR5cGUgQmluYXJ5T3BlcmF0b3JFeHByZXNzaW9uQVNUTm9kZSA9XHJcbiAgICBBcml0aG1ldGljQmluYXJ5T3BlcmF0b3JFeHByZXNzaW9uQVNUTm9kZSB8XHJcbiAgICBSZWxhdGlvbmFsQmluYXJ5T3BlcmF0b3JFeHByZXNzaW9uQVNUTm9kZSB8XHJcbiAgICBMb2dpY2FsQmluYXJ5T3BlcmF0b3JFeHByZXNzaW9uQVNUTm9kZTtcclxuXHJcbnR5cGUgdF9CaW5hcnlPcGVyYXRvcnMgPSB0X0FyaXRobWV0aWNCaW5hcnlPcGVyYXRvcnMgfCB0X1JlbGF0aW9uYWxCaW5hcnlPcGVyYXRvcnMgfCB0X0xvZ2ljYWxCaW5hcnlPcGVyYXRvcnM7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmluYXJ5T3BlcmF0b3IgZXh0ZW5kcyBFeHByZXNzaW9uIHtcclxuICAgIFxyXG4gICAgcHVibGljIGFic3RyYWN0IHJlYWRvbmx5IHR5cGU/OiBBdG9taWNUeXBlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHZhbHVlQ2F0ZWdvcnkgPSBcInBydmFsdWVcIjtcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcmVhZG9ubHkgbGVmdDogRXhwcmVzc2lvbjtcclxuICAgIHB1YmxpYyBhYnN0cmFjdCByZWFkb25seSByaWdodDogRXhwcmVzc2lvbjtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgb3BlcmF0b3I6IHRfQmluYXJ5T3BlcmF0b3JzO1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgX3RfY29tcGlsZWQhOiBDb21waWxlZEJpbmFyeU9wZXJhdG9yO1xyXG5cclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3Rvcihjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCwgb3BlcmF0b3I6IHRfQmluYXJ5T3BlcmF0b3JzKSB7XHJcbiAgICAgICAgc3VwZXIoY29udGV4dClcclxuICAgICAgICB0aGlzLm9wZXJhdG9yID0gb3BlcmF0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPFQgZXh0ZW5kcyBBdG9taWNUeXBlPih0aGlzOiBDb21waWxlZEJpbmFyeU9wZXJhdG9yPFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZUJpbmFyeU9wZXJhdG9yPFQ+O1xyXG4gICAgcHVibGljIGFic3RyYWN0IGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPFQgZXh0ZW5kcyBUeXBlLCBWIGV4dGVuZHMgVmFsdWVDYXRlZ29yeT4odGhpczogQ29tcGlsZWRFeHByZXNzaW9uPFQsVj4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBuZXZlcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZEJpbmFyeU9wZXJhdG9yPFQgZXh0ZW5kcyBBdG9taWNUeXBlID0gQXRvbWljVHlwZT4gZXh0ZW5kcyBCaW5hcnlPcGVyYXRvciwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4gICAgcmVhZG9ubHkgdGVtcG9yYXJ5RGVhbGxvY2F0b3I/OiBDb21waWxlZFRlbXBvcmFyeURlYWxsb2NhdG9yOyAvLyB0byBtYXRjaCBDb21waWxlZFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uIHN0cnVjdHVyZVxyXG4gICAgcmVhZG9ubHkgdHlwZTogVDtcclxuICAgIHJlYWRvbmx5IGxlZnQ6IENvbXBpbGVkRXhwcmVzc2lvbjxBdG9taWNUeXBlLCBcInBydmFsdWVcIj5cclxuICAgIHJlYWRvbmx5IHJpZ2h0OiBDb21waWxlZEV4cHJlc3Npb248QXRvbWljVHlwZSwgXCJwcnZhbHVlXCI+XHJcbn1cclxuXHJcbi8vIFRPRE86IEkgdGhpbmsgdGhpcyBjbGFzcyBzaG91bGRuJ3QgZXhpc3QuIEl0IHNob3VsZCBwcm9iYWJseSBqdXN0IGJlIFJ1bnRpbWVBcml0aG1ldGljQmluYXJ5T3BlcmF0b3IuXHJcbi8vIEl0IGdpdmVzIHRoZSBpbXByZXNzaW9uXHJcbi8vIHRoYXQgdGhpcyB3b3VsZCBiZSBhIGJhc2UgZm9yIGFsbCBSdW50aW1lIGNsYXNzZXMgZm9yIGJpbmFyeSBvcGVyYXRvcnMsIGJ1dCBpdCBpc24ndCBmb3JcclxuLy8gUnVudGltZUxvZ2ljYWxCaW5hcnlPcGVyYXRvciBzaW5jZSB0aGF0IG9uZSBydW5zIGRpZmZlcmVudGx5IHRvIGhhbmRsZSBzaG9ydC1jaXJjdWl0IGJlaGF2aW9yXHJcbi8vIGNvcnJlY3RseS5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFJ1bnRpbWVCaW5hcnlPcGVyYXRvcjxUIGV4dGVuZHMgQXRvbWljVHlwZSA9IEF0b21pY1R5cGUsIEMgZXh0ZW5kcyBDb21waWxlZEJpbmFyeU9wZXJhdG9yPFQ+ID0gQ29tcGlsZWRCaW5hcnlPcGVyYXRvcjxUPj4gZXh0ZW5kcyBTaW1wbGVSdW50aW1lRXhwcmVzc2lvbjxULCBcInBydmFsdWVcIiwgQz4ge1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBcml0aG1ldGljQmluYXJ5T3BlcmF0b3JFeHByZXNzaW9uQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwiYXJpdGhtZXRpY19iaW5hcnlfb3BlcmF0b3JfZXhwcmVzc2lvblwiO1xyXG4gICAgcmVhZG9ubHkgb3BlcmF0b3I6IHRfQXJpdGhtZXRpY0JpbmFyeU9wZXJhdG9ycztcclxuICAgIHJlYWRvbmx5IGxlZnQ6IEV4cHJlc3Npb25BU1ROb2RlO1xyXG4gICAgcmVhZG9ubHkgcmlnaHQ6IEV4cHJlc3Npb25BU1ROb2RlO1xyXG4gICAgcmVhZG9ubHkgYXNzb2NpYXRpdml0eTogXCJsZWZ0XCI7XHJcbn1cclxuXHJcbnR5cGUgdF9Bcml0aG1ldGljQmluYXJ5T3BlcmF0b3JzID0gXCIrXCIgfCBcIi1cIiB8IFwiKlwiIHwgXCIvXCIgfCBcIiVcIiB8IFwiJlwiIHwgXCJeXCIgfCBcInxcIiB8IFwiPDxcIiB8IFwiPj5cIiB8IFwiPFwiIHwgXCI+XCIgfCBcIjw9XCIgfCBcIj49XCIgfCBcIj09XCIgfCBcIiE9XCI7XHJcblxyXG4vLyBOb3RlOiBBdG9taWNUeXBlIGhlcmUgaXMgbXVjaCB3aWRlciB0aGFuIG5lZWRlZC4gVCBzaG91bGQgdGhlb3JldGljYWxseSBvbmx5IGV2ZXIgYmUgSW50LCBEb3VibGUsIG9yIEZsb2F0XHJcbmNvbnN0IEFSSVRITUVUSUNfQklOQVJZX09QRVJBVElPTlMgOiB7W2luZGV4OnN0cmluZ106IDxUIGV4dGVuZHMgQXRvbWljVHlwZT4obGVmdDogVmFsdWU8VD4sIHJpZ2h0OiBWYWx1ZTxUPikgPT4gVmFsdWU8VD59XHJcbiAgICA9IHtcclxuICAgIFwiK1wiIDogZnVuY3Rpb248VCBleHRlbmRzIEF0b21pY1R5cGU+KGxlZnQ6IFZhbHVlPFQ+LCByaWdodDogVmFsdWU8VD4pIHtcclxuICAgICAgICByZXR1cm4gbGVmdC5jb21iaW5lKHJpZ2h0LCBhZGQpO1xyXG4gICAgfSxcclxuICAgIFwiLVwiIDogZnVuY3Rpb248VCBleHRlbmRzIEF0b21pY1R5cGU+KGxlZnQ6IFZhbHVlPFQ+LCByaWdodDogVmFsdWU8VD4pIHtcclxuICAgICAgICByZXR1cm4gbGVmdC5jb21iaW5lKHJpZ2h0LCBzdWIpO1xyXG4gICAgfSxcclxuICAgIFwiKlwiIDogZnVuY3Rpb248VCBleHRlbmRzIEF0b21pY1R5cGU+KGxlZnQ6IFZhbHVlPFQ+LCByaWdodDogVmFsdWU8VD4pIHtcclxuICAgICAgICByZXR1cm4gbGVmdC5jb21iaW5lKHJpZ2h0LCBtdWx0KTtcclxuICAgIH0sXHJcbiAgICBcIi9cIiA6IGZ1bmN0aW9uPFQgZXh0ZW5kcyBBdG9taWNUeXBlPihsZWZ0OiBWYWx1ZTxUPiwgcmlnaHQ6IFZhbHVlPFQ+KSB7XHJcbiAgICAgICAgaWYgKGxlZnQudHlwZS5pc0ludGVncmFsVHlwZSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBsZWZ0LmNvbWJpbmUocmlnaHQsIGludERpdik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbGVmdC5jb21iaW5lKHJpZ2h0LCBmbG9hdERpdik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIFwiJVwiIDogZnVuY3Rpb248VCBleHRlbmRzIEF0b21pY1R5cGU+KGxlZnQ6IFZhbHVlPFQ+LCByaWdodDogVmFsdWU8VD4pIHtcclxuICAgICAgICByZXR1cm4gbGVmdC5jb21iaW5lKHJpZ2h0LCBtb2QpO1xyXG4gICAgfSxcclxuICAgIFwiJlwiIDogZnVuY3Rpb248VCBleHRlbmRzIEF0b21pY1R5cGU+KGxlZnQ6IFZhbHVlPFQ+LCByaWdodDogVmFsdWU8VD4pIHtcclxuICAgICAgICByZXR1cm4gbGVmdC5jb21iaW5lKHJpZ2h0LCBiaXRBbmQpO1xyXG4gICAgfSxcclxuICAgIFwiXlwiIDogZnVuY3Rpb248VCBleHRlbmRzIEF0b21pY1R5cGU+KGxlZnQ6IFZhbHVlPFQ+LCByaWdodDogVmFsdWU8VD4pIHtcclxuICAgICAgICByZXR1cm4gbGVmdC5jb21iaW5lKHJpZ2h0LCBiaXRYb3IpO1xyXG4gICAgfSxcclxuICAgIFwifFwiIDogZnVuY3Rpb248VCBleHRlbmRzIEF0b21pY1R5cGU+KGxlZnQ6IFZhbHVlPFQ+LCByaWdodDogVmFsdWU8VD4pIHtcclxuICAgICAgICByZXR1cm4gbGVmdC5jb21iaW5lKHJpZ2h0LCBiaXRPcik7XHJcbiAgICB9LFxyXG4gICAgXCI8PFwiIDogZnVuY3Rpb248VCBleHRlbmRzIEF0b21pY1R5cGU+KGxlZnQ6IFZhbHVlPFQ+LCByaWdodDogVmFsdWU8VD4pIHtcclxuICAgICAgICByZXR1cm4gbGVmdC5jb21iaW5lKHJpZ2h0LCBiaXRTaGlmdExlZnQpO1xyXG4gICAgfSxcclxuICAgIFwiPj5cIiA6IGZ1bmN0aW9uPFQgZXh0ZW5kcyBBdG9taWNUeXBlPihsZWZ0OiBWYWx1ZTxUPiwgcmlnaHQ6IFZhbHVlPFQ+KSB7XHJcbiAgICAgICAgcmV0dXJuIGxlZnQuY29tYmluZShyaWdodCwgYml0U2hpZnRSaWdodCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIFRPRE86IG1ha2UgdHlwZXMgbW9yZSBzcGVjaWZpYy4gQXJpdGhtZXRpY0JpbmFyeU9wZXJhdG9yIHNob3VsZCBvbmx5IGJlIHVzZWQgaW4gY2FzZXMgd2hlcmUgaXQgaGFzXHJcbi8vIGFscmVhZHkgYmVlbiBkZXRlcm1pbmVkIHRoYXQgYm90aCBvcGVyYW5kcyBoYXZlIGFyaXRobWV0aWMgdHlwZS4gRWl0aGVyIHRoYXQgb3IgaXQgc2hvdWxkIGJlIHVzZWRcclxuLy8gaW4gY2FzZXMgd2hlcmUgYW4gb3BlcmF0b3IgcmVxdWlyZXMgYXJpdGhtZXRpYyBvcGVyYW5kcywgYnV0IG5vdCBzdXJlLiBGb3IgZXhhbXBsZSwgd2hhdCBpZiBzb21lb25lXHJcbi8vIHRyaWVzIHRvIGFkZCBhIHBvaW50ZXIgdHlwZSBhbmQgYSBjbGFzcyB0eXBlIHdpdGggdGhlICsgb3BlcmF0b3IgKGFzc3VtaW5nIG92ZXJsb2FkcyBhbHJlYWR5IGNoZWNrZWRcclxuLy8gYW5kIG5vbmUgZm91bmQpLiBXaGF0IFRTIGNsYXNzIGRvIHdlIHdhbnQgdG8gZ2V0IHVzZWQsIHMgdGhhdCB0aGUgZXJyb3IgbWVzc2FnZXMgYXJlIGFzIGdvb2QgYXMgcG9zc2libGU/XHJcbi8vIENvbnNpZGVyaW5nIHRoaWUgYW5kIExvZ2ljYWxCaW5hcnlPcGVyYXRvciB0b2dldGhlciwgaXQgYWN0dWFsbHkgc2VlbXMgYmVzdCB0byBjcmVhdGUgdGhpcyBpbiBhIHdheSB0aGF0XHJcbi8vIGlzIGJhc2VkIG9uIHRoZSBvcGVyYXRvciB1c2VkIGFuZCBhY3R1YWxseSBhbGxvd3MgZm9yIGltcHJvcGVyIHR5cGVzLiBUaGF0IHNob3VsZCByZXN1bHQgaW4gdGhlIG1vc3QgcmVsZXZhbnRcclxuLy8gZXJyb3IgbWVzc2FnZXMuIChPZiBjb3Vyc2UsIG92ZXJsb2FkcyBhcmUgc3RpbGwgY2hlY2tlZCBmb3IgZmlyc3QsIGFuZCB0aGUgc3BlY2lmaWMgcG9pbnRlciBvZmZzZXQgYW5kXHJcbi8vIHBvaW50ZXIgZGlmZmVyZW5jZSBjYXNlcyBzaG91bGQgYWxzbyBiZSBjaGVja2VkIGZvciBmaXJzdC4gU28gdGhlc2UgYXJlIHRoZSBmYWxsYmFjayBvcHRpb25zLilcclxuY2xhc3MgQXJpdGhtZXRpY0JpbmFyeU9wZXJhdG9yRXhwcmVzc2lvbiBleHRlbmRzIEJpbmFyeU9wZXJhdG9yIHtcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGU/OiBBcml0aG1ldGljVHlwZTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVmdDogRXhwcmVzc2lvbjtcclxuICAgIHB1YmxpYyByZWFkb25seSByaWdodDogRXhwcmVzc2lvbjtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgb3BlcmF0b3IhOiB0X0FyaXRobWV0aWNCaW5hcnlPcGVyYXRvcnM7IC8vIE5hcnJvd3MgdHlwZSBmcm9tIGJhc2VcclxuXHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQsIGxlZnQ6IEV4cHJlc3Npb24sIHJpZ2h0OiBFeHByZXNzaW9uLCBvcGVyYXRvcjogdF9Bcml0aG1ldGljQmluYXJ5T3BlcmF0b3JzKSB7XHJcbiAgICAgICAgc3VwZXIoY29udGV4dCwgb3BlcmF0b3IpO1xyXG5cclxuICAgICAgICBpZiAoIWxlZnQuaXNXZWxsVHlwZWQoKSB8fCAhcmlnaHQuaXNXZWxsVHlwZWQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLmxlZnQgPSBsZWZ0KTtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2godGhpcy5yaWdodCA9IHJpZ2h0KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBBcml0aG1ldGljIHR5cGVzIGFyZSByZXF1aXJlZFxyXG4gICAgICAgIGlmICghbGVmdC5pc0FyaXRobWV0aWNUeXBlZCgpIHx8ICFyaWdodC5pc0FyaXRobWV0aWNUeXBlZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmJpbmFyeS5hcml0aG1ldGljX29wZXJhbmRzKHRoaXMsIHRoaXMub3BlcmF0b3IsIGxlZnQsIHJpZ2h0KSk7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoKHRoaXMubGVmdCA9IGxlZnQpO1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLnJpZ2h0ID0gcmlnaHQpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAlIG9wZXJhdG9yIGFuZCBzaGlmdCBvcGVyYXRvcnMgcmVxdWlyZSBpbnRlZ3JhbCBvcGVyYW5kc1xyXG4gICAgICAgIGlmICgob3BlcmF0b3IgPT09IFwiJVwiIHx8IG9wZXJhdG9yID09PSBcIjw8XCIgfHwgb3BlcmF0b3IgPT0gXCI+PlwiKSAmJlxyXG4gICAgICAgICAgICAoIWxlZnQuaXNJbnRlZ3JhbFR5cGVkKCkgfHwgIXJpZ2h0LmlzSW50ZWdyYWxUeXBlZCgpKSkge1xyXG4gICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5iaW5hcnkuYXJpdGhtZXRpY19vcGVyYW5kcyh0aGlzLCB0aGlzLm9wZXJhdG9yLCBsZWZ0LCByaWdodCkpO1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLmxlZnQgPSBsZWZ0KTtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2godGhpcy5yaWdodCA9IHJpZ2h0KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IFtjb252ZXJ0ZWRMZWZ0LCBjb252ZXJ0ZWRSaWdodF0gPSB1c3VhbEFyaXRobWV0aWNDb252ZXJzaW9ucyhsZWZ0LCByaWdodCk7XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICghc2FtZVR5cGUoY29udmVydGVkTGVmdC50eXBlISwgY29udmVydGVkUmlnaHQudHlwZSEpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmludmFsaWRfYmluYXJ5X29wZXJhbmRzKHRoaXMsIHRoaXMub3BlcmF0b3IsIGNvbnZlcnRlZExlZnQsIGNvbnZlcnRlZFJpZ2h0KSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnR5cGUgPSBjb252ZXJ0ZWRMZWZ0LnR5cGU7XHJcbiAgICAgICAgdGhpcy5hdHRhY2godGhpcy5sZWZ0ID0gY29udmVydGVkTGVmdCk7XHJcbiAgICAgICAgdGhpcy5hdHRhY2godGhpcy5yaWdodCA9IGNvbnZlcnRlZFJpZ2h0KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVGcm9tQVNUKGFzdDogQXJpdGhtZXRpY0JpbmFyeU9wZXJhdG9yRXhwcmVzc2lvbkFTVE5vZGUsIGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0KSA6IEFyaXRobWV0aWNCaW5hcnlPcGVyYXRvckV4cHJlc3Npb24gfCBQb2ludGVyRGlmZmVyZW5jZSB8IFBvaW50ZXJPZmZzZXQge1xyXG4gICAgICAgIGxldCBsZWZ0IDogRXhwcmVzc2lvbiA9IGNyZWF0ZUV4cHJlc3Npb25Gcm9tQVNUKGFzdC5sZWZ0LCBjb250ZXh0KTtcclxuICAgICAgICBsZXQgcmlnaHQgOiBFeHByZXNzaW9uID0gY3JlYXRlRXhwcmVzc2lvbkZyb21BU1QoYXN0LnJpZ2h0LCBjb250ZXh0KTtcclxuICAgICAgICBsZXQgb3AgPSBhc3Qub3BlcmF0b3I7XHJcblxyXG4gICAgICAgIC8vIElmIG9wZXJhdG9yIGlzIFwiLVwiIGFuZCBib3RoIGFyZSBwb2ludGVycywgaXQncyBhIHBvaW50ZXIgZGlmZmVyZW5jZVxyXG4gICAgICAgIGlmIChvcCA9PT0gXCItXCIgJiYgKGxlZnQuaXNQb2ludGVyVHlwZWQoKSB8fCBsZWZ0LmlzQm91bmRlZEFycmF5VHlwZWQoKSkgJiYgKHJpZ2h0LmlzUG9pbnRlclR5cGVkKCkgfHwgcmlnaHQuaXNCb3VuZGVkQXJyYXlUeXBlZCgpKSkge1xyXG4gICAgICAgICAgICAvLyBjYXN0cyBiZWxvdyBhcmUgbmVjZXNzYXJ5IGJlY2F1c2UgY29udmVydFRvUFJWYWx1ZSgpIG92ZXJsb2FkcyBjYW4ndCBlbGVnYW50bHlcclxuICAgICAgICAgICAgLy8gaGFuZGxlIHRoZSB1bmlvbiBiZXR3ZWVuIHBvaW50ZXIgYW5kIGFycmF5IHR5cGVzLiBXaXRob3V0IHRoZSBjYXN0cywgd2UndmUgaGF2ZVxyXG4gICAgICAgICAgICAvLyB0byBzZXBhcmF0ZSB0aGlzIG91dCBpbnRvIHRoZSA0IGRpZmZlcmVudCBjYXNlcyBvZiBhcnJheS9hcnJheSwgYXJyYXkvcG9pbnRlcixcclxuICAgICAgICAgICAgLy8gcG9pbnRlci9hcnJheSwgcG9pbnRlci9wb2ludGVyLCB3aGljaCB3b3VsZCBiZSBhbm5veWluZ1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50ZXJEaWZmZXJlbmNlKGNvbnRleHQsXHJcbiAgICAgICAgICAgICAgICA8VHlwZWRFeHByZXNzaW9uPFBvaW50ZXJUeXBlLCBcInBydmFsdWVcIj4+Y29udmVydFRvUFJWYWx1ZShsZWZ0KSxcclxuICAgICAgICAgICAgICAgIDxUeXBlZEV4cHJlc3Npb248UG9pbnRlclR5cGUsIFwicHJ2YWx1ZVwiPj5jb252ZXJ0VG9QUlZhbHVlKHJpZ2h0KSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBvcGVyYXRvciBpcyBcIi1cIiBvciBcIitcIiBhbmQgaXQncyBhIGNvbWJpbmF0aW9uIG9mIHBvaW50ZXIgcGx1cyBpbnRlZ2VyLCBpdCdzIGEgcG9pbnRlciBvZmZzZXRcclxuICAgICAgICBpZiAob3AgPT09IFwiLVwiIHx8IG9wID09PSBcIitcIikge1xyXG4gICAgICAgICAgICBpZigobGVmdC5pc1BvaW50ZXJUeXBlZCgpIHx8IGxlZnQuaXNCb3VuZGVkQXJyYXlUeXBlZCgpKSAmJiByaWdodC5pc0ludGVncmFsVHlwZWQoKSB8fFxyXG4gICAgICAgICAgICAgICAocmlnaHQuaXNQb2ludGVyVHlwZWQoKSB8fCByaWdodC5pc0JvdW5kZWRBcnJheVR5cGVkKCkpICYmIGxlZnQuaXNJbnRlZ3JhbFR5cGVkKCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUG9pbnRlck9mZnNldChjb250ZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgIDxUeXBlZEV4cHJlc3Npb248UG9pbnRlclR5cGUsIFwicHJ2YWx1ZVwiPj5jb252ZXJ0VG9QUlZhbHVlKGxlZnQpLFxyXG4gICAgICAgICAgICAgICAgICAgIDxUeXBlZEV4cHJlc3Npb248UG9pbnRlclR5cGUsIFwicHJ2YWx1ZVwiPj5jb252ZXJ0VG9QUlZhbHVlKHJpZ2h0KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgQXJpdGhtZXRpY0JpbmFyeU9wZXJhdG9yRXhwcmVzc2lvbihjb250ZXh0LCBsZWZ0LCByaWdodCwgb3ApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbjxUIGV4dGVuZHMgQXJpdGhtZXRpY1R5cGU+KHRoaXM6IENvbXBpbGVkQXJpdGhtZXRpY0JpbmFyeU9wZXJhdG9yPFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZUFyaXRobWV0aWNCaW5hcnlPcGVyYXRvcjxUPjtcclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbjxUIGV4dGVuZHMgVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnk+KHRoaXM6IENvbXBpbGVkRXhwcmVzc2lvbjxULFY+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogbmV2ZXI7XHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUV4cHJlc3Npb248VCBleHRlbmRzIEFyaXRobWV0aWNUeXBlPih0aGlzOiBDb21waWxlZEFyaXRobWV0aWNCaW5hcnlPcGVyYXRvcjxUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVBcml0aG1ldGljQmluYXJ5T3BlcmF0b3I8VD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUnVudGltZUFyaXRobWV0aWNCaW5hcnlPcGVyYXRvcih0aGlzLCBwYXJlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZXNjcmliZUV2YWxSZXN1bHQoZGVwdGg6IG51bWJlcik6IERlc2NyaXB0aW9uIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZEFyaXRobWV0aWNCaW5hcnlPcGVyYXRvcjxUIGV4dGVuZHMgQXJpdGhtZXRpY1R5cGU+IGV4dGVuZHMgQXJpdGhtZXRpY0JpbmFyeU9wZXJhdG9yRXhwcmVzc2lvbiwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG5cclxuICAgIHJlYWRvbmx5IHRlbXBvcmFyeURlYWxsb2NhdG9yPzogQ29tcGlsZWRUZW1wb3JhcnlEZWFsbG9jYXRvcjsgLy8gdG8gbWF0Y2ggQ29tcGlsZWRQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiBzdHJ1Y3R1cmVcclxuICAgIHJlYWRvbmx5IHR5cGU6IFQ7XHJcblxyXG4gICAgcmVhZG9ubHkgbGVmdDogQ29tcGlsZWRFeHByZXNzaW9uPFQsXCJwcnZhbHVlXCI+O1xyXG4gICAgcmVhZG9ubHkgcmlnaHQ6IENvbXBpbGVkRXhwcmVzc2lvbjxULFwicHJ2YWx1ZVwiPjtcclxufVxyXG5cclxuLy8gVE9ETzogcmVuYW1lIHRoaXMgb3IgbWF5YmUgY3JlYXRlIHR3byBzZXBhcmF0ZSBjbGFzc2VzIGZvciBBcml0aG1ldGljIGFuZCBMb2dpY2FsXHJcbmV4cG9ydCBjbGFzcyBSdW50aW1lQXJpdGhtZXRpY0JpbmFyeU9wZXJhdG9yPFQgZXh0ZW5kcyBBcml0aG1ldGljVHlwZT4gZXh0ZW5kcyBSdW50aW1lQmluYXJ5T3BlcmF0b3I8VCwgQ29tcGlsZWRBcml0aG1ldGljQmluYXJ5T3BlcmF0b3I8VD4+IHtcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IGxlZnQ6IFJ1bnRpbWVFeHByZXNzaW9uPFQsIFwicHJ2YWx1ZVwiPjtcclxuICAgIHB1YmxpYyByZWFkb25seSByaWdodDogUnVudGltZUV4cHJlc3Npb248VCwgXCJwcnZhbHVlXCI+O1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvciAobW9kZWw6IENvbXBpbGVkQXJpdGhtZXRpY0JpbmFyeU9wZXJhdG9yPFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICBzdXBlcihtb2RlbCwgcGFyZW50KTtcclxuICAgICAgICB0aGlzLmxlZnQgPSB0aGlzLm1vZGVsLmxlZnQuY3JlYXRlUnVudGltZUV4cHJlc3Npb24odGhpcyk7XHJcbiAgICAgICAgdGhpcy5yaWdodCA9IHRoaXMubW9kZWwucmlnaHQuY3JlYXRlUnVudGltZUV4cHJlc3Npb24odGhpcyk7XHJcbiAgICAgICAgdGhpcy5zZXRTdWJleHByZXNzaW9ucyhbdGhpcy5sZWZ0LCB0aGlzLnJpZ2h0XSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9wZXJhdGUoKSB7XHJcbiAgICAgICAgLy8gTm90IHN1cmUgd2h5IHRoZSBjYXN0IGhlcmUgaXMgbmVjZXNzYXJ5IGJ1dCBhcHBhcmVudGx5IFR5cGVzY3JpcHQgbmVlZHMgaXRcclxuICAgICAgICB0aGlzLnNldEV2YWxSZXN1bHQoPFZDUmVzdWx0VHlwZXM8VCxcInBydmFsdWVcIj4+QVJJVEhNRVRJQ19CSU5BUllfT1BFUkFUSU9OU1t0aGlzLm1vZGVsLm9wZXJhdG9yXSh0aGlzLmxlZnQuZXZhbFJlc3VsdCwgdGhpcy5yaWdodC5ldmFsUmVzdWx0KSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQb2ludGVyRGlmZmVyZW5jZSBleHRlbmRzIEJpbmFyeU9wZXJhdG9yIHtcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGU6IEludDtcclxuICAgIHB1YmxpYyByZWFkb25seSB2YWx1ZUNhdGVnb3J5ID0gXCJwcnZhbHVlXCI7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGxlZnQ6IFR5cGVkRXhwcmVzc2lvbjxQb2ludGVyVHlwZSwgXCJwcnZhbHVlXCI+O1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHJpZ2h0OiBUeXBlZEV4cHJlc3Npb248UG9pbnRlclR5cGUsIFwicHJ2YWx1ZVwiPjtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgb3BlcmF0b3IhIDogXCItXCI7IC8vIE5hcnJvd3MgdHlwZSBmcm9tIGJhc2VcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQsIGxlZnQ6IFR5cGVkRXhwcmVzc2lvbjxQb2ludGVyVHlwZSwgXCJwcnZhbHVlXCI+LCByaWdodDogVHlwZWRFeHByZXNzaW9uPFBvaW50ZXJUeXBlLCBcInBydmFsdWVcIj4pIHtcclxuICAgICAgICBzdXBlcihjb250ZXh0LCBcIi1cIik7XHJcblxyXG4gICAgICAgIC8vIE5vdCBuZWNlc3NhcnkgYXNzdW1pbmcgdGhleSBjb21lIGluIGFzIHBydmFsdWVzIHRoYXQgYXJlIGNvbmZpcm1lZCB0byBoYXZlIHBvaW50ZXIgdHlwZS5cclxuICAgICAgICAvLyBpZiAobGVmdC5pc1dlbGxUeXBlZCgpICYmIHJpZ2h0LmlzV2VsbFR5cGVkKCkpIHtcclxuICAgICAgICAvLyAgICAgbGVmdCA9IGNvbnZlcnRUb1BSVmFsdWUobGVmdCk7XHJcbiAgICAgICAgLy8gICAgIHJpZ2h0ID0gY29udmVydFRvUFJWYWx1ZShyaWdodCk7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLmxlZnQgPSBsZWZ0KTtcclxuICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLnJpZ2h0ID0gcmlnaHQpO1xyXG5cclxuICAgICAgICB0aGlzLnR5cGUgPSBuZXcgSW50KCk7XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIE5vdCBuZWNlc3NhcnkgYXNzdW1pbmcgdGhleSBjb21lIGluIGFzIHBydmFsdWVzIHRoYXQgYXJlIGNvbmZpcm1lZCB0byBoYXZlIHBvaW50ZXIgdHlwZS5cclxuICAgICAgICAvLyBpZiAobGVmdC5pc1dlbGxUeXBlZCgpICYmIHJpZ2h0LmlzV2VsbFR5cGVkKCkpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgLy8gICAgIGlmIChsZWZ0LnR5cGUuaXNUeXBlKFBvaW50ZXIpICYmIHJpZ2h0LnR5cGUuaXNUeXBlKFBvaW50ZXIpKSB7XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLnR5cGUgPSBuZXcgSW50KCk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyAgICAgZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5pbnZhbGlkX2JpbmFyeV9vcGVyYW5kcyh0aGlzLCB0aGlzLm9wZXJhdG9yLCBsZWZ0LCByaWdodCkpO1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy50eXBlID0gbnVsbDtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBlbHNlIHtcclxuICAgICAgICAvLyAgICAgdGhpcy50eXBlID0gbnVsbDtcclxuICAgICAgICAvLyB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uKHRoaXM6IENvbXBpbGVkUG9pbnRlckRpZmZlcmVuY2UsIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lUG9pbnRlckRpZmZlcmVuY2U7XHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUV4cHJlc3Npb248VCBleHRlbmRzIFBvaW50ZXJUeXBlLCBWIGV4dGVuZHMgVmFsdWVDYXRlZ29yeT4odGhpczogQ29tcGlsZWRFeHByZXNzaW9uPFQsVj4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBuZXZlcjtcclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbih0aGlzOiBDb21waWxlZFBvaW50ZXJEaWZmZXJlbmNlLCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZVBvaW50ZXJEaWZmZXJlbmNlIHtcclxuICAgICAgICByZXR1cm4gbmV3IFJ1bnRpbWVQb2ludGVyRGlmZmVyZW5jZSh0aGlzLCBwYXJlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZXNjcmliZUV2YWxSZXN1bHQoZGVwdGg6IG51bWJlcik6IERlc2NyaXB0aW9uIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZFBvaW50ZXJEaWZmZXJlbmNlIGV4dGVuZHMgUG9pbnRlckRpZmZlcmVuY2UsIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuICAgIHJlYWRvbmx5IHRlbXBvcmFyeURlYWxsb2NhdG9yPzogQ29tcGlsZWRUZW1wb3JhcnlEZWFsbG9jYXRvcjsgLy8gdG8gbWF0Y2ggQ29tcGlsZWRQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiBzdHJ1Y3R1cmVcclxuXHJcbiAgICByZWFkb25seSBsZWZ0OiBDb21waWxlZEV4cHJlc3Npb248UG9pbnRlclR5cGUsIFwicHJ2YWx1ZVwiPjtcclxuICAgIHJlYWRvbmx5IHJpZ2h0OiBDb21waWxlZEV4cHJlc3Npb248UG9pbnRlclR5cGUsIFwicHJ2YWx1ZVwiPjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJ1bnRpbWVQb2ludGVyRGlmZmVyZW5jZSBleHRlbmRzIFJ1bnRpbWVCaW5hcnlPcGVyYXRvcjxJbnQsIENvbXBpbGVkUG9pbnRlckRpZmZlcmVuY2U+IHtcclxuXHJcbiAgICBwdWJsaWMgbGVmdDogUnVudGltZUV4cHJlc3Npb248UG9pbnRlclR5cGUsIFwicHJ2YWx1ZVwiPjtcclxuICAgIHB1YmxpYyByaWdodDogUnVudGltZUV4cHJlc3Npb248UG9pbnRlclR5cGUsIFwicHJ2YWx1ZVwiPjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IgKG1vZGVsOiBDb21waWxlZFBvaW50ZXJEaWZmZXJlbmNlLCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICBzdXBlcihtb2RlbCwgcGFyZW50KTtcclxuICAgICAgICB0aGlzLmxlZnQgPSB0aGlzLm1vZGVsLmxlZnQuY3JlYXRlUnVudGltZUV4cHJlc3Npb24odGhpcyk7XHJcbiAgICAgICAgdGhpcy5yaWdodCA9IHRoaXMubW9kZWwucmlnaHQuY3JlYXRlUnVudGltZUV4cHJlc3Npb24odGhpcyk7XHJcbiAgICAgICAgdGhpcy5zZXRTdWJleHByZXNzaW9ucyhbdGhpcy5sZWZ0LCB0aGlzLnJpZ2h0XSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9wZXJhdGUoKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMubGVmdC5ldmFsUmVzdWx0LnBvaW50ZXJEaWZmZXJlbmNlKHRoaXMucmlnaHQuZXZhbFJlc3VsdCk7XHJcblxyXG4gICAgICAgIGxldCBsZWZ0QXJyID0gdGhpcy5sZWZ0Lm1vZGVsLnR5cGUuaXNUeXBlKEFycmF5UG9pbnRlcikgPyB0aGlzLmxlZnQubW9kZWwudHlwZS5hcnJheU9iamVjdCA6IG51bGw7XHJcbiAgICAgICAgbGV0IHJpZ2h0QXJyID0gdGhpcy5yaWdodC5tb2RlbC50eXBlLmlzVHlwZShBcnJheVBvaW50ZXIpID8gdGhpcy5yaWdodC5tb2RlbC50eXBlLmFycmF5T2JqZWN0IDogbnVsbDtcclxuXHJcbiAgICAgICAgaWYgKHJlc3VsdC5yYXdFcXVhbHMoMCkpIHtcclxuICAgICAgICAgICAgLy8gSWYgaXQncyB0aGUgc2FtZSBhZGRyZXNzLCBJIGd1ZXNzIHdlIGNhbiBsZXQgaXQgc2xpZGUuLi5cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIWxlZnRBcnIgJiYgcmlnaHRBcnIpIHtcclxuICAgICAgICAgICAgdGhpcy5zaW0uZXZlbnRPY2N1cnJlZChTaW11bGF0aW9uRXZlbnQuVU5ERUZJTkVEX0JFSEFWSU9SLCBcIlRoZSBsZWZ0IHBvaW50ZXIgaW4gdGhpcyBzdWJ0cmFjdGlvbiBpcyBub3QgZnJvbSBhbiBhcnJheSwgc28gdGhlIHJlc3VsdGluZyBkaWZmZXJlbmNlIGlzIG5vdCBtZWFuaW5nZnVsLlwiLCB0cnVlKTtcclxuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmludmFsaWRhdGVkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGxlZnRBcnIgJiYgIXJpZ2h0QXJyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2ltLmV2ZW50T2NjdXJyZWQoU2ltdWxhdGlvbkV2ZW50LlVOREVGSU5FRF9CRUhBVklPUiwgXCJUaGUgcmlnaHQgcG9pbnRlciBpbiB0aGlzIHN1YnRyYWN0aW9uIGlzIG5vdCBmcm9tIGFuIGFycmF5LCBzbyB0aGUgcmVzdWx0aW5nIGRpZmZlcmVuY2UgaXMgbm90IG1lYW5pbmdmdWwuXCIsIHRydWUpO1xyXG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuaW52YWxpZGF0ZWQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobGVmdEFyciAmJiByaWdodEFyciAmJiBsZWZ0QXJyICE9PSByaWdodEFycikge1xyXG4gICAgICAgICAgICB0aGlzLnNpbS5ldmVudE9jY3VycmVkKFNpbXVsYXRpb25FdmVudC5VTkRFRklORURfQkVIQVZJT1IsIFwiVGhlIHBvaW50ZXJzIGluIHRoaXMgc3VidHJhY3Rpb24gYXJlIHBvaW50aW5nIGludG8gdHdvIGRpZmZlcmVudCBhcnJheXMsIHNvIHRoZSByZXN1bHRpbmcgZGlmZmVyZW5jZSBpcyBub3QgbWVhbmluZ2Z1bC5cIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5pbnZhbGlkYXRlZCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zZXRFdmFsUmVzdWx0KHJlc3VsdCk7XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUG9pbnRlck9mZnNldCBleHRlbmRzIEJpbmFyeU9wZXJhdG9yIHtcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGU/OiBQb2ludGVyVHlwZTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVmdDogVHlwZWRFeHByZXNzaW9uPFBvaW50ZXJUeXBlLCBcInBydmFsdWVcIj4gfCBUeXBlZEV4cHJlc3Npb248SW50ZWdyYWxUeXBlLCBcInBydmFsdWVcIj47XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmlnaHQ6IFR5cGVkRXhwcmVzc2lvbjxQb2ludGVyVHlwZSwgXCJwcnZhbHVlXCI+IHwgVHlwZWRFeHByZXNzaW9uPEludGVncmFsVHlwZSwgXCJwcnZhbHVlXCI+O1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBwb2ludGVyPzogVHlwZWRFeHByZXNzaW9uPFBvaW50ZXJUeXBlLCBcInBydmFsdWVcIj47XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgb2Zmc2V0PzogVHlwZWRFeHByZXNzaW9uPEludGVncmFsVHlwZSwgXCJwcnZhbHVlXCI+O1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBwb2ludGVyT25MZWZ0PzogYm9vbGVhbjtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgb3BlcmF0b3IhIDogXCIrXCI7IC8vIE5hcnJvd3MgdHlwZSBmcm9tIGJhc2VcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQsXHJcbiAgICAgICAgICAgIGxlZnQ6IFR5cGVkRXhwcmVzc2lvbjxQb2ludGVyVHlwZSwgXCJwcnZhbHVlXCI+IHwgVHlwZWRFeHByZXNzaW9uPEludGVncmFsVHlwZSwgXCJwcnZhbHVlXCI+LFxyXG4gICAgICAgICAgICByaWdodDogVHlwZWRFeHByZXNzaW9uPFBvaW50ZXJUeXBlLCBcInBydmFsdWVcIj4gfCBUeXBlZEV4cHJlc3Npb248SW50ZWdyYWxUeXBlLCBcInBydmFsdWVcIj4pIHtcclxuICAgICAgICBzdXBlcihjb250ZXh0LCBcIitcIik7XHJcblxyXG4gICAgICAgIC8vIE5PVCBORUVERUQgQVNTVU1JTkcgVEhFWSBDT01FIElOIEFMUkVBRFkgV0VMTCBUWVBFRCBBUyBBUFBST1BSSUFURSBGT1IgUE9JTlRFUiBPRkZTRVRcclxuICAgICAgICAvLyBpZiAobGVmdC5pc1dlbGxUeXBlZCgpICYmIHJpZ2h0LmlzV2VsbFR5cGVkKCkpIHtcclxuICAgICAgICAvLyAgICAgbGVmdCA9IGNvbnZlcnRUb1BSVmFsdWUobGVmdCk7XHJcbiAgICAgICAgLy8gICAgIHJpZ2h0ID0gY29udmVydFRvUFJWYWx1ZShyaWdodCk7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuXHJcbiAgICAgICAgdGhpcy5hdHRhY2godGhpcy5sZWZ0ID0gbGVmdCk7XHJcbiAgICAgICAgdGhpcy5hdHRhY2godGhpcy5yaWdodCA9IHJpZ2h0KTtcclxuXHJcbiAgICAgICAgaWYgKCFsZWZ0LmlzV2VsbFR5cGVkKCkgfHwgIXJpZ2h0LmlzV2VsbFR5cGVkKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgaWYgKGxlZnQuaXNQb2ludGVyVHlwZWQoKSAmJiByaWdodC5pc0ludGVncmFsVHlwZWQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnBvaW50ZXJPbkxlZnQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnBvaW50ZXIgPSA8VHlwZWRFeHByZXNzaW9uPFBvaW50ZXJUeXBlLCBcInBydmFsdWVcIj4+IGxlZnQ7XHJcbiAgICAgICAgICAgIHRoaXMub2Zmc2V0ID0gPFR5cGVkRXhwcmVzc2lvbjxJbnRlZ3JhbFR5cGUsIFwicHJ2YWx1ZVwiPj4gcmlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IHRoaXMucG9pbnRlci50eXBlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChsZWZ0LmlzSW50ZWdyYWxUeXBlZCgpICYmIHJpZ2h0LmlzUG9pbnRlclR5cGVkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5wb2ludGVyT25MZWZ0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMucG9pbnRlciA9IDxUeXBlZEV4cHJlc3Npb248UG9pbnRlclR5cGUsIFwicHJ2YWx1ZVwiPj4gcmlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMub2Zmc2V0ID0gPFR5cGVkRXhwcmVzc2lvbjxJbnRlZ3JhbFR5cGUsIFwicHJ2YWx1ZVwiPj4gbGVmdDtcclxuICAgICAgICAgICAgdGhpcy50eXBlID0gdGhpcy5wb2ludGVyLnR5cGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5pbnZhbGlkX2JpbmFyeV9vcGVyYW5kcyh0aGlzLCB0aGlzLm9wZXJhdG9yLCBsZWZ0LCByaWdodCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUV4cHJlc3Npb248VCBleHRlbmRzIFBvaW50ZXJUeXBlPih0aGlzOiBDb21waWxlZFBvaW50ZXJPZmZzZXQ8VD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lUG9pbnRlck9mZnNldDxUPjtcclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbjxUIGV4dGVuZHMgUG9pbnRlclR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5Pih0aGlzOiBDb21waWxlZEV4cHJlc3Npb248VCxWPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IG5ldmVyO1xyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPFQgZXh0ZW5kcyBQb2ludGVyVHlwZT4odGhpczogQ29tcGlsZWRQb2ludGVyT2Zmc2V0PFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZVBvaW50ZXJPZmZzZXQ8VD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUnVudGltZVBvaW50ZXJPZmZzZXQodGhpcywgcGFyZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzY3JpYmVFdmFsUmVzdWx0KGRlcHRoOiBudW1iZXIpOiBEZXNjcmlwdGlvbiB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRQb2ludGVyT2Zmc2V0PFQgZXh0ZW5kcyBQb2ludGVyVHlwZSA9IFBvaW50ZXJUeXBlPiBleHRlbmRzIFBvaW50ZXJPZmZzZXQsIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuXHJcbiAgICByZWFkb25seSB0ZW1wb3JhcnlEZWFsbG9jYXRvcj86IENvbXBpbGVkVGVtcG9yYXJ5RGVhbGxvY2F0b3I7IC8vIHRvIG1hdGNoIENvbXBpbGVkUG90ZW50aWFsRnVsbEV4cHJlc3Npb24gc3RydWN0dXJlXHJcblxyXG4gICAgcmVhZG9ubHkgdHlwZTogVDtcclxuXHJcbiAgICByZWFkb25seSBsZWZ0OiBDb21waWxlZEV4cHJlc3Npb248VCwgXCJwcnZhbHVlXCI+IHwgQ29tcGlsZWRFeHByZXNzaW9uPEludGVncmFsVHlwZSwgXCJwcnZhbHVlXCI+O1xyXG4gICAgcmVhZG9ubHkgcmlnaHQ6IENvbXBpbGVkRXhwcmVzc2lvbjxULCBcInBydmFsdWVcIj4gfCBDb21waWxlZEV4cHJlc3Npb248SW50ZWdyYWxUeXBlLCBcInBydmFsdWVcIj47XHJcbiAgICBcclxuICAgIHJlYWRvbmx5IHBvaW50ZXI6IENvbXBpbGVkRXhwcmVzc2lvbjxULCBcInBydmFsdWVcIj47XHJcbiAgICByZWFkb25seSBvZmZzZXQ6IENvbXBpbGVkRXhwcmVzc2lvbjxJbnRlZ3JhbFR5cGUsIFwicHJ2YWx1ZVwiPjtcclxuICAgIFxyXG4gICAgcmVhZG9ubHkgcG9pbnRlck9uTGVmdD86IGJvb2xlYW47XHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgUnVudGltZVBvaW50ZXJPZmZzZXQ8VCBleHRlbmRzIFBvaW50ZXJUeXBlID0gUG9pbnRlclR5cGU+IGV4dGVuZHMgUnVudGltZUJpbmFyeU9wZXJhdG9yPFQsIENvbXBpbGVkUG9pbnRlck9mZnNldDxUPj4ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBsZWZ0OiBSdW50aW1lRXhwcmVzc2lvbjxULCBcInBydmFsdWVcIj4gfCBSdW50aW1lRXhwcmVzc2lvbjxJbnRlZ3JhbFR5cGUsIFwicHJ2YWx1ZVwiPjsgLy8gbmFycm93cyB0eXBlIG9mIG1lbWJlciBpbiBiYXNlIGNsYXNzXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmlnaHQ6IFJ1bnRpbWVFeHByZXNzaW9uPFQsIFwicHJ2YWx1ZVwiPiB8IFJ1bnRpbWVFeHByZXNzaW9uPEludGVncmFsVHlwZSwgXCJwcnZhbHVlXCI+OyAvLyBuYXJyb3dzIHR5cGUgb2YgbWVtYmVyIGluIGJhc2UgY2xhc3NcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcG9pbnRlcjogUnVudGltZUV4cHJlc3Npb248VCwgXCJwcnZhbHVlXCI+O1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG9mZnNldDogUnVudGltZUV4cHJlc3Npb248SW50ZWdyYWxUeXBlLCBcInBydmFsdWVcIj47XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChtb2RlbDogQ29tcGlsZWRQb2ludGVyT2Zmc2V0PFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICBzdXBlcihtb2RlbCwgcGFyZW50KTtcclxuICAgICAgICB0aGlzLnBvaW50ZXIgPSB0aGlzLm1vZGVsLnBvaW50ZXIuY3JlYXRlUnVudGltZUV4cHJlc3Npb24odGhpcyk7XHJcbiAgICAgICAgdGhpcy5vZmZzZXQgPSB0aGlzLm1vZGVsLm9mZnNldC5jcmVhdGVSdW50aW1lRXhwcmVzc2lvbih0aGlzKTtcclxuICAgICAgICBpZiAobW9kZWwucG9pbnRlck9uTGVmdCkge1xyXG4gICAgICAgICAgICB0aGlzLmxlZnQgPSB0aGlzLnBvaW50ZXI7XHJcbiAgICAgICAgICAgIHRoaXMucmlnaHQgPSB0aGlzLm9mZnNldDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubGVmdCA9IHRoaXMub2Zmc2V0O1xyXG4gICAgICAgICAgICB0aGlzLnJpZ2h0ID0gdGhpcy5wb2ludGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldFN1YmV4cHJlc3Npb25zKFt0aGlzLmxlZnQsIHRoaXMucmlnaHRdKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb3BlcmF0ZSgpIHtcclxuXHJcbiAgICAgICAgLy8gY29kZSBiZWxvdyBjb21wdXRlcyB0aGUgbmV3IGFkZHJlc3MgYWZ0ZXIgcG9pbnRlciBhZGRpdGlvbiwgd2hpbGUgcHJlc2VydmluZyBSVFRJXHJcbiAgICAgICAgLy8gICByZXN1bHQgPSBwb2ludGVyICsgb2Zmc2V0ICogcG9pbnRlclNpemVcclxuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5wb2ludGVyLmV2YWxSZXN1bHQucG9pbnRlck9mZnNldCh0aGlzLm9mZnNldC5ldmFsUmVzdWx0KTtcclxuICAgICAgICB0aGlzLnNldEV2YWxSZXN1bHQoPFZDUmVzdWx0VHlwZXM8VCxcInBydmFsdWVcIj4+cmVzdWx0KTsgLy8gbm90IHN1cmUgd2h5IGNhc3QgaXMgbmVjZXNzYXJ5IGhlcmVcclxuXHJcbiAgICAgICAgbGV0IHJlc3VsdFR5cGUgPSByZXN1bHQudHlwZTtcclxuICAgICAgICBpZiAocmVzdWx0VHlwZS5pc1R5cGUoQXJyYXlQb2ludGVyKSl7XHJcbiAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgd2UgaGF2ZW4ndCBydW4gb2ZmIHRoZSBhcnJheVxyXG4gICAgICAgICAgICBpZiAocmVzdWx0LnJhd1ZhbHVlIDwgcmVzdWx0VHlwZS5taW4oKSl7XHJcbiAgICAgICAgICAgICAgICAvL3NpbS5hbGVydChcIk9vcHMuIFRoYXQgcG9pbnRlciBqdXN0IHdhbmRlcmVkIG9mZiB0aGUgYmVnaW5uaW5nIG9mIGl0cyBhcnJheS5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAocmVzdWx0VHlwZS5vbmVQYXN0KCkgPCByZXN1bHQucmF3VmFsdWUpe1xyXG4gICAgICAgICAgICAgICAgLy9zaW0uYWxlcnQoXCJPb3BzLiBUaGF0IHBvaW50ZXIganVzdCB3YW5kZXJlZCBvZmYgdGhlIGVuZCBvZiBpdHMgYXJyYXkuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBSVFRJIHdvcmtzIHdlbGwgZW5vdWdoLCB0aGlzIHNob3VsZCBhbHdheXMgYmUgdW5zYWZlXHJcbiAgICAgICAgICAgIHRoaXMuc2ltLmV2ZW50T2NjdXJyZWQoU2ltdWxhdGlvbkV2ZW50LlVOREVGSU5FRF9CRUhBVklPUiwgXCJVaCwgSSBkb24ndCB0aGluayB5b3UncmUgc3VwcG9zZWQgdG8gZG8gYXJpdGhtZXRpYyB3aXRoIHRoYXQgcG9pbnRlci4gSXQncyBub3QgcG9pbnRpbmcgaW50byBhbiBhcnJheS5cIiwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUmVsYXRpb25hbEJpbmFyeU9wZXJhdG9yRXhwcmVzc2lvbkFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcInJlbGF0aW9uYWxfYmluYXJ5X29wZXJhdG9yX2V4cHJlc3Npb25cIjtcclxuICAgIHJlYWRvbmx5IG9wZXJhdG9yOiB0X1JlbGF0aW9uYWxCaW5hcnlPcGVyYXRvcnM7XHJcbiAgICByZWFkb25seSBsZWZ0OiBFeHByZXNzaW9uQVNUTm9kZTtcclxuICAgIHJlYWRvbmx5IHJpZ2h0OiBFeHByZXNzaW9uQVNUTm9kZTtcclxuICAgIHJlYWRvbmx5IGFzc29jaWF0aXZpdHk6IFwibGVmdFwiO1xyXG59XHJcblxyXG50eXBlIHRfUmVsYXRpb25hbEJpbmFyeU9wZXJhdG9ycyA9IFwiPFwiIHwgXCI+XCIgfCBcIjw9XCIgfCBcIj49XCIgfCBcIj09XCIgfCBcIiE9XCI7XHJcblxyXG5jb25zdCBSRUxBVElPTkFMX0JJTkFSWV9PUEVSQVRJT05TIDoge1tpbmRleDpzdHJpbmddOiA8VCBleHRlbmRzIEF0b21pY1R5cGU+KGxlZnQ6IFZhbHVlPFQ+LCByaWdodDogVmFsdWU8VD4pID0+IFZhbHVlPEJvb2w+fVxyXG4gICAgPSB7XHJcbiAgICBcIjxcIiA6IGZ1bmN0aW9uPFQgZXh0ZW5kcyBBdG9taWNUeXBlPihsZWZ0OiBWYWx1ZTxUPiwgcmlnaHQ6IFZhbHVlPFQ+KSB7XHJcbiAgICAgICAgcmV0dXJuIGxlZnQuY29tcGFyZShyaWdodCwgbHQpO1xyXG4gICAgfSxcclxuICAgIFwiPlwiIDogZnVuY3Rpb248VCBleHRlbmRzIEF0b21pY1R5cGU+KGxlZnQ6IFZhbHVlPFQ+LCByaWdodDogVmFsdWU8VD4pIHtcclxuICAgICAgICByZXR1cm4gbGVmdC5jb21wYXJlKHJpZ2h0LCBndCk7XHJcbiAgICB9LFxyXG4gICAgXCI8PVwiIDogZnVuY3Rpb248VCBleHRlbmRzIEF0b21pY1R5cGU+KGxlZnQ6IFZhbHVlPFQ+LCByaWdodDogVmFsdWU8VD4pIHtcclxuICAgICAgICByZXR1cm4gbGVmdC5jb21wYXJlKHJpZ2h0LCBsdGUpO1xyXG4gICAgfSxcclxuICAgIFwiPj1cIiA6IGZ1bmN0aW9uPFQgZXh0ZW5kcyBBdG9taWNUeXBlPihsZWZ0OiBWYWx1ZTxUPiwgcmlnaHQ6IFZhbHVlPFQ+KSB7XHJcbiAgICAgICAgcmV0dXJuIGxlZnQuY29tcGFyZShyaWdodCwgZ3RlKTtcclxuICAgIH0sXHJcbiAgICBcIj09XCIgOiBmdW5jdGlvbjxUIGV4dGVuZHMgQXRvbWljVHlwZT4obGVmdDogVmFsdWU8VD4sIHJpZ2h0OiBWYWx1ZTxUPikge1xyXG4gICAgICAgIHJldHVybiBsZWZ0LmNvbXBhcmUocmlnaHQsIGVxKTtcclxuICAgIH0sXHJcbiAgICBcIiE9XCIgOiBmdW5jdGlvbjxUIGV4dGVuZHMgQXRvbWljVHlwZT4obGVmdDogVmFsdWU8VD4sIHJpZ2h0OiBWYWx1ZTxUPikge1xyXG4gICAgICAgIHJldHVybiBsZWZ0LmNvbXBhcmUocmlnaHQsIG5lKTtcclxuICAgIH0sXHJcbn1cclxuXHJcbmNsYXNzIFJlbGF0aW9uYWxCaW5hcnlPcGVyYXRvciBleHRlbmRzIEJpbmFyeU9wZXJhdG9yIHtcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGUgPSBCb29sLkJPT0w7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGxlZnQ6IEV4cHJlc3Npb247XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmlnaHQ6IEV4cHJlc3Npb247XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IG9wZXJhdG9yITogdF9SZWxhdGlvbmFsQmluYXJ5T3BlcmF0b3JzOyAvLyBOYXJyb3dzIHR5cGUgZnJvbSBiYXNlXHJcblxyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0LCBsZWZ0OiBFeHByZXNzaW9uLCByaWdodDogRXhwcmVzc2lvbiwgb3BlcmF0b3I6IHRfUmVsYXRpb25hbEJpbmFyeU9wZXJhdG9ycykge1xyXG4gICAgICAgIHN1cGVyKGNvbnRleHQsIG9wZXJhdG9yKTtcclxuXHJcbiAgICAgICAgaWYgKCFsZWZ0LmlzV2VsbFR5cGVkKCkgfHwgIXJpZ2h0LmlzV2VsbFR5cGVkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2godGhpcy5sZWZ0ID0gbGVmdCk7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoKHRoaXMucmlnaHQgPSByaWdodCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQXJpdGhtZXRpYyB0eXBlcyBhcmUgcmVxdWlyZWQgKG5vdGU6IHBvaW50ZXIgY29tcGFyaXNvbnMgaGF2ZSB0aGVpciBvd24gUG9pbnRlclJlbGF0aW9uYWxPcGVyYXRpb24gY2xhc3MpXHJcbiAgICAgICAgaWYgKCFsZWZ0LmlzQXJpdGhtZXRpY1R5cGVkKCkgfHwgIXJpZ2h0LmlzQXJpdGhtZXRpY1R5cGVkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIuYmluYXJ5LmFyaXRobWV0aWNfb3BlcmFuZHModGhpcywgdGhpcy5vcGVyYXRvciwgbGVmdCwgcmlnaHQpKTtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2godGhpcy5sZWZ0ID0gbGVmdCk7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoKHRoaXMucmlnaHQgPSByaWdodCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBbY29udmVydGVkTGVmdCwgY29udmVydGVkUmlnaHRdID0gdXN1YWxBcml0aG1ldGljQ29udmVyc2lvbnMobGVmdCwgcmlnaHQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICghc2FtZVR5cGUoY29udmVydGVkTGVmdC50eXBlISwgY29udmVydGVkUmlnaHQudHlwZSEpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmludmFsaWRfYmluYXJ5X29wZXJhbmRzKHRoaXMsIHRoaXMub3BlcmF0b3IsIGNvbnZlcnRlZExlZnQsIGNvbnZlcnRlZFJpZ2h0KSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLmxlZnQgPSBjb252ZXJ0ZWRMZWZ0KTtcclxuICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLnJpZ2h0ID0gY29udmVydGVkUmlnaHQpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUZyb21BU1QoYXN0OiBSZWxhdGlvbmFsQmluYXJ5T3BlcmF0b3JFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpIDogUmVsYXRpb25hbEJpbmFyeU9wZXJhdG9yIHtcclxuICAgICAgICByZXR1cm4gbmV3IFJlbGF0aW9uYWxCaW5hcnlPcGVyYXRvcihjb250ZXh0LFxyXG4gICAgICAgICAgICBjcmVhdGVFeHByZXNzaW9uRnJvbUFTVChhc3QubGVmdCwgY29udGV4dCksXHJcbiAgICAgICAgICAgIGNyZWF0ZUV4cHJlc3Npb25Gcm9tQVNUKGFzdC5yaWdodCwgY29udGV4dCksXHJcbiAgICAgICAgICAgIGFzdC5vcGVyYXRvcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPFQgZXh0ZW5kcyBBcml0aG1ldGljVHlwZT4odGhpczogQ29tcGlsZWRSZWxhdGlvbmFsQmluYXJ5T3BlcmF0b3I8VD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lUmVsYXRpb25hbEJpbmFyeU9wZXJhdG9yPFQ+O1xyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPFQgZXh0ZW5kcyBUeXBlLCBWIGV4dGVuZHMgVmFsdWVDYXRlZ29yeT4odGhpczogQ29tcGlsZWRFeHByZXNzaW9uPFQsVj4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBuZXZlcjtcclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbjxUIGV4dGVuZHMgQXJpdGhtZXRpY1R5cGU+KHRoaXM6IENvbXBpbGVkUmVsYXRpb25hbEJpbmFyeU9wZXJhdG9yPFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZVJlbGF0aW9uYWxCaW5hcnlPcGVyYXRvcjxUPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSdW50aW1lUmVsYXRpb25hbEJpbmFyeU9wZXJhdG9yKHRoaXMsIHBhcmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlc2NyaWJlRXZhbFJlc3VsdChkZXB0aDogbnVtYmVyKTogRGVzY3JpcHRpb24ge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkUmVsYXRpb25hbEJpbmFyeU9wZXJhdG9yPFQgZXh0ZW5kcyBBcml0aG1ldGljVHlwZT4gZXh0ZW5kcyBSZWxhdGlvbmFsQmluYXJ5T3BlcmF0b3IsIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuXHJcbiAgICByZWFkb25seSB0ZW1wb3JhcnlEZWFsbG9jYXRvcj86IENvbXBpbGVkVGVtcG9yYXJ5RGVhbGxvY2F0b3I7IC8vIHRvIG1hdGNoIENvbXBpbGVkUG90ZW50aWFsRnVsbEV4cHJlc3Npb24gc3RydWN0dXJlXHJcblxyXG4gICAgcmVhZG9ubHkgbGVmdDogQ29tcGlsZWRFeHByZXNzaW9uPFQsXCJwcnZhbHVlXCI+O1xyXG4gICAgcmVhZG9ubHkgcmlnaHQ6IENvbXBpbGVkRXhwcmVzc2lvbjxULFwicHJ2YWx1ZVwiPjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJ1bnRpbWVSZWxhdGlvbmFsQmluYXJ5T3BlcmF0b3I8VCBleHRlbmRzIEFyaXRobWV0aWNUeXBlPiBleHRlbmRzIFJ1bnRpbWVCaW5hcnlPcGVyYXRvcjxCb29sLCBDb21waWxlZFJlbGF0aW9uYWxCaW5hcnlPcGVyYXRvcjxUPj4ge1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVmdDogUnVudGltZUV4cHJlc3Npb248VCwgXCJwcnZhbHVlXCI+O1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHJpZ2h0OiBSdW50aW1lRXhwcmVzc2lvbjxULCBcInBydmFsdWVcIj47XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChtb2RlbDogQ29tcGlsZWRSZWxhdGlvbmFsQmluYXJ5T3BlcmF0b3I8VD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgICAgIHN1cGVyKG1vZGVsLCBwYXJlbnQpO1xyXG4gICAgICAgIHRoaXMubGVmdCA9IHRoaXMubW9kZWwubGVmdC5jcmVhdGVSdW50aW1lRXhwcmVzc2lvbih0aGlzKTtcclxuICAgICAgICB0aGlzLnJpZ2h0ID0gdGhpcy5tb2RlbC5yaWdodC5jcmVhdGVSdW50aW1lRXhwcmVzc2lvbih0aGlzKTtcclxuICAgICAgICB0aGlzLnNldFN1YmV4cHJlc3Npb25zKFt0aGlzLmxlZnQsIHRoaXMucmlnaHRdKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb3BlcmF0ZSgpIHtcclxuICAgICAgICAvLyBOb3Qgc3VyZSB3aHkgdGhlIGNhc3QgaGVyZSBpcyBuZWNlc3NhcnkgYnV0IGFwcGFyZW50bHkgVHlwZXNjcmlwdCBuZWVkcyBpdFxyXG4gICAgICAgIHRoaXMuc2V0RXZhbFJlc3VsdChSRUxBVElPTkFMX0JJTkFSWV9PUEVSQVRJT05TW3RoaXMubW9kZWwub3BlcmF0b3JdKHRoaXMubGVmdC5ldmFsUmVzdWx0LCB0aGlzLnJpZ2h0LmV2YWxSZXN1bHQpKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuLy8gUG9pbnRlclJlbGF0aW9uYWxCaW5hcnlPcGVyYXRvclxyXG5cclxuXHJcbi8vICAgICBjb252ZXJ0IDogZnVuY3Rpb24oKXtcclxuXHJcbi8vICAgICAgICAgaWYgKGlzQSh0aGlzLmxlZnQudHlwZSwgVHlwZXMuUG9pbnRlcikgJiYgaXNBKHRoaXMucmlnaHQsIExpdGVyYWwpICYmIGlzQSh0aGlzLnJpZ2h0LnR5cGUsIFR5cGVzLkludCkgJiYgdGhpcy5yaWdodC52YWx1ZS5yYXdWYWx1ZSgpID09IDApe1xyXG4vLyAgICAgICAgICAgICB0aGlzLnJpZ2h0ID0gQ29udmVyc2lvbnMuTnVsbFBvaW50ZXJDb252ZXJzaW9uLmluc3RhbmNlKHRoaXMucmlnaHQsIHRoaXMubGVmdC50eXBlKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgaWYgKGlzQSh0aGlzLnJpZ2h0LnR5cGUsIFR5cGVzLlBvaW50ZXIpICYmIGlzQSh0aGlzLmxlZnQsIExpdGVyYWwpICYmIGlzQSh0aGlzLmxlZnQudHlwZSwgVHlwZXMuSW50KSAmJiB0aGlzLmxlZnQudmFsdWUucmF3VmFsdWUoKSA9PSAwKXtcclxuLy8gICAgICAgICAgICAgdGhpcy5sZWZ0ID0gQ29udmVyc2lvbnMuTnVsbFBvaW50ZXJDb252ZXJzaW9uLmluc3RhbmNlKHRoaXMubGVmdCwgdGhpcy5yaWdodC50eXBlKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIHR5cGVDaGVjayA6IGZ1bmN0aW9uKCl7XHJcblxyXG4vLyAgICAgICAgIC8vIE5vdGU6IHR5cGVDaGVjayBpcyBvbmx5IGNhbGxlZCBpZiBpdCdzIG5vdCBhbiBvdmVybG9hZFxyXG5cclxuLy8gICAgICAgICBpZiAoaXNBKHRoaXMubGVmdC50eXBlLCBUeXBlcy5Qb2ludGVyKSl7XHJcbi8vICAgICAgICAgICAgIGlmICghaXNBKHRoaXMucmlnaHQudHlwZSwgVHlwZXMuUG9pbnRlcikpe1xyXG4vLyAgICAgICAgICAgICAgICAgLy8gVE9ETyB0aGlzIGlzIGEgaGFjayB1bnRpbCBJIGltcGxlbWVudCBmdW5jdGlvbnMgdG8gZGV0ZXJtaW5lIGN2LWNvbWJpbmVkIHR5cGUgYW5kIGNvbXBvc2l0ZSBwb2ludGVyIHR5cGVzXHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5pbnZhbGlkX2JpbmFyeV9vcGVyYW5kcyh0aGlzLCB0aGlzLm9wZXJhdG9yLCB0aGlzLmxlZnQsIHRoaXMucmlnaHQpKTtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgb3BlcmF0ZSA6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBzaW0sIGluc3Qpe1xyXG4vLyAgICAgICAgIGlmICh0aGlzLmlzUG9pbnRlckNvbXBhcmlzaW9uKSB7XHJcbi8vICAgICAgICAgICAgIGlmICghdGhpcy5hbGxvd0RpZmZBcnJheVBvaW50ZXJzICYmICghaXNBKGxlZnQudHlwZSwgVHlwZXMuQXJyYXlQb2ludGVyKSB8fCAhaXNBKHJpZ2h0LnR5cGUsIFR5cGVzLkFycmF5UG9pbnRlcikgfHwgbGVmdC50eXBlLmFyck9iaiAhPT0gcmlnaHQudHlwZS5hcnJPYmopKXtcclxuLy8gICAgICAgICAgICAgICAgIHNpbS51bnNwZWNpZmllZEJlaGF2aW9yKFwiSXQgbG9va3MgbGlrZSB5b3UncmUgdHJ5aW5nIHRvIHNlZSB3aGljaCBwb2ludGVyIGNvbWVzIGJlZm9yZS9hZnRlciBpbiBtZW1vcnksIGJ1dCB0aGlzIG9ubHkgbWFrZXMgc2Vuc2UgaWYgYm90aCBwb2ludGVycyBjb21lIGZyb20gdGhlIHNhbWUgYXJyYXkuIEkgZG9uJ3QgdGhpbmsgdGhhdCdzIHRoZSBjYXNlIGhlcmUuXCIpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIHJldHVybiBWYWx1ZS5pbnN0YW5jZSh0aGlzLmNvbXBhcmUobGVmdC52YWx1ZSwgcmlnaHQudmFsdWUpLCB0aGlzLnR5cGUpOyAvLyBUT0RPIG1hdGNoIEMrKyBhcml0aG1ldGljXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIExvZ2ljYWxCaW5hcnlPcGVyYXRvckV4cHJlc3Npb25BU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJsb2dpY2FsX2JpbmFyeV9vcGVyYXRvcl9leHByZXNzaW9uXCI7XHJcbiAgICByZWFkb25seSBvcGVyYXRvcjogdF9Mb2dpY2FsQmluYXJ5T3BlcmF0b3JzO1xyXG4gICAgcmVhZG9ubHkgbGVmdDogRXhwcmVzc2lvbkFTVE5vZGU7XHJcbiAgICByZWFkb25seSByaWdodDogRXhwcmVzc2lvbkFTVE5vZGU7XHJcbiAgICByZWFkb25seSBhc3NvY2lhdGl2aXR5OiBcImxlZnRcIjtcclxufVxyXG5cclxudHlwZSB0X0xvZ2ljYWxCaW5hcnlPcGVyYXRvcnMgPSBcIiYmXCIgfCBcInx8XCI7XHJcblxyXG5jbGFzcyBMb2dpY2FsQmluYXJ5T3BlcmF0b3IgZXh0ZW5kcyBCaW5hcnlPcGVyYXRvciB7XHJcbiAgICBcclxuICAgIHB1YmxpYyByZWFkb25seSB0eXBlID0gbmV3IEJvb2woKTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVmdDogRXhwcmVzc2lvbjtcclxuICAgIHB1YmxpYyByZWFkb25seSByaWdodDogRXhwcmVzc2lvbjtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgb3BlcmF0b3IhOiB0X0xvZ2ljYWxCaW5hcnlPcGVyYXRvcnM7IC8vIE5hcnJvd3MgdHlwZSBmcm9tIGJhc2VcclxuXHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQsIGxlZnQ6IEV4cHJlc3Npb24sIHJpZ2h0OiBFeHByZXNzaW9uLCBvcGVyYXRvcjogdF9Mb2dpY2FsQmluYXJ5T3BlcmF0b3JzKSB7XHJcbiAgICAgICAgc3VwZXIoY29udGV4dCwgb3BlcmF0b3IpO1xyXG5cclxuICAgICAgICBpZiAobGVmdC5pc1dlbGxUeXBlZCgpICYmIHJpZ2h0LmlzV2VsbFR5cGVkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2godGhpcy5sZWZ0ID0gdGhpcy5jb21waWxlTG9naWNhbFN1YmV4cHJlc3Npb24obGVmdCkpO1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLnJpZ2h0ID0gdGhpcy5jb21waWxlTG9naWNhbFN1YmV4cHJlc3Npb24ocmlnaHQpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoKHRoaXMubGVmdCA9IGxlZnQpO1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLnJpZ2h0ID0gcmlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNvbXBpbGVMb2dpY2FsU3ViZXhwcmVzc2lvbihzdWJleHByIDogVHlwZWRFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgc3ViZXhwciA9IHN0YW5kYXJkQ29udmVyc2lvbihzdWJleHByLCBCb29sLkJPT0wpO1xyXG4gICAgICAgIGlmICghaXNUeXBlKHN1YmV4cHIudHlwZSwgQm9vbCkpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIuYmluYXJ5LmJvb2xlYW5fb3BlcmFuZCh0aGlzLCB0aGlzLm9wZXJhdG9yLCBzdWJleHByKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdWJleHByO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUZyb21BU1QoYXN0OiBMb2dpY2FsQmluYXJ5T3BlcmF0b3JFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpIDogTG9naWNhbEJpbmFyeU9wZXJhdG9ye1xyXG4gICAgICAgIHJldHVybiBuZXcgTG9naWNhbEJpbmFyeU9wZXJhdG9yKGNvbnRleHQsXHJcbiAgICAgICAgICAgIGNyZWF0ZUV4cHJlc3Npb25Gcm9tQVNUKGFzdC5sZWZ0LCBjb250ZXh0KSxcclxuICAgICAgICAgICAgY3JlYXRlRXhwcmVzc2lvbkZyb21BU1QoYXN0LnJpZ2h0LCBjb250ZXh0KSxcclxuICAgICAgICAgICAgYXN0Lm9wZXJhdG9yKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uKHRoaXM6IENvbXBpbGVkTG9naWNhbEJpbmFyeU9wZXJhdG9yLCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZUxvZ2ljYWxCaW5hcnlPcGVyYXRvcjtcclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbjxUIGV4dGVuZHMgQXRvbWljVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnk+KHRoaXM6IENvbXBpbGVkRXhwcmVzc2lvbjxULFY+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogbmV2ZXI7XHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUV4cHJlc3Npb24odGhpczogQ29tcGlsZWRMb2dpY2FsQmluYXJ5T3BlcmF0b3IsIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lTG9naWNhbEJpbmFyeU9wZXJhdG9yIHtcclxuICAgICAgICByZXR1cm4gbmV3IFJ1bnRpbWVMb2dpY2FsQmluYXJ5T3BlcmF0b3IodGhpcywgcGFyZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzY3JpYmVFdmFsUmVzdWx0KGRlcHRoOiBudW1iZXIpOiBEZXNjcmlwdGlvbiB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIHB1YmxpYyBpc1RhaWxDaGlsZChjaGlsZDogQ1BQQ29uc3RydWN0KSB7XHJcbiAgICAvLyAgICAgaWYgKGNoaWxkID09PSB0aGlzLmxlZnQpe1xyXG4gICAgLy8gICAgICAgICByZXR1cm4ge2lzVGFpbDogZmFsc2UsXHJcbiAgICAvLyAgICAgICAgICAgICByZWFzb246IFwiVGhlIHJpZ2h0IG9wZXJhbmQgb2YgdGhlIFwiICsgdGhpcy5vcGVyYXRvciArIFwiIG9wZXJhdG9yIG1heSBuZWVkIHRvIGJlIGNoZWNrZWQgaWYgaXQgZG9lcyBub3Qgc2hvcnQgY2lyY3VpdC5cIixcclxuICAgIC8vICAgICAgICAgICAgIG90aGVyczogW3RoaXMucmlnaHRdXHJcbiAgICAvLyAgICAgICAgIH07XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2V7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiB7aXNUYWlsOiB0cnVlLFxyXG4gICAgLy8gICAgICAgICAgICAgcmVhc29uOiBcIkJlY2F1c2UgdGhlIFwiICsgdGhpcy5vcGVyYXRvciArIFwiIG9wZXJhdG9yIHNob3J0IGNpcmN1aXRzLCB0aGUgcmlnaHQgb3BlcmFuZCBpcyBndWFyYW50ZWVkIHRvIGJlIGV2YWx1YXRlZCBsYXN0IGFuZCBpdHMgcmVzdWx0IGlzIHVzZWQgZGlyZWN0bHkgKG5vIGNvbWJpbmF0aW9uIHdpdGggbGVmdCBzaWRlIG5lZWRlZCkuXCJcclxuICAgIC8vICAgICAgICAgfTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkTG9naWNhbEJpbmFyeU9wZXJhdG9yIGV4dGVuZHMgTG9naWNhbEJpbmFyeU9wZXJhdG9yLCBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcbiAgICByZWFkb25seSB0ZW1wb3JhcnlEZWFsbG9jYXRvcj86IENvbXBpbGVkVGVtcG9yYXJ5RGVhbGxvY2F0b3I7IC8vIHRvIG1hdGNoIENvbXBpbGVkUG90ZW50aWFsRnVsbEV4cHJlc3Npb24gc3RydWN0dXJlXHJcblxyXG4gICAgcmVhZG9ubHkgbGVmdDogQ29tcGlsZWRFeHByZXNzaW9uPEJvb2wsIFwicHJ2YWx1ZVwiPlxyXG4gICAgcmVhZG9ubHkgcmlnaHQ6IENvbXBpbGVkRXhwcmVzc2lvbjxCb29sLCBcInBydmFsdWVcIj5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJ1bnRpbWVMb2dpY2FsQmluYXJ5T3BlcmF0b3IgZXh0ZW5kcyBSdW50aW1lRXhwcmVzc2lvbjxCb29sLCBcInBydmFsdWVcIiwgQ29tcGlsZWRMb2dpY2FsQmluYXJ5T3BlcmF0b3I+IHtcclxuXHJcbiAgICBwdWJsaWMgbGVmdDogUnVudGltZUV4cHJlc3Npb248Qm9vbCwgXCJwcnZhbHVlXCI+O1xyXG4gICAgcHVibGljIHJpZ2h0OiBSdW50aW1lRXhwcmVzc2lvbjxCb29sLCBcInBydmFsdWVcIj47XHJcblxyXG4gICAgcHJpdmF0ZSBpbmRleCA9IFwibGVmdFwiO1xyXG5cclxuICAgIHByaXZhdGUgaGFzU2hvcnRDaXJjdWl0ZWQ/OiBib29sZWFuO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvciAobW9kZWw6IENvbXBpbGVkTG9naWNhbEJpbmFyeU9wZXJhdG9yLCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICBzdXBlcihtb2RlbCwgcGFyZW50KTtcclxuICAgICAgICB0aGlzLmxlZnQgPSB0aGlzLm1vZGVsLmxlZnQuY3JlYXRlUnVudGltZUV4cHJlc3Npb24odGhpcyk7XHJcbiAgICAgICAgdGhpcy5yaWdodCA9IHRoaXMubW9kZWwucmlnaHQuY3JlYXRlUnVudGltZUV4cHJlc3Npb24odGhpcyk7XHJcbiAgICB9XHJcblxyXG5cdHByb3RlY3RlZCB1cE5leHRJbXBsKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmluZGV4ID09PSBcImxlZnRcIikge1xyXG4gICAgICAgICAgICB0aGlzLnNpbS5wdXNoKHRoaXMubGVmdCk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSBcInJpZ2h0XCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaW5kZXggPT09IFwicmlnaHRcIikge1xyXG4gICAgICAgICAgICBsZXQgc2hvcnRDaXJjdWl0UmVzbHQgPSB0aGlzLm1vZGVsLm9wZXJhdG9yID09PSBcIiYmXCIgPyAwIDogMTtcclxuICAgICAgICAgICAgdGhpcy5oYXNTaG9ydENpcmN1aXRlZCA9IHRoaXMubGVmdC5ldmFsUmVzdWx0LnJhd0VxdWFscyhzaG9ydENpcmN1aXRSZXNsdCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaGFzU2hvcnRDaXJjdWl0ZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIG9ubHkgcHVzaCByaWdodCBjaGlsZCBpZiB3ZSBoYXZlIG5vdCBzaG9ydCBjaXJjdWl0ZWRcclxuICAgICAgICAgICAgICAgIHRoaXMuc2ltLnB1c2godGhpcy5yaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5pbmRleCA9IFwib3BlcmF0ZVwiO1xyXG4gICAgICAgIH1cclxuXHR9XHJcblx0XHJcblx0cHJvdGVjdGVkIHN0ZXBGb3J3YXJkSW1wbCgpIHtcclxuICAgICAgICBpZiAodGhpcy5oYXNTaG9ydENpcmN1aXRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldEV2YWxSZXN1bHQodGhpcy5sZWZ0LmV2YWxSZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRFdmFsUmVzdWx0KHRoaXMub3BlcmF0ZSh0aGlzLmxlZnQuZXZhbFJlc3VsdCwgdGhpcy5yaWdodC5ldmFsUmVzdWx0KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2ltLnBvcCgpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcml2YXRlIG9wZXJhdGUobGVmdDogVmFsdWU8Qm9vbD4sIHJpZ2h0OiBWYWx1ZTxCb29sPikge1xyXG4gICAgICAgIHJldHVybiBsZWZ0LmNvbWJpbmUocmlnaHQsIChhOiBSYXdWYWx1ZVR5cGUsIGI6IFJhd1ZhbHVlVHlwZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5vcGVyYXRvciA9PSBcIiYmXCIgPyBhICYmIGIgOiBhIHx8IGI7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUG9pbnRlclRvTWVtYmVyRXhwcmVzc2lvbkFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcInBvaW50ZXJfdG9fbWVtYmVyX2V4cHJlc3Npb25cIjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDU3R5bGVDYXN0RXhwcmVzc2lvbkFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcImNfc3R5bGVfY2FzdF9leHByZXNzaW9uXCI7XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFVuYXJ5RXhwcmVzc2lvbkFTVE5vZGUgPVxyXG4gICAgUHJlZml4SW5jcmVtZW50RXhwcmVzc2lvbkFTVE5vZGUgfFxyXG4gICAgUHJlZml4RGVjcmVtZW50RXhwcmVzc2lvbkFTVE5vZGUgfFxyXG4gICAgRGVyZWZlcmVuY2VFeHByZXNzaW9uQVNUTm9kZSB8XHJcbiAgICBBZGRyZXNzT2ZFeHByZXNzaW9uQVNUTm9kZSB8XHJcbiAgICBVbmFyeVBsdXNFeHByZXNzaW9uQVNUTm9kZSB8XHJcbiAgICBVbmFyeU1pbnVzRXhwcmVzc2lvbkFTVE5vZGUgfFxyXG4gICAgTG9naWNhbE5vdEV4cHJlc3Npb25BU1ROb2RlIHxcclxuICAgIEJpdHdpc2VOb3RFeHByZXNzaW9uQVNUTm9kZSB8XHJcbiAgICBTaXplb2ZFeHByZXNzaW9uQVNUTm9kZSB8XHJcbiAgICBTaXplb2ZUeXBlRXhwcmVzc2lvbkFTVE5vZGUgfFxyXG4gICAgTmV3RXhwcmVzc2lvbkFTVE5vZGUgfFxyXG4gICAgRGVsZXRlRXhwcmVzc2lvbkFTVE5vZGUgfFxyXG4gICAgRGVsZXRlQXJyYXlFeHByZXNzaW9uQVNUTm9kZTtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUHJlZml4SW5jcmVtZW50RXhwcmVzc2lvbkFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcInByZWZpeF9pbmNyZW1lbnRfZXhwcmVzc2lvblwiO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFByZWZpeERlY3JlbWVudEV4cHJlc3Npb25BU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJwcmVmaXhfZGVjcmVtZW50X2V4cHJlc3Npb25cIjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEZXJlZmVyZW5jZUV4cHJlc3Npb25BU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJkZXJlZmVyZW5jZV9leHByZXNzaW9uXCI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQWRkcmVzc09mRXhwcmVzc2lvbkFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcImFkZHJlc3Nfb2ZfZXhwcmVzc2lvblwiO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVuYXJ5UGx1c0V4cHJlc3Npb25BU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJ1bmFyeV9wbHVzX2V4cHJlc3Npb25cIjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBVbmFyeU1pbnVzRXhwcmVzc2lvbkFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcInVuYXJ5X21pbnVzX2V4cHJlc3Npb25cIjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBMb2dpY2FsTm90RXhwcmVzc2lvbkFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcImxvZ2ljYWxfbm90X2V4cHJlc3Npb25cIjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBCaXR3aXNlTm90RXhwcmVzc2lvbkFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcImJpdHdpc2Vfbm90X2V4cHJlc3Npb25cIjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTaXplb2ZFeHByZXNzaW9uQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwic2l6ZW9mX2V4cHJlc3Npb25cIjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTaXplb2ZUeXBlRXhwcmVzc2lvbkFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcInNpemVvZl90eXBlX2V4cHJlc3Npb25cIjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBOZXdFeHByZXNzaW9uQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwibmV3X2V4cHJlc3Npb25cIjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEZWxldGVFeHByZXNzaW9uQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwiZGVsZXRlX2V4cHJlc3Npb25cIjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEZWxldGVBcnJheUV4cHJlc3Npb25BU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJkZWxldGVfYXJyYXlfZXhwcmVzc2lvblwiO1xyXG59XHJcblxyXG5cclxuXHJcbi8vIGV4cG9ydCB2YXIgVW5hcnlPcCAgPSBFeHByZXNzaW9uLmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZTogXCJVbmFyeU9wXCIsXHJcbi8vICAgICBpX2NoaWxkcmVuVG9FeGVjdXRlIDogW1wib3BlcmFuZFwiXSxcclxuLy8gICAgIGlfY2hpbGRyZW5Ub0V4ZWN1dGVGb3JNZW1iZXJPdmVybG9hZCA6IFtcIm9wZXJhbmRcIiwgXCJmdW5jQ2FsbFwiXSwgLy8gZG9lcyBub3QgaW5jbHVkZSByaHMgYmVjYXVzZSBmdW5jdGlvbiBjYWxsIGRvZXMgdGhhdFxyXG4vLyAgICAgaV9jaGlsZHJlblRvRXhlY3V0ZUZvck92ZXJsb2FkIDogW1wiZnVuY0NhbGxcIl0sIC8vIGRvZXMgbm90IGluY2x1ZGUgcmhzIGJlY2F1c2UgZnVuY3Rpb24gY2FsbCBkb2VzIHRoYXRcclxuXHJcbi8vICAgICBpX2NyZWF0ZUZyb21BU1QgOiBmdW5jdGlvbihhc3QsIGNvbnRleHQpe1xyXG4vLyAgICAgICAgIFVuYXJ5T3AuX3BhcmVudC5pX2NyZWF0ZUZyb21BU1QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuLy8gICAgICAgICB0aGlzLm9wZXJhdG9yID0gYXN0Lm9wZXJhdG9yO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBjb21waWxlIDogZnVuY3Rpb24oKXtcclxuXHJcbi8vICAgICAgICAgdmFyIGF1eE9wZXJhbmQgPSBDUFBDb25zdHJ1Y3QuY3JlYXRlKHRoaXMuYXN0Lm9wZXJhbmQsIHtwYXJlbnQ6IHRoaXMsIGF1eGlsaWFyeTogdHJ1ZX0pO1xyXG4vLyAgICAgICAgIGF1eE9wZXJhbmQuY29tcGlsZSgpO1xyXG5cclxuLy8gICAgICAgICBpZiAoaXNBKGF1eE9wZXJhbmQudHlwZSwgVHlwZXMuQ2xhc3MpKXtcclxuLy8gICAgICAgICAgICAgLy8gSWYgaXQncyBvZiBjbGFzcyB0eXBlLCB3ZSBsb29rIGZvciBvdmVybG9hZHNcclxuLy8gICAgICAgICAgICAgdmFyIG92ZXJsb2FkT3AgPSBhdXhPcGVyYW5kLnR5cGUuY2xhc3NTY29wZS5zaW5nbGVMb29rdXAoXCJvcGVyYXRvclwiICsgdGhpcy5vcGVyYXRvciwge1xyXG4vLyAgICAgICAgICAgICAgICAgb3duOnRydWUsIHBhcmFtVHlwZXM6W10sIGlzVGhpc0NvbnN0IDogYXV4T3BlcmFuZC50eXBlLmlzQ29uc3RcclxuLy8gICAgICAgICAgICAgfSk7XHJcbi8vICAgICAgICAgICAgIGlmICghb3ZlcmxvYWRPcCkge1xyXG4vLyAgICAgICAgICAgICAgICAgb3ZlcmxvYWRPcCA9IHRoaXMuY29udGV4dHVhbFNjb3BlLnNpbmdsZUxvb2t1cChcIm9wZXJhdG9yXCIgKyB0aGlzLm9wZXJhdG9yLCB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcGFyYW1UeXBlczogW2F1eE9wZXJhbmQudHlwZV1cclxuLy8gICAgICAgICAgICAgICAgIH0pO1xyXG4vLyAgICAgICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgICAgICBpZiAob3ZlcmxvYWRPcCl7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmlzT3ZlcmxvYWQgPSB0cnVlO1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5pc01lbWJlck92ZXJsb2FkID0gaXNBKG92ZXJsb2FkT3AsIE1lbWJlckZ1bmN0aW9uRW50aXR5KTtcclxuXHJcbi8vICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc01lbWJlck92ZXJsb2FkKXtcclxuLy8gICAgICAgICAgICAgICAgICAgICAvLyBNZW1iZXIgb3ZlcmxvYWQgbWVhbnMgb3BlcmFuZCBpcyBvdXIgZGlyZWN0IGNoaWxkLCBhbmQgbm8gYXJndW1lbnRzIHRvIGZ1bmN0aW9uIGNhbGxcclxuLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZXJhbmQgPSB0aGlzLmlfY3JlYXRlQW5kQ29tcGlsZUNoaWxkRXhwcih0aGlzLmFzdC5vcGVyYW5kKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLmZ1bmNDYWxsID0gRnVuY3Rpb25DYWxsLmluc3RhbmNlKHthcmdzOiBbXX0sIHtwYXJlbnQ6dGhpc30pO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnVuY0NhbGwuY29tcGlsZSh7ZnVuYzogb3ZlcmxvYWRPcH0pO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRoaXMuaV9jaGlsZHJlblRvRXhlY3V0ZSA9IHRoaXMuaV9jaGlsZHJlblRvRXhlY3V0ZUZvck1lbWJlck92ZXJsb2FkO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgICAgICAgICAvLyBOb24tbWVtYmVyIG92ZXJsb2FkIG1lYW5zIG9wZXJhbmQgaXMgdGhlIGFyZ3VtZW50IHRvIHRoZSBmdW5jdGlvbiBjYWxsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5mdW5jQ2FsbCA9IEZ1bmN0aW9uQ2FsbC5pbnN0YW5jZSh7YXJnczogW3RoaXMuYXN0Lm9wZXJhbmRdfSwge3BhcmVudDp0aGlzfSk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5mdW5jQ2FsbC5jb21waWxlKHtmdW5jOiBvdmVybG9hZE9wfSk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5pX2NoaWxkcmVuVG9FeGVjdXRlID0gdGhpcy5pX2NoaWxkcmVuVG9FeGVjdXRlRm9yT3ZlcmxvYWQ7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSB0aGlzLmZ1bmNDYWxsLnR5cGU7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlQ2F0ZWdvcnkgPSB0aGlzLmZ1bmNDYWxsLnZhbHVlQ2F0ZWdvcnk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZXtcclxuXHJcbi8vICAgICAgICAgICAgICAgICAvLyBUT0RPOiB0aGlzIGFwcGVhcnMgdG8gYWxsb3cgY29tcGlsYXRpb24gdG8gcHJvY2VlZCBmb3IgYSBjbGFzcy10eXBlIG9wZXJhbmQgd2l0aFxyXG4vLyAgICAgICAgICAgICAgICAgLy8gbm8gb3ZlcmxvYWRzIGZvdW5kLCBidXQgdGhhdCdzIGRvb21lZCB0byBmYWlsIChJIHRoaW5rPykuIFBlcmhhcHMgbXkgdGhvdWdodCB3YXNcclxuLy8gICAgICAgICAgICAgICAgIC8vIHRoZSBlcnJvciBtZXNzYWdlcyBwcm92aWRlZCBpZiB5b3UgYWNjaWRlbnRhbGx5IHVzZWQgYSB1bmFyeSBvcGVyYXRvciBlLmcuICogd2l0aFxyXG4vLyAgICAgICAgICAgICAgICAgLy8gYSBjbGFzcy10eXBlIG9wZXJhbmQgd2VyZSBtb3JlIGlsbHVzdHJhdGl2ZSBpZiB0aGV5IHNhaWQgc29tZXRoaW5nIGxpa2UgXCJ5b3UgY2FuJ3QgdXNlXHJcbi8vICAgICAgICAgICAgICAgICAvLyAqIHdpdGggYSBub24tcG9pbnRlciB0eXBlIHJhdGhlciB0aGFuIG9vcHMgaSBjYW4ndCBmaW5kIGFuIG92ZXJsb2FkIGZvciAqIHdpdGggdGhpcyBjbGFzcyB0eXBlXHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLm9wZXJhbmQgPSB0aGlzLmlfY3JlYXRlQW5kQ29tcGlsZUNoaWxkRXhwcih0aGlzLmFzdC5vcGVyYW5kKTtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuY29udmVydCgpO1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy50eXBlQ2hlY2soKTtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuY29tcGlsZVRlbXBvcmFyaXJlcygpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgIHRoaXMub3BlcmFuZCA9IHRoaXMuaV9jcmVhdGVBbmRDb21waWxlQ2hpbGRFeHByKHRoaXMuYXN0Lm9wZXJhbmQpO1xyXG4vLyAgICAgICAgICAgICB0aGlzLmNvbnZlcnQoKTtcclxuLy8gICAgICAgICAgICAgdGhpcy50eXBlQ2hlY2soKTtcclxuLy8gICAgICAgICAgICAgdGhpcy5jb21waWxlVGVtcG9yYXJpcmVzKCk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICB1cE5leHQgOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuLy8gICAgICAgICAvLyBQdXNoIGxocywgcmhzLCBhbmQgZnVuY3Rpb24gY2FsbCAoaWYgbGhzIGNsYXNzIHR5cGUpXHJcbi8vICAgICAgICAgdmFyIHRvUmV0dXJuID0gRXhwcmVzc2lvbi51cE5leHQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHJcbi8vICAgICAgICAgLy8gSWYgdXNpbmcgYW4gYXNzaWdubWVudCBvcGVyYXRvciwgc2V0IHJlY2VpdmVyIGZvciBmdW5jdGlvbiBjYWxsIGluc3RhbmNlXHJcbi8vICAgICAgICAgaWYgKHRoaXMuZnVuY0NhbGwgJiYgdGhpcy5pc01lbWJlck92ZXJsb2FkKXtcclxuLy8gICAgICAgICAgICAgaW5zdC5jaGlsZEluc3RhbmNlcy5mdW5jQ2FsbC5jYWxsZWRGdW5jdGlvbi5zZXRSZWNlaXZlcihFdmFsdWF0aW9uUmVzdWx0UnVudGltZUVudGl0eS5pbnN0YW5jZSh0aGlzLm9wZXJhbmQudHlwZSwgaW5zdC5jaGlsZEluc3RhbmNlcy5vcGVyYW5kKSk7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICByZXR1cm4gdG9SZXR1cm47XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIHN0ZXBGb3J3YXJkOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuLy8gICAgICAgICBpZiAoaW5zdC5pbmRleCA9PT0gXCJvcGVyYXRlXCIpe1xyXG4vLyAgICAgICAgICAgICBpZiAodGhpcy5mdW5jQ2FsbCl7XHJcbi8vICAgICAgICAgICAgICAgICAvLyBBc3NpZ25tZW50IG9wZXJhdG9yIGZ1bmN0aW9uIGNhbGwgaGFzIGFscmVhZHkgdGFrZW4gY2FyZSBvZiB0aGUgXCJhc3NpZ25tZW50XCIuXHJcbi8vICAgICAgICAgICAgICAgICAvLyBKdXN0IGV2YWx1YXRlIHRvIHJldHVybmVkIHZhbHVlIGZyb20gYXNzaWdubWVudCBvcGVyYXRvci5cclxuLy8gICAgICAgICAgICAgICAgIGluc3Quc2V0RXZhbFJlc3VsdChpbnN0LmNoaWxkSW5zdGFuY2VzLmZ1bmNDYWxsLmV2YWxSZXN1bHQpO1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5kb25lKHNpbSwgaW5zdCk7XHJcbi8vICAgICAgICAgICAgICAgICAvL3JldHVybiB0cnVlO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLm9wZXJhdGUoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuZG9uZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBvcGVyYXRlOiBDbGFzcy5fQUJTVFJBQ1QsXHJcblxyXG4vLyAgICAgaXNUYWlsQ2hpbGQgOiBmdW5jdGlvbihjaGlsZCl7XHJcbi8vICAgICAgICAgcmV0dXJuIHtpc1RhaWw6IGZhbHNlLFxyXG4vLyAgICAgICAgICAgICByZWFzb246IFwiVGhlIFwiICsgdGhpcy5vcGVyYXRvciArIFwiIG9wZXJhdGlvbiB3aWxsIGhhcHBlbiBhZnRlciB0aGUgcmVjdXJzaXZlIGNhbGwuXCIsXHJcbi8vICAgICAgICAgICAgIG90aGVyczogW3RoaXNdXHJcbi8vICAgICAgICAgfTtcclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG4vLyBleHBvcnQgdmFyIERlcmVmZXJlbmNlID0gVW5hcnlPcC5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiRGVyZWZlcmVuY2VcIixcclxuLy8gICAgIHZhbHVlQ2F0ZWdvcnk6IFwibHZhbHVlXCIsXHJcbi8vICAgICBjb252ZXJ0IDogZnVuY3Rpb24oKXtcclxuLy8gICAgICAgICB0aGlzLm9wZXJhbmQgPSB0aGlzLm9wZXJhbmQgPSBzdGFuZGFyZENvbnZlcnNpb24odGhpcy5vcGVyYW5kLCBUeXBlcy5Qb2ludGVyKTtcclxuLy8gICAgIH0sXHJcbi8vICAgICB0eXBlQ2hlY2sgOiBmdW5jdGlvbigpe1xyXG4vLyAgICAgICAgIC8vIFR5cGUgY2hlY2tcclxuLy8gICAgICAgICBpZiAoIWlzQSh0aGlzLm9wZXJhbmQudHlwZSwgVHlwZXMuUG9pbnRlcikpIHtcclxuLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIuZGVyZWZlcmVuY2UucG9pbnRlcih0aGlzLCB0aGlzLm9wZXJhbmQudHlwZSkpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNlIGlmICghKHRoaXMub3BlcmFuZC50eXBlLnB0clRvLmlzT2JqZWN0VHlwZSB8fCBpc0EodGhpcy5vcGVyYW5kLnR5cGUucHRyVG8sIFR5cGVzLkZ1bmN0aW9uKSkpe1xyXG4vLyAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5kZXJlZmVyZW5jZS5wb2ludGVyVG9PYmplY3RUeXBlKHRoaXMsIHRoaXMub3BlcmFuZC50eXBlKSk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgIHRoaXMudHlwZSA9IHRoaXMub3BlcmFuZC50eXBlLnB0clRvO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgb3BlcmF0ZTogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbi8vICAgICAgICAgaWYgKGlzQSh0aGlzLm9wZXJhbmQudHlwZS5wdHJUbywgVHlwZXMuRnVuY3Rpb24pKXtcclxuLy8gICAgICAgICAgICAgLy9mdW5jdGlvbiBwb2ludGVyXHJcbi8vICAgICAgICAgICAgIGluc3Quc2V0RXZhbFJlc3VsdChpbnN0LmNoaWxkSW5zdGFuY2VzLm9wZXJhbmQuZXZhbFJlc3VsdCk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgIHZhciBwdHIgPSBpbnN0LmNoaWxkSW5zdGFuY2VzLm9wZXJhbmQuZXZhbFJlc3VsdDtcclxuLy8gICAgICAgICAgICAgdmFyIGFkZHIgPSBwdHIucmF3VmFsdWUoKTtcclxuXHJcblxyXG5cclxuLy8gICAgICAgICAgICAgLy8gSWYgaXQncyBhIG51bGwgcG9pbnRlciwgZ2l2ZSBtZXNzYWdlXHJcbi8vICAgICAgICAgICAgIGlmIChUeXBlcy5Qb2ludGVyLmlzTnVsbChhZGRyKSl7XHJcbi8vICAgICAgICAgICAgICAgICBzaW0uY3Jhc2goXCJPdyEgWW91ciBjb2RlIGp1c3QgZGVyZWZlcmVuY2VkIGEgbnVsbCBwb2ludGVyIVwiKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNlIGlmIChUeXBlcy5Qb2ludGVyLmlzTmVnYXRpdmUoYWRkcikpe1xyXG4vLyAgICAgICAgICAgICAgICAgc2ltLmNyYXNoKFwiVWgsIHdvdy4gVGhlIHBvaW50ZXIgeW91J3JlIHRyeWluZyB0byBkZXJlZmVyZW5jZSBoYXMgYSBuZWdhdGl2ZSBhZGRyZXNzLlxcblRoYW5rcyBhIGxvdC5cIik7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZSBpZiAoaXNBKHB0ci50eXBlLCBUeXBlcy5BcnJheVBvaW50ZXIpKXtcclxuLy8gICAgICAgICAgICAgICAgIC8vIElmIGl0J3MgYW4gYXJyYXkgcG9pbnRlciwgbWFrZSBzdXJlIGl0J3MgaW4gYm91bmRzIGFuZCBub3Qgb25lLXBhc3RcclxuLy8gICAgICAgICAgICAgICAgIGlmIChhZGRyIDwgcHRyLnR5cGUubWluKCkpe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHNpbS51bmRlZmluZWRCZWhhdmlvcihcIlRoYXQgcG9pbnRlciBoYXMgd2FuZGVyZWQgb2ZmIHRoZSBiZWdpbm5pbmcgb2YgaXRzIGFycmF5LiBEZXJlZmVyZW5jaW5nIGl0IG1pZ2h0IGNhdXNlIGEgc2VnZmF1bHQsIG9yIHdvcnNlIC0geW91IG1pZ2h0IGp1c3QgYWNjZXNzL2NoYW5nZSBvdGhlciBtZW1vcnkgb3V0c2lkZSB0aGUgYXJyYXkuXCIpO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgZWxzZSBpZiAocHRyLnR5cGUub25lUGFzdCgpIDwgYWRkcil7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgc2ltLnVuZGVmaW5lZEJlaGF2aW9yKFwiVGhhdCBwb2ludGVyIGhhcyB3YW5kZXJlZCBvZmYgdGhlIGVuZCBvZiBpdHMgYXJyYXkuIERlcmVmZXJlbmNpbmcgaXQgbWlnaHQgY2F1c2UgYSBzZWdmYXVsdCwgb3Igd29yc2UgLSB5b3UgbWlnaHQganVzdCBhY2Nlc3MvY2hhbmdlIG90aGVyIG1lbW9yeSBvdXRzaWRlIHRoZSBhcnJheS5cIik7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICBlbHNlIGlmIChhZGRyID09IHB0ci50eXBlLm9uZVBhc3QoKSl7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogdGVjaG5pY2FsbHkgdGhpcyBpcyBub3QgdW5kZWZpbmVkIGJlaGF2aW9yIHVubGVzcyB0aGUgcmVzdWx0IG9mIHRoZSBkZXJlZmVyZW5jZSB1bmRlcmdvZXMgYW4gbHZhbHVlLXRvLXJ2YWx1ZSBjb252ZXJzaW9uIHRvIGxvb2sgdXAgdGhlIG9iamVjdFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHNpbS51bmRlZmluZWRCZWhhdmlvcihcIlRoYXQgcG9pbnRlciBpcyBvbmUgcGFzdCB0aGUgZW5kIG9mIGl0cyBhcnJheS4gRG8geW91IGhhdmUgYW4gb2ZmLWJ5LW9uZSBlcnJvcj8uIERlcmVmZXJlbmNpbmcgaXQgbWlnaHQgY2F1c2UgYSBzZWdmYXVsdCwgb3Igd29yc2UgLSB5b3UgbWlnaHQganVzdCBhY2Nlc3MvY2hhbmdlIG90aGVyIG1lbW9yeSBvdXRzaWRlIHRoZSBhcnJheS5cIik7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgICAgICB2YXIgb2JqID0gc2ltLm1lbW9yeS5kZXJlZmVyZW5jZShwdHIpO1xyXG5cclxuLy8gICAgICAgICAgICAgLy8gTm90ZTogZGVhZCBvYmplY3QgaXMgbm90IG5lY2Vzc2FyaWx5IGludmFsaWQuIEludmFsaWQgaGFzIHRvIGRvIHdpdGggdGhlIHZhbHVlXHJcbi8vICAgICAgICAgICAgIC8vIHdoaWxlIGRlYWQvYWxpdmUgaGFzIHRvIGRvIHdpdGggdGhlIG9iamVjdCBpdHNlbGYuIFJlYWRpbmcgZnJvbSBkZWFkIG9iamVjdCBkb2VzXHJcbi8vICAgICAgICAgICAgIC8vIHlpZWxkIGFuIGludmFsaWQgdmFsdWUgdGhvdWdoLlxyXG4vLyAgICAgICAgICAgICBpZiAoIW9iai5pc0FsaXZlKCkpe1xyXG4vLyAgICAgICAgICAgICAgICAgRGVhZE9iamVjdE1lc3NhZ2UuaW5zdGFuY2Uob2JqLCB7ZnJvbURlcmVmZXJlbmNlOnRydWV9KS5kaXNwbGF5KHNpbSwgaW5zdCk7XHJcbi8vICAgICAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgICAgIGluc3Quc2V0RXZhbFJlc3VsdChvYmopO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgZGVzY3JpYmVFdmFsUmVzdWx0IDogZnVuY3Rpb24oZGVwdGgsIHNpbSwgaW5zdCl7XHJcbi8vICAgICAgICAgaWYgKGluc3QgJiYgaW5zdC5ldmFsUmVzdWx0KXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIGluc3QuZXZhbFJlc3VsdC5kZXNjcmliZSgpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNlIGlmIChkZXB0aCA9PSAwKXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcInRoZSByZXN1bHQgb2YgXCIgKyB0aGlzLmdldFNvdXJjZVRleHQoKX07XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJ0aGUgb2JqZWN0IGF0IGFkZHJlc3MgXCIgKyB0aGlzLm9wZXJhbmQuZGVzY3JpYmVFdmFsUmVzdWx0KGRlcHRoLTEsIHNpbSwgdGhpcy5jaGlsZEluc3RhbmNlKHNpbSwgaW5zdCwgXCJvcGVyYW5kXCIpKS5tZXNzYWdlfTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIGV4cGxhaW4gOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuLy8gICAgICAgICBpZiAoaW5zdCAmJiBpbnN0LmNoaWxkSW5zdGFuY2VzICYmIGluc3QuY2hpbGRJbnN0YW5jZXMub3BlcmFuZCAmJiBpbnN0LmNoaWxkSW5zdGFuY2VzLm9wZXJhbmQuZXZhbFJlc3VsdCl7XHJcbi8vICAgICAgICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJXZSB3aWxsIGZpbmQgdGhlIG9iamVjdCBhdCBhZGRyZXNzIFwiICsgaW5zdC5jaGlsZEluc3RhbmNlcy5vcGVyYW5kLmV2YWxSZXN1bHQuZGVzY3JpYmUoKS5tZXNzYWdlfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwiVGhlIHJlc3VsdCBvZiBcIiArIHRoaXMub3BlcmFuZC5kZXNjcmliZUV2YWxSZXN1bHQoMCwgc2ltLCBpbnN0ICYmIGluc3QuY2hpbGRJbnN0YW5jZXMgJiYgaW5zdC5jaGlsZEluc3RhbmNlcy5vcGVyYW5kKS5tZXNzYWdlICsgXCIgd2lsbCBiZSBkZXJlZmVyZW5jZWQuIFRoaXMgaXMsIHRoZSByZXN1bHQgaXMgYSBwb2ludGVyL2FkZHJlc3MgYW5kIHdlIHdpbGwgZm9sbG93IHRoZSBwb2ludGVyIHRvIHNlZSB3aGF0IG9iamVjdCBsaXZlcyB0aGVyZS5cIn07XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcbi8vIGV4cG9ydCB2YXIgQWRkcmVzc09mID0gVW5hcnlPcC5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiQWRkcmVzc09mXCIsXHJcbi8vICAgICB2YWx1ZUNhdGVnb3J5OiBcInBydmFsdWVcIixcclxuXHJcbi8vICAgICB0eXBlQ2hlY2sgOiBmdW5jdGlvbigpe1xyXG4vLyAgICAgICAgIC8vIG9wZXJhbmQgbXVzdCBiZSBhbiBsdmFsdWVcclxuLy8gICAgICAgICBpZih0aGlzLm9wZXJhbmQudmFsdWVDYXRlZ29yeSAhPT0gXCJsdmFsdWVcIil7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmFkZHJlc3NPZi5sdmFsdWVfcmVxdWlyZWQodGhpcykpO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgdGhpcy50eXBlID0gVHlwZXMuUG9pbnRlci5pbnN0YW5jZSh0aGlzLm9wZXJhbmQudHlwZSk7XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIG9wZXJhdGU6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIHZhciBvYmogPSBpbnN0LmNoaWxkSW5zdGFuY2VzLm9wZXJhbmQuZXZhbFJlc3VsdDtcclxuXHJcbi8vICAgICAgICAgaW5zdC5zZXRFdmFsUmVzdWx0KG9iai5nZXRQb2ludGVyVG8oKSk7XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuXHJcbi8vIGV4cG9ydCB2YXIgVW5hcnlQbHVzID0gVW5hcnlPcC5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiVW5hcnlQbHVzXCIsXHJcbi8vICAgICB2YWx1ZUNhdGVnb3J5OiBcInBydmFsdWVcIixcclxuXHJcbi8vICAgICBjb252ZXJ0IDogZnVuY3Rpb24oKXtcclxuLy8gICAgICAgICB0aGlzLm9wZXJhbmQgPSB0aGlzLm9wZXJhbmQgPSBjb252ZXJ0VG9QUlZhbHVlKHRoaXMub3BlcmFuZCk7XHJcbi8vICAgICAgICAgaWYgKHRoaXMub3BlcmFuZC5pc0ludGVncmFsVHlwZWQoKSl7XHJcbi8vICAgICAgICAgICAgIHRoaXMub3BlcmFuZCA9IHRoaXMub3BlcmFuZCA9IGludGVncmFsUHJvbW90aW9uKHRoaXMub3BlcmFuZCk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICB0eXBlQ2hlY2sgOiBmdW5jdGlvbigpe1xyXG4vLyAgICAgICAgIGlmKHRoaXMub3BlcmFuZC50eXBlLmlzQXJpdGhtZXRpY1R5cGUgfHwgaXNBKHRoaXMub3BlcmFuZC50eXBlLCBUeXBlcy5Qb2ludGVyKSkge1xyXG4vLyAgICAgICAgICAgICB0aGlzLnR5cGUgPSB0aGlzLm9wZXJhbmQudHlwZTtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLnVuYXJ5UGx1cy5vcGVyYW5kKHRoaXMpKTtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgb3BlcmF0ZTogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbi8vICAgICAgICAgdmFyIHZhbCA9IGluc3QuY2hpbGRJbnN0YW5jZXMub3BlcmFuZC5ldmFsUmVzdWx0LnZhbHVlO1xyXG4vLyAgICAgICAgIGluc3Quc2V0RXZhbFJlc3VsdChWYWx1ZS5pbnN0YW5jZSh2YWwsIHRoaXMudHlwZSkpO1xyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcbi8vIGV4cG9ydCB2YXIgVW5hcnlNaW51cyA9IFVuYXJ5T3AuZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lOiBcIlVuYXJ5TWludXNcIixcclxuLy8gICAgIHZhbHVlQ2F0ZWdvcnk6IFwicHJ2YWx1ZVwiLFxyXG5cclxuLy8gICAgIGNvbnZlcnQgOiBmdW5jdGlvbigpe1xyXG4vLyAgICAgICAgIHRoaXMub3BlcmFuZCA9IHRoaXMub3BlcmFuZCA9IGNvbnZlcnRUb1BSVmFsdWUodGhpcy5vcGVyYW5kKTtcclxuLy8gICAgICAgICBpZiAodGhpcy5vcGVyYW5kLmlzSW50ZWdyYWxUeXBlZCgpKXtcclxuLy8gICAgICAgICAgICAgdGhpcy5vcGVyYW5kID0gdGhpcy5vcGVyYW5kID0gaW50ZWdyYWxQcm9tb3Rpb24odGhpcy5vcGVyYW5kKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIHR5cGVDaGVjayA6IGZ1bmN0aW9uKCl7XHJcbi8vICAgICAgICAgaWYodGhpcy5vcGVyYW5kLnR5cGUuaXNBcml0aG1ldGljVHlwZSkge1xyXG4vLyAgICAgICAgICAgICB0aGlzLnR5cGUgPSB0aGlzLm9wZXJhbmQudHlwZTtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLnVuYXJ5TWludXMub3BlcmFuZCh0aGlzKSk7XHJcbi8vICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIG9wZXJhdGU6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIHZhciB2YWwgPSBpbnN0LmNoaWxkSW5zdGFuY2VzLm9wZXJhbmQuZXZhbFJlc3VsdC52YWx1ZTtcclxuLy8gICAgICAgICBpbnN0LnNldEV2YWxSZXN1bHQoVmFsdWUuaW5zdGFuY2UoLXZhbCwgdGhpcy50eXBlKSk7XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuLy8gZXhwb3J0IHZhciBMb2dpY2FsTm90ID0gVW5hcnlPcC5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiTG9naWNhbE5vdFwiLFxyXG4vLyAgICAgdmFsdWVDYXRlZ29yeTogXCJwcnZhbHVlXCIsXHJcbi8vICAgICB0eXBlOiBUeXBlcy5Cb29sLmluc3RhbmNlKCksXHJcblxyXG4vLyAgICAgY29udmVydCA6IGZ1bmN0aW9uKCl7XHJcbi8vICAgICAgICAgdGhpcy5vcGVyYW5kID0gc3RhbmRhcmRDb252ZXJzaW9uKHRoaXMub3BlcmFuZCwgVHlwZXMuQm9vbC5pbnN0YW5jZSgpKTtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgdHlwZUNoZWNrIDogZnVuY3Rpb24oKXtcclxuLy8gICAgICAgICAvLyBUeXBlIGNoZWNrXHJcbi8vICAgICAgICAgaWYgKCFpc0EodGhpcy5vcGVyYW5kLnR5cGUsIFR5cGVzLkJvb2wpKXtcclxuLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIubG9naWNhbE5vdC5vcGVyYW5kX2Jvb2wodGhpcywgdGhpcy5vcGVyYW5kKSk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBvcGVyYXRlOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuLy8gICAgICAgICBpbnN0LnNldEV2YWxSZXN1bHQoVmFsdWUuaW5zdGFuY2UoIWluc3QuY2hpbGRJbnN0YW5jZXMub3BlcmFuZC5ldmFsUmVzdWx0LnZhbHVlLCB0aGlzLnR5cGUpKTtcclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG4vLyBleHBvcnQgdmFyIEJpdHdpc2VOb3QgPSBVbnN1cHBvcnRlZC5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiQml0d2lzZU5vdFwiLFxyXG4vLyAgICAgZW5nbGlzaE5hbWU6IFwiYml0d2lzZSBub3RcIlxyXG4vLyB9KTtcclxuXHJcbi8vIGV4cG9ydCB2YXIgUHJlZml4ID0gVW5hcnlPcC5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiUHJlZml4XCIsXHJcbi8vICAgICB2YWx1ZUNhdGVnb3J5OiBcImx2YWx1ZVwiLFxyXG4vLyAgICAgdHlwZUNoZWNrIDogZnVuY3Rpb24oKXtcclxuLy8gICAgICAgICAvLyBUeXBlIGNoZWNrXHJcbi8vICAgICAgICAgaWYgKHRoaXMub3BlcmFuZC50eXBlLmlzQXJpdGhtZXRpY1R5cGUgfHwgaXNBKHRoaXMub3BlcmFuZC50eXBlLCBUeXBlcy5Qb2ludGVyKSkge1xyXG4vLyAgICAgICAgICAgICB0aGlzLnR5cGUgPSB0aGlzLm9wZXJhbmQudHlwZTtcclxuXHJcbi8vICAgICAgICAgICAgIGlmICh0aGlzLm9wZXJhdG9yID09IFwiLS1cIiAmJiBpc0EodGhpcy5vcGVyYW5kLnR5cGUsIFR5cGVzLkJvb2wpKXtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmludmFsaWRfb3BlcmFuZCh0aGlzLCB0aGlzLm9wZXJhdG9yLCB0aGlzLm9wZXJhbmQpKTtcclxuLy8gICAgICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5vcGVyYW5kLnZhbHVlQ2F0ZWdvcnkgPT09IFwibHZhbHVlXCIpIHtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5sdmFsdWVfb3BlcmFuZCh0aGlzLCB0aGlzLm9wZXJhdG9yKSk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIuaW52YWxpZF9vcGVyYW5kKHRoaXMsIHRoaXMub3BlcmF0b3IsIHRoaXMub3BlcmFuZCkpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcbi8vICAgICBvcGVyYXRlOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuLy8gICAgICAgICB2YXIgb2JqID0gaW5zdC5jaGlsZEluc3RhbmNlcy5vcGVyYW5kLmV2YWxSZXN1bHQ7XHJcbi8vICAgICAgICAgdmFyIGFtb3VudCA9IChpc0EodGhpcy50eXBlLCBUeXBlcy5Qb2ludGVyKSA/IHRoaXMudHlwZS5wdHJUby5zaXplIDogMSk7XHJcblxyXG4vLyAgICAgICAgIHZhciBvbGRWYWx1ZSA9IHJlYWRWYWx1ZVdpdGhBbGVydChvYmosIHNpbSwgdGhpcy5vcGVyYW5kLCBpbnN0LmNoaWxkSW5zdGFuY2VzLm9wZXJhbmQpO1xyXG4vLyAgICAgICAgIHZhciBuZXdSYXdWYWx1ZSA9IHRoaXMub3BlcmF0b3IgPT09IFwiKytcIiA/IG9sZFZhbHVlLnJhd1ZhbHVlKCkgKyBhbW91bnQgOiBvbGRWYWx1ZS5yYXdWYWx1ZSgpIC0gYW1vdW50O1xyXG5cclxuLy8gICAgICAgICBpZiAoaXNBKG9iai50eXBlLCBUeXBlcy5BcnJheVBvaW50ZXIpKXtcclxuLy8gICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCB3ZSBoYXZlbid0IHJ1biBvZmYgdGhlIGFycmF5XHJcbi8vICAgICAgICAgICAgIGlmIChuZXdSYXdWYWx1ZSA8IG9iai50eXBlLm1pbigpKXtcclxuLy8gICAgICAgICAgICAgICAgIGlmIChvYmouaXNWYWx1ZVZhbGlkKCkpeyAvLyBpdCB3YXMgdmFsaWQgYnV0IGlzIGp1c3Qgbm93IGJlY29taW5nIGludmFsaWRcclxuLy8gICAgICAgICAgICAgICAgICAgICBzaW0uYWxlcnQoXCJPb3BzLiBUaGF0IHBvaW50ZXIganVzdCB3YW5kZXJlZCBvZmYgdGhlIGJlZ2lubmluZyBvZiBpdHMgYXJyYXkuXCIpO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGVsc2UgaWYgKG9iai50eXBlLm9uZVBhc3QoKSA8IG5ld1Jhd1ZhbHVlKXtcclxuLy8gICAgICAgICAgICAgICAgIGlmIChvYmouaXNWYWx1ZVZhbGlkKCkpeyAvLyBpdCB3YXMgdmFsaWQgYnV0IGlzIGp1c3Qgbm93IGJlY29taW5nIGludmFsaWRcclxuLy8gICAgICAgICAgICAgICAgICAgICBzaW0uYWxlcnQoXCJPb3BzLiBUaGF0IHBvaW50ZXIganVzdCB3YW5kZXJlZCBvZmYgdGhlIGVuZCBvZiBpdHMgYXJyYXkuXCIpO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2UgaWYgKGlzQShvYmoudHlwZSwgVHlwZXMuUG9pbnRlcikpe1xyXG4vLyAgICAgICAgICAgICAvLyBJZiB0aGUgUlRUSSB3b3JrcyB3ZWxsIGVub3VnaCwgdGhpcyBzaG91bGQgYWx3YXlzIGJlIHVuc2FmZVxyXG4vLyAgICAgICAgICAgICBzaW0udW5kZWZpbmVkQmVoYXZpb3IoXCJVaCwgSSBkb24ndCB0aGluayB5b3UncmUgc3VwcG9zZWQgdG8gZG8gYXJpdGhtZXRpYyB3aXRoIHRoYXQgcG9pbnRlci4gSXQncyBub3QgcG9pbnRpbmcgaW50byBhbiBhcnJheS5cIik7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICBvYmoud3JpdGVWYWx1ZShWYWx1ZS5pbnN0YW5jZShuZXdSYXdWYWx1ZSwgb2xkVmFsdWUudHlwZSwge2ludmFsaWQ6ICFvbGRWYWx1ZS5pc1ZhbHVlVmFsaWQoKX0pKTtcclxuLy8gICAgICAgICBpbnN0LnNldEV2YWxSZXN1bHQob2JqKTtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgZXhwbGFpbiA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIHZhciBldmRlc2MgPSB0aGlzLm9wZXJhbmQuZGVzY3JpYmVFdmFsUmVzdWx0KDAsIHNpbSwgaW5zdCAmJiBpbnN0LmNoaWxkSW5zdGFuY2VzICYmIGluc3QuY2hpbGRJbnN0YW5jZXMub3BlcmFuZCkubWVzc2FnZTtcclxuLy8gICAgICAgICB2YXIgaW5jRGVjID0gdGhpcy5vcGVyYXRvciA9PT0gXCIrK1wiID8gXCJpbmNyZW1lbnRlZFwiIDogXCJkZWNyZW1lbnRlZFwiO1xyXG4vLyAgICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJGaXJzdCwgdGhlIHZhbHVlIG9mIFwiICsgZXZkZXNjICsgXCIgd2lsbCBiZSBcIiArIGluY0RlYyArIFwiIGJ5IG9uZS4gVGhlbiB0aGlzIGV4cHJlc3Npb24gYXMgYSB3aG9sZSB3aWxsIGV2YWx1YXRlIHRvIHRoZSBuZXcgdmFsdWUgb2YgXCIgKyBldmRlc2MgKyBcIi5cIn07XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuXHJcbi8vIC8vIFRPRE86IENvbnNvbGlkYXRlIHBvc3RmaXggaW5jcmVtZW50L2RlY3JlbWVudCBpbnRvIG9uZSBjbGFzcy4gIGNvbnNpZGVyIGFsc28gbWVyZ2luZyBzdWJzY3JpcHRcclxuLy8gLy8gVE9ETzogQWxsb3cgb3ZlcnJpZGluZyBwb3N0Zml4IGluY3JlbWVudC9kZWNyZW1lbnRcclxuLy8gZXhwb3J0IHZhciBJbmNyZW1lbnQgID0gRXhwcmVzc2lvbi5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiSW5jcmVtZW50XCIsXHJcbi8vICAgICB2YWx1ZUNhdGVnb3J5OiBcInBydmFsdWVcIixcclxuLy8gICAgIGlfY2hpbGRyZW5Ub0NyZWF0ZSA6IFtcIm9wZXJhbmRcIl0sXHJcbi8vICAgICBpX2NoaWxkcmVuVG9FeGVjdXRlIDogW1wib3BlcmFuZFwiXSxcclxuXHJcbi8vICAgICB0eXBlQ2hlY2sgOiBmdW5jdGlvbigpe1xyXG4vLyAgICAgICAgIC8vIFR5cGUgY2hlY2tcclxuLy8gICAgICAgICBpZiAodGhpcy5vcGVyYW5kLnR5cGUuaXNBcml0aG1ldGljVHlwZSB8fCBpc0EodGhpcy5vcGVyYW5kLnR5cGUsIFR5cGVzLlBvaW50ZXIpKSB7XHJcbi8vICAgICAgICAgICAgIHRoaXMudHlwZSA9IHRoaXMub3BlcmFuZC50eXBlO1xyXG5cclxuLy8gICAgICAgICAgICAgaWYgKHRoaXMub3BlcmFuZC52YWx1ZUNhdGVnb3J5ID09PSBcImx2YWx1ZVwiKSB7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIubHZhbHVlX29wZXJhbmQodGhpcywgXCIrK1wiKSk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIuaW52YWxpZF9vcGVyYW5kKHRoaXMsIFwiKytcIiwgdGhpcy5vcGVyYW5kKSk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBzdGVwRm9yd2FyZCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG5cclxuLy8gICAgICAgICAvLyBFdmFsdWF0ZSBzdWJleHByZXNzaW9uc1xyXG4vLyAgICAgICAgIGlmIChpbnN0LmluZGV4ID09IFwib3BlcmF0ZVwiKXtcclxuLy8gICAgICAgICAgICAgdmFyIG9iaiA9IGluc3QuY2hpbGRJbnN0YW5jZXMub3BlcmFuZC5ldmFsUmVzdWx0O1xyXG4vLyAgICAgICAgICAgICB2YXIgYW1vdW50ID0gKGlzQSh0aGlzLnR5cGUsIFR5cGVzLlBvaW50ZXIpID8gdGhpcy50eXBlLnB0clRvLnNpemUgOiAxKTtcclxuLy8gICAgICAgICAgICAgdmFyIG9sZFZhbHVlID0gcmVhZFZhbHVlV2l0aEFsZXJ0KG9iaiwgc2ltLCB0aGlzLm9wZXJhbmQsIGluc3QuY2hpbGRJbnN0YW5jZXMub3BlcmFuZCk7XHJcbi8vICAgICAgICAgICAgIHZhciBuZXdSYXdWYWx1ZSA9IG9sZFZhbHVlLnJhd1ZhbHVlKCkgKyBhbW91bnQ7XHJcblxyXG5cclxuLy8gICAgICAgICAgICAgaWYgKGlzQShvYmoudHlwZSwgVHlwZXMuQXJyYXlQb2ludGVyKSl7XHJcbi8vICAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IHdlIGhhdmVuJ3QgcnVuIG9mZiB0aGUgYXJyYXlcclxuLy8gICAgICAgICAgICAgICAgIGlmIChuZXdSYXdWYWx1ZSA8IG9iai50eXBlLm1pbigpKXtcclxuLy8gICAgICAgICAgICAgICAgICAgICAvL3NpbS5hbGVydChcIk9vcHMuIFRoYXQgcG9pbnRlciBqdXN0IHdhbmRlcmVkIG9mZiB0aGUgYmVnaW5uaW5nIG9mIGl0cyBhcnJheS5cIik7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICBlbHNlIGlmIChvYmoudHlwZS5vbmVQYXN0KCkgPCBuZXdSYXdWYWx1ZSl7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgLy9zaW0uYWxlcnQoXCJPb3BzLiBUaGF0IHBvaW50ZXIganVzdCB3YW5kZXJlZCBvZmYgdGhlIGVuZCBvZiBpdHMgYXJyYXkuXCIpO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGVsc2UgaWYgKGlzQShvYmoudHlwZSwgVHlwZXMuUG9pbnRlcikpe1xyXG4vLyAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIFJUVEkgd29ya3Mgd2VsbCBlbm91Z2gsIHRoaXMgc2hvdWxkIGFsd2F5cyBiZSB1bnNhZmVcclxuLy8gICAgICAgICAgICAgICAgIHNpbS51bmRlZmluZWRCZWhhdmlvcihcIlVoLCBJIGRvbid0IHRoaW5rIHlvdSdyZSBzdXBwb3NlZCB0byBkbyBhcml0aG1ldGljIHdpdGggdGhhdCBwb2ludGVyLiBJdCdzIG5vdCBwb2ludGluZyBpbnRvIGFuIGFycmF5LlwiKTtcclxuLy8gICAgICAgICAgICAgfVxyXG5cclxuXHJcbi8vICAgICAgICAgICAgIG9iai53cml0ZVZhbHVlKFZhbHVlLmluc3RhbmNlKG5ld1Jhd1ZhbHVlLCBvbGRWYWx1ZS50eXBlLCB7aW52YWxpZDogIW9sZFZhbHVlLmlzVmFsdWVWYWxpZCgpfSkpO1xyXG4vLyAgICAgICAgICAgICBpbnN0LnNldEV2YWxSZXN1bHQob2xkVmFsdWUpO1xyXG4vLyAgICAgICAgICAgICB0aGlzLmRvbmUoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuLy8gZXhwb3J0IHZhciBEZWNyZW1lbnQgID0gRXhwcmVzc2lvbi5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiRGVjcmVtZW50XCIsXHJcbi8vICAgICB2YWx1ZUNhdGVnb3J5OiBcInBydmFsdWVcIixcclxuLy8gICAgIGlfY2hpbGRyZW5Ub0NyZWF0ZSA6IFtcIm9wZXJhbmRcIl0sXHJcbi8vICAgICBpX2NoaWxkcmVuVG9FeGVjdXRlIDogW1wib3BlcmFuZFwiXSxcclxuLy8gICAgIHR5cGVDaGVjayA6IGZ1bmN0aW9uKCl7XHJcbi8vICAgICAgICAgLy8gVHlwZSBjaGVja1xyXG4vLyAgICAgICAgIGlmICh0aGlzLm9wZXJhbmQudHlwZS5pc0FyaXRobWV0aWNUeXBlIHx8IGlzQSh0aGlzLm9wZXJhbmQudHlwZSwgVHlwZXMuUG9pbnRlcikpIHtcclxuLy8gICAgICAgICAgICAgdGhpcy50eXBlID0gdGhpcy5vcGVyYW5kLnR5cGU7XHJcblxyXG4vLyAgICAgICAgICAgICBpZiAodGhpcy5vcGVyYXRvciA9IFwiLS1cIiAmJiBpc0EodGhpcy5vcGVyYW5kLnR5cGUsIFR5cGVzLkJvb2wpKXtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmludmFsaWRfb3BlcmFuZCh0aGlzLCB0aGlzLm9wZXJhdG9yLCB0aGlzLm9wZXJhbmQpKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLm9wZXJhbmQudmFsdWVDYXRlZ29yeSA9PT0gXCJsdmFsdWVcIikge1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmx2YWx1ZV9vcGVyYW5kKHRoaXMsIHRoaXMub3BlcmF0b3IpKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5pbnZhbGlkX29wZXJhbmQodGhpcywgdGhpcy5vcGVyYXRvciwgdGhpcy5vcGVyYW5kKSk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuLy8gICAgIHN0ZXBGb3J3YXJkIDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcblxyXG4vLyAgICAgICAgIC8vIEV2YWx1YXRlIHN1YmV4cHJlc3Npb25zXHJcbi8vICAgICAgICAgaWYgKGluc3QuaW5kZXggPT0gXCJvcGVyYXRlXCIpe1xyXG4vLyAgICAgICAgICAgICB2YXIgb2JqID0gaW5zdC5jaGlsZEluc3RhbmNlcy5vcGVyYW5kLmV2YWxSZXN1bHQ7XHJcbi8vICAgICAgICAgICAgIHZhciBhbW91bnQgPSAoaXNBKHRoaXMudHlwZSwgVHlwZXMuUG9pbnRlcikgPyB0aGlzLnR5cGUucHRyVG8uc2l6ZSA6IDEpO1xyXG4vLyAgICAgICAgICAgICB2YXIgb2xkVmFsdWUgPSByZWFkVmFsdWVXaXRoQWxlcnQob2JqLCBzaW0sIHRoaXMub3BlcmFuZCwgaW5zdC5jaGlsZEluc3RhbmNlcy5vcGVyYW5kKTtcclxuLy8gICAgICAgICAgICAgdmFyIG5ld1Jhd1ZhbHVlID0gb2xkVmFsdWUucmF3VmFsdWUoKSAtIGFtb3VudDtcclxuXHJcbi8vICAgICAgICAgICAgIGlmIChpc0Eob2JqLnR5cGUsIFR5cGVzLkFycmF5UG9pbnRlcikpe1xyXG4vLyAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCB3ZSBoYXZlbid0IHJ1biBvZmYgdGhlIGFycmF5XHJcbi8vICAgICAgICAgICAgICAgICBpZiAobmV3UmF3VmFsdWUgPCBvYmoudHlwZS5taW4oKSl7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgLy9zaW0uYWxlcnQoXCJPb3BzLiBUaGF0IHBvaW50ZXIganVzdCB3YW5kZXJlZCBvZmYgdGhlIGJlZ2lubmluZyBvZiBpdHMgYXJyYXkuXCIpO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgZWxzZSBpZiAob2JqLnR5cGUub25lUGFzdCgpIDwgbmV3UmF3VmFsdWUpe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIC8vc2ltLmFsZXJ0KFwiT29wcy4gVGhhdCBwb2ludGVyIGp1c3Qgd2FuZGVyZWQgb2ZmIHRoZSBlbmQgb2YgaXRzIGFycmF5LlwiKTtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNlIGlmIChpc0Eob2JqLnR5cGUsIFR5cGVzLlBvaW50ZXIpKXtcclxuLy8gICAgICAgICAgICAgICAgIC8vIElmIHRoZSBSVFRJIHdvcmtzIHdlbGwgZW5vdWdoLCB0aGlzIHNob3VsZCBhbHdheXMgYmUgdW5zYWZlXHJcbi8vICAgICAgICAgICAgICAgICBzaW0udW5kZWZpbmVkQmVoYXZpb3IoXCJVaCwgSSBkb24ndCB0aGluayB5b3UncmUgc3VwcG9zZWQgdG8gZG8gYXJpdGhtZXRpYyB3aXRoIHRoYXQgcG9pbnRlci4gSXQncyBub3QgcG9pbnRpbmcgaW50byBhbiBhcnJheS5cIik7XHJcbi8vICAgICAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgICAgIG9iai53cml0ZVZhbHVlKFZhbHVlLmluc3RhbmNlKG5ld1Jhd1ZhbHVlLCBvbGRWYWx1ZS50eXBlLCB7aW52YWxpZDogIW9sZFZhbHVlLmlzVmFsdWVWYWxpZCgpfSkpO1xyXG4vLyAgICAgICAgICAgICBpbnN0LnNldEV2YWxSZXN1bHQob2xkVmFsdWUpO1xyXG4vLyAgICAgICAgICAgICB0aGlzLmRvbmUoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuXHJcblxyXG4vLyAvLyBUT0RPOiBBbGxvdyBvdmVybG9hZGluZyBTdWJzY3JpcHQgd2l0aCBpbml0aWFsaXplciBsaXN0XHJcbi8vIGV4cG9ydCB2YXIgU3Vic2NyaXB0ICA9IEV4cHJlc3Npb24uZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lOiBcIlN1YnNjcmlwdFwiLFxyXG4vLyAgICAgdmFsdWVDYXRlZ29yeTogXCJsdmFsdWVcIixcclxuLy8gICAgIGlfY2hpbGRyZW5Ub0NyZWF0ZSA6IFtcIm9wZXJhbmRcIl0sXHJcbi8vICAgICBpX2NoaWxkcmVuVG9FeGVjdXRlIDogW1wib3BlcmFuZFwiLCBcImFyZ1wiXSxcclxuLy8gICAgIGlfY2hpbGRyZW5Ub0V4ZWN1dGVGb3JNZW1iZXJPdmVybG9hZCA6IFtcIm9wZXJhbmRcIl0sIC8vIGRvZXMgbm90IGluY2x1ZGUgb2Zmc2V0IGJlY2F1c2UgZnVuY3Rpb24gY2FsbCBkb2VzIHRoYXRcclxuXHJcbi8vICAgICBjb21waWxlIDogZnVuY3Rpb24oKXtcclxuXHJcbi8vICAgICAgICAgdGhpcy5vcGVyYW5kLmNvbXBpbGUoKTtcclxuXHJcbi8vICAgICAgICAgLy8gQ2hlY2sgZm9yIG92ZXJsb2FkXHJcbi8vICAgICAgICAgaWYgKGlzQSh0aGlzLm9wZXJhbmQudHlwZSwgVHlwZXMuQ2xhc3MpKXtcclxuLy8gICAgICAgICAgICAgdGhpcy5jb21waWxlTWVtYmVyT3ZlcmxvYWQodGhpcy5vcGVyYW5kLCBbdGhpcy5hc3QuYXJnXSwgdGhpcy5vcGVyYW5kLnR5cGUuaXNDb25zdCwgXCJbXVwiKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgdGhpcy5vcGVyYW5kID0gc3RhbmRhcmRDb252ZXJzaW9uKHRoaXMub3BlcmFuZCwgVHlwZXMuUG9pbnRlcik7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYXJnID0gdGhpcy5pX2NyZWF0ZUFuZENvbXBpbGVDaGlsZEV4cHIodGhpcy5hc3QuYXJnLCBUeXBlcy5JbnQuaW5zdGFuY2UoKSk7XHJcblxyXG4vLyAgICAgICAgICAgICB0aGlzLmNvbnZlcnQoKTtcclxuLy8gICAgICAgICAgICAgdGhpcy50eXBlQ2hlY2soKTtcclxuLy8gICAgICAgICAgICAgdGhpcy5jb21waWxlVGVtcG9yYXJpcmVzKCk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICB0eXBlQ2hlY2sgOiBmdW5jdGlvbigpe1xyXG4vLyAgICAgICAgIGlmICghaXNBKHRoaXMub3BlcmFuZC50eXBlLCBUeXBlcy5Qb2ludGVyKSkge1xyXG4vLyAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5hcnJheV9vcGVyYW5kKHRoaXMsIHRoaXMub3BlcmFuZC50eXBlKSk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgIHRoaXMudHlwZSA9IHRoaXMub3BlcmFuZC50eXBlLnB0clRvO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgaWYgKCFpc0EodGhpcy5hcmcudHlwZSwgVHlwZXMuSW50KSkge1xyXG4vLyAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5hcnJheV9vZmZzZXQodGhpcywgdGhpcy5hcmcudHlwZSkpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcblxyXG5cclxuLy8gICAgIHVwTmV4dCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIGlmICh0aGlzLmlzT3ZlcmxvYWQpXHJcbi8vICAgICAgICAge1xyXG4vLyAgICAgICAgICAgICBpZiAoaW5zdC5pbmRleCA9PT0gXCJzdWJleHByZXNzaW9uc1wiKXtcclxuLy8gICAgICAgICAgICAgICAgIGluc3QuY2hpbGRJbnN0YW5jZXMgPSB7fTtcclxuLy8gICAgICAgICAgICAgICAgIGluc3QuY2hpbGRJbnN0YW5jZXMub3BlcmFuZCA9IHRoaXMub3BlcmFuZC5jcmVhdGVBbmRQdXNoSW5zdGFuY2Uoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICAgICAgICAgIGluc3QuaW5kZXggPSBcIm9wZXJhdGVcIjtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGVsc2UgaWYgKGluc3QuaW5kZXggPT09IFwib3BlcmF0ZVwiKXtcclxuLy8gICAgICAgICAgICAgICAgIGluc3QuY2hpbGRJbnN0YW5jZXMuZnVuY0NhbGwgPSB0aGlzLmZ1bmNDYWxsLmNyZWF0ZUFuZFB1c2hJbnN0YW5jZShzaW0sIGluc3QsIGluc3QuY2hpbGRJbnN0YW5jZXMub3BlcmFuZC5ldmFsUmVzdWx0KTtcclxuLy8gICAgICAgICAgICAgICAgIGluc3QuaW5kZXggPSBcImRvbmVcIjtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgICAgICBpbnN0LnNldEV2YWxSZXN1bHQoaW5zdC5jaGlsZEluc3RhbmNlcy5mdW5jQ2FsbC5ldmFsUmVzdWx0KTtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuZG9uZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgRXhwcmVzc2lvbnMuU3Vic2NyaXB0Ll9wYXJlbnQudXBOZXh0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBzdGVwRm9yd2FyZCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG5cclxuLy8gICAgICAgICAvLyBFdmFsdWF0ZSBzdWJleHByZXNzaW9uc1xyXG4vLyAgICAgICAgIGlmIChpbnN0LmluZGV4ID09PSBcIm9wZXJhdGVcIil7XHJcbi8vICAgICAgICAgICAgIC8vIHN1YiBhbmQgb3BlcmFuZCBhcmUgYWxyZWFkeSBldmFsdWF0ZWRcclxuLy8gICAgICAgICAgICAgLy8gcmVzdWx0IG9mIG9wZXJhbmQgc2hvdWxkIGJlIGEgcG9pbnRlclxyXG4vLyAgICAgICAgICAgICAvLyByZXN1bHQgb2Ygc3ViIHNob3VsZCBiZSBhbiBpbnRlZ2VyXHJcbi8vICAgICAgICAgICAgIHZhciBvZmZzZXQgPSBpbnN0LmNoaWxkSW5zdGFuY2VzLmFyZy5ldmFsUmVzdWx0O1xyXG4vLyAgICAgICAgICAgICB2YXIgcHRyID0gaW5zdC5jaGlsZEluc3RhbmNlcy5vcGVyYW5kLmV2YWxSZXN1bHQ7XHJcbi8vICAgICAgICAgICAgIHB0ciA9IFZhbHVlLmluc3RhbmNlKHB0ci52YWx1ZStvZmZzZXQudmFsdWUqdGhpcy50eXBlLnNpemUsIHB0ci50eXBlKTtcclxuLy8gICAgICAgICAgICAgdmFyIGFkZHIgPSBwdHIudmFsdWU7XHJcblxyXG5cclxuXHJcbi8vICAgICAgICAgICAgIGlmIChUeXBlcy5Qb2ludGVyLmlzTmVnYXRpdmUoYWRkcikpe1xyXG4vLyAgICAgICAgICAgICAgICAgc2ltLmNyYXNoKFwiR29vZCB3b3JrLiBZb3Ugc3Vic2NyaXB0ZWQgc28gZmFyIGJhY2t3YXJkcyBvZmYgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXkgeW91IHdlbnQgdG8gYSBuZWdhdGl2ZSBhZGRyZXNzLiAtX18tXCIpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGVsc2UgaWYgKGlzQShwdHIudHlwZSwgVHlwZXMuQXJyYXlQb2ludGVyKSl7XHJcbi8vICAgICAgICAgICAgICAgICAvLyBJZiBpdCdzIGFuIGFycmF5IHBvaW50ZXIsIG1ha2Ugc3VyZSBpdCdzIGluIGJvdW5kcyBhbmQgbm90IG9uZS1wYXN0XHJcbi8vICAgICAgICAgICAgICAgICBpZiAoYWRkciA8IHB0ci50eXBlLm1pbigpKXtcclxuLy8gICAgICAgICAgICAgICAgICAgICBzaW0udW5kZWZpbmVkQmVoYXZpb3IoXCJUaGF0IHN1YnNjcmlwdCBvcGVyYXRpb24gZ29lcyBvZmYgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXkuIFRoaXMgY291bGQgY2F1c2UgYSBzZWdmYXVsdCwgb3Igd29yc2UgLSB5b3UgbWlnaHQganVzdCBhY2Nlc3MvY2hhbmdlIG90aGVyIG1lbW9yeSBvdXRzaWRlIHRoZSBhcnJheS5cIik7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICBlbHNlIGlmIChwdHIudHlwZS5vbmVQYXN0KCkgPCBhZGRyKXtcclxuLy8gICAgICAgICAgICAgICAgICAgICBzaW0udW5kZWZpbmVkQmVoYXZpb3IoXCJUaGF0IHN1YnNjcmlwdCBvcGVyYXRpb24gZ29lcyBvZmYgdGhlIGVuZCBvZiB0aGUgYXJyYXkuIFRoaXMgY291bGQgY2F1c2UgYSBzZWdmYXVsdCwgb3Igd29yc2UgLSB5b3UgbWlnaHQganVzdCBhY2Nlc3MvY2hhbmdlIG90aGVyIG1lbW9yeSBvdXRzaWRlIHRoZSBhcnJheS5cIik7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICBlbHNlIGlmIChhZGRyID09IHB0ci50eXBlLm9uZVBhc3QoKSl7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogdGVjaG5pY2FsbHkgdGhpcyBpcyBub3QgdW5kZWZpbmVkIGJlaGF2aW9yIHVubGVzcyB0aGUgcmVzdWx0IG9mIHRoZSBkZXJlZmVyZW5jZSB1bmRlcmdvZXMgYW4gbHZhbHVlLXRvLXJ2YWx1ZSBjb252ZXJzaW9uIHRvIGxvb2sgdXAgdGhlIG9iamVjdFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHNpbS51bmRlZmluZWRCZWhhdmlvcihcIlRoYXQgc3Vic2NyaXB0IGFjY2Vzc2VzIHRoZSBlbGVtZW50IG9uZSBwYXN0IHRoZSBlbmQgb2YgdGhlIGFycmF5LiBUaGlzIGNvdWxkIGNhdXNlIGEgc2VnZmF1bHQsIG9yIHdvcnNlIC0geW91IG1pZ2h0IGp1c3QgYWNjZXNzL2NoYW5nZSBvdGhlciBtZW1vcnkgb3V0c2lkZSB0aGUgYXJyYXkuXCIpO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAgICAgdmFyIG9iaiA9IHNpbS5tZW1vcnkuZGVyZWZlcmVuY2UocHRyKTtcclxuXHJcbi8vICAgICAgICAgICAgIC8vIE5vdGU6IGRlYWQgb2JqZWN0IGlzIG5vdCBuZWNlc3NhcmlseSBpbnZhbGlkLiBJbnZhbGlkIGhhcyB0byBkbyB3aXRoIHRoZSB2YWx1ZVxyXG4vLyAgICAgICAgICAgICAvLyB3aGlsZSBkZWFkL2FsaXZlIGhhcyB0byBkbyB3aXRoIHRoZSBvYmplY3QgaXRzZWxmLiBSZWFkaW5nIGZyb20gZGVhZCBvYmplY3QgZG9lc1xyXG4vLyAgICAgICAgICAgICAvLyB5aWVsZCBhbiBpbnZhbGlkIHZhbHVlIHRob3VnaC5cclxuLy8gICAgICAgICAgICAgaWYgKCFvYmouaXNBbGl2ZSgpKXtcclxuLy8gICAgICAgICAgICAgICAgIERlYWRPYmplY3RNZXNzYWdlLmluc3RhbmNlKG9iaiwge2Zyb21TdWJzY3JpcHQ6dHJ1ZX0pLmRpc3BsYXkoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAgICAgaW5zdC5zZXRFdmFsUmVzdWx0KG9iaik7XHJcbi8vICAgICAgICAgICAgIHRoaXMuZG9uZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgaXNUYWlsQ2hpbGQgOiBmdW5jdGlvbihjaGlsZCl7XHJcbi8vICAgICAgICAgcmV0dXJuIHtpc1RhaWw6IGZhbHNlLFxyXG4vLyAgICAgICAgICAgICByZWFzb246IFwiVGhlIHN1YnNjcmlwdGluZyB3aWxsIGhhcHBlbiBhZnRlciB0aGUgcmVjdXJzaXZlIGNhbGwgcmV0dXJucy5cIixcclxuLy8gICAgICAgICAgICAgb3RoZXJzOiBbdGhpc11cclxuLy8gICAgICAgICB9O1xyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcbi8vIGV4cG9ydCB2YXIgRG90ICA9IEV4cHJlc3Npb24uZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lOiBcIkRvdFwiLFxyXG4vLyAgICAgaV9ydW50aW1lQ29uc3RydWN0Q2xhc3MgOiBSdW50aW1lTWVtYmVyQWNjZXNzLFxyXG4vLyAgICAgaV9jaGlsZHJlblRvQ3JlYXRlIDogW1wib3BlcmFuZFwiXSxcclxuLy8gICAgIGlfY2hpbGRyZW5Ub0V4ZWN1dGUgOiBbXCJvcGVyYW5kXCJdLFxyXG5cclxuLy8gICAgIGlfY3JlYXRlRnJvbUFTVCA6IGZ1bmN0aW9uKGFzdCwgY29udGV4dCkge1xyXG4vLyAgICAgICAgIERvdC5fcGFyZW50LmlfY3JlYXRlRnJvbUFTVC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4vLyAgICAgICAgIHRoaXMubWVtYmVyTmFtZSA9IGFzdC5tZW1iZXIuaWRlbnRpZmllcjtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgY29tcGlsZSA6IGZ1bmN0aW9uKGNvbXBpbGF0aW9uQ29udGV4dCkge1xyXG4vLyAgICAgICAgIHRoaXMuaV9wYXJhbVR5cGVzID0gY29tcGlsYXRpb25Db250ZXh0ICYmIGNvbXBpbGF0aW9uQ29udGV4dC5wYXJhbVR5cGVzO1xyXG4vLyAgICAgICAgIEV4cHJlc3Npb25zLkRvdC5fcGFyZW50LmNvbXBpbGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgdHlwZUNoZWNrIDogZnVuY3Rpb24oKXtcclxuLy8gICAgICAgICBpZiAoIWlzQSh0aGlzLm9wZXJhbmQudHlwZSwgVHlwZXMuQ2xhc3MpKSB7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmRvdC5jbGFzc190eXBlKHRoaXMpKTtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgLy8gRmluZCBvdXQgd2hhdCB0aGlzIGlkZW50aWZpZXNcclxuLy8gICAgICAgICB0cnkge1xyXG4vLyAgICAgICAgICAgICB0aGlzLmVudGl0eSA9IHRoaXMub3BlcmFuZC50eXBlLmNsYXNzU2NvcGUucmVxdWlyZWRNZW1iZXJMb29rdXAodGhpcy5tZW1iZXJOYW1lLCB7cGFyYW1UeXBlczogdGhpcy5pX3BhcmFtVHlwZXMsIGlzVGhpc0NvbnN0OnRoaXMub3BlcmFuZC50eXBlLmlzQ29uc3R9KTtcclxuLy8gICAgICAgICAgICAgdGhpcy50eXBlID0gdGhpcy5lbnRpdHkudHlwZTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgY2F0Y2goZSl7XHJcbi8vICAgICAgICAgICAgIGlmIChpc0EoZSwgU2VtYW50aWNFeGNlcHRpb25zLkJhZExvb2t1cCkpe1xyXG4vLyAgICAgICAgICAgICAgICAgLy8gdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIuZG90Lm1lbWJlckxvb2t1cCh0aGlzLCB0aGlzLm9wZXJhbmQudHlwZSwgdGhpcy5tZW1iZXJOYW1lKSk7XHJcbi8vICAgICAgICAgICAgICAgICAvLyBUT0RPOiB3aHkgaXMgdGhpcyBjb21tZW50ZWQ/XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoZS5hbm5vdGF0aW9uKHRoaXMpKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgaWYgKGlzQSh0aGlzLnR5cGUsIFR5cGVzLlJlZmVyZW5jZSkpe1xyXG4vLyAgICAgICAgICAgICB0aGlzLnR5cGUgPSB0aGlzLnR5cGUucmVmVG87XHJcbi8vICAgICAgICAgICAgIHRoaXMudmFsdWVDYXRlZ29yeSA9IFwibHZhbHVlXCI7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2UgaWYgKHRoaXMub3BlcmFuZC52YWx1ZUNhdGVnb3J5ID09PSBcImx2YWx1ZVwiKXtcclxuLy8gICAgICAgICAgICAgdGhpcy52YWx1ZUNhdGVnb3J5ID0gXCJsdmFsdWVcIjtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgdGhpcy52YWx1ZUNhdGVnb3J5ID0gXCJ4dmFsdWVcIjtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIHVwTmV4dCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIGlmIChpbnN0LmluZGV4ID09PSBcInN1YmV4cHJlc3Npb25zXCIpe1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gRXhwcmVzc2lvbi51cE5leHQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgLy8gZW50aXR5IG1heSBiZSBNZW1iZXJWYXJpYWJsZUVudGl0eSBidXQgc2hvdWxkIG5ldmVyIGJlIGFuIEF1dG9FbnRpdHlcclxuLy8gICAgICAgICAgICAgYXNzZXJ0KCFpc0EodGhpcy5lbnRpdHksIEF1dG9FbnRpdHkpKTtcclxuLy8gICAgICAgICAgICAgaW5zdC5zZXRPYmplY3RBY2Nlc3NlZEZyb20oaW5zdC5jaGlsZEluc3RhbmNlcy5vcGVyYW5kLmV2YWxSZXN1bHQpO1xyXG4vLyAgICAgICAgICAgICBpbnN0LnNldEV2YWxSZXN1bHQodGhpcy5lbnRpdHkucnVudGltZUxvb2t1cChzaW0sIGluc3QpKTtcclxuLy8gICAgICAgICAgICAgdGhpcy5kb25lKHNpbSwgaW5zdCk7XHJcbi8vICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgaXNUYWlsQ2hpbGQgOiBmdW5jdGlvbihjaGlsZCl7XHJcbi8vICAgICAgICAgcmV0dXJuIHtpc1RhaWw6IGZhbHNlLFxyXG4vLyAgICAgICAgICAgICByZWFzb246IFwiVGhlIGRvdCBvcGVyYXRpb24gaXRzZWxmIHdpbGwgaGFwcGVuIGFmdGVyIHRoZSByZWN1cnNpdmUgY2FsbCByZXR1cm5zLlwiLFxyXG4vLyAgICAgICAgICAgICBvdGhlcnM6IFt0aGlzXVxyXG4vLyAgICAgICAgIH07XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuXHJcblxyXG4vLyBleHBvcnQgdmFyIEFycm93ICA9IEV4cHJlc3Npb24uZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lOiBcIkFycm93XCIsXHJcbi8vICAgICBpX3J1bnRpbWVDb25zdHJ1Y3RDbGFzcyA6IFJ1bnRpbWVNZW1iZXJBY2Nlc3MsXHJcbi8vICAgICB2YWx1ZUNhdGVnb3J5OiBcImx2YWx1ZVwiLFxyXG4vLyAgICAgaV9jaGlsZHJlblRvQ3JlYXRlIDogW1wib3BlcmFuZFwiXSxcclxuLy8gICAgIGlfY2hpbGRyZW5Ub0NvbnZlcnQgOiB7XHJcbi8vICAgICAgICAgb3BlcmFuZCA6IFR5cGVzLlBvaW50ZXIuaW5zdGFuY2UoKVxyXG4vLyAgICAgfSxcclxuLy8gICAgIGlfY2hpbGRyZW5Ub0V4ZWN1dGUgOiBbXCJvcGVyYW5kXCJdLFxyXG5cclxuLy8gICAgIGlfY3JlYXRlRnJvbUFTVCA6IGZ1bmN0aW9uKGFzdCwgY29udGV4dCkge1xyXG4vLyAgICAgICAgIEFycm93Ll9wYXJlbnQuaV9jcmVhdGVGcm9tQVNULmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbi8vICAgICAgICAgdGhpcy5tZW1iZXJOYW1lID0gYXN0Lm1lbWJlci5pZGVudGlmaWVyO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBjb21waWxlIDogZnVuY3Rpb24oY29tcGlsYXRpb25Db250ZXh0KSB7XHJcbi8vICAgICAgICAgdGhpcy5pX3BhcmFtVHlwZXMgPSBjb21waWxhdGlvbkNvbnRleHQgJiYgY29tcGlsYXRpb25Db250ZXh0LnBhcmFtVHlwZXM7XHJcbi8vICAgICAgICAgRXhwcmVzc2lvbnMuRG90Ll9wYXJlbnQuY29tcGlsZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICB0eXBlQ2hlY2sgOiBmdW5jdGlvbigpe1xyXG4vLyAgICAgICAgIGlmICghaXNBKHRoaXMub3BlcmFuZC50eXBlLCBUeXBlcy5Qb2ludGVyKSB8fCAhaXNBKHRoaXMub3BlcmFuZC50eXBlLnB0clRvLCBUeXBlcy5DbGFzcykpIHtcclxuLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIuYXJyb3cuY2xhc3NfcG9pbnRlcl90eXBlKHRoaXMpKTtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgLy8gRmluZCBvdXQgd2hhdCB0aGlzIGlkZW50aWZpZXNcclxuLy8gICAgICAgICB0cnl7XHJcbi8vICAgICAgICAgICAgIHRoaXMuZW50aXR5ID0gdGhpcy5vcGVyYW5kLnR5cGUucHRyVG8uY2xhc3NTY29wZS5yZXF1aXJlZE1lbWJlckxvb2t1cCh0aGlzLm1lbWJlck5hbWUsIHtwYXJhbVR5cGVzOiB0aGlzLmlfcGFyYW1UeXBlcywgaXNUaGlzQ29uc3Q6dGhpcy5vcGVyYW5kLnR5cGUucHRyVG8uaXNDb25zdH0pO1xyXG4vLyAgICAgICAgICAgICB0aGlzLnR5cGUgPSB0aGlzLmVudGl0eS50eXBlO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBjYXRjaChlKXtcclxuLy8gICAgICAgICAgICAgaWYgKGlzQShlLCBTZW1hbnRpY0V4Y2VwdGlvbnMuQmFkTG9va3VwKSl7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5hcnJvdy5tZW1iZXJMb29rdXAodGhpcywgdGhpcy5vcGVyYW5kLnR5cGUucHRyVG8sIHRoaXMubWVtYmVyTmFtZSkpO1xyXG4vLyAgICAgICAgICAgICAgICAgLy8gdGhpcy5hZGROb3RlKGUuYW5ub3RhdGlvbih0aGlzKSk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgICAgIHRocm93IGU7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIHN0ZXBGb3J3YXJkIDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcblxyXG4vLyAgICAgICAgIGlmIChpbnN0LmluZGV4ID09IFwib3BlcmF0ZVwiKXtcclxuLy8gICAgICAgICAgICAgdmFyIGFkZHIgPSBpbnN0LmNoaWxkSW5zdGFuY2VzLm9wZXJhbmQuZXZhbFJlc3VsdDtcclxuLy8gICAgICAgICAgICAgaWYgKFR5cGVzLlBvaW50ZXIuaXNOdWxsKGFkZHIucmF3VmFsdWUoKSkpe1xyXG4vLyAgICAgICAgICAgICAgICAgc2ltLmNyYXNoKFwiT3chIFlvdXIgY29kZSBqdXN0IHRyaWVkIHRvIHVzZSB0aGUgYXJyb3cgb3BlcmF0b3Igb24gYSBudWxsIHBvaW50ZXIhXCIpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGluc3Quc2V0T2JqZWN0QWNjZXNzZWRGcm9tKHNpbS5tZW1vcnkuZGVyZWZlcmVuY2UoYWRkciwgdGhpcy5vcGVyYW5kLnR5cGUucHRyVG8pKTtcclxuLy8gICAgICAgICAgICAgaW5zdC5zZXRFdmFsUmVzdWx0KHRoaXMuZW50aXR5LnJ1bnRpbWVMb29rdXAoc2ltLCBpbnN0KSk7XHJcblxyXG4vLyAgICAgICAgICAgICB0aGlzLmRvbmUoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBpc1RhaWxDaGlsZCA6IGZ1bmN0aW9uKGNoaWxkKXtcclxuLy8gICAgICAgICByZXR1cm4ge2lzVGFpbDogZmFsc2UsXHJcbi8vICAgICAgICAgICAgIHJlYXNvbjogXCJUaGUgYXJyb3cgb3BlcmF0aW9uIGl0c2VsZiB3aWxsIGhhcHBlbiBhZnRlciB0aGUgcmVjdXJzaXZlIGNhbGwgcmV0dXJucy5cIixcclxuLy8gICAgICAgICAgICAgb3RoZXJzOiBbdGhpc11cclxuLy8gICAgICAgICB9O1xyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcblxyXG5cclxuXHJcbi8vIGV4cG9ydCB2YXIgUFJFREVGSU5FRF9GVU5DVElPTlMgPSB7XHJcbi8vICAgICByYW5kIDogZnVuY3Rpb24oYXJncywgc2ltLCBpbnN0KXtcclxuLy8gICAgICAgICByZXR1cm4gVmFsdWUuaW5zdGFuY2UoTWF0aC5mbG9vcihzaW0ubmV4dFJhbmRvbSgpICogMzI3NjcpLCBUeXBlcy5JbnQuaW5zdGFuY2UoKSk7XHJcbi8vICAgICB9LFxyXG4vLyAgICAgXCJhc3NlcnRcIiA6IGZ1bmN0aW9uKGFyZ3MsIHNpbSwgaW5zdCl7XHJcbi8vICAgICAgICAgaWYoIWFyZ3NbMF0uZXZhbFJlc3VsdC52YWx1ZSl7XHJcbi8vICAgICAgICAgICAgIHNpbS5hc3NlcnRpb25GYWlsdXJlKFwiWWlrZXMhIEFuIGFzc2VydCBmYWlsZWQhIDxiciAvPjxzcGFuIGNsYXNzPSdjb2RlJz5cIiArIGluc3QubW9kZWwuZ2V0U291cmNlVGV4dCgpICsgXCI8L3NwYW4+IG9uIGxpbmUgXCIgKyBpbnN0Lm1vZGVsLmdldFNvdXJjZVRleHQoKSArIFwiLlwiKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgcmV0dXJuIFZhbHVlLmluc3RhbmNlKFwiXCIsIFR5cGVzLlZvaWQuaW5zdGFuY2UoKSk7XHJcbi8vICAgICB9LFxyXG4vLyAgICAgXCJwYXVzZVwiIDogZnVuY3Rpb24oYXJncywgc2ltLCBpbnN0KXtcclxuLy8gICAgICAgICBzaW0ucGF1c2UoKTtcclxuLy8gICAgICAgICByZXR1cm4gVmFsdWUuaW5zdGFuY2UoXCJcIiwgVHlwZXMuVm9pZC5pbnN0YW5jZSgpKTtcclxuLy8gICAgIH0sXHJcbi8vICAgICBcInBhdXNlSWZcIiA6IGZ1bmN0aW9uKGFyZ3MsIHNpbSwgaW5zdCl7XHJcbi8vICAgICAgICAgaWYoYXJnc1swXS5ldmFsUmVzdWx0LnZhbHVlKXtcclxuLy8gICAgICAgICAgICAgc2ltLnBhdXNlKCk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIHJldHVybiBWYWx1ZS5pbnN0YW5jZShcIlwiLCBUeXBlcy5Wb2lkLmluc3RhbmNlKCkpO1xyXG4vLyAgICAgfVxyXG4vLyB9O1xyXG5cclxuZXhwb3J0IHR5cGUgUG9zdGZpeEV4cHJlc3Npb25BU1ROb2RlID1cclxuICAgIFN0YXRpY0Nhc3RFeHByZXNzaW9uQVNUTm9kZSB8XHJcbiAgICBEeW5hbWljQ2FzdEV4cHJlc3Npb25BU1ROb2RlIHxcclxuICAgIFJlaW50ZXJwcmV0Q2FzdEV4cHJlc3Npb25BU1ROb2RlIHxcclxuICAgIENvbnN0Q2FzdEV4cHJlc3Npb25BU1ROb2RlIHxcclxuICAgIFN1YnNjcmlwdEV4cHJlc3Npb25BU1ROb2RlIHxcclxuICAgIEZ1bmN0aW9uQ2FsbEV4cHJlc3Npb25BU1ROb2RlIHxcclxuICAgIERvdEV4cHJlc3Npb25BU1ROb2RlIHxcclxuICAgIEFycm93RXhwcmVzc2lvbkFTVE5vZGUgfFxyXG4gICAgUG9zdGZpeEluY3JlbWVudEV4cHJlc3Npb25BU1ROb2RlIHxcclxuICAgIFBvc3RmaXhEZWNyZW1lbnRFeHByZXNzaW9uQVNUTm9kZTtcclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFN0YXRpY0Nhc3RFeHByZXNzaW9uQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwic3RhdGljX2Nhc3RfZXhwcmVzc2lvblwiO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIER5bmFtaWNDYXN0RXhwcmVzc2lvbkFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcImR5bmFtaWNfY2FzdF9leHByZXNzaW9uXCI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUmVpbnRlcnByZXRDYXN0RXhwcmVzc2lvbkFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcInJlaW50ZXJwcmV0X2Nhc3RfZXhwcmVzc2lvblwiO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbnN0Q2FzdEV4cHJlc3Npb25BU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJjb25zdF9jYXN0X2V4cHJlc3Npb25cIjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTdWJzY3JpcHRFeHByZXNzaW9uQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwic3Vic2NyaXB0X2V4cHJlc3Npb25cIjtcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRG90RXhwcmVzc2lvbkFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcImRvdF9leHByZXNzaW9uXCI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQXJyb3dFeHByZXNzaW9uQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwiYXJyb3dfZXhwcmVzc2lvblwiO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFBvc3RmaXhJbmNyZW1lbnRFeHByZXNzaW9uQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwicG9zdGZpeF9pbmNyZW1lbnRfZXhwcmVzc2lvblwiO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFBvc3RmaXhEZWNyZW1lbnRFeHByZXNzaW9uQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwicG9zdGZpeF9kZWNyZW1lbnRfZXhwcmVzc2lvblwiO1xyXG59XHJcblxyXG5cclxuXHJcbi8vIGV4cG9ydCB2YXIgTmV3RXhwcmVzc2lvbiA9IEV4cHJlc3Npb24uZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lOiBcIk5ld0V4cHJlc3Npb25cIixcclxuLy8gICAgIHZhbHVlQ2F0ZWdvcnk6IFwicHJ2YWx1ZVwiLFxyXG4vLyAgICAgaW5pdEluZGV4OiBcImFsbG9jYXRlXCIsXHJcbi8vICAgICBjb21waWxlIDogZnVuY3Rpb24oKXtcclxuXHJcbi8vICAgICAgICAgLy8gQ29tcGlsZSB0aGUgdHlwZSBzcGVjaWZpZXJcclxuLy8gICAgICAgICB0aGlzLnR5cGVTcGVjID0gVHlwZVNwZWNpZmllci5pbnN0YW5jZSh0aGlzLmFzdC5zcGVjcywge3BhcmVudDp0aGlzfSk7XHJcbi8vICAgICAgICAgdGhpcy50eXBlU3BlYy5jb21waWxlKCk7XHJcblxyXG4vLyAgICAgICAgIHRoaXMuaGVhcFR5cGUgPSB0aGlzLnR5cGVTcGVjLnR5cGU7XHJcblxyXG4vLyAgICAgICAgIC8vIENvbXBpbGUgZGVjbGFyYXRvciBpZiBpdCBleGlzdHNcclxuLy8gICAgICAgICBpZih0aGlzLmFzdC5kZWNsYXJhdG9yKSB7XHJcbi8vICAgICAgICAgICAgIHRoaXMuZGVjbGFyYXRvciA9IERlY2xhcmF0b3IuaW5zdGFuY2UodGhpcy5hc3QuZGVjbGFyYXRvciwge3BhcmVudDogdGhpc30pO1xyXG4vLyAgICAgICAgICAgICB0aGlzLmRlY2xhcmF0b3IuY29tcGlsZSh7YmFzZVR5cGU6IHRoaXMuaGVhcFR5cGV9KTtcclxuLy8gICAgICAgICAgICAgdGhpcy5oZWFwVHlwZSA9IHRoaXMuZGVjbGFyYXRvci50eXBlO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgaWYgKGlzQSh0aGlzLmhlYXBUeXBlLCBUeXBlcy5BcnJheSkpe1xyXG4vLyAgICAgICAgICAgICAvLyBOb3RlOiB0aGlzIGlzIFBvaW50ZXIsIHJhdGhlciB0aGFuIEFycmF5UG9pbnRlciwgc2luY2UgdGhlIGxhdHRlciBzaG91bGQgb25seSBiZSB1c2VkIGluIHJ1bnRpbWUgY29udGV4dHNcclxuLy8gICAgICAgICAgICAgdGhpcy50eXBlID0gVHlwZXMuUG9pbnRlci5pbnN0YW5jZSh0aGlzLmhlYXBUeXBlLmVsZW1UeXBlKTtcclxuLy8gICAgICAgICAgICAgaWYgKHRoaXMuZGVjbGFyYXRvci5keW5hbWljTGVuZ3RoRXhwcmVzc2lvbil7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmR5bmFtaWNMZW5ndGggPSB0aGlzLmlfY3JlYXRlQW5kQ29tcGlsZUNoaWxkRXhwcih0aGlzLmRlY2xhcmF0b3IuZHluYW1pY0xlbmd0aEV4cHJlc3Npb24sIFR5cGVzLkludC5pbnN0YW5jZSgpKTtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuaW5pdEluZGV4ID0gXCJsZW5ndGhcIjtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNlIHtcclxuLy8gICAgICAgICAgICAgdGhpcy50eXBlID0gVHlwZXMuUG9pbnRlci5pbnN0YW5jZSh0aGlzLmhlYXBUeXBlKTtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIHZhciBlbnRpdHkgPSBOZXdPYmplY3RFbnRpdHkuaW5zdGFuY2UodGhpcy5oZWFwVHlwZSk7XHJcblxyXG4vLyAgICAgICAgIHZhciBpbml0Q29kZSA9IHRoaXMuYXN0LmluaXRpYWxpemVyIHx8IHthcmdzOiBbXX07XHJcbi8vICAgICAgICAgaWYgKGlzQSh0aGlzLmhlYXBUeXBlLCBUeXBlcy5DbGFzcykgfHwgaW5pdENvZGUuYXJncy5sZW5ndGggPT0gMSl7XHJcbi8vICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZXIgPSBOZXdEaXJlY3RJbml0aWFsaXplci5pbnN0YW5jZShpbml0Q29kZSwge3BhcmVudDogdGhpc30pO1xyXG4vLyAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVyLmNvbXBpbGUoZW50aXR5KTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZSBpZiAoaW5pdENvZGUuYXJncy5sZW5ndGggPT0gMCl7XHJcbi8vICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZXIgPSBOZXdEZWZhdWx0SW5pdGlhbGl6ZXIuaW5zdGFuY2UoaW5pdENvZGUsIHtwYXJlbnQ6IHRoaXN9KTtcclxuLy8gICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplci5jb21waWxlKGVudGl0eSk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5pbml0LnNjYWxhcl9hcmdzKHRoaXMsIHRoaXMuaGVhcFR5cGUpKTtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIHRoaXMuY29tcGlsZVRlbXBvcmFyaXJlcygpO1xyXG4vLyAgICAgfSxcclxuXHJcblxyXG4vLyAgICAgY3JlYXRlSW5zdGFuY2UgOiBmdW5jdGlvbihzaW0sIHBhcmVudCl7XHJcbi8vICAgICAgICAgdmFyIGluc3QgPSBFeHByZXNzaW9uLmNyZWF0ZUluc3RhbmNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbi8vICAgICAgICAgaW5zdC5pbml0aWFsaXplciA9IHRoaXMuaW5pdGlhbGl6ZXIuY3JlYXRlSW5zdGFuY2Uoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICByZXR1cm4gaW5zdDtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgdXBOZXh0IDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbi8vICAgICAgICAgaWYgKGluc3QuaW5kZXggPT09IFwibGVuZ3RoXCIpe1xyXG4vLyAgICAgICAgICAgICBpbnN0LmR5bmFtaWNMZW5ndGggPSB0aGlzLmR5bmFtaWNMZW5ndGguY3JlYXRlQW5kUHVzaEluc3RhbmNlKHNpbSwgaW5zdCk7XHJcbi8vICAgICAgICAgICAgIGluc3QuaW5kZXggPSBcImFsbG9jYXRlXCI7XHJcbi8vICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNlIGlmIChpbnN0LmluZGV4ID09PSBcImluaXRcIil7XHJcbi8vICAgICAgICAgICAgIHNpbS5wdXNoKGluc3QuaW5pdGlhbGl6ZXIpO1xyXG4vLyAgICAgICAgICAgICBpbnN0LmluZGV4ID0gXCJvcGVyYXRlXCI7XHJcbi8vICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgc3RlcEZvcndhcmQgOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuXHJcbi8vICAgICAgICAgLy8gRHluYW1pYyBtZW1vcnkgLSBkb2Vzbid0IGdldCBhZGRlZCB0byBhbnkgc2NvcGUsIGJ1dCB3ZSBjcmVhdGUgb24gdGhlIGhlYXBcclxuXHJcbi8vICAgICAgICAgaWYgKGluc3QuaW5kZXggPT09IFwiYWxsb2NhdGVcIikge1xyXG4vLyAgICAgICAgICAgICB2YXIgaGVhcFR5cGUgPSB0aGlzLmhlYXBUeXBlO1xyXG5cclxuLy8gICAgICAgICAgICAgLy8gSWYgaXQncyBhbiBhcnJheSwgd2UgbmVlZCB0byB1c2UgdGhlIGR5bmFtaWMgbGVuZ3RoXHJcbi8vICAgICAgICAgICAgIGlmICh0aGlzLmR5bmFtaWNMZW5ndGgpIHtcclxuLy8gICAgICAgICAgICAgICAgIHZhciBsZW4gPSBpbnN0LmR5bmFtaWNMZW5ndGguZXZhbFJlc3VsdC5yYXdWYWx1ZSgpO1xyXG4vLyAgICAgICAgICAgICAgICAgaWYgKGxlbiA9PT0gMCl7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgc2ltLmFsZXJ0KFwiU29ycnksIGJ1dCBJIGNhbid0IGFsbG9jYXRlIGEgZHluYW1pYyBhcnJheSBvZiB6ZXJvIGxlbmd0aC4gSSBrbm93IHRoZXJlJ3MgdGVjaG5pY2FsbHkgYW4gb2xkIEMtc3R5bGUgaGFjayB0aGF0IHVzZXMgemVyby1sZW5ndGggYXJyYXlzLCBidXQgaGV5LCBJJ20ganVzdCBhIGxvYnN0ZXIuIEknbGwgZ28gYWhlYWQgYW5kIGFsbG9jYXRlIGFuIGFycmF5IG9mIGxlbmd0aCAxIGluc3RlYWQuXCIpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGxlbiA9IDE7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICBlbHNlIGlmIChsZW4gPCAwKXtcclxuLy8gICAgICAgICAgICAgICAgICAgICBzaW0udW5kZWZpbmVkQmVoYXZpb3IoXCJJIGNhbid0IGFsbG9jYXRlIGFuIGFycmF5IG9mIG5lZ2F0aXZlIGxlbmd0aC4gVGhhdCBkb2Vzbid0IGV2ZW4gbWFrZSBzZW5zZS4gSSdsbCBqdXN0IGFsbG9jYXRlIGFuIGFycmF5IG9mIGxlbmd0aCAxIGluc3RlYWQuXCIpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGxlbiA9IDE7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICBoZWFwVHlwZSA9IFR5cGVzLkFycmF5Lmluc3RhbmNlKHRoaXMuaGVhcFR5cGUuZWxlbVR5cGUsIGxlbik7XHJcbi8vICAgICAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgICAgIHZhciBvYmogPSBEeW5hbWljT2JqZWN0Lmluc3RhbmNlKGhlYXBUeXBlKTtcclxuXHJcbi8vICAgICAgICAgICAgIHNpbS5tZW1vcnkuaGVhcC5hbGxvY2F0ZU5ld09iamVjdChvYmopO1xyXG4vLyAgICAgICAgICAgICBzaW0uaV9wZW5kaW5nTmV3cy5wdXNoKG9iaik7XHJcbi8vICAgICAgICAgICAgIGluc3QuaV9hbGxvY2F0ZWRPYmplY3QgPSBvYmo7XHJcbi8vICAgICAgICAgICAgIGluc3QuaW5pdGlhbGl6ZXIuc2V0QWxsb2NhdGVkT2JqZWN0KG9iaik7XHJcbi8vICAgICAgICAgICAgIGluc3QuaW5kZXggPSBcImluaXRcIjsgLy8gQWx3YXlzIHVzZSBhbiBpbml0aWFsaXplci4gSWYgdGhlcmUgaXNuJ3Qgb25lLCB0aGVuIGl0IHdpbGwganVzdCBiZSBkZWZhdWx0XHJcbi8vICAgICAgICAgICAgIC8vaWYgKHRoaXMuaW5pdGlhbGl6ZXIpe1xyXG4vLyAgICAgICAgICAgICAvLyAgICBpbnN0LmluZGV4ID0gXCJpbml0XCI7XHJcbi8vICAgICAgICAgICAgIC8vfVxyXG4vLyAgICAgICAgICAgICAvL2Vsc2V7XHJcbi8vICAgICAgICAgICAgIC8vICAgIGluc3QuaW5kZXggPSBcIm9wZXJhdGVcIjtcclxuLy8gICAgICAgICAgICAgLy99XHJcbi8vICAgICAgICAgICAgIC8vcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2UgaWYgKGluc3QuaW5kZXggPT09IFwib3BlcmF0ZVwiKSB7XHJcbi8vICAgICAgICAgICAgIGlmIChpc0EodGhpcy5oZWFwVHlwZSwgVHlwZXMuQXJyYXkpKXtcclxuLy8gICAgICAgICAgICAgICAgIC8vIFJUVEkgZm9yIGFycmF5IHBvaW50ZXJcclxuLy8gICAgICAgICAgICAgICAgIGluc3Quc2V0RXZhbFJlc3VsdChWYWx1ZS5pbnN0YW5jZShpbnN0LmlfYWxsb2NhdGVkT2JqZWN0LmFkZHJlc3MsIFR5cGVzLkFycmF5UG9pbnRlci5pbnN0YW5jZShpbnN0LmlfYWxsb2NhdGVkT2JqZWN0KSkpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgICAgICAvLyBSVFRJIGZvciBvYmplY3QgcG9pbnRlclxyXG4vLyAgICAgICAgICAgICAgICAgaW5zdC5zZXRFdmFsUmVzdWx0KFZhbHVlLmluc3RhbmNlKGluc3QuaV9hbGxvY2F0ZWRPYmplY3QuYWRkcmVzcywgVHlwZXMuT2JqZWN0UG9pbnRlci5pbnN0YW5jZShpbnN0LmlfYWxsb2NhdGVkT2JqZWN0KSkpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIHNpbS5pX3BlbmRpbmdOZXdzLnBvcCgpO1xyXG4vLyAgICAgICAgICAgICB0aGlzLmRvbmUoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgfSxcclxuLy8gICAgIGV4cGxhaW4gOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuLy8gICAgICAgICBpZiAodGhpcy5pbml0aWFsaXplcil7XHJcbi8vICAgICAgICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJBIG5ldyBvYmplY3Qgb2YgdHlwZSBcIiArIHRoaXMuaGVhcFR5cGUuZGVzY3JpYmUoKS5uYW1lICsgXCIgd2lsbCBiZSBjcmVhdGVkIG9uIHRoZSBoZWFwLiBcIiArIHRoaXMuaW5pdGlhbGl6ZXIuZXhwbGFpbihzaW0sIGluc3QuaW5pdGlhbGl6ZXIpLm1lc3NhZ2V9O1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwiQSBuZXcgb2JqZWN0IG9mIHR5cGUgXCIgKyB0aGlzLmhlYXBUeXBlLmRlc2NyaWJlKCkubmFtZSArIFwiIHdpbGwgYmUgY3JlYXRlZCBvbiB0aGUgaGVhcC5cIn07XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcblxyXG5cclxuXHJcbi8vIGV4cG9ydCB2YXIgRGVsZXRlICA9IEV4cHJlc3Npb24uZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lOiBcIkRlbGV0ZVwiLFxyXG4vLyAgICAgdmFsdWVDYXRlZ29yeTogXCJwcnZhbHVlXCIsXHJcbi8vICAgICB0eXBlOiBUeXBlcy5Wb2lkLmluc3RhbmNlKCksXHJcbi8vICAgICBpX2NoaWxkcmVuVG9DcmVhdGUgOiBbXCJvcGVyYW5kXCJdLFxyXG4vLyAgICAgaV9jaGlsZHJlblRvQ29udmVydCA6IHtcclxuLy8gICAgICAgICBcIm9wZXJhbmRcIiA6IFR5cGVzLlBvaW50ZXIuaW5zdGFuY2UoKVxyXG4vLyAgICAgfSxcclxuLy8gICAgIGlfY2hpbGRyZW5Ub0V4ZWN1dGUgOiBbXCJvcGVyYW5kXCJdLFxyXG5cclxuLy8gICAgIHR5cGVDaGVjayA6IGZ1bmN0aW9uKCl7XHJcblxyXG4vLyAgICAgICAgIGlmIChpc0EodGhpcy5vcGVyYW5kLnR5cGUucHRyVG8sIFR5cGVzLkNsYXNzKSl7XHJcbi8vICAgICAgICAgICAgIHZhciBjbGFzc1R5cGUgPSB0aGlzLm9wZXJhbmQudHlwZS5wdHJUbztcclxuLy8gICAgICAgICAgICAgdmFyIGRlc3QgPSBjbGFzc1R5cGUuZGVzdHJ1Y3RvcjtcclxuLy8gICAgICAgICAgICAgLy9UT0RPIG5vdCBmb3VuZCBhbmQgYW1iaWd1b3VzXHJcbi8vICAgICAgICAgICAgIGlmIChpc0EoZGVzdCwgRnVuY3Rpb25FbnRpdHkpKXtcclxuLy8gICAgICAgICAgICAgICAgIC8vdGhpcy5hc3NuT3AgPSBhc3NuT3A7XHJcbi8vICAgICAgICAgICAgICAgICAvL3RoaXMudHlwZSA9IG5vUmVmKGFzc25PcC50eXBlLnJldHVyblR5cGUpO1xyXG4vLyAgICAgICAgICAgICAgICAgLy8gQXR0ZW1wdCBzdGFuZGFyZCBjb252ZXJzaW9uIG9mIHJocyB0byBtYXRjaCBsaHMsIHdpdGhvdXQgbHZhbHVlIHRvIHJ2YWx1ZVxyXG4vLyAgICAgICAgICAgICAgICAgLy90aGlzLnJocyA9IHRoaXMuc3ViLnJocyA9IHN0YW5kYXJkQ29udmVyc2lvbih0aGlzLnJocywgdGhpcy5saHMudHlwZSwge3N1cHByZXNzTFRSOnRydWV9KTtcclxuXHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmZ1bmNDYWxsID0gdGhpcy5mdW5jQ2FsbCA9IEZ1bmN0aW9uQ2FsbC5pbnN0YW5jZSh7YXJnczogW119LCB7cGFyZW50OnRoaXN9KTtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuZnVuY0NhbGwuY29tcGlsZSh7ZnVuYzogZGVzdH0pO1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy50eXBlID0gdGhpcy5mdW5jQ2FsbC50eXBlO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5kZWxldGUubm9fZGVzdHJ1Y3Rvcih0aGlzLCBjbGFzc1R5cGUpKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgLy8gVHlwZSBjaGVja1xyXG4vLyAgICAgICAgIGlmICghaXNBKHRoaXMub3BlcmFuZC50eXBlLCBUeXBlcy5Qb2ludGVyKSkge1xyXG4vLyAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5kZWxldGUucG9pbnRlcih0aGlzLCB0aGlzLm9wZXJhbmQudHlwZSkpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNlIGlmICghdGhpcy5vcGVyYW5kLnR5cGUucHRyVG8uaXNPYmplY3RUeXBlKXtcclxuLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIuZGVsZXRlLnBvaW50ZXJUb09iamVjdFR5cGUodGhpcywgdGhpcy5vcGVyYW5kLnR5cGUpKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG4vLyAgICAgc3RlcEZvcndhcmQgOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuXHJcbi8vICAgICAgICAgaWYgKCFpbnN0LmFscmVhZHlEZXN0cnVjdGVkKXtcclxuLy8gICAgICAgICAgICAgdmFyIHB0ciA9IGluc3QuY2hpbGRJbnN0YW5jZXMub3BlcmFuZC5ldmFsUmVzdWx0O1xyXG4vLyAgICAgICAgICAgICBpZiAoVHlwZXMuUG9pbnRlci5pc051bGwocHRyLnJhd1ZhbHVlKCkpKXtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuZG9uZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgICAgICAvLyBJZiBpdCdzIGFuIGFycmF5IHBvaW50ZXIsIGp1c3QgZ3JhYiBhcnJheSBvYmplY3QgdG8gZGVsZXRlIGZyb20gUlRUSS5cclxuLy8gICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIGFzayBtZW1vcnkgd2hhdCBvYmplY3QgaXQncyBwb2ludGluZyB0by5cclxuLy8gICAgICAgICAgICAgdmFyIG9iajtcclxuLy8gICAgICAgICAgICAgaWYgKGlzQShwdHIudHlwZSwgVHlwZXMuQXJyYXlQb2ludGVyKSl7XHJcbi8vICAgICAgICAgICAgICAgICBvYmogPSBwdHIudHlwZS5hcnJPYmo7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgICAgIG9iaiA9IHNpbS5tZW1vcnkuZGVyZWZlcmVuY2UocHRyKTtcclxuLy8gICAgICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAgICAgaWYgKCFpc0Eob2JqLCBEeW5hbWljT2JqZWN0KSkge1xyXG4vLyAgICAgICAgICAgICAgICAgaWYgKGlzQShvYmosIEF1dG9PYmplY3QpKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgc2ltLnVuZGVmaW5lZEJlaGF2aW9yKFwiT2ggbm8hIFRoZSBwb2ludGVyIHlvdSBnYXZlIHRvIDxzcGFuIGNsYXNzPSdjb2RlJz5kZWxldGU8L3NwYW4+IHdhcyBwb2ludGluZyB0byBzb21ldGhpbmcgb24gdGhlIHN0YWNrIVwiKTtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHNpbS51bmRlZmluZWRCZWhhdmlvcihcIk9oIG5vISBUaGUgcG9pbnRlciB5b3UgZ2F2ZSB0byA8c3BhbiBjbGFzcz0nY29kZSc+ZGVsZXRlPC9zcGFuPiB3YXNuJ3QgcG9pbnRpbmcgdG8gYSB2YWxpZCBoZWFwIG9iamVjdC5cIik7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmRvbmUoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAgICAgaWYgKGlzQShvYmoudHlwZSwgVHlwZXMuQXJyYXkpKXtcclxuLy8gICAgICAgICAgICAgICAgIHNpbS51bmRlZmluZWRCZWhhdmlvcihcIllvdSB0cmllZCB0byBkZWxldGUgYW4gYXJyYXkgb2JqZWN0IHdpdGggYSA8c3BhbiBjbGFzcz0nY29kZSc+ZGVsZXRlPC9zcGFuPiBleHByZXNzaW9uLiBEaWQgeW91IGZvcmdldCB0byB1c2UgdGhlIGRlbGV0ZVtdIHN5bnRheD9cIik7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmRvbmUoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAgICAgLy9pZiAoIXNpbWlsYXJUeXBlKG9iai50eXBlLCB0aGlzLm9wZXJhbmQudHlwZS5wdHJUbykpIHtcclxuLy8gICAgICAgICAgICAgLy8gICAgc2ltLmFsZXJ0KFwiVGhlIHR5cGUgb2YgdGhlIHBvaW50ZXIgeW91IGdhdmUgdG8gPHNwYW4gY2xhc3M9J2NvZGUnPmRlbGV0ZTwvc3Bhbj4gaXMgZGlmZmVyZW50IHRoYW4gdGhlIHR5cGUgb2YgdGhlIG9iamVjdCBJIGZvdW5kIG9uIHRoZSBoZWFwIC0gdGhhdCdzIGEgYmFkIHRoaW5nIVwiKTtcclxuLy8gICAgICAgICAgICAgLy8gICAgdGhpcy5kb25lKHNpbSwgaW5zdCk7XHJcbi8vICAgICAgICAgICAgIC8vICAgIHJldHVybjtcclxuLy8gICAgICAgICAgICAgLy99XHJcblxyXG4vLyAgICAgICAgICAgICBpZiAoIW9iai5pc0FsaXZlKCkpIHtcclxuLy8gICAgICAgICAgICAgICAgIERlYWRPYmplY3RNZXNzYWdlLmluc3RhbmNlKG9iaiwge2Zyb21EZWxldGU6dHJ1ZX0pLmRpc3BsYXkoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuZG9uZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgICAgICBpbnN0LmFscmVhZHlEZXN0cnVjdGVkID0gdHJ1ZTtcclxuLy8gICAgICAgICAgICAgaWYodGhpcy5mdW5jQ2FsbCl7XHJcbi8vICAgICAgICAgICAgICAgICAvLyBTZXQgb2JqIGFzIHJlY2VpdmVyIGZvciB2aXJ0dWFsIGRlc3RydWN0b3IgbG9va3VwXHJcbi8vICAgICAgICAgICAgICAgICB2YXIgZGVzdCA9IHRoaXMuZnVuY0NhbGwuY3JlYXRlQW5kUHVzaEluc3RhbmNlKHNpbSwgaW5zdCwgb2JqKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgdmFyIGRlbGV0ZWQgPSBzaW0ubWVtb3J5LmhlYXAuZGVsZXRlT2JqZWN0KGluc3QuY2hpbGRJbnN0YW5jZXMub3BlcmFuZC5ldmFsUmVzdWx0LnZhbHVlLCBpbnN0KTtcclxuLy8gICAgICAgICAgICAgdGhpcy5kb25lKHNpbSwgaW5zdCk7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgaXNUYWlsQ2hpbGQgOiBmdW5jdGlvbihjaGlsZCl7XHJcbi8vICAgICAgICAgcmV0dXJuIHtpc1RhaWw6IGZhbHNlLFxyXG4vLyAgICAgICAgICAgICByZWFzb246IFwiVGhlIGRlbGV0ZSBvcGVyYXRpb24gd2lsbCBoYXBwZW4gYWZ0ZXIgdGhlIHJlY3Vyc2l2ZSBjYWxsIHJldHVybnMuXCIsXHJcbi8vICAgICAgICAgICAgIG90aGVyczogW3RoaXNdXHJcbi8vICAgICAgICAgfTtcclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG4vLyAvL1RPRE86IG1vdmUgdG8gcnVudGltZUVudmlyb25tZW50IG9yIG1lbW9yeSBqcyBtb2R1bGVzP1xyXG4vLyAvKipcclxuLy8gICpcclxuLy8gICogQHBhcmFtIHNpbVxyXG4vLyAgKiBAcGFyYW0gaW5zdFxyXG4vLyAgKiBAcGFyYW0ge1ZhbHVlIHwgQ1BQT2JqZWN0fSBwdHJcclxuLy8gICogQHJldHVybnMge0NQUE9iamVjdD99XHJcbi8vICAqL1xyXG4vLyB2YXIgZGVsZXRlSGVhcEFycmF5ID0gZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCwgcHRyKSB7XHJcbi8vICAgICBpZihUeXBlcy5Qb2ludGVyLmlzTnVsbChwdHIucmF3VmFsdWUoKSkpe1xyXG4vLyAgICAgICAgIHJldHVybjtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICAvLyBJZiBpdCdzIGFuIGFycmF5IHBvaW50ZXIsIGp1c3QgZ3JhYiBhcnJheSBvYmplY3QgdG8gZGVsZXRlIGZyb20gUlRUSS5cclxuLy8gICAgIC8vIE90aGVyd2lzZSBhc2sgbWVtb3J5IHdoYXQgb2JqZWN0IGl0J3MgcG9pbnRpbmcgdG8uXHJcbi8vICAgICB2YXIgb2JqO1xyXG4vLyAgICAgaWYgKGlzQShwdHIudHlwZSwgVHlwZXMuQXJyYXlQb2ludGVyKSl7XHJcbi8vICAgICAgICAgb2JqID0gcHRyLnR5cGUuYXJyT2JqO1xyXG4vLyAgICAgICAgIC8vIGlmIHRoZSBhZGRyZXNzIGlzIG5vdCB0aGUgc2FtZSwgaXQgbWVhbnMgd2UncmUgZGVsZXRpbmcgdGhyb3VnaCBhbiBhcnJheSBwb2ludGVyLFxyXG4vLyAgICAgICAgIC8vIGJ1dCBub3Qgb25lIHRoYXQgaXMgcG9pbnRpbmcgdG8gdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXkuIHRoaXMgY2F1c2VzIHVuZGVmaW5lZCBiZWhhdmlvclxyXG4vLyAgICAgICAgIGlmIChwdHIucmF3VmFsdWUoKSAhPT0gb2JqLmFkZHJlc3MpIHtcclxuLy8gICAgICAgICAgICAgc2ltLnVuZGVmaW5lZEJlaGF2aW9yKFwiSXQgbG9va3MgbGlrZSB5b3UgdXNlZCA8c3BhbiBjbGFzcz0nY29kZSc+ZGVsZXRlW108L3NwYW4+IG9uIGEgcG9pbnRlciB0byBhbiBhcnJheSwgYnV0IGl0IHdhc24ndCBwb2ludGluZyBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheSBhcyBpcyByZXF1aXJlZCBmb3IgPHNwYW4gY2xhc3M9J2NvZGUnPmRlbGV0ZVtdPC9zcGFuPi4gVGhpcyBjYXVzZXMgdW5kZWZpbmVkIGJlaGF2aW9yIVwiKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcbi8vICAgICBlbHNle1xyXG4vLyAgICAgICAgIG9iaiA9IHNpbS5tZW1vcnkuZGVyZWZlcmVuY2UocHRyKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICAvLyBDaGVjayB0byBtYWtlIHN1cmUgd2UncmUgZGVsZXRpbmcgYSB2YWxpZCBoZWFwIG9iamVjdC5cclxuLy8gICAgIGlmICghaXNBKG9iaiwgRHluYW1pY09iamVjdCkpIHtcclxuLy8gICAgICAgICBpZiAoaXNBKG9iaiwgQXV0b09iamVjdCkpIHtcclxuLy8gICAgICAgICAgICAgc2ltLnVuZGVmaW5lZEJlaGF2aW9yKFwiT2ggbm8hIFRoZSBwb2ludGVyIHlvdSBnYXZlIHRvIDxzcGFuIGNsYXNzPSdjb2RlJz5kZWxldGVbXTwvc3Bhbj4gd2FzIHBvaW50aW5nIHRvIHNvbWV0aGluZyBvbiB0aGUgc3RhY2shXCIpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNlIHtcclxuLy8gICAgICAgICAgICAgc2ltLnVuZGVmaW5lZEJlaGF2aW9yKFwiT2ggbm8hIFRoZSBwb2ludGVyIHlvdSBnYXZlIHRvIDxzcGFuIGNsYXNzPSdjb2RlJz5kZWxldGVbXTwvc3Bhbj4gd2Fzbid0IHBvaW50aW5nIHRvIGEgdmFsaWQgaGVhcCBvYmplY3QuXCIpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICByZXR1cm47XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgaWYgKCFpc0Eob2JqLnR5cGUsIFR5cGVzLkFycmF5KSkge1xyXG4vLyAgICAgICAgIHNpbS51bmRlZmluZWRCZWhhdmlvcihcIllvdSB0cmllZCB0byBkZWxldGUgYSBub24tYXJyYXkgb2JqZWN0IHdpdGggYSA8c3BhbiBjbGFzcz0nY29kZSc+ZGVsZXRlW108L3NwYW4+IGV4cHJlc3Npb24uIE9vcHMhXCIpO1xyXG4vLyAgICAgICAgIHJldHVybjtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICAvL2lmICghc2ltaWxhclR5cGUob2JqLnR5cGUuZWxlbVR5cGUsIHRoaXMub3BlcmFuZC50eXBlLnB0clRvKSkge1xyXG4vLyAgICAgLy8gICAgc2ltLmFsZXJ0KFwiVGhlIHR5cGUgb2YgdGhlIHBvaW50ZXIgeW91IGdhdmUgdG8gPHNwYW4gY2xhc3M9J2NvZGUnPmRlbGV0ZTwvc3Bhbj4gaXMgZGlmZmVyZW50IHRoYW4gdGhlIGVsZW1lbnQgdHlwZSBvZiB0aGUgYXJyYXkgb2JqZWN0IEkgZm91bmQgb24gdGhlIGhlYXAgLSB0aGF0J3MgYSBiYWQgdGhpbmchXCIpO1xyXG4vLyAgICAgLy8gICAgdGhpcy5kb25lKHNpbSwgaW5zdCk7XHJcbi8vICAgICAvLyAgICByZXR1cm47XHJcbi8vICAgICAvL31cclxuXHJcbi8vICAgICBpZiAoIW9iai5pc0FsaXZlKCkpIHtcclxuLy8gICAgICAgICBEZWFkT2JqZWN0TWVzc2FnZS5pbnN0YW5jZShvYmosIHtmcm9tRGVsZXRlOnRydWV9KS5kaXNwbGF5KHNpbSwgaW5zdCk7XHJcbi8vICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHJldHVybiBzaW0ubWVtb3J5LmhlYXAuZGVsZXRlT2JqZWN0KHB0ci5yYXdWYWx1ZSgpLCBpbnN0KTtcclxuLy8gfTtcclxuXHJcbi8vIC8vIFRPRE86IGxpc2tvdiBzdWdnZXN0cyB0aGlzIHNob3VsZG4ndCBiZSBhIHN1YnR5cGUuIFVzZSBoYXMtYSBpbnN0ZWFkP1xyXG4vLyBleHBvcnQgdmFyIERlbGV0ZUFycmF5ID0gRGVsZXRlLmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZTogXCJEZWxldGVBcnJheVwiLFxyXG5cclxuLy8gICAgIHN0ZXBGb3J3YXJkOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuLy8gICAgICAgICB2YXIgcHRyID0gaW5zdC5jaGlsZEluc3RhbmNlcy5vcGVyYW5kLmV2YWxSZXN1bHQ7XHJcbi8vICAgICAgICAgZGVsZXRlSGVhcEFycmF5KHNpbSwgaW5zdCwgcHRyKTtcclxuLy8gICAgICAgICB0aGlzLmRvbmUoc2ltLCBpbnN0KTtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgaXNUYWlsQ2hpbGQgOiBmdW5jdGlvbihjaGlsZCl7XHJcbi8vICAgICAgICAgcmV0dXJuIHtpc1RhaWw6IGZhbHNlLFxyXG4vLyAgICAgICAgICAgICByZWFzb246IFwiVGhlIGRlbGV0ZVtdIG9wZXJhdGlvbiB3aWxsIGhhcHBlbiBhZnRlciB0aGUgcmVjdXJzaXZlIGNhbGwgcmV0dXJucy5cIixcclxuLy8gICAgICAgICAgICAgb3RoZXJzOiBbdGhpc11cclxuLy8gICAgICAgICB9O1xyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbnN0cnVjdEV4cHJlc3Npb25BU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJjb25zdHJ1Y3RfZXhwcmVzc2lvblwiO1xyXG59XHJcblxyXG4vLyAvLyBUT0RPOiBUaGlzIGFwcGVhcnMgdG8gd29yayBidXQgSSdtIHByZXR0eSBzdXJlIEkgY29weS9wYXN0ZWQgZnJvbSBOZXdFeHByZXNzaW9uIGFuZCBuZXZlciBmaW5pc2hlZCBjaGFuZ2luZyBpdC5cclxuLy8gZXhwb3J0IHZhciBDb25zdHJ1Y3RFeHByZXNzaW9uID0gRXhwcmVzc2lvbi5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiQ29uc3RydWN0RXhwcmVzc2lvblwiLFxyXG4vLyAgICAgdmFsdWVDYXRlZ29yeTogXCJwcnZhbHVlXCIsXHJcbi8vICAgICBpbml0SW5kZXg6IFwiaW5pdFwiLFxyXG4vLyAgICAgY29tcGlsZSA6IGZ1bmN0aW9uKCl7XHJcblxyXG4vLyAgICAgICAgIC8vIENvbXBpbGUgdGhlIHR5cGUgc3BlY2lmaWVyXHJcbi8vICAgICAgICAgdGhpcy50eXBlU3BlYyA9IFR5cGVTcGVjaWZpZXIuaW5zdGFuY2UoW3RoaXMuYXN0LnR5cGVdLCB7cGFyZW50OnRoaXN9KTtcclxuLy8gICAgICAgICB0aGlzLnR5cGVTcGVjLmNvbXBpbGUoKTtcclxuXHJcbi8vICAgICAgICAgdGhpcy50eXBlID0gdGhpcy50eXBlU3BlYy50eXBlO1xyXG5cclxuLy8gICAgICAgICAvLyBDb21waWxlIGRlY2xhcmF0b3IgaWYgaXQgZXhpc3RzXHJcbi8vICAgICAgICAgaWYodGhpcy5hc3QuZGVjbGFyYXRvcikge1xyXG4vLyAgICAgICAgICAgICB0aGlzLmRlY2xhcmF0b3IgPSBEZWNsYXJhdG9yLmluc3RhbmNlKHRoaXMuYXN0LmRlY2xhcmF0b3IsIHtwYXJlbnQ6IHRoaXN9KTtcclxuLy8gICAgICAgICAgICAgdGhpcy5kZWNsYXJhdG9yLmNvbXBpbGUoe2Jhc2VUeXBlOiB0aGlzLmhlYXBUeXBlfSk7XHJcbi8vICAgICAgICAgICAgIHRoaXMuaGVhcFR5cGUgPSB0aGlzLmRlY2xhcmF0b3IudHlwZTtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIHRoaXMuZW50aXR5ID0gdGhpcy5jcmVhdGVUZW1wb3JhcnlPYmplY3QodGhpcy50eXBlLCBcIlt0ZW1wIFwiICsgdGhpcy50eXBlICsgXCJdXCIpO1xyXG5cclxuLy8gICAgICAgICBpZiAoaXNBKHRoaXMudHlwZSwgVHlwZXMuQ2xhc3MpIHx8IHRoaXMuYXN0LmFyZ3MubGVuZ3RoID09IDEpe1xyXG4vLyAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVyID0gRGlyZWN0SW5pdGlhbGl6ZXIuaW5zdGFuY2UodGhpcy5hc3QsIHtwYXJlbnQ6IHRoaXN9KTtcclxuLy8gICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplci5jb21waWxlKHRoaXMuZW50aXR5KTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmluaXQuc2NhbGFyX2FyZ3ModGhpcywgdGhpcy50eXBlKSk7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICB0aGlzLmNvbXBpbGVUZW1wb3JhcmlyZXMoKTtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgY3JlYXRlSW5zdGFuY2UgOiBmdW5jdGlvbihzaW0sIHBhcmVudCl7XHJcbi8vICAgICAgICAgdmFyIGluc3QgPSBFeHByZXNzaW9uLmNyZWF0ZUluc3RhbmNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbi8vICAgICAgICAgaW5zdC50ZW1wT2JqZWN0ID0gdGhpcy5lbnRpdHkub2JqZWN0SW5zdGFuY2UoaW5zdCk7XHJcbi8vICAgICAgICAgcmV0dXJuIGluc3Q7XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIHVwTmV4dCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIGlmIChpbnN0LmluZGV4ID09PSBcImluaXRcIil7XHJcbi8vICAgICAgICAgICAgIHZhciBpbml0SW5zdCA9IHRoaXMuaW5pdGlhbGl6ZXIuY3JlYXRlQW5kUHVzaEluc3RhbmNlKHNpbSwgaW5zdCk7XHJcbi8vICAgICAgICAgICAgIGluc3QuaW5kZXggPSBcImRvbmVcIjtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgIGlmIChpc0EodGhpcy50eXBlLCBUeXBlcy5jbGFzcykpe1xyXG4vLyAgICAgICAgICAgICAgICAgaW5zdC5zZXRFdmFsUmVzdWx0KGluc3QudGVtcE9iamVjdCk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgICAgIGluc3Quc2V0RXZhbFJlc3VsdChpbnN0LnRlbXBPYmplY3QucmVhZFZhbHVlKCkpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIHRoaXMuZG9uZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuXHJcblxyXG4vLyB9KTtcclxuXHJcblxyXG5cclxuLy8gZnVuY3Rpb24gaWRlbnRpZmllclRvVGV4dCh1bnF1YWxpZmllZElkOiBzdHJpbmcpIDogc3RyaW5nO1xyXG4vLyBmdW5jdGlvbiBpZGVudGlmaWVyVG9UZXh0KHF1YWxJZDogcmVhZG9ubHkge2lkZW50aWZpZXI6IHN0cmluZ31bXSkgOiBzdHJpbmc7XHJcbi8vICAgICBmdW5jdGlvbiBpZGVudGlmaWVyVG9UZXh0KHF1YWxJZDogc3RyaW5nIHwgcmVhZG9ubHkge2lkZW50aWZpZXI6IHN0cmluZ31bXSkgOiBzdHJpbmcge1xyXG4vLyAgICAgaWYgKHR5cGVvZiBxdWFsSWQgPT09IFwic3RyaW5nXCIpIHtcclxuLy8gICAgICAgICByZXR1cm4gcXVhbElkOyAvLyBJZiBpdCdzIGFuIHVucXVhbGlmaWVkIGlkXHJcbi8vICAgICB9XHJcbi8vICAgICBlbHNlIHtcclxuLy8gICAgICAgICByZXR1cm4gcXVhbElkLnJlZHVjZShmdW5jdGlvbihzdHIsaWQsaSl7XHJcbi8vICAgICAgICAgICAgIHJldHVybiBzdHIgKyAoaSA+IDAgPyBcIjo6XCIgOiBcIlwiKSArIGlkLmlkZW50aWZpZXI7XHJcbi8vICAgICAgICAgfSxcIlwiKTtcclxuLy8gICAgIH1cclxuLy8gfTtcclxuXHJcbi8vIGZ1bmN0aW9uIHF1YWxpZmllZE5hbWVTdHJpbmcobmFtZXMpIHtcclxuLy8gICAgIGlmICghQXJyYXkuaXNBcnJheShuYW1lcykpe1xyXG4vLyAgICAgICAgIHJldHVybiBuYW1lcztcclxuLy8gICAgIH1cclxuLy8gICAgIHJldHVybiBuYW1lcy5tYXAoZnVuY3Rpb24oaWQpe3JldHVybiBpZC5pZGVudGlmaWVyfSkuam9pbihcIjo6XCIpXHJcbi8vIH1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSWRlbnRpZmllckV4cHJlc3Npb25BU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJpZGVudGlmaWVyX2V4cHJlc3Npb25cIjtcclxuICAgIHJlYWRvbmx5IGlkZW50aWZpZXI6IHN0cmluZztcclxufVxyXG5cclxuLy8gVE9ETzogbWF5YmUgSWRlbnRpZmllciBzaG91bGQgYmUgYSBub24tZXhlY3V0YWJsZSBjb25zdHJ1Y3QgYW5kIHRoZW4gaGF2ZSBhIFxyXG4vLyBUT0RPOiBtYWtlIHNlcGFyYXRlIGNsYXNzZXMgZm9yIHF1YWxpZmllZCBhbmQgdW5xdWFsaWZpZWQgSURzP1xyXG5leHBvcnQgY2xhc3MgSWRlbnRpZmllckV4cHJlc3Npb24gZXh0ZW5kcyBFeHByZXNzaW9uIHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZT86IE9iamVjdFR5cGUgfCBGdW5jdGlvblR5cGU7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmFsdWVDYXRlZ29yeSA9IFwibHZhbHVlXCI7XHJcbiAgICBcclxuICAgIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmc7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGVudGl0eT86IE9iamVjdEVudGl0eSB8IEZ1bmN0aW9uRW50aXR5OyAvLyBUT0RPOiBzaG91bGQgdGhpcyBiZSBOYW1lZEVudGl0eT8gRG9lcyBpdCBtYWtlIGEgZGlmZmVyZW5jZT9cclxuXHJcbiAgICBwdWJsaWMgX3RfY29tcGlsZWQhOiBDb21waWxlZE9iamVjdElkZW50aWZpZXIgfCBDb21waWxlZEZ1bmN0aW9uSWRlbnRpZmllcjtcclxuXHJcbiAgICAvLyBpX2NyZWF0ZUZyb21BU1Q6IGZ1bmN0aW9uKGFzdCwgY29udGV4dCl7XHJcblxyXG4gICAgLy8gICAgIElkZW50aWZpZXIuX3BhcmVudC5pX2NyZWF0ZUZyb21BU1QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgIC8vICAgICB0aGlzLmlkZW50aWZpZXIgPSB0aGlzLmFzdC5pZGVudGlmaWVyO1xyXG4gICAgLy8gICAgIHRoaXMuaWRlbnRpZmllclRleHQgPSBxdWFsaWZpZWROYW1lU3RyaW5nKHRoaXMuaWRlbnRpZmllcik7XHJcbiAgICAvLyB9LFxyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCwgbmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIoY29udGV4dCk7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICBjaGVja0lkZW50aWZpZXIodGhpcywgbmFtZSwgdGhpcyk7XHJcblxyXG4gICAgICAgIGxldCBsb29rdXBSZXN1bHQgPSB0aGlzLmNvbnRleHQuY29udGV4dHVhbFNjb3BlLmxvb2t1cCh0aGlzLm5hbWUpO1xyXG5cclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShsb29rdXBSZXN1bHQpKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAobG9va3VwUmVzdWx0Lmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgLy8gT25seSBvbmUgZnVuY3Rpb24gd2l0aCB0aGF0IG5hbWUgZm91bmQsIHNvIHdlIGp1c3QgZ3JhYiBpdC5cclxuICAgICAgICAgICAgICAgIC8vIEFueSBlcnJvcnMgd2lsbCBiZSBkZXRlY3RlZCBsYXRlciBlLmcuIHdoZW4gYSBmdW5jdGlvbiBjYWxsIGlzIGF0dGVtcHRlZC5cclxuICAgICAgICAgICAgICAgIHRoaXMuZW50aXR5ID0gbG9va3VwUmVzdWx0WzBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gTmVlZCB0byBwZXJmb3JtIG92ZXJsb2FkIHJlc29sdXRpb24gdG8gc2VsZWN0IHRoZSBhcHByb3ByaWF0ZSBmdW5jdGlvblxyXG4gICAgICAgICAgICAgICAgLy8gZnJvbSB0aGUgZnVuY3Rpb24gb3ZlcmxvYWQgZ3JvdXAuIFRoaXMgZGVwZW5kcyBvbiBjb250ZXh0dWFsIHBhcmFtZXRlciB0eXBlcy5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbnRleHQuY29udGV4dHVhbFBhcmFtZXRlclR5cGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG92ZXJsb2FkUmVzdWx0ID0gb3ZlcmxvYWRSZXNvbHV0aW9uKGxvb2t1cFJlc3VsdCwgdGhpcy5jb250ZXh0LmNvbnRleHR1YWxQYXJhbWV0ZXJUeXBlcywgdGhpcy5jb250ZXh0LmNvbnRleHR1YWxSZWNlaXZlclR5cGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3ZlcmxvYWRSZXN1bHQuc2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgYSBiZXN0IHJlc3VsdCBoYXMgYmVlbiBzZWxlY3RlZCwgdXNlIHRoYXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnRpdHkgPSBvdmVybG9hZFJlc3VsdC5zZWxlY3RlZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgdXNlIHRoZSBiZXN0IGNhbmRpZGF0ZSAoaXQgaXMgc29ydGVkIHRvIHRoZSBmcm9udCBvZiB0aGUgY2FuZGlkYXRlcyBpbiB0aGUgcmVzdWx0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZXJyb3JzIHRoYXQgbWFkZSBpdCBub24tdmlhYmxlIHdpbGwgYmUgcGlja2VkIHVwIGxhdGVyIGUuZy4gd2hlbiBhIGZ1bmN0aW9uIGNhbGwgaXMgYXR0ZW1wdGVkLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGl0eSA9IG92ZXJsb2FkUmVzdWx0LmNhbmRpZGF0ZXNbMF0uY2FuZGlkYXRlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5pZGVuLmFtYmlndW91cyh0aGlzLCB0aGlzLm5hbWUpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5lbnRpdHkgPSBsb29rdXBSZXN1bHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnR5cGUgPSB0aGlzLmVudGl0eSAmJiB0aGlzLmVudGl0eS50eXBlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUZyb21BU1QoYXN0OiBJZGVudGlmaWVyRXhwcmVzc2lvbkFTVE5vZGUsIGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBJZGVudGlmaWVyRXhwcmVzc2lvbihjb250ZXh0LCBhc3QuaWRlbnRpZmllcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPFQgZXh0ZW5kcyBPYmplY3RUeXBlPih0aGlzOiBDb21waWxlZE9iamVjdElkZW50aWZpZXI8VD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lT2JqZWN0SWRlbnRpZmllcjxUPjtcclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbjxUIGV4dGVuZHMgRnVuY3Rpb25UeXBlPih0aGlzOiBDb21waWxlZEZ1bmN0aW9uSWRlbnRpZmllciwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVGdW5jdGlvbklkZW50aWZpZXI7XHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUV4cHJlc3Npb248VCBleHRlbmRzIFR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5Pih0aGlzOiBDb21waWxlZEV4cHJlc3Npb248VCxWPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IG5ldmVyO1xyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uKHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgICAgIGlmICh0aGlzLmVudGl0eSBpbnN0YW5jZW9mIEZ1bmN0aW9uRW50aXR5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUnVudGltZUZ1bmN0aW9uSWRlbnRpZmllcig8YW55PnRoaXMsIHBhcmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFJ1bnRpbWVPYmplY3RJZGVudGlmaWVyKDxhbnk+dGhpcywgcGFyZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlc2NyaWJlRXZhbFJlc3VsdChkZXB0aDogbnVtYmVyKTogRGVzY3JpcHRpb24ge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGRlc2NyaWJlRXZhbFJlc3VsdCA6IGZ1bmN0aW9uKGRlcHRoLCBzaW0sIGluc3Qpe1xyXG4gICAgLy8gICAgIGlmIChpbnN0ICYmIGluc3QuZXZhbFJlc3VsdCl7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiBpbnN0LmV2YWxSZXN1bHQuZGVzY3JpYmUoKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgLy8gTm90ZSBkb24ndCBjYXJlIGFib3V0IGRlcHRoIHNpbmNlIHdlIGFsd2F5cyBqdXN0IHVzZSBpZGVudGlmaWVyXHJcbiAgICAvLyAgICAgZWxzZXtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIHRoaXMuZW50aXR5LmRlc2NyaWJlKHNpbSwgaW5zdCk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfSxcclxuXHJcbiAgICAvLyBleHBsYWluIDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgLy8gICAgIHJldHVybiB7bWVzc2FnZTogdGhpcy5lbnRpdHkubmFtZX07XHJcbiAgICAvLyB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRPYmplY3RJZGVudGlmaWVyPFQgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZT4gZXh0ZW5kcyBJZGVudGlmaWVyRXhwcmVzc2lvbiwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4gICAgcmVhZG9ubHkgdGVtcG9yYXJ5RGVhbGxvY2F0b3I/OiBDb21waWxlZFRlbXBvcmFyeURlYWxsb2NhdG9yOyAvLyB0byBtYXRjaCBDb21waWxlZFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uIHN0cnVjdHVyZVxyXG5cclxuICAgIHJlYWRvbmx5IHR5cGU6IFQ7XHJcbiAgICByZWFkb25seSB2YWx1ZUNhdGVnb3J5OiBcImx2YWx1ZVwiO1xyXG4gICAgcmVhZG9ubHkgZW50aXR5OiBPYmplY3RFbnRpdHk8VD47XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRGdW5jdGlvbklkZW50aWZpZXIgZXh0ZW5kcyBJZGVudGlmaWVyRXhwcmVzc2lvbiwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4gICAgcmVhZG9ubHkgdGVtcG9yYXJ5RGVhbGxvY2F0b3I/OiBDb21waWxlZFRlbXBvcmFyeURlYWxsb2NhdG9yOyAvLyB0byBtYXRjaCBDb21waWxlZFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uIHN0cnVjdHVyZVxyXG5cclxuICAgIHJlYWRvbmx5IHR5cGU6IEZ1bmN0aW9uVHlwZTtcclxuICAgIHJlYWRvbmx5IHZhbHVlQ2F0ZWdvcnk6IFwibHZhbHVlXCI7XHJcbiAgICByZWFkb25seSBlbnRpdHk6IEZ1bmN0aW9uRW50aXR5O1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFJ1bnRpbWVPYmplY3RJZGVudGlmaWVyPFQgZXh0ZW5kcyBPYmplY3RUeXBlPiBleHRlbmRzIFJ1bnRpbWVFeHByZXNzaW9uPFQsIFwibHZhbHVlXCIsIENvbXBpbGVkT2JqZWN0SWRlbnRpZmllcjxUPj4ge1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvciAobW9kZWw6IENvbXBpbGVkT2JqZWN0SWRlbnRpZmllcjxUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgc3VwZXIobW9kZWwsIHBhcmVudCk7XHJcbiAgICB9XHJcblxyXG5cdHByb3RlY3RlZCB1cE5leHRJbXBsKCkge1xyXG4gICAgICAgIHRoaXMuc2V0RXZhbFJlc3VsdCg8VkNSZXN1bHRUeXBlczxULCBcImx2YWx1ZVwiPj50aGlzLm1vZGVsLmVudGl0eS5ydW50aW1lTG9va3VwKHRoaXMpKTtcclxuICAgICAgICB0aGlzLnNpbS5wb3AoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgc3RlcEZvcndhcmRJbXBsKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIGRvIG5vdGhpbmdcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJ1bnRpbWVGdW5jdGlvbklkZW50aWZpZXIgZXh0ZW5kcyBSdW50aW1lRXhwcmVzc2lvbjxGdW5jdGlvblR5cGUsIFwibHZhbHVlXCIsIENvbXBpbGVkRnVuY3Rpb25JZGVudGlmaWVyPiB7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChtb2RlbDogQ29tcGlsZWRGdW5jdGlvbklkZW50aWZpZXIsIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgICAgIHN1cGVyKG1vZGVsLCBwYXJlbnQpO1xyXG4gICAgfVxyXG5cclxuXHRwcm90ZWN0ZWQgdXBOZXh0SW1wbCgpIHtcclxuICAgICAgICB0aGlzLnNldEV2YWxSZXN1bHQodGhpcy5tb2RlbC5lbnRpdHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBzdGVwRm9yd2FyZEltcGwoKTogdm9pZCB7XHJcbiAgICAgICAgLy8gZG8gbm90aGluZ1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRoaXNFeHByZXNzaW9uQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwidGhpc19leHByZXNzaW9uXCI7XHJcbn1cclxuXHJcbi8vIGV4cG9ydCB2YXIgVGhpc0V4cHJlc3Npb24gID0gRXhwcmVzc2lvbi5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiVGhpc0V4cHJlc3Npb25cIixcclxuLy8gICAgIHZhbHVlQ2F0ZWdvcnk6IFwicHJ2YWx1ZVwiLFxyXG4vLyAgICAgY29tcGlsZSA6IGZ1bmN0aW9uKCl7XHJcbi8vICAgICAgICAgdmFyIGZ1bmMgPSB0aGlzLmNvbnRhaW5pbmdGdW5jdGlvbigpO1xyXG4vLyAgICAgICAgIGlmIChmdW5jLmlzTWVtYmVyRnVuY3Rpb24pe1xyXG4vLyAgICAgICAgICAgICB0aGlzLnR5cGUgPSBUeXBlcy5Qb2ludGVyLmluc3RhbmNlKGZ1bmMucmVjZWl2ZXJUeXBlKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIudGhpc0V4cHIubWVtYmVyRnVuYyh0aGlzKSk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuLy8gICAgIHN0ZXBGb3J3YXJkIDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbi8vICAgICAgICAgLy8gU2V0IHRoaXMgcG9pbnRlciB3aXRoIFJUVEkgdG8gcG9pbnQgdG8gcmVjZWl2ZXJcclxuLy8gICAgICAgICBsZXQgcmVjZWl2ZXIgPSBpbnN0LmNvbnRhaW5pbmdSdW50aW1lRnVuY3Rpb24ucmVjZWl2ZXI7XHJcbi8vICAgICAgICAgaW5zdC5zZXRFdmFsUmVzdWx0KFZhbHVlLmluc3RhbmNlKHJlY2VpdmVyLmFkZHJlc3MsIFR5cGVzLk9iamVjdFBvaW50ZXIuaW5zdGFuY2UocmVjZWl2ZXIpKSk7XHJcbi8vICAgICAgICAgdGhpcy5kb25lKHNpbSwgaW5zdCk7XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuLy8gZXhwb3J0IHZhciBFbnRpdHlFeHByZXNzaW9uICA9IEV4cHJlc3Npb24uZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lOiBcIkVudGl0eUV4cHJlc3Npb25cIixcclxuLy8gICAgIHZhbHVlQ2F0ZWdvcnk6IFwibHZhbHVlXCIsXHJcbi8vICAgICBpbml0IDogZnVuY3Rpb24oZW50aXR5LCBhc3QsIGNvbnRleHQpe1xyXG4vLyAgICAgICAgIHRoaXMuaW5pdFBhcmVudChhc3QsIGNvbnRleHQpO1xyXG4vLyAgICAgICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xyXG4vLyAgICAgICAgIHRoaXMudHlwZSA9IHRoaXMuZW50aXR5LnR5cGU7XHJcbi8vICAgICB9LFxyXG4vLyAgICAgY29tcGlsZSA6IGZ1bmN0aW9uKCl7XHJcblxyXG4vLyAgICAgfSxcclxuLy8gICAgIHVwTmV4dCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIGluc3Quc2V0RXZhbFJlc3VsdCh0aGlzLmVudGl0eS5ydW50aW1lTG9va3VwKHNpbSwgaW5zdCkpO1xyXG4vLyAgICAgICAgIHRoaXMuZG9uZShzaW0sIGluc3QpO1xyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBwYXJzZUNQUENoYXIobGl0VmFsdWU6IHN0cmluZyl7XHJcbiAgICByZXR1cm4gZXNjYXBlU3RyaW5nKGxpdFZhbHVlKS5jaGFyQ29kZUF0KDApO1xyXG59O1xyXG5cclxuY29uc3QgbGl0ZXJhbEpTUGFyc2UgPSB7XHJcblx0XCJpbnRcIjogcGFyc2VJbnQsXHJcblx0XCJmbG9hdFwiOiBwYXJzZUZsb2F0LFxyXG4gICAgXCJkb3VibGVcIjogcGFyc2VGbG9hdCxcclxuICAgIFwiYm9vbFwiIDogKGI6IGJvb2xlYW4pID0+IChiID8gMSA6IDApLFxyXG4gICAgXCJjaGFyXCI6IHBhcnNlQ1BQQ2hhclxyXG59O1xyXG5cclxuY29uc3QgbGl0ZXJhbFR5cGVzID0ge1xyXG5cdFwiaW50XCI6IEludC5JTlQsXHJcblx0XCJmbG9hdFwiOiBEb3VibGUuRE9VQkxFLFxyXG5cdFwiZG91YmxlXCI6IERvdWJsZS5ET1VCTEUsXHJcbiAgICBcImJvb2xcIjogQm9vbC5CT09MLFxyXG4gICAgXCJjaGFyXCIgOiBDaGFyLkNIQVJcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU51bWVyaWNMaXRlcmFsVmFsdWVGcm9tQVNUKGFzdDogTnVtZXJpY0xpdGVyYWxBU1ROb2RlKSB7XHJcbiAgICByZXR1cm4gbGl0ZXJhbEpTUGFyc2VbYXN0LnR5cGVdKDxhbnk+YXN0LnZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgTnVtZXJpY0xpdGVyYWxBU1ROb2RlID0gRmxvYXRMaXRlcmFsQVNUTm9kZSB8IEludExpdGVyYWxBU1ROb2RlIHwgQ2hhckxpdGVyYWxBU1ROb2RlIHwgQm9vbExpdGVyYWxBU1ROb2RlO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBGbG9hdExpdGVyYWxBU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJudW1lcmljX2xpdGVyYWxcIjtcclxuICAgIHJlYWRvbmx5IHR5cGU6IFwiZmxvYXRcIjtcclxuICAgIHJlYWRvbmx5IHZhbHVlOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSW50TGl0ZXJhbEFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcIm51bWVyaWNfbGl0ZXJhbFwiO1xyXG4gICAgcmVhZG9ubHkgdHlwZTogXCJpbnRcIjtcclxuICAgIHJlYWRvbmx5IHZhbHVlOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2hhckxpdGVyYWxBU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJudW1lcmljX2xpdGVyYWxcIjtcclxuICAgIHJlYWRvbmx5IHR5cGU6IFwiY2hhclwiO1xyXG4gICAgcmVhZG9ubHkgdmFsdWU6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBCb29sTGl0ZXJhbEFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcIm51bWVyaWNfbGl0ZXJhbFwiO1xyXG4gICAgcmVhZG9ubHkgdHlwZTogXCJjaGFyXCI7XHJcbiAgICByZWFkb25seSB2YWx1ZTogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE51bWVyaWNMaXRlcmFsPFQgZXh0ZW5kcyBBcml0aG1ldGljVHlwZSA9IEFyaXRobWV0aWNUeXBlPiBleHRlbmRzIEV4cHJlc3Npb24ge1xyXG4gICAgXHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGU6IFQ7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmFsdWVDYXRlZ29yeSA9IFwicHJ2YWx1ZVwiO1xyXG5cclxuXHJcbiAgICBcclxuICAgIHB1YmxpYyByZWFkb25seSB2YWx1ZTogVmFsdWU8VD47XHJcblxyXG4gICAgLy8gY3JlYXRlIGZyb20gYXN0IGNvZGU6XHJcbiAgICAvLyBUT0RPOiBhcmUgdGhlcmUgc29tZSBsaXRlcmFsIHR5cGVzIHdpdGhvdXQgY29udmVyc2lvbiBmdW5jdGlvbnM/IFRoZXJlIHNob3VsZG4ndCBiZS4uLlxyXG5cclxuICAgIC8vIHZhciBjb252ID0gbGl0ZXJhbEpTUGFyc2VbdGhpcy5hc3QudHlwZV07XHJcbiAgICAvLyB2YXIgdmFsID0gKGNvbnYgPyBjb252KHRoaXMuYXN0LnZhbHVlKSA6IHRoaXMuYXN0LnZhbHVlKTtcclxuXHJcblxyXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQsIHR5cGU6IFQsIHZhbHVlOiBSYXdWYWx1ZVR5cGUpIHtcclxuICAgICAgICBzdXBlcihjb250ZXh0KTtcclxuXHJcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcclxuXHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IG5ldyBWYWx1ZSh2YWx1ZSwgdGhpcy50eXBlKTsgIC8vVE9ETyBmaXggdGhpcyAobWF5YmUgd2l0aCBhIGZhY3RvcnkgZnVuY3Rpb24gZm9yIHZhbHVlcz8pXHJcblx0fVxyXG4gICAgXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUZyb21BU1QoYXN0OiBOdW1lcmljTGl0ZXJhbEFTVE5vZGUsIGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBOdW1lcmljTGl0ZXJhbChjb250ZXh0LCBsaXRlcmFsVHlwZXNbYXN0LnR5cGVdLCBwYXJzZU51bWVyaWNMaXRlcmFsVmFsdWVGcm9tQVNUKGFzdCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbjxUIGV4dGVuZHMgQXJpdGhtZXRpY1R5cGU+KHRoaXM6IENvbXBpbGVkTnVtZXJpY0xpdGVyYWw8VD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lTnVtZXJpY0xpdGVyYWw8VD47XHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUV4cHJlc3Npb248VCBleHRlbmRzIEF0b21pY1R5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5Pih0aGlzOiBDb21waWxlZEV4cHJlc3Npb248VCxWPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IG5ldmVyO1xyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPFQgZXh0ZW5kcyBBcml0aG1ldGljVHlwZT4odGhpczogQ29tcGlsZWROdW1lcmljTGl0ZXJhbDxUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVOdW1lcmljTGl0ZXJhbDxUPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSdW50aW1lTnVtZXJpY0xpdGVyYWwodGhpcywgcGFyZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzY3JpYmVFdmFsUmVzdWx0KGRlcHRoOiBudW1iZXIpOiBEZXNjcmlwdGlvbiB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIGRlc2NyaWJlRXZhbFJlc3VsdCA6IGZ1bmN0aW9uKGRlcHRoLCBzaW0sIGluc3Qpe1xyXG4gICAgLy8gICAgIHZhciBzdHIgPSB0aGlzLnZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgICAvLyAgICAgcmV0dXJuIHtuYW1lOiBzdHIsIG1lc3NhZ2U6IHN0cn07XHJcbiAgICAvLyB9XHJcblx0XHJcbi8vXHRzdGVwRm9yd2FyZCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vL1x0XHR0aGlzLmRvbmUoc2ltLCBpbnN0KTtcclxuLy9cdFx0cmV0dXJuIHRydWU7XHJcbi8vXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWROdW1lcmljTGl0ZXJhbDxUIGV4dGVuZHMgQXJpdGhtZXRpY1R5cGUgPSBBcml0aG1ldGljVHlwZT4gZXh0ZW5kcyBOdW1lcmljTGl0ZXJhbDxUPiwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4gICAgcmVhZG9ubHkgdGVtcG9yYXJ5RGVhbGxvY2F0b3I/OiBDb21waWxlZFRlbXBvcmFyeURlYWxsb2NhdG9yOyAvLyB0byBtYXRjaCBDb21waWxlZFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uIHN0cnVjdHVyZVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUnVudGltZU51bWVyaWNMaXRlcmFsPFQgZXh0ZW5kcyBBcml0aG1ldGljVHlwZSA9IEFyaXRobWV0aWNUeXBlPiBleHRlbmRzIFJ1bnRpbWVFeHByZXNzaW9uPFQsIFwicHJ2YWx1ZVwiLCBDb21waWxlZE51bWVyaWNMaXRlcmFsPFQ+PiB7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChtb2RlbDogQ29tcGlsZWROdW1lcmljTGl0ZXJhbDxUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgc3VwZXIobW9kZWwsIHBhcmVudCk7XHJcbiAgICB9XHJcblxyXG5cdHByb3RlY3RlZCB1cE5leHRJbXBsKCkge1xyXG4gICAgICAgIHRoaXMuc2V0RXZhbFJlc3VsdCg8VkNSZXN1bHRUeXBlczxULCBcInBydmFsdWVcIj4+dGhpcy5tb2RlbC52YWx1ZSk7XHJcbiAgICAgICAgdGhpcy5zaW0ucG9wKCk7XHJcblx0fVxyXG5cdFxyXG5cdHByb3RlY3RlZCBzdGVwRm9yd2FyZEltcGwoKSB7XHJcbiAgICAgICAgLy8gRG8gbm90aGluZ1xyXG5cdH1cclxufVxyXG5cclxuLy8gZXhwb3J0IGNsYXNzIFN0cmluZ0xpdGVyYWwgZXh0ZW5kcyBFeHByZXNzaW9uIHtcclxuLy8gICAgIHB1YmxpYyB2YWx1ZUNhdGVnb3J5OiBzdHJpbmc7XHJcbi8vICAgICBwdWJsaWMgdHlwZTogVHlwZTtcclxuLy8gICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbihwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3Q8Q1BQQ29uc3RydWN0Pik6IFJ1bnRpbWVFeHByZXNzaW9uQmFzZTxFeHByZXNzaW9uPiB7XHJcbi8vICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbi8vICAgICB9XHJcbi8vICAgICBwdWJsaWMgZGVzY3JpYmVFdmFsUmVzdWx0KGRlcHRoOiBudW1iZXIpOiBEZXNjcmlwdGlvbiB7XHJcbi8vICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbi8vICAgICB9XHJcbi8vICAgICBfbmFtZTogXCJTdHJpbmdMaXRlcmFsXCIsXHJcbi8vICAgICBpbml0SW5kZXg6IGZhbHNlLFxyXG4vLyAgICAgY29tcGlsZSA6IGZ1bmN0aW9uKCl7XHJcblxyXG4vLyAgICAgICAgIHZhciBjb252ID0gbGl0ZXJhbEpTUGFyc2VbdGhpcy5hc3QudHlwZV07XHJcbi8vICAgICAgICAgdmFyIHZhbCA9IChjb252ID8gY29udih0aGlzLmFzdC52YWx1ZSkgOiB0aGlzLmFzdC52YWx1ZSk7XHJcblxyXG4vLyAgICAgICAgIHRoaXMuaV9zdHJpbmdFbnRpdHkgPSBTdHJpbmdMaXRlcmFsRW50aXR5Lmluc3RhbmNlKHZhbCk7XHJcbi8vICAgICAgICAgdGhpcy50cmFuc2xhdGlvblVuaXQuYWRkU3RyaW5nTGl0ZXJhbCh0aGlzLmlfc3RyaW5nRW50aXR5KTtcclxuLy8gICAgICAgICB0aGlzLmlfaXNTdHJpbmdMaXRlcmFsID0gdHJ1ZTtcclxuLy8gICAgICAgICB0aGlzLmlfc3RyaW5nVmFsdWUgPSB2YWw7XHJcbi8vICAgICAgICAgdGhpcy50eXBlID0gdGhpcy5pX3N0cmluZ0VudGl0eS50eXBlO1xyXG4vLyAgICAgICAgIHRoaXMudmFsdWVDYXRlZ29yeSA9IFwibHZhbHVlXCI7XHJcblxyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICB1cE5leHQgOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuLy8gICAgICAgICBpbnN0LmV2YWxSZXN1bHQgPSB0aGlzLmlfc3RyaW5nRW50aXR5LnJ1bnRpbWVMb29rdXAoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICB0aGlzLmRvbmUoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICByZXR1cm4gdHJ1ZTtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgZGVzY3JpYmVFdmFsUmVzdWx0IDogZnVuY3Rpb24oZGVwdGgsIHNpbSwgaW5zdCl7XHJcbi8vICAgICAgICAgcmV0dXJuIHtuYW1lOiBcInRoZSBzdHJpbmcgbGl0ZXJhbCBcXFwiXCIgKyB0aGlzLmlfc3RyaW5nVmFsdWUgKyBcIlxcXCJcIiwgbWVzc2FnZTogXCJ0aGUgc3RyaW5nIGxpdGVyYWwgXFxcIlwiICsgdGhpcy5pX3N0cmluZ1ZhbHVlICsgXCJcXFwiXCJ9O1xyXG4vLyAgICAgfVxyXG5cclxuLy8gLy9cdHN0ZXBGb3J3YXJkIDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbi8vIC8vXHRcdHRoaXMuZG9uZShzaW0sIGluc3QpO1xyXG4vLyAvL1x0XHRyZXR1cm4gdHJ1ZTtcclxuLy8gLy9cdH1cclxuLy8gfVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQYXJlbnRoZXNlc0V4cHJlc3Npb25BU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJwYXJlbnRoZXNlc19leHByZXNzaW9uXCI7XHJcbiAgICByZWFkb25seSBzdWJleHByZXNzaW9uOiBFeHByZXNzaW9uQVNUTm9kZTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFBhcmVudGhlc2VzIGV4dGVuZHMgRXhwcmVzc2lvbiB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGU/OiBUeXBlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHZhbHVlQ2F0ZWdvcnk/OiBWYWx1ZUNhdGVnb3J5O1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBzdWJleHByZXNzaW9uOiBFeHByZXNzaW9uO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBfdF9jb21waWxlZCE6IENvbXBpbGVkUGFyZW50aGVzZXM7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0LCBzdWJleHByZXNzaW9uOiBFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgc3VwZXIoY29udGV4dCk7XHJcblxyXG4gICAgICAgIHRoaXMuYXR0YWNoKHRoaXMuc3ViZXhwcmVzc2lvbiA9IHN1YmV4cHJlc3Npb24pO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHN1YmV4cHJlc3Npb24udHlwZTtcclxuICAgICAgICB0aGlzLnZhbHVlQ2F0ZWdvcnkgPSBzdWJleHByZXNzaW9uLnZhbHVlQ2F0ZWdvcnk7XHJcblxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUZyb21BU1QoYXN0OiBQYXJlbnRoZXNlc0V4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUGFyZW50aGVzZXMoY29udGV4dCwgY3JlYXRlRXhwcmVzc2lvbkZyb21BU1QoYXN0LnN1YmV4cHJlc3Npb24sIGNvbnRleHQpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUV4cHJlc3Npb248VCBleHRlbmRzIFR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5Pih0aGlzOiBDb21waWxlZFBhcmVudGhlc2VzPFQsVj4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lUGFyZW50aGVzZXM8VCxWPjtcclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbjxUIGV4dGVuZHMgVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnk+KHRoaXM6IENvbXBpbGVkRXhwcmVzc2lvbjxULFY+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogbmV2ZXI7XHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUV4cHJlc3Npb248VCBleHRlbmRzIFR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5Pih0aGlzOiBDb21waWxlZFBhcmVudGhlc2VzPFQsVj4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lUGFyZW50aGVzZXM8VCxWPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSdW50aW1lUGFyZW50aGVzZXModGhpcywgcGFyZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzY3JpYmVFdmFsUmVzdWx0KGRlcHRoOiBudW1iZXIpOiBEZXNjcmlwdGlvbiB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gaXNUYWlsQ2hpbGQgOiBmdW5jdGlvbihjaGlsZCl7XHJcbiAgICAvLyAgICAgcmV0dXJuIHtpc1RhaWw6IHRydWV9O1xyXG4gICAgLy8gfVxyXG59XHJcblxyXG5cclxuLy8gVE9ETzogc2hvdWxkIHRoZXNlIGludGVyZmFjZSBkZWZpbml0aW9ucyBoYXZlIFwicHVibGljXCIgaW4gdGhlbT8gd2hhdCBpcyBiZXN0IHN0eWxlP1xyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkUGFyZW50aGVzZXM8VCBleHRlbmRzIFR5cGUgPSBUeXBlLCBWIGV4dGVuZHMgVmFsdWVDYXRlZ29yeSA9IFZhbHVlQ2F0ZWdvcnk+IGV4dGVuZHMgUGFyZW50aGVzZXMsIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuICAgIFxyXG4gICAgcmVhZG9ubHkgdGVtcG9yYXJ5RGVhbGxvY2F0b3I/OiBDb21waWxlZFRlbXBvcmFyeURlYWxsb2NhdG9yOyAvLyB0byBtYXRjaCBDb21waWxlZFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uIHN0cnVjdHVyZVxyXG5cclxuICAgIHJlYWRvbmx5IHR5cGU6IFQ7XHJcbiAgICByZWFkb25seSB2YWx1ZUNhdGVnb3J5OiBWO1xyXG5cclxuICAgIHJlYWRvbmx5IHN1YmV4cHJlc3Npb246IENvbXBpbGVkRXhwcmVzc2lvbjxULFY+O1xyXG59XHJcblxyXG5jb25zdCBJTkRFWF9QQVJFTlRIRVNFU19TVUJFWFBSRVNTSU9OUyA9IDA7XHJcbmNvbnN0IElOREVYX1BBUkVOVEhFU0VTX0RPTkUgPSAxO1xyXG5leHBvcnQgY2xhc3MgUnVudGltZVBhcmVudGhlc2VzPFQgZXh0ZW5kcyBUeXBlID0gVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnkgPSBWYWx1ZUNhdGVnb3J5PiBleHRlbmRzIFJ1bnRpbWVFeHByZXNzaW9uPFQsViwgQ29tcGlsZWRQYXJlbnRoZXNlczxULFY+PiB7XHJcblxyXG4gICAgcHVibGljIHN1YmV4cHJlc3Npb246IFJ1bnRpbWVFeHByZXNzaW9uPFQsVj47XHJcblxyXG4gICAgcHJpdmF0ZSBpbmRleCA6IHR5cGVvZiBJTkRFWF9QQVJFTlRIRVNFU19TVUJFWFBSRVNTSU9OUyB8IHR5cGVvZiBJTkRFWF9QQVJFTlRIRVNFU19ET05FID0gSU5ERVhfUEFSRU5USEVTRVNfU1VCRVhQUkVTU0lPTlM7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChtb2RlbDogQ29tcGlsZWRQYXJlbnRoZXNlczxULFY+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICBzdXBlcihtb2RlbCwgcGFyZW50KTtcclxuICAgICAgICB0aGlzLnN1YmV4cHJlc3Npb24gPSB0aGlzLm1vZGVsLnN1YmV4cHJlc3Npb24uY3JlYXRlUnVudGltZUV4cHJlc3Npb24odGhpcyk7XHJcbiAgICB9XHJcblxyXG5cdHByb3RlY3RlZCB1cE5leHRJbXBsKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmluZGV4ID09PSBJTkRFWF9QQVJFTlRIRVNFU19TVUJFWFBSRVNTSU9OUykge1xyXG4gICAgICAgICAgICB0aGlzLnNpbS5wdXNoKHRoaXMuc3ViZXhwcmVzc2lvbik7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSBJTkRFWF9QQVJFTlRIRVNFU19ET05FO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRFdmFsUmVzdWx0KHRoaXMuc3ViZXhwcmVzc2lvbi5ldmFsUmVzdWx0KTtcclxuICAgICAgICAgICAgdGhpcy5zaW0ucG9wKCk7XHJcbiAgICAgICAgfVxyXG5cdH1cclxuXHRcclxuXHRwcm90ZWN0ZWQgc3RlcEZvcndhcmRJbXBsKCkge1xyXG4gICAgICAgIC8vIERvIG5vdGhpbmdcclxuXHR9XHJcbn1cclxuXHJcblxyXG5cclxuY29uc3QgQVVYSUxJQVJZX0VYUFJFU1NJT05fQ09OVEVYVCA6IEV4cHJlc3Npb25Db250ZXh0ID0ge1xyXG4gICAgcHJvZ3JhbTogPG5ldmVyPnVuZGVmaW5lZCxcclxuICAgIHRyYW5zbGF0aW9uVW5pdDogPG5ldmVyPnVuZGVmaW5lZCxcclxuICAgIGNvbnRleHR1YWxTY29wZTogPG5ldmVyPnVuZGVmaW5lZFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQXV4aWxpYXJ5RXhwcmVzc2lvbjxUIGV4dGVuZHMgVHlwZSA9IFR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5ID0gVmFsdWVDYXRlZ29yeT4gZXh0ZW5kcyBFeHByZXNzaW9uIGltcGxlbWVudHMgVHlwZWRFeHByZXNzaW9uPFQsVj4ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSB0eXBlOiBUO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHZhbHVlQ2F0ZWdvcnk6IFY7XHJcblxyXG4gICAgY29uc3RydWN0b3IodHlwZTogVCwgdmFsdWVDYXRlZ29yeTogVikge1xyXG4gICAgICAgIHN1cGVyKEFVWElMSUFSWV9FWFBSRVNTSU9OX0NPTlRFWFQpO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy52YWx1ZUNhdGVnb3J5ID0gdmFsdWVDYXRlZ29yeTtcclxuXHR9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPFQgZXh0ZW5kcyBUeXBlID0gVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnkgPSBWYWx1ZUNhdGVnb3J5Pih0aGlzOiBDb21waWxlZEV4cHJlc3Npb248VCwgVj4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBuZXZlciB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXV4aWxpYXJ5IGV4cHJlc3Npb25zIG11c3QgbmV2ZXIgYmUgaW5zdGFudGlhdGVkIGF0IHJ1bnRpbWUuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZXNjcmliZUV2YWxSZXN1bHQoZGVwdGg6IG51bWJlcikgOiBuZXZlciB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXV4aWxpYXJ5IGV4cHJlc3Npb25zIGhhdmUgbm8gZGVzY3JpcHRpb25cIik7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5cclxuXHJcbi8vIE9MRCBFWFBSRVNTSU9OIEpVTksgQkVMT1dcclxuXHJcbi8vIHR5cGUgQ29tcGlsZWQ8RSBleHRlbmRzIEV4cHJlc3Npb24gPSBFeHByZXNzaW9uLCBUIGV4dGVuZHMgVHlwZSA9IFR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5ID0gVmFsdWVDYXRlZ29yeT4gPSBFICYgRVtcIl90X2NvbXBpbGVkVHlwZVwiXSAmIHtcclxuLy8gICAgIHJlYWRvbmx5IHR5cGU6IFQ7XHJcbi8vICAgICByZWFkb25seSB2YWx1ZUNhdGVnb3J5OiBWO1xyXG4vLyB9O1xyXG5cclxuLy8gaW50ZXJmYWNlIENvbXBpbGVkRXhwcmVzc2lvbjxUIGV4dGVuZHMgVHlwZSA9IFR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5ID0gVmFsdWVDYXRlZ29yeT4ge1xyXG4vLyAgICAgcmVhZG9ubHkgdHlwZTogVDtcclxuLy8gICAgIHJlYWRvbmx5IHZhbHVlQ2F0ZWdvcnk6IFY7XHJcbi8vICAgICByZWFkb25seSBfdF9pc0NvbXBpbGVkOiB0cnVlO1xyXG4vLyB9XHJcblxyXG4vLyBcclxuLy8gdHlwZSBFeHByZXNzaW9uUHJvcGVydHlOYW1lczxDIGV4dGVuZHMgRXhwcmVzc2lvbj4gPSB7IFtLIGluIGtleW9mIENdOiBDW0tdIGV4dGVuZHMgRXhwcmVzc2lvbiA/IEsgOiBuZXZlciB9W2tleW9mIENdO1xyXG4vLyB0eXBlIENvbXBpbGVkQ2hpbGRFeHByZXNzaW9uczxFIGV4dGVuZHMgRXhwcmVzc2lvbiwgRXggZXh0ZW5kcyBrZXlvZiBhbnk+ID0ge1xyXG4vLyAgICAgW2sgaW4gRXhjbHVkZTxFeHByZXNzaW9uUHJvcGVydHlOYW1lczxFPixFeD5dOiBDb21waWxlZEV4cHJlc3Npb248KEVba10gZXh0ZW5kcyBFeHByZXNzaW9uID8gRVtrXSA6IG5ldmVyKT47XHJcbi8vIH07XHJcblxyXG4vLyB0eXBlIENvbXBpbGVkRXhwcmVzc2lvbjxFIGV4dGVuZHMgRXhwcmVzc2lvbiA9IEV4cHJlc3Npb24sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIFQgZXh0ZW5kcyBUeXBlID0gRVtcInRfY29tcGlsZWRUeXBlXCJdW1widHlwZVwiXSxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgVkMgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5ID0gRVtcInRfY29tcGlsZWRUeXBlXCJdW1widmFsdWVDYXRlZ29yeVwiXT5cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgPSBVdGlsLk92ZXJ3cml0ZTxcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIFV0aWwuT3ZlcndyaXRlPFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFV0aWwuT3ZlcndyaXRlPEUsIEVbXCJ0X2NvbXBpbGVkVHlwZVwiXT4sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29tcGlsZWRDaGlsZEV4cHJlc3Npb25zPEUsIGtleW9mIEVbXCJ0X2NvbXBpbGVkVHlwZVwiXT4+LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG5cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0X2lzQ29tcGlsZWQgaXMgaGVyZSB0byBwcmV2ZW50IChvdGhlcndpc2UpIHN0cnVjdHVyYWxseSBlcXVpdmFsZW50IG5vbi1jb21waWxlZCBleHByZXNzaW9uc1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZyb20gYmVpbmcgYXNzaWduYWJsZSB0byBhIGNvbXBpbGVkIGV4cHJlc3Npb24gdHlwZVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IG1heWJlIGJldHRlciB0byB1c2UgYSBzeW1ib2wgaGVyZT9cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkb25seSB0X2lzQ29tcGlsZWQ6IFwidHJ1ZVwiXHJcblxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCBpbiB0aGUgdHlwZSBhbmQgdmFsdWVDYXRlZ29yeSBwcm9wZXJ0aWVzIGZyb20gdGhlIHRlbXBsYXRlIHBhcmFtZXRlcnMgd2l0aFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFwibGFzdCBvbmUgd2luc1wiIHNlbWFudGljcywgYmVjYXVzZSB0aGV5IHdlcmUgb21pdHRlZCAod2l0aCBPbWl0KSBwcmV2aW91c2x5XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZG9ubHkgdHlwZTogVDtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkb25seSB2YWx1ZUNhdGVnb3J5OiBWQztcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgPjtcclxuXHJcblxyXG5cclxuXHJcbmludGVyZmFjZSBPdmVybG9hZENhbmRpZGF0ZVJlc3VsdCB7XHJcbiAgICByZWFkb25seSBjYW5kaWRhdGU6IEZ1bmN0aW9uRW50aXR5O1xyXG4gICAgcmVhZG9ubHkgbm90ZXM6IHJlYWRvbmx5IE5vdGVbXTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBPdmVybG9hZFJlc29sdXRpb25SZXN1bHQge1xyXG4gICAgcmVhZG9ubHkgY2FuZGlkYXRlczogcmVhZG9ubHkgT3ZlcmxvYWRDYW5kaWRhdGVSZXN1bHRbXTtcclxuICAgIHJlYWRvbmx5IHZpYWJsZTogRnVuY3Rpb25FbnRpdHlbXTtcclxuICAgIHJlYWRvbmx5IHNlbGVjdGVkPzogRnVuY3Rpb25FbnRpdHk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBvdmVybG9hZFJlc29sdXRpb24oY2FuZGlkYXRlczogcmVhZG9ubHkgRnVuY3Rpb25FbnRpdHlbXSwgYXJnVHlwZXM6IHJlYWRvbmx5IChUeXBlfHVuZGVmaW5lZClbXSwgcmVjZWl2ZXJUeXBlPzogQ2xhc3NUeXBlKSA6IE92ZXJsb2FkUmVzb2x1dGlvblJlc3VsdCB7XHJcblxyXG4gICAgLy8gVE9ETzogYWRkIHRoZXNlIGNoZWNrcywgYW5kIHNlbmQgZXJyb3JzIGJhY2sgdG8gY29uc3RydWN0IHRoYXQgY2FsbHMgdGhpcyBpZiB0aGV5IGFyZW4ndCBtZXRcclxuICAgIC8vIFNob3VsZCByZXR1cm4gdGhlIGZ1bmN0aW9uIHNlbGVjdGVkIGFzIHdlbGwgYXMgYW4gYXJyYXkgb2Ygb2JqZWN0LXR5cGVkIHBhcmFtcyB0aGF0IGNvbnRhaW5cclxuICAgIC8vIGFueSBpbXBsaWNpdCBjb252ZXJzaW9ucyBuZWNlc3NhcnkuXHJcbiAgICBcclxuICAgIC8vIGlmICghYWxsV2VsbFR5cGVkKGFyZ3MpKSB7XHJcbiAgICAvLyAgICAgLy8gSWYgYXJndW1lbnRzIGFyZSBub3Qgd2VsbC10eXBlZCwgd2UgY2FuJ3QgY29udGludWUgb253YXJkIHRvIHNlbGVjdCBhIGZ1bmN0aW9uXHJcbiAgICAvLyAgICAgLy8gYW5kIGNyZWF0ZSBhIGZ1bmN0aW9uIGNhbGwsIHNvIGluc3RlYWQganVzdCBnaXZlIHVwIGF0dGFjaCBhcmd1bWVudHMgaGVyZS5cclxuICAgIC8vICAgICB0aGlzLmF0dGFjaEFsbChhcmdzKTtcclxuICAgIC8vICAgICByZXR1cm47XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gaWYgKCFhbGxPYmplY3RUeXBlZChhcmdzKSkge1xyXG4gICAgLy8gICAgIC8vIE9ubHkgb2JqZWN0IHR5cGVzIG1heSBiZSBwYXNzZWQgYXMgYXJndW1lbnRzIHRvIGZ1bmN0aW9ucy5cclxuICAgIC8vICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uaW5pdC5ub19kZWZhdWx0X2NvbnN0cnVjdG9yKHRoaXMsIHRoaXMudGFyZ2V0KSk7IC8vIFRPRE86IGZpeFxyXG4gICAgLy8gICAgIHRoaXMuYXR0YWNoQWxsKGFyZ3MpO1xyXG4gICAgLy8gICAgIHJldHVybjtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBGaW5kIHRoZSBjb25zdHJ1Y3RvclxyXG4gICAgbGV0IHZpYWJsZTogRnVuY3Rpb25FbnRpdHlbXSA9IFtdO1xyXG4gICAgbGV0IHJlc3VsdENhbmRpZGF0ZXMgOiByZWFkb25seSBPdmVybG9hZENhbmRpZGF0ZVJlc3VsdFtdID0gY2FuZGlkYXRlcy5tYXAoKGNhbmRpZGF0ZSkgPT4ge1xyXG5cclxuICAgICAgICBsZXQgdGVtcEFyZ3MgPSBbXTtcclxuICAgICAgICB2YXIgbm90ZXM6IE5vdGVbXSA9IFtdO1xyXG5cclxuICAgICAgICAvLyBDaGVjayBhcmd1bWVudCB0eXBlcyBhZ2FpbnN0IHBhcmFtZXRlciB0eXBlc1xyXG4gICAgICAgIGxldCBjYW5kaWRhdGVQYXJhbVR5cGVzID0gY2FuZGlkYXRlLnR5cGUucGFyYW1UeXBlcztcclxuICAgICAgICBpZiAoYXJnVHlwZXMubGVuZ3RoICE9PSBjYW5kaWRhdGVQYXJhbVR5cGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBub3Rlcy5wdXNoKENQUEVycm9yLnBhcmFtLm51bVBhcmFtcyhjYW5kaWRhdGUuZGVjbGFyYXRpb24pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVE9ETzogYWRkIGJhY2sgaW4gd2l0aCBtZW1iZXIgZnVuY3Rpb25zXHJcbiAgICAgICAgLy8gZWxzZSBpZiAocmVjZWl2ZXJUeXBlLmlzQ29uc3QgJiYgY2FuZCBpbnN0YW5jZW9mIE1lbWJlckZ1bmN0aW9uRW50aXR5ICYmICFjYW5kLnR5cGUuaXNUaGlzQ29uc3Qpe1xyXG4gICAgICAgIC8vICAgICBwcm9ibGVtcy5wdXNoKENQUEVycm9yLnBhcmFtLnRoaXNDb25zdChjYW5kLmRlY2xhcmF0aW9uKSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIGFyZ1R5cGVzLmZvckVhY2goKGFyZ1R5cGUsIGkpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghYXJnVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gaWdub3JlIHVuZGVmaW5lZCBhcmdUeXBlLCBhc3N1bWUgaXQgXCJ3b3Jrc1wiIHNpbmNlIHRoZXJlIHdpbGwgYmUgYW4gZXJyb3IgZWxzZXdoZXJlIGFscmVhZHlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCBjYW5kaWRhdGVQYXJhbVR5cGUgPSBjYW5kaWRhdGVQYXJhbVR5cGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbmRpZGF0ZVBhcmFtVHlwZS5pc1JlZmVyZW5jZVR5cGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRlbXBBcmdzLnB1c2goYXJnc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIXJlZmVyZW5jZUNvbXBhdGlibGUoYXJnVHlwZSwgY2FuZGlkYXRlUGFyYW1UeXBlLnJlZlRvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub3Rlcy5wdXNoKENQUEVycm9yLnBhcmFtLnBhcmFtUmVmZXJlbmNlVHlwZShjYW5kaWRhdGUuZGVjbGFyYXRpb24sIGFyZ1R5cGUsIGNhbmRpZGF0ZVBhcmFtVHlwZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvL2Vsc2UgaWYgKGFyZ3NbaV0udmFsdWVDYXRlZ29yeSAhPT0gXCJsdmFsdWVcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgcHJvYmxlbXMucHVzaChDUFBFcnJvci5wYXJhbS5wYXJhbVJlZmVyZW5jZUx2YWx1ZShhcmdzW2ldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy99XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0ZW1wQXJncy5wdXNoKHN0YW5kYXJkQ29udmVyc2lvbihhcmdzW2ldLCBhcmdUeXBlc1tpXSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBBdHRlbXB0IHN0YW5kYXJkIGNvbnZlcnNpb24gb2YgYW4gYXV4aWxpYXJ5IGV4cHJlc3Npb24gb2YgdGhlIGFyZ3VtZW50J3MgdHlwZSB0byB0aGUgcGFyYW0gdHlwZVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBhdXhBcmcgPSBuZXcgQXV4aWxpYXJ5RXhwcmVzc2lvbihhcmdUeXBlLCBcInBydmFsdWVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbnZlcnRlZEFyZyA9IHN0YW5kYXJkQ29udmVyc2lvbihhdXhBcmcsIGNhbmRpZGF0ZVBhcmFtVHlwZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCFzYW1lVHlwZShjb252ZXJ0ZWRBcmcudHlwZSwgY2FuZGlkYXRlUGFyYW1UeXBlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub3Rlcy5wdXNoKENQUEVycm9yLnBhcmFtLnBhcmFtVHlwZShjYW5kaWRhdGUuZGVjbGFyYXRpb24sIGFyZ1R5cGUsIGNhbmRpZGF0ZVBhcmFtVHlwZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG5vdGVzLmxlbmd0aCA9PSAwKSB7IC8vIEFsbCBub3RlcyBpbiB0aGlzIGZ1bmN0aW9uIGFyZSBlcnJvcnMsIHNvIGlmIHRoZXJlIGFyZSBhbnkgaXQncyBub3QgdmlhYmxlXHJcbiAgICAgICAgICAgIHZpYWJsZS5wdXNoKGNhbmRpZGF0ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge2NhbmRpZGF0ZTogY2FuZGlkYXRlLCBub3Rlczogbm90ZXN9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gVE9ETzogbmVlZCB0byBkZXRlcm1pbmUgd2hpY2ggb2Ygc2V2ZXJhbCB2aWFibGUgb3ZlcmxvYWRzIGlzIHRoZSBiZXN0IG9wdGlvblxyXG4gICAgLy8gVE9ETzogbmVlZCB0byBkZXRlY3Qgd2hlbiBtdWx0aXBsZSB2aWFibGUgb3ZlcmxvYWRzIGhhdmUgdGhlIHNhbWUgdG90YWwgY29udmVyc2lvbiBsZW5ndGgsIHdoaWNoIHJlc3VsdHMgaW4gYW4gYW1iaWd1aXR5XHJcbiAgICAvLyBsZXQgc2VsZWN0ZWQgPSB2aWFibGUucmVkdWNlKChiZXN0LCBjdXJyZW50KSA9PiB7XHJcbiAgICAvLyAgICAgaWYgKGNvbnZMZW4oY3VycmVudC50eXBlLnBhcmFtVHlwZXMpIDwgY29udkxlbihiZXN0LnR5cGUucGFyYW1UeXBlcykpIHtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2Uge1xyXG4gICAgLy8gICAgICAgICByZXR1cm4gYmVzdDtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9KTtcclxuICAgIGxldCBzZWxlY3RlZCA9IHZpYWJsZVswXSA/IHZpYWJsZVswXSA6IHVuZGVmaW5lZDtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGNhbmRpZGF0ZXM6IHJlc3VsdENhbmRpZGF0ZXMsXHJcbiAgICAgICAgdmlhYmxlOiB2aWFibGUsXHJcbiAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkXHJcbiAgICB9XHJcbn07IiwiaW1wb3J0IHsgYXNzZXJ0LCBhc3NlcnRGYWxzZSwgTXV0YWJsZSB9IGZyb20gXCIuLi91dGlsL3V0aWxcIjtcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gXCIuLi91dGlsL29ic2VydmVcIjtcclxuaW1wb3J0IHsgQ1BQT2JqZWN0LCBBdXRvT2JqZWN0LCBTdHJpbmdMaXRlcmFsT2JqZWN0LCBTdGF0aWNPYmplY3QsIFRlbXBvcmFyeU9iamVjdCwgRHluYW1pY09iamVjdCwgVGhpc09iamVjdCwgSW52YWxpZE9iamVjdCB9IGZyb20gXCIuL29iamVjdHNcIjtcclxuaW1wb3J0IHsgQm9vbCwgQ2hhciwgT2JqZWN0UG9pbnRlciwgQXJyYXlQb2ludGVyLCBzaW1pbGFyVHlwZSwgc3ViVHlwZSwgUG9pbnRlclR5cGUsIE9iamVjdFR5cGUsIHNhbWVUeXBlLCBBdG9taWNUeXBlLCBJbnRlZ3JhbFR5cGUsIEludCB9IGZyb20gXCIuL3R5cGVzXCI7XHJcbmltcG9ydCBsYXN0IGZyb20gXCJsb2Rhc2gvbGFzdFwiO1xyXG5pbXBvcnQgeyBTdGF0aWNFbnRpdHksIEF1dG9FbnRpdHksIExvY2FsUmVmZXJlbmNlRW50aXR5LCBTdHJpbmdMaXRlcmFsRW50aXR5LCBUZW1wb3JhcnlPYmplY3RFbnRpdHkgfSBmcm9tIFwiLi9lbnRpdGllc1wiO1xyXG5pbXBvcnQgeyBSdW50aW1lQ29uc3RydWN0LCBSdW50aW1lRnVuY3Rpb24gfSBmcm9tIFwiLi9jb25zdHJ1Y3RzXCI7XHJcbmltcG9ydCB7IENvbXBpbGVkR2xvYmFsT2JqZWN0RGVmaW5pdGlvbiwgR2xvYmFsT2JqZWN0RGVmaW5pdGlvbiB9IGZyb20gXCIuL2RlY2xhcmF0aW9uc1wiO1xyXG5cclxuZXhwb3J0IHR5cGUgYnl0ZSA9IG51bWJlcjsgLy8gSEFDSyAtIGNhbiBiZSByZXNvbHZlZCBpZiBJIG1ha2UgdGhlIG1lbW9yeSBtb2RlbCByZWFsaXN0aWMgYW5kIG5vdCBoYWNreVxyXG5leHBvcnQgdHlwZSBSYXdWYWx1ZVR5cGUgPSBudW1iZXI7IC8vIEhBQ0sgLSBjYW4gYmUgcmVzb2x2ZWQgaWYgSSBtYWtlIHRoZSByYXcgdmFsdWUgdHlwZSB1c2VkIGRlcGVuZCBvbiB0aGUgVHlwZSBwYXJhbWV0ZXJcclxuXHJcbi8vIGV4cG9ydCB0eXBlIFZhbHVlVHlwZTxUIGV4dGVuZHMgQXRvbWljVHlwZT4gPSBUIGV4dGVuZHMgQXRvbWljVHlwZSA/IFZhbHVlPFQ+IDogbmV2ZXI7XHJcblxyXG5leHBvcnQgY2xhc3MgVmFsdWU8VCBleHRlbmRzIEF0b21pY1R5cGUgPSBBdG9taWNUeXBlPiB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBfbmFtZSA9IFwiVmFsdWVcIjtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZTogVDtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2lzVmFsaWQ6IGJvb2xlYW47XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHJhd1ZhbHVlOiBSYXdWYWx1ZVR5cGU7XHJcblxyXG5cclxuICAgIC8vIFRPRE86IHRzOiBjaGFuZ2UgYW55IHR5cGUgZm9yIHZhbHVlIHRvIG1hdGNoIHR5cGUgZXhwZWN0ZWQgZm9yIENQUCB0eXBlIG9mIHZhbHVlXHJcbiAgICBjb25zdHJ1Y3RvcihyYXdWYWx1ZTogUmF3VmFsdWVUeXBlLCB0eXBlOiBULCBpc1ZhbGlkOiBib29sZWFuID0gdHJ1ZSkge1xyXG4gICAgICAgIC8vIFRPRE86IHJlbW92ZSB0aGlzLnZhbHVlIGluIGZhdm9yIG9mIHVzaW5nIHJhd1ZhbHVlKCkgZnVuY3Rpb25cclxuICAgICAgICB0aGlzLnJhd1ZhbHVlID0gcmF3VmFsdWU7XHJcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcclxuICAgICAgICB0aGlzLl9pc1ZhbGlkID0gaXNWYWxpZDtcclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIGdldCBpc1ZhbGlkKCkge1xyXG4gICAgICAgIC8vIE5vdGU6IHRoaXMgaXMgaW1wbGVtZW50ZWQgYXMgYSBnZXR0ZXIgc2luY2UgaXQgaXMgbmVjZXNzYXJ5IHRvIGNhbGwgaXNWYWx1ZVZhbGlkIG9uIHRoZSB0eXBlIGVhY2ggdGltZS5cclxuICAgICAgICAvLyAgICAgICBlLmcuIEEgdHlwZSB3aXRoIFJUVEkgbGlrZSBhbiBvYmplY3QgcG9pbnRlciBtYXkgYmVjb21lIGludmFsaWQgaWYgdGhlIG9iamVjdCBkaWVzLlxyXG4gICAgICAgIHJldHVybiB0aGlzLl9pc1ZhbGlkICYmIHRoaXMudHlwZS5pc1ZhbHVlVmFsaWQodGhpcy5yYXdWYWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsb25lKHZhbHVlVG9DbG9uZTogUmF3VmFsdWVUeXBlID0gdGhpcy5yYXdWYWx1ZSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmFsdWU8VD4odmFsdWVUb0Nsb25lLCB0aGlzLnR5cGUsIHRoaXMuaXNWYWxpZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGludmFsaWRhdGVkKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmFsdWU8VD4odGhpcy5yYXdWYWx1ZSwgdGhpcy50eXBlLCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGVxdWFscyhvdGhlclZhbHVlOiBWYWx1ZTxUPikge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmFsdWU8Qm9vbD4oXHJcbiAgICAgICAgICAgIHRoaXMucmF3VmFsdWUgPT09IG90aGVyVmFsdWUucmF3VmFsdWUgPyAxIDogMCxcclxuICAgICAgICAgICAgbmV3IEJvb2woKSxcclxuICAgICAgICAgICAgdGhpcy5pc1ZhbGlkICYmIG90aGVyVmFsdWUuaXNWYWxpZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJhd0VxdWFscyhvdGhlclJhd1ZhbHVlOiBSYXdWYWx1ZVR5cGUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yYXdWYWx1ZSA9PT0gb3RoZXJSYXdWYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY29tYmluZShvdGhlclZhbHVlOiBWYWx1ZTxUPiwgY29tYmluZXI6IChhOlJhd1ZhbHVlVHlwZSwgYjpSYXdWYWx1ZVR5cGUpID0+IFJhd1ZhbHVlVHlwZSkge1xyXG4gICAgICAgIGFzc2VydChzYW1lVHlwZSh0aGlzLnR5cGUsIG90aGVyVmFsdWUudHlwZSkpO1xyXG4gICAgICAgIHJldHVybiBuZXcgVmFsdWU8VD4oXHJcbiAgICAgICAgICAgIGNvbWJpbmVyKHRoaXMucmF3VmFsdWUsIG90aGVyVmFsdWUucmF3VmFsdWUpLFxyXG4gICAgICAgICAgICB0aGlzLnR5cGUsXHJcbiAgICAgICAgICAgIHRoaXMuaXNWYWxpZCAmJiBvdGhlclZhbHVlLmlzVmFsaWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwb2ludGVyT2Zmc2V0PFQgZXh0ZW5kcyBQb2ludGVyVHlwZT4odGhpczogVmFsdWU8VD4sIG9mZnNldFZhbHVlOiBWYWx1ZTxJbnRlZ3JhbFR5cGU+LCBzdWJ0cmFjdDogYm9vbGVhbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZTxUPihcclxuICAgICAgICAgICAgKHN1YnRyYWN0ID9cclxuICAgICAgICAgICAgICAgIHRoaXMucmF3VmFsdWUgLSB0aGlzLnR5cGUucHRyVG8uc2l6ZSAqIG9mZnNldFZhbHVlLnJhd1ZhbHVlIDpcclxuICAgICAgICAgICAgICAgIHRoaXMucmF3VmFsdWUgKyB0aGlzLnR5cGUucHRyVG8uc2l6ZSAqIG9mZnNldFZhbHVlLnJhd1ZhbHVlKSxcclxuICAgICAgICAgICAgdGhpcy50eXBlLFxyXG4gICAgICAgICAgICB0aGlzLmlzVmFsaWQgJiYgb2Zmc2V0VmFsdWUuaXNWYWxpZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBvaW50ZXJEaWZmZXJlbmNlKHRoaXM6IFZhbHVlPFBvaW50ZXJUeXBlPiwgb3RoZXJWYWx1ZTogVmFsdWU8UG9pbnRlclR5cGU+KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZTxJbnQ+KFxyXG4gICAgICAgICAgICAodGhpcy5yYXdWYWx1ZSAtIG90aGVyVmFsdWUucmF3VmFsdWUpIC8gdGhpcy50eXBlLnB0clRvLnNpemUsXHJcbiAgICAgICAgICAgIG5ldyBJbnQoKSxcclxuICAgICAgICAgICAgdGhpcy5pc1ZhbGlkICYmIG90aGVyVmFsdWUuaXNWYWxpZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNvbXBhcmUob3RoZXJWYWx1ZTogVmFsdWU8VD4sIGNvbXBhcmVyOiAoYTpSYXdWYWx1ZVR5cGUsIGI6UmF3VmFsdWVUeXBlKSA9PiBib29sZWFuKSB7XHJcbiAgICAgICAgYXNzZXJ0KHNhbWVUeXBlKHRoaXMudHlwZSwgb3RoZXJWYWx1ZS50eXBlKSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZTxCb29sPihcclxuICAgICAgICAgICAgY29tcGFyZXIodGhpcy5yYXdWYWx1ZSwgb3RoZXJWYWx1ZS5yYXdWYWx1ZSkgPyAxIDogMCxcclxuICAgICAgICAgICAgbmV3IEJvb2woKSxcclxuICAgICAgICAgICAgdGhpcy5pc1ZhbGlkICYmIG90aGVyVmFsdWUuaXNWYWxpZCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBtb2RpZnkobW9kaWZpZXI6IChhOlJhd1ZhbHVlVHlwZSkgPT4gUmF3VmFsdWVUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZTxUPihcclxuICAgICAgICAgICAgbW9kaWZpZXIodGhpcy5yYXdWYWx1ZSksXHJcbiAgICAgICAgICAgIHRoaXMudHlwZSxcclxuICAgICAgICAgICAgdGhpcy5pc1ZhbGlkKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVTdHJpbmcoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmFsdWVTdHJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZS52YWx1ZVRvU3RyaW5nKHRoaXMucmF3VmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRPRE86IHBlcmhhcHMgdGhpcyBzaG91bGQgYmUgbW92ZWQgdG8gdGhlIG9zdHJlYW0gY2xhc3NcclxuICAgIHB1YmxpYyB2YWx1ZVRvT3N0cmVhbVN0cmluZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50eXBlLnZhbHVlVG9Pc3RyZWFtU3RyaW5nKHRoaXMucmF3VmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBzaG91bGQgYmUgdXNlZCBWRVJZIFJBUkVMWS4gVGhlIG9ubHkgdGltZSB0byB1c2UgaXQgaXMgaWYgeW91IGhhdmUgYSB0ZW1wb3JhcnkgVmFsdWUgaW5zdGFuY2VcclxuICAgICAqIHRoYXQgeW91J3JlIHVzaW5nIGxvY2FsbHkgYW5kIHdhbnQgdG8ga2VlcCB1cGRhdGluZyBpdHMgcmF3IHZhbHVlIHRvIHNvbWV0aGluZyBlbHNlIGJlZm9yZSBwYXNzaW5nXHJcbiAgICAgKiB0byBzb21ldGhpbmcgbGlrZSBtZW1vcnkuZGVyZWZlcmVuY2UoKS4gRm9yIGV4YW1wbGUsIHRoaXMgaXMgZG9uZSB3aGVuIHRyYXZlcnNpbmcgdGhyb3VnaCBhIGNzdHJpbmcgYnlcclxuICAgICAqIGdldHRpbmcgdGhlIHZhbHVlIG9mIHRoZSBwb2ludGVyIGluaXRpYWxseSwgdGhlbiBhZCBob2MgdXBkYXRpbmcgdGhhdCB2YWx1ZSBhcyB5b3UgbW92ZSB0aHJvdWdoIHRoZSBjc3RyaW5nLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0UmF3VmFsdWUocmF3VmFsdWU6IFJhd1ZhbHVlVHlwZSkge1xyXG4gICAgICAgICg8UmF3VmFsdWVUeXBlPnRoaXMucmF3VmFsdWUpID0gcmF3VmFsdWU7XHJcbiAgICAgICAgKDxib29sZWFuPnRoaXMuaXNWYWxpZCkgPSB0aGlzLmlzVmFsaWQgJiYgdGhpcy50eXBlLmlzVmFsdWVWYWxpZCh0aGlzLnJhd1ZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzY3JpYmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgbWVzc2FnZTogdGhpcy52YWx1ZVN0cmluZygpIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBNZW1vcnkge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX25hbWUgPSBcIk1lbW9yeVwiO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUodGhpcyk7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGNhcGFjaXR5OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RhdGljQ2FwYWNpdHk6IG51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSBzdGFja0NhcGFjaXR5OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaGVhcENhcGFjaXR5OiBudW1iZXI7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHN0YXRpY1N0YXJ0OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RhdGljRW5kOiBudW1iZXI7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHN0YWNrU3RhcnQ6IG51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSBzdGFja0VuZDogbnVtYmVyO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBoZWFwU3RhcnQ6IG51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSBoZWFwRW5kOiBudW1iZXI7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHRlbXBvcmFyeVN0YXJ0OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGVtcG9yYXJ5Q2FwYWNpdHk6IG51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSB0ZW1wb3JhcnlFbmQ6IG51bWJlcjtcclxuXHJcbiAgICAvLyBEZWZpbml0ZSBhc3NpZ25tZW50IGFzc2VydGlvbnMgd2l0aCAhIGFyZSBmb3IgcHJvcGVydGllcyBpbml0aWFsaXplZCBpbiB0aGUgcmVzZXQgZnVuY3Rpb24gY2FsbGVkXHJcbiAgICAvLyBhdCB0aGUgZW5kIG9mIHRoZSBjb25zdHJ1Y3Rvci5cclxuICAgIHByaXZhdGUgYnl0ZXMhOiBSYXdWYWx1ZVR5cGVbXTsgLy9UT0RPOiBIYWNrIC0gaW5zdGVhZCBvZiByZWFsIGJ5dGVzLCBtZW1vcnkganVzdCBzdG9yZXMgdGhlIHJhdyB2YWx1ZSBpbiB0aGUgZmlyc3QgYnl0ZSBvZiBhbiBvYmplY3RcclxuICAgIHByaXZhdGUgb2JqZWN0cyE6IHsgW2luZGV4OiBudW1iZXJdOiBDUFBPYmplY3Q8T2JqZWN0VHlwZT4gfTtcclxuICAgIHByaXZhdGUgc3RyaW5nTGl0ZXJhbE1hcCE6IHsgW2luZGV4OiBzdHJpbmddOiBTdHJpbmdMaXRlcmFsT2JqZWN0IH07XHJcbiAgICBwcml2YXRlIHN0YXRpY09iamVjdHMhOiB7IFtpbmRleDogc3RyaW5nXTogU3RhdGljT2JqZWN0IH07XHJcbiAgICBwcml2YXRlIHRlbXBvcmFyeU9iamVjdHMhOiB7IFtpbmRleDogbnVtYmVyXTogVGVtcG9yYXJ5T2JqZWN0IH07XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RhY2shOiBNZW1vcnlTdGFjaztcclxuICAgIHB1YmxpYyByZWFkb25seSBoZWFwITogTWVtb3J5SGVhcDtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpY1RvcCE6IG51bWJlcjtcclxuICAgIHByaXZhdGUgdGVtcG9yYXJ5Qm90dG9tITogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNhcGFjaXR5PzogbnVtYmVyLCBzdGF0aWNDYXBhY2l0eT86IG51bWJlciwgc3RhY2tDYXBhY2l0eT86IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuY2FwYWNpdHkgPSBjYXBhY2l0eSB8fCAxMDAwMDtcclxuICAgICAgICB0aGlzLnN0YXRpY0NhcGFjaXR5ID0gc3RhdGljQ2FwYWNpdHkgfHwgTWF0aC5mbG9vcih0aGlzLmNhcGFjaXR5IC8gMTApO1xyXG4gICAgICAgIHRoaXMuc3RhY2tDYXBhY2l0eSA9IHN0YWNrQ2FwYWNpdHkgfHwgTWF0aC5mbG9vcigodGhpcy5jYXBhY2l0eSAtIHRoaXMuc3RhdGljQ2FwYWNpdHkpIC8gMik7XHJcbiAgICAgICAgdGhpcy5oZWFwQ2FwYWNpdHkgPSB0aGlzLmNhcGFjaXR5IC0gdGhpcy5zdGF0aWNDYXBhY2l0eSAtIHRoaXMuc3RhY2tDYXBhY2l0eTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0aWNTdGFydCA9IDA7XHJcbiAgICAgICAgdGhpcy5zdGF0aWNFbmQgPSB0aGlzLnN0YXRpY1N0YXJ0ICsgdGhpcy5zdGF0aWNDYXBhY2l0eTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGFja1N0YXJ0ID0gdGhpcy5zdGF0aWNFbmQ7XHJcbiAgICAgICAgdGhpcy5zdGFja0VuZCA9IHRoaXMuc3RhY2tTdGFydCArIHRoaXMuc3RhY2tDYXBhY2l0eTtcclxuXHJcbiAgICAgICAgdGhpcy5oZWFwU3RhcnQgPSB0aGlzLnN0YWNrRW5kO1xyXG4gICAgICAgIHRoaXMuaGVhcEVuZCA9IHRoaXMuaGVhcFN0YXJ0ICsgdGhpcy5oZWFwQ2FwYWNpdHk7XHJcblxyXG4gICAgICAgIHRoaXMudGVtcG9yYXJ5U3RhcnQgPSB0aGlzLmhlYXBFbmQgKyAxMDA7XHJcbiAgICAgICAgdGhpcy50ZW1wb3JhcnlDYXBhY2l0eSA9IDEwMDAwO1xyXG4gICAgICAgIHRoaXMudGVtcG9yYXJ5RW5kID0gdGhpcy50ZW1wb3JhcnlTdGFydCArIHRoaXMudGVtcG9yYXJ5Q2FwYWNpdHk7XHJcblxyXG4gICAgICAgIGFzc2VydCh0aGlzLnN0YXRpY0NhcGFjaXR5IDwgdGhpcy5jYXBhY2l0eSAmJiB0aGlzLnN0YWNrQ2FwYWNpdHkgPCB0aGlzLmNhcGFjaXR5ICYmIHRoaXMuaGVhcENhcGFjaXR5IDwgdGhpcy5jYXBhY2l0eSk7XHJcbiAgICAgICAgYXNzZXJ0KHRoaXMuaGVhcEVuZCA9PSB0aGlzLmNhcGFjaXR5KTtcclxuXHJcbiAgICAgICAgdGhpcy5yZXNldCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZXNldCgpIHtcclxuXHJcbiAgICAgICAgLy8gbWVtb3J5IGlzIGEgc2VxdWVuY2Ugb2YgYnl0ZXMsIGFkZHJlc3NlcyBzdGFydGluZyBhdCAwXHJcbiAgICAgICAgdGhpcy5ieXRlcyA9IG5ldyBBcnJheSh0aGlzLmNhcGFjaXR5ICsgdGhpcy50ZW1wb3JhcnlDYXBhY2l0eSk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNhcGFjaXR5ICsgdGhpcy50ZW1wb3JhcnlDYXBhY2l0eTsgKytpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnl0ZXNbaV0gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5vYmplY3RzID0ge307XHJcbiAgICAgICAgdGhpcy5zdHJpbmdMaXRlcmFsTWFwID0ge307XHJcbiAgICAgICAgdGhpcy5zdGF0aWNUb3AgPSB0aGlzLnN0YXRpY1N0YXJ0ICsgNDtcclxuICAgICAgICB0aGlzLnN0YXRpY09iamVjdHMgPSB7fTtcclxuICAgICAgICB0aGlzLnRlbXBvcmFyeUJvdHRvbSA9IHRoaXMudGVtcG9yYXJ5U3RhcnQ7XHJcblxyXG4gICAgICAgICg8TXV0YWJsZTx0aGlzPj50aGlzKS5zdGFjayA9IG5ldyBNZW1vcnlTdGFjayh0aGlzLCB0aGlzLnN0YXRpY0VuZCk7XHJcbiAgICAgICAgKDxNdXRhYmxlPHRoaXM+PnRoaXMpLmhlYXAgPSBuZXcgTWVtb3J5SGVhcCh0aGlzLCB0aGlzLmhlYXBFbmQpO1xyXG4gICAgICAgIHRoaXMudGVtcG9yYXJ5T2JqZWN0cyA9IHt9O1xyXG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwicmVzZXRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEJ5dGUoYWRkcjogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYnl0ZXNbYWRkcl07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlYWRCeXRlKGFkZHI6IG51bWJlcikge1xyXG5cclxuICAgICAgICAvLyBOb3RpZnkgYW55IG90aGVyIG9iamVjdCB0aGF0IGlzIGludGVyZXN0ZWQgaW4gdGhhdCBieXRlXHJcbiAgICAgICAgLy8gdmFyIGJlZ2luID0gYWQgLSBUeXBlLmdldE1heFNpemUoKTtcclxuICAgICAgICAvL2Zvcih2YXIgaSA9IGFkOyBiZWdpbiA8IGk7IC0taSl7XHJcbiAgICAgICAgLy8gICAgdmFyIG9iaiA9IHRoaXMub2JqZWN0c1tpXTtcclxuICAgICAgICAvLyAgICBpZiAob2JqID09IGZyb21PYmopIHsgY29udGludWU7IH1cclxuICAgICAgICAvLyAgICBpZiAob2JqICYmIG9iai5zaXplID4gYWQgLSBpKXtcclxuICAgICAgICAvLyAgICAgICAgb2JqLmJ5dGVSZWFkKGFkKTtcclxuICAgICAgICAvLyAgICB9XHJcbiAgICAgICAgLy99XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYnl0ZXNbYWRkcl07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEJ5dGVzKGFkZHI6IG51bWJlciwgbnVtOiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ieXRlcy5zbGljZShhZGRyLCBhZGRyICsgbnVtKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVhZEJ5dGVzKGFkZHI6IG51bWJlciwgbnVtOiBudW1iZXIpIHtcclxuICAgICAgICB2YXIgZW5kID0gYWRkciArIG51bTtcclxuXHJcbiAgICAgICAgLy8gTm90aWZ5IGFueSBvdGhlciBvYmplY3QgdGhhdCBpcyBpbnRlcmVzdGVkIGluIHRoYXQgYnl0ZVxyXG4gICAgICAgIC8vIHZhciBiZWdpbiA9IGFkIC0gVHlwZS5nZXRNYXhTaXplKCk7XHJcbiAgICAgICAgLy9mb3IodmFyIGkgPSBlbmQtMTsgYmVnaW4gPCBpOyAtLWkpe1xyXG4gICAgICAgIC8vICAgIHZhciBvYmogPSB0aGlzLm9iamVjdHNbaV07XHJcbiAgICAgICAgLy8gICAgaWYgKG9iaiA9PSBmcm9tT2JqKSB7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgLy8gICAgaWYgKG9iaiAmJiBvYmouc2l6ZSA+IGFkIC0gaSl7XHJcbiAgICAgICAgLy8gICAgICAgIG9iai5ieXRlc1JlYWQoYWQsIGVuZC1hZCk7Ly8uc2VuZChcImJ5dGVzUmVhZFwiLCB7YWRkcjogYWQsIGxlbmd0aDogZW5kLWFkfSk7XHJcbiAgICAgICAgLy8gICAgfVxyXG4gICAgICAgIC8vfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5ieXRlcy5zbGljZShhZGRyLCBlbmQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRCeXRlKGFkZHI6IG51bWJlciwgdmFsdWU6IFJhd1ZhbHVlVHlwZSkge1xyXG4gICAgICAgIHRoaXMuYnl0ZXNbYWRkcl0gPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgLy8gTm90aWZ5IGFueSBvYmplY3QgdGhhdCBpcyBpbnRlcmVzdGVkIGluIHRoYXQgYnl0ZVxyXG4gICAgICAgIC8vIHZhciBiZWdpbiA9IGFkIC0gVHlwZS5nZXRNYXhTaXplKCk7XHJcbiAgICAgICAgLy9mb3IodmFyIGkgPSBhZDsgYmVnaW4gPCBpOyAtLWkpe1xyXG4gICAgICAgIC8vICAgIHZhciBvYmogPSB0aGlzLm9iamVjdHNbaV07XHJcbiAgICAgICAgLy8gICAgaWYgKG9iaiAmJiBvYmouc2l6ZSA+IGFkIC0gaSl7XHJcbiAgICAgICAgLy8gICAgICAgIG9iai5ieXRlU2V0KGFkLCB2YWx1ZSk7Ly8uc2VuZChcImJ5dGVTZXRcIiwge2FkZHI6IGFkLCB2YWx1ZTogdmFsdWV9KTtcclxuICAgICAgICAvLyAgICB9XHJcbiAgICAgICAgLy99XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHdyaXRlQnl0ZShhZGRyOiBudW1iZXIsIHZhbHVlOiBSYXdWYWx1ZVR5cGUpIHtcclxuICAgICAgICB0aGlzLmJ5dGVzW2FkZHJdID0gdmFsdWU7XHJcblxyXG4gICAgICAgIC8vIE5vdGlmeSBhbnkgb3RoZXIgb2JqZWN0IHRoYXQgaXMgaW50ZXJlc3RlZCBpbiB0aGF0IGJ5dGVcclxuICAgICAgICAvLyB2YXIgYmVnaW4gPSBhZCAtIFR5cGUuZ2V0TWF4U2l6ZSgpO1xyXG4gICAgICAgIC8vZm9yKHZhciBpID0gYWQ7IGJlZ2luIDwgaTsgLS1pKXtcclxuICAgICAgICAvLyAgICB2YXIgb2JqID0gdGhpcy5vYmplY3RzW2ldO1xyXG4gICAgICAgIC8vICAgIGlmIChvYmogPT0gZnJvbU9iaikgeyBjb250aW51ZTsgfVxyXG4gICAgICAgIC8vICAgIGlmIChvYmogJiYgb2JqLnNpemUgPiBhZCAtIGkpe1xyXG4gICAgICAgIC8vICAgICAgICBvYmouYnl0ZVdyaXR0ZW4oYWQsIHZhbHVlKTsvLy5zZW5kKFwiYnl0ZVdyaXR0ZW5cIiwge2FkZHI6IGFkLCB2YWx1ZTogdmFsdWV9KTtcclxuICAgICAgICAvLyAgICB9XHJcbiAgICAgICAgLy99XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldEJ5dGVzKGFkZHI6IG51bWJlciwgdmFsdWVzOiBSYXdWYWx1ZVR5cGVbXSkge1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICB0aGlzLmJ5dGVzW2FkZHIgKyBpXSA9IHZhbHVlc1tpXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE5vdGlmeSBhbnkgb3RoZXIgb2JqZWN0IHRoYXQgaXMgaW50ZXJlc3RlZCBpbiB0aGF0IGJ5dGVcclxuICAgICAgICAvL3ZhciBiZWdpbiA9IGFkIC0gVHlwZS5nZXRNYXhTaXplKCk7XHJcbiAgICAgICAgLy9mb3IodmFyIGkgPSBhZCt2YWx1ZXMubGVuZ3RoOyBiZWdpbiA8IGk7IC0taSl7XHJcbiAgICAgICAgLy8gICAgdmFyIG9iaiA9IHRoaXMub2JqZWN0c1tpXTtcclxuICAgICAgICAvLyAgICBpZiAob2JqICYmIG9iai5zaXplID4gYWQgLSBpKXtcclxuICAgICAgICAvLyAgICAgICAgb2JqLmJ5dGVzU2V0KGFkLCB2YWx1ZXMpOy8vLnNlbmQoXCJieXRlU2V0XCIsIHthZGRyOiBhZCwgdmFsdWVzOiB2YWx1ZXN9KTtcclxuICAgICAgICAvLyAgICB9XHJcbiAgICAgICAgLy99XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHdyaXRlQnl0ZXMoYWRkcjogbnVtYmVyLCB2YWx1ZXM6IFJhd1ZhbHVlVHlwZVtdKSB7XHJcblxyXG4gICAgICAgIC8vVE9ETyByZW1vdmUgdGhpcyBjb21tZW50ZWQgY29kZVxyXG4gICAgICAgIC8vaWYgKGlzQShmcm9tT2JqLCBUZW1wb3JhcnlPYmplY3QpKXtcclxuICAgICAgICAvLyAgICB2YXIgb2JqQnl0ZXMgPSB0aGlzLnRlbXBvcmFyeU9iamVjdHNbZnJvbU9iai5lbnRpdHlJZF07XHJcbiAgICAgICAgLy8gICAgaWYgKCFvYmpCeXRlcyl7XHJcbiAgICAgICAgLy8gICAgICAgIG9iakJ5dGVzID0gbmV3IEFycmF5KGZyb21PYmouc2l6ZSk7XHJcbiAgICAgICAgLy8gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBmcm9tT2JqLnNpemU7ICsraSl7XHJcbiAgICAgICAgLy8gICAgICAgICAgICBvYmpCeXRlc1tpXSA9IDA7XHJcbiAgICAgICAgLy8gICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgdGhpcy50ZW1wb3JhcnlPYmplY3RzW2Zyb21PYmouZW50aXR5SWRdID0gb2JqQnl0ZXM7XHJcbiAgICAgICAgLy8gICAgfVxyXG4gICAgICAgIC8vICAgIHJldHVybjtcclxuICAgICAgICAvL31cclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgdGhpcy5ieXRlc1thZGRyICsgaV0gPSB2YWx1ZXNbaV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBOb3RpZnkgYW55IG90aGVyIG9iamVjdCB0aGF0IGlzIGludGVyZXN0ZWQgaW4gdGhhdCBieXRlXHJcbiAgICAgICAgLy92YXIgYmVnaW4gPSBhZCAtIFR5cGUuZ2V0TWF4U2l6ZSgpO1xyXG4gICAgICAgIC8vZm9yKHZhciBpID0gYWQrdmFsdWVzLmxlbmd0aC0xOyBiZWdpbiA8IGk7IC0taSl7XHJcbiAgICAgICAgLy8gICAgdmFyIG9iaiA9IHRoaXMub2JqZWN0c1tpXTtcclxuICAgICAgICAvLyAgICBpZiAob2JqID09IGZyb21PYmopIHsgY29udGludWU7IH1cclxuICAgICAgICAvLyAgICBpZiAob2JqICYmIG9iai5zaXplID4gYWQgLSBpKXtcclxuICAgICAgICAvLyAgICAgICAgb2JqLmJ5dGVzV3JpdHRlbihhZCwgdmFsdWVzKTsvLy5zZW5kKFwiYnl0ZXNXcml0dGVuXCIsIHthZGRyOiBhZCwgdmFsdWVzOiB2YWx1ZXN9KTtcclxuICAgICAgICAvLyAgICB9XHJcbiAgICAgICAgLy99XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQXR0ZW1wdHMgdG8gZGVyZWZlcmVuY2UgYSBwb2ludGVyIGFuZCByZXRyZWl2ZSB0aGUgb2JqZWN0IGl0IHBvaW50cyB0by5cclxuICAgIC8vIFRha2VzIGluIGEgVmFsdWUgb2YgcG9pbnRlciB0eXBlLiBNdXN0IHBvaW50IHRvIGFuIG9iamVjdCB0eXBlLlxyXG4gICAgLy8gUmV0dXJucyB0aGUgbW9zdCByZWNlbnRseSBhbGxvY2F0ZWQgb2JqZWN0IGF0IHRoZSBnaXZlbiBhZGRyZXNzLlxyXG4gICAgLy8gVGhpcyBtYXkgYmUgYW4gb2JqZWN0IHdoaWNoIGlzIG5vIGxvbmdlciBhbGl2ZSAoaGFzIGJlZW4gZGVhbGxvY2F0ZWQpLlxyXG4gICAgLy8gSWYgbm8gb2JqZWN0IGlzIGZvdW5kLCBvciBhbiBvYmplY3Qgb2YgYSB0eXBlIHRoYXQgZG9lcyBub3QgbWF0Y2ggdGhlIHBvaW50ZWQtdG8gdHlwZSBpcyBmb3VuZCxcclxuICAgIC8vIHJldHVybnMgYW4gYW5vbnltb3VzIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGdpdmVuIGFkZHJlc3MgaW50ZXJwcmV0ZWQgYXMgdGhlIHJlcXVlc3RlZCB0eXBlLlxyXG4gICAgLy8gKEluIEMrKywgcmVhZGluZy93cml0aW5nIHRvIHRoaXMgb2JqZWN0IHdpbGwgY2F1c2UgdW5kZWZpbmVkIGJlaGF2aW9yLilcclxuICAgIC8vIFRPRE86IHByZXZlbnQgd3JpdGluZyB0byB6ZXJvIG9yIG5lZ2F0aXZlIGFkZHJlc3Mgb2JqZWN0cz9cclxuICAgIHB1YmxpYyBkZXJlZmVyZW5jZShwdHI6IFZhbHVlPFBvaW50ZXJUeXBlPikge1xyXG4gICAgICAgIGFzc2VydChwdHIudHlwZS5pc09iamVjdFBvaW50ZXIoKSk7XHJcblxyXG4gICAgICAgIHZhciBhZGRyID0gcHRyLnJhd1ZhbHVlO1xyXG5cclxuICAgICAgICAvLyBIYW5kbGUgc3BlY2lhbCBjYXNlcyBmb3IgcG9pbnRlcnMgd2l0aCBSVFRJXHJcbiAgICAgICAgaWYgKHB0ci50eXBlIGluc3RhbmNlb2YgQXJyYXlQb2ludGVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwdHIudHlwZS5hcnJheU9iamVjdC5nZXRBcnJheUVsZW1TdWJvYmplY3RCeUFkZHJlc3MoYWRkcik7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHRyLnR5cGUgaW5zdGFuY2VvZiBPYmplY3RQb2ludGVyICYmIHB0ci50eXBlLmlzVmFsdWVWYWxpZChhZGRyKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcHRyLnR5cGUucG9pbnRlZE9iamVjdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEdyYWIgb2JqZWN0IGZyb20gbWVtb3J5XHJcbiAgICAgICAgdmFyIG9iaiA9IHRoaXMub2JqZWN0c1thZGRyXTtcclxuXHJcbiAgICAgICAgaWYgKG9iaiAmJiAoc2ltaWxhclR5cGUob2JqLnR5cGUsIHB0ci50eXBlLnB0clRvKSB8fCBzdWJUeXBlKG9iai50eXBlLCBwdHIudHlwZS5wdHJUbykpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvYmo7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiB0aGUgb2JqZWN0IHdhc24ndCB0aGVyZSBvciBkb2Vzbid0IG1hdGNoIHRoZSB0eXBlIHdlIGFza2VkIGZvciAoaWdub3JpbmcgY29uc3QpXHJcbiAgICAgICAgLy8gdGhlbiB3ZSBuZWVkIHRvIGNyZWF0ZSBhbiBhbm9ueW1vdXMgb2JqZWN0IG9mIHRoZSBhcHByb3ByaWF0ZSB0eXBlIGluc3RlYWRcclxuICAgICAgICByZXR1cm4gbmV3IEludmFsaWRPYmplY3QocHRyLnR5cGUsIHRoaXMsIGFkZHIpO1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgcHJpdmF0ZSBhbGxvY2F0ZU9iamVjdChvYmplY3Q6IENQUE9iamVjdDxPYmplY3RUeXBlPikge1xyXG4gICAgICAgIHRoaXMub2JqZWN0c1tvYmplY3QuYWRkcmVzc10gPSBvYmplY3Q7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFbmRzIHRoZSBsaWZldGltZSBvZiBhbiBvYmplY3QgYXQgdGhlIGdpdmVuIGFkZHJlc3MuIEl0cyBkYXRhIGFjdHVhbGx5IHJlbWFpbnMgaW4gbWVtb3J5LCBidXQgaXMgbWFya2VkIGFzIGRlYWQgYW5kIGludmFsaWQuXHJcbiAgICAgKiBJZiBubyBvYmplY3QgZXhpc3RzIGF0IHRoZSBnaXZlbiBhZGRyZXNzLCBkb2VzIG5vdGhpbmcuIElmIHRoZSBvYmplY3QgaXMgYWxyZWFkeSBkZWFkLCBkb2VzIG5vdGhpbmcuXHJcbiAgICAgKiBAcGFyYW0gYWRkciBcclxuICAgICAqIEBwYXJhbSBraWxsZXIgVGhlIHJ1bnRpbWUgY29uc3RydWN0IHRoYXQga2lsbGVkIHRoZSBvYmplY3RcclxuICAgICAqL1xyXG4gICAgcHVibGljIGtpbGxPYmplY3QoYWRkcjogbnVtYmVyLCBraWxsZXI/OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgbGV0IG9iaiA9IHRoaXMub2JqZWN0c1thZGRyXTtcclxuICAgICAgICBpZiAob2JqICYmIG9iai5pc0FsaXZlKSB7XHJcbiAgICAgICAgICAgIG9iai5raWxsKGtpbGxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhbGxvY2F0ZVN0cmluZ0xpdGVyYWwoc3RyaW5nTGl0ZXJhbEVudGl0eTogU3RyaW5nTGl0ZXJhbEVudGl0eSkge1xyXG4gICAgICAgIHZhciBzdHIgPSBzdHJpbmdMaXRlcmFsRW50aXR5LnN0cjtcclxuICAgICAgICBpZiAoIXRoaXMuc3RyaW5nTGl0ZXJhbE1hcFtzdHJdKSB7XHJcbiAgICAgICAgICAgIC8vIG9ubHkgbmVlZCB0byBhbGxvY2F0ZSBhIHN0cmluZyBsaXRlcmFsIG9iamVjdCBpZiB3ZSBkaWRuJ3QgYWxyZWFkeSBoYXZlIGFuIGlkZW50aWNhbCBvbmVcclxuICAgICAgICAgICAgdmFyIG9iamVjdCA9IHN0cmluZ0xpdGVyYWxFbnRpdHkub2JqZWN0SW5zdGFuY2UodGhpcywgdGhpcy5zdGF0aWNUb3ApO1xyXG4gICAgICAgICAgICB0aGlzLmFsbG9jYXRlT2JqZWN0KG9iamVjdCk7XHJcblxyXG4gICAgICAgICAgICAvLyByZWNvcmQgdGhlIHN0cmluZyBsaXRlcmFsIGluIGNhc2Ugd2Ugc2VlIG1vcmUgdGhhdCBhcmUgdGhlIHNhbWUgaW4gdGhlIGZ1dHVyZVxyXG4gICAgICAgICAgICB0aGlzLnN0cmluZ0xpdGVyYWxNYXBbc3RyXSA9IG9iamVjdDtcclxuXHJcbiAgICAgICAgICAgIC8vIHdyaXRlIHZhbHVlIG9mIHN0cmluZyBsaXRlcmFsIGludG8gdGhlIG9iamVjdFxyXG4gICAgICAgICAgICBDaGFyLmpzU3RyaW5nVG9OdWxsVGVybWluYXRlZENoYXJBcnJheShzdHIpLmZvckVhY2goKGMsIGkpID0+IHtcclxuICAgICAgICAgICAgICAgIG9iamVjdC5nZXRBcnJheUVsZW1TdWJvYmplY3QoaSkuc2V0VmFsdWUobmV3IFZhbHVlKGMsIENoYXIuQ0hBUikpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIGFkanVzdCBsb2NhdGlvbiBmb3IgbmV4dCBzdGF0aWMgb2JqZWN0XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGljVG9wICs9IG9iamVjdC5zaXplO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFN0cmluZ0xpdGVyYWwoc3RyOiBzdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdMaXRlcmFsTWFwW3N0cl07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFsbG9jYXRlU3RhdGljKGRlZjogQ29tcGlsZWRHbG9iYWxPYmplY3REZWZpbml0aW9uKSB7XHJcbiAgICAgICAgdmFyIG9iaiA9IG5ldyBTdGF0aWNPYmplY3QoZGVmLCBkZWYuZGVjbGFyZWRFbnRpdHkudHlwZSwgdGhpcywgdGhpcy5zdGF0aWNUb3ApO1xyXG4gICAgICAgIHRoaXMuYWxsb2NhdGVPYmplY3Qob2JqKTtcclxuICAgICAgICB0aGlzLnN0YXRpY1RvcCArPSBvYmouc2l6ZTtcclxuICAgICAgICB0aGlzLnN0YXRpY09iamVjdHNbZGVmLmRlY2xhcmVkRW50aXR5LnF1YWxpZmllZE5hbWVdID0gb2JqO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWNMb29rdXA8VCBleHRlbmRzIE9iamVjdFR5cGU+KHN0YXRpY0VudGl0eTogU3RhdGljRW50aXR5PFQ+KSB7XHJcbiAgICAgICAgcmV0dXJuIDxTdGF0aWNPYmplY3Q8VD4+dGhpcy5zdGF0aWNPYmplY3RzW3N0YXRpY0VudGl0eS5xdWFsaWZpZWROYW1lXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWxsb2NhdGVUZW1wb3JhcnlPYmplY3Q8VCBleHRlbmRzIE9iamVjdFR5cGU+KHRlbXBFbnRpdHk6IFRlbXBvcmFyeU9iamVjdEVudGl0eTxUPikge1xyXG4gICAgICAgIGxldCBvYmogPSBuZXcgVGVtcG9yYXJ5T2JqZWN0KHRlbXBFbnRpdHkudHlwZSwgdGhpcywgdGhpcy50ZW1wb3JhcnlCb3R0b20sIHRlbXBFbnRpdHkubmFtZSk7XHJcbiAgICAgICAgdGhpcy5hbGxvY2F0ZU9iamVjdChvYmopO1xyXG4gICAgICAgIHRoaXMudGVtcG9yYXJ5Qm90dG9tICs9IHRlbXBFbnRpdHkudHlwZS5zaXplO1xyXG4gICAgICAgIHRoaXMudGVtcG9yYXJ5T2JqZWN0c1t0ZW1wRW50aXR5LmVudGl0eUlkXSA9IG9iajtcclxuICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcInRlbXBvcmFyeU9iamVjdEFsbG9jYXRlZFwiLCBvYmopO1xyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIFRPRE86IHRoaW5rIG9mIHNvbWUgd2F5IHRvIHByZXZlbnQgYWNjaWRlbnRhbGx5IGNhbGxpbmcgdGhlIG90aGVyIGRlYWxsb2NhdGUgZGlyZWN0bHkgd2l0aCBhIHRlbXBvcmFyeSBvYmpcclxuICAgIHB1YmxpYyBkZWFsbG9jYXRlVGVtcG9yYXJ5T2JqZWN0KG9iajogVGVtcG9yYXJ5T2JqZWN0LCBraWxsZXI/OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgdGhpcy5raWxsT2JqZWN0KG9iai5hZGRyZXNzLCBraWxsZXIpO1xyXG4gICAgICAgIC8vdGhpcy50ZW1wb3JhcnlCb3R0b20gKz0gb2JqLnR5cGUuc2l6ZTtcclxuICAgICAgICBkZWxldGUgdGhpcy50ZW1wb3JhcnlPYmplY3RzW29iai5hZGRyZXNzXTtcclxuICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcInRlbXBvcmFyeU9iamVjdERlYWxsb2NhdGVkXCIsIG9iaik7XHJcbiAgICB9XHJcbn07XHJcblxyXG5jbGFzcyBNZW1vcnlTdGFjayB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBfbmFtZSA9ICBcIk1lbW9yeVN0YWNrXCI7XHJcbiAgICBcclxuICAgIHB1YmxpYyByZWFkb25seSBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUodGhpcyk7XHJcblxyXG4gICAgcHJpdmF0ZSB0b3A6IG51bWJlcjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgc3RhcnQ6IG51bWJlcjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgbWVtb3J5OiBNZW1vcnk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGZyYW1lczogTWVtb3J5RnJhbWVbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihtZW1vcnk6IE1lbW9yeSwgc3RhcnQ6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMubWVtb3J5ID0gbWVtb3J5O1xyXG4gICAgICAgIHRoaXMuc3RhcnQgPSBzdGFydDtcclxuICAgICAgICB0aGlzLnRvcCA9IHN0YXJ0O1xyXG4gICAgICAgIHRoaXMuZnJhbWVzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHVibGljIGNsZWFyKCkge1xyXG4gICAgLy8gICAgIHRoaXMuZnJhbWVzLmxlbmd0aCA9IDA7XHJcbiAgICAvLyAgICAgdGhpcy50b3AgPSB0aGlzLnN0YXJ0O1xyXG4gICAgLy8gfVxyXG5cclxuICAgIHB1YmxpYyB0b3BGcmFtZSgpIHtcclxuICAgICAgICByZXR1cm4gbGFzdCh0aGlzLmZyYW1lcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHB1c2hGcmFtZShydEZ1bmM6IFJ1bnRpbWVGdW5jdGlvbikge1xyXG4gICAgICAgIHZhciBmcmFtZSA9IG5ldyBNZW1vcnlGcmFtZSh0aGlzLm1lbW9yeSwgdGhpcy50b3AsIHJ0RnVuYyk7XHJcbiAgICAgICAgdGhpcy50b3AgKz0gZnJhbWUuc2l6ZTtcclxuICAgICAgICB0aGlzLmZyYW1lcy5wdXNoKGZyYW1lKTtcclxuICAgICAgICB0aGlzLm1lbW9yeS5vYnNlcnZhYmxlLnNlbmQoXCJmcmFtZVB1c2hlZFwiLCBmcmFtZSk7XHJcbiAgICAgICAgcmV0dXJuIGZyYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwb3BGcmFtZShydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgICAgIGxldCBmcmFtZSA9IHRoaXMuZnJhbWVzLnBvcCgpO1xyXG4gICAgICAgIGlmICghZnJhbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFzc2VydEZhbHNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZyYW1lLnBvcChydENvbnN0cnVjdCk7XHJcbiAgICAgICAgdGhpcy50b3AgLT0gZnJhbWUuc2l6ZTtcclxuICAgICAgICB0aGlzLm1lbW9yeS5vYnNlcnZhYmxlLnNlbmQoXCJmcmFtZVBvcHBlZFwiLCBmcmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRvU3RyaW5nKCkge1xyXG4gICAgICAgIHZhciBzdHIgPSBcIjx1bCBjbGFzcz1cXFwic3RhY2tGcmFtZXNcXFwiPlwiO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5mcmFtZXMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgdmFyIGZyYW1lID0gdGhpcy5mcmFtZXNbaV07XHJcbiAgICAgICAgICAgIHN0ciArPSBcIjxsaT5cIiArIGZyYW1lLnRvU3RyaW5nKCkgKyBcIjwvbGk+XCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN0ciArPSBcIjwvdWw+XCI7XHJcbiAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgTWVtb3J5SGVhcCB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBfbmFtZSA9IFwiTWVtb3J5SGVhcFwiO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUodGhpcyk7XHJcblxyXG4gICAgcHJpdmF0ZSBib3R0b206IG51bWJlcjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgZW5kOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IG1lbW9yeTogTWVtb3J5O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBvYmplY3RNYXA6IHtbaW5kZXg6bnVtYmVyXTogRHluYW1pY09iamVjdH07XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG1lbW9yeTogTWVtb3J5LCBlbmQ6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMubWVtb3J5ID0gbWVtb3J5O1xyXG4gICAgICAgIHRoaXMuZW5kID0gZW5kO1xyXG4gICAgICAgIHRoaXMuYm90dG9tID0gZW5kO1xyXG4gICAgICAgIHRoaXMub2JqZWN0TWFwID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHVibGljIGNsZWFyKCkge1xyXG4gICAgLy8gICAgIHRoaXMub2JqZWN0TWFwID0ge307XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gcHVibGljIGFsbG9jYXRlTmV3T2JqZWN0KG9iajogRHluYW1pY09iamVjdCkge1xyXG4gICAgLy8gICAgIHRoaXMuYm90dG9tIC09IG9iai50eXBlLnNpemU7XHJcbiAgICAvLyAgICAgdGhpcy5tZW1vcnkuYWxsb2NhdGVPYmplY3Qob2JqLCB0aGlzLmJvdHRvbSk7XHJcbiAgICAvLyAgICAgdGhpcy5vYmplY3RNYXBbb2JqLmFkZHJlc3NdID0gb2JqO1xyXG4gICAgLy8gICAgIHRoaXMubWVtb3J5Lm9ic2VydmFibGUuc2VuZChcImhlYXBPYmplY3RBbGxvY2F0ZWRcIiwgb2JqKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgZGVsZXRlT2JqZWN0KGFkZHI6IG51bWJlciwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgIC8vICAgICB2YXIgb2JqID0gdGhpcy5vYmplY3RNYXBbYWRkcl07XHJcbiAgICAvLyAgICAgaWYgKG9iaikge1xyXG4gICAgLy8gICAgICAgICBkZWxldGUgdGhpcy5vYmplY3RNYXBbYWRkcl07XHJcbiAgICAvLyAgICAgICAgIHRoaXMubWVtb3J5LmRlYWxsb2NhdGVPYmplY3QoYWRkciwgcnRDb25zdHJ1Y3QpO1xyXG4gICAgLy8gICAgICAgICB0aGlzLm1lbW9yeS5vYnNlcnZhYmxlLnNlbmQoXCJoZWFwT2JqZWN0RGVsZXRlZFwiLCBvYmopO1xyXG4gICAgLy8gICAgICAgICAvLyBOb3RlOiByZXNwb25zaWJpbGl0eSBmb3IgcnVubmluZyBkZXN0cnVjdG9yIGxpZXMgZWxzZXdoZXJlXHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIHJldHVybiBvYmo7XHJcbiAgICAvLyB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTWVtb3J5RnJhbWUge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgX25hbWUgPSBcIk1lbW9yeUZyYW1lXCI7XHJcbiAgICBcclxuICAgIHB1YmxpYyByZWFkb25seSBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUodGhpcyk7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBzdGFydDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBlbmQ6IG51bWJlcjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgbWVtb3J5OiBNZW1vcnk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGZ1bmM6IFJ1bnRpbWVGdW5jdGlvbjtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2l6ZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBsb2NhbE9iamVjdHNCeUVudGl0eUlkOiB7W2luZGV4Om51bWJlcl06IEF1dG9PYmplY3R9ID0ge307XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGxvY2FsUmVmZXJlbmNlc0J5RW50aXR5SWQ6IHtbaW5kZXg6bnVtYmVyXTogQ1BQT2JqZWN0IHwgdW5kZWZpbmVkfSA9IHt9O1xyXG4gICAgXHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG1lbW9yeTogTWVtb3J5LCBzdGFydDogbnVtYmVyLCBydEZ1bmM6IFJ1bnRpbWVGdW5jdGlvbikge1xyXG4gICAgICAgIHRoaXMubWVtb3J5ID0gbWVtb3J5O1xyXG4gICAgICAgIHRoaXMuc3RhcnQgPSBzdGFydDtcclxuICAgICAgICB0aGlzLmZ1bmMgPSBydEZ1bmM7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zaXplID0gMDtcclxuXHJcbiAgICAgICAgbGV0IGFkZHIgPSB0aGlzLnN0YXJ0O1xyXG5cclxuICAgICAgICAvLyBUT0RPOiBhZGQgdGhpcyBwb2ludGVyIGJhY2sgaW5cclxuICAgICAgICAvLyBpZiAodGhpcy5mdW5jLm1vZGVsLmlzTWVtYmVyRnVuY3Rpb24pIHtcclxuICAgICAgICAvLyAgICAgbGV0IG9iaiA9IG5ldyBUaGlzT2JqZWN0KG5ldyBPYmplY3RQb2ludGVyKHJ0RnVuYy5yZWNlaXZlciksIG1lbW9yeSwgYWRkcik7XHJcbiAgICAgICAgLy8gICAgIG9iai5zZXRWYWx1ZShydEZ1bmMucmVjZWl2ZXIuZ2V0UG9pbnRlclRvKCkpO1xyXG4gICAgICAgIC8vICAgICBhZGRyICs9IG9iai5zaXplO1xyXG5cclxuICAgICAgICAvLyAgICAgdGhpcy5sb2NhbE9iamVjdHNCeUVudGl0eUlkW29iai5lbnRpdHlJZF0gPSBvYmo7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuc2l6ZSArPSBvYmouc2l6ZTtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIC8vIFB1c2ggb2JqZWN0cyBmb3IgYWxsIGVudGl0aWVzIGluIHRoZSBibG9ja1xyXG4gICAgICAgIHJ0RnVuYy5tb2RlbC5jb250ZXh0LmZ1bmN0aW9uTG9jYWxzLmxvY2FsT2JqZWN0cy5mb3JFYWNoKChvYmpFbnRpdHkpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGlmIChvYmpFbnRpdHkgaW5zdGFuY2VvZiBBdXRvRW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYW5kIGFsbG9jYXRlIHRoZSBvYmplY3RcclxuICAgICAgICAgICAgICAgIGxldCBvYmogPSBuZXcgQXV0b09iamVjdChvYmpFbnRpdHkuZGVmaW5pdGlvbiwgb2JqRW50aXR5LnR5cGUsIG1lbW9yeSwgYWRkcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2FsT2JqZWN0c0J5RW50aXR5SWRbb2JqRW50aXR5LmVudGl0eUlkXSA9IG9iajtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBNb3ZlIG9uIHRvIG5leHQgYWRkcmVzcyBhZnRlcndhcmRcclxuICAgICAgICAgICAgICAgIGFkZHIgKz0gb2JqLnNpemU7XHJcbiAgICAgICAgICAgICAgICAoPE11dGFibGU8dGhpcz4+dGhpcykuc2l6ZSArPSBvYmouc2l6ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5lbmQgPSB0aGlzLnN0YXJ0ICsgdGhpcy5zaXplO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRPRE86IGlzIHRoaXMgZXZlciB1c2VkP1xyXG4gICAgcHVibGljIHRvU3RyaW5nKCkge1xyXG4gICAgICAgIHZhciBzdHIgPSBcIlwiO1xyXG4gICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmxvY2FsT2JqZWN0c0J5RW50aXR5SWQpIHtcclxuICAgICAgICAgICAgdmFyIG9iaiA9IHRoaXMubG9jYWxPYmplY3RzQnlFbnRpdHlJZFtrZXldO1xyXG4gICAgICAgICAgICAvL1x0XHRcdGlmICghb2JqLnR5cGUpe1xyXG4gICAgICAgICAgICAvLyBzdHIgKz0gXCI8c3BhbiBzdHlsZT1cXFwiYmFja2dyb3VuZC1jb2xvcjpcIiArIG9iai5jb2xvciArIFwiXFxcIj5cIiArIGtleSArIFwiID0gXCIgKyBvYmogKyBcIjwvc3Bhbj5cXG5cIjtcclxuICAgICAgICAgICAgc3RyICs9IFwiPHNwYW4+XCIgKyBvYmogKyBcIjwvc3Bhbj5cXG5cIjtcclxuICAgICAgICAgICAgLy9cdFx0XHR9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdHI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldExvY2FsT2JqZWN0PFQgZXh0ZW5kcyBPYmplY3RUeXBlPihlbnRpdHk6IEF1dG9FbnRpdHk8VD4pIHtcclxuICAgICAgICByZXR1cm4gPEF1dG9PYmplY3Q8VD4+dGhpcy5sb2NhbE9iamVjdHNCeUVudGl0eUlkW2VudGl0eS5lbnRpdHlJZF07XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgcmVmZXJlbmNlTG9va3VwPFQgZXh0ZW5kcyBPYmplY3RUeXBlPihlbnRpdHk6IExvY2FsUmVmZXJlbmNlRW50aXR5PFQ+KSB7XHJcbiAgICAgICAgcmV0dXJuIDxDUFBPYmplY3Q8VD4+dGhpcy5sb2NhbFJlZmVyZW5jZXNCeUVudGl0eUlkW2VudGl0eS5lbnRpdHlJZF0gfHwgYXNzZXJ0RmFsc2UoXCJBdHRlbXB0IHRvIGxvb2sgdXAgcmVmZXJyZWQgb2JqZWN0IGJlZm9yZSByZWZlcmVuY2Ugd2FzIGJvdW5kLlwiKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBiaW5kUmVmZXJlbmNlKGVudGl0eTogTG9jYWxSZWZlcmVuY2VFbnRpdHksIG9iajogQ1BQT2JqZWN0PE9iamVjdFR5cGU+KSB7XHJcbiAgICAgICAgdGhpcy5sb2NhbFJlZmVyZW5jZXNCeUVudGl0eUlkW2VudGl0eS5lbnRpdHlJZF0gPSBvYmo7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHVibGljIHNldFVwUmVmZXJlbmNlSW5zdGFuY2VzKCkge1xyXG4gICAgLy8gICAgIHRoaXMuc2NvcGUucmVmZXJlbmNlT2JqZWN0cy5mb3JFYWNoKChyZWY6IExvY2FsUmVmZXJlbmNlRW50aXR5KSA9PiB7XHJcbiAgICAvLyAgICAgICAgIHRoaXMubG9jYWxSZWZlcmVuY2VzQnlFbnRpdHlJZFtyZWYuZW50aXR5SWRdID0gdW5kZWZpbmVkO1xyXG4gICAgLy8gICAgICAgICAvL3NlbGYubWVtb3J5LmFsbG9jYXRlT2JqZWN0KHJlZiwgYWRkcik7XHJcbiAgICAvLyAgICAgICAgIC8vYWRkciArPSByZWYudHlwZS5zaXplO1xyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIHB1YmxpYyBwb3AocnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5sb2NhbE9iamVjdHNCeUVudGl0eUlkKSB7XHJcbiAgICAgICAgICAgIHZhciBvYmogPSB0aGlzLmxvY2FsT2JqZWN0c0J5RW50aXR5SWRba2V5XTtcclxuXHJcbiAgICAgICAgICAgIC8vIE5vdGUgdGhpcyBkb2VzIG5vdGhpbmcgaWYgdGhlIG9iamVjdCB3YXMgYWxyZWFkeSBkZWFsbG9jYXRlZCAoZS5nLiBnb2luZyBvdXQgb2Ygc2NvcGUgb2YgYSBuZXN0ZWQgYmxvY2ssIGRlc3RydWN0b3Igd2FzIGNhbGxlZClcclxuICAgICAgICAgICAgdGhpcy5tZW1vcnkua2lsbE9iamVjdChvYmouYWRkcmVzcywgcnRDb25zdHJ1Y3QpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn07IiwiaW1wb3J0IHsgRXhwcmVzc2lvbkFTVE5vZGUgfSBmcm9tIFwiLi9leHByZXNzaW9uc1wiO1xyXG5cclxuaW1wb3J0IHsgUG90ZW50aWFsRnVsbEV4cHJlc3Npb24sIEV4cHJlc3Npb25Db250ZXh0LCBSdW50aW1lQ29uc3RydWN0LCBDUFBDb25zdHJ1Y3QsIERlc2NyaXB0aW9uLCBTdWNjZXNzZnVsbHlDb21waWxlZCwgQ29tcGlsZWRUZW1wb3JhcnlEZWFsbG9jYXRvciwgUnVudGltZVBvdGVudGlhbEZ1bGxFeHByZXNzaW9uIH0gZnJvbSBcIi4vY29uc3RydWN0c1wiO1xyXG5cclxuaW1wb3J0IHsgVHlwZSwgT2JqZWN0VHlwZSwgQXRvbWljVHlwZSwgQXJpdGhtZXRpY1R5cGUsIEludGVncmFsVHlwZSwgRmxvYXRpbmdQb2ludFR5cGUsIFBvaW50ZXJUeXBlLCBSZWZlcmVuY2VUeXBlLCBDbGFzc1R5cGUsIEJvdW5kZWRBcnJheVR5cGUsIEFycmF5T2ZVbmtub3duQm91bmRUeXBlLCBGdW5jdGlvblR5cGUgfSBmcm9tIFwiLi90eXBlc1wiO1xyXG5cclxuaW1wb3J0IHsgQ29uc3RydWN0b3IsIE11dGFibGUgfSBmcm9tIFwiLi4vdXRpbC91dGlsXCI7XHJcblxyXG5pbXBvcnQgeyBGdW5jdGlvbkVudGl0eSB9IGZyb20gXCIuL2VudGl0aWVzXCI7XHJcblxyXG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuL3J1bnRpbWVFbnZpcm9ubWVudFwiO1xyXG5cclxuaW1wb3J0IHsgQ1BQT2JqZWN0IH0gZnJvbSBcIi4vb2JqZWN0c1wiO1xyXG5cclxuXHJcbmV4cG9ydCB0eXBlIFZhbHVlQ2F0ZWdvcnkgPSBcInBydmFsdWVcIiB8IFwibHZhbHVlXCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRXhwcmVzc2lvbjxBU1RUeXBlIGV4dGVuZHMgRXhwcmVzc2lvbkFTVE5vZGUgPSBFeHByZXNzaW9uQVNUTm9kZT4gZXh0ZW5kcyBQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbjxFeHByZXNzaW9uQ29udGV4dCwgQVNUVHlwZT4ge1xyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCByZWFkb25seSB0eXBlPzogVHlwZTtcclxuICAgIHB1YmxpYyBhYnN0cmFjdCByZWFkb25seSB2YWx1ZUNhdGVnb3J5PzogVmFsdWVDYXRlZ29yeTtcclxuICAgIHB1YmxpYyByZWFkb25seSBjb252ZXJzaW9uTGVuZ3RoOiBudW1iZXIgPSAwO1xyXG5cclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3Rvcihjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkge1xyXG4gICAgICAgIHN1cGVyKGNvbnRleHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbjxUIGV4dGVuZHMgVHlwZSA9IFR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5ID0gVmFsdWVDYXRlZ29yeT4odGhpczogQ29tcGlsZWRFeHByZXNzaW9uPFQsVj4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lRXhwcmVzc2lvbjxULFY+O1xyXG5cclxuICAgIHB1YmxpYyBpc1dlbGxUeXBlZCgpIDogdGhpcyBpcyBTcGVjaWZpY1R5cGVkRXhwcmVzc2lvbjxUeXBlLFZhbHVlQ2F0ZWdvcnk+IHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLnR5cGUgJiYgISF0aGlzLnZhbHVlQ2F0ZWdvcnk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzVHlwZWQ8VCBleHRlbmRzIFR5cGU+KGN0b3I6IENvbnN0cnVjdG9yPFQ+KSA6IHRoaXMgaXMgU3BlY2lmaWNUeXBlZEV4cHJlc3Npb248VCwgVmFsdWVDYXRlZ29yeT4ge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMudHlwZSAmJiB0aGlzLnR5cGUuaXNUeXBlKGN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc09iamVjdFR5cGVkKCkgOiB0aGlzIGlzIFNwZWNpZmljVHlwZWRFeHByZXNzaW9uPE9iamVjdFR5cGUsIFZhbHVlQ2F0ZWdvcnk+IHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLnR5cGUgJiYgdGhpcy50eXBlLmlzT2JqZWN0VHlwZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0F0b21pY1R5cGVkKCkgOiB0aGlzIGlzIFNwZWNpZmljVHlwZWRFeHByZXNzaW9uPEF0b21pY1R5cGUsIFZhbHVlQ2F0ZWdvcnk+IHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLnR5cGUgJiYgdGhpcy50eXBlLmlzQXRvbWljVHlwZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0FyaXRobWV0aWNUeXBlZCgpIDogdGhpcyBpcyBTcGVjaWZpY1R5cGVkRXhwcmVzc2lvbjxBcml0aG1ldGljVHlwZSwgVmFsdWVDYXRlZ29yeT4ge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMudHlwZSAmJiB0aGlzLnR5cGUuaXNBcml0aG1ldGljVHlwZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0ludGVncmFsVHlwZWQoKSA6IHRoaXMgaXMgU3BlY2lmaWNUeXBlZEV4cHJlc3Npb248SW50ZWdyYWxUeXBlLCBWYWx1ZUNhdGVnb3J5PiB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy50eXBlICYmIHRoaXMudHlwZS5pc0ludGVncmFsVHlwZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0Zsb2F0aW5nUG9pbnRUeXBlZCgpIDogdGhpcyBpcyBTcGVjaWZpY1R5cGVkRXhwcmVzc2lvbjxGbG9hdGluZ1BvaW50VHlwZSwgVmFsdWVDYXRlZ29yeT4ge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMudHlwZSAmJiB0aGlzLnR5cGUuaXNGbG9hdGluZ1BvaW50VHlwZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc1BvaW50ZXJUeXBlZCgpIDogdGhpcyBpcyBTcGVjaWZpY1R5cGVkRXhwcmVzc2lvbjxQb2ludGVyVHlwZSwgVmFsdWVDYXRlZ29yeT4ge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMudHlwZSAmJiB0aGlzLnR5cGUuaXNQb2ludGVyVHlwZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc1JlZmVyZW5jZVR5cGVkKCkgOiB0aGlzIGlzIFNwZWNpZmljVHlwZWRFeHByZXNzaW9uPFJlZmVyZW5jZVR5cGUsIFZhbHVlQ2F0ZWdvcnk+IHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLnR5cGUgJiYgdGhpcy50eXBlLmlzUmVmZXJlbmNlVHlwZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0NsYXNzVHlwZWQoKSA6IHRoaXMgaXMgU3BlY2lmaWNUeXBlZEV4cHJlc3Npb248Q2xhc3NUeXBlLCBWYWx1ZUNhdGVnb3J5PiB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy50eXBlICYmIHRoaXMudHlwZS5pc0NsYXNzVHlwZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0JvdW5kZWRBcnJheVR5cGVkKCkgOiB0aGlzIGlzIFNwZWNpZmljVHlwZWRFeHByZXNzaW9uPEJvdW5kZWRBcnJheVR5cGUsIFwibHZhbHVlXCI+IHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLnR5cGUgJiYgdGhpcy50eXBlLmlzQm91bmRlZEFycmF5VHlwZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0FycmF5T2ZVbmtub3duQm91bmRUeXBlZCgpIDogdGhpcyBpcyBTcGVjaWZpY1R5cGVkRXhwcmVzc2lvbjxBcnJheU9mVW5rbm93bkJvdW5kVHlwZSwgXCJsdmFsdWVcIj4ge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMudHlwZSAmJiB0aGlzLnR5cGUuaXNBcnJheU9mVW5rbm93bkJvdW5kVHlwZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0dlbmVyaWNBcnJheVR5cGVkKCkgOiB0aGlzIGlzIFNwZWNpZmljVHlwZWRFeHByZXNzaW9uPEJvdW5kZWRBcnJheVR5cGUgfCBBcnJheU9mVW5rbm93bkJvdW5kVHlwZSwgXCJsdmFsdWVcIj4ge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMudHlwZSAmJiB0aGlzLnR5cGUuaXNHZW5lcmljQXJyYXlUeXBlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzUHJ2YWx1ZTxUIGV4dGVuZHMgVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnk+KHRoaXM6IFR5cGVkRXhwcmVzc2lvbjxULFY+KSA6IHRoaXMgaXMgVHlwZWRFeHByZXNzaW9uPFQsXCJwcnZhbHVlXCI+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZUNhdGVnb3J5ID09PSBcInBydmFsdWVcIjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNMdmFsdWU8VCBleHRlbmRzIFR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5Pih0aGlzOiBUeXBlZEV4cHJlc3Npb248VCxWPikgOiB0aGlzIGlzIFR5cGVkRXhwcmVzc2lvbjxULFwibHZhbHVlXCI+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZUNhdGVnb3J5ID09PSBcImx2YWx1ZVwiO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHB1YmxpYyBpc1N1Y2Nlc3NmdWxseUNvbXBpbGVkKCkgOiB0aGlzIGlzIENvbXBpbGVkPHRoaXM+IHtcclxuICAgIC8vICAgICByZXR1cm4gIXRoaXMuaGFzRXJyb3JzO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIHB1YmxpYyBpc1RhaWxDaGlsZChjaGlsZDogQ1BQQ29uc3RydWN0KSB7XHJcbiAgICAgICAgcmV0dXJuIHtpc1RhaWw6IGZhbHNlfTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZGVzY3JpYmVFdmFsUmVzdWx0KGRlcHRoOiBudW1iZXIpIDogRGVzY3JpcHRpb247XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRFeHByZXNzaW9uPFQgZXh0ZW5kcyBUeXBlID0gVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnkgPSBWYWx1ZUNhdGVnb3J5PiBleHRlbmRzIEV4cHJlc3Npb24sIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuICAgIHJlYWRvbmx5IHRlbXBvcmFyeURlYWxsb2NhdG9yPzogQ29tcGlsZWRUZW1wb3JhcnlEZWFsbG9jYXRvcjsgLy8gdG8gbWF0Y2ggQ29tcGlsZWRQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiBzdHJ1Y3R1cmVcclxuICAgIHJlYWRvbmx5IHR5cGU6IFQ7XHJcbiAgICByZWFkb25seSB2YWx1ZUNhdGVnb3J5OiBWO1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBTcGVjaWZpY0NvbXBpbGVkRXhwcmVzc2lvbjxUIGV4dGVuZHMgVHlwZSA9IFR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5ID0gVmFsdWVDYXRlZ29yeT4gPSBWIGV4dGVuZHMgVmFsdWVDYXRlZ29yeSA/IENvbXBpbGVkRXhwcmVzc2lvbjxULFY+IDogbmV2ZXI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFdlbGxUeXBlZDxUIGV4dGVuZHMgVHlwZSA9IFR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5ID0gVmFsdWVDYXRlZ29yeT4ge1xyXG4gICAgcmVhZG9ubHkgdHlwZTogVDtcclxuICAgIHJlYWRvbmx5IHZhbHVlQ2F0ZWdvcnk6IFY7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVHlwZWRFeHByZXNzaW9uPFQgZXh0ZW5kcyBUeXBlID0gVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnkgPSBWYWx1ZUNhdGVnb3J5PiBleHRlbmRzIEV4cHJlc3Npb24ge1xyXG4gICAgcmVhZG9ubHkgdHlwZTogVDtcclxuICAgIHJlYWRvbmx5IHZhbHVlQ2F0ZWdvcnk6IFY7XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFNwZWNpZmljVHlwZWRFeHByZXNzaW9uPFQgZXh0ZW5kcyBUeXBlID0gVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnkgPSBWYWx1ZUNhdGVnb3J5PiA9IFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5ID8gVHlwZWRFeHByZXNzaW9uPFQsVj4gOiBuZXZlcjtcclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWxsV2VsbFR5cGVkKGV4cHJlc3Npb25zOiBFeHByZXNzaW9uW10pOiBleHByZXNzaW9ucyBpcyBUeXBlZEV4cHJlc3Npb25bXTtcclxuZXhwb3J0IGZ1bmN0aW9uIGFsbFdlbGxUeXBlZChleHByZXNzaW9uczogcmVhZG9ubHkgRXhwcmVzc2lvbltdKTogZXhwcmVzc2lvbnMgaXMgcmVhZG9ubHkgVHlwZWRFeHByZXNzaW9uW107XHJcbmV4cG9ydCBmdW5jdGlvbiBhbGxXZWxsVHlwZWQoZXhwcmVzc2lvbnM6IHJlYWRvbmx5IEV4cHJlc3Npb25bXSk6IGV4cHJlc3Npb25zIGlzIHJlYWRvbmx5IFR5cGVkRXhwcmVzc2lvbltdIHtcclxuICAgIHJldHVybiBleHByZXNzaW9ucy5ldmVyeSgoZXhwcikgPT4geyByZXR1cm4gZXhwci5pc1dlbGxUeXBlZCgpOyB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFsbE9iamVjdFR5cGVkKGV4cHJlc3Npb25zOiBFeHByZXNzaW9uW10pOiBleHByZXNzaW9ucyBpcyBUeXBlZEV4cHJlc3Npb248T2JqZWN0VHlwZT5bXTtcclxuZXhwb3J0IGZ1bmN0aW9uIGFsbE9iamVjdFR5cGVkKGV4cHJlc3Npb25zOiByZWFkb25seSBFeHByZXNzaW9uW10pOiBleHByZXNzaW9ucyBpcyByZWFkb25seSBUeXBlZEV4cHJlc3Npb248T2JqZWN0VHlwZT5bXTtcclxuZXhwb3J0IGZ1bmN0aW9uIGFsbE9iamVjdFR5cGVkKGV4cHJlc3Npb25zOiByZWFkb25seSBFeHByZXNzaW9uW10pOiBleHByZXNzaW9ucyBpcyByZWFkb25seSBUeXBlZEV4cHJlc3Npb248T2JqZWN0VHlwZT5bXSB7XHJcbiAgICByZXR1cm4gZXhwcmVzc2lvbnMuZXZlcnkoKGV4cHIpID0+IHsgcmV0dXJuIGV4cHIuaXNPYmplY3RUeXBlZCgpOyB9KTtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgVkNSZXN1bHRUeXBlczxUIGV4dGVuZHMgVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnk+ID1cclxuICAgIFQgZXh0ZW5kcyBGdW5jdGlvblR5cGUgPyAoXHJcbiAgICAgICAgViBleHRlbmRzIFwicHJ2YWx1ZVwiID8gbmV2ZXIgOlxyXG4gICAgICAgIFYgZXh0ZW5kcyBcInh2YWx1ZVwiID8gbmV2ZXIgOlxyXG4gICAgICAgIEZ1bmN0aW9uRW50aXR5IC8vIGx2YWx1ZVxyXG4gICAgKVxyXG4gICAgOiBUIGV4dGVuZHMgQXRvbWljVHlwZSA/IChcclxuICAgICAgICBWIGV4dGVuZHMgXCJwcnZhbHVlXCIgPyBWYWx1ZTxUPiA6XHJcbiAgICAgICAgViBleHRlbmRzIFwieHZhbHVlXCIgPyBDUFBPYmplY3Q8VD4gOlxyXG4gICAgICAgIENQUE9iamVjdDxUPiAvLyBsdmFsdWVcclxuICAgIClcclxuICAgIDogVCBleHRlbmRzIE9iamVjdFR5cGUgPyAoXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gZS5nLiBJZiBUIGlzIGFjdHVhbGx5IE9iamVjdFR5cGUsIHRoZW4gaXQgY291bGQgYmUgYW4gQXRvbWljVHlwZSBhbmQgd2UgZ28gd2l0aCB0aGUgZmlyc3Qgb3B0aW9uIFZhbHVlPEF0b21pY1R5cGU+IHwgQ1BQT2JqZWN0PFQ+LlxyXG4gICAgICAgIC8vICAgICAgSG93ZXZlciwgaWYgVCBpcyBhY3R1YWxseSBDbGFzc1R5cGUsIHRoZW4gaXQgY2FuJ3QgYmUgYW4gQXRvbWljVHlwZSBhbmQgd2UgZ28gd2l0aCB0aGUgc2Vjb25kIG9wdGlvbiBvZiBvbmx5IENQUE9iamVjdDxUPlxyXG4gICAgICAgIFYgZXh0ZW5kcyBcInBydmFsdWVcIiA/IChBdG9taWNUeXBlIGV4dGVuZHMgVCA/IFZhbHVlPEF0b21pY1R5cGU+IHwgQ1BQT2JqZWN0PFQ+IDogQ1BQT2JqZWN0PFQ+KSA6XHJcbiAgICAgICAgViBleHRlbmRzIFwieHZhbHVlXCIgPyBDUFBPYmplY3Q8VD4gOlxyXG4gICAgICAgIENQUE9iamVjdDxUPiAvLyBsdmFsdWVcclxuICAgIClcclxuICAgIDogLypPYmplY3RUeXBlIGV4dGVuZHMgVCA/Ki8gKCAvLyBUaGF0IGlzLCBUIGlzIG1vcmUgZ2VuZXJhbCwgc28gaXQncyBwb3NzaWJsZSBUIGlzIGFuIEF0b21pY1R5cGUgb3IgYW4gT2JqZWN0VHlwZVxyXG4gICAgICAgIFYgZXh0ZW5kcyBcInBydmFsdWVcIiA/IFZhbHVlPEF0b21pY1R5cGU+IHwgQ1BQT2JqZWN0PE9iamVjdFR5cGU+IDpcclxuICAgICAgICBWIGV4dGVuZHMgXCJ4dmFsdWVcIiA/IENQUE9iamVjdDxPYmplY3RUeXBlPiA6XHJcbiAgICAgICAgQ1BQT2JqZWN0PE9iamVjdFR5cGU+IC8vIGx2YWx1ZVxyXG4gICAgKVxyXG4gICAgLy8gOiB7IC8vIE90aGVyd2lzZSwgVCBpcyBOT1QgcG9zc2libHkgYW4gT2JqZWN0VHlwZS4gVGhpcyBjb3VsZCBoYXBwZW4gd2l0aCBlLmcuIGFuIGx2YWx1ZSBleHByZXNzaW9uIHRoYXQgeWllbGRzIGEgZnVuY3Rpb25cclxuICAgIC8vICAgICByZWFkb25seSBwcnZhbHVlOiBudW1iZXI7XHJcbiAgICAvLyAgICAgcmVhZG9ubHkgeHZhbHVlOiBudW1iZXI7XHJcbiAgICAvLyAgICAgcmVhZG9ubHkgbHZhbHVlOiBudW1iZXI7XHJcbiAgICAvLyB9O1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFJ1bnRpbWVFeHByZXNzaW9uPFQgZXh0ZW5kcyBUeXBlID0gVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnkgPSBWYWx1ZUNhdGVnb3J5LCBDIGV4dGVuZHMgQ29tcGlsZWRFeHByZXNzaW9uPFQsVj4gPSBDb21waWxlZEV4cHJlc3Npb248VCxWPj4gZXh0ZW5kcyBSdW50aW1lUG90ZW50aWFsRnVsbEV4cHJlc3Npb248Qz4ge1xyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIFdBUk5JTkc6IFRoZSBldmFsUmVzdWx0IHByb3BlcnR5IG1heSBiZSB1bmRlZmluZWQsIGV2ZW4gdGhvdWdoIGl0J3MgdHlwZSBzdWdnZXN0cyBpdCB3aWxsIGFsd2F5c1xyXG4gICAgICogYmUgZGVmaW5lZC4gSW4gbW9zdCBwbGFjZXMgd2hlcmUgaXQgaXMgYWNjZXNzZWQsIHRoZXJlIGlzIGFuIGltcGxpY2l0IGFzc3VtcHRpb24gdGhhdCB0aGUgZXhwcmVzc2lvblxyXG4gICAgICogd2lsbCBhbHJlYWR5IGhhdmUgYmVlbiBldmFsdWF0ZWQgYW5kIHRoZSBjbGllbnQgY29kZSB3b3VsZCBlbmQgdXAgbmVlZGluZyBhIG5vbi1udWxsIGFzc2VydGlvbiBhbnl3YXkuXHJcbiAgICAgKiBIb3dldmVyLCB0aG9zZSBub24tbnVsbCBhc3NlcnRpb25zIGFjdHVhbGx5IGludHJvZHVjZSBzb21lIHRyaWNreSBjb21wbGljYXRpb25zIHdpdGggVkNSZXN1bHRUeXBlcyxcclxuICAgICAqIHdoaWNoIGNhdXNlIHR5cGUgZXJyb3JzIGFuZCBhcmUgYSBodWdlIHBhaW4uIFNvIGluc3RlYWQgd2UgdGVsbCB0aGUgdHlwZSBzeXN0ZW0gdG8gdHJ1c3QgdXMuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZWFkb25seSBldmFsUmVzdWx0ITogVkNSZXN1bHRUeXBlczxULFY+O1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihtb2RlbDogQywgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgc3VwZXIobW9kZWwsIFwiZXhwcmVzc2lvblwiLCBwYXJlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBzZXRFdmFsUmVzdWx0KHZhbHVlOiBWQ1Jlc3VsdFR5cGVzPFQsVj4pIHtcclxuICAgICAgICAoPE11dGFibGU8dGhpcz4+dGhpcykuZXZhbFJlc3VsdCA9IHZhbHVlO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFR5cGUsIEJvdW5kZWRBcnJheVR5cGUsIENsYXNzVHlwZSwgQXRvbWljVHlwZSwgUG9pbnRlclR5cGUsIE9iamVjdFR5cGUsIE9iamVjdFBvaW50ZXIsIEFycmF5UG9pbnRlciwgQXJyYXlFbGVtVHlwZSwgQ2hhciwgSW50IH0gZnJvbSBcIi4vdHlwZXNcIjtcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gXCIuLi91dGlsL29ic2VydmVcIjtcclxuaW1wb3J0IHsgYXNzZXJ0LCBNdXRhYmxlLCBhc011dGFibGUgfSBmcm9tIFwiLi4vdXRpbC91dGlsXCI7XHJcbmltcG9ydCB7IE1lbW9yeSwgVmFsdWUsIFJhd1ZhbHVlVHlwZSB9IGZyb20gXCIuL3J1bnRpbWVFbnZpcm9ubWVudFwiO1xyXG5pbXBvcnQgeyBSdW50aW1lQ29uc3RydWN0LCBEZXNjcmlwdGlvbiB9IGZyb20gXCIuL2NvbnN0cnVjdHNcIjtcclxuaW1wb3J0IHsgTG9jYWxWYXJpYWJsZURlZmluaXRpb24sIEdsb2JhbE9iamVjdERlZmluaXRpb24sIENvbXBpbGVkR2xvYmFsT2JqZWN0RGVmaW5pdGlvbiwgUGFyYW1ldGVyRGVmaW5pdGlvbiB9IGZyb20gXCIuL2RlY2xhcmF0aW9uc1wiO1xyXG5cclxuYWJzdHJhY3QgY2xhc3MgT2JqZWN0RGF0YTxUIGV4dGVuZHMgT2JqZWN0VHlwZT4ge1xyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IG9iamVjdDogQ1BQT2JqZWN0PFQ+O1xyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IHNpemU6IG51bWJlcjtcclxuICAgIHByb3RlY3RlZCByZWFkb25seSBtZW1vcnk6IE1lbW9yeTtcclxuICAgIHByb3RlY3RlZCByZWFkb25seSBhZGRyZXNzOiBudW1iZXI7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG9iamVjdDogQ1BQT2JqZWN0PFQ+LCBtZW1vcnk6IE1lbW9yeSwgYWRkcmVzczogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5vYmplY3QgPSBvYmplY3Q7XHJcbiAgICAgICAgdGhpcy5zaXplID0gdGhpcy5vYmplY3Quc2l6ZTtcclxuICAgICAgICB0aGlzLm1lbW9yeSA9IG1lbW9yeTtcclxuICAgICAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHB1YmxpYyBhYnN0cmFjdCByYXdWYWx1ZSgpIDogUmF3VmFsdWVUeXBlO1xyXG5cclxuICAgIC8vIHB1YmxpYyBhYnN0cmFjdCBzZXRSYXdWYWx1ZShuZXdWYWx1ZTogUmF3VmFsdWVUeXBlLCB3cml0ZTogYm9vbGVhbikgOiB2b2lkO1xyXG59O1xyXG5cclxuY2xhc3MgQXRvbWljT2JqZWN0RGF0YTxUIGV4dGVuZHMgQXRvbWljVHlwZT4gZXh0ZW5kcyBPYmplY3REYXRhPFQ+IHtcclxuXHJcbiAgICBwdWJsaWMgcmF3VmFsdWUoKSB7XHJcbiAgICAgICAgdmFyIGJ5dGVzID0gdGhpcy5tZW1vcnkucmVhZEJ5dGVzKHRoaXMuYWRkcmVzcywgdGhpcy5zaXplKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5vYmplY3QudHlwZS5ieXRlc1RvVmFsdWUoYnl0ZXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRSYXdWYWx1ZShuZXdWYWx1ZTogUmF3VmFsdWVUeXBlLCB3cml0ZTogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMubWVtb3J5LndyaXRlQnl0ZXModGhpcy5hZGRyZXNzLCB0aGlzLm9iamVjdC50eXBlLnZhbHVlVG9CeXRlcyhuZXdWYWx1ZSkpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY2xhc3MgQXJyYXlPYmplY3REYXRhPFQgZXh0ZW5kcyBCb3VuZGVkQXJyYXlUeXBlPiBleHRlbmRzIE9iamVjdERhdGE8VD4ge1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlPEVsZW1fdHlwZSBleHRlbmRzIEFycmF5RWxlbVR5cGU+KG9iamVjdDogQ1BQT2JqZWN0PEJvdW5kZWRBcnJheVR5cGU8RWxlbV90eXBlPj4sIG1lbW9yeTogTWVtb3J5LCBhZGRyZXNzOiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEFycmF5T2JqZWN0RGF0YTxCb3VuZGVkQXJyYXlUeXBlPihvYmplY3QsIG1lbW9yeSwgYWRkcmVzcyk7XHJcbiAgICB9IFxyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgZWxlbU9iamVjdHM6IEFycmF5U3Vib2JqZWN0PGFueT5bXTtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iob2JqZWN0OiBDUFBPYmplY3Q8VD4sIG1lbW9yeTogTWVtb3J5LCBhZGRyZXNzOiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlcihvYmplY3QsIG1lbW9yeSwgYWRkcmVzcyk7XHJcblxyXG4gICAgICAgIGxldCBzdWJBZGRyID0gdGhpcy5hZGRyZXNzO1xyXG4gICAgICAgIHRoaXMuZWxlbU9iamVjdHMgPSBbXTtcclxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5vYmplY3QudHlwZS5sZW5ndGg7ICsraSl7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbU9iamVjdHMucHVzaChuZXcgQXJyYXlTdWJvYmplY3QodGhpcy5vYmplY3QsIGksIG1lbW9yeSwgc3ViQWRkcikpO1xyXG4gICAgICAgICAgICBzdWJBZGRyICs9IHRoaXMub2JqZWN0LnR5cGUuZWxlbVR5cGUuc2l6ZTtcclxuICAgICAgICB9IFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRBcnJheUVsZW1TdWJvYmplY3RCeUFkZHJlc3MoYWRkcmVzczogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gKGFkZHJlc3MgLSB0aGlzLmFkZHJlc3MpIC8gdGhpcy5vYmplY3QudHlwZS5lbGVtVHlwZS5zaXplO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEFycmF5RWxlbVN1Ym9iamVjdChpbmRleCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEFycmF5RWxlbVN1Ym9iamVjdChpbmRleDogbnVtYmVyKSA6IEFycmF5U3Vib2JqZWN0PFRbXCJlbGVtVHlwZVwiXT4ge1xyXG4gICAgICAgIGlmICgwIDw9IGluZGV4ICYmIGluZGV4IDwgdGhpcy5lbGVtT2JqZWN0cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbU9iamVjdHNbaW5kZXhdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IG91dE9mQm91bmRzT2JqID0gIG5ldyBBcnJheVN1Ym9iamVjdCh0aGlzLm9iamVjdCwgaW5kZXgsXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1lbW9yeSwgdGhpcy5hZGRyZXNzICsgaW5kZXggKiB0aGlzLm9iamVjdC50eXBlLmVsZW1UeXBlLnNpemUpO1xyXG4gICAgICAgICAgICByZXR1cm4gb3V0T2ZCb3VuZHNPYmo7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHB1YmxpYyByYXdWYWx1ZSgpIHtcclxuICAgIC8vICAgICByZXR1cm4gdGhpcy5lbGVtT2JqZWN0cy5tYXAoKGVsZW1PYmopID0+IHsgcmV0dXJuIGVsZW1PYmoucmF3VmFsdWUoKTsgfSk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gcHVibGljIHNldFJhd1ZhbHVlKG5ld1ZhbHVlOiBSYXdWYWx1ZVR5cGUsIHdyaXRlOiBib29sZWFuKSB7XHJcbiAgICAvLyAgICAgZm9yKHZhciBpID0gMDsgaSA8ICg8QXJyYXlUeXBlPnRoaXMub2JqZWN0LnR5cGUpLmxlbmd0aDsgKytpKXtcclxuICAgIC8vICAgICAgICAgdGhpcy5lbGVtT2JqZWN0c1tpXS5zZXRWYWx1ZShuZXdWYWx1ZVtpXSwgd3JpdGUpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxufVxyXG5cclxuY2xhc3MgQ2xhc3NPYmplY3REYXRhPFQgZXh0ZW5kcyBDbGFzc1R5cGU+IGV4dGVuZHMgT2JqZWN0RGF0YTxUPiB7XHJcblxyXG4gICAgLy8gcHVibGljIHJlYWRvbmx5IHN1Ym9iamVjdHM6IFN1Ym9iamVjdFtdO1xyXG4gICAgLy8gcHVibGljIHJlYWRvbmx5IGJhc2VTdWJvYmplY3RzOiBCYXNlU3Vib2JqZWN0W107XHJcbiAgICAvLyBwdWJsaWMgcmVhZG9ubHkgbWVtYmVyU3Vib2JqZWN0czogTWVtYmVyU3Vib2JqZWN0W107XHJcbiAgICAvLyBwcml2YXRlIHJlYWRvbmx5IG1lbWJlclN1Ym9iamVjdE1hcDoge1tpbmRleDogc3RyaW5nXTogTWVtYmVyU3Vib2JqZWN0fSA9IHt9O1xyXG5cclxuICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3RvcihvYmplY3Q6IENQUE9iamVjdDxUPiwgbWVtb3J5OiBNZW1vcnksIGFkZHJlc3M6IG51bWJlcikge1xyXG4gICAgLy8gICAgIHN1cGVyKG9iamVjdCwgbWVtb3J5LCBhZGRyZXNzKTtcclxuICAgICAgICBcclxuICAgIC8vICAgICBsZXQgc3ViQWRkciA9IHRoaXMuYWRkcmVzcztcclxuXHJcbiAgICAvLyAgICAgdGhpcy5iYXNlU3Vib2JqZWN0cyA9ICg8Q2xhc3NUeXBlPnRoaXMub2JqZWN0LnR5cGUpLmNwcENsYXNzLmJhc2VTdWJvYmplY3RFbnRpdGllcy5tYXAoKGJhc2UpID0+IHtcclxuICAgIC8vICAgICAgICAgbGV0IHN1Yk9iaiA9IGJhc2Uub2JqZWN0SW5zdGFuY2UodGhpcy5vYmplY3QsIG1lbW9yeSwgc3ViQWRkcik7XHJcbiAgICAvLyAgICAgICAgIHN1YkFkZHIgKz0gc3ViT2JqLnNpemU7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiBzdWJPYmo7XHJcbiAgICAvLyAgICAgfSk7XHJcblxyXG4gICAgLy8gICAgIHRoaXMubWVtYmVyU3Vib2JqZWN0cyA9ICg8Q2xhc3NUeXBlPnRoaXMub2JqZWN0LnR5cGUpLmNwcENsYXNzLm1lbWJlclN1Ym9iamVjdEVudGl0aWVzLm1hcCgobWVtKSA9PiB7XHJcbiAgICAvLyAgICAgICAgIGxldCBzdWJPYmogPSBtZW0ub2JqZWN0SW5zdGFuY2UodGhpcy5vYmplY3QsIG1lbW9yeSwgc3ViQWRkcik7XHJcbiAgICAvLyAgICAgICAgIHN1YkFkZHIgKz0gc3ViT2JqLnNpemU7XHJcbiAgICAvLyAgICAgICAgIHRoaXMubWVtYmVyU3Vib2JqZWN0TWFwW21lbS5uYW1lXSA9IHN1Yk9iajtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIHN1Yk9iajtcclxuICAgIC8vICAgICB9KTtcclxuXHJcblxyXG4gICAgLy8gICAgIHRoaXMuc3Vib2JqZWN0cyA9IHRoaXMuYmFzZVN1Ym9iamVjdHMuY29uY2F0KHRoaXMubWVtYmVyU3Vib2JqZWN0cyk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gcHVibGljIGdldE1lbWJlclN1Ym9iamVjdChuYW1lOiBzdHJpbmcpIHtcclxuICAgIC8vICAgICByZXR1cm4gdGhpcy5tZW1iZXJTdWJvYmplY3RNYXBbbmFtZV07XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gcHVibGljIGdldEJhc2VTdWJvYmplY3QoKSA6IEJhc2VTdWJvYmplY3QgfCB1bmRlZmluZWQge1xyXG4gICAgLy8gICAgIHJldHVybiB0aGlzLmJhc2VTdWJvYmplY3RzWzBdO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIFRPRE86IENvdWxkIHJlbW92ZT8gVGhpcyBpc24ndCBjdXJyZW50bHkgdXNlZCBhbmQgSSBkb24ndCB0aGluayBpdCdzIHVzZWZ1bCBmb3IgYW55dGhpbmdcclxuICAgIC8vIHB1YmxpYyBnZXRTdWJvYmplY3RCeUFkZHJlc3MoYWRkcmVzczogbnVtYmVyKSB7XHJcbiAgICAvLyAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vib2JqZWN0cy5sZW5ndGg7ICsraSkge1xyXG4gICAgLy8gICAgICAgICB2YXIgc3ViT2JqID0gdGhpcy5zdWJvYmplY3RzW2ldO1xyXG4gICAgLy8gICAgICAgICBpZiAoc3ViT2JqLmFkZHJlc3MgPT09IGFkZHJlc3Mpe1xyXG4gICAgLy8gICAgICAgICAgICAgcmV0dXJuIHN1Yk9iajtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgcmF3VmFsdWUoKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuc3Vib2JqZWN0cy5tYXAoKHN1Yk9iaikgPT4geyByZXR1cm4gc3ViT2JqLnJhd1ZhbHVlKCk7IH0pO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIHB1YmxpYyBzZXRSYXdWYWx1ZShuZXdWYWx1ZTogUmF3VmFsdWVUeXBlLCB3cml0ZTogYm9vbGVhbikge1xyXG4gICAgLy8gICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnN1Ym9iamVjdHMubGVuZ3RoOyArK2kpIHtcclxuICAgIC8vICAgICAgICAgdGhpcy5zdWJvYmplY3RzW2ldLnNldFZhbHVlKG5ld1ZhbHVlW2ldLCB3cml0ZSk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG59XHJcblxyXG4vLyBpbnRlcmZhY2UgQ1BQT2JqZWN0RGVzY3JpcHRvcjxUIGV4dGVuZHMgT2JqZWN0VHlwZT4ge1xyXG4vLyAgICAgZGVzY3JpYmUob2JqOiBDUFBPYmplY3Q8VD4pIDogRGVzY3JpcHRpb247XHJcbi8vIH1cclxuXHJcblxyXG4vLyBjb25zdCBPQkpFQ1RfREVTQ1JJUFRPUlMgPSB7XHJcbi8vICAgICBERUZBVUxUIDoge1xyXG4vLyAgICAgICAgIGRlc2NyaWJlOiAob2JqOiBDUFBPYmplY3Q8T2JqZWN0VHlwZT4pID0+IHtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcImFuIG9iamVjdCBhdCAweFwiICsgb2JqLmFkZHJlc3N9O1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcbi8vICAgICBBVVRPIDoge1xyXG4vLyAgICAgICAgIGRlc2NyaWJlOiAob2JqOiBDUFBPYmplY3Q8T2JqZWN0VHlwZT4pID0+IHtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcInRoZSBoZWFwIG9iamVjdCBhdCAweFwiICsgb2JqLmFkZHJlc3N9O1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcbi8vICAgICBEWU5BTUlDIDoge1xyXG4vLyAgICAgICAgIGRlc2NyaWJlOiAob2JqOiBDUFBPYmplY3Q8T2JqZWN0VHlwZT4pID0+IHtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcInRoZSBoZWFwIG9iamVjdCBhdCAweFwiICsgb2JqLmFkZHJlc3N9O1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcbi8vICAgICBJTlZBTElEIDoge1xyXG4vLyAgICAgICAgIGRlc2NyaWJlOiAob2JqOiBDUFBPYmplY3Q8T2JqZWN0VHlwZT4pID0+IHtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcImFuIGludmFsaWQgb2JqZWN0IGF0IDB4XCIgKyBvYmouYWRkcmVzc307XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuLy8gICAgIFRISVMgOiB7XHJcbi8vICAgICAgICAgZGVzY3JpYmU6IChvYmo6IENQUE9iamVjdDxQb2ludGVyPikgPT4ge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4ge25hbWU6IFwidGhpc1wiLCBtZXNzYWdlOiBcInRoZSB0aGlzIHBvaW50ZXJcIn07XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuLy8gICAgIFNUUklOR19MSVRFUkFMIDoge1xyXG4vLyAgICAgICAgIGRlc2NyaWJlOiAob2JqOiBDUFBPYmplY3Q8QXJyYXlUeXBlPikgPT4ge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwic3RyaW5nIGxpdGVyYWwgYXQgMHhcIiArIG9iai5hZGRyZXNzfTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcblxyXG4vLyBjbGFzcyBFbnRpdHlPYmplY3REZXNjcmlwdG9yIHtcclxuLy8gICAgIHByaXZhdGUgZW50aXR5OiBDUFBFbnRpdHk7XHJcbiAgICBcclxuLy8gICAgIGNvbnN0cnVjdG9yKGVudGl0eTogQ1BQRW50aXR5KSB7XHJcbi8vICAgICAgICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgZGVzY3JpYmUob2JqOiBDUFBPYmplY3QpIHtcclxuLy8gICAgICAgICByZXR1cm4gdGhpcy5lbnRpdHkuZGVzY3JpYmUoKTtcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuXHJcbi8vIFRPRE86IGl0IG1heSBiZSBtb3JlIGVsZWdhbnQgdG8gc3BsaXQgaW50byAzIGRlcml2ZWQgdHlwZXMgb2YgQ1BQT2JqZWN0IGZvciBhcnJheXMsIGNsYXNzZXMsIGFuZFxyXG4vLyBhdG9taWMgb2JqZWN0cyBhbmQgdXNlIGEgcHVibGljIGZhY3RvcnkgZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBhcHByb3ByaWF0ZSBpbnN0YW5jZSBiYXNlZCBvbiB0aGVcclxuLy8gdGVtcGxhdGUgcGFyYW1ldGVyLiAoUmF0aGVyIHRoYW4gdGhlIGN1cnJlbnQgYXdrd2FyZCBjb21wb3NpdGlvbiBhbmQgY29uZGl0aW9uYWwgbWV0aG9kIHN0cmF0ZWd5KVxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ1BQT2JqZWN0PFQgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZT4ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUodGhpcyk7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGU6IFQ7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2l6ZTogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGFkZHJlc3M6IG51bWJlcjtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGRhdGE6IFQgZXh0ZW5kcyBBdG9taWNUeXBlID8gQXRvbWljT2JqZWN0RGF0YTxUPiA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFQgZXh0ZW5kcyBCb3VuZGVkQXJyYXlUeXBlID8gQXJyYXlPYmplY3REYXRhPFQ+IDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgVCBleHRlbmRzIENsYXNzVHlwZSA/IENsYXNzT2JqZWN0RGF0YTxUPiA6IHVua25vd247XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGlzQWxpdmU6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGVhbGxvY2F0ZWRCeT86IFJ1bnRpbWVDb25zdHJ1Y3Q7XHJcblxyXG5cclxuICAgIHByaXZhdGUgX2lzVmFsaWQ6IGJvb2xlYW47XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHR5cGU6IFQsIG1lbW9yeTogTWVtb3J5LCBhZGRyZXNzOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IHR5cGUuc2l6ZTtcclxuICAgICAgICBhc3NlcnQodGhpcy5zaXplICE9IDAsIFwiU2l6ZSBjYW5ub3QgYmUgMC5cIik7IC8vIFNDQVJZXHJcblxyXG4gICAgICAgIGlmICh0aGlzLnR5cGUgaW5zdGFuY2VvZiBCb3VuZGVkQXJyYXlUeXBlKSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuaXNBcnJheSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IDxhbnk+QXJyYXlPYmplY3REYXRhLmNyZWF0ZSg8YW55PnRoaXMsIG1lbW9yeSwgYWRkcmVzcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMudHlwZSBpbnN0YW5jZW9mIENsYXNzVHlwZSkge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGEgPSA8YW55Pm5ldyBDbGFzc09iamVjdERhdGEoPGFueT50aGlzLCBtZW1vcnksIGFkZHJlc3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhID0gPGFueT5uZXcgQXRvbWljT2JqZWN0RGF0YSg8YW55PnRoaXMsIG1lbW9yeSwgYWRkcmVzcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xyXG5cclxuICAgICAgICB0aGlzLmlzQWxpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuX2lzVmFsaWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBPbmx5IGFsbG93ZWQgaWYgcmVjZWl2ZXIgbWF0Y2hlcyBDUFBPYmplY3Q8QXJyYXlUeXBlPEVsZW1fdHlwZT4+XHJcbiAgICBwdWJsaWMgZ2V0QXJyYXlFbGVtU3Vib2JqZWN0PEFUIGV4dGVuZHMgQm91bmRlZEFycmF5VHlwZT4odGhpczogQ1BQT2JqZWN0PEFUPiwgaW5kZXg6IG51bWJlcikgOiBBcnJheVN1Ym9iamVjdDxBVFtcImVsZW1UeXBlXCJdPiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5nZXRBcnJheUVsZW1TdWJvYmplY3QoaW5kZXgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE9ubHkgYWxsb3dlZCBpZiByZWNlaXZlciBtYXRjaGVzIENQUE9iamVjdDxBcnJheVR5cGU8RWxlbV90eXBlPj5cclxuICAgIHB1YmxpYyBnZXRBcnJheUVsZW1TdWJvYmplY3RCeUFkZHJlc3M8QVQgZXh0ZW5kcyBCb3VuZGVkQXJyYXlUeXBlPih0aGlzOiBDUFBPYmplY3Q8QVQ+LCBhZGRyZXNzOiBudW1iZXIpIDogQXJyYXlTdWJvYmplY3Q8QVRbXCJlbGVtVHlwZVwiXT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZ2V0QXJyYXlFbGVtU3Vib2JqZWN0QnlBZGRyZXNzKGFkZHJlc3MpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIC8vIE9ubHkgYWxsb3dlZCBpZiByZWNlaXZlciBtYXRjaGVzIENQUE9iamVjdDxDbGFzc1R5cGU+XHJcbiAgICAvLyBwdWJsaWMgZ2V0TWVtYmVyU3Vib2JqZWN0KHRoaXM6IENQUE9iamVjdDxDbGFzc1R5cGU+LCBuYW1lOiBzdHJpbmcpIDogTWVtYmVyU3Vib2JqZWN0IHtcclxuICAgIC8vICAgICByZXR1cm4gKDxDbGFzc09iamVjdERhdGE8Q2xhc3NUeXBlPj50aGlzLmRhdGEpLmdldE1lbWJlclN1Ym9iamVjdChuYW1lKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyAvLyBPbmx5IGFsbG93ZWQgaWYgcmVjZWl2ZXIgbWF0Y2hlcyBDUFBPYmplY3Q8Q2xhc3NUeXBlPlxyXG4gICAgLy8gcHVibGljIGdldEJhc2VTdWJvYmplY3QodGhpczogQ1BQT2JqZWN0PENsYXNzVHlwZT4pIDogQmFzZVN1Ym9iamVjdCB8IHVuZGVmaW5lZCB7XHJcbiAgICAvLyAgICAgcmV0dXJuICg8Q2xhc3NPYmplY3REYXRhPENsYXNzVHlwZT4+dGhpcy5kYXRhKS5nZXRCYXNlU3Vib2JqZWN0KCk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgcHVibGljIHN1Ym9iamVjdFZhbHVlV3JpdHRlbigpIHtcclxuICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcInZhbHVlV3JpdHRlblwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiQFwiKyB0aGlzLmFkZHJlc3M7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETzogZmlndXJlIG91dCBwcmVjaXNlbHkgd2hhdCB0aGlzIGlzIHVzZWQgZm9yIGFuZCBtYWtlIHN1cmUgb3ZlcnJpZGVzIGFjdHVhbGx5IHByb3ZpZGUgYXBwcm9wcmlhdGUgc3RyaW5nc1xyXG4gICAgLy8gcHVibGljIG5hbWVTdHJpbmcoKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIFwiQFwiICsgdGhpcy5hZGRyZXNzO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIHB1YmxpYyBraWxsKHJ0PzogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgICAgICg8TXV0YWJsZTx0aGlzPj50aGlzKS5pc0FsaXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5faXNWYWxpZCA9IGZhbHNlO1xyXG4gICAgICAgIGlmIChydCkge1xyXG4gICAgICAgICAgICAoPE11dGFibGU8dGhpcz4+dGhpcykuZGVhbGxvY2F0ZWRCeSA9IHJ0O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcImRlYWxsb2NhdGVkXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRQb2ludGVyVG8oKSA6IFZhbHVlPFBvaW50ZXJUeXBlPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZSh0aGlzLmFkZHJlc3MsIG5ldyBPYmplY3RQb2ludGVyKHRoaXMpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0VmFsdWU8VSBleHRlbmRzIEF0b21pY1R5cGU+KHRoaXM6IENQUE9iamVjdDxVPiwgcmVhZDogYm9vbGVhbiA9IGZhbHNlKSA6IFZhbHVlPFU+IHtcclxuICAgICAgICBsZXQgdmFsID0gbmV3IFZhbHVlKHRoaXMuZ2V0UmF3VmFsdWUoKSwgdGhpcy50eXBlLCB0aGlzLl9pc1ZhbGlkKTtcclxuICAgICAgICBpZiAocmVhZCkge1xyXG4gICAgICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcInZhbHVlUmVhZFwiLCB2YWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0UmF3VmFsdWUodGhpczogQ1BQT2JqZWN0PEF0b21pY1R5cGU+KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5yYXdWYWx1ZSgpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZFZhbHVlPFUgZXh0ZW5kcyBBdG9taWNUeXBlPih0aGlzOiBDUFBPYmplY3Q8VT4pIDogVmFsdWU8VT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlKHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRWYWx1ZTxUX0F0b21pYyBleHRlbmRzIEF0b21pY1R5cGU+KHRoaXM6IENQUE9iamVjdDxUX0F0b21pYz4sIG5ld1ZhbHVlOiBWYWx1ZTxUX0F0b21pYz4sIHdyaXRlOiBib29sZWFuID0gZmFsc2UpIHtcclxuXHJcbiAgICAgICAgdGhpcy5faXNWYWxpZCA9IG5ld1ZhbHVlLmlzVmFsaWQ7XHJcblxyXG4gICAgICAgIC8vIEFjY2VwdCBuZXcgUlRUSVxyXG4gICAgICAgIGFzTXV0YWJsZSh0aGlzKS50eXBlID0gbmV3VmFsdWUudHlwZTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmRhdGEuc2V0UmF3VmFsdWUobmV3VmFsdWUucmF3VmFsdWUsIHdyaXRlKTtcclxuXHJcbiAgICAgICAgaWYod3JpdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJ2YWx1ZVdyaXR0ZW5cIiwgbmV3VmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLm9uVmFsdWVTZXQod3JpdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvblZhbHVlU2V0KHdyaXRlOiBib29sZWFuKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB3cml0ZVZhbHVlPFRfQXRvbWljIGV4dGVuZHMgQXRvbWljVHlwZT4odGhpczogQ1BQT2JqZWN0PFRfQXRvbWljPiwgbmV3VmFsdWU6IFZhbHVlPFRfQXRvbWljPikge1xyXG4gICAgICAgIHRoaXMuc2V0VmFsdWUobmV3VmFsdWUsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc1ZhbHVlVmFsaWQ8VF9BdG9taWMgZXh0ZW5kcyBBdG9taWNUeXBlPih0aGlzOiBDUFBPYmplY3Q8VF9BdG9taWM+KSA6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pc1ZhbGlkICYmIHRoaXMudHlwZS5pc1ZhbHVlVmFsaWQodGhpcy5nZXRSYXdWYWx1ZSgpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPOiBmaWd1cmUgb3V0IHdoZXRoZXIgdGhpcyBvbGQgY29kZSBpcyB3b3J0aCBrZWVwaW5nXHJcbiAgICAvLyBvcmlnaW5hbGx5LCB0aGVzZSBmdW5jdGlvbnMgd2VyZSB1c2VkIHRvIG5vdGlmeSBhbiBvYmplY3Qgd2hlbiBzb21lYm9keSBlbHNlXHJcbiAgICAvLyBtZXNzZWQgd2l0aCAoaS5lLiByZWFkL3dyb3RlIGJ5dGVzIHRoYXQgd2VyZSBwYXJ0IG9mIHRoZSBvYmplY3QpLlxyXG5cclxuICAgIC8vIGJ5dGVSZWFkOiBmdW5jdGlvbihhZGRyKXtcclxuICAgIC8vICAgICBpZiAodGhpcy5pc0FycmF5KXtcclxuICAgIC8vICAgICAgICAgLy8gSWYgYXJyYXksIGZpbmQgdGhlIHN1Ym9iamVjdCBjb250YWluaW5nIHRoZSBieXRlXHJcbiAgICAvLyAgICAgICAgIHRoaXMuZWxlbU9iamVjdHNbKGFkZHIgLSB0aGlzLmFkZHJlc3MpIC8gdGhpcy5ub25SZWZUeXBlLmVsZW1UeXBlLnNpemVdLmJ5dGVSZWFkKGFkZHIpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBlbHNlIGlmICh0aGlzLmlzQ2xhc3Mpe1xyXG4gICAgLy8gICAgICAgICB2YXIgYWQgPSB0aGlzLmFkZHJlc3M7XHJcbiAgICAvLyAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnN1Ym9iamVjdHMubGVuZ3RoOyArK2kpIHtcclxuICAgIC8vICAgICAgICAgICAgIHZhciBtZW0gPSB0aGlzLnN1Ym9iamVjdHNbaV07XHJcbiAgICAvLyAgICAgICAgICAgICBpZihhZCA9IGFkICsgbWVtLnR5cGUuc2l6ZSA+IGFkZHIpe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGFkLmJ5dGVSZWFkKGFkZHIpO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2V7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuc2VuZChcImJ5dGVSZWFkXCIsIHthZGRyOiBhZGRyfSk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfSxcclxuICAgIC8vIGJ5dGVzUmVhZDogZnVuY3Rpb24oYWRkciwgbGVuZ3RoKXtcclxuICAgIC8vICAgICBpZiAodGhpcy5pc0FycmF5KSB7XHJcbiAgICAvLyAgICAgICAgIHZhciBiZWdpbkluZGV4ID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcigoIGFkZHIgLSB0aGlzLmFkZHJlc3MgKSAvIHRoaXMubm9uUmVmVHlwZS5lbGVtVHlwZS5zaXplKSk7XHJcbiAgICAvLyAgICAgICAgIHZhciBlbmRJbmRleCA9IE1hdGgubWluKFxyXG4gICAgLy8gICAgICAgICAgICAgYmVnaW5JbmRleCArIE1hdGguY2VpbChsZW5ndGggLyB0aGlzLm5vblJlZlR5cGUuZWxlbVR5cGUuc2l6ZSksXHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLm5vblJlZlR5cGUubGVuZ3RoKTtcclxuXHJcbiAgICAvLyAgICAgICAgIGZvciAodmFyIGkgPSBiZWdpbkluZGV4OyBpIDwgZW5kSW5kZXg7ICsraSkge1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5lbGVtT2JqZWN0c1tpXS5ieXRlc1JlYWQoYWRkciwgbGVuZ3RoKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBlbHNlIGlmICh0aGlzLmlzQ2xhc3Mpe1xyXG4gICAgLy8gICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5zdWJvYmplY3RzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAvLyAgICAgICAgICAgICB2YXIgbWVtID0gdGhpcy5zdWJvYmplY3RzW2ldO1xyXG4gICAgLy8gICAgICAgICAgICAgaWYoYWRkciA8IG1lbS5hZGRyZXNzICsgbWVtLnR5cGUuc2l6ZSAmJiBtZW0uYWRkcmVzcyA8IGFkZHIgKyBsZW5ndGgpeyAvLyBjaGVjayBmb3Igb3ZlcmxhcFxyXG4gICAgLy8gICAgICAgICAgICAgICAgIG1lbS5ieXRlc1JlYWQoYWRkciwgbGVuZ3RoKTtcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgIGVsc2UgaWYgKG1lbS5hZGRyZXNzID4gYWRkciArbGVuZ3RoKXtcclxuICAgIC8vICAgICAgICAgICAgICAgICAvLyBicmVhayBpZiB3ZSBhcmUgbm93IGluIG1lbWJlcnMgcGFzdCBhZmZlY3RlZCBieXRlc1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2V7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuc2VuZChcImJ5dGVzUmVhZFwiLCB7YWRkcjogYWRkciwgbGVuZ3RoOiBsZW5ndGh9KTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9LFxyXG4gICAgLy8gYnl0ZVNldDogZnVuY3Rpb24oYWRkciwgdmFsdWUpe1xyXG4gICAgLy8gICAgIGlmICh0aGlzLmlzQXJyYXkpe1xyXG4gICAgLy8gICAgICAgICAvLyBJZiBhcnJheSwgZmluZCB0aGUgc3Vib2JqZWN0IGNvbnRhaW5pbmcgdGhlIGJ5dGVcclxuICAgIC8vICAgICAgICAgdGhpcy5lbGVtT2JqZWN0c1soYWRkciAtIHRoaXMuYWRkcmVzcykgLyB0aGlzLm5vblJlZlR5cGUuZWxlbVR5cGUuc2l6ZV0uYnl0ZVNldChhZGRyLCB2YWx1ZSk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2UgaWYgKHRoaXMuaXNDbGFzcyl7XHJcbiAgICAvLyAgICAgICAgIHZhciBhZCA9IHRoaXMuYWRkcmVzcztcclxuICAgIC8vICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vib2JqZWN0cy5sZW5ndGg7ICsraSkge1xyXG4gICAgLy8gICAgICAgICAgICAgdmFyIG1lbSA9IHRoaXMuc3Vib2JqZWN0c1tpXTtcclxuICAgIC8vICAgICAgICAgICAgIGlmKGFkID0gYWQgKyBtZW0udHlwZS5zaXplID4gYWRkcil7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgbWVtLmJ5dGVTZXQoYWRkciwgdmFsdWUpO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2V7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuc2VuZChcImJ5dGVTZXRcIiwge2FkZHI6IGFkZHIsIHZhbHVlOiB2YWx1ZX0pO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH0sXHJcbiAgICAvLyBieXRlc1NldDogZnVuY3Rpb24oYWRkciwgdmFsdWVzKXtcclxuICAgIC8vICAgICB2YXIgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aDtcclxuICAgIC8vICAgICBpZiAodGhpcy5pc0FycmF5KSB7XHJcbiAgICAvLyAgICAgICAgIHZhciBiZWdpbkluZGV4ID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcigoIGFkZHIgLSB0aGlzLmFkZHJlc3MgKSAvIHRoaXMubm9uUmVmVHlwZS5lbGVtVHlwZS5zaXplKSk7XHJcbiAgICAvLyAgICAgICAgIHZhciBlbmRJbmRleCA9IE1hdGgubWluKFxyXG4gICAgLy8gICAgICAgICAgICAgYmVnaW5JbmRleCArIE1hdGguY2VpbChsZW5ndGggLyB0aGlzLm5vblJlZlR5cGUuZWxlbVR5cGUuc2l6ZSksXHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLm5vblJlZlR5cGUubGVuZ3RoKTtcclxuXHJcbiAgICAvLyAgICAgICAgIGZvciAodmFyIGkgPSBiZWdpbkluZGV4OyBpIDwgZW5kSW5kZXg7ICsraSkge1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5lbGVtT2JqZWN0c1tpXS5ieXRlc1NldChhZGRyLCB2YWx1ZXMpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2UgaWYgKHRoaXMuaXNDbGFzcyl7XHJcbiAgICAvLyAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnN1Ym9iamVjdHMubGVuZ3RoOyArK2kpIHtcclxuICAgIC8vICAgICAgICAgICAgIHZhciBtZW0gPSB0aGlzLnN1Ym9iamVjdHNbaV07XHJcbiAgICAvLyAgICAgICAgICAgICBpZihhZGRyIDwgbWVtLmFkZHJlc3MgKyBtZW0udHlwZS5zaXplICYmIG1lbS5hZGRyZXNzIDwgYWRkciArIGxlbmd0aCl7IC8vIGNoZWNrIGZvciBvdmVybGFwXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgbWVtLmJ5dGVzU2V0KGFkZHIsIHZhbHVlcyk7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICBlbHNlIGlmIChtZW0uYWRkcmVzcyA+IGFkZHIgK2xlbmd0aCl7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgLy8gYnJlYWsgaWYgd2UgYXJlIG5vdyBpbiBtZW1iZXJzIHBhc3QgYWZmZWN0ZWQgYnl0ZXNcclxuICAgIC8vICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBlbHNle1xyXG4gICAgLy8gICAgICAgICB0aGlzLnNlbmQoXCJieXRlc1NldFwiLCB7YWRkcjogYWRkciwgdmFsdWVzOiB2YWx1ZXN9KTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9LFxyXG4gICAgLy8gYnl0ZVdyaXR0ZW46IGZ1bmN0aW9uKGFkZHIsIHZhbHVlKXtcclxuICAgIC8vICAgICBpZiAodGhpcy5pc0FycmF5KXtcclxuICAgIC8vICAgICAgICAgLy8gSWYgYXJyYXksIGZpbmQgdGhlIHN1Ym9iamVjdCBjb250YWluaW5nIHRoZSBieXRlXHJcbiAgICAvLyAgICAgICAgIHRoaXMuZWxlbU9iamVjdHNbKGFkZHIgLSB0aGlzLmFkZHJlc3MpIC8gdGhpcy5ub25SZWZUeXBlLmVsZW1UeXBlLnNpemVdLmJ5dGVXcml0dGVuKGFkZHIsIHZhbHVlKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZSBpZiAodGhpcy5pc0NsYXNzKXtcclxuICAgIC8vICAgICAgICAgdmFyIGFkID0gdGhpcy5hZGRyZXNzO1xyXG4gICAgLy8gICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5zdWJvYmplY3RzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAvLyAgICAgICAgICAgICB2YXIgbWVtID0gdGhpcy5zdWJvYmplY3RzW2ldO1xyXG4gICAgLy8gICAgICAgICAgICAgaWYoYWQgPSBhZCArIG1lbS50eXBlLnNpemUgPiBhZGRyKXtcclxuICAgIC8vICAgICAgICAgICAgICAgICBtZW0uYnl0ZVdyaXR0ZW4oYWRkciwgdmFsdWUpO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2V7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuc2VuZChcImJ5dGVXcml0dGVuXCIsIHthZGRyOiBhZGRyLCB2YWx1ZTogdmFsdWV9KTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9LFxyXG4gICAgLy8gYnl0ZXNXcml0dGVuOiBmdW5jdGlvbihhZGRyLCB2YWx1ZXMpe1xyXG4gICAgLy8gICAgIHZhciBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xyXG4gICAgLy8gICAgIGlmICh0aGlzLmlzQXJyYXkpIHtcclxuICAgIC8vICAgICAgICAgdmFyIGJlZ2luSW5kZXggPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKCggYWRkciAtIHRoaXMuYWRkcmVzcyApIC8gdGhpcy5ub25SZWZUeXBlLmVsZW1UeXBlLnNpemUpKTtcclxuICAgIC8vICAgICAgICAgdmFyIGVuZEluZGV4ID0gTWF0aC5taW4oXHJcbiAgICAvLyAgICAgICAgICAgICBiZWdpbkluZGV4ICsgTWF0aC5jZWlsKGxlbmd0aCAvIHRoaXMubm9uUmVmVHlwZS5lbGVtVHlwZS5zaXplKSxcclxuICAgIC8vICAgICAgICAgICAgIHRoaXMubm9uUmVmVHlwZS5sZW5ndGgpO1xyXG5cclxuICAgIC8vICAgICAgICAgZm9yICh2YXIgaSA9IGJlZ2luSW5kZXg7IGkgPCBlbmRJbmRleDsgKytpKSB7XHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLmVsZW1PYmplY3RzW2ldLmJ5dGVzV3JpdHRlbihhZGRyLCB2YWx1ZXMpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2UgaWYgKHRoaXMuaXNDbGFzcyl7XHJcbiAgICAvLyAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnN1Ym9iamVjdHMubGVuZ3RoOyArK2kpIHtcclxuICAgIC8vICAgICAgICAgICAgIHZhciBtZW0gPSB0aGlzLnN1Ym9iamVjdHNbaV07XHJcbiAgICAvLyAgICAgICAgICAgICBpZihhZGRyIDwgbWVtLmFkZHJlc3MgKyBtZW0udHlwZS5zaXplICYmIG1lbS5hZGRyZXNzIDwgYWRkciArIGxlbmd0aCl7IC8vIGNoZWNrIGZvciBvdmVybGFwXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgbWVtLmJ5dGVzV3JpdHRlbihhZGRyLCB2YWx1ZXMpO1xyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgZWxzZSBpZiAobWVtLmFkZHJlc3MgPiBhZGRyICtsZW5ndGgpe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIC8vIGJyZWFrIGlmIHdlIGFyZSBub3cgaW4gbWVtYmVycyBwYXN0IGFmZmVjdGVkIGJ5dGVzXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZXtcclxuICAgIC8vICAgICAgICAgdGhpcy5zZW5kKFwiYnl0ZXNXcml0dGVuXCIsIHthZGRyOiBhZGRyLCB2YWx1ZXM6IHZhbHVlc30pO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH0sXHJcblxyXG5cclxuICAgIHB1YmxpYyBjYWxsUmVjZWl2ZWQoKSB7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJjYWxsUmVjZWl2ZWRcIiwgdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNhbGxFbmRlZCgpIHtcclxuICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcImNhbGxFbmRlZFwiLCB0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0VmFsaWRpdHkodmFsaWQ6IGJvb2xlYW4pIHtcclxuICAgICAgICB0aGlzLl9pc1ZhbGlkID0gdmFsaWQ7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJ2YWxpZGl0eVNldFwiLCB2YWxpZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IGRlc2NyaWJlKCkgOiBEZXNjcmlwdGlvbjtcclxuXHJcbn07XHJcblxyXG4vLyBUT0RPOiBLZXB0IHNvbWUgb2YgdGhpcyBpbiBhIGNvbW1lbnQgaW4gY2FzZSBpdCdzIGhlbHBmdWwgd2hlbiByZWludHJvZHVjaW5nIGxlYWsgY2hlY2tpbmdcclxuLy8gZXhwb3J0IGNsYXNzIER5bmFtaWNPYmplY3QgZXh0ZW5kcyBDUFBPYmplY3Qge1xyXG4gICAgXHJcbi8vICAgICBwcml2YXRlIGhhc0JlZW5MZWFrZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbi8vICAgICBwdWJsaWMgY29uc3RydWN0b3IodHlwZTogT2JqZWN0VHlwZSwgbWVtb3J5OiBNZW1vcnksIGFkZHJlc3M6IG51bWJlcikge1xyXG4vLyAgICAgICAgIHN1cGVyKHR5cGUsIG1lbW9yeSwgYWRkcmVzcyk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIHRvU3RyaW5nKCkge1xyXG4vLyAgICAgICAgIHJldHVybiBcIkhlYXAgb2JqZWN0IGF0IFwiICsgdGhpcy5hZGRyZXNzICsgXCIgKFwiICsgdGhpcy50eXBlICsgXCIpXCI7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIGxlYWtlZChzaW06IFNpbXVsYXRpb24pIHtcclxuLy8gICAgICAgICBpZiAoIXRoaXMuaGFzQmVlbkxlYWtlZCl7XHJcbi8vICAgICAgICAgICAgIHRoaXMuaGFzQmVlbkxlYWtlZCA9IHRydWU7XHJcbi8vICAgICAgICAgICAgIHNpbS5tZW1vcnlMZWFrZWQoXCJPaCBubyEgU29tZSBtZW1vcnkganVzdCBnb3QgbG9zdC4gSXQncyBoaWdobGlnaHRlZCBpbiByZWQgaW4gdGhlIG1lbW9yeSBkaXNwbGF5LlwiKVxyXG4vLyAgICAgICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcImxlYWtlZFwiKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgLy8gVE9ETzogV2h5IGRvZXMgdGhpcyBleGlzdD8gSG93IGRvZXMgc29tZXRoaW5nIGJlY29tZSB1bmxlYWtlZD8/XHJcbi8vICAgICBwdWJsaWMgdW5sZWFrZWQoc2ltOiBTaW11bGF0aW9uKSB7XHJcbi8vICAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJ1bmxlYWtlZFwiKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgZGVzY3JpYmUoKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcInRoZSBoZWFwIG9iamVjdCBhdCAweFwiICsgdGhpcy5hZGRyZXNzfTtcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vIFRPRE86IHJlbW92ZSB0aGlzP1xyXG4vLyBleHBvcnQgdmFyIEV2YWx1YXRpb25SZXN1bHRSdW50aW1lRW50aXR5ID0gQ1BQT2JqZWN0LmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZTogXCJFdmFsdWF0aW9uUmVzdWx0UnVudGltZUVudGl0eVwiLFxyXG4vLyAgICAgc3RvcmFnZTogXCJhdXRvbWF0aWNcIixcclxuLy8gICAgIGluaXQ6IGZ1bmN0aW9uKHR5cGUsIGluc3Qpe1xyXG4vLyAgICAgICAgIHRoaXMuaW5pdFBhcmVudChudWxsLCB0eXBlKTtcclxuLy8gICAgICAgICB0aGlzLmluc3QgPSBpbnN0O1xyXG4vLyAgICAgfSxcclxuLy8gICAgIGluc3RhbmNlU3RyaW5nIDogZnVuY3Rpb24oKXtcclxuLy8gICAgICAgICByZXR1cm4gdGhpcy5uYW1lICsgXCIgKFwiICsgdGhpcy50eXBlICsgXCIpXCI7XHJcbi8vICAgICB9LFxyXG4vLyAgICAgcnVudGltZUxvb2t1cCA6ICBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbi8vICAgICAgICAgcmV0dXJuIHRoaXMuaW5zdC5ldmFsUmVzdWx0LnJ1bnRpbWVMb29rdXAoc2ltLCBpbnN0KTtcclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG5cclxuLy8gcHVibGljIHN0YXRpYyBjcmVhdGVBdXRvT2JqZWN0PFQgZXh0ZW5kcyBPYmplY3RUeXBlPihlbnRpdHk6IEF1dG9FbnRpdHk8VD4sIG1lbW9yeTogTWVtb3J5LCBhZGRyZXNzOiBudW1iZXIpIHtcclxuLy8gICAgIHJldHVybiBuZXcgQ1BQT2JqZWN0KGVudGl0eS50eXBlLCBtZW1vcnksIGFkZHJlc3MsIG5ldyBFbnRpdHlPYmplY3REZXNjcmlwdG9yKGVudGl0eSkpO1xyXG4vLyB9XHJcblxyXG5leHBvcnQgY2xhc3MgQXV0b09iamVjdDxUIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGU+IGV4dGVuZHMgQ1BQT2JqZWN0PFQ+IHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGVmOiBMb2NhbFZhcmlhYmxlRGVmaW5pdGlvbiB8IFBhcmFtZXRlckRlZmluaXRpb25cclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoZGVmOiBMb2NhbFZhcmlhYmxlRGVmaW5pdGlvbiB8IFBhcmFtZXRlckRlZmluaXRpb24sIHR5cGU6IFQsIG1lbW9yeTogTWVtb3J5LCBhZGRyZXNzOiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlcih0eXBlLCBtZW1vcnksIGFkZHJlc3MpO1xyXG4gICAgICAgIHRoaXMuZGVmID0gZGVmO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZXNjcmliZSgpOiBEZXNjcmlwdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVmLmRlY2xhcmVkRW50aXR5LmRlc2NyaWJlKCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIE1haW5SZXR1cm5PYmplY3QgZXh0ZW5kcyBDUFBPYmplY3Q8SW50PiB7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG1lbW9yeTogTWVtb3J5KSB7XHJcbiAgICAgICAgc3VwZXIoSW50LklOVCwgbWVtb3J5LCAwKTsgLy8gSEFDSzogcHV0IGl0IGF0IGFkZHJlc3MgMC4gcHJvYmFibHkgd29uJ3QgY2F1c2UgYW55IGlzc3VlcyBzaW5jZSBpdCdzIG5vdCBhbGxvY2F0ZWRcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzY3JpYmUoKTogRGVzY3JpcHRpb24ge1xyXG4gICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJUaGUgdmFsdWUgcmV0dXJuZWQgZnJvbSBtYWluLlwifVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXRpY09iamVjdDxUIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGU+IGV4dGVuZHMgQ1BQT2JqZWN0PFQ+IHtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGRlZjogQ29tcGlsZWRHbG9iYWxPYmplY3REZWZpbml0aW9uLCB0eXBlOiBULCBtZW1vcnk6IE1lbW9yeSwgYWRkcmVzczogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIodHlwZSwgbWVtb3J5LCBhZGRyZXNzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzY3JpYmUoKTogRGVzY3JpcHRpb24ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRlZi5kZWNsYXJlZEVudGl0eS5kZXNjcmliZSgpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIER5bmFtaWNPYmplY3Q8VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiBleHRlbmRzIENQUE9iamVjdDxUPiB7XHJcblxyXG4gICAgcHVibGljIGRlc2NyaWJlKCk6IERlc2NyaXB0aW9uIHtcclxuICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwidGhlIGhlYXAgb2JqZWN0IGF0IDB4XCIgKyB0aGlzLmFkZHJlc3N9O1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEludmFsaWRPYmplY3Q8VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiBleHRlbmRzIENQUE9iamVjdDxUPiB7XHJcblxyXG4gICAgcHVibGljIGRlc2NyaWJlKCk6IERlc2NyaXB0aW9uIHtcclxuICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwiYW4gaW52YWxpZCBvYmplY3QgYXQgMHhcIiArIHRoaXMuYWRkcmVzc307XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBUaGlzT2JqZWN0PFQgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZT4gZXh0ZW5kcyBDUFBPYmplY3Q8VD4ge1xyXG5cclxuICAgIHB1YmxpYyBkZXNjcmliZSgpOiBEZXNjcmlwdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHtuYW1lOiBcInRoaXNcIiwgbWVzc2FnZTogXCJ0aGUgdGhpcyBwb2ludGVyXCJ9O1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFN0cmluZ0xpdGVyYWxPYmplY3QgZXh0ZW5kcyBDUFBPYmplY3Q8Qm91bmRlZEFycmF5VHlwZTxDaGFyPj4ge1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcih0eXBlOiBCb3VuZGVkQXJyYXlUeXBlPENoYXI+LCBtZW1vcnk6IE1lbW9yeSwgYWRkcmVzczogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIodHlwZSwgbWVtb3J5LCBhZGRyZXNzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzY3JpYmUoKTogRGVzY3JpcHRpb24ge1xyXG4gICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJzdHJpbmcgbGl0ZXJhbCBhdCAweFwiICsgdGhpcy5hZGRyZXNzfVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuYWJzdHJhY3QgY2xhc3MgU3Vib2JqZWN0PFQgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZT4gZXh0ZW5kcyBDUFBPYmplY3Q8VD4ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBjb250YWluaW5nT2JqZWN0OiBDUFBPYmplY3Q8Qm91bmRlZEFycmF5VHlwZSB8IENsYXNzVHlwZT47XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRhaW5pbmdPYmplY3Q6IENQUE9iamVjdDxCb3VuZGVkQXJyYXlUeXBlIHwgQ2xhc3NUeXBlPiwgdHlwZTogVCwgbWVtb3J5OiBNZW1vcnksIGFkZHJlc3M6IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyKHR5cGUsIG1lbW9yeSwgYWRkcmVzcyk7XHJcbiAgICAgICAgdGhpcy5jb250YWluaW5nT2JqZWN0ID0gY29udGFpbmluZ09iamVjdDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXNBbGl2ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluaW5nT2JqZWN0LmlzQWxpdmU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGRlYWxsb2NhdGVkQnkoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmluZ09iamVjdC5kZWFsbG9jYXRlZEJ5O1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvblZhbHVlU2V0KHdyaXRlOiBib29sZWFuKSB7XHJcbiAgICAgICAgaWYgKHdyaXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmluZ09iamVjdC5zdWJvYmplY3RWYWx1ZVdyaXR0ZW4oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBcnJheVN1Ym9iamVjdDxUIGV4dGVuZHMgQXJyYXlFbGVtVHlwZSA9IEFycmF5RWxlbVR5cGU+IGV4dGVuZHMgU3Vib2JqZWN0PFQ+IHtcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbnRhaW5pbmdPYmplY3QhOiBDUFBPYmplY3Q8Qm91bmRlZEFycmF5VHlwZTxUPj47IC8vIEhhbmRsZWQgYnkgcGFyZW50IChUT0RPOiBpcyB0aGlzIGEgZ29vZCBpZGVhPylcclxuICAgIHB1YmxpYyByZWFkb25seSBpbmRleDogbnVtYmVyO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihhcnJPYmo6IENQUE9iamVjdDxCb3VuZGVkQXJyYXlUeXBlPFQ+PiwgaW5kZXg6IG51bWJlciwgbWVtb3J5OiBNZW1vcnksIGFkZHJlc3M6IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyKGFyck9iaiwgYXJyT2JqLnR5cGUuZWxlbVR5cGUsIG1lbW9yeSwgYWRkcmVzcyk7XHJcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRQb2ludGVyVG8oKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZSh0aGlzLmFkZHJlc3MsIG5ldyBBcnJheVBvaW50ZXIodGhpcy5jb250YWluaW5nT2JqZWN0KSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGRlc2NyaWJlKCkge1xyXG4gICAgICAgIHZhciBhcnJEZXNjID0gdGhpcy5jb250YWluaW5nT2JqZWN0LmRlc2NyaWJlKCk7XHJcbiAgICAgICAgdmFyIGRlc2MgOiBEZXNjcmlwdGlvbiA9IHtcclxuICAgICAgICAgICAgbWVzc2FnZTogXCJlbGVtZW50IFwiICsgdGhpcy5pbmRleCArIFwiIG9mIFwiICsgYXJyRGVzYy5tZXNzYWdlLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKGFyckRlc2MubmFtZSl7XHJcbiAgICAgICAgICAgIGRlc2MubmFtZSA9IGFyckRlc2MubmFtZSArIFwiW1wiICsgdGhpcy5pbmRleCArIFwiXVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGVzYztcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBCYXNlU3Vib2JqZWN0IGV4dGVuZHMgU3Vib2JqZWN0PENsYXNzVHlwZT4ge1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29udGFpbmluZ09iamVjdCE6IENQUE9iamVjdDxDbGFzc1R5cGU+OyAvLyBIYW5kbGVkIGJ5IHBhcmVudCAoVE9ETzogaXMgdGhpcyBhIGdvb2QgaWRlYT8pXHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRhaW5pbmdPYmplY3Q6IENQUE9iamVjdDxDbGFzc1R5cGU+LCB0eXBlOiBDbGFzc1R5cGUsIG1lbW9yeTogTWVtb3J5LCBhZGRyZXNzOiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlcihjb250YWluaW5nT2JqZWN0LCB0eXBlLCBtZW1vcnksIGFkZHJlc3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZXNjcmliZSgpIDogRGVzY3JpcHRpb24ge1xyXG4gICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJ0aGUgXCIgKyB0aGlzLnR5cGUubmFtZSArIFwiIGJhc2Ugb2YgXCIgKyB0aGlzLmNvbnRhaW5pbmdPYmplY3QuZGVzY3JpYmUoKS5tZXNzYWdlfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE1lbWJlclN1Ym9iamVjdDxUIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGU+IGV4dGVuZHMgU3Vib2JqZWN0PFQ+IHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29udGFpbmluZ09iamVjdCE6IENQUE9iamVjdDxDbGFzc1R5cGU+OyAvLyBIYW5kbGVkIGJ5IHBhcmVudCAoVE9ETzogaXMgdGhpcyBhIGdvb2QgaWRlYT8pXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250YWluaW5nT2JqZWN0OiBDUFBPYmplY3Q8Q2xhc3NUeXBlPiwgdHlwZTogVCwgbmFtZTogc3RyaW5nLCBtZW1vcnk6IE1lbW9yeSwgYWRkcmVzczogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIoY29udGFpbmluZ09iamVjdCwgdHlwZSwgbWVtb3J5LCBhZGRyZXNzKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgZGVzY3JpYmUoKSB7XHJcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMuY29udGFpbmluZ09iamVjdDtcclxuICAgICAgICBsZXQgcGFyZW50RGVzYyA9IHBhcmVudC5kZXNjcmliZSgpO1xyXG4gICAgICAgIGxldCBkZXNjIDogRGVzY3JpcHRpb24gPSB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwidGhlIG1lbWJlciBcIiArIHRoaXMubmFtZSArIFwiIG9mIFwiICsgcGFyZW50RGVzYy5tZXNzYWdlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwYXJlbnREZXNjLm5hbWUpe1xyXG4gICAgICAgICAgICBkZXNjLm5hbWUgPSBwYXJlbnREZXNjLm5hbWUgKyBcIi5cIiArIHRoaXMubmFtZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRlc2M7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vLyBleHBvcnQgdHlwZSBUZW1wb3JhcnlPYmplY3RUeXBlPFQgZXh0ZW5kcyBPYmplY3RUeXBlPiA9IFQgZXh0ZW5kcyBPYmplY3RUeXBlID8gVGVtcG9yYXJ5T2JqZWN0PFQ+IDogbmV2ZXI7XHJcblxyXG5leHBvcnQgY2xhc3MgVGVtcG9yYXJ5T2JqZWN0PFQgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZT4gZXh0ZW5kcyBDUFBPYmplY3Q8VD4ge1xyXG5cclxuICAgIHByaXZhdGUgbmFtZT86IHN0cmluZztcclxuXHJcbiAgICAvLyBwdWJsaWMgc3RhdGljIGNyZWF0ZTxUIGV4dGVuZHMgT2JqZWN0VHlwZT4odHlwZTogVCwgbWVtb3J5OiBNZW1vcnksIGFkZHJlc3M6IG51bWJlciwgbmFtZT86IHN0cmluZykgOiBUIGV4dGVuZHMgT2JqZWN0VHlwZSA/IFRlbXBvcmFyeU9iamVjdDxUPiA6IG5ldmVyIHtcclxuICAgIC8vICAgICByZXR1cm4gPGFueT4gbmV3IFRlbXBvcmFyeU9iamVjdCh0eXBlLCBtZW1vcnksIGFkZHJlc3MsIG5hbWUpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcih0eXBlOiBULCBtZW1vcnk6IE1lbW9yeSwgYWRkcmVzczogbnVtYmVyLCBuYW1lPzogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIodHlwZSwgbWVtb3J5LCBhZGRyZXNzKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIC8vIHRoaXMuZW50aXR5SWQgPSB0ZW1wT2JqRW50aXR5LmVudGl0eUlkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBuYW1lU3RyaW5nKCkge1xyXG4gICAgICAgIHJldHVybiBcIkBcIiArIHRoaXMuYWRkcmVzcztcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIGRlc2NyaWJlKCkgOiBEZXNjcmlwdGlvbntcclxuICAgICAgICByZXR1cm4gbmFtZSA/IHtuYW1lOiB0aGlzLm5hbWUsIG1lc3NhZ2U6IFwidGhlIHRlbXBvcmFyeSBvYmplY3QgXCIgKyB0aGlzLm5hbWV9IDoge21lc3NhZ2U6IFwiYSB0ZW1wb3Jhcnkgb2JqZWN0XCJ9O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHtOb3RlSGFuZGxlciwgQ1BQRXJyb3J9IGZyb20gXCIuL2Vycm9yc1wiO1xyXG5pbXBvcnQgeyBDUFBDb25zdHJ1Y3QsIEFTVE5vZGUsIFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCB9IGZyb20gXCIuL2NvbnN0cnVjdHNcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBLRVlXT1JEUyA9IG5ldyBTZXQoW1xyXG4gICAgXCJhbGlnbmFzXCIsIFwiY29udGludWVcIiwgXCJmcmllbmRcIiwgXCJyZWdpc3RlclwiLCBcInRydWVcIixcclxuICAgIFwiYWxpZ25vZlwiLCBcImRlY2x0eXBlXCIsIFwiZ290b1wiLCBcInJlaW50ZXJwcmV0X2Nhc3RcIiwgXCJ0cnlcIixcclxuICAgIFwiYXNtXCIsIFwiZGVmYXVsdFwiLCBcImlmXCIsIFwicmV0dXJuXCIsIFwidHlwZWRlZlwiLFxyXG4gICAgXCJhdXRvXCIsIFwiZGVsZXRlXCIsIFwiaW5saW5lXCIsIFwic2hvcnRcIiwgXCJ0eXBlaWRcIixcclxuICAgIFwiYm9vbFwiLCBcImRvXCIsIFwiaW50XCIsIFwic2lnbmVkXCIsIFwidHlwZW5hbWVcIixcclxuICAgIFwiYnJlYWtcIiwgXCJkb3VibGVcIiwgXCJsb25nXCIsIFwic2l6ZW9mXCIsIFwidW5pb25cIixcclxuICAgIFwiY2FzZVwiLCBcImR5bmFtaWNfY2FzdFwiLCBcIm11dGFibGVcIiwgXCJzdGF0aWNcIiwgXCJ1bnNpZ25lZFwiLFxyXG4gICAgXCJjYXRjaFwiLCBcImVsc2VcIiwgXCJuYW1lc3BhY2VcIiwgXCJzdGF0aWNfYXNzZXJ0XCIsIFwidXNpbmdcIixcclxuICAgIFwiY2hhclwiLCBcImVudW1cIiwgXCJuZXdcIiwgXCJzdGF0aWNfY2FzdFwiLCBcInZpcnR1YWxcIixcclxuICAgIFwiY2hhcjE2X3RcIiwgXCJleHBsaWNpdFwiLCBcIm5vZXhjZXB0XCIsIFwic3RydWN0XCIsIFwidm9pZFwiLFxyXG4gICAgXCJjaGFyMzJfdFwiLCBcImV4cG9ydFwiLCBcIm51bGxwdHJcIiwgXCJzd2l0Y2hcIiwgXCJ2b2xhdGlsZVwiLFxyXG4gICAgXCJjbGFzc1wiLCBcImV4dGVyblwiLCBcIm9wZXJhdG9yXCIsIFwidGVtcGxhdGVcIiwgXCJ3Y2hhcl90XCIsXHJcbiAgICBcImNvbnN0XCIsIFwiZmFsc2VcIiwgXCJwcml2YXRlXCIsIFwidGhpc1wiLCBcIndoaWxlXCIsXHJcbiAgICBcImNvbnN0ZXhwclwiLCBcImZsb2F0XCIsIFwicHJvdGVjdGVkXCIsIFwidGhyZWFkX2xvY2FsXCIsXHJcbiAgICBcImNvbnN0X2Nhc3RcIiwgXCJmb3JcIiwgXCJwdWJsaWNcIiwgXCJ0aHJvd1wiXHJcbl0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IEFMVF9PUFMgPSBuZXcgU2V0KFtcclxuICAgIFwiYW5kXCIsIFwiYW5kX2VxXCIsIFwiYml0YW5kXCIsIFwiYml0b3JcIiwgXCJjb21wbFwiLCBcIm5vdFwiLFxyXG4gICAgXCJub3RfZXFcIiwgXCJvclwiLCBcIm9yX2VxXCIsIFwieG9yXCIsIFwieG9yX2VxXCJcclxuXSk7XHJcblxyXG4vLyBleHBvcnQgdHlwZSBVbnF1YWxpZmllZE5hbWUgPSBzdHJpbmc7XHJcbi8vIGV4cG9ydCB0eXBlIFF1YWxpZmllZE5hbWUgPSBzdHJpbmdbXTtcclxuLy8gZXhwb3J0IHR5cGUgTmFtZSA9IFVucXVhbGlmaWVkTmFtZSB8IFF1YWxpZmllZE5hbWU7XHJcblxyXG4vL1RPRE86IG5vdCBzdXJlIGlmIHRoaXMgaXMgdGhlIHJpZ2h0IHBsYWNlIGZvciB0aGlzLiBNYXkgYmUgYmV0dG9yIHN1aXRlZCBmb3IgZXJyb3IudHNcclxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrSWRlbnRpZmllcihzcmM6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgbmFtZTogc3RyaW5nLCBub3RlSGFuZGxlcjogTm90ZUhhbmRsZXIpIHtcclxuICAgIFxyXG4gICAgLy8gU3BlY2lhbCBjYXNlIGZvciBxdWFsaWZpZWQgbmFtZXNcclxuICAgIGlmIChuYW1lLmluY2x1ZGVzKFwiOjpcIikpIHtcclxuICAgICAgICBuYW1lLnNwbGl0KFwiOjpcIikuZm9yRWFjaCgoZWxlbSkgPT4gY2hlY2tJZGVudGlmaWVyKHNyYywgZWxlbSwgbm90ZUhhbmRsZXIpKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgdGhhdCBpZGVudGlmaWVyIGlzIG5vdCBhIGtleXdvcmQgb3IgYW4gYWx0ZXJuYXRpdmUgcmVwcmVzZW50YXRpb24gZm9yIGFuIG9wZXJhdG9yXHJcbiAgICBpZiAoS0VZV09SRFMuaGFzKG5hbWUpKSB7XHJcbiAgICAgICAgbm90ZUhhbmRsZXIuYWRkTm90ZShDUFBFcnJvci5pZGVuLmtleXdvcmQoc3JjLCBuYW1lKSk7XHJcbiAgICB9XHJcbiAgICBpZiAoQUxUX09QUy5oYXMobmFtZSkpIHtcclxuICAgICAgICBub3RlSGFuZGxlci5hZGROb3RlKENQUEVycm9yLmlkZW4uYWx0X29wKHNyYywgbmFtZSkpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZ1bGx5UXVhbGlmaWVkTmFtZSguLi5uYW1lcyA6IHN0cmluZ1tdKSB7XHJcbiAgICByZXR1cm4gXCI6OlwiICsgbmFtZXMuam9pbihcIjo6XCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnVsbHlRdWFsaWZpZWROYW1lVG9VbnF1YWxpZmllZChmcW5hbWU6IHN0cmluZykge1xyXG4gICAgbGV0IGkgPSBmcW5hbWUubGFzdEluZGV4T2YoXCI6OlwiKTtcclxuICAgIGlmIChpID09PSAtMSkge1xyXG4gICAgICAgIHJldHVybiBmcW5hbWU7XHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAgIHJldHVybiBmcW5hbWUuc2xpY2UoaSsyKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTb3VyY2VDb2RlIHtcclxuICAgIHRleHQ6IHN0cmluZztcclxuICAgIGxpbmU6IG51bWJlcjtcclxuICAgIGNvbHVtbjogbnVtYmVyO1xyXG4gICAgc3RhcnQ6IG51bWJlcjtcclxuICAgIGVuZDogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElkZW50aWZpZXJBU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBpZGVudGlmaWVyOiBzdHJpbmc7XHJcbn0iLCJpbXBvcnQgeyBPYmplY3RUeXBlLCBUeXBlLCBBdG9taWNUeXBlLCBCb3VuZGVkQXJyYXlUeXBlLCBQb2ludGVyVHlwZSwgQXJyYXlQb2ludGVyLCBJbnQsIEJvb2wsIEludGVncmFsVHlwZSwgRmxvYXQsIERvdWJsZSwgRmxvYXRpbmdQb2ludFR5cGUsIHNpbWlsYXJUeXBlLCBzdWJUeXBlLCBzYW1lVHlwZSwgaXNDdkNvbnZlcnRpYmxlLCBBcml0aG1ldGljVHlwZSwgQXJyYXlFbGVtVHlwZSwgaXNUeXBlIH0gZnJvbSBcIi4vdHlwZXNcIjtcclxuaW1wb3J0IHsgU2ltcGxlUnVudGltZUV4cHJlc3Npb24sIE51bWVyaWNMaXRlcmFsIH0gZnJvbSBcIi4vZXhwcmVzc2lvbnNcIjtcclxuaW1wb3J0IHsgRGVzY3JpcHRpb24sIFN1Y2Nlc3NmdWxseUNvbXBpbGVkLCBDb21waWxlZFRlbXBvcmFyeURlYWxsb2NhdG9yLCBSdW50aW1lQ29uc3RydWN0IH0gZnJvbSBcIi4vY29uc3RydWN0c1wiO1xyXG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuL3J1bnRpbWVFbnZpcm9ubWVudFwiO1xyXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vdXRpbC91dGlsXCI7XHJcbmltcG9ydCB7IENvbXBpbGVkRXhwcmVzc2lvbiwgRXhwcmVzc2lvbiwgVkNSZXN1bHRUeXBlcywgUnVudGltZUV4cHJlc3Npb24sIFZhbHVlQ2F0ZWdvcnksIFR5cGVkRXhwcmVzc2lvbiwgU3BlY2lmaWNUeXBlZEV4cHJlc3Npb24gfSBmcm9tIFwiLi9leHByZXNzaW9uQmFzZVwiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEltcGxpY2l0Q29udmVyc2lvbjxGcm9tVHlwZSBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlLCBGcm9tVkMgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5ID0gVmFsdWVDYXRlZ29yeSwgVG9UeXBlIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGUsIFRvVkMgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5ID0gVmFsdWVDYXRlZ29yeT4gZXh0ZW5kcyBFeHByZXNzaW9uIHtcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IGZyb206IFR5cGVkRXhwcmVzc2lvbjxGcm9tVHlwZSwgRnJvbVZDPjtcclxuICAgIHB1YmxpYyByZWFkb25seSB0eXBlOiBUb1R5cGU7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmFsdWVDYXRlZ29yeTogVG9WQztcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbnZlcnNpb25MZW5ndGg6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoZnJvbTogVHlwZWRFeHByZXNzaW9uPEZyb21UeXBlLCBGcm9tVkM+LCB0b1R5cGU6IFRvVHlwZSwgdmFsdWVDYXRlZ29yeTogVG9WQykge1xyXG4gICAgICAgIHN1cGVyKGZyb20uY29udGV4dCk7XHJcbiAgICAgICAgdGhpcy5hdHRhY2godGhpcy5mcm9tID0gZnJvbSk7XHJcbiAgICAgICAgdGhpcy50eXBlID0gdG9UeXBlO1xyXG4gICAgICAgIHRoaXMudmFsdWVDYXRlZ29yeSA9IHZhbHVlQ2F0ZWdvcnk7XHJcblxyXG4gICAgICAgIGlmIChmcm9tIGluc3RhbmNlb2YgSW1wbGljaXRDb252ZXJzaW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udmVyc2lvbkxlbmd0aCA9IGZyb20uY29udmVyc2lvbkxlbmd0aCArIDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuY29udmVyc2lvbkxlbmd0aCA9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbjxGcm9tVHlwZSBleHRlbmRzIE9iamVjdFR5cGUsIEZyb21WQyBleHRlbmRzIFZhbHVlQ2F0ZWdvcnksIFRvVHlwZSBleHRlbmRzIE9iamVjdFR5cGUsIFRvVkMgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5Pih0aGlzOiBDb21waWxlZEltcGxpY2l0Q29udmVyc2lvbjxGcm9tVHlwZSwgRnJvbVZDLCBUb1R5cGUsIFRvVkM+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZUltcGxpY2l0Q29udmVyc2lvbjxGcm9tVHlwZSwgRnJvbVZDLCBUb1R5cGUsIFRvVkM+O1xyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPFQgZXh0ZW5kcyBUeXBlLCBWIGV4dGVuZHMgVmFsdWVDYXRlZ29yeT4odGhpczogQ29tcGlsZWRFeHByZXNzaW9uPFQsVj4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBuZXZlcjtcclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbjxGcm9tVHlwZSBleHRlbmRzIE9iamVjdFR5cGUsIEZyb21WQyBleHRlbmRzIFZhbHVlQ2F0ZWdvcnksIFRvVHlwZSBleHRlbmRzIE9iamVjdFR5cGUsIFRvVkMgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5Pih0aGlzOiBDb21waWxlZEltcGxpY2l0Q29udmVyc2lvbjxGcm9tVHlwZSwgRnJvbVZDLCBUb1R5cGUsIFRvVkM+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZUltcGxpY2l0Q29udmVyc2lvbjxGcm9tVHlwZSwgRnJvbVZDLCBUb1R5cGUsIFRvVkM+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFJ1bnRpbWVJbXBsaWNpdENvbnZlcnNpb24odGhpcywgcGFyZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3Qgb3BlcmF0ZShmcm9tRXZhbFJlc3VsdDogVkNSZXN1bHRUeXBlczxGcm9tVHlwZSwgRnJvbVZDPikgOiBWQ1Jlc3VsdFR5cGVzPFRvVHlwZSwgVG9WQz47XHJcblxyXG4gICAgXHJcbiAgICBwdWJsaWMgZGVzY3JpYmVFdmFsUmVzdWx0KGRlcHRoOiBudW1iZXIpOiBEZXNjcmlwdGlvbiB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRJbXBsaWNpdENvbnZlcnNpb248RnJvbVR5cGUgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZSwgRnJvbVZDIGV4dGVuZHMgVmFsdWVDYXRlZ29yeSA9IFZhbHVlQ2F0ZWdvcnksIFRvVHlwZSBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlLCBUb1ZDIGV4dGVuZHMgVmFsdWVDYXRlZ29yeSA9IFZhbHVlQ2F0ZWdvcnk+IGV4dGVuZHMgSW1wbGljaXRDb252ZXJzaW9uPEZyb21UeXBlLCBGcm9tVkMsIFRvVHlwZSwgVG9WQz4sIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuICAgIHJlYWRvbmx5IHRlbXBvcmFyeURlYWxsb2NhdG9yPzogQ29tcGlsZWRUZW1wb3JhcnlEZWFsbG9jYXRvcjsgLy8gdG8gbWF0Y2ggQ29tcGlsZWRQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiBzdHJ1Y3R1cmVcclxuICAgIFxyXG4gICAgcmVhZG9ubHkgZnJvbTogQ29tcGlsZWRFeHByZXNzaW9uPEZyb21UeXBlLCBGcm9tVkM+O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUnVudGltZUltcGxpY2l0Q29udmVyc2lvbjxGcm9tVHlwZSBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlLCBGcm9tVkMgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5ID0gVmFsdWVDYXRlZ29yeSwgVG9UeXBlIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGUsIFRvVkMgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5ID0gVmFsdWVDYXRlZ29yeT5cclxuICAgIGV4dGVuZHMgU2ltcGxlUnVudGltZUV4cHJlc3Npb248VG9UeXBlLCBUb1ZDLCBDb21waWxlZEltcGxpY2l0Q29udmVyc2lvbjxGcm9tVHlwZSwgRnJvbVZDLCBUb1R5cGUsIFRvVkM+PiB7XHJcbiAgICAgICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZnJvbTogUnVudGltZUV4cHJlc3Npb248RnJvbVR5cGUsIEZyb21WQz47XHJcbiAgICBcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihtb2RlbDogQ29tcGlsZWRJbXBsaWNpdENvbnZlcnNpb248RnJvbVR5cGUsIEZyb21WQywgVG9UeXBlLCBUb1ZDPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgc3VwZXIobW9kZWwsIHBhcmVudCk7XHJcbiAgICAgICAgdGhpcy5mcm9tID0gdGhpcy5tb2RlbC5mcm9tLmNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuc2V0U3ViZXhwcmVzc2lvbnMoW3RoaXMuZnJvbV0pO1xyXG4gICAgfVxyXG4gICAgICAgIFxyXG4gICAgcHJvdGVjdGVkIG9wZXJhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zZXRFdmFsUmVzdWx0KHRoaXMubW9kZWwub3BlcmF0ZSh0aGlzLmZyb20uZXZhbFJlc3VsdCkpO1xyXG4gICAgfVxyXG4gICAgLy8gaXNUYWlsQ2hpbGQgOiBmdW5jdGlvbihjaGlsZCl7XHJcbiAgICAvLyAgICAgcmV0dXJuIHtpc1RhaWw6IGZhbHNlLFxyXG4gICAgLy8gICAgICAgICByZWFzb246IFwiQW4gaW1wbGljaXQgY29udmVyc2lvbiAoXCIgKyAodGhpcy5lbmdsaXNoTmFtZSB8fCB0aGlzLl9uYW1lKSArIFwiKSB0YWtlcyBwbGFjZSBhZnRlciB0aGUgZnVuY3Rpb24gY2FsbCByZXR1cm5zLlwiXHJcbiAgICAvLyAgICAgfTtcclxuICAgIC8vIH1cclxuXHJcbn1cclxuXHJcblxyXG4vLyBUeXBlIDEgQ29udmVyc2lvbnNcclxuLy8gTFZhbHVlVG9SVmFsdWUsIEFycmF5VG9Qb2ludGVyLCBGdW5jdGlvblRvUG9pbnRlclxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBMVmFsdWVUb1JWYWx1ZTxUIGV4dGVuZHMgQXRvbWljVHlwZT4gZXh0ZW5kcyBJbXBsaWNpdENvbnZlcnNpb248VCwgXCJsdmFsdWVcIiwgVCwgXCJwcnZhbHVlXCI+IHtcclxuICAgIFxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGZyb206IFR5cGVkRXhwcmVzc2lvbjxULCBcImx2YWx1ZVwiPikge1xyXG4gICAgICAgIHN1cGVyKGZyb20sIGZyb20udHlwZS5jdlVucXVhbGlmaWVkKCksIFwicHJ2YWx1ZVwiKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIG9wZXJhdGUoZnJvbUV2YWxSZXN1bHQ6IFZDUmVzdWx0VHlwZXM8VCwgXCJsdmFsdWVcIj4pIHtcclxuICAgICAgICByZXR1cm4gPFZDUmVzdWx0VHlwZXM8VCwgXCJwcnZhbHVlXCI+PmZyb21FdmFsUmVzdWx0LmdldFZhbHVlKCk7IC8vIENhc3QgdGVjaG5pY2FsbHkgbmVjZXNzYXJ5IGhlcmVcclxuICAgICAgICAvLyBUT0RPOiBhZGQgYWxlcnQgaWYgdmFsdWUgaXMgaW52YWxpZFxyXG4gICAgICAgIC8vIGUuZy4gaW5zdC5zZXRFdmFsUmVzdWx0KHJlYWRWYWx1ZVdpdGhBbGVydChldmFsVmFsdWUsIHNpbSwgdGhpcy5mcm9tLCBpbnN0LmNoaWxkSW5zdGFuY2VzLmZyb20pKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBkZXNjcmliZUV2YWxSZXN1bHQgOiBmdW5jdGlvbihkZXB0aCwgc2ltLCBpbnN0KXtcclxuICAgIC8vICAgICBpZiAoaW5zdCAmJiBpbnN0LmV2YWxSZXN1bHQpe1xyXG4gICAgLy8gICAgICAgICByZXR1cm4gaW5zdC5ldmFsUmVzdWx0LmRlc2NyaWJlKCk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2UgaWYgKGRlcHRoID09IDApe1xyXG4gICAgLy8gICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwidGhlIHZhbHVlIG9mIFwiICsgdGhpcy5nZXRTb3VyY2VUZXh0KCl9O1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBlbHNle1xyXG4gICAgLy8gICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwidGhlIHZhbHVlIG9mIFwiICsgdGhpcy5mcm9tLmRlc2NyaWJlRXZhbFJlc3VsdChkZXB0aC0xLHNpbSwgaW5zdCAmJiBpbnN0LmNoaWxkSW5zdGFuY2VzICYmIGluc3QuY2hpbGRJbnN0YW5jZXMuZnJvbSkubWVzc2FnZX07XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfSxcclxuXHJcbiAgICAvLyBleHBsYWluIDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbiAgICAvLyAgICAgcmV0dXJuIHttZXNzYWdlOiBcIlRoZSB2YWx1ZSBvZiBcIiArIHRoaXMuZnJvbS5kZXNjcmliZUV2YWxSZXN1bHQoMCwgc2ltLCBpbnN0ICYmIGluc3QuY2hpbGRJbnN0YW5jZXMgJiYgaW5zdC5jaGlsZEluc3RhbmNlcy5mcm9tKS5tZXNzYWdlICsgXCIgd2lsbCBiZSBsb29rZWQgdXAuXCJ9O1xyXG4gICAgLy8gfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFycmF5VG9Qb2ludGVyPFQgZXh0ZW5kcyBCb3VuZGVkQXJyYXlUeXBlPiBleHRlbmRzIEltcGxpY2l0Q29udmVyc2lvbjxULCBcImx2YWx1ZVwiLCBQb2ludGVyVHlwZSwgXCJwcnZhbHVlXCI+IHtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoZnJvbTogVHlwZWRFeHByZXNzaW9uPFQsIFwibHZhbHVlXCI+KSB7XHJcbiAgICAgICAgc3VwZXIoZnJvbSwgZnJvbS50eXBlLmFkanVzdFRvUG9pbnRlclR5cGUoKSwgXCJwcnZhbHVlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvcGVyYXRlKGZyb21FdmFsUmVzdWx0OiBWQ1Jlc3VsdFR5cGVzPEJvdW5kZWRBcnJheVR5cGUsIFwibHZhbHVlXCI+KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZShmcm9tRXZhbFJlc3VsdC5hZGRyZXNzLCBuZXcgQXJyYXlQb2ludGVyKGZyb21FdmFsUmVzdWx0KSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZXhwbGFpbiA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4gICAgLy8gICAgIHJldHVybiB7bWVzc2FnZTogXCJJbiB0aGlzIGNhc2UgKGFuZCBtb3N0IG90aGVycyksIHVzaW5nIHRoZSBuYW1lIG9mIGFuIGFycmF5IGluIGFuIGV4cHJlc3Npb24gd2lsbCB5aWVsZCBhIHRoZSBhZGRyZXNzIG9mIGl0cyBmaXJzdCBlbGVtZW50LiBUaGF0J3Mgd2hhdCBoYXBwZW5zIGhlcmUuXCJ9O1xyXG4gICAgLy8gfVxyXG59XHJcblxyXG5cclxuXHJcbi8vIGV4cG9ydCB2YXIgRnVuY3Rpb25Ub1BvaW50ZXIgPSBJbXBsaWNpdENvbnZlcnNpb24uZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lOiBcIkZ1bmN0aW9uVG9Qb2ludGVyXCIsXHJcbi8vICAgICBpbml0OiBmdW5jdGlvbihmcm9tKXtcclxuLy8gICAgICAgICBhc3NlcnQoaXNBKGZyb20udHlwZSwgVHlwZXMuRnVuY3Rpb24pKTtcclxuLy8gICAgICAgICB0aGlzLmluaXRQYXJlbnQoZnJvbSwgVHlwZXMuUG9pbnRlci5pbnN0YW5jZShmcm9tLnR5cGUpLCBcInBydmFsdWVcIik7XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIG9wZXJhdGUgOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuLy8gICAgICAgICB2YXIgZnVuYyA9IGluc3QuY2hpbGRJbnN0YW5jZXMuZnJvbS5ldmFsUmVzdWx0O1xyXG4vLyAgICAgICAgIGluc3Quc2V0RXZhbFJlc3VsdChWYWx1ZS5pbnN0YW5jZShmdW5jLCB0aGlzLnR5cGUpKTtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgZXhwbGFpbiA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJVc2luZyB0aGUgbmFtZSBvZiBhIGZ1bmN0aW9uIGluIGFuIGV4cHJlc3Npb24gd2lsbCB5aWVsZCBhIHBvaW50ZXIgdG8gdGhhdCBmdW5jdGlvbi5cIn07XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuLy8gVHlwZSAyIENvbnZlcnNpb25zXHJcblxyXG4vKipcclxuICogQWxsIHR5cGUgY29udmVyc2lvbnMgaWdub3JlIGN2LXF1YWxpZmljYXRpb25zIG9uIHRoZSBnaXZlbiBkZXN0aW5hdGlvbiB0eXBlLiBJbnN0ZWFkLFxyXG4gKiB0aGUgY29udmVydGVkIHR5cGUgcmV0YWlucyB0aGUgY3YtcXVhbGlmaWNhdGlvbnMgb2YgdGhlIHNvdXJjZSB0eXBlLlxyXG4gKi9cclxuYWJzdHJhY3QgY2xhc3MgVHlwZUNvbnZlcnNpb248RnJvbVR5cGUgZXh0ZW5kcyBBdG9taWNUeXBlLCBUb1R5cGUgZXh0ZW5kcyBBdG9taWNUeXBlPlxyXG4gICAgZXh0ZW5kcyBJbXBsaWNpdENvbnZlcnNpb248RnJvbVR5cGUsIFwicHJ2YWx1ZVwiLCBUb1R5cGUsIFwicHJ2YWx1ZVwiPiB7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGZyb206IFR5cGVkRXhwcmVzc2lvbjxGcm9tVHlwZSwgXCJwcnZhbHVlXCI+LCB0b1R5cGU6IFRvVHlwZSkge1xyXG4gICAgICAgIHN1cGVyKGZyb20sIHRvVHlwZS5jdlF1YWxpZmllZChmcm9tLnR5cGUuaXNDb25zdCwgZnJvbS50eXBlLmlzVm9sYXRpbGUpLCBcInBydmFsdWVcIik7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5jbGFzcyBOb09wVHlwZUNvbnZlcnNpb248RnJvbVR5cGUgZXh0ZW5kcyBBdG9taWNUeXBlLCBUb1R5cGUgZXh0ZW5kcyBBdG9taWNUeXBlPlxyXG4gICAgZXh0ZW5kcyBUeXBlQ29udmVyc2lvbjxGcm9tVHlwZSwgVG9UeXBlPiB7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGZyb206IFR5cGVkRXhwcmVzc2lvbjxGcm9tVHlwZSwgXCJwcnZhbHVlXCI+LCB0b1R5cGU6IFRvVHlwZSkge1xyXG4gICAgICAgIHN1cGVyKGZyb20sIHRvVHlwZSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBvcGVyYXRlKGZyb21FdmFsUmVzdWx0OiBWQ1Jlc3VsdFR5cGVzPEZyb21UeXBlLCBcInBydmFsdWVcIj4pIHtcclxuICAgICAgICByZXR1cm4gPFZDUmVzdWx0VHlwZXM8VG9UeXBlLCBcInBydmFsdWVcIj4+bmV3IFZhbHVlKGZyb21FdmFsUmVzdWx0LnJhd1ZhbHVlLCB0aGlzLnR5cGUpOyAvLyBDYXN0IHRlY2huaWNhbGx5IG5lY2Vzc2FyeSBoZXJlXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBOdWxsUG9pbnRlckNvbnZlcnNpb248UCBleHRlbmRzIFBvaW50ZXJUeXBlPiBleHRlbmRzIE5vT3BUeXBlQ29udmVyc2lvbjxJbnQsIFA+IHtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoZnJvbTogTnVtZXJpY0xpdGVyYWw8SW50PiwgdG9UeXBlOiBQKSB7XHJcbiAgICAgICAgc3VwZXIoZnJvbSwgdG9UeXBlKTtcclxuICAgICAgICBhc3NlcnQoZnJvbS52YWx1ZS5yYXdWYWx1ZSA9PT0gMCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUG9pbnRlckNvbnZlcnNpb248RnJvbVR5cGUgZXh0ZW5kcyBQb2ludGVyVHlwZSwgVG9UeXBlIGV4dGVuZHMgUG9pbnRlclR5cGU+IGV4dGVuZHMgTm9PcFR5cGVDb252ZXJzaW9uPEZyb21UeXBlLCBUb1R5cGU+IHtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQb2ludGVyVG9Cb29sZWFuQ29udmVyc2lvbiBleHRlbmRzIE5vT3BUeXBlQ29udmVyc2lvbjxQb2ludGVyVHlwZSwgQm9vbD4ge1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGZyb206IFR5cGVkRXhwcmVzc2lvbjxQb2ludGVyVHlwZSwgXCJwcnZhbHVlXCI+KSB7XHJcbiAgICAgICAgc3VwZXIoZnJvbSwgQm9vbC5CT09MKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEludGVncmFsUHJvbW90aW9uPEZyb21UeXBlIGV4dGVuZHMgSW50ZWdyYWxUeXBlLCBUb1R5cGUgZXh0ZW5kcyBJbnRlZ3JhbFR5cGU+IGV4dGVuZHMgTm9PcFR5cGVDb252ZXJzaW9uPEZyb21UeXBlLCBUb1R5cGU+IHtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBJbnRlZ3JhbENvbnZlcnNpb248RnJvbVR5cGUgZXh0ZW5kcyBJbnRlZ3JhbFR5cGUsIFRvVHlwZSBleHRlbmRzIEludGVncmFsVHlwZT4gZXh0ZW5kcyBOb09wVHlwZUNvbnZlcnNpb248RnJvbVR5cGUsIFRvVHlwZT4ge1xyXG5cclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBGbG9hdGluZ1BvaW50UHJvbW90aW9uIGV4dGVuZHMgTm9PcFR5cGVDb252ZXJzaW9uPEZsb2F0LCBEb3VibGU+IHtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihmcm9tOiBUeXBlZEV4cHJlc3Npb248RmxvYXQsIFwicHJ2YWx1ZVwiPikge1xyXG4gICAgICAgIHN1cGVyKGZyb20sIERvdWJsZS5ET1VCTEUpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRmxvYXRpbmdQb2ludENvbnZlcnNpb248RnJvbVR5cGUgZXh0ZW5kcyBGbG9hdGluZ1BvaW50VHlwZSwgVG9UeXBlIGV4dGVuZHMgRmxvYXRpbmdQb2ludFR5cGU+IGV4dGVuZHMgTm9PcFR5cGVDb252ZXJzaW9uPEZyb21UeXBlLCBUb1R5cGU+IHtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBJbnRlZ3JhbFRvRmxvYXRpbmdDb252ZXJzaW9uPEZyb21UeXBlIGV4dGVuZHMgSW50ZWdyYWxUeXBlLCBUb1R5cGUgZXh0ZW5kcyBGbG9hdGluZ1BvaW50VHlwZT4gZXh0ZW5kcyBOb09wVHlwZUNvbnZlcnNpb248RnJvbVR5cGUsIFRvVHlwZT4ge1xyXG5cclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBGbG9hdGluZ1RvSW50ZWdyYWxDb252ZXJzaW9uPFQgZXh0ZW5kcyBGbG9hdGluZ1BvaW50VHlwZT4gZXh0ZW5kcyBUeXBlQ29udmVyc2lvbjxULCBJbnRlZ3JhbFR5cGU+IHtcclxuXHJcbiAgICBwdWJsaWMgb3BlcmF0ZShmcm9tRXZhbFJlc3VsdDogVkNSZXN1bHRUeXBlczxULCBcInBydmFsdWVcIj4pIHtcclxuICAgICAgICBpZiAodGhpcy50eXBlLmlzVHlwZShCb29sKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFZhbHVlKGZyb21FdmFsUmVzdWx0LnJhd1ZhbHVlID09PSAwID8gMCA6IDEsIEludC5JTlQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFZhbHVlKE1hdGgudHJ1bmMoZnJvbUV2YWxSZXN1bHQucmF3VmFsdWUpLCBJbnQuSU5UKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG4vLyBUT0RPOiByZW1vdmUgdGhpcy4gbm8gbG9uZ2VyIG5lZWRlZCBub3cgdGhhdCB3ZSBoYXZlIHJlYWwgc3RyaW5nc1xyXG4vLyBTdHJpbmdUb0NTdHJpbmdDb252ZXJzaW9uID0gSW1wbGljaXRDb252ZXJzaW9uLmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZTogXCJTdHJpbmdUb0NTdHJpbmdDb252ZXJzaW9uXCIsXHJcbi8vICAgICBpbml0OiBmdW5jdGlvbihmcm9tLCB0b1R5cGUpe1xyXG4vLyAgICAgICAgIGFzc2VydChmcm9tLnZhbHVlQ2F0ZWdvcnkgPT09IFwicHJ2YWx1ZVwiKTtcclxuLy8gICAgICAgICBhc3NlcnQoaXNBKGZyb20udHlwZSwgVHlwZXMuU3RyaW5nKSk7XHJcbi8vICAgICAgICAgYXNzZXJ0KGlzQSh0b1R5cGUsIFR5cGVzLkFycmF5KSAmJiBpc0EodG9UeXBlLmVsZW1UeXBlLCBUeXBlcy5DaGFyKSk7XHJcbi8vICAgICAgICAgdGhpcy5pbml0UGFyZW50KGZyb20sIHRvVHlwZSwgXCJwcnZhbHVlXCIpO1xyXG4vLyAgICAgfSxcclxuLy9cclxuLy8gICAgIG9wZXJhdGUgOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuLy8gICAgICAgICAvLyBJIHRoaW5rIG9ubHkgdGhpbmcgSSByZWFsbHkgbmVlZCBoZXJlIGlzIHRvIGhhbmRsZSBib29sZWFucyBncmFjZWZ1bGx5XHJcbi8vICAgICAgICAgLy8gQWRkaW5nIDAuMCBzaG91bGQgZG8gdGhlIHRyaWNrLlxyXG4vLyAgICAgICAgIHZhciBjc3RyID0gaW5zdC5jaGlsZEluc3RhbmNlcy5mcm9tLmV2YWxSZXN1bHQudmFsdWU7XHJcbi8vICAgICAgICAgaW5zdC5zZXRFdmFsUmVzdWx0KFZhbHVlLmluc3RhbmNlKGNzdHIuc3BsaXQoXCJcIiksIFR5cGVzLlN0cmluZykpO1xyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcbi8vIFF1YWxpZmljYXRpb24gY29udmVyc2lvbnNcclxuXHJcbmV4cG9ydCBjbGFzcyBRdWFsaWZpY2F0aW9uQ29udmVyc2lvbjxUIGV4dGVuZHMgQXRvbWljVHlwZT4gZXh0ZW5kcyBJbXBsaWNpdENvbnZlcnNpb248VCwgXCJwcnZhbHVlXCIsIFQsIFwicHJ2YWx1ZVwiPiB7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGZyb206IFR5cGVkRXhwcmVzc2lvbjxULCBcInBydmFsdWVcIj4sIHRvVHlwZTogVCkge1xyXG4gICAgICAgIHN1cGVyKGZyb20sIHRvVHlwZSwgXCJwcnZhbHVlXCIpO1xyXG4gICAgICAgIGFzc2VydChzaW1pbGFyVHlwZShmcm9tLnR5cGUsIHRvVHlwZSkpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgb3BlcmF0ZShmcm9tRXZhbFJlc3VsdDogVkNSZXN1bHRUeXBlczxULCBcInBydmFsdWVcIj4pIHtcclxuICAgICAgICByZXR1cm4gPFZDUmVzdWx0VHlwZXM8VCwgXCJwcnZhbHVlXCI+Pm5ldyBWYWx1ZShmcm9tRXZhbFJlc3VsdC5yYXdWYWx1ZSwgdGhpcy50eXBlKTsgLy8gQ2FzdCB0ZWNobmljYWxseSBuZWNlc3NhcnkgaGVyZVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFRvUFJWYWx1ZTxUIGV4dGVuZHMgQXRvbWljVHlwZT4oZnJvbTogU3BlY2lmaWNUeXBlZEV4cHJlc3Npb248VD4pIDogVHlwZWRFeHByZXNzaW9uPFQsIFwicHJ2YWx1ZVwiPjtcclxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb1BSVmFsdWU8RWxlbV90eXBlIGV4dGVuZHMgQXJyYXlFbGVtVHlwZT4oZnJvbTogVHlwZWRFeHByZXNzaW9uPEJvdW5kZWRBcnJheVR5cGU8RWxlbV90eXBlPiwgXCJsdmFsdWVcIj4pIDogVHlwZWRFeHByZXNzaW9uPFBvaW50ZXJUeXBlPEVsZW1fdHlwZT4sIFwicHJ2YWx1ZVwiPjtcclxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb1BSVmFsdWUoZnJvbTogU3BlY2lmaWNUeXBlZEV4cHJlc3Npb248QXRvbWljVHlwZT4gfCBUeXBlZEV4cHJlc3Npb248Qm91bmRlZEFycmF5VHlwZSwgXCJsdmFsdWVcIj4pIDogVHlwZWRFeHByZXNzaW9uPEF0b21pY1R5cGUsIFwicHJ2YWx1ZVwiPjtcclxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb1BSVmFsdWUoZnJvbTogVHlwZWRFeHByZXNzaW9uKSA6IFR5cGVkRXhwcmVzc2lvbjtcclxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb1BSVmFsdWUoZnJvbTogVHlwZWRFeHByZXNzaW9uKSB7XHJcblxyXG4gICAgaWYgKGZyb20uaXNCb3VuZGVkQXJyYXlUeXBlZCgpKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBBcnJheVRvUG9pbnRlcihmcm9tKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWZyb20uaXNBdG9taWNUeXBlZCgpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZyb207XHJcbiAgICB9XHJcblxyXG4gICAgLy8gYmFzZWQgb24gdW5pb24gaW5wdXQgdHlwZSwgaXQgbXVzdCBiZSBhdG9taWMgdHlwZWQgaWYgd2UgZ2V0IHRvIGhlcmVcclxuXHJcbiAgICBpZiAoZnJvbS5pc1BydmFsdWUoKSkge1xyXG4gICAgICAgIHJldHVybiBmcm9tO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBtdXN0IGJlIGFuIGx2YWx1ZSBpZiB3ZSBnZXQgdG8gaGVyZVxyXG5cclxuXHJcbiAgICAvLyBUT0RPOiBhZGQgYmFjayBpbiBmb3IgZnVuY3Rpb24gcG9pbnRlcnNcclxuICAgIC8vIGlmIChmcm9tLnR5cGUgaW5zdGFuY2VvZiBGdW5jdGlvblR5cGUpIHtcclxuICAgIC8vICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uVG9Qb2ludGVyKGZyb20pO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIHJldHVybiBuZXcgTFZhbHVlVG9SVmFsdWUoZnJvbSk7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdHlwZUNvbnZlcnNpb24oZnJvbTogVHlwZWRFeHByZXNzaW9uPFBvaW50ZXJUeXBlLCBcInBydmFsdWVcIj4sIHRvVHlwZTogQm9vbCkgOiBUeXBlZEV4cHJlc3Npb248Qm9vbCwgXCJwcnZhbHVlXCI+O1xyXG5leHBvcnQgZnVuY3Rpb24gdHlwZUNvbnZlcnNpb24oZnJvbTogVHlwZWRFeHByZXNzaW9uPERvdWJsZSwgXCJwcnZhbHVlXCI+LCB0b1R5cGU6IEZsb2F0KSA6IFR5cGVkRXhwcmVzc2lvbjxGbG9hdCwgXCJwcnZhbHVlXCI+O1xyXG5leHBvcnQgZnVuY3Rpb24gdHlwZUNvbnZlcnNpb24oZnJvbTogVHlwZWRFeHByZXNzaW9uPEludGVncmFsVHlwZSwgXCJwcnZhbHVlXCI+LCB0b1R5cGU6IEludGVncmFsVHlwZSkgOiBUeXBlZEV4cHJlc3Npb248SW50ZWdyYWxUeXBlLCBcInBydmFsdWVcIj47XHJcbmV4cG9ydCBmdW5jdGlvbiB0eXBlQ29udmVyc2lvbihmcm9tOiBUeXBlZEV4cHJlc3Npb248RmxvYXRpbmdQb2ludFR5cGUsIFwicHJ2YWx1ZVwiPiwgdG9UeXBlOiBJbnRlZ3JhbFR5cGUpIDogVHlwZWRFeHByZXNzaW9uPEludGVncmFsVHlwZSwgXCJwcnZhbHVlXCI+O1xyXG5leHBvcnQgZnVuY3Rpb24gdHlwZUNvbnZlcnNpb24oZnJvbTogVHlwZWRFeHByZXNzaW9uPEludGVncmFsVHlwZSwgXCJwcnZhbHVlXCI+LCB0b1R5cGU6IEZsb2F0aW5nUG9pbnRUeXBlKSA6IFR5cGVkRXhwcmVzc2lvbjxGbG9hdGluZ1BvaW50VHlwZSwgXCJwcnZhbHVlXCI+O1xyXG5leHBvcnQgZnVuY3Rpb24gdHlwZUNvbnZlcnNpb24oZnJvbTogVHlwZWRFeHByZXNzaW9uPEZsb2F0aW5nUG9pbnRUeXBlLCBcInBydmFsdWVcIj4sIHRvVHlwZTogRmxvYXRpbmdQb2ludFR5cGUpIDogVHlwZWRFeHByZXNzaW9uPEZsb2F0aW5nUG9pbnRUeXBlLCBcInBydmFsdWVcIj47XHJcbmV4cG9ydCBmdW5jdGlvbiB0eXBlQ29udmVyc2lvbjxTaW1pbGFyVHlwZSBleHRlbmRzIEF0b21pY1R5cGU+KGZyb206IFR5cGVkRXhwcmVzc2lvbjxTaW1pbGFyVHlwZSwgXCJwcnZhbHVlXCI+LCB0b1R5cGU6IFNpbWlsYXJUeXBlKSA6IFR5cGVkRXhwcmVzc2lvbjxTaW1pbGFyVHlwZSwgXCJwcnZhbHVlXCI+O1xyXG5leHBvcnQgZnVuY3Rpb24gdHlwZUNvbnZlcnNpb248RnJvbVR5cGUgZXh0ZW5kcyBBdG9taWNUeXBlLCBUb1R5cGUgZXh0ZW5kcyBBdG9taWNUeXBlPihmcm9tOiBUeXBlZEV4cHJlc3Npb248RnJvbVR5cGUsIFwicHJ2YWx1ZVwiPiwgdG9UeXBlOiBUb1R5cGUpIDogVHlwZWRFeHByZXNzaW9uPEZyb21UeXBlLCBcInBydmFsdWVcIj4gfCBUeXBlZEV4cHJlc3Npb248VG9UeXBlLCBcInBydmFsdWVcIj47XHJcbmV4cG9ydCBmdW5jdGlvbiB0eXBlQ29udmVyc2lvbihmcm9tOiBUeXBlZEV4cHJlc3Npb248QXRvbWljVHlwZSwgXCJwcnZhbHVlXCI+LCB0b1R5cGU6IEF0b21pY1R5cGUpIHtcclxuXHJcbiAgICBpZiAoc2ltaWxhclR5cGUoZnJvbS50eXBlLCB0b1R5cGUpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZyb207XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRvVHlwZS5pc1BvaW50ZXJUeXBlKCkgJiYgKGZyb20gaW5zdGFuY2VvZiBOdW1lcmljTGl0ZXJhbCkgJiYgaXNUeXBlKGZyb20udHlwZSwgSW50KSAmJiBmcm9tLnZhbHVlLnJhd1ZhbHVlID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBOdWxsUG9pbnRlckNvbnZlcnNpb24oZnJvbSwgdG9UeXBlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodG9UeXBlLmlzUG9pbnRlclR5cGUoKSAmJiB0b1R5cGUucHRyVG8uaXNDbGFzc1R5cGUoKSAmJlxyXG4gICAgICAgIGZyb20uaXNQb2ludGVyVHlwZWQoKSAmJiBmcm9tLnR5cGUucHRyVG8uaXNDbGFzc1R5cGUoKSAmJlxyXG4gICAgICAgIHN1YlR5cGUoZnJvbS50eXBlLnB0clRvLCB0b1R5cGUucHRyVG8pKSB7XHJcbiAgICAgICAgLy8gTm90ZSB0aGF0IGN2IHF1YWxpZmljYXRpb25zIG9uIHRoZSBuZXcgZGVzdGluYXRpb24gcG9pbnRlciB0eXBlIGRvbid0IG5lZWQgdG8gYmUgc2V0LCBzaW5jZVxyXG4gICAgICAgIC8vIHRoZXkgYXJlIGlnbm9yZWQgYnkgdGhlIFBvaW50ZXJDb252ZXJzaW9uIGFueXdheSAodGhlIHNvdXJjZSB0eXBlJ3MgY3YgcXVhbGlmaWNhdGlvbnMgYXJlIHNldCkuXHJcbiAgICAgICAgLy8gSG93ZXZlciwgd2UgZG8gbmVlZCB0byBwcmVzZXJ2ZSB0aGUgY3YtcXVhbGlmaWNhdGlvbnMgb24gdGhlIHBvaW50ZWQtdG8gdHlwZS5cclxuICAgICAgICByZXR1cm4gbmV3IFBvaW50ZXJDb252ZXJzaW9uKGZyb20sIG5ldyBQb2ludGVyVHlwZSh0b1R5cGUucHRyVG8uY3ZRdWFsaWZpZWQoZnJvbS50eXBlLnB0clRvLmlzQ29uc3QsIGZyb20udHlwZS5wdHJUby5pc1ZvbGF0aWxlKSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0b1R5cGUuaXNUeXBlKEJvb2wpICYmIGZyb20uaXNQb2ludGVyVHlwZWQoKSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUG9pbnRlclRvQm9vbGVhbkNvbnZlcnNpb24oZnJvbSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRvVHlwZS5pc1R5cGUoRG91YmxlKSAmJiBmcm9tLmlzVHlwZWQoRmxvYXQpKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdGluZ1BvaW50UHJvbW90aW9uKGZyb20pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0b1R5cGUuaXNJbnRlZ3JhbFR5cGUoKSkge1xyXG4gICAgICAgIGlmIChmcm9tLmlzSW50ZWdyYWxUeXBlZCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50ZWdyYWxDb252ZXJzaW9uKGZyb20sIHRvVHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChmcm9tLmlzRmxvYXRpbmdQb2ludFR5cGVkKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdGluZ1RvSW50ZWdyYWxDb252ZXJzaW9uKGZyb20sIHRvVHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0b1R5cGUuaXNGbG9hdGluZ1BvaW50VHlwZSgpKSB7XHJcbiAgICAgICAgaWYgKGZyb20uaXNJbnRlZ3JhbFR5cGVkKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnRlZ3JhbFRvRmxvYXRpbmdDb252ZXJzaW9uKGZyb20sIHRvVHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChmcm9tLmlzRmxvYXRpbmdQb2ludFR5cGVkKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdGluZ1BvaW50Q29udmVyc2lvbihmcm9tLCB0b1R5cGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZnJvbTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBxdWFsaWZpY2F0aW9uQ29udmVyc2lvbihmcm9tOiBUeXBlZEV4cHJlc3Npb248QXRvbWljVHlwZSwgXCJwcnZhbHVlXCI+LCB0b1R5cGU6IEF0b21pY1R5cGUpIHtcclxuXHJcbiAgICBpZiAoc2FtZVR5cGUoZnJvbS50eXBlLCB0b1R5cGUpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZyb207XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGZyb20udmFsdWVDYXRlZ29yeSA9PT0gXCJwcnZhbHVlXCIgJiYgaXNDdkNvbnZlcnRpYmxlKGZyb20udHlwZSwgdG9UeXBlKSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUXVhbGlmaWNhdGlvbkNvbnZlcnNpb24oZnJvbSwgdG9UeXBlKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZnJvbTtcclxufTtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3RhbmRhcmRDb252ZXJzaW9uT3B0aW9ucyB7XHJcbiAgICByZWFkb25seSBzdXBwcmVzc0xUUj86IHRydWU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBdHRlbXB0cyB0byBnZW5lcmF0ZSBhIHN0YW5kYXJkIGNvbnZlcnNpb24gc2VxdWVuY2Ugb2YgdGhlIGdpdmVuIGV4cHJlc3Npb24gdG8gdGhlIGdpdmVuXHJcbiAqIGRlc3RpbmF0aW9uIHR5cGUuIFxyXG4gKiBAcGFyYW0gZnJvbSBUaGUgb3JpZ2luYWwgZXhwcmVzc2lvblxyXG4gKiBAcGFyYW0gdG9UeXBlIFRoZSBkZXN0aW5hdGlvbiB0eXBlXHJcbiAqIEBwYXJhbSBvcHRpb25zIFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHN0YW5kYXJkQ29udmVyc2lvbihmcm9tOiBUeXBlZEV4cHJlc3Npb24sIHRvVHlwZTogVHlwZSwgb3B0aW9uczogU3RhbmRhcmRDb252ZXJzaW9uT3B0aW9ucyA9IHt9KSB7XHJcblxyXG4gICAgLy8gVW5sZXNzIHRoZSBvYmplY3QgaXMgYXRvbWljIHR5cGVkIG9yIGlzIGFuIGFycmF5LCBMb2JzdGVyIGN1cnJlbnRseSBkb2Vzbid0IHN1cHBvcnRcclxuICAgIC8vIGFueSBzdGFuZGFyZCBjb252ZXJzaW9ucy4gTm90ZSBpbiBwYXJ0aWN1bGFyIHRoaXMgbWVhbnMgdXNlci1kZWZpbmVkIGNvbnZlcmlzb24gZnVuY3Rpb25zXHJcbiAgICAvLyBmb3IgY2xhc3MtdHlwZWQgb2JqZWN0cyBhcmUgbm90IHN1cHBvcnRlZC5cclxuICAgIGlmICghKGZyb20uaXNBdG9taWNUeXBlZCgpIHx8IGZyb20uaXNCb3VuZGVkQXJyYXlUeXBlZCgpKSkge1xyXG4gICAgICAgIHJldHVybiBmcm9tO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghdG9UeXBlLmlzQXRvbWljVHlwZSgpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZyb207XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFvcHRpb25zLnN1cHByZXNzTFRSKSB7XHJcbiAgICAgICAgbGV0IGZyb21QcnZhbHVlID0gY29udmVydFRvUFJWYWx1ZShmcm9tKTtcclxuICAgICAgICBmcm9tUHJ2YWx1ZSA9IHR5cGVDb252ZXJzaW9uKGZyb21QcnZhbHVlLCB0b1R5cGUpO1xyXG4gICAgICAgIGZyb21QcnZhbHVlID0gcXVhbGlmaWNhdGlvbkNvbnZlcnNpb24oZnJvbVBydmFsdWUsIHRvVHlwZSk7XHJcbiAgICAgICAgcmV0dXJuIGZyb21QcnZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmcm9tO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGludGVncmFsUHJvbW90aW9uKGV4cHI6IFR5cGVkRXhwcmVzc2lvbjxJbnRlZ3JhbFR5cGUsIFwicHJ2YWx1ZVwiPikge1xyXG4gICAgaWYgKGV4cHIuaXNJbnRlZ3JhbFR5cGVkKCkgJiYgIWV4cHIuaXNUeXBlZChJbnQpKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBJbnRlZ3JhbFByb21vdGlvbihleHByLCBJbnQuSU5UKTtcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgICAgcmV0dXJuIGV4cHI7XHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXN1YWxBcml0aG1ldGljQ29udmVyc2lvbnMobGVmdE9yaWc6IFNwZWNpZmljVHlwZWRFeHByZXNzaW9uPEFyaXRobWV0aWNUeXBlPiwgcmlnaHRPcmlnOiBTcGVjaWZpY1R5cGVkRXhwcmVzc2lvbjxBcml0aG1ldGljVHlwZT4pIHtcclxuICAgIFxyXG4gICAgbGV0IGxlZnQgPSBjb252ZXJ0VG9QUlZhbHVlKGxlZnRPcmlnKTtcclxuICAgIGxldCByaWdodCA9IGNvbnZlcnRUb1BSVmFsdWUocmlnaHRPcmlnKTtcclxuXHJcbiAgICAvLyBUT0RPIElmIGVpdGhlciBoYXMgc2NvcGVkIGVudW1lcmF0aW9uIHR5cGUsIG5vIGNvbnZlcnNpb25zIGFyZSBwZXJmb3JtZWRcclxuXHJcbiAgICAvLyBUT0RPIElmIGVpdGhlciBpcyBsb25nIGRvdWJsZSwgdGhlIG90aGVyIHNoYWxsIGJlIGNvbnZlcnRlZCB0byBsb25nIGRvdWJsZVxyXG5cclxuICAgIC8vIElmIGVpdGhlciBpcyBkb3VibGUsIHRoZSBvdGhlciBzaGFsbCBiZSBjb252ZXJ0ZWQgdG8gZG91YmxlXHJcbiAgICBpZiAobGVmdC5pc1R5cGVkKERvdWJsZSkpIHtcclxuICAgICAgICByaWdodCA9IHR5cGVDb252ZXJzaW9uKHJpZ2h0LCBEb3VibGUuRE9VQkxFKTtcclxuICAgICAgICByZXR1cm4gW2xlZnQsIHJpZ2h0XTtcclxuICAgIH1cclxuICAgIGlmIChyaWdodC5pc1R5cGVkKERvdWJsZSkpIHtcclxuICAgICAgICBsZWZ0ID0gdHlwZUNvbnZlcnNpb24obGVmdCwgRG91YmxlLkRPVUJMRSk7XHJcbiAgICAgICAgcmV0dXJuIFtsZWZ0LCByaWdodF07XHJcbiAgICB9XHJcbiAgICAvLyBJZiBlaXRoZXIgaXMgZmxvYXQsIHRoZSBvdGhlciBzaGFsbCBiZSBjb252ZXJ0ZWQgdG8gZmxvYXRcclxuXHJcbiAgICBpZiAobGVmdC5pc1R5cGVkKEZsb2F0KSkge1xyXG4gICAgICAgIHJpZ2h0ID0gdHlwZUNvbnZlcnNpb24ocmlnaHQsIEZsb2F0LkZMT0FUKTtcclxuICAgICAgICByZXR1cm4gW2xlZnQsIHJpZ2h0XTtcclxuICAgIH1cclxuICAgIGlmIChyaWdodC5pc1R5cGVkKEZsb2F0KSkge1xyXG4gICAgICAgIGxlZnQgPSB0eXBlQ29udmVyc2lvbihsZWZ0LCBGbG9hdC5GTE9BVCk7XHJcbiAgICAgICAgcmV0dXJuIFtsZWZ0LCByaWdodF07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gT3RoZXJ3aXNlLCBkbyBpbnRlZ3JhbCBwcm9tb3Rpb25zXHJcbiAgICBpZiAobGVmdC5pc0ludGVncmFsVHlwZWQoKSkge1xyXG4gICAgICAgIGxlZnQgPSBpbnRlZ3JhbFByb21vdGlvbihsZWZ0KTtcclxuICAgIH1cclxuICAgIGlmIChyaWdodC5pc0ludGVncmFsVHlwZWQoKSkge1xyXG4gICAgICAgIHJpZ2h0ID0gaW50ZWdyYWxQcm9tb3Rpb24ocmlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIGJvdGggb3BlcmFuZHMgaGF2ZSB0aGUgc2FtZSB0eXBlLCBubyBmdXJ0aGVyIGNvbnZlcnNpb24gaXMgbmVlZGVkXHJcbiAgICBpZiAoc2FtZVR5cGUobGVmdC50eXBlLCByaWdodC50eXBlKSl7XHJcbiAgICAgICAgcmV0dXJuIFtsZWZ0LCByaWdodF07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETzogT3RoZXJ3aXNlLCBpZiBib3RoIG9wZXJhbmRzIGhhdmUgc2lnbmVkIG9yIGJvdGggaGF2ZSB1bnNpZ25lZCB0eXBlcyxcclxuICAgIC8vIG9wZXJhbmQgd2l0aCB0eXBlIG9mIGxlc3NlciBpbnRlZ2VyIGNvbnZlcnNpb24gcmFuayBzaGFsbCBiZSBjb252ZXJ0ZWRcclxuICAgIC8vIHRvIHRoZSB0eXBlIG9mIHRoZSBvcGVyYW5kIHdpdGggZ3JlYXRlciByYW5rXHJcbiAgICByZXR1cm4gW2xlZnQsIHJpZ2h0XTtcclxufVxyXG5cclxuIiwiaW1wb3J0IHsgQVNUTm9kZSwgUG90ZW50aWFsRnVsbEV4cHJlc3Npb24sIFN1Y2Nlc3NmdWxseUNvbXBpbGVkLCBSdW50aW1lUG90ZW50aWFsRnVsbEV4cHJlc3Npb24sIFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIFJ1bnRpbWVDb25zdHJ1Y3QsIENQUENvbnN0cnVjdCwgQ29tcGlsZWRUZW1wb3JhcnlEZWFsbG9jYXRvciB9IGZyb20gXCIuL2NvbnN0cnVjdHNcIjtcclxuaW1wb3J0IHsgRXhwcmVzc2lvbkFTVE5vZGUgfSBmcm9tIFwiLi9leHByZXNzaW9uc1wiO1xyXG5pbXBvcnQgeyBPYmplY3RFbnRpdHksIFVuYm91bmRSZWZlcmVuY2VFbnRpdHksIEFycmF5U3Vib2JqZWN0RW50aXR5IH0gZnJvbSBcIi4vZW50aXRpZXNcIjtcclxuaW1wb3J0IHsgT2JqZWN0VHlwZSwgQXRvbWljVHlwZSwgQm91bmRlZEFycmF5VHlwZSwgcmVmZXJlbmNlQ29tcGF0aWJsZSwgc2FtZVR5cGUgfSBmcm9tIFwiLi90eXBlc1wiO1xyXG5pbXBvcnQgeyBhc3NlcnRGYWxzZSB9IGZyb20gXCIuLi91dGlsL3V0aWxcIjtcclxuaW1wb3J0IHsgQ1BQRXJyb3IgfSBmcm9tIFwiLi9lcnJvcnNcIjtcclxuaW1wb3J0IHsgU2ltdWxhdGlvbiB9IGZyb20gXCIuL1NpbXVsYXRpb25cIjtcclxuaW1wb3J0IHsgQ1BQT2JqZWN0IH0gZnJvbSBcIi4vb2JqZWN0c1wiO1xyXG5pbXBvcnQgeyBzdGFuZGFyZENvbnZlcnNpb24gfSBmcm9tIFwiLi9zdGFuZGFyZENvbnZlcnNpb25zXCI7XHJcbmltcG9ydCB7IEV4cHJlc3Npb24sIENvbXBpbGVkRXhwcmVzc2lvbiwgUnVudGltZUV4cHJlc3Npb24gfSBmcm9tIFwiLi9leHByZXNzaW9uQmFzZVwiO1xyXG5cclxuZXhwb3J0IHR5cGUgSW5pdGlhbGl6ZXJBU1ROb2RlID0gRGlyZWN0SW5pdGlhbGl6ZXJBU1ROb2RlIHwgQ29weUluaXRpYWxpemVyQVNUTm9kZTtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBJbml0aWFsaXplciBleHRlbmRzIFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uIHtcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcmVhZG9ubHkgdGFyZ2V0OiBPYmplY3RFbnRpdHkgfCBVbmJvdW5kUmVmZXJlbmNlRW50aXR5O1xyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBjcmVhdGVSdW50aW1lSW5pdGlhbGl6ZXIocGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVJbml0aWFsaXplcjtcclxuXHJcbiAgICBwdWJsaWMgaXNUYWlsQ2hpbGQoY2hpbGQ6IENQUENvbnN0cnVjdCkge1xyXG4gICAgICAgIHJldHVybiB7aXNUYWlsOiB0cnVlfTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRJbml0aWFsaXplcjxUIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGU+IGV4dGVuZHMgSW5pdGlhbGl6ZXIsIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuICAgIHJlYWRvbmx5IHRlbXBvcmFyeURlYWxsb2NhdG9yPzogQ29tcGlsZWRUZW1wb3JhcnlEZWFsbG9jYXRvcjsgLy8gdG8gbWF0Y2ggQ29tcGlsZWRQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiBzdHJ1Y3R1cmVcclxuICAgIHJlYWRvbmx5IHRhcmdldDogT2JqZWN0RW50aXR5PFQ+IHwgVW5ib3VuZFJlZmVyZW5jZUVudGl0eTxUPjtcclxufSBcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSdW50aW1lSW5pdGlhbGl6ZXI8QyBleHRlbmRzIENvbXBpbGVkSW5pdGlhbGl6ZXIgPSBDb21waWxlZEluaXRpYWxpemVyPiBleHRlbmRzIFJ1bnRpbWVQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbjxDPiB7XHJcblxyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yIChtb2RlbDogQywgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgc3VwZXIobW9kZWwsIFwiaW5pdGlhbGl6ZXJcIiwgcGFyZW50KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRGVmYXVsdEluaXRpYWxpemVyIGV4dGVuZHMgSW5pdGlhbGl6ZXIge1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIHRhcmdldDogVW5ib3VuZFJlZmVyZW5jZUVudGl0eSkgOiBSZWZlcmVuY2VEZWZhdWx0SW5pdGlhbGl6ZXI7XHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCB0YXJnZXQ6IE9iamVjdEVudGl0eTxBdG9taWNUeXBlPikgOiBBdG9taWNEZWZhdWx0SW5pdGlhbGl6ZXI7XHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCB0YXJnZXQ6IE9iamVjdEVudGl0eTxCb3VuZGVkQXJyYXlUeXBlPikgOiBBcnJheURlZmF1bHRJbml0aWFsaXplcjtcclxuICAgIC8vIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIHRhcmdldDogT2JqZWN0RW50aXR5PENsYXNzVHlwZT4pIDogQ2xhc3NEZWZhdWx0SW5pdGlhbGl6ZXI7XHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCB0YXJnZXQ6IE9iamVjdEVudGl0eTxPYmplY3RUeXBlPikgOiBEZWZhdWx0SW5pdGlhbGl6ZXI7XHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCB0YXJnZXQ6IE9iamVjdEVudGl0eSB8IFVuYm91bmRSZWZlcmVuY2VFbnRpdHkpIDogRGVmYXVsdEluaXRpYWxpemVyIHtcclxuICAgICAgICBpZiAoKDxVbmJvdW5kUmVmZXJlbmNlRW50aXR5PnRhcmdldCkuYmluZFRvKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVmZXJlbmNlRGVmYXVsdEluaXRpYWxpemVyKGNvbnRleHQsIDxVbmJvdW5kUmVmZXJlbmNlRW50aXR5PiB0YXJnZXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0YXJnZXQudHlwZSBpbnN0YW5jZW9mIEF0b21pY1R5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBBdG9taWNEZWZhdWx0SW5pdGlhbGl6ZXIoY29udGV4dCwgPE9iamVjdEVudGl0eTxBdG9taWNUeXBlPj4gdGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGFyZ2V0LnR5cGUgaW5zdGFuY2VvZiBCb3VuZGVkQXJyYXlUeXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQXJyYXlEZWZhdWx0SW5pdGlhbGl6ZXIoY29udGV4dCwgPE9iamVjdEVudGl0eTxCb3VuZGVkQXJyYXlUeXBlPj4gdGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZWxzZSBpZiAodGFyZ2V0LnR5cGUgaW5zdGFuY2VvZiBDbGFzc1R5cGUpIHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuIG5ldyBDbGFzc0RlZmF1bHRJbml0aWFsaXplcihjb250ZXh0LCA8T2JqZWN0RW50aXR5PENsYXNzVHlwZT4+IHRhcmdldCk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBhc3NlcnRGYWxzZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgY3JlYXRlUnVudGltZUluaXRpYWxpemVyPFQgZXh0ZW5kcyBPYmplY3RUeXBlPih0aGlzOiBDb21waWxlZERlZmF1bHRJbml0aWFsaXplcjxUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVEZWZhdWx0SW5pdGlhbGl6ZXI8VD47XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWREZWZhdWx0SW5pdGlhbGl6ZXI8VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiBleHRlbmRzIERlZmF1bHRJbml0aWFsaXplciwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4gICAgcmVhZG9ubHkgdGVtcG9yYXJ5RGVhbGxvY2F0b3I/OiBDb21waWxlZFRlbXBvcmFyeURlYWxsb2NhdG9yOyAvLyB0byBtYXRjaCBDb21waWxlZFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uIHN0cnVjdHVyZVxyXG4gICAgcmVhZG9ubHkgdGFyZ2V0OiBPYmplY3RFbnRpdHk8VD47XHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSdW50aW1lRGVmYXVsdEluaXRpYWxpemVyPFQgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZSwgQyBleHRlbmRzIENvbXBpbGVkRGVmYXVsdEluaXRpYWxpemVyPFQ+ID0gQ29tcGlsZWREZWZhdWx0SW5pdGlhbGl6ZXI8VD4+IGV4dGVuZHMgUnVudGltZUluaXRpYWxpemVyPEM+IHtcclxuXHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IgKG1vZGVsOiBDLCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICBzdXBlcihtb2RlbCwgcGFyZW50KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJlZmVyZW5jZURlZmF1bHRJbml0aWFsaXplciBleHRlbmRzIERlZmF1bHRJbml0aWFsaXplciB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHRhcmdldDogVW5ib3VuZFJlZmVyZW5jZUVudGl0eTtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgdGFyZ2V0OiBVbmJvdW5kUmVmZXJlbmNlRW50aXR5KSB7XHJcbiAgICAgICAgc3VwZXIoY29udGV4dCk7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcblxyXG4gICAgICAgIC8vIENhbm5vdCBkZWZhdWx0IGluaXRpYWxpemUgYSByZWZlcmVuY2VcclxuICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uaW5pdC5yZWZlcmVuY2VCaW5kKHRoaXMpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUluaXRpYWxpemVyKHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBuZXZlciB7XHJcbiAgICAgICAgcmV0dXJuIGFzc2VydEZhbHNlKFwiQSBkZWZhdWx0IGluaXRpYWxpemVyIGZvciBhIHJlZmVyZW5jZSBpcyBub3QgYWxsb3dlZC5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGV4cGxhaW4oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCkgOiBuZXZlciB7XHJcbiAgICAgICAgcmV0dXJuIGFzc2VydEZhbHNlKFwiQSBkZWZhdWx0IGluaXRpYWxpemVyIGZvciBhIHJlZmVyZW5jZSBpcyBub3QgYWxsb3dlZC5cIik7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIE5vdGU6IE5vIENvbXBpbGVkUmVmZXJlbmNlRGVmYXVsdEluaXRpYWxpemVyIG9yIFJ1bnRpbWVSZWZlcmVuY2VEZWZhdWx0SW5pdGlhbGl6ZXIgY2xhc3NlcyBzaW5jZVxyXG4vLyAgICAgICBkZWZhdWx0IGluaXRpYWxpemF0aW9uIG9mIGEgcmVmZXJlbmNlIGlzIGFsd2F5cyBpbGwtZm9ybWVkLlxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBBdG9taWNEZWZhdWx0SW5pdGlhbGl6ZXIgZXh0ZW5kcyBEZWZhdWx0SW5pdGlhbGl6ZXIge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSB0YXJnZXQ6IE9iamVjdEVudGl0eTxBdG9taWNUeXBlPjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgdGFyZ2V0OiBPYmplY3RFbnRpdHk8QXRvbWljVHlwZT4pIHtcclxuICAgICAgICBzdXBlcihjb250ZXh0KTtcclxuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUluaXRpYWxpemVyPFQgZXh0ZW5kcyBBdG9taWNUeXBlPih0aGlzOiBDb21waWxlZEF0b21pY0RlZmF1bHRJbml0aWFsaXplcjxUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVBdG9taWNEZWZhdWx0SW5pdGlhbGl6ZXI8VD47XHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUluaXRpYWxpemVyPFQgZXh0ZW5kcyBPYmplY3RUeXBlPih0aGlzOiBDb21waWxlZERlZmF1bHRJbml0aWFsaXplcjxUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IG5ldmVyO1xyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVJbml0aWFsaXplcjxUIGV4dGVuZHMgQXRvbWljVHlwZT4odGhpczogQ29tcGlsZWRBdG9taWNEZWZhdWx0SW5pdGlhbGl6ZXI8VD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lQXRvbWljRGVmYXVsdEluaXRpYWxpemVyPFQ+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFJ1bnRpbWVBdG9taWNEZWZhdWx0SW5pdGlhbGl6ZXIodGhpcywgcGFyZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZXhwbGFpbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgbGV0IHRhcmdldERlc2MgPSB0aGlzLnRhcmdldC5kZXNjcmliZSgpO1xyXG4gICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJObyBpbml0aWFsaXphdGlvbiB3aWxsIHRha2UgcGxhY2UuIFwiICsgKHRhcmdldERlc2MubmFtZSB8fCB0YXJnZXREZXNjLm1lc3NhZ2UpICsgXCIgd2lsbCBoYXZlIGEganVuayB2YWx1ZS5cIn07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRBdG9taWNEZWZhdWx0SW5pdGlhbGl6ZXI8VCBleHRlbmRzIEF0b21pY1R5cGUgPSBBdG9taWNUeXBlPiBleHRlbmRzIEF0b21pY0RlZmF1bHRJbml0aWFsaXplciwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4gICAgcmVhZG9ubHkgdGVtcG9yYXJ5RGVhbGxvY2F0b3I/OiBDb21waWxlZFRlbXBvcmFyeURlYWxsb2NhdG9yOyAvLyB0byBtYXRjaCBDb21waWxlZFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uIHN0cnVjdHVyZVxyXG4gICAgcmVhZG9ubHkgdGFyZ2V0OiBPYmplY3RFbnRpdHk8VD47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBSdW50aW1lQXRvbWljRGVmYXVsdEluaXRpYWxpemVyPFQgZXh0ZW5kcyBBdG9taWNUeXBlID0gQXRvbWljVHlwZT4gZXh0ZW5kcyBSdW50aW1lRGVmYXVsdEluaXRpYWxpemVyPFQsIENvbXBpbGVkQXRvbWljRGVmYXVsdEluaXRpYWxpemVyPFQ+PiB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHRhcmdldDogQ1BQT2JqZWN0PFQ+O1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvciAobW9kZWw6IENvbXBpbGVkQXRvbWljRGVmYXVsdEluaXRpYWxpemVyPFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICBzdXBlcihtb2RlbCwgcGFyZW50KTtcclxuICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMubW9kZWwudGFyZ2V0LnJ1bnRpbWVMb29rdXAodGhpcyk7XHJcbiAgICB9XHJcblx0XHJcbiAgICBwcm90ZWN0ZWQgdXBOZXh0SW1wbCgpIHtcclxuICAgICAgICAvLyBObyBpbml0aWFsaXphdGlvbi4gT2JqZWN0IGhhcyBqdW5rIHZhbHVlLlxyXG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwiaW5pdGlhbGl6ZWRcIiwgdGhpcy50YXJnZXQpO1xyXG4gICAgICAgIHRoaXMuc2ltLnBvcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGVwRm9yd2FyZEltcGwoKSB7XHJcbiAgICAgICAgLy8gZG8gbm90aGluZ1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQXJyYXlEZWZhdWx0SW5pdGlhbGl6ZXIgZXh0ZW5kcyBEZWZhdWx0SW5pdGlhbGl6ZXIge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSB0YXJnZXQ6IE9iamVjdEVudGl0eTxCb3VuZGVkQXJyYXlUeXBlPjtcclxuICAgIHB1YmxpYyByZWFkb25seSBlbGVtZW50SW5pdGlhbGl6ZXJzPzogRGVmYXVsdEluaXRpYWxpemVyW107XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIHRhcmdldDogT2JqZWN0RW50aXR5PEJvdW5kZWRBcnJheVR5cGU+KSB7XHJcbiAgICAgICAgc3VwZXIoY29udGV4dCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcblxyXG4gICAgICAgIC8vIElmIGl0J3MgYW4gYXJyYXkgb2YgYXRvbWljIHR5cGVzLCBkbyBub3RoaW5nLlxyXG4gICAgICAgIGxldCB0eXBlID0gdGhpcy50YXJnZXQudHlwZTtcclxuICAgICAgICBpZiAodHlwZS5lbGVtVHlwZSBpbnN0YW5jZW9mIEF0b21pY1R5cGUpIHtcclxuICAgICAgICAgICAgLy8gRG8gbm90aGluZ1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50SW5pdGlhbGl6ZXJzID0gW107XHJcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0eXBlLmxlbmd0aDsgKytpKXtcclxuICAgICAgICAgICAgICAgIGxldCBlbGVtSW5pdCA9IERlZmF1bHRJbml0aWFsaXplci5jcmVhdGUoY29udGV4dCwgbmV3IEFycmF5U3Vib2JqZWN0RW50aXR5KHRoaXMudGFyZ2V0LCBpKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRJbml0aWFsaXplcnMucHVzaChlbGVtSW5pdCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaChlbGVtSW5pdCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbUluaXQuaGFzRXJyb3JzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmluaXQuYXJyYXlfZGVmYXVsdF9pbml0KHRoaXMpKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVJbml0aWFsaXplcjxUIGV4dGVuZHMgQm91bmRlZEFycmF5VHlwZT4odGhpczogQ29tcGlsZWRBcnJheURlZmF1bHRJbml0aWFsaXplcjxUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVBcnJheURlZmF1bHRJbml0aWFsaXplcjxUPjtcclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lSW5pdGlhbGl6ZXI8VCBleHRlbmRzIE9iamVjdFR5cGU+KHRoaXM6IENvbXBpbGVkRGVmYXVsdEluaXRpYWxpemVyPFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogbmV2ZXI7XHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUluaXRpYWxpemVyPFQgZXh0ZW5kcyBCb3VuZGVkQXJyYXlUeXBlPih0aGlzOiBDb21waWxlZEFycmF5RGVmYXVsdEluaXRpYWxpemVyPFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZUFycmF5RGVmYXVsdEluaXRpYWxpemVyPFQ+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFJ1bnRpbWVBcnJheURlZmF1bHRJbml0aWFsaXplcih0aGlzLCBwYXJlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBleHBsYWluKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICBsZXQgdGFyZ2V0RGVzYyA9IHRoaXMudGFyZ2V0LmRlc2NyaWJlKCk7XHJcbiAgICAgICAgbGV0IHRhcmdldFR5cGUgPSB0aGlzLnRhcmdldC50eXBlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0YXJnZXRUeXBlLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwiTm8gaW5pdGlhbGl6YXRpb24gaXMgcGVyZm9ybWVkIGZvciBcIiArICh0YXJnZXREZXNjLm5hbWUgfHwgdGFyZ2V0RGVzYy5tZXNzYWdlKSArIFwiYmVjYXVzZSB0aGUgYXJyYXkgaGFzIGxlbmd0aCAwLlwifTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGFyZ2V0VHlwZS5lbGVtVHlwZSBpbnN0YW5jZW9mIEF0b21pY1R5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcIk5vIGluaXRpYWxpemF0aW9uIHdpbGwgdGFrZSBwbGFjZS4gVGhlIGVsZW1lbnRzIG9mIFwiICsgKHRhcmdldERlc2MubmFtZSB8fCB0YXJnZXREZXNjLm1lc3NhZ2UpICsgXCIgd2lsbCBoYXZlIGp1bmsgdmFsdWVzLlwiIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwiRWFjaCBlbGVtZW50IG9mIFwiICsgKHRhcmdldERlc2MubmFtZSB8fCB0YXJnZXREZXNjLm1lc3NhZ2UpICsgXCIgd2lsbCBiZSBkZWZhdWx0LWluaXRpYWxpemVkLiBGb3IgZXhhbXBsZSwgXCIgK1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50SW5pdGlhbGl6ZXJzIVswXS5leHBsYWluKHNpbSwgcnRDb25zdHJ1Y3QpIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZEFycmF5RGVmYXVsdEluaXRpYWxpemVyPFQgZXh0ZW5kcyBCb3VuZGVkQXJyYXlUeXBlID0gQm91bmRlZEFycmF5VHlwZT4gZXh0ZW5kcyBBcnJheURlZmF1bHRJbml0aWFsaXplciwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4gICAgcmVhZG9ubHkgdGVtcG9yYXJ5RGVhbGxvY2F0b3I/OiBDb21waWxlZFRlbXBvcmFyeURlYWxsb2NhdG9yOyAvLyB0byBtYXRjaCBDb21waWxlZFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uIHN0cnVjdHVyZVxyXG4gICAgcmVhZG9ubHkgdGFyZ2V0OiBPYmplY3RFbnRpdHk8VD47XHJcbiAgICByZWFkb25seSBlbGVtZW50SW5pdGlhbGl6ZXJzPzogQ29tcGlsZWREZWZhdWx0SW5pdGlhbGl6ZXI8VFtcImVsZW1UeXBlXCJdPltdO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUnVudGltZUFycmF5RGVmYXVsdEluaXRpYWxpemVyPFQgZXh0ZW5kcyBCb3VuZGVkQXJyYXlUeXBlID0gQm91bmRlZEFycmF5VHlwZT4gZXh0ZW5kcyBSdW50aW1lRGVmYXVsdEluaXRpYWxpemVyPFQsIENvbXBpbGVkQXJyYXlEZWZhdWx0SW5pdGlhbGl6ZXI8VD4+IHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGFyZ2V0OiBDUFBPYmplY3Q8VD47XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZWxlbWVudEluaXRpYWxpemVycz86IFJ1bnRpbWVEZWZhdWx0SW5pdGlhbGl6ZXI8VFtcImVsZW1UeXBlXCJdPltdO1xyXG5cclxuICAgIHByaXZhdGUgaW5kZXggPSAwO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvciAobW9kZWw6IENvbXBpbGVkQXJyYXlEZWZhdWx0SW5pdGlhbGl6ZXI8VD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgICAgIHN1cGVyKG1vZGVsLCBwYXJlbnQpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5tb2RlbC50YXJnZXQucnVudGltZUxvb2t1cCh0aGlzKTtcclxuICAgICAgICBpZiAodGhpcy5tb2RlbC5lbGVtZW50SW5pdGlhbGl6ZXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudEluaXRpYWxpemVycyA9IHRoaXMubW9kZWwuZWxlbWVudEluaXRpYWxpemVycy5tYXAoKGVsZW1Jbml0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbUluaXQuY3JlYXRlUnVudGltZUluaXRpYWxpemVyKHRoaXMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblx0XHJcbiAgICBwcm90ZWN0ZWQgdXBOZXh0SW1wbCgpIHtcclxuICAgICAgICBpZiAodGhpcy5lbGVtZW50SW5pdGlhbGl6ZXJzICYmIHRoaXMuaW5kZXggPCB0aGlzLmVsZW1lbnRJbml0aWFsaXplcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2ltLnB1c2godGhpcy5lbGVtZW50SW5pdGlhbGl6ZXJzW3RoaXMuaW5kZXgrK10pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcImluaXRpYWxpemVkXCIsIHRoaXMudGFyZ2V0KTtcclxuICAgICAgICAgICAgdGhpcy5zaW0ucG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGVwRm9yd2FyZEltcGwoKSB7XHJcbiAgICAgICAgLy8gZG8gbm90aGluZ1xyXG4gICAgfVxyXG4gICAgXHJcbn1cclxuXHJcbi8vIGV4cG9ydCBjbGFzcyBDbGFzc0RlZmF1bHRJbml0aWFsaXplciBleHRlbmRzIERlZmF1bHRJbml0aWFsaXplciB7XHJcblxyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IHRhcmdldDogT2JqZWN0RW50aXR5PENsYXNzVHlwZT47XHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgY3RvcjogQ29uc3RydWN0b3JFbnRpdHk/O1xyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IGN0b3JDYWxsOiBNZW1iZXJGdW5jdGlvbkNhbGw/O1xyXG5cclxuLy8gICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCB0YXJnZXQ6IE9iamVjdEVudGl0eTxDbGFzc1R5cGU+KSB7XHJcbi8vICAgICAgICAgc3VwZXIoY29udGV4dCk7XHJcblxyXG4vLyAgICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xyXG5cclxuLy8gICAgICAgICAvLyBUcnkgdG8gZmluZCBkZWZhdWx0IGNvbnN0cnVjdG9yLiBOb3QgdXNpbmcgbG9va3VwIGJlY2F1c2UgY29uc3RydWN0b3JzIGhhdmUgbm8gbmFtZS5cclxuLy8gICAgICAgICB0aGlzLmN0b3IgPSBvdmVybG9hZFJlc29sdXRpb24odGFyZ2V0LnR5cGUuY3BwQ2xhc3MuY3RvcnMsIFtdKTtcclxuLy8gICAgICAgICBpZiAoIXRoaXMuY3Rvcikge1xyXG4vLyAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uaW5pdC5ub19kZWZhdWx0X2NvbnN0cnVjdG9yKHRoaXMsIHRoaXMudGFyZ2V0KSk7XHJcbi8vICAgICAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgICB9XHJcbiAgICAgICAgXHJcbi8vICAgICAgICAgLy9NZW1iZXJGdW5jdGlvbkNhbGwgYXJncyBhcmU6IGNvbnRleHQsIGZ1bmN0aW9uIHRvIGNhbGwsIHJlY2VpdmVyLCBjdG9yIGFyZ3NcclxuLy8gICAgICAgICB0aGlzLmN0b3JDYWxsID0gbmV3IE1lbWJlckZ1bmN0aW9uQ2FsbChjb250ZXh0LCB0aGlzLmN0b3IsIHRoaXMudGFyZ2V0LCBbXSk7XHJcbi8vICAgICAgICAgdGhpcy5hdHRhY2godGhpcy5jdG9yQ2FsbCk7XHJcbi8vICAgICAgICAgLy8gdGhpcy5hcmdzID0gdGhpcy5jdG9yQ2FsbC5hcmdzO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lSW5pdGlhbGl6ZXI8VCBleHRlbmRzIENsYXNzVHlwZT4odGhpczogQ29tcGlsZWRDbGFzc0RlZmF1bHRJbml0aWFsaXplcjxUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVDbGFzc0RlZmF1bHRJbml0aWFsaXplcjxUPjtcclxuLy8gICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lSW5pdGlhbGl6ZXI8VCBleHRlbmRzIE9iamVjdFR5cGU+KHRoaXM6IENvbXBpbGVkRGVmYXVsdEluaXRpYWxpemVyPFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogbmV2ZXI7XHJcbi8vICAgICBwdWJsaWMgY3JlYXRlUnVudGltZUluaXRpYWxpemVyPFQgZXh0ZW5kcyBDbGFzc1R5cGU+KHRoaXM6IENvbXBpbGVkQ2xhc3NEZWZhdWx0SW5pdGlhbGl6ZXI8VD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lQ2xhc3NEZWZhdWx0SW5pdGlhbGl6ZXI8VD4ge1xyXG4vLyAgICAgICAgIHJldHVybiBuZXcgUnVudGltZUNsYXNzRGVmYXVsdEluaXRpYWxpemVyKHRoaXMsIHBhcmVudCk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIGV4cGxhaW4oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4vLyAgICAgICAgIGxldCB0YXJnZXREZXNjID0gdGhpcy50YXJnZXQuZGVzY3JpYmUoKTtcclxuLy8gICAgICAgICAvLyBUT0RPOiB3aGF0IGlmIHRoZXJlIGlzIGFuIGVycm9yIHRoYXQgY2F1c2VzIG5vIGN0b3IgdG8gYmUgZm91bmQvYXZhaWxhYmxlXHJcbi8vICAgICAgICAgcmV0dXJuIHttZXNzYWdlOiAodGFyZ2V0RGVzYy5uYW1lIHx8IHRhcmdldERlc2MubWVzc2FnZSkgKyBcIiB3aWxsIGJlIGluaXRpYWxpemVkIHVzaW5nIFwiICsgdGhpcy5jdG9yQ2FsbC5kZXNjcmliZSgpLm1lc3NhZ2V9O1xyXG4vLyAgICAgfVxyXG4vLyB9XHJcblxyXG4vLyBleHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkQ2xhc3NEZWZhdWx0SW5pdGlhbGl6ZXI8VCBleHRlbmRzIENsYXNzVHlwZSA9IENsYXNzVHlwZT4gZXh0ZW5kcyBDbGFzc0RlZmF1bHRJbml0aWFsaXplciwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG5cclxuLy8gICAgIHJlYWRvbmx5IHRhcmdldDogT2JqZWN0RW50aXR5PFQ+O1xyXG4vLyAgICAgcmVhZG9ubHkgY3RvcjogQ29uc3RydWN0b3JFbnRpdHk8VD47XHJcbi8vICAgICByZWFkb25seSBjdG9yQ2FsbDogQ29tcGlsZWRGdW5jdGlvbkNhbGw8Vm9pZFR5cGUsIFwicHJ2YWx1ZVwiPjtcclxuLy8gfVxyXG5cclxuLy8gZXhwb3J0IGNsYXNzIFJ1bnRpbWVDbGFzc0RlZmF1bHRJbml0aWFsaXplcjxUIGV4dGVuZHMgQ2xhc3NUeXBlID0gQ2xhc3NUeXBlPiBleHRlbmRzIFJ1bnRpbWVEZWZhdWx0SW5pdGlhbGl6ZXI8VCwgQ29tcGlsZWRDbGFzc0RlZmF1bHRJbml0aWFsaXplcjxUPj4ge1xyXG5cclxuLy8gICAgIHB1YmxpYyByZWFkb25seSB0YXJnZXQ6IENQUE9iamVjdDxDbGFzc1R5cGU+O1xyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IGN0b3JDYWxsOiBSdW50aW1lRnVuY3Rpb25DYWxsPFZvaWRUeXBlLCBcInBydmFsdWVcIj47XHJcblxyXG4vLyAgICAgcHJpdmF0ZSBpbmRleCA9IFwiY2FsbEN0b3JcIjtcclxuICAgIFxyXG4vLyAgICAgcHVibGljIGNvbnN0cnVjdG9yIChtb2RlbDogQ29tcGlsZWRDbGFzc0RlZmF1bHRJbml0aWFsaXplcjxUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbi8vICAgICAgICAgc3VwZXIobW9kZWwsIHBhcmVudCk7XHJcbi8vICAgICAgICAgdGhpcy50YXJnZXQgPSBtb2RlbC50YXJnZXQucnVudGltZUxvb2t1cCh0aGlzKTtcclxuLy8gICAgICAgICB0aGlzLmN0b3JDYWxsID0gdGhpcy5tb2RlbC5jdG9yQ2FsbC5jcmVhdGVSdW50aW1lRnVuY3Rpb25DYWxsKHRoaXMpO1xyXG4vLyAgICAgfVxyXG5cdFxyXG4vLyAgICAgcHJvdGVjdGVkIHVwTmV4dEltcGwoKSB7XHJcbi8vICAgICAgICAgaWYgKHRoaXMuaW5kZXggPT09IFwiY2FsbEN0b3JcIikge1xyXG4vLyAgICAgICAgICAgICB0aGlzLnNpbS5wdXNoKHRoaXMuY3RvckNhbGwpO1xyXG4vLyAgICAgICAgICAgICB0aGlzLmluZGV4ID0gXCJkb25lXCI7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2Uge1xyXG4vLyAgICAgICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcImluaXRpYWxpemVkXCIsIHRoaXMudGFyZ2V0KTtcclxuLy8gICAgICAgICAgICAgdGhpcy5zaW0ucG9wKCk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBzdGVwRm9yd2FyZEltcGwoKSB7XHJcbi8vICAgICAgICAgLy8gZG8gbm90aGluZ1xyXG4vLyAgICAgfVxyXG5cclxuLy8gfVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEaXJlY3RJbml0aWFsaXplckFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIGNvbnN0cnVjdF90eXBlOiBcImRpcmVjdF9pbml0aWFsaXplclwiO1xyXG4gICAgYXJnczogRXhwcmVzc2lvbkFTVE5vZGVbXTtcclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRGlyZWN0SW5pdGlhbGl6ZXIgZXh0ZW5kcyBJbml0aWFsaXplciB7XHJcblxyXG4gICAgLy8gTk9URTogcmVtb3ZlZCBzaW5jZSBJIGRvbid0IHRoaW5rIGl0IG1ha2VzIHNlbnNlIHRvIGNyZWF0ZSBhbiBpbml0aWFsaXplciBkaXJlY3RseSBmcm9tIGFuIEFTVCAoYW5kIGl0IGRvZXNuJ3QgbWF0Y2ggdGhlIGJhc2Ugc2lnbmF0dXJlIG9mIENQUENvbnN0cnVjdC5jcmVhdGVGcm9tQVNUKVxyXG4gICAgLy8gcHVibGljIHN0YXRpYyBjcmVhdGVGcm9tQVNUPFQgZXh0ZW5kcyBUeXBlPihhc3Q6IERpcmVjdEluaXRpYWxpemVyQVNUTm9kZSwgY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgdGFyZ2V0OiBPYmplY3RFbnRpdHk8VD4pIHtcclxuICAgIC8vICAgICByZXR1cm4gdGhpcy5jcmVhdGUoY29udGV4dCwgdGFyZ2V0LFxyXG4gICAgLy8gICAgICAgICBhc3QuYXJncy5tYXAoKGEpID0+IHtcclxuICAgIC8vICAgICAgICAgICAgIHJldHVybiBFeHByZXNzaW9uLmNyZWF0ZUZyb21BU1QoYSwgY29udGV4dCk7XHJcbiAgICAvLyAgICAgICAgIH0pXHJcbiAgICAvLyAgICAgKVxyXG4gICAgLy8gfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIHRhcmdldDogVW5ib3VuZFJlZmVyZW5jZUVudGl0eSwgYXJnczogcmVhZG9ubHkgRXhwcmVzc2lvbltdKSA6IFJlZmVyZW5jZURpcmVjdEluaXRpYWxpemVyO1xyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGUoY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgdGFyZ2V0OiBPYmplY3RFbnRpdHk8QXRvbWljVHlwZT4sIGFyZ3M6IHJlYWRvbmx5IEV4cHJlc3Npb25bXSkgOiBBdG9taWNEaXJlY3RJbml0aWFsaXplcjtcclxuICAgIC8vIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIHRhcmdldDogT2JqZWN0RW50aXR5PEJvdW5kZWRBcnJheVR5cGU+LCBhcmdzOiByZWFkb25seSBFeHByZXNzaW9uW10pIDogQXJyYXlEaXJlY3RJbml0aWFsaXplcjtcclxuICAgIC8vIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIHRhcmdldDogT2JqZWN0RW50aXR5PENsYXNzVHlwZT4sIGFyZ3M6IHJlYWRvbmx5IEV4cHJlc3Npb25bXSkgOiBDbGFzc0RpcmVjdEluaXRpYWxpemVyO1xyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGUoY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgdGFyZ2V0OiBPYmplY3RFbnRpdHksIGFyZ3M6IHJlYWRvbmx5IEV4cHJlc3Npb25bXSkgOiBEaXJlY3RJbml0aWFsaXplcjtcclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIHRhcmdldDogT2JqZWN0RW50aXR5IHwgVW5ib3VuZFJlZmVyZW5jZUVudGl0eSwgYXJnczogcmVhZG9ubHkgRXhwcmVzc2lvbltdKSA6IERpcmVjdEluaXRpYWxpemVyIHtcclxuICAgICAgICBpZiAoKDxVbmJvdW5kUmVmZXJlbmNlRW50aXR5PnRhcmdldCkuYmluZFRvKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVmZXJlbmNlRGlyZWN0SW5pdGlhbGl6ZXIoY29udGV4dCwgPFVuYm91bmRSZWZlcmVuY2VFbnRpdHk+dGFyZ2V0LCBhcmdzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGFyZ2V0LnR5cGUgaW5zdGFuY2VvZiBBdG9taWNUeXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQXRvbWljRGlyZWN0SW5pdGlhbGl6ZXIoY29udGV4dCwgPE9iamVjdEVudGl0eTxBdG9taWNUeXBlPj4gdGFyZ2V0LCBhcmdzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZWxzZSBpZiAodGFyZ2V0LnR5cGUgaW5zdGFuY2VvZiBCb3VuZGVkQXJyYXlUeXBlKSB7XHJcbiAgICAgICAgLy8gICAgIHJldHVybiBuZXcgQXJyYXlEaXJlY3RJbml0aWFsaXplcihjb250ZXh0LCA8T2JqZWN0RW50aXR5PEJvdW5kZWRBcnJheVR5cGU+PiB0YXJnZXQsIGFyZ3MpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBlbHNlIGlmICh0YXJnZXQudHlwZSBpbnN0YW5jZW9mIENsYXNzVHlwZSkge1xyXG4gICAgICAgIC8vICAgICByZXR1cm4gbmV3IENsYXNzRGlyZWN0SW5pdGlhbGl6ZXIoY29udGV4dCwgPE9iamVjdEVudGl0eTxDbGFzc1R5cGU+PiB0YXJnZXQsIGFyZ3MpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gYXNzZXJ0RmFsc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IHJlYWRvbmx5IGFyZ3M6IHJlYWRvbmx5IEV4cHJlc3Npb25bXTtcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgY3JlYXRlUnVudGltZUluaXRpYWxpemVyPFQgZXh0ZW5kcyBPYmplY3RUeXBlPih0aGlzOiBDb21waWxlZERpcmVjdEluaXRpYWxpemVyPFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZURpcmVjdEluaXRpYWxpemVyPFQ+O1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZERpcmVjdEluaXRpYWxpemVyPFQgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZT4gZXh0ZW5kcyBEaXJlY3RJbml0aWFsaXplciwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4gICAgcmVhZG9ubHkgdGVtcG9yYXJ5RGVhbGxvY2F0b3I/OiBDb21waWxlZFRlbXBvcmFyeURlYWxsb2NhdG9yOyAvLyB0byBtYXRjaCBDb21waWxlZFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uIHN0cnVjdHVyZVxyXG4gICAgcmVhZG9ubHkgdGFyZ2V0OiBPYmplY3RFbnRpdHk8VD4gfCBVbmJvdW5kUmVmZXJlbmNlRW50aXR5PFQ+O1xyXG4gICAgcmVhZG9ubHkgYXJnczogcmVhZG9ubHkgQ29tcGlsZWRFeHByZXNzaW9uW107XHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSdW50aW1lRGlyZWN0SW5pdGlhbGl6ZXI8VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlLCBDIGV4dGVuZHMgQ29tcGlsZWREaXJlY3RJbml0aWFsaXplcjxUPiA9IENvbXBpbGVkRGlyZWN0SW5pdGlhbGl6ZXI8VD4+IGV4dGVuZHMgUnVudGltZUluaXRpYWxpemVyPEM+IHtcclxuXHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IgKG1vZGVsOiBDLCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICBzdXBlcihtb2RlbCwgcGFyZW50KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgUmVmZXJlbmNlRGlyZWN0SW5pdGlhbGl6ZXIgZXh0ZW5kcyBEaXJlY3RJbml0aWFsaXplciB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHRhcmdldDogVW5ib3VuZFJlZmVyZW5jZUVudGl0eTtcclxuICAgIHB1YmxpYyByZWFkb25seSBhcmdzOiByZWFkb25seSBFeHByZXNzaW9uW107XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgYXJnPzogRXhwcmVzc2lvbjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgdGFyZ2V0OiBVbmJvdW5kUmVmZXJlbmNlRW50aXR5LCBhcmdzOiByZWFkb25seSBFeHByZXNzaW9uW10pIHtcclxuICAgICAgICBzdXBlcihjb250ZXh0KTtcclxuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFyZ3MgPSBhcmdzO1xyXG4gICAgICAgIGFyZ3MuZm9yRWFjaCgoYSkgPT4ge3RoaXMuYXR0YWNoKGEpO30pO1xyXG5cclxuICAgICAgICAvLyBOb3RlOiBXaXRoIGEgcmVmZXJlbmNlLCBubyBjb252ZXJzaW9ucyBhcmUgZG9uZVxyXG4gICAgICAgIGlmICh0aGlzLmFyZ3MubGVuZ3RoID4gMSl7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5pbml0LnJlZmVyZW5jZUJpbmRNdWx0aXBsZSh0aGlzKSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5hcmcgPSB0aGlzLmFyZ3NbMF07XHJcbiAgICAgICAgaWYgKCF0aGlzLmFyZy5pc1dlbGxUeXBlZCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB0YXJnZXRUeXBlID0gdGFyZ2V0LnR5cGU7XHJcbiAgICAgICAgaWYgKCFyZWZlcmVuY2VDb21wYXRpYmxlKHRoaXMuYXJnLnR5cGUsIHRhcmdldFR5cGUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5pbml0LnJlZmVyZW5jZVR5cGUodGhpcywgdGhpcy5hcmcudHlwZSwgdGFyZ2V0VHlwZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmFyZy52YWx1ZUNhdGVnb3J5ID09PSBcInBydmFsdWVcIiAmJiAhdGFyZ2V0VHlwZS5pc0NvbnN0KXtcclxuICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmluaXQucmVmZXJlbmNlUHJ2YWx1ZUNvbnN0KHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5hcmcudmFsdWVDYXRlZ29yeSA9PT0gXCJwcnZhbHVlXCIpe1xyXG4gICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IubG9ic3Rlci5yZWZlcmVuY2VQcnZhbHVlKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVJbml0aWFsaXplcjxUIGV4dGVuZHMgT2JqZWN0VHlwZT4odGhpczogQ29tcGlsZWRSZWZlcmVuY2VEaXJlY3RJbml0aWFsaXplcjxUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVSZWZlcmVuY2VEaXJlY3RJbml0aWFsaXplcjxUPjtcclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lSW5pdGlhbGl6ZXI8VCBleHRlbmRzIE9iamVjdFR5cGU+KHRoaXM6IENvbXBpbGVkRGlyZWN0SW5pdGlhbGl6ZXI8VD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBuZXZlcjtcclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lSW5pdGlhbGl6ZXI8VCBleHRlbmRzIE9iamVjdFR5cGU+KHRoaXM6IGFueSwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVSZWZlcmVuY2VEaXJlY3RJbml0aWFsaXplcjxUPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSdW50aW1lUmVmZXJlbmNlRGlyZWN0SW5pdGlhbGl6ZXIoPENvbXBpbGVkUmVmZXJlbmNlRGlyZWN0SW5pdGlhbGl6ZXI8VD4+dGhpcywgcGFyZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZXhwbGFpbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgbGV0IHRhcmdldERlc2MgPSB0aGlzLnRhcmdldC5kZXNjcmliZSgpO1xyXG4gICAgICAgIGxldCByaHNEZXNjID0gdGhpcy5hcmdzWzBdLmRlc2NyaWJlRXZhbFJlc3VsdCgwKTtcclxuICAgICAgICByZXR1cm4ge21lc3NhZ2U6ICh0YXJnZXREZXNjLm5hbWUgfHwgdGFyZ2V0RGVzYy5tZXNzYWdlKSArIFwiIHdpbGwgYmUgYm91bmQgdG8gXCIgKyAocmhzRGVzYy5uYW1lIHx8IHJoc0Rlc2MubWVzc2FnZSkgKyBcIi5cIn07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRSZWZlcmVuY2VEaXJlY3RJbml0aWFsaXplcjxUIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGU+IGV4dGVuZHMgUmVmZXJlbmNlRGlyZWN0SW5pdGlhbGl6ZXIsIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuICAgIHJlYWRvbmx5IHRlbXBvcmFyeURlYWxsb2NhdG9yPzogQ29tcGlsZWRUZW1wb3JhcnlEZWFsbG9jYXRvcjsgLy8gdG8gbWF0Y2ggQ29tcGlsZWRQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiBzdHJ1Y3R1cmVcclxuICAgIHJlYWRvbmx5IHRhcmdldDogVW5ib3VuZFJlZmVyZW5jZUVudGl0eTxUPjtcclxuICAgIHJlYWRvbmx5IGFyZ3M6IHJlYWRvbmx5IENvbXBpbGVkRXhwcmVzc2lvbltdO1xyXG5cclxuICAgIC8vIE5vdGU6IENvbXBpbGF0aW9uIG9mIHRoZSBpbml0aWFsaXplciBjaGVja3MgZm9yIHJlZmVyZW5jZSBjb21wYXRpYmlsaXR5LCB3aGljaCBzaG91bGQgZW5zdXJlXHJcbiAgICAvLyB0aGF0IHRoZSBleHByZXNzaW9uIGFjdHVhbGx5IGhhcyB0aGUgc2FtZSB0eXBlIFQgYXMgdGhlIHJlZmVyZW5jZSB0byBiZSBib3VuZC4gKEZvciBzdWJ0eXBlc1xyXG4gICAgLy8gdGhhdCBhcmUgcmVmZXJlbmNlIGNvbXBhdGlibGUsIHRoaXMgaXMgZmluZSwgc2luY2UgVCB3aWxsIHN0aWxsIGJlIENsYXNzVHlwZSBmb3IgYm90aC4pXHJcbiAgICByZWFkb25seSBhcmc6IENvbXBpbGVkRXhwcmVzc2lvbjxULCBcImx2YWx1ZVwiPjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJ1bnRpbWVSZWZlcmVuY2VEaXJlY3RJbml0aWFsaXplcjxUIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGU+IGV4dGVuZHMgUnVudGltZURpcmVjdEluaXRpYWxpemVyPFQsIENvbXBpbGVkUmVmZXJlbmNlRGlyZWN0SW5pdGlhbGl6ZXI8VD4+IHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgYXJnOiBSdW50aW1lRXhwcmVzc2lvbjxULCBcImx2YWx1ZVwiPjtcclxuXHJcbiAgICBwcml2YXRlIGFscmVhZHlQdXNoZWQgPSBmYWxzZTtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IgKG1vZGVsOiBDb21waWxlZFJlZmVyZW5jZURpcmVjdEluaXRpYWxpemVyPFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICBzdXBlcihtb2RlbCwgcGFyZW50KTtcclxuICAgICAgICB0aGlzLmFyZyA9IHRoaXMubW9kZWwuYXJnLmNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCB1cE5leHRJbXBsKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5hbHJlYWR5UHVzaGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2ltLnB1c2godGhpcy5hcmcpO1xyXG4gICAgICAgICAgICB0aGlzLmFscmVhZHlQdXNoZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIHN0ZXBGb3J3YXJkSW1wbCgpIHtcclxuICAgICAgICBsZXQgcnRSZWYgPSB0aGlzLm1vZGVsLnRhcmdldC5iaW5kVG8odGhpcywgPENQUE9iamVjdDxUPj50aGlzLmFyZy5ldmFsUmVzdWx0KTsgIC8vVE9ETyBub3Qgc3VyZSBhdCBhbGwgd2h5IHRoaXMgY2FzdCBpcyBuZWNlc3NhcnlcclxuICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcImluaXRpYWxpemVkXCIsIHJ0UmVmKTtcclxuICAgICAgICB0aGlzLnNpbS5wb3AoKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBBdG9taWNEaXJlY3RJbml0aWFsaXplciBleHRlbmRzIERpcmVjdEluaXRpYWxpemVyIHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGFyZ2V0OiBPYmplY3RFbnRpdHk8QXRvbWljVHlwZT47XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgYXJnczogcmVhZG9ubHkgRXhwcmVzc2lvbltdO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGFyZz86IEV4cHJlc3Npb247XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIHRhcmdldDogT2JqZWN0RW50aXR5PEF0b21pY1R5cGU+LCBhcmdzOiByZWFkb25seSBFeHByZXNzaW9uW10pIHtcclxuICAgICAgICBzdXBlcihjb250ZXh0KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgdGFyZ2V0VHlwZSA9IHRhcmdldC50eXBlO1xyXG5cclxuICAgICAgICB0aGlzLmFyZ3MgPSBhcmdzO1xyXG4gICAgICAgIGFyZ3MuZm9yRWFjaCgoYSkgPT4ge3RoaXMuYXR0YWNoKGEpO30pO1xyXG5cclxuICAgICAgICBpZiAoYXJncy5sZW5ndGggPiAxKXtcclxuICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmluaXQuc2NhbGFyX2FyZ3ModGhpcywgdGFyZ2V0VHlwZSkpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYXJnID0gYXJnc1swXTtcclxuXHJcbiAgICAgICAgLy9BdHRlbXB0IHN0YW5kYXJkIGNvbnZlcnNpb24gdG8gZGVjbGFyZWQgdHlwZSwgaW5jbHVkaW5nIGx2YWx1ZSB0byBydmFsdWUgY29udmVyc2lvbnNcclxuICAgICAgICBpZiAoIXRoaXMuYXJnLmlzV2VsbFR5cGVkKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHR5cGVkQXJnID0gc3RhbmRhcmRDb252ZXJzaW9uKHRoaXMuYXJnLCB0YXJnZXRUeXBlKTtcclxuICAgICAgICB0aGlzLmFyZyA9IHR5cGVkQXJnO1xyXG5cclxuICAgICAgICBpZiAoIXNhbWVUeXBlKHR5cGVkQXJnLnR5cGUsIHRhcmdldFR5cGUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5pbml0LmNvbnZlcnQodGhpcywgdHlwZWRBcmcudHlwZSwgdGFyZ2V0VHlwZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBUT0RPOiBuZWVkIHRvIGNoZWNrIHRoYXQgdGhlIGFyZyBpcyBhIHBydmFsdWVcclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUluaXRpYWxpemVyPFQgZXh0ZW5kcyBBdG9taWNUeXBlPih0aGlzOiBDb21waWxlZEF0b21pY0RpcmVjdEluaXRpYWxpemVyPFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZUF0b21pY0RpcmVjdEluaXRpYWxpemVyPFQ+O1xyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVJbml0aWFsaXplcjxUIGV4dGVuZHMgT2JqZWN0VHlwZT4odGhpczogQ29tcGlsZWREaXJlY3RJbml0aWFsaXplcjxUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IG5ldmVyO1xyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVJbml0aWFsaXplcjxUIGV4dGVuZHMgQXRvbWljVHlwZT4odGhpczogYW55LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZUF0b21pY0RpcmVjdEluaXRpYWxpemVyPFQ+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFJ1bnRpbWVBdG9taWNEaXJlY3RJbml0aWFsaXplcig8Q29tcGlsZWRBdG9taWNEaXJlY3RJbml0aWFsaXplcjxUPj50aGlzLCBwYXJlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRPRE87IGNoYW5nZSBleHBsYWluIGV2ZXJ5d2hlcmUgdG8gYmUgc2VwYXJhdGUgYmV0d2VlbiBjb21waWxlIHRpbWUgYW5kIHJ1bnRpbWUgY29uc3RydWN0c1xyXG4gICAgcHVibGljIGV4cGxhaW4oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgICAgIGxldCB0YXJnZXREZXNjID0gdGhpcy50YXJnZXQucnVudGltZUxvb2t1cChydENvbnN0cnVjdCkuZGVzY3JpYmUoKTtcclxuICAgICAgICBsZXQgcmhzRGVzYyA9IHRoaXMuYXJnc1swXS5kZXNjcmliZUV2YWxSZXN1bHQoMCk7XHJcbiAgICAgICAgcmV0dXJuIHttZXNzYWdlOiAodGFyZ2V0RGVzYy5uYW1lIHx8IHRhcmdldERlc2MubWVzc2FnZSkgKyBcIiB3aWxsIGJlIGluaXRpYWxpemVkIHdpdGggXCIgKyAocmhzRGVzYy5uYW1lIHx8IHJoc0Rlc2MubWVzc2FnZSkgKyBcIi5cIn07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRBdG9taWNEaXJlY3RJbml0aWFsaXplcjxUIGV4dGVuZHMgQXRvbWljVHlwZSA9IEF0b21pY1R5cGU+IGV4dGVuZHMgQXRvbWljRGlyZWN0SW5pdGlhbGl6ZXIsIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuICAgIHJlYWRvbmx5IHRlbXBvcmFyeURlYWxsb2NhdG9yPzogQ29tcGlsZWRUZW1wb3JhcnlEZWFsbG9jYXRvcjsgLy8gdG8gbWF0Y2ggQ29tcGlsZWRQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiBzdHJ1Y3R1cmVcclxuICAgIHJlYWRvbmx5IHRhcmdldDogT2JqZWN0RW50aXR5PFQ+O1xyXG4gICAgcmVhZG9ubHkgYXJnczogcmVhZG9ubHkgQ29tcGlsZWRFeHByZXNzaW9uW107XHJcbiAgICByZWFkb25seSBhcmc6IENvbXBpbGVkRXhwcmVzc2lvbjxULCBcInBydmFsdWVcIj47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBSdW50aW1lQXRvbWljRGlyZWN0SW5pdGlhbGl6ZXI8VCBleHRlbmRzIEF0b21pY1R5cGUgPSBBdG9taWNUeXBlPiBleHRlbmRzIFJ1bnRpbWVEaXJlY3RJbml0aWFsaXplcjxULCBDb21waWxlZEF0b21pY0RpcmVjdEluaXRpYWxpemVyPFQ+PiB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHRhcmdldDogQ1BQT2JqZWN0PEF0b21pY1R5cGU+O1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGFyZzogUnVudGltZUV4cHJlc3Npb248VCwgXCJwcnZhbHVlXCI+O1xyXG5cclxuICAgIHByaXZhdGUgYWxyZWFkeVB1c2hlZCA9IGZhbHNlO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvciAobW9kZWw6IENvbXBpbGVkQXRvbWljRGlyZWN0SW5pdGlhbGl6ZXI8VD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgICAgIHN1cGVyKG1vZGVsLCBwYXJlbnQpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5tb2RlbC50YXJnZXQucnVudGltZUxvb2t1cCh0aGlzKTtcclxuICAgICAgICB0aGlzLmFyZyA9IHRoaXMubW9kZWwuYXJnLmNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCB1cE5leHRJbXBsKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5hbHJlYWR5UHVzaGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2ltLnB1c2godGhpcy5hcmcpO1xyXG4gICAgICAgICAgICB0aGlzLmFscmVhZHlQdXNoZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RlcEZvcndhcmRJbXBsKCkge1xyXG4gICAgICAgIHRoaXMudGFyZ2V0LndyaXRlVmFsdWUodGhpcy5hcmcuZXZhbFJlc3VsdCk7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJpbml0aWFsaXplZFwiLCB0aGlzLnRhcmdldCk7XHJcbiAgICAgICAgdGhpcy5zaW0ucG9wKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vLyAvKipcclxuLy8gICogTm90ZTogT25seSBhbGxvd2VkIHVzZSBpcyB0byBpbml0aWFsaXplIGEgY2hhciBhcnJheSBmcm9tIGEgc3RyaW5nIGxpdGVyYWwsIGJ1dCB0aGlzIGNhbiByZWFkaWx5IGJlXHJcbi8vICAqIGNyZWF0ZWQgaW4gdGhlIGNvdXJzZSBvZiBjb21waWxpbmcgYSBwcm9ncmFtIGlmIHRoZSBjb2RlIGF0dGVtcHRzIHRvIGRpcmVjdGx5IGluaXRpYWxpemUgYW4gYXJyYXkuIFRoYXQnc1xyXG4vLyAgKiBkZXNpcmFibGUsIGJlY2F1c2UgdGhpcyBjbGFzcyB3aWxsIGdpdmUgdGhlIGFwcHJvcHJpYXRlIGVycm9yIG1lc3NhZ2VzIGlmIGl0J3MgYW55dGhpbmcgb3RoZXIgdGhhbiBhXHJcbi8vICAqIGNoYXIgYXJyYXkgaW5pdGlhbGl6ZWQgZnJvbSBhIHN0cmluZyBsaXRlcmFsLlxyXG4vLyAgKi9cclxuLy8gZXhwb3J0IGNsYXNzIEFycmF5RGlyZWN0SW5pdGlhbGl6ZXIgZXh0ZW5kcyBEaXJlY3RJbml0aWFsaXplciB7XHJcblxyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IHRhcmdldDogT2JqZWN0RW50aXR5PEJvdW5kZWRBcnJheVR5cGU+O1xyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IGFyZ3M6IHJlYWRvbmx5IEV4cHJlc3Npb25bXTtcclxuLy8gICAgIHB1YmxpYyByZWFkb25seSBhcmc/OiBTdHJpbmdMaXRlcmFsO1xyXG5cclxuLy8gICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCB0YXJnZXQ6IE9iamVjdEVudGl0eTxCb3VuZGVkQXJyYXlUeXBlPiwgYXJnczogcmVhZG9ubHkgRXhwcmVzc2lvbltdKSB7XHJcbi8vICAgICAgICAgc3VwZXIoY29udGV4dCk7XHJcbiAgICAgICAgXHJcbi8vICAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcbi8vICAgICAgICAgbGV0IHRhcmdldFR5cGUgPSB0YXJnZXQudHlwZTtcclxuXHJcbi8vICAgICAgICAgLy8gVFMgdHlwZSBzeXN0ZW0gZW5zdXJlcyB0YXJnZXQgaXMgYXJyYXkgdHlwZSwgbmVlZCB0byBjaGVjayBlbGVtZW50IHR5cGUgYW5kIHRoYXQgYXJncyBhcmUgYSBzaW5nbGUgc3RyaW5nIGxpdGVyYWxcclxuLy8gICAgICAgICBpZiAodGFyZ2V0VHlwZS5lbGVtVHlwZSBpbnN0YW5jZW9mIENoYXIgJiYgYXJncy5sZW5ndGggPT09IDEgJiYgYXJnc1swXSBpbnN0YW5jZW9mIFN0cmluZ0xpdGVyYWwpIHtcclxuLy8gICAgICAgICAgICAgbGV0IGFyZyA9IHRoaXMuYXJnID0gPFN0cmluZ0xpdGVyYWw+YXJnc1swXTtcclxuICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgIGlmIChhcmcudHlwZS5sZW5ndGggPiB0YXJnZXRUeXBlLmxlbmd0aCl7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uaW5pdC5zdHJpbmdMaXRlcmFsTGVuZ3RoKHRoaXMsIGFyZy50eXBlLmxlbmd0aCwgdGFyZ2V0VHlwZS5sZW5ndGgpKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNlIHtcclxuLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmluaXQuYXJyYXlfc3RyaW5nX2xpdGVyYWwodGhpcywgdGFyZ2V0VHlwZSkpO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgdGhpcy5hcmdzID0gYXJncztcclxuLy8gICAgICAgICBhcmdzLmZvckVhY2goKGEpID0+IHt0aGlzLmF0dGFjaChhKTt9KTtcclxuICAgICAgICBcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgY3JlYXRlUnVudGltZUluaXRpYWxpemVyKHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4vLyAgICAgICAgIHJldHVybiBuZXcgUnVudGltZUFycmF5RGlyZWN0SW5pdGlhbGl6ZXIodGhpcywgcGFyZW50KTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICAvLyBUT0RPOyBjaGFuZ2UgZXhwbGFpbiBldmVyeXdoZXJlIHRvIGJlIHNlcGFyYXRlIGJldHdlZW4gY29tcGlsZSB0aW1lIGFuZCBydW50aW1lIGNvbnN0cnVjdHNcclxuLy8gICAgIHB1YmxpYyBleHBsYWluKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuLy8gICAgICAgICBsZXQgdGFyZ2V0RGVzYyA9IHRoaXMudGFyZ2V0LnJ1bnRpbWVMb29rdXAocnRDb25zdHJ1Y3QpLmRlc2NyaWJlKCk7XHJcbi8vICAgICAgICAgbGV0IHJoc0Rlc2MgPSB0aGlzLmFyZ3NbMF0uZGVzY3JpYmVFdmFsUmVzdWx0KDApO1xyXG4vLyAgICAgICAgIHJldHVybiB7bWVzc2FnZTogKHRhcmdldERlc2MubmFtZSB8fCB0YXJnZXREZXNjLm1lc3NhZ2UpICsgXCIgKGEgY2hhcmFjdGVyIGFycmF5KSB3aWxsIGJlIGluaXRpYWxpemVkIGZyb20gdGhlIHN0cmluZyBsaXRlcmFsIFwiICsgcmhzRGVzYyArIFwiLiBSZW1lbWJlciB0aGF0IGEgbnVsbCBjaGFyYWN0ZXIgaXMgYXV0b21hdGljYWxseSBhcHBlbmRlZCFcIn07XHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcbi8vIGV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRBcnJheURpcmVjdEluaXRpYWxpemVyIGV4dGVuZHMgQXJyYXlEaXJlY3RJbml0aWFsaXplciwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4vLyAgICAgcmVhZG9ubHkgdGFyZ2V0OiBPYmplY3RFbnRpdHk8Qm91bmRlZEFycmF5VHlwZTxDaGFyPj47XHJcbi8vICAgICByZWFkb25seSBhcmdzOiBDb21waWxlZEV4cHJlc3Npb25bXTtcclxuLy8gICAgIHJlYWRvbmx5IGFyZzogQ29tcGlsZWRTdHJpbmdMaXRlcmFsO1xyXG4vLyB9XHJcblxyXG4vLyBleHBvcnQgY2xhc3MgUnVudGltZUFycmF5RGlyZWN0SW5pdGlhbGl6ZXIgZXh0ZW5kcyBSdW50aW1lRGlyZWN0SW5pdGlhbGl6ZXI8Qm91bmRlZEFycmF5VHlwZTxDaGFyPiwgQ29tcGlsZWRBcnJheURpcmVjdEluaXRpYWxpemVyPiB7XHJcblxyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IHRhcmdldDogQ1BQT2JqZWN0PEJvdW5kZWRBcnJheVR5cGU+O1xyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IGFyZzogUnVudGltZVN0cmluZ0xpdGVyYWw7XHJcblxyXG4vLyAgICAgcHJpdmF0ZSBhbHJlYWR5UHVzaGVkID0gZmFsc2U7XHJcblxyXG4vLyAgICAgcHVibGljIGNvbnN0cnVjdG9yIChtb2RlbDogQ29tcGlsZWRBcnJheURpcmVjdEluaXRpYWxpemVyLCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuLy8gICAgICAgICBzdXBlcihtb2RlbCwgcGFyZW50KTtcclxuLy8gICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMubW9kZWwudGFyZ2V0LnJ1bnRpbWVMb29rdXAodGhpcyk7XHJcbi8vICAgICAgICAgdGhpcy5hcmcgPSB0aGlzLm1vZGVsLmFyZy5jcmVhdGVSdW50aW1lRXhwcmVzc2lvbih0aGlzKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwcm90ZWN0ZWQgdXBOZXh0SW1wbCgpIHtcclxuLy8gICAgICAgICBpZiAoIXRoaXMuYWxyZWFkeVB1c2hlZCkge1xyXG4vLyAgICAgICAgICAgICB0aGlzLnNpbS5wdXNoKHRoaXMuYXJnKTtcclxuLy8gICAgICAgICAgICAgdGhpcy5hbHJlYWR5UHVzaGVkID0gdHJ1ZTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIHN0ZXBGb3J3YXJkSW1wbCgpIHtcclxuICAgICAgICBcclxuLy8gICAgICAgICB2YXIgY2hhcnNUb1dyaXRlID0gdGhpcy5hcmcuZXZhbFJlc3VsdC5yYXdWYWx1ZSgpO1xyXG5cclxuLy8gICAgICAgICAvLyBwYWQgd2l0aCB6ZXJvc1xyXG4vLyAgICAgICAgIHdoaWxlIChjaGFyc1RvV3JpdGUubGVuZ3RoIDwgdGhpcy50YXJnZXQudHlwZS5sZW5ndGgpIHtcclxuLy8gICAgICAgICAgICAgY2hhcnNUb1dyaXRlLnB1c2goQ2hhci5OVUxMX0NIQVIpO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgdGhpcy50YXJnZXQud3JpdGVWYWx1ZShjaGFyc1RvV3JpdGUpO1xyXG4vLyAgICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwiaW5pdGlhbGl6ZWRcIiwgdGhpcy50YXJnZXQpO1xyXG4vLyAgICAgICAgIHRoaXMuc2ltLnBvcCgpO1xyXG4vLyAgICAgfVxyXG4vLyB9XHJcblxyXG5cclxuLy8gZXhwb3J0IGNsYXNzIENsYXNzRGlyZWN0SW5pdGlhbGl6ZXIgZXh0ZW5kcyBEaXJlY3RJbml0aWFsaXplciB7XHJcblxyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IHRhcmdldDogT2JqZWN0RW50aXR5PENsYXNzVHlwZT47XHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgYXJnczogcmVhZG9ubHkgRXhwcmVzc2lvbltdO1xyXG5cclxuLy8gICAgIHB1YmxpYyByZWFkb25seSBjdG9yOiBDb25zdHJ1Y3RvckVudGl0eT87XHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgY3RvckNhbGw6IE1lbWJlckZ1bmN0aW9uQ2FsbD87XHJcblxyXG4vLyAgICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIHRhcmdldDogT2JqZWN0RW50aXR5PENsYXNzVHlwZT4sIGFyZ3M6IHJlYWRvbmx5IEV4cHJlc3Npb25bXSkge1xyXG4vLyAgICAgICAgIHN1cGVyKGNvbnRleHQpO1xyXG4gICAgICAgIFxyXG4vLyAgICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgICAgIFxyXG4vLyAgICAgICAgIGxldCB0YXJnZXRUeXBlID0gdGFyZ2V0LnR5cGU7XHJcblxyXG4vLyAgICAgICAgIC8vIE5lZWQgdG8gc2VsZWN0IGNvbnN0cnVjdG9yLCBzbyBoYXZlIHRvIGNvbXBpbGUgYXV4aWxpYXJ5IGFyZ3VtZW50c1xyXG4vLyAgICAgICAgIGxldCB7Y3RvciwgcHJvYmxlbXN9ID0gb3ZlcmxvYWRSZXNvbHV0aW9uKHRhcmdldFR5cGUuY3BwQ2xhc3MuY3RvcnMsIGFyZ3MpO1xyXG5cclxuLy8gICAgICAgICBpZiAoY3Rvcikge1xyXG4vLyAgICAgICAgICAgICB0aGlzLmN0b3IgPSBjdG9yO1xyXG4vLyAgICAgICAgICAgICB0aGlzLmFyZ3MgPSBhcmdzO1xyXG4vLyAgICAgICAgICAgICB0aGlzLmN0b3JDYWxsID0gbmV3IEZ1bmN0aW9uQ2FsbChjb250ZXh0LCBjdG9yLCBhcmdzLCB0aGlzLnRhcmdldCk7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYXR0YWNoKHRoaXMuY3RvckNhbGwpO1xyXG4vLyAgICAgICAgICAgICAvLyBOb3RlOiBpbiB0aGUgY2FzZSBhIHN1aXRhYmxlIGZ1bmN0aW9uIGNhbGwgY2FuIGJlIGNvbnN0cnVjdGVkLCBhcmd1bWVudHMgYXJlIG5vdFxyXG4vLyAgICAgICAgICAgICAvLyBhdHRhY2hlZCBoZXJlIHNpbmNlIHRoZXkgYXJlIGF0dGFjaGVkIHVuZGVyIHRoZSBmdW5jdGlvbiBjYWxsLlxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNlIHtcclxuLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmluaXQubWF0Y2hpbmdfY29uc3RydWN0b3IodGhpcywgdGhpcy50YXJnZXQsXHJcbi8vICAgICAgICAgICAgICAgICBhcmdzLm1hcChmdW5jdGlvbiAoYXJnKSB7cmV0dXJuIGFyZy50eXBlO30pKSk7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYXR0YWNoQWxsKHRoaXMuYXJncyA9IGFyZ3MpO1xyXG4vLyAgICAgICAgICAgICByZXR1cm47XHJcbi8vICAgICAgICAgfVxyXG5cclxuICAgICAgICBcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgY3JlYXRlUnVudGltZUluaXRpYWxpemVyPFQgZXh0ZW5kcyBDbGFzc1R5cGU+KHRoaXM6IENvbXBpbGVkQ2xhc3NEaXJlY3RJbml0aWFsaXplcjxUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVDbGFzc0RpcmVjdEluaXRpYWxpemVyPFQ+O1xyXG4vLyAgICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVJbml0aWFsaXplcjxUIGV4dGVuZHMgT2JqZWN0VHlwZT4odGhpczogQ29tcGlsZWREaXJlY3RJbml0aWFsaXplcjxUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IG5ldmVyO1xyXG4vLyAgICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVJbml0aWFsaXplcjxUIGV4dGVuZHMgQ2xhc3NUeXBlPih0aGlzOiBhbnksIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lQ2xhc3NEaXJlY3RJbml0aWFsaXplcjxUPiB7XHJcbi8vICAgICAgICAgcmV0dXJuIG5ldyBSdW50aW1lQ2xhc3NEaXJlY3RJbml0aWFsaXplcig8Q29tcGlsZWRDbGFzc0RpcmVjdEluaXRpYWxpemVyPFQ+PnRoaXMsIHBhcmVudCk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgLy8gVE9ETzsgY2hhbmdlIGV4cGxhaW4gZXZlcnl3aGVyZSB0byBiZSBzZXBhcmF0ZSBiZXR3ZWVuIGNvbXBpbGUgdGltZSBhbmQgcnVudGltZSBjb25zdHJ1Y3RzXHJcbi8vICAgICBwdWJsaWMgZXhwbGFpbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbi8vICAgICAgICAgbGV0IHRhcmdldERlc2MgPSB0aGlzLnRhcmdldC5kZXNjcmliZSgpO1xyXG4vLyAgICAgICAgIC8vIFRPRE86IHdoYXQgaWYgdGhlcmUgaXMgYW4gZXJyb3IgdGhhdCBjYXVzZXMgbm8gY3RvciB0byBiZSBmb3VuZC9hdmFpbGFibGVcclxuLy8gICAgICAgICByZXR1cm4ge21lc3NhZ2U6ICh0YXJnZXREZXNjLm5hbWUgfHwgdGFyZ2V0RGVzYy5tZXNzYWdlKSArIFwiIHdpbGwgYmUgaW5pdGlhbGl6ZWQgdXNpbmcgXCIgKyB0aGlzLmN0b3JDYWxsLmRlc2NyaWJlKCkubWVzc2FnZX07XHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcbi8vIGV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRDbGFzc0RpcmVjdEluaXRpYWxpemVyPFQgZXh0ZW5kcyBDbGFzc1R5cGU+IGV4dGVuZHMgQ2xhc3NEaXJlY3RJbml0aWFsaXplciwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4gICAgXHJcbiAgICBcclxuLy8gICAgIHJlYWRvbmx5IHRhcmdldDogT2JqZWN0RW50aXR5PFQ+O1xyXG4vLyAgICAgcmVhZG9ubHkgYXJnczogcmVhZG9ubHkgRXhwcmVzc2lvbltdO1xyXG5cclxuLy8gICAgIHJlYWRvbmx5IGN0b3I6IENvbnN0cnVjdG9yRW50aXR5PFQ+O1xyXG4vLyAgICAgcmVhZG9ubHkgY3RvckNhbGw6IENvbXBpbGVkRnVuY3Rpb25DYWxsPFZvaWRUeXBlLCBcInBydmFsdWVcIj47XHJcbi8vIH1cclxuXHJcbi8vIGV4cG9ydCBjbGFzcyBSdW50aW1lQ2xhc3NEaXJlY3RJbml0aWFsaXplcjxUIGV4dGVuZHMgQ2xhc3NUeXBlPiBleHRlbmRzIFJ1bnRpbWVEaXJlY3RJbml0aWFsaXplcjxULCBDb21waWxlZENsYXNzRGlyZWN0SW5pdGlhbGl6ZXI8VD4+IHtcclxuXHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgdGFyZ2V0OiBDUFBPYmplY3Q8Q2xhc3NUeXBlPjtcclxuICAgIFxyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IGN0b3JDYWxsOiBSdW50aW1lRnVuY3Rpb25DYWxsPFZvaWRUeXBlLCBcInBydmFsdWVcIj47XHJcblxyXG4vLyAgICAgcHJpdmF0ZSBpbmRleCA9IFwiY2FsbEN0b3JcIjtcclxuXHJcbi8vICAgICBwdWJsaWMgY29uc3RydWN0b3IgKG1vZGVsOiBDb21waWxlZENsYXNzRGlyZWN0SW5pdGlhbGl6ZXI8VD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4vLyAgICAgICAgIHN1cGVyKG1vZGVsLCBwYXJlbnQpO1xyXG4vLyAgICAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5tb2RlbC50YXJnZXQucnVudGltZUxvb2t1cCh0aGlzKTtcclxuLy8gICAgICAgICB0aGlzLmN0b3JDYWxsID0gdGhpcy5tb2RlbC5jdG9yQ2FsbC5jcmVhdGVSdW50aW1lRnVuY3Rpb25DYWxsKHRoaXMpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHByb3RlY3RlZCB1cE5leHRJbXBsKCkge1xyXG4vLyAgICAgICAgIGlmICh0aGlzLmluZGV4ID09PSBcImNhbGxDdG9yXCIpIHtcclxuLy8gICAgICAgICAgICAgdGhpcy5zaW0ucHVzaCh0aGlzLmN0b3JDYWxsKTtcclxuLy8gICAgICAgICAgICAgdGhpcy5pbmRleCA9IFwiZG9uZVwiO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNlIHtcclxuLy8gICAgICAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJpbml0aWFsaXplZFwiLCB0aGlzLnRhcmdldCk7XHJcbi8vICAgICAgICAgICAgIHRoaXMuc2ltLnBvcCgpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgc3RlcEZvcndhcmRJbXBsKCkge1xyXG4vLyAgICAgICAgIC8vIGRvIG5vdGhpbmdcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvcHlJbml0aWFsaXplckFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIGNvbnN0cnVjdF90eXBlOiBcImNvcHlfaW5pdGlhbGl6ZXJcIjtcclxuICAgIGFyZ3M6IEV4cHJlc3Npb25BU1ROb2RlW107XHJcbn1cclxuXHJcbi8vIFRPRE86IFRoZXNlIHNob3VsZCByZWFsbHkgYmUgXCJjbGFzcyBhbGlhc2VzXCIgcmF0aGVyIHRoYW4gZGVyaXZlZCBjbGFzc2VzLCBob3dldmVyXHJcbi8vIGl0IGRvZXNuJ3Qgc2VlbSBsaWtlIFR5cGVzY3JpcHQgaGFzIGFueSBwcm9wZXIgbWVjaGFuaXNtIGZvciB0aGlzLlxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29weUluaXRpYWxpemVyIGV4dGVuZHMgRGlyZWN0SW5pdGlhbGl6ZXIgeyB9O1xyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkQ29weUluaXRpYWxpemVyPFQgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZT4gZXh0ZW5kcyBDb21waWxlZERpcmVjdEluaXRpYWxpemVyPFQ+IHsgfTtcclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFJ1bnRpbWVDb3B5SW5pdGlhbGl6ZXIgZXh0ZW5kcyBSdW50aW1lRGlyZWN0SW5pdGlhbGl6ZXIgeyB9O1xyXG5cclxuZXhwb3J0IGNsYXNzIFJlZmVyZW5jZUNvcHlJbml0aWFsaXplciBleHRlbmRzIFJlZmVyZW5jZURpcmVjdEluaXRpYWxpemVyIHsgfTtcclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZFJlZmVyZW5jZUNvcHlJbml0aWFsaXplcjxUIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGU+IGV4dGVuZHMgQ29tcGlsZWRSZWZlcmVuY2VEaXJlY3RJbml0aWFsaXplcjxUPiB7IH07XHJcbmV4cG9ydCBjbGFzcyBSdW50aW1lUmVmZXJlbmNlQ29weUluaXRpYWxpemVyIGV4dGVuZHMgUnVudGltZVJlZmVyZW5jZURpcmVjdEluaXRpYWxpemVyIHsgfTtcclxuXHJcbmV4cG9ydCBjbGFzcyBBdG9taWNDb3B5SW5pdGlhbGl6ZXIgZXh0ZW5kcyBBdG9taWNEaXJlY3RJbml0aWFsaXplciB7IH07XHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRBdG9taWNDb3B5SW5pdGlhbGl6ZXI8VCBleHRlbmRzIEF0b21pY1R5cGUgPSBBdG9taWNUeXBlPiBleHRlbmRzIENvbXBpbGVkQXRvbWljRGlyZWN0SW5pdGlhbGl6ZXI8VD4geyB9O1xyXG5leHBvcnQgY2xhc3MgUnVudGltZUF0b21pY0NvcHlJbml0aWFsaXplciBleHRlbmRzIFJ1bnRpbWVBdG9taWNEaXJlY3RJbml0aWFsaXplciB7IH07XHJcbi8vIGV4cG9ydCBjbGFzcyBBcnJheUNvcHlJbml0aWFsaXplciBleHRlbmRzIEFycmF5RGlyZWN0SW5pdGlhbGl6ZXIgeyB9O1xyXG4vLyBleHBvcnQgY2xhc3MgUnVudGltZUFycmF5Q29weUluaXRpYWxpemVyIGV4dGVuZHMgUnVudGltZUFycmF5RGlyZWN0SW5pdGlhbGl6ZXIgeyB9O1xyXG4vLyBleHBvcnQgY2xhc3MgQ2xhc3NDb3B5SW5pdGlhbGl6ZXIgZXh0ZW5kcyBDbGFzc0RpcmVjdEluaXRpYWxpemVyIHsgfTtcclxuLy8gZXhwb3J0IGNsYXNzIFJ1bnRpbWVDbGFzc0NvcHlJbml0aWFsaXplciBleHRlbmRzIFJ1bnRpbWVDbGFzc0RpcmVjdEluaXRpYWxpemVyIHsgfTtcclxuXHJcblxyXG5cclxuXHJcbi8vIC8qKlxyXG4vLyAgKiBOb3RlOiBvbmx5IHVzZSBpcyBpbiBpbXBsaWNpdGx5IGRlZmluZWQgY29weSBjb25zdHJ1Y3RvclxyXG4vLyAgKi9cclxuLy8gZXhwb3J0IGNsYXNzIEFycmF5TWVtYmVySW5pdGlhbGl6ZXIgZXh0ZW5kcyBJbml0aWFsaXplciB7XHJcblxyXG4vLyAgICAgIC8vIE5vdGU6IHRoaXMgYXJlIG5vdCBNZW1iZXJTdWJvYmplY3RFbnRpdHkgc2luY2UgdGhleSBtaWdodCBuZWVkIHRvIGFwcGx5IHRvIGEgbmVzdGVkIGFycmF5IGluc2lkZSBhbiBhcnJheSBtZW1iZXJcclxuLy8gICAgIHB1YmxpYyByZWFkb25seSB0YXJnZXQ6IE9iamVjdEVudGl0eTxCb3VuZGVkQXJyYXlUeXBlPjtcclxuLy8gICAgIHB1YmxpYyByZWFkb25seSBvdGhlck1lbWJlcjogT2JqZWN0RW50aXR5PEJvdW5kZWRBcnJheVR5cGU+O1xyXG4gICAgXHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgZWxlbWVudEluaXRpYWxpemVyczogRGlyZWN0SW5pdGlhbGl6ZXJbXSA9IFtdO1xyXG5cclxuLy8gICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCB0YXJnZXQ6IE9iamVjdEVudGl0eTxCb3VuZGVkQXJyYXlUeXBlPixcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICBvdGhlck1lbWJlcjogT2JqZWN0RW50aXR5PEJvdW5kZWRBcnJheVR5cGU+KSB7XHJcbi8vICAgICAgICAgc3VwZXIoY29udGV4dCk7XHJcbiAgICAgICAgXHJcbi8vICAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcbi8vICAgICAgICAgdGhpcy5vdGhlck1lbWJlciA9IG90aGVyTWVtYmVyO1xyXG4vLyAgICAgICAgIGxldCB0YXJnZXRUeXBlID0gdGFyZ2V0LnR5cGU7XHJcblxyXG4vLyAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0YXJnZXRUeXBlLmxlbmd0aDsgKytpKSB7XHJcbi8vICAgICAgICAgICAgIGxldCBlbGVtSW5pdDtcclxuLy8gICAgICAgICAgICAgLy8gQ09NTUVOVEVEIEJFTE9XIEJFQ0FVU0UgTVVMVElESU1FTlNJT05BTCBBUlJBWVMgQVJFIE5PVCBBTExPV0VEXHJcbi8vICAgICAgICAgICAgIC8vIGlmICh0YXJnZXRUeXBlLmVsZW1UeXBlIGluc3RhbmNlb2YgQm91bmRlZEFycmF5VHlwZSkge1xyXG4vLyAgICAgICAgICAgICAvLyAgICAgZWxlbUluaXQgPSBuZXcgQXJyYXlNZW1iZXJJbml0aWFsaXplcihjb250ZXh0LFxyXG4vLyAgICAgICAgICAgICAvLyAgICAgICAgIG5ldyBBcnJheVN1Ym9iamVjdEVudGl0eSh0YXJnZXQsIGkpLFxyXG4vLyAgICAgICAgICAgICAvLyAgICAgICAgIG5ldyBBcnJheVN1Ym9iamVjdEVudGl0eSg8T2JqZWN0RW50aXR5PEJvdW5kZWRBcnJheVR5cGU8Qm91bmRlZEFycmF5VHlwZT4+Pm90aGVyTWVtYmVyLCBpKSk7XHJcbi8vICAgICAgICAgICAgIC8vIH1cclxuLy8gICAgICAgICAgICAgLy8gZWxzZSB7XHJcbi8vICAgICAgICAgICAgICAgICBlbGVtSW5pdCA9IERpcmVjdEluaXRpYWxpemVyLmNyZWF0ZShjb250ZXh0LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIG5ldyBBcnJheVN1Ym9iamVjdEVudGl0eSh0YXJnZXQsIGkpLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIFtuZXcgRW50aXR5RXhwcmVzc2lvbihjb250ZXh0LCBuZXcgQXJyYXlTdWJvYmplY3RFbnRpdHkob3RoZXJNZW1iZXIsIGkpKV0pO1xyXG4vLyAgICAgICAgICAgICAvLyB9XHJcblxyXG4vLyAgICAgICAgICAgICB0aGlzLmVsZW1lbnRJbml0aWFsaXplcnMucHVzaChlbGVtSW5pdCk7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYXR0YWNoKGVsZW1Jbml0KTtcclxuXHJcbi8vICAgICAgICAgICAgIGlmKGVsZW1Jbml0Lmhhc0Vycm9ycykge1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmluaXQuYXJyYXlfZGlyZWN0X2luaXQodGhpcykpO1xyXG4vLyAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbiAgICAgICAgXHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVJbml0aWFsaXplcih0aGlzOiBDb21waWxlZEFycmF5TWVtYmVySW5pdGlhbGl6ZXIsIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4vLyAgICAgICAgIHJldHVybiBuZXcgUnVudGltZUFycmF5TWVtYmVySW5pdGlhbGl6ZXIodGhpcywgcGFyZW50KTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgZXhwbGFpbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KSA6IEV4cGxhbmF0aW9uIHtcclxuLy8gICAgICAgICBsZXQgdGFyZ2V0RGVzYyA9IHRoaXMudGFyZ2V0LmRlc2NyaWJlKCk7XHJcbi8vICAgICAgICAgbGV0IHRhcmdldFR5cGUgPSB0aGlzLnRhcmdldC50eXBlO1xyXG4vLyAgICAgICAgIGxldCBvdGhlck1lbWJlckRlc2MgPSB0aGlzLm90aGVyTWVtYmVyLmRlc2NyaWJlKCk7XHJcbiAgICAgICAgXHJcbi8vICAgICAgICAgaWYgKHRhcmdldFR5cGUubGVuZ3RoID09PSAwKSB7XHJcbi8vICAgICAgICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJObyBpbml0aWFsaXphdGlvbiBpcyBwZXJmb3JtZWQgZm9yIFwiICsgKHRhcmdldERlc2MubmFtZSB8fCB0YXJnZXREZXNjLm1lc3NhZ2UpICsgXCJiZWNhdXNlIHRoZSBhcnJheSBoYXMgbGVuZ3RoIDAuXCJ9O1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNlIHtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcIkVhY2ggZWxlbWVudCBvZiBcIiArICh0YXJnZXREZXNjLm5hbWUgfHwgdGFyZ2V0RGVzYy5tZXNzYWdlKSArIFwiIHdpbGwgYmUgZGVmYXVsdC1pbml0aWFsaXplZCB3aXRoIHRoZSB2YWx1ZSBvZiB0aGVcIlxyXG4vLyAgICAgICAgICAgICAgICAgKyBcImNvcnJlc3BvbmRpbmcgZWxlbWVudCBvZiBcIiArIChvdGhlck1lbWJlckRlc2MubmFtZSB8fCBvdGhlck1lbWJlckRlc2MubWVzc2FnZSkgKyBcIi4gRm9yIGV4YW1wbGUsIFwiICtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudEluaXRpYWxpemVyc1swXS5leHBsYWluKHNpbSwgcnRDb25zdHJ1Y3QpIH07XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG4vLyB9XHJcblxyXG4vLyBleHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkQXJyYXlNZW1iZXJJbml0aWFsaXplciBleHRlbmRzIEFycmF5TWVtYmVySW5pdGlhbGl6ZXIsIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuLy8gICAgIHJlYWRvbmx5IGVsZW1lbnRJbml0aWFsaXplcnM6IENvbXBpbGVkRGlyZWN0SW5pdGlhbGl6ZXJbXTtcclxuLy8gfVxyXG5cclxuLy8gZXhwb3J0IGNsYXNzIFJ1bnRpbWVBcnJheU1lbWJlckluaXRpYWxpemVyIGV4dGVuZHMgUnVudGltZUluaXRpYWxpemVyPENvbXBpbGVkQXJyYXlNZW1iZXJJbml0aWFsaXplcj4ge1xyXG5cclxuLy8gICAgIHB1YmxpYyByZWFkb25seSB0YXJnZXQ6IENQUE9iamVjdDxCb3VuZGVkQXJyYXlUeXBlPjtcclxuLy8gICAgIHB1YmxpYyByZWFkb25seSBlbGVtZW50SW5pdGlhbGl6ZXJzOiBSdW50aW1lRGlyZWN0SW5pdGlhbGl6ZXJbXTtcclxuXHJcbi8vICAgICBwcml2YXRlIGluZGV4ID0gMDtcclxuXHJcbi8vICAgICBwdWJsaWMgY29uc3RydWN0b3IgKG1vZGVsOiBDb21waWxlZEFycmF5TWVtYmVySW5pdGlhbGl6ZXIsIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4vLyAgICAgICAgIHN1cGVyKG1vZGVsLCBwYXJlbnQpO1xyXG4vLyAgICAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5tb2RlbC50YXJnZXQucnVudGltZUxvb2t1cCh0aGlzKTtcclxuLy8gICAgICAgICB0aGlzLmVsZW1lbnRJbml0aWFsaXplcnMgPSB0aGlzLm1vZGVsLmVsZW1lbnRJbml0aWFsaXplcnMubWFwKChlbGVtSW5pdCkgPT4ge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gZWxlbUluaXQuY3JlYXRlUnVudGltZUluaXRpYWxpemVyKHRoaXMpO1xyXG4vLyAgICAgICAgIH0pO1xyXG4vLyAgICAgfVxyXG5cdFxyXG4vLyAgICAgcHJvdGVjdGVkIHVwTmV4dEltcGwoKSB7XHJcbi8vICAgICAgICAgaWYgKHRoaXMuZWxlbWVudEluaXRpYWxpemVycyAmJiB0aGlzLmluZGV4IDwgdGhpcy5lbGVtZW50SW5pdGlhbGl6ZXJzLmxlbmd0aCkge1xyXG4vLyAgICAgICAgICAgICB0aGlzLnNpbS5wdXNoKHRoaXMuZWxlbWVudEluaXRpYWxpemVyc1t0aGlzLmluZGV4KytdKVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNlIHtcclxuLy8gICAgICAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJpbml0aWFsaXplZFwiLCB0aGlzLnRhcmdldCk7XHJcbi8vICAgICAgICAgICAgIHRoaXMuc2ltLnBvcCgpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgc3RlcEZvcndhcmRJbXBsKCkge1xyXG4vLyAgICAgICAgIC8vIGRvIG5vdGhpbmdcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vIGV4cG9ydCB2YXIgUGFyYW1ldGVySW5pdGlhbGl6ZXIgPSBDb3B5SW5pdGlhbGl6ZXIuZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lIDogXCJQYXJhbWV0ZXJJbml0aWFsaXplclwiLFxyXG5cclxuLy8gICAgIGV4cGxhaW4gOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuLy8gICAgICAgICB2YXIgZXhwID0gUGFyYW1ldGVySW5pdGlhbGl6ZXIuX3BhcmVudC5leHBsYWluLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbi8vICAgICAgICAgZXhwLm1lc3NhZ2UgPSBleHAubWVzc2FnZSArIFwiXFxuXFxuKFBhcmFtZXRlciBwYXNzaW5nIGlzIGRvbmUgYnkgY29weS1pbml0aWFsaXphdGlvbi4pXCI7XHJcbi8vICAgICAgICAgcmV0dXJuIGV4cDtcclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG4vLyBleHBvcnQgdmFyIFJldHVybkluaXRpYWxpemVyID0gQ29weUluaXRpYWxpemVyLmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZSA6IFwiUmV0dXJuSW5pdGlhbGl6ZXJcIixcclxuXHJcbi8vICAgICBzdGVwRm9yd2FyZCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuXHJcbi8vICAgICAgICAgLy8gTmVlZCB0byBoYW5kbGUgcmV0dXJuLWJ5LXJlZmVyZW5jZSBkaWZmZXJlbnRseSwgc2luY2UgdGhlcmUgaXMgbm8gYWN0dWFsIHJlZmVyZW5jZSB0aGF0XHJcbi8vICAgICAgICAgLy8gZ2V0cyBib3VuZC4gKFRoZSBydW50aW1lTG9va3VwIGZvciB0aGUgcmV0dXJuIGVudGl0eSB3b3VsZCB5aWVsZCBudWxsKS4gSW5zdGVhZCwgd2UganVzdFxyXG4vLyAgICAgICAgIC8vIHNldCB0aGUgcmV0dXJuIG9iamVjdCBmb3IgdGhlIGVuY2xvc2luZyBmdW5jdGlvbiB0byB0aGUgZXZhbHVhdGVkIGFyZ3VtZW50ICh3aGljaCBzaG91bGRcclxuLy8gICAgICAgICAvLyBoYXZlIHlpZWxkZWQgYW4gb2JqZWN0KS5cclxuLy8gICAgICAgICBpZiAoaXNBKHRoaXMuZW50aXR5LnR5cGUsIFR5cGVzLlJlZmVyZW5jZSkpIHtcclxuLy8gICAgICAgICAgICAgaW5zdC5jb250YWluaW5nUnVudGltZUZ1bmN0aW9uKCkuc2V0UmV0dXJuVmFsdWUoaW5zdC5jaGlsZEluc3RhbmNlcy5hcmdzWzBdLmV2YWxSZXN1bHQpO1xyXG4vLyAgICAgICAgICAgICB0aGlzLmRvbmUoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgcmV0dXJuIFJldHVybkluaXRpYWxpemVyLl9wYXJlbnQuc3RlcEZvcndhcmQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG4vLyBleHBvcnQgdmFyIE1lbWJlckluaXRpYWxpemVyID0gRGlyZWN0SW5pdGlhbGl6ZXIuZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lIDogXCJNZW1iZXJJbml0aWFsaXplclwiLFxyXG4vLyAgICAgaXNNZW1iZXJJbml0aWFsaXplcjogdHJ1ZVxyXG4vLyB9KTtcclxuXHJcbi8vIGV4cG9ydCB2YXIgRGVmYXVsdE1lbWJlckluaXRpYWxpemVyID0gRGVmYXVsdEluaXRpYWxpemVyLmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZSA6IFwiRGVmYXVsdE1lbWJlckluaXRpYWxpemVyXCIsXHJcbi8vICAgICBpc01lbWJlckluaXRpYWxpemVyOiB0cnVlXHJcbi8vIH0pO1xyXG5cclxuLy8gZXhwb3J0IHZhciBOZXdEaXJlY3RJbml0aWFsaXplciA9IERpcmVjdEluaXRpYWxpemVyLmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZSA6IFwiTmV3RGlyZWN0SW5pdGlhbGl6ZXJcIixcclxuLy8gICAgIGlfcnVudGltZUNvbnN0cnVjdENsYXNzIDogUnVudGltZU5ld0luaXRpYWxpemVyXHJcbi8vIH0pO1xyXG5cclxuXHJcbi8vIGV4cG9ydCB2YXIgTmV3RGVmYXVsdEluaXRpYWxpemVyID0gRGVmYXVsdEluaXRpYWxpemVyLmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZSA6IFwiTmV3RGVmYXVsdEluaXRpYWxpemVyXCIsXHJcbi8vICAgICBpX3J1bnRpbWVDb25zdHJ1Y3RDbGFzcyA6IFJ1bnRpbWVOZXdJbml0aWFsaXplclxyXG4vLyB9KTtcclxuXHJcblxyXG5cclxuLy8gZXhwb3J0IHZhciBJbml0aWFsaXplckxpc3QgPSBDUFBDb25zdHJ1Y3QuZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lIDogXCJJbml0aWFsaXplckxpc3RcIixcclxuLy8gICAgIGluaXQ6IGZ1bmN0aW9uKGFzdCwgY29udGV4dCkge1xyXG4vLyAgICAgICAgIHRoaXMuaW5pdFBhcmVudChhc3QsIGNvbnRleHQpO1xyXG4vLyAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZXJMaXN0TGVuZ3RoID0gYXN0LmFyZ3MubGVuZ3RoO1xyXG4vLyAgICAgfSxcclxuLy8gICAgIGNvbXBpbGUgOiBmdW5jdGlvbihlbnRpdHkpe1xyXG4vLyAgICAgICAgIGFzc2VydChlbnRpdHksIFwiSW5pdGlhbGl6ZXIgY29udGV4dCBtdXN0IHNwZWNpZnkgZW50aXR5IHRvIGJlIGluaXRpYWxpemVkIVwiKTtcclxuLy8gICAgICAgICB0aGlzLmlfZW50aXR5VG9Jbml0aWFsaXplID0gZW50aXR5O1xyXG4vLyAgICAgICAgIHZhciBhc3QgPSB0aGlzLmFzdDtcclxuLy8gICAgICAgICB2YXIgdHlwZSA9IHRoaXMuaV9lbnRpdHlUb0luaXRpYWxpemUudHlwZTtcclxuXHJcbi8vICAgICAgICAgaWYgKCFpc0EodHlwZSwgVHlwZXMuQXJyYXkpKXtcclxuLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmluaXQubGlzdF9hcnJheSh0aGlzKSk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2UgaWYgKHR5cGUubGVuZ3RoICE9PSBhc3QuYXJncy5sZW5ndGgpe1xyXG4vLyAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uaW5pdC5saXN0X2xlbmd0aCh0aGlzLCB0eXBlLmxlbmd0aCkpO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgaWYgKHRoaXMuaGFzRXJyb3JzKCkpeyByZXR1cm47IH1cclxuXHJcbi8vICAgICAgICAgdmFyIGxpc3QgPSBhc3QuYXJncztcclxuLy8gICAgICAgICAvL3RoaXMuaW5pdGlhbGl6ZXJMaXN0ID0gW107XHJcbi8vICAgICAgICAgdGhpcy5pX2NoaWxkcmVuVG9FeGVjdXRlID0gW107XHJcbi8vICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpe1xyXG4vLyAgICAgICAgICAgICB2YXIgaW5pdExpc3RFbGVtID0gdGhpc1tcImFyZ1wiK2ldID0gdGhpcy5pX2NyZWF0ZUFuZENvbXBpbGVDaGlsZEV4cHIobGlzdFtpXSwgdHlwZS5lbGVtVHlwZSk7XHJcbi8vICAgICAgICAgICAgIHRoaXMuaV9jaGlsZHJlblRvRXhlY3V0ZS5wdXNoKFwiYXJnXCIraSk7XHJcblxyXG4vLyAgICAgICAgICAgICBpZighc2FtZVR5cGUoaW5pdExpc3RFbGVtLnR5cGUsIHR5cGUuZWxlbVR5cGUpKXtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5pbml0LmNvbnZlcnQoaW5pdExpc3RFbGVtLCBpbml0TGlzdEVsZW0udHlwZSwgdHlwZS5lbGVtVHlwZSkpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGVsc2UgaWYgKGluaXRMaXN0RWxlbS5pc05hcnJvd2luZ0NvbnZlcnNpb24pe1xyXG4vLyAgICAgICAgICAgICAgICAgLy8gVE9ETzogYXMgb2Ygbm93LCBzdGlsbCBuZWVkIHRvIGFkZCBjb2RlIHRoYXQgaWRlbnRpZmllcyBjZXJ0YWluIGNvbnZlcnNpb25zIGFzIG5hcnJvd2luZ1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmluaXQubGlzdF9uYXJyb3dpbmcoaW5pdExpc3RFbGVtLCBpbml0TGlzdEVsZW0uZnJvbS50eXBlLCB0eXBlLmVsZW1UeXBlKSk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgLy90aGlzLmluaXRpYWxpemVyTGlzdC5wdXNoKGluaXRMaXN0RWxlbSk7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICByZXR1cm47XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIHN0ZXBGb3J3YXJkIDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbi8vICAgICAgICAgaWYgKGluc3QuaW5kZXggIT09IFwiYWZ0ZXJDaGlsZHJlblwiKXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICB2YXIgb2JqID0gdGhpcy5pX2VudGl0eVRvSW5pdGlhbGl6ZS5ydW50aW1lTG9va3VwKHNpbSwgaW5zdCk7XHJcblxyXG4vLyAgICAgICAgIHZhciBhcnIgPSBbXTtcclxuLy8gICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5pbml0aWFsaXplckxpc3RMZW5ndGg7ICsraSl7XHJcbi8vICAgICAgICAgICAgIGFycltpXSA9IGluc3QuY2hpbGRJbnN0YW5jZXNbXCJhcmdcIitpXS5ldmFsUmVzdWx0LmdldFZhbHVlKCk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIG9iai53cml0ZVZhbHVlKGFycik7XHJcblxyXG4vLyAgICAgICAgIGluc3QuaW5kZXggPSBcImRvbmVcIjtcclxuLy8gICAgICAgICB0aGlzLmRvbmUoc2ltLCBpbnN0KTtcclxuLy8gICAgIH1cclxuLy8gfSk7XHJcbiIsImltcG9ydCB7IEJhc2ljQ1BQQ29uc3RydWN0LCAgQVNUTm9kZSwgQ1BQQ29uc3RydWN0LCBTdWNjZXNzZnVsbHlDb21waWxlZCwgSW52YWxpZENvbnN0cnVjdCwgVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgRnVuY3Rpb25Db250ZXh0LCBjcmVhdGVGdW5jdGlvbkNvbnRleHQsIGlzQmxvY2tDb250ZXh0LCBSdW50aW1lRnVuY3Rpb24sIEJsb2NrQ29udGV4dCB9IGZyb20gXCIuL2NvbnN0cnVjdHNcIjtcclxuaW1wb3J0IHsgQ1BQRXJyb3IsIE5vdGUgfSBmcm9tIFwiLi9lcnJvcnNcIjtcclxuaW1wb3J0IHsgYXNNdXRhYmxlLCBhc3NlcnRGYWxzZSwgYXNzZXJ0LCBNdXRhYmxlIH0gZnJvbSBcIi4uL3V0aWwvdXRpbFwiO1xyXG5pbXBvcnQgeyBUeXBlLCBWb2lkVHlwZSwgQXJyYXlPZlVua25vd25Cb3VuZFR5cGUsIEZ1bmN0aW9uVHlwZSwgT2JqZWN0VHlwZSwgUmVmZXJlbmNlVHlwZSwgUG90ZW50aWFsUGFyYW1ldGVyVHlwZSwgQm91bmRlZEFycmF5VHlwZSwgUG9pbnRlclR5cGUsIGJ1aWx0SW5UeXBlcywgaXNCdWlsdEluVHlwZU5hbWUsIENsYXNzVHlwZSwgUG90ZW50aWFsUmV0dXJuVHlwZSB9IGZyb20gXCIuL3R5cGVzXCI7XHJcbmltcG9ydCB7IEluaXRpYWxpemVyLCBEZWZhdWx0SW5pdGlhbGl6ZXIsIERpcmVjdEluaXRpYWxpemVyLCBDb3B5SW5pdGlhbGl6ZXIsIEluaXRpYWxpemVyQVNUTm9kZSwgQ29tcGlsZWRJbml0aWFsaXplciB9IGZyb20gXCIuL2luaXRpYWxpemVyc1wiO1xyXG5pbXBvcnQgeyBBdXRvRW50aXR5LCBMb2NhbFJlZmVyZW5jZUVudGl0eSwgU3RhdGljRW50aXR5LCBOYW1lc3BhY2VTY29wZSwgVmFyaWFibGVFbnRpdHksIENQUEVudGl0eSwgRnVuY3Rpb25FbnRpdHkgfSBmcm9tIFwiLi9lbnRpdGllc1wiO1xyXG5pbXBvcnQgeyBFeHByZXNzaW9uQVNUTm9kZSwgTnVtZXJpY0xpdGVyYWxBU1ROb2RlLCBjcmVhdGVFeHByZXNzaW9uRnJvbUFTVCwgcGFyc2VOdW1lcmljTGl0ZXJhbFZhbHVlRnJvbUFTVCB9IGZyb20gXCIuL2V4cHJlc3Npb25zXCI7XHJcbmltcG9ydCB7IEJsb2NrQVNUTm9kZSwgQmxvY2ssIGNyZWF0ZVN0YXRlbWVudEZyb21BU1QsIENvbXBpbGVkQmxvY2sgfSBmcm9tIFwiLi9zdGF0ZW1lbnRzXCI7XHJcbmltcG9ydCB7IElkZW50aWZpZXJBU1ROb2RlLCBjaGVja0lkZW50aWZpZXIgfSBmcm9tIFwiLi9sZXhpY2FsXCI7XHJcbmltcG9ydCB7IENQUE9iamVjdCB9IGZyb20gXCIuL29iamVjdHNcIjtcclxuaW1wb3J0IHsgUnVudGltZUZ1bmN0aW9uQ2FsbCB9IGZyb20gXCIuL2Z1bmN0aW9uQ2FsbFwiO1xyXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4vZXhwcmVzc2lvbkJhc2VcIjtcclxuXHJcbmV4cG9ydCB0eXBlIFN0b3JhZ2VTcGVjaWZpZXJLZXkgPSBcInJlZ2lzdGVyXCIgfCBcInN0YXRpY1wiIHwgXCJ0aHJlYWRfbG9jYWxcIiB8IFwiZXh0ZXJuXCIgfCBcIm11dGFibGVcIjtcclxuXHJcbmV4cG9ydCB0eXBlIFN0b3JhZ2VTcGVjaWZpZXJBU1ROb2RlID0gcmVhZG9ubHkgU3RvcmFnZVNwZWNpZmllcktleVtdO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0b3JhZ2VTcGVjaWZpZXIgZXh0ZW5kcyBCYXNpY0NQUENvbnN0cnVjdCB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHJlZ2lzdGVyPzogdHJ1ZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBzdGF0aWM/OiB0cnVlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHRocmVhZF9sb2NhbD86IHRydWU7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZXh0ZXJuPzogdHJ1ZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBtdXRhYmxlPzogdHJ1ZTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNFbXB0eTogYm9vbGVhbjtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUZyb21BU1QoYXN0OiBTdG9yYWdlU3BlY2lmaWVyQVNUTm9kZSwgY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgU3RvcmFnZVNwZWNpZmllcihjb250ZXh0LCBhc3QpO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCBzcGVjczogcmVhZG9ubHkgU3RvcmFnZVNwZWNpZmllcktleVtdKSB7XHJcbiAgICAgICAgc3VwZXIoY29udGV4dClcclxuICAgICAgICBcclxuICAgICAgICBsZXQgbnVtU3BlY3MgPSAwOyAvLyBjb3VudCBzcGVjcyBzZXBhcmF0ZWx5IHRvIGdldCBhIGNvdW50IHdpdGhvdXQgZHVwbGljYXRlc1xyXG4gICAgICAgIHNwZWNzLmZvckVhY2goKHNwZWMpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXNbc3BlY10pIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIGl0IHdhcyBhbHJlYWR5IHRydWUsIHdlIG11c3QgYmUgcHJvY2Vzc2luZyBhIGR1cGxpY2F0ZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLnN0b3JhZ2Uub25jZSh0aGlzLCBzcGVjKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhc011dGFibGUodGhpcylbc3BlY10gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgKytudW1TcGVjcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zdGF0aWMpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmxvYnN0ZXIudW5zdXBwb3J0ZWRfZmVhdHVyZSh0aGlzLCBcInN0YXRpY1wiKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5leHRlcm4pIHtcclxuICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmxvYnN0ZXIudW5zdXBwb3J0ZWRfZmVhdHVyZSh0aGlzLCBcImV4dGVyblwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0aGlzLnRocmVhZF9sb2NhbCkge1xyXG4gICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IubG9ic3Rlci51bnN1cHBvcnRlZF9mZWF0dXJlKHRoaXMsIFwidGhyZWFkX2xvY2FsXCIpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnJlZ2lzdGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5sb2JzdGVyLnVuc3VwcG9ydGVkX2ZlYXR1cmUodGhpcywgXCJyZWdpc3RlclwiKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5tdXRhYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5sb2JzdGVyLnVuc3VwcG9ydGVkX2ZlYXR1cmUodGhpcywgXCJtdXRhYmxlXCIpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIDAgc3BlY2lmaWVycyBpcyBva1xyXG4gICAgICAgIC8vIDEgc3BlY2lmaWVyIGlzIG9rXHJcbiAgICAgICAgLy8gMiBzcGVjaWZpZXJzIG9ubHkgb2sgaWYgb25lIGlzIHRocmVhZF9sb2NhbCBhbmQgdGhlIG90aGVyIGlzIHN0YXRpYy9leHRlcm5cclxuICAgICAgICAvLyAzIG9yIG1vcmUgc3BlY2lmaWVycyBhcmUgYWx3YXlzIGluY29tcGF0aWJsZVxyXG4gICAgICAgIGlmIChudW1TcGVjcyA8IDIgfHxcclxuICAgICAgICAgICAgbnVtU3BlY3MgPT0gMiAmJiB0aGlzLnRocmVhZF9sb2NhbCAmJiAodGhpcy5zdGF0aWMgfHwgdGhpcy5leHRlcm4pKXtcclxuICAgICAgICAgICAgLy9va1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uc3RvcmFnZS5pbmNvbXBhdGlibGUodGhpcywgc3BlY3MpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaXNFbXB0eSA9IChudW1TcGVjcyA9PT0gMCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFNpbXBsZVR5cGVOYW1lID0gc3RyaW5nIHwgXCJjaGFyXCIgfCBcInNob3J0XCIgfCBcImludFwiIHwgXCJib29sXCIgfCBcImxvbmdcIiB8IFwic2lnbmVkXCIgfCBcInVuc2lnbmVkXCIgfCBcImZsb2F0XCIgfCBcImRvdWJsZVwiIHwgXCJ2b2lkXCI7XHJcbmV4cG9ydCB0eXBlIFR5cGVTcGVjaWZpZXJLZXkgID0gXCJjb25zdFwiIHwgXCJ2b2xhdGlsZVwiIHwgXCJzaWduZWRcIiB8IFwidW5zaWduZWRcIiB8IFwiZW51bVwiO1xyXG5cclxuZXhwb3J0IHR5cGUgVHlwZVNwZWNpZmllckFTVE5vZGUgPSByZWFkb25seSAoVHlwZVNwZWNpZmllcktleSB8IFNpbXBsZVR5cGVOYW1lKVtdO1xyXG5cclxuZXhwb3J0IGNsYXNzIFR5cGVTcGVjaWZpZXIgZXh0ZW5kcyBCYXNpY0NQUENvbnN0cnVjdCB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbnN0PzogdHJ1ZTtcclxuICAgIHB1YmxpYyByZWFkb25seSB2b2xhdGlsZT86IHRydWU7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2lnbmVkPzogdHJ1ZTtcclxuICAgIHB1YmxpYyByZWFkb25seSB1bnNpZ25lZD86IHRydWU7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZW51bT86IHRydWU7XHJcbiAgICBcclxuICAgIHB1YmxpYyByZWFkb25seSB0eXBlTmFtZT86IHN0cmluZztcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZT86IFR5cGU7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVGcm9tQVNUKGFzdDogVHlwZVNwZWNpZmllckFTVE5vZGUsIGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFR5cGVTcGVjaWZpZXIoY29udGV4dCwgYXN0KTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgc3BlY3M6IHJlYWRvbmx5IChUeXBlU3BlY2lmaWVyS2V5IHwgU2ltcGxlVHlwZU5hbWUpW10pIHtcclxuICAgICAgICBzdXBlcihjb250ZXh0KTtcclxuXHJcbiAgICAgICAgbGV0IGNvbnN0Q291bnQgPSAwO1xyXG4gICAgICAgIGxldCB2b2xhdGlsZUNvdW50ID0gMDtcclxuXHJcbiAgICAgICAgc3BlY3MuZm9yRWFjaCgoc3BlYykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoc3BlYyA9PT0gXCJlbnVtXCIpIHtcclxuICAgICAgICAgICAgICAgIGFzTXV0YWJsZSh0aGlzKS5lbnVtID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5sb2JzdGVyLnVuc3VwcG9ydGVkX2ZlYXR1cmUodGhpcywgXCJtdXRhYmxlXCIpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gY2hlY2sgdG8gc2VlIGlmIGl0J3Mgb25lIG9mIHRoZSBwb3NzaWJsZSB0eXBlIHNwZWNpZmllcnNcclxuICAgICAgICAgICAgbGV0IHBvc3NpYmxlU3BlY3MgOiByZWFkb25seSBUeXBlU3BlY2lmaWVyS2V5W10gPSBbXCJjb25zdFwiLCBcInZvbGF0aWxlXCIsIFwic2lnbmVkXCIsIFwidW5zaWduZWRcIiwgXCJlbnVtXCJdO1xyXG4gICAgICAgICAgICBsZXQgbWF0Y2hlZFNwZWMgPSBwb3NzaWJsZVNwZWNzLmZpbmQocyA9PiBzID09PSBzcGVjKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChtYXRjaGVkU3BlYykgeyAvLyBmb3VuZCBhIHR5cGUgc3BlY2lmaWVyXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpc1ttYXRjaGVkU3BlY10pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpdCB3YXMgYSBkdXBsaWNhdGVcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24udHlwZVNwZWNpZmllci5vbmNlKHRoaXMsIG1hdGNoZWRTcGVjKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBmaXJzdCB0aW1lIHRoaXMgc3BlYyBzZWVuLCBzZXQgdG8gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIGFzTXV0YWJsZSh0aGlzKVttYXRjaGVkU3BlY10gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgeyAvLyBJdCdzIGEgdHlwZW5hbWVcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnR5cGVOYW1lKSB7IC8vIGFscmVhZHkgaGFkIGEgdHlwZW5hbWUsIHRoaXMgaXMgYSBkdXBsaWNhdGVcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24udHlwZVNwZWNpZmllci5vbmVfdHlwZSh0aGlzLCBbdGhpcy50eXBlTmFtZSwgc3BlY10pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgYXNNdXRhYmxlKHRoaXMpLnR5cGVOYW1lID0gc3BlYztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGlmICh0aGlzLnVuc2lnbmVkICYmIHRoaXMuc2lnbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi50eXBlU3BlY2lmaWVyLnNpZ25lZF91bnNpZ25lZCh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiB1bnNpZ25lZC9zaWduZWQgc3BlY2lmaWVyIGlzIHByZXNlbnQgYW5kIHRoZXJlIGlzIG5vIHR5cGUgbmFtZSwgZGVmYXVsdCB0byBpbnRcclxuICAgICAgICBpZiAoKHRoaXMudW5zaWduZWQgfHwgdGhpcy5zaWduZWQpICYmICF0aGlzLnR5cGVOYW1lKSB7XHJcbiAgICAgICAgICAgIHRoaXMudHlwZU5hbWUgPSBcImludFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIHR5cGVOYW1lIGJ5IG5vdywgaXQgbWVhbnMgdGhlcmUgd2Fzbid0IG9uZS5cclxuICAgICAgICAvLyBUaGlzIChvbGQpIGNvZGUgcHJlc3VtZXMgdGhlIG9ubHkgdGltZSB0aGlzIHdvdWxkIGJlIHBhcnNlZCBzdWNjZXNzZnVsbHlcclxuICAgICAgICAvLyBhbmQgbWFrZSBpdCBoZXJlIGlzIGluIHRoZSBjb250ZXh0IG9mIGEgZnVuY3Rpb24gZGVjbGFyYXRpb24uIEkgZG9uJ3QgdGhpbmtcclxuICAgICAgICAvLyB0aGF0J3MgcXVpdGUgY29ycmVjdC5cclxuICAgICAgICAvLyBUT0RPOiBwcm9iYWJseSBnZXQgcmlkIG9mIHRoaXMgYW5kIGp1c3QgbGV0IHRoZSBmdW5jdGlvbiBkZWNsYXJhdGlvbiBjaGVjayBmb3IgdGhpc1xyXG4gICAgICAgIGlmICghdGhpcy50eXBlTmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uZnVuYy5ub19yZXR1cm5fdHlwZSh0aGlzKSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB0eXBlIG5hbWUgaXMgb25lIG9mIHRoZSBidWlsdCBpbiB0eXBlc1xyXG4gICAgICAgIGlmIChpc0J1aWx0SW5UeXBlTmFtZSh0aGlzLnR5cGVOYW1lKSkge1xyXG4gICAgICAgICAgICBhc011dGFibGUodGhpcykudHlwZSA9IG5ldyBidWlsdEluVHlwZXNbdGhpcy50eXBlTmFtZV0odGhpcy5jb25zdCwgdGhpcy52b2xhdGlsZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE90aGVyd2lzZSwgY2hlY2sgdG8gc2VlIGlmIHRoZSB0eXBlIG5hbWUgaXMgaW4gc2NvcGVcclxuICAgICAgICAvLyBUT0RPOiBhZGQgYmFjayBpbiB3aGVuIGNsYXNzZXMgYXJlIGFkZGVkXHJcbiAgICAgICAgLy8gdmFyIHNjb3BlVHlwZTtcclxuICAgICAgICAvLyBpZiAoc2NvcGVUeXBlID0gdGhpcy5jb250ZXh0dWFsU2NvcGUubG9va3VwKHRoaXMudHlwZU5hbWUpKXtcclxuICAgICAgICAvLyAgICAgaWYgKHNjb3BlVHlwZSBpbnN0YW5jZW9mIFR5cGVFbnRpdHkpe1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy50eXBlID0gbmV3IHNjb3BlVHlwZS50eXBlKHRoaXMuY29uc3QsIHRoaXMudm9sYXRpbGUpO1xyXG4gICAgICAgIC8vICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IudHlwZS50eXBlTm90Rm91bmQodGhpcywgdGhpcy50eXBlTmFtZSkpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcbmludGVyZmFjZSBPdGhlclNwZWNpZmllcnMge1xyXG4gICAgcmVhZG9ubHkgdmlydHVhbD8gOiBib29sZWFuO1xyXG4gICAgcmVhZG9ubHkgdHlwZWRlZj8gOiBib29sZWFuO1xyXG4gICAgcmVhZG9ubHkgZnJpZW5kPyA6IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRGVjbGFyYXRpb25TcGVjaWZpZXJzQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSB0eXBlU3BlY3M6IFR5cGVTcGVjaWZpZXJBU1ROb2RlO1xyXG4gICAgcmVhZG9ubHkgc3RvcmFnZVNwZWNzOiBTdG9yYWdlU3BlY2lmaWVyQVNUTm9kZTtcclxuICAgIHJlYWRvbmx5IGZyaWVuZD86IGJvb2xlYW47XHJcbiAgICByZWFkb25seSB0eXBlZGVmPzogYm9vbGVhbjtcclxuICAgIHJlYWRvbmx5IGlubGluZT86IGJvb2xlYW47XHJcbiAgICByZWFkb25seSBleHBsaWNpdD86IGJvb2xlYW47XHJcbiAgICByZWFkb25seSB2aXJ0dWFsPzogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgRGVjbGFyYXRpb25BU1ROb2RlID0gU2ltcGxlRGVjbGFyYXRpb25BU1ROb2RlIHwgRnVuY3Rpb25EZWZpbml0aW9uQVNUTm9kZTsvLyB8IENsYXNzRGVmaW5pdGlvbkFTVE5vZGVcclxuXHJcbmV4cG9ydCB0eXBlIERlY2xhcmF0aW9uID0gU2ltcGxlRGVjbGFyYXRpb24gfCBGdW5jdGlvbkRlZmluaXRpb247XHJcblxyXG5cclxuaW50ZXJmYWNlIHRfRGVjbGFyYXRpb25UeXBlcyB7XHJcbiAgICBcInNpbXBsZV9kZWNsYXJhdGlvblwiOiBTaW1wbGVEZWNsYXJhdGlvbjtcclxuICAgIFwiZnVuY3Rpb25fZGVmaW5pdGlvblwiOiBGdW5jdGlvbkRlZmluaXRpb247XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEZWNsYXJhdGlvbkZyb21BU1QoYXN0OiBTaW1wbGVEZWNsYXJhdGlvbkFTVE5vZGUsIGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQpIDogU2ltcGxlRGVjbGFyYXRpb25bXTtcclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURlY2xhcmF0aW9uRnJvbUFTVChhc3Q6IEZ1bmN0aW9uRGVmaW5pdGlvbkFTVE5vZGUsIGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQpIDogRnVuY3Rpb25EZWZpbml0aW9uO1xyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRGVjbGFyYXRpb25Gcm9tQVNUKGFzdDogRGVjbGFyYXRpb25BU1ROb2RlLCBjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0KSA6IFNpbXBsZURlY2xhcmF0aW9uW10gfCBGdW5jdGlvbkRlZmluaXRpb247XHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEZWNsYXJhdGlvbkZyb21BU1QoYXN0OiBEZWNsYXJhdGlvbkFTVE5vZGUsIGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQpIHtcclxuICAgIGlmIChhc3QuY29uc3RydWN0X3R5cGUgPT09IFwic2ltcGxlX2RlY2xhcmF0aW9uXCIpIHtcclxuICAgICAgICByZXR1cm4gY3JlYXRlU2ltcGxlRGVjbGFyYXRpb25Gcm9tQVNUKGFzdCwgY29udGV4dCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gRnVuY3Rpb25EZWZpbml0aW9uLmNyZWF0ZUZyb21BU1QoYXN0LCBjb250ZXh0KTtcclxuICAgIH1cclxufSBcclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2ltcGxlRGVjbGFyYXRpb25Gcm9tQVNUKGFzdDogU2ltcGxlRGVjbGFyYXRpb25BU1ROb2RlLCBjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0KSB7XHJcblxyXG4gICAgLy8gTmVlZCB0byBjcmVhdGUgVHlwZVNwZWNpZmllciBmaXJzdCB0byBnZXQgdGhlIGJhc2UgdHlwZSBmaXJzdCBmb3IgdGhlIGRlY2xhcmF0b3JzXHJcbiAgICBsZXQgdHlwZVNwZWMgPSBUeXBlU3BlY2lmaWVyLmNyZWF0ZUZyb21BU1QoYXN0LnNwZWNzLnR5cGVTcGVjcywgY29udGV4dCk7XHJcbiAgICBsZXQgYmFzZVR5cGUgPSB0eXBlU3BlYy50eXBlO1xyXG4gICAgbGV0IHN0b3JhZ2VTcGVjID0gU3RvcmFnZVNwZWNpZmllci5jcmVhdGVGcm9tQVNUKGFzdC5zcGVjcy5zdG9yYWdlU3BlY3MsIGNvbnRleHQpO1xyXG5cclxuICAgIC8vIFVzZSBtYXAgdG8gY3JlYXRlIGFuIGFycmF5IG9mIHRoZSBpbmRpdmlkdWFsIGRlY2xhcmF0aW9ucyAoc2luY2UgbXVsdGlwbGUgb24gdGhlIHNhbWUgbGluZVxyXG4gICAgLy8gd2lsbCByZXN1bHQgaW4gYSBzaW5nbGUgQVNUIG5vZGUgYW5kIG5lZWQgdG8gYmUgYnJva2VuIHVwKVxyXG4gICAgcmV0dXJuIGFzdC5kZWNsYXJhdG9ycy5tYXAoKGRlY2xBU1QpID0+IHtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIGRlY2xhcmF0b3IgYW5kIGRldGVybWluZSBkZWNsYXJlZCB0eXBlXHJcbiAgICAgICAgbGV0IGRlY2xhcmF0b3IgPSBEZWNsYXJhdG9yLmNyZWF0ZUZyb21BU1QoZGVjbEFTVCwgY29udGV4dCwgYmFzZVR5cGUpO1xyXG4gICAgICAgIGxldCBkZWNsYXJlZFR5cGUgPSBkZWNsYXJhdG9yLnR5cGU7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgZGVjbGFyYXRpb24gaXRzZWxmLiBXaGljaCBraW5kIGRlcGVuZHMgb24gdGhlIGRlY2xhcmVkIHR5cGVcclxuICAgICAgICBsZXQgZGVjbGFyYXRpb246IFNpbXBsZURlY2xhcmF0aW9uO1xyXG4gICAgICAgIGlmICghZGVjbGFyZWRUeXBlKSB7XHJcbiAgICAgICAgICAgIGRlY2xhcmF0aW9uID0gbmV3IFVua25vd25UeXBlRGVjbGFyYXRpb24oY29udGV4dCwgdHlwZVNwZWMsIHN0b3JhZ2VTcGVjLCBkZWNsYXJhdG9yLCBhc3Quc3BlY3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChhc3Quc3BlY3MuZnJpZW5kKSB7XHJcbiAgICAgICAgICAgIGRlY2xhcmF0aW9uID0gbmV3IEZyaWVuZERlY2xhcmF0aW9uKGNvbnRleHQsIHR5cGVTcGVjLCBzdG9yYWdlU3BlYywgZGVjbGFyYXRvciwgYXN0LnNwZWNzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYXN0LnNwZWNzLnR5cGVkZWYpIHtcclxuICAgICAgICAgICAgZGVjbGFyYXRpb24gPSBuZXcgVHlwZWRlZkRlY2xhcmF0aW9uKGNvbnRleHQsIHR5cGVTcGVjLCBzdG9yYWdlU3BlYywgZGVjbGFyYXRvciwgYXN0LnNwZWNzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZGVjbGFyZWRUeXBlLmlzVm9pZFR5cGUoKSkge1xyXG4gICAgICAgICAgICBkZWNsYXJhdGlvbiA9IG5ldyBWb2lkRGVjbGFyYXRpb24oY29udGV4dCwgdHlwZVNwZWMsIHN0b3JhZ2VTcGVjLCBkZWNsYXJhdG9yLCBhc3Quc3BlY3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChkZWNsYXJlZFR5cGUuaXNGdW5jdGlvblR5cGUoKSkge1xyXG4gICAgICAgICAgICBkZWNsYXJhdGlvbiA9IG5ldyBGdW5jdGlvbkRlY2xhcmF0aW9uKGNvbnRleHQsIHR5cGVTcGVjLCBzdG9yYWdlU3BlYywgZGVjbGFyYXRvciwgYXN0LnNwZWNzLCBkZWNsYXJlZFR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChkZWNsYXJlZFR5cGUuaXNBcnJheU9mVW5rbm93bkJvdW5kVHlwZSgpKSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE86IGl0IG1heSBiZSBwb3NzaWJsZSB0byBkZXRlcm1pbmUgdGhlIGJvdW5kIGZyb20gdGhlIGluaXRpYWxpemVyXHJcbiAgICAgICAgICAgIGRlY2xhcmF0aW9uID0gbmV3IFVua25vd25Cb3VuZEFycmF5RGVjbGFyYXRpb24oY29udGV4dCwgdHlwZVNwZWMsIHN0b3JhZ2VTcGVjLCBkZWNsYXJhdG9yLCBhc3Quc3BlY3MsIGRlY2xhcmVkVHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIGFwcHJvcHJpYXRlIGtpbmQgb2Ygb2JqZWN0IGRlZmluaXRpb24gYmFzZWQgb24gdGhlIGNvbnRleHR1YWwgc2NvcGVcclxuICAgICAgICAgICAgbGV0IGRlY2wgOiBMb2NhbFZhcmlhYmxlRGVmaW5pdGlvbiB8IEdsb2JhbE9iamVjdERlZmluaXRpb247XHJcbiAgICAgICAgICAgIGlmIChpc0Jsb2NrQ29udGV4dChjb250ZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgZGVjbCA9IG5ldyBMb2NhbFZhcmlhYmxlRGVmaW5pdGlvbihjb250ZXh0LCB0eXBlU3BlYywgc3RvcmFnZVNwZWMsIGRlY2xhcmF0b3IsIGFzdC5zcGVjcywgZGVjbGFyZWRUeXBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRlY2wgPSBuZXcgR2xvYmFsT2JqZWN0RGVmaW5pdGlvbihjb250ZXh0LCB0eXBlU3BlYywgc3RvcmFnZVNwZWMsIGRlY2xhcmF0b3IsIGFzdC5zcGVjcywgZGVjbGFyZWRUeXBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZWNsYXJhdGlvbiA9IGRlY2w7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gU2V0IGluaXRpYWxpemVyXHJcbiAgICAgICAgICAgIGxldCBpbml0ID0gZGVjbEFTVC5pbml0aWFsaXplcjtcclxuICAgICAgICAgICAgaWYgKCFpbml0KSB7XHJcbiAgICAgICAgICAgICAgICBkZWNsLnNldERlZmF1bHRJbml0aWFsaXplcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGluaXQuY29uc3RydWN0X3R5cGUgPT0gXCJkaXJlY3RfaW5pdGlhbGl6ZXJcIikge1xyXG4gICAgICAgICAgICAgICAgZGVjbC5zZXREaXJlY3RJbml0aWFsaXplcihpbml0LmFyZ3MubWFwKChhKSA9PiBjcmVhdGVFeHByZXNzaW9uRnJvbUFTVChhLCBjb250ZXh0KSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGluaXQuY29uc3RydWN0X3R5cGUgPT0gXCJjb3B5X2luaXRpYWxpemVyXCIpIHtcclxuICAgICAgICAgICAgICAgIGRlY2wuc2V0Q29weUluaXRpYWxpemVyKGluaXQuYXJncy5tYXAoKGEpID0+IGNyZWF0ZUV4cHJlc3Npb25Gcm9tQVNUKGEsIGNvbnRleHQpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gZWxzZSBpZiAoaW5pdC5jb25zdHJ1Y3RfdHlwZSA9PSBcImluaXRpYWxpemVyX2xpc3RcIikge1xyXG4gICAgICAgICAgICAvLyAgICAgLy8gZGVjbC5zZXRDb3B5SW5pdGlhbGl6ZXIoaW5pdC5hcmdzLm1hcCgoYSkgPT4gRXhwcmVzc2lvbi5jcmVhdGVGcm9tQVNUKGEsIGNvbnRleHQpKSk7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNldCBBU1RcclxuICAgICAgICBkZWNsYXJhdGlvbi5zZXRBU1QoYXN0KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGRlY2xhcmF0aW9uO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcblxyXG5pbnRlcmZhY2UgU2ltcGxlRGVjbGFyYXRpb25BU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJzaW1wbGVfZGVjbGFyYXRpb25cIjtcclxuICAgIHJlYWRvbmx5IHNwZWNzOiBEZWNsYXJhdGlvblNwZWNpZmllcnNBU1ROb2RlO1xyXG4gICAgcmVhZG9ubHkgZGVjbGFyYXRvcnM6IHJlYWRvbmx5IERlY2xhcmF0b3JJbml0QVNUTm9kZVtdO1xyXG59XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgU2ltcGxlRGVjbGFyYXRpb248Q29udGV4dFR5cGUgZXh0ZW5kcyBUcmFuc2xhdGlvblVuaXRDb250ZXh0ID0gVHJhbnNsYXRpb25Vbml0Q29udGV4dD4gZXh0ZW5kcyBCYXNpY0NQUENvbnN0cnVjdDxDb250ZXh0VHlwZT4gaW1wbGVtZW50cyBDUFBDb25zdHJ1Y3Qge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSB0eXBlU3BlY2lmaWVyOiBUeXBlU3BlY2lmaWVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHN0b3JhZ2VTcGVjaWZpZXI6IFN0b3JhZ2VTcGVjaWZpZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGVjbGFyYXRvcjogRGVjbGFyYXRvcjtcclxuICAgIHB1YmxpYyByZWFkb25seSBvdGhlclNwZWNpZmllcnM6IE90aGVyU3BlY2lmaWVycztcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcmVhZG9ubHkgdHlwZT86IFR5cGU7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xyXG4gICAgIFxyXG4gICAgLy8gQWxsb3cgc3ViY2xhc3NlcyB0byBjdXN0b21pemUgYmVoYXZpb3JcclxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCByZWFkb25seSBpbml0aWFsaXplckFsbG93ZWQ6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcmVhZG9ubHkgaXNEZWZpbml0aW9uOiBib29sZWFuO1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaW5pdGlhbGl6ZXI/OiBJbml0aWFsaXplcjtcclxuICAgIHB1YmxpYyByZWFkb25seSBkZWNsYXJlZEVudGl0eT86IENQUEVudGl0eTtcclxuXHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dFR5cGUsIHR5cGVTcGVjOiBUeXBlU3BlY2lmaWVyLCBzdG9yYWdlU3BlYzogU3RvcmFnZVNwZWNpZmllcixcclxuICAgICAgICBkZWNsYXJhdG9yOiBEZWNsYXJhdG9yLCBvdGhlclNwZWNzOiBPdGhlclNwZWNpZmllcnMpIHtcclxuICAgICAgICBzdXBlcihjb250ZXh0KTtcclxuXHJcbiAgICAgICAgdGhpcy50eXBlU3BlY2lmaWVyID0gdHlwZVNwZWM7XHJcbiAgICAgICAgdGhpcy5zdG9yYWdlU3BlY2lmaWVyID0gc3RvcmFnZVNwZWM7XHJcbiAgICAgICAgdGhpcy5vdGhlclNwZWNpZmllcnMgPSBvdGhlclNwZWNzO1xyXG5cclxuICAgICAgICB0aGlzLmRlY2xhcmF0b3IgPSBkZWNsYXJhdG9yO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IGRlY2xhcmF0b3IubmFtZSE7IC8vIFRPRE86IHJlbW92ZSBub24tbnVsbCBhc3NlcnRpb24gaGVyZSBvbmNlIHR5cGVzY3JpcHQgc3VwcG9ydHMgYXNzZXJ0IGJhc2VkIGNvbnRyb2wgZmxvdyBhbmFseXNpcyAoc29vbilcclxuICAgICAgICBpZiAoIWRlY2xhcmF0b3IubmFtZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXNzZXJ0RmFsc2UoXCJTaW1wbGUgZGVjbGFyYXRpb25zIG11c3QgaGF2ZSBhIG5hbWUuXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTm9uZSBvZiB0aGUgc2ltcGxlIGRlY2xhcmF0aW9ucyBhcmUgbWVtYmVyIGZ1bmN0aW9uIGRlY2xhcmF0aW9uc1xyXG4gICAgICAgIC8vIGFuZCB0aHVzIG5vbmUgc3VwcG9ydCB0aGUgdmlydHVhbCBrZXl3b3JkXHJcbiAgICAgICAgaWYgKG90aGVyU3BlY3MudmlydHVhbCkge1xyXG4gICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24udmlydHVhbF9wcm9oaWJpdGVkKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRTaW1wbGVEZWNsYXJhdGlvbiBleHRlbmRzIFNpbXBsZURlY2xhcmF0aW9uLCBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcbiAgICByZWFkb25seSB0eXBlOiBUeXBlO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFVua25vd25UeXBlRGVjbGFyYXRpb24gZXh0ZW5kcyBTaW1wbGVEZWNsYXJhdGlvbiB7XHJcblxyXG4gICAgLy8gSWYgdGhlIGRlY2xhcmVkIHR5cGUgY2Fubm90IGJlIGRldGVybWluZWQsIHdlIGRvbid0IHdhbnQgdG8gZ2l2ZVxyXG4gICAgLy8gYSBtZWFuaW5nbGVzcyBlcnJvciB0aGF0IGFuIGluaXRpYWxpemVyIGlzIG5vdCBhbGxvd2VkLCBzbyB3ZSBzZXRcclxuICAgIC8vIHRoaXMgdG8gdHJ1ZS5cclxuICAgIHByb3RlY3RlZCByZWFkb25seSBpbml0aWFsaXplckFsbG93ZWQgPSB0cnVlO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBpc0RlZmluaXRpb24gPSBmYWxzZTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZTogdW5kZWZpbmVkO1xyXG4gICAgXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgdHlwZVNwZWM6IFR5cGVTcGVjaWZpZXIsIHN0b3JhZ2VTcGVjOiBTdG9yYWdlU3BlY2lmaWVyLFxyXG4gICAgICAgIGRlY2xhcmF0b3I6IERlY2xhcmF0b3IsIG90aGVyU3BlY3M6IE90aGVyU3BlY2lmaWVycykge1xyXG5cclxuICAgICAgICBzdXBlcihjb250ZXh0LCB0eXBlU3BlYywgc3RvcmFnZVNwZWMsIGRlY2xhcmF0b3IsIG90aGVyU3BlY3MpO1xyXG4gICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi51bmtub3duX3R5cGUodGhpcykpO1xyXG4gICAgfVxyXG4gICAgXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBWb2lkRGVjbGFyYXRpb24gZXh0ZW5kcyBTaW1wbGVEZWNsYXJhdGlvbiB7XHJcblxyXG4gICAgLy8gU3VwcHJlc3MgbWVhbmluZ2xlc3MgZXJyb3IsIHNpbmNlIGEgdm9pZCBkZWNsYXJhdGlvbiBpc1xyXG4gICAgLy8gYWx3YXlzIGlsbC1mb3JtZWQsIHdoZXRoZXIgb3Igbm90IGl0IGhhcyBhbiBpbml0aWFsaXplci5cclxuICAgIHByb3RlY3RlZCByZWFkb25seSBpbml0aWFsaXplckFsbG93ZWQgPSB0cnVlO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBpc0RlZmluaXRpb24gPSBmYWxzZTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZSA9IFZvaWRUeXBlLlZPSUQ7XHJcbiAgICBcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCB0eXBlU3BlYzogVHlwZVNwZWNpZmllciwgc3RvcmFnZVNwZWM6IFN0b3JhZ2VTcGVjaWZpZXIsXHJcbiAgICAgICAgZGVjbGFyYXRvcjogRGVjbGFyYXRvciwgb3RoZXJTcGVjczogT3RoZXJTcGVjaWZpZXJzKSB7XHJcblxyXG4gICAgICAgIHN1cGVyKGNvbnRleHQsIHR5cGVTcGVjLCBzdG9yYWdlU3BlYywgZGVjbGFyYXRvciwgb3RoZXJTcGVjcyk7XHJcbiAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLnZvaWRfcHJvaGliaXRlZCh0aGlzKSk7XHJcbiAgICB9XHJcbiAgICBcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFR5cGVkZWZEZWNsYXJhdGlvbiBleHRlbmRzIFNpbXBsZURlY2xhcmF0aW9uIHtcclxuXHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgaW5pdGlhbGl6ZXJBbGxvd2VkID0gZmFsc2U7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNEZWZpbml0aW9uID0gZmFsc2U7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGU6IHVuZGVmaW5lZDsgLy8gd2lsbCBjaGFuZ2Ugd2hlbiB0eXBlZGVmIGlzIGltcGxlbWVudGVkXHJcbiAgICBcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCB0eXBlU3BlYzogVHlwZVNwZWNpZmllciwgc3RvcmFnZVNwZWM6IFN0b3JhZ2VTcGVjaWZpZXIsXHJcbiAgICAgICAgZGVjbGFyYXRvcjogRGVjbGFyYXRvciwgb3RoZXJTcGVjczogT3RoZXJTcGVjaWZpZXJzKSB7XHJcblxyXG4gICAgICAgIHN1cGVyKGNvbnRleHQsIHR5cGVTcGVjLCBzdG9yYWdlU3BlYywgZGVjbGFyYXRvciwgb3RoZXJTcGVjcyk7XHJcbiAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmxvYnN0ZXIudW5zdXBwb3J0ZWRfZmVhdHVyZSh0aGlzLCBcInR5cGVkZWZcIikpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gQUREIFRISVMgQkFDSyBJTiBXSEVOIFRZUEVERUZTIEFSRSBTVVBQT1JURURcclxuICAgICAgICAvLyBpZiAodGhpcy5zdG9yYWdlU3BlY2lmaWVyLm51bVNwZWNzID4gMCAmJiB0aGlzLmlzVHlwZWRlZikge1xyXG4gICAgICAgIC8vICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uc3RvcmFnZS50eXBlZGVmKHRoaXMsIHRoaXMuc3RvcmFnZVNwZWMuYXN0KSlcclxuICAgICAgICAvLyB9XHJcbiAgICB9XHJcbiAgICBcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEZyaWVuZERlY2xhcmF0aW9uIGV4dGVuZHMgU2ltcGxlRGVjbGFyYXRpb24ge1xyXG5cclxuICAgIHByb3RlY3RlZCByZWFkb25seSBpbml0aWFsaXplckFsbG93ZWQgPSBmYWxzZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBpc0RlZmluaXRpb24gPSBmYWxzZTtcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGU6IHVuZGVmaW5lZDsgLy8gd2lsbCBjaGFuZ2Ugd2hlbiBmcmllbmQgaXMgaW1wbGVtZW50ZWRcclxuICAgIFxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIHR5cGVTcGVjOiBUeXBlU3BlY2lmaWVyLCBzdG9yYWdlU3BlYzogU3RvcmFnZVNwZWNpZmllcixcclxuICAgICAgICBkZWNsYXJhdG9yOiBEZWNsYXJhdG9yLCBvdGhlclNwZWNzOiBPdGhlclNwZWNpZmllcnMpIHtcclxuXHJcbiAgICAgICAgc3VwZXIoY29udGV4dCwgdHlwZVNwZWMsIHN0b3JhZ2VTcGVjLCBkZWNsYXJhdG9yLCBvdGhlclNwZWNzKTtcclxuICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IubG9ic3Rlci51bnN1cHBvcnRlZF9mZWF0dXJlKHRoaXMsIFwiZnJpZW5kXCIpKTtcclxuXHJcbiAgICAgICAgLy8gVE9ETzogQWRkIGJhY2sgaW4gd2hlbiBjbGFzc2VzIGFyZSBzdXBwb3J0ZWRcclxuICAgICAgICAvLyBpZiAoISh0aGlzLmNvbnRleHR1YWxTY29wZSBpbnN0YW5jZW9mIENsYXNzU2NvcGUpKSB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5mcmllbmQub3V0c2lkZV9jbGFzcyh0aGlzKSk7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICBpZiAob3RoZXJTcGVjcy52aXJ0dWFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5mcmllbmQudmlydHVhbF9wcm9oaWJpdGVkKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFVua25vd25Cb3VuZEFycmF5RGVjbGFyYXRpb24gZXh0ZW5kcyBTaW1wbGVEZWNsYXJhdGlvbiB7XHJcblxyXG4gICAgLy8gVGhpcyBjbGFzcyBzaG91bGQgb25seSBiZSBjcmVhdGVkIGluIGNhc2VzIHdoZXJlIHRoZSBzaXplIG9mXHJcbiAgICAvLyB0aGUgYXJyYXkgY2Fubm90IGJlIGRldGVybWluZWQgZnJvbSBpdHMgaW5pdGlhbGl6ZXIsIHdoaWNoIGlzXHJcbiAgICAvLyBwcm9ibGVtYXRpYywgYnV0IHRoZSBpbml0aWFsaXplciBpdHNlbGYgaXMgbm90IHByb2hpYml0ZWQuXHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgaW5pdGlhbGl6ZXJBbGxvd2VkID0gdHJ1ZTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNEZWZpbml0aW9uID0gZmFsc2U7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGU6IEFycmF5T2ZVbmtub3duQm91bmRUeXBlO1xyXG4gICAgXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgdHlwZVNwZWM6IFR5cGVTcGVjaWZpZXIsIHN0b3JhZ2VTcGVjOiBTdG9yYWdlU3BlY2lmaWVyLFxyXG4gICAgICAgIGRlY2xhcmF0b3I6IERlY2xhcmF0b3IsIG90aGVyU3BlY3M6IE90aGVyU3BlY2lmaWVycywgdHlwZTogQXJyYXlPZlVua25vd25Cb3VuZFR5cGUpIHtcclxuXHJcbiAgICAgICAgc3VwZXIoY29udGV4dCwgdHlwZVNwZWMsIHN0b3JhZ2VTcGVjLCBkZWNsYXJhdG9yLCBvdGhlclNwZWNzKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5hcnJheS5sZW5ndGhfcmVxdWlyZWQodGhpcykpO1xyXG4gICAgfVxyXG4gICAgXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBGdW5jdGlvbkRlY2xhcmF0aW9uIGV4dGVuZHMgU2ltcGxlRGVjbGFyYXRpb24ge1xyXG5cclxuICAgIHByb3RlY3RlZCByZWFkb25seSBpbml0aWFsaXplckFsbG93ZWQgPSBmYWxzZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBpc0RlZmluaXRpb24gPSBmYWxzZTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZTogRnVuY3Rpb25UeXBlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGRlY2xhcmVkRW50aXR5OiBGdW5jdGlvbkVudGl0eTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFyYW1ldGVyRGVjbGFyYXRvcnM6IHJlYWRvbmx5IERlY2xhcmF0b3JbXTsgLy8gZGVmaW5lZCBpZiB0aGlzIGlzIGEgZGVjbGFyYXRvciBvZiBmdW5jdGlvbiB0eXBlXHJcbiAgICBcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCB0eXBlU3BlYzogVHlwZVNwZWNpZmllciwgc3RvcmFnZVNwZWM6IFN0b3JhZ2VTcGVjaWZpZXIsXHJcbiAgICAgICAgZGVjbGFyYXRvcjogRGVjbGFyYXRvciwgb3RoZXJTcGVjczogT3RoZXJTcGVjaWZpZXJzLCB0eXBlOiBGdW5jdGlvblR5cGUpIHtcclxuXHJcbiAgICAgICAgc3VwZXIoY29udGV4dCwgdHlwZVNwZWMsIHN0b3JhZ2VTcGVjLCBkZWNsYXJhdG9yLCBvdGhlclNwZWNzKTtcclxuXHJcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcclxuICAgICAgICB0aGlzLmRlY2xhcmVkRW50aXR5ID0gbmV3IEZ1bmN0aW9uRW50aXR5KHR5cGUsIHRoaXMpO1xyXG5cclxuICAgICAgICBhc3NlcnQoISF0aGlzLmRlY2xhcmF0b3IucGFyYW1ldGVycywgXCJUaGUgZGVjbGFyYXRvciBmb3IgYSBmdW5jdGlvbiBkZWNsYXJhdGlvbiBtdXN0IGNvbnRhaW4gZGVjbGFyYXRvcnMgZm9yIGl0cyBwYXJhbWV0ZXJzIGFzIHdlbGwuXCIpO1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVyRGVjbGFyYXRvcnMgPSB0aGlzLmRlY2xhcmF0b3IucGFyYW1ldGVycyE7XHJcblxyXG4gICAgICAgIC8vIElmIG1haW4sIHNob3VsZCBoYXZlIG5vIHBhcmFtZXRlcnNcclxuICAgICAgICBpZiAodGhpcy5kZWNsYXJlZEVudGl0eS5pc01haW4oKSAmJiB0aGlzLnR5cGUucGFyYW1UeXBlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5mdW5jLm1haW5QYXJhbXModGhpcy5kZWNsYXJhdG9yKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBcclxuICAgICAgICAvLyBpZiAodGhpcy5pc01lbWJlckZ1bmN0aW9uKXtcclxuICAgICAgICAvLyAgICAgdGhpcy5pX2NvbnRhaW5pbmdDbGFzcy5hZGRNZW1iZXIodGhpcy5lbnRpdHkpO1xyXG4gICAgICAgIC8vIH1cclxuXHJcblxyXG4gICAgICAgIC8vIGlmICghdGhpcy5pc01lbWJlckZ1bmN0aW9uICYmIHRoaXMudmlydHVhbCl7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5mdW5jLnZpcnR1YWxfbm90X2FsbG93ZWQodGhpcykpO1xyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgLy8gdGhpcy5jaGVja092ZXJsb2FkU2VtYW50aWNzKCk7XHJcblxyXG4gICAgICAgIHRyeXtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmNvbnRleHR1YWxTY29wZS5hZGREZWNsYXJlZEVudGl0eSh0aGlzLmRlY2xhcmVkRW50aXR5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2goZSkge1xyXG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIE5vdGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQSBmdW5jdGlvbiBkZWNsYXJhdGlvbiBoYXMgbGlua2FnZSwgdW5sZXNzIGl0IGlzIGEgbG9jYWwgZnVuY3Rpb24gZGVjbGFyYXRpb24gaW4gYSBibG9jayBzY29wZVxyXG4gICAgICAgIC8vICh3aGljaCBoYXMgbm8gbGlua2FnZSkuIFRoZSBsaW5rYWdlIGlzIHByZXN1bWVkIHRvIGJlIGV4dGVybmFsLCBiZWNhdXNlIExvYnN0ZXIgZG9lcyBub3RcclxuICAgICAgICAvLyBzdXBwb3J0IHVzaW5nIHRoZSBzdGF0aWMga2V5d29yZCB0byBzcGVjaWZ5IGludGVybmFsIGxpbmthZ2UuXHJcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5jb250ZXh0dWFsU2NvcGUgaW5zdGFuY2VvZiBOYW1lc3BhY2VTY29wZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQudHJhbnNsYXRpb25Vbml0LnByb2dyYW0ucmVnaXN0ZXJMaW5rZWRFbnRpdHkodGhpcy5kZWNsYXJlZEVudGl0eSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcblxyXG5cclxuICAgIC8vIGNoZWNrT3ZlcmxvYWRTZW1hbnRpY3MgOiBmdW5jdGlvbigpe1xyXG4gICAgLy8gICAgIGlmICh0aGlzLm5hbWUgPT09IFwib3BlcmF0b3I9XCIgfHwgdGhpcy5uYW1lID09PSBcIm9wZXJhdG9yKClcIiB8fCB0aGlzLm5hbWUgPT09IFwib3BlcmF0b3JbXVwiKXtcclxuICAgIC8vICAgICAgICAgaWYgKCF0aGlzLmlzTWVtYmVyRnVuY3Rpb24pe1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmZ1bmMub3BfbWVtYmVyKHRoaXMpKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH1cclxuXHJcbiAgICAvLyAgICAgaWYgKHRoaXMubmFtZSA9PT0gXCJvcGVyYXRvcltdXCIgJiYgdGhpcy5wYXJhbXMubGVuZ3RoICE9PSAxKXtcclxuICAgIC8vICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmZ1bmMub3Bfc3Vic2NyaXB0X29uZV9wYXJhbSh0aGlzKSk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfSxcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBWYXJpYWJsZURlZmluaXRpb248Q29udGV4dFR5cGUgZXh0ZW5kcyBUcmFuc2xhdGlvblVuaXRDb250ZXh0ID0gVHJhbnNsYXRpb25Vbml0Q29udGV4dD4gZXh0ZW5kcyBTaW1wbGVEZWNsYXJhdGlvbjxDb250ZXh0VHlwZT4ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBpbml0aWFsaXplcj86IEluaXRpYWxpemVyO1xyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCByZWFkb25seSBkZWNsYXJlZEVudGl0eTogVmFyaWFibGVFbnRpdHk7XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRJbml0aWFsaXplcihpbml0OiBJbml0aWFsaXplcikge1xyXG4gICAgICAgIGFzc2VydCghdGhpcy5pbml0aWFsaXplcik7XHJcbiAgICAgICAgKDxNdXRhYmxlPHRoaXM+PnRoaXMpLmluaXRpYWxpemVyID0gaW5pdDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0RGVmYXVsdEluaXRpYWxpemVyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNldEluaXRpYWxpemVyKERlZmF1bHRJbml0aWFsaXplci5jcmVhdGUodGhpcy5jb250ZXh0LCB0aGlzLmRlY2xhcmVkRW50aXR5KSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldERpcmVjdEluaXRpYWxpemVyKGFyZ3M6IHJlYWRvbmx5IEV4cHJlc3Npb25bXSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNldEluaXRpYWxpemVyKERpcmVjdEluaXRpYWxpemVyLmNyZWF0ZSh0aGlzLmNvbnRleHQsIHRoaXMuZGVjbGFyZWRFbnRpdHksIGFyZ3MpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0Q29weUluaXRpYWxpemVyKGFyZ3M6IHJlYWRvbmx5IEV4cHJlc3Npb25bXSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNldEluaXRpYWxpemVyKENvcHlJbml0aWFsaXplci5jcmVhdGUodGhpcy5jb250ZXh0LCB0aGlzLmRlY2xhcmVkRW50aXR5LCBhcmdzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldEluaXRpYWxpemVyTGlzdChhcmdzOiByZWFkb25seSBFeHByZXNzaW9uW10pIHtcclxuICAgICAgICAvLyBUT0RPIGltcGxlbWVudCBpbml0aWFsaXplciBsaXN0c1xyXG4gICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5sb2JzdGVyLnVuc3VwcG9ydGVkX2ZlYXR1cmUodGhpcywgXCJpbml0aWFsaXplciBsaXN0c1wiKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRWYXJpYWJsZURlZmluaXRpb248VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiBleHRlbmRzIFZhcmlhYmxlRGVmaW5pdGlvbiwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4gICAgcmVhZG9ubHkgZGVjbGFyZWRFbnRpdHk6IFZhcmlhYmxlRW50aXR5PFQ+O1xyXG4gICAgcmVhZG9ubHkgaW5pdGlhbGl6ZXI/OiBDb21waWxlZEluaXRpYWxpemVyPFQ+O1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIExvY2FsVmFyaWFibGVEZWZpbml0aW9uIGV4dGVuZHMgVmFyaWFibGVEZWZpbml0aW9uPEJsb2NrQ29udGV4dD4ge1xyXG5cclxuICAgIHByb3RlY3RlZCByZWFkb25seSBpbml0aWFsaXplckFsbG93ZWQgPSB0cnVlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGlzRGVmaW5pdGlvbiA9IHRydWU7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGUgOiBPYmplY3RUeXBlIHwgUmVmZXJlbmNlVHlwZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBkZWNsYXJlZEVudGl0eTogQXV0b0VudGl0eTxPYmplY3RUeXBlPiB8IExvY2FsUmVmZXJlbmNlRW50aXR5PE9iamVjdFR5cGU+O1xyXG4gICAgXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29udGV4dDogQmxvY2tDb250ZXh0LCB0eXBlU3BlYzogVHlwZVNwZWNpZmllciwgc3RvcmFnZVNwZWM6IFN0b3JhZ2VTcGVjaWZpZXIsXHJcbiAgICAgICAgZGVjbGFyYXRvcjogRGVjbGFyYXRvciwgb3RoZXJTcGVjczogT3RoZXJTcGVjaWZpZXJzLCB0eXBlOiBPYmplY3RUeXBlIHwgUmVmZXJlbmNlVHlwZSkge1xyXG5cclxuICAgICAgICBzdXBlcihjb250ZXh0LCB0eXBlU3BlYywgc3RvcmFnZVNwZWMsIGRlY2xhcmF0b3IsIG90aGVyU3BlY3MpO1xyXG5cclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG5cclxuICAgICAgICB0aGlzLmRlY2xhcmVkRW50aXR5ID0gXHJcbiAgICAgICAgICAgIHR5cGUuaXNSZWZlcmVuY2VUeXBlKCkgPyBuZXcgTG9jYWxSZWZlcmVuY2VFbnRpdHkodHlwZS5yZWZUbywgdGhpcykgOiBuZXcgQXV0b0VudGl0eSh0eXBlLCB0aGlzKTtcclxuXHJcblxyXG4gICAgICAgIC8vIE5vdGUgZXh0ZXJuIHVuc3VwcG9ydGVkIGVycm9yIGlzIGFkZGVkIGluIHRoZSBiYXNlIERlY2xhcmF0aW9uIGNsYXNzLCBzbyBubyBuZWVkIHRvIGFkZCBoZXJlXHJcblxyXG4gICAgICAgIC8vIEFsbCBsb2NhbCBkZWNsYXJhdGlvbnMgYXJlIGFsc28gZGVmaW5pdGlvbnMsIHdpdGggdGhlIGV4Y2VwdGlvbiBvZiBhIGxvY2FsIGRlY2xhcmF0aW9uIG9mIGEgZnVuY3Rpb25cclxuICAgICAgICAvLyBvciBhIGxvY2FsIGRlY2xhcmF0aW9uIHdpdGggdGhlIGV4dGVybiBzdG9yYWdlIHNwZWNpZmllciwgYnV0IHRob3NlIGFyZSBub3QgY3VycmVudGx5IHN1cHBvcnRlZCBieSBMb2JzdGVyLlxyXG4gICAgICAgIC8vIFRoaXMgbWVhbnMgYSBsb2NhbGx5IGRlY2xhcmVkIHZhcmlhYmxlIGRvZXMgbm90IGhhdmUgbGlua2FnZSwgYW5kIHdlIGRvbid0IG5lZWQgdG8gZG8gYW55IGxpbmtpbmcgc3R1ZmYgaGVyZS5cclxuXHJcbiAgICAgICAgLy8gQXR0ZW1wdCB0byBhZGQgdGhlIGRlY2xhcmVkIGVudGl0eSB0byB0aGUgc2NvcGUuIElmIGl0IGZhaWxzLCBub3RlIHRoZSBlcnJvci5cclxuICAgICAgICAvLyAoZS5nLiBhbiBlbnRpdHkgd2l0aCB0aGUgc2FtZSBuYW1lIHdhcyBhbHJlYWR5IGRlY2xhcmVkIGluIHRoZSBzYW1lIHNjb3BlKVxyXG4gICAgICAgIHRyeXtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmNvbnRleHR1YWxTY29wZS5hZGREZWNsYXJlZEVudGl0eSh0aGlzLmRlY2xhcmVkRW50aXR5KTtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZ1bmN0aW9uTG9jYWxzLnJlZ2lzdGVyTG9jYWxWYXJpYWJsZSh0aGlzLmRlY2xhcmVkRW50aXR5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2goZSkge1xyXG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIE5vdGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1cclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkTG9jYWxWYXJpYWJsZURlZmluaXRpb248VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiBleHRlbmRzIExvY2FsVmFyaWFibGVEZWZpbml0aW9uLCBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcbiAgICByZWFkb25seSBkZWNsYXJlZEVudGl0eTogQXV0b0VudGl0eTxUPiB8IExvY2FsUmVmZXJlbmNlRW50aXR5PFQ+XHJcbiAgICByZWFkb25seSBpbml0aWFsaXplcj86IENvbXBpbGVkSW5pdGlhbGl6ZXI8VD47XHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgR2xvYmFsT2JqZWN0RGVmaW5pdGlvbiBleHRlbmRzIFZhcmlhYmxlRGVmaW5pdGlvbiB7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkga2luZCA9IFwiR2xvYmFsT2JqZWN0RGVmaW5pdGlvblwiO1xyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGluaXRpYWxpemVyQWxsb3dlZCA9IHRydWU7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNEZWZpbml0aW9uID0gdHJ1ZTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZSA6IE9iamVjdFR5cGUgfCBSZWZlcmVuY2VUeXBlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGRlY2xhcmVkRW50aXR5ITogU3RhdGljRW50aXR5PE9iamVjdFR5cGU+OyAvLyBvbmx5IGFsbG93cyB1bmRlZmluZWQgYmVjYXVzZSBnbG9iYWwgcmVmZXJlbmNlcyBhcmUgbm90IHlldCBzdXBwb3J0ZWRcclxuICAgIFxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIHR5cGVTcGVjOiBUeXBlU3BlY2lmaWVyLCBzdG9yYWdlU3BlYzogU3RvcmFnZVNwZWNpZmllcixcclxuICAgICAgICBkZWNsYXJhdG9yOiBEZWNsYXJhdG9yLCBvdGhlclNwZWNzOiBPdGhlclNwZWNpZmllcnMsIHR5cGU6IE9iamVjdFR5cGUgfCBSZWZlcmVuY2VUeXBlKSB7XHJcblxyXG4gICAgICAgIHN1cGVyKGNvbnRleHQsIHR5cGVTcGVjLCBzdG9yYWdlU3BlYywgZGVjbGFyYXRvciwgb3RoZXJTcGVjcyk7XHJcblxyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcblxyXG4gICAgICAgIGlmICh0eXBlLmlzUmVmZXJlbmNlVHlwZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5sb2JzdGVyLnVuc3VwcG9ydGVkX2ZlYXR1cmUodGhpcywgXCJnbG9iYWxseSBzY29wZWQgcmVmZXJlbmNlc1wiKSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZGVjbGFyZWRFbnRpdHkgPSBuZXcgU3RhdGljRW50aXR5KHR5cGUsIHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBBdHRlbXB0IHRvIGFkZCB0aGUgZGVjbGFyZWQgZW50aXR5IHRvIHRoZSBzY29wZS4gSWYgaXQgZmFpbHMsIG5vdGUgdGhlIGVycm9yLlxyXG4gICAgICAgIC8vIChlLmcuIGFuIGVudGl0eSB3aXRoIHRoZSBzYW1lIG5hbWUgd2FzIGFscmVhZHkgZGVjbGFyZWQgaW4gdGhlIHNhbWUgc2NvcGUpXHJcbiAgICAgICAgdHJ5e1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuY29udGV4dHVhbFNjb3BlLmFkZERlY2xhcmVkRW50aXR5KHRoaXMuZGVjbGFyZWRFbnRpdHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaChlKSB7XHJcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgTm90ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNvbnRleHQudHJhbnNsYXRpb25Vbml0LnByb2dyYW0ucmVnaXN0ZXJHbG9iYWxPYmplY3REZWZpbml0aW9uKHRoaXMuZGVjbGFyZWRFbnRpdHkucXVhbGlmaWVkTmFtZSwgdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETyBjcmVhdGUgb2JqZWN0IHdpdGggbGlua2FnZSBpZiBhcHByb3ByaWF0ZVxyXG4gICAgICAgICAgICAvLyB0aGlzLmNvbnRleHQudHJhbnNsYXRpb25Vbml0LnJlZ2lzdGVyRGVmaW5pdGlvbihlbnRpdHksIHRoaXMpO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZEdsb2JhbE9iamVjdERlZmluaXRpb248VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiBleHRlbmRzIEdsb2JhbE9iamVjdERlZmluaXRpb24sIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuICAgIHJlYWRvbmx5IGRlY2xhcmVkRW50aXR5OiBTdGF0aWNFbnRpdHk8VD47XHJcbiAgICByZWFkb25seSBpbml0aWFsaXplcj86IENvbXBpbGVkSW5pdGlhbGl6ZXI8VD47XHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgUGFyYW1ldGVyRGVmaW5pdGlvbiBleHRlbmRzIFNpbXBsZURlY2xhcmF0aW9uIHtcclxuXHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgaW5pdGlhbGl6ZXJBbGxvd2VkID0gdHJ1ZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBpc0RlZmluaXRpb24gPSB0cnVlO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSB0eXBlIDogUG90ZW50aWFsUGFyYW1ldGVyVHlwZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBkZWNsYXJlZEVudGl0eTogQXV0b0VudGl0eTxPYmplY3RUeXBlPiB8IExvY2FsUmVmZXJlbmNlRW50aXR5PE9iamVjdFR5cGU+O1xyXG4gICAgXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29udGV4dDogRnVuY3Rpb25Db250ZXh0LCB0eXBlU3BlYzogVHlwZVNwZWNpZmllciwgc3RvcmFnZVNwZWM6IFN0b3JhZ2VTcGVjaWZpZXIsXHJcbiAgICAgICAgZGVjbGFyYXRvcjogRGVjbGFyYXRvciwgb3RoZXJTcGVjczogT3RoZXJTcGVjaWZpZXJzLCB0eXBlOiBQb3RlbnRpYWxQYXJhbWV0ZXJUeXBlKSB7XHJcblxyXG4gICAgICAgIHN1cGVyKGNvbnRleHQsIHR5cGVTcGVjLCBzdG9yYWdlU3BlYywgZGVjbGFyYXRvciwgb3RoZXJTcGVjcyk7XHJcblxyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcblxyXG4gICAgICAgIHRoaXMuZGVjbGFyZWRFbnRpdHkgPSBcclxuICAgICAgICAgICAgdGhpcy50eXBlLmlzUmVmZXJlbmNlVHlwZSgpID8gbmV3IExvY2FsUmVmZXJlbmNlRW50aXR5KHRoaXMudHlwZS5yZWZUbywgdGhpcywgdHJ1ZSkgOlxyXG4gICAgICAgICAgICBuZXcgQXV0b0VudGl0eSh0aGlzLnR5cGUsIHRoaXMsIHRydWUpO1xyXG5cclxuICAgICAgICAvLyBBdHRlbXB0IHRvIGFkZCB0aGUgZGVjbGFyZWQgZW50aXR5IHRvIHRoZSBzY29wZS4gSWYgaXQgZmFpbHMsIG5vdGUgdGhlIGVycm9yLlxyXG4gICAgICAgIC8vIChlLmcuIGFuIGVudGl0eSB3aXRoIHRoZSBzYW1lIG5hbWUgd2FzIGFscmVhZHkgZGVjbGFyZWQgaW4gdGhlIHNhbWUgc2NvcGUpXHJcbiAgICAgICAgdHJ5e1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuY29udGV4dHVhbFNjb3BlLmFkZERlY2xhcmVkRW50aXR5KHRoaXMuZGVjbGFyZWRFbnRpdHkpO1xyXG5cclxuICAgICAgICAgICAgLy8gUmVnaXN0ZXIgdGhlIGRlZmluZWQgbG9jYWwgb2JqZWN0L3JlZmVyZW5jZVxyXG4gICAgICAgICAgICBjb250ZXh0LmZ1bmN0aW9uTG9jYWxzLnJlZ2lzdGVyTG9jYWxWYXJpYWJsZSh0aGlzLmRlY2xhcmVkRW50aXR5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2goZSkge1xyXG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIE5vdGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5pbnRlcmZhY2UgQXJyYXlQb3N0Zml4RGVjbGFyYXRvckFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkga2luZDogXCJhcnJheVwiO1xyXG4gICAgcmVhZG9ubHkgc2l6ZT86IEV4cHJlc3Npb25BU1ROb2RlO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEFyZ3VtZW50RGVjbGFyYXRpb25BU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGRlY2xhcmF0b3I6IERlY2xhcmF0b3JBU1ROb2RlO1xyXG4gICAgcmVhZG9ubHkgc3BlY3M6IERlY2xhcmF0aW9uU3BlY2lmaWVyc0FTVE5vZGU7XHJcbiAgICByZWFkb25seSBpbml0aWFsaXplcj86IEluaXRpYWxpemVyQVNUTm9kZTtcclxufVxyXG5cclxuaW50ZXJmYWNlIEZ1bmN0aW9uUG9zdGZpeERlY2xhcmF0b3JBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGtpbmQ6IFwiZnVuY3Rpb25cIjtcclxuICAgIHJlYWRvbmx5IHNpemU6IEV4cHJlc3Npb25BU1ROb2RlO1xyXG4gICAgcmVhZG9ubHkgYXJnczogcmVhZG9ubHkgQXJndW1lbnREZWNsYXJhdGlvbkFTVE5vZGVbXTtcclxuICAgIHJlYWRvbmx5IGNvbnN0PzogYm9vbGVhbjtcclxufVxyXG5cclxuaW50ZXJmYWNlIERlY2xhcmF0b3JBU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBwdXJlVmlydHVhbD86IGJvb2xlYW47XHJcbiAgICByZWFkb25seSBzdWI/OiBEZWNsYXJhdG9yQVNUTm9kZTsgLy8gcGFyZW50aGVzZXNcclxuICAgIHJlYWRvbmx5IHBvaW50ZXI/OiBEZWNsYXJhdG9yQVNUTm9kZTtcclxuICAgIHJlYWRvbmx5IHJlZmVyZW5jZT86IERlY2xhcmF0b3JBU1ROb2RlO1xyXG4gICAgcmVhZG9ubHkgY29uc3Q/OiBib29sZWFuO1xyXG4gICAgcmVhZG9ubHkgdm9sYXRpbGU/OiBib29sZWFuO1xyXG4gICAgcmVhZG9ubHkgbmFtZT86IElkZW50aWZpZXJBU1ROb2RlO1xyXG4gICAgcmVhZG9ubHkgcG9zdGZpeGVzPzogcmVhZG9ubHkgKEFycmF5UG9zdGZpeERlY2xhcmF0b3JBU1ROb2RlIHwgRnVuY3Rpb25Qb3N0Zml4RGVjbGFyYXRvckFTVE5vZGUpW107XHJcbn1cclxuXHJcbmludGVyZmFjZSBEZWNsYXJhdG9ySW5pdEFTVE5vZGUgZXh0ZW5kcyBEZWNsYXJhdG9yQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBpbml0aWFsaXplcj86IEluaXRpYWxpemVyQVNUTm9kZTtcclxufVxyXG5cclxuLy8gVE9ETzogdGFrZSBiYXNlVHlwZSBhcyBhIHBhcmFtZXRlciB0byBjb21waWxlIHJhdGhlciB0aGFuIGluaXRcclxuZXhwb3J0IGNsYXNzIERlY2xhcmF0b3IgZXh0ZW5kcyBCYXNpY0NQUENvbnN0cnVjdCB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWU/OiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZT86IFR5cGU7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGJhc2VUeXBlPzogVHlwZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBpc1B1cmVWaXJ0dWFsPzogYm9vbGVhbjtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFyYW1ldGVycz86IHJlYWRvbmx5IERlY2xhcmF0b3JbXTsgLy8gZGVmaW5lZCBpZiB0aGlzIGlzIGEgZGVjbGFyYXRvciBvZiBmdW5jdGlvbiB0eXBlXHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVGcm9tQVNUKGFzdDogRGVjbGFyYXRvckFTVE5vZGUsIGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIGJhc2VUeXBlOiBUeXBlIHwgdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEZWNsYXJhdG9yKGNvbnRleHQsIGFzdCwgYmFzZVR5cGUpOyAvLyBOb3RlIC5zZXRBU1QoYXN0KSBpcyBjYWxsZWQgaW4gdGhlIGN0b3IgYWxyZWFkeVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIGBEZWNsYXJhdG9yLmNyZWF0ZUZyb21BU1QoKWAgc2hvdWxkIGFsd2F5cyBiZSB1c2VkIHRvIGNyZWF0ZSBEZWNsYXJhdG9ycywgd2hpY2ggZGVsZWdhdGVzXHJcbiAgICAgKiB0byB0aGlzIHByaXZhdGUgY29uc3RydWN0b3IuIERpcmVjdGx5IGNhbGxpbmcgdGhlIGNvbnN0cnVjdG9yIGZyb20gdGhlIG91dHNpZGUgaXMgbm90IGFsbG93ZWQuXHJcbiAgICAgKiBTaW5jZSBkZWNsYXJhdG9ycyBhcmUgbGFyZ2VseSBhYm91dCBwcm9jZXNzaW5nIGFuIEFTVCwgaXQgZG9lc24ndCBtYWtlIG11Y2ggc2Vuc2UgdG8gY3JlYXRlXHJcbiAgICAgKiBvbmUgd2l0aG91dCBhbiBBU1QuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgYXN0OiBEZWNsYXJhdG9yQVNUTm9kZSwgYmFzZVR5cGU6IFR5cGUgfCB1bmRlZmluZWQpIHtcclxuICAgICAgICBzdXBlcihjb250ZXh0KTtcclxuICAgICAgICB0aGlzLnNldEFTVChhc3QpO1xyXG4gICAgICAgIHRoaXMuYmFzZVR5cGUgPSBiYXNlVHlwZTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBsZXQgaXNNZW1iZXIgPSBpc0EodGhpcy5wYXJlbnQsIERlY2xhcmF0aW9ucy5NZW1iZXIpO1xyXG5cclxuICAgICAgICBpZiAoYXN0LnB1cmVWaXJ0dWFsKSB7IHRoaXMuaXNQdXJlVmlydHVhbCA9IHRydWU7IH1cclxuXHJcbiAgICAgICAgdGhpcy5kZXRlcm1pbmVOYW1lQW5kVHlwZShhc3QpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZGV0ZXJtaW5lTmFtZUFuZFR5cGUoYXN0OiBEZWNsYXJhdG9yQVNUTm9kZSkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICghdGhpcy5iYXNlVHlwZSkgeyAvLyBJZiB0aGVyZSdzIG5vIGJhc2UgdHlwZSwgd2UgcmVhbGx5IGNhbid0IGRvIG11Y2hcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHR5cGUgPSB0aGlzLmJhc2VUeXBlO1xyXG5cclxuICAgICAgICBsZXQgZmlyc3QgPSB0cnVlO1xyXG4gICAgICAgIC8vIGxldCBwcmV2S2luZCA6IFwiZnVuY3Rpb25cIiB8IFwicmVmZXJlbmNlXCIgfCBcInBvaW50ZXJcIiB8IFwiYXJyYXlcIiB8IFwibm9uZVwiID0gXCJub25lXCI7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IGRlY2w6IERlY2xhcmF0b3JBU1ROb2RlIHwgdW5kZWZpbmVkID0gYXN0OyAvLyBBU1Qgd2lsbCBhbHdheXMgYmUgcHJlc2VudCBvbiBEZWNsYXJhdG9yc1xyXG4gICAgICAgIHdoaWxlIChkZWNsKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBXZSB3YW50IHRvIGNoZWNrIHdoZXRoZXIgdGhpcyBpcyB0aGUgaW5uZXJtb3N0IHRoaW5nLCBidXQgZmlyc3Qgd2UgbmVlZCB0byBsb29wXHJcbiAgICAgICAgICAgIC8vIHRvIGRlc2NlbmQgdGhyb3VnaCBhbnkgQVNUIHJlcHJlc2VudGF0aW9uIG9mIHBhcmVudGhlc2VzIHdpdGhpbiB0aGUgZGVjbGFyYXRvci5cclxuICAgICAgICAgICAgbGV0IHRlbXBEZWNsID0gZGVjbDtcclxuICAgICAgICAgICAgd2hpbGUodGVtcERlY2wuc3ViKSB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wRGVjbCA9IHRlbXBEZWNsLnN1YjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGlzSW5uZXJtb3N0ID0gISh0ZW1wRGVjbC5wb2ludGVyIHx8IHRlbXBEZWNsLnJlZmVyZW5jZSB8fCB0ZW1wRGVjbC5zdWIpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGRlY2wubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgKDxNdXRhYmxlPHRoaXM+PnRoaXMpLm5hbWUgPSBkZWNsLm5hbWUuaWRlbnRpZmllcjtcclxuICAgICAgICAgICAgICAgIGNoZWNrSWRlbnRpZmllcih0aGlzLCBkZWNsLm5hbWUuaWRlbnRpZmllciwgdGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChkZWNsLnBvc3RmaXhlcykge1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBhcmVQb3N0Zml4ZXNJbm5lcm1vc3QgPSBpc0lubmVybW9zdDtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IGRlY2wucG9zdGZpeGVzLmxlbmd0aC0xOyBpID49IDA7IC0taSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBBIHBvc3RmaXggcG9ydGlvbiBvZiBhIGRlY2xhcmF0b3IgaXMgb25seSBpbm5lcm1vc3QgaWYgaXQncyB0aGUgbGVmdG1vc3Qgb25lLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHdoaWNoIHdvdWxkIGJlIGNsb3Nlc3QgdG8gd2hlcmUgdGhlIG5hbWUgd291bGQgb2NjdXIgaW4gdGhlIGRlY2xhcmF0b3IuIChOb3RlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhhdCB0aGlzIGlzIGFsc28gdGhlIGxhc3Qgb25lIHByb2Nlc3NlZCBoZXJlLCBzaW5jZSB3ZSBpdGVyYXRlIGJhY2t3YXJkIGRvd24gdG8gMC4pXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBvc3RmaXggPSBkZWNsLnBvc3RmaXhlc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBpc0lubmVybW9zdCA9IGFyZVBvc3RmaXhlc0lubmVybW9zdCAmJiBpID09PSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZihwb3N0Zml4LmtpbmQgPT09IFwiYXJyYXlcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZS5pc0JvdW5kZWRBcnJheVR5cGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmFycmF5Lm11bHRpZGltZW5zaW9uYWxfYXJyYXlzX3Vuc3VwcG9ydGVkKHRoaXMpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0eXBlLmlzQXJyYXlFbGVtVHlwZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uYXJyYXkuaW52YWxpZF9lbGVtZW50X3R5cGUodGhpcywgdHlwZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBpdCdzIGEgcGFyYW1ldGVyIGFuZCBpdCdzIGFuIGFycmF5LCBhZGp1c3QgdG8gcG9pbnRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBtb3ZlIHRoaXMgdG8gUGFyYW1ldGVyIERlY2xhcmF0aW9uIGNsYXNzIGluc3RlYWQgb2YgaGVyZSBzbyB0aGF0IGEgRGVjbGFyYXRvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkb2Vzbid0IG5lZWQgaW5mb3JtYXRpb24gYWJvdXQgaXRzIGNvbnRleHQgKGkuZS4gd2hldGhlciBpdCdzIGluIGEgcGFyYW1ldGVyKSB0byBkbyBpdHMgam9iLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAoaXNQYXJhbSAmJiBpbm5lcm1vc3QgJiYgaSA9PSBkZWNsLnBvc3RmaXhlcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBwcmV2ID0gXCJwb2ludGVyXCI7IC8vIERvbid0IHRoaW5rIHRoaXMgaXMgbmVjZXNzYXJ5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB0eXBlID0gVHlwZXMuUG9pbnRlci5pbnN0YW5jZSh0eXBlLCBkZWNsW1wiY29uc3RcIl0sIGRlY2xbXCJ2b2xhdGlsZVwiXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3N0Zml4LnNpemUpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9zdGZpeC5zaXplLmNvbnN0cnVjdF90eXBlID09PSBcIm51bWVyaWNfbGl0ZXJhbFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHNpemUgc3BlY2lmaWVkIGlzIGEgbGl0ZXJhbCwganVzdCB1c2UgaXRzIHZhbHVlIGFzIGFycmF5IGxlbmd0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSBuZXcgQm91bmRlZEFycmF5VHlwZSh0eXBlLCBwYXJzZU51bWVyaWNMaXRlcmFsVmFsdWVGcm9tQVNUKHBvc3RmaXguc2l6ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgYSBzaXplIGlzIHNwZWNpZmllZCwgdGhhdCBpcyBub3QgYSBsaXRlcmFsLCBpdCBtdXN0IGJlIGFuIGV4cHJlc3Npb24gKHZpYSB0aGUgZ3JhbW1hcikuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBzaXplIGV4cHJlc3Npb24gY291bGQgZS5nLiBiZSB1c2VkIGZvciBhIGR5bmFtaWNhbGx5IGFsbG9jYXRlZCBhcnJheS4gSW4gdGhhdCBjYXNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIHByb3ZpZGUgdGhlIEFTVCBvZiB0aGUgc2l6ZSBleHByZXNzaW9uIGFzIHBhcnQgb2YgdGhlIHR5cGUgc28gaXQgY2FuIGJlIHVzZWQgbGF0ZXIgYnlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhIG5ldyBleHByZXNzaW9uIHRvIGNvbnN0cnVjdCB0aGUgc2l6ZSBzdWJleHByZXNzaW9uIGZvciB0aGUgYWxsb2NhdGVkIGFycmF5LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSBuZXcgQXJyYXlPZlVua25vd25Cb3VuZFR5cGUodHlwZSwgcG9zdGZpeC5zaXplKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBJdCBpcyBhbHNvIHBvc3NpYmxlIHRoZSBzaXplIGlzIGEgY29tcGlsZS10aW1lIGNvbnN0YW50IGV4cHJlc3Npb24sIGluIHdoaWNoIGNhc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCBzaG91bGQgYmUgZXZhbHVhdGVkIHRvIGRldGVybWluZSB0aGUgc2l6ZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBtb3ZlIHRoZXNlIGVycm9ycyBlbHNld2hlcmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIChwb3N0Zml4LnNpemUuY29uc3RydWN0X3R5cGUgIT09IFwibGl0ZXJhbFwiICYmICEoaXNJbm5lcm1vc3QgJiYgaXNBKHRoaXMucGFyZW50LCBFeHByZXNzaW9ucy5OZXdFeHByZXNzaW9uKSkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLy9UT0RPIG5lZWQgdG8gZXZhbHVhdGUgc2l6ZSBvZiBhcnJheSBpZiBpdCdzIGEgY29tcGlsZS10aW1lIGNvbnN0YW50IGV4cHJlc3Npb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uYXJyYXkubGl0ZXJhbF9sZW5ndGhfb25seSh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlbHNlIGlmIChwb3N0Zml4LnNpemUuY29uc3RydWN0X3R5cGUgPT09IFwibGl0ZXJhbFwiICYmIHBvc3RmaXguc2l6ZS52YWx1ZSA9PSAwICYmICEoaW5uZXJtb3N0ICYmIGlzQSh0aGlzLnBhcmVudCwgRXhwcmVzc2lvbnMuTmV3RXhwcmVzc2lvbikpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uYXJyYXkuemVyb19sZW5ndGgodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZWxzZSBzaXplIHdhcyBmaW5lIGFuZCBub3RoaW5nIG5lZWRzIHRvIGJlIGRvbmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSBuZXcgQXJyYXlPZlVua25vd25Cb3VuZFR5cGUodHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocG9zdGZpeC5raW5kID09PSBcImZ1bmN0aW9uXCIpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdHlwZS5pc1BvdGVudGlhbFJldHVyblR5cGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUuaXNGdW5jdGlvblR5cGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5mdW5jLnJldHVybl9mdW5jKHRoaXMpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUuaXNCb3VuZGVkQXJyYXlUeXBlKCkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5mdW5jLnJldHVybl9hcnJheSh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uZnVuYy5pbnZhbGlkX3JldHVybl90eXBlKHRoaXMsIHR5cGUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmFtRGVjbGFyYXRvcnMgPSBwb3N0Zml4LmFyZ3MubWFwKChhcmdBU1QpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0b3JhZ2VTcGVjID0gU3RvcmFnZVNwZWNpZmllci5jcmVhdGVGcm9tQVNUKGFyZ0FTVC5zcGVjcy5zdG9yYWdlU3BlY3MsIHRoaXMuY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaChzdG9yYWdlU3BlYyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdG9yYWdlU3BlYy5pc0VtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZVNwZWMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5wYXJhbWV0ZXIuc3RvcmFnZV9wcm9oaWJpdGVkKHRoaXMpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOZWVkIHRvIGNyZWF0ZSBUeXBlU3BlY2lmaWVyIGZpcnN0IHRvIGdldCB0aGUgYmFzZSB0eXBlIGZpcnN0IGZvciB0aGUgZGVjbGFyYXRvcnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0eXBlU3BlYyA9IFR5cGVTcGVjaWZpZXIuY3JlYXRlRnJvbUFTVChhcmdBU1Quc3BlY3MudHlwZVNwZWNzLCB0aGlzLmNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRhY2godHlwZVNwZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb21waWxlIGRlY2xhcmF0b3IgZm9yIGVhY2ggcGFyYW1ldGVyIChvZiB0aGUgZnVuY3Rpb24tdHlwZSBhcmd1bWVudCBpdHNlbGYpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGVjbGFyYXRvci5jcmVhdGVGcm9tQVNUKGFyZ0FTVC5kZWNsYXJhdG9yLCB0aGlzLmNvbnRleHQsIHR5cGVTcGVjLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgKDxNdXRhYmxlPHRoaXM+PnRoaXMpLnBhcmFtZXRlcnMgPSBwYXJhbURlY2xhcmF0b3JzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmFtVHlwZXMgPSBwYXJhbURlY2xhcmF0b3JzLm1hcChkZWNsID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGVjbC50eXBlKSB7IHJldHVybiBkZWNsLnR5cGU7IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGVjbC50eXBlLmlzQm91bmRlZEFycmF5VHlwZSgpKSB7IHJldHVybiBkZWNsLnR5cGU7IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgeyByZXR1cm4gZGVjbC50eXBlLmFkanVzdFRvUG9pbnRlclR5cGUoKTt9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQSBwYXJhbWV0ZXIgbGlzdCBvZiBqdXN0ICh2b2lkKSBzcGVjaWZpZXMgbm8gcGFyYW1ldGVyc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyYW1UeXBlcy5sZW5ndGggPT0gMSAmJiBwYXJhbVR5cGVzWzBdICYmIHBhcmFtVHlwZXNbMF0uaXNWb2lkVHlwZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbVR5cGVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2Ugdm9pZCBwYXJhbWV0ZXJzIGFyZSBiYWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcGFyYW1UeXBlcy5sZW5ndGg7ICsraikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYXJhbVR5cGUgPSBwYXJhbVR5cGVzW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJhbVR5cGUgJiYgcGFyYW1UeXBlLmlzVm9pZFR5cGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uZnVuYy52b2lkX3BhcmFtKHBhcmFtRGVjbGFyYXRvcnNbal0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGFyYW1UeXBlcy5ldmVyeShwYXJhbVR5cGUgPT4gcGFyYW1UeXBlICYmIHBhcmFtVHlwZS5pc1BvdGVudGlhbFBhcmFtZXRlclR5cGUoKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5mdW5jLnNvbWVfaW52YWxpZF9wYXJhbWV0ZXJfdHlwZXModGhpcykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIGNsZWFuIHVwIGVycm9yIGltbWVkaWF0ZWx5IGFib3ZlIGFuZCBnZXQgcmlkIG9mIHl1Y2t5IGNhc3QgYmVsb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9IG5ldyBGdW5jdGlvblR5cGUodHlwZSwgPFBvdGVudGlhbFBhcmFtZXRlclR5cGVbXT5wYXJhbVR5cGVzLCBkZWNsLmNvbnN0LCBkZWNsLnZvbGF0aWxlLCB0aGlzLmNvbnRleHQuY29udGFpbmluZ0NsYXNzICYmIHRoaXMuY29udGV4dC5jb250YWluaW5nQ2xhc3MuY3ZRdWFsaWZpZWQoISFwb3N0Zml4LmNvbnN0KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBmaXJzdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBQcm9jZXNzIHBvaW50ZXJzL3JlZmVyZW5jZXMgbmV4dFxyXG4gICAgICAgICAgICAvLyBOT1RFOiB0aGlzIGxpbmUgc2hvdWxkIE5PVCBiZSBlbHNlIGlmIHNpbmNlIHRoZSBzYW1lIEFTVCBub2RlIG1heVxyXG4gICAgICAgICAgICAvLyBoYXZlIGJvdGggcG9zdGZpeGVzIGFuZCBhIHBvaW50ZXIvcmVmZXJlbmNlXHJcbiAgICAgICAgICAgIGlmIChkZWNsLnBvaW50ZXIpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdHlwZS5pc09iamVjdFR5cGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlLmlzUmVmZXJlbmNlVHlwZSgpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLnBvaW50ZXIucmVmZXJlbmNlKHRoaXMpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZS5pc1ZvaWRUeXBlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLnBvaW50ZXIudm9pZCh0aGlzKSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5wb2ludGVyLmludmFsaWRfcG9pbnRlZF90eXBlKHRoaXMsIHR5cGUpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdHlwZSA9IG5ldyBQb2ludGVyVHlwZSh0eXBlLCBkZWNsW1wiY29uc3RcIl0sIGRlY2xbXCJ2b2xhdGlsZVwiXSk7XHJcbiAgICAgICAgICAgICAgICBkZWNsID0gZGVjbC5wb2ludGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRlY2wucmVmZXJlbmNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXR5cGUuaXNPYmplY3RUeXBlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZS5pc1JlZmVyZW5jZVR5cGUoKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5yZWYucmVmKHRoaXMpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5yZWYuaW52YWxpZF9yZWZlcnJlZF90eXBlKHRoaXMsIHR5cGUpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdHlwZSA9IG5ldyBSZWZlcmVuY2VUeXBlKHR5cGUsIGRlY2xbXCJjb25zdFwiXSwgZGVjbFtcInZvbGF0aWxlXCJdKTtcclxuICAgICAgICAgICAgICAgIGRlY2wgPSBkZWNsLnJlZmVyZW5jZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChkZWNsLmhhc093blByb3BlcnR5KFwic3ViXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBkZWNsID0gZGVjbC5zdWI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmaXJzdCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgKDxNdXRhYmxlPHRoaXM+PnRoaXMpLnR5cGUgPSB0eXBlO1xyXG5cclxuICAgICAgICAvLyBJZiBpdCdzIG5vdCBhIGZ1bmN0aW9uIHR5cGUsIHRoZSByZWNvcmRlZCBwYXJhbWV0ZXJzIGFyZW4ndCBtZWFuaW5nZnVsXHJcbiAgICAgICAgaWYgKCF0eXBlLmlzRnVuY3Rpb25UeXBlKCkpIHtcclxuICAgICAgICAgICAgZGVsZXRlICg8TXV0YWJsZTx0aGlzPj50aGlzKS5wYXJhbWV0ZXJzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuXHJcbmxldCBPVkVSTE9BREFCTEVfT1BTIDoge1tpbmRleDpzdHJpbmddOiB0cnVlIHwgdW5kZWZpbmVkfSA9IHt9O1xyXG5cclxuW1wibmV3W11cIlxyXG4gICAgLCBcImRlbGV0ZVtdXCJcclxuICAgICwgXCJuZXdcIlxyXG4gICAgLCBcImRlbGV0ZVwiXHJcbiAgICAsIFwiLT4qXCIsIFwiPj49XCIsIFwiPDw9XCJcclxuICAgICwgXCIrPVwiLCBcIi09XCIsIFwiKj1cIiwgXCIsPVwiLCBcIiU9XCIsIFwiXj1cIlxyXG4gICAgLCBcIiY9XCIsIFwifD1cIiwgXCI8PFwiLCBcIj4+XCIsIFwiPT1cIiwgXCIhPVwiXHJcbiAgICAsIFwiPD1cIiwgXCI+PVwiLCBcIiYmXCIsIFwifHxcIiwgXCIrK1wiLCBcIi0tXCJcclxuICAgICwgXCItPlwiLCBcIigpXCIsIFwiW11cIlxyXG4gICAgLCBcIitcIiwgXCItXCIsIFwiKlwiLCBcIi9cIiwgXCIlXCIsIFwiXlwiLCBcIiZcIlxyXG4gICAgLCBcInxcIiwgXCJ+XCIsIFwiIVwiLCBcIj1cIiwgXCI8XCIsIFwiPlwiLCBcIixcIl0uZm9yRWFjaChmdW5jdGlvbiAob3ApIHtcclxuICAgICAgICBPVkVSTE9BREFCTEVfT1BTW1wib3BlcmF0b3JcIiArIG9wXSA9IHRydWU7XHJcbiAgICB9KTtcclxuXHJcbmV4cG9ydCB0eXBlIEZ1bmN0aW9uQm9keUFTVE5vZGUgPSBCbG9ja0FTVE5vZGU7XHJcbiAgICBcclxuZXhwb3J0IGludGVyZmFjZSBGdW5jdGlvbkRlZmluaXRpb25BU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJmdW5jdGlvbl9kZWZpbml0aW9uXCI7XHJcbiAgICByZWFkb25seSBzcGVjczogRGVjbGFyYXRpb25TcGVjaWZpZXJzQVNUTm9kZTtcclxuICAgIHJlYWRvbmx5IGRlY2xhcmF0b3I6IERlY2xhcmF0b3JBU1ROb2RlO1xyXG4gICAgcmVhZG9ubHkgYm9keTogRnVuY3Rpb25Cb2R5QVNUTm9kZTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEZ1bmN0aW9uRGVmaW5pdGlvbiBleHRlbmRzIEJhc2ljQ1BQQ29uc3RydWN0PEZ1bmN0aW9uQ29udGV4dD4ge1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGtpbmQgPSBcIkZ1bmN0aW9uRGVmaW5pdGlvblwiO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBkZWNsYXJhdGlvbjogRnVuY3Rpb25EZWNsYXJhdGlvbjtcclxuICAgIHB1YmxpYyByZWFkb25seSBwYXJhbWV0ZXJzOiByZWFkb25seSBQYXJhbWV0ZXJEZWZpbml0aW9uW107XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgYm9keTogQmxvY2s7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVGcm9tQVNUKGFzdDogRnVuY3Rpb25EZWZpbml0aW9uQVNUTm9kZSwgY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBkZWNsYXJhdGlvbiA9IGNyZWF0ZVNpbXBsZURlY2xhcmF0aW9uRnJvbUFTVCh7XHJcbiAgICAgICAgICAgIGNvbnN0cnVjdF90eXBlOiBcInNpbXBsZV9kZWNsYXJhdGlvblwiLFxyXG4gICAgICAgICAgICBkZWNsYXJhdG9yczogW2FzdC5kZWNsYXJhdG9yXSxcclxuICAgICAgICAgICAgc3BlY3M6IGFzdC5zcGVjcyxcclxuICAgICAgICAgICAgc291cmNlOiBhc3QuZGVjbGFyYXRvci5zb3VyY2VcclxuICAgICAgICB9LCBjb250ZXh0KVswXTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoIShkZWNsYXJhdGlvbiBpbnN0YW5jZW9mIEZ1bmN0aW9uRGVjbGFyYXRpb24pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW52YWxpZENvbnN0cnVjdChjb250ZXh0LCBDUFBFcnJvci5kZWNsYXJhdGlvbi5mdW5jLmRlZmluaXRpb25fbm9uX2Z1bmN0aW9uX3R5cGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIGltcGxlbWVudGF0aW9uIGFuZCBib2R5IGJsb2NrIChiZWZvcmUgcGFyYW1zIGFuZCBib2R5IHN0YXRlbWVudHMgYWRkZWQgeWV0KVxyXG4gICAgICAgIGxldCBmdW5jdGlvbkNvbnRleHQgPSBjcmVhdGVGdW5jdGlvbkNvbnRleHQoY29udGV4dCwgZGVjbGFyYXRpb24uZGVjbGFyZWRFbnRpdHkpO1xyXG4gICAgICAgIGxldCBib2R5ID0gbmV3IEJsb2NrKGZ1bmN0aW9uQ29udGV4dCk7XHJcbiAgICAgICAgbGV0IGJvZHlDb250ZXh0ID0gYm9keS5ibG9ja0NvbnRleHQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ3JlYXRlIHBhcmFtZXRlcnMsIHdoaWNoIGFyZSBnaXZlbiB0aGUgYm9keSBibG9jaydzIGNvbnRleHQgdG8gYWRkIGRlY2xhcmVkIGVudGl0aWVzIHRvLlxyXG4gICAgICAgIC8vIEFzIHRoZSBjb250ZXh0IHJlZmVycyBiYWNrIHRvIHRoZSBpbXBsZW1lbnRhdGlvbiwgbG9jYWwgb2JqZWN0cy9yZWZlcmVuY2VzIHdpbGwgYmUgcmVnaXN0ZXJkIHRoZXJlLlxyXG4gICAgICAgIGxldCBwYXJhbWV0ZXJzID0gZGVjbGFyYXRpb24ucGFyYW1ldGVyRGVjbGFyYXRvcnMubWFwKChwYXJhbURlY2xhcmF0b3IpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQYXJhbWV0ZXJEZWZpbml0aW9uKGJvZHlDb250ZXh0LFxyXG4gICAgICAgICAgICAgICAgVHlwZVNwZWNpZmllci5jcmVhdGVGcm9tQVNUKFtdLCBib2R5Q29udGV4dCksXHJcbiAgICAgICAgICAgICAgICBTdG9yYWdlU3BlY2lmaWVyLmNyZWF0ZUZyb21BU1QoW10sIGJvZHlDb250ZXh0KSxcclxuICAgICAgICAgICAgICAgIHBhcmFtRGVjbGFyYXRvcixcclxuICAgICAgICAgICAgICAgIHt9LCA8UG90ZW50aWFsUGFyYW1ldGVyVHlwZT5wYXJhbURlY2xhcmF0b3IudHlwZSk7IC8vIFRPRE86IGhhY2t5IGNhc3QsIGNhbiBiZSBlbGltaXRlZCB3aGVuIHBhcmFtZXRlciBkZWNsYXJhdGlvbnMgYXJlIHVwZ3JhZGVkIHRvIHRoZWlyIG93biBjb25zdHJ1Y3RcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gTWFudWFsbHkgYWRkIHN0YXRlbWVudHMgdG8gYm9keS4gKFRoaXMgaGFzbid0IGJlZW4gZG9uZSBiZWNhdXNlIHRoZSBib2R5IGJsb2NrIHdhcyBjcmF0ZWQgbWFudWFsbHksIG5vdFxyXG4gICAgICAgIC8vIGZyb20gdGhlIEFTVCB0aHJvdWdoIHRoZSBCbG9jay5jcmVhdGVGcm9tQVNUIGZ1bmN0aW9uLiBBbmQgd2Ugd2FpdCB1bnRpbCBub3cgdG8gZG8gaXQgc28gdGhleSB3aWxsIGJlXHJcbiAgICAgICAgLy8gYWRkZWQgYWZ0ZXIgdGhlIHBhcmFtZXRlcnMuKVxyXG4gICAgICAgIGFzdC5ib2R5LnN0YXRlbWVudHMuZm9yRWFjaChzTm9kZSA9PiBib2R5LmFkZFN0YXRlbWVudChjcmVhdGVTdGF0ZW1lbnRGcm9tQVNUKHNOb2RlLCBib2R5Q29udGV4dCkpKTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uRGVmaW5pdGlvbihmdW5jdGlvbkNvbnRleHQsIGRlY2xhcmF0aW9uLCBwYXJhbWV0ZXJzLCBib2R5KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBpX2NoaWxkcmVuVG9FeGVjdXRlOiBbXCJtZW1iZXJJbml0aWFsaXplcnNcIiwgXCJib2R5XCJdLCAvLyBUT0RPOiB3aHkgZG8gcmVndWxhciBmdW5jdGlvbnMgaGF2ZSBtZW1iZXIgaW5pdGlhbGl6ZXJzPz9cclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29udGV4dDogRnVuY3Rpb25Db250ZXh0LCBkZWNsYXJhdGlvbjogRnVuY3Rpb25EZWNsYXJhdGlvbiwgcGFyYW1ldGVyczogcmVhZG9ubHkgUGFyYW1ldGVyRGVmaW5pdGlvbltdLCBib2R5OiBCbG9jaykge1xyXG4gICAgICAgIHN1cGVyKGNvbnRleHQpO1xyXG4gICAgICAgIHRoaXMuYXR0YWNoKHRoaXMuZGVjbGFyYXRpb24gPSBkZWNsYXJhdGlvbik7XHJcbiAgICAgICAgdGhpcy5hdHRhY2hBbGwodGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycyk7XHJcbiAgICAgICAgdGhpcy5hdHRhY2godGhpcy5ib2R5ID0gYm9keSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5jb250ZXh0LnRyYW5zbGF0aW9uVW5pdC5wcm9ncmFtLnJlZ2lzdGVyRnVuY3Rpb25EZWZpbml0aW9uKHRoaXMuZGVjbGFyYXRpb24uZGVjbGFyZWRFbnRpdHkucXVhbGlmaWVkTmFtZSwgdGhpcyk7XHJcblxyXG4gICAgICAgIC8vIHRoaXMuYXV0b3NUb0Rlc3RydWN0ID0gdGhpcy5ib2R5U2NvcGUuYXV0b21hdGljT2JqZWN0cy5maWx0ZXIoZnVuY3Rpb24ob2JqKXtcclxuICAgICAgICAvLyAgICAgcmV0dXJuIGlzQShvYmoudHlwZSwgVHlwZXMuQ2xhc3MpO1xyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICAvLyB0aGlzLmJvZHlTY29wZS5hdXRvbWF0aWNPYmplY3RzLmZpbHRlcihmdW5jdGlvbihvYmope1xyXG4gICAgICAgIC8vICAgcmV0dXJuIGlzQShvYmoudHlwZSwgVHlwZXMuQXJyYXkpICYmIGlzQShvYmoudHlwZS5lbGVtVHlwZSwgVHlwZXMuQ2xhc3MpO1xyXG4gICAgICAgIC8vIH0pLm1hcChmdW5jdGlvbihhcnIpe1xyXG4gICAgICAgIC8vICAgZm9yKHZhciBpID0gMDsgaSA8IGFyci50eXBlLmxlbmd0aDsgKytpKXtcclxuICAgICAgICAvLyAgICAgc2VsZi5hdXRvc1RvRGVzdHJ1Y3QucHVzaChBcnJheVN1Ym9iamVjdEVudGl0eS5pbnN0YW5jZShhcnIsIGkpKTtcclxuICAgICAgICAvLyAgIH1cclxuICAgICAgICAvLyB9KTtcclxuXHJcbiAgICAgICAgLy8gdGhpcy5hdXRvc1RvRGVzdHJ1Y3QgPSB0aGlzLmF1dG9zVG9EZXN0cnVjdC5tYXAoZnVuY3Rpb24oZW50aXR5VG9EZXN0cnVjdCl7XHJcbiAgICAgICAgLy8gICAgIHZhciBkZXN0ID0gZW50aXR5VG9EZXN0cnVjdC50eXBlLmRlc3RydWN0b3I7XHJcbiAgICAgICAgLy8gICAgIGlmIChkZXN0KXtcclxuICAgICAgICAvLyAgICAgICAgIHZhciBjYWxsID0gRnVuY3Rpb25DYWxsLmluc3RhbmNlKHthcmdzOiBbXX0sIHtwYXJlbnQ6IHNlbGYsIHNjb3BlOiBzZWxmLmJvZHlTY29wZX0pO1xyXG4gICAgICAgIC8vICAgICAgICAgY2FsbC5jb21waWxlKHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBmdW5jOiBkZXN0LFxyXG4gICAgICAgIC8vICAgICAgICAgICAgIHJlY2VpdmVyOiBlbnRpdHlUb0Rlc3RydWN0fSk7XHJcbiAgICAgICAgLy8gICAgICAgICByZXR1cm4gY2FsbDtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vICAgICBlbHNle1xyXG4gICAgICAgIC8vICAgICAgICAgc2VsZi5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmR0b3Iubm9fZGVzdHJ1Y3Rvcl9hdXRvKGVudGl0eVRvRGVzdHJ1Y3QuZGVjbCwgZW50aXR5VG9EZXN0cnVjdCkpO1xyXG4gICAgICAgIC8vICAgICB9XHJcblxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRnVuY3Rpb248UmV0dXJuVHlwZSBleHRlbmRzIFBvdGVudGlhbFJldHVyblR5cGU+KHRoaXM6IENvbXBpbGVkRnVuY3Rpb25EZWZpbml0aW9uPFJldHVyblR5cGU+LCBwYXJlbnQ6IFJ1bnRpbWVGdW5jdGlvbkNhbGwsIHJlY2VpdmVyPzogQ1BQT2JqZWN0PENsYXNzVHlwZT4pIDogUnVudGltZUZ1bmN0aW9uPFJldHVyblR5cGU+e1xyXG4gICAgICAgIHJldHVybiBuZXcgUnVudGltZUZ1bmN0aW9uKHRoaXMsIHBhcmVudCwgcmVjZWl2ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGNhbGxTZWFyY2ggOiBmdW5jdGlvbihjYWxsYmFjaywgb3B0aW9ucyl7XHJcbiAgICAvLyAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcbiAgICAvLyAgICAgLy8gdGhpcy5jYWxscyB3aWxsIGJlIGZpbGxlZCB3aGVuIHRoZSBib2R5IGlzIGJlaW5nIGNvbXBpbGVkXHJcbiAgICAvLyAgICAgLy8gV2UgYXNzdW1lIHRoaXMgaGFzIGFscmVhZHkgYmVlbiBkb25lIGZvciBhbGwgZnVuY3Rpb25zLlxyXG5cclxuICAgIC8vICAgICB0aGlzLmNhbGxDbG9zdXJlID0ge307XHJcblxyXG4gICAgLy8gICAgIHZhciBxdWV1ZSA9IFtdO1xyXG4gICAgLy8gICAgIHF1ZXVlLnVuc2hpZnRBbGwodGhpcy5jYWxscy5tYXAoZnVuY3Rpb24oY2FsbCl7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiB7Y2FsbDogY2FsbCwgZnJvbTogbnVsbH07XHJcbiAgICAvLyAgICAgfSkpO1xyXG5cclxuICAgIC8vICAgICB2YXIgc2VhcmNoID0ge1xyXG4gICAgLy8gICAgICAgICBjaGFpbjogW11cclxuICAgIC8vICAgICB9O1xyXG4gICAgLy8gICAgIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKXtcclxuICAgIC8vICAgICAgICAgdmFyIG5leHQgPSAob3B0aW9ucy5zZWFyY2hUeXBlID09PSBcImRmc1wiID8gcXVldWUucG9wKCkgOiBxdWV1ZS5zaGlmdCgpKTtcclxuICAgIC8vICAgICAgICAgdmFyIGNhbGwgPSBuZXh0LmNhbGw7XHJcbiAgICAvLyAgICAgICAgIHNlYXJjaC5jaGFpbiA9IG5leHQ7XHJcbiAgICAvLyAgICAgICAgIGlmIChzZWFyY2guc3RvcCl7XHJcbiAgICAvLyAgICAgICAgICAgICBicmVhaztcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICBlbHNlIGlmIChzZWFyY2guc2tpcCl7XHJcblxyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIGVsc2UgaWYgKGNhbGwuZnVuYy5pc0xpbmtlZCgpICYmIGNhbGwuZnVuYy5pc1N0YXRpY2FsbHlCb3VuZCgpKXtcclxuXHJcbiAgICAvLyAgICAgICAgICAgICBpZiAoY2FsbC5zdGF0aWNGdW5jdGlvbi5kZWNsID09PSB0aGlzKXtcclxuICAgIC8vICAgICAgICAgICAgICAgICBzZWFyY2guY3ljbGUgPSB0cnVlO1xyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgZWxzZXtcclxuICAgIC8vICAgICAgICAgICAgICAgICBzZWFyY2guY3ljbGUgPSBmYWxzZTtcclxuICAgIC8vICAgICAgICAgICAgICAgICBmb3IodmFyIGMgPSBuZXh0LmZyb207IGM7IGMgPSBjLmZyb20pe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBpZiAoYy5jYWxsLnN0YXRpY0Z1bmN0aW9uLmVudGl0eUlkID09PSBjYWxsLnN0YXRpY0Z1bmN0aW9uLmVudGl0eUlkKXtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaC5jeWNsZSA9IHRydWU7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgIH1cclxuXHJcbiAgICAvLyAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhzZWFyY2gpO1xyXG5cclxuICAgIC8vICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gY3ljbGUsIHdlIGNhbiBwdXNoIGNoaWxkcmVuXHJcbiAgICAvLyAgICAgICAgICAgICBpZiAoIXNlYXJjaC5jeWNsZSAmJiBpc0EoY2FsbC5zdGF0aWNGdW5jdGlvbi5kZWNsLCBGdW5jdGlvbkRlZmluaXRpb24pKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgZm9yKHZhciBpID0gY2FsbC5zdGF0aWNGdW5jdGlvbi5kZWNsLmNhbGxzLmxlbmd0aC0xOyBpID49IDA7IC0taSl7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goe2NhbGw6IGNhbGwuc3RhdGljRnVuY3Rpb24uZGVjbC5jYWxsc1tpXSwgZnJvbTogbmV4dH0pO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgIH1cclxuXHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLmNhbGxDbG9zdXJlW2NhbGwuc3RhdGljRnVuY3Rpb24uZW50aXR5SWRdID0gdHJ1ZTtcclxuICAgIC8vICAgICAgICAgfVxyXG5cclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9LFxyXG5cclxuICAgIC8vIHRhaWxSZWN1cnNpb25BbmFseXNpcyA6IGZ1bmN0aW9uKGFubm90YXRlZENhbGxzKXtcclxuXHJcbiAgICAvLyAgICAgLy8gQXNzdW1lIG5vdCByZWN1cnNpdmUgYXQgZmlyc3QsIHdpbGwgYmUgc2V0IHRvIHRydWUgaWYgaXQgaXNcclxuICAgIC8vICAgICB0aGlzLmlzUmVjdXJzaXZlID0gZmFsc2U7XHJcblxyXG4gICAgLy8gICAgIC8vIEFzc3VtZSB3ZSBjYW4gdXNlIGNvbnN0YW50IHN0YWNrIHNwYWNlIGF0IGZpcnN0LCB3aWxsIGJlIHNldCB0byBmYWxzZSBpZiBub3RcclxuICAgIC8vICAgICB0aGlzLmNvbnN0YW50U3RhY2tTcGFjZSA9IHRydWU7XHJcblxyXG4gICAgLy8gICAgIC8vZnJvbSA9IGZyb20gfHwge3N0YXJ0OiB0aGlzLCBmcm9tOiBudWxsfTtcclxuXHJcbiAgICAvLyAgICAgLy8gVGhlIGZyb20gcGFyYW1ldGVyIHNvcnQgb2YgcmVwcmVzZW50cyBhbGwgZnVuY3Rpb25zIHdoaWNoLCBpZiBzZWVuIGFnYWluLCBjb25zdGl0dXRlIHJlY3Vyc2lvblxyXG5cclxuXHJcbiAgICAvLyAgICAgLy9jb25zb2xlLmxvZyhcInRhaWwgcmVjdXJzaW9uIGFuYWx5c2lzIGZvcjogXCIgKyB0aGlzLm5hbWUpO1xyXG4gICAgLy8gICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIC8vICAgICB0aGlzLmNhbGxTZWFyY2goZnVuY3Rpb24oc2VhcmNoKXtcclxuXHJcbiAgICAvLyAgICAgICAgIC8vIElnbm9yZSBub24tY3ljbGVzXHJcbiAgICAvLyAgICAgICAgIGlmICghc2VhcmNoLmN5Y2xlKXtcclxuICAgIC8vICAgICAgICAgICAgIHJldHVybjtcclxuICAgIC8vICAgICAgICAgfVxyXG5cclxuICAgIC8vICAgICAgICAgdmFyIHN0ciA9IFwiIClcIjtcclxuICAgIC8vICAgICAgICAgdmFyIGNoYWluID0gc2VhcmNoLmNoYWluO1xyXG4gICAgLy8gICAgICAgICB2YXIgY3ljbGVTdGFydCA9IGNoYWluLmNhbGw7XHJcbiAgICAvLyAgICAgICAgIHZhciBmaXJzdCA9IHRydWU7XHJcbiAgICAvLyAgICAgICAgIHZhciBpbkN5Y2xlID0gdHJ1ZTtcclxuICAgIC8vICAgICAgICAgdmFyIHRhaWxDeWNsZSA9IHRydWU7XHJcbiAgICAvLyAgICAgICAgIHZhciBub25UYWlsQ3ljbGVDYWxscyA9IFtdO1xyXG4gICAgLy8gICAgICAgICB2YXIgZmlyc3RDYWxsID0gY2hhaW4uY2FsbDtcclxuICAgIC8vICAgICAgICAgd2hpbGUgKGNoYWluKXtcclxuICAgIC8vICAgICAgICAgICAgIHZhciBjYWxsID0gY2hhaW4uY2FsbDtcclxuXHJcbiAgICAvLyAgICAgICAgICAgICAvLyBNYXJrIGFsbCBjYWxscyBpbiB0aGUgY3ljbGUgYXMgcGFydCBvZiBhIGN5Y2xlLCBleGNlcHQgdGhlIG9yaWdpbmFsXHJcbiAgICAvLyAgICAgICAgICAgICBpZiAoY2hhaW4uZnJvbSB8fCBmaXJzdCl7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgY2FsbC5pc1BhcnRPZkN5Y2xlID0gdHJ1ZTtcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuXHJcbiAgICAvLyAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgd2Uga25vdyB3aGV0aGVyIGl0J3MgYSB0YWlsIGNhbGxcclxuICAgIC8vICAgICAgICAgICAgIGNhbGwudGFpbFJlY3Vyc2lvbkNoZWNrKCk7XHJcblxyXG4gICAgLy8gICAgICAgICAgICAgLy8gQXQgdGltZSBvZiB3cml0aW5nLCB0aGlzIHdpbGwgYWx3YXlzIGJlIHRydWUgZHVlIHRvIHRoZSB3YXkgY2FsbCBzZWFyY2ggd29ya3NcclxuICAgIC8vICAgICAgICAgICAgIGlmIChjYWxsLnN0YXRpY0Z1bmN0aW9uKXtcclxuICAgIC8vICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBrbm93IHdoYXQgdGhlIGNhbGwgaXMgY2FsbGluZ1xyXG5cclxuXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgc3RyID0gKGNhbGwuc3RhdGljRnVuY3Rpb24ubmFtZSArIFwiLCBcIikgKyBzdHI7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKGNhbGwuaXNUYWlsKXtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgc3RyID0gXCJ0LVwiICsgc3RyO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgICAgICBpZiAoIWZpcnN0ICYmIGNhbGwuc3RhdGljRnVuY3Rpb24gPT09IGN5Y2xlU3RhcnQuc3RhdGljRnVuY3Rpb24pe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBpbkN5Y2xlID0gZmFsc2U7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIHN0ciA9IFwiKCBcIiArIHN0cjtcclxuICAgIC8vICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgLy8gICAgICAgICAgICAgICAgIC8vIFRoaXMgY29tZXMgYWZ0ZXIgcG9zc2libGUgY2hhbmdlIGluIGluQ3ljbGUgYmVjYXVzZSBmaXJzdCBwYXJ0IG9mIGN5Y2xlIGRvZXNuJ3QgaGF2ZSB0byBiZSB0YWlsXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKGluQ3ljbGUpe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBpZiAoIWFubm90YXRlZENhbGxzW2NhbGwuaWRdKXtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IGZpeCB0aGlzIHRvIG5vdCB1c2Ugc2VtYW50aWNQcm9ibGVtc1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VsZi5zZW1hbnRpY1Byb2JsZW1zLmFkZFdpZGdldChSZWN1cnNpdmVDYWxsQW5ub3RhdGlvbi5pbnN0YW5jZShjYWxsLCBjYWxsLmlzVGFpbCwgY2FsbC5pc1RhaWxSZWFzb24sIGNhbGwuaXNUYWlsT3RoZXJzKSk7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBhbm5vdGF0ZWRDYWxsc1tjYWxsLmlkXSA9IHRydWU7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKGluQ3ljbGUgJiYgIWNhbGwuaXNUYWlsKXtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGFpbEN5Y2xlID0gZmFsc2U7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIG5vblRhaWxDeWNsZUNhbGxzLnB1c2goY2FsbCk7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgZWxzZSBpZiAoY2FsbC5zdGF0aWNGdW5jdGlvblR5cGUpe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIC8vIE9rIGF0IGxlYXN0IHdlIGtub3cgdGhlIHR5cGUgd2UncmUgY2FsbGluZ1xyXG5cclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgLy8gVWhoIHdlIGRvbid0IGtub3cgYW55dGhpbmcuIFRoaXMgcmVhbGx5IHNob3VsZG4ndCBoYXBwZW4uXHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICBmaXJzdCA9IGZhbHNlO1xyXG4gICAgLy8gICAgICAgICAgICAgY2hhaW4gPSBjaGFpbi5mcm9tO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIC8vY29uc29sZS5sb2coc3RyICsgKHRhaWxDeWNsZSA/IFwiIHRhaWxcIiA6IFwiIG5vbi10YWlsXCIpKTtcclxuXHJcbiAgICAvLyAgICAgICAgIC8vIFdlIGZvdW5kIGEgY3ljbGUgc28gaXQncyBjZXJ0YWlubHkgcmVjdXJzaXZlXHJcbiAgICAvLyAgICAgICAgIHNlbGYuaXNSZWN1cnNpdmUgPSB0cnVlO1xyXG5cclxuICAgIC8vICAgICAgICAgLy8gSWYgd2UgZm91bmQgYSBub24tdGFpbCBjeWNsZSwgaXQncyBub3QgdGFpbCByZWN1cnNpdmVcclxuICAgIC8vICAgICAgICAgaWYgKCF0YWlsQ3ljbGUpe1xyXG4gICAgLy8gICAgICAgICAgICAgc2VsZi5jb25zdGFudFN0YWNrU3BhY2UgPSBmYWxzZTtcclxuICAgIC8vICAgICAgICAgICAgIGlmICghc2VsZi5ub25UYWlsQ3ljbGVzKXtcclxuICAgIC8vICAgICAgICAgICAgICAgICBzZWxmLm5vblRhaWxDeWNsZXMgPSBbXTtcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgIHNlbGYubm9uVGFpbEN5Y2xlcy5wdXNoKHNlYXJjaC5jaGFpbik7XHJcbiAgICAvLyAgICAgICAgICAgICBzZWxmLm5vblRhaWxDeWNsZSA9IHNlYXJjaC5jaGFpbjtcclxuICAgIC8vICAgICAgICAgICAgIHNlbGYubm9uVGFpbEN5Y2xlUmVhc29uID0gc3RyO1xyXG5cclxuICAgIC8vICAgICAgICAgICAgIGlmKCFzZWxmLm5vblRhaWxDeWNsZUNhbGxzKXtcclxuICAgIC8vICAgICAgICAgICAgICAgICBzZWxmLm5vblRhaWxDeWNsZUNhbGxzID0gW107XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICBzZWxmLm5vblRhaWxDeWNsZUNhbGxzLnB1c2hBbGwobm9uVGFpbEN5Y2xlQ2FsbHMpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfSx7XHJcbiAgICAvLyAgICAgICAgIHNlYXJjaFR5cGU6IFwiZGZzXCJcclxuICAgIC8vICAgICB9KTtcclxuICAgIC8vICAgICAvL2NvbnNvbGUubG9nKFwiXCIpO1xyXG4gICAgLy8gICAgIC8vY29uc29sZS5sb2coXCJcIik7XHJcblxyXG4gICAgLy8gICAgIHNlbGYudGFpbFJlY3Vyc2lvbkFuYWx5c2lzRG9uZSA9IHRydWU7XHJcblxyXG5cclxuICAgIC8vICAgICAvLyBUT0RPOiBmaXggdGhpcyB0byBub3QgdXNlIHNlbWFudGljUHJvYmxlbXNcclxuICAgIC8vICAgICAvLyB0aGlzLnNlbWFudGljUHJvYmxlbXMuYWRkV2lkZ2V0KFJlY3Vyc2l2ZUZ1bmN0aW9uQW5ub3RhdGlvbi5pbnN0YW5jZSh0aGlzKSk7XHJcbiAgICAvLyB9LFxyXG5cclxuICAgIC8vIGlzVGFpbENoaWxkIDogZnVuY3Rpb24oY2hpbGQpe1xyXG4gICAgLy8gICAgIGlmIChjaGlsZCAhPT0gdGhpcy5ib2R5KXtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIHtpc1RhaWw6IGZhbHNlfTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZSBpZiAodGhpcy5hdXRvc1RvRGVzdHJ1Y3QubGVuZ3RoID4gMCl7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiB7XHJcbiAgICAvLyAgICAgICAgICAgICBpc1RhaWw6IGZhbHNlLFxyXG4gICAgLy8gICAgICAgICAgICAgcmVhc29uOiBcIlRoZSBoaWdobGlnaHRlZCBsb2NhbCB2YXJpYWJsZXMgKFwiXHJcblxyXG4gICAgLy8gICAgICAgICAgICAgK1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5ib2R5U2NvcGUuYXV0b21hdGljT2JqZWN0cy5maWx0ZXIoZnVuY3Rpb24ob2JqKXtcclxuICAgIC8vICAgICAgICAgICAgICAgICByZXR1cm4gaXNBKG9iai50eXBlLCBUeXBlcy5DbGFzcyk7XHJcbiAgICAvLyAgICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24ob2JqKXtcclxuXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgcmV0dXJuIG9iai5uYW1lO1xyXG5cclxuICAgIC8vICAgICAgICAgICAgIH0pLmpvaW4oXCIsXCIpXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgK1xyXG5cclxuICAgIC8vICAgICAgICAgICAgIFwiKSBoYXZlIGRlc3RydWN0b3JzIHRoYXQgd2lsbCBydW4gYXQgdGhlIGVuZCBvZiB0aGUgZnVuY3Rpb24gYm9keSAoaS5lLiBhZnRlciBhbnkgcG9zc2libGUgcmVjdXJzaXZlIGNhbGwpLlwiLFxyXG4gICAgLy8gICAgICAgICAgICAgb3RoZXJzOiB0aGlzLmJvZHlTY29wZS5hdXRvbWF0aWNPYmplY3RzLmZpbHRlcihmdW5jdGlvbihvYmope1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHJldHVybiBpc0Eob2JqLnR5cGUsIFR5cGVzLkNsYXNzKTtcclxuICAgIC8vICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbihvYmope1xyXG5cclxuICAgIC8vICAgICAgICAgICAgICAgICB2YXIgZGVjbCA9IG9iai5kZWNsO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGlmIChpc0EoZGVjbCwgRGVjbGFyYXRvcikpe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBkZWNsID0gZGVjbC5wYXJlbnQ7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgICAgIHJldHVybiBkZWNsO1xyXG5cclxuICAgIC8vICAgICAgICAgICAgIH0pXHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZSB7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiB7aXNUYWlsOiB0cnVlfTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9LFxyXG4gICAgLy8gZGVzY3JpYmUgOiBmdW5jdGlvbigpe1xyXG4gICAgLy8gICAgIHZhciBleHAgPSB7fTtcclxuICAgIC8vICAgICBleHAubWVzc2FnZSA9IFwiYSBmdW5jdGlvbiBkZWZpbml0aW9uXCI7XHJcbiAgICAvLyAgICAgcmV0dXJuIGV4cDtcclxuICAgIC8vIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZEZ1bmN0aW9uRGVmaW5pdGlvbjxSZXR1cm5UeXBlIGV4dGVuZHMgUG90ZW50aWFsUmV0dXJuVHlwZSA9IFBvdGVudGlhbFJldHVyblR5cGU+IGV4dGVuZHMgRnVuY3Rpb25EZWZpbml0aW9uLCBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcbiAgICByZWFkb25seSBib2R5OiBDb21waWxlZEJsb2NrO1xyXG59XHJcblxyXG5cclxuXHJcbi8vIFRPRE86IHRoaXMgc2hvdWxkIGJlIGNhbGxlZCBDbGFzc0RlZmluaXRpb25cclxuLy8gZXhwb3J0IHZhciBDbGFzc0RlY2xhcmF0aW9uID0gQ1BQQ29uc3RydWN0LmV4dGVuZChCYXNlRGVjbGFyYXRpb25NaXhpbiwge1xyXG4vLyAgICAgX25hbWU6IFwiQ2xhc3NEZWNsYXJhdGlvblwiLFxyXG5cclxuLy8gICAgIGNvbXBpbGUgOiBmdW5jdGlvbigpe1xyXG4vLyAgICAgICAgIGFzc2VydChmYWxzZSwgXCJNdXN0IHVzZSBjb21waWxlRGVjbGFyYXRpb24gYW5kIGNvbXBpbGVEZWZpbml0aW9uIHNlcGFyYXRlbHkgZm9yIGEgQ2xhc3NEZWNsYXJhdGlvbi5cIik7XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIGNvbXBpbGVEZWNsYXJhdGlvbiA6IGZ1bmN0aW9uKCl7XHJcbi8vICAgICAgICAgdmFyIGFzdCA9IHRoaXMuYXN0O1xyXG5cclxuXHJcbi8vICAgICAgICAgdGhpcy5rZXkgPSBhc3QuaGVhZC5rZXk7XHJcbi8vICAgICAgICAgdGhpcy5uYW1lID0gYXN0LmhlYWQubmFtZS5pZGVudGlmaWVyO1xyXG4vLyAgICAgICAgIHRoaXMubWVtYmVycyA9IFtdO1xyXG5cclxuXHJcbi8vICAgICAgICAgLy8gQmFzZSBjbGFzc2VzXHJcblxyXG4vLyAgICAgICAgIGlmICh0aGlzLmFzdC5oZWFkLmJhc2VzICYmIHRoaXMuYXN0LmhlYWQuYmFzZXMubGVuZ3RoID4gMCl7XHJcbi8vICAgICAgICAgICAgIGlmICh0aGlzLmFzdC5oZWFkLmJhc2VzLmxlbmd0aCA+IDEpe1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmNsYXNzX2RlZi5tdWx0aXBsZV9pbmhlcml0YW5jZSh0aGlzKSk7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm47XHJcbi8vICAgICAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgICAgIHRyeXtcclxuLy8gICAgICAgICAgICAgICAgIHZhciBiYXNlQ29kZSA9IHRoaXMuYXN0LmhlYWQuYmFzZXNbMF07XHJcblxyXG4vLyAgICAgICAgICAgICAgICAgLy8gVE9ETyBORVc6IFVzZSBhbiBhY3R1YWwgSWRlbnRpZmllciBleHByZXNzaW9uIGZvciB0aGlzXHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmJhc2UgPSB0aGlzLmNvbnRleHR1YWxTY29wZS5yZXF1aXJlZExvb2t1cChiYXNlQ29kZS5uYW1lLmlkZW50aWZpZXIpO1xyXG5cclxuLy8gICAgICAgICAgICAgICAgIGlmICghaXNBKHRoaXMuYmFzZSwgVHlwZUVudGl0eSkgfHwgIWlzQSh0aGlzLmJhc2UudHlwZSwgVHlwZXMuQ2xhc3MpKXtcclxuLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuY2xhc3NfZGVmLmJhc2VfY2xhc3NfdHlwZSh7YXN0OmJhc2VDb2RlLm5hbWV9LCBiYXNlQ29kZS5uYW1lLmlkZW50aWZpZXIpKTtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgICAgICAgICBpZiAoYmFzZUNvZGUudmlydHVhbCl7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmNsYXNzX2RlZi52aXJ0dWFsX2luaGVyaXRhbmNlKHthc3Q6YmFzZUNvZGUubmFtZX0sIGJhc2VDb2RlLm5hbWUuaWRlbnRpZmllcikpO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGNhdGNoKGUpe1xyXG4vLyAgICAgICAgICAgICAgICAgaWYgKGlzQShlLCBTZW1hbnRpY0V4Y2VwdGlvbnMuQmFkTG9va3VwKSl7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKGUuYW5ub3RhdGlvbih0aGlzKSk7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcblxyXG5cclxuXHJcbi8vICAgICAgICAgLy8gQ2hlY2sgdGhhdCBubyBvdGhlciB0eXBlIHdpdGggdGhlIHNhbWUgbmFtZSBhbHJlYWR5IGV4aXN0c1xyXG4vLyAgICAgICAgIHRyeSB7XHJcbi8vIC8vICAgICAgICAgICAgY29uc29sZS5sb2coXCJhZGRpbmdFbnRpdHkgXCIgKyB0aGlzLm5hbWUpO1xyXG4vLyAgICAgICAgICAgICAvLyBjbGFzcyB0eXBlLiB3aWxsIGJlIGluY29tcGxldGUgaW5pdGlhbGx5LCBidXQgbWFkZSBjb21wbGV0ZSBhdCBlbmQgb2YgY2xhc3MgZGVjbGFyYXRpb25cclxuLy8gICAgICAgICAgICAgdGhpcy50eXBlID0gVHlwZXMuQ2xhc3MuY3JlYXRlQ2xhc3NUeXBlKHRoaXMubmFtZSwgdGhpcy5jb250ZXh0dWFsU2NvcGUsIHRoaXMuYmFzZSAmJiB0aGlzLmJhc2UudHlwZSwgW10pO1xyXG4vLyAgICAgICAgICAgICB0aGlzLmNsYXNzVHlwZUNsYXNzID0gdGhpcy50eXBlO1xyXG5cclxuLy8gICAgICAgICAgICAgdGhpcy5jbGFzc1Njb3BlID0gdGhpcy50eXBlLmNsYXNzU2NvcGU7XHJcblxyXG4vLyAgICAgICAgICAgICB0aGlzLmVudGl0eSA9IFR5cGVFbnRpdHkuaW5zdGFuY2UodGhpcyk7XHJcblxyXG4vLyAgICAgICAgICAgICB0aGlzLmVudGl0eS5zZXREZWZpbml0aW9uKHRoaXMpOyAvLyBUT0RPIGFkZCBleGNlcHRpb24gdGhhdCBhbGxvd3MgYSBjbGFzcyB0byBiZSBkZWZpbmVkIG1vcmUgdGhhbiBvbmNlXHJcblxyXG4vLyAgICAgICAgICAgICB0aGlzLmNvbnRleHR1YWxTY29wZS5hZGREZWNsYXJlZEVudGl0eSh0aGlzLmVudGl0eSk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGNhdGNoKGUpe1xyXG4vLyAgICAgICAgICAgICBpZiAoaXNBKGUsIE5vdGUpKXtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShlKTtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNlIHtcclxuLy8gICAgICAgICAgICAgICAgIHRocm93IGU7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcblxyXG5cclxuXHJcblxyXG4vLyAgICAgICAgIC8vIENvbXBpbGUgdGhlIG1lbWJlcnNcclxuXHJcblxyXG4vLyAgICAgICAgIHZhciBtZW1EZWNscyA9IHRoaXMubWVtRGVjbHMgPSBbXTtcclxuLy8gICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgYXN0Lm1lbWJlcl9zcGVjcy5sZW5ndGg7ICsraSl7XHJcbi8vICAgICAgICAgICAgIHZhciBzcGVjID0gYXN0Lm1lbWJlcl9zcGVjc1tpXTtcclxuLy8gICAgICAgICAgICAgdmFyIGFjY2VzcyA9IHNwZWMuYWNjZXNzIHx8IFwicHJpdmF0ZVwiO1xyXG4vLyAgICAgICAgICAgICBmb3IodmFyIGogPSAwOyBqIDwgc3BlYy5tZW1iZXJzLmxlbmd0aDsgKytqKXtcclxuLy8gICAgICAgICAgICAgICAgIHNwZWMubWVtYmVyc1tqXS5hY2Nlc3MgPSBhY2Nlc3M7XHJcbi8vICAgICAgICAgICAgICAgICB2YXIgbWVtRGVjbCA9IFNpbXBsZURlY2xhcmF0aW9uLmNyZWF0ZShzcGVjLm1lbWJlcnNbal0sIHtwYXJlbnQ6dGhpcywgc2NvcGU6IHRoaXMuY2xhc3NTY29wZSwgY29udGFpbmluZ0NsYXNzOiB0aGlzLnR5cGUsIGFjY2VzczphY2Nlc3N9KTtcclxuXHJcbi8vICAgICAgICAgICAgICAgICAvLyBXaXRoaW4gbWVtYmVyIGZ1bmN0aW9uIGRlZmluaXRpb25zLCBjbGFzcyBpcyBjb25zaWRlcmVkIGFzIGNvbXBsZXRlIGV2ZW4gdGhvdWdoIGl0IGlzbid0IHlldFxyXG4vLyAgICAgICAgICAgICAgICAgaWYgKGlzQShtZW1EZWNsLCBGdW5jdGlvbkRlZmluaXRpb24pKXtcclxuLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLnR5cGUuc2V0VGVtcG9yYXJpbHlDb21wbGV0ZSgpO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAgICAgICAgIG1lbURlY2wuY29tcGlsZURlY2xhcmF0aW9uKCk7XHJcblxyXG4vLyAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRlbXBvcmFyaWx5IGNvbXBsZXRlXHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLnR5cGUudW5zZXRUZW1wb3JhcmlseUNvbXBsZXRlKCk7XHJcblxyXG4vLyAgICAgICAgICAgICAgICAgbWVtRGVjbHMucHVzaChtZW1EZWNsKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIG5vIGNvbnN0cnVjdG9ycywgdGhlbiB3ZSBuZWVkIGFuIGltcGxpY2l0IGRlZmF1bHQgY29uc3RydWN0b3JcclxuLy8gICAgICAgICBpZih0aGlzLnR5cGUuY29uc3RydWN0b3JzLmxlbmd0aCA9PSAwKXtcclxuLy8gICAgICAgICAgICAgdmFyIGlkYyA9IHRoaXMuY3JlYXRlSW1wbGljaXREZWZhdWx0Q29uc3RydWN0b3IoKTtcclxuLy8gICAgICAgICAgICAgaWYgKGlkYyl7XHJcbi8vICAgICAgICAgICAgICAgICBpZGMuY29tcGlsZSgpO1xyXG4vLyAgICAgICAgICAgICAgICAgYXNzZXJ0KCFpZGMuaGFzRXJyb3JzKCkpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICBsZXQgaGFzQ29weUNvbnN0cnVjdG9yID0gZmFsc2U7XHJcbi8vICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMudHlwZS5jb25zdHJ1Y3RvcnMubGVuZ3RoOyArK2kpe1xyXG4vLyAgICAgICAgICAgICBpZiAodGhpcy50eXBlLmNvbnN0cnVjdG9yc1tpXS5kZWNsLmlzQ29weUNvbnN0cnVjdG9yKXtcclxuLy8gICAgICAgICAgICAgICAgIGhhc0NvcHlDb25zdHJ1Y3RvciA9IHRydWU7XHJcbi8vICAgICAgICAgICAgICAgICBicmVhaztcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuXHJcblxyXG4vLyAgICAgICAgIHZhciBoYXNVc2VyRGVmaW5lZEFzc2lnbm1lbnRPcGVyYXRvciA9IHRoaXMudHlwZS5oYXNNZW1iZXIoXCJvcGVyYXRvcj1cIiwge3BhcmFtVHlwZXM6IFt0aGlzLnR5cGVdLCBpc1RoaXNDb25zdDpmYWxzZX0pO1xyXG5cclxuLy8gICAgICAgICAvLyBSdWxlIG9mIHRoZSBCaWcgVGhyZWVcclxuLy8gICAgICAgICB2YXIgYmlnVGhyZWVZZXMgPSBbXTtcclxuLy8gICAgICAgICB2YXIgYmlnVGhyZWVObyA9IFtdO1xyXG4vLyAgICAgICAgIChoYXNDb3B5Q29uc3RydWN0b3IgPyBiaWdUaHJlZVllcyA6IGJpZ1RocmVlTm8pLnB1c2goXCJjb3B5IGNvbnN0cnVjdG9yXCIpO1xyXG4vLyAgICAgICAgIChoYXNVc2VyRGVmaW5lZEFzc2lnbm1lbnRPcGVyYXRvciA/IGJpZ1RocmVlWWVzIDogYmlnVGhyZWVObykucHVzaChcImFzc2lnbm1lbnQgb3BlcmF0b3JcIik7XHJcbi8vICAgICAgICAgKHRoaXMudHlwZS5kZXN0cnVjdG9yID8gYmlnVGhyZWVZZXMgOiBiaWdUaHJlZU5vKS5wdXNoKFwiZGVzdHJ1Y3RvclwiKTtcclxuXHJcbi8vICAgICAgICAgaWYgKDAgPCBiaWdUaHJlZVllcy5sZW5ndGggJiYgYmlnVGhyZWVZZXMubGVuZ3RoIDwgMyl7XHJcbi8vICAgICAgICAgICAgIC8vIElmIGl0J3Mgb25seSBiZWNhdXNlIG9mIGFuIGVtcHR5IGRlc3RydWN0b3IsIHN1cHByZXNzIHdhcm5pbmdcclxuLy8gICAgICAgICAgICAgaWYgKGJpZ1RocmVlWWVzLmxlbmd0aCA9PT0gMSAmJiB0aGlzLnR5cGUuZGVzdHJ1Y3RvciAmJiB0aGlzLnR5cGUuZGVzdHJ1Y3Rvci5kZWNsLmVtcHR5Qm9keSgpKXtcclxuXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5jbGFzc19kZWYuYmlnX3RocmVlKHRoaXMsIGJpZ1RocmVlWWVzLCBiaWdUaHJlZU5vKSk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIHRoaXMuY3VzdG9tQmlnVGhyZWUgPSBiaWdUaHJlZVllcy5sZW5ndGggPiAwO1xyXG5cclxuLy8gICAgICAgICBpZiAoIWhhc0NvcHlDb25zdHJ1Y3Rvcikge1xyXG4vLyAgICAgICAgICAgICAvLyBDcmVhdGUgaW1wbGljaXQgY29weSBjb25zdHJ1Y3RvclxyXG4vLyAgICAgICAgICAgICB2YXIgaWNjID0gdGhpcy5jcmVhdGVJbXBsaWNpdENvcHlDb25zdHJ1Y3RvcigpO1xyXG4vLyAgICAgICAgICAgICBpZiAoaWNjKSB7XHJcbi8vICAgICAgICAgICAgICAgICBpY2MuY29tcGlsZSgpO1xyXG4vLyAgICAgICAgICAgICAgICAgYXNzZXJ0KCFpY2MuaGFzRXJyb3JzKCkpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICBpZiAoIXRoaXMudHlwZS5kZXN0cnVjdG9yKSB7XHJcbi8vICAgICAgICAgICAgIC8vIENyZWF0ZSBpbXBsaWNpdCBkZXN0cnVjdG9yXHJcbi8vICAgICAgICAgICAgIHZhciBpZGQgPSB0aGlzLmNyZWF0ZUltcGxpY2l0RGVzdHJ1Y3RvcigpO1xyXG4vLyAgICAgICAgICAgICBpZiAoaWRkKSB7XHJcbi8vICAgICAgICAgICAgICAgICBpZGQuY29tcGlsZSgpO1xyXG4vLyAgICAgICAgICAgICAgICAgYXNzZXJ0KCFpZGQuaGFzRXJyb3JzKCkpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGlmICghaGFzVXNlckRlZmluZWRBc3NpZ25tZW50T3BlcmF0b3Ipe1xyXG5cclxuLy8gICAgICAgICAgICAgLy8gQ3JlYXRlIGltcGxpY2l0IGFzc2lnbm1lbnQgb3BlcmF0b3JcclxuLy8gICAgICAgICAgICAgdmFyIGlhbyA9IHRoaXMuY3JlYXRlSW1wbGljaXRBc3NpZ25tZW50T3BlcmF0b3IoKTtcclxuLy8gICAgICAgICAgICAgaWYgKGlhbyl7XHJcbi8vICAgICAgICAgICAgICAgICBpYW8uY29tcGlsZSgpO1xyXG4vLyAgICAgICAgICAgICAgICAgYXNzZXJ0KCFpYW8uaGFzRXJyb3JzKCkpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBjb21waWxlRGVmaW5pdGlvbiA6IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgIGlmICh0aGlzLmhhc0Vycm9ycygpKXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5tZW1EZWNscy5sZW5ndGg7ICsraSl7XHJcbi8vICAgICAgICAgICAgIHRoaXMubWVtRGVjbHNbaV0uY29tcGlsZURlZmluaXRpb24oKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG5cclxuXHJcbi8vICAgICBjcmVhdGVJbXBsaWNpdERlZmF1bHRDb25zdHJ1Y3RvciA6IGZ1bmN0aW9uKCl7XHJcbi8vICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuLy8gICAgICAgICAvLyBJZiBhbnkgZGF0YSBtZW1iZXJzIGFyZSBvZiByZWZlcmVuY2UgdHlwZSwgZG8gbm90IGNyZWF0ZSB0aGUgaW1wbGljaXQgZGVmYXVsdCBjb25zdHJ1Y3RvclxyXG4vLyAgICAgICAgIGlmICghdGhpcy50eXBlLm1lbWJlclN1Ym9iamVjdEVudGl0aWVzLmV2ZXJ5KGZ1bmN0aW9uKHN1Yk9iail7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gIWlzQShzdWJPYmoudHlwZSwgVHlwZXMuUmVmZXJlbmNlKTtcclxuLy8gICAgICAgICAgICAgfSkpe1xyXG4vLyAgICAgICAgICAgICByZXR1cm47XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAvLyBJZiBhbnkgY29uc3QgZGF0YSBtZW1iZXJzIGRvIG5vdCBoYXZlIGEgdXNlci1wcm92aWRlZCBkZWZhdWx0IGNvbnN0cnVjdG9yXHJcbi8vICAgICAgICAgaWYgKCF0aGlzLnR5cGUubWVtYmVyU3Vib2JqZWN0RW50aXRpZXMuZXZlcnkoZnVuY3Rpb24oc3ViT2JqKXtcclxuLy8gICAgICAgICAgICAgICAgIGlmICghaXNBKHN1Yk9iai50eXBlLCBUeXBlcy5DbGFzcykgfHwgIXN1Yk9iai50eXBlLmlzQ29uc3Qpe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgdmFyIGRlZkNvbiA9IHN1Yk9iai50eXBlLmdldERlZmF1bHRDb25zdHJ1Y3RvcigpO1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZkNvbiAmJiAhZGVmQ29uLmRlY2wuaXNJbXBsaWNpdCgpO1xyXG4vLyAgICAgICAgICAgICB9KSl7XHJcbi8vICAgICAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIC8vIElmIGFueSBzdWJvYmplY3RzIGRvIG5vdCBoYXZlIGEgZGVmYXVsdCBjb25zdHJ1Y3RvciBvciBkZXN0cnVjdG9yXHJcbi8vICAgICAgICAgaWYgKCF0aGlzLnR5cGUuc3Vib2JqZWN0RW50aXRpZXMuZXZlcnkoZnVuY3Rpb24oc3ViT2JqKXtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiAhaXNBKHN1Yk9iai50eXBlLCBUeXBlcy5DbGFzcykgfHxcclxuLy8gICAgICAgICAgICAgICAgICAgICBzdWJPYmoudHlwZS5nZXREZWZhdWx0Q29uc3RydWN0b3IoKSAmJlxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHN1Yk9iai50eXBlLmRlc3RydWN0b3I7XHJcbi8vICAgICAgICAgICAgIH0pKXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICAgIH1cclxuXHJcblxyXG4vLyAgICAgICAgIHZhciBzcmMgPSB0aGlzLm5hbWUgKyBcIigpIHt9XCI7XHJcbi8vICAgICAgICAgLy9UT0RPOiBpbml0aWFsaXplIG1lbWJlcnMgKGkuZS4gdGhhdCBhcmUgY2xhc3NlcylcclxuLy8gICAgICAgICBzcmMgPSBMb2JzdGVyLmNQbHVzUGx1c1BhcnNlci5wYXJzZShzcmMsIHtzdGFydFJ1bGU6XCJtZW1iZXJfZGVjbGFyYXRpb25cIn0pO1xyXG4vLyAgICAgICAgIHJldHVybiBDb25zdHJ1Y3RvckRlZmluaXRpb24uaW5zdGFuY2Uoc3JjLCB7cGFyZW50OnRoaXMsIHNjb3BlOiB0aGlzLmNsYXNzU2NvcGUsIGNvbnRhaW5pbmdDbGFzczogdGhpcy50eXBlLCBhY2Nlc3M6XCJwdWJsaWNcIiwgaW1wbGljaXQ6dHJ1ZX0pO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBjcmVhdGVJbXBsaWNpdENvcHlDb25zdHJ1Y3RvciA6IGZ1bmN0aW9uKCl7XHJcbi8vICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4vLyAgICAgICAgIC8vIElmIGFueSBzdWJvYmplY3RzIGFyZSBtaXNzaW5nIGEgY29weSBjb25zdHJ1Y3RvciwgZG8gbm90IGNyZWF0ZSBpbXBsaWNpdCBjb3B5IGN0b3JcclxuLy8gICAgICAgICBpZiAoIXRoaXMudHlwZS5zdWJvYmplY3RFbnRpdGllcy5ldmVyeShmdW5jdGlvbihzdWJPYmope1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuICFpc0Eoc3ViT2JqLnR5cGUsIFR5cGVzLkNsYXNzKSB8fFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHN1Yk9iai50eXBlLmdldENvcHlDb25zdHJ1Y3RvcihzdWJPYmoudHlwZS5pc0NvbnN0KTtcclxuLy8gICAgICAgICAgICAgfSkpe1xyXG4vLyAgICAgICAgICAgICByZXR1cm47XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAvLyBJZiBhbnkgc3Vib2JqZWN0cyBhcmUgbWlzc2luZyBhIGRlc3RydWN0b3IsIGRvIG5vdCBjcmVhdGUgaW1wbGljaXQgY29weSBjdG9yXHJcbi8vICAgICAgICAgaWYgKCF0aGlzLnR5cGUuc3Vib2JqZWN0RW50aXRpZXMuZXZlcnkoZnVuY3Rpb24oc3ViT2JqKXtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiAhaXNBKHN1Yk9iai50eXBlLCBUeXBlcy5DbGFzcykgfHxcclxuLy8gICAgICAgICAgICAgICAgICAgICBzdWJPYmoudHlwZS5kZXN0cnVjdG9yO1xyXG4vLyAgICAgICAgICAgICB9KSl7XHJcbi8vICAgICAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIHZhciBzcmMgPSB0aGlzLm5hbWUgKyBcIihjb25zdCBcIiArIHRoaXMubmFtZSArIFwiICZvdGhlcilcIjtcclxuXHJcbi8vICAgICAgICAgaWYgKHRoaXMudHlwZS5zdWJvYmplY3RFbnRpdGllcy5sZW5ndGggPiAwKXtcclxuLy8gICAgICAgICAgICAgc3JjICs9IFwiXFxuIDogXCI7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIHNyYyArPSB0aGlzLnR5cGUuYmFzZUNsYXNzRW50aXRpZXMubWFwKGZ1bmN0aW9uKHN1Yk9iail7XHJcbi8vICAgICAgICAgICAgIHJldHVybiBzdWJPYmoudHlwZS5jbGFzc05hbWUgKyBcIihvdGhlcilcIjtcclxuLy8gICAgICAgICB9KS5jb25jYXQodGhpcy50eXBlLm1lbWJlckVudGl0aWVzLm1hcChmdW5jdGlvbihzdWJPYmope1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gc3ViT2JqLm5hbWUgKyBcIihvdGhlci5cIiArIHN1Yk9iai5uYW1lICsgXCIpXCI7XHJcbi8vICAgICAgICAgfSkpLmpvaW4oXCIsIFwiKTtcclxuXHJcbi8vICAgICAgICAgc3JjICs9IFwiIHt9XCI7XHJcbi8vICAgICAgICAgc3JjID0gTG9ic3Rlci5jUGx1c1BsdXNQYXJzZXIucGFyc2Uoc3JjLCB7c3RhcnRSdWxlOlwibWVtYmVyX2RlY2xhcmF0aW9uXCJ9KTtcclxuXHJcbi8vICAgICAgICAgcmV0dXJuIENvbnN0cnVjdG9yRGVmaW5pdGlvbi5pbnN0YW5jZShzcmMsIHtwYXJlbnQ6dGhpcywgc2NvcGU6IHRoaXMuY2xhc3NTY29wZSwgY29udGFpbmluZ0NsYXNzOiB0aGlzLnR5cGUsIGFjY2VzczpcInB1YmxpY1wiLCBpbXBsaWNpdDp0cnVlfSk7XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIGNyZWF0ZUltcGxpY2l0QXNzaWdubWVudE9wZXJhdG9yIDogZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuLy8gICAgICAgICAvLyBQYXJhbWV0ZXIgd2lsbCBvbmx5IGJlIGNvbnN0IGlmIGFsbCBzdWJvYmplY3RzIGhhdmUgYXNzaWdubWVudCBvcHMgdGhhdCB0YWtlIGNvbnN0IHBhcmFtc1xyXG4vLyAgICAgICAgIHZhciBjYW5NYWtlQ29uc3QgPSB0aGlzLnR5cGUuc3Vib2JqZWN0RW50aXRpZXMuZXZlcnkoZnVuY3Rpb24oc3ViT2JqKXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuICFpc0Eoc3ViT2JqLnR5cGUsIFR5cGVzLkNsYXNzKSB8fFxyXG4vLyAgICAgICAgICAgICAgICAgc3ViT2JqLnR5cGUuZ2V0QXNzaWdubWVudE9wZXJhdG9yKHRydWUpO1xyXG4vLyAgICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgICB2YXIgY2FuTWFrZU5vbkNvbnN0ID0gY2FuTWFrZUNvbnN0IHx8IHRoaXMudHlwZS5zdWJvYmplY3RFbnRpdGllcy5ldmVyeShmdW5jdGlvbihzdWJPYmope1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gIWlzQShzdWJPYmoudHlwZSwgVHlwZXMuQ2xhc3MpIHx8XHJcbi8vICAgICAgICAgICAgICAgICBzdWJPYmoudHlwZS5nZXRBc3NpZ25tZW50T3BlcmF0b3IoZmFsc2UpO1xyXG4vLyAgICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgICAvLyBJZiB3ZSBjYW4ndCBtYWtlIG5vbi1jb25zdCwgd2UgYWxzbyBjYW4ndCBtYWtlIGNvbnN0LCBhbmQgd2UgY2FuJ3QgbWFrZSBhbnkgaW1wbGljaXQgYXNzaWdubWVudCBvcFxyXG4vLyAgICAgICAgIGlmICghY2FuTWFrZU5vbkNvbnN0KXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICB2YXIgY29uc3RQYXJ0ID0gY2FuTWFrZUNvbnN0ID8gXCJjb25zdCBcIiA6IFwiXCI7XHJcblxyXG4vLyAgICAgICAgIC8vIElmIGFueSBkYXRhIG1lbWJlciBpcyBhIHJlZmVyZW5jZSwgd2UgY2FuJ3QgbWFrZSBpbXBsaWNpdCBhc3NpZ25tZW50IG9wZXJhdG9yXHJcbi8vICAgICAgICAgaWYgKCF0aGlzLnR5cGUubWVtYmVyU3Vib2JqZWN0RW50aXRpZXMuZXZlcnkoZnVuY3Rpb24oc3ViT2JqKXtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiAhaXNBKHN1Yk9iai50eXBlLCBUeXBlcy5SZWZlcmVuY2UpO1xyXG4vLyAgICAgICAgICAgICB9KSl7XHJcbi8vICAgICAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIC8vIElmIGFueSBub24tY2xhc3MgbWVtYmVyIGlzIGNvbnN0IChvciBhcnJheSB0aGVyZW9mKSwgd2UgY2FuJ3QgbWFrZSBpbXBsaWNpdCBhc3NpZ25tZW50IG9wZXJhdG9yXHJcbi8vICAgICAgICAgaWYgKCF0aGlzLnR5cGUubWVtYmVyU3Vib2JqZWN0RW50aXRpZXMuZXZlcnkoZnVuY3Rpb24oc3ViT2JqKXtcclxuLy8gICAgICAgICAgICAgICAgIC8vcmV0dXJuIChpc0Eoc3ViT2JqLnR5cGUsIFR5cGVzLkNsYXNzKSB8fCAhc3ViT2JqLnR5cGUuaXNDb25zdClcclxuLy8gICAgICAgICAgICAgICAgIC8vICAgICYmICghaXNBKHN1Yk9iai50eXBlLCBUeXBlcy5BcnJheSkgfHwgaXNBKHN1Yk9iai50eXBlLmVsZW1UeXBlLCBUeXBlcy5DbGFzcykgfHwgIXN1Yk9iai50eXBlLmVsZW1UeXBlLmlzQ29uc3QpO1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuICFzdWJPYmoudHlwZS5pc0NvbnN0XHJcbi8vICAgICAgICAgICAgICAgICAgICAgJiYgKCFpc0Eoc3ViT2JqLnR5cGUsIFR5cGVzLkFycmF5KSB8fCAhc3ViT2JqLnR5cGUuZWxlbVR5cGUuaXNDb25zdCk7XHJcbi8vICAgICAgICAgICAgIH0pKXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgdmFyIHNyYyA9IHRoaXMubmFtZSArIFwiICZvcGVyYXRvcj0oXCIgKyBjb25zdFBhcnQgKyB0aGlzLm5hbWUgKyBcIiAmcmhzKXtcIjtcclxuXHJcbi8vICAgICAgICAgc3JjICs9IHRoaXMudHlwZS5iYXNlQ2xhc3NFbnRpdGllcy5tYXAoZnVuY3Rpb24oc3ViT2JqKXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHN1Yk9iai50eXBlLmNsYXNzTmFtZSArIFwiOjpvcGVyYXRvcj0ocmhzKTtcIjtcclxuLy8gICAgICAgICB9KS5qb2luKFwiXFxuXCIpO1xyXG5cclxuLy8gICAgICAgICB2YXIgbWVtcyA9IHRoaXMudHlwZS5tZW1iZXJTdWJvYmplY3RFbnRpdGllcztcclxuLy8gICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgbWVtcy5sZW5ndGg7ICsraSl7XHJcbi8vICAgICAgICAgICAgIHZhciBtZW0gPSBtZW1zW2ldO1xyXG4vLyAgICAgICAgICAgICBpZiAoaXNBKG1lbS50eXBlLCBUeXBlcy5BcnJheSkpe1xyXG4vLyAgICAgICAgICAgICAgICAgdmFyIHRlbXBUeXBlID0gbWVtLnR5cGU7XHJcbi8vICAgICAgICAgICAgICAgICB2YXIgc3Vic2NyaXB0TnVtID0gaXNBKHRlbXBUeXBlLmVsZW1UeXBlLCBUeXBlcy5BcnJheSkgPyAxIDogXCJcIjtcclxuLy8gICAgICAgICAgICAgICAgIHZhciBzdWJzY3JpcHRzID0gXCJcIjtcclxuLy8gICAgICAgICAgICAgICAgIHZhciBjbG9zZUJyYWNrZXRzID0gXCJcIjtcclxuLy8gICAgICAgICAgICAgICAgIHdoaWxlKGlzQSh0ZW1wVHlwZSwgVHlwZXMuQXJyYXkpKXtcclxuLy8gICAgICAgICAgICAgICAgICAgICBzcmMgKz0gXCJmb3IoaW50IGlcIitzdWJzY3JpcHROdW0rXCI9MDsgaVwiK3N1YnNjcmlwdE51bStcIjxcIit0ZW1wVHlwZS5sZW5ndGgrXCI7ICsraVwiK3N1YnNjcmlwdE51bStcIil7XCI7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0cyArPSBcIltpXCIrc3Vic2NyaXB0TnVtK1wiXVwiO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGNsb3NlQnJhY2tldHMgKz0gXCJ9XCI7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdGVtcFR5cGUgPSB0ZW1wVHlwZS5lbGVtVHlwZTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHROdW0gKz0gMTtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIHNyYyArPSBtZW0ubmFtZSArIHN1YnNjcmlwdHMgKyBcIiA9IHJocy5cIiArIG1lbS5uYW1lICsgXCJcIiArIHN1YnNjcmlwdHMgKyBcIjtcIjtcclxuLy8gICAgICAgICAgICAgICAgIHNyYyArPSBjbG9zZUJyYWNrZXRzO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgICAgICBzcmMgKz0gbWVtc1tpXS5uYW1lICsgXCIgPSByaHMuXCIgKyBtZW1zW2ldLm5hbWUgKyBcIjtcIjtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBzcmMgKz0gXCJyZXR1cm4gKnRoaXM7fVwiO1xyXG4vLyAgICAgICAgIHNyYyA9IExvYnN0ZXIuY1BsdXNQbHVzUGFyc2VyLnBhcnNlKHNyYywge3N0YXJ0UnVsZTpcIm1lbWJlcl9kZWNsYXJhdGlvblwifSk7XHJcbi8vICAgICAgICAgcmV0dXJuIEZ1bmN0aW9uRGVmaW5pdGlvbi5pbnN0YW5jZShzcmMsIHtwYXJlbnQ6dGhpcywgc2NvcGU6IHRoaXMuY2xhc3NTY29wZSwgY29udGFpbmluZ0NsYXNzOiB0aGlzLnR5cGUsIGFjY2VzczpcInB1YmxpY1wiLCBpbXBsaWNpdDp0cnVlfSk7XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIGNyZWF0ZUltcGxpY2l0RGVzdHJ1Y3RvciA6IGZ1bmN0aW9uKCl7XHJcbi8vICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4vLyAgICAgICAgIC8vIElmIGFueSBzdWJvYmplY3RzIGFyZSBtaXNzaW5nIGEgZGVzdHJ1Y3RvciwgZG8gbm90IGNyZWF0ZSBpbXBsaWNpdCBkZXN0cnVjdG9yXHJcbi8vICAgICAgICAgaWYgKCF0aGlzLnR5cGUuc3Vib2JqZWN0RW50aXRpZXMuZXZlcnkoZnVuY3Rpb24oc3ViT2JqKXtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiAhaXNBKHN1Yk9iai50eXBlLCBUeXBlcy5DbGFzcykgfHxcclxuLy8gICAgICAgICAgICAgICAgICAgICBzdWJPYmoudHlwZS5kZXN0cnVjdG9yO1xyXG4vLyAgICAgICAgICAgICB9KSl7XHJcbi8vICAgICAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIHZhciBzcmMgPSBcIn5cIiArIHRoaXMudHlwZS5uYW1lICsgXCIoKXt9XCI7XHJcbi8vICAgICAgICAgc3JjID0gTG9ic3Rlci5jUGx1c1BsdXNQYXJzZXIucGFyc2Uoc3JjLCB7c3RhcnRSdWxlOlwibWVtYmVyX2RlY2xhcmF0aW9uXCJ9KTtcclxuLy8gICAgICAgICByZXR1cm4gRGVzdHJ1Y3RvckRlZmluaXRpb24uaW5zdGFuY2Uoc3JjLCB7cGFyZW50OnRoaXMsIHNjb3BlOiB0aGlzLmNsYXNzU2NvcGUsIGNvbnRhaW5pbmdDbGFzczogdGhpcy50eXBlLCBhY2Nlc3M6XCJwdWJsaWNcIiwgaW1wbGljaXQ6dHJ1ZX0pO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBjcmVhdGVJbnN0YW5jZSA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIHJldHVybiBSdW50aW1lQ29uc3RydWN0Lmluc3RhbmNlKHNpbSwgdGhpcywge2RlY2w6MCwgc3RlcDpcImRlY2xcIn0sIFwic3RtdFwiLCBpbnN0KTtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgdXBOZXh0IDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcblxyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBzdGVwRm9yd2FyZCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG5cclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG4vLyBleHBvcnQgdmFyIE1lbWJlckRlY2xhcmF0aW9uID0gU2ltcGxlRGVjbGFyYXRpb24uZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lOiBcIk1lbWJlckRlY2xhcmF0aW9uXCIsXHJcbi8vICAgICBpbml0OiBmdW5jdGlvbihhc3QsIGNvbnRleHQpe1xyXG4vLyAgICAgICAgIGFzc2VydChjb250ZXh0KTtcclxuLy8gICAgICAgICBhc3NlcnQoaXNBKGNvbnRleHQuY29udGFpbmluZ0NsYXNzLCBUeXBlcy5DbGFzcykpO1xyXG4vLyAgICAgICAgIGFzc2VydChjb250ZXh0Lmhhc093blByb3BlcnR5KFwiYWNjZXNzXCIpKTtcclxuLy8gICAgICAgICB0aGlzLmluaXRQYXJlbnQoYXN0LCBjb250ZXh0KTtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgaV9jcmVhdGVGcm9tQVNUIDogZnVuY3Rpb24oYXN0LCBjb250ZXh0KSB7XHJcbi8vICAgICAgICAgTWVtYmVyRGVjbGFyYXRpb24uX3BhcmVudC5pX2NyZWF0ZUZyb21BU1QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuLy8gICAgICAgICB0aGlzLmFjY2VzcyA9IGNvbnRleHQuYWNjZXNzO1xyXG4vLyAgICAgICAgIHRoaXMuaV9jb250YWluaW5nQ2xhc3MgPSBjb250ZXh0LmNvbnRhaW5pbmdDbGFzcztcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgaV9kZXRlcm1pbmVTdG9yYWdlIDogZnVuY3Rpb24oKXtcclxuLy8gICAgICAgICAvLyBEZXRlcm1pbmUgc3RvcmFnZSBkdXJhdGlvbiBiYXNlZCBvbiB0aGUga2luZCBvZiBzY29wZSBpbiB3aGljaCB0aGUgZGVjbGFyYXRpb25cclxuLy8gICAgICAgICAvLyBvY2N1cnMgYW5kIGFueSBzdG9yYWdlIHNwZWNpZmllcnMuXHJcbi8vICAgICAgICAgaWYodGhpcy5zdG9yYWdlU3BlYy5zdGF0aWMpe1xyXG4vLyAgICAgICAgICAgICB0aGlzLnN0b3JhZ2VEdXJhdGlvbiA9IFwic3RhdGljXCI7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgIHRoaXMuc3RvcmFnZUR1cmF0aW9uID0gXCJhdXRvbWF0aWNcIjtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIG1ha2VFbnRpdHk6IGZ1bmN0aW9uKGRlY2wpe1xyXG5cclxuLy8gICAgICAgICAvLyBOb3RlOiB3ZSBrbm93IGl0J3Mgbm90IGEgZnVuY3Rpb24gZGVmaW5pdGlvbiBiZWNhdXNlIHRoYXQgZ29lcyB0byB0aGUgRnVuY3Rpb25EZWZpbml0aW9uXHJcbi8vICAgICAgICAgLy8gY2xhc3MuICBUaHVzIGFueSBmdW5jdGlvbnMgYXJlIG5vdCBkZWZpbml0aW9ucy5cclxuLy8gICAgICAgICAvLyBEb24ndCBoYXZlIHRvIGNoZWNrIGZvciBjbGFzc2VzLCBmb3Igc2ltaWxhciByZWFzb25zLlxyXG4vLyAgICAgICAgIHZhciBpc0RlZmluaXRpb24gPSAhaXNBKGRlY2wudHlwZSwgVHlwZXMuRnVuY3Rpb24pXHJcbi8vICAgICAgICAgICAgICYmICEodGhpcy5zdG9yYWdlU3BlYy5leHRlcm4gJiYgIShkZWNsLmluaXRpYWxpemVyIHx8IGRlY2wuaW5pdGlhbGl6ZXJMaXN0KSlcclxuLy8gICAgICAgICAgICAgJiYgIXRoaXMudHlwZWRlZjtcclxuXHJcbi8vICAgICAgICAgdGhpcy5pc0RlZmluaXRpb24gPSBpc0RlZmluaXRpb247XHJcblxyXG4vLyAgICAgICAgIHZhciBlbnRpdHk7XHJcbi8vICAgICAgICAgaWYgKGlzQShkZWNsLnR5cGUsIFR5cGVzLkZ1bmN0aW9uKSl7XHJcbi8vICAgICAgICAgICAgIGVudGl0eSA9IE1lbWJlckZ1bmN0aW9uRW50aXR5Lmluc3RhbmNlKGRlY2wsIHRoaXMuaV9jb250YWluaW5nQ2xhc3MsIHRoaXMudmlydHVhbCk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2UgaWYgKHRoaXMuc3RvcmFnZUR1cmF0aW9uID09PSBcInN0YXRpY1wiKXtcclxuLy8gICAgICAgICAgICAgZW50aXR5ID0gU3RhdGljRW50aXR5Lmluc3RhbmNlKGRlY2wpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICBlbnRpdHkgPSBNZW1iZXJWYXJpYWJsZUVudGl0eS5pbnN0YW5jZShkZWNsLCB0aGlzLmlfY29udGFpbmluZ0NsYXNzKTtcclxuLy8gICAgICAgICAgICAgdGhpcy5pc0RlZmluaXRpb24gPSBmYWxzZTsgLy8gVE9ETyBORVc6IFRoaXMgaXMgYSBoYWNrLiBTaW5jZSBpbXBsZW1lbnRpbmcgYSBwcm9wZXIgbGlua2luZyBwaGFzZSwgc3RhdGljIHN0dWZmIG1heSBiZSBicm9rZW4uXHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICBpZiAodGhpcy5pc0RlZmluaXRpb24pIHtcclxuLy8gICAgICAgICAgICAgZW50aXR5LnNldERlZmluaXRpb24odGhpcyk7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICB0cnkge1xyXG4vLyAgICAgICAgICAgICB0aGlzLmVudGl0aWVzLnB1c2goZW50aXR5KTtcclxuLy8gICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7b3duOiB0cnVlfTtcclxuLy8gICAgICAgICAgICAgaWYgKGlzQShlbnRpdHksIE1lbWJlckZ1bmN0aW9uRW50aXR5KSkge1xyXG4vLyAgICAgICAgICAgICAgICAgb3B0aW9ucy5wYXJhbVR5cGVzID0gZW50aXR5LnR5cGUucGFyYW1UeXBlcztcclxuLy8gICAgICAgICAgICAgICAgIG9wdGlvbnMuZXhhY3RNYXRjaCA9IHRydWU7XHJcbi8vICAgICAgICAgICAgICAgICBvcHRpb25zLm5vQmFzZSA9IHRydWU7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgaWYgKChpc0EoZW50aXR5LCBNZW1iZXJWYXJpYWJsZUVudGl0eSkgfHwgaXNBKGVudGl0eSwgTWVtYmVyRnVuY3Rpb25FbnRpdHkpKSl7XHJcbi8vICAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCBjaGVjayBpZiBhIGNvbmZsaWN0aW5nIG1lbWJlciBhbHJlYWR5IGV4aXN0cyBoZXJlIC0gdGhhdCB3aWxsIGJlXHJcbi8vICAgICAgICAgICAgICAgICAvLyBkb25lIGluc2lkZSBhZGRNZW1iZXIgYW5kIGFuIGV4Y2VwdGlvbiB3aWxsIGJlIHRocm93biBpZiB0aGVyZSBpcyBhIGNvbmZsaWN0XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmlfY29udGFpbmluZ0NsYXNzLmFkZE1lbWJlcihlbnRpdHkpOyAvLyB0aGlzIGludGVybmFsbHkgYWRkcyBpdCB0byB0aGUgY2xhc3Mgc2NvcGVcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICByZXR1cm4gZW50aXR5O1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBjYXRjaChlKSB7XHJcbi8vICAgICAgICAgICAgIGlmIChpc0EoZSwgTm90ZSkpe1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKGUpO1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZSB7XHJcbi8vICAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcblxyXG4vLyBleHBvcnQgdmFyIENvbnN0cnVjdG9yRGVmaW5pdGlvbiA9IEZ1bmN0aW9uRGVmaW5pdGlvbi5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiQ29uc3RydWN0b3JEZWZpbml0aW9uXCIsXHJcblxyXG4vLyAgICAgaV9jaGlsZHJlblRvRXhlY3V0ZTogW1wibWVtYmVySW5pdGlhbGl6ZXJzXCIsIFwiYm9keVwiXSwgLy8gVE9ETzogd2h5IGRvIHJlZ3VsYXIgZnVuY3Rpb25zIGhhdmUgbWVtYmVyIGluaXRpYWxpemVycz8/XHJcblxyXG5cclxuLy8gICAgIGluc3RhbmNlIDogZnVuY3Rpb24oYXN0LCBjb250ZXh0KXtcclxuLy8gICAgICAgICBhc3NlcnQoY29udGV4dCk7XHJcbi8vICAgICAgICAgYXNzZXJ0KGlzQShjb250ZXh0LmNvbnRhaW5pbmdDbGFzcywgVHlwZXMuQ2xhc3MpKTtcclxuLy8gICAgICAgICBhc3NlcnQoY29udGV4dC5oYXNPd25Qcm9wZXJ0eShcImFjY2Vzc1wiKSk7XHJcbi8vICAgICAgICAgLy8gTWFrZSBzdXJlIGl0J3MgYWN0dWFsbHkgYSBjb25zdHJ1Y3RvclxyXG4vLyAgICAgICAgIGlmIChhc3QubmFtZS5pZGVudGlmaWVyICE9PSBjb250ZXh0LmNvbnRhaW5pbmdDbGFzcy5jbGFzc05hbWUpe1xyXG4vLyAgICAgICAgICAgICAvLyBvb3BzIHdhcyBhY3R1YWxseSBhIGZ1bmN0aW9uIHdpdGggbWlzc2luZyByZXR1cm4gdHlwZVxyXG4vLyAgICAgICAgICAgICByZXR1cm4gRnVuY3Rpb25EZWZpbml0aW9uLmluc3RhbmNlKGFzdCwgY29udGV4dCk7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICByZXR1cm4gQ29uc3RydWN0b3JEZWZpbml0aW9uLl9wYXJlbnQuaW5zdGFuY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgY29tcGlsZURlY2xhcmF0aW9uIDogZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgRnVuY3Rpb25EZWZpbml0aW9uLmNvbXBpbGVEZWNsYXJhdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cclxuLy8gICAgICAgICBpZiAoIXRoaXMuaGFzRXJyb3JzKCkpe1xyXG4vLyAgICAgICAgICAgICB0aGlzLmlfY29udGFpbmluZ0NsYXNzLmFkZENvbnN0cnVjdG9yKHRoaXMuZW50aXR5KTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIGNvbXBpbGVEZWNsYXJhdG9yIDogZnVuY3Rpb24oKXtcclxuLy8gICAgICAgICB2YXIgYXN0ID0gdGhpcy5hc3Q7XHJcblxyXG5cclxuLy8gICAgICAgICAvLyBOT1RFOiBhIGNvbnN0cnVjdG9yIGRvZXNuJ3QgaGF2ZSBhIFwibmFtZVwiLCBhbmQgc28gd2UgZG9uJ3QgbmVlZCB0byBhZGQgaXQgdG8gYW55IHNjb3BlLlxyXG4vLyAgICAgICAgIC8vIEhvd2V2ZXIsIHRvIG1ha2UgbG9va3VwIGVhc2llciwgd2UgZ2l2ZSBhbGwgY29uc3RydWN0b3JzIHRoZWlyIGNsYXNzIG5hbWUgcGx1cyB0aGUgbnVsbCBjaGFyYWN0ZXIuIExPTFxyXG4vLyAgICAgICAgIC8vIFRPRE86IHRoaXMgaXMgc2lsbHkuIHJlbW92ZSBpdCBwbHMgOilcclxuLy8gICAgICAgICB0aGlzLm5hbWUgPSB0aGlzLmlfY29udGFpbmluZ0NsYXNzLmNsYXNzTmFtZSArIFwiXFwwXCI7XHJcblxyXG4vLyAgICAgICAgIC8vIENvbXBpbGUgdGhlIHBhcmFtZXRlcnNcclxuLy8gICAgICAgICB2YXIgYXJncyA9IHRoaXMuYXN0LmFyZ3M7XHJcbi8vICAgICAgICAgdGhpcy5wYXJhbXMgPSBbXTtcclxuLy8gICAgICAgICB0aGlzLnBhcmFtVHlwZXMgPSBbXTtcclxuLy8gICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFyZ3MubGVuZ3RoOyArK2opIHtcclxuLy8gICAgICAgICAgICAgdmFyIHBhcmFtRGVjbCA9IFBhcmFtZXRlci5pbnN0YW5jZShhcmdzW2pdLCB7cGFyZW50OiB0aGlzLCBzY29wZTogdGhpcy5ib2R5U2NvcGV9KTtcclxuLy8gICAgICAgICAgICAgcGFyYW1EZWNsLmNvbXBpbGUoKTtcclxuLy8gICAgICAgICAgICAgdGhpcy5wYXJhbXMucHVzaChwYXJhbURlY2wpO1xyXG4vLyAgICAgICAgICAgICB0aGlzLnBhcmFtVHlwZXMucHVzaChwYXJhbURlY2wudHlwZSk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIHRoaXMuaXNEZWZhdWx0Q29uc3RydWN0b3IgPSB0aGlzLnBhcmFtcy5sZW5ndGggPT0gMDtcclxuXHJcbi8vICAgICAgICAgdGhpcy5pc0NvcHlDb25zdHJ1Y3RvciA9IHRoaXMucGFyYW1zLmxlbmd0aCA9PSAxXHJcbi8vICAgICAgICAgJiYgKGlzQSh0aGlzLnBhcmFtVHlwZXNbMF0sIHRoaXMuaV9jb250YWluaW5nQ2xhc3MpIHx8XHJcbi8vICAgICAgICAgaXNBKHRoaXMucGFyYW1UeXBlc1swXSwgVHlwZXMuUmVmZXJlbmNlKSAmJiBpc0EodGhpcy5wYXJhbVR5cGVzWzBdLnJlZlRvLCB0aGlzLmlfY29udGFpbmluZ0NsYXNzKSk7XHJcblxyXG5cclxuLy8gICAgICAgICAvLyBHaXZlIGVycm9yIGZvciBjb3B5IGNvbnN0cnVjdG9yIHRoYXQgcGFzc2VzIGJ5IHZhbHVlXHJcbi8vICAgICAgICAgaWYgKHRoaXMuaXNDb3B5Q29uc3RydWN0b3IgJiYgaXNBKHRoaXMucGFyYW1UeXBlc1swXSwgdGhpcy5pX2NvbnRhaW5pbmdDbGFzcykpe1xyXG4vLyAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uY3Rvci5jb3B5LnBhc3NfYnlfdmFsdWUodGhpcy5wYXJhbXNbMF0sIHRoaXMucGFyYW1UeXBlc1swXSwgdGhpcy5wYXJhbXNbMF0ubmFtZSkpO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgLy8gSSBrbm93IHRoaXMgaXMgdGVjaG5pY2FsbHkgd3JvbmcgYnV0IEkgdGhpbmsgaXQgbWFrZXMgdGhpbmdzIHJ1biBzbW9vdGhlclxyXG4vLyAgICAgICAgIHRoaXMudHlwZSA9IFR5cGVzLkZ1bmN0aW9uLmluc3RhbmNlKFR5cGVzLlZvaWQuaW5zdGFuY2UoKSwgdGhpcy5wYXJhbVR5cGVzKTtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgY29tcGlsZURlZmluaXRpb24gOiBmdW5jdGlvbigpe1xyXG4vLyAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuLy8gICAgICAgICB2YXIgYXN0ID0gdGhpcy5hc3Q7XHJcblxyXG4vLyAgICAgICAgIGlmICghYXN0LmJvZHkpe1xyXG4vLyAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuY2xhc3NfZGVmLmN0b3JfZGVmKHRoaXMpKTtcclxuLy8gICAgICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgdGhpcy5jb21waWxlQ3RvckluaXRpYWxpemVyKCk7XHJcblxyXG4vLyAgICAgICAgIC8vIENhbGwgcGFyZW50IGNsYXNzIHZlcnNpb24uIFdpbGwgaGFuZGxlIGJvZHksIGF1dG9tYXRpYyBvYmplY3QgZGVzdHJ1Y3Rpb24sIGV0Yy5cclxuLy8gICAgICAgICBGdW5jdGlvbkRlZmluaXRpb24uY29tcGlsZURlZmluaXRpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgY29tcGlsZUN0b3JJbml0aWFsaXplciA6IGZ1bmN0aW9uKCl7XHJcbi8vICAgICAgICAgdmFyIG1lbUluaXRzID0gdGhpcy5hc3QuaW5pdGlhbGl6ZXIgfHwgW107XHJcblxyXG4vLyAgICAgICAgIC8vIEZpcnN0LCBjaGVjayB0byBzZWUgaWYgdGhpcyBpcyBhIGRlbGVnYXRpbmcgY29uc3RydWN0b3IuXHJcbi8vICAgICAgICAgLy8gVE9ETzogY2hlY2sgb24gd2hldGhlciBzb21lb25lIGNvdWxkIHRlY2hpbmljYWxseSBkZWNsYXJlIGEgbWVtYmVyIHZhcmlhYmxlIHdpdGggdGhlIHNhbWUgbmFtZVxyXG4vLyAgICAgICAgIC8vIGFzIHRoZSBjbGFzcyBhbmQgaG93IHRoYXQgYWZmZWN0cyB0aGUgbG9naWMgaGVyZS5cclxuLy8gICAgICAgICB2YXIgdGFyZ2V0Q29uc3RydWN0b3IgPSBudWxsO1xyXG4vLyAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBtZW1Jbml0cy5sZW5ndGg7ICsraSl7XHJcbi8vICAgICAgICAgICAgIGlmIChtZW1Jbml0c1tpXS5tZW1iZXIuaWRlbnRpZmllciA9PSB0aGlzLmlfY29udGFpbmluZ0NsYXNzLmNsYXNzTmFtZSl7XHJcbi8vICAgICAgICAgICAgICAgICB0YXJnZXRDb25zdHJ1Y3RvciA9IGk7XHJcbi8vICAgICAgICAgICAgICAgICBicmVhaztcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgLy8gSXQgaXMgYSBkZWxlZ2F0aW5nIGNvbnN0cnVjdG9yXHJcbi8vICAgICAgICAgaWYgKHRhcmdldENvbnN0cnVjdG9yICE9PSBudWxsKXtcclxuLy8gICAgICAgICAgICAgdGFyZ2V0Q29uc3RydWN0b3IgPSBtZW1Jbml0cy5zcGxpY2UodGFyZ2V0Q29uc3RydWN0b3IsIDEpWzBdO1xyXG4vLyAgICAgICAgICAgICAvLyBJZiBpdCBpcyBhIGRlbGVnYXRpbmcgY29uc3RydWN0b3IsIHRoZXJlIGNhbiBiZSBubyBvdGhlciBtZW1Jbml0c1xyXG4vLyAgICAgICAgICAgICBpZiAobWVtSW5pdHMubGVuZ3RoID09PSAwKXsgLy8gc2hvdWxkIGJlIDAgc2luY2Ugb25lIHJlbW92ZWRcclxuLy8gICAgICAgICAgICAgICAgIHZhciBtZW0gPSBNZW1iZXJJbml0aWFsaXplci5pbnN0YW5jZSh0YXJnZXRDb25zdHJ1Y3Rvciwge3BhcmVudDogdGhpcywgc2NvcGU6IHRoaXMuYm9keVNjb3BlfSk7XHJcbi8vICAgICAgICAgICAgICAgICBtZW0uY29tcGlsZShSZWNlaXZlckVudGl0eS5pbnN0YW5jZSh0aGlzLmlfY29udGFpbmluZ0NsYXNzKSk7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLm1lbWJlckluaXRpYWxpemVycy5wdXNoKG1lbSk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5jdG9yLmluaXQuZGVsZWdhdGluZ19vbmx5KHRoaXMpKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICByZXR1cm47XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAvLyBJdCBpcyBhIG5vbi1kZWxlZ2F0aW5nIGNvbnN0cnVjdG9yXHJcblxyXG4vLyAgICAgICAgIC8vIElmIHRoZXJlIGlzIGEgYmFzZSBjbGFzcyBzdWJvYmplY3QsIGluaXRpYWxpemUgaXRcclxuLy8gICAgICAgICB2YXIgYmFzZTtcclxuLy8gICAgICAgICBpZiAoYmFzZSA9IHRoaXMuaV9jb250YWluaW5nQ2xhc3MuZ2V0QmFzZUNsYXNzKCkpe1xyXG4vLyAgICAgICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgdGhlcmUgaXMgYSBiYXNlIGNsYXNzIGluaXRpYWxpemVyLlxyXG4vLyAgICAgICAgICAgICB2YXIgYmFzZUluaXRzID0gbWVtSW5pdHMuZmlsdGVyKGZ1bmN0aW9uKG1lbUluaXQpe1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIG1lbUluaXQubWVtYmVyLmlkZW50aWZpZXIgPT09IGJhc2UuY2xhc3NOYW1lO1xyXG4vLyAgICAgICAgICAgICB9KTtcclxuLy8gICAgICAgICAgICAgbWVtSW5pdHMgPSBtZW1Jbml0cy5maWx0ZXIoZnVuY3Rpb24obWVtSW5pdCl7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gbWVtSW5pdC5tZW1iZXIuaWRlbnRpZmllciAhPT0gYmFzZS5jbGFzc05hbWU7XHJcbi8vICAgICAgICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgICAgICAgaWYgKGJhc2VJbml0cy5sZW5ndGggPiAxKXtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5jdG9yLmluaXQubXVsdGlwbGVfYmFzZV9pbml0cyh0aGlzKSk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZSBpZiAoYmFzZUluaXRzLmxlbmd0aCA9PT0gMSl7XHJcbi8vICAgICAgICAgICAgICAgICB2YXIgbWVtID0gTWVtYmVySW5pdGlhbGl6ZXIuaW5zdGFuY2UoYmFzZUluaXRzWzBdLCB7cGFyZW50OiB0aGlzLCBzY29wZTogdGhpcy5ib2R5U2NvcGV9KTtcclxuLy8gICAgICAgICAgICAgICAgIG1lbS5jb21waWxlKHRoaXMuaV9jb250YWluaW5nQ2xhc3MuYmFzZUNsYXNzRW50aXRpZXNbMF0pO1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5tZW1iZXJJbml0aWFsaXplcnMucHVzaChtZW0pO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgICAgICB2YXIgbWVtID0gRGVmYXVsdE1lbWJlckluaXRpYWxpemVyLmluc3RhbmNlKHRoaXMuYXN0LCB7cGFyZW50OiB0aGlzLCBzY29wZTogdGhpcy5ib2R5U2NvcGV9KTtcclxuLy8gICAgICAgICAgICAgICAgIG1lbS5jb21waWxlKHRoaXMuaV9jb250YWluaW5nQ2xhc3MuYmFzZUNsYXNzRW50aXRpZXNbMF0pO1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5tZW1iZXJJbml0aWFsaXplcnMucHVzaChtZW0pO1xyXG4vLyAgICAgICAgICAgICAgICAgbWVtLmlzTWVtYmVySW5pdGlhbGl6ZXIgPSB0cnVlO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAvLyBJbml0aWFsaXplIG5vbi1zdGF0aWMgZGF0YSBtZW1iZXJzIG9mIHRoZSBjbGFzc1xyXG5cclxuLy8gICAgICAgICAvLyBDcmVhdGUgYSBtYXAgb2YgbmFtZSB0byBpbml0aWFsaXplci4gSW5pdGlhbGx5IGFsbCBpbml0aWFsaXplcnMgYXJlIG51bGwuXHJcbi8vICAgICAgICAgdmFyIGluaXRNYXAgPSB7fTtcclxuLy8gICAgICAgICB0aGlzLmlfY29udGFpbmluZ0NsYXNzLm1lbWJlclN1Ym9iamVjdEVudGl0aWVzLmZvckVhY2goZnVuY3Rpb24ob2JqTWVtYmVyKXtcclxuLy8gICAgICAgICAgICAgaW5pdE1hcFtvYmpNZW1iZXIubmFtZV0gPSBvYmpNZW1iZXI7XHJcbi8vICAgICAgICAgfSk7XHJcblxyXG4vLyAgICAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBhbGwgdGhlIG1lbWJlciBpbml0aWFsaXplcnMgYW5kIGFzc29jaWF0ZSB0aGVtIHdpdGggYXBwcm9wcmlhdGUgbWVtYmVyXHJcbi8vICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IG1lbUluaXRzLmxlbmd0aDsgKytpKXtcclxuLy8gICAgICAgICAgICAgdmFyIG1lbUluaXQgPSBtZW1Jbml0c1tpXTtcclxuXHJcbi8vICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGlzIHR5cGUgaGFzIGEgbWVtYmVyIG9mIHRoZSBnaXZlbiBuYW1lXHJcbi8vICAgICAgICAgICAgIHZhciBtZW1iZXJOYW1lID0gbWVtSW5pdC5tZW1iZXIuaWRlbnRpZmllcjtcclxuLy8gICAgICAgICAgICAgaWYgKGluaXRNYXAuaGFzT3duUHJvcGVydHkobWVtYmVyTmFtZSkpIHtcclxuLy8gICAgICAgICAgICAgICAgIHZhciBtZW0gPSBNZW1iZXJJbml0aWFsaXplci5pbnN0YW5jZShtZW1Jbml0LCB7cGFyZW50OiB0aGlzLCBzY29wZTogdGhpcy5ib2R5U2NvcGV9KTtcclxuLy8gICAgICAgICAgICAgICAgIG1lbS5jb21waWxlKGluaXRNYXBbbWVtYmVyTmFtZV0pO1xyXG4vLyAgICAgICAgICAgICAgICAgaW5pdE1hcFttZW1iZXJOYW1lXSA9IG1lbTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmN0b3IuaW5pdC5pbXByb3Blcl9tZW1iZXIodGhpcywgdGhpcy5pX2NvbnRhaW5pbmdDbGFzcywgbWVtYmVyTmFtZSkpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAvLyBOb3cgaXRlcmF0ZSB0aHJvdWdoIG1lbWJlcnMgYWdhaW4gaW4gZGVjbGFyYXRpb24gb3JkZXIuIEFkZCBhc3NvY2lhdGVkIG1lbWJlciBpbml0aWFsaXplclxyXG4vLyAgICAgICAgIC8vIGZyb20gYWJvdmUgb3IgZGVmYXVsdCBpbml0aWFsaXplciBpZiB0aGVyZSB3YXNuJ3Qgb25lLlxyXG5cclxuLy8gICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbi8vICAgICAgICAgdGhpcy5pX2NvbnRhaW5pbmdDbGFzcy5tZW1iZXJTdWJvYmplY3RFbnRpdGllcy5mb3JFYWNoKGZ1bmN0aW9uKG9iak1lbWJlcil7XHJcbi8vICAgICAgICAgICAgIGlmIChpc0EoaW5pdE1hcFtvYmpNZW1iZXIubmFtZV0sIE1lbWJlckluaXRpYWxpemVyKSl7XHJcbi8vICAgICAgICAgICAgICAgICBzZWxmLm1lbWJlckluaXRpYWxpemVycy5wdXNoKGluaXRNYXBbb2JqTWVtYmVyLm5hbWVdKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNlIGlmIChpc0Eob2JqTWVtYmVyLnR5cGUsIFR5cGVzLkNsYXNzKSB8fCBpc0Eob2JqTWVtYmVyLnR5cGUsIFR5cGVzLkFycmF5KSl7XHJcbi8vICAgICAgICAgICAgICAgICB2YXIgbWVtID0gRGVmYXVsdE1lbWJlckluaXRpYWxpemVyLmluc3RhbmNlKHNlbGYuYXN0LCB7cGFyZW50OiBzZWxmLCBzY29wZTogc2VsZi5ib2R5U2NvcGV9KTtcclxuLy8gICAgICAgICAgICAgICAgIG1lbS5jb21waWxlKG9iak1lbWJlcik7XHJcbi8vICAgICAgICAgICAgICAgICBzZWxmLm1lbWJlckluaXRpYWxpemVycy5wdXNoKG1lbSk7XHJcbi8vICAgICAgICAgICAgICAgICBtZW0uaXNNZW1iZXJJbml0aWFsaXplciA9IHRydWU7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgICAgIC8vIE5vIG5lZWQgdG8gZG8gYW55dGhpbmcgZm9yIG5vbi1jbGFzcyB0eXBlcyBzaW5jZSBkZWZhdWx0IGluaXRpYWxpemF0aW9uIGRvZXMgbm90aGluZ1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfSk7XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIGlzVGFpbENoaWxkIDogZnVuY3Rpb24oY2hpbGQpe1xyXG4vLyAgICAgICAgIHJldHVybiB7aXNUYWlsOiBmYWxzZX07XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIGRlc2NyaWJlIDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbi8vICAgICAgICAgdmFyIGRlc2MgPSB7fTtcclxuLy8gICAgICAgICBpZiAodGhpcy5pc0RlZmF1bHRDb25zdHJ1Y3Rvcil7XHJcbi8vICAgICAgICAgICAgIGRlc2MubWVzc2FnZSA9IFwidGhlIGRlZmF1bHQgY29uc3RydWN0b3IgZm9yIHRoZSBcIiArIHRoaXMuaV9jb250YWluaW5nQ2xhc3MuY2xhc3NOYW1lICsgXCIgY2xhc3NcIjtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZSBpZiAodGhpcy5pc0NvcHlDb25zdHJ1Y3Rvcil7XHJcbi8vICAgICAgICAgICAgIGRlc2MubWVzc2FnZSA9IFwidGhlIGNvcHkgY29uc3RydWN0b3IgZm9yIHRoZSBcIiArIHRoaXMuaV9jb250YWluaW5nQ2xhc3MuY2xhc3NOYW1lICsgXCIgY2xhc3NcIjtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgZGVzYy5tZXNzYWdlID0gXCJhIGNvbnN0cnVjdG9yIGZvciB0aGUgXCIgKyB0aGlzLmlfY29udGFpbmluZ0NsYXNzLmNsYXNzTmFtZSArIFwiIGNsYXNzXCI7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIHJldHVybiBkZXNjXHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuLy8gZXhwb3J0IHZhciBEZXN0cnVjdG9yRGVmaW5pdGlvbiA9IEZ1bmN0aW9uRGVmaW5pdGlvbi5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiRGVzdHJ1Y3RvckRlZmluaXRpb25cIixcclxuXHJcbi8vICAgICBpbml0IDogZnVuY3Rpb24oYXN0LCBjb250ZXh0KXtcclxuLy8gICAgICAgICBhc3NlcnQoY29udGV4dCk7XHJcbi8vICAgICAgICAgYXNzZXJ0KGlzQShjb250ZXh0LmNvbnRhaW5pbmdDbGFzcywgVHlwZXMuQ2xhc3MpKTtcclxuLy8gICAgICAgICBhc3NlcnQoY29udGV4dC5oYXNPd25Qcm9wZXJ0eShcImFjY2Vzc1wiKSk7XHJcbi8vICAgICAgICAgdGhpcy5pbml0UGFyZW50KGFzdCwgY29udGV4dCk7XHJcbi8vICAgICAgICAgdGhpcy5hY2Nlc3MgPSBjb250ZXh0LmFjY2VzcztcclxuLy8gICAgICAgICB0aGlzLmlfY29udGFpbmluZ0NsYXNzID0gY29udGV4dC5jb250YWluaW5nQ2xhc3M7XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIGNvbXBpbGVEZWNsYXJhdGlvbiA6IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgIEZ1bmN0aW9uRGVmaW5pdGlvbi5jb21waWxlRGVjbGFyYXRpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuLy8gICAgICAgICB0aGlzLmlfY29udGFpbmluZ0NsYXNzLmFkZERlc3RydWN0b3IodGhpcy5lbnRpdHkpO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBjb21waWxlRGVjbGFyYXRvciA6IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgIHZhciBhc3QgPSB0aGlzLmFzdDtcclxuXHJcblxyXG4vLyAgICAgICAgIC8vIERlc3RydWN0b3JzIGRvIGhhdmUgbmFtZXMgYW5kIGNhbiBiZSBmb3VuZCB2aWEgbmFtZSBsb29rdXBcclxuLy8gICAgICAgICB0aGlzLm5hbWUgPSBcIn5cIiArIHRoaXMuaV9jb250YWluaW5nQ2xhc3MuY2xhc3NOYW1lO1xyXG5cclxuLy8gICAgICAgICB0aGlzLnZpcnR1YWwgPSB0aGlzLmFzdC52aXJ0dWFsO1xyXG5cclxuLy8gICAgICAgICAvLyBUaGVyZSBhcmUgbm8gcGFyYW1ldGVycyBmb3IgYSBkZXN0cnVjdG9yXHJcbi8vICAgICAgICAgdGhpcy5wYXJhbXMgPSBbXTtcclxuLy8gICAgICAgICB0aGlzLnBhcmFtVHlwZXMgPSBbXTtcclxuXHJcbi8vICAgICAgICAgLy8gSSBrbm93IHRoaXMgaXMgdGVjaG5pY2FsbHkgd3JvbmcgYnV0IEkgdGhpbmsgaXQgbWFrZXMgdGhpbmdzIHJ1biBzbW9vdGhlclxyXG4vLyAgICAgICAgIHRoaXMudHlwZSA9IFR5cGVzLkZ1bmN0aW9uLmluc3RhbmNlKFR5cGVzLlZvaWQuaW5zdGFuY2UoKSwgdGhpcy5wYXJhbVR5cGVzKTtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgY29tcGlsZURlZmluaXRpb246IGZ1bmN0aW9uKCl7XHJcbi8vICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4vLyAgICAgICAgIHZhciBhc3QgPSB0aGlzLmFzdDtcclxuXHJcblxyXG4vLyAgICAgICAgIGlmICghYXN0LmJvZHkpe1xyXG4vLyAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuY2xhc3NfZGVmLmR0b3JfZGVmKHRoaXMpKTtcclxuLy8gICAgICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgLy8gQ2FsbCBwYXJlbnQgY2xhc3MgdmVyc2lvbi4gV2lsbCBoYW5kbGUgYm9keSwgYXV0b21hdGljIG9iamVjdCBkZXN0cnVjdGlvbiwgZXRjLlxyXG4vLyAgICAgICAgIEZ1bmN0aW9uRGVmaW5pdGlvbi5jb21waWxlRGVmaW5pdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cclxuLy8gICAgICAgICB0aGlzLm1lbWJlcnNUb0Rlc3RydWN0ID0gdGhpcy5pX2NvbnRhaW5pbmdDbGFzcy5tZW1iZXJTdWJvYmplY3RFbnRpdGllcy5maWx0ZXIoZnVuY3Rpb24oZW50aXR5KXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIGlzQShlbnRpdHkudHlwZSwgVHlwZXMuQ2xhc3MpO1xyXG4vLyAgICAgICAgIH0pLm1hcChmdW5jdGlvbihlbnRpdHlUb0Rlc3RydWN0KXtcclxuLy8gICAgICAgICAgICAgdmFyIGRlc3QgPSBlbnRpdHlUb0Rlc3RydWN0LnR5cGUuZGVzdHJ1Y3RvcjtcclxuLy8gICAgICAgICAgICAgaWYgKGRlc3Qpe1xyXG4vLyAgICAgICAgICAgICAgICAgdmFyIGNhbGwgPSBGdW5jdGlvbkNhbGwuaW5zdGFuY2Uoe2FyZ3M6IFtdfSwge3BhcmVudDogc2VsZn0pO1xyXG4vLyAgICAgICAgICAgICAgICAgY2FsbC5jb21waWxlKHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBmdW5jOiBkZXN0LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJlY2VpdmVyOiBlbnRpdHlUb0Rlc3RydWN0fSk7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbDtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICAgICAgc2VsZi5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmR0b3Iubm9fZGVzdHJ1Y3Rvcl9tZW1iZXIoZW50aXR5VG9EZXN0cnVjdC5kZWNsLCBlbnRpdHlUb0Rlc3RydWN0LCBzZWxmLmlfY29udGFpbmluZ0NsYXNzKSk7XHJcbi8vICAgICAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgfSk7XHJcblxyXG4vLyAgICAgICAgIHRoaXMuYmFzZXNUb0Rlc3RydWN0ID0gdGhpcy5pX2NvbnRhaW5pbmdDbGFzcy5iYXNlQ2xhc3NFbnRpdGllcy5tYXAoZnVuY3Rpb24oZW50aXR5VG9EZXN0cnVjdCl7XHJcbi8vICAgICAgICAgICAgIHZhciBkZXN0ID0gZW50aXR5VG9EZXN0cnVjdC50eXBlLmRlc3RydWN0b3I7XHJcbi8vICAgICAgICAgICAgIGlmIChkZXN0KXtcclxuLy8gICAgICAgICAgICAgICAgIHZhciBjYWxsID0gRnVuY3Rpb25DYWxsLmluc3RhbmNlKHthcmdzOiBbXX0sIHtwYXJlbnQ6IHNlbGZ9KTtcclxuLy8gICAgICAgICAgICAgICAgIGNhbGwuY29tcGlsZSh7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZnVuYzogZGVzdCxcclxuLy8gICAgICAgICAgICAgICAgICAgICByZWNlaXZlcjogZW50aXR5VG9EZXN0cnVjdH0pO1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGw7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgICAgIHNlbGYuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5kdG9yLm5vX2Rlc3RydWN0b3JfYmFzZShlbnRpdHlUb0Rlc3RydWN0LmRlY2wsIGVudGl0eVRvRGVzdHJ1Y3QsIHNlbGYuaV9jb250YWluaW5nQ2xhc3MpKTtcclxuLy8gICAgICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICB9KTtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgdXBOZXh0IDogQ2xhc3MuQkVGT1JFKGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIGlmIChpbnN0LmluZGV4ID09PSBcImFmdGVyQ2hpbGRyZW5cIikge1xyXG4vLyAgICAgICAgICAgICAvLyBUaGVzZSBhcmUgcHVzaGVkIG9uIGEgc3RhY2sgYW5kIHNvIGVuZCB1cCBoYXBwZW5pbmdcclxuLy8gICAgICAgICAgICAgLy8gaW4gcmV2ZXJzZSBvcmRlciBvZiB0aGUgb3JkZXIgdGhleSBhcmUgcHVzaGVkIGhlcmUuXHJcbi8vICAgICAgICAgICAgIC8vIEF1dG9zIGZpcnN0LCB0aGVuIG1lbWJlcnMsIHRoZW4gYmFzZXMuXHJcbi8vICAgICAgICAgICAgIHRoaXMuYmFzZXNUb0Rlc3RydWN0LmZvckVhY2goZnVuY3Rpb24gKGRlc3Qpe1xyXG4vLyAgICAgICAgICAgICAgICAgZGVzdC5jcmVhdGVBbmRQdXNoSW5zdGFuY2Uoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICAgICAgfSk7XHJcbi8vICAgICAgICAgICAgIHRoaXMubWVtYmVyc1RvRGVzdHJ1Y3QuZm9yRWFjaChmdW5jdGlvbiAoZGVzdCl7XHJcbi8vICAgICAgICAgICAgICAgICBkZXN0LmNyZWF0ZUFuZFB1c2hJbnN0YW5jZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgICAgICB9KTtcclxuLy8gICAgICAgICAgICAgLy8gQXV0byBkZXN0cnVjdG9ycyBhcmUgaGFuZGxlZCBpbiBwYXJlbnQgY2xhc3NcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9KSxcclxuXHJcbi8vICAgICBzdGVwRm9yd2FyZCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIGlmIChpbnN0LmluZGV4ID09PSBcImFmdGVyRGVzdHJ1Y3RvcnNcIil7XHJcbi8vICAgICAgICAgICAgIGluc3QuaW5kZXggPSBcImRvbmVcIjtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIGlzVGFpbENoaWxkIDogZnVuY3Rpb24oY2hpbGQpe1xyXG4vLyAgICAgICAgIHJldHVybiB7aXNUYWlsOiBmYWxzZX07XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuZXhwb3J0IHR5cGUgTGlua2VkRGVmaW5pdGlvbiA9IEdsb2JhbE9iamVjdERlZmluaXRpb24gfCBGdW5jdGlvbkRlZmluaXRpb25bXTsiLCIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc09iamVjdDtcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpIHx8ICgxLCBldmFsKShcInRoaXNcIik7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJ2YXIgZnJlZUdsb2JhbCA9IHJlcXVpcmUoJy4vX2ZyZWVHbG9iYWwnKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvb3Q7XG4iLCJ2YXIgcm9vdCA9IHJlcXVpcmUoJy4vX3Jvb3QnKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgU3ltYm9sID0gcm9vdC5TeW1ib2w7XG5cbm1vZHVsZS5leHBvcnRzID0gU3ltYm9sO1xuIiwiLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBmaXJzdCBhcmd1bWVudCBpdCByZWNlaXZlcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHBhcmFtIHsqfSB2YWx1ZSBBbnkgdmFsdWUuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqXG4gKiBjb25zb2xlLmxvZyhfLmlkZW50aXR5KG9iamVjdCkgPT09IG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpZGVudGl0eTtcbiIsImltcG9ydCB7IEJhc2ljQ1BQQ29uc3RydWN0LCBTdWNjZXNzZnVsbHlDb21waWxlZCwgUnVudGltZUNvbnN0cnVjdCwgVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgQVNUTm9kZSwgIENQUENvbnN0cnVjdCwgQmxvY2tDb250ZXh0LCBSdW50aW1lRnVuY3Rpb24sIEZ1bmN0aW9uQ29udGV4dCB9IGZyb20gXCIuL2NvbnN0cnVjdHNcIjtcclxuaW1wb3J0IHsgQ1BQRXJyb3IgfSBmcm9tIFwiLi9lcnJvcnNcIjtcclxuaW1wb3J0IHsgRXhwcmVzc2lvbkFTVE5vZGUsIGNyZWF0ZUV4cHJlc3Npb25Gcm9tQVNUIH0gZnJvbSBcIi4vZXhwcmVzc2lvbnNcIjtcclxuaW1wb3J0IHsgRGVjbGFyYXRpb25BU1ROb2RlLCBTaW1wbGVEZWNsYXJhdGlvbiwgRnVuY3Rpb25EZWZpbml0aW9uLCBDb21waWxlZFNpbXBsZURlY2xhcmF0aW9uLCBjcmVhdGVTaW1wbGVEZWNsYXJhdGlvbkZyb21BU1QsIGNyZWF0ZURlY2xhcmF0aW9uRnJvbUFTVCwgVmFyaWFibGVEZWZpbml0aW9uIH0gZnJvbSBcIi4vZGVjbGFyYXRpb25zXCI7XHJcbmltcG9ydCB7IERpcmVjdEluaXRpYWxpemVyLCBDb21waWxlZERpcmVjdEluaXRpYWxpemVyLCBSdW50aW1lRGlyZWN0SW5pdGlhbGl6ZXIgfSBmcm9tIFwiLi9pbml0aWFsaXplcnNcIjtcclxuaW1wb3J0IHsgVm9pZFR5cGUsIFJlZmVyZW5jZVR5cGUgfSBmcm9tIFwiLi90eXBlc1wiO1xyXG5pbXBvcnQgeyBSZXR1cm5CeVJlZmVyZW5jZUVudGl0eSwgUmV0dXJuT2JqZWN0RW50aXR5LCBCbG9ja1Njb3BlLCBBdXRvRW50aXR5LCBMb2NhbFJlZmVyZW5jZUVudGl0eSB9IGZyb20gXCIuL2VudGl0aWVzXCI7XHJcbmltcG9ydCB7IE11dGFibGUsIGFzTXV0YWJsZSB9IGZyb20gXCIuLi91dGlsL3V0aWxcIjtcclxuaW1wb3J0IHsgRXhwcmVzc2lvbiwgQ29tcGlsZWRFeHByZXNzaW9uLCBSdW50aW1lRXhwcmVzc2lvbiB9IGZyb20gXCIuL2V4cHJlc3Npb25CYXNlXCI7XHJcblxyXG5leHBvcnQgdHlwZSBTdGF0ZW1lbnRBU1ROb2RlID1cclxuICAgIExhYmVsZWRTdGF0ZW1lbnRBU1ROb2RlIHxcclxuICAgIEJsb2NrQVNUTm9kZSB8XHJcbiAgICBTZWxlY3Rpb25TdGF0ZW1lbnRBU1ROb2RlIHxcclxuICAgIEl0ZXJhdGlvblN0YXRlbWVudEFTVE5vZGUgfFxyXG4gICAgSnVtcFN0YXRlbWVudEFTVE5vZGUgfFxyXG4gICAgRGVjbGFyYXRpb25TdGF0ZW1lbnRBU1ROb2RlIHxcclxuICAgIEV4cHJlc3Npb25TdGF0ZW1lbnRBU1ROb2RlIHxcclxuICAgIE51bGxTdGF0ZW1lbnRBU1ROb2RlO1xyXG5cclxuY29uc3QgU3RhdGVtZW50Q29uc3RydWN0c01hcCA9IHtcclxuICAgIFwibGFiZWxlZF9zdGF0ZW1lbnRcIiA6IChhc3Q6IExhYmVsZWRTdGF0ZW1lbnRBU1ROb2RlLCBjb250ZXh0OiBCbG9ja0NvbnRleHQpID0+IG5ldyBVbnN1cHBvcnRlZFN0YXRlbWVudChjb250ZXh0LCBcImxhYmVsZWQgc3RhdGVtZW50XCIpLnNldEFTVChhc3QpLFxyXG4gICAgXCJjb21wb3VuZF9zdGF0ZW1lbnRcIiA6IChhc3Q6IEJsb2NrQVNUTm9kZSwgY29udGV4dDogQmxvY2tDb250ZXh0KSA9PiBCbG9jay5jcmVhdGVGcm9tQVNUKGFzdCwgY29udGV4dCksXHJcbiAgICBcInNlbGVjdGlvbl9zdGF0ZW1lbnRcIiA6IChhc3Q6IFNlbGVjdGlvblN0YXRlbWVudEFTVE5vZGUsIGNvbnRleHQ6IEJsb2NrQ29udGV4dCkgPT4gbmV3IFVuc3VwcG9ydGVkU3RhdGVtZW50KGNvbnRleHQsIFwic2VsZWN0aW9uIHN0YXRlbWVudFwiKS5zZXRBU1QoYXN0KSxcclxuICAgIFwid2hpbGVfc3RhdGVtZW50XCIgOiAoYXN0OiBXaGlsZVN0YXRlbWVudEFTVE5vZGUsIGNvbnRleHQ6IEJsb2NrQ29udGV4dCkgPT4gbmV3IFVuc3VwcG9ydGVkU3RhdGVtZW50KGNvbnRleHQsIFwid2hpbGUgbG9vcFwiKS5zZXRBU1QoYXN0KSxcclxuICAgIFwiZG93aGlsZV9zdGF0ZW1lbnRcIiA6IChhc3Q6IERvV2hpbGVTdGF0ZW1lbnRBU1ROb2RlLCBjb250ZXh0OiBCbG9ja0NvbnRleHQpID0+IG5ldyBVbnN1cHBvcnRlZFN0YXRlbWVudChjb250ZXh0LCBcImRvLXdoaWxlIGxvb3BcIikuc2V0QVNUKGFzdCksXHJcbiAgICBcImZvcl9zdGF0ZW1lbnRcIiA6IChhc3Q6IEZvclN0YXRlbWVudEFTVE5vZGUsIGNvbnRleHQ6IEJsb2NrQ29udGV4dCkgPT4gbmV3IFVuc3VwcG9ydGVkU3RhdGVtZW50KGNvbnRleHQsIFwiZm9yIGxvb3BcIikuc2V0QVNUKGFzdCksXHJcbiAgICBcImJyZWFrX3N0YXRlbWVudFwiIDogKGFzdDogQnJlYWtTdGF0ZW1lbnRBU1ROb2RlLCBjb250ZXh0OiBCbG9ja0NvbnRleHQpID0+IG5ldyBVbnN1cHBvcnRlZFN0YXRlbWVudChjb250ZXh0LCBcImJyZWFrIHN0YXRlbWVudFwiKS5zZXRBU1QoYXN0KSxcclxuICAgIFwiY29udGludWVfc3RhdGVtZW50XCIgOiAoYXN0OiBDb250aW51ZVN0YXRlbWVudEFTVE5vZGUsIGNvbnRleHQ6IEJsb2NrQ29udGV4dCkgPT4gbmV3IFVuc3VwcG9ydGVkU3RhdGVtZW50KGNvbnRleHQsIFwiY29udGludWUgc3RhdGVtZW50XCIpLnNldEFTVChhc3QpLFxyXG4gICAgXCJyZXR1cm5fc3RhdGVtZW50XCIgOiAoYXN0OiBSZXR1cm5TdGF0ZW1lbnRBU1ROb2RlLCBjb250ZXh0OiBCbG9ja0NvbnRleHQpID0+IFJldHVyblN0YXRlbWVudC5jcmVhdGVGcm9tQVNUKGFzdCwgY29udGV4dCksXHJcbiAgICBcImRlY2xhcmF0aW9uX3N0YXRlbWVudFwiIDogKGFzdDogRGVjbGFyYXRpb25TdGF0ZW1lbnRBU1ROb2RlLCBjb250ZXh0OiBCbG9ja0NvbnRleHQpID0+IERlY2xhcmF0aW9uU3RhdGVtZW50LmNyZWF0ZUZyb21BU1QoYXN0LCBjb250ZXh0KSxcclxuICAgIFwiZXhwcmVzc2lvbl9zdGF0ZW1lbnRcIjogKGFzdDogRXhwcmVzc2lvblN0YXRlbWVudEFTVE5vZGUsIGNvbnRleHQ6IEJsb2NrQ29udGV4dCkgPT4gRXhwcmVzc2lvblN0YXRlbWVudC5jcmVhdGVGcm9tQVNUKGFzdCwgY29udGV4dCksXHJcbiAgICBcIm51bGxfc3RhdGVtZW50XCI6IChhc3Q6IE51bGxTdGF0ZW1lbnRBU1ROb2RlLCBjb250ZXh0OiBCbG9ja0NvbnRleHQpID0+IG5ldyBOdWxsU3RhdGVtZW50KGNvbnRleHQpLnNldEFTVChhc3QpXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdGF0ZW1lbnRGcm9tQVNUPEFTVFR5cGUgZXh0ZW5kcyBTdGF0ZW1lbnRBU1ROb2RlPihhc3Q6IEFTVFR5cGUsIGNvbnRleHQ6IEJsb2NrQ29udGV4dCkgOiBSZXR1cm5UeXBlPCh0eXBlb2YgU3RhdGVtZW50Q29uc3RydWN0c01hcClbQVNUVHlwZVtcImNvbnN0cnVjdF90eXBlXCJdXT4ge1xyXG4gICAgcmV0dXJuIDxhbnk+U3RhdGVtZW50Q29uc3RydWN0c01hcFthc3QuY29uc3RydWN0X3R5cGVdKDxhbnk+YXN0LCBjb250ZXh0KTtcclxufSBcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTdGF0ZW1lbnQ8QVNUVHlwZSBleHRlbmRzIFN0YXRlbWVudEFTVE5vZGUgPSBTdGF0ZW1lbnRBU1ROb2RlPiBleHRlbmRzIEJhc2ljQ1BQQ29uc3RydWN0PEJsb2NrQ29udGV4dCwgQVNUVHlwZT4ge1xyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBjcmVhdGVSdW50aW1lU3RhdGVtZW50KHRoaXM6IENvbXBpbGVkU3RhdGVtZW50LCBwYXJlbnQ6IFJ1bnRpbWVTdGF0ZW1lbnQpIDogUnVudGltZVN0YXRlbWVudDtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRTdGF0ZW1lbnQgZXh0ZW5kcyBTdGF0ZW1lbnQsIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSdW50aW1lU3RhdGVtZW50PEMgZXh0ZW5kcyBDb21waWxlZFN0YXRlbWVudCA9IENvbXBpbGVkU3RhdGVtZW50PiBleHRlbmRzIFJ1bnRpbWVDb25zdHJ1Y3Q8Qz4ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBjb250YWluaW5nUnVudGltZUZ1bmN0aW9uOiBSdW50aW1lRnVuY3Rpb247XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChtb2RlbDogQywgcGFyZW50OiBSdW50aW1lU3RhdGVtZW50IHwgUnVudGltZUZ1bmN0aW9uKSB7XHJcbiAgICAgICAgc3VwZXIobW9kZWwsIFwic3RhdGVtZW50XCIsIHBhcmVudCk7XHJcbiAgICAgICAgaWYgKHBhcmVudCBpbnN0YW5jZW9mIFJ1bnRpbWVGdW5jdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5pbmdSdW50aW1lRnVuY3Rpb24gPSBwYXJlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5pbmdSdW50aW1lRnVuY3Rpb24gPSBwYXJlbnQuY29udGFpbmluZ1J1bnRpbWVGdW5jdGlvbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBvcHBlZCgpIHtcclxuICAgICAgICBzdXBlci5wb3BwZWQoKTtcclxuICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcInJlc2V0XCIpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFVuc3VwcG9ydGVkU3RhdGVtZW50IGV4dGVuZHMgU3RhdGVtZW50IHtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBCbG9ja0NvbnRleHQsIHVuc3VwcG9ydGVkTmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIoY29udGV4dCk7XHJcbiAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmxvYnN0ZXIudW5zdXBwb3J0ZWRfZmVhdHVyZSh0aGlzLCB1bnN1cHBvcnRlZE5hbWUpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBXaWxsIG5ldmVyIGJlIGNhbGxlZCBzaW5jZSBhbiBVbnN1cHBvcnRlZFN0YXRlbWVudCB3aWxsIGFsd2F5cyBoYXZlIGVycm9ycyBhbmRcclxuICAgIC8vIG5ldmVyIHNhdGlzZnkgdGhlIHJlcXVpcmVkIHRoaXMgY29udGV4dCBvZiBDb21waWxlZFN0YXRlbWVudFxyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVTdGF0ZW1lbnQodGhpczogQ29tcGlsZWRTdGF0ZW1lbnQsIHBhcmVudDogUnVudGltZVN0YXRlbWVudCkgOiBuZXZlciB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNyZWF0ZSBhIHJ1bnRpbWUgaW5zdGFuY2Ugb2YgYW4gdW5zdXBwb3J0ZWQgY29uc3RydWN0LlwiKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRXhwcmVzc2lvblN0YXRlbWVudEFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcImV4cHJlc3Npb25fc3RhdGVtZW50XCI7XHJcbiAgICByZWFkb25seSBleHByZXNzaW9uOiBFeHByZXNzaW9uQVNUTm9kZTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEV4cHJlc3Npb25TdGF0ZW1lbnQgZXh0ZW5kcyBTdGF0ZW1lbnQ8RXhwcmVzc2lvblN0YXRlbWVudEFTVE5vZGU+IHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZXhwcmVzc2lvbjogRXhwcmVzc2lvbjtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUZyb21BU1QoYXN0OiBFeHByZXNzaW9uU3RhdGVtZW50QVNUTm9kZSwgY29udGV4dDogQmxvY2tDb250ZXh0KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBFeHByZXNzaW9uU3RhdGVtZW50KGNvbnRleHQsXHJcbiAgICAgICAgICAgIGNyZWF0ZUV4cHJlc3Npb25Gcm9tQVNUKGFzdC5leHByZXNzaW9uLCBjb250ZXh0KVxyXG4gICAgICAgICkuc2V0QVNUKGFzdCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRleHQ6IEJsb2NrQ29udGV4dCwgZXhwcmVzc2lvbjogRXhwcmVzc2lvbikge1xyXG4gICAgICAgIHN1cGVyKGNvbnRleHQpO1xyXG4gICAgICAgIHRoaXMuYXR0YWNoKHRoaXMuZXhwcmVzc2lvbiA9IGV4cHJlc3Npb24pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lU3RhdGVtZW50KHRoaXM6IENvbXBpbGVkRXhwcmVzc2lvblN0YXRlbWVudCwgcGFyZW50OiBSdW50aW1lU3RhdGVtZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSdW50aW1lRXhwcmVzc2lvblN0YXRlbWVudCh0aGlzLCBwYXJlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc1RhaWxDaGlsZChjaGlsZDogQ1BQQ29uc3RydWN0KSB7XHJcbiAgICAgICAgcmV0dXJuIHtpc1RhaWw6IHRydWV9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkRXhwcmVzc2lvblN0YXRlbWVudCBleHRlbmRzIEV4cHJlc3Npb25TdGF0ZW1lbnQsIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuICAgIHJlYWRvbmx5IGV4cHJlc3Npb246IENvbXBpbGVkRXhwcmVzc2lvbjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJ1bnRpbWVFeHByZXNzaW9uU3RhdGVtZW50IGV4dGVuZHMgUnVudGltZVN0YXRlbWVudDxDb21waWxlZEV4cHJlc3Npb25TdGF0ZW1lbnQ+IHtcclxuICAgIFxyXG4gICAgcHVibGljIGV4cHJlc3Npb246IFJ1bnRpbWVFeHByZXNzaW9uO1xyXG4gICAgcHJpdmF0ZSBpbmRleCA9IFwiZXhwclwiO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvciAobW9kZWw6IENvbXBpbGVkRXhwcmVzc2lvblN0YXRlbWVudCwgcGFyZW50OiBSdW50aW1lU3RhdGVtZW50KSB7XHJcbiAgICAgICAgc3VwZXIobW9kZWwsIHBhcmVudCk7XHJcbiAgICAgICAgdGhpcy5leHByZXNzaW9uID0gdGhpcy5tb2RlbC5leHByZXNzaW9uLmNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuXHRwcm90ZWN0ZWQgdXBOZXh0SW1wbCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pbmRleCA9PT0gXCJleHByXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5zaW0ucHVzaCh0aGlzLmV4cHJlc3Npb24pO1xyXG4gICAgICAgICAgICB0aGlzLmluZGV4ID0gXCJkb25lXCI7XHJcbiAgICAgICAgfVxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cdFxyXG5cdHByb3RlY3RlZCBzdGVwRm9yd2FyZEltcGwoKSB7XHJcbiAgICAgICAgdGhpcy5zaW0ucG9wKCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cdH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTnVsbFN0YXRlbWVudEFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcIm51bGxfc3RhdGVtZW50XCI7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBOdWxsU3RhdGVtZW50IGV4dGVuZHMgU3RhdGVtZW50PE51bGxTdGF0ZW1lbnRBU1ROb2RlPiB7XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVTdGF0ZW1lbnQodGhpczogQ29tcGlsZWROdWxsU3RhdGVtZW50LCBwYXJlbnQ6IFJ1bnRpbWVTdGF0ZW1lbnQpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFJ1bnRpbWVOdWxsU3RhdGVtZW50KHRoaXMsIHBhcmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzVGFpbENoaWxkKGNoaWxkOiBDUFBDb25zdHJ1Y3QpIHtcclxuICAgICAgICByZXR1cm4ge2lzVGFpbDogdHJ1ZX07IC8vIE5vdGU6IE51bGxTdGF0ZW1lbnQgd2lsbCBuZXZlciBhY3R1YWxseSBoYXZlIGNoaWxkcmVuLCBzbyB0aGlzIGlzbid0IHVzZWRcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZE51bGxTdGF0ZW1lbnQgZXh0ZW5kcyBOdWxsU3RhdGVtZW50LCBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcbiAgICBcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJ1bnRpbWVOdWxsU3RhdGVtZW50IGV4dGVuZHMgUnVudGltZVN0YXRlbWVudDxDb21waWxlZE51bGxTdGF0ZW1lbnQ+IHtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IgKG1vZGVsOiBDb21waWxlZE51bGxTdGF0ZW1lbnQsIHBhcmVudDogUnVudGltZVN0YXRlbWVudCkge1xyXG4gICAgICAgIHN1cGVyKG1vZGVsLCBwYXJlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cE5leHRJbXBsKCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RlcEZvcndhcmRJbXBsKCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRGVjbGFyYXRpb25TdGF0ZW1lbnRBU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJkZWNsYXJhdGlvbl9zdGF0ZW1lbnRcIjtcclxuICAgIHJlYWRvbmx5IGRlY2xhcmF0aW9uOiBEZWNsYXJhdGlvbkFTVE5vZGU7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBEZWNsYXJhdGlvblN0YXRlbWVudCBleHRlbmRzIFN0YXRlbWVudDxEZWNsYXJhdGlvblN0YXRlbWVudEFTVE5vZGU+IHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGVjbGFyYXRpb25zOiByZWFkb25seSBTaW1wbGVEZWNsYXJhdGlvbltdIHwgRnVuY3Rpb25EZWZpbml0aW9uIC8qIHwgQ2xhc3NEZWZpbml0aW9uKi87XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVGcm9tQVNUKGFzdDogRGVjbGFyYXRpb25TdGF0ZW1lbnRBU1ROb2RlLCBjb250ZXh0OiBCbG9ja0NvbnRleHQpIHtcclxuICAgICAgICByZXR1cm4gbmV3IERlY2xhcmF0aW9uU3RhdGVtZW50KGNvbnRleHQsXHJcbiAgICAgICAgICAgIGNyZWF0ZURlY2xhcmF0aW9uRnJvbUFTVChhc3QuZGVjbGFyYXRpb24sIGNvbnRleHQpXHJcbiAgICAgICAgKS5zZXRBU1QoYXN0KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29udGV4dDogQmxvY2tDb250ZXh0LCBkZWNsYXJhdGlvbnM6IHJlYWRvbmx5IFNpbXBsZURlY2xhcmF0aW9uW10gfCBGdW5jdGlvbkRlZmluaXRpb24gLyogfCBDbGFzc0RlZmluaXRpb24qLykge1xyXG4gICAgICAgIHN1cGVyKGNvbnRleHQpO1xyXG5cclxuICAgICAgICBpZiAoZGVjbGFyYXRpb25zIGluc3RhbmNlb2YgRnVuY3Rpb25EZWZpbml0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5zdG10LmZ1bmN0aW9uX2RlZmluaXRpb25fcHJvaGliaXRlZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoKHRoaXMuZGVjbGFyYXRpb25zID0gZGVjbGFyYXRpb25zKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5hdHRhY2hBbGwodGhpcy5kZWNsYXJhdGlvbnMgPSBkZWNsYXJhdGlvbnMpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGVsc2UgaWYgKGRlY2xhcmF0aW9uIGluc3RhbmNlb2YgQ2xhc3NEZWZpbml0aW9uKSB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5sb2JzdGVyLnVuc3VwcG9ydGVkX2ZlYXR1cmUodGhpcywgXCJsb2NhbCBjbGFzc2VzXCIpKTtcclxuICAgICAgICAvLyB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVTdGF0ZW1lbnQodGhpczogQ29tcGlsZWREZWNsYXJhdGlvblN0YXRlbWVudCwgcGFyZW50OiBSdW50aW1lU3RhdGVtZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSdW50aW1lRGVjbGFyYXRpb25TdGF0ZW1lbnQodGhpcywgcGFyZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNUYWlsQ2hpbGQoY2hpbGQ6IENQUENvbnN0cnVjdCkge1xyXG4gICAgICAgIHJldHVybiB7aXNUYWlsOiB0cnVlfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZERlY2xhcmF0aW9uU3RhdGVtZW50IGV4dGVuZHMgRGVjbGFyYXRpb25TdGF0ZW1lbnQsIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuICAgIFxyXG4gICAgLy8gbmFycm93cyB0byBjb21waWxlZCB2ZXJzaW9uIGFuZCBydWxlcyBvdXQgYSBGdW5jdGlvbkRlZmluaXRpb24gb3IgQ2xhc3NEZWZpbml0aW9uXHJcbiAgICByZWFkb25seSBkZWNsYXJhdGlvbnM6IHJlYWRvbmx5IENvbXBpbGVkU2ltcGxlRGVjbGFyYXRpb25bXTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJ1bnRpbWVEZWNsYXJhdGlvblN0YXRlbWVudCBleHRlbmRzIFJ1bnRpbWVTdGF0ZW1lbnQ8Q29tcGlsZWREZWNsYXJhdGlvblN0YXRlbWVudD4ge1xyXG5cclxuICAgIHByaXZhdGUgaW5kZXggPSAwO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvciAobW9kZWw6IENvbXBpbGVkRGVjbGFyYXRpb25TdGF0ZW1lbnQsIHBhcmVudDogUnVudGltZVN0YXRlbWVudCkge1xyXG4gICAgICAgIHN1cGVyKG1vZGVsLCBwYXJlbnQpO1xyXG4gICAgfVxyXG5cdFxyXG4gICAgcHJvdGVjdGVkIHVwTmV4dEltcGwoKSB7XHJcblxyXG4gICAgICAgIGxldCBpbml0aWFsaXplcnMgPSB0aGlzLm1vZGVsLmRlY2xhcmF0aW9ucy5tYXAoZCA9PiBkLmluaXRpYWxpemVyKTtcclxuICAgICAgICBpZiAodGhpcy5pbmRleCA8IGluaXRpYWxpemVycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbGV0IGluaXQgPSBpbml0aWFsaXplcnNbdGhpcy5pbmRleF07XHJcbiAgICAgICAgICAgIGlmKGluaXQpIHtcclxuICAgICAgICAgICAgICAgIC8vIE9ubHkgZGVjbGFyYXRpb25zIHdpdGggYW4gaW5pdGlhbGl6ZXIgKGUuZy4gYSB2YXJpYWJsZSBkZWZpbml0aW9uKSBoYXZlIHNvbWV0aGluZ1xyXG4gICAgICAgICAgICAgICAgLy8gdG8gZG8gYXQgcnVudGltZS4gT3RoZXJzIChlLmcuIHR5cGVkZWZzKSBkbyBub3RoaW5nLlxyXG4gICAgICAgICAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJpbml0aWFsaXppbmdcIiwgdGhpcy5pbmRleCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcnVudGltZUluaXQgPSBpbml0LmNyZWF0ZVJ1bnRpbWVJbml0aWFsaXplcih0aGlzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2ltLnB1c2gocnVudGltZUluaXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICsrdGhpcy5pbmRleDtcclxuICAgICAgICAgICAgdGhpcy53YWl0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuc2ltLnBvcCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RlcEZvcndhcmRJbXBsKCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCB0eXBlIEp1bXBTdGF0ZW1lbnRBU1ROb2RlID0gQnJlYWtTdGF0ZW1lbnRBU1ROb2RlIHwgQ29udGludWVTdGF0ZW1lbnRBU1ROb2RlIHwgUmV0dXJuU3RhdGVtZW50QVNUTm9kZTtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQnJlYWtTdGF0ZW1lbnRBU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJicmVha19zdGF0ZW1lbnRcIjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb250aW51ZVN0YXRlbWVudEFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcImNvbnRpbnVlX3N0YXRlbWVudFwiO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFJldHVyblN0YXRlbWVudEFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcInJldHVybl9zdGF0ZW1lbnRcIjtcclxuICAgIHJlYWRvbmx5IGV4cHJlc3Npb246IEV4cHJlc3Npb25BU1ROb2RlO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUmV0dXJuU3RhdGVtZW50IGV4dGVuZHMgU3RhdGVtZW50PFJldHVyblN0YXRlbWVudEFTVE5vZGU+IHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZXhwcmVzc2lvbj86IEV4cHJlc3Npb247XHJcblxyXG4gICAgLy8gVE9ETzogVGVjaG5pY2FsbHksIHRoaXMgc2hvdWxkIGJlIENvcHlJbml0aWFsaXplclxyXG4gICAgcHVibGljIHJlYWRvbmx5IHJldHVybkluaXRpYWxpemVyPzogRGlyZWN0SW5pdGlhbGl6ZXI7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVGcm9tQVNUKGFzdDogUmV0dXJuU3RhdGVtZW50QVNUTm9kZSwgY29udGV4dDogQmxvY2tDb250ZXh0KSB7XHJcbiAgICAgICAgcmV0dXJuIGFzdC5leHByZXNzaW9uXHJcbiAgICAgICAgICAgID8gbmV3IFJldHVyblN0YXRlbWVudChjb250ZXh0LCBjcmVhdGVFeHByZXNzaW9uRnJvbUFTVChhc3QuZXhwcmVzc2lvbiwgY29udGV4dCkpLnNldEFTVChhc3QpXHJcbiAgICAgICAgICAgIDogbmV3IFJldHVyblN0YXRlbWVudChjb250ZXh0KS5zZXRBU1QoYXN0KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29udGV4dDogQmxvY2tDb250ZXh0LCBleHByZXNzaW9uPzogRXhwcmVzc2lvbikge1xyXG4gICAgICAgIHN1cGVyKGNvbnRleHQpO1xyXG4gICAgICAgIHRoaXMuZXhwcmVzc2lvbiA9IGV4cHJlc3Npb247XHJcblxyXG4gICAgICAgIGxldCByZXR1cm5UeXBlID0gdGhpcy5jb250ZXh0LmNvbnRhaW5pbmdGdW5jdGlvbi50eXBlLnJldHVyblR5cGU7XHJcblxyXG4gICAgICAgIGlmIChyZXR1cm5UeXBlIGluc3RhbmNlb2YgVm9pZFR5cGUpIHtcclxuICAgICAgICAgICAgaWYgKGV4cHJlc3Npb24pIHtcclxuICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgYW4gZXhwcmVzc2lvbiB0byByZXR1cm4sIGJ1dCB0aGUgdHlwZSBpcyB2b2lkLCBzbyB0aGF0J3MgYmFkXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3Iuc3RtdC5yZXR1cm5TdGF0ZW1lbnQuZXhwclZvaWQodGhpcykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEEgcmV0dXJuIHN0YXRlbWVudCB3aXRoIG5vIGV4cHJlc3Npb24gaXMgb25seSBhbGxvd2VkIGluIHZvaWQgZnVuY3Rpb25zLlxyXG4gICAgICAgIC8vIEF0IHRoZSBtb21lbnQsIGNvbnN0cnVjdG9ycy9kZXN0cnVjdG9ycyBhcmUgaGFja2VkIHRvIGhhdmUgdm9pZCByZXR1cm4gdHlwZSxcclxuICAgICAgICAvLyBzbyB0aGlzIGNoZWNrIGlzIG9rIGZvciByZXR1cm4gc3RhdGVtZW50cyBpbiBhIGNvbnN0cnVjdG9yLlxyXG4gICAgICAgIGlmICghZXhwcmVzc2lvbikge1xyXG4gICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3Iuc3RtdC5yZXR1cm5TdGF0ZW1lbnQuZW1wdHkodGhpcykpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocmV0dXJuVHlwZSBpbnN0YW5jZW9mIFJlZmVyZW5jZVR5cGUpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXR1cm5Jbml0aWFsaXplciA9IERpcmVjdEluaXRpYWxpemVyLmNyZWF0ZShjb250ZXh0LCBuZXcgUmV0dXJuQnlSZWZlcmVuY2VFbnRpdHkocmV0dXJuVHlwZS5yZWZUbyksIFtleHByZXNzaW9uXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnJldHVybkluaXRpYWxpemVyID0gRGlyZWN0SW5pdGlhbGl6ZXIuY3JlYXRlKGNvbnRleHQsIG5ldyBSZXR1cm5PYmplY3RFbnRpdHkocmV0dXJuVHlwZSksIFtleHByZXNzaW9uXSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTm90ZTogVGhlIGV4cHJlc3Npb24gaXMgTk9UIGF0dGFjaGVkIGRpcmVjdGx5IGhlcmUsIHNpbmNlIGl0J3MgYXR0YWNoZWQgdW5kZXIgdGhlIGluaXRpYWxpemVyLlxyXG4gICAgICAgIHRoaXMuYXR0YWNoKHRoaXMucmV0dXJuSW5pdGlhbGl6ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lU3RhdGVtZW50KHRoaXM6IENvbXBpbGVkUmV0dXJuU3RhdGVtZW50LCBwYXJlbnQ6IFJ1bnRpbWVTdGF0ZW1lbnQpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFJ1bnRpbWVSZXR1cm5TdGF0ZW1lbnQodGhpcywgcGFyZW50KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gaXNUYWlsQ2hpbGQgOiBmdW5jdGlvbihjaGlsZCl7XHJcbiAgICAvLyAgICAgcmV0dXJuIHtpc1RhaWw6IHRydWUsXHJcbiAgICAvLyAgICAgICAgIHJlYXNvbjogXCJUaGUgcmVjdXJzaXZlIGNhbGwgaXMgaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgYSByZXR1cm4uXCJ9O1xyXG4gICAgLy8gfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkUmV0dXJuU3RhdGVtZW50IGV4dGVuZHMgUmV0dXJuU3RhdGVtZW50LCBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcbiAgICByZWFkb25seSBleHByZXNzaW9uPzogQ29tcGlsZWRFeHByZXNzaW9uO1xyXG4gICAgcmVhZG9ubHkgcmV0dXJuSW5pdGlhbGl6ZXI/OiBDb21waWxlZERpcmVjdEluaXRpYWxpemVyO1xyXG59XHJcblxyXG5lbnVtIFJ1bnRpbWVSZXR1cm5TdGF0ZW1lbnRJbmRpY2VzIHtcclxuICAgIFBVU0hfSU5JVElBTElaRVIsXHJcbiAgICBSRVRVUk5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJ1bnRpbWVSZXR1cm5TdGF0ZW1lbnQgZXh0ZW5kcyBSdW50aW1lU3RhdGVtZW50PENvbXBpbGVkUmV0dXJuU3RhdGVtZW50PiB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHJldHVybkluaXRpYWxpemVyPzogUnVudGltZURpcmVjdEluaXRpYWxpemVyO1xyXG5cclxuICAgIHByaXZhdGUgaW5kZXggPSBSdW50aW1lUmV0dXJuU3RhdGVtZW50SW5kaWNlcy5QVVNIX0lOSVRJQUxJWkVSO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvciAobW9kZWw6IENvbXBpbGVkUmV0dXJuU3RhdGVtZW50LCBwYXJlbnQ6IFJ1bnRpbWVTdGF0ZW1lbnQpIHtcclxuICAgICAgICBzdXBlcihtb2RlbCwgcGFyZW50KTtcclxuICAgICAgICBpZihtb2RlbC5yZXR1cm5Jbml0aWFsaXplcikge1xyXG4gICAgICAgICAgICB0aGlzLnJldHVybkluaXRpYWxpemVyID0gbW9kZWwucmV0dXJuSW5pdGlhbGl6ZXIuY3JlYXRlUnVudGltZUluaXRpYWxpemVyKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHRcclxuICAgIHByb3RlY3RlZCB1cE5leHRJbXBsKCkge1xyXG4gICAgICAgIGlmKHRoaXMuaW5kZXggPT09IFJ1bnRpbWVSZXR1cm5TdGF0ZW1lbnRJbmRpY2VzLlBVU0hfSU5JVElBTElaRVIpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucmV0dXJuSW5pdGlhbGl6ZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2ltLnB1c2godGhpcy5yZXR1cm5Jbml0aWFsaXplcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5pbmRleCA9IFJ1bnRpbWVSZXR1cm5TdGF0ZW1lbnRJbmRpY2VzLlJFVFVSTjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0ZXBGb3J3YXJkSW1wbCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pbmRleCA9PT0gUnVudGltZVJldHVyblN0YXRlbWVudEluZGljZXMuUkVUVVJOKSB7XHJcbiAgICAgICAgICAgIGxldCBmdW5jID0gdGhpcy5jb250YWluaW5nUnVudGltZUZ1bmN0aW9uO1xyXG4gICAgICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcInJldHVybmVkXCIsIHtjYWxsOiBmdW5jLmNhbGxlcn0pXHJcbiAgICAgICAgICAgIHRoaXMuc2ltLnBvcFVudGlsKGZ1bmMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBCbG9ja0FTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcImNvbXBvdW5kX3N0YXRlbWVudFwiO1xyXG4gICAgcmVhZG9ubHkgc3RhdGVtZW50czogcmVhZG9ubHkgU3RhdGVtZW50QVNUTm9kZVtdO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVCbG9ja0NvbnRleHQoY29udGV4dDogRnVuY3Rpb25Db250ZXh0KSA6IEJsb2NrQ29udGV4dCB7XHJcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgY29udGV4dCwge1xyXG4gICAgICAgIGNvbnRleHR1YWxTY29wZTogbmV3IEJsb2NrU2NvcGUoY29udGV4dC5jb250ZXh0dWFsU2NvcGUpLFxyXG4gICAgICAgIGxvY2FsT2JqZWN0czogW10sXHJcbiAgICAgICAgbG9jYWxSZWZlcmVuY2VzOiBbXVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBCbG9jayBleHRlbmRzIFN0YXRlbWVudDxCbG9ja0FTVE5vZGU+IHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RhdGVtZW50czogcmVhZG9ubHkgU3RhdGVtZW50W10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgYmxvY2tDb250ZXh0OiBCbG9ja0NvbnRleHQ7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVGcm9tQVNUKGFzdDogQmxvY2tBU1ROb2RlLCBjb250ZXh0OiBGdW5jdGlvbkNvbnRleHQpIHtcclxuICAgICAgICBsZXQgYmxvY2sgPSBuZXcgQmxvY2soY29udGV4dCkuc2V0QVNUKGFzdCk7XHJcbiAgICAgICAgYXN0LnN0YXRlbWVudHMuZm9yRWFjaCgoc3RtdEFzdCkgPT4gYmxvY2suYWRkU3RhdGVtZW50KGNyZWF0ZVN0YXRlbWVudEZyb21BU1Qoc3RtdEFzdCwgY29udGV4dCkpKTtcclxuICAgICAgICByZXR1cm4gYmxvY2s7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRleHQ6IEJsb2NrQ29udGV4dCkge1xyXG4gICAgICAgIHN1cGVyKGNvbnRleHQpO1xyXG4gICAgICAgIHRoaXMuYmxvY2tDb250ZXh0ID0gY3JlYXRlQmxvY2tDb250ZXh0KGNvbnRleHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRTdGF0ZW1lbnQoc3RhdGVtZW50OiBTdGF0ZW1lbnQpIHtcclxuICAgICAgICBhc011dGFibGUodGhpcy5zdGF0ZW1lbnRzKS5wdXNoKHN0YXRlbWVudCk7XHJcbiAgICAgICAgdGhpcy5hdHRhY2goc3RhdGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZVN0YXRlbWVudCh0aGlzOiBDb21waWxlZEJsb2NrLCBwYXJlbnQ6IFJ1bnRpbWVTdGF0ZW1lbnQgfCBSdW50aW1lRnVuY3Rpb24pIHtcclxuICAgICAgICByZXR1cm4gbmV3IFJ1bnRpbWVCbG9jayh0aGlzLCBwYXJlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGlzVGFpbENoaWxkIDogZnVuY3Rpb24oY2hpbGQpe1xyXG4gICAgLy8gICAgIHZhciBsYXN0ID0gdGhpcy5zdGF0ZW1lbnRzLmxhc3QoKTtcclxuICAgIC8vICAgICBpZiAoY2hpbGQgIT09IGxhc3Qpe1xyXG4gICAgLy8gICAgICAgICBpZiAoY2hpbGQgPT09IHRoaXMuc3RhdGVtZW50c1t0aGlzLnN0YXRlbWVudHMubGVuZ3RoLTJdICYmIGlzQShsYXN0LCBTdGF0ZW1lbnRzLlJldHVybikgJiYgIWxhc3QuaGFzRXhwcmVzc2lvbil7XHJcbiAgICAvLyAgICAgICAgICAgICByZXR1cm4ge2lzVGFpbDogdHJ1ZSxcclxuICAgIC8vICAgICAgICAgICAgICAgICByZWFzb246IFwiVGhlIG9ubHkgdGhpbmcgYWZ0ZXIgdGhlIHJlY3Vyc2l2ZSBjYWxsIGlzIGFuIGVtcHR5IHJldHVybi5cIixcclxuICAgIC8vICAgICAgICAgICAgICAgICBvdGhlcnM6IFtsYXN0XVxyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIGVsc2V7XHJcbiAgICAvLyAgICAgICAgICAgICB2YXIgb3RoZXJzID0gW107XHJcbiAgICAvLyAgICAgICAgICAgICBmb3IgKHZhciBvdGhlckluZGV4ID0gdGhpcy5zdGF0ZW1lbnRzLmxlbmd0aC0xOyB0aGlzLnN0YXRlbWVudHNbb3RoZXJJbmRleF0gIT09IGNoaWxkICYmIG90aGVySW5kZXggPj0gMDsgLS1vdGhlckluZGV4KXtcclxuICAgIC8vICAgICAgICAgICAgICAgICB2YXIgb3RoZXIgPSB0aGlzLnN0YXRlbWVudHNbb3RoZXJJbmRleF07XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKCEoaXNBKG90aGVyLCBTdGF0ZW1lbnRzLlJldHVybikgJiYgIW90aGVyLmV4cHJlc3Npb24pKXtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgb3RoZXJzLnVuc2hpZnQob3RoZXIpO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgIHJldHVybiB7aXNUYWlsOiBmYWxzZSxcclxuICAgIC8vICAgICAgICAgICAgICAgICByZWFzb246IFwiVGhlcmUgYXJlIG90aGVyIHN0YXRlbWVudHMgaW4gdGhpcyBibG9jayB0aGF0IHdpbGwgZXhlY3V0ZSBhZnRlciB0aGUgcmVjdXJzaXZlIGNhbGwuXCIsXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgb3RoZXJzOiBvdGhlcnNcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBlbHNle1xyXG4gICAgLy8gICAgICAgICByZXR1cm4ge2lzVGFpbDogdHJ1ZX07XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZEJsb2NrIGV4dGVuZHMgQmxvY2ssIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuICAgIHJlYWRvbmx5IHN0YXRlbWVudHM6IHJlYWRvbmx5IENvbXBpbGVkU3RhdGVtZW50W107XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBSdW50aW1lQmxvY2s8QyBleHRlbmRzIENvbXBpbGVkQmxvY2sgPSBDb21waWxlZEJsb2NrPiBleHRlbmRzIFJ1bnRpbWVTdGF0ZW1lbnQ8Qz4ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBzdGF0ZW1lbnRzOiByZWFkb25seSBSdW50aW1lU3RhdGVtZW50W107XHJcblxyXG4gICAgcHJpdmF0ZSBpbmRleCA9IDA7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChtb2RlbDogQywgcGFyZW50OiBSdW50aW1lU3RhdGVtZW50IHwgUnVudGltZUZ1bmN0aW9uKSB7XHJcbiAgICAgICAgc3VwZXIobW9kZWwsIHBhcmVudCk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZW1lbnRzID0gbW9kZWwuc3RhdGVtZW50cy5tYXAoKHN0bXQpID0+IHN0bXQuY3JlYXRlUnVudGltZVN0YXRlbWVudCh0aGlzKSk7XHJcbiAgICB9XHJcblx0XHJcbiAgICBwcm90ZWN0ZWQgdXBOZXh0SW1wbCgpIHtcclxuICAgICAgICBpZih0aGlzLmluZGV4IDwgdGhpcy5zdGF0ZW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcImluZGV4XCIsIHRoaXMuaW5kZXgpO1xyXG4gICAgICAgICAgICB0aGlzLnNpbS5wdXNoKHRoaXMuc3RhdGVtZW50c1t0aGlzLmluZGV4KytdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2ltLnBvcCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RlcEZvcndhcmRJbXBsKCkge1xyXG4gICAgICAgIC8vIE5vdGhpbmcgdG8gZG8gaGVyZSwgYmxvY2sgZG9lc24ndCBhY3R1YWxseSBkbyBhbnl0aGluZyBidXQgcnVuIGluZGl2aWR1YWwgc3RhdGVtZW50cy5cclxuICAgICAgICAvLyBUT0RPOiBIb3dldmVyLCBzb21ldGhpbmcgd2lsbCB1bHRpbWF0ZWx5IG5lZWQgdG8gYmUgYWRkZWQgdG8gcnVuIGRlc3RydWN0b3JzIHdoZW4gYVxyXG4gICAgICAgIC8vIGJsb2NrIGZpbmlzaGVzLCByYXRoZXIgdGhhbiBqdXN0IHdoZW4gYSBmdW5jdGlvbiBmaW5pc2hlcy5cclxuICAgIH1cclxuXHJcbiAgICBcclxuICAgIC8vIGlzVGFpbENoaWxkIDogZnVuY3Rpb24oY2hpbGQpe1xyXG4gICAgLy8gICAgIHJldHVybiB7aXNUYWlsOiB0cnVlLFxyXG4gICAgLy8gICAgICAgICByZWFzb246IFwiVGhlIHJlY3Vyc2l2ZSBjYWxsIGlzIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IGEgcmV0dXJuLlwifTtcclxuICAgIC8vIH1cclxufVxyXG5cclxuLy8gZXhwb3J0IGNsYXNzIEZ1bmN0aW9uQm9keUJsb2NrIGV4dGVuZHMgQmxvY2sge1xyXG5cclxuLy8gICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBFeGVjdXRhYmxlVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgZnVuY3Rpb25CbG9ja1Njb3BlOiBGdW5jdGlvbkJsb2NrU2NvcGUsIHN0YXRlbWVudHM6IHJlYWRvbmx5IFN0YXRlbWVudFtdKSB7XHJcbi8vICAgICAgICAgc3VwZXIoY29udGV4dCwgZnVuY3Rpb25CbG9ja1Njb3BlLCBzdGF0ZW1lbnRzKTtcclxuLy8gICAgIH1cclxuXHJcbi8vIH1cclxuXHJcbi8vIGV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRGdW5jdGlvbkJvZHlCbG9jayBleHRlbmRzIEZ1bmN0aW9uQm9keUJsb2NrLCBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcbi8vICAgICByZWFkb25seSBzdGF0ZW1lbnRzOiByZWFkb25seSBDb21waWxlZFN0YXRlbWVudFtdO1xyXG4vLyB9XHJcblxyXG4vLyBleHBvcnQgdmFyIE9wYXF1ZUZ1bmN0aW9uQm9keUJsb2NrID0gU3RhdGVtZW50LmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZTogXCJPcGFxdWVGdW5jdGlvbkJvZHlCbG9ja1wiLFxyXG5cclxuLy8gICAgIGlfY3JlYXRlRnJvbUFTVCA6IGZ1bmN0aW9uKGFzdCl7XHJcbi8vICAgICAgICAgU3RhdGVtZW50cy5PcGFxdWVGdW5jdGlvbkJvZHlCbG9jay5fcGFyZW50LmlfY3JlYXRlRnJvbUFTVC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cclxuLy8gICAgICAgICB0aGlzLmJsb2NrU2NvcGUgPSBGdW5jdGlvbkJsb2NrU2NvcGUuaW5zdGFuY2UodGhpcy5jb250ZXh0dWFsU2NvcGUpO1xyXG4vLyAgICAgICAgIHRoaXMuZWZmZWN0cyA9IGFzdC5lZmZlY3RzO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICAvLyB1cE5leHQgOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuLy8gICAgIC8vICAgICBpZiAoaW5zdC5pbmRleCA+PSB0aGlzLnN0YXRlbWVudHMubGVuZ3RoKXtcclxuLy8gICAgIC8vICAgICAgICAgdGhpcy5kb25lKHNpbSwgaW5zdCk7XHJcbi8vICAgICAvLyAgICAgfVxyXG4vLyAgICAgLy8gICAgIGVsc2V7XHJcbi8vICAgICAvLyAgICAgICAgIGluc3Quc2VuZChcImluZGV4XCIsIGluc3QuaW5kZXgpO1xyXG4vLyAgICAgLy8gICAgICAgICB2YXIgbmV4dFN0bXQgPSB0aGlzLnN0YXRlbWVudHNbaW5zdC5pbmRleCsrXTtcclxuLy8gICAgIC8vICAgICAgICAgaW5zdC5jaGlsZEluc3RhbmNlcy5zdGF0ZW1lbnRzLnB1c2gobmV4dFN0bXQuY3JlYXRlQW5kUHVzaEluc3RhbmNlKHNpbSwgaW5zdCkpO1xyXG4vLyAgICAgLy8gICAgIH1cclxuLy8gICAgIC8vICAgICByZXR1cm4gdHJ1ZTtcclxuLy8gICAgIC8vIH0sXHJcblxyXG4vLyAgICAgc3RlcEZvcndhcmQgOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuLy8gICAgICAgICAvLyBObyB3b3JrIHRvIGJlIGRvbmUgaGVyZT8gU2hvdWxkIGJlIGVub3VnaCB0byBkZWxlZ2F0ZSB0byBzdGF0ZW1lbnRzXHJcbi8vICAgICAgICAgLy8gdmlhIHVwTmV4dC5cclxuLy8gICAgICAgICB0aGlzLmVmZmVjdHMoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICB0aGlzLmRvbmUoc2ltLGluc3QpO1xyXG4vLyAgICAgICAgIHJldHVybiB0cnVlO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBpc1RhaWxDaGlsZCA6IGZ1bmN0aW9uKCl7XHJcbi8vICAgICAgICAgcmV0dXJuIHtpc1RhaWw6IHRydWV9O1xyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNlbGVjdGlvblN0YXRlbWVudEFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcInNlbGVjdGlvbl9zdGF0ZW1lbnRcIjtcclxuICAgIHJlYWRvbmx5IGNvbmRpdGlvbjogRXhwcmVzc2lvbkFTVE5vZGU7XHJcbiAgICByZWFkb25seSB0aGVuOiBTdGF0ZW1lbnRBU1ROb2RlO1xyXG4gICAgcmVhZG9ubHkgb3RoZXJ3aXNlOiBTdGF0ZW1lbnRBU1ROb2RlO1xyXG59XHJcblxyXG4vLyBleHBvcnQgdmFyIFNlbGVjdGlvbiA9IFN0YXRlbWVudC5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiU2VsZWN0aW9uXCIsXHJcbi8vICAgICBpbml0SW5kZXg6IFwiY29uZGl0aW9uXCIsXHJcblxyXG4vLyAgICAgaV9jaGlsZHJlblRvQ3JlYXRlIDogW1wiY29uZGl0aW9uXCIsIFwidGhlblwiLCBcIm90aGVyd2lzZVwiXSxcclxuXHJcbi8vICAgICBjb21waWxlIDogZnVuY3Rpb24oKXtcclxuXHJcbi8vICAgICAgICAgLy8gQ29tcGlsZSBjb25kaXRpb24sIGNvbnZlcnQgdG8gYm9vbCBpZiBub3QgYWxyZWFkeSwgZXJyb3IgaWYgY2FuJ3QgY29udmVydFxyXG4vLyAgICAgICAgIHRoaXMuY29uZGl0aW9uLmNvbXBpbGUoKTtcclxuLy8gICAgICAgICB0aGlzLmNvbmRpdGlvbiA9IHN0YW5kYXJkQ29udmVyc2lvbih0aGlzLmNvbmRpdGlvbiwgVHlwZXMuQm9vbC5pbnN0YW5jZSgpKTtcclxuLy8gICAgICAgICBpZiAoIWlzQSh0aGlzLmNvbmRpdGlvbi50eXBlLCBUeXBlcy5Cb29sKSl7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5zdG10LnNlbGVjdGlvbi5jb25kaXRpb25fYm9vbCh0aGlzLCB0aGlzLmNvbmRpdGlvbikpO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgdGhpcy50aGVuLmNvbXBpbGUoKTtcclxuXHJcbi8vICAgICAgICAgLy8gZWxzZSBicmFuY2ggbWF5IG5vdCBiZSBzcGVjaWZpZWQsIHNvIG9ubHkgY29tcGlsZSBpZiBpdCBpc1xyXG4vLyAgICAgICAgIHRoaXMub3RoZXJ3aXNlICYmIHRoaXMub3RoZXJ3aXNlLmNvbXBpbGUoKTtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgdXBOZXh0IDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbi8vICAgICAgICAgaWYoaW5zdC5pbmRleCA9PSBcImNvbmRpdGlvblwiKXtcclxuLy8gICAgICAgICAgICAgaW5zdC5jb25kaXRpb24gPSB0aGlzLmNvbmRpdGlvbi5jcmVhdGVBbmRQdXNoSW5zdGFuY2Uoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICAgICAgaW5zdC5pbmRleCA9IFwiYm9keVwiO1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZSBpZiAoaW5zdC5pbmRleCA9PSBcImJvZHlcIil7XHJcbi8vICAgICAgICAgICAgIGlmKGluc3QuY29uZGl0aW9uLmV2YWxSZXN1bHQudmFsdWUpe1xyXG4vLyAgICAgICAgICAgICAgICAgaW5zdC50aGVuID0gdGhpcy50aGVuLmNyZWF0ZUFuZFB1c2hJbnN0YW5jZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgICAgICAgICAgaW5zdC5pbmRleCA9IFwiZG9uZVwiO1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgICAgIGlmICh0aGlzLm90aGVyd2lzZSkge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGluc3Qub3RoZXJ3aXNlID0gdGhpcy5vdGhlcndpc2UuY3JlYXRlQW5kUHVzaEluc3RhbmNlKHNpbSwgaW5zdCk7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICBpbnN0LmluZGV4ID0gXCJkb25lXCI7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICB0aGlzLmRvbmUoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBzdGVwRm9yd2FyZCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG5cclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgaXNUYWlsQ2hpbGQgOiBmdW5jdGlvbihjaGlsZCl7XHJcbi8vICAgICAgICAgaWYgKGNoaWxkID09PSB0aGlzLmNvbmRpdGlvbil7XHJcbi8vICAgICAgICAgICAgIHJldHVybiB7aXNUYWlsOiBmYWxzZSxcclxuLy8gICAgICAgICAgICAgICAgIHJlYXNvbjogXCJBZnRlciB0aGUgZnVuY3Rpb24gcmV0dXJucywgb25lIG9mIHRoZSBicmFuY2hlcyB3aWxsIHJ1bi5cIixcclxuLy8gICAgICAgICAgICAgICAgIG90aGVyczogW3RoaXMudGhlbiwgdGhpcy5vdGhlcndpc2VdXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgaWYgKHRoaXMub3RoZXJ3aXNlKXtcclxuLy8gICAgICAgICAgICAgICAgIC8vaWYgKGNoaWxkID09PSB0aGlzLnRoZW4pe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7aXNUYWlsOiB0cnVlLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICByZWFzb246IFwiT25seSBvbmUgYnJhbmNoIGluIGEgc2VsZWN0aW9uIHN0cnVjdHVyZSAoaS5lLiBpZi9lbHNlKSBjYW4gZXZlciBleGVjdXRlLCBzbyBkb24ndCB3b3JyeSBhYm91dCB0aGUgY29kZSBpbiB0aGUgb3RoZXIgYnJhbmNoZXMuXCJcclxuLy8gICAgICAgICAgICAgICAgICAgICB9O1xyXG4vLyAgICAgICAgICAgICAgICAgLy99XHJcbi8vICAgICAgICAgICAgICAgICAvL2Vsc2V7XHJcbi8vICAgICAgICAgICAgICAgICAvLyAgICByZXR1cm4ge2lzVGFpbDogdHJ1ZSxcclxuLy8gICAgICAgICAgICAgICAgIC8vICAgICAgICByZWFzb246IFwiRG9uJ3Qgd29ycnkgYWJvdXQgdGhlIGNvZGUgaW4gdGhlIGlmIGJyYW5jaCAtIGlmIHRoZSByZWN1cnNpdmUgY2FsbCBldmVuIGhhcHBlbmVkIGl0IG1lYW5zIHdlIHRvb2sgdGhlIGVsc2UgYnJhbmNoLlwiXHJcbi8vICAgICAgICAgICAgICAgICAvLyAgICB9O1xyXG4vLyAgICAgICAgICAgICAgICAgLy99XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiB7aXNUYWlsOiB0cnVlXHJcbi8vICAgICAgICAgICAgICAgICB9O1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcbmV4cG9ydCB0eXBlIEl0ZXJhdGlvblN0YXRlbWVudEFTVE5vZGUgPSBXaGlsZVN0YXRlbWVudEFTVE5vZGUgfCBEb1doaWxlU3RhdGVtZW50QVNUTm9kZSB8IEZvclN0YXRlbWVudEFTVE5vZGU7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFdoaWxlU3RhdGVtZW50QVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwid2hpbGVfc3RhdGVtZW50XCI7XHJcbiAgICByZWFkb25seSBjb25kaXRpb246IEV4cHJlc3Npb25BU1ROb2RlO1xyXG4gICAgcmVhZG9ubHkgYm9keTogU3RhdGVtZW50QVNUTm9kZTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEb1doaWxlU3RhdGVtZW50QVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwiZG93aGlsZV9zdGF0ZW1lbnRcIjtcclxuICAgIHJlYWRvbmx5IGNvbmRpdGlvbjogRXhwcmVzc2lvbkFTVE5vZGU7XHJcbiAgICByZWFkb25seSBib2R5OiBTdGF0ZW1lbnRBU1ROb2RlO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEZvclN0YXRlbWVudEFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcImZvcl9zdGF0ZW1lbnRcIjtcclxuICAgIHJlYWRvbmx5IGNvbmRpdGlvbjogRXhwcmVzc2lvbkFTVE5vZGU7XHJcbiAgICByZWFkb25seSBpbml0aWFsOiBFeHByZXNzaW9uU3RhdGVtZW50QVNUTm9kZSB8IE51bGxTdGF0ZW1lbnRBU1ROb2RlIHwgRGVjbGFyYXRpb25TdGF0ZW1lbnRBU1ROb2RlO1xyXG4gICAgcmVhZG9ubHkgcG9zdDogRXhwcmVzc2lvbkFTVE5vZGU7XHJcbiAgICByZWFkb25seSBib2R5OiBTdGF0ZW1lbnRBU1ROb2RlO1xyXG59XHJcblxyXG4vLyBleHBvcnQgdmFyIEl0ZXJhdGlvbiA9IFN0YXRlbWVudC5leHRlbmQoe1xyXG4vLyAgICAgaXNUYWlsQ2hpbGQgOiBmdW5jdGlvbihjaGlsZCl7XHJcbi8vICAgICAgICAgcmV0dXJuIHtcclxuLy8gICAgICAgICAgICAgaXNUYWlsOiBmYWxzZSxcclxuLy8gICAgICAgICAgICAgcmVhc29uOiBcIklmIHRoZSBsb29wIGdvZXMgYXJvdW5kIGFnYWluLCB0aGVuIHRoYXQgd291bGQgYmUgbW9yZSB3b3JrIGFmdGVyIHRoZSByZWN1cnNpdmUgY2FsbC5cIixcclxuLy8gICAgICAgICAgICAgb3RoZXJzOiBbdGhpc11cclxuLy8gICAgICAgICB9O1xyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcbi8vIGV4cG9ydCB2YXIgV2hpbGUgPSBJdGVyYXRpb24uZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lOiBcIldoaWxlXCIsXHJcbi8vICAgICBpbml0SW5kZXg6IFwiY29uZGl0aW9uXCIsXHJcblxyXG4vLyAgICAgaV9jcmVhdGVGcm9tQVNUIDogZnVuY3Rpb24oYXN0KSB7XHJcbi8vICAgICAgICAgU3RhdGVtZW50cy5XaGlsZS5fcGFyZW50LmlfY3JlYXRlRnJvbUFTVC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cclxuLy8gICAgICAgICB0aGlzLmJvZHkgPSB0aGlzLmlfY3JlYXRlQ2hpbGQoYXN0LmJvZHkpO1xyXG5cclxuLy8gICAgICAgICAvLyBUT0RPOiB0ZWNobmljYWxseSwgdGhlIEMrKyBzdGFuZGFyZCBhbGxvd3MgYSBkZWNsYXJhdGlvbiBhcyB0aGUgY29uZGl0aW9uIGZvciBhIHdoaWxlIGxvb3AuXHJcbi8vICAgICAgICAgLy8gVGhpcyBhcHBlYXJzIHRvIGJlIGN1cnJlbnRseSBpbXBvc3NpYmxlIGluIExvYnN0ZXIsIGJ1dCB3aGVuIGltcGxlbWVudGVkIGl0IHdpbGwgcmVxdWlyZVxyXG4vLyAgICAgICAgIC8vIHNwZWNpYWwgaW1wbGVtZW50YXRpb24gb2YgdGhlIHNjb3BlIG9mIHRoZSBib2R5IGlmIGl0J3Mgbm90IGFscmVhZHkgYSBibG9jay5cclxuLy8gICAgICAgICAvLyBPciBtYXliZSB3ZSBjb3VsZCBqdXN0IGRlY2lkZSB0byBwYXJzZSBpdCBjb3JyZWN0bHkgKHdpbGwgc3RpbGwgcmVxdWlyZSBzb21lIGNoYW5nZXMpLCBidXRcclxuLy8gICAgICAgICAvLyB0aGVuIHNpbXBseSBzYXkgaXQncyBub3Qgc3VwcG9ydGVkIHNpbmNlIGl0J3Mgc3VjaCBhIHJhcmUgdGhpbmcuXHJcbi8vICAgICAgICAgdGhpcy5jb25kaXRpb24gPSB0aGlzLmlfY3JlYXRlQ2hpbGQoYXN0LmNvbmRpdGlvbiwge1xyXG4vLyAgICAgICAgICAgICBzY29wZSA6IChpc0EodGhpcy5ib2R5LCBTdGF0ZW1lbnRzLkJsb2NrKSA/IHRoaXMuYm9keS5ibG9ja1Njb3BlIDogdGhpcy5jb250ZXh0dWFsU2NvcGUpXHJcbi8vICAgICAgICAgfSk7XHJcblxyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBjb21waWxlIDogZnVuY3Rpb24oKXtcclxuXHJcbi8vICAgICAgICAgdGhpcy5jb25kaXRpb24uY29tcGlsZSgpO1xyXG4vLyAgICAgICAgIHRoaXMuY29uZGl0aW9uID0gc3RhbmRhcmRDb252ZXJzaW9uKHRoaXMuY29uZGl0aW9uLCBUeXBlcy5Cb29sLmluc3RhbmNlKCkpO1xyXG4vLyAgICAgICAgIGlmICghaXNBKHRoaXMuY29uZGl0aW9uLnR5cGUsIFR5cGVzLkJvb2wpKXtcclxuLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLnN0bXQuaXRlcmF0aW9uLmNvbmRpdGlvbl9ib29sKHRoaXMuY29uZGl0aW9uLCB0aGlzLmNvbmRpdGlvbikpXHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICB0aGlzLmJvZHkuY29tcGlsZSgpO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICB1cE5leHQgOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuLy8gICAgICAgICBpZiAoaW5zdC5pbmRleCA9PSBcIndhaXRcIil7XHJcbi8vICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZSBpZihpbnN0LmluZGV4ID09IFwiY29uZGl0aW9uXCIpe1xyXG4vLyAgICAgICAgICAgICBpbnN0LnNlbmQoXCJyZXNldFwiKTtcclxuLy8gICAgICAgICAgICAgaW5zdC5jb25kaXRpb24gPSB0aGlzLmNvbmRpdGlvbi5jcmVhdGVBbmRQdXNoSW5zdGFuY2Uoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICAgICAgaW5zdC5pbmRleCA9IFwiY2hlY2tDb25kXCI7XHJcbi8vICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNlIGlmIChpbnN0LmluZGV4ID09IFwiY2hlY2tDb25kXCIpe1xyXG4vLyAgICAgICAgICAgICBpZihpbnN0LmNvbmRpdGlvbi5ldmFsUmVzdWx0LnZhbHVlKSB7XHJcbi8vICAgICAgICAgICAgICAgICBpbnN0LmluZGV4ID0gXCJib2R5XCI7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuZG9uZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNlIGlmIChpbnN0LmluZGV4ID09IFwiYm9keVwiKXtcclxuLy8gICAgICAgICAgICAgaW5zdC5ib2R5ID0gdGhpcy5ib2R5LmNyZWF0ZUFuZFB1c2hJbnN0YW5jZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgICAgICBpbnN0LmluZGV4ID0gXCJ3YWl0XCI7XHJcbi8vICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgc3RlcEZvcndhcmQgOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuLy8gICAgICAgICBpZiAoaW5zdC5pbmRleCA9PSBcIndhaXRcIikge1xyXG4vLyAgICAgICAgICAgICBpbnN0LmluZGV4ID0gXCJjb25kaXRpb25cIjsgLy8gcmVtb3ZlIHRoZSB3YWl0IGluZGV4IG9uIGl0ZXJhdGlvbnMgYWZ0ZXIgdGhlIGZpcnN0XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcblxyXG4vLyBleHBvcnQgdmFyIERvV2hpbGUgPSBXaGlsZS5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiRG9XaGlsZVwiLFxyXG4vLyAgICAgaW5pdEluZGV4OiBcImJvZHlcIlxyXG4vLyB9KTtcclxuXHJcblxyXG4vLyBleHBvcnQgdmFyIEZvciA9IEl0ZXJhdGlvbi5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiRm9yXCIsXHJcbi8vICAgICBpbml0SW5kZXg6IFwiaW5pdFwiLFxyXG5cclxuLy8gICAgIGluaXQgOiBmdW5jdGlvbihhc3QsIGNvbnRleHQpIHtcclxuLy8gICAgICAgICB0aGlzLmluaXRQYXJlbnQoYXN0LCBjb250ZXh0KTtcclxuXHJcbi8vICAgICAgICAgdGhpcy5ib2R5ID0gdGhpcy5pX2NyZWF0ZUNoaWxkKGFzdC5ib2R5KTtcclxuXHJcbi8vICAgICAgICAgLy8gSWYgdGhlIGJvZHkgaXMgYWxyZWFkeSBhIGJsb2NrLCB3ZSBjYW4ganVzdCB1c2UgaXRzIHNjb3BlLiBPdGhlcndpc2UsIGNyZWF0ZSBvbmUgZm9yIHRoZSBmb3IgbG9vcC5cclxuLy8gICAgICAgICB0aGlzLmJvZHlTY29wZSA9IChpc0EodGhpcy5ib2R5LCBTdGF0ZW1lbnRzLkJsb2NrKSA/IHRoaXMuYm9keS5ibG9ja1Njb3BlIDogQmxvY2tTY29wZS5pbnN0YW5jZSh0aGlzLmNvbnRleHR1YWxTY29wZSkpO1xyXG5cclxuLy8gICAgICAgICAvLyBOb3RlOiBncmFtbWFyIGVuc3VyZXMgdGhpcyB3aWxsIGJlIGFuIGV4cHJlc3Npb24gb3IgZGVjbGFyYXRpb24gc3RhdGVtZW50XHJcbi8vICAgICAgICAgdGhpcy5pbml0aWFsID0gdGhpcy5pX2NyZWF0ZUNoaWxkKGFzdC5pbml0aWFsLCB7c2NvcGU6IHRoaXMuYm9keVNjb3BlfSk7XHJcblxyXG4vLyAgICAgICAgIHRoaXMuY29uZGl0aW9uID0gdGhpcy5pX2NyZWF0ZUNoaWxkKGFzdC5jb25kaXRpb24sIHtzY29wZSA6IHRoaXMuYm9keVNjb3BlfSk7XHJcblxyXG4vLyAgICAgICAgIHRoaXMucG9zdCA9IHRoaXMuaV9jcmVhdGVDaGlsZChhc3QucG9zdCwge3Njb3BlIDogdGhpcy5ib2R5U2NvcGV9KTtcclxuXHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIGNvbXBpbGUgOiBmdW5jdGlvbigpe1xyXG4vLyAgICAgICAgIHRoaXMuaW5pdGlhbC5jb21waWxlKCk7XHJcblxyXG4vLyAgICAgICAgIHRoaXMuY29uZGl0aW9uLmNvbXBpbGUoKTtcclxuLy8gICAgICAgICB0aGlzLmNvbmRpdGlvbiA9IHN0YW5kYXJkQ29udmVyc2lvbih0aGlzLmNvbmRpdGlvbiwgVHlwZXMuQm9vbC5pbnN0YW5jZSgpKTtcclxuLy8gICAgICAgICBpZiAoIWlzQSh0aGlzLmNvbmRpdGlvbi50eXBlLCBUeXBlcy5Cb29sKSl7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5zdG10Lml0ZXJhdGlvbi5jb25kaXRpb25fYm9vbCh0aGlzLmNvbmRpdGlvbiwgdGhpcy5jb25kaXRpb24pKVxyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgdGhpcy5ib2R5LmNvbXBpbGUoKTtcclxuXHJcbi8vICAgICAgICAgdGhpcy5wb3N0LmNvbXBpbGUoKTtcclxuLy8gICAgIH0sXHJcblxyXG5cclxuLy8gICAgIHVwTmV4dCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIGlmIChpbnN0LmluZGV4ID09IFwid2FpdFwiKXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNlIGlmIChpbnN0LmluZGV4ID09IFwiaW5pdFwiKXtcclxuLy8gICAgICAgICAgICAgaW5zdC5pbml0aWFsID0gdGhpcy5pbml0aWFsLmNyZWF0ZUFuZFB1c2hJbnN0YW5jZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgICAgICBpbnN0LmluZGV4ID0gXCJjb25kaXRpb25cIjtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2UgaWYoaW5zdC5pbmRleCA9PSBcImNvbmRpdGlvblwiKXtcclxuLy8gICAgICAgICAgICAgaW5zdC5zZW5kKFwicmVzZXRcIik7XHJcbi8vICAgICAgICAgICAgIGluc3QuY29uZGl0aW9uID0gdGhpcy5jb25kaXRpb24uY3JlYXRlQW5kUHVzaEluc3RhbmNlKHNpbSwgaW5zdCk7XHJcbi8vICAgICAgICAgICAgIGluc3QuaW5kZXggPSBcImJvZHlcIjtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2UgaWYgKGluc3QuaW5kZXggPT0gXCJib2R5XCIpe1xyXG4vLyAgICAgICAgICAgICBpZihpbnN0LmNvbmRpdGlvbi5ldmFsUmVzdWx0LnZhbHVlKXtcclxuLy8gICAgICAgICAgICAgICAgIGluc3QuYm9keSA9IHRoaXMuYm9keS5jcmVhdGVBbmRQdXNoSW5zdGFuY2Uoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICAgICAgICAgIGluc3QuaW5kZXggPSBcInBvc3RcIjtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmRvbmUoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2UgaWYgKGluc3QuaW5kZXggPT0gXCJwb3N0XCIpe1xyXG4vLyAgICAgICAgICAgICBpbnN0LnBvc3QgPSB0aGlzLnBvc3QuY3JlYXRlQW5kUHVzaEluc3RhbmNlKHNpbSwgaW5zdCk7XHJcbi8vICAgICAgICAgICAgIGluc3QuaW5kZXggPSBcIndhaXRcIjtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBzdGVwRm9yd2FyZCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIGluc3QuaW5kZXggPSBcImNvbmRpdGlvblwiOyAvLyByZW1vdmUgdGhlIHdhaXQgaW5kZXggb24gaXRlcmF0aW9ucyBhZnRlciB0aGUgZmlyc3RcclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG5cclxuXHJcbi8vIGV4cG9ydCB2YXIgQnJlYWsgPSBTdGF0ZW1lbnQuZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lOiBcIkJyZWFrXCIsXHJcblxyXG4vLyAgICAgY29tcGlsZSA6IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgIC8vIFRoZW9yZXRpY2FsbHkgdGhpcyBjb3VsZCBiZSBwdXQgaW50byB0aGUgaV9jcmVhdGVGcm9tQVNUIGZ1bmN0aW9uIHNpbmNlIGl0IG9ubHkgdXNlc1xyXG4vLyAgICAgICAgIC8vIHN5bnRhY3RpYyBpbmZvcm1hdGlvbiB0byBkZXRlcm1pbmUgd2hldGhlciB0aGUgYnJlYWsgaXMgaW5zaWRlIGFuIGl0ZXJhdGlvbiBzdGF0ZW1lbnQsXHJcbi8vICAgICAgICAgLy8gYnV0IGl0IHdvdWxkIGZlZWwgd2VpcmQgdG8gYWRkIGFuIGVycm9yIG5vdGUgYmVmb3JlIHRoZSBjb21waWxlIGZ1bmN0aW9uIGV2ZW4gcnVucy4uLiA6L1xyXG5cclxuLy8gICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5wYXJlbnQ7XHJcbi8vICAgICAgICAgd2hpbGUoY29udGFpbmVyICYmICFpc0EoY29udGFpbmVyLCBTdGF0ZW1lbnRzLkl0ZXJhdGlvbikpe1xyXG4vLyAgICAgICAgICAgICBjb250YWluZXIgPSBjb250YWluZXIucGFyZW50O1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XHJcblxyXG4vLyAgICAgICAgIC8vIGNvbnRhaW5lciBzaG91bGQgZXhpc3QsIG90aGVyd2lzZSB0aGlzIGJyZWFrIGlzIHNvbWV3aGVyZSBpdCBzaG91bGRuJ3QgYmVcclxuLy8gICAgICAgICBpZiAoIWNvbnRhaW5lciB8fCAhaXNBKGNvbnRhaW5lciwgU3RhdGVtZW50cy5JdGVyYXRpb24pKXtcclxuLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLnN0bXQuYnJlYWtTdGF0ZW1lbnQubG9jYXRpb24odGhpcywgdGhpcy5jb25kaXRpb24pKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIGNyZWF0ZUFuZFB1c2hJbnN0YW5jZSA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIHZhciBpbnN0ID0gUnVudGltZUNvbnN0cnVjdC5pbnN0YW5jZShzaW0sIHRoaXMsIFwiYnJlYWtcIiwgXCJzdG10XCIsIGluc3QpO1xyXG4vLyAgICAgICAgIHNpbS5wdXNoKGluc3QpO1xyXG4vLyAgICAgICAgIHJldHVybiBpbnN0O1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBzdGVwRm9yd2FyZCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIGlmIChpbnN0LmluZGV4ID09IFwiYnJlYWtcIil7XHJcbi8vICAgICAgICAgICAgIHZhciBjb250YWluZXJJbnN0ID0gaW5zdC5maW5kUGFyZW50QnlNb2RlbCh0aGlzLmNvbnRhaW5lcik7XHJcbi8vIC8vICAgICAgICAgICAgaW5zdC5zZW5kKFwicmV0dXJuZWRcIiwge2NhbGw6IGZ1bmMucGFyZW50fSk7XHJcbi8vICAgICAgICAgICAgIGNvbnRhaW5lckluc3QuZG9uZShzaW0pOyAvLyBUT0RPOiBzaG91bGQgYmUgZG9uZSB3aXRoIHNpbXVsYXRpb24gc3RhY2sgaW5zdGVhZCBvZiBwYXJlbnRcclxuLy8gICAgICAgICAgICAgLy8gcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcblxyXG4vLyBleHBvcnQgdmFyIENvbnRpbnVlID0gVW5zdXBwb3J0ZWQuZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lOiBcIlN0YXRlbWVudHMuQ29udGludWVcIixcclxuLy8gICAgIGVuZ2xpc2hOYW1lOiBcImNvbnRpbnVlIHN0YXRlbWVudFwiXHJcbi8vIH0pO1xyXG5cclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIExhYmVsZWRTdGF0ZW1lbnRBU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJsYWJlbGVkX3N0YXRlbWVudFwiO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFN3aXRjaFN0YXRlbWVudEFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcInN3aXRjaF9zdGF0ZW1lbnRcIjtcclxufVxyXG5cclxuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0aWYgKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XG5cdFx0bW9kdWxlLnBhdGhzID0gW107XG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogTG9kYXNoIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQ29weXJpZ2h0IEpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcy5mb3VuZGF0aW9uLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuOyhmdW5jdGlvbigpIHtcblxuICAvKiogVXNlZCBhcyBhIHNhZmUgcmVmZXJlbmNlIGZvciBgdW5kZWZpbmVkYCBpbiBwcmUtRVM1IGVudmlyb25tZW50cy4gKi9cbiAgdmFyIHVuZGVmaW5lZDtcblxuICAvKiogVXNlZCBhcyB0aGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuICovXG4gIHZhciBWRVJTSU9OID0gJzQuMTcuMTAnO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xuICB2YXIgTEFSR0VfQVJSQVlfU0laRSA9IDIwMDtcblxuICAvKiogRXJyb3IgbWVzc2FnZSBjb25zdGFudHMuICovXG4gIHZhciBDT1JFX0VSUk9SX1RFWFQgPSAnVW5zdXBwb3J0ZWQgY29yZS1qcyB1c2UuIFRyeSBodHRwczovL25wbXMuaW8vc2VhcmNoP3E9cG9ueWZpbGwuJyxcbiAgICAgIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuICAvKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG4gIHZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuICAvKiogVXNlZCBhcyB0aGUgbWF4aW11bSBtZW1vaXplIGNhY2hlIHNpemUuICovXG4gIHZhciBNQVhfTUVNT0laRV9TSVpFID0gNTAwO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBpbnRlcm5hbCBhcmd1bWVudCBwbGFjZWhvbGRlci4gKi9cbiAgdmFyIFBMQUNFSE9MREVSID0gJ19fbG9kYXNoX3BsYWNlaG9sZGVyX18nO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIGNsb25pbmcuICovXG4gIHZhciBDTE9ORV9ERUVQX0ZMQUcgPSAxLFxuICAgICAgQ0xPTkVfRkxBVF9GTEFHID0gMixcbiAgICAgIENMT05FX1NZTUJPTFNfRkxBRyA9IDQ7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgdmFsdWUgY29tcGFyaXNvbnMuICovXG4gIHZhciBDT01QQVJFX1BBUlRJQUxfRkxBRyA9IDEsXG4gICAgICBDT01QQVJFX1VOT1JERVJFRF9GTEFHID0gMjtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciBmdW5jdGlvbiBtZXRhZGF0YS4gKi9cbiAgdmFyIFdSQVBfQklORF9GTEFHID0gMSxcbiAgICAgIFdSQVBfQklORF9LRVlfRkxBRyA9IDIsXG4gICAgICBXUkFQX0NVUlJZX0JPVU5EX0ZMQUcgPSA0LFxuICAgICAgV1JBUF9DVVJSWV9GTEFHID0gOCxcbiAgICAgIFdSQVBfQ1VSUllfUklHSFRfRkxBRyA9IDE2LFxuICAgICAgV1JBUF9QQVJUSUFMX0ZMQUcgPSAzMixcbiAgICAgIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHID0gNjQsXG4gICAgICBXUkFQX0FSWV9GTEFHID0gMTI4LFxuICAgICAgV1JBUF9SRUFSR19GTEFHID0gMjU2LFxuICAgICAgV1JBUF9GTElQX0ZMQUcgPSA1MTI7XG5cbiAgLyoqIFVzZWQgYXMgZGVmYXVsdCBvcHRpb25zIGZvciBgXy50cnVuY2F0ZWAuICovXG4gIHZhciBERUZBVUxUX1RSVU5DX0xFTkdUSCA9IDMwLFxuICAgICAgREVGQVVMVF9UUlVOQ19PTUlTU0lPTiA9ICcuLi4nO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBob3QgZnVuY3Rpb25zIGJ5IG51bWJlciBvZiBjYWxscyB3aXRoaW4gYSBzcGFuIG9mIG1pbGxpc2Vjb25kcy4gKi9cbiAgdmFyIEhPVF9DT1VOVCA9IDgwMCxcbiAgICAgIEhPVF9TUEFOID0gMTY7XG5cbiAgLyoqIFVzZWQgdG8gaW5kaWNhdGUgdGhlIHR5cGUgb2YgbGF6eSBpdGVyYXRlZXMuICovXG4gIHZhciBMQVpZX0ZJTFRFUl9GTEFHID0gMSxcbiAgICAgIExBWllfTUFQX0ZMQUcgPSAyLFxuICAgICAgTEFaWV9XSElMRV9GTEFHID0gMztcblxuICAvKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbiAgdmFyIElORklOSVRZID0gMSAvIDAsXG4gICAgICBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MSxcbiAgICAgIE1BWF9JTlRFR0VSID0gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDgsXG4gICAgICBOQU4gPSAwIC8gMDtcblxuICAvKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB0aGUgbWF4aW11bSBsZW5ndGggYW5kIGluZGV4IG9mIGFuIGFycmF5LiAqL1xuICB2YXIgTUFYX0FSUkFZX0xFTkdUSCA9IDQyOTQ5NjcyOTUsXG4gICAgICBNQVhfQVJSQVlfSU5ERVggPSBNQVhfQVJSQVlfTEVOR1RIIC0gMSxcbiAgICAgIEhBTEZfTUFYX0FSUkFZX0xFTkdUSCA9IE1BWF9BUlJBWV9MRU5HVEggPj4+IDE7XG5cbiAgLyoqIFVzZWQgdG8gYXNzb2NpYXRlIHdyYXAgbWV0aG9kcyB3aXRoIHRoZWlyIGJpdCBmbGFncy4gKi9cbiAgdmFyIHdyYXBGbGFncyA9IFtcbiAgICBbJ2FyeScsIFdSQVBfQVJZX0ZMQUddLFxuICAgIFsnYmluZCcsIFdSQVBfQklORF9GTEFHXSxcbiAgICBbJ2JpbmRLZXknLCBXUkFQX0JJTkRfS0VZX0ZMQUddLFxuICAgIFsnY3VycnknLCBXUkFQX0NVUlJZX0ZMQUddLFxuICAgIFsnY3VycnlSaWdodCcsIFdSQVBfQ1VSUllfUklHSFRfRkxBR10sXG4gICAgWydmbGlwJywgV1JBUF9GTElQX0ZMQUddLFxuICAgIFsncGFydGlhbCcsIFdSQVBfUEFSVElBTF9GTEFHXSxcbiAgICBbJ3BhcnRpYWxSaWdodCcsIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHXSxcbiAgICBbJ3JlYXJnJywgV1JBUF9SRUFSR19GTEFHXVxuICBdO1xuXG4gIC8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbiAgdmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICAgIGFycmF5VGFnID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICAgIGFzeW5jVGFnID0gJ1tvYmplY3QgQXN5bmNGdW5jdGlvbl0nLFxuICAgICAgYm9vbFRhZyA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcbiAgICAgIGRhdGVUYWcgPSAnW29iamVjdCBEYXRlXScsXG4gICAgICBkb21FeGNUYWcgPSAnW29iamVjdCBET01FeGNlcHRpb25dJyxcbiAgICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJyxcbiAgICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgICBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgICBwcm9taXNlVGFnID0gJ1tvYmplY3QgUHJvbWlzZV0nLFxuICAgICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nLFxuICAgICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgICBzZXRUYWcgPSAnW29iamVjdCBTZXRdJyxcbiAgICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXScsXG4gICAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJyxcbiAgICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXScsXG4gICAgICB3ZWFrU2V0VGFnID0gJ1tvYmplY3QgV2Vha1NldF0nO1xuXG4gIHZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgICBmbG9hdDMyVGFnID0gJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgICBmbG9hdDY0VGFnID0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgICBpbnQxNlRhZyA9ICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICAgIGludDMyVGFnID0gJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgICB1aW50OENsYW1wZWRUYWcgPSAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgICAgdWludDE2VGFnID0gJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggZW1wdHkgc3RyaW5nIGxpdGVyYWxzIGluIGNvbXBpbGVkIHRlbXBsYXRlIHNvdXJjZS4gKi9cbiAgdmFyIHJlRW1wdHlTdHJpbmdMZWFkaW5nID0gL1xcYl9fcCBcXCs9ICcnOy9nLFxuICAgICAgcmVFbXB0eVN0cmluZ01pZGRsZSA9IC9cXGIoX19wIFxcKz0pICcnIFxcKy9nLFxuICAgICAgcmVFbXB0eVN0cmluZ1RyYWlsaW5nID0gLyhfX2VcXCguKj9cXCl8XFxiX190XFwpKSBcXCtcXG4nJzsvZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBIVE1MIGVudGl0aWVzIGFuZCBIVE1MIGNoYXJhY3RlcnMuICovXG4gIHZhciByZUVzY2FwZWRIdG1sID0gLyYoPzphbXB8bHR8Z3R8cXVvdHwjMzkpOy9nLFxuICAgICAgcmVVbmVzY2FwZWRIdG1sID0gL1smPD5cIiddL2csXG4gICAgICByZUhhc0VzY2FwZWRIdG1sID0gUmVnRXhwKHJlRXNjYXBlZEh0bWwuc291cmNlKSxcbiAgICAgIHJlSGFzVW5lc2NhcGVkSHRtbCA9IFJlZ0V4cChyZVVuZXNjYXBlZEh0bWwuc291cmNlKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLiAqL1xuICB2YXIgcmVFc2NhcGUgPSAvPCUtKFtcXHNcXFNdKz8pJT4vZyxcbiAgICAgIHJlRXZhbHVhdGUgPSAvPCUoW1xcc1xcU10rPyklPi9nLFxuICAgICAgcmVJbnRlcnBvbGF0ZSA9IC88JT0oW1xcc1xcU10rPyklPi9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHByb3BlcnR5IG5hbWVzIHdpdGhpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbiAgdmFyIHJlSXNEZWVwUHJvcCA9IC9cXC58XFxbKD86W15bXFxdXSp8KFtcIiddKSg/Oig/IVxcMSlbXlxcXFxdfFxcXFwuKSo/XFwxKVxcXS8sXG4gICAgICByZUlzUGxhaW5Qcm9wID0gL15cXHcqJC8sXG4gICAgICByZVByb3BOYW1lID0gL1teLltcXF1dK3xcXFsoPzooLT9cXGQrKD86XFwuXFxkKyk/KXwoW1wiJ10pKCg/Oig/IVxcMilbXlxcXFxdfFxcXFwuKSo/KVxcMilcXF18KD89KD86XFwufFxcW1xcXSkoPzpcXC58XFxbXFxdfCQpKS9nO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gICAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICAgKi9cbiAgdmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZyxcbiAgICAgIHJlSGFzUmVnRXhwQ2hhciA9IFJlZ0V4cChyZVJlZ0V4cENoYXIuc291cmNlKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlLiAqL1xuICB2YXIgcmVUcmltID0gL15cXHMrfFxccyskL2csXG4gICAgICByZVRyaW1TdGFydCA9IC9eXFxzKy8sXG4gICAgICByZVRyaW1FbmQgPSAvXFxzKyQvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHdyYXAgZGV0YWlsIGNvbW1lbnRzLiAqL1xuICB2YXIgcmVXcmFwQ29tbWVudCA9IC9cXHsoPzpcXG5cXC9cXCogXFxbd3JhcHBlZCB3aXRoIC4rXFxdIFxcKlxcLyk/XFxuPy8sXG4gICAgICByZVdyYXBEZXRhaWxzID0gL1xce1xcblxcL1xcKiBcXFt3cmFwcGVkIHdpdGggKC4rKVxcXSBcXCovLFxuICAgICAgcmVTcGxpdERldGFpbHMgPSAvLD8gJiAvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHdvcmRzIGNvbXBvc2VkIG9mIGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgcmVBc2NpaVdvcmQgPSAvW15cXHgwMC1cXHgyZlxceDNhLVxceDQwXFx4NWItXFx4NjBcXHg3Yi1cXHg3Zl0rL2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYmFja3NsYXNoZXMgaW4gcHJvcGVydHkgcGF0aHMuICovXG4gIHZhciByZUVzY2FwZUNoYXIgPSAvXFxcXChcXFxcKT8vZztcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaFxuICAgKiBbRVMgdGVtcGxhdGUgZGVsaW1pdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdGVtcGxhdGUtbGl0ZXJhbC1sZXhpY2FsLWNvbXBvbmVudHMpLlxuICAgKi9cbiAgdmFyIHJlRXNUZW1wbGF0ZSA9IC9cXCRcXHsoW15cXFxcfV0qKD86XFxcXC5bXlxcXFx9XSopKilcXH0vZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBgUmVnRXhwYCBmbGFncyBmcm9tIHRoZWlyIGNvZXJjZWQgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlRmxhZ3MgPSAvXFx3KiQvO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBiYWQgc2lnbmVkIGhleGFkZWNpbWFsIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGJpbmFyeSBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG4gIHZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBvY3RhbCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG4gIHZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggTGF0aW4gVW5pY29kZSBsZXR0ZXJzIChleGNsdWRpbmcgbWF0aGVtYXRpY2FsIG9wZXJhdG9ycykuICovXG4gIHZhciByZUxhdGluID0gL1tcXHhjMC1cXHhkNlxceGQ4LVxceGY2XFx4ZjgtXFx4ZmZcXHUwMTAwLVxcdTAxN2ZdL2c7XG5cbiAgLyoqIFVzZWQgdG8gZW5zdXJlIGNhcHR1cmluZyBvcmRlciBvZiB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLiAqL1xuICB2YXIgcmVOb01hdGNoID0gLygkXikvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHVuZXNjYXBlZCBjaGFyYWN0ZXJzIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy4gKi9cbiAgdmFyIHJlVW5lc2NhcGVkU3RyaW5nID0gL1snXFxuXFxyXFx1MjAyOFxcdTIwMjlcXFxcXS9nO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSBjaGFyYWN0ZXIgY2xhc3Nlcy4gKi9cbiAgdmFyIHJzQXN0cmFsUmFuZ2UgPSAnXFxcXHVkODAwLVxcXFx1ZGZmZicsXG4gICAgICByc0NvbWJvTWFya3NSYW5nZSA9ICdcXFxcdTAzMDAtXFxcXHUwMzZmJyxcbiAgICAgIHJlQ29tYm9IYWxmTWFya3NSYW5nZSA9ICdcXFxcdWZlMjAtXFxcXHVmZTJmJyxcbiAgICAgIHJzQ29tYm9TeW1ib2xzUmFuZ2UgPSAnXFxcXHUyMGQwLVxcXFx1MjBmZicsXG4gICAgICByc0NvbWJvUmFuZ2UgPSByc0NvbWJvTWFya3NSYW5nZSArIHJlQ29tYm9IYWxmTWFya3NSYW5nZSArIHJzQ29tYm9TeW1ib2xzUmFuZ2UsXG4gICAgICByc0RpbmdiYXRSYW5nZSA9ICdcXFxcdTI3MDAtXFxcXHUyN2JmJyxcbiAgICAgIHJzTG93ZXJSYW5nZSA9ICdhLXpcXFxceGRmLVxcXFx4ZjZcXFxceGY4LVxcXFx4ZmYnLFxuICAgICAgcnNNYXRoT3BSYW5nZSA9ICdcXFxceGFjXFxcXHhiMVxcXFx4ZDdcXFxceGY3JyxcbiAgICAgIHJzTm9uQ2hhclJhbmdlID0gJ1xcXFx4MDAtXFxcXHgyZlxcXFx4M2EtXFxcXHg0MFxcXFx4NWItXFxcXHg2MFxcXFx4N2ItXFxcXHhiZicsXG4gICAgICByc1B1bmN0dWF0aW9uUmFuZ2UgPSAnXFxcXHUyMDAwLVxcXFx1MjA2ZicsXG4gICAgICByc1NwYWNlUmFuZ2UgPSAnIFxcXFx0XFxcXHgwYlxcXFxmXFxcXHhhMFxcXFx1ZmVmZlxcXFxuXFxcXHJcXFxcdTIwMjhcXFxcdTIwMjlcXFxcdTE2ODBcXFxcdTE4MGVcXFxcdTIwMDBcXFxcdTIwMDFcXFxcdTIwMDJcXFxcdTIwMDNcXFxcdTIwMDRcXFxcdTIwMDVcXFxcdTIwMDZcXFxcdTIwMDdcXFxcdTIwMDhcXFxcdTIwMDlcXFxcdTIwMGFcXFxcdTIwMmZcXFxcdTIwNWZcXFxcdTMwMDAnLFxuICAgICAgcnNVcHBlclJhbmdlID0gJ0EtWlxcXFx4YzAtXFxcXHhkNlxcXFx4ZDgtXFxcXHhkZScsXG4gICAgICByc1ZhclJhbmdlID0gJ1xcXFx1ZmUwZVxcXFx1ZmUwZicsXG4gICAgICByc0JyZWFrUmFuZ2UgPSByc01hdGhPcFJhbmdlICsgcnNOb25DaGFyUmFuZ2UgKyByc1B1bmN0dWF0aW9uUmFuZ2UgKyByc1NwYWNlUmFuZ2U7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNhcHR1cmUgZ3JvdXBzLiAqL1xuICB2YXIgcnNBcG9zID0gXCJbJ1xcdTIwMTldXCIsXG4gICAgICByc0FzdHJhbCA9ICdbJyArIHJzQXN0cmFsUmFuZ2UgKyAnXScsXG4gICAgICByc0JyZWFrID0gJ1snICsgcnNCcmVha1JhbmdlICsgJ10nLFxuICAgICAgcnNDb21ibyA9ICdbJyArIHJzQ29tYm9SYW5nZSArICddJyxcbiAgICAgIHJzRGlnaXRzID0gJ1xcXFxkKycsXG4gICAgICByc0RpbmdiYXQgPSAnWycgKyByc0RpbmdiYXRSYW5nZSArICddJyxcbiAgICAgIHJzTG93ZXIgPSAnWycgKyByc0xvd2VyUmFuZ2UgKyAnXScsXG4gICAgICByc01pc2MgPSAnW14nICsgcnNBc3RyYWxSYW5nZSArIHJzQnJlYWtSYW5nZSArIHJzRGlnaXRzICsgcnNEaW5nYmF0UmFuZ2UgKyByc0xvd2VyUmFuZ2UgKyByc1VwcGVyUmFuZ2UgKyAnXScsXG4gICAgICByc0ZpdHogPSAnXFxcXHVkODNjW1xcXFx1ZGZmYi1cXFxcdWRmZmZdJyxcbiAgICAgIHJzTW9kaWZpZXIgPSAnKD86JyArIHJzQ29tYm8gKyAnfCcgKyByc0ZpdHogKyAnKScsXG4gICAgICByc05vbkFzdHJhbCA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgJ10nLFxuICAgICAgcnNSZWdpb25hbCA9ICcoPzpcXFxcdWQ4M2NbXFxcXHVkZGU2LVxcXFx1ZGRmZl0pezJ9JyxcbiAgICAgIHJzU3VyclBhaXIgPSAnW1xcXFx1ZDgwMC1cXFxcdWRiZmZdW1xcXFx1ZGMwMC1cXFxcdWRmZmZdJyxcbiAgICAgIHJzVXBwZXIgPSAnWycgKyByc1VwcGVyUmFuZ2UgKyAnXScsXG4gICAgICByc1pXSiA9ICdcXFxcdTIwMGQnO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSByZWdleGVzLiAqL1xuICB2YXIgcnNNaXNjTG93ZXIgPSAnKD86JyArIHJzTG93ZXIgKyAnfCcgKyByc01pc2MgKyAnKScsXG4gICAgICByc01pc2NVcHBlciA9ICcoPzonICsgcnNVcHBlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICAgIHJzT3B0Q29udHJMb3dlciA9ICcoPzonICsgcnNBcG9zICsgJyg/OmR8bGx8bXxyZXxzfHR8dmUpKT8nLFxuICAgICAgcnNPcHRDb250clVwcGVyID0gJyg/OicgKyByc0Fwb3MgKyAnKD86RHxMTHxNfFJFfFN8VHxWRSkpPycsXG4gICAgICByZU9wdE1vZCA9IHJzTW9kaWZpZXIgKyAnPycsXG4gICAgICByc09wdFZhciA9ICdbJyArIHJzVmFyUmFuZ2UgKyAnXT8nLFxuICAgICAgcnNPcHRKb2luID0gJyg/OicgKyByc1pXSiArICcoPzonICsgW3JzTm9uQXN0cmFsLCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyXS5qb2luKCd8JykgKyAnKScgKyByc09wdFZhciArIHJlT3B0TW9kICsgJykqJyxcbiAgICAgIHJzT3JkTG93ZXIgPSAnXFxcXGQqKD86MXN0fDJuZHwzcmR8KD8hWzEyM10pXFxcXGR0aCkoPz1cXFxcYnxbQS1aX10pJyxcbiAgICAgIHJzT3JkVXBwZXIgPSAnXFxcXGQqKD86MVNUfDJORHwzUkR8KD8hWzEyM10pXFxcXGRUSCkoPz1cXFxcYnxbYS16X10pJyxcbiAgICAgIHJzU2VxID0gcnNPcHRWYXIgKyByZU9wdE1vZCArIHJzT3B0Sm9pbixcbiAgICAgIHJzRW1vamkgPSAnKD86JyArIFtyc0RpbmdiYXQsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzU2VxLFxuICAgICAgcnNTeW1ib2wgPSAnKD86JyArIFtyc05vbkFzdHJhbCArIHJzQ29tYm8gKyAnPycsIHJzQ29tYm8sIHJzUmVnaW9uYWwsIHJzU3VyclBhaXIsIHJzQXN0cmFsXS5qb2luKCd8JykgKyAnKSc7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYXBvc3Ryb3BoZXMuICovXG4gIHZhciByZUFwb3MgPSBSZWdFeHAocnNBcG9zLCAnZycpO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3NdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrcykgYW5kXG4gICAqIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3MgZm9yIHN5bWJvbHNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrc19mb3JfU3ltYm9scykuXG4gICAqL1xuICB2YXIgcmVDb21ib01hcmsgPSBSZWdFeHAocnNDb21ibywgJ2cnKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBbc3RyaW5nIHN5bWJvbHNdKGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LXVuaWNvZGUpLiAqL1xuICB2YXIgcmVVbmljb2RlID0gUmVnRXhwKHJzRml0eiArICcoPz0nICsgcnNGaXR6ICsgJyl8JyArIHJzU3ltYm9sICsgcnNTZXEsICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggY29tcGxleCBvciBjb21wb3VuZCB3b3Jkcy4gKi9cbiAgdmFyIHJlVW5pY29kZVdvcmQgPSBSZWdFeHAoW1xuICAgIHJzVXBwZXIgKyAnPycgKyByc0xvd2VyICsgJysnICsgcnNPcHRDb250ckxvd2VyICsgJyg/PScgKyBbcnNCcmVhaywgcnNVcHBlciwgJyQnXS5qb2luKCd8JykgKyAnKScsXG4gICAgcnNNaXNjVXBwZXIgKyAnKycgKyByc09wdENvbnRyVXBwZXIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyICsgcnNNaXNjTG93ZXIsICckJ10uam9pbignfCcpICsgJyknLFxuICAgIHJzVXBwZXIgKyAnPycgKyByc01pc2NMb3dlciArICcrJyArIHJzT3B0Q29udHJMb3dlcixcbiAgICByc1VwcGVyICsgJysnICsgcnNPcHRDb250clVwcGVyLFxuICAgIHJzT3JkVXBwZXIsXG4gICAgcnNPcmRMb3dlcixcbiAgICByc0RpZ2l0cyxcbiAgICByc0Vtb2ppXG4gIF0uam9pbignfCcpLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBzdHJpbmdzIHdpdGggW3plcm8td2lkdGggam9pbmVycyBvciBjb2RlIHBvaW50cyBmcm9tIHRoZSBhc3RyYWwgcGxhbmVzXShodHRwOi8vZWV2LmVlL2Jsb2cvMjAxNS8wOS8xMi9kYXJrLWNvcm5lcnMtb2YtdW5pY29kZS8pLiAqL1xuICB2YXIgcmVIYXNVbmljb2RlID0gUmVnRXhwKCdbJyArIHJzWldKICsgcnNBc3RyYWxSYW5nZSAgKyByc0NvbWJvUmFuZ2UgKyByc1ZhclJhbmdlICsgJ10nKTtcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgc3RyaW5ncyB0aGF0IG5lZWQgYSBtb3JlIHJvYnVzdCByZWdleHAgdG8gbWF0Y2ggd29yZHMuICovXG4gIHZhciByZUhhc1VuaWNvZGVXb3JkID0gL1thLXpdW0EtWl18W0EtWl17Mix9W2Etel18WzAtOV1bYS16QS1aXXxbYS16QS1aXVswLTldfFteYS16QS1aMC05IF0vO1xuXG4gIC8qKiBVc2VkIHRvIGFzc2lnbiBkZWZhdWx0IGBjb250ZXh0YCBvYmplY3QgcHJvcGVydGllcy4gKi9cbiAgdmFyIGNvbnRleHRQcm9wcyA9IFtcbiAgICAnQXJyYXknLCAnQnVmZmVyJywgJ0RhdGFWaWV3JywgJ0RhdGUnLCAnRXJyb3InLCAnRmxvYXQzMkFycmF5JywgJ0Zsb2F0NjRBcnJheScsXG4gICAgJ0Z1bmN0aW9uJywgJ0ludDhBcnJheScsICdJbnQxNkFycmF5JywgJ0ludDMyQXJyYXknLCAnTWFwJywgJ01hdGgnLCAnT2JqZWN0JyxcbiAgICAnUHJvbWlzZScsICdSZWdFeHAnLCAnU2V0JywgJ1N0cmluZycsICdTeW1ib2wnLCAnVHlwZUVycm9yJywgJ1VpbnQ4QXJyYXknLFxuICAgICdVaW50OENsYW1wZWRBcnJheScsICdVaW50MTZBcnJheScsICdVaW50MzJBcnJheScsICdXZWFrTWFwJyxcbiAgICAnXycsICdjbGVhclRpbWVvdXQnLCAnaXNGaW5pdGUnLCAncGFyc2VJbnQnLCAnc2V0VGltZW91dCdcbiAgXTtcblxuICAvKiogVXNlZCB0byBtYWtlIHRlbXBsYXRlIHNvdXJjZVVSTHMgZWFzaWVyIHRvIGlkZW50aWZ5LiAqL1xuICB2YXIgdGVtcGxhdGVDb3VudGVyID0gLTE7XG5cbiAgLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgb2YgdHlwZWQgYXJyYXlzLiAqL1xuICB2YXIgdHlwZWRBcnJheVRhZ3MgPSB7fTtcbiAgdHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2ludDhUYWddID0gdHlwZWRBcnJheVRhZ3NbaW50MTZUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbaW50MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDhUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbiAgdHlwZWRBcnJheVRhZ3NbYXJnc1RhZ10gPSB0eXBlZEFycmF5VGFnc1thcnJheVRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tib29sVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2RhdGFWaWV3VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2RhdGVUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbZXJyb3JUYWddID0gdHlwZWRBcnJheVRhZ3NbZnVuY1RhZ10gPVxuICB0eXBlZEFycmF5VGFnc1ttYXBUYWddID0gdHlwZWRBcnJheVRhZ3NbbnVtYmVyVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW29iamVjdFRhZ10gPSB0eXBlZEFycmF5VGFnc1tyZWdleHBUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbc2V0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3N0cmluZ1RhZ10gPVxuICB0eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4gIC8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIHN1cHBvcnRlZCBieSBgXy5jbG9uZWAuICovXG4gIHZhciBjbG9uZWFibGVUYWdzID0ge307XG4gIGNsb25lYWJsZVRhZ3NbYXJnc1RhZ10gPSBjbG9uZWFibGVUYWdzW2FycmF5VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gY2xvbmVhYmxlVGFnc1tkYXRhVmlld1RhZ10gPVxuICBjbG9uZWFibGVUYWdzW2Jvb2xUYWddID0gY2xvbmVhYmxlVGFnc1tkYXRlVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbZmxvYXQzMlRhZ10gPSBjbG9uZWFibGVUYWdzW2Zsb2F0NjRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tpbnQ4VGFnXSA9IGNsb25lYWJsZVRhZ3NbaW50MTZUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tpbnQzMlRhZ10gPSBjbG9uZWFibGVUYWdzW21hcFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW251bWJlclRhZ10gPSBjbG9uZWFibGVUYWdzW29iamVjdFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3JlZ2V4cFRhZ10gPSBjbG9uZWFibGVUYWdzW3NldFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3N0cmluZ1RhZ10gPSBjbG9uZWFibGVUYWdzW3N5bWJvbFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3VpbnQ4VGFnXSA9IGNsb25lYWJsZVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbdWludDE2VGFnXSA9IGNsb25lYWJsZVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG4gIGNsb25lYWJsZVRhZ3NbZXJyb3JUYWddID0gY2xvbmVhYmxlVGFnc1tmdW5jVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuICAvKiogVXNlZCB0byBtYXAgTGF0aW4gVW5pY29kZSBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMuICovXG4gIHZhciBkZWJ1cnJlZExldHRlcnMgPSB7XG4gICAgLy8gTGF0aW4tMSBTdXBwbGVtZW50IGJsb2NrLlxuICAgICdcXHhjMCc6ICdBJywgICdcXHhjMSc6ICdBJywgJ1xceGMyJzogJ0EnLCAnXFx4YzMnOiAnQScsICdcXHhjNCc6ICdBJywgJ1xceGM1JzogJ0EnLFxuICAgICdcXHhlMCc6ICdhJywgICdcXHhlMSc6ICdhJywgJ1xceGUyJzogJ2EnLCAnXFx4ZTMnOiAnYScsICdcXHhlNCc6ICdhJywgJ1xceGU1JzogJ2EnLFxuICAgICdcXHhjNyc6ICdDJywgICdcXHhlNyc6ICdjJyxcbiAgICAnXFx4ZDAnOiAnRCcsICAnXFx4ZjAnOiAnZCcsXG4gICAgJ1xceGM4JzogJ0UnLCAgJ1xceGM5JzogJ0UnLCAnXFx4Y2EnOiAnRScsICdcXHhjYic6ICdFJyxcbiAgICAnXFx4ZTgnOiAnZScsICAnXFx4ZTknOiAnZScsICdcXHhlYSc6ICdlJywgJ1xceGViJzogJ2UnLFxuICAgICdcXHhjYyc6ICdJJywgICdcXHhjZCc6ICdJJywgJ1xceGNlJzogJ0knLCAnXFx4Y2YnOiAnSScsXG4gICAgJ1xceGVjJzogJ2knLCAgJ1xceGVkJzogJ2knLCAnXFx4ZWUnOiAnaScsICdcXHhlZic6ICdpJyxcbiAgICAnXFx4ZDEnOiAnTicsICAnXFx4ZjEnOiAnbicsXG4gICAgJ1xceGQyJzogJ08nLCAgJ1xceGQzJzogJ08nLCAnXFx4ZDQnOiAnTycsICdcXHhkNSc6ICdPJywgJ1xceGQ2JzogJ08nLCAnXFx4ZDgnOiAnTycsXG4gICAgJ1xceGYyJzogJ28nLCAgJ1xceGYzJzogJ28nLCAnXFx4ZjQnOiAnbycsICdcXHhmNSc6ICdvJywgJ1xceGY2JzogJ28nLCAnXFx4ZjgnOiAnbycsXG4gICAgJ1xceGQ5JzogJ1UnLCAgJ1xceGRhJzogJ1UnLCAnXFx4ZGInOiAnVScsICdcXHhkYyc6ICdVJyxcbiAgICAnXFx4ZjknOiAndScsICAnXFx4ZmEnOiAndScsICdcXHhmYic6ICd1JywgJ1xceGZjJzogJ3UnLFxuICAgICdcXHhkZCc6ICdZJywgICdcXHhmZCc6ICd5JywgJ1xceGZmJzogJ3knLFxuICAgICdcXHhjNic6ICdBZScsICdcXHhlNic6ICdhZScsXG4gICAgJ1xceGRlJzogJ1RoJywgJ1xceGZlJzogJ3RoJyxcbiAgICAnXFx4ZGYnOiAnc3MnLFxuICAgIC8vIExhdGluIEV4dGVuZGVkLUEgYmxvY2suXG4gICAgJ1xcdTAxMDAnOiAnQScsICAnXFx1MDEwMic6ICdBJywgJ1xcdTAxMDQnOiAnQScsXG4gICAgJ1xcdTAxMDEnOiAnYScsICAnXFx1MDEwMyc6ICdhJywgJ1xcdTAxMDUnOiAnYScsXG4gICAgJ1xcdTAxMDYnOiAnQycsICAnXFx1MDEwOCc6ICdDJywgJ1xcdTAxMGEnOiAnQycsICdcXHUwMTBjJzogJ0MnLFxuICAgICdcXHUwMTA3JzogJ2MnLCAgJ1xcdTAxMDknOiAnYycsICdcXHUwMTBiJzogJ2MnLCAnXFx1MDEwZCc6ICdjJyxcbiAgICAnXFx1MDEwZSc6ICdEJywgICdcXHUwMTEwJzogJ0QnLCAnXFx1MDEwZic6ICdkJywgJ1xcdTAxMTEnOiAnZCcsXG4gICAgJ1xcdTAxMTInOiAnRScsICAnXFx1MDExNCc6ICdFJywgJ1xcdTAxMTYnOiAnRScsICdcXHUwMTE4JzogJ0UnLCAnXFx1MDExYSc6ICdFJyxcbiAgICAnXFx1MDExMyc6ICdlJywgICdcXHUwMTE1JzogJ2UnLCAnXFx1MDExNyc6ICdlJywgJ1xcdTAxMTknOiAnZScsICdcXHUwMTFiJzogJ2UnLFxuICAgICdcXHUwMTFjJzogJ0cnLCAgJ1xcdTAxMWUnOiAnRycsICdcXHUwMTIwJzogJ0cnLCAnXFx1MDEyMic6ICdHJyxcbiAgICAnXFx1MDExZCc6ICdnJywgICdcXHUwMTFmJzogJ2cnLCAnXFx1MDEyMSc6ICdnJywgJ1xcdTAxMjMnOiAnZycsXG4gICAgJ1xcdTAxMjQnOiAnSCcsICAnXFx1MDEyNic6ICdIJywgJ1xcdTAxMjUnOiAnaCcsICdcXHUwMTI3JzogJ2gnLFxuICAgICdcXHUwMTI4JzogJ0knLCAgJ1xcdTAxMmEnOiAnSScsICdcXHUwMTJjJzogJ0knLCAnXFx1MDEyZSc6ICdJJywgJ1xcdTAxMzAnOiAnSScsXG4gICAgJ1xcdTAxMjknOiAnaScsICAnXFx1MDEyYic6ICdpJywgJ1xcdTAxMmQnOiAnaScsICdcXHUwMTJmJzogJ2knLCAnXFx1MDEzMSc6ICdpJyxcbiAgICAnXFx1MDEzNCc6ICdKJywgICdcXHUwMTM1JzogJ2onLFxuICAgICdcXHUwMTM2JzogJ0snLCAgJ1xcdTAxMzcnOiAnaycsICdcXHUwMTM4JzogJ2snLFxuICAgICdcXHUwMTM5JzogJ0wnLCAgJ1xcdTAxM2InOiAnTCcsICdcXHUwMTNkJzogJ0wnLCAnXFx1MDEzZic6ICdMJywgJ1xcdTAxNDEnOiAnTCcsXG4gICAgJ1xcdTAxM2EnOiAnbCcsICAnXFx1MDEzYyc6ICdsJywgJ1xcdTAxM2UnOiAnbCcsICdcXHUwMTQwJzogJ2wnLCAnXFx1MDE0Mic6ICdsJyxcbiAgICAnXFx1MDE0Myc6ICdOJywgICdcXHUwMTQ1JzogJ04nLCAnXFx1MDE0Nyc6ICdOJywgJ1xcdTAxNGEnOiAnTicsXG4gICAgJ1xcdTAxNDQnOiAnbicsICAnXFx1MDE0Nic6ICduJywgJ1xcdTAxNDgnOiAnbicsICdcXHUwMTRiJzogJ24nLFxuICAgICdcXHUwMTRjJzogJ08nLCAgJ1xcdTAxNGUnOiAnTycsICdcXHUwMTUwJzogJ08nLFxuICAgICdcXHUwMTRkJzogJ28nLCAgJ1xcdTAxNGYnOiAnbycsICdcXHUwMTUxJzogJ28nLFxuICAgICdcXHUwMTU0JzogJ1InLCAgJ1xcdTAxNTYnOiAnUicsICdcXHUwMTU4JzogJ1InLFxuICAgICdcXHUwMTU1JzogJ3InLCAgJ1xcdTAxNTcnOiAncicsICdcXHUwMTU5JzogJ3InLFxuICAgICdcXHUwMTVhJzogJ1MnLCAgJ1xcdTAxNWMnOiAnUycsICdcXHUwMTVlJzogJ1MnLCAnXFx1MDE2MCc6ICdTJyxcbiAgICAnXFx1MDE1Yic6ICdzJywgICdcXHUwMTVkJzogJ3MnLCAnXFx1MDE1Zic6ICdzJywgJ1xcdTAxNjEnOiAncycsXG4gICAgJ1xcdTAxNjInOiAnVCcsICAnXFx1MDE2NCc6ICdUJywgJ1xcdTAxNjYnOiAnVCcsXG4gICAgJ1xcdTAxNjMnOiAndCcsICAnXFx1MDE2NSc6ICd0JywgJ1xcdTAxNjcnOiAndCcsXG4gICAgJ1xcdTAxNjgnOiAnVScsICAnXFx1MDE2YSc6ICdVJywgJ1xcdTAxNmMnOiAnVScsICdcXHUwMTZlJzogJ1UnLCAnXFx1MDE3MCc6ICdVJywgJ1xcdTAxNzInOiAnVScsXG4gICAgJ1xcdTAxNjknOiAndScsICAnXFx1MDE2Yic6ICd1JywgJ1xcdTAxNmQnOiAndScsICdcXHUwMTZmJzogJ3UnLCAnXFx1MDE3MSc6ICd1JywgJ1xcdTAxNzMnOiAndScsXG4gICAgJ1xcdTAxNzQnOiAnVycsICAnXFx1MDE3NSc6ICd3JyxcbiAgICAnXFx1MDE3Nic6ICdZJywgICdcXHUwMTc3JzogJ3knLCAnXFx1MDE3OCc6ICdZJyxcbiAgICAnXFx1MDE3OSc6ICdaJywgICdcXHUwMTdiJzogJ1onLCAnXFx1MDE3ZCc6ICdaJyxcbiAgICAnXFx1MDE3YSc6ICd6JywgICdcXHUwMTdjJzogJ3onLCAnXFx1MDE3ZSc6ICd6JyxcbiAgICAnXFx1MDEzMic6ICdJSicsICdcXHUwMTMzJzogJ2lqJyxcbiAgICAnXFx1MDE1Mic6ICdPZScsICdcXHUwMTUzJzogJ29lJyxcbiAgICAnXFx1MDE0OSc6IFwiJ25cIiwgJ1xcdTAxN2YnOiAncydcbiAgfTtcblxuICAvKiogVXNlZCB0byBtYXAgY2hhcmFjdGVycyB0byBIVE1MIGVudGl0aWVzLiAqL1xuICB2YXIgaHRtbEVzY2FwZXMgPSB7XG4gICAgJyYnOiAnJmFtcDsnLFxuICAgICc8JzogJyZsdDsnLFxuICAgICc+JzogJyZndDsnLFxuICAgICdcIic6ICcmcXVvdDsnLFxuICAgIFwiJ1wiOiAnJiMzOTsnXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gbWFwIEhUTUwgZW50aXRpZXMgdG8gY2hhcmFjdGVycy4gKi9cbiAgdmFyIGh0bWxVbmVzY2FwZXMgPSB7XG4gICAgJyZhbXA7JzogJyYnLFxuICAgICcmbHQ7JzogJzwnLFxuICAgICcmZ3Q7JzogJz4nLFxuICAgICcmcXVvdDsnOiAnXCInLFxuICAgICcmIzM5Oyc6IFwiJ1wiXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gZXNjYXBlIGNoYXJhY3RlcnMgZm9yIGluY2x1c2lvbiBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMuICovXG4gIHZhciBzdHJpbmdFc2NhcGVzID0ge1xuICAgICdcXFxcJzogJ1xcXFwnLFxuICAgIFwiJ1wiOiBcIidcIixcbiAgICAnXFxuJzogJ24nLFxuICAgICdcXHInOiAncicsXG4gICAgJ1xcdTIwMjgnOiAndTIwMjgnLFxuICAgICdcXHUyMDI5JzogJ3UyMDI5J1xuICB9O1xuXG4gIC8qKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB3aXRob3V0IGEgZGVwZW5kZW5jeSBvbiBgcm9vdGAuICovXG4gIHZhciBmcmVlUGFyc2VGbG9hdCA9IHBhcnNlRmxvYXQsXG4gICAgICBmcmVlUGFyc2VJbnQgPSBwYXJzZUludDtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xuICB2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbiAgdmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbiAgLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG4gIHZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG4gIHZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuICovXG4gIHZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbiAgLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbiAgdmFyIG1vZHVsZUV4cG9ydHMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUuZXhwb3J0cyA9PT0gZnJlZUV4cG9ydHM7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBwcm9jZXNzYCBmcm9tIE5vZGUuanMuICovXG4gIHZhciBmcmVlUHJvY2VzcyA9IG1vZHVsZUV4cG9ydHMgJiYgZnJlZUdsb2JhbC5wcm9jZXNzO1xuXG4gIC8qKiBVc2VkIHRvIGFjY2VzcyBmYXN0ZXIgTm9kZS5qcyBoZWxwZXJzLiAqL1xuICB2YXIgbm9kZVV0aWwgPSAoZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFVzZSBgdXRpbC50eXBlc2AgZm9yIE5vZGUuanMgMTArLlxuICAgICAgdmFyIHR5cGVzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlKCd1dGlsJykudHlwZXM7XG5cbiAgICAgIGlmICh0eXBlcykge1xuICAgICAgICByZXR1cm4gdHlwZXM7XG4gICAgICB9XG5cbiAgICAgIC8vIExlZ2FjeSBgcHJvY2Vzcy5iaW5kaW5nKCd1dGlsJylgIGZvciBOb2RlLmpzIDwgMTAuXG4gICAgICByZXR1cm4gZnJlZVByb2Nlc3MgJiYgZnJlZVByb2Nlc3MuYmluZGluZyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nKCd1dGlsJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfSgpKTtcblxuICAvKiBOb2RlLmpzIGhlbHBlciByZWZlcmVuY2VzLiAqL1xuICB2YXIgbm9kZUlzQXJyYXlCdWZmZXIgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc0FycmF5QnVmZmVyLFxuICAgICAgbm9kZUlzRGF0ZSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzRGF0ZSxcbiAgICAgIG5vZGVJc01hcCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzTWFwLFxuICAgICAgbm9kZUlzUmVnRXhwID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNSZWdFeHAsXG4gICAgICBub2RlSXNTZXQgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1NldCxcbiAgICAgIG5vZGVJc1R5cGVkQXJyYXkgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1R5cGVkQXJyYXk7XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIEEgZmFzdGVyIGFsdGVybmF0aXZlIHRvIGBGdW5jdGlvbiNhcHBseWAsIHRoaXMgZnVuY3Rpb24gaW52b2tlcyBgZnVuY2BcbiAgICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgIGFuZCB0aGUgYXJndW1lbnRzIG9mIGBhcmdzYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuXG4gICAqL1xuICBmdW5jdGlvbiBhcHBseShmdW5jLCB0aGlzQXJnLCBhcmdzKSB7XG4gICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcpO1xuICAgICAgY2FzZSAxOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0pO1xuICAgICAgY2FzZSAyOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgY2FzZSAzOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIH1cbiAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VBZ2dyZWdhdG9yYCBmb3IgYXJyYXlzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGBhY2N1bXVsYXRvcmAgdmFsdWVzLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBhZ2dyZWdhdGVkIG9iamVjdC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBhY2N1bXVsYXRvcmAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUFnZ3JlZ2F0b3IoYXJyYXksIHNldHRlciwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIHNldHRlcihhY2N1bXVsYXRvciwgdmFsdWUsIGl0ZXJhdGVlKHZhbHVlKSwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZvckVhY2hgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlFYWNoKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5mb3JFYWNoUmlnaHRgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlFYWNoUmlnaHQoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBpZiAoaXRlcmF0ZWUoYXJyYXlbbGVuZ3RoXSwgbGVuZ3RoLCBhcnJheSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmV2ZXJ5YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAqICBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUV2ZXJ5KGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKCFwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZpbHRlcmAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlGaWx0ZXIoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5pbmNsdWRlc2AgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIHNwZWNpZnlpbmcgYW4gaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdGFyZ2V0IFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHRhcmdldGAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5SW5jbHVkZXMoYXJyYXksIHZhbHVlKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgIHJldHVybiAhIWxlbmd0aCAmJiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIDApID4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBhcnJheUluY2x1ZGVzYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGEgY29tcGFyYXRvci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB0YXJnZXQgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB0YXJnZXRgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUluY2x1ZGVzV2l0aChhcnJheSwgdmFsdWUsIGNvbXBhcmF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGNvbXBhcmF0b3IodmFsdWUsIGFycmF5W2luZGV4XSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWFwYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAgICogc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheU1hcChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBlbmRzIHRoZSBlbGVtZW50cyBvZiBgdmFsdWVzYCB0byBgYXJyYXlgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhcHBlbmQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlQdXNoKGFycmF5LCB2YWx1ZXMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgb2Zmc2V0ID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFycmF5W29mZnNldCArIGluZGV4XSA9IHZhbHVlc1tpbmRleF07XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ucmVkdWNlYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luaXRBY2N1bV0gU3BlY2lmeSB1c2luZyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgIGFzXG4gICAqICB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlSZWR1Y2UoYXJyYXksIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgaWYgKGluaXRBY2N1bSAmJiBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gYXJyYXlbKytpbmRleF07XG4gICAgfVxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCBhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ucmVkdWNlUmlnaHRgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbaW5pdEFjY3VtXSBTcGVjaWZ5IHVzaW5nIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YCBhc1xuICAgKiAgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UmVkdWNlUmlnaHQoYXJyYXksIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgIGlmIChpbml0QWNjdW0gJiYgbGVuZ3RoKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGFycmF5Wy0tbGVuZ3RoXTtcbiAgICB9XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCBhcnJheVtsZW5ndGhdLCBsZW5ndGgsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zb21lYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAgICogc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlTb21lKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBzaXplIG9mIGFuIEFTQ0lJIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIHNpemUuXG4gICAqL1xuICB2YXIgYXNjaWlTaXplID0gYmFzZVByb3BlcnR5KCdsZW5ndGgnKTtcblxuICAvKipcbiAgICogQ29udmVydHMgYW4gQVNDSUkgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFzY2lpVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLnNwbGl0KCcnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGxpdHMgYW4gQVNDSUkgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gICAqL1xuICBmdW5jdGlvbiBhc2NpaVdvcmRzKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcubWF0Y2gocmVBc2NpaVdvcmQpIHx8IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5maW5kS2V5YCBhbmQgYF8uZmluZExhc3RLZXlgLFxuICAgKiB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYGNvbGxlY3Rpb25gXG4gICAqIHVzaW5nIGBlYWNoRnVuY2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGBjb2xsZWN0aW9uYC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZvdW5kIGVsZW1lbnQgb3IgaXRzIGtleSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VGaW5kS2V5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZWFjaEZ1bmMpIHtcbiAgICB2YXIgcmVzdWx0O1xuICAgIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGtleSwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgcmVzdWx0ID0ga2V5O1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maW5kSW5kZXhgIGFuZCBgXy5maW5kTGFzdEluZGV4YCB3aXRob3V0XG4gICAqIHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUZpbmRJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgsIGZyb21SaWdodCkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIGluZGV4ID0gZnJvbUluZGV4ICsgKGZyb21SaWdodCA/IDEgOiAtMSk7XG5cbiAgICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSkge1xuICAgICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW5kZXhPZmAgd2l0aG91dCBgZnJvbUluZGV4YCBib3VuZHMgY2hlY2tzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWVcbiAgICAgID8gc3RyaWN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleClcbiAgICAgIDogYmFzZUZpbmRJbmRleChhcnJheSwgYmFzZUlzTmFOLCBmcm9tSW5kZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYmFzZUluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYSBjb21wYXJhdG9yLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJbmRleE9mV2l0aChhcnJheSwgdmFsdWUsIGZyb21JbmRleCwgY29tcGFyYXRvcikge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCAtIDEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoY29tcGFyYXRvcihhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hTmAgd2l0aG91dCBzdXBwb3J0IGZvciBudW1iZXIgb2JqZWN0cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGBOYU5gLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSXNOYU4odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lYW5gIGFuZCBgXy5tZWFuQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbWVhbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VNZWFuKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICByZXR1cm4gbGVuZ3RoID8gKGJhc2VTdW0oYXJyYXksIGl0ZXJhdGVlKSAvIGxlbmd0aCkgOiBOQU47XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVByb3BlcnR5KGtleSkge1xuICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlPZmAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVByb3BlcnR5T2Yob2JqZWN0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZWR1Y2VgIGFuZCBgXy5yZWR1Y2VSaWdodGAsIHdpdGhvdXQgc3VwcG9ydFxuICAgKiBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgY29sbGVjdGlvbmAgdXNpbmcgYGVhY2hGdW5jYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGluaXRBY2N1bSBTcGVjaWZ5IHVzaW5nIHRoZSBmaXJzdCBvciBsYXN0IGVsZW1lbnQgb2ZcbiAgICogIGBjb2xsZWN0aW9uYCBhcyB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBgY29sbGVjdGlvbmAuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VSZWR1Y2UoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0sIGVhY2hGdW5jKSB7XG4gICAgZWFjaEZ1bmMoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGluaXRBY2N1bVxuICAgICAgICA/IChpbml0QWNjdW0gPSBmYWxzZSwgdmFsdWUpXG4gICAgICAgIDogaXRlcmF0ZWUoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRCeWAgd2hpY2ggdXNlcyBgY29tcGFyZXJgIHRvIGRlZmluZSB0aGVcbiAgICogc29ydCBvcmRlciBvZiBgYXJyYXlgIGFuZCByZXBsYWNlcyBjcml0ZXJpYSBvYmplY3RzIHdpdGggdGhlaXIgY29ycmVzcG9uZGluZ1xuICAgKiB2YWx1ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzb3J0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJlciBUaGUgZnVuY3Rpb24gdG8gZGVmaW5lIHNvcnQgb3JkZXIuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVNvcnRCeShhcnJheSwgY29tcGFyZXIpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgYXJyYXkuc29ydChjb21wYXJlcik7XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBhcnJheVtsZW5ndGhdID0gYXJyYXlbbGVuZ3RoXS52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnN1bWAgYW5kIGBfLnN1bUJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VTdW0oYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIHJlc3VsdCxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciBjdXJyZW50ID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdKTtcbiAgICAgIGlmIChjdXJyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBjdXJyZW50IDogKHJlc3VsdCArIGN1cnJlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRpbWVzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHNcbiAgICogb3IgbWF4IGFycmF5IGxlbmd0aCBjaGVja3MuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VUaW1lcyhuLCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1BhaXJzYCBhbmQgYF8udG9QYWlyc0luYCB3aGljaCBjcmVhdGVzIGFuIGFycmF5XG4gICAqIG9mIGtleS12YWx1ZSBwYWlycyBmb3IgYG9iamVjdGAgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvcGVydHkgbmFtZXMgb2YgYHByb3BzYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgbmFtZXMgdG8gZ2V0IHZhbHVlcyBmb3IuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VUb1BhaXJzKG9iamVjdCwgcHJvcHMpIHtcbiAgICByZXR1cm4gYXJyYXlNYXAocHJvcHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIFtrZXksIG9iamVjdFtrZXldXTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnZhbHVlc2AgYW5kIGBfLnZhbHVlc0luYCB3aGljaCBjcmVhdGVzIGFuXG4gICAqIGFycmF5IG9mIGBvYmplY3RgIHByb3BlcnR5IHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9wZXJ0eSBuYW1lc1xuICAgKiBvZiBgcHJvcHNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBnZXQgdmFsdWVzIGZvci5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVZhbHVlcyhvYmplY3QsIHByb3BzKSB7XG4gICAgcmV0dXJuIGFycmF5TWFwKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3Rba2V5XTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBgY2FjaGVgIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjYWNoZSBUaGUgY2FjaGUgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBjYWNoZUhhcyhjYWNoZSwga2V5KSB7XG4gICAgcmV0dXJuIGNhY2hlLmhhcyhrZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1TdGFydGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgZmlyc3Qgc3RyaW5nIHN5bWJvbFxuICAgKiB0aGF0IGlzIG5vdCBmb3VuZCBpbiB0aGUgY2hhcmFjdGVyIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0clN5bWJvbHMgVGhlIHN0cmluZyBzeW1ib2xzIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNoclN5bWJvbHMgVGhlIGNoYXJhY3RlciBzeW1ib2xzIHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCB1bm1hdGNoZWQgc3RyaW5nIHN5bWJvbC5cbiAgICovXG4gIGZ1bmN0aW9uIGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHN0clN5bWJvbHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGggJiYgYmFzZUluZGV4T2YoY2hyU3ltYm9scywgc3RyU3ltYm9sc1tpbmRleF0sIDApID4gLTEpIHt9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1FbmRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc3RyaW5nIHN5bWJvbFxuICAgKiB0aGF0IGlzIG5vdCBmb3VuZCBpbiB0aGUgY2hhcmFjdGVyIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0clN5bWJvbHMgVGhlIHN0cmluZyBzeW1ib2xzIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNoclN5bWJvbHMgVGhlIGNoYXJhY3RlciBzeW1ib2xzIHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHVubWF0Y2hlZCBzdHJpbmcgc3ltYm9sLlxuICAgKi9cbiAgZnVuY3Rpb24gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSB7XG4gICAgdmFyIGluZGV4ID0gc3RyU3ltYm9scy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaW5kZXgtLSAmJiBiYXNlSW5kZXhPZihjaHJTeW1ib2xzLCBzdHJTeW1ib2xzW2luZGV4XSwgMCkgPiAtMSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbnVtYmVyIG9mIGBwbGFjZWhvbGRlcmAgb2NjdXJyZW5jZXMgaW4gYGFycmF5YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHRvIHNlYXJjaCBmb3IuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHBsYWNlaG9sZGVyIGNvdW50LlxuICAgKi9cbiAgZnVuY3Rpb24gY291bnRIb2xkZXJzKGFycmF5LCBwbGFjZWhvbGRlcikge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IDA7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGlmIChhcnJheVtsZW5ndGhdID09PSBwbGFjZWhvbGRlcikge1xuICAgICAgICArK3Jlc3VsdDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLmRlYnVycmAgdG8gY29udmVydCBMYXRpbi0xIFN1cHBsZW1lbnQgYW5kIExhdGluIEV4dGVuZGVkLUFcbiAgICogbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGV0dGVyIFRoZSBtYXRjaGVkIGxldHRlciB0byBkZWJ1cnIuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGRlYnVycmVkIGxldHRlci5cbiAgICovXG4gIHZhciBkZWJ1cnJMZXR0ZXIgPSBiYXNlUHJvcGVydHlPZihkZWJ1cnJlZExldHRlcnMpO1xuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLmVzY2FwZWAgdG8gY29udmVydCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICB2YXIgZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sRXNjYXBlcyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udGVtcGxhdGVgIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgZnVuY3Rpb24gZXNjYXBlU3RyaW5nQ2hhcihjaHIpIHtcbiAgICByZXR1cm4gJ1xcXFwnICsgc3RyaW5nRXNjYXBlc1tjaHJdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGNvbnRhaW5zIFVuaWNvZGUgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHN5bWJvbCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaGFzVW5pY29kZShzdHJpbmcpIHtcbiAgICByZXR1cm4gcmVIYXNVbmljb2RlLnRlc3Qoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgYSB3b3JkIGNvbXBvc2VkIG9mIFVuaWNvZGUgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHdvcmQgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGhhc1VuaWNvZGVXb3JkKHN0cmluZykge1xuICAgIHJldHVybiByZUhhc1VuaWNvZGVXb3JkLnRlc3Qoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgaXRlcmF0b3JgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gaXRlcmF0b3IgVGhlIGl0ZXJhdG9yIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gaXRlcmF0b3JUb0FycmF5KGl0ZXJhdG9yKSB7XG4gICAgdmFyIGRhdGEsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCEoZGF0YSA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgcmVzdWx0LnB1c2goZGF0YS52YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYG1hcGAgdG8gaXRzIGtleS12YWx1ZSBwYWlycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gbWFwVG9BcnJheShtYXApIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobWFwLnNpemUpO1xuXG4gICAgbWFwLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gW2tleSwgdmFsdWVdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmVwbGFjZXMgYWxsIGBwbGFjZWhvbGRlcmAgZWxlbWVudHMgaW4gYGFycmF5YCB3aXRoIGFuIGludGVybmFsIHBsYWNlaG9sZGVyXG4gICAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHRoZWlyIGluZGV4ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHRvIHJlcGxhY2UuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAqL1xuICBmdW5jdGlvbiByZXBsYWNlSG9sZGVycyhhcnJheSwgcGxhY2Vob2xkZXIpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gcGxhY2Vob2xkZXIgfHwgdmFsdWUgPT09IFBMQUNFSE9MREVSKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IFBMQUNFSE9MREVSO1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCwgdW5sZXNzIGBrZXlgIGlzIFwiX19wcm90b19fXCIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHNhZmVHZXQob2JqZWN0LCBrZXkpIHtcbiAgICByZXR1cm4ga2V5ID09ICdfX3Byb3RvX18nXG4gICAgICA/IHVuZGVmaW5lZFxuICAgICAgOiBvYmplY3Rba2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc2V0YCB0byBhbiBhcnJheSBvZiBpdHMgdmFsdWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZXMuXG4gICAqL1xuICBmdW5jdGlvbiBzZXRUb0FycmF5KHNldCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gdmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc2V0YCB0byBpdHMgdmFsdWUtdmFsdWUgcGFpcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlLXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gc2V0VG9QYWlycyhzZXQpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gICAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IFt2YWx1ZSwgdmFsdWVdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmluZGV4T2ZgIHdoaWNoIHBlcmZvcm1zIHN0cmljdCBlcXVhbGl0eVxuICAgKiBjb21wYXJpc29ucyBvZiB2YWx1ZXMsIGkuZS4gYD09PWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmljdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggLSAxLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmxhc3RJbmRleE9mYCB3aGljaCBwZXJmb3JtcyBzdHJpY3QgZXF1YWxpdHlcbiAgICogY29tcGFyaXNvbnMgb2YgdmFsdWVzLCBpLmUuIGA9PT1gLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpY3RMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCArIDE7XG4gICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgIGlmIChhcnJheVtpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG51bWJlciBvZiBzeW1ib2xzIGluIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIHNpemUuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpbmdTaXplKHN0cmluZykge1xuICAgIHJldHVybiBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgID8gdW5pY29kZVNpemUoc3RyaW5nKVxuICAgICAgOiBhc2NpaVNpemUoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaW5nVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICA/IHVuaWNvZGVUb0FycmF5KHN0cmluZylcbiAgICAgIDogYXNjaWlUb0FycmF5KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy51bmVzY2FwZWAgdG8gY29udmVydCBIVE1MIGVudGl0aWVzIHRvIGNoYXJhY3RlcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIHVuZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgdmFyIHVuZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sVW5lc2NhcGVzKTtcblxuICAvKipcbiAgICogR2V0cyB0aGUgc2l6ZSBvZiBhIFVuaWNvZGUgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVTaXplKHN0cmluZykge1xuICAgIHZhciByZXN1bHQgPSByZVVuaWNvZGUubGFzdEluZGV4ID0gMDtcbiAgICB3aGlsZSAocmVVbmljb2RlLnRlc3Qoc3RyaW5nKSkge1xuICAgICAgKytyZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYSBVbmljb2RlIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiB1bmljb2RlVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZSkgfHwgW107XG4gIH1cblxuICAvKipcbiAgICogU3BsaXRzIGEgVW5pY29kZSBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVXb3JkcyhzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZVdvcmQpIHx8IFtdO1xuICB9XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBwcmlzdGluZSBgbG9kYXNoYCBmdW5jdGlvbiB1c2luZyB0aGUgYGNvbnRleHRgIG9iamVjdC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgMS4xLjBcbiAgICogQGNhdGVnb3J5IFV0aWxcbiAgICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0PXJvb3RdIFRoZSBjb250ZXh0IG9iamVjdC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGEgbmV3IGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLm1peGluKHsgJ2Zvbyc6IF8uY29uc3RhbnQoJ2ZvbycpIH0pO1xuICAgKlxuICAgKiB2YXIgbG9kYXNoID0gXy5ydW5JbkNvbnRleHQoKTtcbiAgICogbG9kYXNoLm1peGluKHsgJ2Jhcic6IGxvZGFzaC5jb25zdGFudCgnYmFyJykgfSk7XG4gICAqXG4gICAqIF8uaXNGdW5jdGlvbihfLmZvbyk7XG4gICAqIC8vID0+IHRydWVcbiAgICogXy5pc0Z1bmN0aW9uKF8uYmFyKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICpcbiAgICogbG9kYXNoLmlzRnVuY3Rpb24obG9kYXNoLmZvbyk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqIGxvZGFzaC5pc0Z1bmN0aW9uKGxvZGFzaC5iYXIpO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIC8vIENyZWF0ZSBhIHN1cGVkLXVwIGBkZWZlcmAgaW4gTm9kZS5qcy5cbiAgICogdmFyIGRlZmVyID0gXy5ydW5JbkNvbnRleHQoeyAnc2V0VGltZW91dCc6IHNldEltbWVkaWF0ZSB9KS5kZWZlcjtcbiAgICovXG4gIHZhciBydW5JbkNvbnRleHQgPSAoZnVuY3Rpb24gcnVuSW5Db250ZXh0KGNvbnRleHQpIHtcbiAgICBjb250ZXh0ID0gY29udGV4dCA9PSBudWxsID8gcm9vdCA6IF8uZGVmYXVsdHMocm9vdC5PYmplY3QoKSwgY29udGV4dCwgXy5waWNrKHJvb3QsIGNvbnRleHRQcm9wcykpO1xuXG4gICAgLyoqIEJ1aWx0LWluIGNvbnN0cnVjdG9yIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIEFycmF5ID0gY29udGV4dC5BcnJheSxcbiAgICAgICAgRGF0ZSA9IGNvbnRleHQuRGF0ZSxcbiAgICAgICAgRXJyb3IgPSBjb250ZXh0LkVycm9yLFxuICAgICAgICBGdW5jdGlvbiA9IGNvbnRleHQuRnVuY3Rpb24sXG4gICAgICAgIE1hdGggPSBjb250ZXh0Lk1hdGgsXG4gICAgICAgIE9iamVjdCA9IGNvbnRleHQuT2JqZWN0LFxuICAgICAgICBSZWdFeHAgPSBjb250ZXh0LlJlZ0V4cCxcbiAgICAgICAgU3RyaW5nID0gY29udGV4dC5TdHJpbmcsXG4gICAgICAgIFR5cGVFcnJvciA9IGNvbnRleHQuVHlwZUVycm9yO1xuXG4gICAgLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgICAgICBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbiAgICB2YXIgY29yZUpzRGF0YSA9IGNvbnRleHRbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG4gICAgLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xuICAgIHZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbiAgICAvKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbiAgICB2YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuICAgIC8qKiBVc2VkIHRvIGdlbmVyYXRlIHVuaXF1ZSBJRHMuICovXG4gICAgdmFyIGlkQ291bnRlciA9IDA7XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xuICAgIHZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgICAgIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byByZXNvbHZlIHRoZVxuICAgICAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICAgICAqIG9mIHZhbHVlcy5cbiAgICAgKi9cbiAgICB2YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuICAgIC8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cbiAgICB2YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cbiAgICAvKiogVXNlZCB0byByZXN0b3JlIHRoZSBvcmlnaW5hbCBgX2AgcmVmZXJlbmNlIGluIGBfLm5vQ29uZmxpY3RgLiAqL1xuICAgIHZhciBvbGREYXNoID0gcm9vdC5fO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbiAgICB2YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICAgICAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgICAgIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuICAgICk7XG5cbiAgICAvKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IGNvbnRleHQuQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgICAgICBTeW1ib2wgPSBjb250ZXh0LlN5bWJvbCxcbiAgICAgICAgVWludDhBcnJheSA9IGNvbnRleHQuVWludDhBcnJheSxcbiAgICAgICAgYWxsb2NVbnNhZmUgPSBCdWZmZXIgPyBCdWZmZXIuYWxsb2NVbnNhZmUgOiB1bmRlZmluZWQsXG4gICAgICAgIGdldFByb3RvdHlwZSA9IG92ZXJBcmcoT2JqZWN0LmdldFByb3RvdHlwZU9mLCBPYmplY3QpLFxuICAgICAgICBvYmplY3RDcmVhdGUgPSBPYmplY3QuY3JlYXRlLFxuICAgICAgICBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICAgICAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZSxcbiAgICAgICAgc3ByZWFkYWJsZVN5bWJvbCA9IFN5bWJvbCA/IFN5bWJvbC5pc0NvbmNhdFNwcmVhZGFibGUgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bUl0ZXJhdG9yID0gU3ltYm9sID8gU3ltYm9sLml0ZXJhdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuICAgIHZhciBkZWZpbmVQcm9wZXJ0eSA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBmdW5jID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2RlZmluZVByb3BlcnR5Jyk7XG4gICAgICAgIGZ1bmMoe30sICcnLCB7fSk7XG4gICAgICAgIHJldHVybiBmdW5jO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9KCkpO1xuXG4gICAgLyoqIE1vY2tlZCBidWlsdC1pbnMuICovXG4gICAgdmFyIGN0eENsZWFyVGltZW91dCA9IGNvbnRleHQuY2xlYXJUaW1lb3V0ICE9PSByb290LmNsZWFyVGltZW91dCAmJiBjb250ZXh0LmNsZWFyVGltZW91dCxcbiAgICAgICAgY3R4Tm93ID0gRGF0ZSAmJiBEYXRlLm5vdyAhPT0gcm9vdC5EYXRlLm5vdyAmJiBEYXRlLm5vdyxcbiAgICAgICAgY3R4U2V0VGltZW91dCA9IGNvbnRleHQuc2V0VGltZW91dCAhPT0gcm9vdC5zZXRUaW1lb3V0ICYmIGNvbnRleHQuc2V0VGltZW91dDtcblxuICAgIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbiAgICB2YXIgbmF0aXZlQ2VpbCA9IE1hdGguY2VpbCxcbiAgICAgICAgbmF0aXZlRmxvb3IgPSBNYXRoLmZsb29yLFxuICAgICAgICBuYXRpdmVHZXRTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxcbiAgICAgICAgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgICAgIG5hdGl2ZUlzRmluaXRlID0gY29udGV4dC5pc0Zpbml0ZSxcbiAgICAgICAgbmF0aXZlSm9pbiA9IGFycmF5UHJvdG8uam9pbixcbiAgICAgICAgbmF0aXZlS2V5cyA9IG92ZXJBcmcoT2JqZWN0LmtleXMsIE9iamVjdCksXG4gICAgICAgIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgICAgICBuYXRpdmVNaW4gPSBNYXRoLm1pbixcbiAgICAgICAgbmF0aXZlTm93ID0gRGF0ZS5ub3csXG4gICAgICAgIG5hdGl2ZVBhcnNlSW50ID0gY29udGV4dC5wYXJzZUludCxcbiAgICAgICAgbmF0aXZlUmFuZG9tID0gTWF0aC5yYW5kb20sXG4gICAgICAgIG5hdGl2ZVJldmVyc2UgPSBhcnJheVByb3RvLnJldmVyc2U7XG5cbiAgICAvKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG4gICAgdmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKGNvbnRleHQsICdEYXRhVmlldycpLFxuICAgICAgICBNYXAgPSBnZXROYXRpdmUoY29udGV4dCwgJ01hcCcpLFxuICAgICAgICBQcm9taXNlID0gZ2V0TmF0aXZlKGNvbnRleHQsICdQcm9taXNlJyksXG4gICAgICAgIFNldCA9IGdldE5hdGl2ZShjb250ZXh0LCAnU2V0JyksXG4gICAgICAgIFdlYWtNYXAgPSBnZXROYXRpdmUoY29udGV4dCwgJ1dlYWtNYXAnKSxcbiAgICAgICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4gICAgLyoqIFVzZWQgdG8gc3RvcmUgZnVuY3Rpb24gbWV0YWRhdGEuICovXG4gICAgdmFyIG1ldGFNYXAgPSBXZWFrTWFwICYmIG5ldyBXZWFrTWFwO1xuXG4gICAgLyoqIFVzZWQgdG8gbG9va3VwIHVubWluaWZpZWQgZnVuY3Rpb24gbmFtZXMuICovXG4gICAgdmFyIHJlYWxOYW1lcyA9IHt9O1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG1hcHMsIHNldHMsIGFuZCB3ZWFrbWFwcy4gKi9cbiAgICB2YXIgZGF0YVZpZXdDdG9yU3RyaW5nID0gdG9Tb3VyY2UoRGF0YVZpZXcpLFxuICAgICAgICBtYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoTWFwKSxcbiAgICAgICAgcHJvbWlzZUN0b3JTdHJpbmcgPSB0b1NvdXJjZShQcm9taXNlKSxcbiAgICAgICAgc2V0Q3RvclN0cmluZyA9IHRvU291cmNlKFNldCksXG4gICAgICAgIHdlYWtNYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoV2Vha01hcCk7XG5cbiAgICAvKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbiAgICB2YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1ib2xWYWx1ZU9mID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by52YWx1ZU9mIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgb2JqZWN0IHdoaWNoIHdyYXBzIGB2YWx1ZWAgdG8gZW5hYmxlIGltcGxpY2l0IG1ldGhvZFxuICAgICAqIGNoYWluIHNlcXVlbmNlcy4gTWV0aG9kcyB0aGF0IG9wZXJhdGUgb24gYW5kIHJldHVybiBhcnJheXMsIGNvbGxlY3Rpb25zLFxuICAgICAqIGFuZCBmdW5jdGlvbnMgY2FuIGJlIGNoYWluZWQgdG9nZXRoZXIuIE1ldGhvZHMgdGhhdCByZXRyaWV2ZSBhIHNpbmdsZSB2YWx1ZVxuICAgICAqIG9yIG1heSByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUgd2lsbCBhdXRvbWF0aWNhbGx5IGVuZCB0aGUgY2hhaW4gc2VxdWVuY2VcbiAgICAgKiBhbmQgcmV0dXJuIHRoZSB1bndyYXBwZWQgdmFsdWUuIE90aGVyd2lzZSwgdGhlIHZhbHVlIG11c3QgYmUgdW53cmFwcGVkXG4gICAgICogd2l0aCBgXyN2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBFeHBsaWNpdCBjaGFpbiBzZXF1ZW5jZXMsIHdoaWNoIG11c3QgYmUgdW53cmFwcGVkIHdpdGggYF8jdmFsdWVgLCBtYXkgYmVcbiAgICAgKiBlbmFibGVkIHVzaW5nIGBfLmNoYWluYC5cbiAgICAgKlxuICAgICAqIFRoZSBleGVjdXRpb24gb2YgY2hhaW5lZCBtZXRob2RzIGlzIGxhenksIHRoYXQgaXMsIGl0J3MgZGVmZXJyZWQgdW50aWxcbiAgICAgKiBgXyN2YWx1ZWAgaXMgaW1wbGljaXRseSBvciBleHBsaWNpdGx5IGNhbGxlZC5cbiAgICAgKlxuICAgICAqIExhenkgZXZhbHVhdGlvbiBhbGxvd3Mgc2V2ZXJhbCBtZXRob2RzIHRvIHN1cHBvcnQgc2hvcnRjdXQgZnVzaW9uLlxuICAgICAqIFNob3J0Y3V0IGZ1c2lvbiBpcyBhbiBvcHRpbWl6YXRpb24gdG8gbWVyZ2UgaXRlcmF0ZWUgY2FsbHM7IHRoaXMgYXZvaWRzXG4gICAgICogdGhlIGNyZWF0aW9uIG9mIGludGVybWVkaWF0ZSBhcnJheXMgYW5kIGNhbiBncmVhdGx5IHJlZHVjZSB0aGUgbnVtYmVyIG9mXG4gICAgICogaXRlcmF0ZWUgZXhlY3V0aW9ucy4gU2VjdGlvbnMgb2YgYSBjaGFpbiBzZXF1ZW5jZSBxdWFsaWZ5IGZvciBzaG9ydGN1dFxuICAgICAqIGZ1c2lvbiBpZiB0aGUgc2VjdGlvbiBpcyBhcHBsaWVkIHRvIGFuIGFycmF5IGFuZCBpdGVyYXRlZXMgYWNjZXB0IG9ubHlcbiAgICAgKiBvbmUgYXJndW1lbnQuIFRoZSBoZXVyaXN0aWMgZm9yIHdoZXRoZXIgYSBzZWN0aW9uIHF1YWxpZmllcyBmb3Igc2hvcnRjdXRcbiAgICAgKiBmdXNpb24gaXMgc3ViamVjdCB0byBjaGFuZ2UuXG4gICAgICpcbiAgICAgKiBDaGFpbmluZyBpcyBzdXBwb3J0ZWQgaW4gY3VzdG9tIGJ1aWxkcyBhcyBsb25nIGFzIHRoZSBgXyN2YWx1ZWAgbWV0aG9kIGlzXG4gICAgICogZGlyZWN0bHkgb3IgaW5kaXJlY3RseSBpbmNsdWRlZCBpbiB0aGUgYnVpbGQuXG4gICAgICpcbiAgICAgKiBJbiBhZGRpdGlvbiB0byBsb2Rhc2ggbWV0aG9kcywgd3JhcHBlcnMgaGF2ZSBgQXJyYXlgIGFuZCBgU3RyaW5nYCBtZXRob2RzLlxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgYEFycmF5YCBtZXRob2RzIGFyZTpcbiAgICAgKiBgY29uY2F0YCwgYGpvaW5gLCBgcG9wYCwgYHB1c2hgLCBgc2hpZnRgLCBgc29ydGAsIGBzcGxpY2VgLCBhbmQgYHVuc2hpZnRgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBgU3RyaW5nYCBtZXRob2RzIGFyZTpcbiAgICAgKiBgcmVwbGFjZWAgYW5kIGBzcGxpdGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIG1ldGhvZHMgdGhhdCBzdXBwb3J0IHNob3J0Y3V0IGZ1c2lvbiBhcmU6XG4gICAgICogYGF0YCwgYGNvbXBhY3RgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLCBgZHJvcFdoaWxlYCwgYGZpbHRlcmAsIGBmaW5kYCxcbiAgICAgKiBgZmluZExhc3RgLCBgaGVhZGAsIGBpbml0aWFsYCwgYGxhc3RgLCBgbWFwYCwgYHJlamVjdGAsIGByZXZlcnNlYCwgYHNsaWNlYCxcbiAgICAgKiBgdGFpbGAsIGB0YWtlYCwgYHRha2VSaWdodGAsIGB0YWtlUmlnaHRXaGlsZWAsIGB0YWtlV2hpbGVgLCBhbmQgYHRvQXJyYXlgXG4gICAgICpcbiAgICAgKiBUaGUgY2hhaW5hYmxlIHdyYXBwZXIgbWV0aG9kcyBhcmU6XG4gICAgICogYGFmdGVyYCwgYGFyeWAsIGBhc3NpZ25gLCBgYXNzaWduSW5gLCBgYXNzaWduSW5XaXRoYCwgYGFzc2lnbldpdGhgLCBgYXRgLFxuICAgICAqIGBiZWZvcmVgLCBgYmluZGAsIGBiaW5kQWxsYCwgYGJpbmRLZXlgLCBgY2FzdEFycmF5YCwgYGNoYWluYCwgYGNodW5rYCxcbiAgICAgKiBgY29tbWl0YCwgYGNvbXBhY3RgLCBgY29uY2F0YCwgYGNvbmZvcm1zYCwgYGNvbnN0YW50YCwgYGNvdW50QnlgLCBgY3JlYXRlYCxcbiAgICAgKiBgY3VycnlgLCBgZGVib3VuY2VgLCBgZGVmYXVsdHNgLCBgZGVmYXVsdHNEZWVwYCwgYGRlZmVyYCwgYGRlbGF5YCxcbiAgICAgKiBgZGlmZmVyZW5jZWAsIGBkaWZmZXJlbmNlQnlgLCBgZGlmZmVyZW5jZVdpdGhgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLFxuICAgICAqIGBkcm9wUmlnaHRXaGlsZWAsIGBkcm9wV2hpbGVgLCBgZXh0ZW5kYCwgYGV4dGVuZFdpdGhgLCBgZmlsbGAsIGBmaWx0ZXJgLFxuICAgICAqIGBmbGF0TWFwYCwgYGZsYXRNYXBEZWVwYCwgYGZsYXRNYXBEZXB0aGAsIGBmbGF0dGVuYCwgYGZsYXR0ZW5EZWVwYCxcbiAgICAgKiBgZmxhdHRlbkRlcHRoYCwgYGZsaXBgLCBgZmxvd2AsIGBmbG93UmlnaHRgLCBgZnJvbVBhaXJzYCwgYGZ1bmN0aW9uc2AsXG4gICAgICogYGZ1bmN0aW9uc0luYCwgYGdyb3VwQnlgLCBgaW5pdGlhbGAsIGBpbnRlcnNlY3Rpb25gLCBgaW50ZXJzZWN0aW9uQnlgLFxuICAgICAqIGBpbnRlcnNlY3Rpb25XaXRoYCwgYGludmVydGAsIGBpbnZlcnRCeWAsIGBpbnZva2VNYXBgLCBgaXRlcmF0ZWVgLCBga2V5QnlgLFxuICAgICAqIGBrZXlzYCwgYGtleXNJbmAsIGBtYXBgLCBgbWFwS2V5c2AsIGBtYXBWYWx1ZXNgLCBgbWF0Y2hlc2AsIGBtYXRjaGVzUHJvcGVydHlgLFxuICAgICAqIGBtZW1vaXplYCwgYG1lcmdlYCwgYG1lcmdlV2l0aGAsIGBtZXRob2RgLCBgbWV0aG9kT2ZgLCBgbWl4aW5gLCBgbmVnYXRlYCxcbiAgICAgKiBgbnRoQXJnYCwgYG9taXRgLCBgb21pdEJ5YCwgYG9uY2VgLCBgb3JkZXJCeWAsIGBvdmVyYCwgYG92ZXJBcmdzYCxcbiAgICAgKiBgb3ZlckV2ZXJ5YCwgYG92ZXJTb21lYCwgYHBhcnRpYWxgLCBgcGFydGlhbFJpZ2h0YCwgYHBhcnRpdGlvbmAsIGBwaWNrYCxcbiAgICAgKiBgcGlja0J5YCwgYHBsYW50YCwgYHByb3BlcnR5YCwgYHByb3BlcnR5T2ZgLCBgcHVsbGAsIGBwdWxsQWxsYCwgYHB1bGxBbGxCeWAsXG4gICAgICogYHB1bGxBbGxXaXRoYCwgYHB1bGxBdGAsIGBwdXNoYCwgYHJhbmdlYCwgYHJhbmdlUmlnaHRgLCBgcmVhcmdgLCBgcmVqZWN0YCxcbiAgICAgKiBgcmVtb3ZlYCwgYHJlc3RgLCBgcmV2ZXJzZWAsIGBzYW1wbGVTaXplYCwgYHNldGAsIGBzZXRXaXRoYCwgYHNodWZmbGVgLFxuICAgICAqIGBzbGljZWAsIGBzb3J0YCwgYHNvcnRCeWAsIGBzcGxpY2VgLCBgc3ByZWFkYCwgYHRhaWxgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLFxuICAgICAqIGB0YWtlUmlnaHRXaGlsZWAsIGB0YWtlV2hpbGVgLCBgdGFwYCwgYHRocm90dGxlYCwgYHRocnVgLCBgdG9BcnJheWAsXG4gICAgICogYHRvUGFpcnNgLCBgdG9QYWlyc0luYCwgYHRvUGF0aGAsIGB0b1BsYWluT2JqZWN0YCwgYHRyYW5zZm9ybWAsIGB1bmFyeWAsXG4gICAgICogYHVuaW9uYCwgYHVuaW9uQnlgLCBgdW5pb25XaXRoYCwgYHVuaXFgLCBgdW5pcUJ5YCwgYHVuaXFXaXRoYCwgYHVuc2V0YCxcbiAgICAgKiBgdW5zaGlmdGAsIGB1bnppcGAsIGB1bnppcFdpdGhgLCBgdXBkYXRlYCwgYHVwZGF0ZVdpdGhgLCBgdmFsdWVzYCxcbiAgICAgKiBgdmFsdWVzSW5gLCBgd2l0aG91dGAsIGB3cmFwYCwgYHhvcmAsIGB4b3JCeWAsIGB4b3JXaXRoYCwgYHppcGAsXG4gICAgICogYHppcE9iamVjdGAsIGB6aXBPYmplY3REZWVwYCwgYW5kIGB6aXBXaXRoYFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgbWV0aG9kcyB0aGF0IGFyZSAqKm5vdCoqIGNoYWluYWJsZSBieSBkZWZhdWx0IGFyZTpcbiAgICAgKiBgYWRkYCwgYGF0dGVtcHRgLCBgY2FtZWxDYXNlYCwgYGNhcGl0YWxpemVgLCBgY2VpbGAsIGBjbGFtcGAsIGBjbG9uZWAsXG4gICAgICogYGNsb25lRGVlcGAsIGBjbG9uZURlZXBXaXRoYCwgYGNsb25lV2l0aGAsIGBjb25mb3Jtc1RvYCwgYGRlYnVycmAsXG4gICAgICogYGRlZmF1bHRUb2AsIGBkaXZpZGVgLCBgZWFjaGAsIGBlYWNoUmlnaHRgLCBgZW5kc1dpdGhgLCBgZXFgLCBgZXNjYXBlYCxcbiAgICAgKiBgZXNjYXBlUmVnRXhwYCwgYGV2ZXJ5YCwgYGZpbmRgLCBgZmluZEluZGV4YCwgYGZpbmRLZXlgLCBgZmluZExhc3RgLFxuICAgICAqIGBmaW5kTGFzdEluZGV4YCwgYGZpbmRMYXN0S2V5YCwgYGZpcnN0YCwgYGZsb29yYCwgYGZvckVhY2hgLCBgZm9yRWFjaFJpZ2h0YCxcbiAgICAgKiBgZm9ySW5gLCBgZm9ySW5SaWdodGAsIGBmb3JPd25gLCBgZm9yT3duUmlnaHRgLCBgZ2V0YCwgYGd0YCwgYGd0ZWAsIGBoYXNgLFxuICAgICAqIGBoYXNJbmAsIGBoZWFkYCwgYGlkZW50aXR5YCwgYGluY2x1ZGVzYCwgYGluZGV4T2ZgLCBgaW5SYW5nZWAsIGBpbnZva2VgLFxuICAgICAqIGBpc0FyZ3VtZW50c2AsIGBpc0FycmF5YCwgYGlzQXJyYXlCdWZmZXJgLCBgaXNBcnJheUxpa2VgLCBgaXNBcnJheUxpa2VPYmplY3RgLFxuICAgICAqIGBpc0Jvb2xlYW5gLCBgaXNCdWZmZXJgLCBgaXNEYXRlYCwgYGlzRWxlbWVudGAsIGBpc0VtcHR5YCwgYGlzRXF1YWxgLFxuICAgICAqIGBpc0VxdWFsV2l0aGAsIGBpc0Vycm9yYCwgYGlzRmluaXRlYCwgYGlzRnVuY3Rpb25gLCBgaXNJbnRlZ2VyYCwgYGlzTGVuZ3RoYCxcbiAgICAgKiBgaXNNYXBgLCBgaXNNYXRjaGAsIGBpc01hdGNoV2l0aGAsIGBpc05hTmAsIGBpc05hdGl2ZWAsIGBpc05pbGAsIGBpc051bGxgLFxuICAgICAqIGBpc051bWJlcmAsIGBpc09iamVjdGAsIGBpc09iamVjdExpa2VgLCBgaXNQbGFpbk9iamVjdGAsIGBpc1JlZ0V4cGAsXG4gICAgICogYGlzU2FmZUludGVnZXJgLCBgaXNTZXRgLCBgaXNTdHJpbmdgLCBgaXNVbmRlZmluZWRgLCBgaXNUeXBlZEFycmF5YCxcbiAgICAgKiBgaXNXZWFrTWFwYCwgYGlzV2Vha1NldGAsIGBqb2luYCwgYGtlYmFiQ2FzZWAsIGBsYXN0YCwgYGxhc3RJbmRleE9mYCxcbiAgICAgKiBgbG93ZXJDYXNlYCwgYGxvd2VyRmlyc3RgLCBgbHRgLCBgbHRlYCwgYG1heGAsIGBtYXhCeWAsIGBtZWFuYCwgYG1lYW5CeWAsXG4gICAgICogYG1pbmAsIGBtaW5CeWAsIGBtdWx0aXBseWAsIGBub0NvbmZsaWN0YCwgYG5vb3BgLCBgbm93YCwgYG50aGAsIGBwYWRgLFxuICAgICAqIGBwYWRFbmRgLCBgcGFkU3RhcnRgLCBgcGFyc2VJbnRgLCBgcG9wYCwgYHJhbmRvbWAsIGByZWR1Y2VgLCBgcmVkdWNlUmlnaHRgLFxuICAgICAqIGByZXBlYXRgLCBgcmVzdWx0YCwgYHJvdW5kYCwgYHJ1bkluQ29udGV4dGAsIGBzYW1wbGVgLCBgc2hpZnRgLCBgc2l6ZWAsXG4gICAgICogYHNuYWtlQ2FzZWAsIGBzb21lYCwgYHNvcnRlZEluZGV4YCwgYHNvcnRlZEluZGV4QnlgLCBgc29ydGVkTGFzdEluZGV4YCxcbiAgICAgKiBgc29ydGVkTGFzdEluZGV4QnlgLCBgc3RhcnRDYXNlYCwgYHN0YXJ0c1dpdGhgLCBgc3R1YkFycmF5YCwgYHN0dWJGYWxzZWAsXG4gICAgICogYHN0dWJPYmplY3RgLCBgc3R1YlN0cmluZ2AsIGBzdHViVHJ1ZWAsIGBzdWJ0cmFjdGAsIGBzdW1gLCBgc3VtQnlgLFxuICAgICAqIGB0ZW1wbGF0ZWAsIGB0aW1lc2AsIGB0b0Zpbml0ZWAsIGB0b0ludGVnZXJgLCBgdG9KU09OYCwgYHRvTGVuZ3RoYCxcbiAgICAgKiBgdG9Mb3dlcmAsIGB0b051bWJlcmAsIGB0b1NhZmVJbnRlZ2VyYCwgYHRvU3RyaW5nYCwgYHRvVXBwZXJgLCBgdHJpbWAsXG4gICAgICogYHRyaW1FbmRgLCBgdHJpbVN0YXJ0YCwgYHRydW5jYXRlYCwgYHVuZXNjYXBlYCwgYHVuaXF1ZUlkYCwgYHVwcGVyQ2FzZWAsXG4gICAgICogYHVwcGVyRmlyc3RgLCBgdmFsdWVgLCBhbmQgYHdvcmRzYFxuICAgICAqXG4gICAgICogQG5hbWUgX1xuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwIGluIGEgYGxvZGFzaGAgaW5zdGFuY2UuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyLCAzXSk7XG4gICAgICpcbiAgICAgKiAvLyBSZXR1cm5zIGFuIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiB3cmFwcGVkLnJlZHVjZShfLmFkZCk7XG4gICAgICogLy8gPT4gNlxuICAgICAqXG4gICAgICogLy8gUmV0dXJucyBhIHdyYXBwZWQgdmFsdWUuXG4gICAgICogdmFyIHNxdWFyZXMgPSB3cmFwcGVkLm1hcChzcXVhcmUpO1xuICAgICAqXG4gICAgICogXy5pc0FycmF5KHNxdWFyZXMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoc3F1YXJlcy52YWx1ZSgpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbG9kYXNoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhaXNBcnJheSh2YWx1ZSkgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSkge1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBMb2Rhc2hXcmFwcGVyKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnX193cmFwcGVkX18nKSkge1xuICAgICAgICAgIHJldHVybiB3cmFwcGVyQ2xvbmUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNyZWF0ZWAgd2l0aG91dCBzdXBwb3J0IGZvciBhc3NpZ25pbmdcbiAgICAgKiBwcm9wZXJ0aWVzIHRvIHRoZSBjcmVhdGVkIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgdmFyIGJhc2VDcmVhdGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICBmdW5jdGlvbiBvYmplY3QoKSB7fVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHByb3RvKSB7XG4gICAgICAgIGlmICghaXNPYmplY3QocHJvdG8pKSB7XG4gICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvYmplY3RDcmVhdGUpIHtcbiAgICAgICAgICByZXR1cm4gb2JqZWN0Q3JlYXRlKHByb3RvKTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QucHJvdG90eXBlID0gcHJvdG87XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgb2JqZWN0O1xuICAgICAgICBvYmplY3QucHJvdG90eXBlID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZ1bmN0aW9uIHdob3NlIHByb3RvdHlwZSBjaGFpbiBzZXF1ZW5jZSB3cmFwcGVycyBpbmhlcml0IGZyb20uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VMb2Rhc2goKSB7XG4gICAgICAvLyBObyBvcGVyYXRpb24gcGVyZm9ybWVkLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGNvbnN0cnVjdG9yIGZvciBjcmVhdGluZyBgbG9kYXNoYCB3cmFwcGVyIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY2hhaW5BbGxdIEVuYWJsZSBleHBsaWNpdCBtZXRob2QgY2hhaW4gc2VxdWVuY2VzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvZGFzaFdyYXBwZXIodmFsdWUsIGNoYWluQWxsKSB7XG4gICAgICB0aGlzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgICB0aGlzLl9fYWN0aW9uc19fID0gW107XG4gICAgICB0aGlzLl9fY2hhaW5fXyA9ICEhY2hhaW5BbGw7XG4gICAgICB0aGlzLl9faW5kZXhfXyA9IDA7XG4gICAgICB0aGlzLl9fdmFsdWVzX18gPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnkgZGVmYXVsdCwgdGhlIHRlbXBsYXRlIGRlbGltaXRlcnMgdXNlZCBieSBsb2Rhc2ggYXJlIGxpa2UgdGhvc2UgaW5cbiAgICAgKiBlbWJlZGRlZCBSdWJ5IChFUkIpIGFzIHdlbGwgYXMgRVMyMDE1IHRlbXBsYXRlIHN0cmluZ3MuIENoYW5nZSB0aGVcbiAgICAgKiBmb2xsb3dpbmcgdGVtcGxhdGUgc2V0dGluZ3MgdG8gdXNlIGFsdGVybmF0aXZlIGRlbGltaXRlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIGxvZGFzaC50ZW1wbGF0ZVNldHRpbmdzID0ge1xuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gYmUgSFRNTC1lc2NhcGVkLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdlc2NhcGUnOiByZUVzY2FwZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBjb2RlIHRvIGJlIGV2YWx1YXRlZC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICovXG4gICAgICAnZXZhbHVhdGUnOiByZUV2YWx1YXRlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gaW5qZWN0LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdpbnRlcnBvbGF0ZSc6IHJlSW50ZXJwb2xhdGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byByZWZlcmVuY2UgdGhlIGRhdGEgb2JqZWN0IGluIHRoZSB0ZW1wbGF0ZSB0ZXh0LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgKi9cbiAgICAgICd2YXJpYWJsZSc6ICcnLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gaW1wb3J0IHZhcmlhYmxlcyBpbnRvIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICovXG4gICAgICAnaW1wb3J0cyc6IHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgJ18nOiBsb2Rhc2hcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRW5zdXJlIHdyYXBwZXJzIGFyZSBpbnN0YW5jZXMgb2YgYGJhc2VMb2Rhc2hgLlxuICAgIGxvZGFzaC5wcm90b3R5cGUgPSBiYXNlTG9kYXNoLnByb3RvdHlwZTtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gbG9kYXNoO1xuXG4gICAgTG9kYXNoV3JhcHBlci5wcm90b3R5cGUgPSBiYXNlQ3JlYXRlKGJhc2VMb2Rhc2gucHJvdG90eXBlKTtcbiAgICBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExvZGFzaFdyYXBwZXI7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbGF6eSB3cmFwcGVyIG9iamVjdCB3aGljaCB3cmFwcyBgdmFsdWVgIHRvIGVuYWJsZSBsYXp5IGV2YWx1YXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGF6eVdyYXBwZXIodmFsdWUpIHtcbiAgICAgIHRoaXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHRoaXMuX19hY3Rpb25zX18gPSBbXTtcbiAgICAgIHRoaXMuX19kaXJfXyA9IDE7XG4gICAgICB0aGlzLl9fZmlsdGVyZWRfXyA9IGZhbHNlO1xuICAgICAgdGhpcy5fX2l0ZXJhdGVlc19fID0gW107XG4gICAgICB0aGlzLl9fdGFrZUNvdW50X18gPSBNQVhfQVJSQVlfTEVOR1RIO1xuICAgICAgdGhpcy5fX3ZpZXdzX18gPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGxhenkgd3JhcHBlciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsb25lXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIGBMYXp5V3JhcHBlcmAgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlDbG9uZSgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcy5fX3dyYXBwZWRfXyk7XG4gICAgICByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkodGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgICByZXN1bHQuX19kaXJfXyA9IHRoaXMuX19kaXJfXztcbiAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSB0aGlzLl9fZmlsdGVyZWRfXztcbiAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fID0gY29weUFycmF5KHRoaXMuX19pdGVyYXRlZXNfXyk7XG4gICAgICByZXN1bHQuX190YWtlQ291bnRfXyA9IHRoaXMuX190YWtlQ291bnRfXztcbiAgICAgIHJlc3VsdC5fX3ZpZXdzX18gPSBjb3B5QXJyYXkodGhpcy5fX3ZpZXdzX18pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnNlcyB0aGUgZGlyZWN0aW9uIG9mIGxhenkgaXRlcmF0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSByZXZlcnNlXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IHJldmVyc2VkIGBMYXp5V3JhcHBlcmAgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlSZXZlcnNlKCkge1xuICAgICAgaWYgKHRoaXMuX19maWx0ZXJlZF9fKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgIHJlc3VsdC5fX2Rpcl9fID0gLTE7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5jbG9uZSgpO1xuICAgICAgICByZXN1bHQuX19kaXJfXyAqPSAtMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIHVud3JhcHBlZCB2YWx1ZSBmcm9tIGl0cyBsYXp5IHdyYXBwZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHZhbHVlXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXp5VmFsdWUoKSB7XG4gICAgICB2YXIgYXJyYXkgPSB0aGlzLl9fd3JhcHBlZF9fLnZhbHVlKCksXG4gICAgICAgICAgZGlyID0gdGhpcy5fX2Rpcl9fLFxuICAgICAgICAgIGlzQXJyID0gaXNBcnJheShhcnJheSksXG4gICAgICAgICAgaXNSaWdodCA9IGRpciA8IDAsXG4gICAgICAgICAgYXJyTGVuZ3RoID0gaXNBcnIgPyBhcnJheS5sZW5ndGggOiAwLFxuICAgICAgICAgIHZpZXcgPSBnZXRWaWV3KDAsIGFyckxlbmd0aCwgdGhpcy5fX3ZpZXdzX18pLFxuICAgICAgICAgIHN0YXJ0ID0gdmlldy5zdGFydCxcbiAgICAgICAgICBlbmQgPSB2aWV3LmVuZCxcbiAgICAgICAgICBsZW5ndGggPSBlbmQgLSBzdGFydCxcbiAgICAgICAgICBpbmRleCA9IGlzUmlnaHQgPyBlbmQgOiAoc3RhcnQgLSAxKSxcbiAgICAgICAgICBpdGVyYXRlZXMgPSB0aGlzLl9faXRlcmF0ZWVzX18sXG4gICAgICAgICAgaXRlckxlbmd0aCA9IGl0ZXJhdGVlcy5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHRha2VDb3VudCA9IG5hdGl2ZU1pbihsZW5ndGgsIHRoaXMuX190YWtlQ291bnRfXyk7XG5cbiAgICAgIGlmICghaXNBcnIgfHwgKCFpc1JpZ2h0ICYmIGFyckxlbmd0aCA9PSBsZW5ndGggJiYgdGFrZUNvdW50ID09IGxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VXcmFwcGVyVmFsdWUoYXJyYXksIHRoaXMuX19hY3Rpb25zX18pO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlIChsZW5ndGgtLSAmJiByZXNJbmRleCA8IHRha2VDb3VudCkge1xuICAgICAgICBpbmRleCArPSBkaXI7XG5cbiAgICAgICAgdmFyIGl0ZXJJbmRleCA9IC0xLFxuICAgICAgICAgICAgdmFsdWUgPSBhcnJheVtpbmRleF07XG5cbiAgICAgICAgd2hpbGUgKCsraXRlckluZGV4IDwgaXRlckxlbmd0aCkge1xuICAgICAgICAgIHZhciBkYXRhID0gaXRlcmF0ZWVzW2l0ZXJJbmRleF0sXG4gICAgICAgICAgICAgIGl0ZXJhdGVlID0gZGF0YS5pdGVyYXRlZSxcbiAgICAgICAgICAgICAgdHlwZSA9IGRhdGEudHlwZSxcbiAgICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgICBpZiAodHlwZSA9PSBMQVpZX01BUF9GTEFHKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGNvbXB1dGVkO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWNvbXB1dGVkKSB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PSBMQVpZX0ZJTFRFUl9GTEFHKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYnJlYWsgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgYExhenlXcmFwcGVyYCBpcyBhbiBpbnN0YW5jZSBvZiBgYmFzZUxvZGFzaGAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlID0gYmFzZUNyZWF0ZShiYXNlTG9kYXNoLnByb3RvdHlwZSk7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGF6eVdyYXBwZXI7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEhhc2goZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xuICAgICAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIHJldHVybiBuYXRpdmVDcmVhdGUgPyAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIHRoaXMuc2l6ZSArPSB0aGlzLmhhcyhrZXkpID8gMCA6IDE7XG4gICAgICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbiAgICBIYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbiAgICBIYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuICAgIEhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG4gICAgSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbiAgICBIYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gW107XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gICAgICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgICAgIGRhdGEucG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gICAgICB9XG4gICAgICAtLXRoaXMuc2l6ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgICAgIHJldHVybiBhc3NvY0luZGV4T2YodGhpcy5fX2RhdGFfXywga2V5KSA+IC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICArK3RoaXMuc2l6ZTtcbiAgICAgICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgIHRoaXMuX19kYXRhX18gPSB7XG4gICAgICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICAgICAgdmFyIHJlc3VsdCA9IGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbiAgICAgIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICAgICAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICAgICAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IGdldE1hcERhdGEodGhpcywga2V5KSxcbiAgICAgICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gICAgICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgICAgIHRoaXMuc2l6ZSArPSBkYXRhLnNpemUgPT0gc2l6ZSA/IDAgOiAxO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBjYWNoZSBvYmplY3QgdG8gc3RvcmUgdW5pcXVlIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTZXRDYWNoZSh2YWx1ZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHZhbHVlcyA9PSBudWxsID8gMCA6IHZhbHVlcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGU7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB0aGlzLmFkZCh2YWx1ZXNbaW5kZXhdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGB2YWx1ZWAgdG8gdGhlIGFycmF5IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBhZGRcbiAgICAgKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAgICAgKiBAYWxpYXMgcHVzaFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNhY2hlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldENhY2hlQWRkKHZhbHVlKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fLnNldCh2YWx1ZSwgSEFTSF9VTkRFRklORUQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gdGhlIGFycmF5IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRDYWNoZUhhcyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgU2V0Q2FjaGVgLlxuICAgIFNldENhY2hlLnByb3RvdHlwZS5hZGQgPSBTZXRDYWNoZS5wcm90b3R5cGUucHVzaCA9IHNldENhY2hlQWRkO1xuICAgIFNldENhY2hlLnByb3RvdHlwZS5oYXMgPSBzZXRDYWNoZUhhcztcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzdGFjayBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIHN0YWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgcmVzdWx0ID0gZGF0YVsnZGVsZXRlJ10oa2V5KTtcblxuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzdGFjayB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0dldChrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmdldChrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHN0YWNrIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0hhcyhrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0YWNrIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBzdGFjayBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgICAgICB2YXIgcGFpcnMgPSBkYXRhLl9fZGF0YV9fO1xuICAgICAgICBpZiAoIU1hcCB8fCAocGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpKSB7XG4gICAgICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgICAgIHRoaXMuc2l6ZSA9ICsrZGF0YS5zaXplO1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcbiAgICAgIH1cbiAgICAgIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYFN0YWNrYC5cbiAgICBTdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuICAgIFN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcbiAgICBTdGFjay5wcm90b3R5cGUuZ2V0ID0gc3RhY2tHZXQ7XG4gICAgU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuICAgIFN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKSxcbiAgICAgICAgICBpc0FyZyA9ICFpc0FyciAmJiBpc0FyZ3VtZW50cyh2YWx1ZSksXG4gICAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG4gICAgICAgICAgaXNUeXBlID0gIWlzQXJyICYmICFpc0FyZyAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheSh2YWx1ZSksXG4gICAgICAgICAgc2tpcEluZGV4ZXMgPSBpc0FyciB8fCBpc0FyZyB8fCBpc0J1ZmYgfHwgaXNUeXBlLFxuICAgICAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoXG4gICAgICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG4gICAgICAgICAgICAgICBrZXkgPT0gJ2xlbmd0aCcgfHxcbiAgICAgICAgICAgICAgIC8vIE5vZGUuanMgMC4xMCBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiBidWZmZXJzLlxuICAgICAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG4gICAgICAgICAgICAgICAvLyBQaGFudG9tSlMgMiBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiB0eXBlZCBhcnJheXMuXG4gICAgICAgICAgICAgICAoaXNUeXBlICYmIChrZXkgPT0gJ2J1ZmZlcicgfHwga2V5ID09ICdieXRlTGVuZ3RoJyB8fCBrZXkgPT0gJ2J5dGVPZmZzZXQnKSkgfHxcbiAgICAgICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgIGlzSW5kZXgoa2V5LCBsZW5ndGgpXG4gICAgICAgICAgICApKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNhbXBsZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTYW1wbGUoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYXJyYXlbYmFzZVJhbmRvbSgwLCBsZW5ndGggLSAxKV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNhbXBsZVNpemVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTYW1wbGVTaXplKGFycmF5LCBuKSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoY29weUFycmF5KGFycmF5KSwgYmFzZUNsYW1wKG4sIDAsIGFycmF5Lmxlbmd0aCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zaHVmZmxlYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNodWZmbGUoYXJyYXkpIHtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZihjb3B5QXJyYXkoYXJyYXkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFzc2lnblZhbHVlYCBleGNlcHQgdGhhdCBpdCBkb2Vzbid0IGFzc2lnblxuICAgICAqIGB1bmRlZmluZWRgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIGlmICgodmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhZXEob2JqZWN0W2tleV0sIHZhbHVlKSkgfHxcbiAgICAgICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIGB2YWx1ZWAgdG8gYGtleWAgb2YgYG9iamVjdGAgaWYgdGhlIGV4aXN0aW5nIHZhbHVlIGlzIG5vdCBlcXVpdmFsZW50XG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV07XG4gICAgICBpZiAoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBlcShvYmpWYWx1ZSwgdmFsdWUpKSB8fFxuICAgICAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gbGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWdncmVnYXRlcyBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAgb24gYGFjY3VtdWxhdG9yYCB3aXRoIGtleXMgdHJhbnNmb3JtZWRcbiAgICAgKiBieSBgaXRlcmF0ZWVgIGFuZCB2YWx1ZXMgc2V0IGJ5IGBzZXR0ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBhZ2dyZWdhdGVkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQWdncmVnYXRvcihjb2xsZWN0aW9uLCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIHZhbHVlLCBpdGVyYXRlZSh2YWx1ZSksIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXNzaWduYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXNcbiAgICAgKiBvciBgY3VzdG9taXplcmAgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hc3NpZ25JbmAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzXG4gICAgICogb3IgYGN1c3RvbWl6ZXJgIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduSW4ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBhc3NpZ25WYWx1ZWAgYW5kIGBhc3NpZ25NZXJnZVZhbHVlYCB3aXRob3V0XG4gICAgICogdmFsdWUgY2hlY2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoa2V5ID09ICdfX3Byb3RvX18nICYmIGRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgIGRlZmluZVByb3BlcnR5KG9iamVjdCwga2V5LCB7XG4gICAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAgICAgJ2VudW1lcmFibGUnOiB0cnVlLFxuICAgICAgICAgICd2YWx1ZSc6IHZhbHVlLFxuICAgICAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmF0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWwgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwaWNrZWQgZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUF0KG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgIHNraXAgPSBvYmplY3QgPT0gbnVsbDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IHNraXAgPyB1bmRlZmluZWQgOiBnZXQob2JqZWN0LCBwYXRoc1tpbmRleF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jbGFtcGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcl0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNsYW1wKG51bWJlciwgbG93ZXIsIHVwcGVyKSB7XG4gICAgICBpZiAobnVtYmVyID09PSBudW1iZXIpIHtcbiAgICAgICAgaWYgKHVwcGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBudW1iZXIgPSBudW1iZXIgPD0gdXBwZXIgPyBudW1iZXIgOiB1cHBlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG93ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG51bWJlciA9IG51bWJlciA+PSBsb3dlciA/IG51bWJlciA6IGxvd2VyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVtYmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNsb25lYCBhbmQgYF8uY2xvbmVEZWVwYCB3aGljaCB0cmFja3NcbiAgICAgKiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAxIC0gRGVlcCBjbG9uZVxuICAgICAqICAyIC0gRmxhdHRlbiBpbmhlcml0ZWQgcHJvcGVydGllc1xuICAgICAqICA0IC0gQ2xvbmUgc3ltYm9sc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtrZXldIFRoZSBrZXkgb2YgYHZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIHBhcmVudCBvYmplY3Qgb2YgYHZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIG9iamVjdHMgYW5kIHRoZWlyIGNsb25lIGNvdW50ZXJwYXJ0cy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDbG9uZSh2YWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCBvYmplY3QsIHN0YWNrKSB7XG4gICAgICB2YXIgcmVzdWx0LFxuICAgICAgICAgIGlzRGVlcCA9IGJpdG1hc2sgJiBDTE9ORV9ERUVQX0ZMQUcsXG4gICAgICAgICAgaXNGbGF0ID0gYml0bWFzayAmIENMT05FX0ZMQVRfRkxBRyxcbiAgICAgICAgICBpc0Z1bGwgPSBiaXRtYXNrICYgQ0xPTkVfU1lNQk9MU19GTEFHO1xuXG4gICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICByZXN1bHQgPSBvYmplY3QgPyBjdXN0b21pemVyKHZhbHVlLCBrZXksIG9iamVjdCwgc3RhY2spIDogY3VzdG9taXplcih2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpO1xuICAgICAgaWYgKGlzQXJyKSB7XG4gICAgICAgIHJlc3VsdCA9IGluaXRDbG9uZUFycmF5KHZhbHVlKTtcbiAgICAgICAgaWYgKCFpc0RlZXApIHtcbiAgICAgICAgICByZXR1cm4gY29weUFycmF5KHZhbHVlLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICAgIGlzRnVuYyA9IHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWc7XG5cbiAgICAgICAgaWYgKGlzQnVmZmVyKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBjbG9uZUJ1ZmZlcih2YWx1ZSwgaXNEZWVwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09IG9iamVjdFRhZyB8fCB0YWcgPT0gYXJnc1RhZyB8fCAoaXNGdW5jICYmICFvYmplY3QpKSB7XG4gICAgICAgICAgcmVzdWx0ID0gKGlzRmxhdCB8fCBpc0Z1bmMpID8ge30gOiBpbml0Q2xvbmVPYmplY3QodmFsdWUpO1xuICAgICAgICAgIGlmICghaXNEZWVwKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNGbGF0XG4gICAgICAgICAgICAgID8gY29weVN5bWJvbHNJbih2YWx1ZSwgYmFzZUFzc2lnbkluKHJlc3VsdCwgdmFsdWUpKVxuICAgICAgICAgICAgICA6IGNvcHlTeW1ib2xzKHZhbHVlLCBiYXNlQXNzaWduKHJlc3VsdCwgdmFsdWUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFjbG9uZWFibGVUYWdzW3RhZ10pIHtcbiAgICAgICAgICAgIHJldHVybiBvYmplY3QgPyB2YWx1ZSA6IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBpbml0Q2xvbmVCeVRhZyh2YWx1ZSwgdGFnLCBpc0RlZXApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBDaGVjayBmb3IgY2lyY3VsYXIgcmVmZXJlbmNlcyBhbmQgcmV0dXJuIGl0cyBjb3JyZXNwb25kaW5nIGNsb25lLlxuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KHZhbHVlKTtcbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkO1xuICAgICAgfVxuICAgICAgc3RhY2suc2V0KHZhbHVlLCByZXN1bHQpO1xuXG4gICAgICBpZiAoaXNTZXQodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oc3ViVmFsdWUpIHtcbiAgICAgICAgICByZXN1bHQuYWRkKGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3ViVmFsdWUsIHZhbHVlLCBzdGFjaykpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNNYXAodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oc3ViVmFsdWUsIGtleSkge1xuICAgICAgICAgIHJlc3VsdC5zZXQoa2V5LCBiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIHZhciBrZXlzRnVuYyA9IGlzRnVsbFxuICAgICAgICA/IChpc0ZsYXQgPyBnZXRBbGxLZXlzSW4gOiBnZXRBbGxLZXlzKVxuICAgICAgICA6IChpc0ZsYXQgPyBrZXlzSW4gOiBrZXlzKTtcblxuICAgICAgdmFyIHByb3BzID0gaXNBcnIgPyB1bmRlZmluZWQgOiBrZXlzRnVuYyh2YWx1ZSk7XG4gICAgICBhcnJheUVhY2gocHJvcHMgfHwgdmFsdWUsIGZ1bmN0aW9uKHN1YlZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKHByb3BzKSB7XG4gICAgICAgICAga2V5ID0gc3ViVmFsdWU7XG4gICAgICAgICAgc3ViVmFsdWUgPSB2YWx1ZVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IHBvcHVsYXRlIGNsb25lIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY29uZm9ybXNgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNvdXJjZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ29uZm9ybXMoc291cmNlKSB7XG4gICAgICB2YXIgcHJvcHMgPSBrZXlzKHNvdXJjZSk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlQ29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSwgcHJvcHMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jb25mb3Jtc1RvYCB3aGljaCBhY2NlcHRzIGBwcm9wc2AgdG8gY2hlY2suXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGNvbmZvcm1zLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIHByb3BzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAhbGVuZ3RoO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGtleSA9IHByb3BzW2xlbmd0aF0sXG4gICAgICAgICAgICBwcmVkaWNhdGUgPSBzb3VyY2Vba2V5XSxcbiAgICAgICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgaWYgKCh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpIHx8ICFwcmVkaWNhdGUodmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5kZWxheWAgYW5kIGBfLmRlZmVyYCB3aGljaCBhY2NlcHRzIGBhcmdzYFxuICAgICAqIHRvIHByb3ZpZGUgdG8gYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBwcm92aWRlIHRvIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfE9iamVjdH0gUmV0dXJucyB0aGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZURlbGF5KGZ1bmMsIHdhaXQsIGFyZ3MpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7IH0sIHdhaXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5kaWZmZXJlbmNlYCB3aXRob3V0IHN1cHBvcnRcbiAgICAgKiBmb3IgZXhjbHVkaW5nIG11bHRpcGxlIGFycmF5cyBvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VEaWZmZXJlbmNlKGFycmF5LCB2YWx1ZXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgaXNDb21tb24gPSB0cnVlLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBbXSxcbiAgICAgICAgICB2YWx1ZXNMZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuXG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhbHVlcyA9IGFycmF5TWFwKHZhbHVlcywgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gICAgICB9XG4gICAgICBpZiAoY29tcGFyYXRvcikge1xuICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXNXaXRoO1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodmFsdWVzLmxlbmd0aCA+PSBMQVJHRV9BUlJBWV9TSVpFKSB7XG4gICAgICAgIGluY2x1ZGVzID0gY2FjaGVIYXM7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIHZhbHVlcyA9IG5ldyBTZXRDYWNoZSh2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID09IG51bGwgPyB2YWx1ZSA6IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKGlzQ29tbW9uICYmIGNvbXB1dGVkID09PSBjb21wdXRlZCkge1xuICAgICAgICAgIHZhciB2YWx1ZXNJbmRleCA9IHZhbHVlc0xlbmd0aDtcbiAgICAgICAgICB3aGlsZSAodmFsdWVzSW5kZXgtLSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlc1t2YWx1ZXNJbmRleF0gPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWluY2x1ZGVzKHZhbHVlcywgY29tcHV0ZWQsIGNvbXBhcmF0b3IpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvckVhY2hgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICovXG4gICAgdmFyIGJhc2VFYWNoID0gY3JlYXRlQmFzZUVhY2goYmFzZUZvck93bik7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JFYWNoUmlnaHRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICovXG4gICAgdmFyIGJhc2VFYWNoUmlnaHQgPSBjcmVhdGVCYXNlRWFjaChiYXNlRm9yT3duUmlnaHQsIHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZXZlcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRXZlcnkoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXN1bHQgPSAhIXByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5tYXhgIGFuZCBgXy5taW5gIHdoaWNoIGFjY2VwdHMgYVxuICAgICAqIGBjb21wYXJhdG9yYCB0byBkZXRlcm1pbmUgdGhlIGV4dHJlbXVtIHZhbHVlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciB1c2VkIHRvIGNvbXBhcmUgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBleHRyZW11bSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRXh0cmVtdW0oYXJyYXksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGN1cnJlbnQgPSBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgaWYgKGN1cnJlbnQgIT0gbnVsbCAmJiAoY29tcHV0ZWQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IChjdXJyZW50ID09PSBjdXJyZW50ICYmICFpc1N5bWJvbChjdXJyZW50KSlcbiAgICAgICAgICAgICAgOiBjb21wYXJhdG9yKGN1cnJlbnQsIGNvbXB1dGVkKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIHZhciBjb21wdXRlZCA9IGN1cnJlbnQsXG4gICAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbGxgIHdpdGhvdXQgYW4gaXRlcmF0ZWUgY2FsbCBndWFyZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZpbGwuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZmlsbCBgYXJyYXlgIHdpdGguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGaWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgc3RhcnQgPSB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuICAgICAgfVxuICAgICAgZW5kID0gKGVuZCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA+IGxlbmd0aCkgPyBsZW5ndGggOiB0b0ludGVnZXIoZW5kKTtcbiAgICAgIGlmIChlbmQgPCAwKSB7XG4gICAgICAgIGVuZCArPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBlbmQgPSBzdGFydCA+IGVuZCA/IDAgOiB0b0xlbmd0aChlbmQpO1xuICAgICAgd2hpbGUgKHN0YXJ0IDwgZW5kKSB7XG4gICAgICAgIGFycmF5W3N0YXJ0KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmlsdGVyYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmlsdGVyKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZsYXR0ZW5gIHdpdGggc3VwcG9ydCBmb3IgcmVzdHJpY3RpbmcgZmxhdHRlbmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlcHRoIFRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcmVkaWNhdGU9aXNGbGF0dGVuYWJsZV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0cmljdF0gUmVzdHJpY3QgdG8gdmFsdWVzIHRoYXQgcGFzcyBgcHJlZGljYXRlYCBjaGVja3MuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Jlc3VsdD1bXV0gVGhlIGluaXRpYWwgcmVzdWx0IHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmxhdHRlbihhcnJheSwgZGVwdGgsIHByZWRpY2F0ZSwgaXNTdHJpY3QsIHJlc3VsdCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBwcmVkaWNhdGUgfHwgKHByZWRpY2F0ZSA9IGlzRmxhdHRlbmFibGUpO1xuICAgICAgcmVzdWx0IHx8IChyZXN1bHQgPSBbXSk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKGRlcHRoID4gMCAmJiBwcmVkaWNhdGUodmFsdWUpKSB7XG4gICAgICAgICAgaWYgKGRlcHRoID4gMSkge1xuICAgICAgICAgICAgLy8gUmVjdXJzaXZlbHkgZmxhdHRlbiBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgICAgIGJhc2VGbGF0dGVuKHZhbHVlLCBkZXB0aCAtIDEsIHByZWRpY2F0ZSwgaXNTdHJpY3QsIHJlc3VsdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFycmF5UHVzaChyZXN1bHQsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzU3RyaWN0KSB7XG4gICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGhdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGJhc2VGb3JPd25gIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYG9iamVjdGBcbiAgICAgKiBwcm9wZXJ0aWVzIHJldHVybmVkIGJ5IGBrZXlzRnVuY2AgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgdmFyIGJhc2VGb3IgPSBjcmVhdGVCYXNlRm9yKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGJhc2VGb3JgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllc1xuICAgICAqIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUZvclJpZ2h0ID0gY3JlYXRlQmFzZUZvcih0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvck93bmAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRm9yT3duKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvcihvYmplY3QsIGl0ZXJhdGVlLCBrZXlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JPd25SaWdodGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRm9yT3duUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yUmlnaHQob2JqZWN0LCBpdGVyYXRlZSwga2V5cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZnVuY3Rpb25zYCB3aGljaCBjcmVhdGVzIGFuIGFycmF5IG9mXG4gICAgICogYG9iamVjdGAgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZmlsdGVyZWQgZnJvbSBgcHJvcHNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgbmFtZXMgdG8gZmlsdGVyLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZ1bmN0aW9ucyhvYmplY3QsIHByb3BzKSB7XG4gICAgICByZXR1cm4gYXJyYXlGaWx0ZXIocHJvcHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICByZXR1cm4gaXNGdW5jdGlvbihvYmplY3Rba2V5XSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5nZXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVmYXVsdCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR2V0KG9iamVjdCwgcGF0aCkge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChvYmplY3QgIT0gbnVsbCAmJiBpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBvYmplY3QgPSBvYmplY3RbdG9LZXkocGF0aFtpbmRleCsrXSldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChpbmRleCAmJiBpbmRleCA9PSBsZW5ndGgpID8gb2JqZWN0IDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRBbGxLZXlzYCBhbmQgYGdldEFsbEtleXNJbmAgd2hpY2ggdXNlc1xuICAgICAqIGBrZXlzRnVuY2AgYW5kIGBzeW1ib2xzRnVuY2AgdG8gZ2V0IHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZFxuICAgICAqIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN5bWJvbHNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNGdW5jLCBzeW1ib2xzRnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IGtleXNGdW5jKG9iamVjdCk7XG4gICAgICByZXR1cm4gaXNBcnJheShvYmplY3QpID8gcmVzdWx0IDogYXJyYXlQdXNoKHJlc3VsdCwgc3ltYm9sc0Z1bmMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gICAgICB9XG4gICAgICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgICAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5ndGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR3QodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPiBvdGhlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5oYXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IGtleSBUaGUga2V5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSGFzKG9iamVjdCwga2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaGFzSW5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IGtleSBUaGUga2V5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSGFzSW4ob2JqZWN0LCBrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBrZXkgaW4gT2JqZWN0KG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW5SYW5nZWAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG51bWJlcmAgaXMgaW4gdGhlIHJhbmdlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUluUmFuZ2UobnVtYmVyLCBzdGFydCwgZW5kKSB7XG4gICAgICByZXR1cm4gbnVtYmVyID49IG5hdGl2ZU1pbihzdGFydCwgZW5kKSAmJiBudW1iZXIgPCBuYXRpdmVNYXgoc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmludGVyc2VjdGlvbmAsIHdpdGhvdXQgc3VwcG9ydFxuICAgICAqIGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB0aGF0IGFjY2VwdHMgYW4gYXJyYXkgb2YgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5cyBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBzaGFyZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJbnRlcnNlY3Rpb24oYXJyYXlzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluY2x1ZGVzID0gY29tcGFyYXRvciA/IGFycmF5SW5jbHVkZXNXaXRoIDogYXJyYXlJbmNsdWRlcyxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheXNbMF0ubGVuZ3RoLFxuICAgICAgICAgIG90aExlbmd0aCA9IGFycmF5cy5sZW5ndGgsXG4gICAgICAgICAgb3RoSW5kZXggPSBvdGhMZW5ndGgsXG4gICAgICAgICAgY2FjaGVzID0gQXJyYXkob3RoTGVuZ3RoKSxcbiAgICAgICAgICBtYXhMZW5ndGggPSBJbmZpbml0eSxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKG90aEluZGV4LS0pIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJyYXlzW290aEluZGV4XTtcbiAgICAgICAgaWYgKG90aEluZGV4ICYmIGl0ZXJhdGVlKSB7XG4gICAgICAgICAgYXJyYXkgPSBhcnJheU1hcChhcnJheSwgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgbWF4TGVuZ3RoID0gbmF0aXZlTWluKGFycmF5Lmxlbmd0aCwgbWF4TGVuZ3RoKTtcbiAgICAgICAgY2FjaGVzW290aEluZGV4XSA9ICFjb21wYXJhdG9yICYmIChpdGVyYXRlZSB8fCAobGVuZ3RoID49IDEyMCAmJiBhcnJheS5sZW5ndGggPj0gMTIwKSlcbiAgICAgICAgICA/IG5ldyBTZXRDYWNoZShvdGhJbmRleCAmJiBhcnJheSlcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGFycmF5ID0gYXJyYXlzWzBdO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBzZWVuID0gY2FjaGVzWzBdO1xuXG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoICYmIHJlc3VsdC5sZW5ndGggPCBtYXhMZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHZhbHVlID0gKGNvbXBhcmF0b3IgfHwgdmFsdWUgIT09IDApID8gdmFsdWUgOiAwO1xuICAgICAgICBpZiAoIShzZWVuXG4gICAgICAgICAgICAgID8gY2FjaGVIYXMoc2VlbiwgY29tcHV0ZWQpXG4gICAgICAgICAgICAgIDogaW5jbHVkZXMocmVzdWx0LCBjb21wdXRlZCwgY29tcGFyYXRvcilcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICBvdGhJbmRleCA9IG90aExlbmd0aDtcbiAgICAgICAgICB3aGlsZSAoLS1vdGhJbmRleCkge1xuICAgICAgICAgICAgdmFyIGNhY2hlID0gY2FjaGVzW290aEluZGV4XTtcbiAgICAgICAgICAgIGlmICghKGNhY2hlXG4gICAgICAgICAgICAgICAgICA/IGNhY2hlSGFzKGNhY2hlLCBjb21wdXRlZClcbiAgICAgICAgICAgICAgICAgIDogaW5jbHVkZXMoYXJyYXlzW290aEluZGV4XSwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNlZW4pIHtcbiAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbnZlcnRgIGFuZCBgXy5pbnZlcnRCeWAgd2hpY2ggaW52ZXJ0c1xuICAgICAqIGBvYmplY3RgIHdpdGggdmFsdWVzIHRyYW5zZm9ybWVkIGJ5IGBpdGVyYXRlZWAgYW5kIHNldCBieSBgc2V0dGVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJbnZlcnRlcihvYmplY3QsIHNldHRlciwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICBiYXNlRm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIHNldHRlcihhY2N1bXVsYXRvciwgaXRlcmF0ZWUodmFsdWUpLCBrZXksIG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbnZva2VgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbFxuICAgICAqIG1ldGhvZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW52b2tlKG9iamVjdCwgcGF0aCwgYXJncykge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICBvYmplY3QgPSBwYXJlbnQob2JqZWN0LCBwYXRoKTtcbiAgICAgIHZhciBmdW5jID0gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBvYmplY3RbdG9LZXkobGFzdChwYXRoKSldO1xuICAgICAgcmV0dXJuIGZ1bmMgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGFwcGx5KGZ1bmMsIG9iamVjdCwgYXJncyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcmd1bWVudHNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzQXJndW1lbnRzKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcmdzVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJyYXlCdWZmZXJgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNBcnJheUJ1ZmZlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJyYXlCdWZmZXJUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNEYXRlYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBkYXRlIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0RhdGUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGRhdGVUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNFcXVhbGAgd2hpY2ggc3VwcG9ydHMgcGFydGlhbCBjb21wYXJpc29uc1xuICAgICAqIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gICAgICogIDEgLSBVbm9yZGVyZWQgY29tcGFyaXNvblxuICAgICAqICAyIC0gUGFydGlhbCBjb21wYXJpc29uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgdmFsdWVgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gICAgICBpZiAodmFsdWUgPT09IG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlID09IG51bGwgfHwgb3RoZXIgPT0gbnVsbCB8fCAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgIWlzT2JqZWN0TGlrZShvdGhlcikpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VJc0VxdWFsRGVlcCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGJhc2VJc0VxdWFsLCBzdGFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbGAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICAgICAqIGRlZXAgY29tcGFyaXNvbnMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAgICAgKiByZWZlcmVuY2VzIHRvIGJlIGNvbXBhcmVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0VxdWFsRGVlcChvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgb2JqSXNBcnIgPSBpc0FycmF5KG9iamVjdCksXG4gICAgICAgICAgb3RoSXNBcnIgPSBpc0FycmF5KG90aGVyKSxcbiAgICAgICAgICBvYmpUYWcgPSBvYmpJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG9iamVjdCksXG4gICAgICAgICAgb3RoVGFnID0gb3RoSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvdGhlcik7XG5cbiAgICAgIG9ialRhZyA9IG9ialRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb2JqVGFnO1xuICAgICAgb3RoVGFnID0gb3RoVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvdGhUYWc7XG5cbiAgICAgIHZhciBvYmpJc09iaiA9IG9ialRhZyA9PSBvYmplY3RUYWcsXG4gICAgICAgICAgb3RoSXNPYmogPSBvdGhUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgICAgIGlzU2FtZVRhZyA9IG9ialRhZyA9PSBvdGhUYWc7XG5cbiAgICAgIGlmIChpc1NhbWVUYWcgJiYgaXNCdWZmZXIob2JqZWN0KSkge1xuICAgICAgICBpZiAoIWlzQnVmZmVyKG90aGVyKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBvYmpJc0FyciA9IHRydWU7XG4gICAgICAgIG9iaklzT2JqID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoaXNTYW1lVGFnICYmICFvYmpJc09iaikge1xuICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICByZXR1cm4gKG9iaklzQXJyIHx8IGlzVHlwZWRBcnJheShvYmplY3QpKVxuICAgICAgICAgID8gZXF1YWxBcnJheXMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaylcbiAgICAgICAgICA6IGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgb2JqVGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgIH1cbiAgICAgIGlmICghKGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRykpIHtcbiAgICAgICAgdmFyIG9iaklzV3JhcHBlZCA9IG9iaklzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCAnX193cmFwcGVkX18nKSxcbiAgICAgICAgICAgIG90aElzV3JhcHBlZCA9IG90aElzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsICdfX3dyYXBwZWRfXycpO1xuXG4gICAgICAgIGlmIChvYmpJc1dyYXBwZWQgfHwgb3RoSXNXcmFwcGVkKSB7XG4gICAgICAgICAgdmFyIG9ialVud3JhcHBlZCA9IG9iaklzV3JhcHBlZCA/IG9iamVjdC52YWx1ZSgpIDogb2JqZWN0LFxuICAgICAgICAgICAgICBvdGhVbndyYXBwZWQgPSBvdGhJc1dyYXBwZWQgPyBvdGhlci52YWx1ZSgpIDogb3RoZXI7XG5cbiAgICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICAgIHJldHVybiBlcXVhbEZ1bmMob2JqVW53cmFwcGVkLCBvdGhVbndyYXBwZWQsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFpc1NhbWVUYWcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHJldHVybiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNNYXBgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG1hcCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc01hcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSBtYXBUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNNYXRjaGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IG1hdGNoRGF0YSBUaGUgcHJvcGVydHkgbmFtZXMsIHZhbHVlcywgYW5kIGNvbXBhcmUgZmxhZ3MgdG8gbWF0Y2guXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGlzIGEgbWF0Y2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhLCBjdXN0b21pemVyKSB7XG4gICAgICB2YXIgaW5kZXggPSBtYXRjaERhdGEubGVuZ3RoLFxuICAgICAgICAgIGxlbmd0aCA9IGluZGV4LFxuICAgICAgICAgIG5vQ3VzdG9taXplciA9ICFjdXN0b21pemVyO1xuXG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICFsZW5ndGg7XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIHZhciBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICAgICAgaWYgKChub0N1c3RvbWl6ZXIgJiYgZGF0YVsyXSlcbiAgICAgICAgICAgICAgPyBkYXRhWzFdICE9PSBvYmplY3RbZGF0YVswXV1cbiAgICAgICAgICAgICAgOiAhKGRhdGFbMF0gaW4gb2JqZWN0KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICAgICAgdmFyIGtleSA9IGRhdGFbMF0sXG4gICAgICAgICAgICBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICAgICAgc3JjVmFsdWUgPSBkYXRhWzFdO1xuXG4gICAgICAgIGlmIChub0N1c3RvbWl6ZXIgJiYgZGF0YVsyXSkge1xuICAgICAgICAgIGlmIChvYmpWYWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHN0YWNrID0gbmV3IFN0YWNrO1xuICAgICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCEocmVzdWx0ID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IGJhc2VJc0VxdWFsKHNyY1ZhbHVlLCBvYmpWYWx1ZSwgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgfCBDT01QQVJFX1VOT1JERVJFRF9GTEFHLCBjdXN0b21pemVyLCBzdGFjaylcbiAgICAgICAgICAgICAgICA6IHJlc3VsdFxuICAgICAgICAgICAgICApKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHBhdHRlcm4gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gICAgICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNSZWdFeHBgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHJlZ2V4cCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc1JlZ0V4cCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gcmVnZXhwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzU2V0YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzZXQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNTZXQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gc2V0VGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJlxuICAgICAgICBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICEhdHlwZWRBcnJheVRhZ3NbYmFzZUdldFRhZyh2YWx1ZSldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLml0ZXJhdGVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBbdmFsdWU9Xy5pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYW4gaXRlcmF0ZWUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBpdGVyYXRlZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXRlcmF0ZWUodmFsdWUpIHtcbiAgICAgIC8vIERvbid0IHN0b3JlIHRoZSBgdHlwZW9mYCByZXN1bHQgaW4gYSB2YXJpYWJsZSB0byBhdm9pZCBhIEpJVCBidWcgaW4gU2FmYXJpIDkuXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE1NjAzNCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBpZGVudGl0eTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpXG4gICAgICAgICAgPyBiYXNlTWF0Y2hlc1Byb3BlcnR5KHZhbHVlWzBdLCB2YWx1ZVsxXSlcbiAgICAgICAgICA6IGJhc2VNYXRjaGVzKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9wZXJ0eSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c2Agd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlS2V5cyhvYmplY3QpIHtcbiAgICAgIGlmICghaXNQcm90b3R5cGUob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBrZXkgIT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c0luYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VLZXlzSW4ob2JqZWN0KSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUtleXNJbihvYmplY3QpO1xuICAgICAgfVxuICAgICAgdmFyIGlzUHJvdG8gPSBpc1Byb3RvdHlwZShvYmplY3QpLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgIGlmICghKGtleSA9PSAnY29uc3RydWN0b3InICYmIChpc1Byb3RvIHx8ICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5sdGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTHQodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPCBvdGhlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXBgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gQXJyYXkoY29sbGVjdGlvbi5sZW5ndGgpIDogW107XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmVzdWx0WysraW5kZXhdID0gaXRlcmF0ZWUodmFsdWUsIGtleSwgY29sbGVjdGlvbik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWF0Y2hlc2Agd2hpY2ggZG9lc24ndCBjbG9uZSBgc291cmNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNYXRjaGVzKHNvdXJjZSkge1xuICAgICAgdmFyIG1hdGNoRGF0YSA9IGdldE1hdGNoRGF0YShzb3VyY2UpO1xuICAgICAgaWYgKG1hdGNoRGF0YS5sZW5ndGggPT0gMSAmJiBtYXRjaERhdGFbMF1bMl0pIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKG1hdGNoRGF0YVswXVswXSwgbWF0Y2hEYXRhWzBdWzFdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdCA9PT0gc291cmNlIHx8IGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBtYXRjaERhdGEpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXRjaGVzUHJvcGVydHlgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNyY1ZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNYXRjaGVzUHJvcGVydHkocGF0aCwgc3JjVmFsdWUpIHtcbiAgICAgIGlmIChpc0tleShwYXRoKSAmJiBpc1N0cmljdENvbXBhcmFibGUoc3JjVmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZSh0b0tleShwYXRoKSwgc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICB2YXIgb2JqVmFsdWUgPSBnZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgICAgcmV0dXJuIChvYmpWYWx1ZSA9PT0gdW5kZWZpbmVkICYmIG9ialZhbHVlID09PSBzcmNWYWx1ZSlcbiAgICAgICAgICA/IGhhc0luKG9iamVjdCwgcGF0aClcbiAgICAgICAgICA6IGJhc2VJc0VxdWFsKHNyY1ZhbHVlLCBvYmpWYWx1ZSwgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgfCBDT01QQVJFX1VOT1JERVJFRF9GTEFHKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWVyZ2VgIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNyY0luZGV4IFRoZSBpbmRleCBvZiBgc291cmNlYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBtZXJnZWQgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gICAgICogIGNvdW50ZXJwYXJ0cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgaWYgKG9iamVjdCA9PT0gc291cmNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJhc2VGb3Ioc291cmNlLCBmdW5jdGlvbihzcmNWYWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChpc09iamVjdChzcmNWYWx1ZSkpIHtcbiAgICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICAgIGJhc2VNZXJnZURlZXAob2JqZWN0LCBzb3VyY2UsIGtleSwgc3JjSW5kZXgsIGJhc2VNZXJnZSwgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgICAgID8gY3VzdG9taXplcihzYWZlR2V0KG9iamVjdCwga2V5KSwgc3JjVmFsdWUsIChrZXkgKyAnJyksIG9iamVjdCwgc291cmNlLCBzdGFjaylcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VNZXJnZWAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICAgICAqIGRlZXAgbWVyZ2VzIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gICAgICogcmVmZXJlbmNlcyB0byBiZSBtZXJnZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gbWVyZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNyY0luZGV4IFRoZSBpbmRleCBvZiBgc291cmNlYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXJnZUZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1lcmdlIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAgICAgKiAgY291bnRlcnBhcnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNZXJnZURlZXAob2JqZWN0LCBzb3VyY2UsIGtleSwgc3JjSW5kZXgsIG1lcmdlRnVuYywgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICAgIHZhciBvYmpWYWx1ZSA9IHNhZmVHZXQob2JqZWN0LCBrZXkpLFxuICAgICAgICAgIHNyY1ZhbHVlID0gc2FmZUdldChzb3VyY2UsIGtleSksXG4gICAgICAgICAgc3RhY2tlZCA9IHN0YWNrLmdldChzcmNWYWx1ZSk7XG5cbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHN0YWNrZWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICAgID8gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUsIChrZXkgKyAnJyksIG9iamVjdCwgc291cmNlLCBzdGFjaylcbiAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHZhciBpc0NvbW1vbiA9IG5ld1ZhbHVlID09PSB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChpc0NvbW1vbikge1xuICAgICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHNyY1ZhbHVlKSxcbiAgICAgICAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiBpc0J1ZmZlcihzcmNWYWx1ZSksXG4gICAgICAgICAgICBpc1R5cGVkID0gIWlzQXJyICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHNyY1ZhbHVlKTtcblxuICAgICAgICBuZXdWYWx1ZSA9IHNyY1ZhbHVlO1xuICAgICAgICBpZiAoaXNBcnIgfHwgaXNCdWZmIHx8IGlzVHlwZWQpIHtcbiAgICAgICAgICBpZiAoaXNBcnJheShvYmpWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjb3B5QXJyYXkob2JqVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc0J1ZmYpIHtcbiAgICAgICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNsb25lQnVmZmVyKHNyY1ZhbHVlLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNUeXBlZCkge1xuICAgICAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY2xvbmVUeXBlZEFycmF5KHNyY1ZhbHVlLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IFtdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHNyY1ZhbHVlKSB8fCBpc0FyZ3VtZW50cyhzcmNWYWx1ZSkpIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgICAgIGlmIChpc0FyZ3VtZW50cyhvYmpWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gdG9QbGFpbk9iamVjdChvYmpWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKCFpc09iamVjdChvYmpWYWx1ZSkgfHwgKHNyY0luZGV4ICYmIGlzRnVuY3Rpb24ob2JqVmFsdWUpKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBpbml0Q2xvbmVPYmplY3Qoc3JjVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNDb21tb24pIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgICBtZXJnZUZ1bmMobmV3VmFsdWUsIHNyY1ZhbHVlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm50aGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbnRoIGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTnRoKGFycmF5LCBuKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbiArPSBuIDwgMCA/IGxlbmd0aCA6IDA7XG4gICAgICByZXR1cm4gaXNJbmRleChuLCBsZW5ndGgpID8gYXJyYXlbbl0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ub3JkZXJCeWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uW118T2JqZWN0W118c3RyaW5nW119IGl0ZXJhdGVlcyBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gb3JkZXJzIFRoZSBzb3J0IG9yZGVycyBvZiBgaXRlcmF0ZWVzYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgaXRlcmF0ZWVzID0gYXJyYXlNYXAoaXRlcmF0ZWVzLmxlbmd0aCA/IGl0ZXJhdGVlcyA6IFtpZGVudGl0eV0sIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG5cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlTWFwKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgdmFyIGNyaXRlcmlhID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICAgIHJldHVybiBpdGVyYXRlZSh2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4geyAnY3JpdGVyaWEnOiBjcml0ZXJpYSwgJ2luZGV4JzogKytpbmRleCwgJ3ZhbHVlJzogdmFsdWUgfTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYmFzZVNvcnRCeShyZXN1bHQsIGZ1bmN0aW9uKG9iamVjdCwgb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmVNdWx0aXBsZShvYmplY3QsIG90aGVyLCBvcmRlcnMpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucGlja2Agd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsXG4gICAgICogcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUGljayhvYmplY3QsIHBhdGhzKSB7XG4gICAgICByZXR1cm4gYmFzZVBpY2tCeShvYmplY3QsIHBhdGhzLCBmdW5jdGlvbih2YWx1ZSwgcGF0aCkge1xuICAgICAgICByZXR1cm4gaGFzSW4ob2JqZWN0LCBwYXRoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mICBgXy5waWNrQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVBpY2tCeShvYmplY3QsIHBhdGhzLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHBhdGggPSBwYXRoc1tpbmRleF0sXG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcblxuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBwYXRoKSkge1xuICAgICAgICAgIGJhc2VTZXQocmVzdWx0LCBjYXN0UGF0aChwYXRoLCBvYmplY3QpLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUHJvcGVydHlgIHdoaWNoIHN1cHBvcnRzIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVByb3BlcnR5RGVlcChwYXRoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnB1bGxBbGxCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgICAqIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleE9mID0gY29tcGFyYXRvciA/IGJhc2VJbmRleE9mV2l0aCA6IGJhc2VJbmRleE9mLFxuICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgICBzZWVuID0gYXJyYXk7XG5cbiAgICAgIGlmIChhcnJheSA9PT0gdmFsdWVzKSB7XG4gICAgICAgIHZhbHVlcyA9IGNvcHlBcnJheSh2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgIHNlZW4gPSBhcnJheU1hcChhcnJheSwgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZnJvbUluZGV4ID0gMCxcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzW2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB3aGlsZSAoKGZyb21JbmRleCA9IGluZGV4T2Yoc2VlbiwgY29tcHV0ZWQsIGZyb21JbmRleCwgY29tcGFyYXRvcikpID4gLTEpIHtcbiAgICAgICAgICBpZiAoc2VlbiAhPT0gYXJyYXkpIHtcbiAgICAgICAgICAgIHNwbGljZS5jYWxsKHNlZW4sIGZyb21JbmRleCwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBmcm9tSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHVsbEF0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBpbmRleGVzIG9yIGNhcHR1cmluZyB0aGUgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBpbmRleGVzIFRoZSBpbmRleGVzIG9mIGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHVsbEF0KGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPyBpbmRleGVzLmxlbmd0aCA6IDAsXG4gICAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGluZGV4ZXNbbGVuZ3RoXTtcbiAgICAgICAgaWYgKGxlbmd0aCA9PSBsYXN0SW5kZXggfHwgaW5kZXggIT09IHByZXZpb3VzKSB7XG4gICAgICAgICAgdmFyIHByZXZpb3VzID0gaW5kZXg7XG4gICAgICAgICAgaWYgKGlzSW5kZXgoaW5kZXgpKSB7XG4gICAgICAgICAgICBzcGxpY2UuY2FsbChhcnJheSwgaW5kZXgsIDEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBiYXNlVW5zZXQoYXJyYXksIGluZGV4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5kb21gIHdpdGhvdXQgc3VwcG9ydCBmb3IgcmV0dXJuaW5nXG4gICAgICogZmxvYXRpbmctcG9pbnQgbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxvd2VyIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJhbmRvbSBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJhbmRvbShsb3dlciwgdXBwZXIpIHtcbiAgICAgIHJldHVybiBsb3dlciArIG5hdGl2ZUZsb29yKG5hdGl2ZVJhbmRvbSgpICogKHVwcGVyIC0gbG93ZXIgKyAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmFuZ2VgIGFuZCBgXy5yYW5nZVJpZ2h0YCB3aGljaCBkb2Vzbid0XG4gICAgICogY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RlcCBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmdlIG9mIG51bWJlcnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXAsIGZyb21SaWdodCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KG5hdGl2ZUNlaWwoKGVuZCAtIHN0YXJ0KSAvIChzdGVwIHx8IDEpKSwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHJlc3VsdFtmcm9tUmlnaHQgPyBsZW5ndGggOiArK2luZGV4XSA9IHN0YXJ0O1xuICAgICAgICBzdGFydCArPSBzdGVwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXBlYXRgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIHJlcGVhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdCB0aGUgc3RyaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJlcGVhdGVkIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmVwZWF0KHN0cmluZywgbikge1xuICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgICAgaWYgKCFzdHJpbmcgfHwgbiA8IDEgfHwgbiA+IE1BWF9TQUZFX0lOVEVHRVIpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIC8vIExldmVyYWdlIHRoZSBleHBvbmVudGlhdGlvbiBieSBzcXVhcmluZyBhbGdvcml0aG0gZm9yIGEgZmFzdGVyIHJlcGVhdC5cbiAgICAgIC8vIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FeHBvbmVudGlhdGlvbl9ieV9zcXVhcmluZyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgZG8ge1xuICAgICAgICBpZiAobiAlIDIpIHtcbiAgICAgICAgICByZXN1bHQgKz0gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICAgIG4gPSBuYXRpdmVGbG9vcihuIC8gMik7XG4gICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgc3RyaW5nICs9IHN0cmluZztcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAobik7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVzdGAgd2hpY2ggZG9lc24ndCB2YWxpZGF0ZSBvciBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmVzdChmdW5jLCBzdGFydCkge1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCBpZGVudGl0eSksIGZ1bmMgKyAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2FtcGxlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2FtcGxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHJldHVybiBhcnJheVNhbXBsZSh2YWx1ZXMoY29sbGVjdGlvbikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNhbXBsZVNpemVgIHdpdGhvdXQgcGFyYW0gZ3VhcmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNhbXBsZVNpemUoY29sbGVjdGlvbiwgbikge1xuICAgICAgdmFyIGFycmF5ID0gdmFsdWVzKGNvbGxlY3Rpb24pO1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKGFycmF5LCBiYXNlQ2xhbXAobiwgMCwgYXJyYXkubGVuZ3RoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2V0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBwYXRoIGNyZWF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH1cbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxLFxuICAgICAgICAgIG5lc3RlZCA9IG9iamVjdDtcblxuICAgICAgd2hpbGUgKG5lc3RlZCAhPSBudWxsICYmICsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKSxcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gdmFsdWU7XG5cbiAgICAgICAgaWYgKGluZGV4ICE9IGxhc3RJbmRleCkge1xuICAgICAgICAgIHZhciBvYmpWYWx1ZSA9IG5lc3RlZFtrZXldO1xuICAgICAgICAgIG5ld1ZhbHVlID0gY3VzdG9taXplciA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIGtleSwgbmVzdGVkKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBpc09iamVjdChvYmpWYWx1ZSlcbiAgICAgICAgICAgICAgPyBvYmpWYWx1ZVxuICAgICAgICAgICAgICA6IChpc0luZGV4KHBhdGhbaW5kZXggKyAxXSkgPyBbXSA6IHt9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXNzaWduVmFsdWUobmVzdGVkLCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgbmVzdGVkID0gbmVzdGVkW2tleV07XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBzZXREYXRhYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NvY2lhdGUgbWV0YWRhdGEgd2l0aC5cbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgVGhlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIGJhc2VTZXREYXRhID0gIW1ldGFNYXAgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIGRhdGEpIHtcbiAgICAgIG1ldGFNYXAuc2V0KGZ1bmMsIGRhdGEpO1xuICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBzZXRUb1N0cmluZ2Agd2l0aG91dCBzdXBwb3J0IGZvciBob3QgbG9vcCBzaG9ydGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZVNldFRvU3RyaW5nID0gIWRlZmluZVByb3BlcnR5ID8gaWRlbnRpdHkgOiBmdW5jdGlvbihmdW5jLCBzdHJpbmcpIHtcbiAgICAgIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCAndG9TdHJpbmcnLCB7XG4gICAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgICAnZW51bWVyYWJsZSc6IGZhbHNlLFxuICAgICAgICAndmFsdWUnOiBjb25zdGFudChzdHJpbmcpLFxuICAgICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2h1ZmZsZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNodWZmbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc2h1ZmZsZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNodWZmbGUoY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKHZhbHVlcyhjb2xsZWN0aW9uKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2xpY2VgIHdpdGhvdXQgYW4gaXRlcmF0ZWUgY2FsbCBndWFyZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogKGxlbmd0aCArIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGVuZCA9IGVuZCA+IGxlbmd0aCA/IGxlbmd0aCA6IGVuZDtcbiAgICAgIGlmIChlbmQgPCAwKSB7XG4gICAgICAgIGVuZCArPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBsZW5ndGggPSBzdGFydCA+IGVuZCA/IDAgOiAoKGVuZCAtIHN0YXJ0KSA+Pj4gMCk7XG4gICAgICBzdGFydCA+Pj49IDA7XG5cbiAgICAgIHZhciByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IGFycmF5W2luZGV4ICsgc3RhcnRdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb21lYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29tZShjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXN1bHQgPSBwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuICFyZXN1bHQ7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAhIXJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRJbmRleGAgYW5kIGBfLnNvcnRlZExhc3RJbmRleGAgd2hpY2hcbiAgICAgKiBwZXJmb3JtcyBhIGJpbmFyeSBzZWFyY2ggb2YgYGFycmF5YCB0byBkZXRlcm1pbmUgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWBcbiAgICAgKiBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmV0SGlnaGVzdF0gU3BlY2lmeSByZXR1cm5pbmcgdGhlIGhpZ2hlc3QgcXVhbGlmaWVkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCByZXRIaWdoZXN0KSB7XG4gICAgICB2YXIgbG93ID0gMCxcbiAgICAgICAgICBoaWdoID0gYXJyYXkgPT0gbnVsbCA/IGxvdyA6IGFycmF5Lmxlbmd0aDtcblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA9PT0gdmFsdWUgJiYgaGlnaCA8PSBIQUxGX01BWF9BUlJBWV9MRU5HVEgpIHtcbiAgICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgICB2YXIgbWlkID0gKGxvdyArIGhpZ2gpID4+PiAxLFxuICAgICAgICAgICAgICBjb21wdXRlZCA9IGFycmF5W21pZF07XG5cbiAgICAgICAgICBpZiAoY29tcHV0ZWQgIT09IG51bGwgJiYgIWlzU3ltYm9sKGNvbXB1dGVkKSAmJlxuICAgICAgICAgICAgICAocmV0SGlnaGVzdCA/IChjb21wdXRlZCA8PSB2YWx1ZSkgOiAoY29tcHV0ZWQgPCB2YWx1ZSkpKSB7XG4gICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoaWdoID0gbWlkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGlnaDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGlkZW50aXR5LCByZXRIaWdoZXN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRJbmRleEJ5YCBhbmQgYF8uc29ydGVkTGFzdEluZGV4QnlgXG4gICAgICogd2hpY2ggaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlXG4gICAgICogdGhlaXIgc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JldEhpZ2hlc3RdIFNwZWNpZnkgcmV0dXJuaW5nIHRoZSBoaWdoZXN0IHF1YWxpZmllZCBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSwgcmV0SGlnaGVzdCkge1xuICAgICAgdmFsdWUgPSBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgIHZhciBsb3cgPSAwLFxuICAgICAgICAgIGhpZ2ggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICB2YWxJc05hTiA9IHZhbHVlICE9PSB2YWx1ZSxcbiAgICAgICAgICB2YWxJc051bGwgPSB2YWx1ZSA9PT0gbnVsbCxcbiAgICAgICAgICB2YWxJc1N5bWJvbCA9IGlzU3ltYm9sKHZhbHVlKSxcbiAgICAgICAgICB2YWxJc1VuZGVmaW5lZCA9IHZhbHVlID09PSB1bmRlZmluZWQ7XG5cbiAgICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICAgIHZhciBtaWQgPSBuYXRpdmVGbG9vcigobG93ICsgaGlnaCkgLyAyKSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUoYXJyYXlbbWlkXSksXG4gICAgICAgICAgICBvdGhJc0RlZmluZWQgPSBjb21wdXRlZCAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgb3RoSXNOdWxsID0gY29tcHV0ZWQgPT09IG51bGwsXG4gICAgICAgICAgICBvdGhJc1JlZmxleGl2ZSA9IGNvbXB1dGVkID09PSBjb21wdXRlZCxcbiAgICAgICAgICAgIG90aElzU3ltYm9sID0gaXNTeW1ib2woY29tcHV0ZWQpO1xuXG4gICAgICAgIGlmICh2YWxJc05hTikge1xuICAgICAgICAgIHZhciBzZXRMb3cgPSByZXRIaWdoZXN0IHx8IG90aElzUmVmbGV4aXZlO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzVW5kZWZpbmVkKSB7XG4gICAgICAgICAgc2V0TG93ID0gb3RoSXNSZWZsZXhpdmUgJiYgKHJldEhpZ2hlc3QgfHwgb3RoSXNEZWZpbmVkKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc051bGwpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiBvdGhJc0RlZmluZWQgJiYgKHJldEhpZ2hlc3QgfHwgIW90aElzTnVsbCk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNTeW1ib2wpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiBvdGhJc0RlZmluZWQgJiYgIW90aElzTnVsbCAmJiAocmV0SGlnaGVzdCB8fCAhb3RoSXNTeW1ib2wpO1xuICAgICAgICB9IGVsc2UgaWYgKG90aElzTnVsbCB8fCBvdGhJc1N5bWJvbCkge1xuICAgICAgICAgIHNldExvdyA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldExvdyA9IHJldEhpZ2hlc3QgPyAoY29tcHV0ZWQgPD0gdmFsdWUpIDogKGNvbXB1dGVkIDwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZXRMb3cpIHtcbiAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVNaW4oaGlnaCwgTUFYX0FSUkFZX0lOREVYKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRVbmlxYCBhbmQgYF8uc29ydGVkVW5pcUJ5YCB3aXRob3V0XG4gICAgICogc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkVW5pcShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICBpZiAoIWluZGV4IHx8ICFlcShjb21wdXRlZCwgc2VlbikpIHtcbiAgICAgICAgICB2YXIgc2VlbiA9IGNvbXB1dGVkO1xuICAgICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlID09PSAwID8gMCA6IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvTnVtYmVyYCB3aGljaCBkb2Vzbid0IGVuc3VyZSBjb3JyZWN0XG4gICAgICogY29udmVyc2lvbnMgb2YgYmluYXJ5LCBoZXhhZGVjaW1hbCwgb3Igb2N0YWwgc3RyaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVRvTnVtYmVyKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIE5BTjtcbiAgICAgIH1cbiAgICAgIHJldHVybiArdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9TdHJpbmdgIHdoaWNoIGRvZXNuJ3QgY29udmVydCBudWxsaXNoXG4gICAgICogdmFsdWVzIHRvIGVtcHR5IHN0cmluZ3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VUb1N0cmluZyh2YWx1ZSkge1xuICAgICAgLy8gRXhpdCBlYXJseSBmb3Igc3RyaW5ncyB0byBhdm9pZCBhIHBlcmZvcm1hbmNlIGhpdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbnZlcnQgdmFsdWVzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHJldHVybiBhcnJheU1hcCh2YWx1ZSwgYmFzZVRvU3RyaW5nKSArICcnO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gc3ltYm9sVG9TdHJpbmcgPyBzeW1ib2xUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgICAgIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmlxQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVW5pcShhcnJheSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlcyxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgaXNDb21tb24gPSB0cnVlLFxuICAgICAgICAgIHJlc3VsdCA9IFtdLFxuICAgICAgICAgIHNlZW4gPSByZXN1bHQ7XG5cbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlc1dpdGg7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChsZW5ndGggPj0gTEFSR0VfQVJSQVlfU0laRSkge1xuICAgICAgICB2YXIgc2V0ID0gaXRlcmF0ZWUgPyBudWxsIDogY3JlYXRlU2V0KGFycmF5KTtcbiAgICAgICAgaWYgKHNldCkge1xuICAgICAgICAgIHJldHVybiBzZXRUb0FycmF5KHNldCk7XG4gICAgICAgIH1cbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgaW5jbHVkZXMgPSBjYWNoZUhhcztcbiAgICAgICAgc2VlbiA9IG5ldyBTZXRDYWNoZTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzZWVuID0gaXRlcmF0ZWUgPyBbXSA6IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHZhbHVlID0gKGNvbXBhcmF0b3IgfHwgdmFsdWUgIT09IDApID8gdmFsdWUgOiAwO1xuICAgICAgICBpZiAoaXNDb21tb24gJiYgY29tcHV0ZWQgPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgdmFyIHNlZW5JbmRleCA9IHNlZW4ubGVuZ3RoO1xuICAgICAgICAgIHdoaWxlIChzZWVuSW5kZXgtLSkge1xuICAgICAgICAgICAgaWYgKHNlZW5bc2VlbkluZGV4XSA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpdGVyYXRlZSkge1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpbmNsdWRlcyhzZWVuLCBjb21wdXRlZCwgY29tcGFyYXRvcikpIHtcbiAgICAgICAgICBpZiAoc2VlbiAhPT0gcmVzdWx0KSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5zZXRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwcm9wZXJ0eSBwYXRoIHRvIHVuc2V0LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcHJvcGVydHkgaXMgZGVsZXRlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVbnNldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgb2JqZWN0ID0gcGFyZW50KG9iamVjdCwgcGF0aCk7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgfHwgZGVsZXRlIG9iamVjdFt0b0tleShsYXN0KHBhdGgpKV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udXBkYXRlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgcGF0aCBjcmVhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCB1cGRhdGVyLCBjdXN0b21pemVyKSB7XG4gICAgICByZXR1cm4gYmFzZVNldChvYmplY3QsIHBhdGgsIHVwZGF0ZXIoYmFzZUdldChvYmplY3QsIHBhdGgpKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmRyb3BXaGlsZWAgYW5kIGBfLnRha2VXaGlsZWBcbiAgICAgKiB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0Ryb3BdIFNwZWNpZnkgZHJvcHBpbmcgZWxlbWVudHMgaW5zdGVhZCBvZiB0YWtpbmcgdGhlbS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVdoaWxlKGFycmF5LCBwcmVkaWNhdGUsIGlzRHJvcCwgZnJvbVJpZ2h0KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGluZGV4ID0gZnJvbVJpZ2h0ID8gbGVuZ3RoIDogLTE7XG5cbiAgICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpICYmXG4gICAgICAgIHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHt9XG5cbiAgICAgIHJldHVybiBpc0Ryb3BcbiAgICAgICAgPyBiYXNlU2xpY2UoYXJyYXksIChmcm9tUmlnaHQgPyAwIDogaW5kZXgpLCAoZnJvbVJpZ2h0ID8gaW5kZXggKyAxIDogbGVuZ3RoKSlcbiAgICAgICAgOiBiYXNlU2xpY2UoYXJyYXksIChmcm9tUmlnaHQgPyBpbmRleCArIDEgOiAwKSwgKGZyb21SaWdodCA/IGxlbmd0aCA6IGluZGV4KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHdyYXBwZXJWYWx1ZWAgd2hpY2ggcmV0dXJucyB0aGUgcmVzdWx0IG9mXG4gICAgICogcGVyZm9ybWluZyBhIHNlcXVlbmNlIG9mIGFjdGlvbnMgb24gdGhlIHVud3JhcHBlZCBgdmFsdWVgLCB3aGVyZSBlYWNoXG4gICAgICogc3VjY2Vzc2l2ZSBhY3Rpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhY3Rpb25zIEFjdGlvbnMgdG8gcGVyZm9ybSB0byByZXNvbHZlIHRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VXcmFwcGVyVmFsdWUodmFsdWUsIGFjdGlvbnMpIHtcbiAgICAgIHZhciByZXN1bHQgPSB2YWx1ZTtcbiAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQudmFsdWUoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheVJlZHVjZShhY3Rpb25zLCBmdW5jdGlvbihyZXN1bHQsIGFjdGlvbikge1xuICAgICAgICByZXR1cm4gYWN0aW9uLmZ1bmMuYXBwbHkoYWN0aW9uLnRoaXNBcmcsIGFycmF5UHVzaChbcmVzdWx0XSwgYWN0aW9uLmFyZ3MpKTtcbiAgICAgIH0sIHJlc3VsdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLnhvcmAsIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLCB0aGF0IGFjY2VwdHMgYW4gYXJyYXkgb2YgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5cyBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVhvcihhcnJheXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXlzLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlVW5pcShhcnJheXNbMF0pIDogW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbaW5kZXhdLFxuICAgICAgICAgICAgb3RoSW5kZXggPSAtMTtcblxuICAgICAgICB3aGlsZSAoKytvdGhJbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGlmIChvdGhJbmRleCAhPSBpbmRleCkge1xuICAgICAgICAgICAgcmVzdWx0W2luZGV4XSA9IGJhc2VEaWZmZXJlbmNlKHJlc3VsdFtpbmRleF0gfHwgYXJyYXksIGFycmF5c1tvdGhJbmRleF0sIGl0ZXJhdGVlLCBjb21wYXJhdG9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihyZXN1bHQsIDEpLCBpdGVyYXRlZSwgY29tcGFyYXRvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnppcE9iamVjdGAgd2hpY2ggYXNzaWducyB2YWx1ZXMgdXNpbmcgYGFzc2lnbkZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXNzaWduRnVuYyBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VaaXBPYmplY3QocHJvcHMsIHZhbHVlcywgYXNzaWduRnVuYykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoLFxuICAgICAgICAgIHZhbHNMZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBpbmRleCA8IHZhbHNMZW5ndGggPyB2YWx1ZXNbaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgICBhc3NpZ25GdW5jKHJlc3VsdCwgcHJvcHNbaW5kZXhdLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYW4gZW1wdHkgYXJyYXkgaWYgaXQncyBub3QgYW4gYXJyYXkgbGlrZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyB0aGUgY2FzdCBhcnJheS1saWtlIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0QXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpID8gdmFsdWUgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGBpZGVudGl0eWAgaWYgaXQncyBub3QgYSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgY2FzdCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0RnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlIDogaWRlbnRpdHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBhIHBhdGggYXJyYXkgaWYgaXQncyBub3Qgb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdFBhdGgodmFsdWUsIG9iamVjdCkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0tleSh2YWx1ZSwgb2JqZWN0KSA/IFt2YWx1ZV0gOiBzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIGBiYXNlUmVzdGAgYWxpYXMgd2hpY2ggY2FuIGJlIHJlcGxhY2VkIHdpdGggYGlkZW50aXR5YCBieSBtb2R1bGVcbiAgICAgKiByZXBsYWNlbWVudCBwbHVnaW5zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICB2YXIgY2FzdFJlc3QgPSBiYXNlUmVzdDtcblxuICAgIC8qKlxuICAgICAqIENhc3RzIGBhcnJheWAgdG8gYSBzbGljZSBpZiBpdCdzIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IHNsaWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RTbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogZW5kO1xuICAgICAgcmV0dXJuICghc3RhcnQgJiYgZW5kID49IGxlbmd0aCkgPyBhcnJheSA6IGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzaW1wbGUgd3JhcHBlciBhcm91bmQgdGhlIGdsb2JhbCBbYGNsZWFyVGltZW91dGBdKGh0dHBzOi8vbWRuLmlvL2NsZWFyVGltZW91dCkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfE9iamVjdH0gaWQgVGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0IG9mIHRoZSB0aW1lciB0byBjbGVhci5cbiAgICAgKi9cbiAgICB2YXIgY2xlYXJUaW1lb3V0ID0gY3R4Q2xlYXJUaW1lb3V0IHx8IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gcm9vdC5jbGVhclRpbWVvdXQoaWQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgIGBidWZmZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0J1ZmZlcn0gYnVmZmVyIFRoZSBidWZmZXIgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYnVmZmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lQnVmZmVyKGJ1ZmZlciwgaXNEZWVwKSB7XG4gICAgICBpZiAoaXNEZWVwKSB7XG4gICAgICAgIHJldHVybiBidWZmZXIuc2xpY2UoKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBidWZmZXIubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGFsbG9jVW5zYWZlID8gYWxsb2NVbnNhZmUobGVuZ3RoKSA6IG5ldyBidWZmZXIuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICAgICAgYnVmZmVyLmNvcHkocmVzdWx0KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGBhcnJheUJ1ZmZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIFRoZSBhcnJheSBidWZmZXIgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge0FycmF5QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYXJyYXkgYnVmZmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lQXJyYXlCdWZmZXIoYXJyYXlCdWZmZXIpIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgYXJyYXlCdWZmZXIuY29uc3RydWN0b3IoYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCk7XG4gICAgICBuZXcgVWludDhBcnJheShyZXN1bHQpLnNldChuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGRhdGFWaWV3YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFWaWV3IFRoZSBkYXRhIHZpZXcgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgZGF0YSB2aWV3LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGF0YVZpZXcoZGF0YVZpZXcsIGlzRGVlcCkge1xuICAgICAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIoZGF0YVZpZXcuYnVmZmVyKSA6IGRhdGFWaWV3LmJ1ZmZlcjtcbiAgICAgIHJldHVybiBuZXcgZGF0YVZpZXcuY29uc3RydWN0b3IoYnVmZmVyLCBkYXRhVmlldy5ieXRlT2Zmc2V0LCBkYXRhVmlldy5ieXRlTGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHJlZ2V4cGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZWdleHAgVGhlIHJlZ2V4cCB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgcmVnZXhwLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lUmVnRXhwKHJlZ2V4cCkge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyByZWdleHAuY29uc3RydWN0b3IocmVnZXhwLnNvdXJjZSwgcmVGbGFncy5leGVjKHJlZ2V4cCkpO1xuICAgICAgcmVzdWx0Lmxhc3RJbmRleCA9IHJlZ2V4cC5sYXN0SW5kZXg7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgYHN5bWJvbGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3ltYm9sIFRoZSBzeW1ib2wgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBzeW1ib2wgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lU3ltYm9sKHN5bWJvbCkge1xuICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YgPyBPYmplY3Qoc3ltYm9sVmFsdWVPZi5jYWxsKHN5bWJvbCkpIDoge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGB0eXBlZEFycmF5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHR5cGVkQXJyYXkgVGhlIHR5cGVkIGFycmF5IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHR5cGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lVHlwZWRBcnJheSh0eXBlZEFycmF5LCBpc0RlZXApIHtcbiAgICAgIHZhciBidWZmZXIgPSBpc0RlZXAgPyBjbG9uZUFycmF5QnVmZmVyKHR5cGVkQXJyYXkuYnVmZmVyKSA6IHR5cGVkQXJyYXkuYnVmZmVyO1xuICAgICAgcmV0dXJuIG5ldyB0eXBlZEFycmF5LmNvbnN0cnVjdG9yKGJ1ZmZlciwgdHlwZWRBcnJheS5ieXRlT2Zmc2V0LCB0eXBlZEFycmF5Lmxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcGFyZXMgdmFsdWVzIHRvIHNvcnQgdGhlbSBpbiBhc2NlbmRpbmcgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzb3J0IG9yZGVyIGluZGljYXRvciBmb3IgYHZhbHVlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYXJlQXNjZW5kaW5nKHZhbHVlLCBvdGhlcikge1xuICAgICAgaWYgKHZhbHVlICE9PSBvdGhlcikge1xuICAgICAgICB2YXIgdmFsSXNEZWZpbmVkID0gdmFsdWUgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHZhbElzTnVsbCA9IHZhbHVlID09PSBudWxsLFxuICAgICAgICAgICAgdmFsSXNSZWZsZXhpdmUgPSB2YWx1ZSA9PT0gdmFsdWUsXG4gICAgICAgICAgICB2YWxJc1N5bWJvbCA9IGlzU3ltYm9sKHZhbHVlKTtcblxuICAgICAgICB2YXIgb3RoSXNEZWZpbmVkID0gb3RoZXIgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG90aElzTnVsbCA9IG90aGVyID09PSBudWxsLFxuICAgICAgICAgICAgb3RoSXNSZWZsZXhpdmUgPSBvdGhlciA9PT0gb3RoZXIsXG4gICAgICAgICAgICBvdGhJc1N5bWJvbCA9IGlzU3ltYm9sKG90aGVyKTtcblxuICAgICAgICBpZiAoKCFvdGhJc051bGwgJiYgIW90aElzU3ltYm9sICYmICF2YWxJc1N5bWJvbCAmJiB2YWx1ZSA+IG90aGVyKSB8fFxuICAgICAgICAgICAgKHZhbElzU3ltYm9sICYmIG90aElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSAmJiAhb3RoSXNOdWxsICYmICFvdGhJc1N5bWJvbCkgfHxcbiAgICAgICAgICAgICh2YWxJc051bGwgJiYgb3RoSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgKCF2YWxJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAhdmFsSXNSZWZsZXhpdmUpIHtcbiAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKCF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sICYmICFvdGhJc1N5bWJvbCAmJiB2YWx1ZSA8IG90aGVyKSB8fFxuICAgICAgICAgICAgKG90aElzU3ltYm9sICYmIHZhbElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSAmJiAhdmFsSXNOdWxsICYmICF2YWxJc1N5bWJvbCkgfHxcbiAgICAgICAgICAgIChvdGhJc051bGwgJiYgdmFsSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgKCFvdGhJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAhb3RoSXNSZWZsZXhpdmUpIHtcbiAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8ub3JkZXJCeWAgdG8gY29tcGFyZSBtdWx0aXBsZSBwcm9wZXJ0aWVzIG9mIGEgdmFsdWUgdG8gYW5vdGhlclxuICAgICAqIGFuZCBzdGFibGUgc29ydCB0aGVtLlxuICAgICAqXG4gICAgICogSWYgYG9yZGVyc2AgaXMgdW5zcGVjaWZpZWQsIGFsbCB2YWx1ZXMgYXJlIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIuIE90aGVyd2lzZSxcbiAgICAgKiBzcGVjaWZ5IGFuIG9yZGVyIG9mIFwiZGVzY1wiIGZvciBkZXNjZW5kaW5nIG9yIFwiYXNjXCIgZm9yIGFzY2VuZGluZyBzb3J0IG9yZGVyXG4gICAgICogb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtib29sZWFuW118c3RyaW5nW119IG9yZGVycyBUaGUgb3JkZXIgdG8gc29ydCBieSBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzb3J0IG9yZGVyIGluZGljYXRvciBmb3IgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFyZU11bHRpcGxlKG9iamVjdCwgb3RoZXIsIG9yZGVycykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgb2JqQ3JpdGVyaWEgPSBvYmplY3QuY3JpdGVyaWEsXG4gICAgICAgICAgb3RoQ3JpdGVyaWEgPSBvdGhlci5jcml0ZXJpYSxcbiAgICAgICAgICBsZW5ndGggPSBvYmpDcml0ZXJpYS5sZW5ndGgsXG4gICAgICAgICAgb3JkZXJzTGVuZ3RoID0gb3JkZXJzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNvbXBhcmVBc2NlbmRpbmcob2JqQ3JpdGVyaWFbaW5kZXhdLCBvdGhDcml0ZXJpYVtpbmRleF0pO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgaWYgKGluZGV4ID49IG9yZGVyc0xlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIG9yZGVyID0gb3JkZXJzW2luZGV4XTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0ICogKG9yZGVyID09ICdkZXNjJyA/IC0xIDogMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIEZpeGVzIGFuIGBBcnJheSNzb3J0YCBidWcgaW4gdGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBhcHBsaWNhdGlvbnNcbiAgICAgIC8vIHRoYXQgY2F1c2VzIGl0LCB1bmRlciBjZXJ0YWluIGNpcmN1bXN0YW5jZXMsIHRvIHByb3ZpZGUgdGhlIHNhbWUgdmFsdWUgZm9yXG4gICAgICAvLyBgb2JqZWN0YCBhbmQgYG90aGVyYC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qYXNoa2VuYXMvdW5kZXJzY29yZS9wdWxsLzEyNDdcbiAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAvL1xuICAgICAgLy8gVGhpcyBhbHNvIGVuc3VyZXMgYSBzdGFibGUgc29ydCBpbiBWOCBhbmQgb3RoZXIgZW5naW5lcy5cbiAgICAgIC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD05MCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgcmV0dXJuIG9iamVjdC5pbmRleCAtIG90aGVyLmluZGV4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgdGhhdCBpcyB0aGUgY29tcG9zaXRpb24gb2YgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLFxuICAgICAqIHBsYWNlaG9sZGVycywgYW5kIHByb3ZpZGVkIGFyZ3VtZW50cyBpbnRvIGEgc2luZ2xlIGFycmF5IG9mIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBob2xkZXJzIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtcyB7Ym9vbGVhbn0gW2lzQ3VycmllZF0gU3BlY2lmeSBjb21wb3NpbmcgZm9yIGEgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21wb3NlZCBhcmd1bWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcG9zZUFyZ3MoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCkge1xuICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aCxcbiAgICAgICAgICBob2xkZXJzTGVuZ3RoID0gaG9sZGVycy5sZW5ndGgsXG4gICAgICAgICAgbGVmdEluZGV4ID0gLTEsXG4gICAgICAgICAgbGVmdExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICByYW5nZUxlbmd0aCA9IG5hdGl2ZU1heChhcmdzTGVuZ3RoIC0gaG9sZGVyc0xlbmd0aCwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVmdExlbmd0aCArIHJhbmdlTGVuZ3RoKSxcbiAgICAgICAgICBpc1VuY3VycmllZCA9ICFpc0N1cnJpZWQ7XG5cbiAgICAgIHdoaWxlICgrK2xlZnRJbmRleCA8IGxlZnRMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2xlZnRJbmRleF0gPSBwYXJ0aWFsc1tsZWZ0SW5kZXhdO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsrYXJnc0luZGV4IDwgaG9sZGVyc0xlbmd0aCkge1xuICAgICAgICBpZiAoaXNVbmN1cnJpZWQgfHwgYXJnc0luZGV4IDwgYXJnc0xlbmd0aCkge1xuICAgICAgICAgIHJlc3VsdFtob2xkZXJzW2FyZ3NJbmRleF1dID0gYXJnc1thcmdzSW5kZXhdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAocmFuZ2VMZW5ndGgtLSkge1xuICAgICAgICByZXN1bHRbbGVmdEluZGV4KytdID0gYXJnc1thcmdzSW5kZXgrK107XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgY29tcG9zZUFyZ3NgIGV4Y2VwdCB0aGF0IHRoZSBhcmd1bWVudHMgY29tcG9zaXRpb25cbiAgICAgKiBpcyB0YWlsb3JlZCBmb3IgYF8ucGFydGlhbFJpZ2h0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gYXBwZW5kIHRvIHRob3NlIHByb3ZpZGVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGhvbGRlcnMgVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW1zIHtib29sZWFufSBbaXNDdXJyaWVkXSBTcGVjaWZ5IGNvbXBvc2luZyBmb3IgYSBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbXBvc2VkIGFyZ3VtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wb3NlQXJnc1JpZ2h0KGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzLCBpc0N1cnJpZWQpIHtcbiAgICAgIHZhciBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJncy5sZW5ndGgsXG4gICAgICAgICAgaG9sZGVyc0luZGV4ID0gLTEsXG4gICAgICAgICAgaG9sZGVyc0xlbmd0aCA9IGhvbGRlcnMubGVuZ3RoLFxuICAgICAgICAgIHJpZ2h0SW5kZXggPSAtMSxcbiAgICAgICAgICByaWdodExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICByYW5nZUxlbmd0aCA9IG5hdGl2ZU1heChhcmdzTGVuZ3RoIC0gaG9sZGVyc0xlbmd0aCwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkocmFuZ2VMZW5ndGggKyByaWdodExlbmd0aCksXG4gICAgICAgICAgaXNVbmN1cnJpZWQgPSAhaXNDdXJyaWVkO1xuXG4gICAgICB3aGlsZSAoKythcmdzSW5kZXggPCByYW5nZUxlbmd0aCkge1xuICAgICAgICByZXN1bHRbYXJnc0luZGV4XSA9IGFyZ3NbYXJnc0luZGV4XTtcbiAgICAgIH1cbiAgICAgIHZhciBvZmZzZXQgPSBhcmdzSW5kZXg7XG4gICAgICB3aGlsZSAoKytyaWdodEluZGV4IDwgcmlnaHRMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W29mZnNldCArIHJpZ2h0SW5kZXhdID0gcGFydGlhbHNbcmlnaHRJbmRleF07XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytob2xkZXJzSW5kZXggPCBob2xkZXJzTGVuZ3RoKSB7XG4gICAgICAgIGlmIChpc1VuY3VycmllZCB8fCBhcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG4gICAgICAgICAgcmVzdWx0W29mZnNldCArIGhvbGRlcnNbaG9sZGVyc0luZGV4XV0gPSBhcmdzW2FyZ3NJbmRleCsrXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgdGhlIHZhbHVlcyBvZiBgc291cmNlYCB0byBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIGZyb20uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5PVtdXSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgdG8uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weUFycmF5KHNvdXJjZSwgYXJyYXkpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG5cbiAgICAgIGFycmF5IHx8IChhcnJheSA9IEFycmF5KGxlbmd0aCkpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gc291cmNlW2luZGV4XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgcHJvcGVydGllcyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycyB0byBjb3B5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0by5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb3BpZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weU9iamVjdChzb3VyY2UsIHByb3BzLCBvYmplY3QsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBpc05ldyA9ICFvYmplY3Q7XG4gICAgICBvYmplY3QgfHwgKG9iamVjdCA9IHt9KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuXG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgICA/IGN1c3RvbWl6ZXIob2JqZWN0W2tleV0sIHNvdXJjZVtrZXldLCBrZXksIG9iamVjdCwgc291cmNlKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOZXcpIHtcbiAgICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBvd24gc3ltYm9scyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyBmcm9tLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyB0by5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlTeW1ib2xzKHNvdXJjZSwgb2JqZWN0KSB7XG4gICAgICByZXR1cm4gY29weU9iamVjdChzb3VyY2UsIGdldFN5bWJvbHMoc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgb3duIGFuZCBpbmhlcml0ZWQgc3ltYm9scyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyBmcm9tLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyB0by5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlTeW1ib2xzSW4oc291cmNlLCBvYmplY3QpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHNvdXJjZSwgZ2V0U3ltYm9sc0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uZ3JvdXBCeWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGFjY3VtdWxhdG9yIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaW5pdGlhbGl6ZXJdIFRoZSBhY2N1bXVsYXRvciBvYmplY3QgaW5pdGlhbGl6ZXIuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWdncmVnYXRvciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVBZ2dyZWdhdG9yKHNldHRlciwgaW5pdGlhbGl6ZXIpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUFnZ3JlZ2F0b3IgOiBiYXNlQWdncmVnYXRvcixcbiAgICAgICAgICAgIGFjY3VtdWxhdG9yID0gaW5pdGlhbGl6ZXIgPyBpbml0aWFsaXplcigpIDoge307XG5cbiAgICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgc2V0dGVyLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGFjY3VtdWxhdG9yKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uYXNzaWduYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXNzaWduZXIgVGhlIGZ1bmN0aW9uIHRvIGFzc2lnbiB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYXNzaWduZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQXNzaWduZXIoYXNzaWduZXIpIHtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aCxcbiAgICAgICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPiAxID8gc291cmNlc1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGd1YXJkID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbMl0gOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgY3VzdG9taXplciA9IChhc3NpZ25lci5sZW5ndGggPiAzICYmIHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicpXG4gICAgICAgICAgPyAobGVuZ3RoLS0sIGN1c3RvbWl6ZXIpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuICAgICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPCAzID8gdW5kZWZpbmVkIDogY3VzdG9taXplcjtcbiAgICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBhc3NpZ25lcihvYmplY3QsIHNvdXJjZSwgaW5kZXgsIGN1c3RvbWl6ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBiYXNlRWFjaGAgb3IgYGJhc2VFYWNoUmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGEgY29sbGVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJhc2VFYWNoKGVhY2hGdW5jLCBmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHJldHVybiBlYWNoRnVuYyhjb2xsZWN0aW9uLCBpdGVyYXRlZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoLFxuICAgICAgICAgICAgaW5kZXggPSBmcm9tUmlnaHQgPyBsZW5ndGggOiAtMSxcbiAgICAgICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KGNvbGxlY3Rpb24pO1xuXG4gICAgICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpKSB7XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2luZGV4XSwgaW5kZXgsIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGJhc2UgZnVuY3Rpb24gZm9yIG1ldGhvZHMgbGlrZSBgXy5mb3JJbmAgYW5kIGBfLmZvck93bmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmFzZUZvcihmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlLCBrZXlzRnVuYykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KG9iamVjdCksXG4gICAgICAgICAgICBwcm9wcyA9IGtleXNGdW5jKG9iamVjdCksXG4gICAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHByb3BzW2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdO1xuICAgICAgICAgIGlmIChpdGVyYXRlZShpdGVyYWJsZVtrZXldLCBrZXksIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggdGhlIG9wdGlvbmFsIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgYHRoaXNBcmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJpbmQoZnVuYywgYml0bWFzaywgdGhpc0FyZykge1xuICAgICAgdmFyIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ubG93ZXJGaXJzdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIFRoZSBuYW1lIG9mIHRoZSBgU3RyaW5nYCBjYXNlIG1ldGhvZCB0byB1c2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDYXNlRmlyc3QobWV0aG9kTmFtZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuXG4gICAgICAgIHZhciBzdHJTeW1ib2xzID0gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICAgICAgPyBzdHJpbmdUb0FycmF5KHN0cmluZylcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICB2YXIgY2hyID0gc3RyU3ltYm9sc1xuICAgICAgICAgID8gc3RyU3ltYm9sc1swXVxuICAgICAgICAgIDogc3RyaW5nLmNoYXJBdCgwKTtcblxuICAgICAgICB2YXIgdHJhaWxpbmcgPSBzdHJTeW1ib2xzXG4gICAgICAgICAgPyBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMSkuam9pbignJylcbiAgICAgICAgICA6IHN0cmluZy5zbGljZSgxKTtcblxuICAgICAgICByZXR1cm4gY2hyW21ldGhvZE5hbWVdKCkgKyB0cmFpbGluZztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uY2FtZWxDYXNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmUgZWFjaCB3b3JkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvdW5kZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ29tcG91bmRlcihjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICByZXR1cm4gYXJyYXlSZWR1Y2Uod29yZHMoZGVidXJyKHN0cmluZykucmVwbGFjZShyZUFwb3MsICcnKSksIGNhbGxiYWNrLCAnJyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHByb2R1Y2VzIGFuIGluc3RhbmNlIG9mIGBDdG9yYCByZWdhcmRsZXNzIG9mXG4gICAgICogd2hldGhlciBpdCB3YXMgaW52b2tlZCBhcyBwYXJ0IG9mIGEgYG5ld2AgZXhwcmVzc2lvbiBvciBieSBgY2FsbGAgb3IgYGFwcGx5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gQ3RvciBUaGUgY29uc3RydWN0b3IgdG8gd3JhcC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUN0b3IoQ3Rvcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBVc2UgYSBgc3dpdGNoYCBzdGF0ZW1lbnQgdG8gd29yayB3aXRoIGNsYXNzIGNvbnN0cnVjdG9ycy4gU2VlXG4gICAgICAgIC8vIGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtZnVuY3Rpb24tb2JqZWN0cy1jYWxsLXRoaXNhcmd1bWVudC1hcmd1bWVudHNsaXN0XG4gICAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEN0b3I7XG4gICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSk7XG4gICAgICAgICAgY2FzZSAyOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgY2FzZSAzOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgY2FzZSA0OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gICAgICAgICAgY2FzZSA1OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSk7XG4gICAgICAgICAgY2FzZSA2OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSwgYXJnc1s1XSk7XG4gICAgICAgICAgY2FzZSA3OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSwgYXJnc1s1XSwgYXJnc1s2XSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRoaXNCaW5kaW5nID0gYmFzZUNyZWF0ZShDdG9yLnByb3RvdHlwZSksXG4gICAgICAgICAgICByZXN1bHQgPSBDdG9yLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcblxuICAgICAgICAvLyBNaW1pYyB0aGUgY29uc3RydWN0b3IncyBgcmV0dXJuYCBiZWhhdmlvci5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jeDEzLjIuMiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICByZXR1cm4gaXNPYmplY3QocmVzdWx0KSA/IHJlc3VsdCA6IHRoaXNCaW5kaW5nO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gZW5hYmxlIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFyaXR5IFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDdXJyeShmdW5jLCBiaXRtYXNrLCBhcml0eSkge1xuICAgICAgdmFyIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGgsXG4gICAgICAgICAgICBwbGFjZWhvbGRlciA9IGdldEhvbGRlcih3cmFwcGVyKTtcblxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIGFyZ3NbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaG9sZGVycyA9IChsZW5ndGggPCAzICYmIGFyZ3NbMF0gIT09IHBsYWNlaG9sZGVyICYmIGFyZ3NbbGVuZ3RoIC0gMV0gIT09IHBsYWNlaG9sZGVyKVxuICAgICAgICAgID8gW11cbiAgICAgICAgICA6IHJlcGxhY2VIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcblxuICAgICAgICBsZW5ndGggLT0gaG9sZGVycy5sZW5ndGg7XG4gICAgICAgIGlmIChsZW5ndGggPCBhcml0eSkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVSZWN1cnJ5KFxuICAgICAgICAgICAgZnVuYywgYml0bWFzaywgY3JlYXRlSHlicmlkLCB3cmFwcGVyLnBsYWNlaG9sZGVyLCB1bmRlZmluZWQsXG4gICAgICAgICAgICBhcmdzLCBob2xkZXJzLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkgLSBsZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG4gICAgICAgIHJldHVybiBhcHBseShmbiwgdGhpcywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8uZmluZGAgb3IgYF8uZmluZExhc3RgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmaW5kSW5kZXhGdW5jIFRoZSBmdW5jdGlvbiB0byBmaW5kIHRoZSBjb2xsZWN0aW9uIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZpbmQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlRmluZChmaW5kSW5kZXhGdW5jKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgICAgdmFyIGl0ZXJhYmxlID0gT2JqZWN0KGNvbGxlY3Rpb24pO1xuICAgICAgICBpZiAoIWlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKTtcbiAgICAgICAgICBjb2xsZWN0aW9uID0ga2V5cyhjb2xsZWN0aW9uKTtcbiAgICAgICAgICBwcmVkaWNhdGUgPSBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpOyB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleCA9IGZpbmRJbmRleEZ1bmMoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBmcm9tSW5kZXgpO1xuICAgICAgICByZXR1cm4gaW5kZXggPiAtMSA/IGl0ZXJhYmxlW2l0ZXJhdGVlID8gY29sbGVjdGlvbltpbmRleF0gOiBpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5mbG93YCBvciBgXy5mbG93UmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmbG93IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUZsb3coZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZmxhdFJlc3QoZnVuY3Rpb24oZnVuY3MpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGZ1bmNzLmxlbmd0aCxcbiAgICAgICAgICAgIGluZGV4ID0gbGVuZ3RoLFxuICAgICAgICAgICAgcHJlcmVxID0gTG9kYXNoV3JhcHBlci5wcm90b3R5cGUudGhydTtcblxuICAgICAgICBpZiAoZnJvbVJpZ2h0KSB7XG4gICAgICAgICAgZnVuY3MucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgdmFyIGZ1bmMgPSBmdW5jc1tpbmRleF07XG4gICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHByZXJlcSAmJiAhd3JhcHBlciAmJiBnZXRGdW5jTmFtZShmdW5jKSA9PSAnd3JhcHBlcicpIHtcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gbmV3IExvZGFzaFdyYXBwZXIoW10sIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IHdyYXBwZXIgPyBpbmRleCA6IGxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBmdW5jID0gZnVuY3NbaW5kZXhdO1xuXG4gICAgICAgICAgdmFyIGZ1bmNOYW1lID0gZ2V0RnVuY05hbWUoZnVuYyksXG4gICAgICAgICAgICAgIGRhdGEgPSBmdW5jTmFtZSA9PSAnd3JhcHBlcicgPyBnZXREYXRhKGZ1bmMpIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgaWYgKGRhdGEgJiYgaXNMYXppYWJsZShkYXRhWzBdKSAmJlxuICAgICAgICAgICAgICAgIGRhdGFbMV0gPT0gKFdSQVBfQVJZX0ZMQUcgfCBXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX1BBUlRJQUxfRkxBRyB8IFdSQVBfUkVBUkdfRkxBRykgJiZcbiAgICAgICAgICAgICAgICAhZGF0YVs0XS5sZW5ndGggJiYgZGF0YVs5XSA9PSAxXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgd3JhcHBlciA9IHdyYXBwZXJbZ2V0RnVuY05hbWUoZGF0YVswXSldLmFwcGx5KHdyYXBwZXIsIGRhdGFbM10pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3cmFwcGVyID0gKGZ1bmMubGVuZ3RoID09IDEgJiYgaXNMYXppYWJsZShmdW5jKSlcbiAgICAgICAgICAgICAgPyB3cmFwcGVyW2Z1bmNOYW1lXSgpXG4gICAgICAgICAgICAgIDogd3JhcHBlci50aHJ1KGZ1bmMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICAgIHZhbHVlID0gYXJnc1swXTtcblxuICAgICAgICAgIGlmICh3cmFwcGVyICYmIGFyZ3MubGVuZ3RoID09IDEgJiYgaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVyLnBsYW50KHZhbHVlKS52YWx1ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgICAgICByZXN1bHQgPSBsZW5ndGggPyBmdW5jc1tpbmRleF0uYXBwbHkodGhpcywgYXJncykgOiB2YWx1ZTtcblxuICAgICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmdW5jc1tpbmRleF0uY2FsbCh0aGlzLCByZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIG9wdGlvbmFsIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgYHRoaXNBcmdgLCBwYXJ0aWFsIGFwcGxpY2F0aW9uLCBhbmQgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBmdW5jIFRoZSBmdW5jdGlvbiBvciBtZXRob2QgbmFtZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc1JpZ2h0XSBUaGUgYXJndW1lbnRzIHRvIGFwcGVuZCB0byB0aG9zZSBwcm92aWRlZFxuICAgICAqICB0byB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzUmlnaHRdIFRoZSBgcGFydGlhbHNSaWdodGAgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVIeWJyaWQoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCwgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gICAgICB2YXIgaXNBcnkgPSBiaXRtYXNrICYgV1JBUF9BUllfRkxBRyxcbiAgICAgICAgICBpc0JpbmQgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcsXG4gICAgICAgICAgaXNCaW5kS2V5ID0gYml0bWFzayAmIFdSQVBfQklORF9LRVlfRkxBRyxcbiAgICAgICAgICBpc0N1cnJpZWQgPSBiaXRtYXNrICYgKFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRyksXG4gICAgICAgICAgaXNGbGlwID0gYml0bWFzayAmIFdSQVBfRkxJUF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBpc0JpbmRLZXkgPyB1bmRlZmluZWQgOiBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICBhcmdzW2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ3VycmllZCkge1xuICAgICAgICAgIHZhciBwbGFjZWhvbGRlciA9IGdldEhvbGRlcih3cmFwcGVyKSxcbiAgICAgICAgICAgICAgaG9sZGVyc0NvdW50ID0gY291bnRIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydGlhbHMpIHtcbiAgICAgICAgICBhcmdzID0gY29tcG9zZUFyZ3MoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRpYWxzUmlnaHQpIHtcbiAgICAgICAgICBhcmdzID0gY29tcG9zZUFyZ3NSaWdodChhcmdzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsIGlzQ3VycmllZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGVuZ3RoIC09IGhvbGRlcnNDb3VudDtcbiAgICAgICAgaWYgKGlzQ3VycmllZCAmJiBsZW5ndGggPCBhcml0eSkge1xuICAgICAgICAgIHZhciBuZXdIb2xkZXJzID0gcmVwbGFjZUhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuICAgICAgICAgIHJldHVybiBjcmVhdGVSZWN1cnJ5KFxuICAgICAgICAgICAgZnVuYywgYml0bWFzaywgY3JlYXRlSHlicmlkLCB3cmFwcGVyLnBsYWNlaG9sZGVyLCB0aGlzQXJnLFxuICAgICAgICAgICAgYXJncywgbmV3SG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5IC0gbGVuZ3RoXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc0JpbmRpbmcgPSBpc0JpbmQgPyB0aGlzQXJnIDogdGhpcyxcbiAgICAgICAgICAgIGZuID0gaXNCaW5kS2V5ID8gdGhpc0JpbmRpbmdbZnVuY10gOiBmdW5jO1xuXG4gICAgICAgIGxlbmd0aCA9IGFyZ3MubGVuZ3RoO1xuICAgICAgICBpZiAoYXJnUG9zKSB7XG4gICAgICAgICAgYXJncyA9IHJlb3JkZXIoYXJncywgYXJnUG9zKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0ZsaXAgJiYgbGVuZ3RoID4gMSkge1xuICAgICAgICAgIGFyZ3MucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FyeSAmJiBhcnkgPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcmdzLmxlbmd0aCA9IGFyeTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSB7XG4gICAgICAgICAgZm4gPSBDdG9yIHx8IGNyZWF0ZUN0b3IoZm4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzQmluZGluZywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5pbnZlcnRCeWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGFjY3VtdWxhdG9yIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0b0l0ZXJhdGVlIFRoZSBmdW5jdGlvbiB0byByZXNvbHZlIGl0ZXJhdGVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZlcnRlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVJbnZlcnRlcihzZXR0ZXIsIHRvSXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52ZXJ0ZXIob2JqZWN0LCBzZXR0ZXIsIHRvSXRlcmF0ZWUoaXRlcmF0ZWUpLCB7fSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgbWF0aGVtYXRpY2FsIG9wZXJhdGlvbiBvbiB0d28gdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcGVyYXRvciBUaGUgZnVuY3Rpb24gdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgdXNlZCBmb3IgYHVuZGVmaW5lZGAgYXJndW1lbnRzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1hdGhlbWF0aWNhbCBvcGVyYXRpb24gZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlTWF0aE9wZXJhdGlvbihvcGVyYXRvciwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIG90aGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG90aGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBvdGhlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCB0eXBlb2Ygb3RoZXIgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZVRvU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgIG90aGVyID0gYmFzZVRvU3RyaW5nKG90aGVyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSBiYXNlVG9OdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgb3RoZXIgPSBiYXNlVG9OdW1iZXIob3RoZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBvcGVyYXRvcih2YWx1ZSwgb3RoZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLm92ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhcnJheUZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBpdGVyYXRlZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgb3ZlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVPdmVyKGFycmF5RnVuYykge1xuICAgICAgcmV0dXJuIGZsYXRSZXN0KGZ1bmN0aW9uKGl0ZXJhdGVlcykge1xuICAgICAgICBpdGVyYXRlZXMgPSBhcnJheU1hcChpdGVyYXRlZXMsIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG4gICAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgdmFyIHRoaXNBcmcgPSB0aGlzO1xuICAgICAgICAgIHJldHVybiBhcnJheUZ1bmMoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGx5KGl0ZXJhdGVlLCB0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBwYWRkaW5nIGZvciBgc3RyaW5nYCBiYXNlZCBvbiBgbGVuZ3RoYC4gVGhlIGBjaGFyc2Agc3RyaW5nXG4gICAgICogaXMgdHJ1bmNhdGVkIGlmIHRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyBleGNlZWRzIGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGluZyBmb3IgYHN0cmluZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUGFkZGluZyhsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBjaGFycyA9IGNoYXJzID09PSB1bmRlZmluZWQgPyAnICcgOiBiYXNlVG9TdHJpbmcoY2hhcnMpO1xuXG4gICAgICB2YXIgY2hhcnNMZW5ndGggPSBjaGFycy5sZW5ndGg7XG4gICAgICBpZiAoY2hhcnNMZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiBjaGFyc0xlbmd0aCA/IGJhc2VSZXBlYXQoY2hhcnMsIGxlbmd0aCkgOiBjaGFycztcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlUmVwZWF0KGNoYXJzLCBuYXRpdmVDZWlsKGxlbmd0aCAvIHN0cmluZ1NpemUoY2hhcnMpKSk7XG4gICAgICByZXR1cm4gaGFzVW5pY29kZShjaGFycylcbiAgICAgICAgPyBjYXN0U2xpY2Uoc3RyaW5nVG9BcnJheShyZXN1bHQpLCAwLCBsZW5ndGgpLmpvaW4oJycpXG4gICAgICAgIDogcmVzdWx0LnNsaWNlKDAsIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZ1xuICAgICAqIG9mIGB0aGlzQXJnYCBhbmQgYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUGFydGlhbChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBsZWZ0SW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlZnRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkobGVmdExlbmd0aCArIGFyZ3NMZW5ndGgpLFxuICAgICAgICAgICAgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuXG4gICAgICAgIHdoaWxlICgrK2xlZnRJbmRleCA8IGxlZnRMZW5ndGgpIHtcbiAgICAgICAgICBhcmdzW2xlZnRJbmRleF0gPSBwYXJ0aWFsc1tsZWZ0SW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChhcmdzTGVuZ3RoLS0pIHtcbiAgICAgICAgICBhcmdzW2xlZnRJbmRleCsrXSA9IGFyZ3VtZW50c1srK2FyZ3NJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcGx5KGZuLCBpc0JpbmQgPyB0aGlzQXJnIDogdGhpcywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8ucmFuZ2VgIG9yIGBfLnJhbmdlUmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByYW5nZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSYW5nZShmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdGFydCwgZW5kLCBzdGVwKSB7XG4gICAgICAgIGlmIChzdGVwICYmIHR5cGVvZiBzdGVwICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKHN0YXJ0LCBlbmQsIHN0ZXApKSB7XG4gICAgICAgICAgZW5kID0gc3RlcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBFbnN1cmUgdGhlIHNpZ24gb2YgYC0wYCBpcyBwcmVzZXJ2ZWQuXG4gICAgICAgIHN0YXJ0ID0gdG9GaW5pdGUoc3RhcnQpO1xuICAgICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBlbmQgPSBzdGFydDtcbiAgICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW5kID0gdG9GaW5pdGUoZW5kKTtcbiAgICAgICAgfVxuICAgICAgICBzdGVwID0gc3RlcCA9PT0gdW5kZWZpbmVkID8gKHN0YXJ0IDwgZW5kID8gMSA6IC0xKSA6IHRvRmluaXRlKHN0ZXApO1xuICAgICAgICByZXR1cm4gYmFzZVJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXAsIGZyb21SaWdodCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcmVsYXRpb25hbCBvcGVyYXRpb24gb24gdHdvIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb3BlcmF0b3IgVGhlIGZ1bmN0aW9uIHRvIHBlcmZvcm0gdGhlIG9wZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZWxhdGlvbmFsIG9wZXJhdGlvbiBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKG9wZXJhdG9yKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICAgIGlmICghKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyAmJiB0eXBlb2Ygb3RoZXIgPT0gJ3N0cmluZycpKSB7XG4gICAgICAgICAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gICAgICAgICAgb3RoZXIgPSB0b051bWJlcihvdGhlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wZXJhdG9yKHZhbHVlLCBvdGhlcik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBjb250aW51ZSBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHdyYXBGdW5jIFRoZSBmdW5jdGlvbiB0byBjcmVhdGUgdGhlIGBmdW5jYCB3cmFwcGVyLlxuICAgICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG9cbiAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSZWN1cnJ5KGZ1bmMsIGJpdG1hc2ssIHdyYXBGdW5jLCBwbGFjZWhvbGRlciwgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICAgICAgdmFyIGlzQ3VycnkgPSBiaXRtYXNrICYgV1JBUF9DVVJSWV9GTEFHLFxuICAgICAgICAgIG5ld0hvbGRlcnMgPSBpc0N1cnJ5ID8gaG9sZGVycyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBuZXdIb2xkZXJzUmlnaHQgPSBpc0N1cnJ5ID8gdW5kZWZpbmVkIDogaG9sZGVycyxcbiAgICAgICAgICBuZXdQYXJ0aWFscyA9IGlzQ3VycnkgPyBwYXJ0aWFscyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBuZXdQYXJ0aWFsc1JpZ2h0ID0gaXNDdXJyeSA/IHVuZGVmaW5lZCA6IHBhcnRpYWxzO1xuXG4gICAgICBiaXRtYXNrIHw9IChpc0N1cnJ5ID8gV1JBUF9QQVJUSUFMX0ZMQUcgOiBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyk7XG4gICAgICBiaXRtYXNrICY9IH4oaXNDdXJyeSA/IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHIDogV1JBUF9QQVJUSUFMX0ZMQUcpO1xuXG4gICAgICBpZiAoIShiaXRtYXNrICYgV1JBUF9DVVJSWV9CT1VORF9GTEFHKSkge1xuICAgICAgICBiaXRtYXNrICY9IH4oV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUcpO1xuICAgICAgfVxuICAgICAgdmFyIG5ld0RhdGEgPSBbXG4gICAgICAgIGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIG5ld1BhcnRpYWxzLCBuZXdIb2xkZXJzLCBuZXdQYXJ0aWFsc1JpZ2h0LFxuICAgICAgICBuZXdIb2xkZXJzUmlnaHQsIGFyZ1BvcywgYXJ5LCBhcml0eVxuICAgICAgXTtcblxuICAgICAgdmFyIHJlc3VsdCA9IHdyYXBGdW5jLmFwcGx5KHVuZGVmaW5lZCwgbmV3RGF0YSk7XG4gICAgICBpZiAoaXNMYXppYWJsZShmdW5jKSkge1xuICAgICAgICBzZXREYXRhKHJlc3VsdCwgbmV3RGF0YSk7XG4gICAgICB9XG4gICAgICByZXN1bHQucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlcjtcbiAgICAgIHJldHVybiBzZXRXcmFwVG9TdHJpbmcocmVzdWx0LCBmdW5jLCBiaXRtYXNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5yb3VuZGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIFRoZSBuYW1lIG9mIHRoZSBgTWF0aGAgbWV0aG9kIHRvIHVzZSB3aGVuIHJvdW5kaW5nLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJvdW5kIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJvdW5kKG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBmdW5jID0gTWF0aFttZXRob2ROYW1lXTtcbiAgICAgIHJldHVybiBmdW5jdGlvbihudW1iZXIsIHByZWNpc2lvbikge1xuICAgICAgICBudW1iZXIgPSB0b051bWJlcihudW1iZXIpO1xuICAgICAgICBwcmVjaXNpb24gPSBwcmVjaXNpb24gPT0gbnVsbCA/IDAgOiBuYXRpdmVNaW4odG9JbnRlZ2VyKHByZWNpc2lvbiksIDI5Mik7XG4gICAgICAgIGlmIChwcmVjaXNpb24pIHtcbiAgICAgICAgICAvLyBTaGlmdCB3aXRoIGV4cG9uZW50aWFsIG5vdGF0aW9uIHRvIGF2b2lkIGZsb2F0aW5nLXBvaW50IGlzc3Vlcy5cbiAgICAgICAgICAvLyBTZWUgW01ETl0oaHR0cHM6Ly9tZG4uaW8vcm91bmQjRXhhbXBsZXMpIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgICAgdmFyIHBhaXIgPSAodG9TdHJpbmcobnVtYmVyKSArICdlJykuc3BsaXQoJ2UnKSxcbiAgICAgICAgICAgICAgdmFsdWUgPSBmdW5jKHBhaXJbMF0gKyAnZScgKyAoK3BhaXJbMV0gKyBwcmVjaXNpb24pKTtcblxuICAgICAgICAgIHBhaXIgPSAodG9TdHJpbmcodmFsdWUpICsgJ2UnKS5zcGxpdCgnZScpO1xuICAgICAgICAgIHJldHVybiArKHBhaXJbMF0gKyAnZScgKyAoK3BhaXJbMV0gLSBwcmVjaXNpb24pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuYyhudW1iZXIpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2V0IG9iamVjdCBvZiBgdmFsdWVzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYWRkIHRvIHRoZSBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IHNldC5cbiAgICAgKi9cbiAgICB2YXIgY3JlYXRlU2V0ID0gIShTZXQgJiYgKDEgLyBzZXRUb0FycmF5KG5ldyBTZXQoWywtMF0pKVsxXSkgPT0gSU5GSU5JVFkpID8gbm9vcCA6IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgcmV0dXJuIG5ldyBTZXQodmFsdWVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLnRvUGFpcnNgIG9yIGBfLnRvUGFpcnNJbmAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFpcnMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlVG9QYWlycyhrZXlzRnVuYykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICB2YXIgdGFnID0gZ2V0VGFnKG9iamVjdCk7XG4gICAgICAgIGlmICh0YWcgPT0gbWFwVGFnKSB7XG4gICAgICAgICAgcmV0dXJuIG1hcFRvQXJyYXkob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09IHNldFRhZykge1xuICAgICAgICAgIHJldHVybiBzZXRUb1BhaXJzKG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJhc2VUb1BhaXJzKG9iamVjdCwga2V5c0Z1bmMob2JqZWN0KSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGVpdGhlciBjdXJyaWVzIG9yIGludm9rZXMgYGZ1bmNgIHdpdGggb3B0aW9uYWxcbiAgICAgKiBgdGhpc2AgYmluZGluZyBhbmQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gZnVuYyBUaGUgZnVuY3Rpb24gb3IgbWV0aG9kIG5hbWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAgICAgKiAgICAxIC0gYF8uYmluZGBcbiAgICAgKiAgICAyIC0gYF8uYmluZEtleWBcbiAgICAgKiAgICA0IC0gYF8uY3VycnlgIG9yIGBfLmN1cnJ5UmlnaHRgIG9mIGEgYm91bmQgZnVuY3Rpb25cbiAgICAgKiAgICA4IC0gYF8uY3VycnlgXG4gICAgICogICAxNiAtIGBfLmN1cnJ5UmlnaHRgXG4gICAgICogICAzMiAtIGBfLnBhcnRpYWxgXG4gICAgICogICA2NCAtIGBfLnBhcnRpYWxSaWdodGBcbiAgICAgKiAgMTI4IC0gYF8ucmVhcmdgXG4gICAgICogIDI1NiAtIGBfLmFyeWBcbiAgICAgKiAgNTEyIC0gYF8uZmxpcGBcbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVXcmFwKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0JpbmRLZXkgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0tFWV9GTEFHO1xuICAgICAgaWYgKCFpc0JpbmRLZXkgJiYgdHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gcGFydGlhbHMgPyBwYXJ0aWFscy5sZW5ndGggOiAwO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfUEFSVElBTF9GTEFHIHwgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpO1xuICAgICAgICBwYXJ0aWFscyA9IGhvbGRlcnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBhcnkgPSBhcnkgPT09IHVuZGVmaW5lZCA/IGFyeSA6IG5hdGl2ZU1heCh0b0ludGVnZXIoYXJ5KSwgMCk7XG4gICAgICBhcml0eSA9IGFyaXR5ID09PSB1bmRlZmluZWQgPyBhcml0eSA6IHRvSW50ZWdlcihhcml0eSk7XG4gICAgICBsZW5ndGggLT0gaG9sZGVycyA/IGhvbGRlcnMubGVuZ3RoIDogMDtcblxuICAgICAgaWYgKGJpdG1hc2sgJiBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRykge1xuICAgICAgICB2YXIgcGFydGlhbHNSaWdodCA9IHBhcnRpYWxzLFxuICAgICAgICAgICAgaG9sZGVyc1JpZ2h0ID0gaG9sZGVycztcblxuICAgICAgICBwYXJ0aWFscyA9IGhvbGRlcnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB2YXIgZGF0YSA9IGlzQmluZEtleSA/IHVuZGVmaW5lZCA6IGdldERhdGEoZnVuYyk7XG5cbiAgICAgIHZhciBuZXdEYXRhID0gW1xuICAgICAgICBmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LFxuICAgICAgICBhcmdQb3MsIGFyeSwgYXJpdHlcbiAgICAgIF07XG5cbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIG1lcmdlRGF0YShuZXdEYXRhLCBkYXRhKTtcbiAgICAgIH1cbiAgICAgIGZ1bmMgPSBuZXdEYXRhWzBdO1xuICAgICAgYml0bWFzayA9IG5ld0RhdGFbMV07XG4gICAgICB0aGlzQXJnID0gbmV3RGF0YVsyXTtcbiAgICAgIHBhcnRpYWxzID0gbmV3RGF0YVszXTtcbiAgICAgIGhvbGRlcnMgPSBuZXdEYXRhWzRdO1xuICAgICAgYXJpdHkgPSBuZXdEYXRhWzldID0gbmV3RGF0YVs5XSA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gKGlzQmluZEtleSA/IDAgOiBmdW5jLmxlbmd0aClcbiAgICAgICAgOiBuYXRpdmVNYXgobmV3RGF0YVs5XSAtIGxlbmd0aCwgMCk7XG5cbiAgICAgIGlmICghYXJpdHkgJiYgYml0bWFzayAmIChXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpO1xuICAgICAgfVxuICAgICAgaWYgKCFiaXRtYXNrIHx8IGJpdG1hc2sgPT0gV1JBUF9CSU5EX0ZMQUcpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZUJpbmQoZnVuYywgYml0bWFzaywgdGhpc0FyZyk7XG4gICAgICB9IGVsc2UgaWYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHIHx8IGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZUN1cnJ5KGZ1bmMsIGJpdG1hc2ssIGFyaXR5KTtcbiAgICAgIH0gZWxzZSBpZiAoKGJpdG1hc2sgPT0gV1JBUF9QQVJUSUFMX0ZMQUcgfHwgYml0bWFzayA9PSAoV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX1BBUlRJQUxfRkxBRykpICYmICFob2xkZXJzLmxlbmd0aCkge1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVQYXJ0aWFsKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZUh5YnJpZC5hcHBseSh1bmRlZmluZWQsIG5ld0RhdGEpO1xuICAgICAgfVxuICAgICAgdmFyIHNldHRlciA9IGRhdGEgPyBiYXNlU2V0RGF0YSA6IHNldERhdGE7XG4gICAgICByZXR1cm4gc2V0V3JhcFRvU3RyaW5nKHNldHRlcihyZXN1bHQsIG5ld0RhdGEpLCBmdW5jLCBiaXRtYXNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLmRlZmF1bHRzYCB0byBjdXN0b21pemUgaXRzIGBfLmFzc2lnbkluYCB1c2UgdG8gYXNzaWduIHByb3BlcnRpZXNcbiAgICAgKiBvZiBzb3VyY2Ugb2JqZWN0cyB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0IGZvciBhbGwgZGVzdGluYXRpb24gcHJvcGVydGllc1xuICAgICAqIHRoYXQgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBvYmpWYWx1ZSBUaGUgZGVzdGluYXRpb24gdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgc291cmNlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbURlZmF1bHRzQXNzaWduSW4ob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgaWYgKG9ialZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAoZXEob2JqVmFsdWUsIG9iamVjdFByb3RvW2tleV0pICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgcmV0dXJuIHNyY1ZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8uZGVmYXVsdHNEZWVwYCB0byBjdXN0b21pemUgaXRzIGBfLm1lcmdlYCB1c2UgdG8gbWVyZ2Ugc291cmNlXG4gICAgICogb2JqZWN0cyBpbnRvIGRlc3RpbmF0aW9uIG9iamVjdHMgdGhhdCBhcmUgcGFzc2VkIHRocnUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gb2JqVmFsdWUgVGhlIGRlc3RpbmF0aW9uIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHNvdXJjZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIG1lcmdlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBwYXJlbnQgb2JqZWN0IG9mIGBzcmNWYWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAgICAgKiAgY291bnRlcnBhcnRzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tRGVmYXVsdHNNZXJnZShvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKSB7XG4gICAgICBpZiAoaXNPYmplY3Qob2JqVmFsdWUpICYmIGlzT2JqZWN0KHNyY1ZhbHVlKSkge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgc3RhY2suc2V0KHNyY1ZhbHVlLCBvYmpWYWx1ZSk7XG4gICAgICAgIGJhc2VNZXJnZShvYmpWYWx1ZSwgc3JjVmFsdWUsIHVuZGVmaW5lZCwgY3VzdG9tRGVmYXVsdHNNZXJnZSwgc3RhY2spO1xuICAgICAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8ub21pdGAgdG8gY3VzdG9taXplIGl0cyBgXy5jbG9uZURlZXBgIHVzZSB0byBvbmx5IGNsb25lIHBsYWluXG4gICAgICogb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHVuY2xvbmVkIHZhbHVlIG9yIGB1bmRlZmluZWRgIHRvIGRlZmVyIGNsb25pbmcgdG8gYF8uY2xvbmVEZWVwYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21PbWl0Q2xvbmUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc1BsYWluT2JqZWN0KHZhbHVlKSA/IHVuZGVmaW5lZCA6IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgYXJyYXlzIHdpdGggc3VwcG9ydCBmb3JcbiAgICAgKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IG90aGVyIFRoZSBvdGhlciBhcnJheSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYGFycmF5YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJyYXlzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxBcnJheXMoYXJyYXksIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgICAgIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBvdGhMZW5ndGggPSBvdGhlci5sZW5ndGg7XG5cbiAgICAgIGlmIChhcnJMZW5ndGggIT0gb3RoTGVuZ3RoICYmICEoaXNQYXJ0aWFsICYmIG90aExlbmd0aCA+IGFyckxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQoYXJyYXkpO1xuICAgICAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IHRydWUsXG4gICAgICAgICAgc2VlbiA9IChiaXRtYXNrICYgQ09NUEFSRV9VTk9SREVSRURfRkxBRykgPyBuZXcgU2V0Q2FjaGUgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHN0YWNrLnNldChhcnJheSwgb3RoZXIpO1xuICAgICAgc3RhY2suc2V0KG90aGVyLCBhcnJheSk7XG5cbiAgICAgIC8vIElnbm9yZSBub24taW5kZXggcHJvcGVydGllcy5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgYXJyTGVuZ3RoKSB7XG4gICAgICAgIHZhciBhcnJWYWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIG90aFZhbHVlID0gb3RoZXJbaW5kZXhdO1xuXG4gICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIGFyclZhbHVlLCBpbmRleCwgb3RoZXIsIGFycmF5LCBzdGFjaylcbiAgICAgICAgICAgIDogY3VzdG9taXplcihhcnJWYWx1ZSwgb3RoVmFsdWUsIGluZGV4LCBhcnJheSwgb3RoZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcGFyZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChjb21wYXJlZCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgaWYgKCFhcnJheVNvbWUob3RoZXIsIGZ1bmN0aW9uKG90aFZhbHVlLCBvdGhJbmRleCkge1xuICAgICAgICAgICAgICAgIGlmICghY2FjaGVIYXMoc2Vlbiwgb3RoSW5kZXgpICYmXG4gICAgICAgICAgICAgICAgICAgIChhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlZW4ucHVzaChvdGhJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIShcbiAgICAgICAgICAgICAgYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8XG4gICAgICAgICAgICAgICAgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0YWNrWydkZWxldGUnXShhcnJheSk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGNvbXBhcmluZyBvYmplY3RzIG9mXG4gICAgICogdGhlIHNhbWUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY29tcGFyaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAgICAgKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBvciBgU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3RzIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgdGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIGRhdGFWaWV3VGFnOlxuICAgICAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAgICAgKG9iamVjdC5ieXRlT2Zmc2V0ICE9IG90aGVyLmJ5dGVPZmZzZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9iamVjdCA9IG9iamVjdC5idWZmZXI7XG4gICAgICAgICAgb3RoZXIgPSBvdGhlci5idWZmZXI7XG5cbiAgICAgICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgICAgICFlcXVhbEZ1bmMobmV3IFVpbnQ4QXJyYXkob2JqZWN0KSwgbmV3IFVpbnQ4QXJyYXkob3RoZXIpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICBjYXNlIGJvb2xUYWc6XG4gICAgICAgIGNhc2UgZGF0ZVRhZzpcbiAgICAgICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAgICAgLy8gQ29lcmNlIGJvb2xlYW5zIHRvIGAxYCBvciBgMGAgYW5kIGRhdGVzIHRvIG1pbGxpc2Vjb25kcy5cbiAgICAgICAgICAvLyBJbnZhbGlkIGRhdGVzIGFyZSBjb2VyY2VkIHRvIGBOYU5gLlxuICAgICAgICAgIHJldHVybiBlcSgrb2JqZWN0LCArb3RoZXIpO1xuXG4gICAgICAgIGNhc2UgZXJyb3JUYWc6XG4gICAgICAgICAgcmV0dXJuIG9iamVjdC5uYW1lID09IG90aGVyLm5hbWUgJiYgb2JqZWN0Lm1lc3NhZ2UgPT0gb3RoZXIubWVzc2FnZTtcblxuICAgICAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICAgICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAgICAgLy8gQ29lcmNlIHJlZ2V4ZXMgdG8gc3RyaW5ncyBhbmQgdHJlYXQgc3RyaW5ncywgcHJpbWl0aXZlcyBhbmQgb2JqZWN0cyxcbiAgICAgICAgICAvLyBhcyBlcXVhbC4gU2VlIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1yZWdleHAucHJvdG90eXBlLnRvc3RyaW5nXG4gICAgICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgICByZXR1cm4gb2JqZWN0ID09IChvdGhlciArICcnKTtcblxuICAgICAgICBjYXNlIG1hcFRhZzpcbiAgICAgICAgICB2YXIgY29udmVydCA9IG1hcFRvQXJyYXk7XG5cbiAgICAgICAgY2FzZSBzZXRUYWc6XG4gICAgICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRztcbiAgICAgICAgICBjb252ZXJ0IHx8IChjb252ZXJ0ID0gc2V0VG9BcnJheSk7XG5cbiAgICAgICAgICBpZiAob2JqZWN0LnNpemUgIT0gb3RoZXIuc2l6ZSAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYml0bWFzayB8PSBDT01QQVJFX1VOT1JERVJFRF9GTEFHO1xuXG4gICAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgICAgIHZhciByZXN1bHQgPSBlcXVhbEFycmF5cyhjb252ZXJ0KG9iamVjdCksIGNvbnZlcnQob3RoZXIpLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgICAgIGlmIChzeW1ib2xWYWx1ZU9mKSB7XG4gICAgICAgICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZi5jYWxsKG9iamVjdCkgPT0gc3ltYm9sVmFsdWVPZi5jYWxsKG90aGVyKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBvYmplY3RzIHdpdGggc3VwcG9ydCBmb3JcbiAgICAgKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgICAgIG9ialByb3BzID0gZ2V0QWxsS2V5cyhvYmplY3QpLFxuICAgICAgICAgIG9iakxlbmd0aCA9IG9ialByb3BzLmxlbmd0aCxcbiAgICAgICAgICBvdGhQcm9wcyA9IGdldEFsbEtleXMob3RoZXIpLFxuICAgICAgICAgIG90aExlbmd0aCA9IG90aFByb3BzLmxlbmd0aDtcblxuICAgICAgaWYgKG9iakxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIWlzUGFydGlhbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBvYmpMZW5ndGg7XG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICB2YXIga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgICAgICBpZiAoIShpc1BhcnRpYWwgPyBrZXkgaW4gb3RoZXIgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCBrZXkpKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgICAgIGlmIChzdGFja2VkICYmIHN0YWNrLmdldChvdGhlcikpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgICAgIHN0YWNrLnNldChvdGhlciwgb2JqZWN0KTtcblxuICAgICAgdmFyIHNraXBDdG9yID0gaXNQYXJ0aWFsO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBvYmpMZW5ndGgpIHtcbiAgICAgICAga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgICAgICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgICAgIG90aFZhbHVlID0gb3RoZXJba2V5XTtcblxuICAgICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBvYmpWYWx1ZSwga2V5LCBvdGhlciwgb2JqZWN0LCBzdGFjaylcbiAgICAgICAgICAgIDogY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUsIGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBpZiAoIShjb21wYXJlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gKG9ialZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMob2JqVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpXG4gICAgICAgICAgICAgIDogY29tcGFyZWRcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBza2lwQ3RvciB8fCAoc2tpcEN0b3IgPSBrZXkgPT0gJ2NvbnN0cnVjdG9yJyk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ICYmICFza2lwQ3Rvcikge1xuICAgICAgICB2YXIgb2JqQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcixcbiAgICAgICAgICAgIG90aEN0b3IgPSBvdGhlci5jb25zdHJ1Y3RvcjtcblxuICAgICAgICAvLyBOb24gYE9iamVjdGAgb2JqZWN0IGluc3RhbmNlcyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVhbC5cbiAgICAgICAgaWYgKG9iakN0b3IgIT0gb3RoQ3RvciAmJlxuICAgICAgICAgICAgKCdjb25zdHJ1Y3RvcicgaW4gb2JqZWN0ICYmICdjb25zdHJ1Y3RvcicgaW4gb3RoZXIpICYmXG4gICAgICAgICAgICAhKHR5cGVvZiBvYmpDdG9yID09ICdmdW5jdGlvbicgJiYgb2JqQ3RvciBpbnN0YW5jZW9mIG9iakN0b3IgJiZcbiAgICAgICAgICAgICAgdHlwZW9mIG90aEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvdGhDdG9yIGluc3RhbmNlb2Ygb3RoQ3RvcikpIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VSZXN0YCB3aGljaCBmbGF0dGVucyB0aGUgcmVzdCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0UmVzdChmdW5jKSB7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgdW5kZWZpbmVkLCBmbGF0dGVuKSwgZnVuYyArICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRBbGxLZXlzKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5cywgZ2V0U3ltYm9scyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZFxuICAgICAqIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEFsbEtleXNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNJbiwgZ2V0U3ltYm9sc0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtZXRhZGF0YSBmb3IgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBnZXREYXRhID0gIW1ldGFNYXAgPyBub29wIDogZnVuY3Rpb24oZnVuYykge1xuICAgICAgcmV0dXJuIG1ldGFNYXAuZ2V0KGZ1bmMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuYW1lIG9mIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRGdW5jTmFtZShmdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gKGZ1bmMubmFtZSArICcnKSxcbiAgICAgICAgICBhcnJheSA9IHJlYWxOYW1lc1tyZXN1bHRdLFxuICAgICAgICAgIGxlbmd0aCA9IGhhc093blByb3BlcnR5LmNhbGwocmVhbE5hbWVzLCByZXN1bHQpID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBkYXRhID0gYXJyYXlbbGVuZ3RoXSxcbiAgICAgICAgICAgIG90aGVyRnVuYyA9IGRhdGEuZnVuYztcbiAgICAgICAgaWYgKG90aGVyRnVuYyA9PSBudWxsIHx8IG90aGVyRnVuYyA9PSBmdW5jKSB7XG4gICAgICAgICAgcmV0dXJuIGRhdGEubmFtZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBhcmd1bWVudCBwbGFjZWhvbGRlciB2YWx1ZSBmb3IgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwbGFjZWhvbGRlciB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRIb2xkZXIoZnVuYykge1xuICAgICAgdmFyIG9iamVjdCA9IGhhc093blByb3BlcnR5LmNhbGwobG9kYXNoLCAncGxhY2Vob2xkZXInKSA/IGxvZGFzaCA6IGZ1bmM7XG4gICAgICByZXR1cm4gb2JqZWN0LnBsYWNlaG9sZGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGFwcHJvcHJpYXRlIFwiaXRlcmF0ZWVcIiBmdW5jdGlvbi4gSWYgYF8uaXRlcmF0ZWVgIGlzIGN1c3RvbWl6ZWQsXG4gICAgICogdGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSBjdXN0b20gbWV0aG9kLCBvdGhlcndpc2UgaXQgcmV0dXJucyBgYmFzZUl0ZXJhdGVlYC5cbiAgICAgKiBJZiBhcmd1bWVudHMgYXJlIHByb3ZpZGVkLCB0aGUgY2hvc2VuIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCB0aGVtIGFuZFxuICAgICAqIGl0cyByZXN1bHQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW3ZhbHVlXSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhbiBpdGVyYXRlZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgdGhlIGNyZWF0ZWQgaXRlcmF0ZWUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBjaG9zZW4gZnVuY3Rpb24gb3IgaXRzIHJlc3VsdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRJdGVyYXRlZSgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBsb2Rhc2guaXRlcmF0ZWUgfHwgaXRlcmF0ZWU7XG4gICAgICByZXN1bHQgPSByZXN1bHQgPT09IGl0ZXJhdGVlID8gYmFzZUl0ZXJhdGVlIDogcmVzdWx0O1xuICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyByZXN1bHQoYXJndW1lbnRzWzBdLCBhcmd1bWVudHNbMV0pIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICAgICAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gICAgICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICAgICAgPyBkYXRhW3R5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyAnc3RyaW5nJyA6ICdoYXNoJ11cbiAgICAgICAgOiBkYXRhLm1hcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBwcm9wZXJ0eSBuYW1lcywgdmFsdWVzLCBhbmQgY29tcGFyZSBmbGFncyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbWF0Y2ggZGF0YSBvZiBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRNYXRjaERhdGEob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0ga2V5cyhvYmplY3QpLFxuICAgICAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIga2V5ID0gcmVzdWx0W2xlbmd0aF0sXG4gICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgIHJlc3VsdFtsZW5ndGhdID0gW2tleSwgdmFsdWUsIGlzU3RyaWN0Q29tcGFyYWJsZSh2YWx1ZSldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICAgICAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICAgICAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByYXcgYHRvU3RyaW5nVGFnYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgICAgIHZhciBpc093biA9IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHN5bVRvU3RyaW5nVGFnKSxcbiAgICAgICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG5cbiAgICAgIHZhciByZXN1bHQgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgIGlmICh1bm1hc2tlZCkge1xuICAgICAgICBpZiAoaXNPd24pIHtcbiAgICAgICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB0YWc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBzeW1ib2xzLlxuICAgICAqL1xuICAgIHZhciBnZXRTeW1ib2xzID0gIW5hdGl2ZUdldFN5bWJvbHMgPyBzdHViQXJyYXkgOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgIHJldHVybiBhcnJheUZpbHRlcihuYXRpdmVHZXRTeW1ib2xzKG9iamVjdCksIGZ1bmN0aW9uKHN5bWJvbCkge1xuICAgICAgICByZXR1cm4gcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmplY3QsIHN5bWJvbCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBzeW1ib2xzLlxuICAgICAqL1xuICAgIHZhciBnZXRTeW1ib2xzSW4gPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgd2hpbGUgKG9iamVjdCkge1xuICAgICAgICBhcnJheVB1c2gocmVzdWx0LCBnZXRTeW1ib2xzKG9iamVjdCkpO1xuICAgICAgICBvYmplY3QgPSBnZXRQcm90b3R5cGUob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGB0b1N0cmluZ1RhZ2Agb2YgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKi9cbiAgICB2YXIgZ2V0VGFnID0gYmFzZUdldFRhZztcblxuICAgIC8vIEZhbGxiYWNrIGZvciBkYXRhIHZpZXdzLCBtYXBzLCBzZXRzLCBhbmQgd2VhayBtYXBzIGluIElFIDExIGFuZCBwcm9taXNlcyBpbiBOb2RlLmpzIDwgNi5cbiAgICBpZiAoKERhdGFWaWV3ICYmIGdldFRhZyhuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDEpKSkgIT0gZGF0YVZpZXdUYWcpIHx8XG4gICAgICAgIChNYXAgJiYgZ2V0VGFnKG5ldyBNYXApICE9IG1hcFRhZykgfHxcbiAgICAgICAgKFByb21pc2UgJiYgZ2V0VGFnKFByb21pc2UucmVzb2x2ZSgpKSAhPSBwcm9taXNlVGFnKSB8fFxuICAgICAgICAoU2V0ICYmIGdldFRhZyhuZXcgU2V0KSAhPSBzZXRUYWcpIHx8XG4gICAgICAgIChXZWFrTWFwICYmIGdldFRhZyhuZXcgV2Vha01hcCkgIT0gd2Vha01hcFRhZykpIHtcbiAgICAgIGdldFRhZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBiYXNlR2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICAgIEN0b3IgPSByZXN1bHQgPT0gb2JqZWN0VGFnID8gdmFsdWUuY29uc3RydWN0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjdG9yU3RyaW5nID0gQ3RvciA/IHRvU291cmNlKEN0b3IpIDogJyc7XG5cbiAgICAgICAgaWYgKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgICBzd2l0Y2ggKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgICAgIGNhc2UgZGF0YVZpZXdDdG9yU3RyaW5nOiByZXR1cm4gZGF0YVZpZXdUYWc7XG4gICAgICAgICAgICBjYXNlIG1hcEN0b3JTdHJpbmc6IHJldHVybiBtYXBUYWc7XG4gICAgICAgICAgICBjYXNlIHByb21pc2VDdG9yU3RyaW5nOiByZXR1cm4gcHJvbWlzZVRhZztcbiAgICAgICAgICAgIGNhc2Ugc2V0Q3RvclN0cmluZzogcmV0dXJuIHNldFRhZztcbiAgICAgICAgICAgIGNhc2Ugd2Vha01hcEN0b3JTdHJpbmc6IHJldHVybiB3ZWFrTWFwVGFnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB2aWV3LCBhcHBseWluZyBhbnkgYHRyYW5zZm9ybXNgIHRvIHRoZSBgc3RhcnRgIGFuZCBgZW5kYCBwb3NpdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgb2YgdGhlIHZpZXcuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSB2aWV3LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHRyYW5zZm9ybXMgVGhlIHRyYW5zZm9ybWF0aW9ucyB0byBhcHBseSB0byB0aGUgdmlldy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBgc3RhcnRgIGFuZCBgZW5kYFxuICAgICAqICBwb3NpdGlvbnMgb2YgdGhlIHZpZXcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0VmlldyhzdGFydCwgZW5kLCB0cmFuc2Zvcm1zKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB0cmFuc2Zvcm1zLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB0cmFuc2Zvcm1zW2luZGV4XSxcbiAgICAgICAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgICAgICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcbiAgICAgICAgICBjYXNlICdkcm9wJzogICAgICBzdGFydCArPSBzaXplOyBicmVhaztcbiAgICAgICAgICBjYXNlICdkcm9wUmlnaHQnOiBlbmQgLT0gc2l6ZTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAndGFrZSc6ICAgICAgZW5kID0gbmF0aXZlTWluKGVuZCwgc3RhcnQgKyBzaXplKTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAndGFrZVJpZ2h0Jzogc3RhcnQgPSBuYXRpdmVNYXgoc3RhcnQsIGVuZCAtIHNpemUpOyBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHsgJ3N0YXJ0Jzogc3RhcnQsICdlbmQnOiBlbmQgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB3cmFwcGVyIGRldGFpbHMgZnJvbSB0aGUgYHNvdXJjZWAgYm9keSBjb21tZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIFRoZSBzb3VyY2UgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdyYXBwZXIgZGV0YWlscy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRXcmFwRGV0YWlscyhzb3VyY2UpIHtcbiAgICAgIHZhciBtYXRjaCA9IHNvdXJjZS5tYXRjaChyZVdyYXBEZXRhaWxzKTtcbiAgICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdLnNwbGl0KHJlU3BsaXREZXRhaWxzKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcGF0aGAgZXhpc3RzIG9uIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFzRnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2sgcHJvcGVydGllcy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHBhdGhgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBoYXNGdW5jKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSB0b0tleShwYXRoW2luZGV4XSk7XG4gICAgICAgIGlmICghKHJlc3VsdCA9IG9iamVjdCAhPSBudWxsICYmIGhhc0Z1bmMob2JqZWN0LCBrZXkpKSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdCA9IG9iamVjdFtrZXldO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCB8fCArK2luZGV4ICE9IGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgbGVuZ3RoID0gb2JqZWN0ID09IG51bGwgPyAwIDogb2JqZWN0Lmxlbmd0aDtcbiAgICAgIHJldHVybiAhIWxlbmd0aCAmJiBpc0xlbmd0aChsZW5ndGgpICYmIGlzSW5kZXgoa2V5LCBsZW5ndGgpICYmXG4gICAgICAgIChpc0FycmF5KG9iamVjdCkgfHwgaXNBcmd1bWVudHMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gYXJyYXkgY2xvbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRDbG9uZUFycmF5KGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IG5ldyBhcnJheS5jb25zdHJ1Y3RvcihsZW5ndGgpO1xuXG4gICAgICAvLyBBZGQgcHJvcGVydGllcyBhc3NpZ25lZCBieSBgUmVnRXhwI2V4ZWNgLlxuICAgICAgaWYgKGxlbmd0aCAmJiB0eXBlb2YgYXJyYXlbMF0gPT0gJ3N0cmluZycgJiYgaGFzT3duUHJvcGVydHkuY2FsbChhcnJheSwgJ2luZGV4JykpIHtcbiAgICAgICAgcmVzdWx0LmluZGV4ID0gYXJyYXkuaW5kZXg7XG4gICAgICAgIHJlc3VsdC5pbnB1dCA9IGFycmF5LmlucHV0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBvYmplY3QgY2xvbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVPYmplY3Qob2JqZWN0KSB7XG4gICAgICByZXR1cm4gKHR5cGVvZiBvYmplY3QuY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNQcm90b3R5cGUob2JqZWN0KSlcbiAgICAgICAgPyBiYXNlQ3JlYXRlKGdldFByb3RvdHlwZShvYmplY3QpKVxuICAgICAgICA6IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIG9iamVjdCBjbG9uZSBiYXNlZCBvbiBpdHMgYHRvU3RyaW5nVGFnYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY2xvbmluZyB2YWx1ZXMgd2l0aCB0YWdzIG9mXG4gICAgICogYEJvb2xlYW5gLCBgRGF0ZWAsIGBFcnJvcmAsIGBNYXBgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIGBTZXRgLCBvciBgU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRDbG9uZUJ5VGFnKG9iamVjdCwgdGFnLCBpc0RlZXApIHtcbiAgICAgIHZhciBDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yO1xuICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVBcnJheUJ1ZmZlcihvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgYm9vbFRhZzpcbiAgICAgICAgY2FzZSBkYXRlVGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3Rvcigrb2JqZWN0KTtcblxuICAgICAgICBjYXNlIGRhdGFWaWV3VGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZURhdGFWaWV3KG9iamVjdCwgaXNEZWVwKTtcblxuICAgICAgICBjYXNlIGZsb2F0MzJUYWc6IGNhc2UgZmxvYXQ2NFRhZzpcbiAgICAgICAgY2FzZSBpbnQ4VGFnOiBjYXNlIGludDE2VGFnOiBjYXNlIGludDMyVGFnOlxuICAgICAgICBjYXNlIHVpbnQ4VGFnOiBjYXNlIHVpbnQ4Q2xhbXBlZFRhZzogY2FzZSB1aW50MTZUYWc6IGNhc2UgdWludDMyVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZVR5cGVkQXJyYXkob2JqZWN0LCBpc0RlZXApO1xuXG4gICAgICAgIGNhc2UgbWFwVGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcjtcblxuICAgICAgICBjYXNlIG51bWJlclRhZzpcbiAgICAgICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yKG9iamVjdCk7XG5cbiAgICAgICAgY2FzZSByZWdleHBUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lUmVnRXhwKG9iamVjdCk7XG5cbiAgICAgICAgY2FzZSBzZXRUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yO1xuXG4gICAgICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZVN5bWJvbChvYmplY3QpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluc2VydHMgd3JhcHBlciBgZGV0YWlsc2AgaW4gYSBjb21tZW50IGF0IHRoZSB0b3Agb2YgdGhlIGBzb3VyY2VgIGJvZHkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2UgVGhlIHNvdXJjZSB0byBtb2RpZnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBkZXRhaWxzIFRoZSBkZXRhaWxzIHRvIGluc2VydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBtb2RpZmllZCBzb3VyY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5zZXJ0V3JhcERldGFpbHMoc291cmNlLCBkZXRhaWxzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gZGV0YWlscy5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgICAgfVxuICAgICAgdmFyIGxhc3RJbmRleCA9IGxlbmd0aCAtIDE7XG4gICAgICBkZXRhaWxzW2xhc3RJbmRleF0gPSAobGVuZ3RoID4gMSA/ICcmICcgOiAnJykgKyBkZXRhaWxzW2xhc3RJbmRleF07XG4gICAgICBkZXRhaWxzID0gZGV0YWlscy5qb2luKGxlbmd0aCA+IDIgPyAnLCAnIDogJyAnKTtcbiAgICAgIHJldHVybiBzb3VyY2UucmVwbGFjZShyZVdyYXBDb21tZW50LCAne1xcbi8qIFt3cmFwcGVkIHdpdGggJyArIGRldGFpbHMgKyAnXSAqL1xcbicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgZmxhdHRlbmFibGUgYGFyZ3VtZW50c2Agb2JqZWN0IG9yIGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmbGF0dGVuYWJsZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRmxhdHRlbmFibGUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkgfHxcbiAgICAgICAgISEoc3ByZWFkYWJsZVN5bWJvbCAmJiB2YWx1ZSAmJiB2YWx1ZVtzcHJlYWRhYmxlU3ltYm9sXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG5cbiAgICAgIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICAgICAodHlwZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgICAgICh0eXBlICE9ICdzeW1ib2wnICYmIHJlSXNVaW50LnRlc3QodmFsdWUpKSkgJiZcbiAgICAgICAgICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGdpdmVuIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgdmFsdWUgYXJndW1lbnQuXG4gICAgICogQHBhcmFtIHsqfSBpbmRleCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIGluZGV4IG9yIGtleSBhcmd1bWVudC5cbiAgICAgKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIG9iamVjdCBhcmd1bWVudC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJdGVyYXRlZUNhbGwodmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiBpbmRleDtcbiAgICAgIGlmICh0eXBlID09ICdudW1iZXInXG4gICAgICAgICAgICA/IChpc0FycmF5TGlrZShvYmplY3QpICYmIGlzSW5kZXgoaW5kZXgsIG9iamVjdC5sZW5ndGgpKVxuICAgICAgICAgICAgOiAodHlwZSA9PSAnc3RyaW5nJyAmJiBpbmRleCBpbiBvYmplY3QpXG4gICAgICAgICAgKSB7XG4gICAgICAgIHJldHVybiBlcShvYmplY3RbaW5kZXhdLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lIGFuZCBub3QgYSBwcm9wZXJ0eSBwYXRoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzS2V5KHZhbHVlLCBvYmplY3QpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIGlmICh0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicgfHxcbiAgICAgICAgICB2YWx1ZSA9PSBudWxsIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZUlzUGxhaW5Qcm9wLnRlc3QodmFsdWUpIHx8ICFyZUlzRGVlcFByb3AudGVzdCh2YWx1ZSkgfHxcbiAgICAgICAgKG9iamVjdCAhPSBudWxsICYmIHZhbHVlIGluIE9iamVjdChvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICByZXR1cm4gKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxuICAgICAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgICAgIDogKHZhbHVlID09PSBudWxsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBhIGxhenkgY291bnRlcnBhcnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaGFzIGEgbGF6eSBjb3VudGVycGFydCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTGF6aWFibGUoZnVuYykge1xuICAgICAgdmFyIGZ1bmNOYW1lID0gZ2V0RnVuY05hbWUoZnVuYyksXG4gICAgICAgICAgb3RoZXIgPSBsb2Rhc2hbZnVuY05hbWVdO1xuXG4gICAgICBpZiAodHlwZW9mIG90aGVyICE9ICdmdW5jdGlvbicgfHwgIShmdW5jTmFtZSBpbiBMYXp5V3JhcHBlci5wcm90b3R5cGUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChmdW5jID09PSBvdGhlcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBkYXRhID0gZ2V0RGF0YShvdGhlcik7XG4gICAgICByZXR1cm4gISFkYXRhICYmIGZ1bmMgPT09IGRhdGFbMF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICAgICAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYGZ1bmNgIGlzIGNhcGFibGUgb2YgYmVpbmcgbWFza2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2thYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgdmFyIGlzTWFza2FibGUgPSBjb3JlSnNEYXRhID8gaXNGdW5jdGlvbiA6IHN0dWJGYWxzZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIHByb3RvdHlwZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvdG90eXBlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNQcm90b3R5cGUodmFsdWUpIHtcbiAgICAgIHZhciBDdG9yID0gdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IsXG4gICAgICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gcHJvdG87XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHN0cmljdCBlcXVhbGl0eSBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaWYgc3VpdGFibGUgZm9yIHN0cmljdFxuICAgICAqICBlcXVhbGl0eSBjb21wYXJpc29ucywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3RyaWN0Q29tcGFyYWJsZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSAmJiAhaXNPYmplY3QodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgbWF0Y2hlc1Byb3BlcnR5YCBmb3Igc291cmNlIHZhbHVlcyBzdWl0YWJsZVxuICAgICAqIGZvciBzdHJpY3QgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUoa2V5LCBzcmNWYWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdFtrZXldID09PSBzcmNWYWx1ZSAmJlxuICAgICAgICAgIChzcmNWYWx1ZSAhPT0gdW5kZWZpbmVkIHx8IChrZXkgaW4gT2JqZWN0KG9iamVjdCkpKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1lbW9pemVgIHdoaWNoIGNsZWFycyB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24nc1xuICAgICAqIGNhY2hlIHdoZW4gaXQgZXhjZWVkcyBgTUFYX01FTU9JWkVfU0laRWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZW1vaXplQ2FwcGVkKGZ1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBtZW1vaXplKGZ1bmMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBpZiAoY2FjaGUuc2l6ZSA9PT0gTUFYX01FTU9JWkVfU0laRSkge1xuICAgICAgICAgIGNhY2hlLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgY2FjaGUgPSByZXN1bHQuY2FjaGU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1lcmdlcyB0aGUgZnVuY3Rpb24gbWV0YWRhdGEgb2YgYHNvdXJjZWAgaW50byBgZGF0YWAuXG4gICAgICpcbiAgICAgKiBNZXJnaW5nIG1ldGFkYXRhIHJlZHVjZXMgdGhlIG51bWJlciBvZiB3cmFwcGVycyB1c2VkIHRvIGludm9rZSBhIGZ1bmN0aW9uLlxuICAgICAqIFRoaXMgaXMgcG9zc2libGUgYmVjYXVzZSBtZXRob2RzIGxpa2UgYF8uYmluZGAsIGBfLmN1cnJ5YCwgYW5kIGBfLnBhcnRpYWxgXG4gICAgICogbWF5IGJlIGFwcGxpZWQgcmVnYXJkbGVzcyBvZiBleGVjdXRpb24gb3JkZXIuIE1ldGhvZHMgbGlrZSBgXy5hcnlgIGFuZFxuICAgICAqIGBfLnJlYXJnYCBtb2RpZnkgZnVuY3Rpb24gYXJndW1lbnRzLCBtYWtpbmcgdGhlIG9yZGVyIGluIHdoaWNoIHRoZXkgYXJlXG4gICAgICogZXhlY3V0ZWQgaW1wb3J0YW50LCBwcmV2ZW50aW5nIHRoZSBtZXJnaW5nIG9mIG1ldGFkYXRhLiBIb3dldmVyLCB3ZSBtYWtlXG4gICAgICogYW4gZXhjZXB0aW9uIGZvciBhIHNhZmUgY29tYmluZWQgY2FzZSB3aGVyZSBjdXJyaWVkIGZ1bmN0aW9ucyBoYXZlIGBfLmFyeWBcbiAgICAgKiBhbmQgb3IgYF8ucmVhcmdgIGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgVGhlIGRlc3RpbmF0aW9uIG1ldGFkYXRhLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgc291cmNlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgZGF0YWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVyZ2VEYXRhKGRhdGEsIHNvdXJjZSkge1xuICAgICAgdmFyIGJpdG1hc2sgPSBkYXRhWzFdLFxuICAgICAgICAgIHNyY0JpdG1hc2sgPSBzb3VyY2VbMV0sXG4gICAgICAgICAgbmV3Qml0bWFzayA9IGJpdG1hc2sgfCBzcmNCaXRtYXNrLFxuICAgICAgICAgIGlzQ29tbW9uID0gbmV3Qml0bWFzayA8IChXUkFQX0JJTkRfRkxBRyB8IFdSQVBfQklORF9LRVlfRkxBRyB8IFdSQVBfQVJZX0ZMQUcpO1xuXG4gICAgICB2YXIgaXNDb21ibyA9XG4gICAgICAgICgoc3JjQml0bWFzayA9PSBXUkFQX0FSWV9GTEFHKSAmJiAoYml0bWFzayA9PSBXUkFQX0NVUlJZX0ZMQUcpKSB8fFxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gV1JBUF9BUllfRkxBRykgJiYgKGJpdG1hc2sgPT0gV1JBUF9SRUFSR19GTEFHKSAmJiAoZGF0YVs3XS5sZW5ndGggPD0gc291cmNlWzhdKSkgfHxcbiAgICAgICAgKChzcmNCaXRtYXNrID09IChXUkFQX0FSWV9GTEFHIHwgV1JBUF9SRUFSR19GTEFHKSkgJiYgKHNvdXJjZVs3XS5sZW5ndGggPD0gc291cmNlWzhdKSAmJiAoYml0bWFzayA9PSBXUkFQX0NVUlJZX0ZMQUcpKTtcblxuICAgICAgLy8gRXhpdCBlYXJseSBpZiBtZXRhZGF0YSBjYW4ndCBiZSBtZXJnZWQuXG4gICAgICBpZiAoIShpc0NvbW1vbiB8fCBpc0NvbWJvKSkge1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYHRoaXNBcmdgIGlmIGF2YWlsYWJsZS5cbiAgICAgIGlmIChzcmNCaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcpIHtcbiAgICAgICAgZGF0YVsyXSA9IHNvdXJjZVsyXTtcbiAgICAgICAgLy8gU2V0IHdoZW4gY3VycnlpbmcgYSBib3VuZCBmdW5jdGlvbi5cbiAgICAgICAgbmV3Qml0bWFzayB8PSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcgPyAwIDogV1JBUF9DVVJSWV9CT1VORF9GTEFHO1xuICAgICAgfVxuICAgICAgLy8gQ29tcG9zZSBwYXJ0aWFsIGFyZ3VtZW50cy5cbiAgICAgIHZhciB2YWx1ZSA9IHNvdXJjZVszXTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB2YXIgcGFydGlhbHMgPSBkYXRhWzNdO1xuICAgICAgICBkYXRhWzNdID0gcGFydGlhbHMgPyBjb21wb3NlQXJncyhwYXJ0aWFscywgdmFsdWUsIHNvdXJjZVs0XSkgOiB2YWx1ZTtcbiAgICAgICAgZGF0YVs0XSA9IHBhcnRpYWxzID8gcmVwbGFjZUhvbGRlcnMoZGF0YVszXSwgUExBQ0VIT0xERVIpIDogc291cmNlWzRdO1xuICAgICAgfVxuICAgICAgLy8gQ29tcG9zZSBwYXJ0aWFsIHJpZ2h0IGFyZ3VtZW50cy5cbiAgICAgIHZhbHVlID0gc291cmNlWzVdO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHBhcnRpYWxzID0gZGF0YVs1XTtcbiAgICAgICAgZGF0YVs1XSA9IHBhcnRpYWxzID8gY29tcG9zZUFyZ3NSaWdodChwYXJ0aWFscywgdmFsdWUsIHNvdXJjZVs2XSkgOiB2YWx1ZTtcbiAgICAgICAgZGF0YVs2XSA9IHBhcnRpYWxzID8gcmVwbGFjZUhvbGRlcnMoZGF0YVs1XSwgUExBQ0VIT0xERVIpIDogc291cmNlWzZdO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJnUG9zYCBpZiBhdmFpbGFibGUuXG4gICAgICB2YWx1ZSA9IHNvdXJjZVs3XTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBkYXRhWzddID0gdmFsdWU7XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBhcnlgIGlmIGl0J3Mgc21hbGxlci5cbiAgICAgIGlmIChzcmNCaXRtYXNrICYgV1JBUF9BUllfRkxBRykge1xuICAgICAgICBkYXRhWzhdID0gZGF0YVs4XSA9PSBudWxsID8gc291cmNlWzhdIDogbmF0aXZlTWluKGRhdGFbOF0sIHNvdXJjZVs4XSk7XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBhcml0eWAgaWYgb25lIGlzIG5vdCBwcm92aWRlZC5cbiAgICAgIGlmIChkYXRhWzldID09IG51bGwpIHtcbiAgICAgICAgZGF0YVs5XSA9IHNvdXJjZVs5XTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGZ1bmNgIGFuZCBtZXJnZSBiaXRtYXNrcy5cbiAgICAgIGRhdGFbMF0gPSBzb3VyY2VbMF07XG4gICAgICBkYXRhWzFdID0gbmV3Qml0bWFzaztcblxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlXG4gICAgICogW2BPYmplY3Qua2V5c2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICAgICAqIGV4Y2VwdCB0aGF0IGl0IGluY2x1ZGVzIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5hdGl2ZUtleXNJbihvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGlmIChvYmplY3QgIT0gbnVsbCkge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VSZXN0YCB3aGljaCB0cmFuc2Zvcm1zIHRoZSByZXN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIHJlc3QgYXJyYXkgdHJhbnNmb3JtLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCB0cmFuc2Zvcm0pIHtcbiAgICAgIHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0ID09PSB1bmRlZmluZWQgPyAoZnVuYy5sZW5ndGggLSAxKSA6IHN0YXJ0LCAwKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICAgICAgYXJyYXkgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IC0xO1xuICAgICAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBzdGFydCkge1xuICAgICAgICAgIG90aGVyQXJnc1tpbmRleF0gPSBhcmdzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBvdGhlckFyZ3Nbc3RhcnRdID0gdHJhbnNmb3JtKGFycmF5KTtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIG90aGVyQXJncyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHBhcmVudCB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXRoIFRoZSBwYXRoIHRvIGdldCB0aGUgcGFyZW50IHZhbHVlIG9mLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwYXJlbnQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFyZW50KG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIHBhdGgubGVuZ3RoIDwgMiA/IG9iamVjdCA6IGJhc2VHZXQob2JqZWN0LCBiYXNlU2xpY2UocGF0aCwgMCwgLTEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW9yZGVyIGBhcnJheWAgYWNjb3JkaW5nIHRvIHRoZSBzcGVjaWZpZWQgaW5kZXhlcyB3aGVyZSB0aGUgZWxlbWVudCBhdFxuICAgICAqIHRoZSBmaXJzdCBpbmRleCBpcyBhc3NpZ25lZCBhcyB0aGUgZmlyc3QgZWxlbWVudCwgdGhlIGVsZW1lbnQgYXRcbiAgICAgKiB0aGUgc2Vjb25kIGluZGV4IGlzIGFzc2lnbmVkIGFzIHRoZSBzZWNvbmQgZWxlbWVudCwgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcmVvcmRlci5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBpbmRleGVzIFRoZSBhcnJhbmdlZCBhcnJheSBpbmRleGVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlb3JkZXIoYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBhcnJMZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKGluZGV4ZXMubGVuZ3RoLCBhcnJMZW5ndGgpLFxuICAgICAgICAgIG9sZEFycmF5ID0gY29weUFycmF5KGFycmF5KTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGluZGV4ZXNbbGVuZ3RoXTtcbiAgICAgICAgYXJyYXlbbGVuZ3RoXSA9IGlzSW5kZXgoaW5kZXgsIGFyckxlbmd0aCkgPyBvbGRBcnJheVtpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBtZXRhZGF0YSBmb3IgYGZ1bmNgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIElmIHRoaXMgZnVuY3Rpb24gYmVjb21lcyBob3QsIGkuZS4gaXMgaW52b2tlZCBhIGxvdCBpbiBhIHNob3J0XG4gICAgICogcGVyaW9kIG9mIHRpbWUsIGl0IHdpbGwgdHJpcCBpdHMgYnJlYWtlciBhbmQgdHJhbnNpdGlvbiB0byBhbiBpZGVudGl0eVxuICAgICAqIGZ1bmN0aW9uIHRvIGF2b2lkIGdhcmJhZ2UgY29sbGVjdGlvbiBwYXVzZXMgaW4gVjguIFNlZVxuICAgICAqIFtWOCBpc3N1ZSAyMDcwXShodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yMDcwKVxuICAgICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc29jaWF0ZSBtZXRhZGF0YSB3aXRoLlxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgc2V0RGF0YSA9IHNob3J0T3V0KGJhc2VTZXREYXRhKTtcblxuICAgIC8qKlxuICAgICAqIEEgc2ltcGxlIHdyYXBwZXIgYXJvdW5kIHRoZSBnbG9iYWwgW2BzZXRUaW1lb3V0YF0oaHR0cHM6Ly9tZG4uaW8vc2V0VGltZW91dCkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGludm9jYXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcnxPYmplY3R9IFJldHVybnMgdGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0LlxuICAgICAqL1xuICAgIHZhciBzZXRUaW1lb3V0ID0gY3R4U2V0VGltZW91dCB8fCBmdW5jdGlvbihmdW5jLCB3YWl0KSB7XG4gICAgICByZXR1cm4gcm9vdC5zZXRUaW1lb3V0KGZ1bmMsIHdhaXQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgZnVuY2AgdG8gcmV0dXJuIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBzZXRUb1N0cmluZyA9IHNob3J0T3V0KGJhc2VTZXRUb1N0cmluZyk7XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgd3JhcHBlcmAgdG8gbWltaWMgdGhlIHNvdXJjZSBvZiBgcmVmZXJlbmNlYFxuICAgICAqIHdpdGggd3JhcHBlciBkZXRhaWxzIGluIGEgY29tbWVudCBhdCB0aGUgdG9wIG9mIHRoZSBzb3VyY2UgYm9keS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcHBlciBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlZmVyZW5jZSBUaGUgcmVmZXJlbmNlIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGB3cmFwcGVyYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRXcmFwVG9TdHJpbmcod3JhcHBlciwgcmVmZXJlbmNlLCBiaXRtYXNrKSB7XG4gICAgICB2YXIgc291cmNlID0gKHJlZmVyZW5jZSArICcnKTtcbiAgICAgIHJldHVybiBzZXRUb1N0cmluZyh3cmFwcGVyLCBpbnNlcnRXcmFwRGV0YWlscyhzb3VyY2UsIHVwZGF0ZVdyYXBEZXRhaWxzKGdldFdyYXBEZXRhaWxzKHNvdXJjZSksIGJpdG1hc2spKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQnbGwgc2hvcnQgb3V0IGFuZCBpbnZva2UgYGlkZW50aXR5YCBpbnN0ZWFkXG4gICAgICogb2YgYGZ1bmNgIHdoZW4gaXQncyBjYWxsZWQgYEhPVF9DT1VOVGAgb3IgbW9yZSB0aW1lcyBpbiBgSE9UX1NQQU5gXG4gICAgICogbWlsbGlzZWNvbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzaG9ydGFibGUgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2hvcnRPdXQoZnVuYykge1xuICAgICAgdmFyIGNvdW50ID0gMCxcbiAgICAgICAgICBsYXN0Q2FsbGVkID0gMDtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc3RhbXAgPSBuYXRpdmVOb3coKSxcbiAgICAgICAgICAgIHJlbWFpbmluZyA9IEhPVF9TUEFOIC0gKHN0YW1wIC0gbGFzdENhbGxlZCk7XG5cbiAgICAgICAgbGFzdENhbGxlZCA9IHN0YW1wO1xuICAgICAgICBpZiAocmVtYWluaW5nID4gMCkge1xuICAgICAgICAgIGlmICgrK2NvdW50ID49IEhPVF9DT1VOVCkge1xuICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY291bnQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNodWZmbGVgIHdoaWNoIG11dGF0ZXMgYW5kIHNldHMgdGhlIHNpemUgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNodWZmbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzaXplPWFycmF5Lmxlbmd0aF0gVGhlIHNpemUgb2YgYGFycmF5YC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaHVmZmxlU2VsZihhcnJheSwgc2l6ZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDE7XG5cbiAgICAgIHNpemUgPSBzaXplID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiBzaXplO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBzaXplKSB7XG4gICAgICAgIHZhciByYW5kID0gYmFzZVJhbmRvbShpbmRleCwgbGFzdEluZGV4KSxcbiAgICAgICAgICAgIHZhbHVlID0gYXJyYXlbcmFuZF07XG5cbiAgICAgICAgYXJyYXlbcmFuZF0gPSBhcnJheVtpbmRleF07XG4gICAgICAgIGFycmF5W2luZGV4XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgYXJyYXkubGVuZ3RoID0gc2l6ZTtcbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKi9cbiAgICB2YXIgc3RyaW5nVG9QYXRoID0gbWVtb2l6ZUNhcHBlZChmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGlmIChzdHJpbmcuY2hhckNvZGVBdCgwKSA9PT0gNDYgLyogLiAqLykge1xuICAgICAgICByZXN1bHQucHVzaCgnJyk7XG4gICAgICB9XG4gICAgICBzdHJpbmcucmVwbGFjZShyZVByb3BOYW1lLCBmdW5jdGlvbihtYXRjaCwgbnVtYmVyLCBxdW90ZSwgc3ViU3RyaW5nKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHF1b3RlID8gc3ViU3RyaW5nLnJlcGxhY2UocmVFc2NhcGVDaGFyLCAnJDEnKSA6IChudW1iZXIgfHwgbWF0Y2gpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcga2V5IGlmIGl0J3Mgbm90IGEgc3RyaW5nIG9yIHN5bWJvbC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfHN5bWJvbH0gUmV0dXJucyB0aGUga2V5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvS2V5KHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICAgICAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICAgICAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB9XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB3cmFwcGVyIGBkZXRhaWxzYCBiYXNlZCBvbiBgYml0bWFza2AgZmxhZ3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gZGV0YWlscyBUaGUgZGV0YWlscyB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGRldGFpbHNgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZVdyYXBEZXRhaWxzKGRldGFpbHMsIGJpdG1hc2spIHtcbiAgICAgIGFycmF5RWFjaCh3cmFwRmxhZ3MsIGZ1bmN0aW9uKHBhaXIpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gJ18uJyArIHBhaXJbMF07XG4gICAgICAgIGlmICgoYml0bWFzayAmIHBhaXJbMV0pICYmICFhcnJheUluY2x1ZGVzKGRldGFpbHMsIHZhbHVlKSkge1xuICAgICAgICAgIGRldGFpbHMucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGRldGFpbHMuc29ydCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgd3JhcHBlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB3cmFwcGVyIFRoZSB3cmFwcGVyIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCB3cmFwcGVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDbG9uZSh3cmFwcGVyKSB7XG4gICAgICBpZiAod3JhcHBlciBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHJldHVybiB3cmFwcGVyLmNsb25lKCk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IExvZGFzaFdyYXBwZXIod3JhcHBlci5fX3dyYXBwZWRfXywgd3JhcHBlci5fX2NoYWluX18pO1xuICAgICAgcmVzdWx0Ll9fYWN0aW9uc19fID0gY29weUFycmF5KHdyYXBwZXIuX19hY3Rpb25zX18pO1xuICAgICAgcmVzdWx0Ll9faW5kZXhfXyAgPSB3cmFwcGVyLl9faW5kZXhfXztcbiAgICAgIHJlc3VsdC5fX3ZhbHVlc19fID0gd3JhcHBlci5fX3ZhbHVlc19fO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzIHNwbGl0IGludG8gZ3JvdXBzIHRoZSBsZW5ndGggb2YgYHNpemVgLlxuICAgICAqIElmIGBhcnJheWAgY2FuJ3QgYmUgc3BsaXQgZXZlbmx5LCB0aGUgZmluYWwgY2h1bmsgd2lsbCBiZSB0aGUgcmVtYWluaW5nXG4gICAgICogZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NpemU9MV0gVGhlIGxlbmd0aCBvZiBlYWNoIGNodW5rXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjaHVua3MuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2h1bmsoWydhJywgJ2InLCAnYycsICdkJ10sIDIpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYiddLCBbJ2MnLCAnZCddXVxuICAgICAqXG4gICAgICogXy5jaHVuayhbJ2EnLCAnYicsICdjJywgJ2QnXSwgMyk7XG4gICAgICogLy8gPT4gW1snYScsICdiJywgJ2MnXSwgWydkJ11dXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2h1bmsoYXJyYXksIHNpemUsIGd1YXJkKSB7XG4gICAgICBpZiAoKGd1YXJkID8gaXNJdGVyYXRlZUNhbGwoYXJyYXksIHNpemUsIGd1YXJkKSA6IHNpemUgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgc2l6ZSA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaXplID0gbmF0aXZlTWF4KHRvSW50ZWdlcihzaXplKSwgMCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCB8fCBzaXplIDwgMSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShuYXRpdmVDZWlsKGxlbmd0aCAvIHNpemUpKTtcblxuICAgICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IGJhc2VTbGljZShhcnJheSwgaW5kZXgsIChpbmRleCArPSBzaXplKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgZmFsc2V5IHZhbHVlcyByZW1vdmVkLiBUaGUgdmFsdWVzIGBmYWxzZWAsIGBudWxsYCxcbiAgICAgKiBgMGAsIGBcIlwiYCwgYHVuZGVmaW5lZGAsIGFuZCBgTmFOYCBhcmUgZmFsc2V5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNvbXBhY3QoWzAsIDEsIGZhbHNlLCAyLCAnJywgM10pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhY3QoYXJyYXkpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGFycmF5IGNvbmNhdGVuYXRpbmcgYGFycmF5YCB3aXRoIGFueSBhZGRpdGlvbmFsIGFycmF5c1xuICAgICAqIGFuZC9vciB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29uY2F0ZW5hdGUuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGNvbmNhdGVuYXRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGNvbmNhdGVuYXRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzFdO1xuICAgICAqIHZhciBvdGhlciA9IF8uY29uY2F0KGFycmF5LCAyLCBbM10sIFtbNF1dKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG90aGVyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgWzRdXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmNhdCgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGFyZ3MgPSBBcnJheShsZW5ndGggLSAxKSxcbiAgICAgICAgICBhcnJheSA9IGFyZ3VtZW50c1swXSxcbiAgICAgICAgICBpbmRleCA9IGxlbmd0aDtcblxuICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgYXJnc1tpbmRleCAtIDFdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheVB1c2goaXNBcnJheShhcnJheSkgPyBjb3B5QXJyYXkoYXJyYXkpIDogW2FycmF5XSwgYmFzZUZsYXR0ZW4oYXJncywgMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgYGFycmF5YCB2YWx1ZXMgbm90IGluY2x1ZGVkIGluIHRoZSBvdGhlciBnaXZlbiBhcnJheXNcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAc2VlIF8ud2l0aG91dCwgXy54b3JcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaWZmZXJlbmNlKFsyLCAxXSwgWzIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSkpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRpZmZlcmVuY2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIGFuZCBgdmFsdWVzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG4gICAgICogYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxCeWAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaWZmZXJlbmNlQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZGlmZmVyZW5jZUJ5KFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgW3sgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIHZhciBkaWZmZXJlbmNlQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KHZhbHVlcyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kaWZmZXJlbmNlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlgIHRvIGB2YWx1ZXNgLiBUaGUgb3JkZXIgYW5kXG4gICAgICogcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGNvbXBhcmF0b3JcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbFdpdGhgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqXG4gICAgICogXy5kaWZmZXJlbmNlV2l0aChvYmplY3RzLCBbeyAneCc6IDEsICd5JzogMiB9XSwgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciBkaWZmZXJlbmNlV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdCh2YWx1ZXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGNvbXBhcmF0b3IpKSB7XG4gICAgICAgIGNvbXBhcmF0b3IgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjUuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBkcm9wLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3AoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgbiA8IDAgPyAwIDogbiwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGVuZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBkcm9wLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcFJpZ2h0KGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIG4gPSBsZW5ndGggLSBuO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgMCwgbiA8IDAgPyAwIDogbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZXhjbHVkaW5nIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgZW5kLlxuICAgICAqIEVsZW1lbnRzIGFyZSBkcm9wcGVkIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BSaWdodFdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgdHJ1ZSwgdHJ1ZSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBleGNsdWRpbmcgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAgICogRWxlbWVudHMgYXJlIGRyb3BwZWQgdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcFdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgdHJ1ZSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaWxscyBlbGVtZW50cyBvZiBgYXJyYXlgIHdpdGggYHZhbHVlYCBmcm9tIGBzdGFydGAgdXAgdG8sIGJ1dCBub3RcbiAgICAgKiBpbmNsdWRpbmcsIGBlbmRgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmaWxsLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGZpbGwgYGFycmF5YCB3aXRoLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqXG4gICAgICogXy5maWxsKGFycmF5LCAnYScpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYScsICdhJ11cbiAgICAgKlxuICAgICAqIF8uZmlsbChBcnJheSgzKSwgMik7XG4gICAgICogLy8gPT4gWzIsIDIsIDJdXG4gICAgICpcbiAgICAgKiBfLmZpbGwoWzQsIDYsIDgsIDEwXSwgJyonLCAxLCAzKTtcbiAgICAgKiAvLyA9PiBbNCwgJyonLCAnKicsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbGwoYXJyYXksIHZhbHVlLCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoc3RhcnQgJiYgdHlwZW9mIHN0YXJ0ICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQpKSB7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgZW5kID0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZmlyc3RcbiAgICAgKiBlbGVtZW50IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlciA9PSAnYmFybmV5JzsgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgeyAndXNlcic6ICdmcmVkJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGZyb21JbmRleCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICBpbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZpbmRJbmRleChhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgaW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZEluZGV4YCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzXG4gICAgICogb2YgYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1hcnJheS5sZW5ndGgtMV0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyID09ICdwZWJibGVzJzsgfSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kTGFzdEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gbGVuZ3RoIC0gMTtcbiAgICAgIGlmIChmcm9tSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbmRleCA9IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgICBpbmRleCA9IGZyb21JbmRleCA8IDBcbiAgICAgICAgICA/IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMClcbiAgICAgICAgICA6IG5hdGl2ZU1pbihpbmRleCwgbGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZpbmRJbmRleChhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgaW5kZXgsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZsYXR0ZW5zIGBhcnJheWAgYSBzaW5nbGUgbGV2ZWwgZGVlcC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuKFsxLCBbMiwgWzMsIFs0XV0sIDVdXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIFszLCBbNF1dLCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW4oYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlRmxhdHRlbihhcnJheSwgMSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSBmbGF0dGVucyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW5EZWVwKFsxLCBbMiwgWzMsIFs0XV0sIDVdXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIDQsIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbkRlZXAoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlRmxhdHRlbihhcnJheSwgSU5GSU5JVFkpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgZmxhdHRlbiBgYXJyYXlgIHVwIHRvIGBkZXB0aGAgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlcHRoPTFdIFRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCBbMiwgWzMsIFs0XV0sIDVdXTtcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlcHRoKGFycmF5LCAxKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgWzMsIFs0XV0sIDVdXG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW5EZXB0aChhcnJheSwgMik7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIFs0XSwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuRGVwdGgoYXJyYXksIGRlcHRoKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBkZXB0aCA9IGRlcHRoID09PSB1bmRlZmluZWQgPyAxIDogdG9JbnRlZ2VyKGRlcHRoKTtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihhcnJheSwgZGVwdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBpbnZlcnNlIG9mIGBfLnRvUGFpcnNgOyB0aGlzIG1ldGhvZCByZXR1cm5zIGFuIG9iamVjdCBjb21wb3NlZFxuICAgICAqIGZyb20ga2V5LXZhbHVlIGBwYWlyc2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlycyBUaGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZnJvbVBhaXJzKFtbJ2EnLCAxXSwgWydiJywgMl1dKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tUGFpcnMocGFpcnMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhaXJzID09IG51bGwgPyAwIDogcGFpcnMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2luZGV4XTtcbiAgICAgICAgcmVzdWx0W3BhaXJbMF1dID0gcGFpclsxXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGFsaWFzIGZpcnN0XG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaGVhZChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIF8uaGVhZChbXSk7XG4gICAgICogLy8gPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGVhZChhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYXJyYXlbMF0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYHZhbHVlYCBpcyBmb3VuZCBpbiBgYXJyYXlgXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIElmIGBmcm9tSW5kZXhgIGlzIG5lZ2F0aXZlLCBpdCdzIHVzZWQgYXMgdGhlXG4gICAgICogb2Zmc2V0IGZyb20gdGhlIGVuZCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbmRleE9mKFsxLCAyLCAxLCAyXSwgMik7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gU2VhcmNoIGZyb20gdGhlIGBmcm9tSW5kZXhgLlxuICAgICAqIF8uaW5kZXhPZihbMSwgMiwgMSwgMl0sIDIsIDIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggPT0gbnVsbCA/IDAgOiB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgaW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgaW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIGJ1dCB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluaXRpYWwoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0aWFsKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZVNsaWNlKGFycmF5LCAwLCAtMSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMgdGhhdCBhcmUgaW5jbHVkZWQgaW4gYWxsIGdpdmVuIGFycmF5c1xuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBpbnRlcnNlY3RpbmcgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludGVyc2VjdGlvbihbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzJdXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbiA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmludGVyc2VjdGlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGVhY2ggYGFycmF5c2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBpbnRlcnNlY3RpbmcgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludGVyc2VjdGlvbkJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjFdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmludGVyc2VjdGlvbkJ5KFt7ICd4JzogMSB9XSwgW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSB9XVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb25CeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpLFxuICAgICAgICAgIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG5cbiAgICAgIGlmIChpdGVyYXRlZSA9PT0gbGFzdChtYXBwZWQpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFwcGVkLnBvcCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChtYXBwZWQubGVuZ3RoICYmIG1hcHBlZFswXSA9PT0gYXJyYXlzWzBdKVxuICAgICAgICA/IGJhc2VJbnRlcnNlY3Rpb24obWFwcGVkLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmludGVyc2VjdGlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5c2AuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlc1xuICAgICAqIG9mIHJlc3VsdCB2YWx1ZXMgYXJlIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgY29tcGFyYXRvciBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uV2l0aChvYmplY3RzLCBvdGhlcnMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KGFycmF5cyksXG4gICAgICAgICAgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcblxuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgbWFwcGVkLnBvcCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChtYXBwZWQubGVuZ3RoICYmIG1hcHBlZFswXSA9PT0gYXJyYXlzWzBdKVxuICAgICAgICA/IGJhc2VJbnRlcnNlY3Rpb24obWFwcGVkLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhbGwgZWxlbWVudHMgaW4gYGFycmF5YCBpbnRvIGEgc3RyaW5nIHNlcGFyYXRlZCBieSBgc2VwYXJhdG9yYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb252ZXJ0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2VwYXJhdG9yPScsJ10gVGhlIGVsZW1lbnQgc2VwYXJhdG9yLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGpvaW5lZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uam9pbihbJ2EnLCAnYicsICdjJ10sICd+Jyk7XG4gICAgICogLy8gPT4gJ2F+Yn5jJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGpvaW4oYXJyYXksIHNlcGFyYXRvcikge1xuICAgICAgcmV0dXJuIGFycmF5ID09IG51bGwgPyAnJyA6IG5hdGl2ZUpvaW4uY2FsbChhcnJheSwgc2VwYXJhdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubGFzdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXN0KGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYXJyYXlbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbmRleE9mYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGFycmF5YCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWFycmF5Lmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sYXN0SW5kZXhPZihbMSwgMiwgMSwgMl0sIDIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIC8vIFNlYXJjaCBmcm9tIHRoZSBgZnJvbUluZGV4YC5cbiAgICAgKiBfLmxhc3RJbmRleE9mKFsxLCAyLCAxLCAyXSwgMiwgMik7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBsZW5ndGg7XG4gICAgICBpZiAoZnJvbUluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaW5kZXggPSB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgICAgaW5kZXggPSBpbmRleCA8IDAgPyBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApIDogbmF0aXZlTWluKGluZGV4LCBsZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWVcbiAgICAgICAgPyBzdHJpY3RMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGluZGV4KVxuICAgICAgICA6IGJhc2VGaW5kSW5kZXgoYXJyYXksIGJhc2VJc05hTiwgaW5kZXgsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGVsZW1lbnQgYXQgaW5kZXggYG5gIG9mIGBhcnJheWAuIElmIGBuYCBpcyBuZWdhdGl2ZSwgdGhlIG50aFxuICAgICAqIGVsZW1lbnQgZnJvbSB0aGUgZW5kIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MF0gVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbnRoIGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdkJ107XG4gICAgICpcbiAgICAgKiBfLm50aChhcnJheSwgMSk7XG4gICAgICogLy8gPT4gJ2InXG4gICAgICpcbiAgICAgKiBfLm50aChhcnJheSwgLTIpO1xuICAgICAqIC8vID0+ICdjJztcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBudGgoYXJyYXksIG4pIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VOdGgoYXJyYXksIHRvSW50ZWdlcihuKSkgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgZ2l2ZW4gdmFsdWVzIGZyb20gYGFycmF5YCB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy53aXRob3V0YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLiBVc2UgYF8ucmVtb3ZlYFxuICAgICAqIHRvIHJlbW92ZSBlbGVtZW50cyBmcm9tIGFuIGFycmF5IGJ5IHByZWRpY2F0ZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdhJywgJ2InLCAnYyddO1xuICAgICAqXG4gICAgICogXy5wdWxsKGFycmF5LCAnYScsICdjJyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYicsICdiJ11cbiAgICAgKi9cbiAgICB2YXIgcHVsbCA9IGJhc2VSZXN0KHB1bGxBbGwpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGFuIGFycmF5IG9mIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdhJywgJ2InLCAnYyddO1xuICAgICAqXG4gICAgICogXy5wdWxsQWxsKGFycmF5LCBbJ2EnLCAnYyddKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydiJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHB1bGxBbGwoYXJyYXksIHZhbHVlcykge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcylcbiAgICAgICAgOiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxBbGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIGFuZCBgdmFsdWVzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG4gICAgICogYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VCeWAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH0sIHsgJ3gnOiAzIH0sIHsgJ3gnOiAxIH1dO1xuICAgICAqXG4gICAgICogXy5wdWxsQWxsQnkoYXJyYXksIFt7ICd4JzogMSB9LCB7ICd4JzogMyB9XSwgJ3gnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbEJ5KGFycmF5LCB2YWx1ZXMsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsQWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlgIHRvIGB2YWx1ZXNgLiBUaGUgY29tcGFyYXRvciBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlV2l0aGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMywgJ3knOiA0IH0sIHsgJ3gnOiA1LCAneSc6IDYgfV07XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGxXaXRoKGFycmF5LCBbeyAneCc6IDMsICd5JzogNCB9XSwgXy5pc0VxdWFsKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDUsICd5JzogNiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHB1bGxBbGxXaXRoKGFycmF5LCB2YWx1ZXMsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMsIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGVsZW1lbnRzIGZyb20gYGFycmF5YCBjb3JyZXNwb25kaW5nIHRvIGBpbmRleGVzYCBhbmQgcmV0dXJucyBhblxuICAgICAqIGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmF0YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0gey4uLihudW1iZXJ8bnVtYmVyW10pfSBbaW5kZXhlc10gVGhlIGluZGV4ZXMgb2YgZWxlbWVudHMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnZCddO1xuICAgICAqIHZhciBwdWxsZWQgPSBfLnB1bGxBdChhcnJheSwgWzEsIDNdKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYyddXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhwdWxsZWQpO1xuICAgICAqIC8vID0+IFsnYicsICdkJ11cbiAgICAgKi9cbiAgICB2YXIgcHVsbEF0ID0gZmxhdFJlc3QoZnVuY3Rpb24oYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBiYXNlQXQoYXJyYXksIGluZGV4ZXMpO1xuXG4gICAgICBiYXNlUHVsbEF0KGFycmF5LCBhcnJheU1hcChpbmRleGVzLCBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICByZXR1cm4gaXNJbmRleChpbmRleCwgbGVuZ3RoKSA/ICtpbmRleCA6IGluZGV4O1xuICAgICAgfSkuc29ydChjb21wYXJlQXNjZW5kaW5nKSk7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBlbGVtZW50cyBmcm9tIGBhcnJheWAgdGhhdCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3JcbiAgICAgKiBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiB0aGUgcmVtb3ZlZCBlbGVtZW50cy4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZmlsdGVyYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLiBVc2UgYF8ucHVsbGBcbiAgICAgKiB0byBwdWxsIGVsZW1lbnRzIGZyb20gYW4gYXJyYXkgYnkgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgMywgNF07XG4gICAgICogdmFyIGV2ZW5zID0gXy5yZW1vdmUoYXJyYXksIGZ1bmN0aW9uKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAwO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAzXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZXZlbnMpO1xuICAgICAqIC8vID0+IFsyLCA0XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlbW92ZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmRleGVzID0gW10sXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBwcmVkaWNhdGUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICAgIGluZGV4ZXMucHVzaChpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJhc2VQdWxsQXQoYXJyYXksIGluZGV4ZXMpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnNlcyBgYXJyYXlgIHNvIHRoYXQgdGhlIGZpcnN0IGVsZW1lbnQgYmVjb21lcyB0aGUgbGFzdCwgdGhlIHNlY29uZFxuICAgICAqIGVsZW1lbnQgYmVjb21lcyB0aGUgc2Vjb25kIHRvIGxhc3QsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAgYW5kIGlzIGJhc2VkIG9uXG4gICAgICogW2BBcnJheSNyZXZlcnNlYF0oaHR0cHM6Ly9tZG4uaW8vQXJyYXkvcmV2ZXJzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfLnJldmVyc2UoYXJyYXkpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJldmVyc2UoYXJyYXkpIHtcbiAgICAgIHJldHVybiBhcnJheSA9PSBudWxsID8gYXJyYXkgOiBuYXRpdmVSZXZlcnNlLmNhbGwoYXJyYXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGZyb20gYHN0YXJ0YCB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcsIGBlbmRgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW5zdGVhZCBvZlxuICAgICAqIFtgQXJyYXkjc2xpY2VgXShodHRwczovL21kbi5pby9BcnJheS9zbGljZSkgdG8gZW5zdXJlIGRlbnNlIGFycmF5cyBhcmVcbiAgICAgKiByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzbGljZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoZW5kICYmIHR5cGVvZiBlbmQgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoYXJyYXksIHN0YXJ0LCBlbmQpKSB7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgZW5kID0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHN0YXJ0ID0gc3RhcnQgPT0gbnVsbCA/IDAgOiB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IHRvSW50ZWdlcihlbmQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlcyBhIGJpbmFyeSBzZWFyY2ggdG8gZGV0ZXJtaW5lIHRoZSBsb3dlc3QgaW5kZXggYXQgd2hpY2ggYHZhbHVlYFxuICAgICAqIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG8gbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4KFszMCwgNTBdLCA0MCk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydGVkSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGUgdGhlaXJcbiAgICAgKiBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiA0IH0sIHsgJ3gnOiA1IH1dO1xuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ueDsgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb3J0ZWRJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sICd4Jyk7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IHBlcmZvcm1zIGEgYmluYXJ5XG4gICAgICogc2VhcmNoIG9uIGEgc29ydGVkIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXhPZihbNCwgNSwgNSwgNSwgNl0sIDUpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleE9mKGFycmF5LCB2YWx1ZSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICB2YXIgaW5kZXggPSBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKTtcbiAgICAgICAgaWYgKGluZGV4IDwgbGVuZ3RoICYmIGVxKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRJbmRleGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgaGlnaGVzdFxuICAgICAqIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkIGludG8gYGFycmF5YCBpbiBvcmRlciB0b1xuICAgICAqIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXgoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4KGFycmF5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydGVkTGFzdEluZGV4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlIHRoZWlyXG4gICAgICogc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogNCB9LCB7ICd4JzogNSB9XTtcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgZnVuY3Rpb24obykgeyByZXR1cm4gby54OyB9KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sICd4Jyk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5sYXN0SW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgcGVyZm9ybXMgYSBiaW5hcnlcbiAgICAgKiBzZWFyY2ggb24gYSBzb3J0ZWQgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhPZihbNCwgNSwgNSwgNSwgNl0sIDUpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSwgdHJ1ZSkgLSAxO1xuICAgICAgICBpZiAoZXEoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0J3MgZGVzaWduZWQgYW5kIG9wdGltaXplZFxuICAgICAqIGZvciBzb3J0ZWQgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkVW5pcShbMSwgMSwgMl0pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZFVuaXEoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTb3J0ZWRVbmlxKGFycmF5KVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcUJ5YCBleGNlcHQgdGhhdCBpdCdzIGRlc2lnbmVkIGFuZCBvcHRpbWl6ZWRcbiAgICAgKiBmb3Igc29ydGVkIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkVW5pcUJ5KFsxLjEsIDEuMiwgMi4zLCAyLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4xLCAyLjNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkVW5pcUJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVNvcnRlZFVuaXEoYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCBidXQgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGFpbChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRhaWwoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlU2xpY2UoYXJyYXksIDEsIGxlbmd0aCkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gdGFrZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlKGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgMCwgbiA8IDAgPyAwIDogbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgZW5kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHRha2UuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlUmlnaHQoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgbiA9IGxlbmd0aCAtIG47XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBuIDwgMCA/IDAgOiBuLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgZW5kLiBFbGVtZW50cyBhcmVcbiAgICAgKiB0YWtlbiB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGhcbiAgICAgKiB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VSaWdodFdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgZmFsc2UsIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBiZWdpbm5pbmcuIEVsZW1lbnRzXG4gICAgICogYXJlIHRha2VuIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aFxuICAgICAqIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMsIGluIG9yZGVyLCBmcm9tIGFsbCBnaXZlbiBhcnJheXMgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pb24oWzJdLCBbMSwgMl0pO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIHZhciB1bmlvbiA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFycmF5cywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnlcbiAgICAgKiB3aGljaCB1bmlxdWVuZXNzIGlzIGNvbXB1dGVkLiBSZXN1bHQgdmFsdWVzIGFyZSBjaG9zZW4gZnJvbSB0aGUgZmlyc3RcbiAgICAgKiBhcnJheSBpbiB3aGljaCB0aGUgdmFsdWUgb2NjdXJzLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pb25CeShbMi4xXSwgWzEuMiwgMi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzIuMSwgMS4yXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy51bmlvbkJ5KFt7ICd4JzogMSB9XSwgW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIHZhciB1bmlvbkJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFycmF5cywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5c2AuIFJlc3VsdCB2YWx1ZXMgYXJlIGNob3NlbiBmcm9tXG4gICAgICogdGhlIGZpcnN0IGFycmF5IGluIHdoaWNoIHRoZSB2YWx1ZSBvY2N1cnMuIFRoZSBjb21wYXJhdG9yIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLnVuaW9uV2l0aChvYmplY3RzLCBvdGhlcnMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIHVuaW9uV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KGFycmF5cyk7XG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIHVuZGVmaW5lZCwgY29tcGFyYXRvcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZHVwbGljYXRlLWZyZWUgdmVyc2lvbiBvZiBhbiBhcnJheSwgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucywgaW4gd2hpY2ggb25seSB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBlYWNoIGVsZW1lbnRcbiAgICAgKiBpcyBrZXB0LiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyXG4gICAgICogaW4gdGhlIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcShbMiwgMSwgMl0pO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXEoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5KSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHVuaXF1ZW5lc3MgaXMgY29tcHV0ZWQuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlXG4gICAgICogb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcUJ5KFsyLjEsIDEuMiwgMi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzIuMSwgMS4yXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy51bmlxQnkoW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXFCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlgLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpc1xuICAgICAqIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5LlRoZSBjb21wYXJhdG9yIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLnVuaXFXaXRoKG9iamVjdHMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXFXaXRoKGFycmF5LCBjb21wYXJhdG9yKSB7XG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGFuIGFycmF5IG9mIGdyb3VwZWRcbiAgICAgKiBlbGVtZW50cyBhbmQgY3JlYXRlcyBhbiBhcnJheSByZWdyb3VwaW5nIHRoZSBlbGVtZW50cyB0byB0aGVpciBwcmUtemlwXG4gICAgICogY29uZmlndXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjIuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgemlwcGVkID0gXy56aXAoWydhJywgJ2InXSwgWzEsIDJdLCBbdHJ1ZSwgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMSwgdHJ1ZV0sIFsnYicsIDIsIGZhbHNlXV1cbiAgICAgKlxuICAgICAqIF8udW56aXAoemlwcGVkKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InXSwgWzEsIDJdLCBbdHJ1ZSwgZmFsc2VdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuemlwKGFycmF5KSB7XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSAwO1xuICAgICAgYXJyYXkgPSBhcnJheUZpbHRlcihhcnJheSwgZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGdyb3VwKSkge1xuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChncm91cC5sZW5ndGgsIGxlbmd0aCk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGJhc2VUaW1lcyhsZW5ndGgsIGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBhcnJheU1hcChhcnJheSwgYmFzZVByb3BlcnR5KGluZGV4KSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuemlwYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgdG8gc3BlY2lmeVxuICAgICAqIGhvdyByZWdyb3VwZWQgdmFsdWVzIHNob3VsZCBiZSBjb21iaW5lZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aGVcbiAgICAgKiBlbGVtZW50cyBvZiBlYWNoIGdyb3VwOiAoLi4uZ3JvdXApLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmVcbiAgICAgKiAgcmVncm91cGVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZWdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB6aXBwZWQgPSBfLnppcChbMSwgMl0sIFsxMCwgMjBdLCBbMTAwLCAyMDBdKTtcbiAgICAgKiAvLyA9PiBbWzEsIDEwLCAxMDBdLCBbMiwgMjAsIDIwMF1dXG4gICAgICpcbiAgICAgKiBfLnVuemlwV2l0aCh6aXBwZWQsIF8uYWRkKTtcbiAgICAgKiAvLyA9PiBbMywgMzAsIDMwMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bnppcFdpdGgoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSB1bnppcChhcnJheSk7XG4gICAgICBpZiAoaXRlcmF0ZWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5TWFwKHJlc3VsdCwgZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGl0ZXJhdGVlLCB1bmRlZmluZWQsIGdyb3VwKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgZXhjbHVkaW5nIGFsbCBnaXZlbiB2YWx1ZXMgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLmRpZmZlcmVuY2UsIF8ueG9yXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ud2l0aG91dChbMiwgMSwgMiwgM10sIDEsIDIpO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqL1xuICAgIHZhciB3aXRob3V0ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCB2YWx1ZXMpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMgdGhhdCBpcyB0aGVcbiAgICAgKiBbc3ltbWV0cmljIGRpZmZlcmVuY2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1N5bW1ldHJpY19kaWZmZXJlbmNlKVxuICAgICAqIG9mIHRoZSBnaXZlbiBhcnJheXMuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlIG9yZGVyXG4gICAgICogdGhleSBvY2N1ciBpbiB0aGUgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAc2VlIF8uZGlmZmVyZW5jZSwgXy53aXRob3V0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ueG9yKFsyLCAxXSwgWzIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgM11cbiAgICAgKi9cbiAgICB2YXIgeG9yID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICByZXR1cm4gYmFzZVhvcihhcnJheUZpbHRlcihhcnJheXMsIGlzQXJyYXlMaWtlT2JqZWN0KSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnhvcmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGVhY2ggYGFycmF5c2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieVxuICAgICAqIHdoaWNoIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWRcbiAgICAgKiBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXlzLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZVxuICAgICAqIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ueG9yQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzEuMiwgMy40XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy54b3JCeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgeG9yQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVhvcihhcnJheUZpbHRlcihhcnJheXMsIGlzQXJyYXlMaWtlT2JqZWN0KSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ueG9yYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXNcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuIFRoZSBjb21wYXJhdG9yIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLnhvcldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgeG9yV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KGFycmF5cyk7XG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZVhvcihhcnJheUZpbHRlcihhcnJheXMsIGlzQXJyYXlMaWtlT2JqZWN0KSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cywgdGhlIGZpcnN0IG9mIHdoaWNoIGNvbnRhaW5zIHRoZVxuICAgICAqIGZpcnN0IGVsZW1lbnRzIG9mIHRoZSBnaXZlbiBhcnJheXMsIHRoZSBzZWNvbmQgb2Ygd2hpY2ggY29udGFpbnMgdGhlXG4gICAgICogc2Vjb25kIGVsZW1lbnRzIG9mIHRoZSBnaXZlbiBhcnJheXMsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcChbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxLCB0cnVlXSwgWydiJywgMiwgZmFsc2VdXVxuICAgICAqL1xuICAgIHZhciB6aXAgPSBiYXNlUmVzdCh1bnppcCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZyb21QYWlyc2AgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyB0d28gYXJyYXlzLFxuICAgICAqIG9uZSBvZiBwcm9wZXJ0eSBpZGVudGlmaWVycyBhbmQgb25lIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BzPVtdXSBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlcz1bXV0gVGhlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcE9iamVjdChbJ2EnLCAnYiddLCBbMSwgMl0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHppcE9iamVjdChwcm9wcywgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gYmFzZVppcE9iamVjdChwcm9wcyB8fCBbXSwgdmFsdWVzIHx8IFtdLCBhc3NpZ25WYWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy56aXBPYmplY3RgIGV4Y2VwdCB0aGF0IGl0IHN1cHBvcnRzIHByb3BlcnR5IHBhdGhzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BzPVtdXSBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlcz1bXV0gVGhlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcE9iamVjdERlZXAoWydhLmJbMF0uYycsICdhLmJbMV0uZCddLCBbMSwgMl0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdiJzogW3sgJ2MnOiAxIH0sIHsgJ2QnOiAyIH1dIH0gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHppcE9iamVjdERlZXAocHJvcHMsIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGJhc2VaaXBPYmplY3QocHJvcHMgfHwgW10sIHZhbHVlcyB8fCBbXSwgYmFzZVNldCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB0byBzcGVjaWZ5XG4gICAgICogaG93IGdyb3VwZWQgdmFsdWVzIHNob3VsZCBiZSBjb21iaW5lZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aGVcbiAgICAgKiBlbGVtZW50cyBvZiBlYWNoIGdyb3VwOiAoLi4uZ3JvdXApLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gdG8gY29tYmluZVxuICAgICAqICBncm91cGVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcFdpdGgoWzEsIDJdLCBbMTAsIDIwXSwgWzEwMCwgMjAwXSwgZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIGEgKyBiICsgYztcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBbMTExLCAyMjJdXG4gICAgICovXG4gICAgdmFyIHppcFdpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheXMubGVuZ3RoLFxuICAgICAgICAgIGl0ZXJhdGVlID0gbGVuZ3RoID4gMSA/IGFycmF5c1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcblxuICAgICAgaXRlcmF0ZWUgPSB0eXBlb2YgaXRlcmF0ZWUgPT0gJ2Z1bmN0aW9uJyA/IChhcnJheXMucG9wKCksIGl0ZXJhdGVlKSA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiB1bnppcFdpdGgoYXJyYXlzLCBpdGVyYXRlZSk7XG4gICAgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZSB0aGF0IHdyYXBzIGB2YWx1ZWAgd2l0aCBleHBsaWNpdCBtZXRob2RcbiAgICAgKiBjaGFpbiBzZXF1ZW5jZXMgZW5hYmxlZC4gVGhlIHJlc3VsdCBvZiBzdWNoIHNlcXVlbmNlcyBtdXN0IGJlIHVud3JhcHBlZFxuICAgICAqIHdpdGggYF8jdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMy4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIHZhciB5b3VuZ2VzdCA9IF9cbiAgICAgKiAgIC5jaGFpbih1c2VycylcbiAgICAgKiAgIC5zb3J0QnkoJ2FnZScpXG4gICAgICogICAubWFwKGZ1bmN0aW9uKG8pIHtcbiAgICAgKiAgICAgcmV0dXJuIG8udXNlciArICcgaXMgJyArIG8uYWdlO1xuICAgICAqICAgfSlcbiAgICAgKiAgIC5oZWFkKClcbiAgICAgKiAgIC52YWx1ZSgpO1xuICAgICAqIC8vID0+ICdwZWJibGVzIGlzIDEnXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2hhaW4odmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBsb2Rhc2godmFsdWUpO1xuICAgICAgcmVzdWx0Ll9fY2hhaW5fXyA9IHRydWU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGludm9rZXMgYGludGVyY2VwdG9yYCBhbmQgcmV0dXJucyBgdmFsdWVgLiBUaGUgaW50ZXJjZXB0b3JcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAodmFsdWUpLiBUaGUgcHVycG9zZSBvZiB0aGlzIG1ldGhvZCBpcyB0b1xuICAgICAqIFwidGFwIGludG9cIiBhIG1ldGhvZCBjaGFpbiBzZXF1ZW5jZSBpbiBvcmRlciB0byBtb2RpZnkgaW50ZXJtZWRpYXRlIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvdmlkZSB0byBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGludGVyY2VwdG9yIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXyhbMSwgMiwgM10pXG4gICAgICogIC50YXAoZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgKiAgICAvLyBNdXRhdGUgaW5wdXQgYXJyYXkuXG4gICAgICogICAgYXJyYXkucG9wKCk7XG4gICAgICogIH0pXG4gICAgICogIC5yZXZlcnNlKClcbiAgICAgKiAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFwKHZhbHVlLCBpbnRlcmNlcHRvcikge1xuICAgICAgaW50ZXJjZXB0b3IodmFsdWUpO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udGFwYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSByZXN1bHQgb2YgYGludGVyY2VwdG9yYC5cbiAgICAgKiBUaGUgcHVycG9zZSBvZiB0aGlzIG1ldGhvZCBpcyB0byBcInBhc3MgdGhydVwiIHZhbHVlcyByZXBsYWNpbmcgaW50ZXJtZWRpYXRlXG4gICAgICogcmVzdWx0cyBpbiBhIG1ldGhvZCBjaGFpbiBzZXF1ZW5jZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm92aWRlIHRvIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW50ZXJjZXB0b3IgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oJyAgYWJjICAnKVxuICAgICAqICAuY2hhaW4oKVxuICAgICAqICAudHJpbSgpXG4gICAgICogIC50aHJ1KGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICAgcmV0dXJuIFt2YWx1ZV07XG4gICAgICogIH0pXG4gICAgICogIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsnYWJjJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aHJ1KHZhbHVlLCBpbnRlcmNlcHRvcikge1xuICAgICAgcmV0dXJuIGludGVyY2VwdG9yKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB0aGUgd3JhcHBlciB2ZXJzaW9uIG9mIGBfLmF0YC5cbiAgICAgKlxuICAgICAqIEBuYW1lIGF0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfSwgNF0gfTtcbiAgICAgKlxuICAgICAqIF8ob2JqZWN0KS5hdChbJ2FbMF0uYi5jJywgJ2FbMV0nXSkudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMywgNF1cbiAgICAgKi9cbiAgICB2YXIgd3JhcHBlckF0ID0gZmxhdFJlc3QoZnVuY3Rpb24ocGF0aHMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBwYXRocy5sZW5ndGgsXG4gICAgICAgICAgc3RhcnQgPSBsZW5ndGggPyBwYXRoc1swXSA6IDAsXG4gICAgICAgICAgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fLFxuICAgICAgICAgIGludGVyY2VwdG9yID0gZnVuY3Rpb24ob2JqZWN0KSB7IHJldHVybiBiYXNlQXQob2JqZWN0LCBwYXRocyk7IH07XG5cbiAgICAgIGlmIChsZW5ndGggPiAxIHx8IHRoaXMuX19hY3Rpb25zX18ubGVuZ3RoIHx8XG4gICAgICAgICAgISh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB8fCAhaXNJbmRleChzdGFydCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGhydShpbnRlcmNlcHRvcik7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKHN0YXJ0LCArc3RhcnQgKyAobGVuZ3RoID8gMSA6IDApKTtcbiAgICAgIHZhbHVlLl9fYWN0aW9uc19fLnB1c2goe1xuICAgICAgICAnZnVuYyc6IHRocnUsXG4gICAgICAgICdhcmdzJzogW2ludGVyY2VwdG9yXSxcbiAgICAgICAgJ3RoaXNBcmcnOiB1bmRlZmluZWRcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHZhbHVlLCB0aGlzLl9fY2hhaW5fXykudGhydShmdW5jdGlvbihhcnJheSkge1xuICAgICAgICBpZiAobGVuZ3RoICYmICFhcnJheS5sZW5ndGgpIHtcbiAgICAgICAgICBhcnJheS5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZSB3aXRoIGV4cGxpY2l0IG1ldGhvZCBjaGFpbiBzZXF1ZW5jZXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEBuYW1lIGNoYWluXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIEEgc2VxdWVuY2Ugd2l0aG91dCBleHBsaWNpdCBjaGFpbmluZy5cbiAgICAgKiBfKHVzZXJzKS5oZWFkKCk7XG4gICAgICogLy8gPT4geyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfVxuICAgICAqXG4gICAgICogLy8gQSBzZXF1ZW5jZSB3aXRoIGV4cGxpY2l0IGNoYWluaW5nLlxuICAgICAqIF8odXNlcnMpXG4gICAgICogICAuY2hhaW4oKVxuICAgICAqICAgLmhlYWQoKVxuICAgICAqICAgLnBpY2soJ3VzZXInKVxuICAgICAqICAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4geyAndXNlcic6ICdiYXJuZXknIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ2hhaW4oKSB7XG4gICAgICByZXR1cm4gY2hhaW4odGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGNoYWluIHNlcXVlbmNlIGFuZCByZXR1cm5zIHRoZSB3cmFwcGVkIHJlc3VsdC5cbiAgICAgKlxuICAgICAqIEBuYW1lIGNvbW1pdFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMl07XG4gICAgICogdmFyIHdyYXBwZWQgPSBfKGFycmF5KS5wdXNoKDMpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogd3JhcHBlZCA9IHdyYXBwZWQuY29tbWl0KCk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogd3JhcHBlZC5sYXN0KCk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDb21taXQoKSB7XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodGhpcy52YWx1ZSgpLCB0aGlzLl9fY2hhaW5fXyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmV4dCB2YWx1ZSBvbiBhIHdyYXBwZWQgb2JqZWN0IGZvbGxvd2luZyB0aGVcbiAgICAgKiBbaXRlcmF0b3IgcHJvdG9jb2xdKGh0dHBzOi8vbWRuLmlvL2l0ZXJhdGlvbl9wcm90b2NvbHMjaXRlcmF0b3IpLlxuICAgICAqXG4gICAgICogQG5hbWUgbmV4dFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5leHQgaXRlcmF0b3IgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pO1xuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IGZhbHNlLCAndmFsdWUnOiAxIH1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiBmYWxzZSwgJ3ZhbHVlJzogMiB9XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogdHJ1ZSwgJ3ZhbHVlJzogdW5kZWZpbmVkIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyTmV4dCgpIHtcbiAgICAgIGlmICh0aGlzLl9fdmFsdWVzX18gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9fdmFsdWVzX18gPSB0b0FycmF5KHRoaXMudmFsdWUoKSk7XG4gICAgICB9XG4gICAgICB2YXIgZG9uZSA9IHRoaXMuX19pbmRleF9fID49IHRoaXMuX192YWx1ZXNfXy5sZW5ndGgsXG4gICAgICAgICAgdmFsdWUgPSBkb25lID8gdW5kZWZpbmVkIDogdGhpcy5fX3ZhbHVlc19fW3RoaXMuX19pbmRleF9fKytdO1xuXG4gICAgICByZXR1cm4geyAnZG9uZSc6IGRvbmUsICd2YWx1ZSc6IHZhbHVlIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyB0aGUgd3JhcHBlciB0byBiZSBpdGVyYWJsZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIFN5bWJvbC5pdGVyYXRvclxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHdyYXBwZXIgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKTtcbiAgICAgKlxuICAgICAqIHdyYXBwZWRbU3ltYm9sLml0ZXJhdG9yXSgpID09PSB3cmFwcGVkO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIEFycmF5LmZyb20od3JhcHBlZCk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclRvSXRlcmF0b3IoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGNoYWluIHNlcXVlbmNlIHBsYW50aW5nIGB2YWx1ZWAgYXMgdGhlIHdyYXBwZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAbmFtZSBwbGFudFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBsYW50LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pLm1hcChzcXVhcmUpO1xuICAgICAqIHZhciBvdGhlciA9IHdyYXBwZWQucGxhbnQoWzMsIDRdKTtcbiAgICAgKlxuICAgICAqIG90aGVyLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzksIDE2XVxuICAgICAqXG4gICAgICogd3JhcHBlZC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsxLCA0XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJQbGFudCh2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCxcbiAgICAgICAgICBwYXJlbnQgPSB0aGlzO1xuXG4gICAgICB3aGlsZSAocGFyZW50IGluc3RhbmNlb2YgYmFzZUxvZGFzaCkge1xuICAgICAgICB2YXIgY2xvbmUgPSB3cmFwcGVyQ2xvbmUocGFyZW50KTtcbiAgICAgICAgY2xvbmUuX19pbmRleF9fID0gMDtcbiAgICAgICAgY2xvbmUuX192YWx1ZXNfXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIHByZXZpb3VzLl9fd3JhcHBlZF9fID0gY2xvbmU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0ID0gY2xvbmU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByZXZpb3VzID0gY2xvbmU7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5fX3dyYXBwZWRfXztcbiAgICAgIH1cbiAgICAgIHByZXZpb3VzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHRoZSB3cmFwcGVyIHZlcnNpb24gb2YgYF8ucmV2ZXJzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyB0aGUgd3JhcHBlZCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHJldmVyc2VcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqXG4gICAgICogXyhhcnJheSkucmV2ZXJzZSgpLnZhbHVlKClcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyUmV2ZXJzZSgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuX193cmFwcGVkX187XG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICB2YXIgd3JhcHBlZCA9IHZhbHVlO1xuICAgICAgICBpZiAodGhpcy5fX2FjdGlvbnNfXy5sZW5ndGgpIHtcbiAgICAgICAgICB3cmFwcGVkID0gbmV3IExhenlXcmFwcGVyKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHdyYXBwZWQgPSB3cmFwcGVkLnJldmVyc2UoKTtcbiAgICAgICAgd3JhcHBlZC5fX2FjdGlvbnNfXy5wdXNoKHtcbiAgICAgICAgICAnZnVuYyc6IHRocnUsXG4gICAgICAgICAgJ2FyZ3MnOiBbcmV2ZXJzZV0sXG4gICAgICAgICAgJ3RoaXNBcmcnOiB1bmRlZmluZWRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih3cmFwcGVkLCB0aGlzLl9fY2hhaW5fXyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy50aHJ1KHJldmVyc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBjaGFpbiBzZXF1ZW5jZSB0byByZXNvbHZlIHRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAbmFtZSB2YWx1ZVxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGFsaWFzIHRvSlNPTiwgdmFsdWVPZlxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzXSkudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyVmFsdWUoKSB7XG4gICAgICByZXR1cm4gYmFzZVdyYXBwZXJWYWx1ZSh0aGlzLl9fd3JhcHBlZF9fLCB0aGlzLl9fYWN0aW9uc19fKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUgb2ZcbiAgICAgKiBlYWNoIGtleSBpcyB0aGUgbnVtYmVyIG9mIHRpbWVzIHRoZSBrZXkgd2FzIHJldHVybmVkIGJ5IGBpdGVyYXRlZWAuIFRoZVxuICAgICAqIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbXBvc2VkIGFnZ3JlZ2F0ZSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY291bnRCeShbNi4xLCA0LjIsIDYuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IHsgJzQnOiAxLCAnNic6IDIgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5jb3VudEJ5KFsnb25lJywgJ3R3bycsICd0aHJlZSddLCAnbGVuZ3RoJyk7XG4gICAgICogLy8gPT4geyAnMyc6IDIsICc1JzogMSB9XG4gICAgICovXG4gICAgdmFyIGNvdW50QnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCBrZXkpKSB7XG4gICAgICAgICsrcmVzdWx0W2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIDEpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciAqKmFsbCoqIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBJdGVyYXRpb24gaXMgc3RvcHBlZCBvbmNlIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIHJldHVybnMgYHRydWVgIGZvclxuICAgICAqIFtlbXB0eSBjb2xsZWN0aW9uc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRW1wdHlfc2V0KSBiZWNhdXNlXG4gICAgICogW2V2ZXJ5dGhpbmcgaXMgdHJ1ZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVmFjdW91c190cnV0aCkgb2ZcbiAgICAgKiBlbGVtZW50cyBvZiBlbXB0eSBjb2xsZWN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZXZlcnkoW3RydWUsIDEsIG51bGwsICd5ZXMnXSwgQm9vbGVhbik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZXZlcnkodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZXZlcnkodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGV2ZXJ5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RXZlcnkgOiBiYXNlRXZlcnk7XG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkpIHtcbiAgICAgICAgcHJlZGljYXRlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAsIHJldHVybmluZyBhbiBhcnJheSBvZiBhbGwgZWxlbWVudHNcbiAgICAgKiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnJlbW92ZWAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICogQHNlZSBfLnJlamVjdFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcih1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaWx0ZXIoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUZpbHRlciA6IGJhc2VGaWx0ZXI7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nIHRoZSBmaXJzdCBlbGVtZW50XG4gICAgICogYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hdGNoZWQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmQodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdwZWJibGVzJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdiYXJuZXknXG4gICAgICovXG4gICAgdmFyIGZpbmQgPSBjcmVhdGVGaW5kKGZpbmRJbmRleCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1jb2xsZWN0aW9uLmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hdGNoZWQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5maW5kTGFzdChbMSwgMiwgMywgNF0sIGZ1bmN0aW9uKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAxO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICB2YXIgZmluZExhc3QgPSBjcmVhdGVGaW5kKGZpbmRMYXN0SW5kZXgpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZsYXR0ZW5lZCBhcnJheSBvZiB2YWx1ZXMgYnkgcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gXG4gICAgICogdGhydSBgaXRlcmF0ZWVgIGFuZCBmbGF0dGVuaW5nIHRoZSBtYXBwZWQgcmVzdWx0cy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtuLCBuXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXAoWzEsIDJdLCBkdXBsaWNhdGUpO1xuICAgICAqIC8vID0+IFsxLCAxLCAyLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsYXRNYXBgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIHRoZVxuICAgICAqIG1hcHBlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtbW24sIG5dXV07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwRGVlcChbMSwgMl0sIGR1cGxpY2F0ZSk7XG4gICAgICogLy8gPT4gWzEsIDEsIDIsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcERlZXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCBJTkZJTklUWSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbGF0TWFwYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBmbGF0dGVucyB0aGVcbiAgICAgKiBtYXBwZWQgcmVzdWx0cyB1cCB0byBgZGVwdGhgIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZXB0aD0xXSBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtbW24sIG5dXV07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwRGVwdGgoWzEsIDJdLCBkdXBsaWNhdGUsIDIpO1xuICAgICAqIC8vID0+IFtbMSwgMV0sIFsyLCAyXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwRGVwdGgoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGRlcHRoKSB7XG4gICAgICBkZXB0aCA9IGRlcHRoID09PSB1bmRlZmluZWQgPyAxIDogdG9JbnRlZ2VyKGRlcHRoKTtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCBkZXB0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBlbGVtZW50LlxuICAgICAqIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEFzIHdpdGggb3RoZXIgXCJDb2xsZWN0aW9uc1wiIG1ldGhvZHMsIG9iamVjdHMgd2l0aCBhIFwibGVuZ3RoXCJcbiAgICAgKiBwcm9wZXJ0eSBhcmUgaXRlcmF0ZWQgbGlrZSBhcnJheXMuIFRvIGF2b2lkIHRoaXMgYmVoYXZpb3IgdXNlIGBfLmZvckluYFxuICAgICAqIG9yIGBfLmZvck93bmAgZm9yIG9iamVjdCBpdGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgZWFjaFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqIEBzZWUgXy5mb3JFYWNoUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JFYWNoKFsxLCAyXSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHZhbHVlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzIGAxYCB0aGVuIGAyYC5cbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaCh7ICdhJzogMSwgJ2InOiAyIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScgdGhlbiAnYicgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yRWFjaChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFYWNoIDogYmFzZUVhY2g7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9yRWFjaGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAYWxpYXMgZWFjaFJpZ2h0XG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICogQHNlZSBfLmZvckVhY2hcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JFYWNoUmlnaHQoWzEsIDJdLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgY29uc29sZS5sb2codmFsdWUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgYDJgIHRoZW4gYDFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckVhY2hSaWdodChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFYWNoUmlnaHQgOiBiYXNlRWFjaFJpZ2h0O1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIG9yZGVyIG9mIGdyb3VwZWQgdmFsdWVzXG4gICAgICogaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiBgY29sbGVjdGlvbmAuIFRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogdmFsdWUgb2YgZWFjaCBrZXkgaXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlXG4gICAgICoga2V5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ncm91cEJ5KFs2LjEsIDQuMiwgNi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4geyAnNCc6IFs0LjJdLCAnNic6IFs2LjEsIDYuM10gfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ncm91cEJ5KFsnb25lJywgJ3R3bycsICd0aHJlZSddLCAnbGVuZ3RoJyk7XG4gICAgICogLy8gPT4geyAnMyc6IFsnb25lJywgJ3R3byddLCAnNSc6IFsndGhyZWUnXSB9XG4gICAgICovXG4gICAgdmFyIGdyb3VwQnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCBrZXkpKSB7XG4gICAgICAgIHJlc3VsdFtrZXldLnB1c2godmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBbdmFsdWVdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGluIGBjb2xsZWN0aW9uYC4gSWYgYGNvbGxlY3Rpb25gIGlzIGEgc3RyaW5nLCBpdCdzXG4gICAgICogY2hlY2tlZCBmb3IgYSBzdWJzdHJpbmcgb2YgYHZhbHVlYCwgb3RoZXJ3aXNlXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBpcyB1c2VkIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gSWYgYGZyb21JbmRleGAgaXMgbmVnYXRpdmUsIGl0J3MgdXNlZCBhc1xuICAgICAqIHRoZSBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ucmVkdWNlYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKFsxLCAyLCAzXSwgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcyhbMSwgMiwgM10sIDEsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKHsgJ2EnOiAxLCAnYic6IDIgfSwgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcygnYWJjZCcsICdiYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbmNsdWRlcyhjb2xsZWN0aW9uLCB2YWx1ZSwgZnJvbUluZGV4LCBndWFyZCkge1xuICAgICAgY29sbGVjdGlvbiA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gY29sbGVjdGlvbiA6IHZhbHVlcyhjb2xsZWN0aW9uKTtcbiAgICAgIGZyb21JbmRleCA9IChmcm9tSW5kZXggJiYgIWd1YXJkKSA/IHRvSW50ZWdlcihmcm9tSW5kZXgpIDogMDtcblxuICAgICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuICAgICAgaWYgKGZyb21JbmRleCA8IDApIHtcbiAgICAgICAgZnJvbUluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGZyb21JbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTdHJpbmcoY29sbGVjdGlvbilcbiAgICAgICAgPyAoZnJvbUluZGV4IDw9IGxlbmd0aCAmJiBjb2xsZWN0aW9uLmluZGV4T2YodmFsdWUsIGZyb21JbmRleCkgPiAtMSlcbiAgICAgICAgOiAoISFsZW5ndGggJiYgYmFzZUluZGV4T2YoY29sbGVjdGlvbiwgdmFsdWUsIGZyb21JbmRleCkgPiAtMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gLCByZXR1cm5pbmdcbiAgICAgKiBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZiBlYWNoIGludm9rZWQgbWV0aG9kLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHNcbiAgICAgKiBhcmUgcHJvdmlkZWQgdG8gZWFjaCBpbnZva2VkIG1ldGhvZC4gSWYgYHBhdGhgIGlzIGEgZnVuY3Rpb24sIGl0J3MgaW52b2tlZFxuICAgICAqIGZvciwgYW5kIGB0aGlzYCBib3VuZCB0bywgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb258c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlIG9yXG4gICAgICogIHRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgZWFjaCBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW52b2tlTWFwKFtbNSwgMSwgN10sIFszLCAyLCAxXV0sICdzb3J0Jyk7XG4gICAgICogLy8gPT4gW1sxLCA1LCA3XSwgWzEsIDIsIDNdXVxuICAgICAqXG4gICAgICogXy5pbnZva2VNYXAoWzEyMywgNDU2XSwgU3RyaW5nLnByb3RvdHlwZS5zcGxpdCwgJycpO1xuICAgICAqIC8vID0+IFtbJzEnLCAnMicsICczJ10sIFsnNCcsICc1JywgJzYnXV1cbiAgICAgKi9cbiAgICB2YXIgaW52b2tlTWFwID0gYmFzZVJlc3QoZnVuY3Rpb24oY29sbGVjdGlvbiwgcGF0aCwgYXJncykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaXNGdW5jID0gdHlwZW9mIHBhdGggPT0gJ2Z1bmN0aW9uJyxcbiAgICAgICAgICByZXN1bHQgPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IEFycmF5KGNvbGxlY3Rpb24ubGVuZ3RoKSA6IFtdO1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXN1bHRbKytpbmRleF0gPSBpc0Z1bmMgPyBhcHBseShwYXRoLCB2YWx1ZSwgYXJncykgOiBiYXNlSW52b2tlKHZhbHVlLCBwYXRoLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZSBvZlxuICAgICAqIGVhY2gga2V5IGlzIHRoZSBsYXN0IGVsZW1lbnQgcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlIGtleS4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW1xuICAgICAqICAgeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sXG4gICAgICogICB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ua2V5QnkoYXJyYXksIGZ1bmN0aW9uKG8pIHtcbiAgICAgKiAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKG8uY29kZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LCAnZCc6IHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH0gfVxuICAgICAqXG4gICAgICogXy5rZXlCeShhcnJheSwgJ2RpcicpO1xuICAgICAqIC8vID0+IHsgJ2xlZnQnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ3JpZ2h0JzogeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfSB9XG4gICAgICovXG4gICAgdmFyIGtleUJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgdmFsdWUpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB2YWx1ZXMgYnkgcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gIHRocnVcbiAgICAgKiBgaXRlcmF0ZWVgLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAgICAgKiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBNYW55IGxvZGFzaCBtZXRob2RzIGFyZSBndWFyZGVkIHRvIHdvcmsgYXMgaXRlcmF0ZWVzIGZvciBtZXRob2RzIGxpa2VcbiAgICAgKiBgXy5ldmVyeWAsIGBfLmZpbHRlcmAsIGBfLm1hcGAsIGBfLm1hcFZhbHVlc2AsIGBfLnJlamVjdGAsIGFuZCBgXy5zb21lYC5cbiAgICAgKlxuICAgICAqIFRoZSBndWFyZGVkIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhcnlgLCBgY2h1bmtgLCBgY3VycnlgLCBgY3VycnlSaWdodGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsIGBldmVyeWAsXG4gICAgICogYGZpbGxgLCBgaW52ZXJ0YCwgYHBhcnNlSW50YCwgYHJhbmRvbWAsIGByYW5nZWAsIGByYW5nZVJpZ2h0YCwgYHJlcGVhdGAsXG4gICAgICogYHNhbXBsZVNpemVgLCBgc2xpY2VgLCBgc29tZWAsIGBzb3J0QnlgLCBgc3BsaXRgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLFxuICAgICAqIGB0ZW1wbGF0ZWAsIGB0cmltYCwgYHRyaW1FbmRgLCBgdHJpbVN0YXJ0YCwgYW5kIGB3b3Jkc2BcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLm1hcChbNCwgOF0sIHNxdWFyZSk7XG4gICAgICogLy8gPT4gWzE2LCA2NF1cbiAgICAgKlxuICAgICAqIF8ubWFwKHsgJ2EnOiA0LCAnYic6IDggfSwgc3F1YXJlKTtcbiAgICAgKiAvLyA9PiBbMTYsIDY0XSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsICd1c2VyJyk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheU1hcCA6IGJhc2VNYXA7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydEJ5YCBleGNlcHQgdGhhdCBpdCBhbGxvd3Mgc3BlY2lmeWluZyB0aGUgc29ydFxuICAgICAqIG9yZGVycyBvZiB0aGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuIElmIGBvcmRlcnNgIGlzIHVuc3BlY2lmaWVkLCBhbGwgdmFsdWVzXG4gICAgICogYXJlIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIuIE90aGVyd2lzZSwgc3BlY2lmeSBhbiBvcmRlciBvZiBcImRlc2NcIiBmb3JcbiAgICAgKiBkZXNjZW5kaW5nIG9yIFwiYXNjXCIgZm9yIGFzY2VuZGluZyBzb3J0IG9yZGVyIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtBcnJheVtdfEZ1bmN0aW9uW118T2JqZWN0W118c3RyaW5nW119IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gW29yZGVyc10gVGhlIHNvcnQgb3JkZXJzIG9mIGBpdGVyYXRlZXNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLnJlZHVjZWAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc29ydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0OCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzQgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFNvcnQgYnkgYHVzZXJgIGluIGFzY2VuZGluZyBvcmRlciBhbmQgYnkgYGFnZWAgaW4gZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKiBfLm9yZGVyQnkodXNlcnMsIFsndXNlcicsICdhZ2UnXSwgWydhc2MnLCAnZGVzYyddKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNl0sIFsnYmFybmV5JywgMzRdLCBbJ2ZyZWQnLCA0OF0sIFsnZnJlZCcsIDQwXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzLCBndWFyZCkge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoIWlzQXJyYXkoaXRlcmF0ZWVzKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBpdGVyYXRlZXMgPT0gbnVsbCA/IFtdIDogW2l0ZXJhdGVlc107XG4gICAgICB9XG4gICAgICBvcmRlcnMgPSBndWFyZCA/IHVuZGVmaW5lZCA6IG9yZGVycztcbiAgICAgIGlmICghaXNBcnJheShvcmRlcnMpKSB7XG4gICAgICAgIG9yZGVycyA9IG9yZGVycyA9PSBudWxsID8gW10gOiBbb3JkZXJzXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cyBzcGxpdCBpbnRvIHR3byBncm91cHMsIHRoZSBmaXJzdCBvZiB3aGljaFxuICAgICAqIGNvbnRhaW5zIGVsZW1lbnRzIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciwgdGhlIHNlY29uZCBvZiB3aGljaFxuICAgICAqIGNvbnRhaW5zIGVsZW1lbnRzIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5IGZvci4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2ZyZWQnXSwgWydiYXJuZXknLCAncGViYmxlcyddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ3BlYmJsZXMnXSwgWydiYXJuZXknLCAnZnJlZCddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgJ3BlYmJsZXMnXSwgWydmcmVkJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2ZyZWQnXSwgWydiYXJuZXknLCAncGViYmxlcyddXVxuICAgICAqL1xuICAgIHZhciBwYXJ0aXRpb24gPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0W2tleSA/IDAgOiAxXS5wdXNoKHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbigpIHsgcmV0dXJuIFtbXSwgW11dOyB9KTtcblxuICAgIC8qKlxuICAgICAqIFJlZHVjZXMgYGNvbGxlY3Rpb25gIHRvIGEgdmFsdWUgd2hpY2ggaXMgdGhlIGFjY3VtdWxhdGVkIHJlc3VsdCBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAsIHdoZXJlIGVhY2ggc3VjY2Vzc2l2ZVxuICAgICAqIGludm9jYXRpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuIElmIGBhY2N1bXVsYXRvcmBcbiAgICAgKiBpcyBub3QgZ2l2ZW4sIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCBpcyB1c2VkIGFzIHRoZSBpbml0aWFsXG4gICAgICogdmFsdWUuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6XG4gICAgICogKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIE1hbnkgbG9kYXNoIG1ldGhvZHMgYXJlIGd1YXJkZWQgdG8gd29yayBhcyBpdGVyYXRlZXMgZm9yIG1ldGhvZHMgbGlrZVxuICAgICAqIGBfLnJlZHVjZWAsIGBfLnJlZHVjZVJpZ2h0YCwgYW5kIGBfLnRyYW5zZm9ybWAuXG4gICAgICpcbiAgICAgKiBUaGUgZ3VhcmRlZCBtZXRob2RzIGFyZTpcbiAgICAgKiBgYXNzaWduYCwgYGRlZmF1bHRzYCwgYGRlZmF1bHRzRGVlcGAsIGBpbmNsdWRlc2AsIGBtZXJnZWAsIGBvcmRlckJ5YCxcbiAgICAgKiBhbmQgYHNvcnRCeWBcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLnJlZHVjZVJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlKFsxLCAyXSwgZnVuY3Rpb24oc3VtLCBuKSB7XG4gICAgICogICByZXR1cm4gc3VtICsgbjtcbiAgICAgKiB9LCAwKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnJlZHVjZSh7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfSwgZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICogICAocmVzdWx0W3ZhbHVlXSB8fCAocmVzdWx0W3ZhbHVlXSA9IFtdKSkucHVzaChrZXkpO1xuICAgICAqICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlZHVjZShjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5UmVkdWNlIDogYmFzZVJlZHVjZSxcbiAgICAgICAgICBpbml0QWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcblxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBiYXNlRWFjaCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5yZWR1Y2VgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8ucmVkdWNlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFtbMCwgMV0sIFsyLCAzXSwgWzQsIDVdXTtcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlUmlnaHQoYXJyYXksIGZ1bmN0aW9uKGZsYXR0ZW5lZCwgb3RoZXIpIHtcbiAgICAgKiAgIHJldHVybiBmbGF0dGVuZWQuY29uY2F0KG90aGVyKTtcbiAgICAgKiB9LCBbXSk7XG4gICAgICogLy8gPT4gWzQsIDUsIDIsIDMsIDAsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVkdWNlUmlnaHQoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVJlZHVjZVJpZ2h0IDogYmFzZVJlZHVjZSxcbiAgICAgICAgICBpbml0QWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcblxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBiYXNlRWFjaFJpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uZmlsdGVyYDsgdGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gXG4gICAgICogdGhhdCBgcHJlZGljYXRlYCBkb2VzICoqbm90KiogcmV0dXJuIHRydXRoeSBmb3IuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICogQHNlZSBfLmZpbHRlclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnJlamVjdCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgeyAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWplY3QoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUZpbHRlciA6IGJhc2VGaWx0ZXI7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSByYW5kb20gZWxlbWVudCBmcm9tIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zYW1wbGUoWzEsIDIsIDMsIDRdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FtcGxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2FtcGxlIDogYmFzZVNhbXBsZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYG5gIHJhbmRvbSBlbGVtZW50cyBhdCB1bmlxdWUga2V5cyBmcm9tIGBjb2xsZWN0aW9uYCB1cCB0byB0aGVcbiAgICAgKiBzaXplIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZVNpemUoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMywgMV1cbiAgICAgKlxuICAgICAqIF8uc2FtcGxlU2l6ZShbMSwgMiwgM10sIDQpO1xuICAgICAqIC8vID0+IFsyLCAzLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhbXBsZVNpemUoY29sbGVjdGlvbiwgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBuLCBndWFyZCkgOiBuID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIG4gPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIH1cbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2FtcGxlU2l6ZSA6IGJhc2VTYW1wbGVTaXplO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBzaHVmZmxlZCB2YWx1ZXMsIHVzaW5nIGEgdmVyc2lvbiBvZiB0aGVcbiAgICAgKiBbRmlzaGVyLVlhdGVzIHNodWZmbGVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zpc2hlci1ZYXRlc19zaHVmZmxlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zaHVmZmxlKFsxLCAyLCAzLCA0XSk7XG4gICAgICogLy8gPT4gWzQsIDEsIDMsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNodWZmbGUgOiBiYXNlU2h1ZmZsZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHNpemUgb2YgYGNvbGxlY3Rpb25gIGJ5IHJldHVybmluZyBpdHMgbGVuZ3RoIGZvciBhcnJheS1saWtlXG4gICAgICogdmFsdWVzIG9yIHRoZSBudW1iZXIgb2Ygb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgZm9yIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbGxlY3Rpb24gc2l6ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zaXplKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5zaXplKHsgJ2EnOiAxLCAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5zaXplKCdwZWJibGVzJyk7XG4gICAgICogLy8gPT4gN1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNpemUoY29sbGVjdGlvbikge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcoY29sbGVjdGlvbikgPyBzdHJpbmdTaXplKGNvbGxlY3Rpb24pIDogY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKGNvbGxlY3Rpb24pO1xuICAgICAgaWYgKHRhZyA9PSBtYXBUYWcgfHwgdGFnID09IHNldFRhZykge1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbi5zaXplO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VLZXlzKGNvbGxlY3Rpb24pLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yICoqYW55KiogZWxlbWVudCBvZiBgY29sbGVjdGlvbmAuXG4gICAgICogSXRlcmF0aW9uIGlzIHN0b3BwZWQgb25jZSBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvbWUoW251bGwsIDAsICd5ZXMnLCBmYWxzZV0sIEJvb2xlYW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvbWUoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTb21lIDogYmFzZVNvbWU7XG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkpIHtcbiAgICAgICAgcHJlZGljYXRlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cywgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlciBieSB0aGUgcmVzdWx0cyBvZlxuICAgICAqIHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGEgY29sbGVjdGlvbiB0aHJ1IGVhY2ggaXRlcmF0ZWUuIFRoaXMgbWV0aG9kXG4gICAgICogcGVyZm9ybXMgYSBzdGFibGUgc29ydCwgdGhhdCBpcywgaXQgcHJlc2VydmVzIHRoZSBvcmlnaW5hbCBzb3J0IG9yZGVyIG9mXG4gICAgICogZXF1YWwgZWxlbWVudHMuIFRoZSBpdGVyYXRlZXMgYXJlIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQ4IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM0IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5zb3J0QnkodXNlcnMsIFtmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXI7IH1dKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNl0sIFsnYmFybmV5JywgMzRdLCBbJ2ZyZWQnLCA0OF0sIFsnZnJlZCcsIDQwXV1cbiAgICAgKlxuICAgICAqIF8uc29ydEJ5KHVzZXJzLCBbJ3VzZXInLCAnYWdlJ10pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM0XSwgWydiYXJuZXknLCAzNl0sIFsnZnJlZCcsIDQwXSwgWydmcmVkJywgNDhdXVxuICAgICAqL1xuICAgIHZhciBzb3J0QnkgPSBiYXNlUmVzdChmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZXMpIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGl0ZXJhdGVlcy5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoID4gMSAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBpdGVyYXRlZXNbMF0sIGl0ZXJhdGVlc1sxXSkpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW107XG4gICAgICB9IGVsc2UgaWYgKGxlbmd0aCA+IDIgJiYgaXNJdGVyYXRlZUNhbGwoaXRlcmF0ZWVzWzBdLCBpdGVyYXRlZXNbMV0sIGl0ZXJhdGVlc1syXSkpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW2l0ZXJhdGVlc1swXV07XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgYmFzZUZsYXR0ZW4oaXRlcmF0ZWVzLCAxKSwgW10pO1xuICAgIH0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gICAgICogdGhlIFVuaXggZXBvY2ggKDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgRGF0ZVxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVzdGFtcC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZlcihmdW5jdGlvbihzdGFtcCkge1xuICAgICAqICAgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTtcbiAgICAgKiB9LCBfLm5vdygpKTtcbiAgICAgKiAvLyA9PiBMb2dzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGl0IHRvb2sgZm9yIHRoZSBkZWZlcnJlZCBpbnZvY2F0aW9uLlxuICAgICAqL1xuICAgIHZhciBub3cgPSBjdHhOb3cgfHwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcm9vdC5EYXRlLm5vdygpO1xuICAgIH07XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uYmVmb3JlYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlc1xuICAgICAqIGBmdW5jYCBvbmNlIGl0J3MgY2FsbGVkIGBuYCBvciBtb3JlIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBjYWxscyBiZWZvcmUgYGZ1bmNgIGlzIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNhdmVzID0gWydwcm9maWxlJywgJ3NldHRpbmdzJ107XG4gICAgICpcbiAgICAgKiB2YXIgZG9uZSA9IF8uYWZ0ZXIoc2F2ZXMubGVuZ3RoLCBmdW5jdGlvbigpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKCdkb25lIHNhdmluZyEnKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaChzYXZlcywgZnVuY3Rpb24odHlwZSkge1xuICAgICAqICAgYXN5bmNTYXZlKHsgJ3R5cGUnOiB0eXBlLCAnY29tcGxldGUnOiBkb25lIH0pO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2RvbmUgc2F2aW5nIScgYWZ0ZXIgdGhlIHR3byBhc3luYyBzYXZlcyBoYXZlIGNvbXBsZXRlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZnRlcihuLCBmdW5jKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoLS1uIDwgMSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2AsIHdpdGggdXAgdG8gYG5gIGFyZ3VtZW50cyxcbiAgICAgKiBpZ25vcmluZyBhbnkgYWRkaXRpb25hbCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBjYXAuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnNicsICc4JywgJzEwJ10sIF8uYXJ5KHBhcnNlSW50LCAxKSk7XG4gICAgICogLy8gPT4gWzYsIDgsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFyeShmdW5jLCBuLCBndWFyZCkge1xuICAgICAgbiA9IGd1YXJkID8gdW5kZWZpbmVkIDogbjtcbiAgICAgIG4gPSAoZnVuYyAmJiBuID09IG51bGwpID8gZnVuYy5sZW5ndGggOiBuO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9BUllfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCwgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50c1xuICAgICAqIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGlsZSBpdCdzIGNhbGxlZCBsZXNzIHRoYW4gYG5gIHRpbWVzLiBTdWJzZXF1ZW50XG4gICAgICogY2FsbHMgdG8gdGhlIGNyZWF0ZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGNhbGxzIGF0IHdoaWNoIGBmdW5jYCBpcyBubyBsb25nZXIgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5iZWZvcmUoNSwgYWRkQ29udGFjdFRvTGlzdCkpO1xuICAgICAqIC8vID0+IEFsbG93cyBhZGRpbmcgdXAgdG8gNCBjb250YWN0cyB0byB0aGUgbGlzdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiZWZvcmUobiwgZnVuYykge1xuICAgICAgdmFyIHJlc3VsdDtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgtLW4gPiAwKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuIDw9IDEpIHtcbiAgICAgICAgICBmdW5jID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYFxuICAgICAqIGFuZCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogVGhlIGBfLmJpbmQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpYyBidWlsZHMsXG4gICAgICogbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBuYXRpdmUgYEZ1bmN0aW9uI2JpbmRgLCB0aGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIlxuICAgICAqIHByb3BlcnR5IG9mIGJvdW5kIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGJpbmQuXG4gICAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYm91bmQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ3VzZXInOiAnZnJlZCcgfTtcbiAgICAgKlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZChncmVldCwgb2JqZWN0LCAnaGknKTtcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIEJvdW5kIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZChncmVldCwgb2JqZWN0LCBfLCAnIScpO1xuICAgICAqIGJvdW5kKCdoaScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKi9cbiAgICB2YXIgYmluZCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHRoaXNBcmcsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgYml0bWFzayA9IFdSQVBfQklORF9GTEFHO1xuICAgICAgaWYgKHBhcnRpYWxzLmxlbmd0aCkge1xuICAgICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIoYmluZCkpO1xuICAgICAgICBiaXRtYXNrIHw9IFdSQVBfUEFSVElBTF9GTEFHO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgbWV0aG9kIGF0IGBvYmplY3Rba2V5XWAgd2l0aCBgcGFydGlhbHNgXG4gICAgICogcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBkaWZmZXJzIGZyb20gYF8uYmluZGAgYnkgYWxsb3dpbmcgYm91bmQgZnVuY3Rpb25zIHRvIHJlZmVyZW5jZVxuICAgICAqIG1ldGhvZHMgdGhhdCBtYXkgYmUgcmVkZWZpbmVkIG9yIGRvbid0IHlldCBleGlzdC4gU2VlXG4gICAgICogW1BldGVyIE1pY2hhdXgncyBhcnRpY2xlXShodHRwOi8vcGV0ZXIubWljaGF1eC5jYS9hcnRpY2xlcy9sYXp5LWZ1bmN0aW9uLWRlZmluaXRpb24tcGF0dGVybilcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogVGhlIGBfLmJpbmRLZXkucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZva2UgdGhlIG1ldGhvZCBvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHtcbiAgICAgKiAgICd1c2VyJzogJ2ZyZWQnLFxuICAgICAqICAgJ2dyZWV0JzogZnVuY3Rpb24oZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICAgIHJldHVybiBncmVldGluZyArICcgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmRLZXkob2JqZWN0LCAnZ3JlZXQnLCAnaGknKTtcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKlxuICAgICAqIG9iamVjdC5ncmVldCA9IGZ1bmN0aW9uKGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJ3lhICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogYm91bmQoJyEnKTtcbiAgICAgKiAvLyA9PiAnaGl5YSBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIEJvdW5kIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZEtleShvYmplY3QsICdncmVldCcsIF8sICchJyk7XG4gICAgICogYm91bmQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpeWEgZnJlZCEnXG4gICAgICovXG4gICAgdmFyIGJpbmRLZXkgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIGtleSwgcGFydGlhbHMpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUc7XG4gICAgICBpZiAocGFydGlhbHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihiaW5kS2V5KSk7XG4gICAgICAgIGJpdG1hc2sgfD0gV1JBUF9QQVJUSUFMX0ZMQUc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChrZXksIGJpdG1hc2ssIG9iamVjdCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyBhcmd1bWVudHMgb2YgYGZ1bmNgIGFuZCBlaXRoZXIgaW52b2tlc1xuICAgICAqIGBmdW5jYCByZXR1cm5pbmcgaXRzIHJlc3VsdCwgaWYgYXQgbGVhc3QgYGFyaXR5YCBudW1iZXIgb2YgYXJndW1lbnRzIGhhdmVcbiAgICAgKiBiZWVuIHByb3ZpZGVkLCBvciByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHRoZSByZW1haW5pbmcgYGZ1bmNgXG4gICAgICogYXJndW1lbnRzLCBhbmQgc28gb24uIFRoZSBhcml0eSBvZiBgZnVuY2AgbWF5IGJlIHNwZWNpZmllZCBpZiBgZnVuYy5sZW5ndGhgXG4gICAgICogaXMgbm90IHN1ZmZpY2llbnQuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uY3VycnkucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpYyBidWlsZHMsXG4gICAgICogbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIGN1cnJpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY3VycnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eT1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhYmMgPSBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgY3VycmllZCA9IF8uY3VycnkoYWJjKTtcbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSkoMikoMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIpKDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyLCAzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIC8vIEN1cnJpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogY3VycmllZCgxKShfLCAzKSgyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXJyeShmdW5jLCBhcml0eSwgZ3VhcmQpIHtcbiAgICAgIGFyaXR5ID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBhcml0eTtcbiAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQ1VSUllfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5KTtcbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IGN1cnJ5LnBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmN1cnJ5YCBleGNlcHQgdGhhdCBhcmd1bWVudHMgYXJlIGFwcGxpZWQgdG8gYGZ1bmNgXG4gICAgICogaW4gdGhlIG1hbm5lciBvZiBgXy5wYXJ0aWFsUmlnaHRgIGluc3RlYWQgb2YgYF8ucGFydGlhbGAuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uY3VycnlSaWdodC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgY3VycmllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5PWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFiYyA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBjdXJyaWVkID0gXy5jdXJyeVJpZ2h0KGFiYyk7XG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDMpKDIpKDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgyLCAzKSgxKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMiwgMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiAvLyBDdXJyaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIGN1cnJpZWQoMykoMSwgXykoMik7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VycnlSaWdodChmdW5jLCBhcml0eSwgZ3VhcmQpIHtcbiAgICAgIGFyaXR5ID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBhcml0eTtcbiAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQ1VSUllfUklHSFRfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5KTtcbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IGN1cnJ5UmlnaHQucGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkZWJvdW5jZWQgZnVuY3Rpb24gdGhhdCBkZWxheXMgaW52b2tpbmcgYGZ1bmNgIHVudGlsIGFmdGVyIGB3YWl0YFxuICAgICAqIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgdGltZSB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHdhc1xuICAgICAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAgICAgKiBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0byBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS5cbiAgICAgKiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGVcbiAgICAgKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbi4gU3Vic2VxdWVudFxuICAgICAqIGNhbGxzIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgXG4gICAgICogaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICAgICAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICAgKlxuICAgICAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICAgICAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAgICAgKlxuICAgICAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICAgICAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8uZGVib3VuY2VgIGFuZCBgXy50aHJvdHRsZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPWZhbHNlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gICAgICogIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXguXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3Jlc2l6ZScsIF8uZGVib3VuY2UoY2FsY3VsYXRlTGF5b3V0LCAxNTApKTtcbiAgICAgKlxuICAgICAqIC8vIEludm9rZSBgc2VuZE1haWxgIHdoZW4gY2xpY2tlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzLlxuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmRlYm91bmNlKHNlbmRNYWlsLCAzMDAsIHtcbiAgICAgKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAgICAgKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gICAgICogfSkpO1xuICAgICAqXG4gICAgICogLy8gRW5zdXJlIGBiYXRjaExvZ2AgaXMgaW52b2tlZCBvbmNlIGFmdGVyIDEgc2Vjb25kIG9mIGRlYm91bmNlZCBjYWxscy5cbiAgICAgKiB2YXIgZGVib3VuY2VkID0gXy5kZWJvdW5jZShiYXRjaExvZywgMjUwLCB7ICdtYXhXYWl0JzogMTAwMCB9KTtcbiAgICAgKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gICAgICogalF1ZXJ5KHNvdXJjZSkub24oJ21lc3NhZ2UnLCBkZWJvdW5jZWQpO1xuICAgICAqXG4gICAgICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCBkZWJvdW5jZWQuY2FuY2VsKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGFzdEFyZ3MsXG4gICAgICAgICAgbGFzdFRoaXMsXG4gICAgICAgICAgbWF4V2FpdCxcbiAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgdGltZXJJZCxcbiAgICAgICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgbGFzdEludm9rZVRpbWUgPSAwLFxuICAgICAgICAgIGxlYWRpbmcgPSBmYWxzZSxcbiAgICAgICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHdhaXQgPSB0b051bWJlcih3YWl0KSB8fCAwO1xuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIGxlYWRpbmcgPSAhIW9wdGlvbnMubGVhZGluZztcbiAgICAgICAgbWF4aW5nID0gJ21heFdhaXQnIGluIG9wdGlvbnM7XG4gICAgICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgICAgICB2YXIgYXJncyA9IGxhc3RBcmdzLFxuICAgICAgICAgICAgdGhpc0FyZyA9IGxhc3RUaGlzO1xuXG4gICAgICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbGVhZGluZ0VkZ2UodGltZSkge1xuICAgICAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgICAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgICAgIC8vIFN0YXJ0IHRoZSB0aW1lciBmb3IgdGhlIHRyYWlsaW5nIGVkZ2UuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIC8vIEludm9rZSB0aGUgbGVhZGluZyBlZGdlLlxuICAgICAgICByZXR1cm4gbGVhZGluZyA/IGludm9rZUZ1bmModGltZSkgOiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgICAgIHRpbWVXYWl0aW5nID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgICAgIHJldHVybiBtYXhpbmdcbiAgICAgICAgICA/IG5hdGl2ZU1pbih0aW1lV2FpdGluZywgbWF4V2FpdCAtIHRpbWVTaW5jZUxhc3RJbnZva2UpXG4gICAgICAgICAgOiB0aW1lV2FpdGluZztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2hvdWxkSW52b2tlKHRpbWUpIHtcbiAgICAgICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWU7XG5cbiAgICAgICAgLy8gRWl0aGVyIHRoaXMgaXMgdGhlIGZpcnN0IGNhbGwsIGFjdGl2aXR5IGhhcyBzdG9wcGVkIGFuZCB3ZSdyZSBhdCB0aGVcbiAgICAgICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAgICAgLy8gaXQgYXMgdGhlIHRyYWlsaW5nIGVkZ2UsIG9yIHdlJ3ZlIGhpdCB0aGUgYG1heFdhaXRgIGxpbWl0LlxuICAgICAgICByZXR1cm4gKGxhc3RDYWxsVGltZSA9PT0gdW5kZWZpbmVkIHx8ICh0aW1lU2luY2VMYXN0Q2FsbCA+PSB3YWl0KSB8fFxuICAgICAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRpbWVyRXhwaXJlZCgpIHtcbiAgICAgICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICAgICAgaWYgKHNob3VsZEludm9rZSh0aW1lKSkge1xuICAgICAgICAgIHJldHVybiB0cmFpbGluZ0VkZ2UodGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzdGFydCB0aGUgdGltZXIuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgcmVtYWluaW5nV2FpdCh0aW1lKSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRyYWlsaW5nRWRnZSh0aW1lKSB7XG4gICAgICAgIHRpbWVySWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgICAgICAvLyBkZWJvdW5jZWQgYXQgbGVhc3Qgb25jZS5cbiAgICAgICAgaWYgKHRyYWlsaW5nICYmIGxhc3RBcmdzKSB7XG4gICAgICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgICAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0Q2FsbFRpbWUgPSBsYXN0VGhpcyA9IHRpbWVySWQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgICByZXR1cm4gdGltZXJJZCA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogdHJhaWxpbmdFZGdlKG5vdygpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgICAgICB2YXIgdGltZSA9IG5vdygpLFxuICAgICAgICAgICAgaXNJbnZva2luZyA9IHNob3VsZEludm9rZSh0aW1lKTtcblxuICAgICAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgICAgICBsYXN0Q2FsbFRpbWUgPSB0aW1lO1xuXG4gICAgICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGxlYWRpbmdFZGdlKGxhc3RDYWxsVGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtYXhpbmcpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBpbnZvY2F0aW9ucyBpbiBhIHRpZ2h0IGxvb3AuXG4gICAgICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICAgICAgcmV0dXJuIGludm9rZUZ1bmMobGFzdENhbGxUaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gICAgICBkZWJvdW5jZWQuZmx1c2ggPSBmbHVzaDtcbiAgICAgIHJldHVybiBkZWJvdW5jZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmZXJzIGludm9raW5nIHRoZSBgZnVuY2AgdW50aWwgdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBoYXMgY2xlYXJlZC4gQW55XG4gICAgICogYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlZmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHRleHQpO1xuICAgICAqIH0sICdkZWZlcnJlZCcpO1xuICAgICAqIC8vID0+IExvZ3MgJ2RlZmVycmVkJyBhZnRlciBvbmUgbWlsbGlzZWNvbmQuXG4gICAgICovXG4gICAgdmFyIGRlZmVyID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgcmV0dXJuIGJhc2VEZWxheShmdW5jLCAxLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgYGZ1bmNgIGFmdGVyIGB3YWl0YCBtaWxsaXNlY29uZHMuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmVcbiAgICAgKiBwcm92aWRlZCB0byBgZnVuY2Agd2hlbiBpdCdzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlbGF5KGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHRleHQpO1xuICAgICAqIH0sIDEwMDAsICdsYXRlcicpO1xuICAgICAqIC8vID0+IExvZ3MgJ2xhdGVyJyBhZnRlciBvbmUgc2Vjb25kLlxuICAgICAqL1xuICAgIHZhciBkZWxheSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBiYXNlRGVsYXkoZnVuYywgdG9OdW1iZXIod2FpdCkgfHwgMCwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGFyZ3VtZW50cyByZXZlcnNlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGZsaXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmbGlwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZmxpcHBlZCA9IF8uZmxpcChmdW5jdGlvbigpIHtcbiAgICAgKiAgIHJldHVybiBfLnRvQXJyYXkoYXJndW1lbnRzKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGZsaXBwZWQoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiBbJ2QnLCAnYycsICdiJywgJ2EnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsaXAoZnVuYykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9GTElQX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG1lbW9pemVzIHRoZSByZXN1bHQgb2YgYGZ1bmNgLiBJZiBgcmVzb2x2ZXJgIGlzXG4gICAgICogcHJvdmlkZWQsIGl0IGRldGVybWluZXMgdGhlIGNhY2hlIGtleSBmb3Igc3RvcmluZyB0aGUgcmVzdWx0IGJhc2VkIG9uIHRoZVxuICAgICAqIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uIEJ5IGRlZmF1bHQsIHRoZSBmaXJzdCBhcmd1bWVudFxuICAgICAqIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbiBpcyB1c2VkIGFzIHRoZSBtYXAgY2FjaGUga2V5LiBUaGUgYGZ1bmNgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNhY2hlIGlzIGV4cG9zZWQgYXMgdGhlIGBjYWNoZWAgcHJvcGVydHkgb24gdGhlIG1lbW9pemVkXG4gICAgICogZnVuY3Rpb24uIEl0cyBjcmVhdGlvbiBtYXkgYmUgY3VzdG9taXplZCBieSByZXBsYWNpbmcgdGhlIGBfLm1lbW9pemUuQ2FjaGVgXG4gICAgICogY29uc3RydWN0b3Igd2l0aCBvbmUgd2hvc2UgaW5zdGFuY2VzIGltcGxlbWVudCB0aGVcbiAgICAgKiBbYE1hcGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXByb3BlcnRpZXMtb2YtdGhlLW1hcC1wcm90b3R5cGUtb2JqZWN0KVxuICAgICAqIG1ldGhvZCBpbnRlcmZhY2Ugb2YgYGNsZWFyYCwgYGRlbGV0ZWAsIGBnZXRgLCBgaGFzYCwgYW5kIGBzZXRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXNvbHZlcl0gVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgdGhlIGNhY2hlIGtleS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdjJzogMywgJ2QnOiA0IH07XG4gICAgICpcbiAgICAgKiB2YXIgdmFsdWVzID0gXy5tZW1vaXplKF8udmFsdWVzKTtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIHZhbHVlcyhvdGhlcik7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICpcbiAgICAgKiBvYmplY3QuYSA9IDI7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiAvLyBNb2RpZnkgdGhlIHJlc3VsdCBjYWNoZS5cbiAgICAgKiB2YWx1ZXMuY2FjaGUuc2V0KG9iamVjdCwgWydhJywgJ2InXSk7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqXG4gICAgICogLy8gUmVwbGFjZSBgXy5tZW1vaXplLkNhY2hlYC5cbiAgICAgKiBfLm1lbW9pemUuQ2FjaGUgPSBXZWFrTWFwO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lbW9pemUoZnVuYywgcmVzb2x2ZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nIHx8IChyZXNvbHZlciAhPSBudWxsICYmIHR5cGVvZiByZXNvbHZlciAhPSAnZnVuY3Rpb24nKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICBrZXkgPSByZXNvbHZlciA/IHJlc29sdmVyLmFwcGx5KHRoaXMsIGFyZ3MpIDogYXJnc1swXSxcbiAgICAgICAgICAgIGNhY2hlID0gbWVtb2l6ZWQuY2FjaGU7XG5cbiAgICAgICAgaWYgKGNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhY2hlLmdldChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICBtZW1vaXplZC5jYWNoZSA9IGNhY2hlLnNldChrZXksIHJlc3VsdCkgfHwgY2FjaGU7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgICAgbWVtb2l6ZWQuY2FjaGUgPSBuZXcgKG1lbW9pemUuQ2FjaGUgfHwgTWFwQ2FjaGUpO1xuICAgICAgcmV0dXJuIG1lbW9pemVkO1xuICAgIH1cblxuICAgIC8vIEV4cG9zZSBgTWFwQ2FjaGVgLlxuICAgIG1lbW9pemUuQ2FjaGUgPSBNYXBDYWNoZTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG5lZ2F0ZXMgdGhlIHJlc3VsdCBvZiB0aGUgcHJlZGljYXRlIGBmdW5jYC4gVGhlXG4gICAgICogYGZ1bmNgIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHMgb2YgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgcHJlZGljYXRlIHRvIG5lZ2F0ZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBuZWdhdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0V2ZW4obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5maWx0ZXIoWzEsIDIsIDMsIDQsIDUsIDZdLCBfLm5lZ2F0ZShpc0V2ZW4pKTtcbiAgICAgKiAvLyA9PiBbMSwgMywgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBuZWdhdGUocHJlZGljYXRlKSB7XG4gICAgICBpZiAodHlwZW9mIHByZWRpY2F0ZSAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDA6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcyk7XG4gICAgICAgICAgY2FzZSAxOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0pO1xuICAgICAgICAgIGNhc2UgMjogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFwcmVkaWNhdGUuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGlzIHJlc3RyaWN0ZWQgdG8gaW52b2tpbmcgYGZ1bmNgIG9uY2UuIFJlcGVhdCBjYWxsc1xuICAgICAqIHRvIHRoZSBmdW5jdGlvbiByZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBpbnZvY2F0aW9uLiBUaGUgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGluaXRpYWxpemUgPSBfLm9uY2UoY3JlYXRlQXBwbGljYXRpb24pO1xuICAgICAqIGluaXRpYWxpemUoKTtcbiAgICAgKiBpbml0aWFsaXplKCk7XG4gICAgICogLy8gPT4gYGNyZWF0ZUFwcGxpY2F0aW9uYCBpcyBpbnZva2VkIG9uY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbmNlKGZ1bmMpIHtcbiAgICAgIHJldHVybiBiZWZvcmUoMiwgZnVuYyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnRzIHRyYW5zZm9ybWVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW3RyYW5zZm9ybXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgYXJndW1lbnQgdHJhbnNmb3Jtcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZG91YmxlZChuKSB7XG4gICAgICogICByZXR1cm4gbiAqIDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckFyZ3MoZnVuY3Rpb24oeCwgeSkge1xuICAgICAqICAgcmV0dXJuIFt4LCB5XTtcbiAgICAgKiB9LCBbc3F1YXJlLCBkb3VibGVkXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKDksIDMpO1xuICAgICAqIC8vID0+IFs4MSwgNl1cbiAgICAgKlxuICAgICAqIGZ1bmMoMTAsIDUpO1xuICAgICAqIC8vID0+IFsxMDAsIDEwXVxuICAgICAqL1xuICAgIHZhciBvdmVyQXJncyA9IGNhc3RSZXN0KGZ1bmN0aW9uKGZ1bmMsIHRyYW5zZm9ybXMpIHtcbiAgICAgIHRyYW5zZm9ybXMgPSAodHJhbnNmb3Jtcy5sZW5ndGggPT0gMSAmJiBpc0FycmF5KHRyYW5zZm9ybXNbMF0pKVxuICAgICAgICA/IGFycmF5TWFwKHRyYW5zZm9ybXNbMF0sIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSlcbiAgICAgICAgOiBhcnJheU1hcChiYXNlRmxhdHRlbih0cmFuc2Zvcm1zLCAxKSwgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcblxuICAgICAgdmFyIGZ1bmNzTGVuZ3RoID0gdHJhbnNmb3Jtcy5sZW5ndGg7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihhcmdzLmxlbmd0aCwgZnVuY3NMZW5ndGgpO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSB0cmFuc2Zvcm1zW2luZGV4XS5jYWxsKHRoaXMsIGFyZ3NbaW5kZXhdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgYXJncyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlXG4gICAgICogYXJndW1lbnRzIGl0IHJlY2VpdmVzLiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmJpbmRgIGV4Y2VwdCBpdCBkb2VzICoqbm90KipcbiAgICAgKiBhbHRlciB0aGUgYHRoaXNgIGJpbmRpbmcuXG4gICAgICpcbiAgICAgKiBUaGUgYF8ucGFydGlhbC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgcGFydGlhbGx5XG4gICAgICogYXBwbGllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkgYXJndW1lbnRzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBncmVldChncmVldGluZywgbmFtZSkge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgbmFtZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbChncmVldCwgJ2hlbGxvJyk7XG4gICAgICogc2F5SGVsbG9UbygnZnJlZCcpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkJ1xuICAgICAqXG4gICAgICogLy8gUGFydGlhbGx5IGFwcGxpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGdyZWV0RnJlZCA9IF8ucGFydGlhbChncmVldCwgXywgJ2ZyZWQnKTtcbiAgICAgKiBncmVldEZyZWQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQnXG4gICAgICovXG4gICAgdmFyIHBhcnRpYWwgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKHBhcnRpYWwpKTtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUEFSVElBTF9GTEFHLCB1bmRlZmluZWQsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucGFydGlhbGAgZXhjZXB0IHRoYXQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzXG4gICAgICogYXJlIGFwcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8ucGFydGlhbFJpZ2h0LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBwYXJ0aWFsbHlcbiAgICAgKiBhcHBsaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHBhcnRpYWxseSBhcHBseSBhcmd1bWVudHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFydGlhbGx5IGFwcGxpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBuYW1lKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyBuYW1lO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBncmVldEZyZWQgPSBfLnBhcnRpYWxSaWdodChncmVldCwgJ2ZyZWQnKTtcbiAgICAgKiBncmVldEZyZWQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBQYXJ0aWFsbHkgYXBwbGllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbFJpZ2h0KGdyZWV0LCAnaGVsbG8nLCBfKTtcbiAgICAgKiBzYXlIZWxsb1RvKCdmcmVkJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQnXG4gICAgICovXG4gICAgdmFyIHBhcnRpYWxSaWdodCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIocGFydGlhbFJpZ2h0KSk7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRywgdW5kZWZpbmVkLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGFyZ3VtZW50cyBhcnJhbmdlZCBhY2NvcmRpbmdcbiAgICAgKiB0byB0aGUgc3BlY2lmaWVkIGBpbmRleGVzYCB3aGVyZSB0aGUgYXJndW1lbnQgdmFsdWUgYXQgdGhlIGZpcnN0IGluZGV4IGlzXG4gICAgICogcHJvdmlkZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LCB0aGUgYXJndW1lbnQgdmFsdWUgYXQgdGhlIHNlY29uZCBpbmRleCBpc1xuICAgICAqIHByb3ZpZGVkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlYXJyYW5nZSBhcmd1bWVudHMgZm9yLlxuICAgICAqIEBwYXJhbSB7Li4uKG51bWJlcnxudW1iZXJbXSl9IGluZGV4ZXMgVGhlIGFycmFuZ2VkIGFyZ3VtZW50IGluZGV4ZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciByZWFyZ2VkID0gXy5yZWFyZyhmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH0sIFsyLCAwLCAxXSk7XG4gICAgICpcbiAgICAgKiByZWFyZ2VkKCdiJywgJ2MnLCAnYScpXG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgdmFyIHJlYXJnID0gZmxhdFJlc3QoZnVuY3Rpb24oZnVuYywgaW5kZXhlcykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9SRUFSR19GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBpbmRleGVzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZVxuICAgICAqIGNyZWF0ZWQgZnVuY3Rpb24gYW5kIGFyZ3VtZW50cyBmcm9tIGBzdGFydGAgYW5kIGJleW9uZCBwcm92aWRlZCBhc1xuICAgICAqIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uIHRoZVxuICAgICAqIFtyZXN0IHBhcmFtZXRlcl0oaHR0cHM6Ly9tZG4uaW8vcmVzdF9wYXJhbWV0ZXJzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F5ID0gXy5yZXN0KGZ1bmN0aW9uKHdoYXQsIG5hbWVzKSB7XG4gICAgICogICByZXR1cm4gd2hhdCArICcgJyArIF8uaW5pdGlhbChuYW1lcykuam9pbignLCAnKSArXG4gICAgICogICAgIChfLnNpemUobmFtZXMpID4gMSA/ICcsICYgJyA6ICcnKSArIF8ubGFzdChuYW1lcyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzYXkoJ2hlbGxvJywgJ2ZyZWQnLCAnYmFybmV5JywgJ3BlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzdChmdW5jLCBzdGFydCkge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgc3RhcnQgPSBzdGFydCA9PT0gdW5kZWZpbmVkID8gc3RhcnQgOiB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGVcbiAgICAgKiBjcmVhdGUgZnVuY3Rpb24gYW5kIGFuIGFycmF5IG9mIGFyZ3VtZW50cyBtdWNoIGxpa2VcbiAgICAgKiBbYEZ1bmN0aW9uI2FwcGx5YF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb24gdGhlXG4gICAgICogW3NwcmVhZCBvcGVyYXRvcl0oaHR0cHM6Ly9tZG4uaW8vc3ByZWFkX29wZXJhdG9yKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHNwcmVhZCBhcmd1bWVudHMgb3Zlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgc3ByZWFkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F5ID0gXy5zcHJlYWQoZnVuY3Rpb24od2hvLCB3aGF0KSB7XG4gICAgICogICByZXR1cm4gd2hvICsgJyBzYXlzICcgKyB3aGF0O1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc2F5KFsnZnJlZCcsICdoZWxsbyddKTtcbiAgICAgKiAvLyA9PiAnZnJlZCBzYXlzIGhlbGxvJ1xuICAgICAqXG4gICAgICogdmFyIG51bWJlcnMgPSBQcm9taXNlLmFsbChbXG4gICAgICogICBQcm9taXNlLnJlc29sdmUoNDApLFxuICAgICAqICAgUHJvbWlzZS5yZXNvbHZlKDM2KVxuICAgICAqIF0pO1xuICAgICAqXG4gICAgICogbnVtYmVycy50aGVuKF8uc3ByZWFkKGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgKiAgIHJldHVybiB4ICsgeTtcbiAgICAgKiB9KSk7XG4gICAgICogLy8gPT4gYSBQcm9taXNlIG9mIDc2XG4gICAgICovXG4gICAgZnVuY3Rpb24gc3ByZWFkKGZ1bmMsIHN0YXJ0KSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBzdGFydCA9IHN0YXJ0ID09IG51bGwgPyAwIDogbmF0aXZlTWF4KHRvSW50ZWdlcihzdGFydCksIDApO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJnc1tzdGFydF0sXG4gICAgICAgICAgICBvdGhlckFyZ3MgPSBjYXN0U2xpY2UoYXJncywgMCwgc3RhcnQpO1xuXG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIGFycmF5UHVzaChvdGhlckFyZ3MsIGFycmF5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB0aHJvdHRsZWQgZnVuY3Rpb24gdGhhdCBvbmx5IGludm9rZXMgYGZ1bmNgIGF0IG1vc3Qgb25jZSBwZXJcbiAgICAgKiBldmVyeSBgd2FpdGAgbWlsbGlzZWNvbmRzLiBUaGUgdGhyb3R0bGVkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYFxuICAgICAqIG1ldGhvZCB0byBjYW5jZWwgZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG9cbiAgICAgKiBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS4gUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2BcbiAgICAgKiBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGUgbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgXG4gICAgICogdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZVxuICAgICAqIHRocm90dGxlZCBmdW5jdGlvbi4gU3Vic2VxdWVudCBjYWxscyB0byB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHJldHVybiB0aGVcbiAgICAgKiByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb25cbiAgICAgKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gICAgICpcbiAgICAgKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAgICAgKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gICAgICpcbiAgICAgKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAgICAgKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLnRocm90dGxlYCBhbmQgYF8uZGVib3VuY2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gdGhyb3R0bGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHRocm90dGxlIGludm9jYXRpb25zIHRvLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHRocm90dGxlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgZXhjZXNzaXZlbHkgdXBkYXRpbmcgdGhlIHBvc2l0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbignc2Nyb2xsJywgXy50aHJvdHRsZSh1cGRhdGVQb3NpdGlvbiwgMTAwKSk7XG4gICAgICpcbiAgICAgKiAvLyBJbnZva2UgYHJlbmV3VG9rZW5gIHdoZW4gdGhlIGNsaWNrIGV2ZW50IGlzIGZpcmVkLCBidXQgbm90IG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IDUgbWludXRlcy5cbiAgICAgKiB2YXIgdGhyb3R0bGVkID0gXy50aHJvdHRsZShyZW5ld1Rva2VuLCAzMDAwMDAsIHsgJ3RyYWlsaW5nJzogZmFsc2UgfSk7XG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIHRocm90dGxlZCk7XG4gICAgICpcbiAgICAgKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIHRocm90dGxlZCBpbnZvY2F0aW9uLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIHRocm90dGxlZC5jYW5jZWwpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZWFkaW5nID0gdHJ1ZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICBsZWFkaW5nID0gJ2xlYWRpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMubGVhZGluZyA6IGxlYWRpbmc7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVib3VuY2UoZnVuYywgd2FpdCwge1xuICAgICAgICAnbGVhZGluZyc6IGxlYWRpbmcsXG4gICAgICAgICdtYXhXYWl0Jzogd2FpdCxcbiAgICAgICAgJ3RyYWlsaW5nJzogdHJhaWxpbmdcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgdXAgdG8gb25lIGFyZ3VtZW50LCBpZ25vcmluZyBhbnlcbiAgICAgKiBhZGRpdGlvbmFsIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzgnLCAnMTAnXSwgXy51bmFyeShwYXJzZUludCkpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmFyeShmdW5jKSB7XG4gICAgICByZXR1cm4gYXJ5KGZ1bmMsIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHByb3ZpZGVzIGB2YWx1ZWAgdG8gYHdyYXBwZXJgIGFzIGl0cyBmaXJzdFxuICAgICAqIGFyZ3VtZW50LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGZ1bmN0aW9uIGFyZSBhcHBlbmRlZFxuICAgICAqIHRvIHRob3NlIHByb3ZpZGVkIHRvIHRoZSBgd3JhcHBlcmAuIFRoZSB3cmFwcGVyIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3dyYXBwZXI9aWRlbnRpdHldIFRoZSB3cmFwcGVyIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgcCA9IF8ud3JhcChfLmVzY2FwZSwgZnVuY3Rpb24oZnVuYywgdGV4dCkge1xuICAgICAqICAgcmV0dXJuICc8cD4nICsgZnVuYyh0ZXh0KSArICc8L3A+JztcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHAoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJzxwPmZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlczwvcD4nXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcCh2YWx1ZSwgd3JhcHBlcikge1xuICAgICAgcmV0dXJuIHBhcnRpYWwoY2FzdEZ1bmN0aW9uKHdyYXBwZXIpLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCBhcyBhbiBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgxKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KHsgJ2EnOiAxIH0pO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSB9XVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IFsnYWJjJ11cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KG51bGwpO1xuICAgICAqIC8vID0+IFtudWxsXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkodW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBbdW5kZWZpbmVkXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqIGNvbnNvbGUubG9nKF8uY2FzdEFycmF5KGFycmF5KSA9PT0gYXJyYXkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0QXJyYXkoKSB7XG4gICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzWzBdO1xuICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzaGFsbG93IGNsb25lIG9mIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvbiB0aGVcbiAgICAgKiBbc3RydWN0dXJlZCBjbG9uZSBhbGdvcml0aG1dKGh0dHBzOi8vbWRuLmlvL1N0cnVjdHVyZWRfY2xvbmVfYWxnb3JpdGhtKVxuICAgICAqIGFuZCBzdXBwb3J0cyBjbG9uaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsIGRhdGUgb2JqZWN0cywgbWFwcyxcbiAgICAgKiBudW1iZXJzLCBgT2JqZWN0YCBvYmplY3RzLCByZWdleGVzLCBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWRcbiAgICAgKiBhcnJheXMuIFRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIGBhcmd1bWVudHNgIG9iamVjdHMgYXJlIGNsb25lZFxuICAgICAqIGFzIHBsYWluIG9iamVjdHMuIEFuIGVtcHR5IG9iamVjdCBpcyByZXR1cm5lZCBmb3IgdW5jbG9uZWFibGUgdmFsdWVzIHN1Y2hcbiAgICAgKiBhcyBlcnJvciBvYmplY3RzLCBmdW5jdGlvbnMsIERPTSBub2RlcywgYW5kIFdlYWtNYXBzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZURlZXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnYSc6IDEgfSwgeyAnYic6IDIgfV07XG4gICAgICpcbiAgICAgKiB2YXIgc2hhbGxvdyA9IF8uY2xvbmUob2JqZWN0cyk7XG4gICAgICogY29uc29sZS5sb2coc2hhbGxvd1swXSA9PT0gb2JqZWN0c1swXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lKHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9TWU1CT0xTX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBjbG9uZWQgdmFsdWUuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLFxuICAgICAqIGNsb25pbmcgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdXAgdG8gZm91ciBhcmd1bWVudHM7ICh2YWx1ZSBbLCBpbmRleHxrZXksIG9iamVjdCwgc3RhY2tdKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZURlZXBXaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIodmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzRWxlbWVudCh2YWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlLmNsb25lTm9kZShmYWxzZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGVsID0gXy5jbG9uZVdpdGgoZG9jdW1lbnQuYm9keSwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhlbCA9PT0gZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5ub2RlTmFtZSk7XG4gICAgICogLy8gPT4gJ0JPRFknXG4gICAgICogY29uc29sZS5sb2coZWwuY2hpbGROb2Rlcy5sZW5ndGgpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVdpdGgodmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZWAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgY2xvbmVzIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJlY3Vyc2l2ZWx5IGNsb25lLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBkZWVwIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnYSc6IDEgfSwgeyAnYic6IDIgfV07XG4gICAgICpcbiAgICAgKiB2YXIgZGVlcCA9IF8uY2xvbmVEZWVwKG9iamVjdHMpO1xuICAgICAqIGNvbnNvbGUubG9nKGRlZXBbMF0gPT09IG9iamVjdHNbMF0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEZWVwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcgfCBDTE9ORV9TWU1CT0xTX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVXaXRoYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBjbG9uZXMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmVjdXJzaXZlbHkgY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZGVlcCBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKHZhbHVlKSB7XG4gICAgICogICBpZiAoXy5pc0VsZW1lbnQodmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB2YWx1ZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGVsID0gXy5jbG9uZURlZXBXaXRoKGRvY3VtZW50LmJvZHksIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZWwgPT09IGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICogY29uc29sZS5sb2coZWwubm9kZU5hbWUpO1xuICAgICAqIC8vID0+ICdCT0RZJ1xuICAgICAqIGNvbnNvbGUubG9nKGVsLmNoaWxkTm9kZXMubGVuZ3RoKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGVlcFdpdGgodmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBvYmplY3RgIGNvbmZvcm1zIHRvIGBzb3VyY2VgIGJ5IGludm9raW5nIHRoZSBwcmVkaWNhdGVcbiAgICAgKiBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGVxdWl2YWxlbnQgdG8gYF8uY29uZm9ybXNgIHdoZW4gYHNvdXJjZWAgaXNcbiAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjE0LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGNvbmZvcm1zLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICpcbiAgICAgKiBfLmNvbmZvcm1zVG8ob2JqZWN0LCB7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5jb25mb3Jtc1RvKG9iamVjdCwgeyAnYic6IGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPiAyOyB9IH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIHNvdXJjZSA9PSBudWxsIHx8IGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBrZXlzKHNvdXJjZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGFcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZXEoJ2EnLCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZXEoTmFOLCBOYU4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ubHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ndCgzLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0KDMsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmd0KDEsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGd0ID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihiYXNlR3QpO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG9cbiAgICAgKiAgYG90aGVyYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5sdGVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ndGUoMywgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndGUoMywgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndGUoMSwgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgZ3RlID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA+PSBvdGhlcjtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FyZ3VtZW50cyA9IGJhc2VJc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA/IGJhc2VJc0FyZ3VtZW50cyA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAgICAgIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5QnVmZmVyYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5IGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlCdWZmZXIobmV3IEFycmF5QnVmZmVyKDIpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlCdWZmZXIobmV3IEFycmF5KDIpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FycmF5QnVmZmVyID0gbm9kZUlzQXJyYXlCdWZmZXIgPyBiYXNlVW5hcnkobm9kZUlzQXJyYXlCdWZmZXIpIDogYmFzZUlzQXJyYXlCdWZmZXI7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gICAgICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICAgICAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNBcnJheUxpa2VgIGV4Y2VwdCB0aGF0IGl0IGFsc28gY2hlY2tzIGlmIGB2YWx1ZWBcbiAgICAgKiBpcyBhbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNBcnJheUxpa2UodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBib29sZWFuIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYm9vbGVhbiwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQm9vbGVhbihmYWxzZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Jvb2xlYW4obnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gZmFsc2UgfHxcbiAgICAgICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYm9vbFRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNCdWZmZXIobmV3IEJ1ZmZlcigyKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0J1ZmZlcihuZXcgVWludDhBcnJheSgyKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNCdWZmZXIgPSBuYXRpdmVJc0J1ZmZlciB8fCBzdHViRmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYERhdGVgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBkYXRlIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRGF0ZShuZXcgRGF0ZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0RhdGUoJ01vbiBBcHJpbCAyMyAyMDEyJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNEYXRlID0gbm9kZUlzRGF0ZSA/IGJhc2VVbmFyeShub2RlSXNEYXRlKSA6IGJhc2VJc0RhdGU7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBET00gZWxlbWVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRWxlbWVudChkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRWxlbWVudCgnPGJvZHk+Jyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VsZW1lbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIHZhbHVlLm5vZGVUeXBlID09PSAxICYmICFpc1BsYWluT2JqZWN0KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBlbXB0eSBvYmplY3QsIGNvbGxlY3Rpb24sIG1hcCwgb3Igc2V0LlxuICAgICAqXG4gICAgICogT2JqZWN0cyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgbm8gb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkXG4gICAgICogcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEFycmF5LWxpa2UgdmFsdWVzIHN1Y2ggYXMgYGFyZ3VtZW50c2Agb2JqZWN0cywgYXJyYXlzLCBidWZmZXJzLCBzdHJpbmdzLCBvclxuICAgICAqIGpRdWVyeS1saWtlIGNvbGxlY3Rpb25zIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBhIGBsZW5ndGhgIG9mIGAwYC5cbiAgICAgKiBTaW1pbGFybHksIG1hcHMgYW5kIHNldHMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIGEgYHNpemVgIG9mIGAwYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZW1wdHksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSh0cnVlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSh7ICdhJzogMSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRW1wdHkodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSAmJlxuICAgICAgICAgIChpc0FycmF5KHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlLnNwbGljZSA9PSAnZnVuY3Rpb24nIHx8XG4gICAgICAgICAgICBpc0J1ZmZlcih2YWx1ZSkgfHwgaXNUeXBlZEFycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkpKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUubGVuZ3RoO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSk7XG4gICAgICBpZiAodGFnID09IG1hcFRhZyB8fCB0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUuc2l6ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1Byb3RvdHlwZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuICFiYXNlS2V5cyh2YWx1ZSkubGVuZ3RoO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlXG4gICAgICogZXF1aXZhbGVudC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBzdXBwb3J0cyBjb21wYXJpbmcgYXJyYXlzLCBhcnJheSBidWZmZXJzLCBib29sZWFucyxcbiAgICAgKiBkYXRlIG9iamVjdHMsIGVycm9yIG9iamVjdHMsIG1hcHMsIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsXG4gICAgICogc2V0cywgc3RyaW5ncywgc3ltYm9scywgYW5kIHR5cGVkIGFycmF5cy4gYE9iamVjdGAgb2JqZWN0cyBhcmUgY29tcGFyZWRcbiAgICAgKiBieSB0aGVpciBvd24sIG5vdCBpbmhlcml0ZWQsIGVudW1lcmFibGUgcHJvcGVydGllcy4gRnVuY3Rpb25zIGFuZCBET01cbiAgICAgKiBub2RlcyBhcmUgY29tcGFyZWQgYnkgc3RyaWN0IGVxdWFsaXR5LCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uaXNFcXVhbChvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBvYmplY3QgPT09IG90aGVyO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcXVhbCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNFcXVhbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgY29tcGFyaXNvbnNcbiAgICAgKiBhcmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIHVwIHRvXG4gICAgICogc2l4IGFyZ3VtZW50czogKG9ialZhbHVlLCBvdGhWYWx1ZSBbLCBpbmRleHxrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrXSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0dyZWV0aW5nKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gL15oKD86aXxlbGxvKSQvLnRlc3QodmFsdWUpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlKSB7XG4gICAgICogICBpZiAoaXNHcmVldGluZyhvYmpWYWx1ZSkgJiYgaXNHcmVldGluZyhvdGhWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHRydWU7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydoZWxsbycsICdnb29kYnllJ107XG4gICAgICogdmFyIG90aGVyID0gWydoaScsICdnb29kYnllJ107XG4gICAgICpcbiAgICAgKiBfLmlzRXF1YWxXaXRoKGFycmF5LCBvdGhlciwgY3VzdG9taXplcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXF1YWxXaXRoKHZhbHVlLCBvdGhlciwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIgPyBjdXN0b21pemVyKHZhbHVlLCBvdGhlcikgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIsIHVuZGVmaW5lZCwgY3VzdG9taXplcikgOiAhIXJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBgRXJyb3JgLCBgRXZhbEVycm9yYCwgYFJhbmdlRXJyb3JgLCBgUmVmZXJlbmNlRXJyb3JgLFxuICAgICAqIGBTeW50YXhFcnJvcmAsIGBUeXBlRXJyb3JgLCBvciBgVVJJRXJyb3JgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gZXJyb3Igb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFcnJvcihuZXcgRXJyb3IpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFcnJvcihFcnJvcik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Vycm9yKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICAgICAgcmV0dXJuIHRhZyA9PSBlcnJvclRhZyB8fCB0YWcgPT0gZG9tRXhjVGFnIHx8XG4gICAgICAgICh0eXBlb2YgdmFsdWUubWVzc2FnZSA9PSAnc3RyaW5nJyAmJiB0eXBlb2YgdmFsdWUubmFtZSA9PSAnc3RyaW5nJyAmJiAhaXNQbGFpbk9iamVjdCh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgZmluaXRlIHByaW1pdGl2ZSBudW1iZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc0Zpbml0ZWBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc0Zpbml0ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZmluaXRlIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZShJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRmluaXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIG5hdGl2ZUlzRmluaXRlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Z1bmN0aW9uKF8pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgICAgIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICAgICAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICAgICAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNJbnRlZ2VyYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzSW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGludGVnZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA9PSB0b0ludGVnZXIodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAgICAgKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gICAgICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdCh7fSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAgICAgKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBNYXBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc01hcChuZXcgTWFwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTWFwKG5ldyBXZWFrTWFwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc01hcCA9IG5vZGVJc01hcCA/IGJhc2VVbmFyeShub2RlSXNNYXApIDogYmFzZUlzTWFwO1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIGBvYmplY3RgIGFuZCBgc291cmNlYCB0b1xuICAgICAqIGRldGVybWluZSBpZiBgb2JqZWN0YCBjb250YWlucyBlcXVpdmFsZW50IHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBlcXVpdmFsZW50IHRvIGBfLm1hdGNoZXNgIHdoZW4gYHNvdXJjZWAgaXNcbiAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIFBhcnRpYWwgY29tcGFyaXNvbnMgd2lsbCBtYXRjaCBlbXB0eSBhcnJheSBhbmQgZW1wdHkgb2JqZWN0IGBzb3VyY2VgXG4gICAgICogdmFsdWVzIGFnYWluc3QgYW55IGFycmF5IG9yIG9iamVjdCB2YWx1ZSwgcmVzcGVjdGl2ZWx5LiBTZWUgYF8uaXNFcXVhbGBcbiAgICAgKiBmb3IgYSBsaXN0IG9mIHN1cHBvcnRlZCB2YWx1ZSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqXG4gICAgICogXy5pc01hdGNoKG9iamVjdCwgeyAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc01hdGNoKG9iamVjdCwgeyAnYic6IDEgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hdGNoKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09PSBzb3VyY2UgfHwgYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIGdldE1hdGNoRGF0YShzb3VyY2UpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzTWF0Y2hgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIGNvbXBhcmlzb25zXG4gICAgICogYXJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBmaXZlXG4gICAgICogYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBpbmRleHxrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0dyZWV0aW5nKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gL15oKD86aXxlbGxvKSQvLnRlc3QodmFsdWUpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICBpZiAoaXNHcmVldGluZyhvYmpWYWx1ZSkgJiYgaXNHcmVldGluZyhzcmNWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHRydWU7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2dyZWV0aW5nJzogJ2hlbGxvJyB9O1xuICAgICAqIHZhciBzb3VyY2UgPSB7ICdncmVldGluZyc6ICdoaScgfTtcbiAgICAgKlxuICAgICAqIF8uaXNNYXRjaFdpdGgob2JqZWN0LCBzb3VyY2UsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hdGNoV2l0aChvYmplY3QsIHNvdXJjZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBnZXRNYXRjaERhdGEoc291cmNlKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYE5hTmAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc05hTmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc05hTikgYW5kIGlzIG5vdCB0aGUgc2FtZSBhc1xuICAgICAqIGdsb2JhbCBbYGlzTmFOYF0oaHR0cHM6Ly9tZG4uaW8vaXNOYU4pIHdoaWNoIHJldHVybnMgYHRydWVgIGZvclxuICAgICAqIGB1bmRlZmluZWRgIGFuZCBvdGhlciBub24tbnVtYmVyIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05hTihOYU4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4obmV3IE51bWJlcihOYU4pKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBpc05hTih1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4odW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmFOKHZhbHVlKSB7XG4gICAgICAvLyBBbiBgTmFOYCBwcmltaXRpdmUgaXMgdGhlIG9ubHkgdmFsdWUgdGhhdCBpcyBub3QgZXF1YWwgdG8gaXRzZWxmLlxuICAgICAgLy8gUGVyZm9ybSB0aGUgYHRvU3RyaW5nVGFnYCBjaGVjayBmaXJzdCB0byBhdm9pZCBlcnJvcnMgd2l0aCBzb21lXG4gICAgICAvLyBBY3RpdmVYIG9iamVjdHMgaW4gSUUuXG4gICAgICByZXR1cm4gaXNOdW1iZXIodmFsdWUpICYmIHZhbHVlICE9ICt2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByaXN0aW5lIG5hdGl2ZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBjYW4ndCByZWxpYWJseSBkZXRlY3QgbmF0aXZlIGZ1bmN0aW9ucyBpbiB0aGUgcHJlc2VuY2VcbiAgICAgKiBvZiB0aGUgY29yZS1qcyBwYWNrYWdlIGJlY2F1c2UgY29yZS1qcyBjaXJjdW12ZW50cyB0aGlzIGtpbmQgb2YgZGV0ZWN0aW9uLlxuICAgICAqIERlc3BpdGUgbXVsdGlwbGUgcmVxdWVzdHMsIHRoZSBjb3JlLWpzIG1haW50YWluZXIgaGFzIG1hZGUgaXQgY2xlYXI6IGFueVxuICAgICAqIGF0dGVtcHQgdG8gZml4IHRoZSBkZXRlY3Rpb24gd2lsbCBiZSBvYnN0cnVjdGVkLiBBcyBhIHJlc3VsdCwgd2UncmUgbGVmdFxuICAgICAqIHdpdGggbGl0dGxlIGNob2ljZSBidXQgdG8gdGhyb3cgYW4gZXJyb3IuIFVuZm9ydHVuYXRlbHksIHRoaXMgYWxzbyBhZmZlY3RzXG4gICAgICogcGFja2FnZXMsIGxpa2UgW2JhYmVsLXBvbHlmaWxsXShodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9iYWJlbC1wb2x5ZmlsbCksXG4gICAgICogd2hpY2ggcmVseSBvbiBjb3JlLWpzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmF0aXZlKEFycmF5LnByb3RvdHlwZS5wdXNoKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmF0aXZlKF8pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOYXRpdmUodmFsdWUpIHtcbiAgICAgIGlmIChpc01hc2thYmxlKHZhbHVlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoQ09SRV9FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYG51bGxgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOdWxsKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdWxsKHZvaWQgMCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc051bGwodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG51bGxpc2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05pbChudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKHZvaWQgMCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05pbChOYU4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOaWwodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgTnVtYmVyYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRvIGV4Y2x1ZGUgYEluZmluaXR5YCwgYC1JbmZpbml0eWAsIGFuZCBgTmFOYCwgd2hpY2ggYXJlXG4gICAgICogY2xhc3NpZmllZCBhcyBudW1iZXJzLCB1c2UgdGhlIGBfLmlzRmluaXRlYCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbnVtYmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBudW1iZXJUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCB0aGF0IGlzLCBhbiBvYmplY3QgY3JlYXRlZCBieSB0aGVcbiAgICAgKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC44LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHwgYmFzZUdldFRhZyh2YWx1ZSkgIT0gb2JqZWN0VGFnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gICAgICBpZiAocHJvdG8gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuICAgICAgcmV0dXJuIHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiZcbiAgICAgICAgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFJlZ0V4cGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHJlZ2V4cCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzUmVnRXhwKC9hYmMvKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzUmVnRXhwKCcvYWJjLycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzUmVnRXhwID0gbm9kZUlzUmVnRXhwID8gYmFzZVVuYXJ5KG5vZGVJc1JlZ0V4cCkgOiBiYXNlSXNSZWdFeHA7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHNhZmUgaW50ZWdlci4gQW4gaW50ZWdlciBpcyBzYWZlIGlmIGl0J3MgYW4gSUVFRS03NTRcbiAgICAgKiBkb3VibGUgcHJlY2lzaW9uIG51bWJlciB3aGljaCBpc24ndCB0aGUgcmVzdWx0IG9mIGEgcm91bmRlZCB1bnNhZmUgaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzU2FmZUludGVnZXJgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNTYWZlSW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2FmZSBpbnRlZ2VyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTYWZlSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzSW50ZWdlcih2YWx1ZSkgJiYgdmFsdWUgPj0gLU1BWF9TQUZFX0lOVEVHRVIgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFNldGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHNldCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU2V0KG5ldyBTZXQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTZXQobmV3IFdlYWtTZXQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzU2V0ID0gbm9kZUlzU2V0ID8gYmFzZVVuYXJ5KG5vZGVJc1NldCkgOiBiYXNlSXNTZXQ7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN0cmluZ2AgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzdHJpbmcsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1N0cmluZygnYWJjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1N0cmluZygxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8XG4gICAgICAgICghaXNBcnJheSh2YWx1ZSkgJiYgaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzdHJpbmdUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSB0eXBlZCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzVHlwZWRBcnJheShuZXcgVWludDhBcnJheSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1R5cGVkQXJyYXkoW10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzVHlwZWRBcnJheSA9IG5vZGVJc1R5cGVkQXJyYXkgPyBiYXNlVW5hcnkobm9kZUlzVHlwZWRBcnJheSkgOiBiYXNlSXNUeXBlZEFycmF5O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGB1bmRlZmluZWRgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNVbmRlZmluZWQodm9pZCAwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzVW5kZWZpbmVkKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgV2Vha01hcGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHdlYWsgbWFwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrTWFwKG5ldyBXZWFrTWFwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha01hcChuZXcgTWFwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzV2Vha01hcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSB3ZWFrTWFwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgV2Vha1NldGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHdlYWsgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrU2V0KG5ldyBXZWFrU2V0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha1NldChuZXcgU2V0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzV2Vha1NldCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gd2Vha1NldFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmd0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubHQoMSwgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdCgzLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5sdCgzLCAxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBsdCA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oYmFzZUx0KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvXG4gICAgICogIGBvdGhlcmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8uZ3RlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubHRlKDEsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHRlKDMsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHRlKDMsIDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGx0ZSA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPD0gb3RoZXI7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8udG9BcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoMSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8udG9BcnJheShudWxsKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvQXJyYXkodmFsdWUpIHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcodmFsdWUpID8gc3RyaW5nVG9BcnJheSh2YWx1ZSkgOiBjb3B5QXJyYXkodmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHN5bUl0ZXJhdG9yICYmIHZhbHVlW3N5bUl0ZXJhdG9yXSkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JUb0FycmF5KHZhbHVlW3N5bUl0ZXJhdG9yXSgpKTtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpLFxuICAgICAgICAgIGZ1bmMgPSB0YWcgPT0gbWFwVGFnID8gbWFwVG9BcnJheSA6ICh0YWcgPT0gc2V0VGFnID8gc2V0VG9BcnJheSA6IHZhbHVlcyk7XG5cbiAgICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgZmluaXRlIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEyLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZSgzLjIpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZShOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiA1ZS0zMjRcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKCczLjInKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0Zpbml0ZSh2YWx1ZSkge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6IDA7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gSU5GSU5JVFkgfHwgdmFsdWUgPT09IC1JTkZJTklUWSkge1xuICAgICAgICB2YXIgc2lnbiA9ICh2YWx1ZSA8IDAgPyAtMSA6IDEpO1xuICAgICAgICByZXR1cm4gc2lnbiAqIE1BWF9JTlRFR0VSO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSA/IHZhbHVlIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgVG9JbnRlZ2VyYF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvaW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcignMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvSW50ZWdlcih2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRvRmluaXRlKHZhbHVlKSxcbiAgICAgICAgICByZW1haW5kZXIgPSByZXN1bHQgJSAxO1xuXG4gICAgICByZXR1cm4gcmVzdWx0ID09PSByZXN1bHQgPyAocmVtYWluZGVyID8gcmVzdWx0IC0gcmVtYWluZGVyIDogcmVzdWx0KSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBpbnRlZ2VyIHN1aXRhYmxlIGZvciB1c2UgYXMgdGhlIGxlbmd0aCBvZiBhblxuICAgICAqIGFycmF5LWxpa2Ugb2JqZWN0LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0xlbmd0aCgzLjIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b0xlbmd0aChJbmZpbml0eSk7XG4gICAgICogLy8gPT4gNDI5NDk2NzI5NVxuICAgICAqXG4gICAgICogXy50b0xlbmd0aCgnMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTGVuZ3RoKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPyBiYXNlQ2xhbXAodG9JbnRlZ2VyKHZhbHVlKSwgMCwgTUFYX0FSUkFZX0xFTkdUSCkgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKDMuMik7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDVlLTMyNFxuICAgICAqXG4gICAgICogXy50b051bWJlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gSW5maW5pdHlcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTnVtYmVyKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIE5BTjtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgICAgICB2YWx1ZSA9IGlzT2JqZWN0KG90aGVyKSA/IChvdGhlciArICcnKSA6IG90aGVyO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6ICt2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShyZVRyaW0sICcnKTtcbiAgICAgIHZhciBpc0JpbmFyeSA9IHJlSXNCaW5hcnkudGVzdCh2YWx1ZSk7XG4gICAgICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICAgICAgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG4gICAgICAgIDogKHJlSXNCYWRIZXgudGVzdCh2YWx1ZSkgPyBOQU4gOiArdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBwbGFpbiBvYmplY3QgZmxhdHRlbmluZyBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmdcbiAgICAgKiBrZXllZCBwcm9wZXJ0aWVzIG9mIGB2YWx1ZWAgdG8gb3duIHByb3BlcnRpZXMgb2YgdGhlIHBsYWluIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgcGxhaW4gb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMSB9LCBuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIF8udG9QbGFpbk9iamVjdChuZXcgRm9vKSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gY29weU9iamVjdCh2YWx1ZSwga2V5c0luKHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHNhZmUgaW50ZWdlci4gQSBzYWZlIGludGVnZXIgY2FuIGJlIGNvbXBhcmVkIGFuZFxuICAgICAqIHJlcHJlc2VudGVkIGNvcnJlY3RseS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIF8udG9TYWZlSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gOTAwNzE5OTI1NDc0MDk5MVxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKCczLjInKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TYWZlSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlXG4gICAgICAgID8gYmFzZUNsYW1wKHRvSW50ZWdlcih2YWx1ZSksIC1NQVhfU0FGRV9JTlRFR0VSLCBNQVhfU0FGRV9JTlRFR0VSKVxuICAgICAgICA6ICh2YWx1ZSA9PT0gMCA/IHZhbHVlIDogMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZy4gQW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkIGZvciBgbnVsbGBcbiAgICAgKiBhbmQgYHVuZGVmaW5lZGAgdmFsdWVzLiBUaGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvU3RyaW5nKG51bGwpO1xuICAgICAqIC8vID0+ICcnXG4gICAgICpcbiAgICAgKiBfLnRvU3RyaW5nKC0wKTtcbiAgICAgKiAvLyA9PiAnLTAnXG4gICAgICpcbiAgICAgKiBfLnRvU3RyaW5nKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gJzEsMiwzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIHRvIHRoZVxuICAgICAqIGRlc3RpbmF0aW9uIG9iamVjdC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LlxuICAgICAqIFN1YnNlcXVlbnQgc291cmNlcyBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgIGFuZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gICAgICogW2BPYmplY3QuYXNzaWduYF0oaHR0cHM6Ly9tZG4uaW8vT2JqZWN0L2Fzc2lnbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25JblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEJhcigpIHtcbiAgICAgKiAgIHRoaXMuYyA9IDM7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5iID0gMjtcbiAgICAgKiBCYXIucHJvdG90eXBlLmQgPSA0O1xuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDAgfSwgbmV3IEZvbywgbmV3IEJhcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbiA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlKSB7XG4gICAgICBpZiAoaXNQcm90b3R5cGUoc291cmNlKSB8fCBpc0FycmF5TGlrZShzb3VyY2UpKSB7XG4gICAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzKHNvdXJjZSksIG9iamVjdCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgb3duIGFuZFxuICAgICAqIGluaGVyaXRlZCBzb3VyY2UgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGV4dGVuZFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQmFyKCkge1xuICAgICAqICAgdGhpcy5jID0gMztcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmIgPSAyO1xuICAgICAqIEJhci5wcm90b3R5cGUuZCA9IDQ7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbkluKHsgJ2EnOiAwIH0sIG5ldyBGb28sIG5ldyBCYXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMywgJ2QnOiA0IH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduSW4gPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25JbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGFzc2lnbmVkIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnNcbiAgICAgKiBgdW5kZWZpbmVkYCwgYXNzaWdubWVudCBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBmaXZlIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBleHRlbmRXaXRoXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbldpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiBfLmlzVW5kZWZpbmVkKG9ialZhbHVlKSA/IHNyY1ZhbHVlIDogb2JqVmFsdWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGRlZmF1bHRzID0gXy5wYXJ0aWFsUmlnaHQoXy5hc3NpZ25JbldpdGgsIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogZGVmYXVsdHMoeyAnYSc6IDEgfSwgeyAnYic6IDIgfSwgeyAnYSc6IDMgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbkluV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBhc3NpZ25lZCB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zXG4gICAgICogYHVuZGVmaW5lZGAsIGFzc2lnbm1lbnQgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmBcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggZml2ZSBhcmd1bWVudHM6IChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduSW5XaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICByZXR1cm4gXy5pc1VuZGVmaW5lZChvYmpWYWx1ZSkgPyBzcmNWYWx1ZSA6IG9ialZhbHVlO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBkZWZhdWx0cyA9IF8ucGFydGlhbFJpZ2h0KF8uYXNzaWduV2l0aCwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBkZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gYHBhdGhzYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwaWNrZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9LCA0XSB9O1xuICAgICAqXG4gICAgICogXy5hdChvYmplY3QsIFsnYVswXS5iLmMnLCAnYVsxXSddKTtcbiAgICAgKiAvLyA9PiBbMywgNF1cbiAgICAgKi9cbiAgICB2YXIgYXQgPSBmbGF0UmVzdChiYXNlQXQpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgdGhhdCBpbmhlcml0cyBmcm9tIHRoZSBgcHJvdG90eXBlYCBvYmplY3QuIElmIGFcbiAgICAgKiBgcHJvcGVydGllc2Agb2JqZWN0IGlzIGdpdmVuLCBpdHMgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXNcbiAgICAgKiBhcmUgYXNzaWduZWQgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm90b3R5cGUgVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzXSBUaGUgcHJvcGVydGllcyB0byBhc3NpZ24gdG8gdGhlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBTaGFwZSgpIHtcbiAgICAgKiAgIHRoaXMueCA9IDA7XG4gICAgICogICB0aGlzLnkgPSAwO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIENpcmNsZSgpIHtcbiAgICAgKiAgIFNoYXBlLmNhbGwodGhpcyk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogQ2lyY2xlLnByb3RvdHlwZSA9IF8uY3JlYXRlKFNoYXBlLnByb3RvdHlwZSwge1xuICAgICAqICAgJ2NvbnN0cnVjdG9yJzogQ2lyY2xlXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiB2YXIgY2lyY2xlID0gbmV3IENpcmNsZTtcbiAgICAgKiBjaXJjbGUgaW5zdGFuY2VvZiBDaXJjbGU7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY2lyY2xlIGluc3RhbmNlb2YgU2hhcGU7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShwcm90b3R5cGUsIHByb3BlcnRpZXMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBiYXNlQ3JlYXRlKHByb3RvdHlwZSk7XG4gICAgICByZXR1cm4gcHJvcGVydGllcyA9PSBudWxsID8gcmVzdWx0IDogYmFzZUFzc2lnbihyZXN1bHQsIHByb3BlcnRpZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2VcbiAgICAgKiBvYmplY3RzIHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QgZm9yIGFsbCBkZXN0aW5hdGlvbiBwcm9wZXJ0aWVzIHRoYXRcbiAgICAgKiByZXNvbHZlIHRvIGB1bmRlZmluZWRgLiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gICAgICogT25jZSBhIHByb3BlcnR5IGlzIHNldCwgYWRkaXRpb25hbCB2YWx1ZXMgb2YgdGhlIHNhbWUgcHJvcGVydHkgYXJlIGlnbm9yZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZGVmYXVsdHNEZWVwXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmYXVsdHMoeyAnYSc6IDEgfSwgeyAnYic6IDIgfSwgeyAnYSc6IDMgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgdmFyIGRlZmF1bHRzID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2VzKSB7XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICB2YXIgbGVuZ3RoID0gc291cmNlcy5sZW5ndGg7XG4gICAgICB2YXIgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICAgIHZhciBwcm9wcyA9IGtleXNJbihzb3VyY2UpO1xuICAgICAgICB2YXIgcHJvcHNJbmRleCA9IC0xO1xuICAgICAgICB2YXIgcHJvcHNMZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKCsrcHJvcHNJbmRleCA8IHByb3BzTGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHByb3BzW3Byb3BzSW5kZXhdO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgKGVxKHZhbHVlLCBvYmplY3RQcm90b1trZXldKSAmJiAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSB7XG4gICAgICAgICAgICBvYmplY3Rba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kZWZhdWx0c2AgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgYXNzaWduc1xuICAgICAqIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZGVmYXVsdHNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0c0RlZXAoeyAnYSc6IHsgJ2InOiAyIH0gfSwgeyAnYSc6IHsgJ2InOiAxLCAnYyc6IDMgfSB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnYic6IDIsICdjJzogMyB9IH1cbiAgICAgKi9cbiAgICB2YXIgZGVmYXVsdHNEZWVwID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgYXJncy5wdXNoKHVuZGVmaW5lZCwgY3VzdG9tRGVmYXVsdHNNZXJnZSk7XG4gICAgICByZXR1cm4gYXBwbHkobWVyZ2VXaXRoLCB1bmRlZmluZWQsIGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBrZXkgb2YgdGhlIGZpcnN0XG4gICAgICogZWxlbWVudCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBSZXR1cm5zIHRoZSBrZXkgb2YgdGhlIG1hdGNoZWQgZWxlbWVudCxcbiAgICAgKiAgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2Jhcm5leSc6ICB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgICdmcmVkJzogICAgeyAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+ICdiYXJuZXknIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAnYmFybmV5J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRLZXkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiBiYXNlRmluZEtleShvYmplY3QsIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGJhc2VGb3JPd24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZEtleWAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGEgY29sbGVjdGlvbiBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBSZXR1cm5zIHRoZSBrZXkgb2YgdGhlIG1hdGNoZWQgZWxlbWVudCxcbiAgICAgKiAgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2Jhcm5leSc6ICB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgICdmcmVkJzogICAgeyAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZSA8IDQwOyB9KTtcbiAgICAgKiAvLyA9PiByZXR1cm5zICdwZWJibGVzJyBhc3N1bWluZyBgXy5maW5kS2V5YCByZXR1cm5zICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAnYmFybmV5J1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAncGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kTGFzdEtleShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIGJhc2VGaW5kS2V5KG9iamVjdCwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgYmFzZUZvck93blJpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYW5cbiAgICAgKiBvYmplY3QgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdFxuICAgICAqIGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9ySW5SaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JJbihuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2EnLCAnYicsIHRoZW4gJ2MnIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckluKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbFxuICAgICAgICA/IG9iamVjdFxuICAgICAgICA6IGJhc2VGb3Iob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyksIGtleXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JJbmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBwcm9wZXJ0aWVzIG9mXG4gICAgICogYG9iamVjdGAgaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9ySW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9ySW5SaWdodChuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2MnLCAnYicsIHRoZW4gJ2EnIGFzc3VtaW5nIGBfLmZvckluYCBsb2dzICdhJywgJ2InLCB0aGVuICdjJy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JJblJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbFxuICAgICAgICA/IG9iamVjdFxuICAgICAgICA6IGJhc2VGb3JSaWdodChvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdCBhbmRcbiAgICAgKiBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwga2V5LCBvYmplY3QpLiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uXG4gICAgICogZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjMuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvck93blJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvck93bihuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2EnIHRoZW4gJ2InIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvck93bihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3JPd24ob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9yT3duYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXMgb2ZcbiAgICAgKiBgb2JqZWN0YCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JPd25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9yT3duUmlnaHQobmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdiJyB0aGVuICdhJyBhc3N1bWluZyBgXy5mb3JPd25gIGxvZ3MgJ2EnIHRoZW4gJ2InLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvck93blJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvck93blJpZ2h0KG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZyb20gb3duIGVudW1lcmFibGUgcHJvcGVydGllc1xuICAgICAqIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZXMuXG4gICAgICogQHNlZSBfLmZ1bmN0aW9uc0luXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IF8uY29uc3RhbnQoJ2EnKTtcbiAgICAgKiAgIHRoaXMuYiA9IF8uY29uc3RhbnQoJ2InKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSBfLmNvbnN0YW50KCdjJyk7XG4gICAgICpcbiAgICAgKiBfLmZ1bmN0aW9ucyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnVuY3Rpb25zKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlRnVuY3Rpb25zKG9iamVjdCwga2V5cyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZyb20gb3duIGFuZCBpbmhlcml0ZWRcbiAgICAgKiBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKiBAc2VlIF8uZnVuY3Rpb25zXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IF8uY29uc3RhbnQoJ2EnKTtcbiAgICAgKiAgIHRoaXMuYiA9IF8uY29uc3RhbnQoJ2InKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSBfLmNvbnN0YW50KCdjJyk7XG4gICAgICpcbiAgICAgKiBfLmZ1bmN0aW9uc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZ1bmN0aW9uc0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlRnVuY3Rpb25zKG9iamVjdCwga2V5c0luKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC4gSWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzXG4gICAgICogYHVuZGVmaW5lZGAsIHRoZSBgZGVmYXVsdFZhbHVlYCBpcyByZXR1cm5lZCBpbiBpdHMgcGxhY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLmdldChvYmplY3QsICdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgWydhJywgJzAnLCAnYicsICdjJ10pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgJ2EuYi5jJywgJ2RlZmF1bHQnKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXQob2JqZWN0LCBwYXRoLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWx1ZSA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IHByb3BlcnR5IG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHBhdGhgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IHsgJ2InOiAyIH0gfTtcbiAgICAgKiB2YXIgb3RoZXIgPSBfLmNyZWF0ZSh7ICdhJzogXy5jcmVhdGUoeyAnYic6IDIgfSkgfSk7XG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXMob2JqZWN0LCAnYS5iJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXMob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvdGhlciwgJ2EnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhcyhvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgYmFzZUhhcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwYXRoYCBpcyBhIGRpcmVjdCBvciBpbmhlcml0ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSBfLmNyZWF0ZSh7ICdhJzogXy5jcmVhdGUoeyAnYic6IDIgfSkgfSk7XG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgJ2EuYicpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc0luKG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBiYXNlSGFzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBpbnZlcnRlZCBrZXlzIGFuZCB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICogSWYgYG9iamVjdGAgY29udGFpbnMgZHVwbGljYXRlIHZhbHVlcywgc3Vic2VxdWVudCB2YWx1ZXMgb3ZlcndyaXRlXG4gICAgICogcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZlcnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pbnZlcnQob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogJ2MnLCAnMic6ICdiJyB9XG4gICAgICovXG4gICAgdmFyIGludmVydCA9IGNyZWF0ZUludmVydGVyKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiZcbiAgICAgICAgICB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YWx1ZSA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXN1bHRbdmFsdWVdID0ga2V5O1xuICAgIH0sIGNvbnN0YW50KGlkZW50aXR5KSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmludmVydGAgZXhjZXB0IHRoYXQgdGhlIGludmVydGVkIG9iamVjdCBpcyBnZW5lcmF0ZWRcbiAgICAgKiBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmcgZWFjaCBlbGVtZW50IG9mIGBvYmplY3RgIHRocnUgYGl0ZXJhdGVlYC4gVGhlXG4gICAgICogY29ycmVzcG9uZGluZyBpbnZlcnRlZCB2YWx1ZSBvZiBlYWNoIGludmVydGVkIGtleSBpcyBhbiBhcnJheSBvZiBrZXlzXG4gICAgICogcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlIGludmVydGVkIHZhbHVlLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZlcnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBpbnZlcnRlZCBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0Qnkob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogWydhJywgJ2MnXSwgJzInOiBbJ2InXSB9XG4gICAgICpcbiAgICAgKiBfLmludmVydEJ5KG9iamVjdCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiAnZ3JvdXAnICsgdmFsdWU7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnZ3JvdXAxJzogWydhJywgJ2MnXSwgJ2dyb3VwMic6IFsnYiddIH1cbiAgICAgKi9cbiAgICB2YXIgaW52ZXJ0QnkgPSBjcmVhdGVJbnZlcnRlcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmXG4gICAgICAgICAgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFsdWUgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCB2YWx1ZSkpIHtcbiAgICAgICAgcmVzdWx0W3ZhbHVlXS5wdXNoKGtleSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRbdmFsdWVdID0gW2tleV07XG4gICAgICB9XG4gICAgfSwgZ2V0SXRlcmF0ZWUpO1xuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IFsxLCAyLCAzLCA0XSB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLmludm9rZShvYmplY3QsICdhWzBdLmIuYy5zbGljZScsIDEsIDMpO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqL1xuICAgIHZhciBpbnZva2UgPSBiYXNlUmVzdChiYXNlSW52b2tlKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuIFNlZSB0aGVcbiAgICAgKiBbRVMgc3BlY10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gICAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8ua2V5cyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiBfLmtleXMoJ2hpJyk7XG4gICAgICogLy8gPT4gWycwJywgJzEnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0KSA6IGJhc2VLZXlzKG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5rZXlzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24ga2V5c0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCwgdHJ1ZSkgOiBiYXNlS2V5c0luKG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLm1hcFZhbHVlc2A7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IHdpdGggdGhlXG4gICAgICogc2FtZSB2YWx1ZXMgYXMgYG9iamVjdGAgYW5kIGtleXMgZ2VuZXJhdGVkIGJ5IHJ1bm5pbmcgZWFjaCBvd24gZW51bWVyYWJsZVxuICAgICAqIHN0cmluZyBrZXllZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBvYmplY3QuXG4gICAgICogQHNlZSBfLm1hcFZhbHVlc1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1hcEtleXMoeyAnYSc6IDEsICdiJzogMiB9LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICByZXR1cm4ga2V5ICsgdmFsdWU7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnYTEnOiAxLCAnYjInOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBLZXlzKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpO1xuXG4gICAgICBiYXNlRm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iamVjdCksIHZhbHVlKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIGtleXMgYXMgYG9iamVjdGAgYW5kIHZhbHVlcyBnZW5lcmF0ZWRcbiAgICAgKiBieSBydW5uaW5nIGVhY2ggb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5IG9mIGBvYmplY3RgIHRocnVcbiAgICAgKiBgaXRlcmF0ZWVgLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAgICAgKiAodmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgb2JqZWN0LlxuICAgICAqIEBzZWUgXy5tYXBLZXlzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IHtcbiAgICAgKiAgICdmcmVkJzogICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5tYXBWYWx1ZXModXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlOyB9KTtcbiAgICAgKiAvLyA9PiB7ICdmcmVkJzogNDAsICdwZWJibGVzJzogMSB9IChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1hcFZhbHVlcyh1c2VycywgJ2FnZScpO1xuICAgICAqIC8vID0+IHsgJ2ZyZWQnOiA0MCwgJ3BlYmJsZXMnOiAxIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBWYWx1ZXMob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyk7XG5cbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBpdGVyYXRlZSh2YWx1ZSwga2V5LCBvYmplY3QpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgbWVyZ2VzIG93biBhbmRcbiAgICAgKiBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2Ugb2JqZWN0cyBpbnRvIHRoZVxuICAgICAqIGRlc3RpbmF0aW9uIG9iamVjdC4gU291cmNlIHByb3BlcnRpZXMgdGhhdCByZXNvbHZlIHRvIGB1bmRlZmluZWRgIGFyZVxuICAgICAqIHNraXBwZWQgaWYgYSBkZXN0aW5hdGlvbiB2YWx1ZSBleGlzdHMuIEFycmF5IGFuZCBwbGFpbiBvYmplY3QgcHJvcGVydGllc1xuICAgICAqIGFyZSBtZXJnZWQgcmVjdXJzaXZlbHkuIE90aGVyIG9iamVjdHMgYW5kIHZhbHVlIHR5cGVzIGFyZSBvdmVycmlkZGVuIGJ5XG4gICAgICogYXNzaWdubWVudC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LiBTdWJzZXF1ZW50XG4gICAgICogc291cmNlcyBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge1xuICAgICAqICAgJ2EnOiBbeyAnYic6IDIgfSwgeyAnZCc6IDQgfV1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIG90aGVyID0ge1xuICAgICAqICAgJ2EnOiBbeyAnYyc6IDMgfSwgeyAnZSc6IDUgfV1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5tZXJnZShvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiAyLCAnYyc6IDMgfSwgeyAnZCc6IDQsICdlJzogNSB9XSB9XG4gICAgICovXG4gICAgdmFyIG1lcmdlID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KSB7XG4gICAgICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWVyZ2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBtZXJnZWQgdmFsdWVzIG9mIHRoZSBkZXN0aW5hdGlvbiBhbmQgc291cmNlXG4gICAgICogcHJvcGVydGllcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIG1lcmdpbmcgaXMgaGFuZGxlZCBieSB0aGVcbiAgICAgKiBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGggc2l4IGFyZ3VtZW50czpcbiAgICAgKiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjaykuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzQXJyYXkob2JqVmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiBvYmpWYWx1ZS5jb25jYXQoc3JjVmFsdWUpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogWzFdLCAnYic6IFsyXSB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2EnOiBbM10sICdiJzogWzRdIH07XG4gICAgICpcbiAgICAgKiBfLm1lcmdlV2l0aChvYmplY3QsIG90aGVyLCBjdXN0b21pemVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogWzEsIDNdLCAnYic6IFsyLCA0XSB9XG4gICAgICovXG4gICAgdmFyIG1lcmdlV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuICAgICAgYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucGlja2A7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZVxuICAgICAqIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgcGF0aHMgb2YgYG9iamVjdGAgdGhhdCBhcmUgbm90IG9taXR0ZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgY29uc2lkZXJhYmx5IHNsb3dlciB0aGFuIGBfLnBpY2tgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gb21pdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ub21pdChvYmplY3QsIFsnYScsICdjJ10pO1xuICAgICAqIC8vID0+IHsgJ2InOiAnMicgfVxuICAgICAqL1xuICAgIHZhciBvbWl0ID0gZmxhdFJlc3QoZnVuY3Rpb24ob2JqZWN0LCBwYXRocykge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICB2YXIgaXNEZWVwID0gZmFsc2U7XG4gICAgICBwYXRocyA9IGFycmF5TWFwKHBhdGhzLCBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgICBpc0RlZXAgfHwgKGlzRGVlcCA9IHBhdGgubGVuZ3RoID4gMSk7XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgfSk7XG4gICAgICBjb3B5T2JqZWN0KG9iamVjdCwgZ2V0QWxsS2V5c0luKG9iamVjdCksIHJlc3VsdCk7XG4gICAgICBpZiAoaXNEZWVwKSB7XG4gICAgICAgIHJlc3VsdCA9IGJhc2VDbG9uZShyZXN1bHQsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX0ZMQVRfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9tT21pdENsb25lKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBwYXRocy5sZW5ndGg7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgYmFzZVVuc2V0KHJlc3VsdCwgcGF0aHNbbGVuZ3RoXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLnBpY2tCeWA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mXG4gICAgICogdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYG9iamVjdGAgdGhhdFxuICAgICAqIGBwcmVkaWNhdGVgIGRvZXNuJ3QgcmV0dXJuIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHR3b1xuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBrZXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gICAgICpcbiAgICAgKiBfLm9taXRCeShvYmplY3QsIF8uaXNOdW1iZXIpO1xuICAgICAqIC8vID0+IHsgJ2InOiAnMicgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9taXRCeShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHBpY2tCeShvYmplY3QsIG5lZ2F0ZShnZXRJdGVyYXRlZShwcmVkaWNhdGUpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIHBpY2tlZCBgb2JqZWN0YCBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ucGljayhvYmplY3QsIFsnYScsICdjJ10pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIHZhciBwaWNrID0gZmxhdFJlc3QoZnVuY3Rpb24ob2JqZWN0LCBwYXRocykge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8ge30gOiBiYXNlUGljayhvYmplY3QsIHBhdGhzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBgb2JqZWN0YCBwcm9wZXJ0aWVzIGBwcmVkaWNhdGVgIHJldHVybnNcbiAgICAgKiB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAodmFsdWUsIGtleSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ucGlja0J5KG9iamVjdCwgXy5pc051bWJlcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gcGlja0J5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgdmFyIHByb3BzID0gYXJyYXlNYXAoZ2V0QWxsS2V5c0luKG9iamVjdCksIGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgcmV0dXJuIFtwcm9wXTtcbiAgICAgIH0pO1xuICAgICAgcHJlZGljYXRlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlKTtcbiAgICAgIHJldHVybiBiYXNlUGlja0J5KG9iamVjdCwgcHJvcHMsIGZ1bmN0aW9uKHZhbHVlLCBwYXRoKSB7XG4gICAgICAgIHJldHVybiBwcmVkaWNhdGUodmFsdWUsIHBhdGhbMF0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5nZXRgIGV4Y2VwdCB0aGF0IGlmIHRoZSByZXNvbHZlZCB2YWx1ZSBpcyBhXG4gICAgICogZnVuY3Rpb24gaXQncyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGl0cyBwYXJlbnQgb2JqZWN0IGFuZFxuICAgICAqIGl0cyByZXN1bHQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byByZXNvbHZlLlxuICAgICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHJldHVybmVkIGZvciBgdW5kZWZpbmVkYCByZXNvbHZlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYzEnOiAzLCAnYzInOiBfLmNvbnN0YW50KDQpIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMScpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMicpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMycsICdkZWZhdWx0Jyk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzMnLCBfLmNvbnN0YW50KCdkZWZhdWx0JykpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc3VsdChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG4gICAgICAvLyBFbnN1cmUgdGhlIGxvb3AgaXMgZW50ZXJlZCB3aGVuIHBhdGggaXMgZW1wdHkuXG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgICBvYmplY3QgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFt0b0tleShwYXRoW2luZGV4XSldO1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuICAgICAgICAgIHZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdCA9IGlzRnVuY3Rpb24odmFsdWUpID8gdmFsdWUuY2FsbChvYmplY3QpIDogdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC4gSWYgYSBwb3J0aW9uIG9mIGBwYXRoYCBkb2Vzbid0IGV4aXN0LFxuICAgICAqIGl0J3MgY3JlYXRlZC4gQXJyYXlzIGFyZSBjcmVhdGVkIGZvciBtaXNzaW5nIGluZGV4IHByb3BlcnRpZXMgd2hpbGUgb2JqZWN0c1xuICAgICAqIGFyZSBjcmVhdGVkIGZvciBhbGwgb3RoZXIgbWlzc2luZyBwcm9wZXJ0aWVzLiBVc2UgYF8uc2V0V2l0aGAgdG8gY3VzdG9taXplXG4gICAgICogYHBhdGhgIGNyZWF0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5zZXQob2JqZWN0LCAnYVswXS5iLmMnLCA0KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QuYVswXS5iLmMpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8uc2V0KG9iamVjdCwgWyd4JywgJzAnLCAneScsICd6J10sIDUpO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC54WzBdLnkueik7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldChvYmplY3QsIHBhdGgsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc2V0YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgb2JqZWN0cyBvZiBgcGF0aGAuICBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYFxuICAgICAqIHBhdGggY3JlYXRpb24gaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAobnNWYWx1ZSwga2V5LCBuc09iamVjdCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge307XG4gICAgICpcbiAgICAgKiBfLnNldFdpdGgob2JqZWN0LCAnWzBdWzFdJywgJ2EnLCBPYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzAnOiB7ICcxJzogJ2EnIH0gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFdpdGgob2JqZWN0LCBwYXRoLCB2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZC12YWx1ZSBwYWlycyBmb3IgYG9iamVjdGBcbiAgICAgKiB3aGljaCBjYW4gYmUgY29uc3VtZWQgYnkgYF8uZnJvbVBhaXJzYC4gSWYgYG9iamVjdGAgaXMgYSBtYXAgb3Igc2V0LCBpdHNcbiAgICAgKiBlbnRyaWVzIGFyZSByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBlbnRyaWVzXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udG9QYWlycyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMV0sIFsnYicsIDJdXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIHZhciB0b1BhaXJzID0gY3JlYXRlVG9QYWlycyhrZXlzKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQtdmFsdWUgcGFpcnNcbiAgICAgKiBmb3IgYG9iamVjdGAgd2hpY2ggY2FuIGJlIGNvbnN1bWVkIGJ5IGBfLmZyb21QYWlyc2AuIElmIGBvYmplY3RgIGlzIGEgbWFwXG4gICAgICogb3Igc2V0LCBpdHMgZW50cmllcyBhcmUgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZW50cmllc0luXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udG9QYWlyc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxXSwgWydiJywgMl0sIFsnYycsIDNdXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIHZhciB0b1BhaXJzSW4gPSBjcmVhdGVUb1BhaXJzKGtleXNJbik7XG5cbiAgICAvKipcbiAgICAgKiBBbiBhbHRlcm5hdGl2ZSB0byBgXy5yZWR1Y2VgOyB0aGlzIG1ldGhvZCB0cmFuc2Zvcm1zIGBvYmplY3RgIHRvIGEgbmV3XG4gICAgICogYGFjY3VtdWxhdG9yYCBvYmplY3Qgd2hpY2ggaXMgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGVhY2ggb2YgaXRzIG93blxuICAgICAqIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgdGhydSBgaXRlcmF0ZWVgLCB3aXRoIGVhY2ggaW52b2NhdGlvblxuICAgICAqIHBvdGVudGlhbGx5IG11dGF0aW5nIHRoZSBgYWNjdW11bGF0b3JgIG9iamVjdC4gSWYgYGFjY3VtdWxhdG9yYCBpcyBub3RcbiAgICAgKiBwcm92aWRlZCwgYSBuZXcgb2JqZWN0IHdpdGggdGhlIHNhbWUgYFtbUHJvdG90eXBlXV1gIHdpbGwgYmUgdXNlZC4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIGZvdXIgYXJndW1lbnRzOiAoYWNjdW11bGF0b3IsIHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBjdXN0b20gYWNjdW11bGF0b3IgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyYW5zZm9ybShbMiwgMywgNF0sIGZ1bmN0aW9uKHJlc3VsdCwgbikge1xuICAgICAqICAgcmVzdWx0LnB1c2gobiAqPSBuKTtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAwO1xuICAgICAqIH0sIFtdKTtcbiAgICAgKiAvLyA9PiBbNCwgOV1cbiAgICAgKlxuICAgICAqIF8udHJhbnNmb3JtKHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9LCBmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIChyZXN1bHRbdmFsdWVdIHx8IChyZXN1bHRbdmFsdWVdID0gW10pKS5wdXNoKGtleSk7XG4gICAgICogfSwge30pO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmFuc2Zvcm0ob2JqZWN0LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkob2JqZWN0KSxcbiAgICAgICAgICBpc0Fyckxpa2UgPSBpc0FyciB8fCBpc0J1ZmZlcihvYmplY3QpIHx8IGlzVHlwZWRBcnJheShvYmplY3QpO1xuXG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCA0KTtcbiAgICAgIGlmIChhY2N1bXVsYXRvciA9PSBudWxsKSB7XG4gICAgICAgIHZhciBDdG9yID0gb2JqZWN0ICYmIG9iamVjdC5jb25zdHJ1Y3RvcjtcbiAgICAgICAgaWYgKGlzQXJyTGlrZSkge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gaXNBcnIgPyBuZXcgQ3RvciA6IFtdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgICBhY2N1bXVsYXRvciA9IGlzRnVuY3Rpb24oQ3RvcikgPyBiYXNlQ3JlYXRlKGdldFByb3RvdHlwZShvYmplY3QpKSA6IHt9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0ge307XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIChpc0Fyckxpa2UgPyBhcnJheUVhY2ggOiBiYXNlRm9yT3duKShvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRlZShhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBvYmplY3QpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgcHJvcGVydHkgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gdW5zZXQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBwcm9wZXJ0eSBpcyBkZWxldGVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogNyB9IH1dIH07XG4gICAgICogXy51bnNldChvYmplY3QsICdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdCk7XG4gICAgICogLy8gPT4geyAnYSc6IFt7ICdiJzoge30gfV0gfTtcbiAgICAgKlxuICAgICAqIF8udW5zZXQob2JqZWN0LCBbJ2EnLCAnMCcsICdiJywgJ2MnXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiB7fSB9XSB9O1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuc2V0KG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdHJ1ZSA6IGJhc2VVbnNldChvYmplY3QsIHBhdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc2V0YCBleGNlcHQgdGhhdCBhY2NlcHRzIGB1cGRhdGVyYCB0byBwcm9kdWNlIHRoZVxuICAgICAqIHZhbHVlIHRvIHNldC4gVXNlIGBfLnVwZGF0ZVdpdGhgIHRvIGN1c3RvbWl6ZSBgcGF0aGAgY3JlYXRpb24uIFRoZSBgdXBkYXRlcmBcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8udXBkYXRlKG9iamVjdCwgJ2FbMF0uYi5jJywgZnVuY3Rpb24obikgeyByZXR1cm4gbiAqIG47IH0pO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC5hWzBdLmIuYyk7XG4gICAgICogLy8gPT4gOVxuICAgICAqXG4gICAgICogXy51cGRhdGUob2JqZWN0LCAneFswXS55LnonLCBmdW5jdGlvbihuKSB7IHJldHVybiBuID8gbiArIDEgOiAwOyB9KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QueFswXS55LnopO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGUob2JqZWN0LCBwYXRoLCB1cGRhdGVyKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlVXBkYXRlKG9iamVjdCwgcGF0aCwgY2FzdEZ1bmN0aW9uKHVwZGF0ZXIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVwZGF0ZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG9iamVjdHMgb2YgYHBhdGhgLiAgSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGBcbiAgICAgKiBwYXRoIGNyZWF0aW9uIGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKG5zVmFsdWUsIGtleSwgbnNPYmplY3QpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7fTtcbiAgICAgKlxuICAgICAqIF8udXBkYXRlV2l0aChvYmplY3QsICdbMF1bMV0nLCBfLmNvbnN0YW50KCdhJyksIE9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMCc6IHsgJzEnOiAnYScgfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlV2l0aChvYmplY3QsIHBhdGgsIHVwZGF0ZXIsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCBjYXN0RnVuY3Rpb24odXBkYXRlciksIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0eSB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnZhbHVlcyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbMSwgMl0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIF8udmFsdWVzKCdoaScpO1xuICAgICAqIC8vID0+IFsnaCcsICdpJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWx1ZXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VWYWx1ZXMob2JqZWN0LCBrZXlzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5XG4gICAgICogdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy52YWx1ZXNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWx1ZXNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZVZhbHVlcyhvYmplY3QsIGtleXNJbihvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDbGFtcHMgYG51bWJlcmAgd2l0aGluIHRoZSBpbmNsdXNpdmUgYGxvd2VyYCBhbmQgYHVwcGVyYCBib3VuZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNsYW1wLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXJdIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNsYW1wZWQgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNsYW1wKC0xMCwgLTUsIDUpO1xuICAgICAqIC8vID0+IC01XG4gICAgICpcbiAgICAgKiBfLmNsYW1wKDEwLCAtNSwgNSk7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsYW1wKG51bWJlciwgbG93ZXIsIHVwcGVyKSB7XG4gICAgICBpZiAodXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cHBlciA9IGxvd2VyO1xuICAgICAgICBsb3dlciA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmICh1cHBlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwcGVyID0gdG9OdW1iZXIodXBwZXIpO1xuICAgICAgICB1cHBlciA9IHVwcGVyID09PSB1cHBlciA/IHVwcGVyIDogMDtcbiAgICAgIH1cbiAgICAgIGlmIChsb3dlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvd2VyID0gdG9OdW1iZXIobG93ZXIpO1xuICAgICAgICBsb3dlciA9IGxvd2VyID09PSBsb3dlciA/IGxvd2VyIDogMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlQ2xhbXAodG9OdW1iZXIobnVtYmVyKSwgbG93ZXIsIHVwcGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYG5gIGlzIGJldHdlZW4gYHN0YXJ0YCBhbmQgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC4gSWZcbiAgICAgKiBgZW5kYCBpcyBub3Qgc3BlY2lmaWVkLCBpdCdzIHNldCB0byBgc3RhcnRgIHdpdGggYHN0YXJ0YCB0aGVuIHNldCB0byBgMGAuXG4gICAgICogSWYgYHN0YXJ0YCBpcyBncmVhdGVyIHRoYW4gYGVuZGAgdGhlIHBhcmFtcyBhcmUgc3dhcHBlZCB0byBzdXBwb3J0XG4gICAgICogbmVnYXRpdmUgcmFuZ2VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMy4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG51bWJlcmAgaXMgaW4gdGhlIHJhbmdlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLnJhbmdlLCBfLnJhbmdlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDMsIDIsIDQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg0LCA4KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNCwgMik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgyLCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDEuMiwgMik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDUuMiwgNCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgtMywgLTIsIC02KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHN0YXJ0ID0gdG9GaW5pdGUoc3RhcnQpO1xuICAgICAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVuZCA9IHN0YXJ0O1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbmQgPSB0b0Zpbml0ZShlbmQpO1xuICAgICAgfVxuICAgICAgbnVtYmVyID0gdG9OdW1iZXIobnVtYmVyKTtcbiAgICAgIHJldHVybiBiYXNlSW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2R1Y2VzIGEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIHRoZSBpbmNsdXNpdmUgYGxvd2VyYCBhbmQgYHVwcGVyYCBib3VuZHMuXG4gICAgICogSWYgb25seSBvbmUgYXJndW1lbnQgaXMgcHJvdmlkZWQgYSBudW1iZXIgYmV0d2VlbiBgMGAgYW5kIHRoZSBnaXZlbiBudW1iZXJcbiAgICAgKiBpcyByZXR1cm5lZC4gSWYgYGZsb2F0aW5nYCBpcyBgdHJ1ZWAsIG9yIGVpdGhlciBgbG93ZXJgIG9yIGB1cHBlcmAgYXJlXG4gICAgICogZmxvYXRzLCBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBpcyByZXR1cm5lZCBpbnN0ZWFkIG9mIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSmF2YVNjcmlwdCBmb2xsb3dzIHRoZSBJRUVFLTc1NCBzdGFuZGFyZCBmb3IgcmVzb2x2aW5nXG4gICAgICogZmxvYXRpbmctcG9pbnQgdmFsdWVzIHdoaWNoIGNhbiBwcm9kdWNlIHVuZXhwZWN0ZWQgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjcuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvd2VyPTBdIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3VwcGVyPTFdIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmbG9hdGluZ10gU3BlY2lmeSByZXR1cm5pbmcgYSBmbG9hdGluZy1wb2ludCBudW1iZXIuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcmFuZG9tIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5kb20oMCwgNSk7XG4gICAgICogLy8gPT4gYW4gaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDUpO1xuICAgICAqIC8vID0+IGFsc28gYW4gaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDUsIHRydWUpO1xuICAgICAqIC8vID0+IGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oMS4yLCA1LjIpO1xuICAgICAqIC8vID0+IGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGJldHdlZW4gMS4yIGFuZCA1LjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByYW5kb20obG93ZXIsIHVwcGVyLCBmbG9hdGluZykge1xuICAgICAgaWYgKGZsb2F0aW5nICYmIHR5cGVvZiBmbG9hdGluZyAhPSAnYm9vbGVhbicgJiYgaXNJdGVyYXRlZUNhbGwobG93ZXIsIHVwcGVyLCBmbG9hdGluZykpIHtcbiAgICAgICAgdXBwZXIgPSBmbG9hdGluZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmIChmbG9hdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdXBwZXIgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgZmxvYXRpbmcgPSB1cHBlcjtcbiAgICAgICAgICB1cHBlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgbG93ZXIgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgZmxvYXRpbmcgPSBsb3dlcjtcbiAgICAgICAgICBsb3dlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxvd2VyID09PSB1bmRlZmluZWQgJiYgdXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsb3dlciA9IDA7XG4gICAgICAgIHVwcGVyID0gMTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBsb3dlciA9IHRvRmluaXRlKGxvd2VyKTtcbiAgICAgICAgaWYgKHVwcGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB1cHBlciA9IGxvd2VyO1xuICAgICAgICAgIGxvd2VyID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cHBlciA9IHRvRmluaXRlKHVwcGVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxvd2VyID4gdXBwZXIpIHtcbiAgICAgICAgdmFyIHRlbXAgPSBsb3dlcjtcbiAgICAgICAgbG93ZXIgPSB1cHBlcjtcbiAgICAgICAgdXBwZXIgPSB0ZW1wO1xuICAgICAgfVxuICAgICAgaWYgKGZsb2F0aW5nIHx8IGxvd2VyICUgMSB8fCB1cHBlciAlIDEpIHtcbiAgICAgICAgdmFyIHJhbmQgPSBuYXRpdmVSYW5kb20oKTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZU1pbihsb3dlciArIChyYW5kICogKHVwcGVyIC0gbG93ZXIgKyBmcmVlUGFyc2VGbG9hdCgnMWUtJyArICgocmFuZCArICcnKS5sZW5ndGggLSAxKSkpKSwgdXBwZXIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VSYW5kb20obG93ZXIsIHVwcGVyKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBbY2FtZWwgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2FtZWxDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNhbWVsIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJy0tZm9vLWJhci0tJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKlxuICAgICAqIF8uY2FtZWxDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICovXG4gICAgdmFyIGNhbWVsQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgd29yZCA9IHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyBjYXBpdGFsaXplKHdvcmQpIDogd29yZCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UgYW5kIHRoZSByZW1haW5pbmdcbiAgICAgKiB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNhcGl0YWxpemUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY2FwaXRhbGl6ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhcGl0YWxpemUoJ0ZSRUQnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXBpdGFsaXplKHN0cmluZykge1xuICAgICAgcmV0dXJuIHVwcGVyRmlyc3QodG9TdHJpbmcoc3RyaW5nKS50b0xvd2VyQ2FzZSgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWJ1cnJzIGBzdHJpbmdgIGJ5IGNvbnZlcnRpbmdcbiAgICAgKiBbTGF0aW4tMSBTdXBwbGVtZW50XShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MYXRpbi0xX1N1cHBsZW1lbnRfKFVuaWNvZGVfYmxvY2spI0NoYXJhY3Rlcl90YWJsZSlcbiAgICAgKiBhbmQgW0xhdGluIEV4dGVuZGVkLUFdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluX0V4dGVuZGVkLUEpXG4gICAgICogbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzIGFuZCByZW1vdmluZ1xuICAgICAqIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3NdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrcykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZGVidXJyLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGRlYnVycmVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWJ1cnIoJ2TDqWrDoCB2dScpO1xuICAgICAqIC8vID0+ICdkZWphIHZ1J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlYnVycihzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gc3RyaW5nICYmIHN0cmluZy5yZXBsYWNlKHJlTGF0aW4sIGRlYnVyckxldHRlcikucmVwbGFjZShyZUNvbWJvTWFyaywgJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgc3RyaW5nYCBlbmRzIHdpdGggdGhlIGdpdmVuIHRhcmdldCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3RhcmdldF0gVGhlIHN0cmluZyB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcG9zaXRpb249c3RyaW5nLmxlbmd0aF0gVGhlIHBvc2l0aW9uIHRvIHNlYXJjaCB1cCB0by5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHN0cmluZ2AgZW5kcyB3aXRoIGB0YXJnZXRgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZW5kc1dpdGgoJ2FiYycsICdjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2InLCAyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZW5kc1dpdGgoc3RyaW5nLCB0YXJnZXQsIHBvc2l0aW9uKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgdGFyZ2V0ID0gYmFzZVRvU3RyaW5nKHRhcmdldCk7XG5cbiAgICAgIHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gbGVuZ3RoXG4gICAgICAgIDogYmFzZUNsYW1wKHRvSW50ZWdlcihwb3NpdGlvbiksIDAsIGxlbmd0aCk7XG5cbiAgICAgIHZhciBlbmQgPSBwb3NpdGlvbjtcbiAgICAgIHBvc2l0aW9uIC09IHRhcmdldC5sZW5ndGg7XG4gICAgICByZXR1cm4gcG9zaXRpb24gPj0gMCAmJiBzdHJpbmcuc2xpY2UocG9zaXRpb24sIGVuZCkgPT0gdGFyZ2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBjaGFyYWN0ZXJzIFwiJlwiLCBcIjxcIiwgXCI+XCIsICdcIicsIGFuZCBcIidcIiBpbiBgc3RyaW5nYCB0byB0aGVpclxuICAgICAqIGNvcnJlc3BvbmRpbmcgSFRNTCBlbnRpdGllcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBObyBvdGhlciBjaGFyYWN0ZXJzIGFyZSBlc2NhcGVkLiBUbyBlc2NhcGUgYWRkaXRpb25hbFxuICAgICAqIGNoYXJhY3RlcnMgdXNlIGEgdGhpcmQtcGFydHkgbGlicmFyeSBsaWtlIFtfaGVfXShodHRwczovL210aHMuYmUvaGUpLlxuICAgICAqXG4gICAgICogVGhvdWdoIHRoZSBcIj5cIiBjaGFyYWN0ZXIgaXMgZXNjYXBlZCBmb3Igc3ltbWV0cnksIGNoYXJhY3RlcnMgbGlrZVxuICAgICAqIFwiPlwiIGFuZCBcIi9cIiBkb24ndCBuZWVkIGVzY2FwaW5nIGluIEhUTUwgYW5kIGhhdmUgbm8gc3BlY2lhbCBtZWFuaW5nXG4gICAgICogdW5sZXNzIHRoZXkncmUgcGFydCBvZiBhIHRhZyBvciB1bnF1b3RlZCBhdHRyaWJ1dGUgdmFsdWUuIFNlZVxuICAgICAqIFtNYXRoaWFzIEJ5bmVucydzIGFydGljbGVdKGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9hbWJpZ3VvdXMtYW1wZXJzYW5kcylcbiAgICAgKiAodW5kZXIgXCJzZW1pLXJlbGF0ZWQgZnVuIGZhY3RcIikgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIFdoZW4gd29ya2luZyB3aXRoIEhUTUwgeW91IHNob3VsZCBhbHdheXNcbiAgICAgKiBbcXVvdGUgYXR0cmlidXRlIHZhbHVlc10oaHR0cDovL3dvbmtvLmNvbS9wb3N0L2h0bWwtZXNjYXBpbmcpIHRvIHJlZHVjZVxuICAgICAqIFhTUyB2ZWN0b3JzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lc2NhcGUoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlc2NhcGUoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNVbmVzY2FwZWRIdG1sLnRlc3Qoc3RyaW5nKSlcbiAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZVVuZXNjYXBlZEh0bWwsIGVzY2FwZUh0bWxDaGFyKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFc2NhcGVzIHRoZSBgUmVnRXhwYCBzcGVjaWFsIGNoYXJhY3RlcnMgXCJeXCIsIFwiJFwiLCBcIlxcXCIsIFwiLlwiLCBcIipcIiwgXCIrXCIsXG4gICAgICogXCI/XCIsIFwiKFwiLCBcIilcIiwgXCJbXCIsIFwiXVwiLCBcIntcIiwgXCJ9XCIsIGFuZCBcInxcIiBpbiBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBlc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZXNjYXBlUmVnRXhwKCdbbG9kYXNoXShodHRwczovL2xvZGFzaC5jb20vKScpO1xuICAgICAqIC8vID0+ICdcXFtsb2Rhc2hcXF1cXChodHRwczovL2xvZGFzaFxcLmNvbS9cXCknXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzUmVnRXhwQ2hhci50ZXN0KHN0cmluZykpXG4gICAgICAgID8gc3RyaW5nLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG9cbiAgICAgKiBba2ViYWIgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGV0dGVyX2Nhc2UjU3BlY2lhbF9jYXNlX3N0eWxlcykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBrZWJhYiBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdGb28gQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvby1iYXInXG4gICAgICpcbiAgICAgKiBfLmtlYmFiQ2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvby1iYXInXG4gICAgICpcbiAgICAgKiBfLmtlYmFiQ2FzZSgnX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKi9cbiAgICB2YXIga2ViYWJDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJy0nIDogJycpICsgd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIHNwYWNlIHNlcGFyYXRlZCB3b3JkcywgdG8gbG93ZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGxvd2VyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sb3dlckNhc2UoJy0tRm9vLUJhci0tJyk7XG4gICAgICogLy8gPT4gJ2ZvbyBiYXInXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2ZvbyBiYXInXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKi9cbiAgICB2YXIgbG93ZXJDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJyAnIDogJycpICsgd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBgc3RyaW5nYCB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sb3dlckZpcnN0KCdGcmVkJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQnXG4gICAgICpcbiAgICAgKiBfLmxvd2VyRmlyc3QoJ0ZSRUQnKTtcbiAgICAgKiAvLyA9PiAnZlJFRCdcbiAgICAgKi9cbiAgICB2YXIgbG93ZXJGaXJzdCA9IGNyZWF0ZUNhc2VGaXJzdCgndG9Mb3dlckNhc2UnKTtcblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIGxlZnQgYW5kIHJpZ2h0IHNpZGVzIGlmIGl0J3Mgc2hvcnRlciB0aGFuIGBsZW5ndGhgLlxuICAgICAqIFBhZGRpbmcgY2hhcmFjdGVycyBhcmUgdHJ1bmNhdGVkIGlmIHRoZXkgY2FuJ3QgYmUgZXZlbmx5IGRpdmlkZWQgYnkgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDgpO1xuICAgICAqIC8vID0+ICcgIGFiYyAgICdcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCA4LCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnXy1hYmNfLV8nXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgMyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYWQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgaWYgKCFsZW5ndGggfHwgc3RyTGVuZ3RoID49IGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIG1pZCA9IChsZW5ndGggLSBzdHJMZW5ndGgpIC8gMjtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIGNyZWF0ZVBhZGRpbmcobmF0aXZlRmxvb3IobWlkKSwgY2hhcnMpICtcbiAgICAgICAgc3RyaW5nICtcbiAgICAgICAgY3JlYXRlUGFkZGluZyhuYXRpdmVDZWlsKG1pZCksIGNoYXJzKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYWRzIGBzdHJpbmdgIG9uIHRoZSByaWdodCBzaWRlIGlmIGl0J3Mgc2hvcnRlciB0aGFuIGBsZW5ndGhgLiBQYWRkaW5nXG4gICAgICogY2hhcmFjdGVycyBhcmUgdHJ1bmNhdGVkIGlmIHRoZXkgZXhjZWVkIGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHBhZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD0wXSBUaGUgcGFkZGluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCA2KTtcbiAgICAgKiAvLyA9PiAnYWJjICAgJ1xuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDYsICdfLScpO1xuICAgICAqIC8vID0+ICdhYmNfLV8nXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgMyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYWRFbmQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgcmV0dXJuIChsZW5ndGggJiYgc3RyTGVuZ3RoIDwgbGVuZ3RoKVxuICAgICAgICA/IChzdHJpbmcgKyBjcmVhdGVQYWRkaW5nKGxlbmd0aCAtIHN0ckxlbmd0aCwgY2hhcnMpKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYWRzIGBzdHJpbmdgIG9uIHRoZSBsZWZ0IHNpZGUgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuIFBhZGRpbmdcbiAgICAgKiBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBleGNlZWQgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgNik7XG4gICAgICogLy8gPT4gJyAgIGFiYydcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDYsICdfLScpO1xuICAgICAqIC8vID0+ICdfLV9hYmMnXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZFN0YXJ0KHN0cmluZywgbGVuZ3RoLCBjaGFycykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGxlbmd0aCA9IHRvSW50ZWdlcihsZW5ndGgpO1xuXG4gICAgICB2YXIgc3RyTGVuZ3RoID0gbGVuZ3RoID8gc3RyaW5nU2l6ZShzdHJpbmcpIDogMDtcbiAgICAgIHJldHVybiAobGVuZ3RoICYmIHN0ckxlbmd0aCA8IGxlbmd0aClcbiAgICAgICAgPyAoY3JlYXRlUGFkZGluZyhsZW5ndGggLSBzdHJMZW5ndGgsIGNoYXJzKSArIHN0cmluZylcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gYW4gaW50ZWdlciBvZiB0aGUgc3BlY2lmaWVkIHJhZGl4LiBJZiBgcmFkaXhgIGlzXG4gICAgICogYHVuZGVmaW5lZGAgb3IgYDBgLCBhIGByYWRpeGAgb2YgYDEwYCBpcyB1c2VkIHVubGVzcyBgdmFsdWVgIGlzIGFcbiAgICAgKiBoZXhhZGVjaW1hbCwgaW4gd2hpY2ggY2FzZSBhIGByYWRpeGAgb2YgYDE2YCBpcyB1c2VkLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGFsaWducyB3aXRoIHRoZVxuICAgICAqIFtFUzUgaW1wbGVtZW50YXRpb25dKGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jeDE1LjEuMi4yKSBvZiBgcGFyc2VJbnRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMS4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmFkaXg9MTBdIFRoZSByYWRpeCB0byBpbnRlcnByZXQgYHZhbHVlYCBieS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhcnNlSW50KCcwOCcpO1xuICAgICAqIC8vID0+IDhcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnNicsICcwOCcsICcxMCddLCBfLnBhcnNlSW50KTtcbiAgICAgKiAvLyA9PiBbNiwgOCwgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFyc2VJbnQoc3RyaW5nLCByYWRpeCwgZ3VhcmQpIHtcbiAgICAgIGlmIChndWFyZCB8fCByYWRpeCA9PSBudWxsKSB7XG4gICAgICAgIHJhZGl4ID0gMDtcbiAgICAgIH0gZWxzZSBpZiAocmFkaXgpIHtcbiAgICAgICAgcmFkaXggPSArcmFkaXg7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmF0aXZlUGFyc2VJbnQodG9TdHJpbmcoc3RyaW5nKS5yZXBsYWNlKHJlVHJpbVN0YXJ0LCAnJyksIHJhZGl4IHx8IDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcGVhdHMgdGhlIGdpdmVuIHN0cmluZyBgbmAgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcmVwZWF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdCB0aGUgc3RyaW5nLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmVwZWF0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlcGVhdCgnKicsIDMpO1xuICAgICAqIC8vID0+ICcqKionXG4gICAgICpcbiAgICAgKiBfLnJlcGVhdCgnYWJjJywgMik7XG4gICAgICogLy8gPT4gJ2FiY2FiYydcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCdhYmMnLCAwKTtcbiAgICAgKiAvLyA9PiAnJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGVhdChzdHJpbmcsIG4sIGd1YXJkKSB7XG4gICAgICBpZiAoKGd1YXJkID8gaXNJdGVyYXRlZUNhbGwoc3RyaW5nLCBuLCBndWFyZCkgOiBuID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIG4gPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlUmVwZWF0KHRvU3RyaW5nKHN0cmluZyksIG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcGxhY2VzIG1hdGNoZXMgZm9yIGBwYXR0ZXJuYCBpbiBgc3RyaW5nYCB3aXRoIGByZXBsYWNlbWVudGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYFN0cmluZyNyZXBsYWNlYF0oaHR0cHM6Ly9tZG4uaW8vU3RyaW5nL3JlcGxhY2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IHBhdHRlcm4gVGhlIHBhdHRlcm4gdG8gcmVwbGFjZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gcmVwbGFjZW1lbnQgVGhlIG1hdGNoIHJlcGxhY2VtZW50LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIG1vZGlmaWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yZXBsYWNlKCdIaSBGcmVkJywgJ0ZyZWQnLCAnQmFybmV5Jyk7XG4gICAgICogLy8gPT4gJ0hpIEJhcm5leSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXBsYWNlKCkge1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgc3RyaW5nID0gdG9TdHJpbmcoYXJnc1swXSk7XG5cbiAgICAgIHJldHVybiBhcmdzLmxlbmd0aCA8IDMgPyBzdHJpbmcgOiBzdHJpbmcucmVwbGFjZShhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtzbmFrZSBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TbmFrZV9jYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNuYWtlIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vX2JhcidcbiAgICAgKlxuICAgICAqIF8uc25ha2VDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vX2JhcidcbiAgICAgKlxuICAgICAqIF8uc25ha2VDYXNlKCctLUZPTy1CQVItLScpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqL1xuICAgIHZhciBzbmFrZUNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnXycgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBTcGxpdHMgYHN0cmluZ2AgYnkgYHNlcGFyYXRvcmAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYFN0cmluZyNzcGxpdGBdKGh0dHBzOi8vbWRuLmlvL1N0cmluZy9zcGxpdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gc3BsaXQuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBzZXBhcmF0b3IgVGhlIHNlcGFyYXRvciBwYXR0ZXJuIHRvIHNwbGl0IGJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGltaXRdIFRoZSBsZW5ndGggdG8gdHJ1bmNhdGUgcmVzdWx0cyB0by5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHN0cmluZyBzZWdtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zcGxpdCgnYS1iLWMnLCAnLScsIDIpO1xuICAgICAqIC8vID0+IFsnYScsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzcGxpdChzdHJpbmcsIHNlcGFyYXRvciwgbGltaXQpIHtcbiAgICAgIGlmIChsaW1pdCAmJiB0eXBlb2YgbGltaXQgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoc3RyaW5nLCBzZXBhcmF0b3IsIGxpbWl0KSkge1xuICAgICAgICBzZXBhcmF0b3IgPSBsaW1pdCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGxpbWl0ID0gbGltaXQgPT09IHVuZGVmaW5lZCA/IE1BWF9BUlJBWV9MRU5HVEggOiBsaW1pdCA+Pj4gMDtcbiAgICAgIGlmICghbGltaXQpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKFxuICAgICAgICAgICAgdHlwZW9mIHNlcGFyYXRvciA9PSAnc3RyaW5nJyB8fFxuICAgICAgICAgICAgKHNlcGFyYXRvciAhPSBudWxsICYmICFpc1JlZ0V4cChzZXBhcmF0b3IpKVxuICAgICAgICAgICkpIHtcbiAgICAgICAgc2VwYXJhdG9yID0gYmFzZVRvU3RyaW5nKHNlcGFyYXRvcik7XG4gICAgICAgIGlmICghc2VwYXJhdG9yICYmIGhhc1VuaWNvZGUoc3RyaW5nKSkge1xuICAgICAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyaW5nVG9BcnJheShzdHJpbmcpLCAwLCBsaW1pdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHJpbmcuc3BsaXQoc2VwYXJhdG9yLCBsaW1pdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG9cbiAgICAgKiBbc3RhcnQgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGV0dGVyX2Nhc2UjU3R5bGlzdGljX29yX3NwZWNpYWxpc2VkX3VzYWdlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0YXJ0IGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdGFydENhc2UoJy0tZm9vLWJhci0tJyk7XG4gICAgICogLy8gPT4gJ0ZvbyBCYXInXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ0ZvbyBCYXInXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKi9cbiAgICB2YXIgc3RhcnRDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJyAnIDogJycpICsgdXBwZXJGaXJzdCh3b3JkKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgc3RyaW5nYCBzdGFydHMgd2l0aCB0aGUgZ2l2ZW4gdGFyZ2V0IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFyZ2V0XSBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwb3NpdGlvbj0wXSBUaGUgcG9zaXRpb24gdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBzdHJpbmdgIHN0YXJ0cyB3aXRoIGB0YXJnZXRgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0c1dpdGgoJ2FiYycsICdiJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2InLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhcnRzV2l0aChzdHJpbmcsIHRhcmdldCwgcG9zaXRpb24pIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uID09IG51bGxcbiAgICAgICAgPyAwXG4gICAgICAgIDogYmFzZUNsYW1wKHRvSW50ZWdlcihwb3NpdGlvbiksIDAsIHN0cmluZy5sZW5ndGgpO1xuXG4gICAgICB0YXJnZXQgPSBiYXNlVG9TdHJpbmcodGFyZ2V0KTtcbiAgICAgIHJldHVybiBzdHJpbmcuc2xpY2UocG9zaXRpb24sIHBvc2l0aW9uICsgdGFyZ2V0Lmxlbmd0aCkgPT0gdGFyZ2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjb21waWxlZCB0ZW1wbGF0ZSBmdW5jdGlvbiB0aGF0IGNhbiBpbnRlcnBvbGF0ZSBkYXRhIHByb3BlcnRpZXNcbiAgICAgKiBpbiBcImludGVycG9sYXRlXCIgZGVsaW1pdGVycywgSFRNTC1lc2NhcGUgaW50ZXJwb2xhdGVkIGRhdGEgcHJvcGVydGllcyBpblxuICAgICAqIFwiZXNjYXBlXCIgZGVsaW1pdGVycywgYW5kIGV4ZWN1dGUgSmF2YVNjcmlwdCBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVycy4gRGF0YVxuICAgICAqIHByb3BlcnRpZXMgbWF5IGJlIGFjY2Vzc2VkIGFzIGZyZWUgdmFyaWFibGVzIGluIHRoZSB0ZW1wbGF0ZS4gSWYgYSBzZXR0aW5nXG4gICAgICogb2JqZWN0IGlzIGdpdmVuLCBpdCB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgYF8udGVtcGxhdGVTZXR0aW5nc2AgdmFsdWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEluIHRoZSBkZXZlbG9wbWVudCBidWlsZCBgXy50ZW1wbGF0ZWAgdXRpbGl6ZXNcbiAgICAgKiBbc291cmNlVVJMc10oaHR0cDovL3d3dy5odG1sNXJvY2tzLmNvbS9lbi90dXRvcmlhbHMvZGV2ZWxvcGVydG9vbHMvc291cmNlbWFwcy8jdG9jLXNvdXJjZXVybClcbiAgICAgKiBmb3IgZWFzaWVyIGRlYnVnZ2luZy5cbiAgICAgKlxuICAgICAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHByZWNvbXBpbGluZyB0ZW1wbGF0ZXMgc2VlXG4gICAgICogW2xvZGFzaCdzIGN1c3RvbSBidWlsZHMgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9sb2Rhc2guY29tL2N1c3RvbS1idWlsZHMpLlxuICAgICAqXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gQ2hyb21lIGV4dGVuc2lvbiBzYW5kYm94ZXMgc2VlXG4gICAgICogW0Nocm9tZSdzIGV4dGVuc2lvbnMgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9leHRlbnNpb25zL3NhbmRib3hpbmdFdmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHRlbXBsYXRlIHN0cmluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuZXNjYXBlPV8udGVtcGxhdGVTZXR0aW5ncy5lc2NhcGVdXG4gICAgICogIFRoZSBIVE1MIFwiZXNjYXBlXCIgZGVsaW1pdGVyLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5ldmFsdWF0ZT1fLnRlbXBsYXRlU2V0dGluZ3MuZXZhbHVhdGVdXG4gICAgICogIFRoZSBcImV2YWx1YXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5pbXBvcnRzPV8udGVtcGxhdGVTZXR0aW5ncy5pbXBvcnRzXVxuICAgICAqICBBbiBvYmplY3QgdG8gaW1wb3J0IGludG8gdGhlIHRlbXBsYXRlIGFzIGZyZWUgdmFyaWFibGVzLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5pbnRlcnBvbGF0ZT1fLnRlbXBsYXRlU2V0dGluZ3MuaW50ZXJwb2xhdGVdXG4gICAgICogIFRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5zb3VyY2VVUkw9J2xvZGFzaC50ZW1wbGF0ZVNvdXJjZXNbbl0nXVxuICAgICAqICBUaGUgc291cmNlVVJMIG9mIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudmFyaWFibGU9J29iaiddXG4gICAgICogIFRoZSBkYXRhIG9iamVjdCB2YXJpYWJsZSBuYW1lLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBjb21waWxlZCB0ZW1wbGF0ZSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyIHRvIGNyZWF0ZSBhIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIDwlPSB1c2VyICU+IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnZnJlZCcgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQhJ1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBIVE1MIFwiZXNjYXBlXCIgZGVsaW1pdGVyIHRvIGVzY2FwZSBkYXRhIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8Yj48JS0gdmFsdWUgJT48L2I+Jyk7XG4gICAgICogY29tcGlsZWQoeyAndmFsdWUnOiAnPHNjcmlwdD4nIH0pO1xuICAgICAqIC8vID0+ICc8Yj4mbHQ7c2NyaXB0Jmd0OzwvYj4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXIgdG8gZXhlY3V0ZSBKYXZhU2NyaXB0IGFuZCBnZW5lcmF0ZSBIVE1MLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzwlIF8uZm9yRWFjaCh1c2VycywgZnVuY3Rpb24odXNlcikgeyAlPjxsaT48JS0gdXNlciAlPjwvbGk+PCUgfSk7ICU+Jyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcnMnOiBbJ2ZyZWQnLCAnYmFybmV5J10gfSk7XG4gICAgICogLy8gPT4gJzxsaT5mcmVkPC9saT48bGk+YmFybmV5PC9saT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGludGVybmFsIGBwcmludGAgZnVuY3Rpb24gaW4gXCJldmFsdWF0ZVwiIGRlbGltaXRlcnMuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCUgcHJpbnQoXCJoZWxsbyBcIiArIHVzZXIpOyAlPiEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ2Jhcm5leScgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGJhcm5leSEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIEVTIHRlbXBsYXRlIGxpdGVyYWwgZGVsaW1pdGVyIGFzIGFuIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogLy8gRGlzYWJsZSBzdXBwb3J0IGJ5IHJlcGxhY2luZyB0aGUgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyAkeyB1c2VyIH0hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdwZWJibGVzJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gcGViYmxlcyEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgYmFja3NsYXNoZXMgdG8gdHJlYXQgZGVsaW1pdGVycyBhcyBwbGFpbiB0ZXh0LlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzwlPSBcIlxcXFw8JS0gdmFsdWUgJVxcXFw+XCIgJT4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd2YWx1ZSc6ICdpZ25vcmVkJyB9KTtcbiAgICAgKiAvLyA9PiAnPCUtIHZhbHVlICU+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgaW1wb3J0c2Agb3B0aW9uIHRvIGltcG9ydCBgalF1ZXJ5YCBhcyBganFgLlxuICAgICAqIHZhciB0ZXh0ID0gJzwlIGpxLmVhY2godXNlcnMsIGZ1bmN0aW9uKHVzZXIpIHsgJT48bGk+PCUtIHVzZXIgJT48L2xpPjwlIH0pOyAlPic7XG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSh0ZXh0LCB7ICdpbXBvcnRzJzogeyAnanEnOiBqUXVlcnkgfSB9KTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2Vycyc6IFsnZnJlZCcsICdiYXJuZXknXSB9KTtcbiAgICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHNvdXJjZVVSTGAgb3B0aW9uIHRvIHNwZWNpZnkgYSBjdXN0b20gc291cmNlVVJMIGZvciB0aGUgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IHVzZXIgJT4hJywgeyAnc291cmNlVVJMJzogJy9iYXNpYy9ncmVldGluZy5qc3QnIH0pO1xuICAgICAqIGNvbXBpbGVkKGRhdGEpO1xuICAgICAqIC8vID0+IEZpbmQgdGhlIHNvdXJjZSBvZiBcImdyZWV0aW5nLmpzdFwiIHVuZGVyIHRoZSBTb3VyY2VzIHRhYiBvciBSZXNvdXJjZXMgcGFuZWwgb2YgdGhlIHdlYiBpbnNwZWN0b3IuXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGB2YXJpYWJsZWAgb3B0aW9uIHRvIGVuc3VyZSBhIHdpdGgtc3RhdGVtZW50IGlzbid0IHVzZWQgaW4gdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hpIDwlPSBkYXRhLnVzZXIgJT4hJywgeyAndmFyaWFibGUnOiAnZGF0YScgfSk7XG4gICAgICogY29tcGlsZWQuc291cmNlO1xuICAgICAqIC8vID0+IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgKiAvLyAgIHZhciBfX3QsIF9fcCA9ICcnO1xuICAgICAqIC8vICAgX19wICs9ICdoaSAnICsgKChfX3QgPSAoIGRhdGEudXNlciApKSA9PSBudWxsID8gJycgOiBfX3QpICsgJyEnO1xuICAgICAqIC8vICAgcmV0dXJuIF9fcDtcbiAgICAgKiAvLyB9XG4gICAgICpcbiAgICAgKiAvLyBVc2UgY3VzdG9tIHRlbXBsYXRlIGRlbGltaXRlcnMuXG4gICAgICogXy50ZW1wbGF0ZVNldHRpbmdzLmludGVycG9sYXRlID0gL3t7KFtcXHNcXFNdKz8pfX0vZztcbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyB7eyB1c2VyIH19IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnbXVzdGFjaGUnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBtdXN0YWNoZSEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBzb3VyY2VgIHByb3BlcnR5IHRvIGlubGluZSBjb21waWxlZCB0ZW1wbGF0ZXMgZm9yIG1lYW5pbmdmdWxcbiAgICAgKiAvLyBsaW5lIG51bWJlcnMgaW4gZXJyb3IgbWVzc2FnZXMgYW5kIHN0YWNrIHRyYWNlcy5cbiAgICAgKiBmcy53cml0ZUZpbGVTeW5jKHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnanN0LmpzJyksICdcXFxuICAgICAqICAgdmFyIEpTVCA9IHtcXFxuICAgICAqICAgICBcIm1haW5cIjogJyArIF8udGVtcGxhdGUobWFpblRleHQpLnNvdXJjZSArICdcXFxuICAgICAqICAgfTtcXFxuICAgICAqICcpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRlbXBsYXRlKHN0cmluZywgb3B0aW9ucywgZ3VhcmQpIHtcbiAgICAgIC8vIEJhc2VkIG9uIEpvaG4gUmVzaWcncyBgdG1wbGAgaW1wbGVtZW50YXRpb25cbiAgICAgIC8vIChodHRwOi8vZWpvaG4ub3JnL2Jsb2cvamF2YXNjcmlwdC1taWNyby10ZW1wbGF0aW5nLylcbiAgICAgIC8vIGFuZCBMYXVyYSBEb2t0b3JvdmEncyBkb1QuanMgKGh0dHBzOi8vZ2l0aHViLmNvbS9vbGFkby9kb1QpLlxuICAgICAgdmFyIHNldHRpbmdzID0gbG9kYXNoLnRlbXBsYXRlU2V0dGluZ3M7XG5cbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIG9wdGlvbnMsIGd1YXJkKSkge1xuICAgICAgICBvcHRpb25zID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIG9wdGlvbnMgPSBhc3NpZ25JbldpdGgoe30sIG9wdGlvbnMsIHNldHRpbmdzLCBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKTtcblxuICAgICAgdmFyIGltcG9ydHMgPSBhc3NpZ25JbldpdGgoe30sIG9wdGlvbnMuaW1wb3J0cywgc2V0dGluZ3MuaW1wb3J0cywgY3VzdG9tRGVmYXVsdHNBc3NpZ25JbiksXG4gICAgICAgICAgaW1wb3J0c0tleXMgPSBrZXlzKGltcG9ydHMpLFxuICAgICAgICAgIGltcG9ydHNWYWx1ZXMgPSBiYXNlVmFsdWVzKGltcG9ydHMsIGltcG9ydHNLZXlzKTtcblxuICAgICAgdmFyIGlzRXNjYXBpbmcsXG4gICAgICAgICAgaXNFdmFsdWF0aW5nLFxuICAgICAgICAgIGluZGV4ID0gMCxcbiAgICAgICAgICBpbnRlcnBvbGF0ZSA9IG9wdGlvbnMuaW50ZXJwb2xhdGUgfHwgcmVOb01hdGNoLFxuICAgICAgICAgIHNvdXJjZSA9IFwiX19wICs9ICdcIjtcblxuICAgICAgLy8gQ29tcGlsZSB0aGUgcmVnZXhwIHRvIG1hdGNoIGVhY2ggZGVsaW1pdGVyLlxuICAgICAgdmFyIHJlRGVsaW1pdGVycyA9IFJlZ0V4cChcbiAgICAgICAgKG9wdGlvbnMuZXNjYXBlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wnICtcbiAgICAgICAgaW50ZXJwb2xhdGUuc291cmNlICsgJ3wnICtcbiAgICAgICAgKGludGVycG9sYXRlID09PSByZUludGVycG9sYXRlID8gcmVFc1RlbXBsYXRlIDogcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICAob3B0aW9ucy5ldmFsdWF0ZSB8fCByZU5vTWF0Y2gpLnNvdXJjZSArICd8JCdcbiAgICAgICwgJ2cnKTtcblxuICAgICAgLy8gVXNlIGEgc291cmNlVVJMIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuICAgICAgdmFyIHNvdXJjZVVSTCA9ICcvLyMgc291cmNlVVJMPScgK1xuICAgICAgICAoJ3NvdXJjZVVSTCcgaW4gb3B0aW9uc1xuICAgICAgICAgID8gb3B0aW9ucy5zb3VyY2VVUkxcbiAgICAgICAgICA6ICgnbG9kYXNoLnRlbXBsYXRlU291cmNlc1snICsgKCsrdGVtcGxhdGVDb3VudGVyKSArICddJylcbiAgICAgICAgKSArICdcXG4nO1xuXG4gICAgICBzdHJpbmcucmVwbGFjZShyZURlbGltaXRlcnMsIGZ1bmN0aW9uKG1hdGNoLCBlc2NhcGVWYWx1ZSwgaW50ZXJwb2xhdGVWYWx1ZSwgZXNUZW1wbGF0ZVZhbHVlLCBldmFsdWF0ZVZhbHVlLCBvZmZzZXQpIHtcbiAgICAgICAgaW50ZXJwb2xhdGVWYWx1ZSB8fCAoaW50ZXJwb2xhdGVWYWx1ZSA9IGVzVGVtcGxhdGVWYWx1ZSk7XG5cbiAgICAgICAgLy8gRXNjYXBlIGNoYXJhY3RlcnMgdGhhdCBjYW4ndCBiZSBpbmNsdWRlZCBpbiBzdHJpbmcgbGl0ZXJhbHMuXG4gICAgICAgIHNvdXJjZSArPSBzdHJpbmcuc2xpY2UoaW5kZXgsIG9mZnNldCkucmVwbGFjZShyZVVuZXNjYXBlZFN0cmluZywgZXNjYXBlU3RyaW5nQ2hhcik7XG5cbiAgICAgICAgLy8gUmVwbGFjZSBkZWxpbWl0ZXJzIHdpdGggc25pcHBldHMuXG4gICAgICAgIGlmIChlc2NhcGVWYWx1ZSkge1xuICAgICAgICAgIGlzRXNjYXBpbmcgPSB0cnVlO1xuICAgICAgICAgIHNvdXJjZSArPSBcIicgK1xcbl9fZShcIiArIGVzY2FwZVZhbHVlICsgXCIpICtcXG4nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2YWx1YXRlVmFsdWUpIHtcbiAgICAgICAgICBpc0V2YWx1YXRpbmcgPSB0cnVlO1xuICAgICAgICAgIHNvdXJjZSArPSBcIic7XFxuXCIgKyBldmFsdWF0ZVZhbHVlICsgXCI7XFxuX19wICs9ICdcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW50ZXJwb2xhdGVWYWx1ZSkge1xuICAgICAgICAgIHNvdXJjZSArPSBcIicgK1xcbigoX190ID0gKFwiICsgaW50ZXJwb2xhdGVWYWx1ZSArIFwiKSkgPT0gbnVsbCA/ICcnIDogX190KSArXFxuJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gb2Zmc2V0ICsgbWF0Y2gubGVuZ3RoO1xuXG4gICAgICAgIC8vIFRoZSBKUyBlbmdpbmUgZW1iZWRkZWQgaW4gQWRvYmUgcHJvZHVjdHMgbmVlZHMgYG1hdGNoYCByZXR1cm5lZCBpblxuICAgICAgICAvLyBvcmRlciB0byBwcm9kdWNlIHRoZSBjb3JyZWN0IGBvZmZzZXRgIHZhbHVlLlxuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICB9KTtcblxuICAgICAgc291cmNlICs9IFwiJztcXG5cIjtcblxuICAgICAgLy8gSWYgYHZhcmlhYmxlYCBpcyBub3Qgc3BlY2lmaWVkIHdyYXAgYSB3aXRoLXN0YXRlbWVudCBhcm91bmQgdGhlIGdlbmVyYXRlZFxuICAgICAgLy8gY29kZSB0byBhZGQgdGhlIGRhdGEgb2JqZWN0IHRvIHRoZSB0b3Agb2YgdGhlIHNjb3BlIGNoYWluLlxuICAgICAgdmFyIHZhcmlhYmxlID0gb3B0aW9ucy52YXJpYWJsZTtcbiAgICAgIGlmICghdmFyaWFibGUpIHtcbiAgICAgICAgc291cmNlID0gJ3dpdGggKG9iaikge1xcbicgKyBzb3VyY2UgKyAnXFxufVxcbic7XG4gICAgICB9XG4gICAgICAvLyBDbGVhbnVwIGNvZGUgYnkgc3RyaXBwaW5nIGVtcHR5IHN0cmluZ3MuXG4gICAgICBzb3VyY2UgPSAoaXNFdmFsdWF0aW5nID8gc291cmNlLnJlcGxhY2UocmVFbXB0eVN0cmluZ0xlYWRpbmcsICcnKSA6IHNvdXJjZSlcbiAgICAgICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ01pZGRsZSwgJyQxJylcbiAgICAgICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ1RyYWlsaW5nLCAnJDE7Jyk7XG5cbiAgICAgIC8vIEZyYW1lIGNvZGUgYXMgdGhlIGZ1bmN0aW9uIGJvZHkuXG4gICAgICBzb3VyY2UgPSAnZnVuY3Rpb24oJyArICh2YXJpYWJsZSB8fCAnb2JqJykgKyAnKSB7XFxuJyArXG4gICAgICAgICh2YXJpYWJsZVxuICAgICAgICAgID8gJydcbiAgICAgICAgICA6ICdvYmogfHwgKG9iaiA9IHt9KTtcXG4nXG4gICAgICAgICkgK1xuICAgICAgICBcInZhciBfX3QsIF9fcCA9ICcnXCIgK1xuICAgICAgICAoaXNFc2NhcGluZ1xuICAgICAgICAgICA/ICcsIF9fZSA9IF8uZXNjYXBlJ1xuICAgICAgICAgICA6ICcnXG4gICAgICAgICkgK1xuICAgICAgICAoaXNFdmFsdWF0aW5nXG4gICAgICAgICAgPyAnLCBfX2ogPSBBcnJheS5wcm90b3R5cGUuam9pbjtcXG4nICtcbiAgICAgICAgICAgIFwiZnVuY3Rpb24gcHJpbnQoKSB7IF9fcCArPSBfX2ouY2FsbChhcmd1bWVudHMsICcnKSB9XFxuXCJcbiAgICAgICAgICA6ICc7XFxuJ1xuICAgICAgICApICtcbiAgICAgICAgc291cmNlICtcbiAgICAgICAgJ3JldHVybiBfX3BcXG59JztcblxuICAgICAgdmFyIHJlc3VsdCA9IGF0dGVtcHQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBGdW5jdGlvbihpbXBvcnRzS2V5cywgc291cmNlVVJMICsgJ3JldHVybiAnICsgc291cmNlKVxuICAgICAgICAgIC5hcHBseSh1bmRlZmluZWQsIGltcG9ydHNWYWx1ZXMpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFByb3ZpZGUgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uJ3Mgc291cmNlIGJ5IGl0cyBgdG9TdHJpbmdgIG1ldGhvZCBvclxuICAgICAgLy8gdGhlIGBzb3VyY2VgIHByb3BlcnR5IGFzIGEgY29udmVuaWVuY2UgZm9yIGlubGluaW5nIGNvbXBpbGVkIHRlbXBsYXRlcy5cbiAgICAgIHJlc3VsdC5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICBpZiAoaXNFcnJvcihyZXN1bHQpKSB7XG4gICAgICAgIHRocm93IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIGEgd2hvbGUsIHRvIGxvd2VyIGNhc2UganVzdCBsaWtlXG4gICAgICogW1N0cmluZyN0b0xvd2VyQ2FzZV0oaHR0cHM6Ly9tZG4uaW8vdG9Mb3dlckNhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbG93ZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTG93ZXIoJy0tRm9vLUJhci0tJyk7XG4gICAgICogLy8gPT4gJy0tZm9vLWJhci0tJ1xuICAgICAqXG4gICAgICogXy50b0xvd2VyKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vYmFyJ1xuICAgICAqXG4gICAgICogXy50b0xvd2VyKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdfX2Zvb19iYXJfXydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0xvd2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcodmFsdWUpLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIGEgd2hvbGUsIHRvIHVwcGVyIGNhc2UganVzdCBsaWtlXG4gICAgICogW1N0cmluZyN0b1VwcGVyQ2FzZV0oaHR0cHM6Ly9tZG4uaW8vdG9VcHBlckNhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdXBwZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvVXBwZXIoJy0tZm9vLWJhci0tJyk7XG4gICAgICogLy8gPT4gJy0tRk9PLUJBUi0tJ1xuICAgICAqXG4gICAgICogXy50b1VwcGVyKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PQkFSJ1xuICAgICAqXG4gICAgICogXy50b1VwcGVyKCdfX2Zvb19iYXJfXycpO1xuICAgICAqIC8vID0+ICdfX0ZPT19CQVJfXydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1VwcGVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcodmFsdWUpLnRvVXBwZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltKCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKlxuICAgICAqIF8udHJpbSgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnICBmb28gICcsICcgIGJhciAgJ10sIF8udHJpbSk7XG4gICAgICogLy8gPT4gWydmb28nLCAnYmFyJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltKHN0cmluZywgY2hhcnMsIGd1YXJkKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoZ3VhcmQgfHwgY2hhcnMgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBjaHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShjaGFycyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scyksXG4gICAgICAgICAgZW5kID0gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSArIDE7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgc3RhcnQsIGVuZCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0cmFpbGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltRW5kKCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJyAgYWJjJ1xuICAgICAqXG4gICAgICogXy50cmltRW5kKCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnLV8tYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW1FbmQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVUcmltRW5kLCAnJyk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIGVuZCA9IGNoYXJzRW5kSW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpICsgMTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCAwLCBlbmQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGVhZGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltU3RhcnQoJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnYWJjICAnXG4gICAgICpcbiAgICAgKiBfLnRyaW1TdGFydCgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiYy1fLSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltU3RhcnQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIHN0YXJ0KS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcnVuY2F0ZXMgYHN0cmluZ2AgaWYgaXQncyBsb25nZXIgdGhhbiB0aGUgZ2l2ZW4gbWF4aW11bSBzdHJpbmcgbGVuZ3RoLlxuICAgICAqIFRoZSBsYXN0IGNoYXJhY3RlcnMgb2YgdGhlIHRydW5jYXRlZCBzdHJpbmcgYXJlIHJlcGxhY2VkIHdpdGggdGhlIG9taXNzaW9uXG4gICAgICogc3RyaW5nIHdoaWNoIGRlZmF1bHRzIHRvIFwiLi4uXCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJ1bmNhdGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxlbmd0aD0zMF0gVGhlIG1heGltdW0gc3RyaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMub21pc3Npb249Jy4uLiddIFRoZSBzdHJpbmcgdG8gaW5kaWNhdGUgdGV4dCBpcyBvbWl0dGVkLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gW29wdGlvbnMuc2VwYXJhdG9yXSBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gdHJ1bmNhdGUgdG8uXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJ1bmNhdGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycpO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm8uLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ2xlbmd0aCc6IDI0LFxuICAgICAqICAgJ3NlcGFyYXRvcic6ICcgJ1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdsZW5ndGgnOiAyNCxcbiAgICAgKiAgICdzZXBhcmF0b3InOiAvLD8gKy9cbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdvbWlzc2lvbic6ICcgWy4uLl0nXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZyBbLi4uXSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cnVuY2F0ZShzdHJpbmcsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBERUZBVUxUX1RSVU5DX0xFTkdUSCxcbiAgICAgICAgICBvbWlzc2lvbiA9IERFRkFVTFRfVFJVTkNfT01JU1NJT047XG5cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICB2YXIgc2VwYXJhdG9yID0gJ3NlcGFyYXRvcicgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc2VwYXJhdG9yIDogc2VwYXJhdG9yO1xuICAgICAgICBsZW5ndGggPSAnbGVuZ3RoJyBpbiBvcHRpb25zID8gdG9JbnRlZ2VyKG9wdGlvbnMubGVuZ3RoKSA6IGxlbmd0aDtcbiAgICAgICAgb21pc3Npb24gPSAnb21pc3Npb24nIGluIG9wdGlvbnMgPyBiYXNlVG9TdHJpbmcob3B0aW9ucy5vbWlzc2lvbikgOiBvbWlzc2lvbjtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgaWYgKGhhc1VuaWNvZGUoc3RyaW5nKSkge1xuICAgICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKTtcbiAgICAgICAgc3RyTGVuZ3RoID0gc3RyU3ltYm9scy5sZW5ndGg7XG4gICAgICB9XG4gICAgICBpZiAobGVuZ3RoID49IHN0ckxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIGVuZCA9IGxlbmd0aCAtIHN0cmluZ1NpemUob21pc3Npb24pO1xuICAgICAgaWYgKGVuZCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHN0clN5bWJvbHNcbiAgICAgICAgPyBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMCwgZW5kKS5qb2luKCcnKVxuICAgICAgICA6IHN0cmluZy5zbGljZSgwLCBlbmQpO1xuXG4gICAgICBpZiAoc2VwYXJhdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCArIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgaWYgKHN0clN5bWJvbHMpIHtcbiAgICAgICAgZW5kICs9IChyZXN1bHQubGVuZ3RoIC0gZW5kKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1JlZ0V4cChzZXBhcmF0b3IpKSB7XG4gICAgICAgIGlmIChzdHJpbmcuc2xpY2UoZW5kKS5zZWFyY2goc2VwYXJhdG9yKSkge1xuICAgICAgICAgIHZhciBtYXRjaCxcbiAgICAgICAgICAgICAgc3Vic3RyaW5nID0gcmVzdWx0O1xuXG4gICAgICAgICAgaWYgKCFzZXBhcmF0b3IuZ2xvYmFsKSB7XG4gICAgICAgICAgICBzZXBhcmF0b3IgPSBSZWdFeHAoc2VwYXJhdG9yLnNvdXJjZSwgdG9TdHJpbmcocmVGbGFncy5leGVjKHNlcGFyYXRvcikpICsgJ2cnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VwYXJhdG9yLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgd2hpbGUgKChtYXRjaCA9IHNlcGFyYXRvci5leGVjKHN1YnN0cmluZykpKSB7XG4gICAgICAgICAgICB2YXIgbmV3RW5kID0gbWF0Y2guaW5kZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBuZXdFbmQgPT09IHVuZGVmaW5lZCA/IGVuZCA6IG5ld0VuZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RyaW5nLmluZGV4T2YoYmFzZVRvU3RyaW5nKHNlcGFyYXRvciksIGVuZCkgIT0gZW5kKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHJlc3VsdC5sYXN0SW5kZXhPZihzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQgKyBvbWlzc2lvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy5lc2NhcGVgOyB0aGlzIG1ldGhvZCBjb252ZXJ0cyB0aGUgSFRNTCBlbnRpdGllc1xuICAgICAqIGAmYW1wO2AsIGAmbHQ7YCwgYCZndDtgLCBgJnF1b3Q7YCwgYW5kIGAmIzM5O2AgaW4gYHN0cmluZ2AgdG9cbiAgICAgKiB0aGVpciBjb3JyZXNwb25kaW5nIGNoYXJhY3RlcnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm8gb3RoZXIgSFRNTCBlbnRpdGllcyBhcmUgdW5lc2NhcGVkLiBUbyB1bmVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogSFRNTCBlbnRpdGllcyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdW5lc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5lc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuZXNjYXBlKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzRXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlRXNjYXBlZEh0bWwsIHVuZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBzcGFjZSBzZXBhcmF0ZWQgd29yZHMsIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1cHBlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCctLWZvby1iYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdfX2Zvb19iYXJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvVXBwZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVwcGVyRmlyc3QoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKlxuICAgICAqIF8udXBwZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGUkVEJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b1VwcGVyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogU3BsaXRzIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbcGF0dGVybl0gVGhlIHBhdHRlcm4gdG8gbWF0Y2ggd29yZHMuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+IFsnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycsIC9bXiwgXSsvZyk7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICcmJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdvcmRzKHN0cmluZywgcGF0dGVybiwgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBwYXR0ZXJuID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBwYXR0ZXJuO1xuXG4gICAgICBpZiAocGF0dGVybiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBoYXNVbmljb2RlV29yZChzdHJpbmcpID8gdW5pY29kZVdvcmRzKHN0cmluZykgOiBhc2NpaVdvcmRzKHN0cmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHBhdHRlcm4pIHx8IFtdO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEF0dGVtcHRzIHRvIGludm9rZSBgZnVuY2AsIHJldHVybmluZyBlaXRoZXIgdGhlIHJlc3VsdCBvciB0aGUgY2F1Z2h0IGVycm9yXG4gICAgICogb2JqZWN0LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXR0ZW1wdC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYGZ1bmNgIHJlc3VsdCBvciBlcnJvciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIHRocm93aW5nIGVycm9ycyBmb3IgaW52YWxpZCBzZWxlY3RvcnMuXG4gICAgICogdmFyIGVsZW1lbnRzID0gXy5hdHRlbXB0KGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICogICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgICogfSwgJz5fPicpO1xuICAgICAqXG4gICAgICogaWYgKF8uaXNFcnJvcihlbGVtZW50cykpIHtcbiAgICAgKiAgIGVsZW1lbnRzID0gW107XG4gICAgICogfVxuICAgICAqL1xuICAgIHZhciBhdHRlbXB0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBpc0Vycm9yKGUpID8gZSA6IG5ldyBFcnJvcihlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEJpbmRzIG1ldGhvZHMgb2YgYW4gb2JqZWN0IHRvIHRoZSBvYmplY3QgaXRzZWxmLCBvdmVyd3JpdGluZyB0aGUgZXhpc3RpbmdcbiAgICAgKiBtZXRob2QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgYm91bmQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmluZCBhbmQgYXNzaWduIHRoZSBib3VuZCBtZXRob2RzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IG1ldGhvZE5hbWVzIFRoZSBvYmplY3QgbWV0aG9kIG5hbWVzIHRvIGJpbmQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHZpZXcgPSB7XG4gICAgICogICAnbGFiZWwnOiAnZG9jcycsXG4gICAgICogICAnY2xpY2snOiBmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ2NsaWNrZWQgJyArIHRoaXMubGFiZWwpO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmJpbmRBbGwodmlldywgWydjbGljayddKTtcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdmlldy5jbGljayk7XG4gICAgICogLy8gPT4gTG9ncyAnY2xpY2tlZCBkb2NzJyB3aGVuIGNsaWNrZWQuXG4gICAgICovXG4gICAgdmFyIGJpbmRBbGwgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIG1ldGhvZE5hbWVzKSB7XG4gICAgICBhcnJheUVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBrZXkgPSB0b0tleShrZXkpO1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIGJpbmQob2JqZWN0W2tleV0sIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXRlcmF0ZXMgb3ZlciBgcGFpcnNgIGFuZCBpbnZva2VzIHRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogZnVuY3Rpb24gb2YgdGhlIGZpcnN0IHByZWRpY2F0ZSB0byByZXR1cm4gdHJ1dGh5LiBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uXG4gICAgICogcGFpcnMgYXJlIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZFxuICAgICAqIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlycyBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uIHBhaXJzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLmNvbmQoW1xuICAgICAqICAgW18ubWF0Y2hlcyh7ICdhJzogMSB9KSwgICAgICAgICAgIF8uY29uc3RhbnQoJ21hdGNoZXMgQScpXSxcbiAgICAgKiAgIFtfLmNvbmZvcm1zKHsgJ2InOiBfLmlzTnVtYmVyIH0pLCBfLmNvbnN0YW50KCdtYXRjaGVzIEInKV0sXG4gICAgICogICBbXy5zdHViVHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgXy5jb25zdGFudCgnbm8gbWF0Y2gnKV1cbiAgICAgKiBdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiAnbWF0Y2hlcyBBJ1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogMCwgJ2InOiAxIH0pO1xuICAgICAqIC8vID0+ICdtYXRjaGVzIEInXG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAnMScsICdiJzogJzInIH0pO1xuICAgICAqIC8vID0+ICdubyBtYXRjaCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25kKHBhaXJzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgdG9JdGVyYXRlZSA9IGdldEl0ZXJhdGVlKCk7XG5cbiAgICAgIHBhaXJzID0gIWxlbmd0aCA/IFtdIDogYXJyYXlNYXAocGFpcnMsIGZ1bmN0aW9uKHBhaXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYWlyWzFdICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0b0l0ZXJhdGVlKHBhaXJbMF0pLCBwYWlyWzFdXTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2luZGV4XTtcbiAgICAgICAgICBpZiAoYXBwbHkocGFpclswXSwgdGhpcywgYXJncykpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseShwYWlyWzFdLCB0aGlzLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIHByZWRpY2F0ZSBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGhcbiAgICAgKiB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB2YWx1ZXMgb2YgYSBnaXZlbiBvYmplY3QsIHJldHVybmluZyBgdHJ1ZWAgaWZcbiAgICAgKiBhbGwgcHJlZGljYXRlcyByZXR1cm4gdHJ1dGh5LCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNyZWF0ZWQgZnVuY3Rpb24gaXMgZXF1aXZhbGVudCB0byBgXy5jb25mb3Jtc1RvYCB3aXRoXG4gICAgICogYHNvdXJjZWAgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMiwgJ2InOiAxIH0sXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5jb25mb3Jtcyh7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSkpO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSwgJ2InOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXMoc291cmNlKSB7XG4gICAgICByZXR1cm4gYmFzZUNvbmZvcm1zKGJhc2VDbG9uZShzb3VyY2UsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb25zdGFudCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uY29uc3RhbnQoeyAnYSc6IDEgfSkpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxIH0sIHsgJ2EnOiAxIH1dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgYHZhbHVlYCB0byBkZXRlcm1pbmUgd2hldGhlciBhIGRlZmF1bHQgdmFsdWUgc2hvdWxkIGJlIHJldHVybmVkIGluXG4gICAgICogaXRzIHBsYWNlLiBUaGUgYGRlZmF1bHRWYWx1ZWAgaXMgcmV0dXJuZWQgaWYgYHZhbHVlYCBpcyBgTmFOYCwgYG51bGxgLFxuICAgICAqIG9yIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHsqfSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRUbygxLCAxMCk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0VG8odW5kZWZpbmVkLCAxMCk7XG4gICAgICogLy8gPT4gMTBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWZhdWx0VG8odmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZSkgPyBkZWZhdWx0VmFsdWUgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSByZXN1bHQgb2YgaW52b2tpbmcgdGhlIGdpdmVuIGZ1bmN0aW9uc1xuICAgICAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGVyZSBlYWNoIHN1Y2Nlc3NpdmVcbiAgICAgKiBpbnZvY2F0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2Z1bmNzXSBUaGUgZnVuY3Rpb25zIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gICAgICogQHNlZSBfLmZsb3dSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3coW18uYWRkLCBzcXVhcmVdKTtcbiAgICAgKiBhZGRTcXVhcmUoMSwgMik7XG4gICAgICogLy8gPT4gOVxuICAgICAqL1xuICAgIHZhciBmbG93ID0gY3JlYXRlRmxvdygpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbG93YCBleGNlcHQgdGhhdCBpdCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdFxuICAgICAqIGludm9rZXMgdGhlIGdpdmVuIGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbZnVuY3NdIFRoZSBmdW5jdGlvbnMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAc2VlIF8uZmxvd1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3dSaWdodChbc3F1YXJlLCBfLmFkZF0pO1xuICAgICAqIGFkZFNxdWFyZSgxLCAyKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICovXG4gICAgdmFyIGZsb3dSaWdodCA9IGNyZWF0ZUZsb3codHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBmaXJzdCBhcmd1bWVudCBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBBbnkgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhfLmlkZW50aXR5KG9iamVjdCkgPT09IG9iamVjdCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkXG4gICAgICogZnVuY3Rpb24uIElmIGBmdW5jYCBpcyBhIHByb3BlcnR5IG5hbWUsIHRoZSBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybnMgdGhlXG4gICAgICogcHJvcGVydHkgdmFsdWUgZm9yIGEgZ2l2ZW4gZWxlbWVudC4gSWYgYGZ1bmNgIGlzIGFuIGFycmF5IG9yIG9iamVjdCwgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBjb250YWluIHRoZSBlcXVpdmFsZW50XG4gICAgICogc291cmNlIHByb3BlcnRpZXMsIG90aGVyd2lzZSBpdCByZXR1cm5zIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gW2Z1bmM9Xy5pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYSBjYWxsYmFjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNhbGxiYWNrLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLml0ZXJhdGVlKHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSkpO1xuICAgICAqIC8vID0+IFt7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgXy5pdGVyYXRlZShbJ3VzZXInLCAnZnJlZCddKSk7XG4gICAgICogLy8gPT4gW3sgJ3VzZXInOiAnZnJlZCcsICdhZ2UnOiA0MCB9XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsIF8uaXRlcmF0ZWUoJ3VzZXInKSk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBDcmVhdGUgY3VzdG9tIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICogXy5pdGVyYXRlZSA9IF8ud3JhcChfLml0ZXJhdGVlLCBmdW5jdGlvbihpdGVyYXRlZSwgZnVuYykge1xuICAgICAqICAgcmV0dXJuICFfLmlzUmVnRXhwKGZ1bmMpID8gaXRlcmF0ZWUoZnVuYykgOiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgKiAgICAgcmV0dXJuIGZ1bmMudGVzdChzdHJpbmcpO1xuICAgICAqICAgfTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKFsnYWJjJywgJ2RlZiddLCAvZWYvKTtcbiAgICAgKiAvLyA9PiBbJ2RlZiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXRlcmF0ZWUoZnVuYykge1xuICAgICAgcmV0dXJuIGJhc2VJdGVyYXRlZSh0eXBlb2YgZnVuYyA9PSAnZnVuY3Rpb24nID8gZnVuYyA6IGJhc2VDbG9uZShmdW5jLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gYSBnaXZlblxuICAgICAqIG9iamVjdCBhbmQgYHNvdXJjZWAsIHJldHVybmluZyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIG9iamVjdCBoYXMgZXF1aXZhbGVudFxuICAgICAqIHByb3BlcnR5IHZhbHVlcywgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoZSBjcmVhdGVkIGZ1bmN0aW9uIGlzIGVxdWl2YWxlbnQgdG8gYF8uaXNNYXRjaGAgd2l0aCBgc291cmNlYFxuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3QgYHNvdXJjZWBcbiAgICAgKiB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZSBgXy5pc0VxdWFsYFxuICAgICAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sXG4gICAgICogICB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLm1hdGNoZXMoeyAnYSc6IDQsICdjJzogNiB9KSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXMoc291cmNlKSB7XG4gICAgICByZXR1cm4gYmFzZU1hdGNoZXMoYmFzZUNsb25lKHNvdXJjZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHRoZVxuICAgICAqIHZhbHVlIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdCB0byBgc3JjVmFsdWVgLCByZXR1cm5pbmcgYHRydWVgIGlmIHRoZVxuICAgICAqIG9iamVjdCB2YWx1ZSBpcyBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3RcbiAgICAgKiBgc3JjVmFsdWVgIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlXG4gICAgICogYF8uaXNFcXVhbGAgZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgdmFsdWUgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSxcbiAgICAgKiAgIHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZChvYmplY3RzLCBfLm1hdGNoZXNQcm9wZXJ0eSgnYScsIDQpKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXNQcm9wZXJ0eShwYXRoLCBzcmNWYWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VNYXRjaGVzUHJvcGVydHkocGF0aCwgYmFzZUNsb25lKHNyY1ZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGEgZ2l2ZW4gb2JqZWN0LlxuICAgICAqIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52b2tlciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogeyAnYic6IF8uY29uc3RhbnQoMikgfSB9LFxuICAgICAqICAgeyAnYSc6IHsgJ2InOiBfLmNvbnN0YW50KDEpIH0gfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLm1hcChvYmplY3RzLCBfLm1ldGhvZCgnYS5iJykpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5tZXRob2QoWydhJywgJ2InXSkpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIHZhciBtZXRob2QgPSBiYXNlUmVzdChmdW5jdGlvbihwYXRoLCBhcmdzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52b2tlKG9iamVjdCwgcGF0aCwgYXJncyk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLm1ldGhvZGA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXNcbiAgICAgKiB0aGUgbWV0aG9kIGF0IGEgZ2l2ZW4gcGF0aCBvZiBgb2JqZWN0YC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZVxuICAgICAqIHByb3ZpZGVkIHRvIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZva2VyIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBfLnRpbWVzKDMsIF8uY29uc3RhbnQpLFxuICAgICAqICAgICBvYmplY3QgPSB7ICdhJzogYXJyYXksICdiJzogYXJyYXksICdjJzogYXJyYXkgfTtcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnYVsyXScsICdjWzBdJ10sIF8ubWV0aG9kT2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICpcbiAgICAgKiBfLm1hcChbWydhJywgJzInXSwgWydjJywgJzAnXV0sIF8ubWV0aG9kT2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICovXG4gICAgdmFyIG1ldGhvZE9mID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBhcmdzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYWxsIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBmdW5jdGlvbiBwcm9wZXJ0aWVzIG9mIGEgc291cmNlXG4gICAgICogb2JqZWN0IHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QuIElmIGBvYmplY3RgIGlzIGEgZnVuY3Rpb24sIHRoZW4gbWV0aG9kc1xuICAgICAqIGFyZSBhZGRlZCB0byBpdHMgcHJvdG90eXBlIGFzIHdlbGwuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVXNlIGBfLnJ1bkluQ29udGV4dGAgdG8gY3JlYXRlIGEgcHJpc3RpbmUgYGxvZGFzaGAgZnVuY3Rpb24gdG9cbiAgICAgKiBhdm9pZCBjb25mbGljdHMgY2F1c2VkIGJ5IG1vZGlmeWluZyB0aGUgb3JpZ2luYWwuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fSBbb2JqZWN0PWxvZGFzaF0gVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgZnVuY3Rpb25zIHRvIGFkZC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoYWluPXRydWVdIFNwZWNpZnkgd2hldGhlciBtaXhpbnMgYXJlIGNoYWluYWJsZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb258T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiB2b3dlbHMoc3RyaW5nKSB7XG4gICAgICogICByZXR1cm4gXy5maWx0ZXIoc3RyaW5nLCBmdW5jdGlvbih2KSB7XG4gICAgICogICAgIHJldHVybiAvW2FlaW91XS9pLnRlc3Qodik7XG4gICAgICogICB9KTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLm1peGluKHsgJ3Zvd2Vscyc6IHZvd2VscyB9KTtcbiAgICAgKiBfLnZvd2VscygnZnJlZCcpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICpcbiAgICAgKiBfKCdmcmVkJykudm93ZWxzKCkudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqXG4gICAgICogXy5taXhpbih7ICd2b3dlbHMnOiB2b3dlbHMgfSwgeyAnY2hhaW4nOiBmYWxzZSB9KTtcbiAgICAgKiBfKCdmcmVkJykudm93ZWxzKCk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaXhpbihvYmplY3QsIHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgdmFyIHByb3BzID0ga2V5cyhzb3VyY2UpLFxuICAgICAgICAgIG1ldGhvZE5hbWVzID0gYmFzZUZ1bmN0aW9ucyhzb3VyY2UsIHByb3BzKTtcblxuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCAmJlxuICAgICAgICAgICEoaXNPYmplY3Qoc291cmNlKSAmJiAobWV0aG9kTmFtZXMubGVuZ3RoIHx8ICFwcm9wcy5sZW5ndGgpKSkge1xuICAgICAgICBvcHRpb25zID0gc291cmNlO1xuICAgICAgICBzb3VyY2UgPSBvYmplY3Q7XG4gICAgICAgIG9iamVjdCA9IHRoaXM7XG4gICAgICAgIG1ldGhvZE5hbWVzID0gYmFzZUZ1bmN0aW9ucyhzb3VyY2UsIGtleXMoc291cmNlKSk7XG4gICAgICB9XG4gICAgICB2YXIgY2hhaW4gPSAhKGlzT2JqZWN0KG9wdGlvbnMpICYmICdjaGFpbicgaW4gb3B0aW9ucykgfHwgISFvcHRpb25zLmNoYWluLFxuICAgICAgICAgIGlzRnVuYyA9IGlzRnVuY3Rpb24ob2JqZWN0KTtcblxuICAgICAgYXJyYXlFYWNoKG1ldGhvZE5hbWVzLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICAgIHZhciBmdW5jID0gc291cmNlW21ldGhvZE5hbWVdO1xuICAgICAgICBvYmplY3RbbWV0aG9kTmFtZV0gPSBmdW5jO1xuICAgICAgICBpZiAoaXNGdW5jKSB7XG4gICAgICAgICAgb2JqZWN0LnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX187XG4gICAgICAgICAgICBpZiAoY2hhaW4gfHwgY2hhaW5BbGwpIHtcbiAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG9iamVjdCh0aGlzLl9fd3JhcHBlZF9fKSxcbiAgICAgICAgICAgICAgICAgIGFjdGlvbnMgPSByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkodGhpcy5fX2FjdGlvbnNfXyk7XG5cbiAgICAgICAgICAgICAgYWN0aW9ucy5wdXNoKHsgJ2Z1bmMnOiBmdW5jLCAnYXJncyc6IGFyZ3VtZW50cywgJ3RoaXNBcmcnOiBvYmplY3QgfSk7XG4gICAgICAgICAgICAgIHJlc3VsdC5fX2NoYWluX18gPSBjaGFpbkFsbDtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KG9iamVjdCwgYXJyYXlQdXNoKFt0aGlzLnZhbHVlKCldLCBhcmd1bWVudHMpKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnRzIHRoZSBgX2AgdmFyaWFibGUgdG8gaXRzIHByZXZpb3VzIHZhbHVlIGFuZCByZXR1cm5zIGEgcmVmZXJlbmNlIHRvXG4gICAgICogdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgbG9kYXNoID0gXy5ub0NvbmZsaWN0KCk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9Db25mbGljdCgpIHtcbiAgICAgIGlmIChyb290Ll8gPT09IHRoaXMpIHtcbiAgICAgICAgcm9vdC5fID0gb2xkRGFzaDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDIsIF8ubm9vcCk7XG4gICAgICogLy8gPT4gW3VuZGVmaW5lZCwgdW5kZWZpbmVkXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vb3AoKSB7XG4gICAgICAvLyBObyBvcGVyYXRpb24gcGVyZm9ybWVkLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGdldHMgdGhlIGFyZ3VtZW50IGF0IGluZGV4IGBuYC4gSWYgYG5gIGlzIG5lZ2F0aXZlLFxuICAgICAqIHRoZSBudGggYXJndW1lbnQgZnJvbSB0aGUgZW5kIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MF0gVGhlIGluZGV4IG9mIHRoZSBhcmd1bWVudCB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFzcy10aHJ1IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ubnRoQXJnKDEpO1xuICAgICAqIGZ1bmMoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiAnYidcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5udGhBcmcoLTIpO1xuICAgICAqIGZ1bmMoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiAnYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBudGhBcmcobikge1xuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHJldHVybiBiYXNlTnRoKGFyZ3MsIG4pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgaXRlcmF0ZWVzYCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXNcbiAgICAgKiBhbmQgcmV0dXJucyB0aGVpciByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlcihbTWF0aC5tYXgsIE1hdGgubWluXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKDEsIDIsIDMsIDQpO1xuICAgICAqIC8vID0+IFs0LCAxXVxuICAgICAqL1xuICAgIHZhciBvdmVyID0gY3JlYXRlT3ZlcihhcnJheU1hcCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgKiphbGwqKiBvZiB0aGUgYHByZWRpY2F0ZXNgIHJldHVyblxuICAgICAqIHRydXRoeSB3aGVuIGludm9rZWQgd2l0aCB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW3ByZWRpY2F0ZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgcHJlZGljYXRlcyB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXJFdmVyeShbQm9vbGVhbiwgaXNGaW5pdGVdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoJzEnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBmdW5jKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgb3ZlckV2ZXJ5ID0gY3JlYXRlT3ZlcihhcnJheUV2ZXJ5KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiAqKmFueSoqIG9mIHRoZSBgcHJlZGljYXRlc2AgcmV0dXJuXG4gICAgICogdHJ1dGh5IHdoZW4gaW52b2tlZCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlclNvbWUoW0Jvb2xlYW4sIGlzRmluaXRlXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKCcxJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogZnVuYyhudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgb3ZlclNvbWUgPSBjcmVhdGVPdmVyKGFycmF5U29tZSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IHsgJ2InOiAyIH0gfSxcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogMSB9IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5wcm9wZXJ0eSgnYS5iJykpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqXG4gICAgICogXy5tYXAoXy5zb3J0Qnkob2JqZWN0cywgXy5wcm9wZXJ0eShbJ2EnLCAnYiddKSksICdhLmInKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wZXJ0eShwYXRoKSB7XG4gICAgICByZXR1cm4gaXNLZXkocGF0aCkgPyBiYXNlUHJvcGVydHkodG9LZXkocGF0aCkpIDogYmFzZVByb3BlcnR5RGVlcChwYXRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucHJvcGVydHlgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zXG4gICAgICogdGhlIHZhbHVlIGF0IGEgZ2l2ZW4gcGF0aCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMCwgMSwgMl0sXG4gICAgICogICAgIG9iamVjdCA9IHsgJ2EnOiBhcnJheSwgJ2InOiBhcnJheSwgJ2MnOiBhcnJheSB9O1xuICAgICAqXG4gICAgICogXy5tYXAoWydhWzJdJywgJ2NbMF0nXSwgXy5wcm9wZXJ0eU9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqXG4gICAgICogXy5tYXAoW1snYScsICcyJ10sIFsnYycsICcwJ11dLCBfLnByb3BlcnR5T2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJvcGVydHlPZihvYmplY3QpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBudW1iZXJzIChwb3NpdGl2ZSBhbmQvb3IgbmVnYXRpdmUpIHByb2dyZXNzaW5nIGZyb21cbiAgICAgKiBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuIEEgc3RlcCBvZiBgLTFgIGlzIHVzZWQgaWYgYSBuZWdhdGl2ZVxuICAgICAqIGBzdGFydGAgaXMgc3BlY2lmaWVkIHdpdGhvdXQgYW4gYGVuZGAgb3IgYHN0ZXBgLiBJZiBgZW5kYCBpcyBub3Qgc3BlY2lmaWVkLFxuICAgICAqIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqIEBzZWUgXy5pblJhbmdlLCBfLnJhbmdlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5nZSg0KTtcbiAgICAgKiAvLyA9PiBbMCwgMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoLTQpO1xuICAgICAqIC8vID0+IFswLCAtMSwgLTIsIC0zXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgxLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFswLCA1LCAxMCwgMTVdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDQsIDApO1xuICAgICAqIC8vID0+IFsxLCAxLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIHZhciByYW5nZSA9IGNyZWF0ZVJhbmdlKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJhbmdlYCBleGNlcHQgdGhhdCBpdCBwb3B1bGF0ZXMgdmFsdWVzIGluXG4gICAgICogZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGVwPTFdIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKiBAc2VlIF8uaW5SYW5nZSwgXy5yYW5nZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoNCk7XG4gICAgICogLy8gPT4gWzMsIDIsIDEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoLTQpO1xuICAgICAqIC8vID0+IFstMywgLTIsIC0xLCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDEsIDUpO1xuICAgICAqIC8vID0+IFs0LCAzLCAyLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIDIwLCA1KTtcbiAgICAgKiAvLyA9PiBbMTUsIDEwLCA1LCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWy0zLCAtMiwgLTEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMSwgNCwgMCk7XG4gICAgICogLy8gPT4gWzEsIDEsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICB2YXIgcmFuZ2VSaWdodCA9IGNyZWF0ZVJhbmdlKHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXlzID0gXy50aW1lcygyLCBfLnN0dWJBcnJheSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXMpO1xuICAgICAqIC8vID0+IFtbXSwgW11dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXNbMF0gPT09IGFycmF5c1sxXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViQXJyYXkoKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gICAgICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5zdHViT2JqZWN0KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuICAgICAqIC8vID0+IFt7fSwge31dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJPYmplY3QoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlbXB0eSBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViU3RyaW5nKTtcbiAgICAgKiAvLyA9PiBbJycsICcnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJTdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViVHJ1ZSk7XG4gICAgICogLy8gPT4gW3RydWUsIHRydWVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YlRydWUoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBpdGVyYXRlZSBgbmAgdGltZXMsIHJldHVybmluZyBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZlxuICAgICAqIGVhY2ggaW52b2NhdGlvbi4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7IChpbmRleCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDMsIFN0cmluZyk7XG4gICAgICogLy8gPT4gWycwJywgJzEnLCAnMiddXG4gICAgICpcbiAgICAgKiAgXy50aW1lcyg0LCBfLmNvbnN0YW50KDApKTtcbiAgICAgKiAvLyA9PiBbMCwgMCwgMCwgMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aW1lcyhuLCBpdGVyYXRlZSkge1xuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIGlmIChuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBNQVhfQVJSQVlfTEVOR1RILFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihuLCBNQVhfQVJSQVlfTEVOR1RIKTtcblxuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSk7XG4gICAgICBuIC09IE1BWF9BUlJBWV9MRU5HVEg7XG5cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlVGltZXMobGVuZ3RoLCBpdGVyYXRlZSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgICAgaXRlcmF0ZWUoaW5kZXgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvUGF0aCgnYS5iLmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKlxuICAgICAqIF8udG9QYXRoKCdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IFsnYScsICcwJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9QYXRoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCB0b0tleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTeW1ib2wodmFsdWUpID8gW3ZhbHVlXSA6IGNvcHlBcnJheShzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgdW5pcXVlIElELiBJZiBgcHJlZml4YCBpcyBnaXZlbiwgdGhlIElEIGlzIGFwcGVuZGVkIHRvIGl0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ByZWZpeD0nJ10gVGhlIHZhbHVlIHRvIHByZWZpeCB0aGUgSUQgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmlxdWUgSUQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcXVlSWQoJ2NvbnRhY3RfJyk7XG4gICAgICogLy8gPT4gJ2NvbnRhY3RfMTA0J1xuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgpO1xuICAgICAqIC8vID0+ICcxMDUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcXVlSWQocHJlZml4KSB7XG4gICAgICB2YXIgaWQgPSArK2lkQ291bnRlcjtcbiAgICAgIHJldHVybiB0b1N0cmluZyhwcmVmaXgpICsgaWQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQWRkcyB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjQuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGF1Z2VuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGFuIGFkZGl0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhZGRlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYW4gYWRkaXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdG90YWwuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uYWRkKDYsIDQpO1xuICAgICAqIC8vID0+IDEwXG4gICAgICovXG4gICAgdmFyIGFkZCA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oYXVnZW5kLCBhZGRlbmQpIHtcbiAgICAgIHJldHVybiBhdWdlbmQgKyBhZGRlbmQ7XG4gICAgfSwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHVwIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kIHVwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdXAgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCB1cCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2VpbCg0LjAwNik7XG4gICAgICogLy8gPT4gNVxuICAgICAqXG4gICAgICogXy5jZWlsKDYuMDA0LCAyKTtcbiAgICAgKiAvLyA9PiA2LjAxXG4gICAgICpcbiAgICAgKiBfLmNlaWwoNjA0MCwgLTIpO1xuICAgICAqIC8vID0+IDYxMDBcbiAgICAgKi9cbiAgICB2YXIgY2VpbCA9IGNyZWF0ZVJvdW5kKCdjZWlsJyk7XG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGUgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXZpZGVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgZGl2aXNpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpdmlzb3IgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBkaXZpc2lvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBxdW90aWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaXZpZGUoNiwgNCk7XG4gICAgICogLy8gPT4gMS41XG4gICAgICovXG4gICAgdmFyIGRpdmlkZSA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oZGl2aWRlbmQsIGRpdmlzb3IpIHtcbiAgICAgIHJldHVybiBkaXZpZGVuZCAvIGRpdmlzb3I7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIGRvd24gdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQgZG93bi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj0wXSBUaGUgcHJlY2lzaW9uIHRvIHJvdW5kIGRvd24gdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBkb3duIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbG9vcig0LjAwNik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5mbG9vcigwLjA0NiwgMik7XG4gICAgICogLy8gPT4gMC4wNFxuICAgICAqXG4gICAgICogXy5mbG9vcig0MDYwLCAtMik7XG4gICAgICogLy8gPT4gNDAwMFxuICAgICAqL1xuICAgIHZhciBmbG9vciA9IGNyZWF0ZVJvdW5kKCdmbG9vcicpO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1heGltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1heGltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWF4KFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXgoW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heChhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUd0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1heGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1heEJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDIgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXhCeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXhCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlR3QpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBtZWFuIG9mIHRoZSB2YWx1ZXMgaW4gYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1lYW4oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVhbihhcnJheSkge1xuICAgICAgcmV0dXJuIGJhc2VNZWFuKGFycmF5LCBpZGVudGl0eSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZWFuYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgdG8gYmUgYXZlcmFnZWQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiA0IH0sIHsgJ24nOiAyIH0sIHsgJ24nOiA4IH0sIHsgJ24nOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5tZWFuQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1lYW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZWFuQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZU1lYW4oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1pbmltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1pbmltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWluKFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5taW4oW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbihhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUx0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1pbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWluaW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1pbkJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDEgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5taW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAxIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaW5CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlTHQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbXVsdGlwbGllciBUaGUgZmlyc3QgbnVtYmVyIGluIGEgbXVsdGlwbGljYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG11bHRpcGxpY2FuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhIG11bHRpcGxpY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHByb2R1Y3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubXVsdGlwbHkoNiwgNCk7XG4gICAgICogLy8gPT4gMjRcbiAgICAgKi9cbiAgICB2YXIgbXVsdGlwbHkgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG11bHRpcGxpZXIsIG11bHRpcGxpY2FuZCkge1xuICAgICAgcmV0dXJuIG11bHRpcGxpZXIgKiBtdWx0aXBsaWNhbmQ7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYsIDIpO1xuICAgICAqIC8vID0+IDQuMDFcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNDA2MCwgLTIpO1xuICAgICAqIC8vID0+IDQxMDBcbiAgICAgKi9cbiAgICB2YXIgcm91bmQgPSBjcmVhdGVSb3VuZCgncm91bmQnKTtcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWludWVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgc3VidHJhY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN1YnRyYWhlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBzdWJ0cmFjdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBkaWZmZXJlbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN1YnRyYWN0KDYsIDQpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICB2YXIgc3VidHJhY3QgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG1pbnVlbmQsIHN1YnRyYWhlbmQpIHtcbiAgICAgIHJldHVybiBtaW51ZW5kIC0gc3VidHJhaGVuZDtcbiAgICB9LCAwKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBzdW0gb2YgdGhlIHZhbHVlcyBpbiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdW0oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1bShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVN1bShhcnJheSwgaWRlbnRpdHkpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnN1bWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIHZhbHVlIHRvIGJlIHN1bW1lZC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogNCB9LCB7ICduJzogMiB9LCB7ICduJzogOCB9LCB7ICduJzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8uc3VtQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zdW1CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VtQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU3VtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0aGF0IHJldHVybiB3cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFmdGVyID0gYWZ0ZXI7XG4gICAgbG9kYXNoLmFyeSA9IGFyeTtcbiAgICBsb2Rhc2guYXNzaWduID0gYXNzaWduO1xuICAgIGxvZGFzaC5hc3NpZ25JbiA9IGFzc2lnbkluO1xuICAgIGxvZGFzaC5hc3NpZ25JbldpdGggPSBhc3NpZ25JbldpdGg7XG4gICAgbG9kYXNoLmFzc2lnbldpdGggPSBhc3NpZ25XaXRoO1xuICAgIGxvZGFzaC5hdCA9IGF0O1xuICAgIGxvZGFzaC5iZWZvcmUgPSBiZWZvcmU7XG4gICAgbG9kYXNoLmJpbmQgPSBiaW5kO1xuICAgIGxvZGFzaC5iaW5kQWxsID0gYmluZEFsbDtcbiAgICBsb2Rhc2guYmluZEtleSA9IGJpbmRLZXk7XG4gICAgbG9kYXNoLmNhc3RBcnJheSA9IGNhc3RBcnJheTtcbiAgICBsb2Rhc2guY2hhaW4gPSBjaGFpbjtcbiAgICBsb2Rhc2guY2h1bmsgPSBjaHVuaztcbiAgICBsb2Rhc2guY29tcGFjdCA9IGNvbXBhY3Q7XG4gICAgbG9kYXNoLmNvbmNhdCA9IGNvbmNhdDtcbiAgICBsb2Rhc2guY29uZCA9IGNvbmQ7XG4gICAgbG9kYXNoLmNvbmZvcm1zID0gY29uZm9ybXM7XG4gICAgbG9kYXNoLmNvbnN0YW50ID0gY29uc3RhbnQ7XG4gICAgbG9kYXNoLmNvdW50QnkgPSBjb3VudEJ5O1xuICAgIGxvZGFzaC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgbG9kYXNoLmN1cnJ5ID0gY3Vycnk7XG4gICAgbG9kYXNoLmN1cnJ5UmlnaHQgPSBjdXJyeVJpZ2h0O1xuICAgIGxvZGFzaC5kZWJvdW5jZSA9IGRlYm91bmNlO1xuICAgIGxvZGFzaC5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgIGxvZGFzaC5kZWZhdWx0c0RlZXAgPSBkZWZhdWx0c0RlZXA7XG4gICAgbG9kYXNoLmRlZmVyID0gZGVmZXI7XG4gICAgbG9kYXNoLmRlbGF5ID0gZGVsYXk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2UgPSBkaWZmZXJlbmNlO1xuICAgIGxvZGFzaC5kaWZmZXJlbmNlQnkgPSBkaWZmZXJlbmNlQnk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2VXaXRoID0gZGlmZmVyZW5jZVdpdGg7XG4gICAgbG9kYXNoLmRyb3AgPSBkcm9wO1xuICAgIGxvZGFzaC5kcm9wUmlnaHQgPSBkcm9wUmlnaHQ7XG4gICAgbG9kYXNoLmRyb3BSaWdodFdoaWxlID0gZHJvcFJpZ2h0V2hpbGU7XG4gICAgbG9kYXNoLmRyb3BXaGlsZSA9IGRyb3BXaGlsZTtcbiAgICBsb2Rhc2guZmlsbCA9IGZpbGw7XG4gICAgbG9kYXNoLmZpbHRlciA9IGZpbHRlcjtcbiAgICBsb2Rhc2guZmxhdE1hcCA9IGZsYXRNYXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZWVwID0gZmxhdE1hcERlZXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZXB0aCA9IGZsYXRNYXBEZXB0aDtcbiAgICBsb2Rhc2guZmxhdHRlbiA9IGZsYXR0ZW47XG4gICAgbG9kYXNoLmZsYXR0ZW5EZWVwID0gZmxhdHRlbkRlZXA7XG4gICAgbG9kYXNoLmZsYXR0ZW5EZXB0aCA9IGZsYXR0ZW5EZXB0aDtcbiAgICBsb2Rhc2guZmxpcCA9IGZsaXA7XG4gICAgbG9kYXNoLmZsb3cgPSBmbG93O1xuICAgIGxvZGFzaC5mbG93UmlnaHQgPSBmbG93UmlnaHQ7XG4gICAgbG9kYXNoLmZyb21QYWlycyA9IGZyb21QYWlycztcbiAgICBsb2Rhc2guZnVuY3Rpb25zID0gZnVuY3Rpb25zO1xuICAgIGxvZGFzaC5mdW5jdGlvbnNJbiA9IGZ1bmN0aW9uc0luO1xuICAgIGxvZGFzaC5ncm91cEJ5ID0gZ3JvdXBCeTtcbiAgICBsb2Rhc2guaW5pdGlhbCA9IGluaXRpYWw7XG4gICAgbG9kYXNoLmludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbjtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uQnkgPSBpbnRlcnNlY3Rpb25CeTtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uV2l0aCA9IGludGVyc2VjdGlvbldpdGg7XG4gICAgbG9kYXNoLmludmVydCA9IGludmVydDtcbiAgICBsb2Rhc2guaW52ZXJ0QnkgPSBpbnZlcnRCeTtcbiAgICBsb2Rhc2guaW52b2tlTWFwID0gaW52b2tlTWFwO1xuICAgIGxvZGFzaC5pdGVyYXRlZSA9IGl0ZXJhdGVlO1xuICAgIGxvZGFzaC5rZXlCeSA9IGtleUJ5O1xuICAgIGxvZGFzaC5rZXlzID0ga2V5cztcbiAgICBsb2Rhc2gua2V5c0luID0ga2V5c0luO1xuICAgIGxvZGFzaC5tYXAgPSBtYXA7XG4gICAgbG9kYXNoLm1hcEtleXMgPSBtYXBLZXlzO1xuICAgIGxvZGFzaC5tYXBWYWx1ZXMgPSBtYXBWYWx1ZXM7XG4gICAgbG9kYXNoLm1hdGNoZXMgPSBtYXRjaGVzO1xuICAgIGxvZGFzaC5tYXRjaGVzUHJvcGVydHkgPSBtYXRjaGVzUHJvcGVydHk7XG4gICAgbG9kYXNoLm1lbW9pemUgPSBtZW1vaXplO1xuICAgIGxvZGFzaC5tZXJnZSA9IG1lcmdlO1xuICAgIGxvZGFzaC5tZXJnZVdpdGggPSBtZXJnZVdpdGg7XG4gICAgbG9kYXNoLm1ldGhvZCA9IG1ldGhvZDtcbiAgICBsb2Rhc2gubWV0aG9kT2YgPSBtZXRob2RPZjtcbiAgICBsb2Rhc2gubWl4aW4gPSBtaXhpbjtcbiAgICBsb2Rhc2gubmVnYXRlID0gbmVnYXRlO1xuICAgIGxvZGFzaC5udGhBcmcgPSBudGhBcmc7XG4gICAgbG9kYXNoLm9taXQgPSBvbWl0O1xuICAgIGxvZGFzaC5vbWl0QnkgPSBvbWl0Qnk7XG4gICAgbG9kYXNoLm9uY2UgPSBvbmNlO1xuICAgIGxvZGFzaC5vcmRlckJ5ID0gb3JkZXJCeTtcbiAgICBsb2Rhc2gub3ZlciA9IG92ZXI7XG4gICAgbG9kYXNoLm92ZXJBcmdzID0gb3ZlckFyZ3M7XG4gICAgbG9kYXNoLm92ZXJFdmVyeSA9IG92ZXJFdmVyeTtcbiAgICBsb2Rhc2gub3ZlclNvbWUgPSBvdmVyU29tZTtcbiAgICBsb2Rhc2gucGFydGlhbCA9IHBhcnRpYWw7XG4gICAgbG9kYXNoLnBhcnRpYWxSaWdodCA9IHBhcnRpYWxSaWdodDtcbiAgICBsb2Rhc2gucGFydGl0aW9uID0gcGFydGl0aW9uO1xuICAgIGxvZGFzaC5waWNrID0gcGljaztcbiAgICBsb2Rhc2gucGlja0J5ID0gcGlja0J5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eU9mID0gcHJvcGVydHlPZjtcbiAgICBsb2Rhc2gucHVsbCA9IHB1bGw7XG4gICAgbG9kYXNoLnB1bGxBbGwgPSBwdWxsQWxsO1xuICAgIGxvZGFzaC5wdWxsQWxsQnkgPSBwdWxsQWxsQnk7XG4gICAgbG9kYXNoLnB1bGxBbGxXaXRoID0gcHVsbEFsbFdpdGg7XG4gICAgbG9kYXNoLnB1bGxBdCA9IHB1bGxBdDtcbiAgICBsb2Rhc2gucmFuZ2UgPSByYW5nZTtcbiAgICBsb2Rhc2gucmFuZ2VSaWdodCA9IHJhbmdlUmlnaHQ7XG4gICAgbG9kYXNoLnJlYXJnID0gcmVhcmc7XG4gICAgbG9kYXNoLnJlamVjdCA9IHJlamVjdDtcbiAgICBsb2Rhc2gucmVtb3ZlID0gcmVtb3ZlO1xuICAgIGxvZGFzaC5yZXN0ID0gcmVzdDtcbiAgICBsb2Rhc2gucmV2ZXJzZSA9IHJldmVyc2U7XG4gICAgbG9kYXNoLnNhbXBsZVNpemUgPSBzYW1wbGVTaXplO1xuICAgIGxvZGFzaC5zZXQgPSBzZXQ7XG4gICAgbG9kYXNoLnNldFdpdGggPSBzZXRXaXRoO1xuICAgIGxvZGFzaC5zaHVmZmxlID0gc2h1ZmZsZTtcbiAgICBsb2Rhc2guc2xpY2UgPSBzbGljZTtcbiAgICBsb2Rhc2guc29ydEJ5ID0gc29ydEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRVbmlxID0gc29ydGVkVW5pcTtcbiAgICBsb2Rhc2guc29ydGVkVW5pcUJ5ID0gc29ydGVkVW5pcUJ5O1xuICAgIGxvZGFzaC5zcGxpdCA9IHNwbGl0O1xuICAgIGxvZGFzaC5zcHJlYWQgPSBzcHJlYWQ7XG4gICAgbG9kYXNoLnRhaWwgPSB0YWlsO1xuICAgIGxvZGFzaC50YWtlID0gdGFrZTtcbiAgICBsb2Rhc2gudGFrZVJpZ2h0ID0gdGFrZVJpZ2h0O1xuICAgIGxvZGFzaC50YWtlUmlnaHRXaGlsZSA9IHRha2VSaWdodFdoaWxlO1xuICAgIGxvZGFzaC50YWtlV2hpbGUgPSB0YWtlV2hpbGU7XG4gICAgbG9kYXNoLnRhcCA9IHRhcDtcbiAgICBsb2Rhc2gudGhyb3R0bGUgPSB0aHJvdHRsZTtcbiAgICBsb2Rhc2gudGhydSA9IHRocnU7XG4gICAgbG9kYXNoLnRvQXJyYXkgPSB0b0FycmF5O1xuICAgIGxvZGFzaC50b1BhaXJzID0gdG9QYWlycztcbiAgICBsb2Rhc2gudG9QYWlyc0luID0gdG9QYWlyc0luO1xuICAgIGxvZGFzaC50b1BhdGggPSB0b1BhdGg7XG4gICAgbG9kYXNoLnRvUGxhaW5PYmplY3QgPSB0b1BsYWluT2JqZWN0O1xuICAgIGxvZGFzaC50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgbG9kYXNoLnVuYXJ5ID0gdW5hcnk7XG4gICAgbG9kYXNoLnVuaW9uID0gdW5pb247XG4gICAgbG9kYXNoLnVuaW9uQnkgPSB1bmlvbkJ5O1xuICAgIGxvZGFzaC51bmlvbldpdGggPSB1bmlvbldpdGg7XG4gICAgbG9kYXNoLnVuaXEgPSB1bmlxO1xuICAgIGxvZGFzaC51bmlxQnkgPSB1bmlxQnk7XG4gICAgbG9kYXNoLnVuaXFXaXRoID0gdW5pcVdpdGg7XG4gICAgbG9kYXNoLnVuc2V0ID0gdW5zZXQ7XG4gICAgbG9kYXNoLnVuemlwID0gdW56aXA7XG4gICAgbG9kYXNoLnVuemlwV2l0aCA9IHVuemlwV2l0aDtcbiAgICBsb2Rhc2gudXBkYXRlID0gdXBkYXRlO1xuICAgIGxvZGFzaC51cGRhdGVXaXRoID0gdXBkYXRlV2l0aDtcbiAgICBsb2Rhc2gudmFsdWVzID0gdmFsdWVzO1xuICAgIGxvZGFzaC52YWx1ZXNJbiA9IHZhbHVlc0luO1xuICAgIGxvZGFzaC53aXRob3V0ID0gd2l0aG91dDtcbiAgICBsb2Rhc2gud29yZHMgPSB3b3JkcztcbiAgICBsb2Rhc2gud3JhcCA9IHdyYXA7XG4gICAgbG9kYXNoLnhvciA9IHhvcjtcbiAgICBsb2Rhc2gueG9yQnkgPSB4b3JCeTtcbiAgICBsb2Rhc2gueG9yV2l0aCA9IHhvcldpdGg7XG4gICAgbG9kYXNoLnppcCA9IHppcDtcbiAgICBsb2Rhc2guemlwT2JqZWN0ID0gemlwT2JqZWN0O1xuICAgIGxvZGFzaC56aXBPYmplY3REZWVwID0gemlwT2JqZWN0RGVlcDtcbiAgICBsb2Rhc2guemlwV2l0aCA9IHppcFdpdGg7XG5cbiAgICAvLyBBZGQgYWxpYXNlcy5cbiAgICBsb2Rhc2guZW50cmllcyA9IHRvUGFpcnM7XG4gICAgbG9kYXNoLmVudHJpZXNJbiA9IHRvUGFpcnNJbjtcbiAgICBsb2Rhc2guZXh0ZW5kID0gYXNzaWduSW47XG4gICAgbG9kYXNoLmV4dGVuZFdpdGggPSBhc3NpZ25JbldpdGg7XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgbWl4aW4obG9kYXNoLCBsb2Rhc2gpO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdGhhdCByZXR1cm4gdW53cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFkZCA9IGFkZDtcbiAgICBsb2Rhc2guYXR0ZW1wdCA9IGF0dGVtcHQ7XG4gICAgbG9kYXNoLmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTtcbiAgICBsb2Rhc2guY2FwaXRhbGl6ZSA9IGNhcGl0YWxpemU7XG4gICAgbG9kYXNoLmNlaWwgPSBjZWlsO1xuICAgIGxvZGFzaC5jbGFtcCA9IGNsYW1wO1xuICAgIGxvZGFzaC5jbG9uZSA9IGNsb25lO1xuICAgIGxvZGFzaC5jbG9uZURlZXAgPSBjbG9uZURlZXA7XG4gICAgbG9kYXNoLmNsb25lRGVlcFdpdGggPSBjbG9uZURlZXBXaXRoO1xuICAgIGxvZGFzaC5jbG9uZVdpdGggPSBjbG9uZVdpdGg7XG4gICAgbG9kYXNoLmNvbmZvcm1zVG8gPSBjb25mb3Jtc1RvO1xuICAgIGxvZGFzaC5kZWJ1cnIgPSBkZWJ1cnI7XG4gICAgbG9kYXNoLmRlZmF1bHRUbyA9IGRlZmF1bHRUbztcbiAgICBsb2Rhc2guZGl2aWRlID0gZGl2aWRlO1xuICAgIGxvZGFzaC5lbmRzV2l0aCA9IGVuZHNXaXRoO1xuICAgIGxvZGFzaC5lcSA9IGVxO1xuICAgIGxvZGFzaC5lc2NhcGUgPSBlc2NhcGU7XG4gICAgbG9kYXNoLmVzY2FwZVJlZ0V4cCA9IGVzY2FwZVJlZ0V4cDtcbiAgICBsb2Rhc2guZXZlcnkgPSBldmVyeTtcbiAgICBsb2Rhc2guZmluZCA9IGZpbmQ7XG4gICAgbG9kYXNoLmZpbmRJbmRleCA9IGZpbmRJbmRleDtcbiAgICBsb2Rhc2guZmluZEtleSA9IGZpbmRLZXk7XG4gICAgbG9kYXNoLmZpbmRMYXN0ID0gZmluZExhc3Q7XG4gICAgbG9kYXNoLmZpbmRMYXN0SW5kZXggPSBmaW5kTGFzdEluZGV4O1xuICAgIGxvZGFzaC5maW5kTGFzdEtleSA9IGZpbmRMYXN0S2V5O1xuICAgIGxvZGFzaC5mbG9vciA9IGZsb29yO1xuICAgIGxvZGFzaC5mb3JFYWNoID0gZm9yRWFjaDtcbiAgICBsb2Rhc2guZm9yRWFjaFJpZ2h0ID0gZm9yRWFjaFJpZ2h0O1xuICAgIGxvZGFzaC5mb3JJbiA9IGZvckluO1xuICAgIGxvZGFzaC5mb3JJblJpZ2h0ID0gZm9ySW5SaWdodDtcbiAgICBsb2Rhc2guZm9yT3duID0gZm9yT3duO1xuICAgIGxvZGFzaC5mb3JPd25SaWdodCA9IGZvck93blJpZ2h0O1xuICAgIGxvZGFzaC5nZXQgPSBnZXQ7XG4gICAgbG9kYXNoLmd0ID0gZ3Q7XG4gICAgbG9kYXNoLmd0ZSA9IGd0ZTtcbiAgICBsb2Rhc2guaGFzID0gaGFzO1xuICAgIGxvZGFzaC5oYXNJbiA9IGhhc0luO1xuICAgIGxvZGFzaC5oZWFkID0gaGVhZDtcbiAgICBsb2Rhc2guaWRlbnRpdHkgPSBpZGVudGl0eTtcbiAgICBsb2Rhc2guaW5jbHVkZXMgPSBpbmNsdWRlcztcbiAgICBsb2Rhc2guaW5kZXhPZiA9IGluZGV4T2Y7XG4gICAgbG9kYXNoLmluUmFuZ2UgPSBpblJhbmdlO1xuICAgIGxvZGFzaC5pbnZva2UgPSBpbnZva2U7XG4gICAgbG9kYXNoLmlzQXJndW1lbnRzID0gaXNBcmd1bWVudHM7XG4gICAgbG9kYXNoLmlzQXJyYXkgPSBpc0FycmF5O1xuICAgIGxvZGFzaC5pc0FycmF5QnVmZmVyID0gaXNBcnJheUJ1ZmZlcjtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2UgPSBpc0FycmF5TGlrZTtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2VPYmplY3QgPSBpc0FycmF5TGlrZU9iamVjdDtcbiAgICBsb2Rhc2guaXNCb29sZWFuID0gaXNCb29sZWFuO1xuICAgIGxvZGFzaC5pc0J1ZmZlciA9IGlzQnVmZmVyO1xuICAgIGxvZGFzaC5pc0RhdGUgPSBpc0RhdGU7XG4gICAgbG9kYXNoLmlzRWxlbWVudCA9IGlzRWxlbWVudDtcbiAgICBsb2Rhc2guaXNFbXB0eSA9IGlzRW1wdHk7XG4gICAgbG9kYXNoLmlzRXF1YWwgPSBpc0VxdWFsO1xuICAgIGxvZGFzaC5pc0VxdWFsV2l0aCA9IGlzRXF1YWxXaXRoO1xuICAgIGxvZGFzaC5pc0Vycm9yID0gaXNFcnJvcjtcbiAgICBsb2Rhc2guaXNGaW5pdGUgPSBpc0Zpbml0ZTtcbiAgICBsb2Rhc2guaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG4gICAgbG9kYXNoLmlzSW50ZWdlciA9IGlzSW50ZWdlcjtcbiAgICBsb2Rhc2guaXNMZW5ndGggPSBpc0xlbmd0aDtcbiAgICBsb2Rhc2guaXNNYXAgPSBpc01hcDtcbiAgICBsb2Rhc2guaXNNYXRjaCA9IGlzTWF0Y2g7XG4gICAgbG9kYXNoLmlzTWF0Y2hXaXRoID0gaXNNYXRjaFdpdGg7XG4gICAgbG9kYXNoLmlzTmFOID0gaXNOYU47XG4gICAgbG9kYXNoLmlzTmF0aXZlID0gaXNOYXRpdmU7XG4gICAgbG9kYXNoLmlzTmlsID0gaXNOaWw7XG4gICAgbG9kYXNoLmlzTnVsbCA9IGlzTnVsbDtcbiAgICBsb2Rhc2guaXNOdW1iZXIgPSBpc051bWJlcjtcbiAgICBsb2Rhc2guaXNPYmplY3QgPSBpc09iamVjdDtcbiAgICBsb2Rhc2guaXNPYmplY3RMaWtlID0gaXNPYmplY3RMaWtlO1xuICAgIGxvZGFzaC5pc1BsYWluT2JqZWN0ID0gaXNQbGFpbk9iamVjdDtcbiAgICBsb2Rhc2guaXNSZWdFeHAgPSBpc1JlZ0V4cDtcbiAgICBsb2Rhc2guaXNTYWZlSW50ZWdlciA9IGlzU2FmZUludGVnZXI7XG4gICAgbG9kYXNoLmlzU2V0ID0gaXNTZXQ7XG4gICAgbG9kYXNoLmlzU3RyaW5nID0gaXNTdHJpbmc7XG4gICAgbG9kYXNoLmlzU3ltYm9sID0gaXNTeW1ib2w7XG4gICAgbG9kYXNoLmlzVHlwZWRBcnJheSA9IGlzVHlwZWRBcnJheTtcbiAgICBsb2Rhc2guaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcbiAgICBsb2Rhc2guaXNXZWFrTWFwID0gaXNXZWFrTWFwO1xuICAgIGxvZGFzaC5pc1dlYWtTZXQgPSBpc1dlYWtTZXQ7XG4gICAgbG9kYXNoLmpvaW4gPSBqb2luO1xuICAgIGxvZGFzaC5rZWJhYkNhc2UgPSBrZWJhYkNhc2U7XG4gICAgbG9kYXNoLmxhc3QgPSBsYXN0O1xuICAgIGxvZGFzaC5sYXN0SW5kZXhPZiA9IGxhc3RJbmRleE9mO1xuICAgIGxvZGFzaC5sb3dlckNhc2UgPSBsb3dlckNhc2U7XG4gICAgbG9kYXNoLmxvd2VyRmlyc3QgPSBsb3dlckZpcnN0O1xuICAgIGxvZGFzaC5sdCA9IGx0O1xuICAgIGxvZGFzaC5sdGUgPSBsdGU7XG4gICAgbG9kYXNoLm1heCA9IG1heDtcbiAgICBsb2Rhc2gubWF4QnkgPSBtYXhCeTtcbiAgICBsb2Rhc2gubWVhbiA9IG1lYW47XG4gICAgbG9kYXNoLm1lYW5CeSA9IG1lYW5CeTtcbiAgICBsb2Rhc2gubWluID0gbWluO1xuICAgIGxvZGFzaC5taW5CeSA9IG1pbkJ5O1xuICAgIGxvZGFzaC5zdHViQXJyYXkgPSBzdHViQXJyYXk7XG4gICAgbG9kYXNoLnN0dWJGYWxzZSA9IHN0dWJGYWxzZTtcbiAgICBsb2Rhc2guc3R1Yk9iamVjdCA9IHN0dWJPYmplY3Q7XG4gICAgbG9kYXNoLnN0dWJTdHJpbmcgPSBzdHViU3RyaW5nO1xuICAgIGxvZGFzaC5zdHViVHJ1ZSA9IHN0dWJUcnVlO1xuICAgIGxvZGFzaC5tdWx0aXBseSA9IG11bHRpcGx5O1xuICAgIGxvZGFzaC5udGggPSBudGg7XG4gICAgbG9kYXNoLm5vQ29uZmxpY3QgPSBub0NvbmZsaWN0O1xuICAgIGxvZGFzaC5ub29wID0gbm9vcDtcbiAgICBsb2Rhc2gubm93ID0gbm93O1xuICAgIGxvZGFzaC5wYWQgPSBwYWQ7XG4gICAgbG9kYXNoLnBhZEVuZCA9IHBhZEVuZDtcbiAgICBsb2Rhc2gucGFkU3RhcnQgPSBwYWRTdGFydDtcbiAgICBsb2Rhc2gucGFyc2VJbnQgPSBwYXJzZUludDtcbiAgICBsb2Rhc2gucmFuZG9tID0gcmFuZG9tO1xuICAgIGxvZGFzaC5yZWR1Y2UgPSByZWR1Y2U7XG4gICAgbG9kYXNoLnJlZHVjZVJpZ2h0ID0gcmVkdWNlUmlnaHQ7XG4gICAgbG9kYXNoLnJlcGVhdCA9IHJlcGVhdDtcbiAgICBsb2Rhc2gucmVwbGFjZSA9IHJlcGxhY2U7XG4gICAgbG9kYXNoLnJlc3VsdCA9IHJlc3VsdDtcbiAgICBsb2Rhc2gucm91bmQgPSByb3VuZDtcbiAgICBsb2Rhc2gucnVuSW5Db250ZXh0ID0gcnVuSW5Db250ZXh0O1xuICAgIGxvZGFzaC5zYW1wbGUgPSBzYW1wbGU7XG4gICAgbG9kYXNoLnNpemUgPSBzaXplO1xuICAgIGxvZGFzaC5zbmFrZUNhc2UgPSBzbmFrZUNhc2U7XG4gICAgbG9kYXNoLnNvbWUgPSBzb21lO1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleCA9IHNvcnRlZEluZGV4O1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleEJ5ID0gc29ydGVkSW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkSW5kZXhPZiA9IHNvcnRlZEluZGV4T2Y7XG4gICAgbG9kYXNoLnNvcnRlZExhc3RJbmRleCA9IHNvcnRlZExhc3RJbmRleDtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4QnkgPSBzb3J0ZWRMYXN0SW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4T2YgPSBzb3J0ZWRMYXN0SW5kZXhPZjtcbiAgICBsb2Rhc2guc3RhcnRDYXNlID0gc3RhcnRDYXNlO1xuICAgIGxvZGFzaC5zdGFydHNXaXRoID0gc3RhcnRzV2l0aDtcbiAgICBsb2Rhc2guc3VidHJhY3QgPSBzdWJ0cmFjdDtcbiAgICBsb2Rhc2guc3VtID0gc3VtO1xuICAgIGxvZGFzaC5zdW1CeSA9IHN1bUJ5O1xuICAgIGxvZGFzaC50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgIGxvZGFzaC50aW1lcyA9IHRpbWVzO1xuICAgIGxvZGFzaC50b0Zpbml0ZSA9IHRvRmluaXRlO1xuICAgIGxvZGFzaC50b0ludGVnZXIgPSB0b0ludGVnZXI7XG4gICAgbG9kYXNoLnRvTGVuZ3RoID0gdG9MZW5ndGg7XG4gICAgbG9kYXNoLnRvTG93ZXIgPSB0b0xvd2VyO1xuICAgIGxvZGFzaC50b051bWJlciA9IHRvTnVtYmVyO1xuICAgIGxvZGFzaC50b1NhZmVJbnRlZ2VyID0gdG9TYWZlSW50ZWdlcjtcbiAgICBsb2Rhc2gudG9TdHJpbmcgPSB0b1N0cmluZztcbiAgICBsb2Rhc2gudG9VcHBlciA9IHRvVXBwZXI7XG4gICAgbG9kYXNoLnRyaW0gPSB0cmltO1xuICAgIGxvZGFzaC50cmltRW5kID0gdHJpbUVuZDtcbiAgICBsb2Rhc2gudHJpbVN0YXJ0ID0gdHJpbVN0YXJ0O1xuICAgIGxvZGFzaC50cnVuY2F0ZSA9IHRydW5jYXRlO1xuICAgIGxvZGFzaC51bmVzY2FwZSA9IHVuZXNjYXBlO1xuICAgIGxvZGFzaC51bmlxdWVJZCA9IHVuaXF1ZUlkO1xuICAgIGxvZGFzaC51cHBlckNhc2UgPSB1cHBlckNhc2U7XG4gICAgbG9kYXNoLnVwcGVyRmlyc3QgPSB1cHBlckZpcnN0O1xuXG4gICAgLy8gQWRkIGFsaWFzZXMuXG4gICAgbG9kYXNoLmVhY2ggPSBmb3JFYWNoO1xuICAgIGxvZGFzaC5lYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG4gICAgbG9kYXNoLmZpcnN0ID0gaGVhZDtcblxuICAgIG1peGluKGxvZGFzaCwgKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHt9O1xuICAgICAgYmFzZUZvck93bihsb2Rhc2gsIGZ1bmN0aW9uKGZ1bmMsIG1ldGhvZE5hbWUpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaC5wcm90b3R5cGUsIG1ldGhvZE5hbWUpKSB7XG4gICAgICAgICAgc291cmNlW21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gc291cmNlO1xuICAgIH0oKSksIHsgJ2NoYWluJzogZmFsc2UgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIGxvZGFzaC5WRVJTSU9OID0gVkVSU0lPTjtcblxuICAgIC8vIEFzc2lnbiBkZWZhdWx0IHBsYWNlaG9sZGVycy5cbiAgICBhcnJheUVhY2goWydiaW5kJywgJ2JpbmRLZXknLCAnY3VycnknLCAnY3VycnlSaWdodCcsICdwYXJ0aWFsJywgJ3BhcnRpYWxSaWdodCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICBsb2Rhc2hbbWV0aG9kTmFtZV0ucGxhY2Vob2xkZXIgPSBsb2Rhc2g7XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5kcm9wYCBhbmQgYF8udGFrZWAgdmFyaWFudHMuXG4gICAgYXJyYXlFYWNoKFsnZHJvcCcsICd0YWtlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIG4gPSBuID09PSB1bmRlZmluZWQgPyAxIDogbmF0aXZlTWF4KHRvSW50ZWdlcihuKSwgMCk7XG5cbiAgICAgICAgdmFyIHJlc3VsdCA9ICh0aGlzLl9fZmlsdGVyZWRfXyAmJiAhaW5kZXgpXG4gICAgICAgICAgPyBuZXcgTGF6eVdyYXBwZXIodGhpcylcbiAgICAgICAgICA6IHRoaXMuY2xvbmUoKTtcblxuICAgICAgICBpZiAocmVzdWx0Ll9fZmlsdGVyZWRfXykge1xuICAgICAgICAgIHJlc3VsdC5fX3Rha2VDb3VudF9fID0gbmF0aXZlTWluKG4sIHJlc3VsdC5fX3Rha2VDb3VudF9fKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQuX192aWV3c19fLnB1c2goe1xuICAgICAgICAgICAgJ3NpemUnOiBuYXRpdmVNaW4obiwgTUFYX0FSUkFZX0xFTkdUSCksXG4gICAgICAgICAgICAndHlwZSc6IG1ldGhvZE5hbWUgKyAocmVzdWx0Ll9fZGlyX18gPCAwID8gJ1JpZ2h0JyA6ICcnKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZSArICdSaWdodCddID0gZnVuY3Rpb24obikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKClbbWV0aG9kTmFtZV0obikucmV2ZXJzZSgpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgdGhhdCBhY2NlcHQgYW4gYGl0ZXJhdGVlYCB2YWx1ZS5cbiAgICBhcnJheUVhY2goWydmaWx0ZXInLCAnbWFwJywgJ3Rha2VXaGlsZSddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIHR5cGUgPSBpbmRleCArIDEsXG4gICAgICAgICAgaXNGaWx0ZXIgPSB0eXBlID09IExBWllfRklMVEVSX0ZMQUcgfHwgdHlwZSA9PSBMQVpZX1dISUxFX0ZMQUc7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fLnB1c2goe1xuICAgICAgICAgICdpdGVyYXRlZSc6IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSxcbiAgICAgICAgICAndHlwZSc6IHR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSByZXN1bHQuX19maWx0ZXJlZF9fIHx8IGlzRmlsdGVyO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmhlYWRgIGFuZCBgXy5sYXN0YC5cbiAgICBhcnJheUVhY2goWydoZWFkJywgJ2xhc3QnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciB0YWtlTmFtZSA9ICd0YWtlJyArIChpbmRleCA/ICdSaWdodCcgOiAnJyk7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpc1t0YWtlTmFtZV0oMSkudmFsdWUoKVswXTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5pbml0aWFsYCBhbmQgYF8udGFpbGAuXG4gICAgYXJyYXlFYWNoKFsnaW5pdGlhbCcsICd0YWlsJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgZHJvcE5hbWUgPSAnZHJvcCcgKyAoaW5kZXggPyAnJyA6ICdSaWdodCcpO1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19maWx0ZXJlZF9fID8gbmV3IExhenlXcmFwcGVyKHRoaXMpIDogdGhpc1tkcm9wTmFtZV0oMSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbXBhY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihpZGVudGl0eSk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIocHJlZGljYXRlKS5oZWFkKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kTGFzdCA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLmZpbmQocHJlZGljYXRlKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmludm9rZU1hcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKHBhdGgsIGFyZ3MpIHtcbiAgICAgIGlmICh0eXBlb2YgcGF0aCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2UodmFsdWUsIHBhdGgsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUucmVqZWN0ID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIobmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0ludGVnZXIoc3RhcnQpO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcztcbiAgICAgIGlmIChyZXN1bHQuX19maWx0ZXJlZF9fICYmIChzdGFydCA+IDAgfHwgZW5kIDwgMCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5V3JhcHBlcihyZXN1bHQpO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQudGFrZVJpZ2h0KC1zdGFydCk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXJ0KSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5kcm9wKHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbmQgPSB0b0ludGVnZXIoZW5kKTtcbiAgICAgICAgcmVzdWx0ID0gZW5kIDwgMCA/IHJlc3VsdC5kcm9wUmlnaHQoLWVuZCkgOiByZXN1bHQudGFrZShlbmQgLSBzdGFydCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudGFrZVJpZ2h0V2hpbGUgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS50YWtlV2hpbGUocHJlZGljYXRlKS5yZXZlcnNlKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50YWtlKE1BWF9BUlJBWV9MRU5HVEgpO1xuICAgIH07XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGNoZWNrSXRlcmF0ZWUgPSAvXig/OmZpbHRlcnxmaW5kfG1hcHxyZWplY3QpfFdoaWxlJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBpc1Rha2VyID0gL14oPzpoZWFkfGxhc3QpJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBsb2Rhc2hGdW5jID0gbG9kYXNoW2lzVGFrZXIgPyAoJ3Rha2UnICsgKG1ldGhvZE5hbWUgPT0gJ2xhc3QnID8gJ1JpZ2h0JyA6ICcnKSkgOiBtZXRob2ROYW1lXSxcbiAgICAgICAgICByZXRVbndyYXBwZWQgPSBpc1Rha2VyIHx8IC9eZmluZC8udGVzdChtZXRob2ROYW1lKTtcblxuICAgICAgaWYgKCFsb2Rhc2hGdW5jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICAgIGFyZ3MgPSBpc1Rha2VyID8gWzFdIDogYXJndW1lbnRzLFxuICAgICAgICAgICAgaXNMYXp5ID0gdmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcixcbiAgICAgICAgICAgIGl0ZXJhdGVlID0gYXJnc1swXSxcbiAgICAgICAgICAgIHVzZUxhenkgPSBpc0xhenkgfHwgaXNBcnJheSh2YWx1ZSk7XG5cbiAgICAgICAgdmFyIGludGVyY2VwdG9yID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoRnVuYy5hcHBseShsb2Rhc2gsIGFycmF5UHVzaChbdmFsdWVdLCBhcmdzKSk7XG4gICAgICAgICAgcmV0dXJuIChpc1Rha2VyICYmIGNoYWluQWxsKSA/IHJlc3VsdFswXSA6IHJlc3VsdDtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodXNlTGF6eSAmJiBjaGVja0l0ZXJhdGVlICYmIHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nICYmIGl0ZXJhdGVlLmxlbmd0aCAhPSAxKSB7XG4gICAgICAgICAgLy8gQXZvaWQgbGF6eSB1c2UgaWYgdGhlIGl0ZXJhdGVlIGhhcyBhIFwibGVuZ3RoXCIgdmFsdWUgb3RoZXIgdGhhbiBgMWAuXG4gICAgICAgICAgaXNMYXp5ID0gdXNlTGF6eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fLFxuICAgICAgICAgICAgaXNIeWJyaWQgPSAhIXRoaXMuX19hY3Rpb25zX18ubGVuZ3RoLFxuICAgICAgICAgICAgaXNVbndyYXBwZWQgPSByZXRVbndyYXBwZWQgJiYgIWNoYWluQWxsLFxuICAgICAgICAgICAgb25seUxhenkgPSBpc0xhenkgJiYgIWlzSHlicmlkO1xuXG4gICAgICAgIGlmICghcmV0VW53cmFwcGVkICYmIHVzZUxhenkpIHtcbiAgICAgICAgICB2YWx1ZSA9IG9ubHlMYXp5ID8gdmFsdWUgOiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodmFsdWUsIGFyZ3MpO1xuICAgICAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXy5wdXNoKHsgJ2Z1bmMnOiB0aHJ1LCAnYXJncyc6IFtpbnRlcmNlcHRvcl0sICd0aGlzQXJnJzogdW5kZWZpbmVkIH0pO1xuICAgICAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcihyZXN1bHQsIGNoYWluQWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNVbndyYXBwZWQgJiYgb25seUxhenkpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuICAgICAgICByZXR1cm4gaXNVbndyYXBwZWQgPyAoaXNUYWtlciA/IHJlc3VsdC52YWx1ZSgpWzBdIDogcmVzdWx0LnZhbHVlKCkpIDogcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgQXJyYXlgIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIGFycmF5RWFjaChbJ3BvcCcsICdwdXNoJywgJ3NoaWZ0JywgJ3NvcnQnLCAnc3BsaWNlJywgJ3Vuc2hpZnQnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBhcnJheVByb3RvW21ldGhvZE5hbWVdLFxuICAgICAgICAgIGNoYWluTmFtZSA9IC9eKD86cHVzaHxzb3J0fHVuc2hpZnQpJC8udGVzdChtZXRob2ROYW1lKSA/ICd0YXAnIDogJ3RocnUnLFxuICAgICAgICAgIHJldFVud3JhcHBlZCA9IC9eKD86cG9wfHNoaWZ0KSQvLnRlc3QobWV0aG9kTmFtZSk7XG5cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIGlmIChyZXRVbndyYXBwZWQgJiYgIXRoaXMuX19jaGFpbl9fKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZSgpO1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNbY2hhaW5OYW1lXShmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIE1hcCBtaW5pZmllZCBtZXRob2QgbmFtZXMgdG8gdGhlaXIgcmVhbCBuYW1lcy5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGxvZGFzaEZ1bmMgPSBsb2Rhc2hbbWV0aG9kTmFtZV07XG4gICAgICBpZiAobG9kYXNoRnVuYykge1xuICAgICAgICB2YXIga2V5ID0gKGxvZGFzaEZ1bmMubmFtZSArICcnKSxcbiAgICAgICAgICAgIG5hbWVzID0gcmVhbE5hbWVzW2tleV0gfHwgKHJlYWxOYW1lc1trZXldID0gW10pO1xuXG4gICAgICAgIG5hbWVzLnB1c2goeyAnbmFtZSc6IG1ldGhvZE5hbWUsICdmdW5jJzogbG9kYXNoRnVuYyB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJlYWxOYW1lc1tjcmVhdGVIeWJyaWQodW5kZWZpbmVkLCBXUkFQX0JJTkRfS0VZX0ZMQUcpLm5hbWVdID0gW3tcbiAgICAgICduYW1lJzogJ3dyYXBwZXInLFxuICAgICAgJ2Z1bmMnOiB1bmRlZmluZWRcbiAgICB9XTtcblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBMYXp5V3JhcHBlcmAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNsb25lID0gbGF6eUNsb25lO1xuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5yZXZlcnNlID0gbGF6eVJldmVyc2U7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnZhbHVlID0gbGF6eVZhbHVlO1xuXG4gICAgLy8gQWRkIGNoYWluIHNlcXVlbmNlIG1ldGhvZHMgdG8gdGhlIGBsb2Rhc2hgIHdyYXBwZXIuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5hdCA9IHdyYXBwZXJBdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNoYWluID0gd3JhcHBlckNoYWluO1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY29tbWl0ID0gd3JhcHBlckNvbW1pdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLm5leHQgPSB3cmFwcGVyTmV4dDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLnBsYW50ID0gd3JhcHBlclBsYW50O1xuICAgIGxvZGFzaC5wcm90b3R5cGUucmV2ZXJzZSA9IHdyYXBwZXJSZXZlcnNlO1xuICAgIGxvZGFzaC5wcm90b3R5cGUudG9KU09OID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZU9mID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZSA9IHdyYXBwZXJWYWx1ZTtcblxuICAgIC8vIEFkZCBsYXp5IGFsaWFzZXMuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5maXJzdCA9IGxvZGFzaC5wcm90b3R5cGUuaGVhZDtcblxuICAgIGlmIChzeW1JdGVyYXRvcikge1xuICAgICAgbG9kYXNoLnByb3RvdHlwZVtzeW1JdGVyYXRvcl0gPSB3cmFwcGVyVG9JdGVyYXRvcjtcbiAgICB9XG4gICAgcmV0dXJuIGxvZGFzaDtcbiAgfSk7XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLy8gRXhwb3J0IGxvZGFzaC5cbiAgdmFyIF8gPSBydW5JbkNvbnRleHQoKTtcblxuICAvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBjb25kaXRpb24gcGF0dGVybnMgbGlrZTpcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gRXhwb3NlIExvZGFzaCBvbiB0aGUgZ2xvYmFsIG9iamVjdCB0byBwcmV2ZW50IGVycm9ycyB3aGVuIExvZGFzaCBpc1xuICAgIC8vIGxvYWRlZCBieSBhIHNjcmlwdCB0YWcgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRCBsb2FkZXIuXG4gICAgLy8gU2VlIGh0dHA6Ly9yZXF1aXJlanMub3JnL2RvY3MvZXJyb3JzLmh0bWwjbWlzbWF0Y2ggZm9yIG1vcmUgZGV0YWlscy5cbiAgICAvLyBVc2UgYF8ubm9Db25mbGljdGAgdG8gcmVtb3ZlIExvZGFzaCBmcm9tIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIHJvb3QuXyA9IF87XG5cbiAgICAvLyBEZWZpbmUgYXMgYW4gYW5vbnltb3VzIG1vZHVsZSBzbywgdGhyb3VnaCBwYXRoIG1hcHBpbmcsIGl0IGNhbiBiZVxuICAgIC8vIHJlZmVyZW5jZWQgYXMgdGhlIFwidW5kZXJzY29yZVwiIG1vZHVsZS5cbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXztcbiAgICB9KTtcbiAgfVxuICAvLyBDaGVjayBmb3IgYGV4cG9ydHNgIGFmdGVyIGBkZWZpbmVgIGluIGNhc2UgYSBidWlsZCBvcHRpbWl6ZXIgYWRkcyBpdC5cbiAgZWxzZSBpZiAoZnJlZU1vZHVsZSkge1xuICAgIC8vIEV4cG9ydCBmb3IgTm9kZS5qcy5cbiAgICAoZnJlZU1vZHVsZS5leHBvcnRzID0gXykuXyA9IF87XG4gICAgLy8gRXhwb3J0IGZvciBDb21tb25KUyBzdXBwb3J0LlxuICAgIGZyZWVFeHBvcnRzLl8gPSBfO1xuICB9XG4gIGVsc2Uge1xuICAgIC8vIEV4cG9ydCB0byB0aGUgZ2xvYmFsIG9iamVjdC5cbiAgICByb290Ll8gPSBfO1xuICB9XG59LmNhbGwodGhpcykpO1xuIiwiaW1wb3J0IHsgUG90ZW50aWFsRnVsbEV4cHJlc3Npb24sIFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIFJ1bnRpbWVQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQsIENvbXBpbGVkVGVtcG9yYXJ5RGVhbGxvY2F0b3IsIFJ1bnRpbWVGdW5jdGlvbiwgUnVudGltZUNvbnN0cnVjdCwgQVNUTm9kZSwgRXhwcmVzc2lvbkNvbnRleHQsIGNyZWF0ZUV4cHJlc3Npb25Db250ZXh0LCBEZXNjcmlwdGlvbiB9IGZyb20gXCIuL2NvbnN0cnVjdHNcIjtcclxuaW1wb3J0IHsgRnVuY3Rpb25FbnRpdHksIE9iamVjdEVudGl0eSwgVGVtcG9yYXJ5T2JqZWN0RW50aXR5IH0gZnJvbSBcIi4vZW50aXRpZXNcIjtcclxuaW1wb3J0IHsgRXhwcmVzc2lvbkFTVE5vZGUsIElkZW50aWZpZXJFeHByZXNzaW9uLCBjcmVhdGVFeHByZXNzaW9uRnJvbUFTVCwgQ29tcGlsZWRGdW5jdGlvbklkZW50aWZpZXIsIFJ1bnRpbWVGdW5jdGlvbklkZW50aWZpZXIgfSBmcm9tIFwiLi9leHByZXNzaW9uc1wiO1xyXG5pbXBvcnQgeyBDbGFzc1R5cGUsIFZvaWRUeXBlLCBSZWZlcmVuY2VUeXBlLCBQb3RlbnRpYWxSZXR1cm5UeXBlLCBPYmplY3RUeXBlLCBOb1JlZlR5cGUsIG5vUmVmLCBBdG9taWNUeXBlIH0gZnJvbSBcIi4vdHlwZXNcIjtcclxuaW1wb3J0IHsgQ29weUluaXRpYWxpemVyLCBDb21waWxlZENvcHlJbml0aWFsaXplciwgUnVudGltZUNvcHlJbml0aWFsaXplciB9IGZyb20gXCIuL2luaXRpYWxpemVyc1wiO1xyXG5pbXBvcnQgeyBjbG9uZSB9IGZyb20gXCJsb2Rhc2hcIjtcclxuaW1wb3J0IHsgQ1BQT2JqZWN0IH0gZnJvbSBcIi4vb2JqZWN0c1wiO1xyXG5pbXBvcnQgeyBDb21waWxlZEZ1bmN0aW9uRGVmaW5pdGlvbiB9IGZyb20gXCIuL2RlY2xhcmF0aW9uc1wiO1xyXG5pbXBvcnQgeyBDUFBFcnJvciB9IGZyb20gXCIuL2Vycm9yc1wiO1xyXG5pbXBvcnQgeyBFeHByZXNzaW9uLCBhbGxXZWxsVHlwZWQsIENvbXBpbGVkRXhwcmVzc2lvbiwgUnVudGltZUV4cHJlc3Npb24sIFZDUmVzdWx0VHlwZXMsIFR5cGVkRXhwcmVzc2lvbiwgVmFsdWVDYXRlZ29yeSB9IGZyb20gXCIuL2V4cHJlc3Npb25CYXNlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRnVuY3Rpb25DYWxsIGV4dGVuZHMgUG90ZW50aWFsRnVsbEV4cHJlc3Npb24ge1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZnVuYzogRnVuY3Rpb25FbnRpdHk7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgYXJnczogcmVhZG9ubHkgVHlwZWRFeHByZXNzaW9uW107XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVjZWl2ZXI/OiBPYmplY3RFbnRpdHk8Q2xhc3NUeXBlPjtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgYXJnSW5pdGlhbGl6ZXJzITogcmVhZG9ubHkgQ29weUluaXRpYWxpemVyW107XHJcbiAgICBcclxuICAgIHB1YmxpYyByZWFkb25seSByZXR1cm5CeVZhbHVlVGFyZ2V0PzogVGVtcG9yYXJ5T2JqZWN0RW50aXR5O1xyXG4gICAgLyoqXHJcbiAgICAgKiBBIEZ1bmN0aW9uRW50aXR5IG11c3QgYmUgcHJvdmlkZWQgdG8gc3BlY2lmeSB3aGljaCBmdW5jdGlvbiBpcyBiZWluZyBjYWxsZWQuXHJcbiAgICAgKlxyXG4gICAgICogQSByZWNlaXZlciBlbnRpdHkgbWF5IGJlIHByb3ZpZGVkIGhlcmUsIGFuZCBpZiBpdCBpcywgdGhlIGZ1bmN0aW9uIGNhbGwgZ3VhcmFudGVlcyBpdCB3aWxsXHJcbiAgICAgKiBiZSBsb29rZWQgdXAgaW4gYSBydW50aW1lIGNvbnRleHQgQkVGT1JFIHRoZSBmdW5jdGlvbiBoYXMgYmVlbiBcImNhbGxlZFwiIChpLmUuIGJlZm9yZSBhIG5ld1xyXG4gICAgICogc3RhY2sgZnJhbWUgaGFzIGJlZW4gcHVzaGVkIGFuZCBjb250cm9sIGhhcyBiZWVuIGdpdmVuIG92ZXIgdG8gdGhlIGNhbGxlZCBmdW5jdGlvbikuIFRoaXMgaW5cclxuICAgICAqIHBhcnRpY3VsYXIgaXMgaW1wb3J0YW50IGZvciBlLmcuIGEgUGFyYW1ldGVyRW50aXR5IHVzZWQgYXMgdGhlIHJlY2VpdmVyIG9mIGEgY29uc3RydWN0b3IgY2FsbFxyXG4gICAgICogd2hlbiBhIGNsYXNzLXR5cGUgcGFyYW1ldGVyIGlzIHBhc3NlZCBieSB2YWx1ZSB0byBzb21lIGZ1bmN0aW9uLiBJZiBpdCB3ZXJlIGxvb2tlZCB1cCBpbnN0ZWFkXHJcbiAgICAgKiBhZnRlciB0aGUgY2FsbCwgaXQgd291bGQgdHJ5IHRvIGZpbmQgYSBwYXJhbWV0ZXIgb2YgdGhlIGNvbnN0cnVjdG9yIHJhdGhlciB0aGFuIG9mIHRoZSBmdW5jdGlvbixcclxuICAgICAqIHdoaWNoIGlzbid0IHJpZ2h0LlxyXG4gICAgICpcclxuICAgICAqIElmIGEgcmVjZWl2ZXIgZW50aXR5IGlzIG5vdCBwcm92aWRlZCBoZXJlLCBhIHJlY2VpdmVyIG9iamVjdCBtdXN0IGJlIHNwZWNpZmllZCBhdCBydW50aW1lIHdoZW5cclxuICAgICAqIGEgcnVudGltZSBjb25zdHJ1Y3QgZm9yIHRoaXMgZnVuY3Rpb24gY2FsbCBpcyBjcmVhdGVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjb250ZXh0IFxyXG4gICAgICogQHBhcmFtIGZ1bmMgU3BlY2lmaWVzIHdoaWNoIGZ1bmN0aW9uIGlzIGJlaW5nIGNhbGxlZC5cclxuICAgICAqIEBwYXJhbSBhcmdzIEFyZ3VtZW50cyB0byB0aGUgZnVuY3Rpb24uXHJcbiAgICAgKiBAcGFyYW0gcmVjZWl2ZXIgXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCBmdW5jOiBGdW5jdGlvbkVudGl0eSwgYXJnczogcmVhZG9ubHkgVHlwZWRFeHByZXNzaW9uW10sIHJlY2VpdmVyPzogT2JqZWN0RW50aXR5PENsYXNzVHlwZT4pIHtcclxuICAgICAgICBzdXBlcihjb250ZXh0KTtcclxuXHJcbiAgICAgICAgdGhpcy5mdW5jID0gZnVuYztcclxuICAgICAgICB0aGlzLmFyZ3MgPSBjbG9uZShhcmdzKTtcclxuICAgICAgICB0aGlzLnJlY2VpdmVyID0gcmVjZWl2ZXI7XHJcblxyXG4gICAgICAgIC8vIE5vdGUgdGhhdCB0aGUgYXJncyBhcmUgTk9UIGF0dGFjaGVkIGFzIGNoaWxkcmVuIGhlcmUuIEluc3RlYWQsIHRoZXkgYXJlIGF0dGFjaGVkIHRvIHRoZSBpbml0aWFsaXplcnMuXHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBpbml0aWFsaXplcnMgZm9yIGVhY2ggYXJndW1lbnQvcGFyYW1ldGVyIHBhaXJcclxuICAgICAgICAvLyB0aGlzLmFyZ0luaXRpYWxpemVycyA9IGFyZ3MubWFwKChhcmcsIGkpID0+IHtcclxuICAgICAgICAvLyAgICAgbGV0IHBhcmFtVHlwZSA9IHRoaXMuZnVuYy50eXBlLnBhcmFtVHlwZXNbaV07XHJcbiAgICAgICAgLy8gICAgIGlmIChwYXJhbVR5cGUuaXNSZWZlcmVuY2VUeXBlKCkpIHtcclxuICAgICAgICAvLyAgICAgICAgIHJldHVybiBDb3B5SW5pdGlhbGl6ZXIuY3JlYXRlKGNvbnRleHQsIG5ldyBQYXNzQnlSZWZlcmVuY2VQYXJhbWV0ZXJFbnRpdHkodGhpcy5mdW5jLCBwYXJhbVR5cGUucmVmVG8sIGkpLCBbYXJnXSk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyAgICAgZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICAgICByZXR1cm4gQ29weUluaXRpYWxpemVyLmNyZWF0ZShjb250ZXh0LCBuZXcgUGFzc0J5VmFsdWVQYXJhbWV0ZXJFbnRpdHkodGhpcy5mdW5jLCBwYXJhbVR5cGUsIGkpLCBbYXJnXSk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9KTtcclxuXHJcbiAgICAgICAgLy8gVE9ET1xyXG4gICAgICAgIC8vIHRoaXMuaXNSZWN1cnNpdmUgPSB0aGlzLmZ1bmMuZGVmaW5pdGlvbiA9PT0gdGhpcy5jb250ZXh0LmNvbnRhaW5pbmdGdW5jdGlvbjtcclxuXHJcbiAgICAgICAgLy8gTm8gcmV0dXJucyBmb3Igdm9pZCBmdW5jdGlvbnMsIG9mIGNvdXJzZS5cclxuICAgICAgICAvLyBJZiByZXR1cm4gYnkgcmVmZXJlbmNlLCB0aGUgcmV0dXJuIG9iamVjdCBhbHJlYWR5IGV4aXN0cyBhbmQgbm8gbmVlZCB0byBjcmVhdGUgYSB0ZW1wb3JhcnkuXHJcbiAgICAgICAgLy8gRWxzZSwgZm9yIGEgcmV0dXJuIGJ5IHZhbHVlLCB3ZSBkbyBuZWVkIHRvIGNyZWF0ZSBhIHRlbXBvcmFyeSBvYmplY3QuXHJcbiAgICAgICAgbGV0IHJldHVyblR5cGUgPSB0aGlzLmZ1bmMudHlwZS5yZXR1cm5UeXBlO1xyXG4gICAgICAgIGlmICggIShyZXR1cm5UeXBlIGluc3RhbmNlb2YgVm9pZFR5cGUpICYmICEocmV0dXJuVHlwZSBpbnN0YW5jZW9mIFJlZmVyZW5jZVR5cGUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmV0dXJuQnlWYWx1ZVRhcmdldCA9IHRoaXMuY3JlYXRlVGVtcG9yYXJ5T2JqZWN0KHJldHVyblR5cGUsICh0aGlzLmZ1bmMubmFtZSB8fCBcInVua25vd25cIikgKyBcIigpIFtyZXR1cm5dXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVE9ETzogbmVlZCB0byBjaGVjayB0aGF0IGl0J3Mgbm90IGFuIGF1eGlsaWFyeSBmdW5jdGlvbiBjYWxsIGJlZm9yZSBhZGRpbmcgdGhlc2U/XHJcbiAgICAgICAgLy8gdGhpcy5jb250ZXh0LmNvbnRhaW5pbmdGdW5jdGlvbi5hZGRDYWxsKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC50cmFuc2xhdGlvblVuaXQucmVnaXN0ZXJGdW5jdGlvbkNhbGwodGhpcyk7IC8vIFRPRE86IGlzIHRoaXMgbmVlZGVkP1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHB1YmxpYyBjaGVja0xpbmtpbmdQcm9ibGVtcygpIHtcclxuICAgIC8vICAgICBpZiAoIXRoaXMuZnVuYy5pc0xpbmtlZCgpKSB7XHJcbiAgICAvLyAgICAgICAgIGlmICh0aGlzLmZ1bmMuaXNMaWJyYXJ5VW5zdXBwb3J0ZWQoKSkge1xyXG4gICAgLy8gICAgICAgICAgICAgbGV0IG5vdGUgPSBDUFBFcnJvci5saW5rLmxpYnJhcnlfdW5zdXBwb3J0ZWQodGhpcywgdGhpcy5mdW5jKTtcclxuICAgIC8vICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShub3RlKTtcclxuICAgIC8vICAgICAgICAgICAgIHJldHVybiBub3RlO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIGVsc2Uge1xyXG4gICAgLy8gICAgICAgICAgICAgbGV0IG5vdGUgPSBDUFBFcnJvci5saW5rLmRlZl9ub3RfZm91bmQodGhpcywgdGhpcy5mdW5jKTtcclxuICAgIC8vICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShub3RlKTtcclxuICAgIC8vICAgICAgICAgICAgIHJldHVybiBub3RlO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIHJldHVybiBudWxsO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIHRhaWxSZWN1cnNpb25DaGVjayA6IGZ1bmN0aW9uKCl7XHJcbiAgICAvLyAgICAgaWYgKHRoaXMuaXNUYWlsICE9PSB1bmRlZmluZWQpIHtcclxuICAgIC8vICAgICAgICAgcmV0dXJuO1xyXG4gICAgLy8gICAgIH1cclxuXHJcbiAgICAvLyAgICAgdmFyIGNoaWxkID0gdGhpcztcclxuICAgIC8vICAgICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnQ7XHJcbiAgICAvLyAgICAgdmFyIGlzVGFpbCA9IHRydWU7XHJcbiAgICAvLyAgICAgdmFyIHJlYXNvbiA9IG51bGw7XHJcbiAgICAvLyAgICAgdmFyIG90aGVycyA9IFtdO1xyXG4gICAgLy8gICAgIHZhciBmaXJzdCA9IHRydWU7XHJcbiAgICAvLyAgICAgd2hpbGUoIWlzQShjaGlsZCwgRnVuY3Rpb25EZWZpbml0aW9uKSAmJiAhaXNBKGNoaWxkLCBTdGF0ZW1lbnRzLlJldHVybikpIHtcclxuICAgIC8vICAgICAgICAgdmFyIHJlc3VsdCA9IHBhcmVudC5pc1RhaWxDaGlsZChjaGlsZCk7XHJcbiAgICAvLyAgICAgICAgIGlmICghcmVzdWx0LmlzVGFpbCkge1xyXG4gICAgLy8gICAgICAgICAgICAgaXNUYWlsID0gZmFsc2U7XHJcbiAgICAvLyAgICAgICAgICAgICByZWFzb24gPSByZXN1bHQucmVhc29uO1xyXG4gICAgLy8gICAgICAgICAgICAgb3RoZXJzID0gcmVzdWx0Lm90aGVycyB8fCBbXTtcclxuICAgIC8vICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgLy8gICAgICAgICB9XHJcblxyXG4gICAgLy8gICAgICAgICAvL2lmICghZmlyc3QgJiYgY2hpbGQudGVtcERlYWxsb2NhdG9yKXtcclxuICAgIC8vICAgICAgICAgLy8gICAgaXNUYWlsID0gZmFsc2U7XHJcbiAgICAvLyAgICAgICAgIC8vICAgIHJlYXNvbiA9IFwiVGhlIGZ1bGwgZXhwcmVzc2lvbiBjb250YWluaW5nIHRoaXMgcmVjdXJzaXZlIGNhbGwgaGFzIHRlbXBvcmFyeSBvYmplY3RzIHRoYXQgbmVlZCB0byBiZSBkZWFsbG9jYXRlZCBhZnRlciB0aGUgY2FsbCByZXR1cm5zLlwiO1xyXG4gICAgLy8gICAgICAgICAvLyAgICBvdGhlcnMgPSBbXTtcclxuICAgIC8vICAgICAgICAgLy8gICAgYnJlYWs7XHJcbiAgICAvLyAgICAgICAgIC8vfVxyXG4gICAgLy8gICAgICAgICAvL2ZpcnN0ID0gZmFsc2U7XHJcblxyXG5cclxuICAgIC8vICAgICAgICAgcmVhc29uID0gcmVhc29uIHx8IHJlc3VsdC5yZWFzb247XHJcblxyXG4gICAgLy8gICAgICAgICBjaGlsZCA9IHBhcmVudDtcclxuICAgIC8vICAgICAgICAgcGFyZW50ID0gY2hpbGQucGFyZW50O1xyXG4gICAgLy8gICAgIH1cclxuXHJcbiAgICAvLyAgICAgdGhpcy5pc1RhaWwgPSBpc1RhaWw7XHJcbiAgICAvLyAgICAgdGhpcy5pc1RhaWxSZWFzb24gPSByZWFzb247XHJcbiAgICAvLyAgICAgdGhpcy5pc1RhaWxPdGhlcnMgPSBvdGhlcnM7XHJcbiAgICAvLyAgICAgLy90aGlzLmNvbnRhaW5pbmdGdW5jdGlvbigpLmlzVGFpbFJlY3Vyc2l2ZSA9IHRoaXMuY29udGFpbmluZ0Z1bmN0aW9uKCkuaXNUYWlsUmVjdXJzaXZlICYmIGlzVGFpbDtcclxuXHJcbiAgICAvLyAgICAgdGhpcy5jYW5Vc2VUQ08gPSB0aGlzLmlzUmVjdXJzaXZlICYmIHRoaXMuaXNUYWlsO1xyXG4gICAgLy8gfSxcclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUZ1bmN0aW9uQ2FsbDxUIGV4dGVuZHMgUG90ZW50aWFsUmV0dXJuVHlwZSA9IFBvdGVudGlhbFJldHVyblR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5ID0gVmFsdWVDYXRlZ29yeT4odGhpczogQ29tcGlsZWRGdW5jdGlvbkNhbGw8VD4sIHBhcmVudDogUnVudGltZVBvdGVudGlhbEZ1bGxFeHByZXNzaW9uKSA6IFJ1bnRpbWVGdW5jdGlvbkNhbGw8VD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUnVudGltZUZ1bmN0aW9uQ2FsbDxUPih0aGlzLCBwYXJlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGlzVGFpbENoaWxkIDogZnVuY3Rpb24oY2hpbGQpe1xyXG4gICAgLy8gICAgIHJldHVybiB7aXNUYWlsOiBmYWxzZSxcclxuICAgIC8vICAgICAgICAgcmVhc29uOiBcIkEgcXVpY2sgcnVsZSBpcyB0aGF0IGEgZnVuY3Rpb24gY2FsbCBjYW4gbmV2ZXIgYmUgdGFpbCByZWN1cnNpdmUgaWYgaXQgaXMgYW4gYXJndW1lbnQgdG8gYW5vdGhlciBmdW5jdGlvbiBjYWxsLiBUaGUgb3V0ZXIgZnVuY3Rpb24gY2FsbCB3aWxsIGFsd2F5cyBoYXBwZW4gYWZ0ZXJ3YXJkIVwiLFxyXG4gICAgLy8gICAgICAgICBvdGhlcnM6IFt0aGlzXVxyXG4gICAgLy8gICAgIH07XHJcbiAgICAvLyB9LFxyXG5cclxuICAgIC8vIC8vIFRPRE86IHdoYXQgaXMgdGhpcz8gc2hvdWxkIGl0IGJlIGRlc2NyaWJlRXZhbFJlc3VsdD8gb3IgZXhwbGFpbj8gcHJvYmFibHkgbm90IGp1c3QgZGVzY3JpYmUgc2luY2UgdGhhdCBpcyBmb3Igb2JqZWN0c1xyXG4gICAgLy8gZGVzY3JpYmUgOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuICAgIC8vICAgICB2YXIgZGVzYyA9IHt9O1xyXG4gICAgLy8gICAgIGRlc2MubWVzc2FnZSA9IFwiYSBjYWxsIHRvIFwiICsgdGhpcy5mdW5jLmRlc2NyaWJlKHNpbSkubWVzc2FnZTtcclxuICAgIC8vICAgICByZXR1cm4gZGVzYztcclxuICAgIC8vIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRGdW5jdGlvbkNhbGw8VCBleHRlbmRzIFBvdGVudGlhbFJldHVyblR5cGUgPSBQb3RlbnRpYWxSZXR1cm5UeXBlPiBleHRlbmRzIEZ1bmN0aW9uQ2FsbCwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4gICAgcmVhZG9ubHkgdGVtcG9yYXJ5RGVhbGxvY2F0b3I/OiBDb21waWxlZFRlbXBvcmFyeURlYWxsb2NhdG9yOyAvLyB0byBtYXRjaCBDb21waWxlZFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uIHN0cnVjdHVyZVxyXG4gICAgXHJcbiAgICByZWFkb25seSBhcmdzOiByZWFkb25seSBUeXBlZEV4cHJlc3Npb25bXTtcclxuICAgIHJlYWRvbmx5IGFyZ0luaXRpYWxpemVyczogcmVhZG9ubHkgQ29tcGlsZWRDb3B5SW5pdGlhbGl6ZXJbXTtcclxuICAgIHJlYWRvbmx5IHJldHVybkJ5VmFsdWVUYXJnZXQ/OiBUIGV4dGVuZHMgT2JqZWN0VHlwZSA/IFRlbXBvcmFyeU9iamVjdEVudGl0eTxUPiA6IHVuZGVmaW5lZDtcclxufVxyXG5cclxuY29uc3QgSU5ERVhfRlVOQ1RJT05fQ0FMTF9QVVNIID0gMDtcclxuY29uc3QgSU5ERVhfRlVOQ1RJT05fQ0FMTF9BUkdVTUVOVFMgPSAxO1xyXG5jb25zdCBJTkRFWF9GVU5DVElPTl9DQUxMX0NBTEwgPSAyO1xyXG5jb25zdCBJTkRFWF9GVU5DVElPTl9DQUxMX1JFVFVSTiA9IDI7XHJcbmV4cG9ydCBjbGFzcyBSdW50aW1lRnVuY3Rpb25DYWxsPFQgZXh0ZW5kcyBQb3RlbnRpYWxSZXR1cm5UeXBlID0gUG90ZW50aWFsUmV0dXJuVHlwZT4gZXh0ZW5kcyBSdW50aW1lUG90ZW50aWFsRnVsbEV4cHJlc3Npb248Q29tcGlsZWRGdW5jdGlvbkNhbGw8VD4+IHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbW9kZWwhOiBDb21waWxlZEZ1bmN0aW9uQ2FsbDxUPjsgLy8gbmFycm93cyB0eXBlIG9mIG1lbWJlciBpbiBiYXNlIGNsYXNzXHJcblxyXG4gICAgLy8gcHVibGljIHJlYWRvbmx5IGZ1bmN0aW9uRGVmIDogRnVuY3Rpb25EZWZpbml0aW9uO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGNhbGxlZEZ1bmN0aW9uIDogUnVudGltZUZ1bmN0aW9uPFQ+O1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGFyZ0luaXRpYWxpemVyczogcmVhZG9ubHkgUnVudGltZUNvcHlJbml0aWFsaXplcltdO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSByZWNlaXZlcj86IENQUE9iamVjdDxDbGFzc1R5cGU+XHJcblxyXG4gICAgLy8gcHVibGljIHJlYWRvbmx5IGhhc0JlZW5DYWxsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBwcml2YXRlIGluZGV4IDogdHlwZW9mIElOREVYX0ZVTkNUSU9OX0NBTExfUFVTSCB8IHR5cGVvZiBJTkRFWF9GVU5DVElPTl9DQUxMX0FSR1VNRU5UUyB8IHR5cGVvZiBJTkRFWF9GVU5DVElPTl9DQUxMX0NBTEwgfCB0eXBlb2YgSU5ERVhfRlVOQ1RJT05fQ0FMTF9SRVRVUk4gPSBJTkRFWF9GVU5DVElPTl9DQUxMX1BVU0g7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChtb2RlbDogQ29tcGlsZWRGdW5jdGlvbkNhbGw8VD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgICAgIHN1cGVyKG1vZGVsLCBcImNhbGxcIiwgcGFyZW50KTtcclxuXHJcbiAgICAgICAgLy8gVE9ETyBjYW4gaSBnZXQgcmlkIG9mIHRoZSBub24tbnVsbCBhc3NlcnRpb24gb3IgY2FzdCBoZXJlP1xyXG4gICAgICAgIC8vIEJhc2ljYWxseSwgdGhlIGFzc3VtcHRpb24gZGVwZW5kcyBvbiBhIFJ1bnRpbWVGdW5jdGlvbkNhbGwgb25seSBiZWluZyBjcmVhdGVkXHJcbiAgICAgICAgLy8gaWYgdGhlIHByb2dyYW0gd2FzIHN1Y2Nlc3NmdWxseSBsaW5rZWQgKHdoaWNoIGFsc28gaW1wbGllcyB0aGUgRnVuY3Rpb25EZWZpbml0aW9uIHdhcyBjb21waWxlZClcclxuICAgICAgICAvLyBJdCBhbHNvIGFzc3VtZXMgdGhlIGZ1bmN0aW9uIGRlZmluaXRpb24gaGFzIHRoZSBjb3JyZWN0IHJldHVybiB0eXBlLlxyXG4gICAgICAgIGxldCBmdW5jdGlvbkRlZiA9IDxDb21waWxlZEZ1bmN0aW9uRGVmaW5pdGlvbjxUPj50aGlzLm1vZGVsLmZ1bmMuZGVmaW5pdGlvbiE7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ3JlYXRlIGFyZ3VtZW50IGluaXRpYWxpemVyIGluc3RhbmNlc1xyXG4gICAgICAgIHRoaXMuYXJnSW5pdGlhbGl6ZXJzID0gdGhpcy5tb2RlbC5hcmdJbml0aWFsaXplcnMubWFwKChhSW5pdCkgPT4gYUluaXQuY3JlYXRlUnVudGltZUluaXRpYWxpemVyKHRoaXMpKTtcclxuXHJcblxyXG5cclxuICAgICAgICAvLyBUT0RPOiBUQ08/IHdvdWxkIHJldXNlIHRoaXMuY29udGFpbmluZ1J1bnRpbWVGdW5jdGlvbiBpbnN0ZWFkIG9mIGNyZWF0aW5nIG5ld1xyXG4gICAgICAgIFxyXG4gICAgICAgICAvLyBmb3Igbm9uLW1lbWJlciBmdW5jdGlvbnMsIHJlY2VpdmVyIHVuZGVmaW5lZFxyXG4gICAgICAgIHRoaXMucmVjZWl2ZXIgPSB0aGlzLm1vZGVsLnJlY2VpdmVyICYmIHRoaXMubW9kZWwucmVjZWl2ZXIucnVudGltZUxvb2t1cCh0aGlzKTtcclxuICAgICAgICB0aGlzLmNhbGxlZEZ1bmN0aW9uID0gZnVuY3Rpb25EZWYuY3JlYXRlUnVudGltZUZ1bmN0aW9uKHRoaXMsIHRoaXMucmVjZWl2ZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFRPRE86IFRDTz8gaWYgdXNpbmcgVENPLCBkb24ndCBjcmVhdGUgYSBuZXcgcmV0dXJuIG9iamVjdCwganVzdCByZXVzZSB0aGUgb2xkIG9uZVxyXG4gICAgICAgIGlmICh0aGlzLm1vZGVsLnJldHVybkJ5VmFsdWVUYXJnZXQpIHtcclxuICAgICAgICAgICAgLy8gSWYgcmV0dXJuLWJ5LXZhbHVlLCBzZXQgcmV0dXJuIG9iamVjdCB0byB0ZW1wb3JhcnlcclxuICAgICAgICAgICAgbGV0IGNmID0gPFJ1bnRpbWVGdW5jdGlvbjxPYmplY3RUeXBlPj50aGlzLmNhbGxlZEZ1bmN0aW9uOyAvLyBUT0RPOiBtYXkgYmUgYWJsZSB0byBnZXQgcmlkIG9mIHRoaXMgY2FzdCBpZiBDb21waWxlZEZ1bmN0aW9uRGVmaW5pdGlvbiBwcm92aWRlZCBtb3JlIGluZm8gYWJvdXQgcmV0dXJuIHR5cGVcclxuICAgICAgICAgICAgY2Yuc2V0UmV0dXJuT2JqZWN0KHRoaXMubW9kZWwucmV0dXJuQnlWYWx1ZVRhcmdldC5vYmplY3RJbnN0YW5jZSh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaW5kZXggPSBJTkRFWF9GVU5DVElPTl9DQUxMX0NBTEw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHVwTmV4dEltcGwoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5kZXggPT09IElOREVYX0ZVTkNUSU9OX0NBTExfQVJHVU1FTlRTKSB7XHJcbiAgICAgICAgICAgIC8vIFB1c2ggYWxsIGFyZ3VtZW50IGluaXRpYWxpemVycy4gUHVzaCBpbiByZXZlcnNlIHNvIHRoZXkgcnVuIGxlZnQgdG8gcmlnaHRcclxuICAgICAgICAgICAgLy8gKGFsdGhvdWdoIHRoaXMgaXMgbm90IHN0cmljdGx5IG5lY2Vzc2FyeSBnaXZlbiB0aGV5IGFyZSBpbmRldGVybWluYXRlbHkgc2VxdWVuY2VkKVxyXG4gICAgICAgICAgICBmb3IodmFyIGkgPSB0aGlzLmFyZ0luaXRpYWxpemVycy5sZW5ndGgtMTsgaSA+PSAwOyAtLWkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2ltLnB1c2godGhpcy5hcmdJbml0aWFsaXplcnNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaW5kZXggPT09IElOREVYX0ZVTkNUSU9OX0NBTExfUkVUVVJOKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsbGVkRnVuY3Rpb24ubG9zZUNvbnRyb2woKTtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluaW5nUnVudGltZUZ1bmN0aW9uLmdhaW5Db250cm9sKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZG9uZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNpbS5wb3AoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByb3RlY3RlZCBzdGVwRm9yd2FyZEltcGwoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5kZXggPT09IElOREVYX0ZVTkNUSU9OX0NBTExfUFVTSCkge1xyXG5cclxuICAgICAgICAgICAgLy8gVE9ETzogVENPPyBqdXN0IGRvIGEgdGFpbENhbGxSZXNldCwgc2VuZCBcInRhaWxDYWxsZWRcIiBtZXNzYWdlXHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhbGxlZEZ1bmN0aW9uLnB1c2hTdGFja0ZyYW1lKCk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSBJTkRFWF9GVU5DVElPTl9DQUxMX0FSR1VNRU5UUztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5pbmRleCA9PT0gSU5ERVhfRlVOQ1RJT05fQ0FMTF9DQUxMKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5pbmdSdW50aW1lRnVuY3Rpb24ubG9zZUNvbnRyb2woKTtcclxuICAgICAgICAgICAgdGhpcy5zaW0ucHVzaCh0aGlzLmNhbGxlZEZ1bmN0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5jYWxsZWRGdW5jdGlvbi5nYWluQ29udHJvbCgpO1xyXG4gICAgICAgICAgICB0aGlzLnJlY2VpdmVyICYmIHRoaXMucmVjZWl2ZXIuY2FsbFJlY2VpdmVkKCk7XHJcblxyXG4gICAgICAgICAgICAvLyAoPE11dGFibGU8dGhpcz4+dGhpcykuaGFzQmVlbkNhbGxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwiY2FsbGVkXCIsIHRoaXMuY2FsbGVkRnVuY3Rpb24pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5pbmRleCA9IElOREVYX0ZVTkNUSU9OX0NBTExfUkVUVVJOO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEZ1bmN0aW9uQ2FsbEV4cHJlc3Npb25BU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJmdW5jdGlvbl9jYWxsX2V4cHJlc3Npb25cIjtcclxuICAgIHJlYWRvbmx5IG9wZXJhbmQ6IEV4cHJlc3Npb25BU1ROb2RlO1xyXG4gICAgcmVhZG9ubHkgYXJnczogcmVhZG9ubHkgRXhwcmVzc2lvbkFTVE5vZGVbXTtcclxufVxyXG5cclxudHlwZSBGdW5jdGlvblJlc3VsdFR5cGU8UlQgZXh0ZW5kcyBQb3RlbnRpYWxSZXR1cm5UeXBlPiA9IE5vUmVmVHlwZTxFeGNsdWRlPFJULFZvaWRUeXBlPj47XHJcbnR5cGUgRnVuY3Rpb25WQzxSVCBleHRlbmRzIFBvdGVudGlhbFJldHVyblR5cGU+ID0gUlQgZXh0ZW5kcyBSZWZlcmVuY2VUeXBlID8gXCJsdmFsdWVcIiA6IFwicHJ2YWx1ZVwiO1xyXG5cclxuLy8gTk9URTogd2hlbiBjcmVhdGluZyB0aGlzIGZyb20gQVNULCBvcGVyYW5kIG11c3QgYmUgY3JlYXRlZC9jb21waWxlZFxyXG4vLyB3aXRoIGFkZGl0aW9uIGNvbnRleHQgaW5jbHVkaW5nIHRoZSBjb21waWxlZCB0eXBlcyBvZiB0aGUgYXJndW1lbnRzLlxyXG5leHBvcnQgY2xhc3MgRnVuY3Rpb25DYWxsRXhwcmVzc2lvbiBleHRlbmRzIEV4cHJlc3Npb24ge1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZT86IE9iamVjdFR5cGUgfCBWb2lkVHlwZTtcclxuICAgIHB1YmxpYyByZWFkb25seSB2YWx1ZUNhdGVnb3J5PzogVmFsdWVDYXRlZ29yeTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgb3BlcmFuZDogRXhwcmVzc2lvblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGFyZ3M6IHJlYWRvbmx5IEV4cHJlc3Npb25bXTtcclxuICAgIHB1YmxpYyByZWFkb25seSBjYWxsPzogRnVuY3Rpb25DYWxsO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCwgb3BlcmFuZDogRXhwcmVzc2lvbiwgYXJnczogcmVhZG9ubHkgRXhwcmVzc2lvbltdKSB7XHJcbiAgICAgICAgc3VwZXIoY29udGV4dCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5hdHRhY2godGhpcy5vcGVyYW5kID0gb3BlcmFuZCk7XHJcbiAgICAgICAgdGhpcy5hcmdzID0gYXJncztcclxuICAgICAgICBhcmdzLmZvckVhY2goKGFyZykgPT4gdGhpcy5hdHRhY2goYXJnKSlcclxuXHJcbiAgICAgICAgLy8gSWYgYW55IGFyZ3VtZW50cyBhcmUgbm90IHdlbGwgdHlwZWQsIHdlIGNhbid0IHNlbGVjdCBhIGZ1bmN0aW9uLlxyXG4gICAgICAgIGlmICghYWxsV2VsbFR5cGVkKGFyZ3MpKSB7XHJcbiAgICAgICAgICAgIC8vIHR5cGUsIHZhbHVlQ2F0ZWdvcnksIGFuZCBjYWxsIHJlbWFpbiB1bmRlZmluZWRcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCEob3BlcmFuZCBpbnN0YW5jZW9mIElkZW50aWZpZXJFeHByZXNzaW9uKSkge1xyXG4gICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5mdW5jdGlvbkNhbGwuaW52YWxpZF9vcGVyYW5kX2V4cHJlc3Npb24odGhpcywgb3BlcmFuZCkpO1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghb3BlcmFuZC5lbnRpdHkpIHtcclxuICAgICAgICAgICAgLy8gdHlwZSwgdmFsdWVDYXRlZ29yeSwgYW5kIGNhbGwgcmVtYWluIHVuZGVmaW5lZFxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIShvcGVyYW5kLmVudGl0eSBpbnN0YW5jZW9mIEZ1bmN0aW9uRW50aXR5KSkge1xyXG4gICAgICAgICAgICAvLyB0eXBlLCB2YWx1ZUNhdGVnb3J5LCBhbmQgY2FsbCByZW1haW4gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmZ1bmN0aW9uQ2FsbC5vcGVyYW5kKHRoaXMsIG9wZXJhbmQuZW50aXR5KSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudHlwZSA9IG5vUmVmKG9wZXJhbmQuZW50aXR5LnR5cGUucmV0dXJuVHlwZSk7XHJcblxyXG4gICAgICAgIHRoaXMudmFsdWVDYXRlZ29yeSA9IG9wZXJhbmQuZW50aXR5LnR5cGUucmV0dXJuVHlwZSBpbnN0YW5jZW9mIFJlZmVyZW5jZVR5cGUgPyBcImx2YWx1ZVwiIDogXCJwcnZhbHVlXCI7XHJcblxyXG4gICAgICAgIC8vIElmIGFueSBvZiB0aGUgYXJndW1lbnRzIHdlcmUgbm90IE9iamVjdFR5cGUsIGxvb2t1cCB3b3VsZG4ndCBoYXZlIGZvdW5kIGEgZnVuY3Rpb24uXHJcbiAgICAgICAgLy8gU28gdGhlIGNhc3QgYmVsb3cgc2hvdWxkIGJlIGZpbmUuXHJcbiAgICAgICAgLy8gVE9ETzogYWxsb3cgbWVtYmVyIGZ1bmN0aW9uIGNhbGxzLiAob3IgbWFrZSB0aGVtIGEgc2VwYXJhdGUgY2xhc3MgaWRrKVxyXG4gICAgICAgIHRoaXMuY2FsbCA9IG5ldyBGdW5jdGlvbkNhbGwoY29udGV4dCwgb3BlcmFuZC5lbnRpdHksIDxyZWFkb25seSBUeXBlZEV4cHJlc3Npb248T2JqZWN0VHlwZSwgVmFsdWVDYXRlZ29yeT5bXT5hcmdzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUZyb21BU1QoYXN0OiBGdW5jdGlvbkNhbGxFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpIDogRnVuY3Rpb25DYWxsRXhwcmVzc2lvbiB7XHJcbiAgICAgICAgbGV0IGFyZ3MgPSBhc3QuYXJncy5tYXAoYXJnID0+IGNyZWF0ZUV4cHJlc3Npb25Gcm9tQVNUKGFyZywgY29udGV4dCkpO1xyXG4gICAgICAgIGxldCBjb250ZXh0dWFsUGFyYW1UeXBlcyA9IGFyZ3MubWFwKGFyZyA9PiBhcmcudHlwZSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbkNhbGxFeHByZXNzaW9uKGNvbnRleHQsXHJcbiAgICAgICAgICAgIGNyZWF0ZUV4cHJlc3Npb25Gcm9tQVNUKGFzdC5vcGVyYW5kLCBjcmVhdGVFeHByZXNzaW9uQ29udGV4dChjb250ZXh0LCBjb250ZXh0dWFsUGFyYW1UeXBlcykpLFxyXG4gICAgICAgICAgICBhcmdzKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPFJUIGV4dGVuZHMgUG90ZW50aWFsUmV0dXJuVHlwZT4odGhpczogQ29tcGlsZWRGdW5jdGlvbkNhbGxFeHByZXNzaW9uPFJUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVGdW5jdGlvbkNhbGxFeHByZXNzaW9uPFJUPlxyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPFQgZXh0ZW5kcyBPYmplY3RUeXBlLCBWIGV4dGVuZHMgVmFsdWVDYXRlZ29yeT4odGhpczogQ29tcGlsZWRFeHByZXNzaW9uPFQsVj4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBuZXZlcjtcclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbjxSVCBleHRlbmRzIFBvdGVudGlhbFJldHVyblR5cGU+KHRoaXM6IENvbXBpbGVkRnVuY3Rpb25DYWxsRXhwcmVzc2lvbjxSVD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lRnVuY3Rpb25DYWxsRXhwcmVzc2lvbjxSVD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUnVudGltZUZ1bmN0aW9uQ2FsbEV4cHJlc3Npb24odGhpcywgcGFyZW50KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPXHJcbiAgICBwdWJsaWMgZGVzY3JpYmVFdmFsUmVzdWx0KGRlcHRoOiBudW1iZXIpOiBEZXNjcmlwdGlvbiB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcblxyXG4gICAgXHJcbiAgICAvLyBpc1RhaWxDaGlsZCA6IGZ1bmN0aW9uKGNoaWxkKXtcclxuICAgIC8vICAgICByZXR1cm4ge2lzVGFpbDogY2hpbGQgPT09IHRoaXMuZnVuY0NhbGxcclxuICAgIC8vICAgICB9O1xyXG4gICAgLy8gfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkRnVuY3Rpb25DYWxsRXhwcmVzc2lvbjxSVCBleHRlbmRzIFBvdGVudGlhbFJldHVyblR5cGUgPSBQb3RlbnRpYWxSZXR1cm5UeXBlPiBleHRlbmRzIEZ1bmN0aW9uQ2FsbEV4cHJlc3Npb24sIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuICAgIFxyXG4gICAgcmVhZG9ubHkgdGVtcG9yYXJ5RGVhbGxvY2F0b3I/OiBDb21waWxlZFRlbXBvcmFyeURlYWxsb2NhdG9yOyAvLyB0byBtYXRjaCBDb21waWxlZFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uIHN0cnVjdHVyZVxyXG5cclxuICAgIHJlYWRvbmx5IHR5cGU6IEZ1bmN0aW9uUmVzdWx0VHlwZTxSVD47XHJcbiAgICByZWFkb25seSB2YWx1ZUNhdGVnb3J5OiBGdW5jdGlvblZDPFJUPjtcclxuICAgIFxyXG4gICAgcmVhZG9ubHkgb3BlcmFuZDogQ29tcGlsZWRGdW5jdGlvbklkZW50aWZpZXI7XHJcbiAgICByZWFkb25seSBhcmdzOiByZWFkb25seSBDb21waWxlZEV4cHJlc3Npb25bXTtcclxuICAgIHJlYWRvbmx5IGNhbGw6IENvbXBpbGVkRnVuY3Rpb25DYWxsPFJUPjtcclxufVxyXG5cclxuY29uc3QgSU5ERVhfRlVOQ1RJT05fQ0FMTF9FWFBSRVNTSU9OX09QRVJBTkQgPSAwO1xyXG5jb25zdCBJTkRFWF9GVU5DVElPTl9DQUxMX0VYUFJFU1NJT05fQ0FMTCA9IDE7XHJcbmNvbnN0IElOREVYX0ZVTkNUSU9OX0NBTExfRVhQUkVTU0lPTl9SRVRVUk4gPSAyO1xyXG5leHBvcnQgY2xhc3MgUnVudGltZUZ1bmN0aW9uQ2FsbEV4cHJlc3Npb248UlQgZXh0ZW5kcyBQb3RlbnRpYWxSZXR1cm5UeXBlID0gUG90ZW50aWFsUmV0dXJuVHlwZT4gZXh0ZW5kcyBSdW50aW1lRXhwcmVzc2lvbjxGdW5jdGlvblJlc3VsdFR5cGU8UlQ+LCBGdW5jdGlvblZDPFJUPiwgQ29tcGlsZWRGdW5jdGlvbkNhbGxFeHByZXNzaW9uPFJUPj4ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBvcGVyYW5kOiBSdW50aW1lRnVuY3Rpb25JZGVudGlmaWVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGFyZ3M6IHJlYWRvbmx5IFJ1bnRpbWVFeHByZXNzaW9uW107XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2FsbDogUnVudGltZUZ1bmN0aW9uQ2FsbDxSVD47XHJcblxyXG4gICAgcHJpdmF0ZSBpbmRleCA6IHR5cGVvZiBJTkRFWF9GVU5DVElPTl9DQUxMX0VYUFJFU1NJT05fT1BFUkFORCB8IHR5cGVvZiBJTkRFWF9GVU5DVElPTl9DQUxMX0VYUFJFU1NJT05fQ0FMTCB8IHR5cGVvZiBJTkRFWF9GVU5DVElPTl9DQUxMX0VYUFJFU1NJT05fUkVUVVJOID0gSU5ERVhfRlVOQ1RJT05fQ0FMTF9FWFBSRVNTSU9OX09QRVJBTkQ7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChtb2RlbDogQ29tcGlsZWRGdW5jdGlvbkNhbGxFeHByZXNzaW9uPFJUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgc3VwZXIobW9kZWwsIHBhcmVudCk7XHJcbiAgICAgICAgdGhpcy5vcGVyYW5kID0gdGhpcy5tb2RlbC5vcGVyYW5kLmNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuYXJncyA9IHRoaXMubW9kZWwuYXJncy5tYXAoKGFyZykgPT4gYXJnLmNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uKHRoaXMpKTtcclxuICAgICAgICB0aGlzLmNhbGwgPSB0aGlzLm1vZGVsLmNhbGwuY3JlYXRlUnVudGltZUZ1bmN0aW9uQ2FsbCh0aGlzKTtcclxuICAgIH1cclxuXHJcblx0cHJvdGVjdGVkIHVwTmV4dEltcGwoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5kZXggPT09IElOREVYX0ZVTkNUSU9OX0NBTExfRVhQUkVTU0lPTl9PUEVSQU5EKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2ltLnB1c2godGhpcy5vcGVyYW5kKTtcclxuICAgICAgICAgICAgdGhpcy5pbmRleCA9IElOREVYX0ZVTkNUSU9OX0NBTExfRVhQUkVTU0lPTl9DQUxMO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmluZGV4ID09PSBJTkRFWF9GVU5DVElPTl9DQUxMX0VYUFJFU1NJT05fQ0FMTCkge1xyXG4gICAgICAgICAgICB0aGlzLnNpbS5wdXNoKHRoaXMuY2FsbCk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSBJTkRFWF9GVU5DVElPTl9DQUxMX0VYUFJFU1NJT05fUkVUVVJOO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5pbmRleCA9PT0gSU5ERVhfRlVOQ1RJT05fQ0FMTF9FWFBSRVNTSU9OX1JFVFVSTiApIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwudHlwZSBpbnN0YW5jZW9mIFZvaWRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLnNldEV2YWxSZXN1bHQobnVsbCk7IC8vIFRPRE86IHR5cGUgc3lzdGVtIHdvbid0IGFsbG93IHRoaXMgY3VycmVudGx5XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1vZGVsLmlzUmVmZXJlbmNlVHlwZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIGJ5IHJlZmVyZW5jZSBpcyBsdmFsdWUgYW5kIHlpZWxkcyB0aGUgcmV0dXJuZWQgb2JqZWN0XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldEV2YWxSZXN1bHQoPFZDUmVzdWx0VHlwZXM8RnVuY3Rpb25SZXN1bHRUeXBlPFJUPiwgRnVuY3Rpb25WQzxSVD4+PnRoaXMuY2FsbC5jYWxsZWRGdW5jdGlvbi5yZXR1cm5PYmplY3QhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLm1vZGVsLmlzQXRvbWljVHlwZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIGJ5IHZhbHVlIG9mIGF0b21pYyB0eXBlLiBJbiB0aGlzIGNhc2UsIHdlIGNhbiBsb29rIHVwXHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgdmFsdWUgb2YgdGhlIHJldHVybiBvYmplY3QgYW5kIHVzZSB0aGF0IGFzIHRoZSBldmFsIHJlc3VsdFxyXG4gICAgICAgICAgICAgICAgbGV0IHJldE9iaiA9IDxDUFBPYmplY3Q8QXRvbWljVHlwZT4+PHVua25vd24+dGhpcy5jYWxsLmNhbGxlZEZ1bmN0aW9uLnJldHVybk9iamVjdCE7IC8vIEkgZG9uJ3QgdW5kZXJzdGFuZCB3aHkgVHlwZXNjcmlwdCBmb3JjZXMgdGhlIGhhcmQgY2FzdCBoZXJlXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldEV2YWxSZXN1bHQoPFZDUmVzdWx0VHlwZXM8RnVuY3Rpb25SZXN1bHRUeXBlPFJUPiwgRnVuY3Rpb25WQzxSVD4+PnJldE9iai5nZXRWYWx1ZSgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIFJldHVybiBieSB2YWx1ZSBvZiBhIG5vbi1hdG9taWMgdHlwZS4gSW4gdGhpcyBjYXNlLCBpdCdzIHN0aWxsIGEgcHJ2YWx1ZVxyXG4gICAgICAgICAgICAgICAgLy8gYnV0IGlzIHRoZSB0ZW1wb3Jhcnkgb2JqZWN0IHJhdGhlciB0aGFuIGl0cyB2YWx1ZS5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0RXZhbFJlc3VsdCg8VkNSZXN1bHRUeXBlczxGdW5jdGlvblJlc3VsdFR5cGU8UlQ+LCBGdW5jdGlvblZDPFJUPj4+dGhpcy5jYWxsLmNhbGxlZEZ1bmN0aW9uLnJldHVybk9iamVjdCEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2ltLnBvcCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgc3RlcEZvcndhcmRJbXBsKCkge1xyXG4gICAgICAgIC8vIG5vdGhpbmcgdG8gZG9cclxuICAgIH1cclxufVxyXG5cclxuLy8gT0xEIHN0dWZmIGtlcHQgaW4gY2FzZSBpdCdzIHJlbGV2YW50IGZvciBvcGVyYXRvciBvdmVybG9hZHMsIGJ1dCBwcm9iYWJseSB3b24ndCBiZSBuZWVkZWRcclxuLy8gZXhwb3J0IHZhciBGdW5jdGlvbkNhbGxFeHByZXNzaW9uICA9IEV4cHJlc3Npb24uZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lOiBcIkZ1bmN0aW9uQ2FsbEV4cHJlc3Npb25cIixcclxuLy8gICAgIGluaXRJbmRleDogXCJvcGVyYW5kXCIsXHJcblxyXG4gICAgLy8gYmluZEZ1bmN0aW9uIDogZnVuY3Rpb24oYXJnVHlwZXMpe1xyXG4gICAgLy8gICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIC8vICAgICBpZiAoaXNBKHRoaXMub3BlcmFuZC50eXBlLCBUeXBlcy5DbGFzcykpe1xyXG4gICAgLy8gICAgICAgICAvLyBDaGVjayBmb3IgZnVuY3Rpb24gY2FsbCBvcGVyYXRvciBhbmQgaWYgc28sIGZpbmQgZnVuY3Rpb25cclxuICAgIC8vICAgICAgICAgLy8gVE9ETzogSSB0aGluayB0aGlzIGJyZWFrcyBnaXZlbiBtdWx0aXBsZSBvdmVybG9hZGVkIGZ1bmN0aW9uIGNhbGwgb3BlcmF0b3JzP1xyXG5cclxuICAgIC8vICAgICAgICAgdHJ5e1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5jYWxsT3AgPSB0aGlzLm9wZXJhbmQudHlwZS5jbGFzc1Njb3BlLnJlcXVpcmVkTWVtYmVyTG9va3VwKFwib3BlcmF0b3IoKVwiLCB7cGFyYW1UeXBlczphcmdUeXBlcywgaXNUaGlzQ29uc3Q6IHRoaXMub3BlcmFuZC50eXBlLmlzQ29uc3R9KTtcclxuICAgIC8vICAgICAgICAgICAgIHRoaXMuYm91bmRGdW5jdGlvbiA9IHRoaXMuY2FsbE9wO1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy50eXBlID0gbm9SZWYodGhpcy5jYWxsT3AudHlwZS5yZXR1cm5UeXBlKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICBjYXRjaChlKXtcclxuICAgIC8vICAgICAgICAgICAgIGlmIChpc0EoZSwgU2VtYW50aWNFeGNlcHRpb25zLkJhZExvb2t1cCkpe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmZ1bmN0aW9uQ2FsbC5ub3RfZGVmaW5lZCh0aGlzLCB0aGlzLm9wZXJhbmQudHlwZSwgYXJnVHlwZXMpKTtcclxuICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoZS5hbm5vdGF0aW9uKHRoaXMpKTtcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBlbHNlIGlmIChpc0EodGhpcy5vcGVyYW5kLmVudGl0eSwgRnVuY3Rpb25FbnRpdHkpKXsgLy8gVE9ETzogdXNlIG9mIGVudGl0eSBwcm9wZXJ0eSBoZXJlIGZlZWxzIGhhY2t5XHJcbiAgICAvLyAgICAgICAgIC8vIElmIGl0J3MgYW4gaWRlbnRpZmllciwgZG90LCBhcnJvdywgZXRjLiB0aGF0IGRlbm90ZSBhbiBlbnRpdHkgLSBqdXN0IGJpbmQgdGhhdFxyXG4gICAgLy8gICAgICAgICB0aGlzLnN0YXRpY0Z1bmN0aW9uID0gdGhpcy5vcGVyYW5kLmVudGl0eTtcclxuICAgIC8vICAgICAgICAgdGhpcy5zdGF0aWNGdW5jdGlvblR5cGUgPSB0aGlzLnN0YXRpY0Z1bmN0aW9uLnR5cGU7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuYm91bmRGdW5jdGlvbiA9IHRoaXMub3BlcmFuZC5lbnRpdHk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2UgaWYgKGlzQSh0aGlzLm9wZXJhbmQudHlwZSwgVHlwZXMuUG9pbnRlcikgJiYgaXNBKHRoaXMub3BlcmFuZC50eXBlLnB0clRvLCBUeXBlcy5GdW5jdGlvbikpe1xyXG4gICAgLy8gICAgICAgICB0aGlzLnN0YXRpY0Z1bmN0aW9uVHlwZSA9IHRoaXMub3BlcmFuZC50eXBlLnB0clRvO1xyXG4gICAgLy8gICAgICAgICB0aGlzLmJvdW5kRnVuY3Rpb24gPSBQb2ludGVkRnVuY3Rpb25FbnRpdHkuaW5zdGFuY2UodGhpcy5vcGVyYW5kLnR5cGUucHRyVG8pO1xyXG4gICAgLy8gICAgICAgICB0aGlzLm9wZXJhbmQgPSBjb252ZXJ0VG9QUlZhbHVlKHRoaXMub3BlcmFuZCk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2UgaWYgKGlzQSh0aGlzLm9wZXJhbmQudHlwZSwgVHlwZXMuRnVuY3Rpb24pKXtcclxuICAgIC8vICAgICAgICAgdGhpcy5zdGF0aWNGdW5jdGlvblR5cGUgPSB0aGlzLm9wZXJhbmQudHlwZTtcclxuICAgIC8vICAgICAgICAgdGhpcy5ib3VuZEZ1bmN0aW9uID0gUG9pbnRlZEZ1bmN0aW9uRW50aXR5Lmluc3RhbmNlKHRoaXMub3BlcmFuZC50eXBlKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZXtcclxuICAgIC8vICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIuZnVuY3Rpb25DYWxsLm9wZXJhbmQodGhpcywgdGhpcy5vcGVyYW5kKSk7XHJcbiAgICAvLyAgICAgfVxyXG5cclxuICAgIC8vIH0sXHJcblxyXG5cclxuLy8gfSk7IiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gXCIuLi91dGlsL29ic2VydmVcIjtcclxuaW1wb3J0IHsgUHJvZ3JhbSwgQ29tcGlsZWRQcm9ncmFtIH0gZnJvbSBcIi4vUHJvZ3JhbVwiO1xyXG5pbXBvcnQgeyBNZW1vcnksIFZhbHVlIH0gZnJvbSBcIi4vcnVudGltZUVudmlyb25tZW50XCI7XHJcbmltcG9ydCB7IFJ1bnRpbWVDb25zdHJ1Y3QsIFJ1bnRpbWVGdW5jdGlvbiB9IGZyb20gXCIuL2NvbnN0cnVjdHNcIjtcclxuaW1wb3J0IHsgQ1BQUmFuZG9tLCBNdXRhYmxlLCBlc2NhcGVTdHJpbmcgfSBmcm9tIFwiLi4vdXRpbC91dGlsXCI7XHJcbmltcG9ydCB7IER5bmFtaWNPYmplY3QsIE1haW5SZXR1cm5PYmplY3QgfSBmcm9tIFwiLi9vYmplY3RzXCI7XHJcbmltcG9ydCB7IEludCwgUG9pbnRlclR5cGUsIENoYXIgfSBmcm9tIFwiLi90eXBlc1wiO1xyXG5pbXBvcnQgeyBJbml0aWFsaXplciB9IGZyb20gXCIuL2luaXRpYWxpemVyc1wiO1xyXG5cclxuXHJcbmV4cG9ydCBlbnVtIFNpbXVsYXRpb25FdmVudCB7XHJcbiAgICBVTkRFRklORURfQkVIQVZJT1IgPSBcInVuZGVmaW5lZF9iZWhhdmlvclwiLFxyXG4gICAgVU5TUEVDSUZJRURfQkVIQVZJT1IgPSBcInVuc3BlY2lmaWVkX2JlaGF2aW9yXCIsXHJcbiAgICBJTVBMRU1FTlRBVElPTl9ERUZJTkVEX0JFSEFWSU9SID0gXCJpbXBsZW1lbnRhdGlvbl9kZWZpbmVkX2JlaGF2aW9yXCIsXHJcbiAgICBNRU1PUllfTEVBSyA9IFwibWVtb3J5X2xlYWtcIixcclxuICAgIEFTU0VSVElPTl9GQUlMVVJFID0gXCJhc3NlcnRpb25fZmFpbHVyZVwiLFxyXG4gICAgQ1JBU0ggPSBcImNyYXNoXCIsXHJcbn1cclxuXHJcbi8vIFRPRE86IGFkZCBvYnNlcnZlciBzdHVmZlxyXG5leHBvcnQgY2xhc3MgU2ltdWxhdGlvbiB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSh0aGlzKTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJvZ3JhbTogQ29tcGlsZWRQcm9ncmFtO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBtZW1vcnk6IE1lbW9yeTtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9leGVjU3RhY2s6IFJ1bnRpbWVDb25zdHJ1Y3RbXTtcclxuICAgIHB1YmxpYyByZWFkb25seSBleGVjU3RhY2s6IHJlYWRvbmx5IFJ1bnRpbWVDb25zdHJ1Y3RbXTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmFuZG9tID0gbmV3IENQUFJhbmRvbSgpO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBzdGVwc1Rha2VuIDogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGF0RW5kOiBib29sZWFuO1xyXG5cclxuICAgIHByaXZhdGUgcGVuZGluZ05ld3MgOiBEeW5hbWljT2JqZWN0W107XHJcbiAgICBwcml2YXRlIGxlYWtDaGVja0luZGV4IDogbnVtYmVyO1xyXG5cclxuICAgIC8vIFRPRE86IGlzIHRoaXMgYWN0dWFsbHkgc2V0IGFud2hlcmU/XHJcbiAgICBwcml2YXRlIGFsZXJ0c09mZiA9IGZhbHNlO1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2V2ZW50c09jY3VycmVkIDoge1xyXG4gICAgICAgIFtwIGluIFNpbXVsYXRpb25FdmVudF06IHN0cmluZ1tdO1xyXG4gICAgfSA9IHtcclxuICAgICAgICBcInVuZGVmaW5lZF9iZWhhdmlvclwiIDogW10sXHJcbiAgICAgICAgXCJ1bnNwZWNpZmllZF9iZWhhdmlvclwiIDogW10sXHJcbiAgICAgICAgXCJpbXBsZW1lbnRhdGlvbl9kZWZpbmVkX2JlaGF2aW9yXCIgOiBbXSxcclxuICAgICAgICBcIm1lbW9yeV9sZWFrXCIgOiBbXSxcclxuICAgICAgICBcImFzc2VydGlvbl9mYWlsdXJlXCIgOiBbXSxcclxuICAgICAgICBcImNyYXNoXCIgOiBbXVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IGV2ZW50c09jY3VycmVkIDoge1xyXG4gICAgICAgIFtwIGluIFNpbXVsYXRpb25FdmVudF06IHJlYWRvbmx5IHN0cmluZ1tdO1xyXG4gICAgfSA9IHRoaXMuX2V2ZW50c09jY3VycmVkO1xyXG5cclxuICAgIC8vIE1BWF9TUEVFRDogLTEzNDQ1LCAvLyBsb2wgVE9ET1xyXG5cclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbWFpblJldHVybk9iamVjdCE6IE1haW5SZXR1cm5PYmplY3Q7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbWFpbkZ1bmN0aW9uITogUnVudGltZUZ1bmN0aW9uPEludD47XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJvZ3JhbTogQ29tcGlsZWRQcm9ncmFtKSB7XHJcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTtcclxuXHJcbiAgICAgICAgLy8gVE9ETyBTaW11bGF0aW9uUnVubmVyIHRoaXMuc3BlZWQgPSBTaW11bGF0aW9uLk1BWF9TUEVFRDtcclxuXHJcbiAgICAgICAgLy8gVGhlc2UgdGhpbmdzIG5lZWQgYmUgcmVzZXQgd2hlbiB0aGUgc2ltdWxhdGlvbiBpcyByZXNldFxyXG4gICAgICAgIHRoaXMubWVtb3J5ID0gbmV3IE1lbW9yeSgpO1xyXG4gICAgICAgIC8vIHRoaXMuY29uc29sZSA9IFZhbHVlRW50aXR5Lmluc3RhbmNlKFwiY29uc29sZVwiLCBcIlwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5leGVjU3RhY2sgPSB0aGlzLl9leGVjU3RhY2sgPSBbXTtcclxuXHJcbiAgICAgICAgdGhpcy5wZW5kaW5nTmV3cyA9IFtdO1xyXG4gICAgICAgIHRoaXMubGVha0NoZWNrSW5kZXggPSAwO1xyXG5cclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnN0ZXBzVGFrZW4gPSAwO1xyXG4gICAgICAgIHRoaXMuYXRFbmQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGFydCgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNQYXVzZWQgPSB0cnVlO1xyXG5cclxuXHJcbiAgICBwdWJsaWMgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5hbGxvY2F0ZVN0cmluZ0xpdGVyYWxzKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2hhbmdlIHN0YXRpYyBpbml0aWFsaXphdGlvbiBzbyBpdCBpcyB3cmFwcGVkIHVwIGluIGl0cyBvd24gY29uc3RydWN0IGFuZFxyXG4gICAgICAgIC8vIHJ1bnRpbWUgY29uc3RydWN0IHBhaXIgc3BlY2lmaWNhbGx5IGZvciB0aGF0IHB1cnBvc2UuIFRoYXQgY29uc3RydWN0IGNvdWxkXHJcbiAgICAgICAgLy8gYWxzbyBvcHRpb25hbGx5IGNyZWF0ZSBhbmQgcHVzaCB0aGUgbWFpbiBjYWxsIHRha2luZyBvdmVyIHdoYXQgaXMgY3VycmVudGx5XHJcbiAgICAgICAgLy8gaW4gdGhpcy5jYWxsTWFpbigpXHJcblxyXG4gICAgICAgIHRoaXMuY2FsbE1haW4oKTtcclxuICAgICAgICB0aGlzLnB1c2godGhpcy5wcm9ncmFtLmdsb2JhbE9iamVjdEFsbG9jYXRvci5jcmVhdGVSdW50aW1lQ29uc3RydWN0KHRoaXMpKTtcclxuXHJcbiAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJzdGFydGVkXCIpO1xyXG5cclxuICAgICAgICAvLyBOZWVkZWQgZm9yIHdoYXRldmVyIGlzIGZpcnN0IG9uIHRoZSBleGVjdXRpb24gc3RhY2tcclxuICAgICAgICB0aGlzLnVwTmV4dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2FsbE1haW4oKSB7XHJcbiAgICAgICAgKDxNdXRhYmxlPHRoaXM+PnRoaXMpLm1haW5SZXR1cm5PYmplY3QgPSBuZXcgTWFpblJldHVybk9iamVjdCh0aGlzLm1lbW9yeSk7XHJcbiAgICAgICAgKDxNdXRhYmxlPHRoaXM+PnRoaXMpLm1haW5GdW5jdGlvbiA9IG5ldyBSdW50aW1lRnVuY3Rpb24odGhpcy5wcm9ncmFtLm1haW5GdW5jdGlvbiwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5tYWluRnVuY3Rpb24uc2V0UmV0dXJuT2JqZWN0KHRoaXMubWFpblJldHVybk9iamVjdCk7XHJcbiAgICAgICAgdGhpcy5tYWluRnVuY3Rpb24ucHVzaFN0YWNrRnJhbWUoKTtcclxuICAgICAgICB0aGlzLnB1c2godGhpcy5tYWluRnVuY3Rpb24pO1xyXG4gICAgICAgIHRoaXMubWFpbkZ1bmN0aW9uLmdhaW5Db250cm9sKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBwdXNoKHJ0OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgdGhpcy5fZXhlY1N0YWNrLnB1c2gocnQpO1xyXG4gICAgICAgIHJ0LnB1c2hlZCgpO1xyXG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwicHVzaGVkXCIsIHJ0KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIHRvcCgpIHtcclxuICAgICAgICBpZiAodGhpcy5leGVjU3RhY2subGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5leGVjU3RhY2tbdGhpcy5leGVjU3RhY2subGVuZ3RoIC0gMV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyB0aGUgdG9wIHJ1bnRpbWUgY29uc3RydWN0IGZyb20gdGhlIGV4ZWN1dGlvbiBzdGFjay5cclxuICAgICAqIERvZXMgbm90aGluZyBpZiB0aGVyZSdzIG5vdGhpbmcgb24gdGhlIGV4ZWN1dGlvbiBzdGFjay5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHBvcCgpIHtcclxuICAgICAgICBsZXQgcG9wcGVkID0gdGhpcy5fZXhlY1N0YWNrLnBvcCgpO1xyXG4gICAgICAgIC8vIGlmIChwb3BwZWQpIHtcclxuICAgICAgICAvLyAgICAgcG9wcGVkLnBvcHBlZCgpO1xyXG4gICAgICAgIC8vICAgICBpZiAocG9wcGVkLnN0YWNrVHlwZSA9PT0gXCJzdGF0ZW1lbnRcIiB8fCBwb3BwZWQuc3RhY2tUeXBlID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMubGVha0NoZWNrKCk7IC8vIFRPRE8gbGVhayBjaGVja2luZ1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIHJldHVybiBwb3BwZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy9UT0RPOiB0aGlzIG1heSBiZSBkYW5nZXJvdXMgZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlcmUgYXJlIGNhc2VzIHRoaXMgY291bGQgc2tpcCB0ZW1wb3JhcnkgZGVhbGxvY2F0b3JzIG9yIGRlc3RydWN0b3JzXHJcbiAgICBwdWJsaWMgcG9wVW50aWwocnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICB3aGlsZSh0aGlzLl9leGVjU3RhY2subGVuZ3RoID4gMCAmJiB0aGlzLl9leGVjU3RhY2tbdGhpcy5fZXhlY1N0YWNrLmxlbmd0aCAtIDFdICE9PSBydCkge1xyXG4gICAgICAgICAgICB0aGlzLnBvcCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9wRnVuY3Rpb24oKSA6IFJ1bnRpbWVGdW5jdGlvbiB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuZXhlY1N0YWNrLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XHJcbiAgICAgICAgICAgIGxldCBydW50aW1lQ29uc3RydWN0ID0gdGhpcy5leGVjU3RhY2tbaV07XHJcbiAgICAgICAgICAgIGlmIChydW50aW1lQ29uc3RydWN0IGluc3RhbmNlb2YgUnVudGltZUZ1bmN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcnVudGltZUNvbnN0cnVjdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFsbG9jYXRlU3RyaW5nTGl0ZXJhbHMoKSB7XHJcbiAgICAgICAgbGV0IHR1cyA9IHRoaXMucHJvZ3JhbS50cmFuc2xhdGlvblVuaXRzO1xyXG4gICAgICAgIGZvcihsZXQgdHVOYW1lIGluIHR1cykge1xyXG4gICAgICAgICAgICB0dXNbdHVOYW1lXS5zdHJpbmdMaXRlcmFscy5mb3JFYWNoKChsaXQpID0+IHsgdGhpcy5tZW1vcnkuYWxsb2NhdGVTdHJpbmdMaXRlcmFsKGxpdCk7IH0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG5cdHB1YmxpYyBzdGVwRm9yd2FyZChuOiBudW1iZXIgPSAxKSB7XHJcblxyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7ICF0aGlzLmF0RW5kICYmIGkgPCBuOyArK2kpe1xyXG4gICAgICAgICAgICB0aGlzLl9zdGVwRm9yd2FyZCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJhZnRlckZ1bGxTdGVwXCIsIHRoaXMuZXhlY1N0YWNrLmxlbmd0aCA+IDAgJiYgdGhpcy5leGVjU3RhY2tbdGhpcy5leGVjU3RhY2subGVuZ3RoIC0gMV0pO1xyXG5cdH1cclxuXHJcbiAgICBwcml2YXRlIF9zdGVwRm9yd2FyZCgpIHtcclxuXHJcbiAgICAgICAgLy8gVG9wIHJ0IGNvbnN0cnVjdCB3aWxsIGRvIHN0dWZmXHJcbiAgICAgICAgbGV0IHJ0ID0gdGhpcy50b3AoKTtcclxuXHJcbiAgICAgICAgaWYgKCFydCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTdGVwIGZvcndhcmQgb24gdGhlIHJ0IGNvbnN0cnVjdFxyXG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwiYmVmb3JlU3RlcEZvcndhcmRcIiwge3J0OiBydH0pO1xyXG4gICAgICAgIHJ0LnN0ZXBGb3J3YXJkKCk7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJhZnRlclN0ZXBGb3J3YXJkXCIsIHtydDogcnR9KTtcclxuXHJcbiAgICAgICAgKysoPE11dGFibGU8dGhpcz4+dGhpcykuc3RlcHNUYWtlbjtcclxuXHJcbiAgICAgICAgLy8gQWZ0ZXIgZWFjaCBzdGVwIGNhbGwgdXBOZXh0LiBOb3RlIHRoYXQgdGhlIFwidXAgbmV4dFwiIGNvbnN0cnVjdCBtYXlcclxuICAgICAgICAvLyBiZSBkaWZmZXJlbnQgaWYgcnQgcG9wcGVkIGl0c2VsZiBvZmYgdGhlIHN0YWNrLiB1cE5leHQgYWxzbyBjaGVja3NcclxuICAgICAgICAvLyB0byBzZWUgaWYgdGhlIHNpbXVsYXRpb24gaXMgZG9uZS5cclxuICAgICAgICB0aGlzLnVwTmV4dCgpO1xyXG5cclxuICAgIH1cclxuXHJcblx0cHJpdmF0ZSB1cE5leHQoKSB7XHJcblxyXG4gICAgICAgIHdoaWxlKHRydWUpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIEdyYWIgdGhlIHJ0IGNvbnN0cnVjdCB0aGF0IGlzIG9uIHRvcCBvZiB0aGUgZXhlY3V0aW9uIHN0YWNrIGFuZCB1cCBuZXh0XHJcbiAgICAgICAgICAgIGxldCBydCA9IHRoaXMudG9wKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgc2ltdWxhdGlvbiBpcyBkb25lXHJcbiAgICAgICAgICAgIGlmICghcnQpIHtcclxuICAgICAgICAgICAgICAgICg8TXV0YWJsZTx0aGlzPj50aGlzKS5hdEVuZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcImF0RW5kZWRcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAvLyB1cCBuZXh0IG9uIHRoZSBydCBjb25zdHJ1Y3RcclxuICAgICAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJiZWZvcmVVcE5leHRcIiwge3J0OiBydH0pO1xyXG4gICAgICAgICAgICBydC51cE5leHQoKTtcclxuICAgICAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJhZnRlclVwTmV4dFwiLCB7aW5zdDogcnR9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBydCBjb25zdHJ1Y3Qgb24gdG9wIG9mIHRoZSBleGVjdXRpb24gc3RhY2sgaGFzIGNoYW5nZWQsIGl0IG5lZWRzXHJcbiAgICAgICAgICAgIC8vIHRvIGJlIG5vdGlmaWVkIHRoYXQgaXQgaXMgbm93IHVwIG5leHQsIHNvIHdlIHNob3VsZCBsZXQgdGhlIGxvb3AgZ28gYWdhaW4uXHJcbiAgICAgICAgICAgIC8vIEhvd2V2ZXIsIGlmIHJ0IGlzIHN0aWxsIG9uIHRvcCwgd2UgcHJlc3VtZSBpdCBpcyB3YWl0aW5nIGZvciB0aGUgbmV4dFxyXG4gICAgICAgICAgICAvLyBzdGVwRm9yd2FyZCAoYW5kIGl0IGhhc24ndCBhZGRlZCBhbnkgY2hpbGRyZW4pLCBzbyB3ZSBqdXN0IGJyZWFrIHRoZSBsb29wLlxyXG4gICAgICAgICAgICAvLyBOb3RlIHRoYXQgaWYgdGhlIGV4ZWN1dGlvbiBzdGFjayBiZWNvbWVzIGVtcHR5LCB3ZSBkbyBub3QgaGl0IHRoZSBicmVhayAoYmVjYXVzZVxyXG4gICAgICAgICAgICAvLyB3ZSBjYW4gYXNzdW1lIGF0IHRoaXMgcG9pbnQgaXQgd2FzIG5vdCBlbXB0eSBwcmV2aW91c2x5KSBhbmQgd2lsbCBsb29wIGJhY2sgdG9cclxuICAgICAgICAgICAgLy8gdGhlIHRvcCB3aGVyZSB0aGUgY2hlY2sgZm9yIGFuIGVtcHR5IHN0YWNrIGlzIHBlcmZvcm1lZC5cclxuICAgICAgICAgICAgaWYocnQgPT09IHRoaXMudG9wKCkpIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBOb3RlIHRoaXMgd2lsbCBub3Qgb2NjdXIgd2hlbiB0aGVuIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgc3RlcFRvRW5kKCkge1xyXG4gICAgICAgIHdoaWxlICghdGhpcy5hdEVuZCkge1xyXG4gICAgICAgICAgICB0aGlzLnN0ZXBGb3J3YXJkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHN0ZXBPdmVyOiBmdW5jdGlvbihvcHRpb25zKXtcclxuICAgIC8vICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5wZWVrKGZ1bmN0aW9uKGluc3Qpe1xyXG4gICAgLy8gICAgICAgICByZXR1cm4gaXNBKGluc3QubW9kZWwsIEluaXRpYWxpemVyKSB8fCBpc0EoaW5zdC5tb2RlbCwgRXhwcmVzc2lvbnMuRnVuY3Rpb25DYWxsRXhwcmVzc2lvbikgfHwgIWlzQShpbnN0Lm1vZGVsLCBFeHByZXNzaW9ucy5FeHByZXNzaW9uKTtcclxuICAgIC8vICAgICB9KTtcclxuXHJcbiAgICAvLyAgICAgaWYgKHRhcmdldCkge1xyXG4gICAgLy8gICAgICAgICB0aGlzLmF1dG9SdW4oY29weU1peGluKG9wdGlvbnMsIHtcclxuICAgIC8vICAgICAgICAgICAgIHBhdXNlSWY6IGZ1bmN0aW9uKCl7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgcmV0dXJuICF0YXJnZXQuaXNBY3RpdmU7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIH0pKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZXtcclxuICAgIC8vICAgICAgICAgdGhpcy5zdGVwRm9yd2FyZCgpO1xyXG4gICAgLy8gICAgICAgICBvcHRpb25zLmFmdGVyICYmIG9wdGlvbnMuYWZ0ZXIoKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9LFxyXG5cclxuICAgIC8vIHN0ZXBPdXQ6IGZ1bmN0aW9uKG9wdGlvbnMpe1xyXG4gICAgLy8gICAgIHZhciB0YXJnZXQgPSB0aGlzLmlfZXhlY1N0YWNrLmxhc3QoKS5jb250YWluaW5nRnVuY3Rpb24oKTtcclxuXHJcbiAgICAvLyAgICAgaWYgKHRhcmdldCkge1xyXG4gICAgLy8gICAgICAgICB0aGlzLmF1dG9SdW4oY29weU1peGluKG9wdGlvbnMsIHtcclxuICAgIC8vICAgICAgICAgICAgIHBhdXNlSWY6IGZ1bmN0aW9uKCl7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgcmV0dXJuICF0YXJnZXQuaXNBY3RpdmU7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIH0pKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZXtcclxuICAgIC8vICAgICAgICAgdGhpcy5zdGVwRm9yd2FyZCgpO1xyXG4gICAgLy8gICAgICAgICBvcHRpb25zLmFmdGVyICYmIG9wdGlvbnMuYWZ0ZXIoKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9LFxyXG5cclxuXHJcblx0Ly8gc3RlcEJhY2t3YXJkIDogZnVuY3Rpb24obil7XHJcbiAgICAvLyAgICAgaWYgKG4gPT09IDApe1xyXG4gICAgLy8gICAgICAgICByZXR1cm47XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIG4gPSBuIHx8IDE7XHJcblx0Ly8gXHQkLmZ4Lm9mZiA9IHRydWU7XHJcblx0Ly8gXHRPdXRsZXRzLkNQUC5DUFBfQU5JTUFUSU9OUyA9IGZhbHNlOyAvLyBUT0RPIG5vdCBzdXJlIEkgbmVlZCB0aGlzXHJcbiAgICAvLyAgICAgdGhpcy5pX2FsZXJ0c09mZiA9IHRydWU7XHJcbiAgICAvLyAgICAgdGhpcy5pX2V4cGxhaW5PZmYgPSB0cnVlO1xyXG4gICAgLy8gICAgICQoXCJib2R5XCIpLmFkZENsYXNzKFwibm9UcmFuc2l0aW9uc1wiKS5oZWlnaHQoKTsgLy8gLmhlaWdodCgpIGlzIHRvIGZvcmNlIHJlZmxvd1xyXG4gICAgLy8gICAgIC8vUnVudGltZUNvbnN0cnVjdC5wcm90b3R5cGUuc2lsZW50ID0gdHJ1ZTtcclxuXHQvLyBcdGlmICh0aGlzLmlfc3RlcHNUYWtlbiA+IDApe1xyXG5cdC8vIFx0XHR0aGlzLmNsZWFyKCk7XHJcblx0Ly8gXHRcdHZhciBzdGVwcyA9IHRoaXMuaV9zdGVwc1Rha2VuLW47XHJcblx0Ly8gXHRcdHRoaXMuc3RhcnQoKTtcclxuXHQvLyBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHN0ZXBzOyArK2kpe1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5zdGVwRm9yd2FyZCgpO1xyXG5cdC8vIFx0XHR9XHJcblx0Ly8gXHR9XHJcbiAgICAvLyAgICAgLy9SdW50aW1lQ29uc3RydWN0LnByb3RvdHlwZS5zaWxlbnQgPSBmYWxzZTtcclxuICAgIC8vICAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcIm5vVHJhbnNpdGlvbnNcIikuaGVpZ2h0KCk7IC8vIC5oZWlnaHQoKSBpcyB0byBmb3JjZSByZWZsb3dcclxuICAgIC8vICAgICB0aGlzLmlfYWxlcnRzT2ZmID0gZmFsc2U7XHJcbiAgICAvLyAgICAgdGhpcy5pX2V4cGxhaW5PZmYgPSBmYWxzZTtcclxuICAgIC8vICAgICBPdXRsZXRzLkNQUC5DUFBfQU5JTUFUSU9OUyA9IHRydWU7XHJcblx0Ly8gXHQkLmZ4Lm9mZiA9IGZhbHNlO1xyXG5cclxuXHQvLyB9LFxyXG5cdFxyXG5cdFxyXG5cdFxyXG5cdFxyXG5cdC8vIHBlZWsgOiBmdW5jdGlvbihxdWVyeSwgcmV0dXJuQXJyYXksIG9mZnNldCl7XHJcbiAgICAvLyAgICAgaWYgKHRoaXMuaV9leGVjU3RhY2subGVuZ3RoID09PSAwKXtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAvLyAgICAgfVxyXG5cdC8vIFx0b2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XHJcblx0Ly8gXHRpZiAocXVlcnkpe1xyXG5cdC8vIFx0XHR2YXIgcGVla2VkQXJyID0gW107XHJcblx0Ly8gXHRcdHZhciBwZWVrZWQ7XHJcblx0Ly8gXHRcdGZvciAodmFyIGkgPSB0aGlzLmlfZXhlY1N0YWNrLmxlbmd0aCAtIDEgLSBvZmZzZXQ7IGkgPj0gMDsgLS1pKXtcclxuXHQvLyBcdFx0XHRwZWVrZWQgPSB0aGlzLmlfZXhlY1N0YWNrW2ldO1xyXG5cdC8vIFx0XHRcdHBlZWtlZEFyci51bnNoaWZ0KHBlZWtlZCk7XHJcbiAgICAvLyAgICAgICAgICAgICBpZiAodHlwZW9mIHF1ZXJ5ID09PSBcImZ1bmN0aW9uXCIpe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGlmIChxdWVyeShwZWVrZWQpKXtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgZWxzZXtcclxuICAgIC8vICAgICAgICAgICAgICAgICB2YXIgY3VycmVudCA9ICh0eXBlb2YgcXVlcnkgPT0gXCJzdHJpbmdcIiA/IHBlZWtlZC5zdGFja1R5cGUgOiBwZWVrZWQpO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGlmIChjdXJyZW50ID09IHF1ZXJ5KXtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG5cdC8vIFx0XHR9XHJcblx0Ly8gXHRcdHJldHVybiAocmV0dXJuQXJyYXkgPyBwZWVrZWRBcnIgOiBwZWVrZWQpO1xyXG5cdC8vIFx0fVxyXG5cdC8vIFx0ZWxzZXtcclxuXHQvLyBcdFx0cmV0dXJuIHRoaXMuaV9leGVjU3RhY2subGFzdCgpO1xyXG5cdC8vIFx0fVxyXG5cdC8vIH0sXHJcblx0XHJcblx0Ly8gcGVla3MgOiBmdW5jdGlvbihxdWVyeSwgcmV0dXJuQXJyYXkpe1xyXG5cdC8vIFx0dmFyIHJlc3VsdHMgPSBbXTtcclxuXHQvLyBcdHZhciBvZmZzZXQgPSAwO1xyXG5cdC8vIFx0d2hpbGUgKG9mZnNldCA8IHRoaXMuaV9leGVjU3RhY2subGVuZ3RoKXtcclxuXHQvLyBcdFx0dmFyIHAgPSB0aGlzLnBlZWsocXVlcnksIHRydWUsIG9mZnNldCk7XHJcblx0Ly8gXHRcdG9mZnNldCArPSBwLmxlbmd0aDtcclxuXHQvLyBcdFx0cmVzdWx0cy51bnNoaWZ0KHJldHVybkFycmF5ID8gcCA6IHBbMF0pO1xyXG5cdC8vIFx0fVxyXG5cdC8vIFx0cmV0dXJuIHJlc3VsdHM7XHJcblx0Ly8gfSxcclxuXHJcblxyXG4gICAgLy8gY2xlYXJSdW5UaHJlYWQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAvLyAgICAgaWYgKHRoaXMucnVuVGhyZWFkKXtcclxuICAgIC8vICAgICAgICAgdGhpcy5ydW5UaHJlYWRDbGVhcmVkRmxhZyA9IHRydWU7XHJcbiAgICAvLyAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJ1blRocmVhZCk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMucnVuVGhyZWFkID0gbnVsbDtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9LFxyXG5cclxuICAgIC8vIHN0YXJ0UnVuVGhyZWFkOiBmdW5jdGlvbihmdW5jKXtcclxuICAgIC8vICAgICB0aGlzLnJ1blRocmVhZCA9IHNldFRpbWVvdXQoZnVuYywgMCk7XHJcbiAgICAvLyB9LFxyXG5cclxuICAgIC8vIGF1dG9SdW4gOiBmdW5jdGlvbihvcHRpb25zKXtcclxuICAgIC8vICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHJcbiAgICAvLyAgICAgLy8gQ2xlYXIgb2xkIHRocmVhZFxyXG4gICAgLy8gICAgIHRoaXMuY2xlYXJSdW5UaHJlYWQoKTtcclxuXHJcbiAgICAvLyAgICAgdGhpcy5pX3BhdXNlZCA9IGZhbHNlO1xyXG5cclxuICAgIC8vICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAvLyAgICAgdmFyIGZ1bmMgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgIC8vICAgICAgICAgLy8gVHJ5IHRvIGNvbXBsZXRlIHRoaXMuc3BlZWQgbnVtYmVyIG9mIHN0ZXBzIGluIDEwbXMuXHJcbiAgICAvLyAgICAgICAgIHZhciBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgLy8gICAgICAgICBmb3IodmFyIG51bSA9IDA7IHNlbGYuc3BlZWQgPT09IFNpbXVsYXRpb24uTUFYX1NQRUVEIHx8IG51bSA8IHNlbGYuc3BlZWQ7ICsrbnVtKXtcclxuXHJcbiAgICAvLyAgICAgICAgICAgICAvLyBEaWQgd2UgZmluaXNoP1xyXG4gICAgLy8gICAgICAgICAgICAgaWYgKHNlbGYuaV9hdEVuZCl7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgc2VsZi5zZW5kKFwiZmluaXNoZWRcIik7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgb3B0aW9ucy5vbkZpbmlzaCAmJiBvcHRpb25zLm9uRmluaXNoKCk7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgb3B0aW9ucy5hZnRlciAmJiBvcHRpb25zLmFmdGVyKCk7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBkbyBub3QgcmVuZXcgdGltZW91dFxyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG5cclxuICAgIC8vICAgICAgICAgICAgIC8vIERpZCB3ZSBwYXVzZT9cclxuICAgIC8vICAgICAgICAgICAgIGlmIChzZWxmLmlfcGF1c2VkIHx8IChvcHRpb25zLnBhdXNlSWYgJiYgb3B0aW9ucy5wYXVzZUlmKHNlbGYpKSl7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgc2VsZi5zZW5kKFwicGF1c2VkXCIpO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIG9wdGlvbnMub25QYXVzZSAmJiBvcHRpb25zLm9uUGF1c2UoKTtcclxuICAgIC8vICAgICAgICAgICAgICAgICBvcHRpb25zLmFmdGVyICYmIG9wdGlvbnMuYWZ0ZXIoKTtcclxuICAgIC8vICAgICAgICAgICAgICAgICByZXR1cm47IC8vIGRvIG5vdCByZW5ldyB0aW1lb3V0XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcblxyXG4gICAgLy8gICAgICAgICAgICAgLy8gQWJvcnQgaWYgd2UgcnVuIG91dCBvZiB0aW1lXHJcbiAgICAvLyAgICAgICAgICAgICBpZiAoRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSA+PSAoc2VsZi5zcGVlZCA9PT0gU2ltdWxhdGlvbi5NQVhfU1BFRUQgPyAxMCA6IDEwMCkgKXtcclxuICAgIC8vICAgICAgICAgICAgICAgICBicmVhazsgLy8gd2lsbCByZW5ldyB0aW1lb3V0XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcblxyXG4gICAgLy8gICAgICAgICAgICAgc2VsZi5zdGVwRm9yd2FyZCgpO1xyXG4gICAgLy8gICAgICAgICB9XHJcblxyXG4gICAgLy8gICAgICAgICAvLyBSZW5ldyB0aW1lb3V0XHJcbiAgICAvLyAgICAgICAgIGlmIChzZWxmLnNwZWVkID09PSBTaW11bGF0aW9uLk1BWF9TUEVFRCl7XHJcbiAgICAvLyAgICAgICAgICAgICBzZWxmLnJ1blRocmVhZCA9IHNldFRpbWVvdXQoZnVuYywgMCk7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgZWxzZXtcclxuICAgIC8vICAgICAgICAgICAgIHNlbGYucnVuVGhyZWFkID0gc2V0VGltZW91dChmdW5jLCBNYXRoLm1heCgwLDEwMC0oRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSkpKTtcclxuICAgIC8vICAgICAgICAgfVxyXG5cclxuICAgIC8vICAgICB9O1xyXG5cclxuICAgIC8vICAgICAvLyBTdGFydCB0aW1lb3V0XHJcbiAgICAvLyAgICAgdGhpcy5zdGFydFJ1blRocmVhZChmdW5jKTtcclxuICAgIC8vIH0sXHJcblxyXG4gICAgcHVibGljIGNvdXQodmFsdWU6IFZhbHVlKSB7XHJcbiAgICAgICAgLy8gVE9ETzogd2hlbiBvc3RyZWFtcyBhcmUgaW1wbGVtZW50ZWQgcHJvcGVybHkgd2l0aCBvdmVybG9hZGVkIDw8LCBtb3ZlIHRoZSBzcGVjaWFsIGNhc2UgdGhlcmVcclxuICAgICAgICBsZXQgdGV4dCA9IFwiXCI7XHJcbiAgICAgICAgaWYodmFsdWUudHlwZSBpbnN0YW5jZW9mIFBvaW50ZXJUeXBlICYmIHZhbHVlLnR5cGUucHRyVG8gaW5zdGFuY2VvZiBDaGFyKSB7XHJcbiAgICAgICAgICAgIGxldCBhZGRyID0gdmFsdWUucmF3VmFsdWU7XHJcbiAgICAgICAgICAgIGxldCBjID0gdGhpcy5tZW1vcnkuZ2V0Qnl0ZShhZGRyKTtcclxuICAgICAgICAgICAgd2hpbGUgKCFDaGFyLmlzTnVsbENoYXIoYykpIHtcclxuICAgICAgICAgICAgICAgIHRleHQgKz0gdmFsdWUudHlwZS5wdHJUby52YWx1ZVRvT3N0cmVhbVN0cmluZyhjKTtcclxuICAgICAgICAgICAgICAgIGMgPSB0aGlzLm1lbW9yeS5nZXRCeXRlKCsrYWRkcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRleHQgPSBlc2NhcGVTdHJpbmcodmFsdWUudmFsdWVUb09zdHJlYW1TdHJpbmcoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY291dDogXCIgKyB0ZXh0KTtcclxuICAgICAgICAvLyB0aGlzLmNvbnNvbGUuc2V0VmFsdWUodGhpcy5jb25zb2xlLnZhbHVlKCkgKyB0ZXh0KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gcHVibGljIHVuZGVmaW5lZEJlaGF2aW9yIDogZnVuY3Rpb24obWVzc2FnZSkge1xyXG4gICAgLy8gICAgIHRoaXMuZXZlbnRPY2N1cnJlZChTaW11bGF0aW9uLkVWRU5UX1VOREVGSU5FRF9CRUhBVklPUiwgbWVzc2FnZSwgdHJ1ZSk7XHJcblxyXG4gICAgLy8gfSxcclxuICAgIC8vIGltcGxlbWVudGF0aW9uRGVmaW5lZEJlaGF2aW9yIDogZnVuY3Rpb24obWVzc2FnZSkge1xyXG4gICAgLy8gICAgIHRoaXMuZXZlbnRPY2N1cnJlZChTaW11bGF0aW9uLkVWRU5UX0lNUExFTUVOVEFUSU9OX0RFRklORURfQkVIQVZJT1IsIG1lc3NhZ2UsIHRydWUpO1xyXG5cclxuICAgIC8vIH0sXHJcbiAgICAvLyB1bnNwZWNpZmllZEJlaGF2aW9yIDogZnVuY3Rpb24obWVzc2FnZSkge1xyXG4gICAgLy8gICAgIHRoaXMuZXZlbnRPY2N1cnJlZChTaW11bGF0aW9uLkVWRU5UX1VOU1BFQ0lGSUVEX0JFSEFWSU9SLCBtZXNzYWdlLCB0cnVlKTtcclxuXHJcbiAgICAvLyB9LFxyXG4gICAgLy8gbWVtb3J5TGVha2VkIDogZnVuY3Rpb24obWVzc2FnZSkge1xyXG4gICAgLy8gICAgIHRoaXMuZXZlbnRPY2N1cnJlZChTaW11bGF0aW9uLkVWRU5UX01FTU9SWV9MRUFLLCBtZXNzYWdlLCB0cnVlKTtcclxuICAgIC8vIH0sXHJcbiAgICAvLyBhc3NlcnRpb25GYWlsdXJlIDogZnVuY3Rpb24obWVzc2FnZSkge1xyXG4gICAgLy8gICAgIHRoaXMuZXZlbnRPY2N1cnJlZChTaW11bGF0aW9uLkVWRU5UX0FTU0VSVElPTl9GQUlMVVJFLCBtZXNzYWdlLCB0cnVlKTtcclxuICAgIC8vIH0sXHJcbiAgICAvLyBjcmFzaCA6IGZ1bmN0aW9uKG1lc3NhZ2Upe1xyXG4gICAgLy8gICAgIHRoaXMuZXZlbnRPY2N1cnJlZChTaW11bGF0aW9uLkVWRU5UX0NSQVNILCBtZXNzYWdlICsgXCJcXG5cXG4gKE5vdGU6IFRoaXMgaXMgYSBuYXN0eSBlcnJvciBhbmQgSSBtYXkgbm90IGJlIGFibGUgdG8gcmVjb3Zlci4gQ29udGludWUgYXQgeW91ciBvd24gcmlzay4pXCIsIHRydWUpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIHB1YmxpYyBldmVudE9jY3VycmVkKGV2ZW50OiBTaW11bGF0aW9uRXZlbnQsIG1lc3NhZ2U6IHN0cmluZywgc2hvd0FsZXJ0OiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy5fZXZlbnRzT2NjdXJyZWRbZXZlbnRdLnB1c2gobWVzc2FnZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHNob3dBbGVydCkge1xyXG4gICAgICAgICAgICB0aGlzLmFsZXJ0KG1lc3NhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaGFzRXZlbnRPY2N1cnJlZChldmVudDogU2ltdWxhdGlvbkV2ZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzT2NjdXJyZWRbZXZlbnRdLmxlbmd0aCA+IDA7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByaXZhdGUgYWxlcnQobWVzc2FnZTogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmFsZXJ0c09mZil7XHJcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwiYWxlcnRcIiwgbWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGV4cGxhaW4gOiBmdW5jdGlvbihleHApe1xyXG4gICAgLy8gICAgIC8vYWxlcnQoZXhwLmlnbm9yZSk7XHJcbiAgICAvLyAgICAgaWYgKCF0aGlzLmlfZXhwbGFpbk9mZil7XHJcbiAgICAvLyAgICAgICAgIGlmICghZXhwLmlnbm9yZSkge1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5zZW5kKFwiZXhwbGFpblwiLCBleHAubWVzc2FnZSk7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9LFxyXG4gICAgLy8gY2xvc2VNZXNzYWdlIDogZnVuY3Rpb24oKXtcclxuICAgIC8vICAgICB0aGlzLnNlbmQoXCJjbG9zZU1lc3NhZ2VcIik7XHJcbiAgICAvLyB9LFxyXG4gICAgLy8gcGF1c2UgOiBmdW5jdGlvbigpe1xyXG4gICAgLy8gICAgIHRoaXMuaV9wYXVzZWQgPSB0cnVlO1xyXG4gICAgLy8gfSxcclxuXHJcbiAgICAvLyBuZXh0UmFuZG9tIDogZnVuY3Rpb24oKXtcclxuICAgIC8vICAgICByZXR1cm4gTWF0aC5yYW5kb20oKTtcclxuICAgIC8vIH0sXHJcblxyXG4gICAgLy8gbWFpbkNhbGxJbnN0YW5jZSA6IGZ1bmN0aW9uKCl7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuaV9tYWluQ2FsbEluc3Q7XHJcbiAgICAvLyB9LFxyXG5cclxuICAgIC8vIGxlYWtDaGVja0NoaWxkcmVuIDogZnVuY3Rpb24ob2JqKXtcclxuXHJcblxyXG4gICAgLy8gICAgIC8vIElmIGl0J3MgYSBwb2ludGVyIGludG8gYW4gYXJyYXksIGh5cG90aGV0aWNhbGx5IHdlIGNhbiBnZXQgdG8gYW55dGhpbmcgZWxzZSBpbiB0aGUgYXJyYXksXHJcbiAgICAvLyAgICAgLy8gc28gd2UgbmVlZCB0byBhZGQgdGhlIHdob2xlIHRoaW5nIHRvIHRoZSBmcm9udGllci5cclxuICAgIC8vICAgICAvLyBUaGlzIGFsc28gY292ZXJzIGR5bmFtaWMgYXJyYXlzIC0gd2UgbmV2ZXIgaGF2ZSBhIHBvaW50ZXIgdG8gdGhlIGFycmF5LCBidXQgdG8gZWxlbWVudHMgaW4gaXQuXHJcbiAgICAvLyAgICAgaWYgKGlzQShvYmoudHlwZSwgVHlwZXMuQXJyYXlQb2ludGVyKSl7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiBbb2JqLnR5cGUuYXJyT2JqXTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZSBpZiAoaXNBKG9iai50eXBlLCBUeXBlcy5Qb2ludGVyKSAmJiBvYmoudHlwZS5pc09iamVjdFBvaW50ZXIoKSl7XHJcbiAgICAvLyAgICAgICAgIHZhciBwb2ludHNUbyA9IHRoaXMubWVtb3J5LmRlcmVmZXJlbmNlKG9iaik7XHJcbiAgICAvLyAgICAgICAgIGlmIChwb2ludHNUbyAmJiAhaXNBKHBvaW50c1RvLCBBbm9ueW1vdXNPYmplY3QpKXtcclxuICAgIC8vICAgICAgICAgICAgIHJldHVybiBbcG9pbnRzVG9dO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2UgaWYgKGlzQShvYmoudHlwZSwgVHlwZXMuQXJyYXkpKXtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIG9iai5lbGVtT2JqZWN0cztcclxuICAgIC8vICAgICAgICAgLy9jaGlsZHJlbi5wdXNoKG9iai5lbGVtT2JqZWN0cyk7XHJcbiAgICAvLyAgICAgICAgIC8vdmFyIGVsZW1zID0gb2JqLnJhd1ZhbHVlKCk7XHJcbiAgICAvLyAgICAgICAgIC8vdmFyIGNoaWxkcmVuID0gW107XHJcbiAgICAvLyAgICAgICAgIC8vZm9yKHZhciBpID0gMDsgaSA8IGVsZW1zLmxlbmd0aDsgKytpKXtcclxuICAgIC8vICAgICAgICAgLy8gICAgY2hpbGRyZW4ucHVzaChWYWx1ZS5pbnN0YW5jZShlbGVtc1tpXSwgb2JqLnR5cGUuZWxlbVR5cGUpKTtcclxuICAgIC8vICAgICAgICAgLy99XHJcbiAgICAvLyAgICAgICAgIC8vcmV0dXJuIGNoaWxkcmVuO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBlbHNlIGlmIChpc0Eob2JqLnR5cGUsIFR5cGVzLkNsYXNzKSl7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiBvYmouc3Vib2JqZWN0cztcclxuICAgIC8vICAgICAgICAgLy92YXIgbWVtYmVycyA9IG9iai5zdWJPYmplY3RzO1xyXG4gICAgLy8gICAgICAgICAvL3ZhciBjaGlsZHJlbiA9IFtdO1xyXG4gICAgLy8gICAgICAgICAvL2Zvcih2YXIgaSA9IDA7IGkgPCBtZW1iZXJzLmxlbmd0aDsgKytpKXtcclxuICAgIC8vICAgICAgICAgLy8gICAgY2hpbGRyZW4ucHVzaChWYWx1ZS5pbnN0YW5jZShlbGVtc1tpXSkpO1xyXG4gICAgLy8gICAgICAgICAvL31cclxuICAgIC8vICAgICAgICAgLy9yZXR1cm4gY2hpbGRyZW47XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIHJldHVybiBbXTtcclxuICAgIC8vIH0sXHJcbiAgICAvLyBsZWFrQ2hlY2sgOiBmdW5jdGlvbigpe1xyXG4gICAgLy8gICAgIC8vY29uc29sZS5sb2coXCJsZWFrIGNoZWNrIHJ1bm5pbmchXCIpO1xyXG4gICAgLy8gICAgIC8vIFRlbXBvcmFyeSBwbGFjZSBmb3IgdGVzdGluZyBsZWFrIGNoZWNrXHJcbiAgICAvLyAgICAgdmFyIGhlYXBPYmplY3RzTWFwID0gdGhpcy5tZW1vcnkuaGVhcC5vYmplY3RNYXA7XHJcbiAgICAvLyAgICAgZm9yICh2YXIgYWRkciBpbiBoZWFwT2JqZWN0c01hcCkge1xyXG4gICAgLy8gICAgICAgICB2YXIgb2JqID0gaGVhcE9iamVjdHNNYXBbYWRkcl07XHJcbiAgICAvLyAgICAgICAgIGlmKHRoaXMubGVha0NoZWNrT2JqKG9iaikpe1xyXG4gICAgLy8gICAgICAgICAgICAgb2JqLmxlYWtlZCh0aGlzKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICBlbHNle1xyXG4gICAgLy8gICAgICAgICAgICAgb2JqLnVubGVha2VkKHRoaXMpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfSxcclxuICAgIC8vIGxlYWtDaGVja09iaiA6IGZ1bmN0aW9uKHF1ZXJ5KSB7XHJcbiAgICAvLyAgICAgKyt0aGlzLmlfbGVha0NoZWNrSW5kZXg7XHJcbiAgICAvLyAgICAgdmFyIGZyb250aWVyID0gW107XHJcbiAgICAvLyAgICAgdmFyIGdsb2JhbFNjb3BlID0gdGhpcy5pX3Byb2dyYW0uZ2V0R2xvYmFsU2NvcGUoKTtcclxuICAgIC8vICAgICBmb3IgKHZhciBrZXkgaW4gZ2xvYmFsU2NvcGUuZW50aXRpZXMpIHtcclxuICAgIC8vICAgICAgICAgdmFyIGVudCA9IGdsb2JhbFNjb3BlLmVudGl0aWVzW2tleV07XHJcbiAgICAvLyAgICAgICAgIGlmIChpc0EoZW50LCBDUFBPYmplY3QpKXtcclxuICAgIC8vICAgICAgICAgICAgIGVudC5pX2xlYWtDaGVja0luZGV4ID0gdGhpcy5pX2xlYWtDaGVja0luZGV4O1xyXG4gICAgLy8gICAgICAgICAgICAgZnJvbnRpZXIucHVzaChlbnQpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG5cclxuICAgIC8vICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5tZW1vcnkuc3RhY2suZnJhbWVzLmxlbmd0aDsgKytpKXtcclxuICAgIC8vICAgICAgICAgdmFyIGZyYW1lT2JqcyA9IHRoaXMubWVtb3J5LnN0YWNrLmZyYW1lc1tpXS5vYmplY3RzO1xyXG4gICAgLy8gICAgICAgICBmb3IgKHZhciBrZXkgaW4gZnJhbWVPYmpzKSB7XHJcbiAgICAvLyAgICAgICAgICAgICB2YXIgZW50ID0gZnJhbWVPYmpzW2tleV07XHJcbiAgICAvLyAgICAgICAgICAgICBpZiAoaXNBKGVudCwgQ1BQT2JqZWN0KSl7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgZW50LmlfbGVha0NoZWNrSW5kZXggPSB0aGlzLmlfbGVha0NoZWNrSW5kZXg7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgZnJvbnRpZXIucHVzaChlbnQpO1xyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG5cclxuICAgIC8vICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5pX3BlbmRpbmdOZXdzLmxlbmd0aDsgKytpKXtcclxuICAgIC8vICAgICAgICAgdmFyIG9iaiA9IHRoaXMuaV9wZW5kaW5nTmV3c1tpXTtcclxuICAgIC8vICAgICAgICAgb2JqLmlfbGVha0NoZWNrSW5kZXggPSB0aGlzLmlfbGVha0NoZWNrSW5kZXg7XHJcbiAgICAvLyAgICAgICAgIGZyb250aWVyLnB1c2gob2JqKTtcclxuICAgIC8vICAgICB9XHJcblxyXG4gICAgLy8gICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmlfZXhlY1N0YWNrLmxlbmd0aDsgKytpKXtcclxuICAgIC8vICAgICAgICAgdmFyIGluc3QgPSB0aGlzLmlfZXhlY1N0YWNrW2ldO1xyXG4gICAgLy8gICAgICAgICBpZiAoaW5zdC5ldmFsUmVzdWx0KSB7XHJcbiAgICAvLyAgICAgICAgICAgICBvYmogPSBpbnN0LmV2YWxSZXN1bHQ7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgZWxzZSBpZiAoaW5zdC5mdW5jICYmICFpc0EoaW5zdC5mdW5jLm1vZGVsLnR5cGUucmV0dXJuVHlwZSwgVHlwZXMuVm9pZCkpIHtcclxuICAgIC8vICAgICAgICAgICAgIGlmIChpc0EoaW5zdC5mdW5jLm1vZGVsLnR5cGUucmV0dXJuVHlwZSwgVHlwZXMuUmVmZXJlbmNlKSkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIG9iaiA9IGluc3QuZnVuYy5tb2RlbC5nZXRSZXR1cm5PYmplY3QodGhpcywgaW5zdC5mdW5jKTtcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIG9iaiA9IGluc3QuZnVuYy5tb2RlbC5nZXRSZXR1cm5PYmplY3QodGhpcywgaW5zdC5mdW5jKS5nZXRWYWx1ZSgpO1xyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICB9XHJcblxyXG4gICAgLy8gICAgICAgICBpZiAob2JqICYmIGlzQShvYmosIENQUE9iamVjdCkpe1xyXG4gICAgLy8gICAgICAgICAgICAgb2JqLmlfbGVha0NoZWNrSW5kZXggPSB0aGlzLmlfbGVha0NoZWNrSW5kZXg7XHJcbiAgICAvLyAgICAgICAgICAgICBmcm9udGllci5wdXNoKG9iaik7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgZWxzZSBpZiAob2JqICYmIGlzQShvYmosIFZhbHVlKSl7XHJcbiAgICAvLyAgICAgICAgICAgICBmcm9udGllci5wdXNoKG9iaik7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcblxyXG4gICAgLy8gICAgIGZvciAodmFyIGtleSBpbiB0aGlzLm1lbW9yeS50ZW1wb3JhcnlPYmplY3RzKXtcclxuICAgIC8vICAgICAgICAgdmFyIG9iaiA9IHRoaXMubWVtb3J5LnRlbXBvcmFyeU9iamVjdHNba2V5XTtcclxuICAgIC8vICAgICAgICAgb2JqLmlfbGVha0NoZWNrSW5kZXggPSB0aGlzLmlfbGVha0NoZWNrSW5kZXg7XHJcbiAgICAvLyAgICAgICAgIGZyb250aWVyLnB1c2gob2JqKTtcclxuICAgIC8vICAgICB9XHJcblxyXG4gICAgLy8gICAgIHdoaWxlIChmcm9udGllci5sZW5ndGggPiAwKSB7XHJcbiAgICAvLyAgICAgICAgIHZhciBvYmogPSBmcm9udGllci5zaGlmdCgpO1xyXG5cclxuICAgIC8vICAgICAgICAgLy8gQ2hlY2sgaWYgZm91bmRcclxuICAgIC8vICAgICAgICAgaWYgKG9iaiA9PT0gcXVlcnkpe1xyXG4gICAgLy8gICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgLy8gICAgICAgICB9XHJcblxyXG4gICAgLy8gICAgICAgICAvLyBNYXJrIGFzIHZpc2l0ZWRcclxuICAgIC8vICAgICAgICAgb2JqLmlfbGVha0NoZWNrSW5kZXggPSB0aGlzLmlfbGVha0NoZWNrSW5kZXg7XHJcbiAgICAvLyAgICAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMubGVha0NoZWNrQ2hpbGRyZW4ob2JqKTtcclxuICAgIC8vICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgKytpKXtcclxuICAgIC8vICAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xyXG4gICAgLy8gICAgICAgICAgICAgaWYgKGNoaWxkLmlfbGVha0NoZWNrSW5kZXggIT09IHRoaXMuaV9sZWFrQ2hlY2tJbmRleCl7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgZnJvbnRpZXIucHVzaChjaGlsZCk7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAvLyB9LFxyXG59XHJcbiIsIi8qKlxuICogR2V0cyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8ubGFzdChbMSwgMiwgM10pO1xuICogLy8gPT4gM1xuICovXG5mdW5jdGlvbiBsYXN0KGFycmF5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgcmV0dXJuIGxlbmd0aCA/IGFycmF5W2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGxhc3Q7XG4iLCIvKipcbiAqIENvcGllcyB0aGUgdmFsdWVzIG9mIGBzb3VyY2VgIHRvIGBhcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgZnJvbS5cbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheT1bXV0gVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIHRvLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGNvcHlBcnJheShzb3VyY2UsIGFycmF5KSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcblxuICBhcnJheSB8fCAoYXJyYXkgPSBBcnJheShsZW5ndGgpKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBhcnJheVtpbmRleF0gPSBzb3VyY2VbaW5kZXhdO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjb3B5QXJyYXk7XG4iLCIvKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuYXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIHN0b3JpbmcgbWV0YWRhdGEuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlVW5hcnkoZnVuYykge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVVuYXJ5O1xuIiwiLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGJhc2VJbmRleE9mYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGEgY29tcGFyYXRvci5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICovXG5mdW5jdGlvbiBiYXNlSW5kZXhPZldpdGgoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgsIGNvbXBhcmF0b3IpIHtcbiAgdmFyIGluZGV4ID0gZnJvbUluZGV4IC0gMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGlmIChjb21wYXJhdG9yKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlSW5kZXhPZldpdGg7XG4iLCIvKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5pbmRleE9mYCB3aGljaCBwZXJmb3JtcyBzdHJpY3QgZXF1YWxpdHlcbiAqIGNvbXBhcmlzb25zIG9mIHZhbHVlcywgaS5lLiBgPT09YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICovXG5mdW5jdGlvbiBzdHJpY3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gIHZhciBpbmRleCA9IGZyb21JbmRleCAtIDEsXG4gICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3RyaWN0SW5kZXhPZjtcbiIsIi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYU5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbnVtYmVyIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTmFOKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUlzTmFOO1xuIiwiLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maW5kSW5kZXhgIGFuZCBgXy5maW5kTGFzdEluZGV4YCB3aXRob3V0XG4gKiBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VGaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4LCBmcm9tUmlnaHQpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgIGluZGV4ID0gZnJvbUluZGV4ICsgKGZyb21SaWdodCA/IDEgOiAtMSk7XG5cbiAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUZpbmRJbmRleDtcbiIsInZhciBiYXNlRmluZEluZGV4ID0gcmVxdWlyZSgnLi9fYmFzZUZpbmRJbmRleCcpLFxuICAgIGJhc2VJc05hTiA9IHJlcXVpcmUoJy4vX2Jhc2VJc05hTicpLFxuICAgIHN0cmljdEluZGV4T2YgPSByZXF1aXJlKCcuL19zdHJpY3RJbmRleE9mJyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW5kZXhPZmAgd2l0aG91dCBgZnJvbUluZGV4YCBib3VuZHMgY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gdmFsdWVcbiAgICA/IHN0cmljdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpXG4gICAgOiBiYXNlRmluZEluZGV4KGFycmF5LCBiYXNlSXNOYU4sIGZyb21JbmRleCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUluZGV4T2Y7XG4iLCIvKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tYXBgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICogc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlNYXAoYXJyYXksIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFycmF5TWFwO1xuIiwidmFyIGFycmF5TWFwID0gcmVxdWlyZSgnLi9fYXJyYXlNYXAnKSxcbiAgICBiYXNlSW5kZXhPZiA9IHJlcXVpcmUoJy4vX2Jhc2VJbmRleE9mJyksXG4gICAgYmFzZUluZGV4T2ZXaXRoID0gcmVxdWlyZSgnLi9fYmFzZUluZGV4T2ZXaXRoJyksXG4gICAgYmFzZVVuYXJ5ID0gcmVxdWlyZSgnLi9fYmFzZVVuYXJ5JyksXG4gICAgY29weUFycmF5ID0gcmVxdWlyZSgnLi9fY29weUFycmF5Jyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wdWxsQWxsQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAqIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgdmFyIGluZGV4T2YgPSBjb21wYXJhdG9yID8gYmFzZUluZGV4T2ZXaXRoIDogYmFzZUluZGV4T2YsXG4gICAgICBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgIHNlZW4gPSBhcnJheTtcblxuICBpZiAoYXJyYXkgPT09IHZhbHVlcykge1xuICAgIHZhbHVlcyA9IGNvcHlBcnJheSh2YWx1ZXMpO1xuICB9XG4gIGlmIChpdGVyYXRlZSkge1xuICAgIHNlZW4gPSBhcnJheU1hcChhcnJheSwgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gIH1cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZnJvbUluZGV4ID0gMCxcbiAgICAgICAgdmFsdWUgPSB2YWx1ZXNbaW5kZXhdLFxuICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICB3aGlsZSAoKGZyb21JbmRleCA9IGluZGV4T2Yoc2VlbiwgY29tcHV0ZWQsIGZyb21JbmRleCwgY29tcGFyYXRvcikpID4gLTEpIHtcbiAgICAgIGlmIChzZWVuICE9PSBhcnJheSkge1xuICAgICAgICBzcGxpY2UuY2FsbChzZWVuLCBmcm9tSW5kZXgsIDEpO1xuICAgICAgfVxuICAgICAgc3BsaWNlLmNhbGwoYXJyYXksIGZyb21JbmRleCwgMSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlUHVsbEFsbDtcbiIsInZhciBiYXNlUHVsbEFsbCA9IHJlcXVpcmUoJy4vX2Jhc2VQdWxsQWxsJyk7XG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGFuIGFycmF5IG9mIHZhbHVlcyB0byByZW1vdmUuXG4gKlxuICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBBcnJheVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2EnLCAnYicsICdjJ107XG4gKlxuICogXy5wdWxsQWxsKGFycmF5LCBbJ2EnLCAnYyddKTtcbiAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAqIC8vID0+IFsnYicsICdiJ11cbiAqL1xuZnVuY3Rpb24gcHVsbEFsbChhcnJheSwgdmFsdWVzKSB7XG4gIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcylcbiAgICA6IGFycmF5O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHB1bGxBbGw7XG4iLCIvKiogVXNlZCB0byBkZXRlY3QgaG90IGZ1bmN0aW9ucyBieSBudW1iZXIgb2YgY2FsbHMgd2l0aGluIGEgc3BhbiBvZiBtaWxsaXNlY29uZHMuICovXG52YXIgSE9UX0NPVU5UID0gODAwLFxuICAgIEhPVF9TUEFOID0gMTY7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVOb3cgPSBEYXRlLm5vdztcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCdsbCBzaG9ydCBvdXQgYW5kIGludm9rZSBgaWRlbnRpdHlgIGluc3RlYWRcbiAqIG9mIGBmdW5jYCB3aGVuIGl0J3MgY2FsbGVkIGBIT1RfQ09VTlRgIG9yIG1vcmUgdGltZXMgaW4gYEhPVF9TUEFOYFxuICogbWlsbGlzZWNvbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNob3J0YWJsZSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gc2hvcnRPdXQoZnVuYykge1xuICB2YXIgY291bnQgPSAwLFxuICAgICAgbGFzdENhbGxlZCA9IDA7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdGFtcCA9IG5hdGl2ZU5vdygpLFxuICAgICAgICByZW1haW5pbmcgPSBIT1RfU1BBTiAtIChzdGFtcCAtIGxhc3RDYWxsZWQpO1xuXG4gICAgbGFzdENhbGxlZCA9IHN0YW1wO1xuICAgIGlmIChyZW1haW5pbmcgPiAwKSB7XG4gICAgICBpZiAoKytjb3VudCA+PSBIT1RfQ09VTlQpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY291bnQgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvcnRPdXQ7XG4iLCIvKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRWYWx1ZTtcbiIsIi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICovXG5mdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiAnJztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b1NvdXJjZTtcbiIsInZhciByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG52YXIgY29yZUpzRGF0YSA9IHJvb3RbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNvcmVKc0RhdGE7XG4iLCJ2YXIgY29yZUpzRGF0YSA9IHJlcXVpcmUoJy4vX2NvcmVKc0RhdGEnKTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbnZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG59KCkpO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc01hc2tlZDtcbiIsIi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG9iamVjdFRvU3RyaW5nO1xuIiwidmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX1N5bWJvbCcpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByYXcgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gIHZhciBpc093biA9IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHN5bVRvU3RyaW5nVGFnKSxcbiAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcblxuICB0cnkge1xuICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHVuZGVmaW5lZDtcbiAgICB2YXIgdW5tYXNrZWQgPSB0cnVlO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHZhciByZXN1bHQgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgaWYgKHVubWFza2VkKSB7XG4gICAgaWYgKGlzT3duKSB7XG4gICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB0YWc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0UmF3VGFnO1xuIiwiLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxubW9kdWxlLmV4cG9ydHMgPSBmcmVlR2xvYmFsO1xuIiwidmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX1N5bWJvbCcpLFxuICAgIGdldFJhd1RhZyA9IHJlcXVpcmUoJy4vX2dldFJhd1RhZycpLFxuICAgIG9iamVjdFRvU3RyaW5nID0gcmVxdWlyZSgnLi9fb2JqZWN0VG9TdHJpbmcnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXSc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgfVxuICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUdldFRhZztcbiIsInZhciBiYXNlR2V0VGFnID0gcmVxdWlyZSgnLi9fYmFzZUdldFRhZycpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXN5bmNUYWcgPSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICBwcm94eVRhZyA9ICdbb2JqZWN0IFByb3h5XSc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0Z1bmN0aW9uKF8pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAvLyBpbiBTYWZhcmkgOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheXMgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZyB8fCB0YWcgPT0gYXN5bmNUYWcgfHwgdGFnID09IHByb3h5VGFnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzRnVuY3Rpb247XG4iLCJ2YXIgaXNGdW5jdGlvbiA9IHJlcXVpcmUoJy4vaXNGdW5jdGlvbicpLFxuICAgIGlzTWFza2VkID0gcmVxdWlyZSgnLi9faXNNYXNrZWQnKSxcbiAgICBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKSxcbiAgICB0b1NvdXJjZSA9IHJlcXVpcmUoJy4vX3RvU291cmNlJyk7XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gKi9cbnZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2c7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbnZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbnZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUlzTmF0aXZlO1xuIiwidmFyIGJhc2VJc05hdGl2ZSA9IHJlcXVpcmUoJy4vX2Jhc2VJc05hdGl2ZScpLFxuICAgIGdldFZhbHVlID0gcmVxdWlyZSgnLi9fZ2V0VmFsdWUnKTtcblxuLyoqXG4gKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXROYXRpdmU7XG4iLCJ2YXIgZ2V0TmF0aXZlID0gcmVxdWlyZSgnLi9fZ2V0TmF0aXZlJyk7XG5cbnZhciBkZWZpbmVQcm9wZXJ0eSA9IChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICB2YXIgZnVuYyA9IGdldE5hdGl2ZShPYmplY3QsICdkZWZpbmVQcm9wZXJ0eScpO1xuICAgIGZ1bmMoe30sICcnLCB7fSk7XG4gICAgcmV0dXJuIGZ1bmM7XG4gIH0gY2F0Y2ggKGUpIHt9XG59KCkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZmluZVByb3BlcnR5O1xuIiwiLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGB2YWx1ZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAyLjQuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJldHVybiBmcm9tIHRoZSBuZXcgZnVuY3Rpb24uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb25zdGFudCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uY29uc3RhbnQoeyAnYSc6IDEgfSkpO1xuICpcbiAqIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuICogLy8gPT4gW3sgJ2EnOiAxIH0sIHsgJ2EnOiAxIH1dXG4gKlxuICogY29uc29sZS5sb2cob2JqZWN0c1swXSA9PT0gb2JqZWN0c1sxXSk7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGNvbnN0YW50KHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29uc3RhbnQ7XG4iLCJ2YXIgY29uc3RhbnQgPSByZXF1aXJlKCcuL2NvbnN0YW50JyksXG4gICAgZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuL19kZWZpbmVQcm9wZXJ0eScpLFxuICAgIGlkZW50aXR5ID0gcmVxdWlyZSgnLi9pZGVudGl0eScpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBzZXRUb1N0cmluZ2Agd2l0aG91dCBzdXBwb3J0IGZvciBob3QgbG9vcCBzaG9ydGluZy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gKi9cbnZhciBiYXNlU2V0VG9TdHJpbmcgPSAhZGVmaW5lUHJvcGVydHkgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIHN0cmluZykge1xuICByZXR1cm4gZGVmaW5lUHJvcGVydHkoZnVuYywgJ3RvU3RyaW5nJywge1xuICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICdlbnVtZXJhYmxlJzogZmFsc2UsXG4gICAgJ3ZhbHVlJzogY29uc3RhbnQoc3RyaW5nKSxcbiAgICAnd3JpdGFibGUnOiB0cnVlXG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlU2V0VG9TdHJpbmc7XG4iLCJ2YXIgYmFzZVNldFRvU3RyaW5nID0gcmVxdWlyZSgnLi9fYmFzZVNldFRvU3RyaW5nJyksXG4gICAgc2hvcnRPdXQgPSByZXF1aXJlKCcuL19zaG9ydE91dCcpO1xuXG4vKipcbiAqIFNldHMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIGBmdW5jYCB0byByZXR1cm4gYHN0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICovXG52YXIgc2V0VG9TdHJpbmcgPSBzaG9ydE91dChiYXNlU2V0VG9TdHJpbmcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHNldFRvU3RyaW5nO1xuIiwiLyoqXG4gKiBBIGZhc3RlciBhbHRlcm5hdGl2ZSB0byBgRnVuY3Rpb24jYXBwbHlgLCB0aGlzIGZ1bmN0aW9uIGludm9rZXMgYGZ1bmNgXG4gKiB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgdGhpc0FyZ2AgYW5kIHRoZSBhcmd1bWVudHMgb2YgYGFyZ3NgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGBmdW5jYC5cbiAqL1xuZnVuY3Rpb24gYXBwbHkoZnVuYywgdGhpc0FyZywgYXJncykge1xuICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgY2FzZSAwOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcpO1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdKTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICB9XG4gIHJldHVybiBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFwcGx5O1xuIiwidmFyIGFwcGx5ID0gcmVxdWlyZSgnLi9fYXBwbHknKTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZU1heCA9IE1hdGgubWF4O1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVJlc3RgIHdoaWNoIHRyYW5zZm9ybXMgdGhlIHJlc3QgYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIHJlc3QgYXJyYXkgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCB0cmFuc2Zvcm0pIHtcbiAgc3RhcnQgPSBuYXRpdmVNYXgoc3RhcnQgPT09IHVuZGVmaW5lZCA/IChmdW5jLmxlbmd0aCAtIDEpIDogc3RhcnQsIDApO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChhcmdzLmxlbmd0aCAtIHN0YXJ0LCAwKSxcbiAgICAgICAgYXJyYXkgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFycmF5W2luZGV4XSA9IGFyZ3Nbc3RhcnQgKyBpbmRleF07XG4gICAgfVxuICAgIGluZGV4ID0gLTE7XG4gICAgdmFyIG90aGVyQXJncyA9IEFycmF5KHN0YXJ0ICsgMSk7XG4gICAgd2hpbGUgKCsraW5kZXggPCBzdGFydCkge1xuICAgICAgb3RoZXJBcmdzW2luZGV4XSA9IGFyZ3NbaW5kZXhdO1xuICAgIH1cbiAgICBvdGhlckFyZ3Nbc3RhcnRdID0gdHJhbnNmb3JtKGFycmF5KTtcbiAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBvdmVyUmVzdDtcbiIsInZhciBpZGVudGl0eSA9IHJlcXVpcmUoJy4vaWRlbnRpdHknKSxcbiAgICBvdmVyUmVzdCA9IHJlcXVpcmUoJy4vX292ZXJSZXN0JyksXG4gICAgc2V0VG9TdHJpbmcgPSByZXF1aXJlKCcuL19zZXRUb1N0cmluZycpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlc3RgIHdoaWNoIGRvZXNuJ3QgdmFsaWRhdGUgb3IgY29lcmNlIGFyZ3VtZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlUmVzdChmdW5jLCBzdGFydCkge1xuICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgc3RhcnQsIGlkZW50aXR5KSwgZnVuYyArICcnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlUmVzdDtcbiIsInZhciBiYXNlUmVzdCA9IHJlcXVpcmUoJy4vX2Jhc2VSZXN0JyksXG4gICAgcHVsbEFsbCA9IHJlcXVpcmUoJy4vcHVsbEFsbCcpO1xuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGdpdmVuIHZhbHVlcyBmcm9tIGBhcnJheWAgdXNpbmdcbiAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gKlxuICogKipOb3RlOioqIFVubGlrZSBgXy53aXRob3V0YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLiBVc2UgYF8ucmVtb3ZlYFxuICogdG8gcmVtb3ZlIGVsZW1lbnRzIGZyb20gYW4gYXJyYXkgYnkgcHJlZGljYXRlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMi4wLjBcbiAqIEBjYXRlZ29yeSBBcnJheVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdhJywgJ2InLCAnYyddO1xuICpcbiAqIF8ucHVsbChhcnJheSwgJ2EnLCAnYycpO1xuICogY29uc29sZS5sb2coYXJyYXkpO1xuICogLy8gPT4gWydiJywgJ2InXVxuICovXG52YXIgcHVsbCA9IGJhc2VSZXN0KHB1bGxBbGwpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHB1bGw7XG4iLCIvLyB0c2xpbnQ6ZGlzYWJsZTpvbmx5LWFycm93LWZ1bmN0aW9uc1xuLy8gdHNsaW50OmRpc2FibGU6b2JqZWN0LWxpdGVyYWwtc2hvcnRoYW5kXG4vLyB0c2xpbnQ6ZGlzYWJsZTp0cmFpbGluZy1jb21tYVxuLy8gdHNsaW50OmRpc2FibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzXG4vLyB0c2xpbnQ6ZGlzYWJsZTpvbmUtdmFyaWFibGUtcGVyLWRlY2xhcmF0aW9uXG4vLyB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGhcbi8vIHRzbGludDpkaXNhYmxlOm5vLWNvbnNlY3V0aXZlLWJsYW5rLWxpbmVzXG4vLyB0c2xpbnQ6ZGlzYWJsZTphbGlnblxuXG5cbi8vIEdlbmVyYXRlZCBieSBQRUcuanMgdi4gMC4xMC4wICh0cy1wZWdqcyBwbHVnaW4gdi4gMC4yLjYgKVxuLy9cbi8vIGh0dHBzOi8vcGVnanMub3JnLyAgIGh0dHBzOi8vZ2l0aHViLmNvbS9tZXRhZGV2cHJvL3RzLXBlZ2pzXG5cblwidXNlIHN0cmljdFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIElGaWxlUG9zaXRpb24ge1xuICBvZmZzZXQ6IG51bWJlcjtcbiAgbGluZTogbnVtYmVyO1xuICBjb2x1bW46IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRmlsZVJhbmdlIHtcbiAgc3RhcnQ6IElGaWxlUG9zaXRpb247XG4gIGVuZDogSUZpbGVQb3NpdGlvbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJTGl0ZXJhbEV4cGVjdGF0aW9uIHtcbiAgdHlwZTogXCJsaXRlcmFsXCI7XG4gIHRleHQ6IHN0cmluZztcbiAgaWdub3JlQ2FzZTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQ2xhc3NQYXJ0cyBleHRlbmRzIEFycmF5PHN0cmluZyB8IElDbGFzc1BhcnRzPiB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIElDbGFzc0V4cGVjdGF0aW9uIHtcbiAgdHlwZTogXCJjbGFzc1wiO1xuICBwYXJ0czogSUNsYXNzUGFydHM7XG4gIGludmVydGVkOiBib29sZWFuO1xuICBpZ25vcmVDYXNlOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElBbnlFeHBlY3RhdGlvbiB7XG4gIHR5cGU6IFwiYW55XCI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUVuZEV4cGVjdGF0aW9uIHtcbiAgdHlwZTogXCJlbmRcIjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJT3RoZXJFeHBlY3RhdGlvbiB7XG4gIHR5cGU6IFwib3RoZXJcIjtcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgRXhwZWN0YXRpb24gPSBJTGl0ZXJhbEV4cGVjdGF0aW9uIHwgSUNsYXNzRXhwZWN0YXRpb24gfCBJQW55RXhwZWN0YXRpb24gfCBJRW5kRXhwZWN0YXRpb24gfCBJT3RoZXJFeHBlY3RhdGlvbjtcblxuZXhwb3J0IGNsYXNzIFN5bnRheEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBwdWJsaWMgc3RhdGljIGJ1aWxkTWVzc2FnZShleHBlY3RlZDogRXhwZWN0YXRpb25bXSwgZm91bmQ6IHN0cmluZyB8IG51bGwpIHtcbiAgICBmdW5jdGlvbiBoZXgoY2g6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICByZXR1cm4gY2guY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXRlcmFsRXNjYXBlKHM6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICByZXR1cm4gc1xuICAgICAgICAucmVwbGFjZSgvXFxcXC9nLCBcIlxcXFxcXFxcXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cIi9nLCAgXCJcXFxcXFxcIlwiKVxuICAgICAgICAucmVwbGFjZSgvXFwwL2csIFwiXFxcXDBcIilcbiAgICAgICAgLnJlcGxhY2UoL1xcdC9nLCBcIlxcXFx0XCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXG4vZywgXCJcXFxcblwiKVxuICAgICAgICAucmVwbGFjZSgvXFxyL2csIFwiXFxcXHJcIilcbiAgICAgICAgLnJlcGxhY2UoL1tcXHgwMC1cXHgwRl0vZywgICAgICAgICAgICAoY2gpID0+IFwiXFxcXHgwXCIgKyBoZXgoY2gpIClcbiAgICAgICAgLnJlcGxhY2UoL1tcXHgxMC1cXHgxRlxceDdGLVxceDlGXS9nLCAoY2gpID0+IFwiXFxcXHhcIiAgKyBoZXgoY2gpICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xhc3NFc2NhcGUoczogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgIHJldHVybiBzXG4gICAgICAgIC5yZXBsYWNlKC9cXFxcL2csIFwiXFxcXFxcXFxcIilcbiAgICAgICAgLnJlcGxhY2UoL1xcXS9nLCBcIlxcXFxdXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXF4vZywgXCJcXFxcXlwiKVxuICAgICAgICAucmVwbGFjZSgvLS9nLCAgXCJcXFxcLVwiKVxuICAgICAgICAucmVwbGFjZSgvXFwwL2csIFwiXFxcXDBcIilcbiAgICAgICAgLnJlcGxhY2UoL1xcdC9nLCBcIlxcXFx0XCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXG4vZywgXCJcXFxcblwiKVxuICAgICAgICAucmVwbGFjZSgvXFxyL2csIFwiXFxcXHJcIilcbiAgICAgICAgLnJlcGxhY2UoL1tcXHgwMC1cXHgwRl0vZywgICAgICAgICAgICAoY2gpID0+IFwiXFxcXHgwXCIgKyBoZXgoY2gpIClcbiAgICAgICAgLnJlcGxhY2UoL1tcXHgxMC1cXHgxRlxceDdGLVxceDlGXS9nLCAoY2gpID0+IFwiXFxcXHhcIiAgKyBoZXgoY2gpICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVzY3JpYmVFeHBlY3RhdGlvbihleHBlY3RhdGlvbjogRXhwZWN0YXRpb24pIHtcbiAgICAgIHN3aXRjaCAoZXhwZWN0YXRpb24udHlwZSkge1xuICAgICAgICBjYXNlIFwibGl0ZXJhbFwiOlxuICAgICAgICAgIHJldHVybiBcIlxcXCJcIiArIGxpdGVyYWxFc2NhcGUoZXhwZWN0YXRpb24udGV4dCkgKyBcIlxcXCJcIjtcbiAgICAgICAgY2FzZSBcImNsYXNzXCI6XG4gICAgICAgICAgY29uc3QgZXNjYXBlZFBhcnRzID0gZXhwZWN0YXRpb24ucGFydHMubWFwKChwYXJ0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShwYXJ0KVxuICAgICAgICAgICAgICA/IGNsYXNzRXNjYXBlKHBhcnRbMF0gYXMgc3RyaW5nKSArIFwiLVwiICsgY2xhc3NFc2NhcGUocGFydFsxXSBhcyBzdHJpbmcpXG4gICAgICAgICAgICAgIDogY2xhc3NFc2NhcGUocGFydCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gXCJbXCIgKyAoZXhwZWN0YXRpb24uaW52ZXJ0ZWQgPyBcIl5cIiA6IFwiXCIpICsgZXNjYXBlZFBhcnRzICsgXCJdXCI7XG4gICAgICAgIGNhc2UgXCJhbnlcIjpcbiAgICAgICAgICByZXR1cm4gXCJhbnkgY2hhcmFjdGVyXCI7XG4gICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICByZXR1cm4gXCJlbmQgb2YgaW5wdXRcIjtcbiAgICAgICAgY2FzZSBcIm90aGVyXCI6XG4gICAgICAgICAgcmV0dXJuIGV4cGVjdGF0aW9uLmRlc2NyaXB0aW9uO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlRXhwZWN0ZWQoZXhwZWN0ZWQxOiBFeHBlY3RhdGlvbltdKSB7XG4gICAgICBjb25zdCBkZXNjcmlwdGlvbnMgPSBleHBlY3RlZDEubWFwKGRlc2NyaWJlRXhwZWN0YXRpb24pO1xuICAgICAgbGV0IGk6IG51bWJlcjtcbiAgICAgIGxldCBqOiBudW1iZXI7XG5cbiAgICAgIGRlc2NyaXB0aW9ucy5zb3J0KCk7XG5cbiAgICAgIGlmIChkZXNjcmlwdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGkgPSAxLCBqID0gMTsgaSA8IGRlc2NyaXB0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChkZXNjcmlwdGlvbnNbaSAtIDFdICE9PSBkZXNjcmlwdGlvbnNbaV0pIHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uc1tqXSA9IGRlc2NyaXB0aW9uc1tpXTtcbiAgICAgICAgICAgIGorKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVzY3JpcHRpb25zLmxlbmd0aCA9IGo7XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAoZGVzY3JpcHRpb25zLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uc1swXTtcblxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uc1swXSArIFwiIG9yIFwiICsgZGVzY3JpcHRpb25zWzFdO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9ucy5zbGljZSgwLCAtMSkuam9pbihcIiwgXCIpXG4gICAgICAgICAgICArIFwiLCBvciBcIlxuICAgICAgICAgICAgKyBkZXNjcmlwdGlvbnNbZGVzY3JpcHRpb25zLmxlbmd0aCAtIDFdO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlRm91bmQoZm91bmQxOiBzdHJpbmcgfCBudWxsKSB7XG4gICAgICByZXR1cm4gZm91bmQxID8gXCJcXFwiXCIgKyBsaXRlcmFsRXNjYXBlKGZvdW5kMSkgKyBcIlxcXCJcIiA6IFwiZW5kIG9mIGlucHV0XCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIFwiRXhwZWN0ZWQgXCIgKyBkZXNjcmliZUV4cGVjdGVkKGV4cGVjdGVkKSArIFwiIGJ1dCBcIiArIGRlc2NyaWJlRm91bmQoZm91bmQpICsgXCIgZm91bmQuXCI7XG4gIH1cblxuICBwdWJsaWMgbWVzc2FnZTogc3RyaW5nO1xuICBwdWJsaWMgZXhwZWN0ZWQ6IEV4cGVjdGF0aW9uW107XG4gIHB1YmxpYyBmb3VuZDogc3RyaW5nIHwgbnVsbDtcbiAgcHVibGljIGxvY2F0aW9uOiBJRmlsZVJhbmdlO1xuICBwdWJsaWMgbmFtZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZywgZXhwZWN0ZWQ6IEV4cGVjdGF0aW9uW10sIGZvdW5kOiBzdHJpbmcgfCBudWxsLCBsb2NhdGlvbjogSUZpbGVSYW5nZSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLmV4cGVjdGVkID0gZXhwZWN0ZWQ7XG4gICAgdGhpcy5mb3VuZCA9IGZvdW5kO1xuICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICB0aGlzLm5hbWUgPSBcIlN5bnRheEVycm9yXCI7XG5cbiAgICBpZiAodHlwZW9mIChFcnJvciBhcyBhbnkpLmNhcHR1cmVTdGFja1RyYWNlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIChFcnJvciBhcyBhbnkpLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIFN5bnRheEVycm9yKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcGVnJHBhcnNlKGlucHV0OiBzdHJpbmcsIG9wdGlvbnM/OiBJUGFyc2VPcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zICE9PSB1bmRlZmluZWQgPyBvcHRpb25zIDoge307XG5cbiAgY29uc3QgcGVnJEZBSUxFRDogUmVhZG9ubHk8e30+ID0ge307XG5cbiAgY29uc3QgcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uczoge1tpZDogc3RyaW5nXTogYW55fSA9IHsgc3RhcnQ6IHBlZyRwYXJzZXN0YXJ0IH07XG4gIGxldCBwZWckc3RhcnRSdWxlRnVuY3Rpb246ICgpID0+IGFueSA9IHBlZyRwYXJzZXN0YXJ0O1xuXG4gIGNvbnN0IHBlZyRjMCA9IGZ1bmN0aW9uKGQ6IGFueSk6IGFueSB7cmV0dXJuIGR9O1xuICBjb25zdCBwZWckYzEgPSBmdW5jdGlvbihkZWNsczogYW55KTogYW55IHtyZXR1cm4ge2NvbnN0cnVjdF90eXBlOiBcInRyYW5zbGF0aW9uX3VuaXRcIiwgZGVjbGFyYXRpb25zOiBkZWNscy5maWx0ZXIoKGVsZW06IGFueSkgPT4gZWxlbSE9PVwiY29tbWVudFwiKX07fTtcbiAgY29uc3QgcGVnJGMyID0gZnVuY3Rpb24oKTogYW55IHtyZXR1cm4gXCJjb21tZW50XCI7fTtcbiAgY29uc3QgcGVnJGMzID0gXCIvL1wiO1xuICBjb25zdCBwZWckYzQgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiLy9cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzUgPSAvXlteXFxuXS87XG4gIGNvbnN0IHBlZyRjNiA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtcIlxcblwiXSwgdHJ1ZSwgZmFsc2UpO1xuICBjb25zdCBwZWckYzcgPSBcIlxcblwiO1xuICBjb25zdCBwZWckYzggPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiXFxuXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM5ID0gXCIvKlwiO1xuICBjb25zdCBwZWckYzEwID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIi8qXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxMSA9IFwiKi9cIjtcbiAgY29uc3QgcGVnJGMxMiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIqL1wiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTMgPSBwZWckYW55RXhwZWN0YXRpb24oKTtcbiAgY29uc3QgcGVnJGMxNCA9IGZ1bmN0aW9uKHQ6IGFueSk6IGFueSB7cmV0dXJuIHRyYWNrKHQsIGxvY2F0aW9uKCksIHRleHQoKSk7fTtcbiAgY29uc3QgcGVnJGMxNSA9IGZ1bmN0aW9uKHN0bXQ6IGFueSk6IGFueSB7cmV0dXJuIGFic29yYih7Y29uc3RydWN0X3R5cGU6XCJsYWJlbGVkX3N0YXRlbWVudFwifSwgc3RtdCk7IH07XG4gIGNvbnN0IHBlZyRjMTYgPSBcIjpcIjtcbiAgY29uc3QgcGVnJGMxNyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCI6XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxOCA9IGZ1bmN0aW9uKGxhYmVsOiBhbnksIHN0bXQ6IGFueSk6IGFueSB7cmV0dXJuIHtjb25zdHJ1Y3RfdHlwZTogXCJsYWJlbGVkX3N0YXRlbWVudFwiLCBsYWJlbDpsYWJlbCwgc3RhdGVtZW50OiBzdG10fTsgfTtcbiAgY29uc3QgcGVnJGMxOSA9IFwiY2FzZVwiO1xuICBjb25zdCBwZWckYzIwID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImNhc2VcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzIxID0gZnVuY3Rpb24oYzogYW55LCBzdG10OiBhbnkpOiBhbnkgeyByZXR1cm4ge2NvbnN0cnVjdF90eXBlOiBcImxhYmVsZWRfc3RhdGVtZW50XCIsIGNhc2U6Yywgc3RhdGVtZW50OnN0bXR9OyB9O1xuICBjb25zdCBwZWckYzIyID0gXCJkZWZhdWx0XCI7XG4gIGNvbnN0IHBlZyRjMjMgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiZGVmYXVsdFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjQgPSBmdW5jdGlvbihzdG10OiBhbnkpOiBhbnkgeyByZXR1cm4ge2NvbnN0cnVjdF90eXBlOiBcImxhYmVsZWRfc3RhdGVtZW50XCIsIGRlZmF1bHQ6dHJ1ZSwgc3RtdDpzdG10fTsgfTtcbiAgY29uc3QgcGVnJGMyNSA9IFwiO1wiO1xuICBjb25zdCBwZWckYzI2ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIjtcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzI3ID0gZnVuY3Rpb24oZXhwcjogYW55KTogYW55IHsgcmV0dXJuIHtjb25zdHJ1Y3RfdHlwZTogXCJleHByZXNzaW9uX3N0YXRlbWVudFwiLCBleHByZXNzaW9uOmV4cHJ9OyB9O1xuICBjb25zdCBwZWckYzI4ID0gZnVuY3Rpb24oKTogYW55IHsgcmV0dXJuIHtjb25zdHJ1Y3RfdHlwZTogXCJudWxsX3N0YXRlbWVudFwifTsgfTtcbiAgY29uc3QgcGVnJGMyOSA9IFwie1wiO1xuICBjb25zdCBwZWckYzMwID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIntcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzMxID0gZnVuY3Rpb24oc3RtdDogYW55KTogYW55IHtyZXR1cm4gc3RtdH07XG4gIGNvbnN0IHBlZyRjMzIgPSBcIn1cIjtcbiAgY29uc3QgcGVnJGMzMyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ9XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMzNCA9IGZ1bmN0aW9uKHN0bXRzOiBhbnkpOiBhbnkgeyByZXR1cm4ge2NvbnN0cnVjdF90eXBlOiBcImJsb2NrXCIsIHN0YXRlbWVudHM6IHN0bXRzfTsgfTtcbiAgY29uc3QgcGVnJGMzNSA9IFwiaWZcIjtcbiAgY29uc3QgcGVnJGMzNiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJpZlwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzcgPSBcIihcIjtcbiAgY29uc3QgcGVnJGMzOCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIoXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMzOSA9IFwiKVwiO1xuICBjb25zdCBwZWckYzQwID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIilcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzQxID0gXCJlbHNlXCI7XG4gIGNvbnN0IHBlZyRjNDIgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiZWxzZVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDMgPSBmdW5jdGlvbihjb25kOiBhbnksIHRoZW46IGFueSwgZTogYW55KTogYW55IHtyZXR1cm4ge2NvbnN0cnVjdF90eXBlOlwic2VsZWN0aW9uX3N0YXRlbWVudFwiLCBjb25kaXRpb246Y29uZCwgdGhlbjp0aGVuLCBvdGhlcndpc2U6ZX07IH07XG4gIGNvbnN0IHBlZyRjNDQgPSBmdW5jdGlvbihjb25kOiBhbnksIHRoZW46IGFueSk6IGFueSB7cmV0dXJuIHtjb25zdHJ1Y3RfdHlwZTpcInNlbGVjdGlvbl9zdGF0ZW1lbnRcIiwgY29uZGl0aW9uOmNvbmQsIHRoZW46dGhlbn07IH07XG4gIGNvbnN0IHBlZyRjNDUgPSBcIndoaWxlXCI7XG4gIGNvbnN0IHBlZyRjNDYgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwid2hpbGVcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzQ3ID0gZnVuY3Rpb24oY29uZDogYW55LCBib2R5OiBhbnkpOiBhbnkgeyByZXR1cm4ge2NvbnN0cnVjdF90eXBlOlwid2hpbGVfc3RhdGVtZW50XCIsIGNvbmRpdGlvbjpjb25kLCBib2R5OmJvZHl9OyB9O1xuICBjb25zdCBwZWckYzQ4ID0gXCJkb1wiO1xuICBjb25zdCBwZWckYzQ5ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImRvXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM1MCA9IGZ1bmN0aW9uKGJvZHk6IGFueSwgY29uZDogYW55KTogYW55IHsgcmV0dXJuIHtjb25zdHJ1Y3RfdHlwZTpcImRvd2hpbGVfc3RhdGVtZW50XCIsIGNvbmRpdGlvbjpjb25kLCBib2R5OmJvZHl9OyB9O1xuICBjb25zdCBwZWckYzUxID0gXCJmb3JcIjtcbiAgY29uc3QgcGVnJGM1MiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJmb3JcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzUzID0gZnVuY3Rpb24oaW5pdDogYW55LCBjb25kOiBhbnksIHBvc3Q6IGFueSwgYm9keTogYW55KTogYW55IHsgcmV0dXJuIHtjb25zdHJ1Y3RfdHlwZTpcImZvcl9zdGF0ZW1lbnRcIiwgY29uZGl0aW9uOmNvbmQsIGluaXRpYWw6aW5pdCwgcG9zdDpwb3N0LCBib2R5OmJvZHl9OyB9O1xuICBjb25zdCBwZWckYzU0ID0gZnVuY3Rpb24oZDogYW55KTogYW55IHsgcmV0dXJuIHRyYWNrKGQsIGxvY2F0aW9uKCksIHRleHQoKSk7IH07XG4gIGNvbnN0IHBlZyRjNTUgPSBcImJyZWFrXCI7XG4gIGNvbnN0IHBlZyRjNTYgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiYnJlYWtcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzU3ID0gZnVuY3Rpb24oKTogYW55IHsgcmV0dXJuIHtjb25zdHJ1Y3RfdHlwZTpcImJyZWFrX3N0YXRlbWVudFwifTsgfTtcbiAgY29uc3QgcGVnJGM1OCA9IFwiY29udGludWVcIjtcbiAgY29uc3QgcGVnJGM1OSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJjb250aW51ZVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNjAgPSBmdW5jdGlvbigpOiBhbnkge3JldHVybiB7Y29uc3RydWN0X3R5cGU6XCJjb250aW51ZV9zdGF0ZW1lbnRcIn07IH07XG4gIGNvbnN0IHBlZyRjNjEgPSBcInJldHVyblwiO1xuICBjb25zdCBwZWckYzYyID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInJldHVyblwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNjMgPSBmdW5jdGlvbihyZXQ6IGFueSk6IGFueSB7IHJldHVybiB7Y29uc3RydWN0X3R5cGU6XCJyZXR1cm5fc3RhdGVtZW50XCIsIGV4cHJlc3Npb246cmV0fTsgfTtcbiAgY29uc3QgcGVnJGM2NCA9IGZ1bmN0aW9uKGQ6IGFueSk6IGFueSB7cmV0dXJuIHtjb25zdHJ1Y3RfdHlwZTpcImRlY2xhcmF0aW9uX3N0YXRlbWVudFwiLCBkZWNsYXJhdGlvbjogZH07IH07XG4gIGNvbnN0IHBlZyRjNjUgPSBmdW5jdGlvbihzcGVjczogYW55LCBkZWNsYXJhdG9yczogYW55KTogYW55IHsgcmV0dXJuIHRyYWNrKHtjb25zdHJ1Y3RfdHlwZTogXCJzaW1wbGVfZGVjbGFyYXRpb25cIiwgc3BlY3M6c3BlY3MsIGRlY2xhcmF0b3JzOmRlY2xhcmF0b3JzfSwgbG9jYXRpb24oKSwgdGV4dCgpKTsgfTtcbiAgY29uc3QgcGVnJGM2NiA9IFwiLFwiO1xuICBjb25zdCBwZWckYzY3ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIixcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzY4ID0gZnVuY3Rpb24oZmlyc3Q6IGFueSwgZDogYW55KTogYW55IHtyZXR1cm4gZDt9O1xuICBjb25zdCBwZWckYzY5ID0gZnVuY3Rpb24oZmlyc3Q6IGFueSwgcmVzdDogYW55KTogYW55IHtyZXN0LnVuc2hpZnQoZmlyc3QpOyByZXR1cm4gcmVzdDsgfTtcbiAgY29uc3QgcGVnJGM3MCA9IGZ1bmN0aW9uKHNwZWM6IGFueSk6IGFueSB7XHJcbiAgICAgIHJldHVybiB0cmFjayhhYnNvcmIoe2NvbnN0cnVjdF90eXBlOiBcImNsYXNzX2RlY2xhcmF0aW9uXCJ9LCBzcGVjKSwgbG9jYXRpb24oKSwgdGV4dCgpKTtcclxuICAgIH07XG4gIGNvbnN0IHBlZyRjNzEgPSBmdW5jdGlvbihzcGVjczogYW55LCBkZWNsYXJhdG9yOiBhbnksIGJvZHk6IGFueSk6IGFueSB7cmV0dXJuIHRyYWNrKHtjb25zdHJ1Y3RfdHlwZTogXCJmdW5jdGlvbl9kZWZpbml0aW9uXCIsIHNwZWNzOnNwZWNzLCBkZWNsYXJhdG9yOmRlY2xhcmF0b3IsIGJvZHk6Ym9keX0sIGxvY2F0aW9uKCksIHRleHQoKSk7IH07XG4gIGNvbnN0IHBlZyRjNzIgPSBmdW5jdGlvbihuYW1lOiBhbnksIGFyZ3M6IGFueSwgaW5pdDogYW55KTogYW55IHtyZXR1cm4gbnVsbDt9O1xuICBjb25zdCBwZWckYzczID0gZnVuY3Rpb24obmFtZTogYW55LCBhcmdzOiBhbnksIGluaXQ6IGFueSwgYm9keTogYW55KTogYW55IHtyZXR1cm4gdHJhY2soe2NvbnN0cnVjdF90eXBlOiBcImNvbnN0cnVjdG9yX2RlZmluaXRpb25cIiwgbmFtZTpuYW1lLCBib2R5OmJvZHksIGluaXRpYWxpemVyOmluaXQsIGFyZ3M6IGFyZ3N9LCBsb2NhdGlvbigpLCB0ZXh0KCkpOyB9O1xuICBjb25zdCBwZWckYzc0ID0gXCJ+XCI7XG4gIGNvbnN0IHBlZyRjNzUgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiflwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNzYgPSBmdW5jdGlvbihuYW1lOiBhbnkpOiBhbnkge3JldHVybiBudWxsO307XG4gIGNvbnN0IHBlZyRjNzcgPSBmdW5jdGlvbihuYW1lOiBhbnksIGJvZHk6IGFueSk6IGFueSB7cmV0dXJuIHRyYWNrKHtjb25zdHJ1Y3RfdHlwZTogXCJkZXN0cnVjdG9yX2RlZmluaXRpb25cIiwgbmFtZTp7aWRlbnRpZmllcjogXCJ+XCIrbmFtZS5pZGVudGlmaWVyfSwgYm9keTpib2R5fSwgbG9jYXRpb24oKSwgdGV4dCgpKTsgfTtcbiAgY29uc3QgcGVnJGM3OCA9IFwidmlydHVhbFwiO1xuICBjb25zdCBwZWckYzc5ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInZpcnR1YWxcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzgwID0gZnVuY3Rpb24obmFtZTogYW55LCBib2R5OiBhbnkpOiBhbnkge3JldHVybiB0cmFjayh7Y29uc3RydWN0X3R5cGU6IFwiZGVzdHJ1Y3Rvcl9kZWZpbml0aW9uXCIsIG5hbWU6e2lkZW50aWZpZXI6IFwiflwiK25hbWUuaWRlbnRpZmllcn0sIGJvZHk6Ym9keSwgdmlydHVhbDp0cnVlfSwgbG9jYXRpb24oKSwgdGV4dCgpKTsgfTtcbiAgY29uc3QgcGVnJGM4MSA9IGZ1bmN0aW9uKGZpcnN0OiBhbnksIG06IGFueSk6IGFueSB7cmV0dXJuIG07fTtcbiAgY29uc3QgcGVnJGM4MiA9IGZ1bmN0aW9uKGZpcnN0OiBhbnksIHJlc3Q6IGFueSk6IGFueSB7cmVzdC51bnNoaWZ0KGZpcnN0KTsgcmV0dXJuIHJlc3Q7fTtcbiAgY29uc3QgcGVnJGM4MyA9IGZ1bmN0aW9uKGk6IGFueSwgYXJnczogYW55KTogYW55IHtyZXR1cm4gdHJhY2soe2NvbnN0cnVjdF90eXBlOiBcIm1lbWJlcl9pbml0aWFsaXplclwiLCBtZW1iZXI6IGksIGFyZ3M6YXJncyB8fCBbXX0sIGxvY2F0aW9uKCksIHRleHQoKSk7IH07XG4gIGNvbnN0IHBlZyRjODQgPSBmdW5jdGlvbihzOiBhbnkpOiBhbnkge3JldHVybiBzfTtcbiAgY29uc3QgcGVnJGM4NSA9IGZ1bmN0aW9uKGJlZm9yZTogYW55LCB0OiBhbnksIHM6IGFueSk6IGFueSB7cmV0dXJuIHN9O1xuICBjb25zdCBwZWckYzg2ID0gZnVuY3Rpb24oYmVmb3JlOiBhbnksIHQ6IGFueSwgYWZ0ZXI6IGFueSk6IGFueSB7XHJcbiAgICAgICAgYmVmb3JlLnB1c2goe3R5cGVTcGVjOnR9KTtcclxuICAgICAgICB2YXIgcmVzdCA9IGJlZm9yZS5jb25jYXQoYWZ0ZXIpO1xyXG5cclxuICAgICAgICB2YXIgZGVjbFNwZWNzIDogYW55ID0ge1xyXG4gICAgICAgICAgdHlwZVNwZWNzOiBbXSxcclxuICAgICAgICAgIHN0b3JhZ2VTcGVjczogW11cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgcmVzdC5sZW5ndGg7ICsraSl7XHJcbiAgICAgICAgICBsZXQgc3BlYyA9IHJlc3RbaV07XHJcbiAgICAgICAgICBpZiAoc3BlYy50eXBlU3BlYyl7XHJcbiAgICAgICAgICAgIGRlY2xTcGVjcy50eXBlU3BlY3MucHVzaChzcGVjLnR5cGVTcGVjKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2UgaWYgKHNwZWMuc3RvcmFnZVNwZWMpe1xyXG4gICAgICAgICAgICBkZWNsU3BlY3Muc3RvcmFnZVNwZWNzLnB1c2goc3BlYy5zdG9yYWdlU3BlYyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIGlmIChzcGVjID09PSBcImZyaWVuZFwiKXtcclxuICAgICAgICAgICAgZGVjbFNwZWNzLmZyaWVuZCA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIGlmIChzcGVjID09PSBcInR5cGVkZWZcIil7XHJcbiAgICAgICAgICAgIGRlY2xTcGVjcy50eXBlZGVmID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2UgaWYgKHNwZWMgPT09IFwiaW5saW5lXCIpe1xyXG4gICAgICAgICAgICBkZWNsU3BlY3MuaW5saW5lID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2UgaWYgKHNwZWMgPT09IFwiZXhwbGljaXRcIil7XHJcbiAgICAgICAgICAgIGRlY2xTcGVjcy5leHBsaWNpdCA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIGlmIChzcGVjID09PSBcInZpcnR1YWxcIil7XHJcbiAgICAgICAgICAgIGRlY2xTcGVjcy52aXJ0dWFsID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0cmFjayhkZWNsU3BlY3MsIGxvY2F0aW9uKCksIHRleHQoKSk7IH07XG4gIGNvbnN0IHBlZyRjODcgPSBmdW5jdGlvbih0OiBhbnkpOiBhbnkgeyByZXR1cm4ge3R5cGVTcGVjOnR9OyB9O1xuICBjb25zdCBwZWckYzg4ID0gZnVuY3Rpb24oczogYW55KTogYW55IHsgcmV0dXJuIHtzdG9yYWdlU3BlYzpzfTsgfTtcbiAgY29uc3QgcGVnJGM4OSA9IFwidHlwZWRlZlwiO1xuICBjb25zdCBwZWckYzkwID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInR5cGVkZWZcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzkxID0gXCJmcmllbmRcIjtcbiAgY29uc3QgcGVnJGM5MiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJmcmllbmRcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzkzID0gZnVuY3Rpb24oYmVmb3JlOiBhbnksIHQ6IGFueSwgYWZ0ZXI6IGFueSk6IGFueSB7IGJlZm9yZS5wdXNoKHQpO1xyXG4gICAgICAgIGJlZm9yZSA9IGJlZm9yZS5jb25jYXQoYWZ0ZXIpO1xyXG4gICAgICAgIHJldHVybiB0cmFjayhiZWZvcmUsIGxvY2F0aW9uKCksIHRleHQoKSk7IH07XG4gIGNvbnN0IHBlZyRjOTQgPSBcImNvbnN0XCI7XG4gIGNvbnN0IHBlZyRjOTUgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiY29uc3RcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzk2ID0gXCJ2b2xhdGlsZVwiO1xuICBjb25zdCBwZWckYzk3ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInZvbGF0aWxlXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM5OCA9IFwicmVnaXN0ZXJcIjtcbiAgY29uc3QgcGVnJGM5OSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJyZWdpc3RlclwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTAwID0gXCJzdGF0aWNcIjtcbiAgY29uc3QgcGVnJGMxMDEgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwic3RhdGljXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxMDIgPSBcInRocmVhZF9sb2NhbFwiO1xuICBjb25zdCBwZWckYzEwMyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ0aHJlYWRfbG9jYWxcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzEwNCA9IFwiZXh0ZXJuXCI7XG4gIGNvbnN0IHBlZyRjMTA1ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImV4dGVyblwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTA2ID0gXCJtdXRhYmxlXCI7XG4gIGNvbnN0IHBlZyRjMTA3ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIm11dGFibGVcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzEwOCA9IFwiaW5saW5lXCI7XG4gIGNvbnN0IHBlZyRjMTA5ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImlubGluZVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTEwID0gXCJleHBsaWNpdFwiO1xuICBjb25zdCBwZWckYzExMSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJleHBsaWNpdFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTEyID0gcGVnJG90aGVyRXhwZWN0YXRpb24oXCJzaW1wbGUgdHlwZSBuYW1lXCIpO1xuICBjb25zdCBwZWckYzExMyA9IGZ1bmN0aW9uKHQ6IGFueSk6IGFueSB7cmV0dXJuIHQ7fTtcbiAgY29uc3QgcGVnJGMxMTQgPSBcImNoYXJcIjtcbiAgY29uc3QgcGVnJGMxMTUgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiY2hhclwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTE2ID0gXCJzaG9ydFwiO1xuICBjb25zdCBwZWckYzExNyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJzaG9ydFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTE4ID0gXCJpbnRcIjtcbiAgY29uc3QgcGVnJGMxMTkgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiaW50XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxMjAgPSBcImJvb2xcIjtcbiAgY29uc3QgcGVnJGMxMjEgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiYm9vbFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTIyID0gXCJsb25nXCI7XG4gIGNvbnN0IHBlZyRjMTIzID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImxvbmdcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzEyNCA9IFwic2lnbmVkXCI7XG4gIGNvbnN0IHBlZyRjMTI1ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInNpZ25lZFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTI2ID0gXCJ1bnNpZ25lZFwiO1xuICBjb25zdCBwZWckYzEyNyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ1bnNpZ25lZFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTI4ID0gXCJmbG9hdFwiO1xuICBjb25zdCBwZWckYzEyOSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJmbG9hdFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTMwID0gXCJkb3VibGVcIjtcbiAgY29uc3QgcGVnJGMxMzEgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiZG91YmxlXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxMzIgPSBcInZvaWRcIjtcbiAgY29uc3QgcGVnJGMxMzMgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwidm9pZFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTM0ID0gZnVuY3Rpb24oaWQ6IGFueSk6IGFueSB7cmV0dXJuIGlzVXNlclR5cGVOYW1lKGlkLmlkZW50aWZpZXIpO307XG4gIGNvbnN0IHBlZyRjMTM1ID0gZnVuY3Rpb24oaWQ6IGFueSk6IGFueSB7cmV0dXJuIGlkLmlkZW50aWZpZXI7fTtcbiAgY29uc3QgcGVnJGMxMzYgPSBcImVudW1cIjtcbiAgY29uc3QgcGVnJGMxMzcgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiZW51bVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTM4ID0gZnVuY3Rpb24obmFtZTogYW55LCBmaXJzdDogYW55LCBlOiBhbnkpOiBhbnkge3JldHVybiBlO307XG4gIGNvbnN0IHBlZyRjMTM5ID0gZnVuY3Rpb24obmFtZTogYW55LCBmaXJzdDogYW55LCByZXN0OiBhbnkpOiBhbnkgeyByZXR1cm4gXCJlbnVtXCI7IH07XG4gIGNvbnN0IHBlZyRjMTQwID0gXCI9XCI7XG4gIGNvbnN0IHBlZyRjMTQxID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIj1cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzE0MiA9IGZ1bmN0aW9uKG5hbWU6IGFueSwgZTogYW55KTogYW55IHtyZXR1cm4gZTt9O1xuICBjb25zdCBwZWckYzE0MyA9IGZ1bmN0aW9uKG5hbWU6IGFueSwgdmFsdWU6IGFueSk6IGFueSB7cmV0dXJuIHtuYW1lOm5hbWUsIHZhbHVlOnZhbHVlfTsgfTtcbiAgY29uc3QgcGVnJGMxNDQgPSBcIkBsaWJyYXJ5X3Vuc3VwcG9ydGVkQFwiO1xuICBjb25zdCBwZWckYzE0NSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJAbGlicmFyeV91bnN1cHBvcnRlZEBcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzE0NiA9IGZ1bmN0aW9uKGQ6IGFueSk6IGFueSB7cmV0dXJuIHRyYWNrKGFic29yYihkLCB7bGlicmFyeV91bnN1cHBvcnRlZDogdHJ1ZX0pLCBsb2NhdGlvbigpLCB0ZXh0KCkpO307XG4gIGNvbnN0IHBlZyRjMTQ3ID0gZnVuY3Rpb24oZDogYW55LCBpOiBhbnkpOiBhbnkge3JldHVybiB0cmFjayhhYnNvcmIoZCwge2luaXRpYWxpemVyOiBpfSksIGxvY2F0aW9uKCksIHRleHQoKSk7fTtcbiAgY29uc3QgcGVnJGMxNDggPSBmdW5jdGlvbihhcmdzOiBhbnkpOiBhbnkge1xyXG4gICAgICByZXR1cm4ge2NvbnN0cnVjdF90eXBlOlwiZGlyZWN0X2luaXRpYWxpemVyXCIsIGFyZ3M6YXJnc307XHJcbiAgICB9O1xuICBjb25zdCBwZWckYzE0OSA9IGZ1bmN0aW9uKGluaXQ6IGFueSk6IGFueSB7cmV0dXJuIHtjb25zdHJ1Y3RfdHlwZTpcImNvcHlfaW5pdGlhbGl6ZXJcIiwgYXJnczpbaW5pdF19O307XG4gIGNvbnN0IHBlZyRjMTUwID0gZnVuY3Rpb24oaW5pdDogYW55KTogYW55IHtyZXR1cm4gaW5pdDt9O1xuICBjb25zdCBwZWckYzE1MSA9IGZ1bmN0aW9uKGZpcnN0OiBhbnksIG9wOiBhbnksIGU6IGFueSk6IGFueSB7cmV0dXJuIGU7fTtcbiAgY29uc3QgcGVnJGMxNTIgPSBmdW5jdGlvbihmaXJzdDogYW55LCByZXN0OiBhbnkpOiBhbnkge1xyXG4gICAgICAgIHJlc3QudW5zaGlmdChmaXJzdCk7XHJcbiAgICAgICAgcmV0dXJuIHRyYWNrKHtjb25zdHJ1Y3RfdHlwZTpcImluaXRpYWxpemVyX2xpc3RcIiwgYXJnczogcmVzdH0sIGxvY2F0aW9uKCksIHRleHQoKSk7XHJcbiAgICAgIH07XG4gIGNvbnN0IHBlZyRjMTUzID0gZnVuY3Rpb24oZDogYW55KTogYW55IHtcclxuICAgICAgdmFyIGQyID0gdHJhY2soYWJzb3JiKHtjb25zdHJ1Y3RfdHlwZTpcImRlY2xhcmF0b3JcIn0sIGQpLCBsb2NhdGlvbigpLCB0ZXh0KCkpO1xyXG4gICAgIHJldHVybiBkMjtcclxuICAgIH07XG4gIGNvbnN0IHBlZyRjMTU0ID0gZnVuY3Rpb24oZDogYW55KTogYW55IHtcclxuICAgICAgdmFyIGQyID0gdHJhY2soYWJzb3JiKHtjb25zdHJ1Y3RfdHlwZTpcImRlY2xhcmF0b3JcIiwgYWJzdHJhY3Q6IHRydWV9LCBkKSwgbG9jYXRpb24oKSwgdGV4dCgpKTtcclxuICAgICAgcmV0dXJuIGQyO1xyXG4gICAgfTtcbiAgY29uc3QgcGVnJGMxNTUgPSBcIipcIjtcbiAgY29uc3QgcGVnJGMxNTYgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiKlwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTU3ID0gZnVuY3Rpb24oY3Y6IGFueSwgZGVjbDogYW55KTogYW55IHsgcmV0dXJuIGFic29yYih7cG9pbnRlcjpkZWNsfSwgY3YpOyB9O1xuICBjb25zdCBwZWckYzE1OCA9IFwiJlwiO1xuICBjb25zdCBwZWckYzE1OSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCImXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxNjAgPSBmdW5jdGlvbihjdjogYW55LCBkZWNsOiBhbnkpOiBhbnkgeyByZXR1cm4gYWJzb3JiKHtyZWZlcmVuY2U6ZGVjbH0sIGN2KTsgfTtcbiAgY29uc3QgcGVnJGMxNjEgPSBmdW5jdGlvbihkZWNsOiBhbnksIHBvc3RmaXhlczogYW55KTogYW55IHsgcmV0dXJuIGFic29yYihkZWNsLCB7cG9zdGZpeGVzOiBwb3N0Zml4ZXN9KTsgfTtcbiAgY29uc3QgcGVnJGMxNjIgPSBmdW5jdGlvbihwOiBhbnkpOiBhbnkge3JldHVybiBwfTtcbiAgY29uc3QgcGVnJGMxNjMgPSBmdW5jdGlvbihhcmdzOiBhbnksIGN2OiBhbnkpOiBhbnkgeyByZXR1cm4gYWJzb3JiKHtraW5kOlwiZnVuY3Rpb25cIiwgYXJnczphcmdzfSwgY3YpOyB9O1xuICBjb25zdCBwZWckYzE2NCA9IFwiW1wiO1xuICBjb25zdCBwZWckYzE2NSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJbXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxNjYgPSBcIl1cIjtcbiAgY29uc3QgcGVnJGMxNjcgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiXVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTY4ID0gZnVuY3Rpb24oc2l6ZTogYW55KTogYW55IHsgcmV0dXJuIHtraW5kOlwiYXJyYXlcIiwgc2l6ZTpzaXplfTsgfTtcbiAgY29uc3QgcGVnJGMxNjkgPSBmdW5jdGlvbihkOiBhbnkpOiBhbnkge3JldHVybiB7bmFtZTpkfTsgfTtcbiAgY29uc3QgcGVnJGMxNzAgPSBmdW5jdGlvbihkOiBhbnkpOiBhbnkge3JldHVybiB7c3ViOmR9O307XG4gIGNvbnN0IHBlZyRjMTcxID0gXCJcIjtcbiAgY29uc3QgcGVnJGMxNzIgPSBmdW5jdGlvbigpOiBhbnkge3JldHVybiB7fTt9O1xuICBjb25zdCBwZWckYzE3MyA9IGZ1bmN0aW9uKHNwZWNzOiBhbnksIGRlY2w6IGFueSk6IGFueSB7IHJldHVybiB0cmFjayh7c3BlY3M6c3BlY3MsIGRlY2xhcmF0b3I6ZGVjbH0sIGxvY2F0aW9uKCksIHRleHQoKSk7IH07XG4gIGNvbnN0IHBlZyRjMTc0ID0gZnVuY3Rpb24oKTogYW55IHsgcmV0dXJuIHtjb25zdDogdHJ1ZSwgdm9sYXRpbGU6IHRydWV9OyB9O1xuICBjb25zdCBwZWckYzE3NSA9IGZ1bmN0aW9uKCk6IGFueSB7IHJldHVybiB7Y29uc3Q6IHRydWV9OyB9O1xuICBjb25zdCBwZWckYzE3NiA9IGZ1bmN0aW9uKCk6IGFueSB7IHJldHVybiB7dm9sYXRpbGU6IHRydWV9OyB9O1xuICBjb25zdCBwZWckYzE3NyA9IGZ1bmN0aW9uKGZpcnN0OiBhbnksIGFyZzogYW55KTogYW55IHtyZXR1cm4gYXJnO307XG4gIGNvbnN0IHBlZyRjMTc4ID0gZnVuY3Rpb24oZmlyc3Q6IGFueSwgcmVzdDogYW55KTogYW55IHsgcmVzdC51bnNoaWZ0KGZpcnN0KTsgcmV0dXJuIHJlc3Q7IH07XG4gIGNvbnN0IHBlZyRjMTc5ID0gZnVuY3Rpb24oKTogYW55IHtyZXR1cm4gW107fTtcbiAgY29uc3QgcGVnJGMxODAgPSBmdW5jdGlvbihzcGVjczogYW55LCBkZWNsOiBhbnksIGluaXQ6IGFueSk6IGFueSB7cmV0dXJuIHtjb25zdHJ1Y3RfdHlwZTpcInBhcmFtZXRlcl9kZWNsYXJhdGlvblwiLCBkZWNsYXJhdG9yOmRlY2wsIHNwZWNzOnNwZWNzLCBpbml0aWFsaXplcjppbml0fTsgfTtcbiAgY29uc3QgcGVnJGMxODEgPSBmdW5jdGlvbihzcGVjczogYW55LCBkZWNsOiBhbnkpOiBhbnkge3JldHVybiB0cmFjayh7Y29uc3RydWN0X3R5cGU6XCJwYXJhbWV0ZXJfZGVjbGFyYXRpb25cIiwgc3BlY3M6c3BlY3MsIGRlY2xhcmF0b3I6ZGVjbH0sIGxvY2F0aW9uKCksIHRleHQoKSk7IH07XG4gIGNvbnN0IHBlZyRjMTgyID0gZnVuY3Rpb24oZmlyc3Q6IGFueSwgb3A6IGFueSwgZTogYW55KTogYW55IHtyZXR1cm4gW29wLGVdO307XG4gIGNvbnN0IHBlZyRjMTgzID0gZnVuY3Rpb24oZmlyc3Q6IGFueSwgcmVzdDogYW55KTogYW55IHsgcmV0dXJuIHRyYWNrKGNvbXBvc2VCaW5hcnlPcChmaXJzdCwgcmVzdCwgXCJsZWZ0XCIsIFwiY29tbWFfZXhwcmVzc2lvblwiKSwgbG9jYXRpb24oKSwgdGV4dCgpKTsgfTtcbiAgY29uc3QgcGVnJGMxODQgPSBmdW5jdGlvbihsaHM6IGFueSwgb3A6IGFueSwgcmhzOiBhbnkpOiBhbnkgeyByZXR1cm4gdHJhY2soe2NvbnN0cnVjdF90eXBlOiBcImFzc2lnbm1lbnRfZXhwcmVzc2lvblwiLCBsaHM6bGhzLCBvcGVyYXRvcjpvcCwgcmhzOnJoc30sIGxvY2F0aW9uKCksIHRleHQoKSk7IH07XG4gIGNvbnN0IHBlZyRjMTg1ID0gZnVuY3Rpb24obGhzOiBhbnksIG9wOiBhbnksIHJoczogYW55KTogYW55IHsgcmV0dXJuIHRyYWNrKHtjb25zdHJ1Y3RfdHlwZTogXCJjb21wb3VuZF9hc3NpZ25tZW50XCIsIGxoczpsaHMsIG9wZXJhdG9yOm9wLCByaHM6cmhzfSwgbG9jYXRpb24oKSwgdGV4dCgpKTsgfTtcbiAgY29uc3QgcGVnJGMxODYgPSBcIio9XCI7XG4gIGNvbnN0IHBlZyRjMTg3ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIio9XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxODggPSBcIi89XCI7XG4gIGNvbnN0IHBlZyRjMTg5ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIi89XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxOTAgPSBcIiU9XCI7XG4gIGNvbnN0IHBlZyRjMTkxID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIiU9XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxOTIgPSBcIis9XCI7XG4gIGNvbnN0IHBlZyRjMTkzID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIis9XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxOTQgPSBcIi09XCI7XG4gIGNvbnN0IHBlZyRjMTk1ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIi09XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxOTYgPSBcIj4+PVwiO1xuICBjb25zdCBwZWckYzE5NyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCI+Pj1cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzE5OCA9IFwiPDw9XCI7XG4gIGNvbnN0IHBlZyRjMTk5ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIjw8PVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjAwID0gXCImPVwiO1xuICBjb25zdCBwZWckYzIwMSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCImPVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjAyID0gXCJhbmRfZXFcIjtcbiAgY29uc3QgcGVnJGMyMDMgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiYW5kX2VxXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyMDQgPSBmdW5jdGlvbigpOiBhbnkge3JldHVybiBcIiY9XCI7fTtcbiAgY29uc3QgcGVnJGMyMDUgPSBcIl49XCI7XG4gIGNvbnN0IHBlZyRjMjA2ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIl49XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyMDcgPSBcInhvcl9lcVwiO1xuICBjb25zdCBwZWckYzIwOCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ4b3JfZXFcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzIwOSA9IGZ1bmN0aW9uKCk6IGFueSB7cmV0dXJuIFwiXj1cIjt9O1xuICBjb25zdCBwZWckYzIxMCA9IFwifD1cIjtcbiAgY29uc3QgcGVnJGMyMTEgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwifD1cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzIxMiA9IFwib3JfZXFcIjtcbiAgY29uc3QgcGVnJGMyMTMgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwib3JfZXFcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzIxNCA9IGZ1bmN0aW9uKCk6IGFueSB7cmV0dXJuIFwifD1cIjt9O1xuICBjb25zdCBwZWckYzIxNSA9IGZ1bmN0aW9uKHN1YjogYW55KTogYW55IHsgc3ViLmNvbnN0YW50ID0gdHJ1ZTsgcmV0dXJuIHN1YjsgfTtcbiAgY29uc3QgcGVnJGMyMTYgPSBcIj9cIjtcbiAgY29uc3QgcGVnJGMyMTcgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiP1wiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjE4ID0gZnVuY3Rpb24oY29uZGl0aW9uOiBhbnksIHRoZW46IGFueSwgb3RoZXJ3aXNlOiBhbnkpOiBhbnkgeyByZXR1cm4gdHJhY2soe2NvbnN0cnVjdF90eXBlOiBcInRlcm5hcnlfZXhwcmVzc2lvblwiLCBjb25kaXRpb246Y29uZGl0aW9uLCB0aGVuOnRoZW4sIG90aGVyd2lzZTpvdGhlcndpc2V9LCBsb2NhdGlvbigpLCB0ZXh0KCkpOyB9O1xuICBjb25zdCBwZWckYzIxOSA9IFwifHxcIjtcbiAgY29uc3QgcGVnJGMyMjAgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwifHxcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzIyMSA9IFwib3JcIjtcbiAgY29uc3QgcGVnJGMyMjIgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwib3JcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzIyMyA9IGZ1bmN0aW9uKGZpcnN0OiBhbnksIG9wOiBhbnksIGU6IGFueSk6IGFueSB7cmV0dXJuIFtcInx8XCIsZV07fTtcbiAgY29uc3QgcGVnJGMyMjQgPSBmdW5jdGlvbihmaXJzdDogYW55LCByZXN0OiBhbnkpOiBhbnkgeyByZXR1cm4gdHJhY2soY29tcG9zZUJpbmFyeU9wKGZpcnN0LCByZXN0LCBcImxlZnRcIiwgXCJsb2dpY2FsX2JpbmFyeV9vcGVyYXRvcl9leHByZXNzaW9uXCIpLCBsb2NhdGlvbigpLCB0ZXh0KCkpOyB9O1xuICBjb25zdCBwZWckYzIyNSA9IFwiJiZcIjtcbiAgY29uc3QgcGVnJGMyMjYgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiJiZcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzIyNyA9IFwiYW5kXCI7XG4gIGNvbnN0IHBlZyRjMjI4ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImFuZFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjI5ID0gZnVuY3Rpb24oZmlyc3Q6IGFueSwgb3A6IGFueSwgZTogYW55KTogYW55IHtyZXR1cm4gW1wiJiZcIixlXTt9O1xuICBjb25zdCBwZWckYzIzMCA9IFwifFwiO1xuICBjb25zdCBwZWckYzIzMSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ8XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyMzIgPSBcImJpdG9yXCI7XG4gIGNvbnN0IHBlZyRjMjMzID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImJpdG9yXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyMzQgPSBmdW5jdGlvbihmaXJzdDogYW55LCBvcDogYW55LCBlOiBhbnkpOiBhbnkge3JldHVybiBbXCJ8XCIsZV07fTtcbiAgY29uc3QgcGVnJGMyMzUgPSBmdW5jdGlvbihmaXJzdDogYW55LCByZXN0OiBhbnkpOiBhbnkgeyByZXR1cm4gdHJhY2soY29tcG9zZUJpbmFyeU9wKGZpcnN0LCByZXN0LCBcImxlZnRcIiwgXCJhcml0aG1ldGljX2JpbmFyeV9vcGVyYXRvcl9leHByZXNzaW9uXCIpLCBsb2NhdGlvbigpLCB0ZXh0KCkpOyB9O1xuICBjb25zdCBwZWckYzIzNiA9IFwiXlwiO1xuICBjb25zdCBwZWckYzIzNyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJeXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyMzggPSBcInhvclwiO1xuICBjb25zdCBwZWckYzIzOSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ4b3JcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzI0MCA9IGZ1bmN0aW9uKGZpcnN0OiBhbnksIG9wOiBhbnksIGU6IGFueSk6IGFueSB7cmV0dXJuIFtcIl5cIixlXTt9O1xuICBjb25zdCBwZWckYzI0MSA9IFwiYml0YW5kXCI7XG4gIGNvbnN0IHBlZyRjMjQyID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImJpdGFuZFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjQzID0gZnVuY3Rpb24oZmlyc3Q6IGFueSwgb3A6IGFueSwgZTogYW55KTogYW55IHtyZXR1cm4gW1wiJlwiLGVdO307XG4gIGNvbnN0IHBlZyRjMjQ0ID0gXCI9PVwiO1xuICBjb25zdCBwZWckYzI0NSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCI9PVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjQ2ID0gXCIhPVwiO1xuICBjb25zdCBwZWckYzI0NyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIhPVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjQ4ID0gXCJub3RfZXFcIjtcbiAgY29uc3QgcGVnJGMyNDkgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwibm90X2VxXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyNTAgPSBmdW5jdGlvbihmaXJzdDogYW55KTogYW55IHtyZXR1cm4gXCIhPVwiO307XG4gIGNvbnN0IHBlZyRjMjUxID0gZnVuY3Rpb24oZmlyc3Q6IGFueSwgcmVzdDogYW55KTogYW55IHsgcmV0dXJuIHRyYWNrKGNvbXBvc2VCaW5hcnlPcChmaXJzdCwgcmVzdCwgXCJsZWZ0XCIsIFwicmVsYXRpb25hbF9iaW5hcnlfb3BlcmF0b3JfZXhwcmVzc2lvblwiKSwgbG9jYXRpb24oKSwgdGV4dCgpKTsgfTtcbiAgY29uc3QgcGVnJGMyNTIgPSBcIjw9XCI7XG4gIGNvbnN0IHBlZyRjMjUzID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIjw9XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyNTQgPSBcIj49XCI7XG4gIGNvbnN0IHBlZyRjMjU1ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIj49XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyNTYgPSBcIjxcIjtcbiAgY29uc3QgcGVnJGMyNTcgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiPFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjU4ID0gXCI+XCI7XG4gIGNvbnN0IHBlZyRjMjU5ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIj5cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzI2MCA9IFwiPDxcIjtcbiAgY29uc3QgcGVnJGMyNjEgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiPDxcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzI2MiA9IFwiPj5cIjtcbiAgY29uc3QgcGVnJGMyNjMgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiPj5cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzI2NCA9IFwiK1wiO1xuICBjb25zdCBwZWckYzI2NSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIrXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyNjYgPSBcIi1cIjtcbiAgY29uc3QgcGVnJGMyNjcgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiLVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjY4ID0gXCIvXCI7XG4gIGNvbnN0IHBlZyRjMjY5ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIi9cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzI3MCA9IFwiJVwiO1xuICBjb25zdCBwZWckYzI3MSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIlXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyNzIgPSBmdW5jdGlvbihmaXJzdDogYW55LCByZXN0OiBhbnkpOiBhbnkgeyByZXR1cm4gdHJhY2soY29tcG9zZUJpbmFyeU9wKGZpcnN0LCByZXN0LCBcImxlZnRcIiwgXCJwb2ludGVyX3RvX21lbWJlcl9leHByZXNzaW9uXCIpLCBsb2NhdGlvbigpLCB0ZXh0KCkpOyB9O1xuICBjb25zdCBwZWckYzI3MyA9IFwiLipcIjtcbiAgY29uc3QgcGVnJGMyNzQgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiLipcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzI3NSA9IFwiLT4qXCI7XG4gIGNvbnN0IHBlZyRjMjc2ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIi0+KlwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjc3ID0gZnVuY3Rpb24odDogYW55LCBzdWI6IGFueSk6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIHRyYWNrKHtjb25zdHJ1Y3RfdHlwZTogXCJjX3N0eWxlX2Nhc3RfZXhwcmVzc2lvblwiLCB0eXBlOnQsIG9wZXJhbmQ6c3VifSwgbG9jYXRpb24oKSwgdGV4dCgpKTtcclxuICB9O1xuICBjb25zdCBwZWckYzI3OCA9IFwiKytcIjtcbiAgY29uc3QgcGVnJGMyNzkgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiKytcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzI4MCA9IGZ1bmN0aW9uKG9wOiBhbnksIHN1YjogYW55KTogYW55IHtcclxuICAgICAgICByZXR1cm4gdHJhY2soe2NvbnN0cnVjdF90eXBlOiBcInByZWZpeF9pbmNyZW1lbnRfZXhwcmVzc2lvblwiLCBvcGVyYXRvcjpvcCwgb3BlcmFuZDpzdWJ9LCBsb2NhdGlvbigpLCB0ZXh0KCkpO1xyXG4gIH07XG4gIGNvbnN0IHBlZyRjMjgxID0gXCItLVwiO1xuICBjb25zdCBwZWckYzI4MiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCItLVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjgzID0gZnVuY3Rpb24ob3A6IGFueSwgc3ViOiBhbnkpOiBhbnkge1xyXG4gICAgICAgIHJldHVybiB0cmFjayh7Y29uc3RydWN0X3R5cGU6IFwicHJlZml4X2RlY3JlbWVudF9leHByZXNzaW9uXCIsIG9wZXJhdG9yOm9wLCBvcGVyYW5kOnN1Yn0sIGxvY2F0aW9uKCksIHRleHQoKSk7XHJcbiAgfTtcbiAgY29uc3QgcGVnJGMyODQgPSBmdW5jdGlvbihvcDogYW55LCBzdWI6IGFueSk6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIHRyYWNrKGFic29yYih7b3BlcmFuZDpzdWJ9LCBvcCksIGxvY2F0aW9uKCksIHRleHQoKSk7XHJcbiAgfTtcbiAgY29uc3QgcGVnJGMyODUgPSBcInNpemVvZlwiO1xuICBjb25zdCBwZWckYzI4NiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJzaXplb2ZcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzI4NyA9IGZ1bmN0aW9uKG9wOiBhbnksIHN1YjogYW55KTogYW55IHtcclxuICAgICAgICByZXR1cm4gdHJhY2soe2NvbnN0cnVjdF90eXBlOiBcInNpemVvZl9leHByZXNzaW9uXCIsIG9wZXJhdG9yOlwic2l6ZW9mXCIsIG9wZXJhbmQ6c3VifSwgbG9jYXRpb24oKSwgdGV4dCgpKTtcclxuICB9O1xuICBjb25zdCBwZWckYzI4OCA9IGZ1bmN0aW9uKG9wOiBhbnksIHN1YjogYW55KTogYW55IHtcclxuICAgICAgICByZXR1cm4gdHJhY2soe2NvbnN0cnVjdF90eXBlOiBcInNpemVvZl90eXBlX2V4cHJlc3Npb25cIiwgb3BlcmF0b3I6XCJzaXplb2ZcIiwgb3BlcmFuZDpzdWJ9LCBsb2NhdGlvbigpLCB0ZXh0KCkpO1xyXG4gIH07XG4gIGNvbnN0IHBlZyRjMjg5ID0gZnVuY3Rpb24oKTogYW55IHtyZXR1cm4ge2NvbnN0cnVjdF90eXBlOiBcImRlcmVmZXJlbmNlX2V4cHJlc3Npb25cIiwgb3BlcmF0b3I6IFwiKlwifTt9O1xuICBjb25zdCBwZWckYzI5MCA9IGZ1bmN0aW9uKCk6IGFueSB7cmV0dXJuIHtjb25zdHJ1Y3RfdHlwZTogXCJhZGRyZXNzX29mX2V4cHJlc3Npb25cIiwgICBvcGVyYXRvcjogXCImXCJ9O307XG4gIGNvbnN0IHBlZyRjMjkxID0gZnVuY3Rpb24oKTogYW55IHtyZXR1cm4ge2NvbnN0cnVjdF90eXBlOiBcInVuYXJ5X3BsdXNfZXhwcmVzc2lvblwiLCBvcGVyYXRvcjogXCIrXCJ9O307XG4gIGNvbnN0IHBlZyRjMjkyID0gZnVuY3Rpb24oKTogYW55IHtyZXR1cm4ge2NvbnN0cnVjdF90eXBlOiBcInVuYXJ5X21pbnVzX2V4cHJlc3Npb25cIiwgb3BlcmF0b3I6IFwiLVwifTt9O1xuICBjb25zdCBwZWckYzI5MyA9IFwiIVwiO1xuICBjb25zdCBwZWckYzI5NCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIhXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyOTUgPSBmdW5jdGlvbigpOiBhbnkge3JldHVybiB7Y29uc3RydWN0X3R5cGU6IFwibG9naWNhbF9ub3RfZXhwcmVzc2lvblwiLCBvcGVyYXRvcjogXCIhXCJ9O307XG4gIGNvbnN0IHBlZyRjMjk2ID0gXCJub3RcIjtcbiAgY29uc3QgcGVnJGMyOTcgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwibm90XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyOTggPSBmdW5jdGlvbigpOiBhbnkge3JldHVybiB7Y29uc3RydWN0X3R5cGU6IFwiYml0d2lzZV9ub3RfZXhwcmVzc2lvblwiLCBvcGVyYXRvcjogXCJ+XCJ9O307XG4gIGNvbnN0IHBlZyRjMjk5ID0gXCJjb21wbFwiO1xuICBjb25zdCBwZWckYzMwMCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJjb21wbFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzAxID0gXCJuZXdcIjtcbiAgY29uc3QgcGVnJGMzMDIgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwibmV3XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMzMDMgPSBmdW5jdGlvbihpZDogYW55LCBpbml0OiBhbnkpOiBhbnkge1xyXG4gICAgICByZXR1cm4gdHJhY2soYWJzb3JiKHtjb25zdHJ1Y3RfdHlwZTogXCJuZXdfZXhwcmVzc2lvblwiLCBpbml0aWFsaXplcjogaW5pdH0sIGlkKSwgbG9jYXRpb24oKSwgdGV4dCgpKTtcclxuICAgIH07XG4gIGNvbnN0IHBlZyRjMzA0ID0gZnVuY3Rpb24oaWQ6IGFueSwgaW5pdDogYW55KTogYW55IHtcclxuICAgICAgcmV0dXJuIHRyYWNrKGFic29yYih7Y29uc3RydWN0X3R5cGU6IFwibmV3X2V4cHJlc3Npb25cIiwgaW5pdGlhbGl6ZXI6IGluaXR9LCBpZCksIGxvY2F0aW9uKCksIHRleHQoKSk7XHJcbiAgfTtcbiAgY29uc3QgcGVnJGMzMDUgPSBmdW5jdGlvbihzcGVjczogYW55LCBpZDogYW55KTogYW55IHtyZXR1cm4gaWQ7fTtcbiAgY29uc3QgcGVnJGMzMDYgPSBmdW5jdGlvbihzcGVjczogYW55LCBkZWNsOiBhbnkpOiBhbnkge1xyXG4gICAgICByZXR1cm4gdHJhY2soe3NwZWNzOnNwZWNzLCBkZWNsYXJhdG9yOmRlY2x9LCBsb2NhdGlvbigpLCB0ZXh0KCkpO1xyXG4gICAgfTtcbiAgY29uc3QgcGVnJGMzMDcgPSBmdW5jdGlvbihkOiBhbnkpOiBhbnkge1xyXG4gICAgdmFyIGQyID0gdHJhY2soYWJzb3JiKHtjb25zdHJ1Y3RfdHlwZTpcImRlY2xhcmF0b3JcIn0sIGQpLCBsb2NhdGlvbigpLCB0ZXh0KCkpO1xyXG4gICAgcmV0dXJuIGQyO1xyXG5cclxuICB9O1xuICBjb25zdCBwZWckYzMwOCA9IGZ1bmN0aW9uKHBvc3RmaXhlczogYW55KTogYW55IHsgcmV0dXJuIHtwb3N0Zml4ZXM6IHBvc3RmaXhlc307IH07XG4gIGNvbnN0IHBlZyRjMzA5ID0gZnVuY3Rpb24ocDogYW55KTogYW55IHtyZXR1cm4gcDt9O1xuICBjb25zdCBwZWckYzMxMCA9IGZ1bmN0aW9uKHNpemU6IGFueSk6IGFueSB7IHJldHVybiB7dHlwZTpcImFycmF5XCIsIHNpemU6c2l6ZX07IH07XG4gIGNvbnN0IHBlZyRjMzExID0gZnVuY3Rpb24oYXJnczogYW55KTogYW55IHtyZXR1cm4ge2FyZ3M6YXJncyB8fCBbXX07fTtcbiAgY29uc3QgcGVnJGMzMTIgPSBcImRlbGV0ZVwiO1xuICBjb25zdCBwZWckYzMxMyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJkZWxldGVcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzMxNCA9IGZ1bmN0aW9uKHQ6IGFueSk6IGFueSB7XHJcbiAgICAgIHJldHVybiB0cmFjayh7Y29uc3RydWN0X3R5cGU6IFwiZGVsZXRlX2V4cHJlc3Npb25cIiwgb3BlcmFuZDogdH0sIGxvY2F0aW9uKCksIHRleHQoKSk7XHJcbiAgICB9O1xuICBjb25zdCBwZWckYzMxNSA9IGZ1bmN0aW9uKHQ6IGFueSk6IGFueSB7XHJcbiAgICAgIHJldHVybiB0cmFjayh7Y29uc3RydWN0X3R5cGU6IFwiZGVsZXRlX2FycmF5X2V4cHJlc3Npb25cIiwgb3BlcmFuZDogdH0sIGxvY2F0aW9uKCksIHRleHQoKSk7IH07XG4gIGNvbnN0IHBlZyRjMzE2ID0gXCJzdGF0aWNfY2FzdFwiO1xuICBjb25zdCBwZWckYzMxNyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJzdGF0aWNfY2FzdFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzE4ID0gZnVuY3Rpb24odDogYW55LCBzdWI6IGFueSk6IGFueSB7IHJldHVybiB0cmFjayh7Y29uc3RydWN0X3R5cGU6IFwic3RhdGljX2Nhc3RfZXhwcmVzc2lvblwiLCB0eXBlOiB0LCBvcGVyYW5kOnN1Yn0sIGxvY2F0aW9uKCksIHRleHQoKSk7fTtcbiAgY29uc3QgcGVnJGMzMTkgPSBcImR5bmFtaWNfY2FzdFwiO1xuICBjb25zdCBwZWckYzMyMCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJkeW5hbWljX2Nhc3RcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzMyMSA9IGZ1bmN0aW9uKHQ6IGFueSwgc3ViOiBhbnkpOiBhbnkgeyByZXR1cm4gdHJhY2soe2NvbnN0cnVjdF90eXBlOiBcImR5bmFtaWNfY2FzdF9leHByZXNzaW9uXCIsIHR5cGU6IHQsIG9wZXJhbmQ6c3VifSwgbG9jYXRpb24oKSwgdGV4dCgpKTt9O1xuICBjb25zdCBwZWckYzMyMiA9IFwicmVpbnRlcnByZXRfY2FzdFwiO1xuICBjb25zdCBwZWckYzMyMyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJyZWludGVycHJldF9jYXN0XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMzMjQgPSBmdW5jdGlvbih0OiBhbnksIHN1YjogYW55KTogYW55IHsgcmV0dXJuIHRyYWNrKHtjb25zdHJ1Y3RfdHlwZTogXCJyZWludGVycHJldF9jYXN0X2V4cHJlc3Npb25cIiwgdHlwZTogdCwgb3BlcmFuZDpzdWJ9LCBsb2NhdGlvbigpLCB0ZXh0KCkpO307XG4gIGNvbnN0IHBlZyRjMzI1ID0gXCJjb25zdF9jYXN0XCI7XG4gIGNvbnN0IHBlZyRjMzI2ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImNvbnN0X2Nhc3RcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzMyNyA9IGZ1bmN0aW9uKHQ6IGFueSwgc3ViOiBhbnkpOiBhbnkgeyByZXR1cm4gdHJhY2soe2NvbnN0cnVjdF90eXBlOiBcImNvbnN0X2Nhc3RfZXhwcmVzc2lvblwiLCB0eXBlOiB0LCBvcGVyYW5kOnN1Yn0sIGxvY2F0aW9uKCksIHRleHQoKSk7fTtcbiAgY29uc3QgcGVnJGMzMjggPSBmdW5jdGlvbihzdWI6IGFueSwgb3A6IGFueSk6IGFueSB7cmV0dXJuIG9wO307XG4gIGNvbnN0IHBlZyRjMzI5ID0gZnVuY3Rpb24oc3ViOiBhbnksIG9wczogYW55KTogYW55IHsgcmV0dXJuIG9wcy5sZW5ndGggPiAwID8gdHJhY2socG9zdGZpeEV4cChvcHMsIHN1YiksIGxvY2F0aW9uKCksIHRleHQoKSkgOiBzdWI7fTtcbiAgY29uc3QgcGVnJGMzMzAgPSBmdW5jdGlvbihzdWI6IGFueSk6IGFueSB7IHJldHVybiB0cmFjayh7Y29uc3RydWN0X3R5cGU6XCJzdWJzY3JpcHRfZXhwcmVzc2lvblwiLCBhcmc6c3VifSwgbG9jYXRpb24oKSwgdGV4dCgpKTsgfTtcbiAgY29uc3QgcGVnJGMzMzEgPSBmdW5jdGlvbihhcmdzOiBhbnkpOiBhbnkgeyByZXR1cm4gdHJhY2soe2NvbnN0cnVjdF90eXBlOiBcImZ1bmN0aW9uX2NhbGxfZXhwcmVzc2lvblwiLCBhcmdzOiBhcmdzIHx8IFtdfSwgbG9jYXRpb24oKSwgdGV4dCgpKTsgfTtcbiAgY29uc3QgcGVnJGMzMzIgPSBcIi5cIjtcbiAgY29uc3QgcGVnJGMzMzMgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiLlwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzM0ID0gZnVuY3Rpb24obmFtZTogYW55KTogYW55IHsgcmV0dXJuIHRyYWNrKHtjb25zdHJ1Y3RfdHlwZTogXCJkb3RfZXhwcmVzc2lvblwiLCBtZW1iZXI6IG5hbWV9LCBsb2NhdGlvbigpLCB0ZXh0KCkpOyB9O1xuICBjb25zdCBwZWckYzMzNSA9IFwiLT5cIjtcbiAgY29uc3QgcGVnJGMzMzYgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiLT5cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzMzNyA9IGZ1bmN0aW9uKG5hbWU6IGFueSk6IGFueSB7IHJldHVybiB0cmFjayh7Y29uc3RydWN0X3R5cGU6IFwiYXJyb3dfZXhwcmVzc2lvblwiLCBtZW1iZXI6IG5hbWV9LCBsb2NhdGlvbigpLCB0ZXh0KCkpOyB9O1xuICBjb25zdCBwZWckYzMzOCA9IGZ1bmN0aW9uKCk6IGFueSB7IHJldHVybiB0cmFjayh7Y29uc3RydWN0X3R5cGU6IFwicG9zdGZpeF9pbmNyZW1lbnRfZXhwcmVzc2lvblwifSwgbG9jYXRpb24oKSwgdGV4dCgpKTsgfTtcbiAgY29uc3QgcGVnJGMzMzkgPSBmdW5jdGlvbigpOiBhbnkgeyByZXR1cm4gdHJhY2soe2NvbnN0cnVjdF90eXBlOiBcInBvc3RmaXhfZGVjcmVtZW50X2V4cHJlc3Npb25cIn0sIGxvY2F0aW9uKCksIHRleHQoKSk7IH07XG4gIGNvbnN0IHBlZyRjMzQwID0gZnVuY3Rpb24odHlwZTogYW55LCBhcmdzOiBhbnkpOiBhbnkge1xyXG4gICAgICByZXR1cm4gdHJhY2soe2NvbnN0cnVjdF90eXBlOiBcImNvbnN0cnVjdF9leHByZXNzaW9uXCIsIHR5cGU6dHlwZSwgYXJnczphcmdzIHx8IFtdfSwgbG9jYXRpb24oKSwgdGV4dCgpKTtcclxuICB9O1xuICBjb25zdCBwZWckYzM0MSA9IGZ1bmN0aW9uKGZpcnN0OiBhbnksIGU6IGFueSk6IGFueSB7cmV0dXJuIGU7fTtcbiAgY29uc3QgcGVnJGMzNDIgPSBmdW5jdGlvbihzdWI6IGFueSk6IGFueSB7cmV0dXJuIHRyYWNrKHtjb25zdHJ1Y3RfdHlwZTogXCJwYXJlbnRoZXNlc19leHByZXNzaW9uXCIsIHN1YmV4cHJlc3Npb246c3VifSwgbG9jYXRpb24oKSwgdGV4dCgpKTt9O1xuICBjb25zdCBwZWckYzM0MyA9IFwidGhpc1wiO1xuICBjb25zdCBwZWckYzM0NCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ0aGlzXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMzNDUgPSBmdW5jdGlvbigpOiBhbnkge3JldHVybiB0cmFjayh7Y29uc3RydWN0X3R5cGU6IFwidGhpc19leHByZXNzaW9uXCJ9LCBsb2NhdGlvbigpLCB0ZXh0KCkpOyB9O1xuICBjb25zdCBwZWckYzM0NiA9IGZ1bmN0aW9uKGlkOiBhbnkpOiBhbnkgeyByZXR1cm4gdHJhY2soYWJzb3JiKHtjb25zdHJ1Y3RfdHlwZTogXCJpZGVudGlmaWVyX2V4cHJlc3Npb25cIn0sIGlkKSwgbG9jYXRpb24oKSwgdGV4dCgpKTsgfTtcbiAgY29uc3QgcGVnJGMzNDcgPSBmdW5jdGlvbihuOiBhbnksIHU6IGFueSk6IGFueSB7XHJcbiAgICAgIG4ucHVzaCh1KTtcclxuICAgICAgcmV0dXJuIHtpZGVudGlmaWVyOiBufTtcclxuICAgIH07XG4gIGNvbnN0IHBlZyRjMzQ4ID0gXCI6OlwiO1xuICBjb25zdCBwZWckYzM0OSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCI6OlwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzUwID0gZnVuY3Rpb24oaWQ6IGFueSk6IGFueSB7cmV0dXJuIGlkO307XG4gIGNvbnN0IHBlZyRjMzUxID0gZnVuY3Rpb24oKTogYW55IHsgcmV0dXJuIFtdO307XG4gIGNvbnN0IHBlZyRjMzUyID0gZnVuY3Rpb24oaWQ6IGFueSk6IGFueSB7cmV0dXJuIHRyYWNrKHtpZGVudGlmaWVyOiBpZH0sIGxvY2F0aW9uKCksIHRleHQoKSk7fTtcbiAgY29uc3QgcGVnJGMzNTMgPSBcIm9wZXJhdG9yXCI7XG4gIGNvbnN0IHBlZyRjMzU0ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIm9wZXJhdG9yXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMzNTUgPSBmdW5jdGlvbihvcDogYW55KTogYW55IHtyZXR1cm4gdHJhY2soe2lkZW50aWZpZXI6IFwib3BlcmF0b3JcIitvcCwgb3BlcmF0b3I6IG9wfSwgbG9jYXRpb24oKSwgdGV4dCgpKTt9O1xuICBjb25zdCBwZWckYzM1NiA9IFwibmV3W11cIjtcbiAgY29uc3QgcGVnJGMzNTcgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwibmV3W11cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzM1OCA9IFwiZGVsZXRlW11cIjtcbiAgY29uc3QgcGVnJGMzNTkgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiZGVsZXRlW11cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzM2MCA9IFwiKClcIjtcbiAgY29uc3QgcGVnJGMzNjEgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiKClcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzM2MiA9IFwiW11cIjtcbiAgY29uc3QgcGVnJGMzNjMgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiW11cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzM2NCA9IFwiPzpcIjtcbiAgY29uc3QgcGVnJGMzNjUgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiPzpcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzM2NiA9IGZ1bmN0aW9uKGxpdDogYW55KTogYW55IHtyZXR1cm4gdHJhY2soe2NvbnN0cnVjdF90eXBlOiBcIm51bWVyaWNfbGl0ZXJhbFwiLCB0eXBlOlwiZmxvYXRcIiwgdmFsdWU6bGl0fSwgbG9jYXRpb24oKSwgdGV4dCgpKTt9O1xuICBjb25zdCBwZWckYzM2NyA9IGZ1bmN0aW9uKGxpdDogYW55KTogYW55IHtyZXR1cm4gdHJhY2soe2NvbnN0cnVjdF90eXBlOiBcIm51bWVyaWNfbGl0ZXJhbFwiLCB0eXBlOlwiaW50XCIsIHZhbHVlOmxpdH0sIGxvY2F0aW9uKCksIHRleHQoKSk7fTtcbiAgY29uc3QgcGVnJGMzNjggPSBmdW5jdGlvbihsaXQ6IGFueSk6IGFueSB7cmV0dXJuIHRyYWNrKHtjb25zdHJ1Y3RfdHlwZTogXCJudW1lcmljX2xpdGVyYWxcIiwgdHlwZTpcImNoYXJcIiwgdmFsdWU6bGl0fSwgbG9jYXRpb24oKSwgdGV4dCgpKTt9O1xuICBjb25zdCBwZWckYzM2OSA9IGZ1bmN0aW9uKGxpdDogYW55KTogYW55IHtyZXR1cm4gdHJhY2soe2NvbnN0cnVjdF90eXBlOiBcInN0cmluZ19saXRlcmFsXCIsIHR5cGU6XCJzdHJpbmdcIiwgdmFsdWU6bGl0fSwgbG9jYXRpb24oKSwgdGV4dCgpKTt9O1xuICBjb25zdCBwZWckYzM3MCA9IGZ1bmN0aW9uKGxpdDogYW55KTogYW55IHtyZXR1cm4gdHJhY2soe2NvbnN0cnVjdF90eXBlOiBcIm51bWVyaWNfbGl0ZXJhbFwiLCB0eXBlOlwiYm9vbFwiLCB2YWx1ZTpsaXR9LCBsb2NhdGlvbigpLCB0ZXh0KCkpO307XG4gIGNvbnN0IHBlZyRjMzcxID0gL15bMC05XS87XG4gIGNvbnN0IHBlZyRjMzcyID0gcGVnJGNsYXNzRXhwZWN0YXRpb24oW1tcIjBcIiwgXCI5XCJdXSwgZmFsc2UsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMzNzMgPSBmdW5jdGlvbihuZWc6IGFueSwgZGlnaXRzOiBhbnkpOiBhbnkgeyByZXR1cm4gcGFyc2VJbnQoKG5lZyA/IG5lZyA6IFwiXCIpICsgZGlnaXRzLmpvaW4oXCJcIikpOyB9O1xuICBjb25zdCBwZWckYzM3NCA9IC9eWzAtOS5dLztcbiAgY29uc3QgcGVnJGMzNzUgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbW1wiMFwiLCBcIjlcIl0sIFwiLlwiXSwgZmFsc2UsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMzNzYgPSBmdW5jdGlvbihuZWc6IGFueSwgZGlnaXRzOiBhbnkpOiBhbnkge3JldHVybiBkaWdpdHMuaW5kZXhPZihcIi5cIikgPT0gZGlnaXRzLmxhc3RJbmRleE9mKFwiLlwiKSAmJiBkaWdpdHMuaW5kZXhPZihcIi5cIikgIT0gLTE7fTtcbiAgY29uc3QgcGVnJGMzNzcgPSBmdW5jdGlvbihuZWc6IGFueSwgZGlnaXRzOiBhbnkpOiBhbnkgeyByZXR1cm4gcGFyc2VGbG9hdCgobmVnID8gbmVnIDogXCJcIikgKyBkaWdpdHMuam9pbihcIlwiKSk7IH07XG4gIGNvbnN0IHBlZyRjMzc4ID0gXCInXCI7XG4gIGNvbnN0IHBlZyRjMzc5ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIidcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzM4MCA9IC9eW14nXFxcXFxcbl0vO1xuICBjb25zdCBwZWckYzM4MSA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtcIidcIiwgXCJcXFxcXCIsIFwiXFxuXCJdLCB0cnVlLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzgyID0gZnVuY3Rpb24oY2hhcjogYW55KTogYW55IHsgcmV0dXJuIGNoYXI7IH07XG4gIGNvbnN0IHBlZyRjMzgzID0gXCJcXFwiXCI7XG4gIGNvbnN0IHBlZyRjMzg0ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlxcXCJcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzM4NSA9IC9eW15cIlxcXFxcXG5dLztcbiAgY29uc3QgcGVnJGMzODYgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbXCJcXFwiXCIsIFwiXFxcXFwiLCBcIlxcblwiXSwgdHJ1ZSwgZmFsc2UpO1xuICBjb25zdCBwZWckYzM4NyA9IGZ1bmN0aW9uKGNoYXJzOiBhbnkpOiBhbnkgeyByZXR1cm4gY2hhcnMuam9pbihcIlwiKTsgfTtcbiAgY29uc3QgcGVnJGMzODggPSBcInRydWVcIjtcbiAgY29uc3QgcGVnJGMzODkgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwidHJ1ZVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzkwID0gZnVuY3Rpb24oKTogYW55IHtyZXR1cm4gdHJ1ZTt9O1xuICBjb25zdCBwZWckYzM5MSA9IFwiZmFsc2VcIjtcbiAgY29uc3QgcGVnJGMzOTIgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiZmFsc2VcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzM5MyA9IGZ1bmN0aW9uKCk6IGFueSB7cmV0dXJuIGZhbHNlO307XG4gIGNvbnN0IHBlZyRjMzk0ID0gXCJcXFxcXFxcIlwiO1xuICBjb25zdCBwZWckYzM5NSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJcXFxcXFxcIlwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzk2ID0gXCJcXFxcJ1wiO1xuICBjb25zdCBwZWckYzM5NyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJcXFxcJ1wiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzk4ID0gXCJcXFxcP1wiO1xuICBjb25zdCBwZWckYzM5OSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJcXFxcP1wiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDAwID0gXCJcXFxcXFxcXFwiO1xuICBjb25zdCBwZWckYzQwMSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJcXFxcXFxcXFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDAyID0gXCJcXFxcYVwiO1xuICBjb25zdCBwZWckYzQwMyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJcXFxcYVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDA0ID0gXCJcXFxcYlwiO1xuICBjb25zdCBwZWckYzQwNSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJcXFxcYlwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDA2ID0gXCJcXFxcZlwiO1xuICBjb25zdCBwZWckYzQwNyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJcXFxcZlwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDA4ID0gXCJcXFxcblwiO1xuICBjb25zdCBwZWckYzQwOSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJcXFxcblwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDEwID0gXCJcXFxcclwiO1xuICBjb25zdCBwZWckYzQxMSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJcXFxcclwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDEyID0gXCJcXFxcdFwiO1xuICBjb25zdCBwZWckYzQxMyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJcXFxcdFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDE0ID0gXCJcXFxcdlwiO1xuICBjb25zdCBwZWckYzQxNSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJcXFxcdlwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDE2ID0gXCJcXFxcMFwiO1xuICBjb25zdCBwZWckYzQxNyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJcXFxcMFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDE4ID0gL15bMC04XS87XG4gIGNvbnN0IHBlZyRjNDE5ID0gcGVnJGNsYXNzRXhwZWN0YXRpb24oW1tcIjBcIiwgXCI4XCJdXSwgZmFsc2UsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM0MjAgPSBwZWckb3RoZXJFeHBlY3RhdGlvbihcImlkZW50aWZpZXJcIik7XG4gIGNvbnN0IHBlZyRjNDIxID0gZnVuY3Rpb24oZmlyc3Q6IGFueSwgcmVzdDogYW55KTogYW55IHtyZXR1cm4gdHJhY2soe2lkZW50aWZpZXI6IGZpcnN0ICsgcmVzdC5qb2luKFwiXCIpfSwgbG9jYXRpb24oKSwgdGV4dCgpKTt9O1xuICBjb25zdCBwZWckYzQyMiA9IC9eW2EtekEtWjAtOV9dLztcbiAgY29uc3QgcGVnJGM0MjMgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbW1wiYVwiLCBcInpcIl0sIFtcIkFcIiwgXCJaXCJdLCBbXCIwXCIsIFwiOVwiXSwgXCJfXCJdLCBmYWxzZSwgZmFsc2UpO1xuICBjb25zdCBwZWckYzQyNCA9IC9eW2EtekEtWl9dLztcbiAgY29uc3QgcGVnJGM0MjUgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbW1wiYVwiLCBcInpcIl0sIFtcIkFcIiwgXCJaXCJdLCBcIl9cIl0sIGZhbHNlLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDI2ID0gcGVnJG90aGVyRXhwZWN0YXRpb24oXCJvcHRpb25hbCB3aGl0ZXNwYWNlXCIpO1xuICBjb25zdCBwZWckYzQyNyA9IC9eWyBcXHRcXG5cXHJdLztcbiAgY29uc3QgcGVnJGM0MjggPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbXCIgXCIsIFwiXFx0XCIsIFwiXFxuXCIsIFwiXFxyXCJdLCBmYWxzZSwgZmFsc2UpO1xuICBjb25zdCBwZWckYzQyOSA9IHBlZyRvdGhlckV4cGVjdGF0aW9uKFwid2hpdGVzcGFjZVwiKTtcbiAgY29uc3QgcGVnJGM0MzAgPSBmdW5jdGlvbihoZWFkOiBhbnkpOiBhbnkge2dldFVzZXJUeXBlTmFtZXMoKVtoZWFkLm5hbWUuaWRlbnRpZmllcl09dHJ1ZTt9O1xuICBjb25zdCBwZWckYzQzMSA9IGZ1bmN0aW9uKGhlYWQ6IGFueSwgbWVtczogYW55KTogYW55IHsgcmV0dXJuIHRyYWNrKHtoZWFkOiBoZWFkLCBtZW1iZXJfc3BlY3M6IG1lbXN9LCBsb2NhdGlvbigpLCB0ZXh0KCkpOyB9O1xuICBjb25zdCBwZWckYzQzMiA9IGZ1bmN0aW9uKGtleTogYW55LCBuYW1lOiBhbnksIGI6IGFueSk6IGFueSB7cmV0dXJuIGI7fTtcbiAgY29uc3QgcGVnJGM0MzMgPSBmdW5jdGlvbihrZXk6IGFueSwgbmFtZTogYW55LCBiYXNlczogYW55KTogYW55IHsgcmV0dXJuIHRyYWNrKHtrZXk6a2V5LCBuYW1lOm5hbWUsIGJhc2VzOmJhc2VzfSwgbG9jYXRpb24oKSwgdGV4dCgpKTsgfTtcbiAgY29uc3QgcGVnJGM0MzQgPSBcImNsYXNzXCI7XG4gIGNvbnN0IHBlZyRjNDM1ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImNsYXNzXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM0MzYgPSBcInN0cnVjdFwiO1xuICBjb25zdCBwZWckYzQzNyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJzdHJ1Y3RcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzQzOCA9IFwidW5pb25cIjtcbiAgY29uc3QgcGVnJGM0MzkgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwidW5pb25cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzQ0MCA9IGZ1bmN0aW9uKG06IGFueSk6IGFueSB7cmV0dXJuIG19O1xuICBjb25zdCBwZWckYzQ0MSA9IGZ1bmN0aW9uKG1lbWJlcnM6IGFueSk6IGFueSB7IHJldHVybiB7bWVtYmVyczogbWVtYmVyc307IH07XG4gIGNvbnN0IHBlZyRjNDQyID0gZnVuY3Rpb24oYWNjZXNzOiBhbnksIG06IGFueSk6IGFueSB7cmV0dXJuIG19O1xuICBjb25zdCBwZWckYzQ0MyA9IGZ1bmN0aW9uKGFjY2VzczogYW55LCBtZW1iZXJzOiBhbnkpOiBhbnkgeyByZXR1cm4ge21lbWJlcnM6IG1lbWJlcnMsIGFjY2VzczogYWNjZXNzfTsgfTtcbiAgY29uc3QgcGVnJGM0NDQgPSBcInByaXZhdGVcIjtcbiAgY29uc3QgcGVnJGM0NDUgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwicHJpdmF0ZVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDQ2ID0gXCJwcm90ZWN0ZWRcIjtcbiAgY29uc3QgcGVnJGM0NDcgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwicHJvdGVjdGVkXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM0NDggPSBcInB1YmxpY1wiO1xuICBjb25zdCBwZWckYzQ0OSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJwdWJsaWNcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzQ1MCA9IGZ1bmN0aW9uKHNwZWNzOiBhbnksIGRlY2xhcmF0b3JzOiBhbnkpOiBhbnkgeyByZXR1cm4gdHJhY2soe2NvbnN0cnVjdF90eXBlOiBcIm1lbWJlcl9kZWNsYXJhdGlvblwiLCBzcGVjczpzcGVjcywgZGVjbGFyYXRvcnM6ZGVjbGFyYXRvcnN9LCBsb2NhdGlvbigpLCB0ZXh0KCkpOyB9O1xuICBjb25zdCBwZWckYzQ1MSA9IGZ1bmN0aW9uKGM6IGFueSk6IGFueSB7IHJldHVybiBjOyB9O1xuICBjb25zdCBwZWckYzQ1MiA9IGZ1bmN0aW9uKGQ6IGFueSk6IGFueSB7IHJldHVybiBkOyB9O1xuICBjb25zdCBwZWckYzQ1MyA9IGZ1bmN0aW9uKGY6IGFueSk6IGFueSB7IHJldHVybiBmOyB9O1xuICBjb25zdCBwZWckYzQ1NCA9IFwiMFwiO1xuICBjb25zdCBwZWckYzQ1NSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIwXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM0NTYgPSBmdW5jdGlvbihkOiBhbnkpOiBhbnkge2QucHVyZVZpcnR1YWwgPSB0cnVlOyByZXR1cm4gZDt9O1xuICBjb25zdCBwZWckYzQ1NyA9IGZ1bmN0aW9uKGQ6IGFueSk6IGFueSB7ZC5saWJyYXJ5X3Vuc3VwcG9ydGVkID0gdHJ1ZTsgcmV0dXJuIGQ7fTtcbiAgY29uc3QgcGVnJGM0NTggPSBmdW5jdGlvbihkOiBhbnksIGk6IGFueSk6IGFueSB7ZC5pbml0ID0gaTsgcmV0dXJuIGQ7fTtcbiAgY29uc3QgcGVnJGM0NTkgPSBmdW5jdGlvbihiOiBhbnkpOiBhbnkge3JldHVybiBifTtcbiAgY29uc3QgcGVnJGM0NjAgPSBmdW5jdGlvbihmaXJzdDogYW55LCBiOiBhbnkpOiBhbnkge3JldHVybiBiO307XG4gIGNvbnN0IHBlZyRjNDYxID0gZnVuY3Rpb24oYTogYW55KTogYW55IHtyZXR1cm4gYTt9O1xuICBjb25zdCBwZWckYzQ2MiA9IGZ1bmN0aW9uKGE6IGFueSwgYzogYW55KTogYW55IHtcclxuICAgICAgcmV0dXJuIHtuYW1lOiBjLCB2aXJ0dWFsOiB0cnVlLCBhY2Nlc3M6IGF9O307XG4gIGNvbnN0IHBlZyRjNDYzID0gZnVuY3Rpb24oYTogYW55LCBjOiBhbnkpOiBhbnkge1xyXG4gICAgICByZXR1cm4ge25hbWU6IGMsIGFjY2VzczogYX07fTtcbiAgY29uc3QgcGVnJGM0NjQgPSBmdW5jdGlvbihjOiBhbnkpOiBhbnkge1xyXG4gICAgICByZXR1cm4ge25hbWU6IGN9O307XG4gIGNvbnN0IHBlZyRjNDY1ID0gZnVuY3Rpb24objogYW55LCBjOiBhbnkpOiBhbnkge1xyXG4gICAgICBuLnB1c2goYyk7XHJcbiAgICAgIHJldHVybiBuO307XG5cbiAgbGV0IHBlZyRjdXJyUG9zID0gMDtcbiAgbGV0IHBlZyRzYXZlZFBvcyA9IDA7XG4gIGNvbnN0IHBlZyRwb3NEZXRhaWxzQ2FjaGUgPSBbeyBsaW5lOiAxLCBjb2x1bW46IDEgfV07XG4gIGxldCBwZWckbWF4RmFpbFBvcyA9IDA7XG4gIGxldCBwZWckbWF4RmFpbEV4cGVjdGVkOiBFeHBlY3RhdGlvbltdID0gW107XG4gIGxldCBwZWckc2lsZW50RmFpbHMgPSAwO1xuXG4gIGxldCBwZWckcmVzdWx0O1xuXG4gIGlmIChvcHRpb25zLnN0YXJ0UnVsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKCEob3B0aW9ucy5zdGFydFJ1bGUgaW4gcGVnJHN0YXJ0UnVsZUZ1bmN0aW9ucykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IHN0YXJ0IHBhcnNpbmcgZnJvbSBydWxlIFxcXCJcIiArIG9wdGlvbnMuc3RhcnRSdWxlICsgXCJcXFwiLlwiKTtcbiAgICB9XG5cbiAgICBwZWckc3RhcnRSdWxlRnVuY3Rpb24gPSBwZWckc3RhcnRSdWxlRnVuY3Rpb25zW29wdGlvbnMuc3RhcnRSdWxlXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRleHQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gaW5wdXQuc3Vic3RyaW5nKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9jYXRpb24oKTogSUZpbGVSYW5nZSB7XG4gICAgcmV0dXJuIHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcyk7XG4gIH1cblxuICBmdW5jdGlvbiBleHBlY3RlZChkZXNjcmlwdGlvbjogc3RyaW5nLCBsb2NhdGlvbjE/OiBJRmlsZVJhbmdlKSB7XG4gICAgbG9jYXRpb24xID0gbG9jYXRpb24xICE9PSB1bmRlZmluZWRcbiAgICAgID8gbG9jYXRpb24xXG4gICAgICA6IHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcyk7XG5cbiAgICB0aHJvdyBwZWckYnVpbGRTdHJ1Y3R1cmVkRXJyb3IoXG4gICAgICBbcGVnJG90aGVyRXhwZWN0YXRpb24oZGVzY3JpcHRpb24pXSxcbiAgICAgIGlucHV0LnN1YnN0cmluZyhwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKSxcbiAgICAgIGxvY2F0aW9uMVxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBlcnJvcihtZXNzYWdlOiBzdHJpbmcsIGxvY2F0aW9uMT86IElGaWxlUmFuZ2UpIHtcbiAgICBsb2NhdGlvbjEgPSBsb2NhdGlvbjEgIT09IHVuZGVmaW5lZFxuICAgICAgPyBsb2NhdGlvbjFcbiAgICAgIDogcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKTtcblxuICAgIHRocm93IHBlZyRidWlsZFNpbXBsZUVycm9yKG1lc3NhZ2UsIGxvY2F0aW9uMSk7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKHRleHQxOiBzdHJpbmcsIGlnbm9yZUNhc2U6IGJvb2xlYW4pOiBJTGl0ZXJhbEV4cGVjdGF0aW9uIHtcbiAgICByZXR1cm4geyB0eXBlOiBcImxpdGVyYWxcIiwgdGV4dDogdGV4dDEsIGlnbm9yZUNhc2U6IGlnbm9yZUNhc2UgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRjbGFzc0V4cGVjdGF0aW9uKHBhcnRzOiBJQ2xhc3NQYXJ0cywgaW52ZXJ0ZWQ6IGJvb2xlYW4sIGlnbm9yZUNhc2U6IGJvb2xlYW4pOiBJQ2xhc3NFeHBlY3RhdGlvbiB7XG4gICAgcmV0dXJuIHsgdHlwZTogXCJjbGFzc1wiLCBwYXJ0czogcGFydHMsIGludmVydGVkOiBpbnZlcnRlZCwgaWdub3JlQ2FzZTogaWdub3JlQ2FzZSB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGFueUV4cGVjdGF0aW9uKCk6IElBbnlFeHBlY3RhdGlvbiB7XG4gICAgcmV0dXJuIHsgdHlwZTogXCJhbnlcIiB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGVuZEV4cGVjdGF0aW9uKCk6IElFbmRFeHBlY3RhdGlvbiB7XG4gICAgcmV0dXJuIHsgdHlwZTogXCJlbmRcIiB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJG90aGVyRXhwZWN0YXRpb24oZGVzY3JpcHRpb246IHN0cmluZyk6IElPdGhlckV4cGVjdGF0aW9uIHtcbiAgICByZXR1cm4geyB0eXBlOiBcIm90aGVyXCIsIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGNvbXB1dGVQb3NEZXRhaWxzKHBvczogbnVtYmVyKSB7XG4gICAgbGV0IGRldGFpbHMgPSBwZWckcG9zRGV0YWlsc0NhY2hlW3Bvc107XG4gICAgbGV0IHA7XG5cbiAgICBpZiAoZGV0YWlscykge1xuICAgICAgcmV0dXJuIGRldGFpbHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHAgPSBwb3MgLSAxO1xuICAgICAgd2hpbGUgKCFwZWckcG9zRGV0YWlsc0NhY2hlW3BdKSB7XG4gICAgICAgIHAtLTtcbiAgICAgIH1cblxuICAgICAgZGV0YWlscyA9IHBlZyRwb3NEZXRhaWxzQ2FjaGVbcF07XG4gICAgICBkZXRhaWxzID0ge1xuICAgICAgICBsaW5lOiBkZXRhaWxzLmxpbmUsXG4gICAgICAgIGNvbHVtbjogZGV0YWlscy5jb2x1bW5cbiAgICAgIH07XG5cbiAgICAgIHdoaWxlIChwIDwgcG9zKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHApID09PSAxMCkge1xuICAgICAgICAgIGRldGFpbHMubGluZSsrO1xuICAgICAgICAgIGRldGFpbHMuY29sdW1uID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZXRhaWxzLmNvbHVtbisrO1xuICAgICAgICB9XG5cbiAgICAgICAgcCsrO1xuICAgICAgfVxuXG4gICAgICBwZWckcG9zRGV0YWlsc0NhY2hlW3Bvc10gPSBkZXRhaWxzO1xuXG4gICAgICByZXR1cm4gZGV0YWlscztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwZWckY29tcHV0ZUxvY2F0aW9uKHN0YXJ0UG9zOiBudW1iZXIsIGVuZFBvczogbnVtYmVyKTogSUZpbGVSYW5nZSB7XG4gICAgY29uc3Qgc3RhcnRQb3NEZXRhaWxzID0gcGVnJGNvbXB1dGVQb3NEZXRhaWxzKHN0YXJ0UG9zKTtcbiAgICBjb25zdCBlbmRQb3NEZXRhaWxzID0gcGVnJGNvbXB1dGVQb3NEZXRhaWxzKGVuZFBvcyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgc3RhcnQ6IHtcbiAgICAgICAgb2Zmc2V0OiBzdGFydFBvcyxcbiAgICAgICAgbGluZTogc3RhcnRQb3NEZXRhaWxzLmxpbmUsXG4gICAgICAgIGNvbHVtbjogc3RhcnRQb3NEZXRhaWxzLmNvbHVtblxuICAgICAgfSxcbiAgICAgIGVuZDoge1xuICAgICAgICBvZmZzZXQ6IGVuZFBvcyxcbiAgICAgICAgbGluZTogZW5kUG9zRGV0YWlscy5saW5lLFxuICAgICAgICBjb2x1bW46IGVuZFBvc0RldGFpbHMuY29sdW1uXG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRmYWlsKGV4cGVjdGVkMTogRXhwZWN0YXRpb24pIHtcbiAgICBpZiAocGVnJGN1cnJQb3MgPCBwZWckbWF4RmFpbFBvcykgeyByZXR1cm47IH1cblxuICAgIGlmIChwZWckY3VyclBvcyA+IHBlZyRtYXhGYWlsUG9zKSB7XG4gICAgICBwZWckbWF4RmFpbFBvcyA9IHBlZyRjdXJyUG9zO1xuICAgICAgcGVnJG1heEZhaWxFeHBlY3RlZCA9IFtdO1xuICAgIH1cblxuICAgIHBlZyRtYXhGYWlsRXhwZWN0ZWQucHVzaChleHBlY3RlZDEpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGJ1aWxkU2ltcGxlRXJyb3IobWVzc2FnZTogc3RyaW5nLCBsb2NhdGlvbjE6IElGaWxlUmFuZ2UpIHtcbiAgICByZXR1cm4gbmV3IFN5bnRheEVycm9yKG1lc3NhZ2UsIFtdLCBcIlwiLCBsb2NhdGlvbjEpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGJ1aWxkU3RydWN0dXJlZEVycm9yKGV4cGVjdGVkMTogRXhwZWN0YXRpb25bXSwgZm91bmQ6IHN0cmluZyB8IG51bGwsIGxvY2F0aW9uMTogSUZpbGVSYW5nZSkge1xuICAgIHJldHVybiBuZXcgU3ludGF4RXJyb3IoXG4gICAgICBTeW50YXhFcnJvci5idWlsZE1lc3NhZ2UoZXhwZWN0ZWQxLCBmb3VuZCksXG4gICAgICBleHBlY3RlZDEsXG4gICAgICBmb3VuZCxcbiAgICAgIGxvY2F0aW9uMVxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VzdGFydCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZXdzKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgIHM0ID0gcGVnJHBhcnNlZGVjbF9vcl9jb21tZW50KCk7XG4gICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczUgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICBzNCA9IHBlZyRjMChzNCk7XG4gICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzNCA9IHBlZyRwYXJzZWRlY2xfb3JfY29tbWVudCgpO1xuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNSA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgIHM0ID0gcGVnJGMwKHM0KTtcbiAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMxKHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VkZWNsX29yX2NvbW1lbnQoKTogYW55IHtcbiAgICBsZXQgczAsIHMxO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWNvbW1lbnQoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgczEgPSBwZWckYzIoKTtcbiAgICB9XG4gICAgczAgPSBzMTtcbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJHBhcnNlZGVjbGFyYXRpb24oKTtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2Vjb21tZW50KCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczU7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzMpIHtcbiAgICAgIHMxID0gcGVnJGMzO1xuICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQpOyB9XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIGlmIChwZWckYzUudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICBzMyA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2KTsgfVxuICAgICAgfVxuICAgICAgd2hpbGUgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICBpZiAocGVnJGM1LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICBzMyA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzYpOyB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDEwKSB7XG4gICAgICAgICAgczMgPSBwZWckYzc7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzgpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczEgPSBbczEsIHMyLCBzM107XG4gICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGM5KSB7XG4gICAgICAgIHMxID0gcGVnJGM5O1xuICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTApOyB9XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBbXTtcbiAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgczQgPSBwZWckY3VyclBvcztcbiAgICAgICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzExKSB7XG4gICAgICAgICAgczUgPSBwZWckYzExO1xuICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMik7IH1cbiAgICAgICAgfVxuICAgICAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNDtcbiAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0Lmxlbmd0aCA+IHBlZyRjdXJyUG9zKSB7XG4gICAgICAgICAgICBzNSA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTMpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczQgPSBbczQsIHM1XTtcbiAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgczQgPSBwZWckY3VyclBvcztcbiAgICAgICAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMxMSkge1xuICAgICAgICAgICAgczUgPSBwZWckYzExO1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzEyKTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICAgICAgICBpZiAoczUgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHM0O1xuICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5sZW5ndGggPiBwZWckY3VyclBvcykge1xuICAgICAgICAgICAgICBzNSA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMyk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNCA9IFtzNCwgczVdO1xuICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMxMSkge1xuICAgICAgICAgICAgczMgPSBwZWckYzExO1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzEyKTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMxID0gW3MxLCBzMiwgczNdO1xuICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VzdGF0ZW1lbnQoKTogYW55IHtcbiAgICBsZXQgczAsIHMxO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZXN0YXRlbWVudF90cmFja2VkKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgIHMxID0gcGVnJGMxNChzMSk7XG4gICAgfVxuICAgIHMwID0gczE7XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VzdGF0ZW1lbnRfdHJhY2tlZCgpOiBhbnkge1xuICAgIGxldCBzMCwgczE7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlbGFiZWxlZF9zdGF0ZW1lbnQoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgczEgPSBwZWckYzE1KHMxKTtcbiAgICB9XG4gICAgczAgPSBzMTtcbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJHBhcnNlYmxvY2soKTtcbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMCA9IHBlZyRwYXJzZXNlbGVjdGlvbl9zdGF0ZW1lbnQoKTtcbiAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczAgPSBwZWckcGFyc2VpdGVyYXRpb25fc3RhdGVtZW50KCk7XG4gICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMCA9IHBlZyRwYXJzZWp1bXBfc3RhdGVtZW50KCk7XG4gICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczAgPSBwZWckcGFyc2VkZWNsYXJhdGlvbl9zdGF0ZW1lbnQoKTtcbiAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckcGFyc2VleHByZXNzaW9uX3N0YXRlbWVudCgpO1xuICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckcGFyc2VudWxsX3N0YXRlbWVudCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWxhYmVsZWRfc3RhdGVtZW50KCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VpZGVudGlmaWVyKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA1OCkge1xuICAgICAgICAgIHMzID0gcGVnJGMxNjtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTcpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUgPSBwZWckcGFyc2VzdGF0ZW1lbnQoKTtcbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczEgPSBwZWckYzE4KHMxLCBzNSk7XG4gICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDQpID09PSBwZWckYzE5KSB7XG4gICAgICAgIHMxID0gcGVnJGMxOTtcbiAgICAgICAgcGVnJGN1cnJQb3MgKz0gNDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIwKTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gcGVnJHBhcnNlV1MoKTtcbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBwZWckcGFyc2VleHBfY29uc3QoKTtcbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDU4KSB7XG4gICAgICAgICAgICAgICAgczUgPSBwZWckYzE2O1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNyk7IH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZXN0YXRlbWVudCgpO1xuICAgICAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMjEoczMsIHM3KTtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA3KSA9PT0gcGVnJGMyMikge1xuICAgICAgICAgIHMxID0gcGVnJGMyMjtcbiAgICAgICAgICBwZWckY3VyclBvcyArPSA3O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjMpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA1OCkge1xuICAgICAgICAgICAgICBzMyA9IHBlZyRjMTY7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNyk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlc3RhdGVtZW50KCk7XG4gICAgICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMyNChzNSk7XG4gICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWV4cHJlc3Npb25fc3RhdGVtZW50KCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWV4cHJlc3Npb24oKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDU5KSB7XG4gICAgICAgICAgczMgPSBwZWckYzI1O1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNik7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICBzMSA9IHBlZyRjMjcoczEpO1xuICAgICAgICAgIHMwID0gczE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VudWxsX3N0YXRlbWVudCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZXdzKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDU5KSB7XG4gICAgICAgIHMyID0gcGVnJGMyNTtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI2KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMjgoKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VibG9jaygpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNjtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAxMjMpIHtcbiAgICAgIHMxID0gcGVnJGMyOTtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzMCk7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBbXTtcbiAgICAgICAgczQgPSBwZWckY3VyclBvcztcbiAgICAgICAgczUgPSBwZWckcGFyc2VzdGF0ZW1lbnQoKTtcbiAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczQ7XG4gICAgICAgICAgICBzNSA9IHBlZyRjMzEoczUpO1xuICAgICAgICAgICAgczQgPSBzNTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNDtcbiAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNDtcbiAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMucHVzaChzNCk7XG4gICAgICAgICAgczQgPSBwZWckY3VyclBvcztcbiAgICAgICAgICBzNSA9IHBlZyRwYXJzZXN0YXRlbWVudCgpO1xuICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHM0O1xuICAgICAgICAgICAgICBzNSA9IHBlZyRjMzEoczUpO1xuICAgICAgICAgICAgICBzNCA9IHM1O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNDtcbiAgICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHM0O1xuICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDEyNSkge1xuICAgICAgICAgICAgczQgPSBwZWckYzMyO1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzMzKTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgczEgPSBwZWckYzM0KHMzKTtcbiAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlc2VsZWN0aW9uX3N0YXRlbWVudCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczcsIHM4LCBzOSwgczEwLCBzMTEsIHMxMiwgczEzO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMzNSkge1xuICAgICAgczEgPSBwZWckYzM1O1xuICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM2KTsgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQwKSB7XG4gICAgICAgICAgczMgPSBwZWckYzM3O1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzOCk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRwYXJzZWV4cHJlc3Npb24oKTtcbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJGMzOTtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MCk7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzOCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICBpZiAoczggIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckcGFyc2VzdGF0ZW1lbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHM5ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgczEwID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoczEwICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA0KSA9PT0gcGVnJGM0MSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMTEgPSBwZWckYzQxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczExID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQyKTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMTIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczEyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczEzID0gcGVnJHBhcnNlc3RhdGVtZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjNDMoczUsIHM5LCBzMTMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMzUpIHtcbiAgICAgICAgczEgPSBwZWckYzM1O1xuICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzYpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQwKSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRjMzc7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzgpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlZXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQxKSB7XG4gICAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJGMzOTtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQwKTsgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckcGFyc2VzdGF0ZW1lbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoczkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzQ0KHM1LCBzOSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWl0ZXJhdGlvbl9zdGF0ZW1lbnQoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3LCBzOCwgczksIHMxMCwgczExLCBzMTIsIHMxMywgczE0LCBzMTU7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDUpID09PSBwZWckYzQ1KSB7XG4gICAgICBzMSA9IHBlZyRjNDU7XG4gICAgICBwZWckY3VyclBvcyArPSA1O1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDYpOyB9XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDApIHtcbiAgICAgICAgICBzMyA9IHBlZyRjMzc7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM4KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlZXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICAgICAgczcgPSBwZWckYzM5O1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQwKTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgIGlmIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRwYXJzZXN0YXRlbWVudCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoczkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjNDcoczUsIHM5KTtcbiAgICAgICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzQ4KSB7XG4gICAgICAgIHMxID0gcGVnJGM0ODtcbiAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQ5KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgICAgICBzMyA9IHBlZyRwYXJzZWlkZW50aWZpZXJDaGFyKCk7XG4gICAgICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMiA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMyA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRwYXJzZXN0YXRlbWVudCgpO1xuICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNSkgPT09IHBlZyRjNDUpIHtcbiAgICAgICAgICAgICAgICAgIHM2ID0gcGVnJGM0NTtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0Nik7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MCkge1xuICAgICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJGMzNztcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzgpOyB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChzOSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgczEwID0gcGVnJHBhcnNlZXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMTEgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczExICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczEyID0gcGVnJGMzOTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDApOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxMyA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczEzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNTkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTQgPSBwZWckYzI1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczE0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjYpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGM1MChzNCwgczEwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMykgPT09IHBlZyRjNTEpIHtcbiAgICAgICAgICBzMSA9IHBlZyRjNTE7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzUyKTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDApIHtcbiAgICAgICAgICAgICAgczMgPSBwZWckYzM3O1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzgpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNSA9IHBlZyRwYXJzZWZvcl9pbml0X3N0YXRlbWVudCgpO1xuICAgICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzOCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDU5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHM5ID0gcGVnJGMyNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHM5ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI2KTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHM5ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMxMCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTAgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTEgPSBwZWckcGFyc2VleHByZXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczEyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxMyA9IHBlZyRjMzk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MCk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczEzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczE0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczE0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTUgPSBwZWckcGFyc2VzdGF0ZW1lbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGM1MyhzNSwgczcsIHMxMSwgczE1KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2Vmb3JfaW5pdF9zdGF0ZW1lbnQoKTogYW55IHtcbiAgICBsZXQgczAsIHMxO1xuXG4gICAgczAgPSBwZWckcGFyc2VleHByZXNzaW9uX3N0YXRlbWVudCgpO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckcGFyc2VudWxsX3N0YXRlbWVudCgpO1xuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHMxID0gcGVnJHBhcnNlZGVjbGFyYXRpb25fc3RhdGVtZW50KCk7XG4gICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgIHMxID0gcGVnJGM1NChzMSk7XG4gICAgICAgIH1cbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VqdW1wX3N0YXRlbWVudCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNjtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNSkgPT09IHBlZyRjNTUpIHtcbiAgICAgIHMxID0gcGVnJGM1NTtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM1Nik7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRjdXJyUG9zO1xuICAgICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgICBzMyA9IHBlZyRwYXJzZWlkZW50aWZpZXJDaGFyKCk7XG4gICAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNTkpIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJGMyNTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNik7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgIHMxID0gcGVnJGM1NygpO1xuICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgOCkgPT09IHBlZyRjNTgpIHtcbiAgICAgICAgczEgPSBwZWckYzU4O1xuICAgICAgICBwZWckY3VyclBvcyArPSA4O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNTkpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckY3VyclBvcztcbiAgICAgICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlaWRlbnRpZmllckNoYXIoKTtcbiAgICAgICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyID0gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNTkpIHtcbiAgICAgICAgICAgICAgczQgPSBwZWckYzI1O1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjYpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgIHMxID0gcGVnJGM2MCgpO1xuICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDYpID09PSBwZWckYzYxKSB7XG4gICAgICAgICAgczEgPSBwZWckYzYxO1xuICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2Mik7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMiA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgICAgICAgIHMzID0gcGVnJHBhcnNlaWRlbnRpZmllckNoYXIoKTtcbiAgICAgICAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMyID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMzID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNCA9IHBlZyRwYXJzZWV4cHJlc3Npb24oKTtcbiAgICAgICAgICAgICAgaWYgKHM0ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczQgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNTkpIHtcbiAgICAgICAgICAgICAgICAgICAgczYgPSBwZWckYzI1O1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjYpOyB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGM2MyhzNCk7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZGVjbGFyYXRpb25fc3RhdGVtZW50KCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VkZWNsYXJhdGlvbigpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICBzMSA9IHBlZyRjNjQoczEpO1xuICAgIH1cbiAgICBzMCA9IHMxO1xuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZGVjbGFyYXRpb24oKTogYW55IHtcbiAgICBsZXQgczA7XG5cbiAgICBzMCA9IHBlZyRwYXJzZXNpbXBsZV9kZWNsYXJhdGlvbigpO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckcGFyc2VjbGFzc19kZWNsYXJhdGlvbigpO1xuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMwID0gcGVnJHBhcnNlZnVuY3Rpb25fZGVmaW5pdGlvbigpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZXNpbXBsZV9kZWNsYXJhdGlvbigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNjtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VkZWNsX3NwZWNpZmllcnMoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJGN1cnJQb3M7XG4gICAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICAgIHMzID0gcGVnJHBhcnNlaWRlbnRpZmllcigpO1xuICAgICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZWRlY2xhcmF0b3JfbGlzdCgpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNTkpIHtcbiAgICAgICAgICAgICAgICBzNiA9IHBlZyRjMjU7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI2KTsgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMxID0gcGVnJGM2NShzMSwgczQpO1xuICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VkZWNsYXJhdG9yX2xpc3QoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWRlY2xhcmF0b3JfaW5pdCgpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NCkge1xuICAgICAgICAgIHM1ID0gcGVnJGM2NjtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNjcpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczcgPSBwZWckcGFyc2VkZWNsYXJhdG9yX2luaXQoKTtcbiAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgczQgPSBwZWckYzY4KHMxLCBzNyk7XG4gICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NCkge1xuICAgICAgICAgICAgczUgPSBwZWckYzY2O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzY3KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZWRlY2xhcmF0b3JfaW5pdCgpO1xuICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzNCA9IHBlZyRjNjgoczEsIHM3KTtcbiAgICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGM2OShzMSwgczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWNsYXNzX2RlY2xhcmF0aW9uKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWNsYXNzX3NwZWNpZmllcigpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNTkpIHtcbiAgICAgICAgICBzMyA9IHBlZyRjMjU7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI2KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgIHMxID0gcGVnJGM3MChzMSk7XG4gICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWZ1bmN0aW9uX2RlZmluaXRpb24oKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczY7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlZGVjbF9zcGVjaWZpZXJzKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRjdXJyUG9zO1xuICAgICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgICBzMyA9IHBlZyRwYXJzZWlkZW50aWZpZXIoKTtcbiAgICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMjtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2VkZWNsYXJhdG9yKCk7XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczYgPSBwZWckcGFyc2VibG9jaygpO1xuICAgICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMSA9IHBlZyRjNzEoczEsIHM0LCBzNik7XG4gICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWNvbnN0cnVjdG9yX2RlZmluaXRpb24oKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3LCBzOCwgczksIHMxMCwgczExLCBzMTI7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlaWRlbnRpZmllcigpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDApIHtcbiAgICAgICAgICBzMyA9IHBlZyRjMzc7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM4KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlYXJndW1lbnRfZGVjbGFyYXRpb25fbGlzdCgpO1xuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICAgICAgczcgPSBwZWckYzM5O1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQwKTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgIGlmIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRwYXJzZWN0b3JfaW5pdGlhbGl6ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHM5ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgczkgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzOSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIHMxMCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgczExID0gcGVnJHBhcnNlYmxvY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTEgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczExID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNTkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTIgPSBwZWckYzI1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczEyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjYpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMxMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTIgPSBwZWckYzcyKHMxLCBzNSwgczkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMxMSA9IHMxMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGM3MyhzMSwgczUsIHM5LCBzMTEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWRlc3RydWN0b3JfZGVmaW5pdGlvbigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczcsIHM4LCBzOSwgczEwLCBzMTE7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMTI2KSB7XG4gICAgICBzMSA9IHBlZyRjNzQ7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNzUpOyB9XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2VpZGVudGlmaWVyKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQwKSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRjMzc7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzgpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgICAgICBzNiA9IHBlZyRjMzk7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQwKTsgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNlYmxvY2soKTtcbiAgICAgICAgICAgICAgICAgIGlmIChzOCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBzOCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDU5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckYzI1O1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNik7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoczkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzODtcbiAgICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRjNzYoczIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHM4ID0gczk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoczggIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGM3NyhzMiwgczgpO1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA3KSA9PT0gcGVnJGM3OCkge1xuICAgICAgICBzMSA9IHBlZyRjNzg7XG4gICAgICAgIHBlZyRjdXJyUG9zICs9IDc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM3OSk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRwYXJzZVdTKCk7XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMTI2KSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRjNzQ7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNzUpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczQgPSBwZWckcGFyc2VpZGVudGlmaWVyKCk7XG4gICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQwKSB7XG4gICAgICAgICAgICAgICAgICBzNiA9IHBlZyRjMzc7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzgpOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzOCA9IHBlZyRjMzk7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBzOCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQwKTsgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIHM5ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoczkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMxMCA9IHBlZyRwYXJzZWJsb2NrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoczEwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMxMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDU5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczExID0gcGVnJGMyNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI2KTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMTA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczExID0gcGVnJGM3NihzNCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgczEwID0gczExO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzgwKHM0LCBzMTApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWN0b3JfaW5pdGlhbGl6ZXIoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3LCBzOCwgczk7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNTgpIHtcbiAgICAgIHMxID0gcGVnJGMxNjtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNyk7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2VtZW1faW5pdGlhbGl6ZXIoKTtcbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBbXTtcbiAgICAgICAgICBzNSA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDQpIHtcbiAgICAgICAgICAgICAgczcgPSBwZWckYzY2O1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNjcpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczggPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICBpZiAoczggIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzOSA9IHBlZyRwYXJzZW1lbV9pbml0aWFsaXplcigpO1xuICAgICAgICAgICAgICAgIGlmIChzOSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczU7XG4gICAgICAgICAgICAgICAgICBzNiA9IHBlZyRjODEoczMsIHM5KTtcbiAgICAgICAgICAgICAgICAgIHM1ID0gczY7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHdoaWxlIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczQucHVzaChzNSk7XG4gICAgICAgICAgICBzNSA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDQpIHtcbiAgICAgICAgICAgICAgICBzNyA9IHBlZyRjNjY7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzY3KTsgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICBpZiAoczggIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM5ID0gcGVnJHBhcnNlbWVtX2luaXRpYWxpemVyKCk7XG4gICAgICAgICAgICAgICAgICBpZiAoczkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczU7XG4gICAgICAgICAgICAgICAgICAgIHM2ID0gcGVnJGM4MShzMywgczkpO1xuICAgICAgICAgICAgICAgICAgICBzNSA9IHM2O1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xuICAgICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgczEgPSBwZWckYzgyKHMzLCBzNCk7XG4gICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZW1lbV9pbml0aWFsaXplcigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczc7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlaWRlbnRpZmllcigpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDApIHtcbiAgICAgICAgICBzMyA9IHBlZyRjMzc7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM4KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlZXhwX2xpc3QoKTtcbiAgICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQxKSB7XG4gICAgICAgICAgICAgICAgICBzNyA9IHBlZyRjMzk7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDApOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjODMoczEsIHM1KTtcbiAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZGVjbF9zcGVjaWZpZXJzKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IFtdO1xuICAgIHMyID0gcGVnJGN1cnJQb3M7XG4gICAgczMgPSBwZWckcGFyc2VkZWNsX3NwZWNpZmllcigpO1xuICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczQgPSBwZWckcGFyc2VXUygpO1xuICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMyO1xuICAgICAgICBzMyA9IHBlZyRjODQoczMpO1xuICAgICAgICBzMiA9IHMzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMjtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICB3aGlsZSAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMxLnB1c2goczIpO1xuICAgICAgczIgPSBwZWckY3VyclBvcztcbiAgICAgIHMzID0gcGVnJHBhcnNlZGVjbF9zcGVjaWZpZXIoKTtcbiAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzNCA9IHBlZyRwYXJzZVdTKCk7XG4gICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMyO1xuICAgICAgICAgIHMzID0gcGVnJGM4NChzMyk7XG4gICAgICAgICAgczIgPSBzMztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMjtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNlc2ltcGxlX3R5cGVfbmFtZSgpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gW107XG4gICAgICAgIHM0ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHM1ID0gcGVnJHBhcnNlV1MoKTtcbiAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczYgPSBwZWckcGFyc2VkZWNsX3NwZWNpZmllcigpO1xuICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczQ7XG4gICAgICAgICAgICBzNSA9IHBlZyRjODUoczEsIHMyLCBzNik7XG4gICAgICAgICAgICBzNCA9IHM1O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHM0O1xuICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHM0O1xuICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMy5wdXNoKHM0KTtcbiAgICAgICAgICBzNCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgIHM1ID0gcGVnJHBhcnNlV1MoKTtcbiAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNlZGVjbF9zcGVjaWZpZXIoKTtcbiAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzNDtcbiAgICAgICAgICAgICAgczUgPSBwZWckYzg1KHMxLCBzMiwgczYpO1xuICAgICAgICAgICAgICBzNCA9IHM1O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNDtcbiAgICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHM0O1xuICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICBzMSA9IHBlZyRjODYoczEsIHMyLCBzMyk7XG4gICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWRlY2xfc3BlY2lmaWVyKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2V0eXBlX3NwZWNpZmllcigpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICBzMSA9IHBlZyRjODcoczEpO1xuICAgIH1cbiAgICBzMCA9IHMxO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIHMxID0gcGVnJHBhcnNlc3RvcmFnZV9jbGFzc19zcGVjaWZpZXIoKTtcbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzg4KHMxKTtcbiAgICAgIH1cbiAgICAgIHMwID0gczE7XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczAgPSBwZWckcGFyc2VmdW5jdGlvbl9zcGVjaWZpZXIoKTtcbiAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNykgPT09IHBlZyRjODkpIHtcbiAgICAgICAgICAgIHMwID0gcGVnJGM4OTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM5MCk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA2KSA9PT0gcGVnJGM5MSkge1xuICAgICAgICAgICAgICBzMCA9IHBlZyRjOTE7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM5Mik7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2V0eXBlX3NwZWNpZmllcnMoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczY7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gW107XG4gICAgczIgPSBwZWckY3VyclBvcztcbiAgICBzMyA9IHBlZyRwYXJzZXR5cGVfc3BlY2lmaWVyKCk7XG4gICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzNCA9IHBlZyRwYXJzZVdTKCk7XG4gICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczI7XG4gICAgICAgIHMzID0gcGVnJGM4NChzMyk7XG4gICAgICAgIHMyID0gczM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIHdoaWxlIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEucHVzaChzMik7XG4gICAgICBzMiA9IHBlZyRjdXJyUG9zO1xuICAgICAgczMgPSBwZWckcGFyc2V0eXBlX3NwZWNpZmllcigpO1xuICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHM0ID0gcGVnJHBhcnNlV1MoKTtcbiAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJHNhdmVkUG9zID0gczI7XG4gICAgICAgICAgczMgPSBwZWckYzg0KHMzKTtcbiAgICAgICAgICBzMiA9IHMzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2VzaW1wbGVfdHlwZV9uYW1lKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBbXTtcbiAgICAgICAgczQgPSBwZWckY3VyclBvcztcbiAgICAgICAgczUgPSBwZWckcGFyc2VXUygpO1xuICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNiA9IHBlZyRwYXJzZXR5cGVfc3BlY2lmaWVyKCk7XG4gICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzNDtcbiAgICAgICAgICAgIHM1ID0gcGVnJGM4NShzMSwgczIsIHM2KTtcbiAgICAgICAgICAgIHM0ID0gczU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczQ7XG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczQ7XG4gICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzLnB1c2goczQpO1xuICAgICAgICAgIHM0ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgczUgPSBwZWckcGFyc2VXUygpO1xuICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczYgPSBwZWckcGFyc2V0eXBlX3NwZWNpZmllcigpO1xuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHM0O1xuICAgICAgICAgICAgICBzNSA9IHBlZyRjODUoczEsIHMyLCBzNik7XG4gICAgICAgICAgICAgIHM0ID0gczU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM0O1xuICAgICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczQ7XG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgIHMxID0gcGVnJGM5MyhzMSwgczIsIHMzKTtcbiAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNldHlwZV9zcGVjaWZpZXIoKTogYW55IHtcbiAgICBsZXQgczA7XG5cbiAgICBzMCA9IHBlZyRwYXJzZWVudW1fc3BlY2lmaWVyKCk7XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA1KSA9PT0gcGVnJGM5NCkge1xuICAgICAgICBzMCA9IHBlZyRjOTQ7XG4gICAgICAgIHBlZyRjdXJyUG9zICs9IDU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM5NSk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA4KSA9PT0gcGVnJGM5Nikge1xuICAgICAgICAgIHMwID0gcGVnJGM5NjtcbiAgICAgICAgICBwZWckY3VyclBvcyArPSA4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOTcpOyB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VzdG9yYWdlX2NsYXNzX3NwZWNpZmllcigpOiBhbnkge1xuICAgIGxldCBzMDtcblxuICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDgpID09PSBwZWckYzk4KSB7XG4gICAgICBzMCA9IHBlZyRjOTg7XG4gICAgICBwZWckY3VyclBvcyArPSA4O1xuICAgIH0gZWxzZSB7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOTkpOyB9XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNikgPT09IHBlZyRjMTAwKSB7XG4gICAgICAgIHMwID0gcGVnJGMxMDA7XG4gICAgICAgIHBlZyRjdXJyUG9zICs9IDY7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMDEpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMTIpID09PSBwZWckYzEwMikge1xuICAgICAgICAgIHMwID0gcGVnJGMxMDI7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMTI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMDMpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNikgPT09IHBlZyRjMTA0KSB7XG4gICAgICAgICAgICBzMCA9IHBlZyRjMTA0O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gNjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzEwNSk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA3KSA9PT0gcGVnJGMxMDYpIHtcbiAgICAgICAgICAgICAgczAgPSBwZWckYzEwNjtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gNztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzEwNyk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VmdW5jdGlvbl9zcGVjaWZpZXIoKTogYW55IHtcbiAgICBsZXQgczA7XG5cbiAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA2KSA9PT0gcGVnJGMxMDgpIHtcbiAgICAgIHMwID0gcGVnJGMxMDg7XG4gICAgICBwZWckY3VyclBvcyArPSA2O1xuICAgIH0gZWxzZSB7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTA5KTsgfVxuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDgpID09PSBwZWckYzExMCkge1xuICAgICAgICBzMCA9IHBlZyRjMTEwO1xuICAgICAgICBwZWckY3VyclBvcyArPSA4O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTExKTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDcpID09PSBwZWckYzc4KSB7XG4gICAgICAgICAgczAgPSBwZWckYzc4O1xuICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM3OSk7IH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZXNpbXBsZV90eXBlX25hbWUoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczM7XG5cbiAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlX3NpbXBsZV90eXBlX25hbWUoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJGN1cnJQb3M7XG4gICAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICAgIHMzID0gcGVnJHBhcnNlaWRlbnRpZmllckNoYXIoKTtcbiAgICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMjtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMTEzKHMxKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTEyKTsgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZV9zaW1wbGVfdHlwZV9uYW1lKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczI7XG5cbiAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA0KSA9PT0gcGVnJGMxMTQpIHtcbiAgICAgIHMwID0gcGVnJGMxMTQ7XG4gICAgICBwZWckY3VyclBvcyArPSA0O1xuICAgIH0gZWxzZSB7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTE1KTsgfVxuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDUpID09PSBwZWckYzExNikge1xuICAgICAgICBzMCA9IHBlZyRjMTE2O1xuICAgICAgICBwZWckY3VyclBvcyArPSA1O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTE3KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDMpID09PSBwZWckYzExOCkge1xuICAgICAgICAgIHMwID0gcGVnJGMxMTg7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzExOSk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA0KSA9PT0gcGVnJGMxMjApIHtcbiAgICAgICAgICAgIHMwID0gcGVnJGMxMjA7XG4gICAgICAgICAgICBwZWckY3VyclBvcyArPSA0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTIxKTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDQpID09PSBwZWckYzEyMikge1xuICAgICAgICAgICAgICBzMCA9IHBlZyRjMTIyO1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSA0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTIzKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDYpID09PSBwZWckYzEyNCkge1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJGMxMjQ7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gNjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzEyNSk7IH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA4KSA9PT0gcGVnJGMxMjYpIHtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGMxMjY7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSA4O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTI3KTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDUpID09PSBwZWckYzEyOCkge1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMTI4O1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSA1O1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTI5KTsgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDYpID09PSBwZWckYzEzMCkge1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGMxMzA7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gNjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzEzMSk7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA0KSA9PT0gcGVnJGMxMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGMxMzI7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSA0O1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTMzKTsgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRwYXJzZWlkZW50aWZpZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczIgPSBwZWckYzEzNChzMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMTM1KHMxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZW51bV9zcGVjaWZpZXIoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3LCBzOCwgczksIHMxMCwgczExLCBzMTI7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDQpID09PSBwZWckYzEzNikge1xuICAgICAgczEgPSBwZWckYzEzNjtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMzcpOyB9XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2VXUygpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlaWRlbnRpZmllcigpO1xuICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAxMjMpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckYzI5O1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzApOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczYgPSBwZWckcGFyc2VlbnVtZXJhdG9yKCk7XG4gICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM3ID0gW107XG4gICAgICAgICAgICAgICAgczggPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgICBzOSA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgaWYgKHM5ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHMxMCA9IHBlZyRjNjY7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzMTAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNjcpOyB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoczEwICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHMxMSA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzMTEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzMTIgPSBwZWckcGFyc2VlbnVtZXJhdG9yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczg7XG4gICAgICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRjMTM4KHMzLCBzNiwgczEyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHM4ID0gczk7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczg7XG4gICAgICAgICAgICAgICAgICAgICAgICBzOCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczg7XG4gICAgICAgICAgICAgICAgICAgICAgczggPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM4O1xuICAgICAgICAgICAgICAgICAgICBzOCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczg7XG4gICAgICAgICAgICAgICAgICBzOCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdoaWxlIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczcucHVzaChzOCk7XG4gICAgICAgICAgICAgICAgICBzOCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICAgICAgczkgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgICAgaWYgKHM5ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzMTAgPSBwZWckYzY2O1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgczEwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNjcpOyB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHMxMCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIHMxMSA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgczEyID0gcGVnJHBhcnNlZW51bWVyYXRvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzODtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckYzEzOChzMywgczYsIHMxMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHM4ID0gczk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzOCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczg7XG4gICAgICAgICAgICAgICAgICAgICAgICBzOCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczg7XG4gICAgICAgICAgICAgICAgICAgICAgczggPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM4O1xuICAgICAgICAgICAgICAgICAgICBzOCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczggPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMTI1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckYzMyO1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzMyk7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoczkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMTM5KHMzLCBzNiwgczcpO1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VlbnVtZXJhdG9yKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWlkZW50aWZpZXIoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJGN1cnJQb3M7XG4gICAgICBzMyA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2MSkge1xuICAgICAgICAgIHM0ID0gcGVnJGMxNDA7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE0MSk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNSA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRwYXJzZWV4cF9jb25zdCgpO1xuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMyO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRjMTQyKHMxLCBzNik7XG4gICAgICAgICAgICAgIHMyID0gczM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMxNDMoczEsIHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VkZWNsYXJhdG9yX2luaXQoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VkZWNsYXJhdG9yKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2MSkge1xuICAgICAgICAgIHMzID0gcGVnJGMxNDA7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE0MSk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyMSkgPT09IHBlZyRjMTQ0KSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJGMxNDQ7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDIxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTQ1KTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMSA9IHBlZyRjMTQ2KHMxKTtcbiAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczEgPSBwZWckcGFyc2VkZWNsYXJhdG9yKCk7XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMyA9IHBlZyRwYXJzZWluaXRpYWxpemVyKCk7XG4gICAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMyA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICBzMSA9IHBlZyRjMTQ3KHMxLCBzMyk7XG4gICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWluaXRpYWxpemVyKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczU7XG5cbiAgICBzMCA9IHBlZyRwYXJzZWJyYWNlX29yX2VxdWFsX2luaXRpYWxpemVyKCk7XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MCkge1xuICAgICAgICBzMSA9IHBlZyRjMzc7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzOCk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzID0gcGVnJHBhcnNlZXhwX2xpc3QoKTtcbiAgICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMzID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJGMzOTtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDApOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczEgPSBwZWckYzE0OChzMyk7XG4gICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWJyYWNlX29yX2VxdWFsX2luaXRpYWxpemVyKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2MSkge1xuICAgICAgczEgPSBwZWckYzE0MDtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNDEpOyB9XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlZXhwX2Fzc24oKTtcbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgczEgPSBwZWckYzE0OShzMyk7XG4gICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDYxKSB7XG4gICAgICAgIHMxID0gcGVnJGMxNDA7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNDEpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDEyMykge1xuICAgICAgICAgICAgczMgPSBwZWckYzI5O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzMwKTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRwYXJzZWluaXRpYWxpemVyX2xpc3QoKTtcbiAgICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAxMjUpIHtcbiAgICAgICAgICAgICAgICAgICAgczcgPSBwZWckYzMyO1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzMpOyB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMxNTAoczUpO1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWluaXRpYWxpemVyX2xpc3QoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWV4cF9hc3NuKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ0KSB7XG4gICAgICAgICAgczUgPSBwZWckYzY2O1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2Nyk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNyA9IHBlZyRwYXJzZWV4cF9hc3NuKCk7XG4gICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJGMxNTEoczEsIHM1LCBzNyk7XG4gICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NCkge1xuICAgICAgICAgICAgczUgPSBwZWckYzY2O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzY3KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZWV4cF9hc3NuKCk7XG4gICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICAgIHM0ID0gcGVnJGMxNTEoczEsIHM1LCBzNyk7XG4gICAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMTUyKHMxLCBzMik7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZGVjbGFyYXRvcigpOiBhbnkge1xuICAgIGxldCBzMCwgczE7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlX2RlY2xhcmF0b3IoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgczEgPSBwZWckYzE1MyhzMSk7XG4gICAgfVxuICAgIHMwID0gczE7XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VhYnN0cmFjdF9kZWNsYXJhdG9yKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VfYWJzX2RlY2xhcmF0b3IoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgczEgPSBwZWckYzE1NChzMSk7XG4gICAgfVxuICAgIHMwID0gczE7XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VfZGVjbGFyYXRvcigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQyKSB7XG4gICAgICBzMSA9IHBlZyRjMTU1O1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE1Nik7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2Vjdl9xdWFsaWZpZXIoKTtcbiAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlX2RlY2xhcmF0b3IoKTtcbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczEgPSBwZWckYzE1NyhzMywgczUpO1xuICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDM4KSB7XG4gICAgICAgIHMxID0gcGVnJGMxNTg7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNTkpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMyA9IHBlZyRwYXJzZWN2X3F1YWxpZmllcigpO1xuICAgICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczMgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRwYXJzZV9kZWNsYXJhdG9yKCk7XG4gICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMxID0gcGVnJGMxNjAoczMsIHM1KTtcbiAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgczEgPSBwZWckcGFyc2VkZWNsYXJhdG9yX3NpbXBsZSgpO1xuICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMiA9IHBlZyRwYXJzZWRlY2xhcmF0b3JfcG9zdGZpeGVzKCk7XG4gICAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgIHMxID0gcGVnJGMxNjEoczEsIHMyKTtcbiAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMwID0gcGVnJHBhcnNlZGVjbGFyYXRvcl9zaW1wbGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZV9hYnNfZGVjbGFyYXRvcigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQyKSB7XG4gICAgICBzMSA9IHBlZyRjMTU1O1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE1Nik7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2Vjdl9xdWFsaWZpZXIoKTtcbiAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlX2Fic19kZWNsYXJhdG9yKCk7XG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgIHMxID0gcGVnJGMxNTcoczMsIHM1KTtcbiAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzOCkge1xuICAgICAgICBzMSA9IHBlZyRjMTU4O1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTU5KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBwZWckcGFyc2Vjdl9xdWFsaWZpZXIoKTtcbiAgICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMzID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckcGFyc2VfYWJzX2RlY2xhcmF0b3IoKTtcbiAgICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczEgPSBwZWckYzE2MChzMywgczUpO1xuICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzMSA9IHBlZyRwYXJzZWFic19kZWNsYXJhdG9yX3NpbXBsZSgpO1xuICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMiA9IHBlZyRwYXJzZWRlY2xhcmF0b3JfcG9zdGZpeGVzKCk7XG4gICAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgIHMxID0gcGVnJGMxNjEoczEsIHMyKTtcbiAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMwID0gcGVnJHBhcnNlYWJzX2RlY2xhcmF0b3Jfc2ltcGxlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VkZWNsYXJhdG9yX3Bvc3RmaXhlcygpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMztcblxuICAgIHMwID0gW107XG4gICAgczEgPSBwZWckY3VyclBvcztcbiAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMyA9IHBlZyRwYXJzZWRlY2xhcmF0b3JfcG9zdGZpeCgpO1xuICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMxO1xuICAgICAgICBzMiA9IHBlZyRjMTYyKHMzKTtcbiAgICAgICAgczEgPSBzMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczE7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICB3aGlsZSAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczAucHVzaChzMSk7XG4gICAgICAgIHMxID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBwZWckcGFyc2VkZWNsYXJhdG9yX3Bvc3RmaXgoKTtcbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMxO1xuICAgICAgICAgICAgczIgPSBwZWckYzE2MihzMyk7XG4gICAgICAgICAgICBzMSA9IHMyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZGVjbGFyYXRvcl9wb3N0Zml4KCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MCkge1xuICAgICAgczEgPSBwZWckYzM3O1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM4KTsgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZWFyZ3VtZW50X2RlY2xhcmF0aW9uX2xpc3QoKTtcbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRjMzk7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MCk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlY3ZfcXVhbGlmaWVyKCk7XG4gICAgICAgICAgICAgICAgaWYgKHM3ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzNyA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMTYzKHMzLCBzNyk7XG4gICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDkxKSB7XG4gICAgICAgIHMxID0gcGVnJGMxNjQ7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNjUpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMyA9IHBlZyRwYXJzZWV4cF9jb25zdCgpO1xuICAgICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczMgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDkzKSB7XG4gICAgICAgICAgICAgICAgczUgPSBwZWckYzE2NjtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTY3KTsgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMxID0gcGVnJGMxNjgoczMpO1xuICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VkZWNsYXJhdG9yX3NpbXBsZSgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZW5hbWUoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgczEgPSBwZWckYzE2OShzMSk7XG4gICAgfVxuICAgIHMwID0gczE7XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MCkge1xuICAgICAgICBzMSA9IHBlZyRjMzc7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzOCk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzID0gcGVnJHBhcnNlX2RlY2xhcmF0b3IoKTtcbiAgICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMzID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJGMzOTtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDApOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczEgPSBwZWckYzE3MChzMyk7XG4gICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWFic19kZWNsYXJhdG9yX3NpbXBsZSgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQwKSB7XG4gICAgICBzMSA9IHBlZyRjMzc7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzgpOyB9XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlX2Fic19kZWNsYXJhdG9yKCk7XG4gICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQxKSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJGMzOTtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQwKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMSA9IHBlZyRjMTcwKHMzKTtcbiAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczEgPSBwZWckYzE3MTtcbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzE3MigpO1xuICAgICAgfVxuICAgICAgczAgPSBzMTtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2V0eXBlX2lkKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZXR5cGVfc3BlY2lmaWVycygpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlYWJzdHJhY3RfZGVjbGFyYXRvcigpO1xuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICBzMSA9IHBlZyRjMTczKHMxLCBzMyk7XG4gICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWN2X3F1YWxpZmllcigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNSkgPT09IHBlZyRjOTQpIHtcbiAgICAgIHMxID0gcGVnJGM5NDtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM5NSk7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZVdTKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgOCkgPT09IHBlZyRjOTYpIHtcbiAgICAgICAgICBzMyA9IHBlZyRjOTY7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgKz0gODtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzk3KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgIHMxID0gcGVnJGMxNzQoKTtcbiAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDgpID09PSBwZWckYzk2KSB7XG4gICAgICAgIHMxID0gcGVnJGM5NjtcbiAgICAgICAgcGVnJGN1cnJQb3MgKz0gODtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzk3KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gcGVnJHBhcnNlV1MoKTtcbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNSkgPT09IHBlZyRjOTQpIHtcbiAgICAgICAgICAgIHMzID0gcGVnJGM5NDtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM5NSk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgIHMxID0gcGVnJGMxNzQoKTtcbiAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNSkgPT09IHBlZyRjOTQpIHtcbiAgICAgICAgICBzMSA9IHBlZyRjOTQ7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgKz0gNTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzk1KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgIHMxID0gcGVnJGMxNzUoKTtcbiAgICAgICAgfVxuICAgICAgICBzMCA9IHMxO1xuICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDgpID09PSBwZWckYzk2KSB7XG4gICAgICAgICAgICBzMSA9IHBlZyRjOTY7XG4gICAgICAgICAgICBwZWckY3VyclBvcyArPSA4O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOTcpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICBzMSA9IHBlZyRjMTc2KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHMwID0gczE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2Vhcmd1bWVudF9kZWNsYXJhdGlvbl9saXN0KCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2Vhcmd1bWVudF9kZWNsYXJhdGlvbigpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NCkge1xuICAgICAgICAgIHM1ID0gcGVnJGM2NjtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNjcpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczcgPSBwZWckcGFyc2Vhcmd1bWVudF9kZWNsYXJhdGlvbigpO1xuICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICBzNCA9IHBlZyRjMTc3KHMxLCBzNyk7XG4gICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NCkge1xuICAgICAgICAgICAgczUgPSBwZWckYzY2O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzY3KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZWFyZ3VtZW50X2RlY2xhcmF0aW9uKCk7XG4gICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICAgIHM0ID0gcGVnJGMxNzcoczEsIHM3KTtcbiAgICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMxNzgoczEsIHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczEgPSBwZWckYzE3MTtcbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzE3OSgpO1xuICAgICAgfVxuICAgICAgczAgPSBzMTtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2Vhcmd1bWVudF9kZWNsYXJhdGlvbigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczc7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlZGVjbF9zcGVjaWZpZXJzKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2VkZWNsYXJhdG9yKCk7XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNjEpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckYzE0MDtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE0MSk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZXhwX2Fzc24oKTtcbiAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzE4MChzMSwgczMsIHM3KTtcbiAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIHMxID0gcGVnJHBhcnNlZGVjbF9zcGVjaWZpZXJzKCk7XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMyA9IHBlZyRwYXJzZWRlY2xhcmF0b3IoKTtcbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgczEgPSBwZWckYzE4MShzMSwgczMpO1xuICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzMSA9IHBlZyRwYXJzZWRlY2xfc3BlY2lmaWVycygpO1xuICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRwYXJzZWFic3RyYWN0X2RlY2xhcmF0b3IoKTtcbiAgICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNjEpIHtcbiAgICAgICAgICAgICAgICAgIHM1ID0gcGVnJGMxNDA7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTQxKTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZWV4cF9hc3NuKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMxODAoczEsIHMzLCBzNyk7XG4gICAgICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgIHMxID0gcGVnJHBhcnNlZGVjbF9zcGVjaWZpZXJzKCk7XG4gICAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczMgPSBwZWckcGFyc2VhYnN0cmFjdF9kZWNsYXJhdG9yKCk7XG4gICAgICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMxID0gcGVnJGMxODEoczEsIHMzKTtcbiAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZXhwcmVzc2lvbigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczc7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlZXhwX2Fzc24oKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gW107XG4gICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDQpIHtcbiAgICAgICAgICBzNSA9IHBlZyRjNjY7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzY3KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZXhwX2Fzc24oKTtcbiAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgczQgPSBwZWckYzE4MihzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ0KSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRjNjY7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNjcpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZXhwX2Fzc24oKTtcbiAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczQgPSBwZWckYzE4MihzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMxODMoczEsIHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRwYXJzZWV4cF9hc3NuKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZXhwX2Fzc24oKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VleHBfdW5hcnkoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDYxKSB7XG4gICAgICAgICAgczMgPSBwZWckYzE0MDtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTQxKTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlZXhwX2Fzc24oKTtcbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczEgPSBwZWckYzE4NChzMSwgczMsIHM1KTtcbiAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczEgPSBwZWckcGFyc2VleHBfdW5hcnkoKTtcbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzID0gcGVnJHBhcnNlb3BfY29tcF9hc3NuKCk7XG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckcGFyc2VleHBfYXNzbigpO1xuICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMTg1KHMxLCBzMywgczUpO1xuICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMCA9IHBlZyRwYXJzZWV4cF9jb25kKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlb3BfY29tcF9hc3NuKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzO1xuXG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMTg2KSB7XG4gICAgICBzMCA9IHBlZyRjMTg2O1xuICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICB9IGVsc2Uge1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE4Nyk7IH1cbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMxODgpIHtcbiAgICAgICAgczAgPSBwZWckYzE4ODtcbiAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE4OSk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMxOTApIHtcbiAgICAgICAgICBzMCA9IHBlZyRjMTkwO1xuICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxOTEpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMTkyKSB7XG4gICAgICAgICAgICBzMCA9IHBlZyRjMTkyO1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE5Myk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMxOTQpIHtcbiAgICAgICAgICAgICAgczAgPSBwZWckYzE5NDtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE5NSk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAzKSA9PT0gcGVnJGMxOTYpIHtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMTk2O1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDM7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxOTcpOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMykgPT09IHBlZyRjMTk4KSB7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMTk4O1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE5OSk7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzIwMDtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIwMSk7IH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA2KSA9PT0gcGVnJGMyMDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMjAyO1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDY7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMDMpOyB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgczIgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgICAgICAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICAgICAgICAgICAgICAgICAgICBzMyA9IHBlZyRwYXJzZWlkZW50aWZpZXJDaGFyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzMiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMyMDQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzIwNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzIwNTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMDYpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDYpID09PSBwZWckYzIwNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMjA3O1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSA2O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjA4KTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMyID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMyA9IHBlZyRwYXJzZWlkZW50aWZpZXJDaGFyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMjA5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzIxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGMyMTA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIxMSk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDUpID09PSBwZWckYzIxMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzIxMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMTMpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczIgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczMgPSBwZWckcGFyc2VpZGVudGlmaWVyQ2hhcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMyMTQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VleHBfY29uc3QoKTogYW55IHtcbiAgICBsZXQgczAsIHMxO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWV4cF9jb25kKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgIHMxID0gcGVnJGMyMTUoczEpO1xuICAgIH1cbiAgICBzMCA9IHMxO1xuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZXhwX2NvbmQoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3LCBzOCwgczk7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlZXhwX29yKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2Mykge1xuICAgICAgICAgIHMzID0gcGVnJGMyMTY7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIxNyk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRwYXJzZWV4cHJlc3Npb24oKTtcbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNTgpIHtcbiAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJGMxNjtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNyk7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzOCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICBpZiAoczggIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckcGFyc2VleHBfYXNzbigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoczkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMjE4KHMxLCBzNSwgczkpO1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRwYXJzZWV4cF9vcigpO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWV4cF9vcigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczcsIHM4O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWV4cF9hbmQoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gW107XG4gICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzIxOSkge1xuICAgICAgICAgIHM1ID0gcGVnJGMyMTk7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIyMCk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczUgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNSA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzIyMSkge1xuICAgICAgICAgICAgczYgPSBwZWckYzIyMTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMjIpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczcgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgICAgICAgICAgczggPSBwZWckcGFyc2VpZGVudGlmaWVyQ2hhcigpO1xuICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgICAgICAgICBpZiAoczggPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM3O1xuICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczYgPSBbczYsIHM3XTtcbiAgICAgICAgICAgICAgczUgPSBzNjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczcgPSBwZWckcGFyc2VleHBfYW5kKCk7XG4gICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJGMyMjMoczEsIHM1LCBzNyk7XG4gICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjE5KSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRjMjE5O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIyMCk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjIxKSB7XG4gICAgICAgICAgICAgIHM2ID0gcGVnJGMyMjE7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMjIpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczcgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNlaWRlbnRpZmllckNoYXIoKTtcbiAgICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgICAgICAgICAgIGlmIChzOCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM3ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczc7XG4gICAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM2ID0gW3M2LCBzN107XG4gICAgICAgICAgICAgICAgczUgPSBzNjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZWV4cF9hbmQoKTtcbiAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczQgPSBwZWckYzIyMyhzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMyMjQoczEsIHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VleHBfYW5kKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNywgczg7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlZXhwX29yX2JpdCgpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjI1KSB7XG4gICAgICAgICAgczUgPSBwZWckYzIyNTtcbiAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjI2KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM1ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMykgPT09IHBlZyRjMjI3KSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRjMjI3O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIyOCk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgICAgICAgICBzOCA9IHBlZyRwYXJzZWlkZW50aWZpZXJDaGFyKCk7XG4gICAgICAgICAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICAgICAgICAgIGlmIChzOCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczc7XG4gICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNiA9IFtzNiwgczddO1xuICAgICAgICAgICAgICBzNSA9IHM2O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xuICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNyA9IHBlZyRwYXJzZWV4cF9vcl9iaXQoKTtcbiAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgczQgPSBwZWckYzIyOShzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMyMjUpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJGMyMjU7XG4gICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjI2KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczUgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAzKSA9PT0gcGVnJGMyMjcpIHtcbiAgICAgICAgICAgICAgczYgPSBwZWckYzIyNztcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIyOCk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICAgICAgICAgICAgczggPSBwZWckcGFyc2VpZGVudGlmaWVyQ2hhcigpO1xuICAgICAgICAgICAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICAgICAgICAgICAgaWYgKHM4ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNztcbiAgICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczYgPSBbczYsIHM3XTtcbiAgICAgICAgICAgICAgICBzNSA9IHM2O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZXhwX29yX2JpdCgpO1xuICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzNCA9IHBlZyRjMjI5KHMxLCBzNSwgczcpO1xuICAgICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzIyNChzMSwgczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWV4cF9vcl9iaXQoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3LCBzODtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VleHBfeG9yX2JpdCgpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAxMjQpIHtcbiAgICAgICAgICBzNSA9IHBlZyRjMjMwO1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMzEpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczUgPSBwZWckY3VyclBvcztcbiAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA1KSA9PT0gcGVnJGMyMzIpIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJGMyMzI7XG4gICAgICAgICAgICBwZWckY3VyclBvcyArPSA1O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjMzKTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM3ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNlaWRlbnRpZmllckNoYXIoKTtcbiAgICAgICAgICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgICAgICAgICAgaWYgKHM4ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM3ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNztcbiAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM2ID0gW3M2LCBzN107XG4gICAgICAgICAgICAgIHM1ID0gczY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZXhwX3hvcl9iaXQoKTtcbiAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgczQgPSBwZWckYzIzNChzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDEyNCkge1xuICAgICAgICAgICAgczUgPSBwZWckYzIzMDtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMzEpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDUpID09PSBwZWckYzIzMikge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRjMjMyO1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSA1O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjMzKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM3ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgICAgICAgICAgICBzOCA9IHBlZyRwYXJzZWlkZW50aWZpZXJDaGFyKCk7XG4gICAgICAgICAgICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgICAgICAgICAgICBpZiAoczggPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM3O1xuICAgICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNiA9IFtzNiwgczddO1xuICAgICAgICAgICAgICAgIHM1ID0gczY7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VleHBfeG9yX2JpdCgpO1xuICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzNCA9IHBlZyRjMjM0KHMxLCBzNSwgczcpO1xuICAgICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzIzNShzMSwgczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWV4cF94b3JfYml0KCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VleHBfYW5kX2JpdCgpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA5NCkge1xuICAgICAgICAgIHM1ID0gcGVnJGMyMzY7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIzNyk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczUgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAzKSA9PT0gcGVnJGMyMzgpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJGMyMzg7XG4gICAgICAgICAgICBwZWckY3VyclBvcyArPSAzO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjM5KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNyA9IHBlZyRwYXJzZWV4cF9hbmRfYml0KCk7XG4gICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJGMyNDAoczEsIHM1LCBzNyk7XG4gICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA5NCkge1xuICAgICAgICAgICAgczUgPSBwZWckYzIzNjtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMzcpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMykgPT09IHBlZyRjMjM4KSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJGMyMzg7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMzkpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZXhwX2FuZF9iaXQoKTtcbiAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczQgPSBwZWckYzI0MChzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMyMzUoczEsIHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VleHBfYW5kX2JpdCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczcsIHM4O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWV4cF9lcSgpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczUgPSBwZWckY3VyclBvcztcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzOCkge1xuICAgICAgICAgIHM2ID0gcGVnJGMxNTg7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE1OSk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMzgpIHtcbiAgICAgICAgICAgIHM4ID0gcGVnJGMxNTg7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzOCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTU5KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICAgICAgICBpZiAoczggPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM3ID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHM3O1xuICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM2ID0gW3M2LCBzN107XG4gICAgICAgICAgICBzNSA9IHM2O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xuICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xuICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczUgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNSA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDYpID09PSBwZWckYzI0MSkge1xuICAgICAgICAgICAgczYgPSBwZWckYzI0MTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDY7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNDIpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczcgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgICAgICAgICAgczggPSBwZWckcGFyc2VpZGVudGlmaWVyQ2hhcigpO1xuICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgICAgICAgICBpZiAoczggPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM3O1xuICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczYgPSBbczYsIHM3XTtcbiAgICAgICAgICAgICAgczUgPSBzNjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczcgPSBwZWckcGFyc2VleHBfZXEoKTtcbiAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgczQgPSBwZWckYzI0MyhzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNSA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMzgpIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJGMxNTg7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTU5KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM3ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMzgpIHtcbiAgICAgICAgICAgICAgczggPSBwZWckYzE1ODtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM4ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE1OSk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgICAgICAgICAgaWYgKHM4ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM3ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNztcbiAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM2ID0gW3M2LCBzN107XG4gICAgICAgICAgICAgIHM1ID0gczY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDYpID09PSBwZWckYzI0MSkge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRjMjQxO1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSA2O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjQyKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM3ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgICAgICAgICAgICBzOCA9IHBlZyRwYXJzZWlkZW50aWZpZXJDaGFyKCk7XG4gICAgICAgICAgICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgICAgICAgICAgICBpZiAoczggPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM3O1xuICAgICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNiA9IFtzNiwgczddO1xuICAgICAgICAgICAgICAgIHM1ID0gczY7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VleHBfZXEoKTtcbiAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczQgPSBwZWckYzI0MyhzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMyMzUoczEsIHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VleHBfZXEoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3LCBzODtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VleHBfcmVsKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMyNDQpIHtcbiAgICAgICAgICBzNSA9IHBlZyRjMjQ0O1xuICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNDUpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjQ2KSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRjMjQ2O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI0Nyk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNikgPT09IHBlZyRjMjQ4KSB7XG4gICAgICAgICAgICAgIHM2ID0gcGVnJGMyNDg7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNDkpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczcgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNlaWRlbnRpZmllckNoYXIoKTtcbiAgICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgICAgICAgICAgIGlmIChzOCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM3ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczc7XG4gICAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHM1O1xuICAgICAgICAgICAgICAgIHM2ID0gcGVnJGMyNTAoczEpO1xuICAgICAgICAgICAgICAgIHM1ID0gczY7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczcgPSBwZWckcGFyc2VleHBfcmVsKCk7XG4gICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJGMxODIoczEsIHM1LCBzNyk7XG4gICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjQ0KSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRjMjQ0O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI0NSk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMyNDYpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckYzI0NjtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI0Nyk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA2KSA9PT0gcGVnJGMyNDgpIHtcbiAgICAgICAgICAgICAgICBzNiA9IHBlZyRjMjQ4O1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDY7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNDkpOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczcgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICAgICAgICAgICAgICBzOCA9IHBlZyRwYXJzZWlkZW50aWZpZXJDaGFyKCk7XG4gICAgICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgICAgICAgICAgICAgaWYgKHM4ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzNyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNztcbiAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzNTtcbiAgICAgICAgICAgICAgICAgIHM2ID0gcGVnJGMyNTAoczEpO1xuICAgICAgICAgICAgICAgICAgczUgPSBzNjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VleHBfcmVsKCk7XG4gICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICAgIHM0ID0gcGVnJGMxODIoczEsIHM1LCBzNyk7XG4gICAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMjUxKHMxLCBzMik7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZXhwX3JlbCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczc7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlZXhwX3NoaWZ0KCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzNSA9IHBlZyRwYXJzZW9wX3JlbCgpO1xuICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNyA9IHBlZyRwYXJzZWV4cF9zaGlmdCgpO1xuICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICBzNCA9IHBlZyRjMTgyKHMxLCBzNSwgczcpO1xuICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM1ID0gcGVnJHBhcnNlb3BfcmVsKCk7XG4gICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VleHBfc2hpZnQoKTtcbiAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczQgPSBwZWckYzE4MihzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMyNTEoczEsIHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VvcF9yZWwoKTogYW55IHtcbiAgICBsZXQgczA7XG5cbiAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMyNTIpIHtcbiAgICAgIHMwID0gcGVnJGMyNTI7XG4gICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjUzKTsgfVxuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzI1NCkge1xuICAgICAgICBzMCA9IHBlZyRjMjU0O1xuICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjU1KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNjApIHtcbiAgICAgICAgICBzMCA9IHBlZyRjMjU2O1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNTcpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2Mikge1xuICAgICAgICAgICAgczAgPSBwZWckYzI1ODtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNTkpOyB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZXhwX3NoaWZ0KCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VleHBfYWRkKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzNSA9IHBlZyRwYXJzZW9wX3NoaWZ0KCk7XG4gICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZXhwX2FkZCgpO1xuICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICBzNCA9IHBlZyRjMTgyKHMxLCBzNSwgczcpO1xuICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM1ID0gcGVnJHBhcnNlb3Bfc2hpZnQoKTtcbiAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZWV4cF9hZGQoKTtcbiAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczQgPSBwZWckYzE4MihzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMyMzUoczEsIHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VvcF9zaGlmdCgpOiBhbnkge1xuICAgIGxldCBzMDtcblxuICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzI2MCkge1xuICAgICAgczAgPSBwZWckYzI2MDtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNjEpOyB9XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjYyKSB7XG4gICAgICAgIHMwID0gcGVnJGMyNjI7XG4gICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNjMpOyB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZXhwX2FkZCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczc7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlZXhwX211bHQoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gW107XG4gICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHM1ID0gcGVnJHBhcnNlb3BfYWRkKCk7XG4gICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZXhwX211bHQoKTtcbiAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgczQgPSBwZWckYzE4MihzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNSA9IHBlZyRwYXJzZW9wX2FkZCgpO1xuICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZXhwX211bHQoKTtcbiAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczQgPSBwZWckYzE4MihzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMyMzUoczEsIHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VvcF9hZGQoKTogYW55IHtcbiAgICBsZXQgczA7XG5cbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQzKSB7XG4gICAgICBzMCA9IHBlZyRjMjY0O1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI2NSk7IH1cbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ1KSB7XG4gICAgICAgIHMwID0gcGVnJGMyNjY7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNjcpOyB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZXhwX211bHQoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWV4cF9wbSgpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczUgPSBwZWckcGFyc2VvcF9tdWx0KCk7XG4gICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZXhwX3BtKCk7XG4gICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJGMxODIoczEsIHM1LCBzNyk7XG4gICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczUgPSBwZWckcGFyc2VvcF9tdWx0KCk7XG4gICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VleHBfcG0oKTtcbiAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczQgPSBwZWckYzE4MihzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMyMzUoczEsIHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VvcF9tdWx0KCk6IGFueSB7XG4gICAgbGV0IHMwO1xuXG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0Mikge1xuICAgICAgczAgPSBwZWckYzE1NTtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNTYpOyB9XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0Nykge1xuICAgICAgICBzMCA9IHBlZyRjMjY4O1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjY5KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMzcpIHtcbiAgICAgICAgICBzMCA9IHBlZyRjMjcwO1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNzEpOyB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VleHBfcG0oKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWV4cF9jYXN0KCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzNSA9IHBlZyRwYXJzZW9wX3BtKCk7XG4gICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZXhwX2Nhc3QoKTtcbiAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgczQgPSBwZWckYzE4MihzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNSA9IHBlZyRwYXJzZW9wX3BtKCk7XG4gICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VleHBfY2FzdCgpO1xuICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzNCA9IHBlZyRjMTgyKHMxLCBzNSwgczcpO1xuICAgICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzI3MihzMSwgczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZW9wX3BtKCk6IGFueSB7XG4gICAgbGV0IHMwO1xuXG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjczKSB7XG4gICAgICBzMCA9IHBlZyRjMjczO1xuICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICB9IGVsc2Uge1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI3NCk7IH1cbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAzKSA9PT0gcGVnJGMyNzUpIHtcbiAgICAgICAgczAgPSBwZWckYzI3NTtcbiAgICAgICAgcGVnJGN1cnJQb3MgKz0gMztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI3Nik7IH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VleHBfY2FzdCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczc7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDApIHtcbiAgICAgIHMxID0gcGVnJGMzNztcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzOCk7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2V0eXBlX2lkKCk7XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckYzM5O1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDApOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZWV4cF9jYXN0KCk7XG4gICAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMyNzcoczMsIHM3KTtcbiAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckcGFyc2VleHBfdW5hcnkoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VleHBfdW5hcnkoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMyNzgpIHtcbiAgICAgIHMxID0gcGVnJGMyNzg7XG4gICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjc5KTsgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZWV4cF91bmFyeSgpO1xuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICBzMSA9IHBlZyRjMjgwKHMxLCBzMyk7XG4gICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMyODEpIHtcbiAgICAgICAgczEgPSBwZWckYzI4MTtcbiAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI4Mik7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzID0gcGVnJHBhcnNlZXhwX3VuYXJ5KCk7XG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgIHMxID0gcGVnJGMyODMoczEsIHMzKTtcbiAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgczEgPSBwZWckcGFyc2VvcF91bmFyeSgpO1xuICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRwYXJzZWV4cF9jYXN0KCk7XG4gICAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgIHMxID0gcGVnJGMyODQoczEsIHMzKTtcbiAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA2KSA9PT0gcGVnJGMyODUpIHtcbiAgICAgICAgICAgIHMxID0gcGVnJGMyODU7XG4gICAgICAgICAgICBwZWckY3VyclBvcyArPSA2O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjg2KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzMyA9IHBlZyRwYXJzZWV4cF91bmFyeSgpO1xuICAgICAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMjg3KHMxLCBzMyk7XG4gICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA2KSA9PT0gcGVnJGMyODUpIHtcbiAgICAgICAgICAgICAgczEgPSBwZWckYzI4NTtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gNjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI4Nik7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDApIHtcbiAgICAgICAgICAgICAgICAgIHMzID0gcGVnJGMzNztcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzOCk7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgczUgPSBwZWckcGFyc2VzaW1wbGVfdHlwZV9uYW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczcgPSBwZWckYzM5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDApOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMyODgoczEsIHM1KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzMCA9IHBlZyRwYXJzZWV4cF9uZXcoKTtcbiAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckcGFyc2VleHBfZGVsZXRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VvcF91bmFyeSgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0Mikge1xuICAgICAgczEgPSBwZWckYzE1NTtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNTYpOyB9XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICBzMSA9IHBlZyRjMjg5KCk7XG4gICAgfVxuICAgIHMwID0gczE7XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzOCkge1xuICAgICAgICBzMSA9IHBlZyRjMTU4O1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTU5KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMjkwKCk7XG4gICAgICB9XG4gICAgICBzMCA9IHMxO1xuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDMpIHtcbiAgICAgICAgICBzMSA9IHBlZyRjMjY0O1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNjUpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgczEgPSBwZWckYzI5MSgpO1xuICAgICAgICB9XG4gICAgICAgIHMwID0gczE7XG4gICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NSkge1xuICAgICAgICAgICAgczEgPSBwZWckYzI2NjtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNjcpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICBzMSA9IHBlZyRjMjkyKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzMykge1xuICAgICAgICAgICAgICBzMSA9IHBlZyRjMjkzO1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjk0KTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMSA9IHBlZyRjMjk1KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDMpID09PSBwZWckYzI5Nikge1xuICAgICAgICAgICAgICAgIHMxID0gcGVnJGMyOTY7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI5Nyk7IH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzMiA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgICAgICAgICAgICAgIHMzID0gcGVnJHBhcnNlaWRlbnRpZmllckNoYXIoKTtcbiAgICAgICAgICAgICAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICAgICAgICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHMyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICAgICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzI5NSgpO1xuICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDEyNikge1xuICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzc0O1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzc1KTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzI5OCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDUpID09PSBwZWckYzI5OSkge1xuICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMjk5O1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSA1O1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzAwKTsgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMjk4KCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWV4cF9uZXcoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3LCBzOCwgczk7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDMpID09PSBwZWckYzMwMSkge1xuICAgICAgczEgPSBwZWckYzMwMTtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzMDIpOyB9XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2VXUygpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlbmV3X3R5cGVfaWQoKTtcbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUgPSBwZWckcGFyc2VuZXdfaW5pdGlhbGl6ZXIoKTtcbiAgICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgIHMxID0gcGVnJGMzMDMoczMsIHM1KTtcbiAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMykgPT09IHBlZyRjMzAxKSB7XG4gICAgICAgIHMxID0gcGVnJGMzMDE7XG4gICAgICAgIHBlZyRjdXJyUG9zICs9IDM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzMDIpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQwKSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRjMzc7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzgpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNldHlwZV9pZCgpO1xuICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQxKSB7XG4gICAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJGMzOTtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQwKTsgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckcGFyc2VuZXdfaW5pdGlhbGl6ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoczkgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHM5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHM5ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMzMDQoczUsIHM5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlbmV3X3R5cGVfaWQoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZXR5cGVfc3BlY2lmaWVycygpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckY3VyclBvcztcbiAgICAgIHMzID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzNCA9IHBlZyRwYXJzZW5ld19kZWNsYXJhdG9yKCk7XG4gICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMyO1xuICAgICAgICAgIHMzID0gcGVnJGMzMDUoczEsIHM0KTtcbiAgICAgICAgICBzMiA9IHMzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczIgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMzA2KHMxLCBzMik7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlbmV3X2RlY2xhcmF0b3IoKTogYW55IHtcbiAgICBsZXQgczAsIHMxO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZV9uZXdfZGVjbGFyYXRvcigpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICBzMSA9IHBlZyRjMzA3KHMxKTtcbiAgICB9XG4gICAgczAgPSBzMTtcblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZV9uZXdfZGVjbGFyYXRvcigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQyKSB7XG4gICAgICBzMSA9IHBlZyRjMTU1O1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE1Nik7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2Vjdl9xdWFsaWZpZXIoKTtcbiAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlX25ld19kZWNsYXJhdG9yKCk7XG4gICAgICAgICAgICBpZiAoczUgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMSA9IHBlZyRjMTU3KHMzLCBzNSk7XG4gICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMzgpIHtcbiAgICAgICAgczEgPSBwZWckYzE1ODtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE1OSk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzID0gcGVnJHBhcnNlY3ZfcXVhbGlmaWVyKCk7XG4gICAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMyA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlX25ld19kZWNsYXJhdG9yKCk7XG4gICAgICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM1ID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMTYwKHMzLCBzNSk7XG4gICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHMxID0gcGVnJHBhcnNlbmV3X2RlY2xhcmF0b3JfcG9zdGZpeGVzKCk7XG4gICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgIHMxID0gcGVnJGMzMDgoczEpO1xuICAgICAgICB9XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlbmV3X2RlY2xhcmF0b3JfcG9zdGZpeGVzKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzO1xuXG4gICAgczAgPSBbXTtcbiAgICBzMSA9IHBlZyRjdXJyUG9zO1xuICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMzID0gcGVnJHBhcnNlbmV3X2RlY2xhcmF0b3JfcG9zdGZpeCgpO1xuICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMxO1xuICAgICAgICBzMiA9IHBlZyRjMzA5KHMzKTtcbiAgICAgICAgczEgPSBzMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczE7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICB3aGlsZSAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczAucHVzaChzMSk7XG4gICAgICAgIHMxID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBwZWckcGFyc2VuZXdfZGVjbGFyYXRvcl9wb3N0Zml4KCk7XG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMTtcbiAgICAgICAgICAgIHMyID0gcGVnJGMzMDkoczMpO1xuICAgICAgICAgICAgczEgPSBzMjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcbiAgICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcbiAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZW5ld19kZWNsYXJhdG9yX3Bvc3RmaXgoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA5MSkge1xuICAgICAgczEgPSBwZWckYzE2NDtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNjUpOyB9XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlZXhwX2Fzc24oKTtcbiAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gOTMpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckYzE2NjtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE2Nyk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczEgPSBwZWckYzMxMChzMyk7XG4gICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlbmV3X2luaXRpYWxpemVyKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczU7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDApIHtcbiAgICAgIHMxID0gcGVnJGMzNztcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzOCk7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2VleHBfbGlzdCgpO1xuICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRjMzk7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MCk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczEgPSBwZWckYzMxMShzMyk7XG4gICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZXhwX2RlbGV0ZSgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczc7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDYpID09PSBwZWckYzMxMikge1xuICAgICAgczEgPSBwZWckYzMxMjtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDY7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzMTMpOyB9XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2VXUygpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlZXhwX2Nhc3QoKTtcbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgczEgPSBwZWckYzMxNChzMyk7XG4gICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA2KSA9PT0gcGVnJGMzMTIpIHtcbiAgICAgICAgczEgPSBwZWckYzMxMjtcbiAgICAgICAgcGVnJGN1cnJQb3MgKz0gNjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzMxMyk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gOTEpIHtcbiAgICAgICAgICAgIHMzID0gcGVnJGMxNjQ7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTY1KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDkzKSB7XG4gICAgICAgICAgICAgICAgczUgPSBwZWckYzE2NjtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTY3KTsgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNlV1MoKTtcbiAgICAgICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZXhwX2Nhc3QoKTtcbiAgICAgICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzMxNShzNyk7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczAgPSBwZWckcGFyc2VleHBfcG9zdGZpeCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWV4cF9wb3N0Zml4KCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNywgczgsIHM5LCBzMTAsIHMxMSwgczEyLCBzMTM7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDExKSA9PT0gcGVnJGMzMTYpIHtcbiAgICAgIHMxID0gcGVnJGMzMTY7XG4gICAgICBwZWckY3VyclBvcyArPSAxMTtcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzMxNyk7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2MCkge1xuICAgICAgICAgIHMzID0gcGVnJGMyNTY7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI1Nyk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRwYXJzZXNpbXBsZV90eXBlX25hbWUoKTtcbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNjIpIHtcbiAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJGMyNTg7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjU5KTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgIGlmIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckYzM3O1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzOCk7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoczkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzMTAgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTAgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMxMSA9IHBlZyRwYXJzZWV4cF9jYXN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoczExICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMxMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTMgPSBwZWckYzM5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczEzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MCk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMzE4KHM1LCBzMTEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMTIpID09PSBwZWckYzMxOSkge1xuICAgICAgICBzMSA9IHBlZyRjMzE5O1xuICAgICAgICBwZWckY3VyclBvcyArPSAxMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzMyMCk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNjApIHtcbiAgICAgICAgICAgIHMzID0gcGVnJGMyNTY7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjU3KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRwYXJzZXNpbXBsZV90eXBlX25hbWUoKTtcbiAgICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2Mikge1xuICAgICAgICAgICAgICAgICAgICBzNyA9IHBlZyRjMjU4O1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjU5KTsgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckYzM3O1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM4KTsgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoczkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMxMCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoczEwICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMxMSA9IHBlZyRwYXJzZWV4cF9jYXN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczEzID0gcGVnJGMzOTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MCk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMzMjEoczUsIHMxMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMTYpID09PSBwZWckYzMyMikge1xuICAgICAgICAgIHMxID0gcGVnJGMzMjI7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMTY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzMjMpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2MCkge1xuICAgICAgICAgICAgICBzMyA9IHBlZyRjMjU2O1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjU3KTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczUgPSBwZWckcGFyc2VzaW1wbGVfdHlwZV9uYW1lKCk7XG4gICAgICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2Mikge1xuICAgICAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJGMyNTg7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI1OSk7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzOCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHM5ID0gcGVnJGMzNztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHM5ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM4KTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHM5ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMxMCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTAgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTEgPSBwZWckcGFyc2VleHBfY2FzdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczEyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTMgPSBwZWckYzM5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczEzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDApOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMzMjQoczUsIHMxMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDEwKSA9PT0gcGVnJGMzMjUpIHtcbiAgICAgICAgICAgIHMxID0gcGVnJGMzMjU7XG4gICAgICAgICAgICBwZWckY3VyclBvcyArPSAxMDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzMyNik7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2MCkge1xuICAgICAgICAgICAgICAgIHMzID0gcGVnJGMyNTY7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI1Nyk7IH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzNSA9IHBlZyRwYXJzZXNpbXBsZV90eXBlX25hbWUoKTtcbiAgICAgICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJGMyNTg7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjU5KTsgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckYzM3O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzOCk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTAgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTAgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxMSA9IHBlZyRwYXJzZWV4cF9jYXN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczExICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTMgPSBwZWckYzM5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczEzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MCk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMzI3KHM1LCBzMTEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgczEgPSBwZWckcGFyc2VleHBfY29uc3RydWN0KCk7XG4gICAgICAgICAgICBpZiAoczEgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczEgPSBwZWckcGFyc2VleHBfcHJpbWFyeSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHMyID0gW107XG4gICAgICAgICAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczUgPSBwZWckcGFyc2VvcF9wb3N0Zml4KCk7XG4gICAgICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgICAgIHM0ID0gcGVnJGMzMjgoczEsIHM1KTtcbiAgICAgICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICAgICAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczUgPSBwZWckcGFyc2VvcF9wb3N0Zml4KCk7XG4gICAgICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgICAgICAgIHM0ID0gcGVnJGMzMjgoczEsIHM1KTtcbiAgICAgICAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczEgPSBwZWckYzMyOShzMSwgczIpO1xuICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VvcF9wb3N0Zml4KCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczU7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gOTEpIHtcbiAgICAgIHMxID0gcGVnJGMxNjQ7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTY1KTsgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZWV4cHJlc3Npb24oKTtcbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA5Mykge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRjMTY2O1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTY3KTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMSA9IHBlZyRjMzMwKHMzKTtcbiAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MCkge1xuICAgICAgICBzMSA9IHBlZyRjMzc7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzOCk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzID0gcGVnJHBhcnNlZXhwX2xpc3QoKTtcbiAgICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMzID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJGMzOTtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDApOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczEgPSBwZWckYzMzMShzMyk7XG4gICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDYpIHtcbiAgICAgICAgICBzMSA9IHBlZyRjMzMyO1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzMzMpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczMgPSBwZWckcGFyc2VuYW1lKCk7XG4gICAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgIHMxID0gcGVnJGMzMzQoczMpO1xuICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzMzNSkge1xuICAgICAgICAgICAgczEgPSBwZWckYzMzNTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzMzYpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHMzID0gcGVnJHBhcnNlbmFtZSgpO1xuICAgICAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMzM3KHMzKTtcbiAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzI3OCkge1xuICAgICAgICAgICAgICBzMSA9IHBlZyRjMjc4O1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjc5KTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMSA9IHBlZyRjMzM4KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzI4MSkge1xuICAgICAgICAgICAgICAgIHMxID0gcGVnJGMyODE7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI4Mik7IH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMzM5KCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VleHBfY29uc3RydWN0KCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VzaW1wbGVfdHlwZV9uYW1lKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MCkge1xuICAgICAgICAgIHMzID0gcGVnJGMzNztcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzgpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUgPSBwZWckcGFyc2VleHBfbGlzdCgpO1xuICAgICAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM1ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJGMzOTtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MCk7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMzNDAoczEsIHM1KTtcbiAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZXhwX2xpc3QoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWV4cF9hc3NuKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ0KSB7XG4gICAgICAgICAgczUgPSBwZWckYzY2O1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2Nyk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNyA9IHBlZyRwYXJzZWV4cF9hc3NuKCk7XG4gICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJGMzNDEoczEsIHM3KTtcbiAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ0KSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRjNjY7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNjcpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZXhwX2Fzc24oKTtcbiAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczQgPSBwZWckYzM0MShzMSwgczcpO1xuICAgICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzE3OChzMSwgczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWV4cF9wcmltYXJ5KCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczU7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDApIHtcbiAgICAgIHMxID0gcGVnJGMzNztcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzOCk7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2VleHByZXNzaW9uKCk7XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckYzM5O1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDApOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgIHMxID0gcGVnJGMzNDIoczMpO1xuICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJHBhcnNlbGl0ZXJhbCgpO1xuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDQpID09PSBwZWckYzM0Mykge1xuICAgICAgICAgIHMxID0gcGVnJGMzNDM7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgKz0gNDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM0NCk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMiA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgICAgICAgIHMzID0gcGVnJHBhcnNlaWRlbnRpZmllckNoYXIoKTtcbiAgICAgICAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMyID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgczEgPSBwZWckYzM0NSgpO1xuICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczAgPSBwZWckcGFyc2VleHBfaWQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWV4cF9pZCgpOiBhbnkge1xuICAgIGxldCBzMCwgczE7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlcXVhbGlmaWVkX2lkKCk7XG4gICAgaWYgKHMxID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMSA9IHBlZyRwYXJzZW5hbWUoKTtcbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgIHMxID0gcGVnJGMzNDYoczEpO1xuICAgIH1cbiAgICBzMCA9IHMxO1xuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlcXVhbGlmaWVkX2lkKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZW5lc3RlZF9uYW1lX3NwZWNpZmllcigpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlbmFtZSgpO1xuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICBzMSA9IHBlZyRjMzQ3KHMxLCBzMyk7XG4gICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZW5lc3RlZF9uYW1lX3NwZWNpZmllcigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1O1xuXG4gICAgczAgPSBbXTtcbiAgICBzMSA9IHBlZyRjdXJyUG9zO1xuICAgIHMyID0gcGVnJHBhcnNldHlwZV9uYW1lX2lkKCk7XG4gICAgaWYgKHMyID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZWlkZW50aWZpZXIoKTtcbiAgICB9XG4gICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMyA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMzQ4KSB7XG4gICAgICAgICAgczQgPSBwZWckYzM0ODtcbiAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzQ5KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM1ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMxO1xuICAgICAgICAgICAgczIgPSBwZWckYzM1MChzMik7XG4gICAgICAgICAgICBzMSA9IHMyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHdoaWxlIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMC5wdXNoKHMxKTtcbiAgICAgICAgczEgPSBwZWckY3VyclBvcztcbiAgICAgICAgczIgPSBwZWckcGFyc2V0eXBlX25hbWVfaWQoKTtcbiAgICAgICAgaWYgKHMyID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczIgPSBwZWckcGFyc2VpZGVudGlmaWVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMzQ4KSB7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJGMzNDg7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzNDkpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMTtcbiAgICAgICAgICAgICAgICBzMiA9IHBlZyRjMzUwKHMyKTtcbiAgICAgICAgICAgICAgICBzMSA9IHMyO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XG4gICAgICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XG4gICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XG4gICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMzQ4KSB7XG4gICAgICAgIHMxID0gcGVnJGMzNDg7XG4gICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzNDkpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICBzMSA9IHBlZyRjMzUxKCk7XG4gICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZXR5cGVfbmFtZV9pZCgpOiBhbnkge1xuICAgIGxldCBzMCwgczE7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlc2ltcGxlX3R5cGVfbmFtZSgpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICBzMSA9IHBlZyRjMzUyKHMxKTtcbiAgICB9XG4gICAgczAgPSBzMTtcblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZW5hbWUoKTogYW55IHtcbiAgICBsZXQgczA7XG5cbiAgICBzMCA9IHBlZyRwYXJzZW9wZXJhdG9yX2Z1bmN0aW9uX2lkKCk7XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRwYXJzZWlkZW50aWZpZXIoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VvcGVyYXRvcl9mdW5jdGlvbl9pZCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgOCkgPT09IHBlZyRjMzUzKSB7XG4gICAgICBzMSA9IHBlZyRjMzUzO1xuICAgICAgcGVnJGN1cnJQb3MgKz0gODtcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM1NCk7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2VvdmVybG9hZGFibGVfb3AoKTtcbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgczEgPSBwZWckYzM1NShzMyk7XG4gICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZW92ZXJsb2FkYWJsZV9vcCgpOiBhbnkge1xuICAgIGxldCBzMDtcblxuICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDUpID09PSBwZWckYzM1Nikge1xuICAgICAgczAgPSBwZWckYzM1NjtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzNTcpOyB9XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgOCkgPT09IHBlZyRjMzU4KSB7XG4gICAgICAgIHMwID0gcGVnJGMzNTg7XG4gICAgICAgIHBlZyRjdXJyUG9zICs9IDg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzNTkpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMykgPT09IHBlZyRjMzAxKSB7XG4gICAgICAgICAgczAgPSBwZWckYzMwMTtcbiAgICAgICAgICBwZWckY3VyclBvcyArPSAzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzAyKTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDYpID09PSBwZWckYzMxMikge1xuICAgICAgICAgICAgczAgPSBwZWckYzMxMjtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDY7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzMTMpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMykgPT09IHBlZyRjMjc1KSB7XG4gICAgICAgICAgICAgIHMwID0gcGVnJGMyNzU7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNzYpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMykgPT09IHBlZyRjMTk2KSB7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckYzE5NjtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAzO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTk3KTsgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDMpID09PSBwZWckYzE5OCkge1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzE5ODtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxOTkpOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMTkyKSB7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGMxOTI7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxOTMpOyB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMTk0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzE5NDtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTk1KTsgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzE4Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzE4NjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxODcpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMTg4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGMxODg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxODkpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMTkwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzE5MDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTkxKTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzIwNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzIwNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMDYpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGMyMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMDEpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzIxMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjExKTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzI2MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzI2MDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNjEpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjYyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGMyNjI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNjMpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjQ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzI0NDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjQ1KTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzI0Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzI0NjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNDcpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjUyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGMyNTI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNTMpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjU0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzI1NDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjU1KTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzIyNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzIyNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMjYpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjE5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGMyMTk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMjApOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjc4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzI3ODtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjc5KTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzI4MSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzI4MTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyODIpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMzM1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGMzMzU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzMzYpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMzYwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzM2MDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzYxKTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzM2Mikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzM2MjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzNjMpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0Mykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMjY0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjY1KTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMjY2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNjcpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0Mikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzE1NTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNTYpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0Nykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMjY4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjY5KTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMzcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMjcwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNzEpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA5NCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzIzNjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMzcpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMTU4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTU5KTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMTI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzIzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjMxKTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMTI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjNzQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNzUpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMjkzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjk0KTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNjEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMTQwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNDEpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzI1NjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNTcpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2Mikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMjU4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjU5KTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjNjY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzY3KTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNldW5vdmVybG9hZGFibGVfb3AoKTogYW55IHtcbiAgICBsZXQgczA7XG5cbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ2KSB7XG4gICAgICBzMCA9IHBlZyRjMzMyO1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzMzMyk7IH1cbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMyNzMpIHtcbiAgICAgICAgczAgPSBwZWckYzI3MztcbiAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI3NCk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMzNDgpIHtcbiAgICAgICAgICBzMCA9IHBlZyRjMzQ4O1xuICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzNDkpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMzY0KSB7XG4gICAgICAgICAgICBzMCA9IHBlZyRjMzY0O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM2NSk7IH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VsaXRlcmFsKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VsaXRlcmFsX2Zsb2F0KCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgIHMxID0gcGVnJGMzNjYoczEpO1xuICAgIH1cbiAgICBzMCA9IHMxO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIHMxID0gcGVnJHBhcnNlbGl0ZXJhbF9pbnQoKTtcbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzM2NyhzMSk7XG4gICAgICB9XG4gICAgICBzMCA9IHMxO1xuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHMxID0gcGVnJHBhcnNlbGl0ZXJhbF9jaGFyKCk7XG4gICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgIHMxID0gcGVnJGMzNjgoczEpO1xuICAgICAgICB9XG4gICAgICAgIHMwID0gczE7XG4gICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgczEgPSBwZWckcGFyc2VsaXRlcmFsX3N0cmluZygpO1xuICAgICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICBzMSA9IHBlZyRjMzY5KHMxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICBzMSA9IHBlZyRwYXJzZWxpdGVyYWxfYm9vbGVhbigpO1xuICAgICAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMSA9IHBlZyRjMzcwKHMxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlbGl0ZXJhbF9pbnQoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczM7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDUpIHtcbiAgICAgIHMxID0gcGVnJGMyNjY7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjY3KTsgfVxuICAgIH1cbiAgICBpZiAoczEgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMxID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgaWYgKHBlZyRjMzcxLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgczMgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzcyKTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICAgIGlmIChwZWckYzM3MS50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgICBzMyA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzcyKTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMzczKHMxLCBzMik7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlbGl0ZXJhbF9mbG9hdCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NSkge1xuICAgICAgczEgPSBwZWckYzI2NjtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNjcpOyB9XG4gICAgfVxuICAgIGlmIChzMSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gW107XG4gICAgICBpZiAocGVnJGMzNzQudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICBzMyA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzNzUpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgd2hpbGUgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgICAgaWYgKHBlZyRjMzc0LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzNzUpOyB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHMzID0gcGVnJGMzNzYoczEsIHMyKTtcbiAgICAgICAgaWYgKHMzKSB7XG4gICAgICAgICAgczMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgIHMxID0gcGVnJGMzNzcoczEsIHMyKTtcbiAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlbGl0ZXJhbF9jaGFyKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDM5KSB7XG4gICAgICBzMSA9IHBlZyRjMzc4O1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM3OSk7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBpZiAocGVnJGMzODAudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICBzMiA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzODEpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczIgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckcGFyc2Vlc2NhcGUoKTtcbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDM5KSB7XG4gICAgICAgICAgczMgPSBwZWckYzM3ODtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzc5KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgIHMxID0gcGVnJGMzODIoczIpO1xuICAgICAgICAgIHMwID0gczE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VsaXRlcmFsX3N0cmluZygpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzNCkge1xuICAgICAgczEgPSBwZWckYzM4MztcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzODQpOyB9XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIGlmIChwZWckYzM4NS50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM4Nik7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZWVzY2FwZSgpO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICBpZiAocGVnJGMzODUudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzg2KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzID0gcGVnJHBhcnNlZXNjYXBlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDM0KSB7XG4gICAgICAgICAgczMgPSBwZWckYzM4MztcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzg0KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgIHMxID0gcGVnJGMzODcoczIpO1xuICAgICAgICAgIHMwID0gczE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VsaXRlcmFsX2Jvb2xlYW4oKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczM7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDQpID09PSBwZWckYzM4OCkge1xuICAgICAgczEgPSBwZWckYzM4ODtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzODkpOyB9XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckY3VyclBvcztcbiAgICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgICAgczMgPSBwZWckcGFyc2VpZGVudGlmaWVyQ2hhcigpO1xuICAgICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMzOTAoKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNSkgPT09IHBlZyRjMzkxKSB7XG4gICAgICAgIHMxID0gcGVnJGMzOTE7XG4gICAgICAgIHBlZyRjdXJyUG9zICs9IDU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzOTIpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckY3VyclBvcztcbiAgICAgICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlaWRlbnRpZmllckNoYXIoKTtcbiAgICAgICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyID0gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgIHMxID0gcGVnJGMzOTMoKTtcbiAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZXNjYXBlKCk6IGFueSB7XG4gICAgbGV0IHMwO1xuXG4gICAgczAgPSBwZWckcGFyc2VzaW1wbGVfZXNjYXBlKCk7XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRwYXJzZW9jdGFsX2VzY2FwZSgpO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZXNpbXBsZV9lc2NhcGUoKTogYW55IHtcbiAgICBsZXQgczA7XG5cbiAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMzOTQpIHtcbiAgICAgIHMwID0gcGVnJGMzOTQ7XG4gICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzk1KTsgfVxuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzM5Nikge1xuICAgICAgICBzMCA9IHBlZyRjMzk2O1xuICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzk3KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzM5OCkge1xuICAgICAgICAgIHMwID0gcGVnJGMzOTg7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM5OSk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGM0MDApIHtcbiAgICAgICAgICAgIHMwID0gcGVnJGM0MDA7XG4gICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDAxKTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzQwMikge1xuICAgICAgICAgICAgICBzMCA9IHBlZyRjNDAyO1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDAzKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzQwNCkge1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJGM0MDQ7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQwNSk7IH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGM0MDYpIHtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGM0MDY7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDA3KTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzQwOCkge1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjNDA4O1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDA5KTsgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzQxMCkge1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGM0MTA7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQxMSk7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGM0MTIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGM0MTI7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDEzKTsgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzQxNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjNDE0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDE1KTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzQxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGM0MTY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQxNyk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZW9jdGFsX2VzY2FwZSgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMztcblxuICAgIGlmIChwZWckYzQxOC50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICBzMCA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDE5KTsgfVxuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBpZiAocGVnJGM0MTgudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICBzMSA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MTkpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKHBlZyRjNDE4LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICBzMiA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQxOSk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMSA9IFtzMSwgczJdO1xuICAgICAgICAgIHMwID0gczE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBpZiAocGVnJGM0MTgudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgIHMxID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDE5KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChwZWckYzQxOC50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgICBzMiA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDE5KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChwZWckYzQxOC50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQxOSk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzMSA9IFtzMSwgczIsIHMzXTtcbiAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VpZGVudGlmaWVyKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzO1xuXG4gICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWlkZW50aWZpZXJGaXJzdENoYXIoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gW107XG4gICAgICBzMyA9IHBlZyRwYXJzZWlkZW50aWZpZXJDaGFyKCk7XG4gICAgICB3aGlsZSAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlaWRlbnRpZmllckNoYXIoKTtcbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzQyMShzMSwgczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MjApOyB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlaWRlbnRpZmllckNoYXIoKTogYW55IHtcbiAgICBsZXQgczA7XG5cbiAgICBpZiAocGVnJGM0MjIudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgczAgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQyMyk7IH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VpZGVudGlmaWVyRmlyc3RDaGFyKCk6IGFueSB7XG4gICAgbGV0IHMwO1xuXG4gICAgaWYgKHBlZyRjNDI0LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgIHMwID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MjUpOyB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNld3MoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczM7XG5cbiAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gW107XG4gICAgaWYgKHBlZyRjNDI3LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MjgpOyB9XG4gICAgfVxuICAgIHdoaWxlIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEucHVzaChzMik7XG4gICAgICBpZiAocGVnJGM0MjcudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICBzMiA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MjgpOyB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2Vjb21tZW50KCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMSA9IFtzMSwgczIsIHMzXTtcbiAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBbXTtcbiAgICAgIGlmIChwZWckYzQyNy50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgIHMxID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQyOCk7IH1cbiAgICAgIH1cbiAgICAgIHdoaWxlIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMC5wdXNoKHMxKTtcbiAgICAgICAgaWYgKHBlZyRjNDI3LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICBzMSA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQyOCk7IH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MjYpOyB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlV1MoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczM7XG5cbiAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlY29tbWVudCgpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2VXUygpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMxID0gW3MxLCBzMl07XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIHMxID0gW107XG4gICAgICBpZiAocGVnJGM0MjcudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICBzMiA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MjgpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgd2hpbGUgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczEucHVzaChzMik7XG4gICAgICAgICAgaWYgKHBlZyRjNDI3LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MjgpOyB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckcGFyc2Vjb21tZW50KCk7XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMxID0gW3MxLCBzMiwgczNdO1xuICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMCA9IFtdO1xuICAgICAgICBpZiAocGVnJGM0MjcudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgIHMxID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDI4KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHdoaWxlIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczAucHVzaChzMSk7XG4gICAgICAgICAgICBpZiAocGVnJGM0MjcudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgICAgICBzMSA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MjgpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MjkpOyB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlY2xhc3Nfc3BlY2lmaWVyKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNywgczg7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlY2xhc3NfaGVhZCgpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgcGVnJHNhdmVkUG9zID0gcGVnJGN1cnJQb3M7XG4gICAgICBzMiA9IHBlZyRjNDMwKHMxKTtcbiAgICAgIGlmIChzMikge1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMiA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMTIzKSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRjMjk7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzApOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM2ID0gW107XG4gICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlbWVtYmVyX3NwZWNpZmljYXRpb24oKTtcbiAgICAgICAgICAgICAgd2hpbGUgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczYucHVzaChzNyk7XG4gICAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VtZW1iZXJfc3BlY2lmaWNhdGlvbigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMTI1KSB7XG4gICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJGMzMjtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzMzKTsgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjNDMxKHMxLCBzNik7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlY2xhc3NfaGVhZCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNjtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VjbGFzc19rZXkoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNlV1MoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZWlkZW50aWZpZXIoKTtcbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckY3VyclBvcztcbiAgICAgICAgICBzNSA9IHBlZyRwYXJzZVdTKCk7XG4gICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRwYXJzZWJhc2VfY2xhdXNlKCk7XG4gICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczQ7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJGM0MzIoczEsIHMzLCBzNik7XG4gICAgICAgICAgICAgIHM0ID0gczU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM0O1xuICAgICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczQ7XG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczQgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgczEgPSBwZWckYzQzMyhzMSwgczMsIHM0KTtcbiAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlY2xhc3Nfa2V5KCk6IGFueSB7XG4gICAgbGV0IHMwO1xuXG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNSkgPT09IHBlZyRjNDM0KSB7XG4gICAgICBzMCA9IHBlZyRjNDM0O1xuICAgICAgcGVnJGN1cnJQb3MgKz0gNTtcbiAgICB9IGVsc2Uge1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQzNSk7IH1cbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA2KSA9PT0gcGVnJGM0MzYpIHtcbiAgICAgICAgczAgPSBwZWckYzQzNjtcbiAgICAgICAgcGVnJGN1cnJQb3MgKz0gNjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQzNyk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA1KSA9PT0gcGVnJGM0MzgpIHtcbiAgICAgICAgICBzMCA9IHBlZyRjNDM4O1xuICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MzkpOyB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VtZW1iZXJfc3BlY2lmaWNhdGlvbigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczcsIHM4O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IFtdO1xuICAgIHMyID0gcGVnJGN1cnJQb3M7XG4gICAgczMgPSBwZWckcGFyc2VtZW1iZXJfZGVjbGFyYXRpb24oKTtcbiAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMjtcbiAgICAgICAgczMgPSBwZWckYzQ0MChzMyk7XG4gICAgICAgIHMyID0gczM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgd2hpbGUgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMxLnB1c2goczIpO1xuICAgICAgICBzMiA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzMyA9IHBlZyRwYXJzZW1lbWJlcl9kZWNsYXJhdGlvbigpO1xuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMjtcbiAgICAgICAgICAgIHMzID0gcGVnJGM0NDAoczMpO1xuICAgICAgICAgICAgczIgPSBzMztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMjtcbiAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMjtcbiAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgczEgPSBwZWckYzQ0MShzMSk7XG4gICAgfVxuICAgIHMwID0gczE7XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczEgPSBwZWckcGFyc2VhY2Nlc3Nfc3BlY2lmaWVyKCk7XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDU4KSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRjMTY7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTcpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM1ID0gW107XG4gICAgICAgICAgICAgIHM2ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlbWVtYmVyX2RlY2xhcmF0aW9uKCk7XG4gICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICBpZiAoczggIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHM2O1xuICAgICAgICAgICAgICAgICAgczcgPSBwZWckYzQ0MihzMSwgczcpO1xuICAgICAgICAgICAgICAgICAgczYgPSBzNztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNjtcbiAgICAgICAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNjtcbiAgICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgd2hpbGUgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczUucHVzaChzNik7XG4gICAgICAgICAgICAgICAgczYgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZW1lbWJlcl9kZWNsYXJhdGlvbigpO1xuICAgICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczggPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHM2O1xuICAgICAgICAgICAgICAgICAgICBzNyA9IHBlZyRjNDQyKHMxLCBzNyk7XG4gICAgICAgICAgICAgICAgICAgIHM2ID0gczc7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM2O1xuICAgICAgICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczY7XG4gICAgICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMxID0gcGVnJGM0NDMoczEsIHM1KTtcbiAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlYWNjZXNzX3NwZWNpZmllcigpOiBhbnkge1xuICAgIGxldCBzMDtcblxuICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDcpID09PSBwZWckYzQ0NCkge1xuICAgICAgczAgPSBwZWckYzQ0NDtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0NDUpOyB9XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgOSkgPT09IHBlZyRjNDQ2KSB7XG4gICAgICAgIHMwID0gcGVnJGM0NDY7XG4gICAgICAgIHBlZyRjdXJyUG9zICs9IDk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0NDcpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNikgPT09IHBlZyRjNDQ4KSB7XG4gICAgICAgICAgczAgPSBwZWckYzQ0ODtcbiAgICAgICAgICBwZWckY3VyclBvcyArPSA2O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDQ5KTsgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlbWVtYmVyX2RlY2xhcmF0aW9uKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWRlY2xfc3BlY2lmaWVycygpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckY3VyclBvcztcbiAgICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgICAgczMgPSBwZWckcGFyc2VpZGVudGlmaWVyKCk7XG4gICAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNlbWVtYmVyX2RlY2xhcmF0b3JfbGlzdCgpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNTkpIHtcbiAgICAgICAgICAgICAgICBzNiA9IHBlZyRjMjU7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI2KTsgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMxID0gcGVnJGM0NTAoczEsIHM0KTtcbiAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIHMxID0gcGVnJHBhcnNlY29uc3RydWN0b3JfZGVmaW5pdGlvbigpO1xuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA1OSkge1xuICAgICAgICAgICAgczMgPSBwZWckYzI1O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI2KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMzID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgIHMxID0gcGVnJGM0NTEoczEpO1xuICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzMSA9IHBlZyRwYXJzZWRlc3RydWN0b3JfZGVmaW5pdGlvbigpO1xuICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDU5KSB7XG4gICAgICAgICAgICAgIHMzID0gcGVnJGMyNTtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI2KTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHMzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczEgPSBwZWckYzQ1MihzMSk7XG4gICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgczEgPSBwZWckcGFyc2VmdW5jdGlvbl9kZWZpbml0aW9uKCk7XG4gICAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA1OSkge1xuICAgICAgICAgICAgICAgIHMzID0gcGVnJGMyNTtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjYpOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczMgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMxID0gcGVnJGM0NTMoczEpO1xuICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VtZW1iZXJfZGVjbGFyYXRvcl9saXN0KCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VtZW1iZXJfZGVjbGFyYXRvcigpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NCkge1xuICAgICAgICAgIHM1ID0gcGVnJGM2NjtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNjcpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczcgPSBwZWckcGFyc2VtZW1iZXJfZGVjbGFyYXRvcigpO1xuICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICBzNCA9IHBlZyRjNjgoczEsIHM3KTtcbiAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ0KSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRjNjY7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNjcpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlbWVtYmVyX2RlY2xhcmF0b3IoKTtcbiAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczQgPSBwZWckYzY4KHMxLCBzNyk7XG4gICAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjNjkoczEsIHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VtZW1iZXJfZGVjbGFyYXRvcigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWRlY2xhcmF0b3IoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDYxKSB7XG4gICAgICAgICAgczMgPSBwZWckYzE0MDtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTQxKTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDgpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckYzQ1NDtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQ1NSk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczEgPSBwZWckYzQ1NihzMSk7XG4gICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIHMxID0gcGVnJHBhcnNlZGVjbGFyYXRvcigpO1xuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2MSkge1xuICAgICAgICAgICAgczMgPSBwZWckYzE0MDtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNDEpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIxKSA9PT0gcGVnJGMxNDQpIHtcbiAgICAgICAgICAgICAgICBzNSA9IHBlZyRjMTQ0O1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDIxO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTQ1KTsgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMxID0gcGVnJGM0NTcoczEpO1xuICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzMSA9IHBlZyRwYXJzZWRlY2xhcmF0b3IoKTtcbiAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczMgPSBwZWckcGFyc2VicmFjZV9vcl9lcXVhbF9pbml0aWFsaXplcigpO1xuICAgICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMSA9IHBlZyRjNDU4KHMxLCBzMyk7XG4gICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMwID0gcGVnJHBhcnNlZGVjbGFyYXRvcigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlYmFzZV9jbGF1c2UoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczM7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNTgpIHtcbiAgICAgIHMxID0gcGVnJGMxNjtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNyk7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2ViYXNlX3NwZWNpZmllcl9saXN0KCk7XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgIHMxID0gcGVnJGM0NTkoczMpO1xuICAgICAgICAgIHMwID0gczE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2ViYXNlX3NwZWNpZmllcl9saXN0KCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2ViYXNlX3NwZWNpZmllcigpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NCkge1xuICAgICAgICAgIHM1ID0gcGVnJGM2NjtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNjcpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczcgPSBwZWckcGFyc2ViYXNlX3NwZWNpZmllcigpO1xuICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICBzNCA9IHBlZyRjNDYwKHMxLCBzNyk7XG4gICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NCkge1xuICAgICAgICAgICAgczUgPSBwZWckYzY2O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzY3KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZWJhc2Vfc3BlY2lmaWVyKCk7XG4gICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICAgIHM0ID0gcGVnJGM0NjAoczEsIHM3KTtcbiAgICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGM2OShzMSwgczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWJhc2Vfc3BlY2lmaWVyKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczU7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDcpID09PSBwZWckYzc4KSB7XG4gICAgICBzMSA9IHBlZyRjNzg7XG4gICAgICBwZWckY3VyclBvcyArPSA3O1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNzkpOyB9XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2VXUygpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHM0ID0gcGVnJHBhcnNlYWNjZXNzX3NwZWNpZmllcigpO1xuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNSA9IHBlZyRwYXJzZVdTKCk7XG4gICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgIHM0ID0gcGVnJGM0NjEoczQpO1xuICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2VxdWFsaWZpZWRfY2xhc3NfbmFtZSgpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICBzMSA9IHBlZyRjNDYyKHMzLCBzNCk7XG4gICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBzMSA9IHBlZyRjdXJyUG9zO1xuICAgICAgczIgPSBwZWckcGFyc2VhY2Nlc3Nfc3BlY2lmaWVyKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2VXUygpO1xuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMTtcbiAgICAgICAgICBzMiA9IHBlZyRjNDYxKHMyKTtcbiAgICAgICAgICBzMSA9IHMyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XG4gICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNykgPT09IHBlZyRjNzgpIHtcbiAgICAgICAgICBzMiA9IHBlZyRjNzg7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgKz0gNztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzc5KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzID0gcGVnJHBhcnNlV1MoKTtcbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNlcXVhbGlmaWVkX2NsYXNzX25hbWUoKTtcbiAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczEgPSBwZWckYzQ2MihzMSwgczQpO1xuICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHMxID0gcGVnJHBhcnNlYWNjZXNzX3NwZWNpZmllcigpO1xuICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMiA9IHBlZyRwYXJzZVdTKCk7XG4gICAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRwYXJzZXF1YWxpZmllZF9jbGFzc19uYW1lKCk7XG4gICAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgIHMxID0gcGVnJGM0NjMoczEsIHMzKTtcbiAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgICBzMSA9IHBlZyRwYXJzZXF1YWxpZmllZF9jbGFzc19uYW1lKCk7XG4gICAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgIHMxID0gcGVnJGM0NjQoczEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlcXVhbGlmaWVkX2NsYXNzX25hbWUoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczM7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlbmVzdGVkX25hbWVfc3BlY2lmaWVyKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2VpZGVudGlmaWVyKCk7XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgIHMxID0gcGVnJGM0NjUoczEsIHMzKTtcbiAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckcGFyc2VpZGVudGlmaWVyKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cblxyXG4gICAgZnVuY3Rpb24gY29tcG9zZUJpbmFyeU9wKGZpcnN0OiBhbnksIHJlc3Q6IGFueSwgYXNzb2M6IFwibGVmdFwiIHwgXCJyaWdodFwiLCBleHByVHlwZTogc3RyaW5nKSA6IGFueSB7XHJcbiAgICAgIGlmKCFyZXN0IHx8IHJlc3QubGVuZ3RoID09PSAwKXtcclxuICAgICAgICByZXR1cm4gZmlyc3Q7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGFzc29jID09PSBcImxlZnRcIil7XHJcbiAgICAgICAgbGV0IHJpZ2h0ID0gcmVzdC5wb3AoKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgY29uc3RydWN0X3R5cGU6IGV4cHJUeXBlLFxyXG4gICAgICAgICAgb3BlcmF0b3I6IHJpZ2h0WzBdLFxyXG4gICAgICAgICAgbGVmdDogY29tcG9zZUJpbmFyeU9wKGZpcnN0LCByZXN0LCBhc3NvYywgZXhwclR5cGUpLFxyXG4gICAgICAgICAgcmlnaHQ6IHJpZ2h0WzFdLFxyXG4gICAgICAgICAgYXNzb2NpYXRpdml0eTogYXNzb2NcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZWxzZXtcclxuICAgICAgICBsZXQgbGVmdCA9IHJlc3Quc2hpZnQoKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgY29uc3RydWN0X3R5cGU6IGV4cHJUeXBlLFxyXG4gICAgICAgICAgb3BlcmF0b3I6IGxlZnRbMF0sXHJcbiAgICAgICAgICBsZWZ0OiBmaXJzdCxcclxuICAgICAgICAgIHJpZ2h0OiBjb21wb3NlQmluYXJ5T3AobGVmdFsxXSwgcmVzdCwgYXNzb2MsIGV4cHJUeXBlKSxcclxuICAgICAgICAgIGFzc29jaWF0aXZpdHk6IGFzc29jXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWJzb3JiKGVhdGVyOiBhbnksIGVhdGVuOiBhbnkpe1xyXG4gICAgICBpZiAoIWVhdGVuKXsgcmV0dXJuIGVhdGVyOyB9XHJcbiAgICAgIGZvciAobGV0IGF0dHIgaW4gZWF0ZW4pe1xyXG4gICAgICAgIGlmKGF0dHIgIT0gXCJzdGFydFwiICYmIGF0dHIgIT0gXCJlbmRcIil7XHJcbiAgICAgICAgICBlYXRlclthdHRyXSA9IGVhdGVuW2F0dHJdO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZWF0ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdHJhY2sob2JqOiBhbnksIGxvY2F0aW9uOiBhbnksIHRleHQ6IHN0cmluZykge1xyXG4gICAgICBvYmouc291cmNlID0ge1xyXG4gICAgICAgIGxvY2F0aW9uIDogbG9jYXRpb24sXHJcbiAgICAgICAgc3RhcnQgOiBsb2NhdGlvbi5zdGFydC5vZmZzZXQsXHJcbiAgICAgICAgdGV4dCA6IHRleHQsXHJcbiAgICAgICAgbGluZSA6IGxvY2F0aW9uLnN0YXJ0LmxpbmUsXHJcbiAgICAgICAgY29sdW1uIDogbG9jYXRpb24uc3RhcnQuY29sdW1uLFxyXG4gICAgICAgIGVuZCA6IGxvY2F0aW9uLnN0YXJ0Lm9mZnNldCArIHRleHQubGVuZ3RoXHJcbiAgICAgIH07XHJcbiAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcG9zdGZpeEV4cChvcHM6IGFueSwgc3ViOiBhbnkpe1xyXG4gICAgICBpZihvcHMubGVuZ3RoID09IDApe1xyXG4gICAgICAgIHJldHVybiBzdWI7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZXtcclxuICAgICAgICBsZXQgb3AgPSBvcHMucG9wKCk7XHJcbiAgICAgICAgb3Aub3BlcmFuZCA9IHBvc3RmaXhFeHAob3BzLCBzdWIpO1xyXG4gICAgICAgIHJldHVybiBvcDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGxldCBfdXNlclR5cGVOYW1lcyA9IHt9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldFVzZXJUeXBlTmFtZXMoKSA6IGFueSB7XHJcbiAgICAgIC8vaWYgKHR5cGVvZiBUeXBlcyAhPT0gXCJ1bmRlZmluZWRcIil7XHJcbiAgICAgIC8vICByZXR1cm4gVHlwZXMudXNlclR5cGVOYW1lcztcclxuICAgICAgLy99XHJcbiAgICAgIC8vZWxzZXtcclxuICAgICAgICByZXR1cm4gX3VzZXJUeXBlTmFtZXM7XHJcbiAgICAgIC8vfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzVXNlclR5cGVOYW1lKG5hbWU6IHN0cmluZykge1xyXG4gICAgICByZXR1cm4gZ2V0VXNlclR5cGVOYW1lcygpW25hbWVdO1xyXG4gICAgfVxyXG5cclxuXG5cbiAgcGVnJHJlc3VsdCA9IHBlZyRzdGFydFJ1bGVGdW5jdGlvbigpO1xuXG4gIGlmIChwZWckcmVzdWx0ICE9PSBwZWckRkFJTEVEICYmIHBlZyRjdXJyUG9zID09PSBpbnB1dC5sZW5ndGgpIHtcbiAgICByZXR1cm4gcGVnJHJlc3VsdDtcbiAgfSBlbHNlIHtcbiAgICBpZiAocGVnJHJlc3VsdCAhPT0gcGVnJEZBSUxFRCAmJiBwZWckY3VyclBvcyA8IGlucHV0Lmxlbmd0aCkge1xuICAgICAgcGVnJGZhaWwocGVnJGVuZEV4cGVjdGF0aW9uKCkpO1xuICAgIH1cblxuICAgIHRocm93IHBlZyRidWlsZFN0cnVjdHVyZWRFcnJvcihcbiAgICAgIHBlZyRtYXhGYWlsRXhwZWN0ZWQsXG4gICAgICBwZWckbWF4RmFpbFBvcyA8IGlucHV0Lmxlbmd0aCA/IGlucHV0LmNoYXJBdChwZWckbWF4RmFpbFBvcykgOiBudWxsLFxuICAgICAgcGVnJG1heEZhaWxQb3MgPCBpbnB1dC5sZW5ndGhcbiAgICAgICAgPyBwZWckY29tcHV0ZUxvY2F0aW9uKHBlZyRtYXhGYWlsUG9zLCBwZWckbWF4RmFpbFBvcyArIDEpXG4gICAgICAgIDogcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckbWF4RmFpbFBvcywgcGVnJG1heEZhaWxQb3MpXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIElQYXJzZU9wdGlvbnMge1xuICBmaWxlbmFtZT86IHN0cmluZztcbiAgc3RhcnRSdWxlPzogc3RyaW5nO1xuICB0cmFjZXI/OiBhbnk7XG4gIFtrZXk6IHN0cmluZ106IGFueTtcbn1cbmV4cG9ydCB0eXBlIFBhcnNlRnVuY3Rpb24gPSAoaW5wdXQ6IHN0cmluZywgb3B0aW9ucz86IElQYXJzZU9wdGlvbnMpID0+IGFueTtcbmV4cG9ydCBjb25zdCBwYXJzZTogUGFyc2VGdW5jdGlvbiA9IHBlZyRwYXJzZTtcblxuIiwiXHJcbmltcG9ydCB7U3ludGF4RXJyb3IsIHBhcnNlIGFzIGNwcF9wYXJzZX0gZnJvbSBcIi4uL3BhcnNlL2NwcF9wYXJzZXJcIjtcclxuaW1wb3J0IHsgTm90ZUhhbmRsZXIsIE5vdGUsIE5vdGVLaW5kLCBTeW50YXhOb3RlLCBDUFBFcnJvciB9IGZyb20gXCIuL2Vycm9yc1wiO1xyXG5pbXBvcnQgeyBNdXRhYmxlLCBhc011dGFibGUsIGFzc2VydEZhbHNlLCBhc3NlcnQgfSBmcm9tIFwiLi4vdXRpbC91dGlsXCI7XHJcbmltcG9ydCB7IEdsb2JhbE9iamVjdERlZmluaXRpb24sIExpbmtlZERlZmluaXRpb24sIEZ1bmN0aW9uRGVmaW5pdGlvbiwgQ29tcGlsZWRGdW5jdGlvbkRlZmluaXRpb24sIENvbXBpbGVkR2xvYmFsT2JqZWN0RGVmaW5pdGlvbiwgRGVjbGFyYXRpb25BU1ROb2RlLCBEZWNsYXJhdGlvbiwgY3JlYXRlRGVjbGFyYXRpb25Gcm9tQVNUIH0gZnJvbSBcIi4vZGVjbGFyYXRpb25zXCI7XHJcbmltcG9ydCB7IExpbmtlZEVudGl0eSwgTmFtZXNwYWNlU2NvcGUsIFN0YXRpY0VudGl0eSwgU3RyaW5nTGl0ZXJhbEVudGl0eSwgc2VsZWN0T3ZlcmxvYWRlZERlZmluaXRpb24gfSBmcm9tIFwiLi9lbnRpdGllc1wiO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSBcIi4uL3V0aWwvb2JzZXJ2ZVwiO1xyXG5pbXBvcnQgeyBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCBDUFBDb25zdHJ1Y3QsIGNyZWF0ZVRyYW5zbGF0aW9uVW5pdENvbnRleHQsIFByb2dyYW1Db250ZXh0LCBHbG9iYWxPYmplY3RBbGxvY2F0b3IsIENvbXBpbGVkR2xvYmFsT2JqZWN0QWxsb2NhdG9yIH0gZnJvbSBcIi4vY29uc3RydWN0c1wiO1xyXG5pbXBvcnQgeyBGdW5jdGlvbkNhbGwgfSBmcm9tIFwiLi9mdW5jdGlvbkNhbGxcIjtcclxuXHJcblxyXG5cclxuLy9UT0RPOiBSZW1vdmUgdGhpcyBvbmNlIEknbSBjb25maWRlbnQgSSBkb24ndCBuZWVkIGl0XHJcbi8vIHZhciBDb21wb3VuZE5vdGVIYW5kbGVyID0gTm90ZUhhbmRsZXIuZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lIDogXCJDb21wb3VuZE5vdGVIYW5kbGVyXCIsXHJcbi8vXHJcbi8vICAgICBpbnN0YW5jZSA6IGZ1bmN0aW9uKGhhbmRsZXIxLCBoYW5kbGVyMikge1xyXG4vLyAgICAgICAgIGlmICghaGFuZGxlcjEpIHtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXIyO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBpZiAoIWhhbmRsZXIyKSB7XHJcbi8vICAgICAgICAgICAgIHJldHVybiBoYW5kbGVyMTtcclxuLy8gICAgICAgICB9XHJcbi8vXHJcbi8vICAgICAgICAgcmV0dXJuIHRoaXMuX2NsYXNzLl9wYXJlbnQuaW5zdGFuY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuLy8gICAgIH0sXHJcbi8vXHJcbi8vICAgICAvKipcclxuLy8gICAgICAqXHJcbi8vICAgICAgKiBAcGFyYW0ge05vdGVIYW5kbGVyfSBoYW5kbGVyMVxyXG4vLyAgICAgICogQHBhcmFtIHtOb3RlSGFuZGxlcn0gaGFuZGxlcjJcclxuLy8gICAgICAqL1xyXG4vLyAgICAgaW5pdCA6IGZ1bmN0aW9uKGhhbmRsZXIxLCBoYW5kbGVyMikge1xyXG4vLyAgICAgICAgIHRoaXMuaV9oYW5kbGVyMSA9IGhhbmRsZXIxO1xyXG4vLyAgICAgICAgIHRoaXMuaV9oYW5kbGVyMiA9IGhhbmRsZXIyO1xyXG4vLyAgICAgfSxcclxuLy9cclxuLy8gICAgIC8qKlxyXG4vLyAgICAgICpcclxuLy8gICAgICAqIEBwYXJhbSB7UHJlcHJvY2Vzc29yTm90ZX0gbm90ZVxyXG4vLyAgICAgICovXHJcbi8vICAgICBwcmVwcm9jZXNzb3JOb3RlIDogZnVuY3Rpb24obm90ZSkge1xyXG4vLyAgICAgICAgIHRoaXMuaV9oYW5kbGVyMS5wcmVwcm9jZXNzb3JOb3RlKG5vdGUpO1xyXG4vLyAgICAgICAgIHRoaXMuaV9oYW5kbGVyMi5wcmVwcm9jZXNzb3JOb3RlKG5vdGUpO1xyXG4vLyAgICAgfSxcclxuLy9cclxuLy9cclxuLy8gICAgIC8qKlxyXG4vLyAgICAgICpcclxuLy8gICAgICAqIEBwYXJhbSB7Q29tcGlsZXJOb3RlfSBub3RlXHJcbi8vICAgICAgKi9cclxuLy8gICAgIGNvbXBpbGVyTm90ZSA6IGZ1bmN0aW9uKG5vdGUpIHtcclxuLy8gICAgICAgICB0aGlzLmlfaGFuZGxlcjEuY29tcGlsZXJOb3RlKG5vdGUpO1xyXG4vLyAgICAgICAgIHRoaXMuaV9oYW5kbGVyMi5jb21waWxlck5vdGUobm90ZSk7XHJcbi8vICAgICB9LFxyXG4vL1xyXG4vL1xyXG4vL1xyXG4vLyAgICAgLyoqXHJcbi8vICAgICAgKlxyXG4vLyAgICAgICogQHBhcmFtIHtMaW5rZXJOb3RlfSBub3RlXHJcbi8vICAgICAgKi9cclxuLy8gICAgIGxpbmtlck5vdGUgOiBmdW5jdGlvbihub3RlKSB7XHJcbi8vICAgICAgICAgdGhpcy5pX2hhbmRsZXIxLmxpbmtlck5vdGUobm90ZSk7XHJcbi8vICAgICAgICAgdGhpcy5pX2hhbmRsZXIyLmxpbmtlck5vdGUobm90ZSk7XHJcbi8vICAgICB9XHJcbi8vXHJcbi8vXHJcbi8vIH0pO1xyXG5cclxuZXhwb3J0IGNsYXNzIE5vdGVSZWNvcmRlciBpbXBsZW1lbnRzIE5vdGVIYW5kbGVyIHtcclxuICAgIFxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfYWxsTm90ZXM6IE5vdGVbXSA9IFtdO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGFsbE5vdGVzOiByZWFkb25seSBOb3RlW10gPSB0aGlzLl9hbGxOb3RlcztcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaGFzRXJyb3JzOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaGFzU3ludGF4RXJyb3JzOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaGFzV2FybmluZ3M6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBwdWJsaWMgYWRkTm90ZShub3RlOiBOb3RlKSB7XHJcbiAgICAgICAgdGhpcy5fYWxsTm90ZXMucHVzaChub3RlKTtcclxuXHJcbiAgICAgICAgbGV0IF90aGlzID0gKDxNdXRhYmxlPHRoaXM+PnRoaXMpO1xyXG5cclxuICAgICAgICBpZiAobm90ZS5raW5kID09PSBOb3RlS2luZC5FUlJPUikge1xyXG4gICAgICAgICAgICBfdGhpcy5oYXNFcnJvcnMgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgaWYgKG5vdGUgaW5zdGFuY2VvZiBTeW50YXhOb3RlKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5oYXNTeW50YXhFcnJvcnMgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG5vdGUua2luZCA9PT0gTm90ZUtpbmQuV0FSTklORykge1xyXG4gICAgICAgICAgICBfdGhpcy5oYXNXYXJuaW5ncyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGROb3Rlcyhub3RlczogcmVhZG9ubHkgTm90ZVtdKSB7XHJcbiAgICAgICAgbm90ZXMuZm9yRWFjaCgobm90ZSkgPT4gdGhpcy5hZGROb3RlKG5vdGUpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xlYXJOb3RlcygpIHtcclxuICAgICAgICB0aGlzLl9hbGxOb3Rlcy5sZW5ndGggPSAwO1xyXG4gICAgICAgIGxldCBfdGhpcyA9ICg8TXV0YWJsZTx0aGlzPj50aGlzKTtcclxuICAgICAgICBfdGhpcy5oYXNFcnJvcnMgPSBmYWxzZTtcclxuICAgICAgICBfdGhpcy5oYXNTeW50YXhFcnJvcnMgPSBmYWxzZTtcclxuICAgICAgICBfdGhpcy5oYXNXYXJuaW5ncyA9IGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqXHJcbiAqIFRoZSBwcm9ncmFtIGFsc28gbmVlZHMgdG8ga25vdyBhYm91dCBhbGwgc291cmNlIGZpbGVzIGludm9sdmVkIHNvIHRoYXQgI2luY2x1ZGUgcHJlcHJvY2Vzc29yXHJcbiAqIGRpcmVjdGl2ZXMgY2FuIGJlIHByb2Nlc3NlZC5cclxuICpcclxuICovXHJcbmV4cG9ydCBjbGFzcyBQcm9ncmFtIHtcclxuICAgIFxyXG4gICAgLy8gcHVibGljIHJlYWRvbmx5IG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSh0aGlzKTtcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbnRleHQ6IFByb2dyYW1Db250ZXh0ID0ge3Byb2dyYW06IHRoaXN9O1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNDb21waWxhdGlvblVwVG9EYXRlOiBib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc291cmNlRmlsZXMgOiB7IFtpbmRleDogc3RyaW5nXTogU291cmNlRmlsZSB9ID0ge307XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHJhbnNsYXRpb25Vbml0cyA6IHsgW2luZGV4OiBzdHJpbmddOiBUcmFuc2xhdGlvblVuaXQgfSA9IHt9O1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZ2xvYmFsT2JqZWN0czogcmVhZG9ubHkgR2xvYmFsT2JqZWN0RGVmaW5pdGlvbltdID0gW107XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZ2xvYmFsT2JqZWN0QWxsb2NhdG9yITogR2xvYmFsT2JqZWN0QWxsb2NhdG9yO1xyXG4gICAgXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGZ1bmN0aW9uQ2FsbHM6IHJlYWRvbmx5IEZ1bmN0aW9uQ2FsbFtdID0gW107XHJcbiAgICBcclxuICAgIHB1YmxpYyByZWFkb25seSBkZWZpbml0aW9uczoge1xyXG4gICAgICAgIFtpbmRleDogc3RyaW5nXSA6IExpbmtlZERlZmluaXRpb25cclxuICAgIH0gPSB7fTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGlua2VkRW50aXRpZXM6IHJlYWRvbmx5IExpbmtlZEVudGl0eVtdID0gW107XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IG5vdGVzID0gbmV3IE5vdGVSZWNvcmRlcigpO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBtYWluRnVuY3Rpb24/OiBGdW5jdGlvbkRlZmluaXRpb247XHJcblxyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihzb3VyY2VGaWxlczogcmVhZG9ubHkgU291cmNlRmlsZVtdLCB0cmFuc2xhdGlvblVuaXRzOiByZWFkb25seSBzdHJpbmdbXSkge1xyXG5cclxuICAgICAgICBzb3VyY2VGaWxlcy5mb3JFYWNoKGZpbGUgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNvdXJjZUZpbGVzW2ZpbGUubmFtZV0gPSBmaWxlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0cmFuc2xhdGlvblVuaXRzLmZvckVhY2goKHR1TmFtZSkgPT4ge1xyXG4gICAgICAgICAgICBhc3NlcnQoISF0aGlzLnNvdXJjZUZpbGVzW3R1TmFtZV0sIGBTb3VyY2UgZmlsZSAke3R1TmFtZX0gbm90IGZvdW5kLmApO1xyXG4gICAgICAgICAgICB0aGlzLnRyYW5zbGF0aW9uVW5pdHNbdHVOYW1lXSA9IG5ldyBUcmFuc2xhdGlvblVuaXQodGhpcyxcclxuICAgICAgICAgICAgICAgIG5ldyBQcmVwcm9jZXNzZWRTb3VyY2UodGhpcy5zb3VyY2VGaWxlc1t0dU5hbWVdLCB0aGlzLnNvdXJjZUZpbGVzKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yKGxldCB0dU5hbWUgaW4gdGhpcy50cmFuc2xhdGlvblVuaXRzKSB7XHJcbiAgICAgICAgICAgIGxldCB0dSA9IHRoaXMudHJhbnNsYXRpb25Vbml0c1t0dU5hbWVdO1xyXG4gICAgICAgICAgICB0aGlzLm5vdGVzLmFkZE5vdGVzKHR1Lm5vdGVzLmFsbE5vdGVzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCF0aGlzLm5vdGVzLmhhc1N5bnRheEVycm9ycykge1xyXG4gICAgICAgICAgICB0aGlzLmxpbmsoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICg8TXV0YWJsZTx0aGlzPj50aGlzKS5pc0NvbXBpbGF0aW9uVXBUb0RhdGUgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGFkZFNvdXJjZUZpbGUgOiBmdW5jdGlvbihzb3VyY2VGaWxlKSB7XHJcbiAgICAvLyAgICAgYXNzZXJ0KCF0aGlzLmlfc291cmNlRmlsZXNbc291cmNlRmlsZS5nZXROYW1lKCldKTtcclxuICAgIC8vICAgICB0aGlzLmlfc291cmNlRmlsZXNbc291cmNlRmlsZS5nZXROYW1lKCldID0gc291cmNlRmlsZTtcclxuICAgIC8vICAgICB0aGlzLmxpc3RlblRvKHNvdXJjZUZpbGUpO1xyXG4gICAgLy8gICAgIHRoaXMuc2VuZChcInNvdXJjZUZpbGVBZGRlZFwiLCBzb3VyY2VGaWxlKTtcclxuICAgIC8vIH0sXHJcblxyXG4gICAgLy8gcmVtb3ZlU291cmNlRmlsZSA6IGZ1bmN0aW9uKHNvdXJjZUZpbGUpIHtcclxuICAgIC8vICAgICBpZiAodHlwZW9mIHNvdXJjZUZpbGUgIT09IFwic3RyaW5nXCIpe1xyXG4gICAgLy8gICAgICAgICBzb3VyY2VGaWxlID0gc291cmNlRmlsZS5nZXROYW1lKCk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGlmKHRoaXMuaV9zb3VyY2VGaWxlc1tzb3VyY2VGaWxlXSl7XHJcbiAgICAvLyAgICAgICAgIGRlbGV0ZSB0aGlzLmlfc291cmNlRmlsZXNbc291cmNlRmlsZV07XHJcbiAgICAvLyAgICAgfVxyXG5cclxuICAgIC8vICAgICB0aGlzLnN0b3BMaXN0ZW5pbmdUbyhzb3VyY2VGaWxlKTtcclxuXHJcbiAgICAvLyAgICAgLy8gQWxzbyByZW1vdmUgYW55IGFzc29jaWF0ZWQgdHJhbnNsYXRpb24gdW5pdCAoaWYgaXQgZXhpc3RzKVxyXG4gICAgLy8gICAgIHRoaXMucmVtb3ZlVHJhbnNsYXRpb25Vbml0KHNvdXJjZUZpbGUpO1xyXG4gICAgLy8gICAgIHRoaXMuc2VuZChcInNvdXJjZUZpbGVSZW1vdmVkXCIsIHNvdXJjZUZpbGUpO1xyXG4gICAgLy8gfSxcclxuXHJcbiAgICAvLyBnZXRTb3VyY2VGaWxlIDogZnVuY3Rpb24obmFtZSkge1xyXG4gICAgLy8gICAgIHJldHVybiB0aGlzLmlfc291cmNlRmlsZXNbbmFtZV07XHJcbiAgICAvLyB9LFxyXG5cclxuICAgIC8vIGdldFNvdXJjZUZpbGVzIDogZnVuY3Rpb24oKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuaV9zb3VyY2VGaWxlcztcclxuICAgIC8vIH0sXHJcblxyXG4gICAgLy8gY3JlYXRlVHJhbnNsYXRpb25Vbml0Rm9yU291cmNlRmlsZSA6IGZ1bmN0aW9uKHNvdXJjZUZpbGVOYW1lKSB7XHJcbiAgICAvLyAgICAgaWYgKHR5cGVvZiBzb3VyY2VGaWxlTmFtZSAhPT0gXCJzdHJpbmdcIikge1xyXG4gICAgLy8gICAgICAgICBzb3VyY2VGaWxlTmFtZSA9IHNvdXJjZUZpbGVOYW1lLmdldE5hbWUoKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgYXNzZXJ0KHRoaXMuaV9zb3VyY2VGaWxlc1tzb3VyY2VGaWxlTmFtZV0pO1xyXG4gICAgLy8gICAgIGFzc2VydCghdGhpcy5pX3RyYW5zbGF0aW9uVW5pdHNbc291cmNlRmlsZU5hbWVdKTtcclxuXHJcbiAgICAvLyAgICAgdmFyIHR1ID0gVHJhbnNsYXRpb25Vbml0Lmluc3RhbmNlKHRoaXMsIHRoaXMuaV9zb3VyY2VGaWxlc1tzb3VyY2VGaWxlTmFtZV0pO1xyXG4gICAgLy8gICAgIHRoaXMuaV90cmFuc2xhdGlvblVuaXRzW3R1LmdldE5hbWUoKV0gPSB0dTtcclxuXHJcbiAgICAvLyAgICAgdGhpcy5pX3NldENvbXBpbGF0aW9uVXBUb0RhdGUoZmFsc2UpO1xyXG5cclxuICAgIC8vICAgICB0aGlzLnNlbmQoXCJ0cmFuc2xhdGlvblVuaXRDcmVhdGVkXCIsIHR1KTtcclxuICAgIC8vICAgICByZXR1cm4gdHU7XHJcbiAgICAvLyB9LFxyXG5cclxuICAgIC8vIHJlbW92ZVRyYW5zbGF0aW9uVW5pdCA6IGZ1bmN0aW9uKHRyYW5zbGF0aW9uVW5pdCkge1xyXG4gICAgLy8gICAgIGlmICh0eXBlb2YgdHJhbnNsYXRpb25Vbml0ICE9PSBcInN0cmluZ1wiKXtcclxuICAgIC8vICAgICAgICAgdHJhbnNsYXRpb25Vbml0ID0gdHJhbnNsYXRpb25Vbml0LmdldE5hbWUoKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgaWYodGhpcy5pX3RyYW5zbGF0aW9uVW5pdHNbdHJhbnNsYXRpb25Vbml0XSl7XHJcbiAgICAvLyAgICAgICAgIGRlbGV0ZSB0aGlzLmlfdHJhbnNsYXRpb25Vbml0c1t0cmFuc2xhdGlvblVuaXRdO1xyXG4gICAgLy8gICAgIH1cclxuXHJcbiAgICAvLyAgICAgdGhpcy5pX3NldENvbXBpbGF0aW9uVXBUb0RhdGUoZmFsc2UpO1xyXG5cclxuICAgIC8vICAgICB0aGlzLnNlbmQoXCJ0cmFuc2xhdGlvblVuaXRSZW1vdmVkXCIsIHRyYW5zbGF0aW9uVW5pdCk7XHJcbiAgICAvLyB9LFxyXG5cclxuICAgIC8vIGdldFRyYW5zbGF0aW9uVW5pdCA6IGZ1bmN0aW9uKG5hbWUpIHtcclxuICAgIC8vICAgICByZXR1cm4gdGhpcy5pX3RyYW5zbGF0aW9uVW5pdHNbbmFtZV07XHJcbiAgICAvLyB9LFxyXG5cclxuICAgIC8vIGdldFRyYW5zbGF0aW9uVW5pdHMgOiBmdW5jdGlvbigpIHtcclxuICAgIC8vICAgICByZXR1cm4gdGhpcy5pX3RyYW5zbGF0aW9uVW5pdHM7XHJcbiAgICAvLyB9LFxyXG5cclxuICAgIC8vIGFkZFN0YXRpY0VudGl0eSA6IGZ1bmN0aW9uKGVudCl7XHJcbiAgICAvLyAgICAgdGhpcy5zdGF0aWNFbnRpdGllcy5wdXNoKGVudCk7XHJcbiAgICAvLyB9LFxyXG5cclxuICAgIHByaXZhdGUgbGluaygpIHtcclxuICAgICAgICAvLyB0aGlzLnNlbmQoXCJsaW5raW5nU3RhcnRlZFwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5kZWZpbmVJbnRyaW5zaWNzKCk7XHJcblxyXG4gICAgICAgIC8vIFByb3ZpZGUgZGVmaW5pdGlvbnMgdG8gZWFjaCBsaW5rZWQgZW50aXR5IGJhc2VkIG9uIHF1YWxpZmllZCBuYW1lLlxyXG4gICAgICAgIC8vIE5vdGUgdGhhdCB0aGUgZGVmaW5pdGlvbiBwcm92aWRlZCBtaWdodCBub3QgbWF0Y2ggYXQgYWxsIG9yIG1pZ2h0XHJcbiAgICAgICAgLy8gYmUgdW5kZWZpbmVkIGlmIHRoZXJlIHdhcyBubyBtYXRjaCBmb3IgdGhlIHF1YWxpZmllZCBuYW1lLiBUaGUgZW50aXRpZXNcclxuICAgICAgICAvLyB3aWxsIHRha2UgY2FyZSBvZiBhZGRpbmcgdGhlIGFwcHJvcHJpYXRlIGxpbmtlciBlcnJvcnMgaW4gdGhlc2UgY2FzZXMuXHJcbiAgICAgICAgdGhpcy5saW5rZWRFbnRpdGllcy5mb3JFYWNoKGxlID0+IFxyXG4gICAgICAgICAgICBsZS5saW5rKHRoaXMuZGVmaW5pdGlvbnNbbGUucXVhbGlmaWVkTmFtZV0pXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgbGV0IG1haW4gPSB0aGlzLmRlZmluaXRpb25zW1wiOjptYWluXCJdO1xyXG4gICAgICAgIGlmIChtYWluIGluc3RhbmNlb2YgRnVuY3Rpb25EZWZpbml0aW9uKSB7XHJcbiAgICAgICAgICAgICg8TXV0YWJsZTx0aGlzPj50aGlzKS5tYWluRnVuY3Rpb24gPSBtYWluO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgKDxNdXRhYmxlPHRoaXM+PnRoaXMpLmdsb2JhbE9iamVjdEFsbG9jYXRvciA9IG5ldyBHbG9iYWxPYmplY3RBbGxvY2F0b3IodGhpcy5jb250ZXh0LCB0aGlzLmdsb2JhbE9iamVjdHMpO1xyXG4gICAgICAgIC8vbG9vayBmb3IgbWFpbiAtIFRPRE86IHRoaXMgc2hvdWxkIGp1c3QgYmUgYSBwcmVyZXF1aXNpdGUgZm9yIGFjdHVhbGx5IHNpbXVsYXRpbmcuXHJcbiAgICAgICAgLy8gSSB0aGluayBpdCdzIGEgYml0IGFubm95aW5nIHRoYXQgYSBwcm9ncmFtIHdpdGhvdXQgbWFpbiBuZWNlc3NhcmlseSBoYXMgdGhpcyBlcnJvci5cclxuICAgICAgICAvLyB0cnl7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuaV9tYWluID0gdGhpcy5pX2dsb2JhbFNjb3BlLnJlcXVpcmVkTG9va3VwKFwibWFpblwiLCB7cGFyYW1UeXBlczogW119KTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gY2F0Y2goZSl7XHJcbiAgICAgICAgLy8gICAgIGlmIChpc0EoZSwgU2VtYW50aWNFeGNlcHRpb25zLkJhZExvb2t1cCkpe1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy5hZGROb3RlKGUuYW5ub3RhdGlvbigpKTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vICAgICBlbHNle1xyXG4gICAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2coZS5zdGFjayk7XHJcbiAgICAgICAgLy8gICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAvLyB0aGlzLnNlbmQoXCJsaW5raW5nRmluaXNoZWRcIik7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZGVmaW5lSW50cmluc2ljcygpIHtcclxuICAgICAgICAvLyBUT0RPXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlZ2lzdGVyTGlua2VkRW50aXR5KGVudGl0eTogTGlua2VkRW50aXR5KSB7XHJcbiAgICAgICAgYXNNdXRhYmxlKHRoaXMubGlua2VkRW50aXRpZXMpLnB1c2goZW50aXR5KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVnaXN0ZXJHbG9iYWxPYmplY3REZWZpbml0aW9uKHF1YWxpZmllZE5hbWU6IHN0cmluZywgZGVmOiBHbG9iYWxPYmplY3REZWZpbml0aW9uKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmRlZmluaXRpb25zW3F1YWxpZmllZE5hbWVdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVmaW5pdGlvbnNbcXVhbGlmaWVkTmFtZV0gPSBkZWY7XHJcbiAgICAgICAgICAgIGFzTXV0YWJsZSh0aGlzLmdsb2JhbE9iamVjdHMpLnB1c2goZGVmKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIE9uZSBkZWZpbml0aW9uIHJ1bGUgdmlvbGF0aW9uXHJcbiAgICAgICAgICAgIHRoaXMubm90ZXMuYWRkTm90ZShDUFBFcnJvci5saW5rLm11bHRpcGxlX2RlZihkZWYsIHF1YWxpZmllZE5hbWUpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlZ2lzdGVyRnVuY3Rpb25EZWZpbml0aW9uKHF1YWxpZmllZE5hbWU6IHN0cmluZywgZGVmOiBGdW5jdGlvbkRlZmluaXRpb24pIHtcclxuICAgICAgICBsZXQgcHJldkRlZiA9IHRoaXMuZGVmaW5pdGlvbnNbcXVhbGlmaWVkTmFtZV07XHJcbiAgICAgICAgaWYgKCFwcmV2RGVmKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVmaW5pdGlvbnNbcXVhbGlmaWVkTmFtZV0gPSBbZGVmXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkocHJldkRlZikpIHtcclxuICAgICAgICAgICAgLy8gUHJldmlvdXMgZGVmaW5pdGlvbiB0aGF0IGlzbid0IGEgZnVuY3Rpb24gb3ZlcmxvYWQgZ3JvdXBcclxuICAgICAgICAgICAgdGhpcy5ub3Rlcy5hZGROb3RlKENQUEVycm9yLmxpbmsubXVsdGlwbGVfZGVmKGRlZiwgcXVhbGlmaWVkTmFtZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gQWxyZWFkeSBzb21lIGRlZmluaXRpb25zIGZvciBmdW5jdGlvbnMgd2l0aCB0aGlzIHNhbWUgbmFtZS4gQ2hlY2sgaWYgdGhlcmUnc1xyXG4gICAgICAgICAgICAvLyBhIGNvbmZsaWN0aW5nIG92ZXJsb2FkIHRoYXQgdmlvbGF0ZXMgT0RSXHJcbiAgICAgICAgICAgIGxldCBjb25mbGljdGluZ0RlZiA9IHNlbGVjdE92ZXJsb2FkZWREZWZpbml0aW9uKHByZXZEZWYsIGRlZi5kZWNsYXJhdGlvbi50eXBlKTtcclxuICAgICAgICAgICAgaWYgKGNvbmZsaWN0aW5nRGVmKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGVzLmFkZE5vdGUoQ1BQRXJyb3IubGluay5tdWx0aXBsZV9kZWYoZGVmLCBxdWFsaWZpZWROYW1lKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwcmV2RGVmLnB1c2goZGVmKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8vIC8vVE9ETzogUHJvZ3JhbSBpdHNlbGYgc2hvdWxkIGp1c3QgcmVnaXN0ZXIgYWxsIHRoZSBmdW5jdGlvbiBjYWxscyBpbiBpdHMgdHJhbnNsYXRpb24gdW5pdHMuXHJcbiAgICAvLyAvLyAgICAgIEhvd2V2ZXIsIGRvbid0IHNwZW5kIHRpbWUgb24gdGhpcyB1bnRpbCBmaWd1cmluZyBvdXQgd2hlcmUgdGhlIGxpc3Qgb2YgZnVuY3Rpb24gY2FsbHNcclxuICAgIC8vIC8vICAgICAgaXMgdXNlZC4gSSB0aGluayBpdCB3YXMgdXNlZCBhcyBwYXJ0IG9mIGxpbmtpbmcgdG8gZW5zdXJlIGFsbCBmdW5jdGlvbiBjYWxscyBhcmUgZGVmaW5lZCxcclxuICAgIC8vIC8vICAgICAgYnV0IHdoZW4gbGlua2luZyBpcyBtb3JlIHByb3Blcmx5IGltcGxlbWVudGVkLCBJIHJlYWxseSBuZWVkIHRvIGNoZWNrIHRoYXQgZXZlcnl0aGluZyB3aXRoXHJcbiAgICAvLyAvLyAgICAgIGxpbmthZ2UgKHRoYXQgaXMgb2RyLXVzZWQpIGFjdHVhbGx5IGhhcyBhIGRlZmluaXRpb24uXHJcbiAgICAvLyByZWdpc3RlckZ1bmN0aW9uQ2FsbCA6IGZ1bmN0aW9uKGNhbGwpIHtcclxuICAgIC8vICAgICB0aGlzLmlfZnVuY3Rpb25DYWxscy5wdXNoKGNhbGwpO1xyXG4gICAgLy8gfSxcclxuXHJcbiAgICAvLyBfYWN0IDoge1xyXG4gICAgLy8gICAgIHRleHRDaGFuZ2VkIDogZnVuY3Rpb24obXNnKSB7XHJcbiAgICAvLyAgICAgICAgIGlmICh0aGlzLmlfaW5jbHVkZWRTb3VyY2VGaWxlc1ttc2cuc291cmNlLmdldE5hbWUoKV0pIHtcclxuICAgIC8vICAgICAgICAgICAgIHRoaXMuaV9zZXRDb21waWxhdGlvblVwVG9EYXRlKGZhbHNlKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxufTtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRQcm9ncmFtIGV4dGVuZHMgUHJvZ3JhbSB7XHJcbiAgICByZWFkb25seSBtYWluRnVuY3Rpb246IENvbXBpbGVkRnVuY3Rpb25EZWZpbml0aW9uO1xyXG4gICAgcmVhZG9ubHkgZ2xvYmFsT2JqZWN0czogcmVhZG9ubHkgQ29tcGlsZWRHbG9iYWxPYmplY3REZWZpbml0aW9uW107XHJcbiAgICByZWFkb25seSBnbG9iYWxPYmplY3RBbGxvY2F0b3I6IENvbXBpbGVkR2xvYmFsT2JqZWN0QWxsb2NhdG9yO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU291cmNlRmlsZSB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSh0aGlzKTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHRleHQ6IHN0cmluZztcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCB0ZXh0OiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIHNldFRleHQgOiBmdW5jdGlvbih0ZXh0KSB7XHJcbiAgICAvLyAgICAgdGhpcy5pX3RleHQgPSB0ZXh0O1xyXG4gICAgLy8gICAgIHRoaXMuc2VuZChcInRleHRDaGFuZ2VkXCIpO1xyXG4gICAgLy8gfSxcclxuXHJcbn1cclxuXHJcbmludGVyZmFjZSBTb3VyY2VSZWZlcmVuY2VJbmNsdWRlIHtcclxuICAgIHNvdXJjZUZpbGU6IFNvdXJjZUZpbGU7XHJcbiAgICBsaW5lSW5jbHVkZWQ6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNvdXJjZVJlZmVyZW5jZSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgd3JhcHBlciB0byByZXByZXNlbnQgYSByZWZlcmVuY2UgdG8gc291cmNlIGNvZGUgdGhhdCBoYXMgYmVlbiBpbmNsdWRlZCBpbiBhbm90aGVyIGZpbGUuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlSW5jbHVkZWQoc291cmNlRmlsZTogU291cmNlRmlsZSwgbGluZUluY2x1ZGVkOiBudW1iZXIsIG9yaWdpbmFsUmVmZXJlbmNlOiBTb3VyY2VSZWZlcmVuY2UpIHtcclxuICAgICAgICB2YXIgb2JqID0gbmV3IFNvdXJjZVJlZmVyZW5jZShvcmlnaW5hbFJlZmVyZW5jZS5zb3VyY2VGaWxlLCBvcmlnaW5hbFJlZmVyZW5jZS5saW5lLCBvcmlnaW5hbFJlZmVyZW5jZS5jb2x1bW4sXHJcbiAgICAgICAgICAgIG9yaWdpbmFsUmVmZXJlbmNlLnN0YXJ0LCBvcmlnaW5hbFJlZmVyZW5jZS5lbmQpO1xyXG4gICAgICAgIG9iai5faW5jbHVkZXMucHVzaCh7XHJcbiAgICAgICAgICAgIHNvdXJjZUZpbGU6IHNvdXJjZUZpbGUsXHJcbiAgICAgICAgICAgIGxpbmVJbmNsdWRlZDogbGluZUluY2x1ZGVkXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgb3JpZ2luYWxSZWZlcmVuY2UuaW5jbHVkZXMuZm9yRWFjaCgoaW5jKSA9PiBvYmouX2luY2x1ZGVzLnB1c2goaW5jKSk7XHJcbiAgICAgICAgcmV0dXJuIG9iajtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc291cmNlRmlsZTogU291cmNlRmlsZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBsaW5lOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29sdW1uOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RhcnQ6IG51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSBlbmQ6IG51bWJlcjtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9pbmNsdWRlczogU291cmNlUmVmZXJlbmNlSW5jbHVkZVtdID0gW107XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaW5jbHVkZXM6IHJlYWRvbmx5IFNvdXJjZVJlZmVyZW5jZUluY2x1ZGVbXSA9IHRoaXMuX2luY2x1ZGVzO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihzb3VyY2VGaWxlOiBTb3VyY2VGaWxlLCBsaW5lOiBudW1iZXIsIGNvbHVtbjogbnVtYmVyLCBzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuc291cmNlRmlsZSA9IHNvdXJjZUZpbGU7XHJcbiAgICAgICAgdGhpcy5saW5lID0gbGluZTtcclxuICAgICAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbjtcclxuICAgICAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7XHJcbiAgICAgICAgdGhpcy5lbmQgPSBlbmQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGlzSW5jbHVkZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5jbHVkZXMubGVuZ3RoID4gMDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBnZXRJbmNsdWRlUHJlbHVkZSA6IGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gICAgIHZhciBzdHIgPSBcIlwiO1xyXG4gICAgLy8gICAgIHZhciBwcmV2SW5jbHVkZSA9IHRoaXMuc291cmNlRmlsZTtcclxuICAgIC8vICAgICB0aGlzLmlfaW5jbHVkZXMuZm9yRWFjaChmdW5jdGlvbihpbmNsdWRlKSB7XHJcbiAgICAvLyAgICAgICAgIHN0ciArPSBcIkluIGZpbGUgXFxcIlwiICsgaW5jbHVkZS5zb3VyY2VGaWxlLmdldE5hbWUoKSArIFwiXFxcIiBpbmNsdWRlZCBmcm9tIFwiICsgcHJldkluY2x1ZGUuZ2V0TmFtZSgpICsgXCJcXFwiXCJcclxuICAgIC8vXHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvLyB9XHJcblxyXG59XHJcblxyXG5pbnRlcmZhY2UgSW5jbHVkZU1hcHBpbmcge1xyXG4gICAgc3RhcnRMaW5lOiBudW1iZXI7XHJcbiAgICBzdGFydE9mZnNldDogbnVtYmVyO1xyXG4gICAgbnVtTGluZXM6IG51bWJlcjtcclxuICAgIGVuZExpbmU6IG51bWJlcjtcclxuICAgIGxpbmVEZWx0YTogbnVtYmVyO1xyXG4gICAgbGVuZ3RoRGVsdGE6IG51bWJlcjtcclxuICAgIGluY2x1ZGVkOiBQcmVwcm9jZXNzZWRTb3VyY2U7XHJcbiAgICBsaW5lSW5jbHVkZWQ6IG51bWJlcjtcclxufVxyXG5cclxuY2xhc3MgUHJlcHJvY2Vzc2VkU291cmNlIHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJpbWFyeVNvdXJjZUZpbGU6IFNvdXJjZUZpbGU7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGF2YWlsYWJsZVRvSW5jbHVkZToge1tpbmRleDogc3RyaW5nXTogU291cmNlRmlsZX07XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IG5vdGVzID0gbmV3IE5vdGVSZWNvcmRlcigpO1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2luY2x1ZGVzOiBJbmNsdWRlTWFwcGluZ1tdID0gW107XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaW5jbHVkZXM6IHJlYWRvbmx5IEluY2x1ZGVNYXBwaW5nW10gPSB0aGlzLl9pbmNsdWRlcztcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaW5jbHVkZWRTb3VyY2VGaWxlczoge1tpbmRleDogc3RyaW5nXTogU291cmNlRmlsZX0gPSB7fTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJlcHJvY2Vzc2VkVGV4dDogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG51bUxpbmVzOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXI7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHNvdXJjZUZpbGU6IFNvdXJjZUZpbGUsIGF2YWlsYWJsZVRvSW5jbHVkZToge1tpbmRleDogc3RyaW5nXTogU291cmNlRmlsZX0sIGFscmVhZHlJbmNsdWRlZDoge1tpbmRleDogc3RyaW5nXTogYm9vbGVhbn0gPSB7fSkge1xyXG4gICAgICAgIHRoaXMucHJpbWFyeVNvdXJjZUZpbGUgPSBzb3VyY2VGaWxlO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IHNvdXJjZUZpbGUubmFtZTtcclxuICAgICAgICB0aGlzLmF2YWlsYWJsZVRvSW5jbHVkZSA9IGF2YWlsYWJsZVRvSW5jbHVkZTtcclxuXHJcbiAgICAgICAgYWxyZWFkeUluY2x1ZGVkW3RoaXMucHJpbWFyeVNvdXJjZUZpbGUubmFtZV0gPSB0cnVlO1xyXG5cclxuICAgICAgICBsZXQgY29kZVN0ciA9IHNvdXJjZUZpbGUudGV4dDtcclxuXHJcbiAgICAgICAgY29kZVN0ciA9IHRoaXMuZmlsdGVyU291cmNlQ29kZShjb2RlU3RyKTtcclxuXHJcbiAgICAgICAgbGV0IGN1cnJlbnRJbmNsdWRlT2Zmc2V0ID0gMDtcclxuICAgICAgICBsZXQgY3VycmVudEluY2x1ZGVMaW5lTnVtYmVyID0gMTtcclxuICAgICAgICBsZXQgb3JpZ2luYWxJbmNsdWRlTGluZU51bWJlciA9IDE7XHJcblxyXG4gICAgICAgIHRoaXMuaW5jbHVkZWRTb3VyY2VGaWxlc1t0aGlzLnByaW1hcnlTb3VyY2VGaWxlLm5hbWVdID0gdGhpcy5wcmltYXJ5U291cmNlRmlsZTtcclxuXHJcbiAgICAgICAgLy8gRmluZCBhbmQgcmVwbGFjZSAjaW5jbHVkZSBsaW5lcy4gV2lsbCBhbHNvIHBvcHVsYXRlIGlfaW5jbHVkZXMgYXJyYXkuXHJcbiAgICAgICAgLy8gW15cXFNcXG5dIGlzIGEgY2hhcmFjdGVyIGNsYXNzIGZvciBhbGwgd2hpdGVzcGFjZSBvdGhlciB0aGFuIG5ld2xpbmVzXHJcbiAgICAgICAgdGhpcy5wcmVwcm9jZXNzZWRUZXh0ID0gY29kZVN0ci5yZXBsYWNlKC8jaW5jbHVkZVteXFxTXFxuXStcIiguKilcIi9nLFxyXG4gICAgICAgICAgICAoaW5jbHVkZUxpbmUsIGZpbGVuYW1lLCBvZmZzZXQsIG9yaWdpbmFsKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IG1hcHBpbmc6IFBhcnRpYWw8SW5jbHVkZU1hcHBpbmc+ID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgbGluZSBudW1iZXIgb2YgdGhpcyBpbmNsdWRlIGJ5IGFkZGluZyB1cCB0aGUgbnVtYmVyIG9mIG5ld2xpbmUgY2hhcmFjdGVyc1xyXG4gICAgICAgICAgICAgICAgLy8gc2luY2UgdGhlIG9mZnNldCBvZiB0aGUgbGFzdCBtYXRjaCB1cCB0byB0aGUgY3VycmVudCBvbmUuIEFkZCB0aGlzIHRvIHRoZSBsaW5lIG51bWJlci5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBjdXJyZW50SW5jbHVkZU9mZnNldDsgaSA8IG9mZnNldDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsW2ldID09PSBcIlxcblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICsrY3VycmVudEluY2x1ZGVMaW5lTnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICArK29yaWdpbmFsSW5jbHVkZUxpbmVOdW1iZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIG1hcHBpbmcuc3RhcnRMaW5lID0gY3VycmVudEluY2x1ZGVMaW5lTnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgbWFwcGluZy5zdGFydE9mZnNldCA9IG9mZnNldDtcclxuXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50SW5jbHVkZU9mZnNldCA9IG9mZnNldCArIGluY2x1ZGVMaW5lLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBJIHRoaW5rIHRoaXMgaXMgbm90IG5lZWRlZCBiZWNhdXNlIHRoZSBmaWxlbmFtZSB3YXMgYSBwYXJ0IG9mIHRoZSBvcmlnaW5hbCBtYXRjaFxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgYW5kIGlzIHRodXMgcGFzc2VkIGluIHRvIHRoZSBmdW5jdGlvbiB1c2VkIGZvciByZXBsYWNlbWVudC5cclxuICAgICAgICAgICAgICAgIC8vIC8vIGV4dHJhY3QgdGhlIGZpbGVuYW1lIGZyb20gdGhlICNpbmNsdWRlIGxpbmUgbWF0Y2hcclxuICAgICAgICAgICAgICAgIC8vIC8vIFsxXSB5aWVsZHMgb25seSB0aGUgbWF0Y2ggZm9yIHRoZSBwYXJ0IG9mIHRoZSByZWdleCBpbiBwYXJlbnRoZXNlc1xyXG4gICAgICAgICAgICAgICAgLy8gdmFyIGZpbGVuYW1lID0gaW5jbHVkZUxpbmUubWF0Y2goL1wiKC4qKVwiLylbMV07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgZm9yIHNlbGYgaW5jbHVzaW9uXHJcbiAgICAgICAgICAgICAgICBpZiAoYWxyZWFkeUluY2x1ZGVkW2ZpbGVuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm90ZXMuYWRkTm90ZShDUFBFcnJvci5wcmVwcm9jZXNzLnJlY3Vyc2l2ZUluY2x1ZGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTb3VyY2VSZWZlcmVuY2Uoc291cmNlRmlsZSwgY3VycmVudEluY2x1ZGVMaW5lTnVtYmVyLCAwLCBvZmZzZXQsIGN1cnJlbnRJbmNsdWRlT2Zmc2V0KSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyByZXBsYWNlIHRoZSB3aG9sZSAjaW5jbHVkZSBsaW5lIHdpdGggc3BhY2VzLiBDYW4ndCBqdXN0IHJlbW92ZSBvciBpdCBtZXNzZXMgdXAgb2Zmc2V0cy5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXkoaW5jbHVkZUxpbmUubGVuZ3RoICsgMSkuam9pbihcIiBcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUmVjdXJzaXZlbHkgcHJlcHJvY2VzcyB0aGUgaW5jbHVkZWQgZmlsZVxyXG4gICAgICAgICAgICAgICAgdmFyIGluY2x1ZGVkU291cmNlRmlsZSA9IHRoaXMuYXZhaWxhYmxlVG9JbmNsdWRlW2ZpbGVuYW1lXTtcclxuICAgICAgICAgICAgICAgIC8vVE9ETzogd2hhdCBoYXBwZW5zIGlmIHRoZSBmaWxlIGRvZXNuJ3QgZXhpc3Q/XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGluY2x1ZGVkID0gbmV3IFByZXByb2Nlc3NlZFNvdXJjZShpbmNsdWRlZFNvdXJjZUZpbGUsIHRoaXMuYXZhaWxhYmxlVG9JbmNsdWRlLFxyXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIGFscmVhZHlJbmNsdWRlZCkpO1xyXG5cclxuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5pbmNsdWRlZFNvdXJjZUZpbGVzLCBpbmNsdWRlZC5pbmNsdWRlZFNvdXJjZUZpbGVzKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgbWFwcGluZy5udW1MaW5lcyA9IGluY2x1ZGVkLm51bUxpbmVzO1xyXG4gICAgICAgICAgICAgICAgbWFwcGluZy5lbmRMaW5lID0gbWFwcGluZy5zdGFydExpbmUgKyBpbmNsdWRlZC5udW1MaW5lcztcclxuXHJcbiAgICAgICAgICAgICAgICBtYXBwaW5nLmxpbmVEZWx0YSA9IGluY2x1ZGVkLm51bUxpbmVzIC0gMTtcclxuICAgICAgICAgICAgICAgIG1hcHBpbmcubGVuZ3RoRGVsdGEgPSBpbmNsdWRlZC5sZW5ndGggLSBpbmNsdWRlTGluZS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50SW5jbHVkZUxpbmVOdW1iZXIgKz0gaW5jbHVkZWQubnVtTGluZXMgLSAxOyAvLyAtMSBzaW5jZSBvbmUgbGluZSBmcm9tIG9yaWdpbmFsIHdhcyByZXBsYWNlZFxyXG4gICAgICAgICAgICAgICAgbWFwcGluZy5pbmNsdWRlZCA9IGluY2x1ZGVkO1xyXG4gICAgICAgICAgICAgICAgbWFwcGluZy5saW5lSW5jbHVkZWQgPSBvcmlnaW5hbEluY2x1ZGVMaW5lTnVtYmVyO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuX2luY2x1ZGVzLnB1c2goPEluY2x1ZGVNYXBwaW5nPm1hcHBpbmcpOyAvLyBUT0RPOiByZW1vdmUgY2FzdFxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBpbmNsdWRlZC5wcmVwcm9jZXNzZWRUZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gQ291bnQgbGluZXMgZm9yIHRoZSByZXN0IG9mIHRoZSBmaWxlIGFmdGVyIGFueSAjaW5jbHVkZXNcclxuICAgICAgICBmb3IgKHZhciBpID0gY3VycmVudEluY2x1ZGVPZmZzZXQ7IGkgPCBjb2RlU3RyLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGlmIChjb2RlU3RyW2ldID09PSBcIlxcblwiKSB7XHJcbiAgICAgICAgICAgICAgICArK2N1cnJlbnRJbmNsdWRlTGluZU51bWJlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5udW1MaW5lcyA9IGN1cnJlbnRJbmNsdWRlTGluZU51bWJlcjtcclxuICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMucHJlcHJvY2Vzc2VkVGV4dC5sZW5ndGg7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByaXZhdGUgZmlsdGVyU291cmNlQ29kZShjb2RlU3RyOiBzdHJpbmcpIHtcclxuXHJcbiAgICAgICAgLy8gcmVtb3ZlIGNhcnJpYWdlIHJldHVybnNcclxuICAgICAgICBjb2RlU3RyID0gY29kZVN0ci5yZXBsYWNlKC9cXHIvZywgXCJcIik7XHJcblxyXG4gICAgICAgIGlmIChjb2RlU3RyLmluY2x1ZGVzKFwiI2lmbmRlZlwiKSl7XHJcbiAgICAgICAgICAgIGNvZGVTdHIgPSBjb2RlU3RyLnJlcGxhY2UoLyNpZm5kZWYuKi9nLCBmdW5jdGlvbihtYXRjaCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXkobWF0Y2gubGVuZ3RoKzEpLmpvaW4oXCIgXCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gdGhpcy5zZW5kKFwib3RoZXJFcnJvclwiLCBcIkl0IGxvb2tzIGxpa2UgeW91J3JlIHRyeWluZyB0byB1c2UgYSBwcmVwcm9jZXNzb3IgZGlyZWN0aXZlIChlLmcuIDxzcGFuIGNsYXNzPSdjb2RlJz4jZGVmaW5lPC9zcGFuPikgdGhhdCBpc24ndCBzdXBwb3J0ZWQgYXQgdGhlIG1vZW1lbnQuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29kZVN0ci5pbmNsdWRlcyhcIiNkZWZpbmVcIikpe1xyXG4gICAgICAgICAgICBjb2RlU3RyID0gY29kZVN0ci5yZXBsYWNlKC8jZGVmaW5lLiovZywgZnVuY3Rpb24obWF0Y2gpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5KG1hdGNoLmxlbmd0aCsxKS5qb2luKFwiIFwiKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuc2VuZChcIm90aGVyRXJyb3JcIiwgXCJJdCBsb29rcyBsaWtlIHlvdSdyZSB0cnlpbmcgdG8gdXNlIGEgcHJlcHJvY2Vzc29yIGRpcmVjdGl2ZSAoZS5nLiA8c3BhbiBjbGFzcz0nY29kZSc+I2RlZmluZTwvc3Bhbj4pIHRoYXQgaXNuJ3Qgc3VwcG9ydGVkIGF0IHRoZSBtb2VtZW50LlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvZGVTdHIuaW5jbHVkZXMoXCIjZW5kaWZcIikpe1xyXG4gICAgICAgICAgICBjb2RlU3RyID0gY29kZVN0ci5yZXBsYWNlKC8jZW5kaWYuKi9nLCBmdW5jdGlvbihtYXRjaCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXkobWF0Y2gubGVuZ3RoKzEpLmpvaW4oXCIgXCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gdGhpcy5zZW5kKFwib3RoZXJFcnJvclwiLCBcIkl0IGxvb2tzIGxpa2UgeW91J3JlIHRyeWluZyB0byB1c2UgYSBwcmVwcm9jZXNzb3IgZGlyZWN0aXZlIChlLmcuIDxzcGFuIGNsYXNzPSdjb2RlJz4jZGVmaW5lPC9zcGFuPikgdGhhdCBpc24ndCBzdXBwb3J0ZWQgYXQgdGhlIG1vZW1lbnQuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZiAoY29kZVN0ci5jb250YWlucygvI2luY2x1ZGUuKjwuKj4vZykpe1xyXG4gICAgICAgICAgICBjb2RlU3RyID0gY29kZVN0ci5yZXBsYWNlKC8jaW5jbHVkZS4qPC4qPi9nLCBmdW5jdGlvbihtYXRjaCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXkobWF0Y2gubGVuZ3RoKzEpLmpvaW4oXCIgXCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gdGhpcy5zZW5kKFwib3RoZXJFcnJvclwiLCBcIkl0IGxvb2tzIGxpa2UgeW91J3JlIHRyeWluZyB0byB1c2UgYSBwcmVwcm9jZXNzb3IgZGlyZWN0aXZlIChlLmcuIDxzcGFuIGNsYXNzPSdjb2RlJz4jZGVmaW5lPC9zcGFuPikgdGhhdCBpc24ndCBzdXBwb3J0ZWQgYXQgdGhlIG1vZW1lbnQuXCIpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICBpZiAoY29kZVN0ci5pbmNsdWRlcyhcInVzaW5nIG5hbWVzcGFjZVwiKSl7XHJcbiAgICAgICAgICAgIGNvZGVTdHIgPSBjb2RlU3RyLnJlcGxhY2UoL3VzaW5nIG5hbWVzcGFjZS4qL2csIGZ1bmN0aW9uKG1hdGNoKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheShtYXRjaC5sZW5ndGgrMSkuam9pbihcIiBcIik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBUT0RPIE5FVyB3aHkgaXMgdGhpcyBjb21tZW50ZWQ/XHJcbiAgICAgICAgICAgIC8vIHRoaXMuc2VuZChcIm90aGVyRXJyb3JcIiwgXCJXaGVuIHdyaXRpbmcgY29kZSBpbiBsb2JzdGVyLCB5b3UgZG9uJ3QgbmVlZCB0byBpbmNsdWRlIHVzaW5nIGRpcmVjdGl2ZXMgKGUuZy4gPHNwYW4gY2xhc3M9J2NvZGUnPnVzaW5nIG5hbWVzcGFjZSBzdGQ7PC9zcGFuPikuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29kZVN0ci5pbmNsdWRlcyhcInVzaW5nIHN0ZDo6XCIpKXtcclxuICAgICAgICAgICAgY29kZVN0ciA9IGNvZGVTdHIucmVwbGFjZSgvdXNpbmcgc3RkOjouKi9nLCBmdW5jdGlvbihtYXRjaCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXkobWF0Y2gubGVuZ3RoKzEpLmpvaW4oXCIgXCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gdGhpcy5zZW5kKFwib3RoZXJFcnJvclwiLCBcIkxvYnN0ZXIgZG9lc24ndCBzdXBwb3J0IHVzaW5nIGRlY2xhcmF0aW9ucyBhdCB0aGUgbW9tZW50LlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvZGVTdHI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFNvdXJjZVJlZmVyZW5jZShsaW5lOiBudW1iZXIsIGNvbHVtbjogbnVtYmVyLCBzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcikgOiBTb3VyY2VSZWZlcmVuY2Uge1xyXG5cclxuICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggYWxsIGluY2x1ZGVzIGFuZCBjaGVjayBpZiBhbnkgd291bGQgY29udGFpblxyXG4gICAgICAgIGxldCBvZmZzZXQgPSAwO1xyXG4gICAgICAgIGxldCBsaW5lT2Zmc2V0ID0gMTtcclxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5pbmNsdWRlcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBsZXQgaW5jID0gdGhpcy5pbmNsdWRlc1tpXTtcclxuICAgICAgICAgICAgaWYgKGxpbmUgPCBpbmMuc3RhcnRMaW5lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNvdXJjZVJlZmVyZW5jZSh0aGlzLnByaW1hcnlTb3VyY2VGaWxlLCBsaW5lIC0gbGluZU9mZnNldCArIDEsIGNvbHVtbiwgc3RhcnQgJiYgc3RhcnQgLSBvZmZzZXQsIGVuZCAmJiBlbmQgLSBvZmZzZXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGluYy5zdGFydExpbmUgPD0gbGluZSAmJiBsaW5lIDwgaW5jLmVuZExpbmUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBTb3VyY2VSZWZlcmVuY2UuY3JlYXRlSW5jbHVkZWQodGhpcy5wcmltYXJ5U291cmNlRmlsZSwgaW5jLmxpbmVJbmNsdWRlZCxcclxuICAgICAgICAgICAgICAgICAgICBpbmMuaW5jbHVkZWQuZ2V0U291cmNlUmVmZXJlbmNlKGxpbmUgLSBpbmMuc3RhcnRMaW5lICsgMSwgY29sdW1uLCBzdGFydCAmJiBzdGFydCAtIGluYy5zdGFydE9mZnNldCwgZW5kICYmIGVuZCAtIGluYy5zdGFydE9mZnNldCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9mZnNldCArPSBpbmMubGVuZ3RoRGVsdGE7XHJcbiAgICAgICAgICAgIGxpbmVPZmZzZXQgKz0gaW5jLmxpbmVEZWx0YTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIHRoaXMgbGluZSB3YXNuJ3QgcGFydCBvZiBhbnkgb2YgdGhlIGluY2x1ZGVzLCBqdXN0IHJldHVybiBhIHJlZ3VsYXIgc291cmNlIHJlZmVyZW5jZSB0byB0aGUgb3JpZ2luYWxcclxuICAgICAgICAvLyBzb3VyY2UgZmlsZSBhc3NvY2lhdGVkIHdpdGggdGhpcyB0cmFuc2xhdGlvbiB1bml0XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTb3VyY2VSZWZlcmVuY2UodGhpcy5wcmltYXJ5U291cmNlRmlsZSwgbGluZSAtIGxpbmVPZmZzZXQgKyAxLCBjb2x1bW4sIHN0YXJ0ICYmIHN0YXJ0IC0gb2Zmc2V0LCBlbmQgJiYgZW5kIC0gb2Zmc2V0KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zbGF0aW9uVW5pdEFTVCB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJ0cmFuc2xhdGlvbl91bml0XCI7XHJcbiAgICByZWFkb25seSBkZWNsYXJhdGlvbnM6IHJlYWRvbmx5IERlY2xhcmF0aW9uQVNUTm9kZVtdO1xyXG59XHJcblxyXG4vKipcclxuICogVHJhbnNsYXRpb25Vbml0XHJcbiAqXHJcbiAqIEV2ZW50czpcclxuICogICBcInBhcnNlZFwiOiBhZnRlciBwYXJzaW5nIGlzIGZpbmlzaGVkICpzdWNjZXNzZnVsbHkqXHJcbiAqICAgXCJzeW50YXhFcnJvclwiOiBpZiBhIHN5bnRheCBlcnJvciBpcyBlbmNvdW50ZXJlZCBkdXJpbmcgcGFyc2luZy4gZGF0YSBjb250YWlucyBwcm9wZXJ0aWVzIGxpbmUsIGNvbHVtbiwgYW5kIG1lc3NhZ2VcclxuICogICBcImNvbXBpbGF0aW9uRmluaXNoZWRcIjogYWZ0ZXIgY29tcGlsYXRpb24gaXMgZmluaXNoZWRcclxuICovXHJcbmV4cG9ydCBjbGFzcyBUcmFuc2xhdGlvblVuaXQge1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dDtcclxuXHJcbiAgICAvLyBwdWJsaWMgcmVhZG9ubHkgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKHRoaXMpO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG5vdGVzID0gbmV3IE5vdGVSZWNvcmRlcigpO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc291cmNlOiBQcmVwcm9jZXNzZWRTb3VyY2U7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJvZ3JhbTogUHJvZ3JhbTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZ2xvYmFsU2NvcGU6IE5hbWVzcGFjZVNjb3BlO1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdG9wTGV2ZWxEZWNsYXJhdGlvbnM6IHJlYWRvbmx5IERlY2xhcmF0aW9uW10gPSBbXTtcclxuICAgIHB1YmxpYyByZWFkb25seSBzdGF0aWNFbnRpdGllczogcmVhZG9ubHkgU3RhdGljRW50aXR5W10gPSBbXTtcclxuICAgIHB1YmxpYyByZWFkb25seSBzdHJpbmdMaXRlcmFsczogcmVhZG9ubHkgU3RyaW5nTGl0ZXJhbEVudGl0eVtdID0gW107XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZnVuY3Rpb25DYWxsczogcmVhZG9ubHkgRnVuY3Rpb25DYWxsW10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFyc2VkQVNUPzogVHJhbnNsYXRpb25Vbml0QVNUO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQXR0ZW1wdHMgdG8gY29tcGlsZWQgdGhlIGdpdmVuIHByaW1hcnkgc291cmNlIGZpbGUgYXMgYSB0cmFuc2xhdGlvbiB1bml0IGZvciBhIEMrKyBwcm9ncmFtLlxyXG4gICAgICogVGhlIGNvbXBpbGF0aW9uIGlzIGF0dGVtcHRlZCBnaXZlbiB0aGUgKipjdXJyZW50Kiogc3RhdGUgb2YgdGhlIHNvdXJjZSBmaWxlcy4gSWYgdGhlIHByaW1hcnlcclxuICAgICAqIHNvdXJjZSBvciBhbnkgb2YgdGhlIGZpbGVzIGluY2x1ZGVkIHZpYSB0aGUgcHJlcHJvY2Vzc29yIGFyZSBjaGFuZ2VkIGluIGFueSB3YXksIGEgbmV3IGBUcmFuc2xhdGlvblVuaXRgXHJcbiAgICAgKiBzaG91bGQgYmUgY29uc3RydWN0ZWQgKGl0IGlzIG5vdCBwb3NzaWJsZSB0byBcInJlLWNvbXBpbGVcIiBhIFRyYW5zbGF0aW9uVW5pdCBvYmplY3QuKVxyXG4gICAgICogQHBhcmFtIHByaW1hcnlTb3VyY2VGaWxlIENvbnRhaW5zIHRoZSBzb3VyY2UgY29kZSBmb3IgdGhpcyB0cmFuc2xhdGlvbiB1bml0LlxyXG4gICAgICogQHBhcmFtIHNvdXJjZUZpbGVzIFRoZSBzZXQgb2YgZmlsZXMgdG8gYmUgYXZhaWxhYmxlIGZvciBpbmNsdXNpb24gdmlhICNpbmNsdWRlIGRpcmVjdGl2ZXMuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihwcm9ncmFtOiBQcm9ncmFtLCBwcmVwcm9jZXNzZWRTb3VyY2U6IFByZXByb2Nlc3NlZFNvdXJjZSkge1xyXG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07XHJcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBwcmVwcm9jZXNzZWRTb3VyY2U7XHJcbiAgICAgICAgdGhpcy5nbG9iYWxTY29wZSA9IG5ldyBOYW1lc3BhY2VTY29wZShwcmVwcm9jZXNzZWRTb3VyY2UucHJpbWFyeVNvdXJjZUZpbGUubmFtZSArIFwiX0dMT0JBTF9TQ09QRVwiKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSBwcmVwcm9jZXNzZWRTb3VyY2UubmFtZTtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjcmVhdGVUcmFuc2xhdGlvblVuaXRDb250ZXh0KHByb2dyYW0uY29udGV4dCwgdGhpcywgdGhpcy5nbG9iYWxTY29wZSk7XHJcblxyXG4gICAgICAgIHRyeXtcclxuICAgICAgICAgICAgLy8gVGhpcyBpcyBraW5kIG9mIGEgaGFjayB0byBjb21tdW5pY2F0ZSB3aXRoIHRoZSBQRUcuanMgZ2VuZXJhdGVkIHBhcnNpbmcgY29kZS5cclxuICAgICAgICAgICAgLy8gVGhpcyBib3RoIFwicmVzZXRzXCIgdGhlIHVzZXItZGVmaW5lZCB0eXBlIG5hbWVzIHRoYXQgZXhpc3QgZm9yIGVhY2ggdHJhbnNsYXRpb25cclxuICAgICAgICAgICAgLy8gdW5pdCAoZS5nLiBzbyB0aGF0IENsYXNzIG5hbWVzIGRlY2xhcmVkIGluIGFub3RoZXIgdHJhbnNsYXRpb24gdW5pdCBhcmVuJ3QgaGFuZ2luZ1xyXG4gICAgICAgICAgICAvLyBhcm91bmQpLCBhbmQgYWxzbyBlbnN1cmVzIFwiZGVmYXVsdFwiIHVzZXItZGVmaW5lZCB0eXBlIG5hbWVzIGxpa2Ugb3N0cmVhbSwgZXRjLiBhcmVcclxuICAgICAgICAgICAgLy8gcmVjb2duaXplZCBhcyBzdWNoLiBNYWtpbmcgYSBjb3B5IGlzIGltcG9ydGFudCBzbyB0aGF0IHdlIGRvbid0IG1vZGlmeSB0aGUgb3JpZ2luYWxcclxuICAgICAgICAgICAgLy8gd2hpY2ggd2lsbCBwb3RlbnRpYWxseSBiZSB1c2VkIGJ5IG90aGVyIHRyYW5zbGF0aW9uIHVuaXRzLlxyXG4gICAgICAgICAgICAvLyByZXNldFVzZXJUeXBlTmFtZXMoKTsgLy9PYmplY3QuYXNzaWduKHt9LCBUeXBlcy5kZWZhdWx0VXNlclR5cGVOYW1lcyk7IC8vIFRPRE9cclxuXHJcbiAgICAgICAgICAgIC8vIE5vdGUgdGhpcyBpcyBub3QgY2hlY2tlZCBieSB0aGUgVFMgdHlwZSBzeXN0ZW0uIFdlIGp1c3QgaGF2ZSB0byBtYW51YWxseSBlbnN1cmVcclxuICAgICAgICAgICAgLy8gdGhlIHN0cnVjdHVyZSBwcm9kdWNlZCBieSB0aGUgZ3JhbW1hci9wYXJzZXIgbWF0Y2hlcyB3aGF0IHdlIGV4cGVjdC5cclxuICAgICAgICAgICAgbGV0IHBhcnNlZEFTVCA6IFRyYW5zbGF0aW9uVW5pdEFTVCA9IGNwcF9wYXJzZSh0aGlzLnNvdXJjZS5wcmVwcm9jZXNzZWRUZXh0KTtcclxuICAgICAgICAgICAgdGhpcy5wYXJzZWRBU1QgPSBwYXJzZWRBU1Q7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJ1aWx0SW5HbG9iYWxzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcGlsZVRvcExldmVsRGVjbGFyYXRpb25zKHRoaXMucGFyc2VkQVNUKTtcclxuXHRcdH1cclxuXHRcdGNhdGNoKGVycikge1xyXG5cdFx0XHRpZiAoZXJyLm5hbWUgPT0gXCJTeW50YXhFcnJvclwiKXtcclxuXHRcdFx0XHR0aGlzLm5vdGVzLmFkZE5vdGUobmV3IFN5bnRheE5vdGUoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRTb3VyY2VSZWZlcmVuY2UoZXJyLmxvY2F0aW9uLnN0YXJ0LmxpbmUsIGVyci5sb2NhdGlvbi5zdGFydC5jb2x1bW4sIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVyci5sb2NhdGlvbi5zdGFydC5vZmZzZXQsIGVyci5sb2NhdGlvbi5zdGFydC5vZmZzZXQgKyAxKSxcclxuICAgICAgICAgICAgICAgICAgICBOb3RlS2luZC5FUlJPUixcclxuICAgICAgICAgICAgICAgICAgICBcInN5bnRheFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGVyci5tZXNzYWdlKSk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIuc3RhY2spO1xyXG5cdFx0XHRcdHRocm93IGVycjtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFRPRE86IGZpZ3VyZSBvdXQgd2hlcmUgdGhpcyBzdHVmZiBzaG91bGQgcmVhbGx5IGdvIGJldHdlZW4gaGVyZSBhbmQgdGhlIHByb2dyYW0gY3JlYXRpbmdcclxuICAgIC8vIGNvbXBpbGVyIGludHJpbnNpY3MuIFNvbWV0aGluZyB3aWxsIG5lZWQgdG8gYmUgZG9uZSBhdCB0aGUgVHJhbnNsYXRpb25Vbml0IGxldmVsIHRvIGVuc3VyZVxyXG4gICAgLy8gdGhlIGFwcHJvcHJpYXRlIG5hbWVzIGFyZSBkZWNsYXJlZCBhbmQgaW4gdGhlIHJpZ2h0IHNjb3BlcywgYnV0IHRoYXQgbWlnaHQganVzdCBiZSBhIG1hdHRlclxyXG4gICAgLy8gb2YgaGF2aW5nIGxpYnJhcnkgI2luY2x1ZGVzIGFjdHVhbGx5IGltcGxlbWVudGVkIGluIGEgcmVhc29uYWJsZSB3YXkuXHJcbiAgICBwcml2YXRlIGNyZWF0ZUJ1aWx0SW5HbG9iYWxzKCkge1xyXG5cdCAgICAvLyBpZiAoVHlwZXMudXNlclR5cGVOYW1lc1tcIm9zdHJlYW1cIl0pIHtcclxuICAgICAgICAvLyAgICAgdGhpcy5pX2dsb2JhbFNjb3BlLmFkZEVudGl0eShTdGF0aWNFbnRpdHkuaW5zdGFuY2Uoe25hbWU6XCJjb3V0XCIsIHR5cGU6VHlwZXMuT1N0cmVhbS5pbnN0YW5jZSgpfSkpO1xyXG4gICAgICAgIC8vICAgICB0aGlzLmlfZ2xvYmFsU2NvcGUuYWRkRW50aXR5KFN0YXRpY0VudGl0eS5pbnN0YW5jZSh7bmFtZTpcImNpblwiLCB0eXBlOlR5cGVzLklTdHJlYW0uaW5zdGFuY2UoKX0pKTtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIC8vIC8vIFRPRE8gTkVXIHJld29yayBzbyB0aGF0IGVuZGxFbnRpdHkgZG9lc24ndCBoYXZlIHRvIGJlIHB1YmxpYyAob3RoZXIgcGFydHMgb2YgY29kZSBsb29rIGZvciBpdCBjdXJyZW50bHkpXHJcbiAgICAgICAgLy8gdGhpcy5lbmRsRW50aXR5ID0gU3RhdGljRW50aXR5Lmluc3RhbmNlKHtuYW1lOlwiZW5kbFwiLCB0eXBlOlR5cGVzLkNoYXIuaW5zdGFuY2UoKX0pO1xyXG4gICAgICAgIC8vIHRoaXMuZW5kbEVudGl0eS5kZWZhdWx0VmFsdWUgPSAxMDsgLy8gMTAgaXMgYXNjaWkgY29kZSBmb3IgXFxuXHJcbiAgICAgICAgLy8gdGhpcy5pX2dsb2JhbFNjb3BlLmFkZEVudGl0eSh0aGlzLmVuZGxFbnRpdHkpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gdmFyIGNhc3NlcnQgPSBNYWdpY0Z1bmN0aW9uRW50aXR5Lmluc3RhbmNlKE1hZ2ljRnVuY3Rpb25EZWZpbml0aW9uLmluc3RhbmNlKFxyXG4gICAgICAgIC8vICAgICBcImFzc2VydFwiLFxyXG4gICAgICAgIC8vICAgICBUeXBlcy5GdW5jdGlvbi5pbnN0YW5jZShUeXBlcy5Wb2lkLmluc3RhbmNlKCksIFtUeXBlcy5Cb29sLmluc3RhbmNlKCldKVxyXG4gICAgICAgIC8vICkpO1xyXG4gICAgICAgIC8vIHRoaXMuaV9nbG9iYWxTY29wZS5hZGRFbnRpdHkoY2Fzc2VydCk7XHJcblxyXG4gICAgICAgIC8vIHZhciBwYXVzZSA9IE1hZ2ljRnVuY3Rpb25FbnRpdHkuaW5zdGFuY2UoTWFnaWNGdW5jdGlvbkRlZmluaXRpb24uaW5zdGFuY2UoXHJcbiAgICAgICAgLy8gICAgIFwicGF1c2VcIixcclxuICAgICAgICAvLyAgICAgVHlwZXMuRnVuY3Rpb24uaW5zdGFuY2UoVHlwZXMuVm9pZC5pbnN0YW5jZSgpLCBbXSlcclxuICAgICAgICAvLyApKTtcclxuICAgICAgICAvLyB0aGlzLmlfZ2xvYmFsU2NvcGUuYWRkRW50aXR5KHBhdXNlKTtcclxuXHJcblxyXG4gICAgICAgIC8vIHZhciBwYXVzZUlmID0gTWFnaWNGdW5jdGlvbkVudGl0eS5pbnN0YW5jZShNYWdpY0Z1bmN0aW9uRGVmaW5pdGlvbi5pbnN0YW5jZShcclxuICAgICAgICAvLyAgICAgXCJwYXVzZUlmXCIsXHJcbiAgICAgICAgLy8gICAgIFR5cGVzLkZ1bmN0aW9uLmluc3RhbmNlKFR5cGVzLlZvaWQuaW5zdGFuY2UoKSwgW1R5cGVzLkJvb2wuaW5zdGFuY2UoKV0pXHJcbiAgICAgICAgLy8gKSk7XHJcbiAgICAgICAgLy8gdGhpcy5pX2dsb2JhbFNjb3BlLmFkZEVudGl0eShwYXVzZUlmKTtcclxuXHJcblxyXG4gICAgICAgIC8vIHRoaXMuaV9nbG9iYWxTY29wZS5hZGRFbnRpdHkoTWFnaWNGdW5jdGlvbkVudGl0eS5pbnN0YW5jZShcclxuICAgICAgICAvLyAgICAgTWFnaWNGdW5jdGlvbkRlZmluaXRpb24uaW5zdGFuY2UoXCJyYW5kXCIsXHJcbiAgICAgICAgLy8gICAgICAgICBUeXBlcy5GdW5jdGlvbi5pbnN0YW5jZShUeXBlcy5JbnQuaW5zdGFuY2UoKSwgW10pKSkpO1xyXG5cclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJpdmF0ZSBjb21waWxlVG9wTGV2ZWxEZWNsYXJhdGlvbnMoYXN0OiBUcmFuc2xhdGlvblVuaXRBU1QpIHtcclxuICAgICAgICBhc3QuZGVjbGFyYXRpb25zLmZvckVhY2goKGRlY2xBU1QpID0+IHtcclxuICAgICAgICAgICAgbGV0IGRlY2xzT3JGdW5jRGVmID0gY3JlYXRlRGVjbGFyYXRpb25Gcm9tQVNUKGRlY2xBU1QsIHRoaXMuY29udGV4dCk7XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRlY2xzT3JGdW5jRGVmKSkge1xyXG4gICAgICAgICAgICAgICAgZGVjbHNPckZ1bmNEZWYuZm9yRWFjaChkZWNsID0+IGFzTXV0YWJsZSh0aGlzLnRvcExldmVsRGVjbGFyYXRpb25zKS5wdXNoKGRlY2wpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFzTXV0YWJsZSh0aGlzLnRvcExldmVsRGVjbGFyYXRpb25zKS5wdXNoKGRlY2xzT3JGdW5jRGVmKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRTdHJpbmdMaXRlcmFsKGxpdGVyYWw6IFN0cmluZ0xpdGVyYWxFbnRpdHkpIHtcclxuICAgICAgICBhc011dGFibGUodGhpcy5zdHJpbmdMaXRlcmFscykucHVzaChsaXRlcmFsKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVnaXN0ZXJGdW5jdGlvbkNhbGwoY2FsbDogRnVuY3Rpb25DYWxsKSB7XHJcbiAgICAgICAgYXNNdXRhYmxlKHRoaXMuZnVuY3Rpb25DYWxscykucHVzaChjYWxsKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0TmVhcmVzdFNvdXJjZVJlZmVyZW5jZUZvckNvbnN0cnVjdChjb25zdHJ1Y3Q6IENQUENvbnN0cnVjdCkge1xyXG4gICAgICAgIHdoaWxlICghY29uc3RydWN0LmFzdCAmJiBjb25zdHJ1Y3QucGFyZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnN0cnVjdCA9IGNvbnN0cnVjdC5wYXJlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghY29uc3RydWN0LmFzdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXNzZXJ0RmFsc2UoXCJDYW4ndCBmaW5kIHNvdXJjZSByZWZlcmVuY2UgZm9yIGNvbnN0cnVjdFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHNyYyA9IGNvbnN0cnVjdC5hc3Quc291cmNlO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFNvdXJjZVJlZmVyZW5jZShzcmMubGluZSwgc3JjLmNvbHVtbiwgc3JjLnN0YXJ0LCBzcmMuZW5kKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U291cmNlUmVmZXJlbmNlKGxpbmU6IG51bWJlciwgY29sdW1uOiBudW1iZXIsIHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLmdldFNvdXJjZVJlZmVyZW5jZShsaW5lLCBjb2x1bW4sIHN0YXJ0LCBlbmQpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuIiwiaW1wb3J0IHsgUG9pbnRlclR5cGUsIEludCB9IGZyb20gXCIuL2NvcmUvdHlwZXNcIjtcclxuaW1wb3J0IHsgcGFyc2UgYXMgY3BwX3BhcnNlIH0gZnJvbSBcIi4vcGFyc2UvY3BwX3BhcnNlclwiO1xyXG5pbXBvcnQgeyBTb3VyY2VGaWxlLCBQcm9ncmFtIH0gZnJvbSBcIi4vY29yZS9Qcm9ncmFtXCI7XHJcblxyXG5jb25zb2xlLmxvZyhcImhlbGxvXCIpO1xyXG4vLyBsZXQgeCA9IG5ldyBQb2ludGVyVHlwZShuZXcgSW50KCksIHRydWUpO1xyXG4vLyBjb25zb2xlLmxvZyh4LnRvU3RyaW5nKCkpO1xyXG5cclxubGV0IGZpbGUxID0gbmV3IFNvdXJjZUZpbGUoXCJ0ZXN0LmNwcFwiLCBcImludCBtYWluKCkge2ludCB4ID0gMjt9XCIpO1xyXG5sZXQgcHJvZ3JhbSA9IG5ldyBQcm9ncmFtKFtmaWxlMV0sIFtcInRlc3QuY3BwXCJdKTtcclxuY29uc29sZS5sb2cocHJvZ3JhbSk7Il0sInNvdXJjZVJvb3QiOiIifQ==