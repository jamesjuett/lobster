var Bundle=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=57)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asMutable=function(t){return t},e.assert=function(t,e){if(void 0===e&&(e=""),!t)throw Error("Assert failed: "+e)},e.assertFalse=function(t){throw void 0===t&&(t=""),Error("Assert failed: "+t)},e.createMethodMixin=function(t){return function(e,n){e[n]=t}},e.htmlDecoratedType=function(t){return'<span class="code-type">'+t+"</span>"};var r=['\\"',"\\'","\\?","\\\\","\\a","\\b","\\f","\\n","\\r","\\t","\\v","\\0"],i=['"',"'","","\\","","\b","\f","\n","\r","\t","\v","\0"];e.escapeString=function(t){for(var e=0;e<r.length;++e)t=t.replace(r[e],i[e]);return t},e.unescapeString=function(t){for(var e="",n=0;n<t.length;++n){for(var o=t[n],a=0;a<i.length;++a)if(o===i[a]){o=r[a];break}e+=o}return e};var o=function(){function t(){this.seed=0}return t.prototype.setRandomSeed=function(t){this.seed=t},t.prototype.random=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.seed=(9301*this.seed+49297)%233280,this.seededRandom(this.seed,t,e)},t.prototype.seededRandom=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=1);var r=t%233280/233280;return r=e+r*(n-e),r=Math.max(e,Math.min(n,r))},t}();e.CPPRandom=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=["a","e","i","o","u"];function a(t,e){return t.sameType(e)}function u(t,e){return t.similarType(e)}function s(t,e){return t instanceof S&&e instanceof S&&t.isDerivedFrom(e)}e.isType=function(t,e){return t.isType(e)},e.sameType=a,e.similarType=u,e.subType=s,e.covariantType=function(t,e){if(a(t,e))return!0;var n,r;if(t instanceof T&&e instanceof T)n=t.ptrTo,r=e.ptrTo;else{if(!(t instanceof A&&e instanceof A))return!1;n=t.refTo,r=e.refTo}return n instanceof S&&r instanceof S&&(!!n.isDerivedFrom(r)&&(t.isConst==e.isConst&&t.isVolatile==e.isVolatile&&!(n.isConst&&!r.isConst||n.isVolatile&&!r.isVolatile)))},e.referenceCompatible=function(t,e){return t&&e&&t.isReferenceCompatible(e)},e.isCvConvertible=function(t,e){if(null===t||null===e)return!1;if(!u(t,e))return!1;t=t.getCompoundNext(),e=e.getCompoundNext();for(var n=!0;t&&e;){if(t.isConst&&!e.isConst)return!1;if(!t.isConst&&e.isConst&&!n)return!1;n=n&&e.isConst,t=t.getCompoundNext(),e=e.getCompoundNext()}return!0};var c=function(){function t(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1),this.isConst=t,this.isVolatile=e}return t.prototype.getCVString=function(){return(this.isConst?"const ":"")+(this.isVolatile?"volatile ":"")},t.prototype.toString=function(){return this.typeString(!1,"")},t.prototype.isType=function(t){return this instanceof t},t.prototype.isObjectType=function(){return this instanceof f},t.prototype.isAtomicType=function(){return this instanceof p},t.prototype.isArithmeticType=function(){return this instanceof d},t.prototype.isIntegralType=function(){return this instanceof y},t.prototype.isFloatingPointType=function(){return this instanceof g},t.prototype.isPointerType=function(){return this instanceof T},t.prototype.isReferenceType=function(){return this instanceof A},t.prototype.isClassType=function(){return this instanceof S},t.prototype.isBoundedArrayType=function(){return this instanceof C},t.prototype.isArrayOfUnknownBoundType=function(){return this instanceof O},t.prototype.isGenericArrayType=function(){return this instanceof C||this instanceof O},t.prototype.isFunctionType=function(){return this instanceof P},t.prototype.isArrayElemType=function(){return this instanceof p||this instanceof S},t.prototype.isVoidType=function(){return this instanceof l},t.prototype.isPotentialReturnType=function(){return this instanceof f||this instanceof A||this instanceof l},t.prototype.isPotentialParameterType=function(){return this instanceof f||this instanceof A},t.prototype.isReferenceRelated=function(t){return a(this.cvUnqualified(),t.cvUnqualified())||s(this.cvUnqualified(),t.cvUnqualified())},t.prototype.isReferenceCompatible=function(t){return this.isReferenceRelated(t)&&(t.isConst||!this.isConst)&&(t.isVolatile||!this.isVolatile)},t.prototype.declaratorString=function(t){return this.typeString(!0,t)},t.prototype.parenthesize=function(t,e){return this.precedence<t.precedence?"("+e+")":e},t.prototype.describe=function(){var t=this.typeString(!1,"");return{name:t,message:t}},t.prototype.getCompoundNext=function(){return null},t.prototype.isCVQualified=function(){return this.isConst||this.isVolatile},t.prototype.cvUnqualified=function(){return this.cvQualified(!1,!1)},t.prototype.cvQualified=function(t,e){return void 0===e&&(e=!1),this.cvQualifiedImpl(t,e)},t._name="Type",t}(),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isComplete=!0,e.precedence=0,e}return r(e,t),e.prototype.sameType=function(t){return t instanceof e&&t.isConst===this.isConst&&t.isVolatile===this.isVolatile},e.prototype.similarType=function(t){return t instanceof e},e.prototype.typeString=function(t,e,n){return"void"},e.prototype.englishString=function(t){return"void"},e.prototype.cvQualifiedImpl=function(t,n){return new e(t,n)},e.VOID=new e,e}(c);e.VoidType=l;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(c);e.ObjectType=f;var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isAtomic=!0,e}return r(e,t),e}(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.bytesToValue=function(t){return t[0]},e.prototype.valueToBytes=function(t){var e=[];e[0]=t;for(var n=1;n<this.size-1;++n)e.push(0);return e},e.prototype.valueToOstreamString=function(t){return this.valueToString(t)},e}(f));e.AtomicType=p;var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isComplete=!0,e.precedence=0,e}return r(e,t),e.prototype.sameType=function(t){return t instanceof e&&t.simpleType===this.simpleType&&t.isConst===this.isConst&&t.isVolatile===this.isVolatile},e.prototype.similarType=function(t){return t instanceof e&&t.simpleType===this.simpleType},e.prototype.typeString=function(t,e,n){return t?e||"":this.getCVString()+(n?i.htmlDecoratedType(this.simpleType.toString()):this.simpleType)+(e?" "+e:"")},e.prototype.englishString=function(t){var e=this.getCVString()+this.simpleType;return t?this.simpleType+"s":(function(t){return-1!=o.indexOf(t)}(e.charAt(0))?"an ":"a ")+e},e.prototype.valueToString=function(t){return""+t},e.prototype.isValueValid=function(t){return!0},e}(p);e.SimpleType=h;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(h);e.ArithmeticType=d;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(d);e.IntegralType=y;var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.simpleType="char",e.size=1,e}return r(e,t),e.isNullChar=function(t){return t===this.NULL_CHAR},e.jsStringToNullTerminatedCharArray=function(t){var n=t.split("").map(function(t){return t.charCodeAt(0)});return n.push(e.NULL_CHAR),n},e.prototype.valueToString=function(t){return"'"+i.unescapeString(String.fromCharCode(t))+"'"},e.prototype.valueToOstreamString=function(t){return String.fromCharCode(t)},e.prototype.cvQualifiedImpl=function(t,n){return new e(t,n)},e.CHAR=new e,e.NULL_CHAR=0,e}(y);e.Char=m;var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.simpleType="int",e.size=4,e}return r(e,t),e.prototype.cvQualifiedImpl=function(t,n){return new e(t,n)},e.INT=new e,e}(y);e.Int=v;var b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.simpleType="size_t",e.size=8,e}return r(e,t),e.prototype.cvQualifiedImpl=function(t,n){return new e(t,n)},e}(y);e.Size_t=b;var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.simpleType="bool",e.size=1,e}return r(e,t),e.prototype.cvQualifiedImpl=function(t,n){return new e(t,n)},e.BOOL=new e,e}(y);e.Bool=_;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.valueToString=function(t){var e=""+t;return-1!=e.indexOf(".")?e:e+"."},e}(d);e.FloatingPointType=g;var w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.simpleType="float",e.size=4,e}return r(e,t),e.prototype.cvQualifiedImpl=function(t,n){return new e(t,n)},e.FLOAT=new e,e}(g);e.Float=w;var R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.simpleType="double",e.size=8,e}return r(e,t),e.prototype.cvQualifiedImpl=function(t,n){return new e(t,n)},e.DOUBLE=new e,e}(g);e.Double=R;var T=function(t){function e(e,n,r){var i=t.call(this,n,r)||this;return i.size=8,i.precedence=1,i.isComplete=!0,i.ptrTo=e,i}return r(e,t),e.isNull=function(t){return 0===t},e.isNegative=function(t){return t<0},e.prototype.getCompoundNext=function(){return this.ptrTo},e.prototype.sameType=function(t){return t instanceof e&&this.ptrTo.sameType(t.ptrTo)&&t.isConst===this.isConst&&t.isVolatile===this.isVolatile},e.prototype.similarType=function(t){return t instanceof e&&this.ptrTo.similarType(t.ptrTo)},e.prototype.typeString=function(t,e,n){return this.ptrTo.typeString(t,this.parenthesize(this.ptrTo,this.getCVString()+"*"+e),n)},e.prototype.englishString=function(t){return(t?this.getCVString()+"pointers to":"a "+this.getCVString()+"pointer to")+" "+this.ptrTo.englishString(!1)},e.prototype.valueToString=function(t){return"0x"+t},e.prototype.isObjectPointer=function(){return this.ptrTo.isObjectType()},e.prototype.isValueDereferenceable=function(t){return this.isValueValid(t)},e.prototype.isValueValid=function(t){return!0},e.prototype.cvQualifiedImpl=function(t,n){return new e(this.ptrTo,t,n)},e}(p);e.PointerType=T;var x=function(t){function e(e,n,r){var i=t.call(this,e.type.elemType,n,r)||this;return i.arrayObject=e,i}return r(e,t),e.prototype.min=function(){return this.arrayObject.address},e.prototype.onePast=function(){return this.arrayObject.address+this.arrayObject.type.size},e.prototype.isValueValid=function(t){if(!this.arrayObject.isAlive)return!1;var e=this.arrayObject;return e.address<=t&&t<=e.address+e.type.size},e.prototype.isValueDereferenceable=function(t){return this.isValueValid(t)&&t!==this.onePast()},e.prototype.toIndex=function(t){return Math.trunc((t-this.arrayObject.address)/this.arrayObject.type.elemType.size)},e.prototype.cvQualifiedImpl=function(t,n){return new e(this.arrayObject,t,n)},e}(T);e.ArrayPointer=x;var E=function(t){function e(e,n,r){var i=t.call(this,e.type,n,r)||this;return i.pointedObject=e,i}return r(e,t),e.prototype.getPointedObject=function(){return this.pointedObject},e.prototype.isValueValid=function(t){return this.pointedObject.isAlive&&this.pointedObject.address===t},e.prototype.cvQualifiedImpl=function(t,n){return new e(this.pointedObject,t,n)},e}(T);e.ObjectPointer=E;var A=function(t){function e(e,n,r){var i=t.call(this,!1,r)||this;return i.precedence=1,i.isComplete=!0,i.refTo=e,i}return r(e,t),e.prototype.getCompoundNext=function(){return this.refTo},e.prototype.sameType=function(t){return t instanceof e&&this.refTo.sameType(t.refTo)},e.prototype.similarType=function(t){return t instanceof e&&this.refTo.similarType(t.refTo)},e.prototype.typeString=function(t,e,n){return this.refTo.typeString(t,this.parenthesize(this.refTo,this.getCVString()+"&"+e),n)},e.prototype.englishString=function(t){return this.getCVString()+(t?"references to":"a reference to")+" "+this.refTo.englishString(!1)},e.prototype.valueToString=function(t){return""+t},e.prototype.cvQualifiedImpl=function(t,n){return new e(this.refTo,t,n)},e}(c);e.ReferenceType=A,e.noRef=function(t){return t instanceof A?t.refTo:t};var C=function(t){function e(e,n){var r=t.call(this,!1,!1)||this;return r.precedence=2,r.elemType=e,r.length=n,r.size=e.size*n,r}return r(e,t),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this.elemType.isComplete},enumerable:!0,configurable:!0}),e.prototype.getCompoundNext=function(){return this.elemType},e.prototype.sameType=function(t){return t instanceof e&&this.elemType.sameType(t.elemType)&&this.length===t.length},e.prototype.similarType=function(t){return t instanceof e&&this.elemType.similarType(t.elemType)&&this.length===t.length},e.prototype.typeString=function(t,e,n){return this.elemType.typeString(t,e+"["+this.length+"]",n)},e.prototype.englishString=function(t){return(t?"arrays of ":"an array of ")+this.length+" "+this.elemType.englishString(this.length>1)},e.prototype.cvQualifiedImpl=function(t,n){return new e(this.elemType,this.length)},e.prototype.adjustToPointerType=function(){return new T(this.elemType,!1,!1)},e}(f);e.BoundedArrayType=C;var O=function(t){function e(e,n){var r=t.call(this,!1,!1)||this;return r.precedence=2,r.isComplete=!1,r.elemType=e,r.sizeExpressionAST=n,r}return r(e,t),e.prototype.getCompoundNext=function(){return this.elemType},e.prototype.sameType=function(t){return t instanceof e&&this.elemType.sameType(t.elemType)},e.prototype.similarType=function(t){return t instanceof e&&this.elemType.similarType(t.elemType)},e.prototype.typeString=function(t,e,n){return this.elemType.typeString(t,e+"[]",n)},e.prototype.englishString=function(t){return(t?"arrays of unknown bound of ":"an array of unknown bound of ")+this.elemType.englishString(!0)},e.prototype.cvQualifiedImpl=function(t,n){return new e(this.elemType,this.sizeExpressionAST)},e.prototype.adjustToPointerType=function(){return new T(this.elemType,!1,!1)},e}(c);e.ArrayOfUnknownBoundType=O;var S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.size=0,e.precedence=0,e.isComplete=!1,e.className="",e.name="",e}return r(e,t),e.prototype.sameType=function(t){throw new Error("Method not implemented.")},e.prototype.similarType=function(t){throw new Error("Method not implemented.")},e.prototype.isDerivedFrom=function(t){throw new Error("Method not implemented.")},e.prototype.typeString=function(t,e,n){throw new Error("Method not implemented.")},e.prototype.englishString=function(t){throw new Error("Method not implemented.")},e.prototype.cvQualifiedImpl=function(t,n){return new e(t,n)},e}(f);e.ClassType=S;var P=function(t){function e(e,n,r,i,o){var a=t.call(this,r,i)||this;a.isComplete=!0,a.precedence=2,a.receiverType=o,a.returnType=e instanceof S||e instanceof T||e instanceof A?e:e.cvUnqualified(),a.paramTypes=n.map(function(t){return t instanceof S?t:t.cvUnqualified()}),a.paramStrType="(";for(var u=0;u<n.length;++u)a.paramStrType+=(0==u?"":",")+n[u];a.paramStrType+=")",a.paramStrEnglish="(";for(u=0;u<n.length;++u)a.paramStrEnglish+=(0==u?"":", ")+n[u].englishString(!1);return a.paramStrEnglish+=")",a}return r(e,t),e.prototype.cvQualifiedImpl=function(t,n){return new e(this.returnType,this.paramTypes,t,n,this.receiverType)},e.prototype.sameType=function(t){return!!t&&(t instanceof e&&(!!this.sameReturnType(t)&&!!this.sameParamTypes(t)))},e.prototype.similarType=function(t){return this.sameType(t)},e.prototype.sameParamTypes=function(t){var n=t instanceof e?t.paramTypes:t;if(this.paramTypes.length!==n.length)return!1;for(var r=0;r<this.paramTypes.length;++r)if(!this.paramTypes[r].sameType(n[r]))return!1;return!0},e.prototype.sameReturnType=function(t){return this.returnType.sameType(t.returnType)},e.prototype.sameReceiverType=function(t){return this.receiverType&&t.receiverType?this.receiverType.sameType(t.receiverType):!this.receiverType&&!t.receiverType},e.prototype.sameSignature=function(t){return this.sameReceiverType(t)&&this.sameParamTypes(t)},e.prototype.isPotentialOverriderOf=function(t){return this.sameParamTypes(t)&&this.isConst===t.isConst&&this.isVolatile==t.isVolatile},e.prototype.typeString=function(t,e,n){return void 0===n&&(n=!1),this.returnType.typeString(t,e+this.paramStrType,n)},e.prototype.englishString=function(t){return(t?"functions that take ":"a function that takes ")+this.paramStrEnglish+" "+(t?"and return ":"and returns ")+this.returnType.englishString(!1)},e}(c);e.FunctionType=P;var j=new Set(["char","int","bool","float","double","void"]);e.isBuiltInTypeName=function(t){return j.has(t)},e.builtInTypes={char:m,int:v,bool:_,float:w,double:R,void:l}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),o=n(3),a=n(0),u=n(5);e.createTranslationUnitContext=function(t,e,n){return Object.assign({},t,{translationUnit:e,contextualScope:n})},e.createExpressionContext=function(t,e){return Object.assign({},t,{contextualParameterTypes:e})},e.createFunctionContext=function(t,e){return Object.assign({},t,{containingFunction:e,functionLocals:new y})},e.isBlockContext=function(t){return t.contextualScope instanceof i.BlockScope};var s=function(){function t(e){this.notes=[],this.hasErrors=!1,this.children=[],this.id=t.NEXT_ID++,this.context=e}return t.prototype.attach=function(t){a.asMutable(this.children).push(t),t.onAttach(this)},t.prototype.attachAll=function(t){var e=this;t.forEach(function(t){return e.attach(t)})},t.prototype.setAST=function(t){return a.asMutable(this).ast=t,t.source||a.assertFalse("AST source is undefined. A track() call is likely missing in the grammar."),a.asMutable(this).sourceReference=this.context.translationUnit.getSourceReference(t.source.line,t.source.column,t.source.start,t.source.end),this},t.prototype.explain=function(t,e){return{message:"[No explanation available.]",ignore:!0}},t.prototype.describe=function(t,e){return{message:"[No description available.]",ignore:!1}},t.prototype.addNote=function(t){this.notes.push(t),t.kind===o.NoteKind.ERROR&&(this.hasErrors=!0)},t.prototype.getNearestSourceReference=function(){for(var t=this;!t.sourceReference&&t.parent;)t=t.parent;return t.sourceReference||this.context.translationUnit.getSourceReference(0,0,0,0)},t.NEXT_ID=0,t}();e.CPPConstruct=s;var c=function(){function t(e,n,r){this.observable=new u.Observable(this),this.pushedChildren={},this.isActive=!1,this.isDone=!1,this.pauses={},this.model=e,this.stackType=n,r instanceof t?(a.assert(this.parent!==this,"Code instance may not be its own parent"),this.sim=r.sim,a.assert(r.sim===this.sim,"Runtime construct may not belong to a different simulation than its parent."),this.parent=r,this.parent.addChild(this),r.containingRuntimeFunction&&(this.containingRuntimeFunction=r.containingRuntimeFunction)):this.sim=r,this.stepsTakenAtStart=this.sim.stepsTaken}return t.prototype.stepForward=function(){return this.observable.send("stepForward"),this.stepForwardImpl()},t.prototype.upNext=function(){return this.observable.send("upNext"),this.upNextImpl()},t.prototype.done=function(){this.isDone=!0},t.prototype.setPauseWhenUpNext=function(){this.pauses.upNext={pauseWhenUpNext:!0}},t.prototype.wait=function(){this.observable.send("wait")},t.prototype.pushed=function(){this.isActive=!0,this.observable.send("pushed")},t.prototype.popped=function(){this.isActive=!1,this.observable.send("popped",this)},t.prototype.addChild=function(t){this.pushedChildren[t.model.id]=t,this.observable.send("childPushed",t)},t.prototype.findParentByModel=function(t){for(var e=this.parent;e&&e.model.id!=t.id;)e=e.parent;return e},t.prototype.explain=function(){return this.model.explain(this.sim,this)},t.prototype.describe=function(){return this.model.describe(this.sim,this)},t}();e.RuntimeConstruct=c;var l=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.onAttach=function(t){this.parent=t},e}(s);e.BasicCPPConstruct=l;var f=function(t){function e(e,n){var r=t.call(this,e)||this;return r.addNote(r.note=n(r)),r}return r(e,t),e}(l);e.InvalidConstruct=f;var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.temporaryObjects=[],e}return r(e,t),e.prototype.onAttach=function(t){if(this.parent=t,!this.isFullExpression()){var e=this.findFullExpression();this.temporaryObjects.forEach(function(t){e.addTemporaryObject(t)}),this.temporaryObjects.length=0}this.temporaryObjects.length>0&&(this.temporaryDeallocator=new v(this.context,this.temporaryObjects),this.attach(this.temporaryDeallocator))},e.prototype.isFullExpression=function(){return!(this.parent&&this.parent instanceof e)||!this.parent.isFullExpression()},e.prototype.findFullExpression=function(){return this.isFullExpression()?this:this.parent&&this.parent instanceof e?this.parent.findFullExpression():a.assertFalse("failed to find full expression for "+this)},e.prototype.addTemporaryObject=function(t){a.assert(!this.parent,"Temporary objects may not be added to a full expression after it has been attached."),this.temporaryObjects.push(t),t.setOwner(this)},e.prototype.createTemporaryObject=function(t,e){var n=this.findFullExpression(),r=new i.TemporaryObjectEntity(t,this,n,e);return this.temporaryObjects[r.entityId]=r,r},e}(l);e.PotentialFullExpression=p;var h=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.temporaryObjects={},i.model.temporaryDeallocator&&(i.temporaryDeallocator=i.model.temporaryDeallocator.createRuntimeConstruct(i)),i.containingFullExpression=i.findFullExpression(),i}return r(e,t),e.prototype.findFullExpression=function(){for(var t=this;t instanceof e&&!t.model.isFullExpression()&&t.parent;)t=t.parent;return t instanceof e?t:a.assertFalse()},e.prototype.done=function(){this.temporaryDeallocator&&this.sim.push(this.temporaryDeallocator),t.prototype.done.call(this)},e}(c);e.RuntimePotentialFullExpression=h;var d,y=function(){function t(){this.localObjects=[],this.localReferences=[],this.localVariablesByEntityId={}}return t.prototype.registerLocalVariable=function(t){a.assert(!this.localVariablesByEntityId[t.entityId]),this.localVariablesByEntityId[t.entityId]=t,"AutoEntity"===t.kind?a.asMutable(this.localObjects).push(t):a.asMutable(this.localReferences).push(t)},t}();e.FunctionLocals=y,d||(d={});var m=function(t){function e(e,n,r){var i=t.call(this,e,"function",n)||this;return i.hasControl=!1,i.receiver=r,i.body=i.model.body.createRuntimeStatement(i),i}return r(e,t),e.prototype.pushStackFrame=function(){this.stackFrame=this.sim.memory.stack.pushFrame(this)},e.prototype.setReturnObject=function(t){a.assert(!this.returnObject),this.returnObject=t},e.prototype.gainControl=function(){this.hasControl=!0,this.observable.send("gainControl")},e.prototype.loseControl=function(){this.hasControl=!0,this.observable.send("loseControl")},e.prototype.stepForwardImpl=function(){},e.prototype.upNextImpl=function(){this.body.isDone?this.sim.pop():this.sim.push(this.body)},e}(c);e.RuntimeFunction=m;var v=function(t){function e(e,n){var r=t.call(this,e)||this;return r.temporaryObjects=n,r}return r(e,t),e.prototype.createRuntimeConstruct=function(t){return new b(this,t)},e}(l);e.TemporaryDeallocator=v;var b=function(t){function e(e,n){var r=t.call(this,e,"expression",n)||this;return r.index=0,r.justDestructed=!1,r}return r(e,t),e.prototype.upNextImpl=function(){var t=this.model.temporaryObjects.map(function(t){return null});this.index<t.length?(this.sim.memory.deallocateTemporaryObject(this.model.temporaryObjects[this.index].runtimeLookup(this)),++this.index):this.sim.pop()},e.prototype.stepForwardImpl=function(){return!1},e}(c);e.RuntimeTemporaryDeallocator=b;var _=function(t){function e(e,n){var r=t.call(this,e)||this;return r.addNote(o.CPPError.lobster.unsupported_feature(r,n)),r}return r(e,t),e}(l);e.UnsupportedConstruct=_;var g=function(t){function e(e,n){var r=t.call(this,e)||this;return r.globalObjects=n,r}return r(e,t),e.prototype.onAttach=function(t){throw new Error("Method not implemented.")},e.prototype.createRuntimeConstruct=function(t){return new w(this,t)},e}(s);e.GlobalObjectAllocator=g;var w=function(t){function e(e,n){var r=t.call(this,e,"statement",n)||this;return r.index=0,r}return r(e,t),e.prototype.upNextImpl=function(){if(this.index<this.model.globalObjects.length){var t=this.model.globalObjects[this.index];this.sim.memory.allocateStatic(t),t.initializer&&this.sim.push(t.initializer.createRuntimeInitializer(this)),++this.index}else this.sim.pop()},e.prototype.stepForwardImpl=function(){return!1},e}(c);e.RuntimeGlobalObjectAllocator=w},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(2),a=n(1);!function(t){t.ERROR="error",t.WARNING="warning",t.STYLE="style",t.OTHER="other"}(i=e.NoteKind||(e.NoteKind={}));var u=function(){return function(t,e,n){this.kind=t,this.id=e,this.message=n}}();e.Note=u;var s=function(t){function e(e,n,r,i){var o=t.call(this,n,r,i)||this;return o.primarySourceReference=e,o.allSourceReferences=[e],o}return r(e,t),e}(u),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(s);e.PreprocessorNote=c;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(s);e.SyntaxNote=l;var f=function(t){function e(e,n,r,i){var a=t.call(this,n,r,i)||this;return a.constructs=e instanceof o.CPPConstruct?[e]:e,a.primaryConstruct=a.constructs[0],a}return r(e,t),Object.defineProperty(e.prototype,"primarySourceReference",{get:function(){return this.primaryConstruct.getNearestSourceReference()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allSourceReferences",{get:function(){return this.constructs.map(function(t){return t.getNearestSourceReference()})},enumerable:!0,configurable:!0}),e}(u),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(f);e.CompilerNote=p;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(f);e.LinkerNote=h,e.CPPError={other:{cin_not_supported:function(t){return new p(t,i.ERROR,"other.cin_not_supported","Sorry, <span class='code'>cin</span> is not supported yet :(.")}},class_def:{prev_def:function(t,e,n){return new p(t,i.ERROR,"class_def.prev_def",e+" cannot be defined more than once. Note that Lobster just puts all class names (i.e. types) in one global sort of namespace, so you can't ever have two classes of the same name.")},base_class_type:function(t,e){return new p(t,i.ERROR,"class_def.base_class_type",'I cannot find a suitable class called "'+e+'" to use as a base.')},big_three:function(t,e,n){var r=e.join(" and "),o=n.join(" and ");return new p(t,i.WARNING,"class_def.big_three","This class does not follow the rule of the Big Three. It has a custom implementation for the "+r+" but not for the "+o+'. The compiler will provide implicit versions of the missing ones, but they will almost certainly work "incorrectly" (e.g. make shallow copies or neglect to delete dynamic memory).')},multiple_inheritance:function(t){return new p(t,i.ERROR,"class_def.multiple_inheritance","Sorry, but Lobster does not support multiple inheritance.")},virtual_inheritance:function(t){return new p(t,i.ERROR,"class_def.virtual_inheritance","Sorry, but Lobster does not support virtual inheritance.")},ctor_def:function(t){return new p(t,i.ERROR,"class_def.ctor_def","Sorry, but for now Lobster only supports constructors that are defined inline. (i.e. You need a body.)")},dtor_def:function(t){return new p(t,i.ERROR,"class_def.dtor_def","Sorry, but for now Lobster only supports destructors that are defined inline. (i.e. You need a body.)")}},declaration:{ctor:{copy:{pass_by_value:function(t,e,n){var r=new a.ReferenceType(e,!0);return new p(t,i.ERROR,"declaration.ctor.copy.pass_by_value","A copy constructor cannot take its parameter by value. Because pass-by-value itself uses the copy constructor, this would cause infinite recursion if it were allowed. Try passing by const reference instead! (i.e. "+r.typeString(!1,n,!1)+")")}},init:{no_such_member:function(t,e,n){return new p(t,i.ERROR,"declaration.ctor.init.no_such_member","Class "+e.toString()+" has no member named "+n+".")},improper_member:function(t,e,n){return new p(t,i.ERROR,"declaration.ctor.init.improper_member","A member initializer can only be used for non-static data members. There is no such member named "+n+" in the "+e.className+" class.")},delegating_only:function(t,e,n){return new p(t,i.ERROR,"declaration.ctor.init.delegating_only","If a constructor's initializer list delegates to another constructor from the same class, that must be the only thing it does.")},multiple_base_inits:function(t,e,n){return new p(t,i.ERROR,"declaration.ctor.init.multiple_base_inits","A constructor's initializer list cannot specify more than one base class constructor to use.")}}},dtor:{no_destructor_auto:function(t,e){return new p(t,i.ERROR,"declaration.dtor.no_destructor_auto","The local variable "+e.name+' needs to be destroyed when it "goes out of scope", but I can\'t find a destructor for the '+e.type+" class. The compiler sometimes provides one implicitly for you, but not if one of its members or its base class are missing a destructor. (Or, if you've violated the rule of the Big Three.)")},no_destructor_temporary:function(t,e){return new p(t,i.ERROR,"declaration.dtor.no_destructor_temporary","This expression creates a temporary object of type "+e.type+" that needs to be destroyed, but I can't find a destructor for the "+e.type+" class. The compiler sometimes provides one implicitly for you, but not if one of its members or its base class are missing a destructor. (Or, if you've violated the rule of the Big Three.)")}},prev_def:function(t,e){return new p(t,i.ERROR,"declaration.prev_def",e+" cannot be defined more than once in this scope.")},prev_local:function(t,e){return new p(t,i.ERROR,"declaration.prev_local","This declaration of a local variable "+e+' + " conflicts with an earlier declaration of '+e+" in the same scope.")},func:{return_array:function(t){return new p(t,i.ERROR,"declaration.func.return_array","Cannot declare a function that returns an array.")},return_func:function(t){return new p(t,i.ERROR,"declaration.func.return_func","Cannot declare a function that returns a function. Try returning a function pointer?")},invalid_return_type:function(t,e){return new p(t,i.ERROR,"declaration.func.invalid_return_type","The type "+e.toString()+" is not allowed as a return type.")},some_invalid_parameter_types:function(t){return new p(t,i.ERROR,"declaration.func.some_invalid_parameter_types","This function type contains some invalid parameter types.")},array:function(t){return new p(t,i.ERROR,"declaration.func.array","Cannot declare an array of functions.")},void_param:function(t){return new p(t,i.ERROR,"declaration.func.void_param","Function parameters may not have void type.")},op_member:function(t){return new p(t,i.ERROR,"declaration.func.op_member","This operator must be overloaded as a non-static member function.")},op_subscript_one_param:function(t){return new p(t,i.ERROR,"declaration.func.op_subscript_one_param","An overloaded subscript ([]) operator must take exactly one parameter.")},returnTypesMatch:function(t,e){return new p(t,i.ERROR,"declaration.func.returnTypesMatch","Cannot redeclare function "+e+" with the same parameter types but a different return type.")},mainParams:function(t){return new p(t,i.ERROR,"declaration.func.mainParams","Sorry, but for now command line arguments (and thus parameters for main) are not supported in Lobster.")},no_return_type:function(t){return new p(t,i.ERROR,"declaration.func.no_return_type","You must specify a return type for this function. (Or if you meant it to be a constructor, did you misspell the name?)")},nonCovariantReturnType:function(t,e,n){return new p(t,i.ERROR,"declaration.func.nonCovariantReturnType","Return types in overridden virtual functions must either be the same or covariant (i.e. follow the Liskov Substitution Principle). Both return types must be pointers/references to class types, and the class type in the overriding function must be the same or a derived type. There are also restrictions on the cv-qualifications of the return types. In this case, returning a "+e+" in place of a "+n+" violates covariance.")},definition_non_function_type:function(t){return new p(t,i.ERROR,"declaration.func.definition_non_function_type","This appears to be a function definition, but the declarator does not indicate a function type. Maybe you forgt the parentheses?")}},pointer:{reference:function(t){return new p(t,i.ERROR,"declaration.pointer.reference","Cannot declare a pointer to a reference.")},void:function(t){return new p(t,i.ERROR,"declaration.pointer.void","Sorry, Lobster does not support void pointers.")},invalid_pointed_type:function(t,e){return new p(t,i.ERROR,"declaration.pointer.invalid_pointed_type","A pointer to type "+e.toString()+" is not allowed.")}},ref:{ref:function(t){return new p(t,i.ERROR,"declaration.ref.ref","A reference to a reference is not allowed.")},array:function(t){return new p(t,i.ERROR,"declaration.ref.array","Cannot declare an array of references.")},invalid_referred_type:function(t,e){return new p(t,i.ERROR,"declaration.ref.invalid_referred_type","A reference to type "+e.toString()+" is not allowed.")},memberNotSupported:function(t){return new p(t,i.ERROR,"declaration.ref.memberNotSupported","Sorry, reference members are not supported at the moment.")}},array:{length_required:function(t){return new p(t,i.ERROR,"declaration.array.length_required","Must specify length as an integer literal when declaring an array. (Sorry, but Lobster requires this for now even if it could hypothetically be deduced from the initializer.)")},zero_length:function(t){return new p(t,i.ERROR,"declaration.array.zero_length","Although technically allowed in C++, arrays with zero length are prohibited in Lobster.")},multidimensional_arrays_unsupported:function(t){return new p(t,i.ERROR,"declaration.array.multidimensional_arrays_unsupported","Sorry, Lobster currently doesn't support multidimensional arrays.")},invalid_element_type:function(t,e){return new p(t,i.ERROR,"declaration.array.invalid_element_type","The type "+e.toString()+" is not allowed as an array parameter.")}},init:{scalar_args:function(t,e){return new p(t,i.ERROR,"declaration.init.scalar_args","Invalid initialization of scalar type "+e+" from multiple values.")},array_string_literal:function(t,e){return new p(t,i.ERROR,"declaration.init.array_string_literal","Cannot direct/copy initialize an array of type "+e+". The only allowed direct/copy initialization of an array is to initialize an array of char from a string literal.")},convert:function(t,e,n){return new p(t,i.ERROR,"declaration.init.convert","Invalid conversion from "+e+" to "+n+".")},list_narrowing:function(t,e,n){return new p(t,i.ERROR,"declaration.init.list_narrowing","Implicit narrowing conversion from "+e+" to "+n+" is not allowed in initializer list.")},list_array:function(t){return new p(t,i.ERROR,"declaration.init.list_array","Initializer list syntax only supported for arrays.")},list_length:function(t,e){return new p(t,i.ERROR,"declaration.init.list_length","Length of initializer list must match length of array ("+e+").")},matching_constructor:function(t,e,n){var r=e.describe();return new p(t,i.ERROR,"declaration.init.matching_constructor","Trying to initialize "+(r.name||r.message)+", but unable to find a matching constructor definition for the "+e.type.className+" class using the given arguments ("+n.join(", ")+").")},no_default_constructor:function(t,e){var n=e.describe();return new p(t,i.ERROR,"declaration.init.no_default_constructor","This calls for the default initialization of "+(n.name||n.message)+", but I can't find a default constructor (i.e. taking no arguments) for the "+e.type.className+" class. The compiler usually provides an implicit one for you, but not if you have declared other constructors (under the assumption you would want to use one of those).")},referencePrvalueConst:function(t){return new p(t,i.ERROR,"declaration.init.referencePrvalueConst","You cannot bind a non-const reference to a prvalue (e.g. a temporary object).")},referenceType:function(t,e,n){return new p(t,i.ERROR,"declaration.init.referenceType","A reference (of type "+n+") cannot be bound to an object of a different type ("+e+").")},referenceBind:function(t){return new p(t,i.ERROR,"declaration.init.referenceBind","References must be bound to something when they are declared.")},referenceBindMultiple:function(t){return new p(t,i.ERROR,"declaration.init.referenceBindMultiple","References cannot be bound to multiple objects.")},stringLiteralLength:function(t,e,n){return n===e-1?new p(t,i.ERROR,"declaration.init.stringLiteralLength","Your array is one element too short. Remember, when initializing a character array (i.e. a c-string) with a string literal, an extra \\0 (null character) is automatically appended."):n>e?new p(t,i.WARNING,"declaration.init.stringLiteralLength","Your array (length "+n+") is longer than it needs to be to hold the string literal (length "+e+"). The remaining character elements will be zero-initialized."):new p(t,i.ERROR,"declaration.init.stringLiteralLength","The string literal used for initialization (length "+e+") cannot fit in the declared array (length "+n+").")},uninitialized:function(t,e){return new p(t,i.WARNING,"declaration.init.uninitialized",(e.describe().name||e.describe().message)+" is uninitialized, so it will start with whatever value happens to be in memory (i.e. memory junk). If you try to use this variable before initializing it, who knows what will happen!")},array_default_init:function(t){return new p(t,i.WARNING,"declaration.init.array_default_init","Note: Default initialization of an array requires default initialization of each of its elements.")},array_direct_init:function(t){return new p(t,i.OTHER,"declaration.init.array_direct_init","Note: initialization of an array requires initialization of each of its elements.")}},storage:{once:function(t,e){return new p(t,i.ERROR,"declaration.storage.once","Storage specifier ("+e+") may only be used once.")},incompatible:function(t,e){return new p(t,i.ERROR,"declaration.storage.incompatible","Storage specifiers ( "+e.join(" ")+") are incompatible with each other.")}},typeSpecifier:{once:function(t,e){return new p(t,i.ERROR,"declaration.typeSpecifier.once","Type specifier ("+e+") may only be used once.")},one_type:function(t,e){return new p(t,i.ERROR,"declaration.typeSpecifier.one_type","Type specifier must only specify one type. Found: "+e+".")},signed_unsigned:function(t){return new p(t,i.ERROR,"type.signed_unsigned","Type specifier may not indicate both signed and unsigned.")}},friend:{outside_class:function(t){return new p(t,i.ERROR,"declaration.friend.outside_class","Friend declarations are not allowed here.")},virtual_prohibited:function(t){return new p(t,i.ERROR,"declaration.friend.virtual_prohibited","A virtual function may not be declared as a friend.")}},parameter:{storage_prohibited:function(t){return new p(t,i.ERROR,"declaration.parameter.storage_prohibited","Storage specifiers are not permitted in parameter declarations.")},virtual_prohibited:function(t){return new p(t,i.ERROR,"declaration.friend.virtual_prohibited","A virtual function may not be declared as a friend.")}},unknown_type:function(t){return new p(t,i.ERROR,"declaration.unknown_type","Unable to determine the type declared here.")},void_prohibited:function(t){return new p(t,i.ERROR,"declaration.void_prohibited","The variable "+(t.declarator.name||"here")+" may not be declared as type void.")},virtual_prohibited:function(t){return new p(t,i.ERROR,"declaration.virtual_prohibited","The virtual keyword may only be used in member function declarations.")},type_mismatch:function(t,e,n){return new p(t,i.ERROR,"declaration.type_mismatch","Type mismatch. This declaration for "+e.name+" has type "+e.type+", but a previous declaration of "+n.name+" has type "+n.type)}},type:{unsigned_not_supported:function(t){return new p(t,i.WARNING,"type.unsigned_not_supported","Sorry, unsigned integral types are not supported yet. It will just be treated like a normal int.")},storage:function(t){return new p(t,i.WARNING,"type.storage","Because of the way Lobster works, storage class specifiers (e.g. static) have no effect.")},typeNotFound:function(t,e){return new p(t,i.ERROR,"type.typeNotFound","Oops, this is embarassing... I feel like "+e+" should be a type, but I can't figure out what it is.")}},expr:{array_operand:function(t,e){return new p(t,i.ERROR,"expr.array_operand","Type "+e+" cannot be subscripted.")},array_offset:function(t,e){return new p(t,i.ERROR,"expr.array_offset","Invalid type ("+e+") for array subscript offset.")},assignment:{lhs_lvalue:function(t){return new p(t,i.ERROR,"expr.assignment.lhs_lvalue","Lvalue required as left operand of assignment.")},lhs_const:function(t){return new p(t,i.ERROR,"expr.assignment.lhs_const","Left hand side of assignment is not modifiable.")},convert:function(t,e,n){return new p(t,i.ERROR,"expr.assignment.convert","Cannot convert "+n.type+" to "+e.type+" in assignment.")},self:function(t,e){return new p(t,i.WARNING,"expr.assignment.self","Self assignment from "+(e.describe().name||e.describe().message)+" to itself.")}},binary:{arithmetic_operands:function(t,e,n,r){return new p(t,i.ERROR,"expr.binary.arithmetic_operands","Invalid operand types ("+n.type+", "+r.type+") for operator "+e+", which requires operands of arithmetic type.")},integral_operands:function(t,e,n,r){return new p(t,i.ERROR,"expr.binary.integral_operands","Invalid operand types ("+n.type+", "+r.type+") for operator "+e+", which requires operands of integral type.")},boolean_operand:function(t,e,n){return new p(t,i.ERROR,"expr.binary.boolean_operand","Invalid operand type ("+n.type+") for operator "+e+", which requires operands that may be converted to boolean type.")},arithmetic_common_type:function(t,e,n,r){return new p(t,i.ERROR,"expr.binary.arithmetic_common_type","Performing the usual arithmetic conversions yielded operands of types ("+n.type+", "+r.type+") for operator "+e+", but a common arithmetic type could not be found.")}},unary:{},delete:{no_destructor:function(t,e){return new p(t,i.ERROR,"expr.delete.no_destructor","I can't find a destructor for the "+e+" class. The compiler sometimes provides one implicitly for you, but not if one of its members or its base class are missing a destructor. (Or, if you've violated the rule of the Big Three.)")},pointer:function(t,e){return new p(t,i.ERROR,"expr.delete.pointer","The delete operator requires an operand of pointer type. (Current operand is "+e+" ).")},pointerToObjectType:function(t,e){return new p(t,i.ERROR,"expr.delete.pointerToObjectType","The delete operator cannot be used with a pointer to a non-object type (e.g. void pointers, function pointers). (Current operand is "+e+" ).")}},dereference:{pointer:function(t,e){return new p(t,i.ERROR,"expr.dereference.pointer","The dereference operator (*) requires an operand of pointer type. (Current operand is "+e+" ).")},pointerToObjectType:function(t,e){return new p(t,i.ERROR,"expr.dereference.pointerToObjectType","Pointers to a non-object, non-function type (e.g. void pointers) cannot be dereferenced. (Current operand is "+e+" ).")}},dot:{class_type:function(t){return new p(t,i.ERROR,"expr.dot.class_type","The dot operator can only be used to access members of an operand with class type.")},no_such_member:function(t,e,n){return new p(t,i.ERROR,"expr.dot.no_such_member","Operand of type "+e+" has no member named "+n+".")},memberLookup:function(t,e,n){return new p(t,i.ERROR,"expr.dot.memberLookup","Member lookup for "+n+" in class "+e+" failed...")}},arrow:{class_pointer_type:function(t){return new p(t,i.ERROR,"expr.arrow.class_pointer_type","The arrow operator can only be used to access members of an operand with pointer-to-class type.")},no_such_member:function(t,e,n){return new p(t,i.ERROR,"expr.arrow.no_such_member","Operand of type "+e+" has no member named "+n+".")},memberLookup:function(t,e,n){return new p(t,i.ERROR,"expr.arrow.memberLookup","Member lookup for "+n+" in class "+e+" failed...")}},invalid_operand:function(t,e,n){return new p(t,i.ERROR,"expr.invalid_operand","Invalid operand type ("+n.type+") for operator "+e+".")},lvalue_operand:function(t,e){return new p(t,i.ERROR,"expr.lvalue_operand","The "+e+" operator requires an lvalue operand.")},invalid_binary_operands:function(t,e,n,r){return n.type.isPointerType()&&a.sameType(n.type.ptrTo,r.type)?new p(t,i.ERROR,"expr.invalid_binary_operands","The types of the operands used for the "+e+" operator aren't quite compatible. The one on the right is "+r.type.englishString(!1)+", but the left is a pointer to that type. Think about whether you want to compare pointers (addresses) or the objects they point to."):r.type.isPointerType()&&a.sameType(r.type.ptrTo,n.type)?new p(t,i.ERROR,"expr.invalid_binary_operands","The types of the operands used for the "+e+" operator aren't quite compatible. The one on the left is "+n.type.englishString(!1)+", but the right is a pointer to that type.  Think about whether you want to compare pointers (addresses) or the objects they point to."):new p(t,i.ERROR,"expr.invalid_binary_operands","Invalid operand types ("+n.type+", "+r.type+") for operator "+e+".")},logicalNot:{operand_bool:function(t,e){return new p(t,i.ERROR,"expr.logicalNot.operand_bool","Expression of type ("+e.type+") cannot be converted to boolean (as required for the operand of logical not).")}},addressOf:{lvalue_required:function(t){return new p(t,i.ERROR,"expr.addressOf.lvalue_required","Operand for address-of operator (&) must be an lvalue.")}},ternary:{condition_bool:function(t,e){return new p(t,i.ERROR,"expr.ternary.condition_bool","Expression of type ("+e+") cannot be converted to boolean condition.")},sameValueCategory:function(t){return new p(t,i.ERROR,"expr.ternary.sameValueCategory","The second and third operands of the ternary operator must yield a common value category.")}},unaryPlus:{operand:function(t){return new p(t,i.ERROR,"expr.unaryPlus.operand","The unary plus operator (+) requires an operand of arithmetic or pointer type.")}},unaryMinus:{operand:function(t){return new p(t,i.ERROR,"expr.unaryMinus.operand","The unary minus operator (-) requires an operand of arithmetic type.")}},functionCall:{main:function(t){return new p(t,i.ERROR,"expr.functionCall.main","You can't explicitly call main.")},numParams:function(t){return new p(t,i.ERROR,"expr.functionCall.numParams","Improper number of arguments for this function call.")},invalid_operand_expression:function(t,e){return new p(t,i.ERROR,"expr.functionCall.invalid_operand_expression","The expression "+e+" cannot be called as a function.")},operand:function(t,e){return new p(t,i.ERROR,"expr.functionCall.operand","Operand of type "+e.type+" cannot be called as a function.")},paramType:function(t,e,n){return new p(t,i.ERROR,"expr.functionCall.paramType","Cannot convert "+e+" to "+n+" in function call parameter.")},paramReferenceType:function(t,e,n){return new p(t,i.ERROR,"expr.functionCall.paramReferenceType","The given argument (of type "+e+") cannot be bound to a reference parameter of a different type ("+n+").")},paramReferenceLvalue:function(t){return new p(t,i.ERROR,"expr.functionCall.paramReferenceLvalue","For now, you cannot bind a non-lvalue as a reference parameter in Lobster. (i.e. you have to bind a variable)")},not_defined:function(t,e,n){return new p(t,i.ERROR,"expr.functionCall.not_defined","A function call operator with parameters of types ("+n.map(function(t){return t.toString()}).join(", ")+") for the class type "+e+" has not been defined.")}},thisExpr:{memberFunc:function(t){return new p(t,i.ERROR,"expr.thisExpr.memberFunc","You may only use the </span class='code'>this</span> keyword in non-static member functions.")}}},iden:{ambiguous:function(t,e){return new p(t,i.ERROR,"iden.ambiguous",'"'+e+'" is ambiguous. (There is not enough contextual type information for name lookup to figure out which entity this identifier refers to.)')},no_match:function(t,e){return new p(t,i.ERROR,"iden.no_match",'No matching function found for call to "'+e+'" with these parameter types.')},keyword:function(t,e){return new p(t,i.ERROR,"iden.keyword",'"'+e+'" is a C++ keyword and cannot be used as an identifier.')},alt_op:function(t,e){return new p(t,i.ERROR,"iden.alt_op",'"'+e+'" is a C++ operator and cannot be used as an identifier.')}},param:{numParams:function(t){return new p(t,i.ERROR,"param.numParams","Improper number of arguments.")},paramType:function(t,e,n){return new p(t,i.ERROR,"param.paramType","Cannot convert "+e+" to a parameter of type "+n+".")},paramReferenceType:function(t,e,n){return new p(t,i.ERROR,"param.paramReferenceType","The given argument (of type "+e+") cannot be bound to a reference parameter of a different type ("+n+").")},paramReferenceLvalue:function(t){return new p(t,i.ERROR,"param.paramReferenceLvalue","For now, you cannot bind a non-lvalue as a reference parameter in Lobster. (i.e. you have to bind a variable)")},thisConst:function(t,e){return new p(t,i.ERROR,"param.thisConst","A non-const member function cannot be called on a const instance of the "+e+" class.")}},stmt:{function_definition_prohibited:function(t){return new p(t,i.ERROR,"stmt.function_definition_prohibited","A function definition is prohibited here (i.e. inside a statement).")},selection:{condition_bool:function(t,e){return new p(e,i.ERROR,"stmt.selection.condition_bool","Expression of type ("+e.type+") cannot be converted to boolean condition.")}},iteration:{condition_bool:function(t,e){return new p(e,i.ERROR,"stmt.iteration.condition_bool","Expression of type ("+e.type+") cannot be converted to boolean condition.")}},breakStatement:{location:function(t){return new p(t,i.ERROR,"stmt.breakStatement.location","Break statements may only occur inside loops or case statements.")}},returnStatement:{empty:function(t){return new p(t,i.ERROR,"stmt.returnStatement.empty","A return statement without an expression is only allowed in void functions.")},exprVoid:function(t){return new p(t,i.ERROR,"stmt.returnStatement.exprVoid","A return statement with an expression of non-void type is only allowed in a non-void function.")},convert:function(t,e,n){return new p(t,i.ERROR,"stmt.returnStatement.convert","Cannot convert "+e+" to return type of "+n+" in return statement.")}}},link:{library_unsupported:function(t,e){return new h(t,i.ERROR,"link.library_unsupported","I'm sorry, but this function ("+e+") is a part of the standard library that isn't currently supported.")},multiple_def:function(t,e){return new h(t,i.ERROR,"link.multiple_def","Multiple definitions found for "+e+".")},type_mismatch:function(t,e,n){return new h(t,i.ERROR,"link.type_mismatch","Multiple declarations found for "+e.name+", but with different types.")},class_same_tokens:function(t,e,n){return new h(t,i.ERROR,"link.class_same_tokens","Multiple class definitions are ok if they are EXACTLY the same in the source code. However, the multiple definitions found for "+e.name+" do not match exactly.")},func:{def_not_found:function(t,e){return new h(t,i.ERROR,"link.func.def_not_found","Cannot find definition for function "+e.name+". That is, the function is declared and I know what it is, but I can't find the actual code that implements it.")},no_matching_overload:function(t,e){return new h(t,i.ERROR,"link.func.no_matching_overload","Although some definitions for a function named "+e.name+" exist, I can't find one with the right signature to match this declaration.")},returnTypesMatch:function(t,e){return new h(t,i.ERROR,"link.func.returnTypesMatch","This declaration of the function "+e.name+" has a different return type than its definition.")}},def_not_found:function(t,e){return new h(t,i.ERROR,"link.def_not_found","Cannot find definition for object "+e.name+". (It is declared, so I know it's a variable and what type it is, but it's never defined anywhere.)")}},preprocess:{recursiveInclude:function(t){return new c(t,i.WARNING,"preprocess.recursiveInclude","Recursive #include detected. (i.e. A file #included itself, or #included a different file that then #includes the original, etc.)")}},lobster:{unsupported_feature:function(t,e){return new p(t,i.ERROR,"lobster.unsupported_feature","Sorry, you have used a C++ feature ("+e+") that is not currently supported in Lobster.")},referencePrvalue:function(t){return new p(t,i.ERROR,"lobster.referencePrvalue","Sorry, Lobster does not yet support binding references (even if they are reference-to-const) to prvalues (e.g. temporary objects).")},ternarySameType:function(t,e,n){return new p(t,i.ERROR,"lobster.ternarySameType","Lobster's ternary operator requires second and third operands of the same type. The given operands have types "+e+" and "+n+".")},ternaryNoVoid:function(t){return new p(t,i.ERROR,"lobster.ternaryNoVoid","Lobster's ternary operator does not allow void operands.")}}}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(0),a=n(5),u=n(2),s=n(9),c=n(3),l=function(){function t(t){this.entities={},this.parent=t}return t.prototype.toString=function(){var t="";for(var e in this.entities)t+=this.entities[e]+"\n";return t},t.prototype.addDeclaredEntity=function(t){var e=this.entities[t.name];return e?t.mergeInto(e):this.entities[t.name]=t instanceof C?[t]:t},t.prototype.lookup=function(t,e){void 0===e&&(e={kind:"normal"}),e=e||{},o.assert(!t.includes("::"),"Qualified name used with unqualified loookup function.");var n=this.entities[t];if(!n&&!e.own&&this.parent)return this.parent.lookup(t,e);if(n){if(Array.isArray(n)){var r=n;if("exact"===e.kind){var i=e.paramTypes,a=e.receiverType;return r=n.filter(function(t){return t.type.sameParamTypes(i)?t.type.sameParamTypes(i):a?t.type.receiverType&&a.isConst===t.type.isConst:!t.type.receiverType})}return r}return n}},t}();e.Scope=l;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(l);e.BlockScope=f;var p=function(t){function e(n,r){var i=t.call(this,r)||this;return o.assert(!r||r instanceof e),i.name=n,i.children={},r&&r.addChild(i),i}return r(e,t),e.prototype.addChild=function(t){t.name&&(this.children[t.name]=t)},e}(l);e.NamespaceScope=p;var h=function(){function t(e){this.observable=new a.Observable(this),this.entityId=t._nextEntityId++,this.type=e}return t._nextEntityId=0,t}();e.CPPEntity=h;var d=function(t){function e(e,n){var r=t.call(this,e)||this;return r.name=n,r}return r(e,t),e}(h);e.NamedEntity=d;var y=function(t){function e(e,n){var r=t.call(this,e,n.name)||this;return r.declaration=n,r}return r(e,t),e}(d);e.DeclaredEntityBase=y;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.mergeInto=function(t){if(Array.isArray(t))throw c.CPPError.declaration.type_mismatch(this.declaration,this,t[0]);if(!i.sameType(this.type,t.type))throw c.CPPError.declaration.type_mismatch(this.declaration,this,t);return t},e}(y);e.DeclaredObjectEntity=m;var v=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.kind="AutoEntity",i.definition=n,i.isParameter=!!r,i}return r(e,t),e.prototype.toString=function(){return this.name+" ("+this.type+")"},e.prototype.mergeInto=function(t){throw c.CPPError.declaration.prev_local(this.declaration,this.name)},e.prototype.runtimeLookup=function(t){return t.containingRuntimeFunction.stackFrame.getLocalObject(this)},e.prototype.describe=function(){return{message:"the "+(this.isParameter?"parameter":"local variable")+" "+this.name}},e}(m);e.AutoEntity=v;var b=function(t){function e(e,n,r){void 0===r&&(r=!1);var i=t.call(this,e,n)||this;return i.kind="LocalReferenceEntity",i.isParameter=r,i}return r(e,t),e.prototype.mergeInto=function(t){throw c.CPPError.declaration.prev_local(this.declaration,this.name)},e.prototype.bindTo=function(t,e){t.containingRuntimeFunction.stackFrame.bindReference(this,e)},e.prototype.runtimeLookup=function(t){return t.containingRuntimeFunction.stackFrame.referenceLookup(this)},e.prototype.describe=function(){return{message:"the "+(this.isParameter?"reference parameter":"reference")+" "+this.name}},e}(m);e.LocalReferenceEntity=b;var _=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.qualifiedName="::"+r.name,r}return r(e,t),e.prototype.toString=function(){return this.name+" ("+this.type+")"},e.prototype.link=function(t){t&&!Array.isArray(t)?this.definition=t:this.declaration.addNote(c.CPPError.link.def_not_found(this.declaration,this))},e.prototype.runtimeLookup=function(t){return t.sim.memory.staticLookup(this)},e.prototype.describe=function(){return{name:this.name,message:"the variable "+this.name}},e}(m);e.StaticEntity=_;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.runtimeLookup=function(t){var e=t.containingRuntimeFunction.returnObject;if(!e)throw"Error: Runtime lookup performed for the return object of a function, but the return object does not currently exist.";return e},e.prototype.describe=function(){return{message:"the return object"}},e}(h);e.ReturnObjectEntity=g;var w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.bindTo=function(t,e){t.containingRuntimeFunction.setReturnObject(e)},e.prototype.describe=function(){return{message:"the object returned by reference"}},e}(h);e.ReturnByReferenceEntity=w;var R=function(t){function e(e){var n=t.call(this,new i.BoundedArrayType(new i.Char(!0),e.length+1))||this;return n.str=e,n}return r(e,t),e.prototype.objectInstance=function(t,e){return new s.StringLiteralObject(this.type,t,e)},e.prototype.toString=function(){return'string literal "'+o.unescapeString(this.str)+'"'},e.prototype.runtimeLookup=function(t){return t.sim.memory.getStringLiteral(this.str)},e.prototype.describe=function(){return{message:'the string literal "'+o.unescapeString(this.str)+'"'}},e}(h);e.StringLiteralEntity=R;var T=function(t){function e(e,n,r){var a=t.call(this,n)||this;return a.calledFunction=e,a.type=n,a.num=r,o.assert(i.sameType(e.type.paramTypes[r],n),"Inconsistent type for parameter entity."),a}return r(e,t),e.prototype.runtimeLookup=function(t){var e=t.sim.topFunction(),n=e.model.parameters[this.num].declaredEntity;if(!(n instanceof v))return o.assertFalse("Pass by value used with reference parameter.");var r=n.runtimeLookup(e);return o.assert(i.sameType(r.type,this.type)),r},e.prototype.describe=function(){var t=this.calledFunction.definition;return t?t.parameters[this.num].declaredEntity.describe():{message:"Parameter #"+(this.num+1)+" of the called function"}},e}(h);e.PassByValueParameterEntity=T;var x=function(t){function e(e,n,r){var a=t.call(this,n)||this;return a.calledFunction=e,a.type=n,a.num=r,o.assert(i.sameType(e.type.paramTypes[r],n),"Inconsistent type for parameter entity."),a}return r(e,t),e.prototype.bindTo=function(t,e){var n=t.sim.topFunction(),r=n.model.parameters[this.num].declaredEntity;if(!(r instanceof b))return o.assertFalse("Pass by reference used with non-reference parameter.");r.bindTo(n,e)},e.prototype.describe=function(){var t=this.calledFunction.definition;return t?t.parameters[this.num].declaredEntity.describe():{message:"Parameter #"+(this.num+1)+" of the called function"}},e}(h);e.PassByReferenceParameterEntity=x;var E=function(t){function e(e,n){var r=t.call(this,e.type.elemType)||this;return r.arrayEntity=e,r.index=n,r}return r(e,t),e.prototype.runtimeLookup=function(t){return this.arrayEntity.runtimeLookup(t).getArrayElemSubobject(this.index)},e.prototype.describe=function(){var t=this.arrayEntity.describe(),e={message:"element "+this.index+" of "+t.message};return t.name&&(e.name=t.name+"["+this.index+"]"),e},e}(h);e.ArraySubobjectEntity=E;var A=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.creator=n,o.owner=r,o.name=name,o}return r(e,t),e.prototype.setOwner=function(t){this.owner=t},e.prototype.objectInstance=function(t){var e=t.sim.memory.allocateTemporaryObject(this);return t.containingFullExpression.temporaryObjects[this.entityId]=e,e},e.prototype.runtimeLookup=function(t){return t instanceof u.RuntimePotentialFullExpression?t.containingFullExpression.temporaryObjects[this.entityId]:o.assertFalse()},e.prototype.describe=function(){return{message:this.name}},e._name="TemporaryObjectEntity",e}(h);e.TemporaryObjectEntity=A;var C=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.qualifiedName="::"+r.name,r}return r(e,t),e.prototype.isStaticallyBound=function(){return!0},Object.defineProperty(e.prototype,"isVirtual",{get:function(){return!1},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.name},e.prototype.nameString=function(){return this.name},e.prototype.mergeInto=function(t){if(Array.isArray(t)){var e=O(t,this.type);if(!e)return t.push(this),this;if(!this.type.sameReturnType(e.type))throw c.CPPError.declaration.func.returnTypesMatch([this.declaration,e.declaration],this.name);if(!i.sameType(this.type,e.type))throw c.CPPError.declaration.type_mismatch(this.declaration,this,e);return e}throw c.CPPError.declaration.type_mismatch(this.declaration,this,t)},e.prototype.link=function(t){if(t&&Array.isArray(t)){var e=S(t,this.type);e?this.type.sameReturnType(e.declaration.type)?this.definition=e:this.declaration.addNote(c.CPPError.link.func.returnTypesMatch(this.declaration,this)):this.declaration.addNote(c.CPPError.link.func.no_matching_overload(this.declaration,this))}else this.declaration.addNote(c.CPPError.link.func.def_not_found(this.declaration,this))},e.prototype.isMain=function(){return"::main"===this.qualifiedName},e.prototype.describe=function(){throw new Error("Method not implemented.")},e}(y);function O(t,e){return t.find(function(t){return e.sameSignature(t.type)})}function S(t,e){return t.find(function(t){return e.sameSignature(t.declaration.type)})}e.FunctionEntity=C,e.selectOverloadedEntity=O,e.selectOverloadedDefinition=S},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(54)),o=n(0);function a(t,e){var n=t._act[e.category];n?n.call(t,e):t._act._default?t._act._default.call(t,e):o.assert(!1)}e.addListener=function(t,e,n){t.observable.addListener(e,n)},e.messageResponse=function(t){return function(e,n,r){e._act||(e._act={}),e._act[t||n]=e[n]}};var u=function(){function t(t){this.universalObservers=[],this.observers={},this.source=t}return t.prototype.send=function(t,e){if(!this.source.silent){var n={category:t,data:e,source:this.source},r=this.observers[n.category];if(r)for(var i=0;i<r.length;++i)a(r[i],n);for(i=0;i<this.universalObservers.length;++i)a(this.universalObservers[i],n)}},t.prototype.addListener=function(t,e){if(e)if(Array.isArray(e))for(var n=0;n<e.length;++n)this.addListener(t,e[n]);else this.observers[e]||(this.observers[e]=[]),this.observers[e].push(t),this.listenerAdded(t,e);else this.universalObservers.push(t),this.listenerAdded(t);return this},t.prototype.removeListener=function(t,e){if(e){var n=this.observers[e];n&&i.default(n,t),this.listenerRemoved(t,e)}else{for(var r in this.observers)this.removeListener(t,r);i.default(this.universalObservers,t),this.listenerRemoved(t)}return this},t.prototype.listenerAdded=function(t,e){},t.prototype.listenerRemoved=function(t,e){},t}();e.Observable=u},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(23),o=n(1),a=n(3),u=n(4),s=n(7),c=n(0),l=n(11),f=n(10),p=n(22),h=n(8);e.readValueWithAlert=function(t,e){var n=t.readValue();if(!n.isValid){var r=t.describe(),o="The value you just got out of "+(r.name||r.message)+" isn't valid. It might be uninitialized or it could have come from a dead object.";0===n.rawValue&&(o+="\n\n(Note: The value just happens to be zero. Don't be fooled! Uninitialized memory isn't guaranteed to be zero.)"),e.eventOccurred(i.SimulationEvent.UNDEFINED_BEHAVIOR,o,!0)}return n};var d={comma_expression:function(t,e){return b.createFromAST(t,e)},ternary_expression:function(t,e){return g.createFromAST(t,e)},assignment_expression:function(t,e){return R.createFromAST(t,e)},compound_assignment_expression:function(t,e){return new m(e,"compound assignment").setAST(t)},arithmetic_binary_operator_expression:function(t,e){return q.createFromAST(t,e)},relational_binary_operator_expression:function(t,e){return Y.createFromAST(t,e)},logical_binary_operator_expression:function(t,e){return J.createFromAST(t,e)},pointer_to_member_expression:function(t,e){return new m(e,"pointer-to-member").setAST(t)},c_style_cast_expression:function(t,e){return new m(e,"c-style cast").setAST(t)},prefix_increment_expression:function(t,e){return new m(e,"prefix increment").setAST(t)},prefix_decrement_expression:function(t,e){return new m(e,"prefix decrement").setAST(t)},dereference_expression:function(t,e){return new m(e,"dereference").setAST(t)},address_of_expression:function(t,e){return new m(e,"address-of").setAST(t)},unary_plus_expression:function(t,e){return new m(e,"unary plus").setAST(t)},unary_minus_expression:function(t,e){return new m(e,"unary minus").setAST(t)},logical_not_expression:function(t,e){return new m(e,"logical not").setAST(t)},bitwise_not_expression:function(t,e){return new m(e,"bitwise not").setAST(t)},sizeof_expression:function(t,e){return new m(e,"sizeof").setAST(t)},sizeof_type_expression:function(t,e){return new m(e,"sizeof (type)").setAST(t)},new_expression:function(t,e){return new m(e,"new").setAST(t)},delete_expression:function(t,e){return new m(e,"delete").setAST(t)},delete_array_expression:function(t,e){return new m(e,"delete[]").setAST(t)},static_cast_expression:function(t,e){return new m(e,"static cast").setAST(t)},dynamic_cast_expression:function(t,e){return new m(e,"dynamic cast").setAST(t)},reinterpret_cast_expression:function(t,e){return new m(e,"reinterpret cast").setAST(t)},const_cast_expression:function(t,e){return new m(e,"const cast").setAST(t)},subscript_expression:function(t,e){return new m(e,"subscript").setAST(t)},function_call_expression:function(t,e){return p.FunctionCallExpression.createFromAST(t,e)},dot_expression:function(t,e){return new m(e,"dot operator").setAST(t)},arrow_expression:function(t,e){return new m(e,"arrow operator").setAST(t)},postfix_increment_expression:function(t,e){return new m(e,"postfix increment").setAST(t)},postfix_decrement_expression:function(t,e){return new m(e,"postfix decrement").setAST(t)},construct_expression:function(t,e){return new m(e,"construct expression").setAST(t)},identifier_expression:function(t,e){return et.createFromAST(t,e)},this_expression:function(t,e){return new m(e,"this pointer").setAST(t)},numeric_literal:function(t,e){return ut.createFromAST(t,e)}};function y(t,e){return d[t.construct_type](t,e)}e.createExpressionFromAST=y;var m=function(t){function e(e,n){var r=t.call(this,e)||this;return r.type=void 0,r.valueCategory=void 0,r.addNote(a.CPPError.lobster.unsupported_feature(r,n)),r}return r(e,t),e.prototype.createRuntimeExpression=function(t){throw new Error("Cannot create a runtime instance of an unsupported construct.")},e.prototype.describeEvalResult=function(t){return{message:"an unsupported expression"}},e}(h.Expression);e.UnsupportedExpression=m;var v=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.index=0,r.subexpressions=[],r}return r(e,t),e.prototype.setSubexpressions=function(t){this.subexpressions=t},e.prototype.upNextImpl=function(){if(0===this.index){for(var t=this.subexpressions.length-1;t>=0;--t)this.sim.push(this.subexpressions[t]);this.index=1}},e.prototype.stepForwardImpl=function(){this.operate(),this.done()},e}(h.RuntimeExpression);e.SimpleRuntimeExpression=v;var b=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.type=r.type,i.valueCategory=r.valueCategory,i.attach(i.left=n),i.attach(i.right=r),i}return r(e,t),e.createFromAST=function(t,n){return new e(n,y(t.left,n),y(t.right,n))},e.prototype.createRuntimeExpression=function(t){return new _(this,t)},e.prototype.describeEvalResult=function(t){return this.right.describeEvalResult(t)},e.constructKind=Symbol("Comma"),e}(h.Expression);e.CommaExpression=b;var _=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.right=r.model.right.createRuntimeExpression(r),r.left=r.model.left.createRuntimeExpression(r),r.setSubexpressions([r.left,r.right]),r}return r(e,t),e.prototype.operate=function(){this.setEvalResult(this.right.evalResult)},e}(v);e.RuntimeComma=_;var g=function(t){function e(e,n,r,i){var o,a=t.call(this,e)||this;return n.isWellTyped()&&(n=a.compileCondition(n)),r.isWellTyped()&&i.isWellTyped()&&(r=(o=a.compileConsequences(r,i)).then,i=o.otherwise),a.attach(a.condition=n),a.attach(a.then=r),a.attach(a.otherwise=i),a.type=r.type,a.valueCategory=r.valueCategory,a}return r(e,t),e.createFromAST=function(t,n){return new e(n,y(t.condition,n),y(t.then,n),y(t.otherwise,n))},e.prototype.compileCondition=function(t){return t=l.standardConversion(t,new o.Bool),o.isType(t.type,o.Bool)||this.addNote(a.CPPError.expr.ternary.condition_bool(t,t.type)),t},e.prototype.compileConsequences=function(t,e){return t.isPrvalue()&&e.isLvalue()?e=l.convertToPRValue(e):e.isPrvalue()&&t.isLvalue()&&(t=l.convertToPRValue(t)),o.sameType(t.type,e.type)||this.addNote(a.CPPError.lobster.ternarySameType(this,t.type,e.type)),(o.isType(t.type,o.VoidType)||o.isType(e.type,o.VoidType))&&this.addNote(a.CPPError.lobster.ternaryNoVoid(this)),t.valueCategory!==e.valueCategory&&this.addNote(a.CPPError.expr.ternary.sameValueCategory(this)),{then:t,otherwise:e}},e.prototype.createRuntimeExpression=function(t){return new w(this,t)},e.prototype.describeEvalResult=function(t){throw new Error("Method not implemented.")},e}(h.Expression);e.TernaryExpression=g;var w=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.index="condition",r.condition=r.model.condition.createRuntimeExpression(r),r.then=r.model.then.createRuntimeExpression(r),r.otherwise=r.model.otherwise.createRuntimeExpression(r),r}return r(e,t),e.prototype.upNextImpl=function(){"condition"===this.index?(this.sim.push(this.condition),this.index="branch"):"branch"===this.index&&(this.condition.evalResult.rawValue?this.sim.push(this.then):this.sim.push(this.otherwise),this.index="operate")},e.prototype.stepForwardImpl=function(){this.setEvalResult(this.then?this.then.evalResult:this.otherwise.evalResult),this.sim.pop()},e}(h.RuntimeExpression);e.RuntimeTernary=w;var R=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.valueCategory="lvalue",n.isWellTyped()&&r.isWellTyped()?(r=l.standardConversion(r,n.type.cvUnqualified()),n.valueCategory&&"lvalue"!=n.valueCategory&&i.addNote(a.CPPError.expr.assignment.lhs_lvalue(i)),n.type.isConst&&i.addNote(a.CPPError.expr.assignment.lhs_const(i)),r.isWellTyped()&&!o.sameType(r.type,n.type.cvUnqualified())&&i.addNote(a.CPPError.expr.assignment.convert(i,n,r)),i.type=n.type,i.attach(i.lhs=n),i.attach(i.rhs=r),i):(i.attach(i.lhs=n),i.attach(i.rhs=r),i)}return r(e,t),e.createFromAST=function(t,n){return new e(n,y(t.lhs,n),y(t.rhs,n))},e.prototype.createRuntimeExpression=function(t){return new T(this,t)},e.prototype.describeEvalResult=function(t){throw new Error("Method not implemented.")},e.prototype.isTailChild=function(t){return{isTail:!1,reason:"The assignment itself will happen after the recursive call returns.",others:[this]}},e.prototype.explain=function(t,e){var n=this.lhs.describeEvalResult(0),r=this.rhs.describeEvalResult(0);return{message:"The value of "+(r.name||r.message)+" will be assigned to "+(n.name||n.message)+"."}},e}(h.Expression);e.AssignmentExpression=R;var T=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.lhs=r.model.lhs.createRuntimeExpression(r),r.rhs=r.model.rhs.createRuntimeExpression(r),r.setSubexpressions([r.rhs,r.lhs]),r}return r(e,t),e.prototype.operate=function(){this.lhs.evalResult.writeValue(this.rhs.evalResult),this.setEvalResult(this.lhs.evalResult)},e}(v);function x(t,e){return t+e}function E(t,e){return t-e}function A(t,e){return t*e}function C(t,e){return Math.trunc(t/e)}function O(t,e){return t/e}function S(t,e){return t-C(t,e)*e}function P(t,e){return t<e}function j(t,e){return t>e}function I(t,e){return t<=e}function F(t,e){return t>=e}function N(t,e){return t==e}function k(t,e){return t==e}function z(t,e){return t&e}function V(t,e){return t^e}function L(t,e){return t|e}function B(t,e){return t<<e}function D(t,e){return t>>>e}e.RuntimeAssignment=T,e.add=x,e.sub=E,e.mult=A,e.intDiv=C,e.floatDiv=O,e.mod=S,e.lt=P,e.gt=j,e.lte=I,e.gte=F,e.eq=N,e.ne=k,e.bitAnd=z,e.bitXor=V,e.bitOr=L,e.bitShiftLeft=B,e.bitShiftRight=D;var M=function(t){function e(e,n){var r=t.call(this,e)||this;return r.valueCategory="prvalue",r.operator=n,r}return r(e,t),e}(h.Expression);e.BinaryOperator=M;var U=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(v);e.RuntimeBinaryOperator=U;var W={"+":function(t,e){return t.combine(e,x)},"-":function(t,e){return t.combine(e,E)},"*":function(t,e){return t.combine(e,A)},"/":function(t,e){return t.type.isIntegralType()?t.combine(e,C):t.combine(e,O)},"%":function(t,e){return t.combine(e,S)},"&":function(t,e){return t.combine(e,z)},"^":function(t,e){return t.combine(e,V)},"|":function(t,e){return t.combine(e,L)},"<<":function(t,e){return t.combine(e,B)},">>":function(t,e){return t.combine(e,D)}},q=function(t){function e(e,n,r,i){var u=t.call(this,e,i)||this;if(!n.isWellTyped()||!r.isWellTyped())return u.attach(u.left=n),u.attach(u.right=r),u;if(!n.isArithmeticTyped()||!r.isArithmeticTyped())return u.addNote(a.CPPError.expr.binary.arithmetic_operands(u,u.operator,n,r)),u.attach(u.left=n),u.attach(u.right=r),u;if(!("%"!==i&&"<<"!==i&&">>"!=i||n.isIntegralTyped()&&r.isIntegralTyped()))return u.addNote(a.CPPError.expr.binary.arithmetic_operands(u,u.operator,n,r)),u.attach(u.left=n),u.attach(u.right=r),u;var s=l.usualArithmeticConversions(n,r),c=s[0],f=s[1];return o.sameType(c.type,f.type)||u.addNote(a.CPPError.expr.invalid_binary_operands(u,u.operator,c,f)),u.type=c.type,u.attach(u.left=c),u.attach(u.right=f),u}return r(e,t),e.createFromAST=function(t,n){var r=y(t.left,n),i=y(t.right,n),o=t.operator;return"-"===o&&(r.isPointerTyped()||r.isBoundedArrayTyped())&&(i.isPointerTyped()||i.isBoundedArrayTyped())?new G(n,l.convertToPRValue(r),l.convertToPRValue(i)):"-"!==o&&"+"!==o||!((r.isPointerTyped()||r.isBoundedArrayTyped())&&i.isIntegralTyped()||(i.isPointerTyped()||i.isBoundedArrayTyped())&&r.isIntegralTyped())?new e(n,r,i,o):new Q(n,l.convertToPRValue(r),l.convertToPRValue(i))},e.prototype.createRuntimeExpression=function(t){return new $(this,t)},e.prototype.describeEvalResult=function(t){throw new Error("Method not implemented.")},e}(M),$=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.left=r.model.left.createRuntimeExpression(r),r.right=r.model.right.createRuntimeExpression(r),r.setSubexpressions([r.left,r.right]),r}return r(e,t),e.prototype.operate=function(){this.setEvalResult(W[this.model.operator](this.left.evalResult,this.right.evalResult))},e}(U);e.RuntimeArithmeticBinaryOperator=$;var G=function(t){function e(e,n,r){var i=t.call(this,e,"-")||this;return i.valueCategory="prvalue",i.attach(i.left=n),i.attach(i.right=r),i.type=new o.Int,i}return r(e,t),e.prototype.createRuntimeExpression=function(t){return new H(this,t)},e.prototype.describeEvalResult=function(t){throw new Error("Method not implemented.")},e}(M);e.PointerDifference=G;var H=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.left=r.model.left.createRuntimeExpression(r),r.right=r.model.right.createRuntimeExpression(r),r.setSubexpressions([r.left,r.right]),r}return r(e,t),e.prototype.operate=function(){var t=this.left.evalResult.pointerDifference(this.right.evalResult),e=this.left.model.type.isType(o.ArrayPointer)?this.left.model.type.arrayObject:null,n=this.right.model.type.isType(o.ArrayPointer)?this.right.model.type.arrayObject:null;t.rawEquals(0)||(!e&&n?(this.sim.eventOccurred(i.SimulationEvent.UNDEFINED_BEHAVIOR,"The left pointer in this subtraction is not from an array, so the resulting difference is not meaningful.",!0),t=t.invalidated()):e&&!n?(this.sim.eventOccurred(i.SimulationEvent.UNDEFINED_BEHAVIOR,"The right pointer in this subtraction is not from an array, so the resulting difference is not meaningful.",!0),t=t.invalidated()):e&&n&&e!==n&&(this.sim.eventOccurred(i.SimulationEvent.UNDEFINED_BEHAVIOR,"The pointers in this subtraction are pointing into two different arrays, so the resulting difference is not meaningful.",!0),t=t.invalidated())),this.setEvalResult(t)},e}(U);e.RuntimePointerDifference=H;var Q=function(t){function e(e,n,r){var i=t.call(this,e,"+")||this;return i.attach(i.left=n),i.attach(i.right=r),n.isWellTyped()&&r.isWellTyped()?(n.isPointerTyped()&&r.isIntegralTyped()?(i.pointerOnLeft=!0,i.pointer=n,i.offset=r,i.type=i.pointer.type):n.isIntegralTyped()&&r.isPointerTyped()?(i.pointerOnLeft=!1,i.pointer=r,i.offset=n,i.type=i.pointer.type):i.addNote(a.CPPError.expr.invalid_binary_operands(i,i.operator,n,r)),i):i}return r(e,t),e.prototype.createRuntimeExpression=function(t){return new Z(this,t)},e.prototype.describeEvalResult=function(t){throw new Error("Method not implemented.")},e}(M);e.PointerOffset=Q;var Z=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.pointer=r.model.pointer.createRuntimeExpression(r),r.offset=r.model.offset.createRuntimeExpression(r),e.pointerOnLeft?(r.left=r.pointer,r.right=r.offset):(r.left=r.offset,r.right=r.pointer),r.setSubexpressions([r.left,r.right]),r}return r(e,t),e.prototype.operate=function(){var t=this.pointer.evalResult.pointerOffset(this.offset.evalResult);this.setEvalResult(t);var e=t.type;e.isType(o.ArrayPointer)?t.rawValue<e.min()||(e.onePast(),t.rawValue):this.sim.eventOccurred(i.SimulationEvent.UNDEFINED_BEHAVIOR,"Uh, I don't think you're supposed to do arithmetic with that pointer. It's not pointing into an array.",!0)},e}(U);e.RuntimePointerOffset=Z;var K={"<":function(t,e){return t.compare(e,P)},">":function(t,e){return t.compare(e,j)},"<=":function(t,e){return t.compare(e,I)},">=":function(t,e){return t.compare(e,F)},"==":function(t,e){return t.compare(e,N)},"!=":function(t,e){return t.compare(e,k)}},Y=function(t){function e(e,n,r,i){var u=t.call(this,e,i)||this;if(u.type=o.Bool.BOOL,!n.isWellTyped()||!r.isWellTyped())return u.attach(u.left=n),u.attach(u.right=r),u;if(!n.isArithmeticTyped()||!r.isArithmeticTyped())return u.addNote(a.CPPError.expr.binary.arithmetic_operands(u,u.operator,n,r)),u.attach(u.left=n),u.attach(u.right=r),u;var s=l.usualArithmeticConversions(n,r),c=s[0],f=s[1];return o.sameType(c.type,f.type)||u.addNote(a.CPPError.expr.invalid_binary_operands(u,u.operator,c,f)),u.attach(u.left=c),u.attach(u.right=f),u}return r(e,t),e.createFromAST=function(t,n){return new e(n,y(t.left,n),y(t.right,n),t.operator)},e.prototype.createRuntimeExpression=function(t){return new X(this,t)},e.prototype.describeEvalResult=function(t){throw new Error("Method not implemented.")},e}(M),X=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.left=r.model.left.createRuntimeExpression(r),r.right=r.model.right.createRuntimeExpression(r),r.setSubexpressions([r.left,r.right]),r}return r(e,t),e.prototype.operate=function(){this.setEvalResult(K[this.model.operator](this.left.evalResult,this.right.evalResult))},e}(U);e.RuntimeRelationalBinaryOperator=X;var J=function(t){function e(e,n,r,i){var a=t.call(this,e,i)||this;return a.type=new o.Bool,n.isWellTyped()&&r.isWellTyped()?(a.attach(a.left=a.compileLogicalSubexpression(n)),a.attach(a.right=a.compileLogicalSubexpression(r))):(a.attach(a.left=n),a.attach(a.right=r)),a}return r(e,t),e.prototype.compileLogicalSubexpression=function(t){return t=l.standardConversion(t,o.Bool.BOOL),o.isType(t.type,o.Bool)||this.addNote(a.CPPError.expr.binary.boolean_operand(this,this.operator,t)),t},e.createFromAST=function(t,n){return new e(n,y(t.left,n),y(t.right,n),t.operator)},e.prototype.createRuntimeExpression=function(t){return new tt(this,t)},e.prototype.describeEvalResult=function(t){throw new Error("Method not implemented.")},e}(M),tt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.index="left",r.left=r.model.left.createRuntimeExpression(r),r.right=r.model.right.createRuntimeExpression(r),r}return r(e,t),e.prototype.upNextImpl=function(){if("left"===this.index)this.sim.push(this.left),this.index="right";else if("right"===this.index){var t="&&"===this.model.operator?0:1;this.hasShortCircuited=this.left.evalResult.rawEquals(t),this.hasShortCircuited||this.sim.push(this.right),this.index="operate"}},e.prototype.stepForwardImpl=function(){this.hasShortCircuited?this.setEvalResult(this.left.evalResult):this.setEvalResult(this.operate(this.left.evalResult,this.right.evalResult)),this.sim.pop()},e.prototype.operate=function(t,e){var n=this;return t.combine(e,function(t,e){return"&&"==n.model.operator?t&&e:t||e})},e}(h.RuntimeExpression);e.RuntimeLogicalBinaryOperator=tt;var et=function(t){function e(e,n){var r=t.call(this,e)||this;r.valueCategory="lvalue",r.name=n,f.checkIdentifier(r,n,r);var i=r.context.contextualScope.lookup(r.name);if(Array.isArray(i))if(1===i.length)r.entity=i[0];else if(r.context.contextualParameterTypes){var o=dt(i,r.context.contextualParameterTypes,r.context.contextualReceiverType);o.selected?r.entity=o.selected:r.entity=o.candidates[0].candidate}else r.addNote(a.CPPError.iden.ambiguous(r,r.name));else r.entity=i;return r.type=r.entity&&r.entity.type,r}return r(e,t),e.createFromAST=function(t,n){return new e(n,t.identifier)},e.prototype.createRuntimeExpression=function(t){return this.entity instanceof u.FunctionEntity?new rt(this,t):new nt(this,t)},e.prototype.describeEvalResult=function(t){throw new Error("Method not implemented.")},e}(h.Expression);e.IdentifierExpression=et;var nt=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.upNextImpl=function(){this.setEvalResult(this.model.entity.runtimeLookup(this)),this.sim.pop()},e.prototype.stepForwardImpl=function(){},e}(h.RuntimeExpression);e.RuntimeObjectIdentifier=nt;var rt=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.upNextImpl=function(){this.setEvalResult(this.model.entity)},e.prototype.stepForwardImpl=function(){},e}(h.RuntimeExpression);e.RuntimeFunctionIdentifier=rt;var it={int:parseInt,float:parseFloat,double:parseFloat,bool:function(t){return t?1:0},char:function(t){return c.escapeString(t).charCodeAt(0)}},ot={int:o.Int.INT,float:o.Double.DOUBLE,double:o.Double.DOUBLE,bool:o.Bool.BOOL,char:o.Char.CHAR};function at(t){return it[t.type](t.value)}e.parseNumericLiteralValueFromAST=at;var ut=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.valueCategory="prvalue",i.type=n,i.value=new s.Value(r,i.type),i}return r(e,t),e.createFromAST=function(t,n){return new e(n,ot[t.type],at(t))},e.prototype.createRuntimeExpression=function(t){return new st(this,t)},e.prototype.describeEvalResult=function(t){throw new Error("Method not implemented.")},e}(h.Expression);e.NumericLiteral=ut;var st=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.upNextImpl=function(){this.setEvalResult(this.model.value),this.sim.pop()},e.prototype.stepForwardImpl=function(){},e}(h.RuntimeExpression);e.RuntimeNumericLiteral=st;var ct=function(t){function e(e,n){var r=t.call(this,e)||this;return r.attach(r.subexpression=n),r.type=n.type,r.valueCategory=n.valueCategory,r}return r(e,t),e.createFromAST=function(t,n){return new e(n,y(t.subexpression,n))},e.prototype.createRuntimeExpression=function(t){return new ft(this,t)},e.prototype.describeEvalResult=function(t){throw new Error("Method not implemented.")},e}(h.Expression);e.Parentheses=ct;var lt=0,ft=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.index=lt,r.subexpression=r.model.subexpression.createRuntimeExpression(r),r}return r(e,t),e.prototype.upNextImpl=function(){this.index===lt?(this.sim.push(this.subexpression),this.index=1):(this.setEvalResult(this.subexpression.evalResult),this.sim.pop())},e.prototype.stepForwardImpl=function(){},e}(h.RuntimeExpression);e.RuntimeParentheses=ft;var pt={program:void 0,translationUnit:void 0,contextualScope:void 0},ht=function(t){function e(e,n){var r=t.call(this,pt)||this;return r.type=e,r.valueCategory=n,r}return r(e,t),e.prototype.createRuntimeExpression=function(t){throw new Error("Auxiliary expressions must never be instantiated at runtime.")},e.prototype.describeEvalResult=function(t){throw new Error("Auxiliary expressions have no description")},e}(h.Expression);function dt(t,e,n){var r=[],i=t.map(function(t){var n=[],i=t.type.paramTypes;return e.length!==i.length?n.push(a.CPPError.param.numParams(t.declaration)):e.forEach(function(e,r){if(e){var u=i[r];if(u.isReferenceType())o.referenceCompatible(e,u.refTo)||n.push(a.CPPError.param.paramReferenceType(t.declaration,e,u));else{var s=new ht(e,"prvalue"),c=l.standardConversion(s,u);o.sameType(c.type,u)||n.push(a.CPPError.param.paramType(t.declaration,e,u))}}}),0==n.length&&r.push(t),{candidate:t,notes:n}}),u=r[0]?r[0]:void 0;return{candidates:i,viable:r,selected:u}}e.AuxiliaryExpression=ht,e.overloadResolution=dt},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(5),a=n(9),u=n(1),s=r(n(24)),c=n(4),l=function(){function t(t,e,n){void 0===n&&(n=!0),this.rawValue=t,this.type=e,this._isValid=n}return Object.defineProperty(t.prototype,"isValid",{get:function(){return this._isValid&&this.type.isValueValid(this.rawValue)},enumerable:!0,configurable:!0}),t.prototype.clone=function(e){return void 0===e&&(e=this.rawValue),new t(e,this.type,this.isValid)},t.prototype.invalidated=function(){return new t(this.rawValue,this.type,!1)},t.prototype.equals=function(e){return new t(this.rawValue===e.rawValue?1:0,new u.Bool,this.isValid&&e.isValid)},t.prototype.rawEquals=function(t){return this.rawValue===t},t.prototype.combine=function(e,n){return i.assert(u.sameType(this.type,e.type)),new t(n(this.rawValue,e.rawValue),this.type,this.isValid&&e.isValid)},t.prototype.pointerOffset=function(e,n){return void 0===n&&(n=!1),new t(n?this.rawValue-this.type.ptrTo.size*e.rawValue:this.rawValue+this.type.ptrTo.size*e.rawValue,this.type,this.isValid&&e.isValid)},t.prototype.pointerDifference=function(e){return new t((this.rawValue-e.rawValue)/this.type.ptrTo.size,new u.Int,this.isValid&&e.isValid)},t.prototype.compare=function(e,n){return i.assert(u.sameType(this.type,e.type)),new t(n(this.rawValue,e.rawValue)?1:0,new u.Bool,this.isValid&&e.isValid)},t.prototype.modify=function(e){return new t(e(this.rawValue),this.type,this.isValid)},t.prototype.toString=function(){return this.valueString()},t.prototype.valueString=function(){return this.type.valueToString(this.rawValue)},t.prototype.valueToOstreamString=function(){return this.type.valueToOstreamString(this.rawValue)},t.prototype.setRawValue=function(t){this.rawValue=t,this.isValid=this.isValid&&this.type.isValueValid(this.rawValue)},t.prototype.describe=function(){return{message:this.valueString()}},t._name="Value",t}();e.Value=l;var f=function(){function t(t,e,n){this.observable=new o.Observable(this),this.capacity=t||1e4,this.staticCapacity=e||Math.floor(this.capacity/10),this.stackCapacity=n||Math.floor((this.capacity-this.staticCapacity)/2),this.heapCapacity=this.capacity-this.staticCapacity-this.stackCapacity,this.staticStart=0,this.staticEnd=this.staticStart+this.staticCapacity,this.stackStart=this.staticEnd,this.stackEnd=this.stackStart+this.stackCapacity,this.heapStart=this.stackEnd,this.heapEnd=this.heapStart+this.heapCapacity,this.temporaryStart=this.heapEnd+100,this.temporaryCapacity=1e4,this.temporaryEnd=this.temporaryStart+this.temporaryCapacity,i.assert(this.staticCapacity<this.capacity&&this.stackCapacity<this.capacity&&this.heapCapacity<this.capacity),i.assert(this.heapEnd==this.capacity),this.reset()}return t.prototype.reset=function(){this.bytes=new Array(this.capacity+this.temporaryCapacity);for(var t=0;t<this.capacity+this.temporaryCapacity;++t)this.bytes[t]=Math.floor(100*Math.random());this.objects={},this.stringLiteralMap={},this.staticTop=this.staticStart+4,this.staticObjects={},this.temporaryBottom=this.temporaryStart,this.stack=new p(this,this.staticEnd),this.heap=new h(this,this.heapEnd),this.temporaryObjects={},this.observable.send("reset")},t.prototype.getByte=function(t){return this.bytes[t]},t.prototype.readByte=function(t){return this.bytes[t]},t.prototype.getBytes=function(t,e){return this.bytes.slice(t,t+e)},t.prototype.readBytes=function(t,e){var n=t+e;return this.bytes.slice(t,n)},t.prototype.setByte=function(t,e){this.bytes[t]=e},t.prototype.writeByte=function(t,e){this.bytes[t]=e},t.prototype.setBytes=function(t,e){for(var n=0;n<e.length;++n)this.bytes[t+n]=e[n]},t.prototype.writeBytes=function(t,e){for(var n=0;n<e.length;++n)this.bytes[t+n]=e[n]},t.prototype.dereference=function(t){i.assert(t.type.isObjectPointer());var e=t.rawValue;if(t.type instanceof u.ArrayPointer)return t.type.arrayObject.getArrayElemSubobjectByAddress(e);if(t.type instanceof u.ObjectPointer&&t.type.isValueValid(e))return t.type.pointedObject;var n=this.objects[e];return n&&(u.similarType(n.type,t.type.ptrTo)||u.subType(n.type,t.type.ptrTo))?n:new a.InvalidObject(t.type,this,e)},t.prototype.allocateObject=function(t){this.objects[t.address]=t},t.prototype.killObject=function(t,e){var n=this.objects[t];n&&n.isAlive&&n.kill(e)},t.prototype.allocateStringLiteral=function(t){var e=t.str;if(!this.stringLiteralMap[e]){var n=t.objectInstance(this,this.staticTop);this.allocateObject(n),this.stringLiteralMap[e]=n,u.Char.jsStringToNullTerminatedCharArray(e).forEach(function(t,e){n.getArrayElemSubobject(e).setValue(new l(t,u.Char.CHAR))}),this.staticTop+=n.size}},t.prototype.getStringLiteral=function(t){return this.stringLiteralMap[t]},t.prototype.allocateStatic=function(t){var e=new a.StaticObject(t,t.declaredEntity.type,this,this.staticTop);this.allocateObject(e),this.staticTop+=e.size,this.staticObjects[t.declaredEntity.qualifiedName]=e},t.prototype.staticLookup=function(t){return this.staticObjects[t.qualifiedName]},t.prototype.allocateTemporaryObject=function(t){var e=new a.TemporaryObject(t.type,this,this.temporaryBottom,t.name);return this.allocateObject(e),this.temporaryBottom+=t.type.size,this.temporaryObjects[t.entityId]=e,this.observable.send("temporaryObjectAllocated",e),e},t.prototype.deallocateTemporaryObject=function(t,e){this.killObject(t.address,e),delete this.temporaryObjects[t.address],this.observable.send("temporaryObjectDeallocated",t)},t._name="Memory",t}();e.Memory=f;var p=function(){function t(t,e){this.observable=new o.Observable(this),this.memory=t,this.start=e,this.top=e,this.frames=[]}return t.prototype.topFrame=function(){return s.default(this.frames)},t.prototype.pushFrame=function(t){var e=new d(this.memory,this.top,t);return this.top+=e.size,this.frames.push(e),this.memory.observable.send("framePushed",e),e},t.prototype.popFrame=function(t){var e=this.frames.pop();if(!e)return i.assertFalse();e.pop(t),this.top-=e.size,this.memory.observable.send("framePopped",e)},t.prototype.toString=function(){for(var t='<ul class="stackFrames">',e=0;e<this.frames.length;++e){t+="<li>"+this.frames[e].toString()+"</li>"}return t+="</ul>"},t._name="MemoryStack",t}(),h=function(){function t(t,e){this.observable=new o.Observable(this),this.memory=t,this.end=e,this.bottom=e,this.objectMap={}}return t._name="MemoryHeap",t}(),d=function(){function t(t,e,n){var r=this;this.observable=new o.Observable(this),this.localObjectsByEntityId={},this.localReferencesByEntityId={},this.memory=t,this.start=e,this.func=n,this.size=0;var i=this.start;n.model.context.functionLocals.localObjects.forEach(function(e){if(e instanceof c.AutoEntity){var n=new a.AutoObject(e.definition,e.type,t,i);r.localObjectsByEntityId[e.entityId]=n,i+=n.size,r.size+=n.size}}),this.end=this.start+this.size}return t.prototype.toString=function(){var t="";for(var e in this.localObjectsByEntityId){t+="<span>"+this.localObjectsByEntityId[e]+"</span>\n"}return t},t.prototype.getLocalObject=function(t){return this.localObjectsByEntityId[t.entityId]},t.prototype.referenceLookup=function(t){return this.localReferencesByEntityId[t.entityId]||i.assertFalse("Attempt to look up referred object before reference was bound.")},t.prototype.bindReference=function(t,e){this.localReferencesByEntityId[t.entityId]=e},t.prototype.pop=function(t){for(var e in this.localObjectsByEntityId){var n=this.localObjectsByEntityId[e];this.memory.killObject(n.address,t)}},t._name="MemoryFrame",t}();e.MemoryFrame=d},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=function(t){function e(e){var n=t.call(this,e)||this;return n.conversionLength=0,n}return r(e,t),e.prototype.isWellTyped=function(){return!!this.type&&!!this.valueCategory},e.prototype.isTyped=function(t){return!!this.type&&this.type.isType(t)},e.prototype.isObjectTyped=function(){return!!this.type&&this.type.isObjectType()},e.prototype.isAtomicTyped=function(){return!!this.type&&this.type.isAtomicType()},e.prototype.isArithmeticTyped=function(){return!!this.type&&this.type.isArithmeticType()},e.prototype.isIntegralTyped=function(){return!!this.type&&this.type.isIntegralType()},e.prototype.isFloatingPointTyped=function(){return!!this.type&&this.type.isFloatingPointType()},e.prototype.isPointerTyped=function(){return!!this.type&&this.type.isPointerType()},e.prototype.isReferenceTyped=function(){return!!this.type&&this.type.isReferenceType()},e.prototype.isClassTyped=function(){return!!this.type&&this.type.isClassType()},e.prototype.isBoundedArrayTyped=function(){return!!this.type&&this.type.isBoundedArrayType()},e.prototype.isArrayOfUnknownBoundTyped=function(){return!!this.type&&this.type.isArrayOfUnknownBoundType()},e.prototype.isGenericArrayTyped=function(){return!!this.type&&this.type.isGenericArrayType()},e.prototype.isPrvalue=function(){return"prvalue"===this.valueCategory},e.prototype.isLvalue=function(){return"lvalue"===this.valueCategory},e.prototype.isTailChild=function(t){return{isTail:!1}},e}(i.PotentialFullExpression);e.Expression=o,e.allWellTyped=function(t){return t.every(function(t){return t.isWellTyped()})},e.allObjectTyped=function(t){return t.every(function(t){return t.isObjectTyped()})};var a=function(t){function e(e,n){return t.call(this,e,"expression",n)||this}return r(e,t),e.prototype.setEvalResult=function(t){this.evalResult=t},e}(i.RuntimePotentialFullExpression);e.RuntimeExpression=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(5),a=n(0),u=n(7),s=function(){return function(t,e,n){this.object=t,this.size=this.object.size,this.memory=e,this.address=n}}(),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.rawValue=function(){var t=this.memory.readBytes(this.address,this.size);return this.object.type.bytesToValue(t)},e.prototype.setRawValue=function(t,e){this.memory.writeBytes(this.address,this.object.type.valueToBytes(t))},e}(s),l=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this,o=i.address;i.elemObjects=[];for(var a=0;a<i.object.type.length;++a)i.elemObjects.push(new w(i.object,a,n,o)),o+=i.object.type.elemType.size;return i}return r(e,t),e.create=function(t,n,r){return new e(t,n,r)},e.prototype.getArrayElemSubobjectByAddress=function(t){var e=(t-this.address)/this.object.type.elemType.size;return this.getArrayElemSubobject(e)},e.prototype.getArrayElemSubobject=function(t){return 0<=t&&t<this.elemObjects.length?this.elemObjects[t]:new w(this.object,t,this.memory,this.address+t*this.object.type.elemType.size)},e}(s),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(s),p=function(){function t(t,e,n){this.observable=new o.Observable(this),this.type=t,this.size=t.size,a.assert(0!=this.size,"Size cannot be 0."),this.type instanceof i.BoundedArrayType?this.data=l.create(this,e,n):this.type instanceof i.ClassType?this.data=new f(this,e,n):this.data=new c(this,e,n),this.address=n,this.isAlive=!0,this._isValid=!1}return t.prototype.getArrayElemSubobject=function(t){return this.data.getArrayElemSubobject(t)},t.prototype.getArrayElemSubobjectByAddress=function(t){return this.data.getArrayElemSubobjectByAddress(t)},t.prototype.subobjectValueWritten=function(){this.observable.send("valueWritten")},t.prototype.toString=function(){return"@"+this.address},t.prototype.kill=function(t){this.isAlive=!1,this._isValid=!1,t&&(this.deallocatedBy=t),this.observable.send("deallocated")},t.prototype.getPointerTo=function(){return new u.Value(this.address,new i.ObjectPointer(this))},t.prototype.getValue=function(t){void 0===t&&(t=!1);var e=new u.Value(this.getRawValue(),this.type,this._isValid);return t&&this.observable.send("valueRead",e),e},t.prototype.getRawValue=function(){return this.data.rawValue()},t.prototype.readValue=function(){return this.getValue(!0)},t.prototype.setValue=function(t,e){void 0===e&&(e=!1),this._isValid=t.isValid,a.asMutable(this).type=t.type,this.data.setRawValue(t.rawValue,e),e&&this.observable.send("valueWritten",t),this.onValueSet(e)},t.prototype.onValueSet=function(t){},t.prototype.writeValue=function(t){this.setValue(t,!0)},t.prototype.isValueValid=function(){return this._isValid&&this.type.isValueValid(this.getRawValue())},t.prototype.callReceived=function(){this.observable.send("callReceived",this)},t.prototype.callEnded=function(){this.observable.send("callEnded",this)},t.prototype.setValidity=function(t){this._isValid=t,this.observable.send("validitySet",t)},t}();e.CPPObject=p;var h=function(t){function e(e,n,r,i){var o=t.call(this,n,r,i)||this;return o.def=e,o}return r(e,t),e.prototype.describe=function(){return this.def.declaredEntity.describe()},e}(p);e.AutoObject=h;var d=function(t){function e(e){return t.call(this,i.Int.INT,e,0)||this}return r(e,t),e.prototype.describe=function(){return{message:"The value returned from main."}},e}(p);e.MainReturnObject=d;var y=function(t){function e(e,n,r,i){var o=t.call(this,n,r,i)||this;return o.def=e,o}return r(e,t),e.prototype.describe=function(){return this.def.declaredEntity.describe()},e}(p);e.StaticObject=y;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.describe=function(){return{message:"the heap object at 0x"+this.address}},e}(p);e.DynamicObject=m;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.describe=function(){return{message:"an invalid object at 0x"+this.address}},e}(p);e.InvalidObject=v;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.describe=function(){return{name:"this",message:"the this pointer"}},e}(p);e.ThisObject=b;var _=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return r(e,t),e.prototype.describe=function(){return{message:"string literal at 0x"+this.address}},e}(p);e.StringLiteralObject=_;var g=function(t){function e(e,n,r,i){var o=t.call(this,n,r,i)||this;return o.containingObject=e,o}return r(e,t),Object.defineProperty(e.prototype,"isAlive",{get:function(){return this.containingObject.isAlive},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deallocatedBy",{get:function(){return this.containingObject.deallocatedBy},enumerable:!0,configurable:!0}),e.prototype.onValueSet=function(t){t&&this.containingObject.subobjectValueWritten()},e}(p),w=function(t){function e(e,n,r,i){var o=t.call(this,e,e.type.elemType,r,i)||this;return o.index=n,o}return r(e,t),e.prototype.getPointerTo=function(){return new u.Value(this.address,new i.ArrayPointer(this.containingObject))},e.prototype.describe=function(){var t=this.containingObject.describe(),e={message:"element "+this.index+" of "+t.message};return t.name&&(e.name=t.name+"["+this.index+"]"),e},e}(g);e.ArraySubobject=w;var R=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return r(e,t),e.prototype.describe=function(){return{message:"the "+this.type.name+" base of "+this.containingObject.describe().message}},e}(g);e.BaseSubobject=R;var T=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,i,o)||this;return a.name=r,a}return r(e,t),e.prototype.describe=function(){var t=this.containingObject.describe(),e={message:"the member "+this.name+" of "+t.message};return t.name&&(e.name=t.name+"."+this.name),e},e}(g);e.MemberSubobject=T;var x=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r)||this;return o.name=i,o}return r(e,t),e.prototype.nameString=function(){return"@"+this.address},e.prototype.describe=function(){return name?{name:this.name,message:"the temporary object "+this.name}:{message:"a temporary object"}},e}(p);e.TemporaryObject=x},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3);e.KEYWORDS=new Set(["alignas","continue","friend","register","true","alignof","decltype","goto","reinterpret_cast","try","asm","default","if","return","typedef","auto","delete","inline","short","typeid","bool","do","int","signed","typename","break","double","long","sizeof","union","case","dynamic_cast","mutable","static","unsigned","catch","else","namespace","static_assert","using","char","enum","new","static_cast","virtual","char16_t","explicit","noexcept","struct","void","char32_t","export","nullptr","switch","volatile","class","extern","operator","template","wchar_t","const","false","private","this","while","constexpr","float","protected","thread_local","const_cast","for","public","throw"]),e.ALT_OPS=new Set(["and","and_eq","bitand","bitor","compl","not","not_eq","or","or_eq","xor","xor_eq"]),e.checkIdentifier=function t(n,i,o){i.includes("::")?i.split("::").forEach(function(e){return t(n,e,o)}):(e.KEYWORDS.has(i)&&o.addNote(r.CPPError.iden.keyword(n,i)),e.ALT_OPS.has(i)&&o.addNote(r.CPPError.iden.alt_op(n,i)))},e.createFullyQualifiedName=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"::"+t.join("::")},e.fullyQualifiedNameToUnqualified=function(t){var e=t.lastIndexOf("::");return-1===e?t:t.slice(e+2)}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(6),a=n(7),u=n(0),s=function(t){function e(n,r,i){var o=t.call(this,n.context)||this;return o.attach(o.from=n),o.type=r,o.valueCategory=i,o.conversionLength=n instanceof e?n.conversionLength+1:1,o}return r(e,t),e.prototype.createRuntimeExpression=function(t){return new c(this,t)},e.prototype.describeEvalResult=function(t){throw new Error("Method not implemented.")},e}(n(8).Expression);e.ImplicitConversion=s;var c=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.from=r.model.from.createRuntimeExpression(r),r.setSubexpressions([r.from]),r}return r(e,t),e.prototype.operate=function(){this.setEvalResult(this.model.operate(this.from.evalResult))},e}(o.SimpleRuntimeExpression);e.RuntimeImplicitConversion=c;var l=function(t){function e(e){return t.call(this,e,e.type.cvUnqualified(),"prvalue")||this}return r(e,t),e.prototype.operate=function(t){return t.getValue()},e}(s);e.LValueToRValue=l;var f=function(t){function e(e){return t.call(this,e,e.type.adjustToPointerType(),"prvalue")||this}return r(e,t),e.prototype.operate=function(t){return new a.Value(t.address,new i.ArrayPointer(t))},e}(s);e.ArrayToPointer=f;var p=function(t){function e(e,n){return t.call(this,e,n.cvQualified(e.type.isConst,e.type.isVolatile),"prvalue")||this}return r(e,t),e}(s),h=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.operate=function(t){return new a.Value(t.rawValue,this.type)},e}(p),d=function(t){function e(e,n){var r=t.call(this,e,n)||this;return u.assert(0===e.value.rawValue),r}return r(e,t),e}(h);e.NullPointerConversion=d;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(h);e.PointerConversion=y;var m=function(t){function e(e){return t.call(this,e,i.Bool.BOOL)||this}return r(e,t),e}(h);e.PointerToBooleanConversion=m;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(h);e.IntegralPromotion=v;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(h);e.IntegralConversion=b;var _=function(t){function e(e){return t.call(this,e,i.Double.DOUBLE)||this}return r(e,t),e}(h);e.FloatingPointPromotion=_;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(h);e.FloatingPointConversion=g;var w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(h);e.IntegralToFloatingConversion=w;var R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.operate=function(t){return this.type.isType(i.Bool)?new a.Value(0===t.rawValue?0:1,i.Int.INT):new a.Value(Math.trunc(t.rawValue),i.Int.INT)},e}(p);e.FloatingToIntegralConversion=R;var T=function(t){function e(e,n){var r=t.call(this,e,n,"prvalue")||this;return u.assert(i.similarType(e.type,n)),r}return r(e,t),e.prototype.operate=function(t){return new a.Value(t.rawValue,this.type)},e}(s);function x(t){return t.isBoundedArrayTyped()?new f(t):t.isAtomicTyped()?t.isPrvalue()?t:new l(t):t}function E(t,e){if(i.similarType(t.type,e))return t;if(e.isPointerType()&&t instanceof o.NumericLiteral&&i.isType(t.type,i.Int)&&0===t.value.rawValue)return new d(t,e);if(e.isPointerType()&&e.ptrTo.isClassType()&&t.isPointerTyped()&&t.type.ptrTo.isClassType()&&i.subType(t.type.ptrTo,e.ptrTo))return new y(t,new i.PointerType(e.ptrTo.cvQualified(t.type.ptrTo.isConst,t.type.ptrTo.isVolatile)));if(e.isType(i.Bool)&&t.isPointerTyped())return new m(t);if(e.isType(i.Double)&&t.isTyped(i.Float))return new _(t);if(e.isIntegralType()){if(t.isIntegralTyped())return new b(t,e);if(t.isFloatingPointTyped())return new R(t,e)}if(e.isFloatingPointType()){if(t.isIntegralTyped())return new w(t,e);if(t.isFloatingPointTyped())return new g(t,e)}return t}function A(t,e){return i.sameType(t.type,e)?t:"prvalue"===t.valueCategory&&i.isCvConvertible(t.type,e)?new T(t,e):t}function C(t){return t.isIntegralTyped()&&!t.isTyped(i.Int)?new v(t,i.Int.INT):t}e.QualificationConversion=T,e.convertToPRValue=x,e.typeConversion=E,e.qualificationConversion=A,e.standardConversion=function(t,e,n){if(void 0===n&&(n={}),!t.isAtomicTyped()&&!t.isBoundedArrayTyped())return t;if(!e.isAtomicType())return t;if(!n.suppressLTR){var r=x(t);return r=A(r=E(r,e),e)}return t},e.integralPromotion=C,e.usualArithmeticConversions=function(t,e){var n=x(t),r=x(e);return n.isTyped(i.Double)?[n,r=E(r,i.Double.DOUBLE)]:r.isTyped(i.Double)?[n=E(n,i.Double.DOUBLE),r]:n.isTyped(i.Float)?[n,r=E(r,i.Float.FLOAT)]:r.isTyped(i.Float)?[n=E(n,i.Float.FLOAT),r]:(n.isIntegralTyped()&&(n=C(n)),r.isIntegralTyped()&&(r=C(r)),i.sameType(n.type,r.type),[n,r])}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(4),a=n(1),u=n(0),s=n(3),c=n(11),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isTailChild=function(t){return{isTail:!0}},e}(i.PotentialFullExpression);e.Initializer=l;var f=function(t){function e(e,n){return t.call(this,e,"initializer",n)||this}return r(e,t),e}(i.RuntimePotentialFullExpression);e.RuntimeInitializer=f;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.create=function(t,e){return e.bindTo?new d(t,e):e.type instanceof a.AtomicType?new y(t,e):e.type instanceof a.BoundedArrayType?new v(t,e):u.assertFalse()},e}(l);e.DefaultInitializer=p;var h=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e}(f);e.RuntimeDefaultInitializer=h;var d=function(t){function e(e,n){var r=t.call(this,e)||this;return r.target=n,r.addNote(s.CPPError.declaration.init.referenceBind(r)),r}return r(e,t),e.prototype.createRuntimeInitializer=function(t){return u.assertFalse("A default initializer for a reference is not allowed.")},e.prototype.explain=function(t,e){return u.assertFalse("A default initializer for a reference is not allowed.")},e}(p);e.ReferenceDefaultInitializer=d;var y=function(t){function e(e,n){var r=t.call(this,e)||this;return r.target=n,r}return r(e,t),e.prototype.createRuntimeInitializer=function(t){return new m(this,t)},e.prototype.explain=function(t,e){var n=this.target.describe();return{message:"No initialization will take place. "+(n.name||n.message)+" will have a junk value."}},e}(p);e.AtomicDefaultInitializer=y;var m=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.target=r.model.target.runtimeLookup(r),r}return r(e,t),e.prototype.upNextImpl=function(){this.observable.send("initialized",this.target),this.sim.pop()},e.prototype.stepForwardImpl=function(){},e}(h);e.RuntimeAtomicDefaultInitializer=m;var v=function(t){function e(e,n){var r=t.call(this,e)||this;r.target=n;var i=r.target.type;if(i.elemType instanceof a.AtomicType);else{r.elementInitializers=[];for(var u=0;u<i.length;++u){var c=p.create(e,new o.ArraySubobjectEntity(r.target,u));if(r.elementInitializers.push(c),r.attach(c),c.hasErrors){r.addNote(s.CPPError.declaration.init.array_default_init(r));break}}}return r}return r(e,t),e.prototype.createRuntimeInitializer=function(t){return new b(this,t)},e.prototype.explain=function(t,e){var n=this.target.describe(),r=this.target.type;return 0===r.length?{message:"No initialization is performed for "+(n.name||n.message)+"because the array has length 0."}:r.elemType instanceof a.AtomicType?{message:"No initialization will take place. The elements of "+(n.name||n.message)+" will have junk values."}:{message:"Each element of "+(n.name||n.message)+" will be default-initialized. For example, "+this.elementInitializers[0].explain(t,e)}},e}(p);e.ArrayDefaultInitializer=v;var b=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.index=0,r.target=r.model.target.runtimeLookup(r),r.model.elementInitializers&&(r.elementInitializers=r.model.elementInitializers.map(function(t){return t.createRuntimeInitializer(r)})),r}return r(e,t),e.prototype.upNextImpl=function(){this.elementInitializers&&this.index<this.elementInitializers.length?this.sim.push(this.elementInitializers[this.index++]):(this.observable.send("initialized",this.target),this.sim.pop())},e.prototype.stepForwardImpl=function(){},e}(h);e.RuntimeArrayDefaultInitializer=b;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.create=function(t,e,n){return e.bindTo?new w(t,e,n):e.type instanceof a.AtomicType?new T(t,e,n):u.assertFalse()},e}(l);e.DirectInitializer=_;var g=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e}(f);e.RuntimeDirectInitializer=g;var w=function(t){function e(e,n,r){var i=t.call(this,e)||this;if(i.target=n,i.args=r,r.forEach(function(t){i.attach(t)}),i.args.length>1)return i.addNote(s.CPPError.declaration.init.referenceBindMultiple(i)),i;if(i.arg=i.args[0],!i.arg.isWellTyped())return i;var o=n.type;return a.referenceCompatible(i.arg.type,o)?"prvalue"!==i.arg.valueCategory||o.isConst?"prvalue"===i.arg.valueCategory&&i.addNote(s.CPPError.lobster.referencePrvalue(i)):i.addNote(s.CPPError.declaration.init.referencePrvalueConst(i)):i.addNote(s.CPPError.declaration.init.referenceType(i,i.arg.type,o)),i}return r(e,t),e.prototype.createRuntimeInitializer=function(t){return new R(this,t)},e.prototype.explain=function(t,e){var n=this.target.describe(),r=this.args[0].describeEvalResult(0);return{message:(n.name||n.message)+" will be bound to "+(r.name||r.message)+"."}},e}(_);e.ReferenceDirectInitializer=w;var R=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.alreadyPushed=!1,r.arg=r.model.arg.createRuntimeExpression(r),r}return r(e,t),e.prototype.upNextImpl=function(){this.alreadyPushed||(this.sim.push(this.arg),this.alreadyPushed=!0)},e.prototype.stepForwardImpl=function(){var t=this.model.target.bindTo(this,this.arg.evalResult);this.observable.send("initialized",t),this.sim.pop()},e}(g);e.RuntimeReferenceDirectInitializer=R;var T=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.target=n;var o=n.type;if(i.args=r,r.forEach(function(t){i.attach(t)}),r.length>1)return i.addNote(s.CPPError.declaration.init.scalar_args(i,o)),i;if(i.arg=r[0],!i.arg.isWellTyped())return i;var u=c.standardConversion(i.arg,o);return i.arg=u,a.sameType(u.type,o)||i.addNote(s.CPPError.declaration.init.convert(i,u.type,o)),i}return r(e,t),e.prototype.createRuntimeInitializer=function(t){return new x(this,t)},e.prototype.explain=function(t,e){var n=this.target.runtimeLookup(e).describe(),r=this.args[0].describeEvalResult(0);return{message:(n.name||n.message)+" will be initialized with "+(r.name||r.message)+"."}},e}(_);e.AtomicDirectInitializer=T;var x=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.alreadyPushed=!1,r.target=r.model.target.runtimeLookup(r),r.arg=r.model.arg.createRuntimeExpression(r),r}return r(e,t),e.prototype.upNextImpl=function(){this.alreadyPushed||(this.sim.push(this.arg),this.alreadyPushed=!0)},e.prototype.stepForwardImpl=function(){this.target.writeValue(this.arg.evalResult),this.observable.send("initialized",this.target),this.sim.pop()},e}(g);e.RuntimeAtomicDirectInitializer=x;var E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(_);e.CopyInitializer=E;var A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(g);e.RuntimeCopyInitializer=A;var C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(w);e.ReferenceCopyInitializer=C;var O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(R);e.RuntimeReferenceCopyInitializer=O;var S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(T);e.AtomicCopyInitializer=S;var P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(x);e.RuntimeAtomicCopyInitializer=P},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(3),a=n(0),u=n(1),s=n(12),c=n(4),l=n(6),f=n(19),p=n(10),h=function(t){function e(e,n){var r=t.call(this,e)||this,i=0;return n.forEach(function(t){r[t]?r.addNote(o.CPPError.declaration.storage.once(r,t)):(a.asMutable(r)[t]=!0,++i)}),r.static&&r.addNote(o.CPPError.lobster.unsupported_feature(r,"static")),r.extern&&r.addNote(o.CPPError.lobster.unsupported_feature(r,"extern")),r.thread_local&&r.addNote(o.CPPError.lobster.unsupported_feature(r,"thread_local")),r.register&&r.addNote(o.CPPError.lobster.unsupported_feature(r,"register")),r.mutable&&r.addNote(o.CPPError.lobster.unsupported_feature(r,"mutable")),i<2||2==i&&r.thread_local&&(r.static||r.extern)||r.addNote(o.CPPError.declaration.storage.incompatible(r,n)),r.isEmpty=0===i,r}return r(e,t),e.createFromAST=function(t,n){return new e(n,t)},e}(i.BasicCPPConstruct);e.StorageSpecifier=h;var d=function(t){function e(e,n){var r=t.call(this,e)||this;return n.forEach(function(t){if("enum"===t)return a.asMutable(r).enum=!0,void r.addNote(o.CPPError.lobster.unsupported_feature(r,"mutable"));var e=["const","volatile","signed","unsigned","enum"].find(function(e){return e===t});e?r[e]?r.addNote(o.CPPError.declaration.typeSpecifier.once(r,e)):a.asMutable(r)[e]=!0:r.typeName?r.addNote(o.CPPError.declaration.typeSpecifier.one_type(r,[r.typeName,t])):a.asMutable(r).typeName=t}),r.unsigned&&r.signed&&r.addNote(o.CPPError.declaration.typeSpecifier.signed_unsigned(r)),!r.unsigned&&!r.signed||r.typeName||(r.typeName="int"),r.typeName?u.isBuiltInTypeName(r.typeName)?(a.asMutable(r).type=new u.builtInTypes[r.typeName](r.const,r.volatile),r):(r.addNote(o.CPPError.type.typeNotFound(r,r.typeName)),r):(r.addNote(o.CPPError.declaration.func.no_return_type(r)),r)}return r(e,t),e.createFromAST=function(t,n){return new e(n,t)},e}(i.BasicCPPConstruct);function y(t,e){var n=d.createFromAST(t.specs.typeSpecs,e),r=n.type,o=h.createFromAST(t.specs.storageSpecs,e);return t.declarators.map(function(a){var u,s=C.createFromAST(a,e,r),c=s.type;if(c)if(t.specs.friend)u=new g(e,n,o,s,t.specs);else if(t.specs.typedef)u=new _(e,n,o,s,t.specs);else if(c.isVoidType())u=new b(e,n,o,s,t.specs);else if(c.isFunctionType())u=new R(e,n,o,s,t.specs,c);else if(c.isArrayOfUnknownBoundType())u=new w(e,n,o,s,t.specs,c);else{var f=void 0;u=f=i.isBlockContext(e)?new x(e,n,o,s,t.specs,c):new E(e,n,o,s,t.specs,c);var p=a.initializer;p?"direct_initializer"==p.construct_type?f.setDirectInitializer(p.args.map(function(t){return l.createExpressionFromAST(t,e)})):"copy_initializer"==p.construct_type&&f.setCopyInitializer(p.args.map(function(t){return l.createExpressionFromAST(t,e)})):f.setDefaultInitializer()}else u=new v(e,n,o,s,t.specs);return u.setAST(t),u})}e.TypeSpecifier=d,e.createDeclarationFromAST=function(t,e){return"simple_declaration"===t.construct_type?y(t,e):S.createFromAST(t,e)},e.createSimpleDeclarationFromAST=y;var m=function(t){function e(e,n,r,i,u){var s=t.call(this,e)||this;return s.typeSpecifier=n,s.storageSpecifier=r,s.otherSpecifiers=u,s.declarator=i,s.name=i.name,i.name?(u.virtual&&s.addNote(o.CPPError.declaration.virtual_prohibited(s)),s):a.assertFalse("Simple declarations must have a name.")}return r(e,t),e}(i.BasicCPPConstruct);e.SimpleDeclaration=m;var v=function(t){function e(e,n,r,i,a){var u=t.call(this,e,n,r,i,a)||this;return u.initializerAllowed=!0,u.isDefinition=!1,u.addNote(o.CPPError.declaration.unknown_type(u)),u}return r(e,t),e}(m);e.UnknownTypeDeclaration=v;var b=function(t){function e(e,n,r,i,a){var s=t.call(this,e,n,r,i,a)||this;return s.initializerAllowed=!0,s.isDefinition=!1,s.type=u.VoidType.VOID,s.addNote(o.CPPError.declaration.void_prohibited(s)),s}return r(e,t),e}(m);e.VoidDeclaration=b;var _=function(t){function e(e,n,r,i,a){var u=t.call(this,e,n,r,i,a)||this;return u.initializerAllowed=!1,u.isDefinition=!1,u.addNote(o.CPPError.lobster.unsupported_feature(u,"typedef")),u}return r(e,t),e}(m);e.TypedefDeclaration=_;var g=function(t){function e(e,n,r,i,a){var u=t.call(this,e,n,r,i,a)||this;return u.initializerAllowed=!1,u.isDefinition=!1,u.addNote(o.CPPError.lobster.unsupported_feature(u,"friend")),a.virtual&&u.addNote(o.CPPError.declaration.friend.virtual_prohibited(u)),u}return r(e,t),e}(m);e.FriendDeclaration=g;var w=function(t){function e(e,n,r,i,a,u){var s=t.call(this,e,n,r,i,a)||this;return s.initializerAllowed=!0,s.isDefinition=!1,s.type=u,s.addNote(o.CPPError.declaration.array.length_required(s)),s}return r(e,t),e}(m);e.UnknownBoundArrayDeclaration=w;var R=function(t){function e(e,n,r,i,u,s){var l=t.call(this,e,n,r,i,u)||this;l.initializerAllowed=!1,l.isDefinition=!1,l.type=s,l.declaredEntity=new c.FunctionEntity(s,l),a.assert(!!l.declarator.parameters,"The declarator for a function declaration must contain declarators for its parameters as well."),l.parameterDeclarators=l.declarator.parameters,l.declaredEntity.isMain()&&l.type.paramTypes.length>0&&l.addNote(o.CPPError.declaration.func.mainParams(l.declarator));try{l.context.contextualScope.addDeclaredEntity(l.declaredEntity)}catch(t){if(!(t instanceof o.Note))throw t;l.addNote(t)}return l.context.contextualScope instanceof c.NamespaceScope&&l.context.translationUnit.program.registerLinkedEntity(l.declaredEntity),l}return r(e,t),e}(m);e.FunctionDeclaration=R;var T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.setInitializer=function(t){return a.assert(!this.initializer),this.initializer=t,this},e.prototype.setDefaultInitializer=function(){return this.setInitializer(s.DefaultInitializer.create(this.context,this.declaredEntity))},e.prototype.setDirectInitializer=function(t){return this.setInitializer(s.DirectInitializer.create(this.context,this.declaredEntity,t))},e.prototype.setCopyInitializer=function(t){return this.setInitializer(s.CopyInitializer.create(this.context,this.declaredEntity,t))},e.prototype.setInitializerList=function(t){return this.addNote(o.CPPError.lobster.unsupported_feature(this,"initializer lists")),this},e}(m);e.VariableDefinition=T;var x=function(t){function e(e,n,r,i,a,u){var s=t.call(this,e,n,r,i,a)||this;s.initializerAllowed=!0,s.isDefinition=!0,s.type=u,s.declaredEntity=u.isReferenceType()?new c.LocalReferenceEntity(u.refTo,s):new c.AutoEntity(u,s);try{s.context.contextualScope.addDeclaredEntity(s.declaredEntity),s.context.functionLocals.registerLocalVariable(s.declaredEntity)}catch(t){if(!(t instanceof o.Note))throw t;s.addNote(t)}return s}return r(e,t),e}(T);e.LocalVariableDefinition=x;var E=function(t){function e(e,n,r,i,a,u){var s=t.call(this,e,n,r,i,a)||this;if(s.kind="GlobalObjectDefinition",s.initializerAllowed=!0,s.isDefinition=!0,s.type=u,u.isReferenceType())return s.addNote(o.CPPError.lobster.unsupported_feature(s,"globally scoped references")),s;s.declaredEntity=new c.StaticEntity(u,s);try{s.context.contextualScope.addDeclaredEntity(s.declaredEntity)}catch(t){if(!(t instanceof o.Note))throw t;s.addNote(t)}return s.context.translationUnit.program.registerGlobalObjectDefinition(s.declaredEntity.qualifiedName,s),s}return r(e,t),e}(T);e.GlobalObjectDefinition=E;var A=function(t){function e(e,n,r,i,a,u){var s=t.call(this,e,n,r,i,a)||this;s.initializerAllowed=!0,s.isDefinition=!0,s.type=u,s.declaredEntity=s.type.isReferenceType()?new c.LocalReferenceEntity(s.type.refTo,s,!0):new c.AutoEntity(s.type,s,!0);try{s.context.contextualScope.addDeclaredEntity(s.declaredEntity),e.functionLocals.registerLocalVariable(s.declaredEntity)}catch(t){if(!(t instanceof o.Note))throw t;s.addNote(t)}return s}return r(e,t),e}(m);e.ParameterDefinition=A;var C=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.setAST(n),i.baseType=r,n.pureVirtual&&(i.isPureVirtual=!0),i.determineNameAndType(n),i}return r(e,t),e.createFromAST=function(t,n,r){return new e(n,t,r)},e.prototype.determineNameAndType=function(t){var n=this;if(this.baseType){for(var r=this.baseType,i=t;i;){for(var a=i;a.sub;)a=a.sub;var s=!(a.pointer||a.reference||a.sub);if(i.name&&(this.name=i.name.identifier,p.checkIdentifier(this,i.name.identifier,this)),i.postfixes)for(var c=s,f=i.postfixes.length-1;f>=0;--f){var y=i.postfixes[f];if(s=c&&0===f,"array"===y.kind){if(r.isBoundedArrayType())return void this.addNote(o.CPPError.declaration.array.multidimensional_arrays_unsupported(this));if(!r.isArrayElemType())return void this.addNote(o.CPPError.declaration.array.invalid_element_type(this,r));r=y.size?"numeric_literal"===y.size.construct_type?new u.BoundedArrayType(r,l.parseNumericLiteralValueFromAST(y.size)):new u.ArrayOfUnknownBoundType(r,y.size):new u.ArrayOfUnknownBoundType(r)}else if("function"===y.kind){if(!r.isPotentialReturnType())return void(r.isFunctionType()?this.addNote(o.CPPError.declaration.func.return_func(this)):r.isBoundedArrayType()?this.addNote(o.CPPError.declaration.func.return_array(this)):this.addNote(o.CPPError.declaration.func.invalid_return_type(this,r)));var m=y.args.map(function(t){var r=h.createFromAST(t.specs.storageSpecs,n.context);n.attach(r),r.isEmpty||r.addNote(o.CPPError.declaration.parameter.storage_prohibited(n));var i=d.createFromAST(t.specs.typeSpecs,n.context);return n.attach(i),e.createFromAST(t.declarator,n.context,i.type)});this.parameters=m;var v=m.map(function(t){return t.type&&t.type.isBoundedArrayType()?t.type.adjustToPointerType():t.type});if(1==v.length&&v[0]&&v[0].isVoidType())v=[];else for(var b=0;b<v.length;++b){var _=v[b];_&&_.isVoidType()&&this.addNote(o.CPPError.declaration.func.void_param(m[b]))}v.every(function(t){return t&&t.isPotentialParameterType()})||this.addNote(o.CPPError.declaration.func.some_invalid_parameter_types(this)),r=new u.FunctionType(r,v,i.const,i.volatile,this.context.containingClass&&this.context.containingClass.cvQualified(!!y.const))}!1}if(i.pointer){if(!r.isObjectType())return void(r.isReferenceType()?this.addNote(o.CPPError.declaration.pointer.reference(this)):r.isVoidType()?this.addNote(o.CPPError.declaration.pointer.void(this)):this.addNote(o.CPPError.declaration.pointer.invalid_pointed_type(this,r)));r=new u.PointerType(r,i.const,i.volatile),i=i.pointer}else if(i.reference){if(!r.isObjectType())return void(r.isReferenceType()?this.addNote(o.CPPError.declaration.ref.ref(this)):this.addNote(o.CPPError.declaration.ref.invalid_referred_type(this,r)));r=new u.ReferenceType(r,i.const,i.volatile),i=i.reference}else{if(!i.hasOwnProperty("sub"))break;i=i.sub}!1}this.type=r,r.isFunctionType()||delete this.parameters}},e}(i.BasicCPPConstruct);e.Declarator=C;var O={};["new[]","delete[]","new","delete","->*",">>=","<<=","+=","-=","*=",",=","%=","^=","&=","|=","<<",">>","==","!=","<=",">=","&&","||","++","--","->","()","[]","+","-","*","/","%","^","&","|","~","!","=","<",">",","].forEach(function(t){O["operator"+t]=!0});var S=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.kind="FunctionDefinition",o.attach(o.declaration=n),o.attachAll(o.parameters=r),o.attach(o.body=i),o.context.translationUnit.program.registerFunctionDefinition(o.declaration.declaredEntity.qualifiedName,o),o}return r(e,t),e.createFromAST=function(t,n){var r=y({construct_type:"simple_declaration",declarators:[t.declarator],specs:t.specs,source:t.declarator.source},n)[0];if(!(r instanceof R))return new i.InvalidConstruct(n,o.CPPError.declaration.func.definition_non_function_type);var a=i.createFunctionContext(n,r.declaredEntity),u=new f.Block(a),s=u.blockContext,c=r.parameterDeclarators.map(function(t){return new A(s,d.createFromAST([],s),h.createFromAST([],s),t,{},t.type)});return t.body.statements.forEach(function(t){return u.addStatement(f.createStatementFromAST(t,s))}),new e(a,r,c,u)},e.prototype.createRuntimeFunction=function(t,e){return new i.RuntimeFunction(this,t,e)},e}(i.BasicCPPConstruct);e.FunctionDefinition=S},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(42),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){var r=n(16).Symbol;t.exports=r},function(t,e){t.exports=function(t){return t}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(3),a=n(6),u=n(13),s=n(12),c=n(1),l=n(4),f=n(0),p={labeled_statement:function(t,e){return new m(e,"labeled statement").setAST(t)},compound_statement:function(t,e){return A.createFromAST(t,e)},selection_statement:function(t,e){return new m(e,"selection statement").setAST(t)},while_statement:function(t,e){return new m(e,"while loop").setAST(t)},dowhile_statement:function(t,e){return new m(e,"do-while loop").setAST(t)},for_statement:function(t,e){return new m(e,"for loop").setAST(t)},break_statement:function(t,e){return new m(e,"break statement").setAST(t)},continue_statement:function(t,e){return new m(e,"continue statement").setAST(t)},return_statement:function(t,e){return x.createFromAST(t,e)},declaration_statement:function(t,e){return w.createFromAST(t,e)},expression_statement:function(t,e){return v.createFromAST(t,e)},null_statement:function(t,e){return new _(e).setAST(t)}};function h(t,e){return p[t.construct_type](t,e)}e.createStatementFromAST=h;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(i.BasicCPPConstruct);e.Statement=d;var y=function(t){function e(e,n){var r=t.call(this,e,"statement",n)||this;return n instanceof i.RuntimeFunction?r.containingRuntimeFunction=n:r.containingRuntimeFunction=n.containingRuntimeFunction,r}return r(e,t),e.prototype.popped=function(){t.prototype.popped.call(this),this.observable.send("reset")},e}(i.RuntimeConstruct);e.RuntimeStatement=y;var m=function(t){function e(e,n){var r=t.call(this,e)||this;return r.addNote(o.CPPError.lobster.unsupported_feature(r,n)),r}return r(e,t),e.prototype.createRuntimeStatement=function(t){throw new Error("Cannot create a runtime instance of an unsupported construct.")},e}(d);e.UnsupportedStatement=m;var v=function(t){function e(e,n){var r=t.call(this,e)||this;return r.attach(r.expression=n),r}return r(e,t),e.createFromAST=function(t,n){return new e(n,a.createExpressionFromAST(t.expression,n)).setAST(t)},e.prototype.createRuntimeStatement=function(t){return new b(this,t)},e.prototype.isTailChild=function(t){return{isTail:!0}},e}(d);e.ExpressionStatement=v;var b=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.index="expr",r.expression=r.model.expression.createRuntimeExpression(r),r}return r(e,t),e.prototype.upNextImpl=function(){return"expr"===this.index&&(this.sim.push(this.expression),this.index="done"),!0},e.prototype.stepForwardImpl=function(){return this.sim.pop(),!1},e}(y);e.RuntimeExpressionStatement=b;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.createRuntimeStatement=function(t){return new g(this,t)},e.prototype.isTailChild=function(t){return{isTail:!0}},e}(d);e.NullStatement=_;var g=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.upNextImpl=function(){return!1},e.prototype.stepForwardImpl=function(){return!1},e}(y);e.RuntimeNullStatement=g;var w=function(t){function e(e,n){var r=t.call(this,e)||this;return n instanceof u.FunctionDefinition?(r.addNote(o.CPPError.stmt.function_definition_prohibited(r)),r.attach(r.declarations=n),r):(r.attachAll(r.declarations=n),r)}return r(e,t),e.createFromAST=function(t,n){return new e(n,u.createDeclarationFromAST(t.declaration,n)).setAST(t)},e.prototype.createRuntimeStatement=function(t){return new R(this,t)},e.prototype.isTailChild=function(t){return{isTail:!0}},e}(d);e.DeclarationStatement=w;var R=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.index=0,r}return r(e,t),e.prototype.upNextImpl=function(){var t=this.model.declarations.map(function(t){return t.initializer});if(this.index<t.length){var e=t[this.index];if(e){this.observable.send("initializing",this.index);var n=e.createRuntimeInitializer(this);this.sim.push(n)}++this.index,this.wait()}else this.sim.pop()},e.prototype.stepForwardImpl=function(){return!1},e}(y);e.RuntimeDeclarationStatement=R;var T,x=function(t){function e(e,n){var r=t.call(this,e)||this;r.expression=n;var i=r.context.containingFunction.type.returnType;return i instanceof c.VoidType?(n&&r.addNote(o.CPPError.stmt.returnStatement.exprVoid(r)),r):n?(i instanceof c.ReferenceType?r.returnInitializer=s.DirectInitializer.create(e,new l.ReturnByReferenceEntity(i.refTo),[n]):r.returnInitializer=s.DirectInitializer.create(e,new l.ReturnObjectEntity(i),[n]),r.attach(r.returnInitializer),r):(r.addNote(o.CPPError.stmt.returnStatement.empty(r)),r)}return r(e,t),e.createFromAST=function(t,n){return t.expression?new e(n,a.createExpressionFromAST(t.expression,n)).setAST(t):new e(n).setAST(t)},e.prototype.createRuntimeStatement=function(t){return new E(this,t)},e}(d);e.ReturnStatement=x,function(t){t[t.PUSH_INITIALIZER=0]="PUSH_INITIALIZER",t[t.RETURN=1]="RETURN"}(T||(T={}));var E=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.index=T.PUSH_INITIALIZER,e.returnInitializer&&(r.returnInitializer=e.returnInitializer.createRuntimeInitializer(r)),r}return r(e,t),e.prototype.upNextImpl=function(){this.index===T.PUSH_INITIALIZER&&(this.returnInitializer&&this.sim.push(this.returnInitializer),this.index=T.RETURN)},e.prototype.stepForwardImpl=function(){if(this.index===T.RETURN){var t=this.containingRuntimeFunction;this.observable.send("returned",{call:t.caller}),this.sim.popUntil(t)}},e}(y);e.RuntimeReturnStatement=E;var A=function(t){function e(e){var n=t.call(this,e)||this;return n.statements=[],n.blockContext=function(t){return Object.assign({},t,{contextualScope:new l.BlockScope(t.contextualScope),localObjects:[],localReferences:[]})}(e),n}return r(e,t),e.createFromAST=function(t,n){var r=new e(n).setAST(t);return t.statements.forEach(function(t){return r.addStatement(h(t,n))}),r},e.prototype.addStatement=function(t){f.asMutable(this.statements).push(t),this.attach(t)},e.prototype.createRuntimeStatement=function(t){return new C(this,t)},e}(d);e.Block=A;var C=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.index=0,r.statements=e.statements.map(function(t){return t.createRuntimeStatement(r)}),r}return r(e,t),e.prototype.upNextImpl=function(){this.index<this.statements.length?(this.observable.send("index",this.index),this.sim.push(this.statements[this.index++])):this.sim.pop()},e.prototype.stepForwardImpl=function(){},e}(y);e.RuntimeBlock=C},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){(function(t,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o,a=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",c="__lodash_hash_undefined__",l=500,f="__lodash_placeholder__",p=1,h=2,d=4,y=1,m=2,v=1,b=2,_=4,g=8,w=16,R=32,T=64,x=128,E=256,A=512,C=30,O="...",S=800,P=16,j=1,I=2,F=1/0,N=9007199254740991,k=1.7976931348623157e308,z=NaN,V=4294967295,L=V-1,B=V>>>1,D=[["ary",x],["bind",v],["bindKey",b],["curry",g],["curryRight",w],["flip",A],["partial",R],["partialRight",T],["rearg",E]],M="[object Arguments]",U="[object Array]",W="[object AsyncFunction]",q="[object Boolean]",$="[object Date]",G="[object DOMException]",H="[object Error]",Q="[object Function]",Z="[object GeneratorFunction]",K="[object Map]",Y="[object Number]",X="[object Null]",J="[object Object]",tt="[object Proxy]",et="[object RegExp]",nt="[object Set]",rt="[object String]",it="[object Symbol]",ot="[object Undefined]",at="[object WeakMap]",ut="[object WeakSet]",st="[object ArrayBuffer]",ct="[object DataView]",lt="[object Float32Array]",ft="[object Float64Array]",pt="[object Int8Array]",ht="[object Int16Array]",dt="[object Int32Array]",yt="[object Uint8Array]",mt="[object Uint8ClampedArray]",vt="[object Uint16Array]",bt="[object Uint32Array]",_t=/\b__p \+= '';/g,gt=/\b(__p \+=) '' \+/g,wt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Rt=/&(?:amp|lt|gt|quot|#39);/g,Tt=/[&<>"']/g,xt=RegExp(Rt.source),Et=RegExp(Tt.source),At=/<%-([\s\S]+?)%>/g,Ct=/<%([\s\S]+?)%>/g,Ot=/<%=([\s\S]+?)%>/g,St=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pt=/^\w*$/,jt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,It=/[\\^$.*+?()[\]{}|]/g,Ft=RegExp(It.source),Nt=/^\s+|\s+$/g,kt=/^\s+/,zt=/\s+$/,Vt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Lt=/\{\n\/\* \[wrapped with (.+)\] \*/,Bt=/,? & /,Dt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Mt=/\\(\\)?/g,Ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Wt=/\w*$/,qt=/^[-+]0x[0-9a-f]+$/i,$t=/^0b[01]+$/i,Gt=/^\[object .+?Constructor\]$/,Ht=/^0o[0-7]+$/i,Qt=/^(?:0|[1-9]\d*)$/,Zt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kt=/($^)/,Yt=/['\n\r\u2028\u2029\\]/g,Xt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Jt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",te="[\\ud800-\\udfff]",ee="["+Jt+"]",ne="["+Xt+"]",re="\\d+",ie="[\\u2700-\\u27bf]",oe="[a-z\\xdf-\\xf6\\xf8-\\xff]",ae="[^\\ud800-\\udfff"+Jt+re+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ue="\\ud83c[\\udffb-\\udfff]",se="[^\\ud800-\\udfff]",ce="(?:\\ud83c[\\udde6-\\uddff]){2}",le="[\\ud800-\\udbff][\\udc00-\\udfff]",fe="[A-Z\\xc0-\\xd6\\xd8-\\xde]",pe="(?:"+oe+"|"+ae+")",he="(?:"+fe+"|"+ae+")",de="(?:"+ne+"|"+ue+")"+"?",ye="[\\ufe0e\\ufe0f]?"+de+("(?:\\u200d(?:"+[se,ce,le].join("|")+")[\\ufe0e\\ufe0f]?"+de+")*"),me="(?:"+[ie,ce,le].join("|")+")"+ye,ve="(?:"+[se+ne+"?",ne,ce,le,te].join("|")+")",be=RegExp("[']","g"),_e=RegExp(ne,"g"),ge=RegExp(ue+"(?="+ue+")|"+ve+ye,"g"),we=RegExp([fe+"?"+oe+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[ee,fe,"$"].join("|")+")",he+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[ee,fe+pe,"$"].join("|")+")",fe+"?"+pe+"+(?:['](?:d|ll|m|re|s|t|ve))?",fe+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",re,me].join("|"),"g"),Re=RegExp("[\\u200d\\ud800-\\udfff"+Xt+"\\ufe0e\\ufe0f]"),Te=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ee=-1,Ae={};Ae[lt]=Ae[ft]=Ae[pt]=Ae[ht]=Ae[dt]=Ae[yt]=Ae[mt]=Ae[vt]=Ae[bt]=!0,Ae[M]=Ae[U]=Ae[st]=Ae[q]=Ae[ct]=Ae[$]=Ae[H]=Ae[Q]=Ae[K]=Ae[Y]=Ae[J]=Ae[et]=Ae[nt]=Ae[rt]=Ae[at]=!1;var Ce={};Ce[M]=Ce[U]=Ce[st]=Ce[ct]=Ce[q]=Ce[$]=Ce[lt]=Ce[ft]=Ce[pt]=Ce[ht]=Ce[dt]=Ce[K]=Ce[Y]=Ce[J]=Ce[et]=Ce[nt]=Ce[rt]=Ce[it]=Ce[yt]=Ce[mt]=Ce[vt]=Ce[bt]=!0,Ce[H]=Ce[Q]=Ce[at]=!1;var Oe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Se=parseFloat,Pe=parseInt,je="object"==typeof t&&t&&t.Object===Object&&t,Ie="object"==typeof self&&self&&self.Object===Object&&self,Fe=je||Ie||Function("return this")(),Ne="object"==typeof e&&e&&!e.nodeType&&e,ke=Ne&&"object"==typeof r&&r&&!r.nodeType&&r,ze=ke&&ke.exports===Ne,Ve=ze&&je.process,Le=function(){try{var t=ke&&ke.require&&ke.require("util").types;return t||Ve&&Ve.binding&&Ve.binding("util")}catch(t){}}(),Be=Le&&Le.isArrayBuffer,De=Le&&Le.isDate,Me=Le&&Le.isMap,Ue=Le&&Le.isRegExp,We=Le&&Le.isSet,qe=Le&&Le.isTypedArray;function $e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ge(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function He(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Qe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ze(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Ke(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Ye(t,e){return!!(null==t?0:t.length)&&sn(t,e,0)>-1}function Xe(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Je(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function tn(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function en(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function nn(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function rn(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var on=pn("length");function an(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function un(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function sn(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):un(t,ln,n)}function cn(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function ln(t){return t!=t}function fn(t,e){var n=null==t?0:t.length;return n?yn(t,e)/n:z}function pn(t){return function(e){return null==e?o:e[t]}}function hn(t){return function(e){return null==t?o:t[e]}}function dn(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function yn(t,e){for(var n,r=-1,i=t.length;++r<i;){var a=e(t[r]);a!==o&&(n=n===o?a:n+a)}return n}function mn(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function vn(t){return function(e){return t(e)}}function bn(t,e){return Je(e,function(e){return t[e]})}function _n(t,e){return t.has(e)}function gn(t,e){for(var n=-1,r=t.length;++n<r&&sn(e,t[n],0)>-1;);return n}function wn(t,e){for(var n=t.length;n--&&sn(e,t[n],0)>-1;);return n}var Rn=hn({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Tn=hn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function xn(t){return"\\"+Oe[t]}function En(t){return Re.test(t)}function An(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function Cn(t,e){return function(n){return t(e(n))}}function On(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==f||(t[n]=f,o[i++]=n)}return o}function Sn(t,e){return"__proto__"==e?o:t[e]}function Pn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function jn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function In(t){return En(t)?function(t){var e=ge.lastIndex=0;for(;ge.test(t);)++e;return e}(t):on(t)}function Fn(t){return En(t)?function(t){return t.match(ge)||[]}(t):function(t){return t.split("")}(t)}var Nn=hn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var kn=function t(e){var n=(e=null==e?Fe:kn.defaults(Fe.Object(),e,kn.pick(Fe,xe))).Array,r=e.Date,i=e.Error,Xt=e.Function,Jt=e.Math,te=e.Object,ee=e.RegExp,ne=e.String,re=e.TypeError,ie=n.prototype,oe=Xt.prototype,ae=te.prototype,ue=e["__core-js_shared__"],se=oe.toString,ce=ae.hasOwnProperty,le=0,fe=function(){var t=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),pe=ae.toString,he=se.call(te),de=Fe._,ye=ee("^"+se.call(ce).replace(It,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),me=ze?e.Buffer:o,ve=e.Symbol,ge=e.Uint8Array,Re=me?me.allocUnsafe:o,Oe=Cn(te.getPrototypeOf,te),je=te.create,Ie=ae.propertyIsEnumerable,Ne=ie.splice,ke=ve?ve.isConcatSpreadable:o,Ve=ve?ve.iterator:o,Le=ve?ve.toStringTag:o,on=function(){try{var t=Bo(te,"defineProperty");return t({},"",{}),t}catch(t){}}(),hn=e.clearTimeout!==Fe.clearTimeout&&e.clearTimeout,zn=r&&r.now!==Fe.Date.now&&r.now,Vn=e.setTimeout!==Fe.setTimeout&&e.setTimeout,Ln=Jt.ceil,Bn=Jt.floor,Dn=te.getOwnPropertySymbols,Mn=me?me.isBuffer:o,Un=e.isFinite,Wn=ie.join,qn=Cn(te.keys,te),$n=Jt.max,Gn=Jt.min,Hn=r.now,Qn=e.parseInt,Zn=Jt.random,Kn=ie.reverse,Yn=Bo(e,"DataView"),Xn=Bo(e,"Map"),Jn=Bo(e,"Promise"),tr=Bo(e,"Set"),er=Bo(e,"WeakMap"),nr=Bo(te,"create"),rr=er&&new er,ir={},or=la(Yn),ar=la(Xn),ur=la(Jn),sr=la(tr),cr=la(er),lr=ve?ve.prototype:o,fr=lr?lr.valueOf:o,pr=lr?lr.toString:o;function hr(t){if(Cu(t)&&!mu(t)&&!(t instanceof vr)){if(t instanceof mr)return t;if(ce.call(t,"__wrapped__"))return fa(t)}return new mr(t)}var dr=function(){function t(){}return function(e){if(!Au(e))return{};if(je)return je(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function yr(){}function mr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function vr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=V,this.__views__=[]}function br(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function _r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function gr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function wr(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new gr;++e<n;)this.add(t[e])}function Rr(t){var e=this.__data__=new _r(t);this.size=e.size}function Tr(t,e){var n=mu(t),r=!n&&yu(t),i=!n&&!r&&gu(t),o=!n&&!r&&!i&&ku(t),a=n||r||i||o,u=a?mn(t.length,ne):[],s=u.length;for(var c in t)!e&&!ce.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Go(c,s))||u.push(c);return u}function xr(t){var e=t.length;return e?t[wi(0,e-1)]:o}function Er(t,e){return ua(no(t),Nr(e,0,t.length))}function Ar(t){return ua(no(t))}function Cr(t,e,n){(n===o||pu(t[e],n))&&(n!==o||e in t)||Ir(t,e,n)}function Or(t,e,n){var r=t[e];ce.call(t,e)&&pu(r,n)&&(n!==o||e in t)||Ir(t,e,n)}function Sr(t,e){for(var n=t.length;n--;)if(pu(t[n][0],e))return n;return-1}function Pr(t,e,n,r){return Br(t,function(t,i,o){e(r,t,n(t),o)}),r}function jr(t,e){return t&&ro(e,rs(e),t)}function Ir(t,e,n){"__proto__"==e&&on?on(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Fr(t,e){for(var r=-1,i=e.length,a=n(i),u=null==t;++r<i;)a[r]=u?o:Xu(t,e[r]);return a}function Nr(t,e,n){return t==t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function kr(t,e,n,r,i,a){var u,s=e&p,c=e&h,l=e&d;if(n&&(u=i?n(t,r,i,a):n(t)),u!==o)return u;if(!Au(t))return t;var f=mu(t);if(f){if(u=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ce.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!s)return no(t,u)}else{var y=Uo(t),m=y==Q||y==Z;if(gu(t))return Ki(t,s);if(y==J||y==M||m&&!i){if(u=c||m?{}:qo(t),!s)return c?function(t,e){return ro(t,Mo(t),e)}(t,function(t,e){return t&&ro(e,is(e),t)}(u,t)):function(t,e){return ro(t,Do(t),e)}(t,jr(u,t))}else{if(!Ce[y])return i?t:{};u=function(t,e,n){var r=t.constructor;switch(e){case st:return Yi(t);case q:case $:return new r(+t);case ct:return function(t,e){var n=e?Yi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case lt:case ft:case pt:case ht:case dt:case yt:case mt:case vt:case bt:return Xi(t,n);case K:return new r;case Y:case rt:return new r(t);case et:return function(t){var e=new t.constructor(t.source,Wt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case nt:return new r;case it:return function(t){return fr?te(fr.call(t)):{}}(t)}}(t,y,s)}}a||(a=new Rr);var v=a.get(t);if(v)return v;if(a.set(t,u),Iu(t))return t.forEach(function(r){u.add(kr(r,e,n,r,t,a))}),u;if(Ou(t))return t.forEach(function(r,i){u.set(i,kr(r,e,n,i,t,a))}),u;var b=f?o:(l?c?Io:jo:c?is:rs)(t);return He(b||t,function(r,i){b&&(r=t[i=r]),Or(u,i,kr(r,e,n,i,t,a))}),u}function zr(t,e,n){var r=n.length;if(null==t)return!r;for(t=te(t);r--;){var i=n[r],a=e[i],u=t[i];if(u===o&&!(i in t)||!a(u))return!1}return!0}function Vr(t,e,n){if("function"!=typeof t)throw new re(s);return ra(function(){t.apply(o,n)},e)}function Lr(t,e,n,r){var i=-1,o=Ye,u=!0,s=t.length,c=[],l=e.length;if(!s)return c;n&&(e=Je(e,vn(n))),r?(o=Xe,u=!1):e.length>=a&&(o=_n,u=!1,e=new wr(e));t:for(;++i<s;){var f=t[i],p=null==n?f:n(f);if(f=r||0!==f?f:0,u&&p==p){for(var h=l;h--;)if(e[h]===p)continue t;c.push(f)}else o(e,p,r)||c.push(f)}return c}hr.templateSettings={escape:At,evaluate:Ct,interpolate:Ot,variable:"",imports:{_:hr}},hr.prototype=yr.prototype,hr.prototype.constructor=hr,mr.prototype=dr(yr.prototype),mr.prototype.constructor=mr,vr.prototype=dr(yr.prototype),vr.prototype.constructor=vr,br.prototype.clear=function(){this.__data__=nr?nr(null):{},this.size=0},br.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},br.prototype.get=function(t){var e=this.__data__;if(nr){var n=e[t];return n===c?o:n}return ce.call(e,t)?e[t]:o},br.prototype.has=function(t){var e=this.__data__;return nr?e[t]!==o:ce.call(e,t)},br.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=nr&&e===o?c:e,this},_r.prototype.clear=function(){this.__data__=[],this.size=0},_r.prototype.delete=function(t){var e=this.__data__,n=Sr(e,t);return!(n<0||(n==e.length-1?e.pop():Ne.call(e,n,1),--this.size,0))},_r.prototype.get=function(t){var e=this.__data__,n=Sr(e,t);return n<0?o:e[n][1]},_r.prototype.has=function(t){return Sr(this.__data__,t)>-1},_r.prototype.set=function(t,e){var n=this.__data__,r=Sr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},gr.prototype.clear=function(){this.size=0,this.__data__={hash:new br,map:new(Xn||_r),string:new br}},gr.prototype.delete=function(t){var e=Vo(this,t).delete(t);return this.size-=e?1:0,e},gr.prototype.get=function(t){return Vo(this,t).get(t)},gr.prototype.has=function(t){return Vo(this,t).has(t)},gr.prototype.set=function(t,e){var n=Vo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},wr.prototype.add=wr.prototype.push=function(t){return this.__data__.set(t,c),this},wr.prototype.has=function(t){return this.__data__.has(t)},Rr.prototype.clear=function(){this.__data__=new _r,this.size=0},Rr.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Rr.prototype.get=function(t){return this.__data__.get(t)},Rr.prototype.has=function(t){return this.__data__.has(t)},Rr.prototype.set=function(t,e){var n=this.__data__;if(n instanceof _r){var r=n.__data__;if(!Xn||r.length<a-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new gr(r)}return n.set(t,e),this.size=n.size,this};var Br=ao(Hr),Dr=ao(Qr,!0);function Mr(t,e){var n=!0;return Br(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Ur(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],u=e(a);if(null!=u&&(s===o?u==u&&!Nu(u):n(u,s)))var s=u,c=a}return c}function Wr(t,e){var n=[];return Br(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function qr(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=$o),i||(i=[]);++o<a;){var u=t[o];e>0&&n(u)?e>1?qr(u,e-1,n,r,i):tn(i,u):r||(i[i.length]=u)}return i}var $r=uo(),Gr=uo(!0);function Hr(t,e){return t&&$r(t,e,rs)}function Qr(t,e){return t&&Gr(t,e,rs)}function Zr(t,e){return Ke(e,function(e){return Tu(t[e])})}function Kr(t,e){for(var n=0,r=(e=Gi(e,t)).length;null!=t&&n<r;)t=t[ca(e[n++])];return n&&n==r?t:o}function Yr(t,e,n){var r=e(t);return mu(t)?r:tn(r,n(t))}function Xr(t){return null==t?t===o?ot:X:Le&&Le in te(t)?function(t){var e=ce.call(t,Le),n=t[Le];try{t[Le]=o;var r=!0}catch(t){}var i=pe.call(t);return r&&(e?t[Le]=n:delete t[Le]),i}(t):function(t){return pe.call(t)}(t)}function Jr(t,e){return t>e}function ti(t,e){return null!=t&&ce.call(t,e)}function ei(t,e){return null!=t&&e in te(t)}function ni(t,e,r){for(var i=r?Xe:Ye,a=t[0].length,u=t.length,s=u,c=n(u),l=1/0,f=[];s--;){var p=t[s];s&&e&&(p=Je(p,vn(e))),l=Gn(p.length,l),c[s]=!r&&(e||a>=120&&p.length>=120)?new wr(s&&p):o}p=t[0];var h=-1,d=c[0];t:for(;++h<a&&f.length<l;){var y=p[h],m=e?e(y):y;if(y=r||0!==y?y:0,!(d?_n(d,m):i(f,m,r))){for(s=u;--s;){var v=c[s];if(!(v?_n(v,m):i(t[s],m,r)))continue t}d&&d.push(m),f.push(y)}}return f}function ri(t,e,n){var r=null==(t=ea(t,e=Gi(e,t)))?t:t[ca(Ra(e))];return null==r?o:$e(r,t,n)}function ii(t){return Cu(t)&&Xr(t)==M}function oi(t,e,n,r,i){return t===e||(null==t||null==e||!Cu(t)&&!Cu(e)?t!=t&&e!=e:function(t,e,n,r,i,a){var u=mu(t),s=mu(e),c=u?U:Uo(t),l=s?U:Uo(e),f=(c=c==M?J:c)==J,p=(l=l==M?J:l)==J,h=c==l;if(h&&gu(t)){if(!gu(e))return!1;u=!0,f=!1}if(h&&!f)return a||(a=new Rr),u||ku(t)?So(t,e,n,r,i,a):function(t,e,n,r,i,o,a){switch(n){case ct:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case st:return!(t.byteLength!=e.byteLength||!o(new ge(t),new ge(e)));case q:case $:case Y:return pu(+t,+e);case H:return t.name==e.name&&t.message==e.message;case et:case rt:return t==e+"";case K:var u=An;case nt:var s=r&y;if(u||(u=Pn),t.size!=e.size&&!s)return!1;var c=a.get(t);if(c)return c==e;r|=m,a.set(t,e);var l=So(u(t),u(e),r,i,o,a);return a.delete(t),l;case it:if(fr)return fr.call(t)==fr.call(e)}return!1}(t,e,c,n,r,i,a);if(!(n&y)){var d=f&&ce.call(t,"__wrapped__"),v=p&&ce.call(e,"__wrapped__");if(d||v){var b=d?t.value():t,_=v?e.value():e;return a||(a=new Rr),i(b,_,n,r,a)}}return!!h&&(a||(a=new Rr),function(t,e,n,r,i,a){var u=n&y,s=jo(t),c=s.length,l=jo(e).length;if(c!=l&&!u)return!1;for(var f=c;f--;){var p=s[f];if(!(u?p in e:ce.call(e,p)))return!1}var h=a.get(t);if(h&&a.get(e))return h==e;var d=!0;a.set(t,e),a.set(e,t);for(var m=u;++f<c;){p=s[f];var v=t[p],b=e[p];if(r)var _=u?r(b,v,p,e,t,a):r(v,b,p,t,e,a);if(!(_===o?v===b||i(v,b,n,r,a):_)){d=!1;break}m||(m="constructor"==p)}if(d&&!m){var g=t.constructor,w=e.constructor;g!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof w&&w instanceof w)&&(d=!1)}return a.delete(t),a.delete(e),d}(t,e,n,r,i,a))}(t,e,n,r,oi,i))}function ai(t,e,n,r){var i=n.length,a=i,u=!r;if(null==t)return!a;for(t=te(t);i--;){var s=n[i];if(u&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){var c=(s=n[i])[0],l=t[c],f=s[1];if(u&&s[2]){if(l===o&&!(c in t))return!1}else{var p=new Rr;if(r)var h=r(l,f,c,t,e,p);if(!(h===o?oi(f,l,y|m,r,p):h))return!1}}return!0}function ui(t){return!(!Au(t)||function(t){return!!fe&&fe in t}(t))&&(Tu(t)?ye:Gt).test(la(t))}function si(t){return"function"==typeof t?t:null==t?Ss:"object"==typeof t?mu(t)?di(t[0],t[1]):hi(t):Ls(t)}function ci(t){if(!Yo(t))return qn(t);var e=[];for(var n in te(t))ce.call(t,n)&&"constructor"!=n&&e.push(n);return e}function li(t){if(!Au(t))return function(t){var e=[];if(null!=t)for(var n in te(t))e.push(n);return e}(t);var e=Yo(t),n=[];for(var r in t)("constructor"!=r||!e&&ce.call(t,r))&&n.push(r);return n}function fi(t,e){return t<e}function pi(t,e){var r=-1,i=bu(t)?n(t.length):[];return Br(t,function(t,n,o){i[++r]=e(t,n,o)}),i}function hi(t){var e=Lo(t);return 1==e.length&&e[0][2]?Jo(e[0][0],e[0][1]):function(n){return n===t||ai(n,t,e)}}function di(t,e){return Qo(t)&&Xo(e)?Jo(ca(t),e):function(n){var r=Xu(n,t);return r===o&&r===e?Ju(n,t):oi(e,r,y|m)}}function yi(t,e,n,r,i){t!==e&&$r(e,function(a,u){if(Au(a))i||(i=new Rr),function(t,e,n,r,i,a,u){var s=Sn(t,n),c=Sn(e,n),l=u.get(c);if(l)Cr(t,n,l);else{var f=a?a(s,c,n+"",t,e,u):o,p=f===o;if(p){var h=mu(c),d=!h&&gu(c),y=!h&&!d&&ku(c);f=c,h||d||y?mu(s)?f=s:_u(s)?f=no(s):d?(p=!1,f=Ki(c,!0)):y?(p=!1,f=Xi(c,!0)):f=[]:Pu(c)||yu(c)?(f=s,yu(s)?f=Wu(s):(!Au(s)||r&&Tu(s))&&(f=qo(c))):p=!1}p&&(u.set(c,f),i(f,c,r,a,u),u.delete(c)),Cr(t,n,f)}}(t,e,u,n,yi,r,i);else{var s=r?r(Sn(t,u),a,u+"",t,e,i):o;s===o&&(s=a),Cr(t,u,s)}},is)}function mi(t,e){var n=t.length;if(n)return Go(e+=e<0?n:0,n)?t[e]:o}function vi(t,e,n){var r=-1;return e=Je(e.length?e:[Ss],vn(zo())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(pi(t,function(t,n,i){return{criteria:Je(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,u=n.length;++r<a;){var s=Ji(i[r],o[r]);if(s){if(r>=u)return s;var c=n[r];return s*("desc"==c?-1:1)}}return t.index-e.index}(t,e,n)})}function bi(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],u=Kr(t,a);n(u,a)&&Ai(o,Gi(a,t),u)}return o}function _i(t,e,n,r){var i=r?cn:sn,o=-1,a=e.length,u=t;for(t===e&&(e=no(e)),n&&(u=Je(t,vn(n)));++o<a;)for(var s=0,c=e[o],l=n?n(c):c;(s=i(u,l,s,r))>-1;)u!==t&&Ne.call(u,s,1),Ne.call(t,s,1);return t}function gi(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Go(i)?Ne.call(t,i,1):Li(t,i)}}return t}function wi(t,e){return t+Bn(Zn()*(e-t+1))}function Ri(t,e){var n="";if(!t||e<1||e>N)return n;do{e%2&&(n+=t),(e=Bn(e/2))&&(t+=t)}while(e);return n}function Ti(t,e){return ia(ta(t,e,Ss),t+"")}function xi(t){return xr(ps(t))}function Ei(t,e){var n=ps(t);return ua(n,Nr(e,0,n.length))}function Ai(t,e,n,r){if(!Au(t))return t;for(var i=-1,a=(e=Gi(e,t)).length,u=a-1,s=t;null!=s&&++i<a;){var c=ca(e[i]),l=n;if(i!=u){var f=s[c];(l=r?r(f,c,s):o)===o&&(l=Au(f)?f:Go(e[i+1])?[]:{})}Or(s,c,l),s=s[c]}return t}var Ci=rr?function(t,e){return rr.set(t,e),t}:Ss,Oi=on?function(t,e){return on(t,"toString",{configurable:!0,enumerable:!1,value:As(e),writable:!0})}:Ss;function Si(t){return ua(ps(t))}function Pi(t,e,r){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var a=n(o);++i<o;)a[i]=t[i+e];return a}function ji(t,e){var n;return Br(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function Ii(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=B){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Nu(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Fi(t,e,Ss,n)}function Fi(t,e,n,r){e=n(e);for(var i=0,a=null==t?0:t.length,u=e!=e,s=null===e,c=Nu(e),l=e===o;i<a;){var f=Bn((i+a)/2),p=n(t[f]),h=p!==o,d=null===p,y=p==p,m=Nu(p);if(u)var v=r||y;else v=l?y&&(r||h):s?y&&h&&(r||!d):c?y&&h&&!d&&(r||!m):!d&&!m&&(r?p<=e:p<e);v?i=f+1:a=f}return Gn(a,L)}function Ni(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],u=e?e(a):a;if(!n||!pu(u,s)){var s=u;o[i++]=0===a?0:a}}return o}function ki(t){return"number"==typeof t?t:Nu(t)?z:+t}function zi(t){if("string"==typeof t)return t;if(mu(t))return Je(t,zi)+"";if(Nu(t))return pr?pr.call(t):"";var e=t+"";return"0"==e&&1/t==-F?"-0":e}function Vi(t,e,n){var r=-1,i=Ye,o=t.length,u=!0,s=[],c=s;if(n)u=!1,i=Xe;else if(o>=a){var l=e?null:To(t);if(l)return Pn(l);u=!1,i=_n,c=new wr}else c=e?[]:s;t:for(;++r<o;){var f=t[r],p=e?e(f):f;if(f=n||0!==f?f:0,u&&p==p){for(var h=c.length;h--;)if(c[h]===p)continue t;e&&c.push(p),s.push(f)}else i(c,p,n)||(c!==s&&c.push(p),s.push(f))}return s}function Li(t,e){return null==(t=ea(t,e=Gi(e,t)))||delete t[ca(Ra(e))]}function Bi(t,e,n,r){return Ai(t,e,n(Kr(t,e)),r)}function Di(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Pi(t,r?0:o,r?o+1:i):Pi(t,r?o+1:0,r?i:o)}function Mi(t,e){var n=t;return n instanceof vr&&(n=n.value()),en(e,function(t,e){return e.func.apply(e.thisArg,tn([t],e.args))},n)}function Ui(t,e,r){var i=t.length;if(i<2)return i?Vi(t[0]):[];for(var o=-1,a=n(i);++o<i;)for(var u=t[o],s=-1;++s<i;)s!=o&&(a[o]=Lr(a[o]||u,t[s],e,r));return Vi(qr(a,1),e,r)}function Wi(t,e,n){for(var r=-1,i=t.length,a=e.length,u={};++r<i;){var s=r<a?e[r]:o;n(u,t[r],s)}return u}function qi(t){return _u(t)?t:[]}function $i(t){return"function"==typeof t?t:Ss}function Gi(t,e){return mu(t)?t:Qo(t,e)?[t]:sa(qu(t))}var Hi=Ti;function Qi(t,e,n){var r=t.length;return n=n===o?r:n,!e&&n>=r?t:Pi(t,e,n)}var Zi=hn||function(t){return Fe.clearTimeout(t)};function Ki(t,e){if(e)return t.slice();var n=t.length,r=Re?Re(n):new t.constructor(n);return t.copy(r),r}function Yi(t){var e=new t.constructor(t.byteLength);return new ge(e).set(new ge(t)),e}function Xi(t,e){var n=e?Yi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ji(t,e){if(t!==e){var n=t!==o,r=null===t,i=t==t,a=Nu(t),u=e!==o,s=null===e,c=e==e,l=Nu(e);if(!s&&!l&&!a&&t>e||a&&u&&c&&!s&&!l||r&&u&&c||!n&&c||!i)return 1;if(!r&&!a&&!l&&t<e||l&&n&&i&&!r&&!a||s&&n&&i||!u&&i||!c)return-1}return 0}function to(t,e,r,i){for(var o=-1,a=t.length,u=r.length,s=-1,c=e.length,l=$n(a-u,0),f=n(c+l),p=!i;++s<c;)f[s]=e[s];for(;++o<u;)(p||o<a)&&(f[r[o]]=t[o]);for(;l--;)f[s++]=t[o++];return f}function eo(t,e,r,i){for(var o=-1,a=t.length,u=-1,s=r.length,c=-1,l=e.length,f=$n(a-s,0),p=n(f+l),h=!i;++o<f;)p[o]=t[o];for(var d=o;++c<l;)p[d+c]=e[c];for(;++u<s;)(h||o<a)&&(p[d+r[u]]=t[o++]);return p}function no(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function ro(t,e,n,r){var i=!n;n||(n={});for(var a=-1,u=e.length;++a<u;){var s=e[a],c=r?r(n[s],t[s],s,n,t):o;c===o&&(c=t[s]),i?Ir(n,s,c):Or(n,s,c)}return n}function io(t,e){return function(n,r){var i=mu(n)?Ge:Pr,o=e?e():{};return i(n,t,zo(r,2),o)}}function oo(t){return Ti(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,u=i>2?n[2]:o;for(a=t.length>3&&"function"==typeof a?(i--,a):o,u&&Ho(n[0],n[1],u)&&(a=i<3?o:a,i=1),e=te(e);++r<i;){var s=n[r];s&&t(e,s,r,a)}return e})}function ao(t,e){return function(n,r){if(null==n)return n;if(!bu(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=te(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function uo(t){return function(e,n,r){for(var i=-1,o=te(e),a=r(e),u=a.length;u--;){var s=a[t?u:++i];if(!1===n(o[s],s,o))break}return e}}function so(t){return function(e){var n=En(e=qu(e))?Fn(e):o,r=n?n[0]:e.charAt(0),i=n?Qi(n,1).join(""):e.slice(1);return r[t]()+i}}function co(t){return function(e){return en(Ts(ys(e).replace(be,"")),t,"")}}function lo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=dr(t.prototype),r=t.apply(n,e);return Au(r)?r:n}}function fo(t){return function(e,n,r){var i=te(e);if(!bu(e)){var a=zo(n,3);e=rs(e),n=function(t){return a(i[t],t,i)}}var u=t(e,n,r);return u>-1?i[a?e[u]:u]:o}}function po(t){return Po(function(e){var n=e.length,r=n,i=mr.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new re(s);if(i&&!u&&"wrapper"==No(a))var u=new mr([],!0)}for(r=u?r:n;++r<n;){var c=No(a=e[r]),l="wrapper"==c?Fo(a):o;u=l&&Zo(l[0])&&l[1]==(x|g|R|E)&&!l[4].length&&1==l[9]?u[No(l[0])].apply(u,l[3]):1==a.length&&Zo(a)?u[c]():u.thru(a)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&mu(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function ho(t,e,r,i,a,u,s,c,l,f){var p=e&x,h=e&v,d=e&b,y=e&(g|w),m=e&A,_=d?o:lo(t);return function v(){for(var b=arguments.length,g=n(b),w=b;w--;)g[w]=arguments[w];if(y)var R=ko(v),T=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(g,R);if(i&&(g=to(g,i,a,y)),u&&(g=eo(g,u,s,y)),b-=T,y&&b<f){var x=On(g,R);return wo(t,e,ho,v.placeholder,r,g,x,c,l,f-b)}var E=h?r:this,A=d?E[t]:t;return b=g.length,c?g=function(t,e){for(var n=t.length,r=Gn(e.length,n),i=no(t);r--;){var a=e[r];t[r]=Go(a,n)?i[a]:o}return t}(g,c):m&&b>1&&g.reverse(),p&&l<b&&(g.length=l),this&&this!==Fe&&this instanceof v&&(A=_||lo(A)),A.apply(E,g)}}function yo(t,e){return function(n,r){return function(t,e,n,r){return Hr(t,function(t,i,o){e(r,n(t),i,o)}),r}(n,t,e(r),{})}}function mo(t,e){return function(n,r){var i;if(n===o&&r===o)return e;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=zi(n),r=zi(r)):(n=ki(n),r=ki(r)),i=t(n,r)}return i}}function vo(t){return Po(function(e){return e=Je(e,vn(zo())),Ti(function(n){var r=this;return t(e,function(t){return $e(t,r,n)})})})}function bo(t,e){var n=(e=e===o?" ":zi(e)).length;if(n<2)return n?Ri(e,t):e;var r=Ri(e,Ln(t/In(e)));return En(e)?Qi(Fn(r),0,t).join(""):r.slice(0,t)}function _o(t){return function(e,r,i){return i&&"number"!=typeof i&&Ho(e,r,i)&&(r=i=o),e=Bu(e),r===o?(r=e,e=0):r=Bu(r),function(t,e,r,i){for(var o=-1,a=$n(Ln((e-t)/(r||1)),0),u=n(a);a--;)u[i?a:++o]=t,t+=r;return u}(e,r,i=i===o?e<r?1:-1:Bu(i),t)}}function go(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Uu(e),n=Uu(n)),t(e,n)}}function wo(t,e,n,r,i,a,u,s,c,l){var f=e&g;e|=f?R:T,(e&=~(f?T:R))&_||(e&=~(v|b));var p=[t,e,i,f?a:o,f?u:o,f?o:a,f?o:u,s,c,l],h=n.apply(o,p);return Zo(t)&&na(h,p),h.placeholder=r,oa(h,t,e)}function Ro(t){var e=Jt[t];return function(t,n){if(t=Uu(t),n=null==n?0:Gn(Du(n),292)){var r=(qu(t)+"e").split("e");return+((r=(qu(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var To=tr&&1/Pn(new tr([,-0]))[1]==F?function(t){return new tr(t)}:Ns;function xo(t){return function(e){var n=Uo(e);return n==K?An(e):n==nt?jn(e):function(t,e){return Je(e,function(e){return[e,t[e]]})}(e,t(e))}}function Eo(t,e,r,i,a,u,c,l){var p=e&b;if(!p&&"function"!=typeof t)throw new re(s);var h=i?i.length:0;if(h||(e&=~(R|T),i=a=o),c=c===o?c:$n(Du(c),0),l=l===o?l:Du(l),h-=a?a.length:0,e&T){var d=i,y=a;i=a=o}var m=p?o:Fo(t),A=[t,e,r,i,a,d,y,u,c,l];if(m&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<(v|b|x),a=r==x&&n==g||r==x&&n==E&&t[7].length<=e[8]||r==(x|E)&&e[7].length<=e[8]&&n==g;if(!o&&!a)return t;r&v&&(t[2]=e[2],i|=n&v?0:_);var u=e[3];if(u){var s=t[3];t[3]=s?to(s,u,e[4]):u,t[4]=s?On(t[3],f):e[4]}(u=e[5])&&(s=t[5],t[5]=s?eo(s,u,e[6]):u,t[6]=s?On(t[5],f):e[6]),(u=e[7])&&(t[7]=u),r&x&&(t[8]=null==t[8]?e[8]:Gn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(A,m),t=A[0],e=A[1],r=A[2],i=A[3],a=A[4],!(l=A[9]=A[9]===o?p?0:t.length:$n(A[9]-h,0))&&e&(g|w)&&(e&=~(g|w)),e&&e!=v)C=e==g||e==w?function(t,e,r){var i=lo(t);return function a(){for(var u=arguments.length,s=n(u),c=u,l=ko(a);c--;)s[c]=arguments[c];var f=u<3&&s[0]!==l&&s[u-1]!==l?[]:On(s,l);return(u-=f.length)<r?wo(t,e,ho,a.placeholder,o,s,f,o,o,r-u):$e(this&&this!==Fe&&this instanceof a?i:t,this,s)}}(t,e,l):e!=R&&e!=(v|R)||a.length?ho.apply(o,A):function(t,e,r,i){var o=e&v,a=lo(t);return function e(){for(var u=-1,s=arguments.length,c=-1,l=i.length,f=n(l+s),p=this&&this!==Fe&&this instanceof e?a:t;++c<l;)f[c]=i[c];for(;s--;)f[c++]=arguments[++u];return $e(p,o?r:this,f)}}(t,e,r,i);else var C=function(t,e,n){var r=e&v,i=lo(t);return function e(){return(this&&this!==Fe&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,r);return oa((m?Ci:na)(C,A),t,e)}function Ao(t,e,n,r){return t===o||pu(t,ae[n])&&!ce.call(r,n)?e:t}function Co(t,e,n,r,i,a){return Au(t)&&Au(e)&&(a.set(e,t),yi(t,e,o,Co,a),a.delete(e)),t}function Oo(t){return Pu(t)?o:t}function So(t,e,n,r,i,a){var u=n&y,s=t.length,c=e.length;if(s!=c&&!(u&&c>s))return!1;var l=a.get(t);if(l&&a.get(e))return l==e;var f=-1,p=!0,h=n&m?new wr:o;for(a.set(t,e),a.set(e,t);++f<s;){var d=t[f],v=e[f];if(r)var b=u?r(v,d,f,e,t,a):r(d,v,f,t,e,a);if(b!==o){if(b)continue;p=!1;break}if(h){if(!rn(e,function(t,e){if(!_n(h,e)&&(d===t||i(d,t,n,r,a)))return h.push(e)})){p=!1;break}}else if(d!==v&&!i(d,v,n,r,a)){p=!1;break}}return a.delete(t),a.delete(e),p}function Po(t){return ia(ta(t,o,va),t+"")}function jo(t){return Yr(t,rs,Do)}function Io(t){return Yr(t,is,Mo)}var Fo=rr?function(t){return rr.get(t)}:Ns;function No(t){for(var e=t.name+"",n=ir[e],r=ce.call(ir,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function ko(t){return(ce.call(hr,"placeholder")?hr:t).placeholder}function zo(){var t=hr.iteratee||Ps;return t=t===Ps?si:t,arguments.length?t(arguments[0],arguments[1]):t}function Vo(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Lo(t){for(var e=rs(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Xo(i)]}return e}function Bo(t,e){var n=function(t,e){return null==t?o:t[e]}(t,e);return ui(n)?n:o}var Do=Dn?function(t){return null==t?[]:(t=te(t),Ke(Dn(t),function(e){return Ie.call(t,e)}))}:Ms,Mo=Dn?function(t){for(var e=[];t;)tn(e,Do(t)),t=Oe(t);return e}:Ms,Uo=Xr;function Wo(t,e,n){for(var r=-1,i=(e=Gi(e,t)).length,o=!1;++r<i;){var a=ca(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Eu(i)&&Go(a,i)&&(mu(t)||yu(t))}function qo(t){return"function"!=typeof t.constructor||Yo(t)?{}:dr(Oe(t))}function $o(t){return mu(t)||yu(t)||!!(ke&&t&&t[ke])}function Go(t,e){var n=typeof t;return!!(e=null==e?N:e)&&("number"==n||"symbol"!=n&&Qt.test(t))&&t>-1&&t%1==0&&t<e}function Ho(t,e,n){if(!Au(n))return!1;var r=typeof e;return!!("number"==r?bu(n)&&Go(e,n.length):"string"==r&&e in n)&&pu(n[e],t)}function Qo(t,e){if(mu(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Nu(t))||Pt.test(t)||!St.test(t)||null!=e&&t in te(e)}function Zo(t){var e=No(t),n=hr[e];if("function"!=typeof n||!(e in vr.prototype))return!1;if(t===n)return!0;var r=Fo(n);return!!r&&t===r[0]}(Yn&&Uo(new Yn(new ArrayBuffer(1)))!=ct||Xn&&Uo(new Xn)!=K||Jn&&"[object Promise]"!=Uo(Jn.resolve())||tr&&Uo(new tr)!=nt||er&&Uo(new er)!=at)&&(Uo=function(t){var e=Xr(t),n=e==J?t.constructor:o,r=n?la(n):"";if(r)switch(r){case or:return ct;case ar:return K;case ur:return"[object Promise]";case sr:return nt;case cr:return at}return e});var Ko=ue?Tu:Us;function Yo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ae)}function Xo(t){return t==t&&!Au(t)}function Jo(t,e){return function(n){return null!=n&&n[t]===e&&(e!==o||t in te(n))}}function ta(t,e,r){return e=$n(e===o?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=$n(i.length-e,0),u=n(a);++o<a;)u[o]=i[e+o];o=-1;for(var s=n(e+1);++o<e;)s[o]=i[o];return s[e]=r(u),$e(t,this,s)}}function ea(t,e){return e.length<2?t:Kr(t,Pi(e,0,-1))}var na=aa(Ci),ra=Vn||function(t,e){return Fe.setTimeout(t,e)},ia=aa(Oi);function oa(t,e,n){var r=e+"";return ia(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Vt,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return He(D,function(n){var r="_."+n[0];e&n[1]&&!Ye(t,r)&&t.push(r)}),t.sort()}(function(t){var e=t.match(Lt);return e?e[1].split(Bt):[]}(r),n)))}function aa(t){var e=0,n=0;return function(){var r=Hn(),i=P-(r-n);if(n=r,i>0){if(++e>=S)return arguments[0]}else e=0;return t.apply(o,arguments)}}function ua(t,e){var n=-1,r=t.length,i=r-1;for(e=e===o?r:e;++n<e;){var a=wi(n,i),u=t[a];t[a]=t[n],t[n]=u}return t.length=e,t}var sa=function(t){var e=au(t,function(t){return n.size===l&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(jt,function(t,n,r,i){e.push(r?i.replace(Mt,"$1"):n||t)}),e});function ca(t){if("string"==typeof t||Nu(t))return t;var e=t+"";return"0"==e&&1/t==-F?"-0":e}function la(t){if(null!=t){try{return se.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function fa(t){if(t instanceof vr)return t.clone();var e=new mr(t.__wrapped__,t.__chain__);return e.__actions__=no(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var pa=Ti(function(t,e){return _u(t)?Lr(t,qr(e,1,_u,!0)):[]}),ha=Ti(function(t,e){var n=Ra(e);return _u(n)&&(n=o),_u(t)?Lr(t,qr(e,1,_u,!0),zo(n,2)):[]}),da=Ti(function(t,e){var n=Ra(e);return _u(n)&&(n=o),_u(t)?Lr(t,qr(e,1,_u,!0),o,n):[]});function ya(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Du(n);return i<0&&(i=$n(r+i,0)),un(t,zo(e,3),i)}function ma(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==o&&(i=Du(n),i=n<0?$n(r+i,0):Gn(i,r-1)),un(t,zo(e,3),i,!0)}function va(t){return null!=t&&t.length?qr(t,1):[]}function ba(t){return t&&t.length?t[0]:o}var _a=Ti(function(t){var e=Je(t,qi);return e.length&&e[0]===t[0]?ni(e):[]}),ga=Ti(function(t){var e=Ra(t),n=Je(t,qi);return e===Ra(n)?e=o:n.pop(),n.length&&n[0]===t[0]?ni(n,zo(e,2)):[]}),wa=Ti(function(t){var e=Ra(t),n=Je(t,qi);return(e="function"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?ni(n,o,e):[]});function Ra(t){var e=null==t?0:t.length;return e?t[e-1]:o}var Ta=Ti(xa);function xa(t,e){return t&&t.length&&e&&e.length?_i(t,e):t}var Ea=Po(function(t,e){var n=null==t?0:t.length,r=Fr(t,e);return gi(t,Je(e,function(t){return Go(t,n)?+t:t}).sort(Ji)),r});function Aa(t){return null==t?t:Kn.call(t)}var Ca=Ti(function(t){return Vi(qr(t,1,_u,!0))}),Oa=Ti(function(t){var e=Ra(t);return _u(e)&&(e=o),Vi(qr(t,1,_u,!0),zo(e,2))}),Sa=Ti(function(t){var e=Ra(t);return e="function"==typeof e?e:o,Vi(qr(t,1,_u,!0),o,e)});function Pa(t){if(!t||!t.length)return[];var e=0;return t=Ke(t,function(t){if(_u(t))return e=$n(t.length,e),!0}),mn(e,function(e){return Je(t,pn(e))})}function ja(t,e){if(!t||!t.length)return[];var n=Pa(t);return null==e?n:Je(n,function(t){return $e(e,o,t)})}var Ia=Ti(function(t,e){return _u(t)?Lr(t,e):[]}),Fa=Ti(function(t){return Ui(Ke(t,_u))}),Na=Ti(function(t){var e=Ra(t);return _u(e)&&(e=o),Ui(Ke(t,_u),zo(e,2))}),ka=Ti(function(t){var e=Ra(t);return e="function"==typeof e?e:o,Ui(Ke(t,_u),o,e)}),za=Ti(Pa);var Va=Ti(function(t){var e=t.length,n=e>1?t[e-1]:o;return ja(t,n="function"==typeof n?(t.pop(),n):o)});function La(t){var e=hr(t);return e.__chain__=!0,e}function Ba(t,e){return e(t)}var Da=Po(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Fr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof vr&&Go(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:Ba,args:[i],thisArg:o}),new mr(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(o),t})):this.thru(i)});var Ma=io(function(t,e,n){ce.call(t,n)?++t[n]:Ir(t,n,1)});var Ua=fo(ya),Wa=fo(ma);function qa(t,e){return(mu(t)?He:Br)(t,zo(e,3))}function $a(t,e){return(mu(t)?Qe:Dr)(t,zo(e,3))}var Ga=io(function(t,e,n){ce.call(t,n)?t[n].push(e):Ir(t,n,[e])});var Ha=Ti(function(t,e,r){var i=-1,o="function"==typeof e,a=bu(t)?n(t.length):[];return Br(t,function(t){a[++i]=o?$e(e,t,r):ri(t,e,r)}),a}),Qa=io(function(t,e,n){Ir(t,n,e)});function Za(t,e){return(mu(t)?Je:pi)(t,zo(e,3))}var Ka=io(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var Ya=Ti(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Ho(t,e[0],e[1])?e=[]:n>2&&Ho(e[0],e[1],e[2])&&(e=[e[0]]),vi(t,qr(e,1),[])}),Xa=zn||function(){return Fe.Date.now()};function Ja(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,Eo(t,x,o,o,o,o,e)}function tu(t,e){var n;if("function"!=typeof e)throw new re(s);return t=Du(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var eu=Ti(function(t,e,n){var r=v;if(n.length){var i=On(n,ko(eu));r|=R}return Eo(t,r,e,n,i)}),nu=Ti(function(t,e,n){var r=v|b;if(n.length){var i=On(n,ko(nu));r|=R}return Eo(e,r,t,n,i)});function ru(t,e,n){var r,i,a,u,c,l,f=0,p=!1,h=!1,d=!0;if("function"!=typeof t)throw new re(s);function y(e){var n=r,a=i;return r=i=o,f=e,u=t.apply(a,n)}function m(t){var n=t-l;return l===o||n>=e||n<0||h&&t-f>=a}function v(){var t=Xa();if(m(t))return b(t);c=ra(v,function(t){var n=e-(t-l);return h?Gn(n,a-(t-f)):n}(t))}function b(t){return c=o,d&&r?y(t):(r=i=o,u)}function _(){var t=Xa(),n=m(t);if(r=arguments,i=this,l=t,n){if(c===o)return function(t){return f=t,c=ra(v,e),p?y(t):u}(l);if(h)return c=ra(v,e),y(l)}return c===o&&(c=ra(v,e)),u}return e=Uu(e)||0,Au(n)&&(p=!!n.leading,a=(h="maxWait"in n)?$n(Uu(n.maxWait)||0,e):a,d="trailing"in n?!!n.trailing:d),_.cancel=function(){c!==o&&Zi(c),f=0,r=l=i=c=o},_.flush=function(){return c===o?u:b(Xa())},_}var iu=Ti(function(t,e){return Vr(t,1,e)}),ou=Ti(function(t,e,n){return Vr(t,Uu(e)||0,n)});function au(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new re(s);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(au.Cache||gr),n}function uu(t){if("function"!=typeof t)throw new re(s);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}au.Cache=gr;var su=Hi(function(t,e){var n=(e=1==e.length&&mu(e[0])?Je(e[0],vn(zo())):Je(qr(e,1),vn(zo()))).length;return Ti(function(r){for(var i=-1,o=Gn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return $e(t,this,r)})}),cu=Ti(function(t,e){var n=On(e,ko(cu));return Eo(t,R,o,e,n)}),lu=Ti(function(t,e){var n=On(e,ko(lu));return Eo(t,T,o,e,n)}),fu=Po(function(t,e){return Eo(t,E,o,o,o,e)});function pu(t,e){return t===e||t!=t&&e!=e}var hu=go(Jr),du=go(function(t,e){return t>=e}),yu=ii(function(){return arguments}())?ii:function(t){return Cu(t)&&ce.call(t,"callee")&&!Ie.call(t,"callee")},mu=n.isArray,vu=Be?vn(Be):function(t){return Cu(t)&&Xr(t)==st};function bu(t){return null!=t&&Eu(t.length)&&!Tu(t)}function _u(t){return Cu(t)&&bu(t)}var gu=Mn||Us,wu=De?vn(De):function(t){return Cu(t)&&Xr(t)==$};function Ru(t){if(!Cu(t))return!1;var e=Xr(t);return e==H||e==G||"string"==typeof t.message&&"string"==typeof t.name&&!Pu(t)}function Tu(t){if(!Au(t))return!1;var e=Xr(t);return e==Q||e==Z||e==W||e==tt}function xu(t){return"number"==typeof t&&t==Du(t)}function Eu(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=N}function Au(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Cu(t){return null!=t&&"object"==typeof t}var Ou=Me?vn(Me):function(t){return Cu(t)&&Uo(t)==K};function Su(t){return"number"==typeof t||Cu(t)&&Xr(t)==Y}function Pu(t){if(!Cu(t)||Xr(t)!=J)return!1;var e=Oe(t);if(null===e)return!0;var n=ce.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&se.call(n)==he}var ju=Ue?vn(Ue):function(t){return Cu(t)&&Xr(t)==et};var Iu=We?vn(We):function(t){return Cu(t)&&Uo(t)==nt};function Fu(t){return"string"==typeof t||!mu(t)&&Cu(t)&&Xr(t)==rt}function Nu(t){return"symbol"==typeof t||Cu(t)&&Xr(t)==it}var ku=qe?vn(qe):function(t){return Cu(t)&&Eu(t.length)&&!!Ae[Xr(t)]};var zu=go(fi),Vu=go(function(t,e){return t<=e});function Lu(t){if(!t)return[];if(bu(t))return Fu(t)?Fn(t):no(t);if(Ve&&t[Ve])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Ve]());var e=Uo(t);return(e==K?An:e==nt?Pn:ps)(t)}function Bu(t){return t?(t=Uu(t))===F||t===-F?(t<0?-1:1)*k:t==t?t:0:0===t?t:0}function Du(t){var e=Bu(t),n=e%1;return e==e?n?e-n:e:0}function Mu(t){return t?Nr(Du(t),0,V):0}function Uu(t){if("number"==typeof t)return t;if(Nu(t))return z;if(Au(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Au(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Nt,"");var n=$t.test(t);return n||Ht.test(t)?Pe(t.slice(2),n?2:8):qt.test(t)?z:+t}function Wu(t){return ro(t,is(t))}function qu(t){return null==t?"":zi(t)}var $u=oo(function(t,e){if(Yo(e)||bu(e))ro(e,rs(e),t);else for(var n in e)ce.call(e,n)&&Or(t,n,e[n])}),Gu=oo(function(t,e){ro(e,is(e),t)}),Hu=oo(function(t,e,n,r){ro(e,is(e),t,r)}),Qu=oo(function(t,e,n,r){ro(e,rs(e),t,r)}),Zu=Po(Fr);var Ku=Ti(function(t,e){t=te(t);var n=-1,r=e.length,i=r>2?e[2]:o;for(i&&Ho(e[0],e[1],i)&&(r=1);++n<r;)for(var a=e[n],u=is(a),s=-1,c=u.length;++s<c;){var l=u[s],f=t[l];(f===o||pu(f,ae[l])&&!ce.call(t,l))&&(t[l]=a[l])}return t}),Yu=Ti(function(t){return t.push(o,Co),$e(as,o,t)});function Xu(t,e,n){var r=null==t?o:Kr(t,e);return r===o?n:r}function Ju(t,e){return null!=t&&Wo(t,e,ei)}var ts=yo(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=pe.call(e)),t[e]=n},As(Ss)),es=yo(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=pe.call(e)),ce.call(t,e)?t[e].push(n):t[e]=[n]},zo),ns=Ti(ri);function rs(t){return bu(t)?Tr(t):ci(t)}function is(t){return bu(t)?Tr(t,!0):li(t)}var os=oo(function(t,e,n){yi(t,e,n)}),as=oo(function(t,e,n,r){yi(t,e,n,r)}),us=Po(function(t,e){var n={};if(null==t)return n;var r=!1;e=Je(e,function(e){return e=Gi(e,t),r||(r=e.length>1),e}),ro(t,Io(t),n),r&&(n=kr(n,p|h|d,Oo));for(var i=e.length;i--;)Li(n,e[i]);return n});var ss=Po(function(t,e){return null==t?{}:function(t,e){return bi(t,e,function(e,n){return Ju(t,n)})}(t,e)});function cs(t,e){if(null==t)return{};var n=Je(Io(t),function(t){return[t]});return e=zo(e),bi(t,n,function(t,n){return e(t,n[0])})}var ls=xo(rs),fs=xo(is);function ps(t){return null==t?[]:bn(t,rs(t))}var hs=co(function(t,e,n){return e=e.toLowerCase(),t+(n?ds(e):e)});function ds(t){return Rs(qu(t).toLowerCase())}function ys(t){return(t=qu(t))&&t.replace(Zt,Rn).replace(_e,"")}var ms=co(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),vs=co(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),bs=so("toLowerCase");var _s=co(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var gs=co(function(t,e,n){return t+(n?" ":"")+Rs(e)});var ws=co(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Rs=so("toUpperCase");function Ts(t,e,n){return t=qu(t),(e=n?o:e)===o?function(t){return Te.test(t)}(t)?function(t){return t.match(we)||[]}(t):function(t){return t.match(Dt)||[]}(t):t.match(e)||[]}var xs=Ti(function(t,e){try{return $e(t,o,e)}catch(t){return Ru(t)?t:new i(t)}}),Es=Po(function(t,e){return He(e,function(e){e=ca(e),Ir(t,e,eu(t[e],t))}),t});function As(t){return function(){return t}}var Cs=po(),Os=po(!0);function Ss(t){return t}function Ps(t){return si("function"==typeof t?t:kr(t,p))}var js=Ti(function(t,e){return function(n){return ri(n,t,e)}}),Is=Ti(function(t,e){return function(n){return ri(t,n,e)}});function Fs(t,e,n){var r=rs(e),i=Zr(e,r);null!=n||Au(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Zr(e,rs(e)));var o=!(Au(n)&&"chain"in n&&!n.chain),a=Tu(t);return He(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=no(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,tn([this.value()],arguments))})}),t}function Ns(){}var ks=vo(Je),zs=vo(Ze),Vs=vo(rn);function Ls(t){return Qo(t)?pn(ca(t)):function(t){return function(e){return Kr(e,t)}}(t)}var Bs=_o(),Ds=_o(!0);function Ms(){return[]}function Us(){return!1}var Ws=mo(function(t,e){return t+e},0),qs=Ro("ceil"),$s=mo(function(t,e){return t/e},1),Gs=Ro("floor");var Hs=mo(function(t,e){return t*e},1),Qs=Ro("round"),Zs=mo(function(t,e){return t-e},0);return hr.after=function(t,e){if("function"!=typeof e)throw new re(s);return t=Du(t),function(){if(--t<1)return e.apply(this,arguments)}},hr.ary=Ja,hr.assign=$u,hr.assignIn=Gu,hr.assignInWith=Hu,hr.assignWith=Qu,hr.at=Zu,hr.before=tu,hr.bind=eu,hr.bindAll=Es,hr.bindKey=nu,hr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return mu(t)?t:[t]},hr.chain=La,hr.chunk=function(t,e,r){e=(r?Ho(t,e,r):e===o)?1:$n(Du(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var a=0,u=0,s=n(Ln(i/e));a<i;)s[u++]=Pi(t,a,a+=e);return s},hr.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},hr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return tn(mu(r)?no(r):[r],qr(e,1))},hr.cond=function(t){var e=null==t?0:t.length,n=zo();return t=e?Je(t,function(t){if("function"!=typeof t[1])throw new re(s);return[n(t[0]),t[1]]}):[],Ti(function(n){for(var r=-1;++r<e;){var i=t[r];if($e(i[0],this,n))return $e(i[1],this,n)}})},hr.conforms=function(t){return function(t){var e=rs(t);return function(n){return zr(n,t,e)}}(kr(t,p))},hr.constant=As,hr.countBy=Ma,hr.create=function(t,e){var n=dr(t);return null==e?n:jr(n,e)},hr.curry=function t(e,n,r){var i=Eo(e,g,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},hr.curryRight=function t(e,n,r){var i=Eo(e,w,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},hr.debounce=ru,hr.defaults=Ku,hr.defaultsDeep=Yu,hr.defer=iu,hr.delay=ou,hr.difference=pa,hr.differenceBy=ha,hr.differenceWith=da,hr.drop=function(t,e,n){var r=null==t?0:t.length;return r?Pi(t,(e=n||e===o?1:Du(e))<0?0:e,r):[]},hr.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Pi(t,0,(e=r-(e=n||e===o?1:Du(e)))<0?0:e):[]},hr.dropRightWhile=function(t,e){return t&&t.length?Di(t,zo(e,3),!0,!0):[]},hr.dropWhile=function(t,e){return t&&t.length?Di(t,zo(e,3),!0):[]},hr.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Ho(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=Du(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:Du(r))<0&&(r+=i),r=n>r?0:Mu(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},hr.filter=function(t,e){return(mu(t)?Ke:Wr)(t,zo(e,3))},hr.flatMap=function(t,e){return qr(Za(t,e),1)},hr.flatMapDeep=function(t,e){return qr(Za(t,e),F)},hr.flatMapDepth=function(t,e,n){return n=n===o?1:Du(n),qr(Za(t,e),n)},hr.flatten=va,hr.flattenDeep=function(t){return null!=t&&t.length?qr(t,F):[]},hr.flattenDepth=function(t,e){return null!=t&&t.length?qr(t,e=e===o?1:Du(e)):[]},hr.flip=function(t){return Eo(t,A)},hr.flow=Cs,hr.flowRight=Os,hr.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},hr.functions=function(t){return null==t?[]:Zr(t,rs(t))},hr.functionsIn=function(t){return null==t?[]:Zr(t,is(t))},hr.groupBy=Ga,hr.initial=function(t){return null!=t&&t.length?Pi(t,0,-1):[]},hr.intersection=_a,hr.intersectionBy=ga,hr.intersectionWith=wa,hr.invert=ts,hr.invertBy=es,hr.invokeMap=Ha,hr.iteratee=Ps,hr.keyBy=Qa,hr.keys=rs,hr.keysIn=is,hr.map=Za,hr.mapKeys=function(t,e){var n={};return e=zo(e,3),Hr(t,function(t,r,i){Ir(n,e(t,r,i),t)}),n},hr.mapValues=function(t,e){var n={};return e=zo(e,3),Hr(t,function(t,r,i){Ir(n,r,e(t,r,i))}),n},hr.matches=function(t){return hi(kr(t,p))},hr.matchesProperty=function(t,e){return di(t,kr(e,p))},hr.memoize=au,hr.merge=os,hr.mergeWith=as,hr.method=js,hr.methodOf=Is,hr.mixin=Fs,hr.negate=uu,hr.nthArg=function(t){return t=Du(t),Ti(function(e){return mi(e,t)})},hr.omit=us,hr.omitBy=function(t,e){return cs(t,uu(zo(e)))},hr.once=function(t){return tu(2,t)},hr.orderBy=function(t,e,n,r){return null==t?[]:(mu(e)||(e=null==e?[]:[e]),mu(n=r?o:n)||(n=null==n?[]:[n]),vi(t,e,n))},hr.over=ks,hr.overArgs=su,hr.overEvery=zs,hr.overSome=Vs,hr.partial=cu,hr.partialRight=lu,hr.partition=Ka,hr.pick=ss,hr.pickBy=cs,hr.property=Ls,hr.propertyOf=function(t){return function(e){return null==t?o:Kr(t,e)}},hr.pull=Ta,hr.pullAll=xa,hr.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?_i(t,e,zo(n,2)):t},hr.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?_i(t,e,o,n):t},hr.pullAt=Ea,hr.range=Bs,hr.rangeRight=Ds,hr.rearg=fu,hr.reject=function(t,e){return(mu(t)?Ke:Wr)(t,uu(zo(e,3)))},hr.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=zo(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return gi(t,i),n},hr.rest=function(t,e){if("function"!=typeof t)throw new re(s);return Ti(t,e=e===o?e:Du(e))},hr.reverse=Aa,hr.sampleSize=function(t,e,n){return e=(n?Ho(t,e,n):e===o)?1:Du(e),(mu(t)?Er:Ei)(t,e)},hr.set=function(t,e,n){return null==t?t:Ai(t,e,n)},hr.setWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:Ai(t,e,n,r)},hr.shuffle=function(t){return(mu(t)?Ar:Si)(t)},hr.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Ho(t,e,n)?(e=0,n=r):(e=null==e?0:Du(e),n=n===o?r:Du(n)),Pi(t,e,n)):[]},hr.sortBy=Ya,hr.sortedUniq=function(t){return t&&t.length?Ni(t):[]},hr.sortedUniqBy=function(t,e){return t&&t.length?Ni(t,zo(e,2)):[]},hr.split=function(t,e,n){return n&&"number"!=typeof n&&Ho(t,e,n)&&(e=n=o),(n=n===o?V:n>>>0)?(t=qu(t))&&("string"==typeof e||null!=e&&!ju(e))&&!(e=zi(e))&&En(t)?Qi(Fn(t),0,n):t.split(e,n):[]},hr.spread=function(t,e){if("function"!=typeof t)throw new re(s);return e=null==e?0:$n(Du(e),0),Ti(function(n){var r=n[e],i=Qi(n,0,e);return r&&tn(i,r),$e(t,this,i)})},hr.tail=function(t){var e=null==t?0:t.length;return e?Pi(t,1,e):[]},hr.take=function(t,e,n){return t&&t.length?Pi(t,0,(e=n||e===o?1:Du(e))<0?0:e):[]},hr.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Pi(t,(e=r-(e=n||e===o?1:Du(e)))<0?0:e,r):[]},hr.takeRightWhile=function(t,e){return t&&t.length?Di(t,zo(e,3),!1,!0):[]},hr.takeWhile=function(t,e){return t&&t.length?Di(t,zo(e,3)):[]},hr.tap=function(t,e){return e(t),t},hr.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new re(s);return Au(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ru(t,e,{leading:r,maxWait:e,trailing:i})},hr.thru=Ba,hr.toArray=Lu,hr.toPairs=ls,hr.toPairsIn=fs,hr.toPath=function(t){return mu(t)?Je(t,ca):Nu(t)?[t]:no(sa(qu(t)))},hr.toPlainObject=Wu,hr.transform=function(t,e,n){var r=mu(t),i=r||gu(t)||ku(t);if(e=zo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Au(t)&&Tu(o)?dr(Oe(t)):{}}return(i?He:Hr)(t,function(t,r,i){return e(n,t,r,i)}),n},hr.unary=function(t){return Ja(t,1)},hr.union=Ca,hr.unionBy=Oa,hr.unionWith=Sa,hr.uniq=function(t){return t&&t.length?Vi(t):[]},hr.uniqBy=function(t,e){return t&&t.length?Vi(t,zo(e,2)):[]},hr.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?Vi(t,o,e):[]},hr.unset=function(t,e){return null==t||Li(t,e)},hr.unzip=Pa,hr.unzipWith=ja,hr.update=function(t,e,n){return null==t?t:Bi(t,e,$i(n))},hr.updateWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:Bi(t,e,$i(n),r)},hr.values=ps,hr.valuesIn=function(t){return null==t?[]:bn(t,is(t))},hr.without=Ia,hr.words=Ts,hr.wrap=function(t,e){return cu($i(e),t)},hr.xor=Fa,hr.xorBy=Na,hr.xorWith=ka,hr.zip=za,hr.zipObject=function(t,e){return Wi(t||[],e||[],Or)},hr.zipObjectDeep=function(t,e){return Wi(t||[],e||[],Ai)},hr.zipWith=Va,hr.entries=ls,hr.entriesIn=fs,hr.extend=Gu,hr.extendWith=Hu,Fs(hr,hr),hr.add=Ws,hr.attempt=xs,hr.camelCase=hs,hr.capitalize=ds,hr.ceil=qs,hr.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=Uu(n))==n?n:0),e!==o&&(e=(e=Uu(e))==e?e:0),Nr(Uu(t),e,n)},hr.clone=function(t){return kr(t,d)},hr.cloneDeep=function(t){return kr(t,p|d)},hr.cloneDeepWith=function(t,e){return kr(t,p|d,e="function"==typeof e?e:o)},hr.cloneWith=function(t,e){return kr(t,d,e="function"==typeof e?e:o)},hr.conformsTo=function(t,e){return null==e||zr(t,e,rs(e))},hr.deburr=ys,hr.defaultTo=function(t,e){return null==t||t!=t?e:t},hr.divide=$s,hr.endsWith=function(t,e,n){t=qu(t),e=zi(e);var r=t.length,i=n=n===o?r:Nr(Du(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},hr.eq=pu,hr.escape=function(t){return(t=qu(t))&&Et.test(t)?t.replace(Tt,Tn):t},hr.escapeRegExp=function(t){return(t=qu(t))&&Ft.test(t)?t.replace(It,"\\$&"):t},hr.every=function(t,e,n){var r=mu(t)?Ze:Mr;return n&&Ho(t,e,n)&&(e=o),r(t,zo(e,3))},hr.find=Ua,hr.findIndex=ya,hr.findKey=function(t,e){return an(t,zo(e,3),Hr)},hr.findLast=Wa,hr.findLastIndex=ma,hr.findLastKey=function(t,e){return an(t,zo(e,3),Qr)},hr.floor=Gs,hr.forEach=qa,hr.forEachRight=$a,hr.forIn=function(t,e){return null==t?t:$r(t,zo(e,3),is)},hr.forInRight=function(t,e){return null==t?t:Gr(t,zo(e,3),is)},hr.forOwn=function(t,e){return t&&Hr(t,zo(e,3))},hr.forOwnRight=function(t,e){return t&&Qr(t,zo(e,3))},hr.get=Xu,hr.gt=hu,hr.gte=du,hr.has=function(t,e){return null!=t&&Wo(t,e,ti)},hr.hasIn=Ju,hr.head=ba,hr.identity=Ss,hr.includes=function(t,e,n,r){t=bu(t)?t:ps(t),n=n&&!r?Du(n):0;var i=t.length;return n<0&&(n=$n(i+n,0)),Fu(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&sn(t,e,n)>-1},hr.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Du(n);return i<0&&(i=$n(r+i,0)),sn(t,e,i)},hr.inRange=function(t,e,n){return e=Bu(e),n===o?(n=e,e=0):n=Bu(n),function(t,e,n){return t>=Gn(e,n)&&t<$n(e,n)}(t=Uu(t),e,n)},hr.invoke=ns,hr.isArguments=yu,hr.isArray=mu,hr.isArrayBuffer=vu,hr.isArrayLike=bu,hr.isArrayLikeObject=_u,hr.isBoolean=function(t){return!0===t||!1===t||Cu(t)&&Xr(t)==q},hr.isBuffer=gu,hr.isDate=wu,hr.isElement=function(t){return Cu(t)&&1===t.nodeType&&!Pu(t)},hr.isEmpty=function(t){if(null==t)return!0;if(bu(t)&&(mu(t)||"string"==typeof t||"function"==typeof t.splice||gu(t)||ku(t)||yu(t)))return!t.length;var e=Uo(t);if(e==K||e==nt)return!t.size;if(Yo(t))return!ci(t).length;for(var n in t)if(ce.call(t,n))return!1;return!0},hr.isEqual=function(t,e){return oi(t,e)},hr.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:o)?n(t,e):o;return r===o?oi(t,e,o,n):!!r},hr.isError=Ru,hr.isFinite=function(t){return"number"==typeof t&&Un(t)},hr.isFunction=Tu,hr.isInteger=xu,hr.isLength=Eu,hr.isMap=Ou,hr.isMatch=function(t,e){return t===e||ai(t,e,Lo(e))},hr.isMatchWith=function(t,e,n){return n="function"==typeof n?n:o,ai(t,e,Lo(e),n)},hr.isNaN=function(t){return Su(t)&&t!=+t},hr.isNative=function(t){if(Ko(t))throw new i(u);return ui(t)},hr.isNil=function(t){return null==t},hr.isNull=function(t){return null===t},hr.isNumber=Su,hr.isObject=Au,hr.isObjectLike=Cu,hr.isPlainObject=Pu,hr.isRegExp=ju,hr.isSafeInteger=function(t){return xu(t)&&t>=-N&&t<=N},hr.isSet=Iu,hr.isString=Fu,hr.isSymbol=Nu,hr.isTypedArray=ku,hr.isUndefined=function(t){return t===o},hr.isWeakMap=function(t){return Cu(t)&&Uo(t)==at},hr.isWeakSet=function(t){return Cu(t)&&Xr(t)==ut},hr.join=function(t,e){return null==t?"":Wn.call(t,e)},hr.kebabCase=ms,hr.last=Ra,hr.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=Du(n))<0?$n(r+i,0):Gn(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):un(t,ln,i,!0)},hr.lowerCase=vs,hr.lowerFirst=bs,hr.lt=zu,hr.lte=Vu,hr.max=function(t){return t&&t.length?Ur(t,Ss,Jr):o},hr.maxBy=function(t,e){return t&&t.length?Ur(t,zo(e,2),Jr):o},hr.mean=function(t){return fn(t,Ss)},hr.meanBy=function(t,e){return fn(t,zo(e,2))},hr.min=function(t){return t&&t.length?Ur(t,Ss,fi):o},hr.minBy=function(t,e){return t&&t.length?Ur(t,zo(e,2),fi):o},hr.stubArray=Ms,hr.stubFalse=Us,hr.stubObject=function(){return{}},hr.stubString=function(){return""},hr.stubTrue=function(){return!0},hr.multiply=Hs,hr.nth=function(t,e){return t&&t.length?mi(t,Du(e)):o},hr.noConflict=function(){return Fe._===this&&(Fe._=de),this},hr.noop=Ns,hr.now=Xa,hr.pad=function(t,e,n){t=qu(t);var r=(e=Du(e))?In(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return bo(Bn(i),n)+t+bo(Ln(i),n)},hr.padEnd=function(t,e,n){t=qu(t);var r=(e=Du(e))?In(t):0;return e&&r<e?t+bo(e-r,n):t},hr.padStart=function(t,e,n){t=qu(t);var r=(e=Du(e))?In(t):0;return e&&r<e?bo(e-r,n)+t:t},hr.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Qn(qu(t).replace(kt,""),e||0)},hr.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Ho(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=Bu(t),e===o?(e=t,t=0):e=Bu(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Zn();return Gn(t+i*(e-t+Se("1e-"+((i+"").length-1))),e)}return wi(t,e)},hr.reduce=function(t,e,n){var r=mu(t)?en:dn,i=arguments.length<3;return r(t,zo(e,4),n,i,Br)},hr.reduceRight=function(t,e,n){var r=mu(t)?nn:dn,i=arguments.length<3;return r(t,zo(e,4),n,i,Dr)},hr.repeat=function(t,e,n){return e=(n?Ho(t,e,n):e===o)?1:Du(e),Ri(qu(t),e)},hr.replace=function(){var t=arguments,e=qu(t[0]);return t.length<3?e:e.replace(t[1],t[2])},hr.result=function(t,e,n){var r=-1,i=(e=Gi(e,t)).length;for(i||(i=1,t=o);++r<i;){var a=null==t?o:t[ca(e[r])];a===o&&(r=i,a=n),t=Tu(a)?a.call(t):a}return t},hr.round=Qs,hr.runInContext=t,hr.sample=function(t){return(mu(t)?xr:xi)(t)},hr.size=function(t){if(null==t)return 0;if(bu(t))return Fu(t)?In(t):t.length;var e=Uo(t);return e==K||e==nt?t.size:ci(t).length},hr.snakeCase=_s,hr.some=function(t,e,n){var r=mu(t)?rn:ji;return n&&Ho(t,e,n)&&(e=o),r(t,zo(e,3))},hr.sortedIndex=function(t,e){return Ii(t,e)},hr.sortedIndexBy=function(t,e,n){return Fi(t,e,zo(n,2))},hr.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Ii(t,e);if(r<n&&pu(t[r],e))return r}return-1},hr.sortedLastIndex=function(t,e){return Ii(t,e,!0)},hr.sortedLastIndexBy=function(t,e,n){return Fi(t,e,zo(n,2),!0)},hr.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Ii(t,e,!0)-1;if(pu(t[n],e))return n}return-1},hr.startCase=gs,hr.startsWith=function(t,e,n){return t=qu(t),n=null==n?0:Nr(Du(n),0,t.length),e=zi(e),t.slice(n,n+e.length)==e},hr.subtract=Zs,hr.sum=function(t){return t&&t.length?yn(t,Ss):0},hr.sumBy=function(t,e){return t&&t.length?yn(t,zo(e,2)):0},hr.template=function(t,e,n){var r=hr.templateSettings;n&&Ho(t,e,n)&&(e=o),t=qu(t),e=Hu({},e,r,Ao);var i,a,u=Hu({},e.imports,r.imports,Ao),s=rs(u),c=bn(u,s),l=0,f=e.interpolate||Kt,p="__p += '",h=ee((e.escape||Kt).source+"|"+f.source+"|"+(f===Ot?Ut:Kt).source+"|"+(e.evaluate||Kt).source+"|$","g"),d="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Ee+"]")+"\n";t.replace(h,function(e,n,r,o,u,s){return r||(r=o),p+=t.slice(l,s).replace(Yt,xn),n&&(i=!0,p+="' +\n__e("+n+") +\n'"),u&&(a=!0,p+="';\n"+u+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+e.length,e}),p+="';\n";var y=e.variable;y||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(_t,""):p).replace(gt,"$1").replace(wt,"$1;"),p="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=xs(function(){return Xt(s,d+"return "+p).apply(o,c)});if(m.source=p,Ru(m))throw m;return m},hr.times=function(t,e){if((t=Du(t))<1||t>N)return[];var n=V,r=Gn(t,V);e=zo(e),t-=V;for(var i=mn(r,e);++n<t;)e(n);return i},hr.toFinite=Bu,hr.toInteger=Du,hr.toLength=Mu,hr.toLower=function(t){return qu(t).toLowerCase()},hr.toNumber=Uu,hr.toSafeInteger=function(t){return t?Nr(Du(t),-N,N):0===t?t:0},hr.toString=qu,hr.toUpper=function(t){return qu(t).toUpperCase()},hr.trim=function(t,e,n){if((t=qu(t))&&(n||e===o))return t.replace(Nt,"");if(!t||!(e=zi(e)))return t;var r=Fn(t),i=Fn(e);return Qi(r,gn(r,i),wn(r,i)+1).join("")},hr.trimEnd=function(t,e,n){if((t=qu(t))&&(n||e===o))return t.replace(zt,"");if(!t||!(e=zi(e)))return t;var r=Fn(t);return Qi(r,0,wn(r,Fn(e))+1).join("")},hr.trimStart=function(t,e,n){if((t=qu(t))&&(n||e===o))return t.replace(kt,"");if(!t||!(e=zi(e)))return t;var r=Fn(t);return Qi(r,gn(r,Fn(e))).join("")},hr.truncate=function(t,e){var n=C,r=O;if(Au(e)){var i="separator"in e?e.separator:i;n="length"in e?Du(e.length):n,r="omission"in e?zi(e.omission):r}var a=(t=qu(t)).length;if(En(t)){var u=Fn(t);a=u.length}if(n>=a)return t;var s=n-In(r);if(s<1)return r;var c=u?Qi(u,0,s).join(""):t.slice(0,s);if(i===o)return c+r;if(u&&(s+=c.length-s),ju(i)){if(t.slice(s).search(i)){var l,f=c;for(i.global||(i=ee(i.source,qu(Wt.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var p=l.index;c=c.slice(0,p===o?s:p)}}else if(t.indexOf(zi(i),s)!=s){var h=c.lastIndexOf(i);h>-1&&(c=c.slice(0,h))}return c+r},hr.unescape=function(t){return(t=qu(t))&&xt.test(t)?t.replace(Rt,Nn):t},hr.uniqueId=function(t){var e=++le;return qu(t)+e},hr.upperCase=ws,hr.upperFirst=Rs,hr.each=qa,hr.eachRight=$a,hr.first=ba,Fs(hr,function(){var t={};return Hr(hr,function(e,n){ce.call(hr.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),hr.VERSION="4.17.10",He(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){hr[t].placeholder=hr}),He(["drop","take"],function(t,e){vr.prototype[t]=function(n){n=n===o?1:$n(Du(n),0);var r=this.__filtered__&&!e?new vr(this):this.clone();return r.__filtered__?r.__takeCount__=Gn(n,r.__takeCount__):r.__views__.push({size:Gn(n,V),type:t+(r.__dir__<0?"Right":"")}),r},vr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),He(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==j||3==n;vr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:zo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),He(["head","last"],function(t,e){var n="take"+(e?"Right":"");vr.prototype[t]=function(){return this[n](1).value()[0]}}),He(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");vr.prototype[t]=function(){return this.__filtered__?new vr(this):this[n](1)}}),vr.prototype.compact=function(){return this.filter(Ss)},vr.prototype.find=function(t){return this.filter(t).head()},vr.prototype.findLast=function(t){return this.reverse().find(t)},vr.prototype.invokeMap=Ti(function(t,e){return"function"==typeof t?new vr(this):this.map(function(n){return ri(n,t,e)})}),vr.prototype.reject=function(t){return this.filter(uu(zo(t)))},vr.prototype.slice=function(t,e){t=Du(t);var n=this;return n.__filtered__&&(t>0||e<0)?new vr(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=Du(e))<0?n.dropRight(-e):n.take(e-t)),n)},vr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},vr.prototype.toArray=function(){return this.take(V)},Hr(vr.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=hr[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);i&&(hr.prototype[e]=function(){var e=this.__wrapped__,u=r?[1]:arguments,s=e instanceof vr,c=u[0],l=s||mu(e),f=function(t){var e=i.apply(hr,tn([t],u));return r&&p?e[0]:e};l&&n&&"function"==typeof c&&1!=c.length&&(s=l=!1);var p=this.__chain__,h=!!this.__actions__.length,d=a&&!p,y=s&&!h;if(!a&&l){e=y?e:new vr(this);var m=t.apply(e,u);return m.__actions__.push({func:Ba,args:[f],thisArg:o}),new mr(m,p)}return d&&y?t.apply(this,u):(m=this.thru(f),d?r?m.value()[0]:m.value():m)})}),He(["pop","push","shift","sort","splice","unshift"],function(t){var e=ie[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);hr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(mu(i)?i:[],t)}return this[n](function(n){return e.apply(mu(n)?n:[],t)})}}),Hr(vr.prototype,function(t,e){var n=hr[e];if(n){var r=n.name+"";(ir[r]||(ir[r]=[])).push({name:e,func:n})}}),ir[ho(o,b).name]=[{name:"wrapper",func:o}],vr.prototype.clone=function(){var t=new vr(this.__wrapped__);return t.__actions__=no(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=no(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=no(this.__views__),t},vr.prototype.reverse=function(){if(this.__filtered__){var t=new vr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},vr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=mu(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Gn(e,t+a);break;case"takeRight":t=$n(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,u=o.end,s=u-a,c=r?u:a-1,l=this.__iteratees__,f=l.length,p=0,h=Gn(s,this.__takeCount__);if(!n||!r&&i==s&&h==s)return Mi(t,this.__actions__);var d=[];t:for(;s--&&p<h;){for(var y=-1,m=t[c+=e];++y<f;){var v=l[y],b=v.iteratee,_=v.type,g=b(m);if(_==I)m=g;else if(!g){if(_==j)continue t;break t}}d[p++]=m}return d},hr.prototype.at=Da,hr.prototype.chain=function(){return La(this)},hr.prototype.commit=function(){return new mr(this.value(),this.__chain__)},hr.prototype.next=function(){this.__values__===o&&(this.__values__=Lu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},hr.prototype.plant=function(t){for(var e,n=this;n instanceof yr;){var r=fa(n);r.__index__=0,r.__values__=o,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},hr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof vr){var e=t;return this.__actions__.length&&(e=new vr(this)),(e=e.reverse()).__actions__.push({func:Ba,args:[Aa],thisArg:o}),new mr(e,this.__chain__)}return this.thru(Aa)},hr.prototype.toJSON=hr.prototype.valueOf=hr.prototype.value=function(){return Mi(this.__wrapped__,this.__actions__)},hr.prototype.first=hr.prototype.head,Ve&&(hr.prototype[Ve]=function(){return this}),hr}();Fe._=kn,(i=function(){return kn}.call(e,n,e,r))===o||(r.exports=i)}).call(this)}).call(this,n(15),n(20)(t))},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(4),a=n(6),u=n(1),s=n(21),c=n(3),l=n(8),f=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o.func=n,o.args=s.clone(r),o.receiver=i;var a=o.func.type.returnType;return a instanceof u.VoidType||a instanceof u.ReferenceType||(o.returnByValueTarget=o.createTemporaryObject(a,(o.func.name||"unknown")+"() [return]")),o.context.translationUnit.registerFunctionCall(o),o}return r(e,t),e.prototype.createRuntimeFunctionCall=function(t){return new d(this,t)},e}(i.PotentialFullExpression);e.FunctionCall=f;var p=0,h=2,d=function(t){function e(e,n){var r=t.call(this,e,"call",n)||this;r.index=p;var i=r.model.func.definition;(r.argInitializers=r.model.argInitializers.map(function(t){return t.createRuntimeInitializer(r)}),r.receiver=r.model.receiver&&r.model.receiver.runtimeLookup(r),r.calledFunction=i.createRuntimeFunction(r,r.receiver),r.model.returnByValueTarget)&&r.calledFunction.setReturnObject(r.model.returnByValueTarget.objectInstance(r));return r.index=h,r}return r(e,t),e.prototype.upNextImpl=function(){if(1===this.index)for(var t=this.argInitializers.length-1;t>=0;--t)this.sim.push(this.argInitializers[t]);else 2===this.index&&(this.calledFunction.loseControl(),this.containingRuntimeFunction.gainControl(),this.done(),this.sim.pop())},e.prototype.stepForwardImpl=function(){this.index===p?(this.calledFunction.pushStackFrame(),this.index=1):this.index===h&&(this.containingRuntimeFunction.loseControl(),this.sim.push(this.calledFunction),this.calledFunction.gainControl(),this.receiver&&this.receiver.callReceived(),this.observable.send("called",this.calledFunction),this.index=2)},e}(i.RuntimePotentialFullExpression);e.RuntimeFunctionCall=d;var y=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.attach(i.operand=n),i.args=r,r.forEach(function(t){return i.attach(t)}),l.allWellTyped(r)?n instanceof a.IdentifierExpression?n.entity?n.entity instanceof o.FunctionEntity?(i.type=u.noRef(n.entity.type.returnType),i.valueCategory=n.entity.type.returnType instanceof u.ReferenceType?"lvalue":"prvalue",i.call=new f(e,n.entity,r),i):(i.addNote(c.CPPError.expr.functionCall.operand(i,n.entity)),i):i:(i.addNote(c.CPPError.expr.functionCall.invalid_operand_expression(i,n)),i):i}return r(e,t),e.createFromAST=function(t,n){var r=t.args.map(function(t){return a.createExpressionFromAST(t,n)}),o=r.map(function(t){return t.type});return new e(n,a.createExpressionFromAST(t.operand,i.createExpressionContext(n,o)),r)},e.prototype.createRuntimeExpression=function(t){return new v(this,t)},e.prototype.describeEvalResult=function(t){throw new Error("Method not implemented.")},e}(l.Expression);e.FunctionCallExpression=y;var m=0,v=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.index=m,r.operand=r.model.operand.createRuntimeExpression(r),r.args=r.model.args.map(function(t){return t.createRuntimeExpression(r)}),r.call=r.model.call.createRuntimeFunctionCall(r),r}return r(e,t),e.prototype.upNextImpl=function(){if(this.index===m)this.sim.push(this.operand),this.index=1;else{if(1===this.index)return this.sim.push(this.call),this.index=2,!0;if(2===this.index){if(this.model.type,u.VoidType,this.model.isReferenceTyped())this.setEvalResult(this.call.calledFunction.returnObject);else if(this.model.isAtomicTyped()){var t=this.call.calledFunction.returnObject;this.setEvalResult(t.getValue())}else this.setEvalResult(this.call.calledFunction.returnObject);this.sim.pop()}}},e.prototype.stepForwardImpl=function(){},e}(l.RuntimeExpression);e.RuntimeFunctionCallExpression=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),i=n(7),o=n(2),a=n(0),u=n(9),s=n(1);!function(t){t.UNDEFINED_BEHAVIOR="undefined_behavior",t.UNSPECIFIED_BEHAVIOR="unspecified_behavior",t.IMPLEMENTATION_DEFINED_BEHAVIOR="implementation_defined_behavior",t.MEMORY_LEAK="memory_leak",t.ASSERTION_FAILURE="assertion_failure",t.CRASH="crash"}(e.SimulationEvent||(e.SimulationEvent={}));var c=function(){function t(t){this.observable=new r.Observable(this),this.random=new a.CPPRandom,this.alertsOff=!1,this._eventsOccurred={undefined_behavior:[],unspecified_behavior:[],implementation_defined_behavior:[],memory_leak:[],assertion_failure:[],crash:[]},this.eventsOccurred=this._eventsOccurred,this.isPaused=!0,this.program=t,this.memory=new i.Memory,this.execStack=this._execStack=[],this.pendingNews=[],this.leakCheckIndex=0,this.isPaused=!0,this.stepsTaken=0,this.atEnd=!1,this.start()}return t.prototype.start=function(){this.allocateStringLiterals(),this.callMain(),this.push(this.program.globalObjectAllocator.createRuntimeConstruct(this)),this.observable.send("started"),this.upNext()},t.prototype.callMain=function(){this.mainReturnObject=new u.MainReturnObject(this.memory),this.mainFunction=new o.RuntimeFunction(this.program.mainFunction,this),this.mainFunction.setReturnObject(this.mainReturnObject),this.mainFunction.pushStackFrame(),this.push(this.mainFunction),this.mainFunction.gainControl()},t.prototype.push=function(t){this._execStack.push(t),t.pushed(),this.observable.send("pushed",t)},t.prototype.top=function(){if(this.execStack.length>0)return this.execStack[this.execStack.length-1]},t.prototype.pop=function(){return this._execStack.pop()},t.prototype.popUntil=function(t){for(;this._execStack.length>0&&this._execStack[this._execStack.length-1]!==t;)this.pop()},t.prototype.topFunction=function(){for(var t=this.execStack.length-1;t>=0;--t){var e=this.execStack[t];if(e instanceof o.RuntimeFunction)return e}},t.prototype.allocateStringLiterals=function(){var t=this,e=this.program.translationUnits;for(var n in e)e[n].stringLiterals.forEach(function(e){t.memory.allocateStringLiteral(e)})},t.prototype.stepForward=function(t){void 0===t&&(t=1);for(var e=0;!this.atEnd&&e<t;++e)this._stepForward();this.observable.send("afterFullStep",this.execStack.length>0&&this.execStack[this.execStack.length-1])},t.prototype._stepForward=function(){var t=this.top();t&&(this.observable.send("beforeStepForward",{rt:t}),t.stepForward(),this.observable.send("afterStepForward",{rt:t}),++this.stepsTaken,this.upNext())},t.prototype.upNext=function(){for(;;){var t=this.top();if(!t)return this.atEnd=!0,void this.observable.send("atEnded");if(this.observable.send("beforeUpNext",{rt:t}),t.upNext(),this.observable.send("afterUpNext",{inst:t}),t===this.top())break}},t.prototype.stepToEnd=function(){for(;!this.atEnd;)this.stepForward()},t.prototype.cout=function(t){var e="";if(t.type instanceof s.PointerType&&t.type.ptrTo instanceof s.Char)for(var n=t.rawValue,r=this.memory.getByte(n);!s.Char.isNullChar(r);)e+=t.type.ptrTo.valueToOstreamString(r),r=this.memory.getByte(++n);else e=a.escapeString(t.valueToOstreamString());console.log("cout: "+e)},t.prototype.eventOccurred=function(t,e,n){this._eventsOccurred[t].push(e),n&&this.alert(e)},t.prototype.hasEventOccurred=function(t){return this.eventsOccurred[t].length>0},t.prototype.alert=function(t){this.alertsOff||this.observable.send("alert",t)},t}();e.Simulation=c},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e){t.exports=function(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},function(t,e,n){var r=n(30),i=n(29),o=n(28);t.exports=function(t,e,n){return e==e?o(t,e,n):r(t,i,n)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(32),i=n(31),o=n(27),a=n(26),u=n(25),s=Array.prototype.splice;t.exports=function(t,e,n,c){var l=c?o:i,f=-1,p=e.length,h=t;for(t===e&&(e=u(e)),n&&(h=r(t,a(n)));++f<p;)for(var d=0,y=e[f],m=n?n(y):y;(d=l(h,m,d,c))>-1;)h!==t&&s.call(h,d,1),s.call(t,d,1);return t}},function(t,e,n){var r=n(33);t.exports=function(t,e){return t&&t.length&&e&&e.length?r(t,e):t}},function(t,e){var n=800,r=16,i=Date.now;t.exports=function(t){var e=0,o=0;return function(){var a=i(),u=r-(a-o);if(o=a,u>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(16)["__core-js_shared__"];t.exports=r},function(t,e,n){var r=n(38),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(17),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,u=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[u]=n:delete t[u]),i}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(15))},function(t,e,n){var r=n(17),i=n(41),o=n(40),a="[object Null]",u="[object Undefined]",s=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?u:a:s&&s in Object(t)?i(t):o(t)}},function(t,e,n){var r=n(43),i=n(14),o="[object AsyncFunction]",a="[object Function]",u="[object GeneratorFunction]",s="[object Proxy]";t.exports=function(t){if(!i(t))return!1;var e=r(t);return e==a||e==u||e==o||e==s}},function(t,e,n){var r=n(44),i=n(39),o=n(14),a=n(37),u=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?p:u).test(a(t))}},function(t,e,n){var r=n(45),i=n(36);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e,n){var r=n(46),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){var r=n(48),i=n(47),o=n(18),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e,n){var r=n(49),i=n(35)(r);t.exports=i},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(51),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,u=i(o.length-e,0),s=Array(u);++a<u;)s[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=n(s),r(t,this,c)}}},function(t,e,n){var r=n(18),i=n(52),o=n(50);t.exports=function(t,e){return o(i(t,e,r),t+"")}},function(t,e,n){var r=n(53)(n(34));t.exports=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(n,r,i,o){var a=t.call(this)||this;return a.message=n,a.expected=r,a.found=i,a.location=o,a.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(a,e),a}return r(e,t),e.buildMessage=function(t,e){function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function r(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function i(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function o(t){switch(t.type){case"literal":return'"'+r(t.text)+'"';case"class":var e=t.parts.map(function(t){return Array.isArray(t)?i(t[0])+"-"+i(t[1]):i(t)});return"["+(t.inverted?"^":"")+e+"]";case"any":return"any character";case"end":return"end of input";case"other":return t.description}}return"Expected "+function(t){var e,n,r=t.map(o);if(r.sort(),r.length>0){for(e=1,n=1;e<r.length;e++)r[e-1]!==r[e]&&(r[n]=r[e],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(t)+" but "+function(t){return t?'"'+r(t)+'"':"end of input"}(e)+" found."},e}(Error);e.SyntaxError=i,e.parse=function(t,e){e=void 0!==e?e:{};var n,r={},o={start:ns},a=ns,u=function(t){return t},s=function(t){return t.filter(function(t){return"comment"!==t})},c=function(){return"comment"},l="//",f=Zu("//",!1),p=/^[^\n]/,h=Ku(["\n"],!0,!1),d="\n",y=Zu("\n",!1),m="/*",v=Zu("/*",!1),b="*/",_=Zu("*/",!1),g={type:"any"},w=function(t){return Rc(t,Qu(),Hu())},R=function(t){return wc({construct_type:"labeled_statement"},t)},T=":",x=Zu(":",!1),E=function(t,e){return{construct_type:"labeled_statement",label:t,statement:e}},A="case",C=Zu("case",!1),O=function(t,e){return{construct_type:"labeled_statement",case:t,statement:e}},S="default",P=Zu("default",!1),j=function(t){return{construct_type:"labeled_statement",default:!0,stmt:t}},I=";",F=Zu(";",!1),N=function(t){return{construct_type:"expression_statement",expression:t}},k=function(){return{construct_type:"null_statement"}},z="{",V=Zu("{",!1),L=function(t){return t},B="}",D=Zu("}",!1),M=function(t){return{construct_type:"block",statements:t}},U="if",W=Zu("if",!1),q="(",$=Zu("(",!1),G=")",H=Zu(")",!1),Q="else",Z=Zu("else",!1),K=function(t,e,n){return{construct_type:"selection_statement",condition:t,then:e,otherwise:n}},Y=function(t,e){return{construct_type:"selection_statement",condition:t,then:e}},X="while",J=Zu("while",!1),tt=function(t,e){return{construct_type:"while_statement",condition:t,body:e}},et="do",nt=Zu("do",!1),rt=function(t,e){return{construct_type:"dowhile_statement",condition:e,body:t}},it="for",ot=Zu("for",!1),at=function(t,e,n,r){return{construct_type:"for_statement",condition:e,initial:t,post:n,body:r}},ut=function(t){return Rc(t,Qu(),Hu())},st="break",ct=Zu("break",!1),lt=function(){return{construct_type:"break_statement"}},ft="continue",pt=Zu("continue",!1),ht=function(){return{construct_type:"continue_statement"}},dt="return",yt=Zu("return",!1),mt=function(t){return{construct_type:"return_statement",expression:t}},vt=function(t){return{construct_type:"declaration_statement",declaration:t}},bt=function(t,e){return Rc({construct_type:"simple_declaration",specs:t,declarators:e},Qu(),Hu())},_t=",",gt=Zu(",",!1),wt=function(t,e){return e},Rt=function(t,e){return e.unshift(t),e},Tt=function(t){return Rc(wc({construct_type:"class_declaration"},t),Qu(),Hu())},xt=function(t,e,n){return Rc({construct_type:"function_definition",specs:t,declarator:e,body:n},Qu(),Hu())},Et=function(t,e,n){return null},At=function(t,e,n,r){return Rc({construct_type:"constructor_definition",name:t,body:r,initializer:n,args:e},Qu(),Hu())},Ct="~",Ot=Zu("~",!1),St=function(t){return null},Pt=function(t,e){return Rc({construct_type:"destructor_definition",name:{identifier:"~"+t.identifier},body:e},Qu(),Hu())},jt="virtual",It=Zu("virtual",!1),Ft=function(t,e){return Rc({construct_type:"destructor_definition",name:{identifier:"~"+t.identifier},body:e,virtual:!0},Qu(),Hu())},Nt=function(t,e){return e},kt=function(t,e){return e.unshift(t),e},zt=function(t,e){return Rc({construct_type:"member_initializer",member:t,args:e||[]},Qu(),Hu())},Vt=function(t){return t},Lt=function(t,e,n){return n},Bt=function(t,e,n){t.push({typeSpec:e});for(var r=t.concat(n),i={typeSpecs:[],storageSpecs:[]},o=0;o<r.length;++o){var a=r[o];a.typeSpec?i.typeSpecs.push(a.typeSpec):a.storageSpec?i.storageSpecs.push(a.storageSpec):"friend"===a?i.friend=!0:"typedef"===a?i.typedef=!0:"inline"===a?i.inline=!0:"explicit"===a?i.explicit=!0:"virtual"===a&&(i.virtual=!0)}return Rc(i,Qu(),Hu())},Dt=function(t){return{typeSpec:t}},Mt=function(t){return{storageSpec:t}},Ut="typedef",Wt=Zu("typedef",!1),qt="friend",$t=Zu("friend",!1),Gt=function(t,e,n){return t.push(e),Rc(t=t.concat(n),Qu(),Hu())},Ht="const",Qt=Zu("const",!1),Zt="volatile",Kt=Zu("volatile",!1),Yt="register",Xt=Zu("register",!1),Jt="static",te=Zu("static",!1),ee="thread_local",ne=Zu("thread_local",!1),re="extern",ie=Zu("extern",!1),oe="mutable",ae=Zu("mutable",!1),ue="inline",se=Zu("inline",!1),ce="explicit",le=Zu("explicit",!1),fe=Yu("simple type name"),pe=function(t){return t},he="char",de=Zu("char",!1),ye="short",me=Zu("short",!1),ve="int",be=Zu("int",!1),_e="bool",ge=Zu("bool",!1),we="long",Re=Zu("long",!1),Te="signed",xe=Zu("signed",!1),Ee="unsigned",Ae=Zu("unsigned",!1),Ce="float",Oe=Zu("float",!1),Se="double",Pe=Zu("double",!1),je="void",Ie=Zu("void",!1),Fe=function(t){return function(t){return xc()[t]}(t.identifier)},Ne=function(t){return t.identifier},ke="enum",ze=Zu("enum",!1),Ve=function(t,e,n){return n},Le=function(t,e,n){return"enum"},Be="=",De=Zu("=",!1),Me=function(t,e){return e},Ue=function(t,e){return{name:t,value:e}},We="@library_unsupported@",qe=Zu("@library_unsupported@",!1),$e=function(t){return Rc(wc(t,{library_unsupported:!0}),Qu(),Hu())},Ge=function(t,e){return Rc(wc(t,{initializer:e}),Qu(),Hu())},He=function(t){return{construct_type:"direct_initializer",args:t}},Qe=function(t){return{construct_type:"copy_initializer",args:[t]}},Ze=function(t){return t},Ke=function(t,e,n){return n},Ye=function(t,e){return e.unshift(t),Rc({construct_type:"initializer_list",args:e},Qu(),Hu())},Xe=function(t){return Rc(wc({construct_type:"declarator"},t),Qu(),Hu())},Je=function(t){return Rc(wc({construct_type:"declarator",abstract:!0},t),Qu(),Hu())},tn="*",en=Zu("*",!1),nn=function(t,e){return wc({pointer:e},t)},rn="&",on=Zu("&",!1),an=function(t,e){return wc({reference:e},t)},un=function(t,e){return wc(t,{postfixes:e})},sn=function(t){return t},cn=function(t,e){return wc({kind:"function",args:t},e)},ln="[",fn=Zu("[",!1),pn="]",hn=Zu("]",!1),dn=function(t){return{kind:"array",size:t}},yn=function(t){return{name:t}},mn=function(t){return{sub:t}},vn="",bn=function(){return{}},_n=function(t,e){return Rc({specs:t,declarator:e},Qu(),Hu())},gn=function(){return{const:!0,volatile:!0}},wn=function(){return{const:!0}},Rn=function(){return{volatile:!0}},Tn=function(t,e){return e},xn=function(t,e){return e.unshift(t),e},En=function(){return[]},An=function(t,e,n){return{construct_type:"parameter_declaration",declarator:e,specs:t,initializer:n}},Cn=function(t,e){return Rc({construct_type:"parameter_declaration",specs:t,declarator:e},Qu(),Hu())},On=function(t,e,n){return[e,n]},Sn=function(t,e){return Rc(gc(t,e,"left","comma_expression"),Qu(),Hu())},Pn=function(t,e,n){return Rc({construct_type:"assignment_expression",lhs:t,operator:e,rhs:n},Qu(),Hu())},jn=function(t,e,n){return Rc({construct_type:"compound_assignment",lhs:t,operator:e,rhs:n},Qu(),Hu())},In="*=",Fn=Zu("*=",!1),Nn="/=",kn=Zu("/=",!1),zn="%=",Vn=Zu("%=",!1),Ln="+=",Bn=Zu("+=",!1),Dn="-=",Mn=Zu("-=",!1),Un=">>=",Wn=Zu(">>=",!1),qn="<<=",$n=Zu("<<=",!1),Gn="&=",Hn=Zu("&=",!1),Qn="and_eq",Zn=Zu("and_eq",!1),Kn=function(){return"&="},Yn="^=",Xn=Zu("^=",!1),Jn="xor_eq",tr=Zu("xor_eq",!1),er=function(){return"^="},nr="|=",rr=Zu("|=",!1),ir="or_eq",or=Zu("or_eq",!1),ar=function(){return"|="},ur=function(t){return t.constant=!0,t},sr="?",cr=Zu("?",!1),lr=function(t,e,n){return Rc({construct_type:"ternary_expression",condition:t,then:e,otherwise:n},Qu(),Hu())},fr="||",pr=Zu("||",!1),hr="or",dr=Zu("or",!1),yr=function(t,e,n){return["||",n]},mr=function(t,e){return Rc(gc(t,e,"left","logical_binary_operator_expression"),Qu(),Hu())},vr="&&",br=Zu("&&",!1),_r="and",gr=Zu("and",!1),wr=function(t,e,n){return["&&",n]},Rr="|",Tr=Zu("|",!1),xr="bitor",Er=Zu("bitor",!1),Ar=function(t,e,n){return["|",n]},Cr=function(t,e){return Rc(gc(t,e,"left","arithmetic_binary_operator_expression"),Qu(),Hu())},Or="^",Sr=Zu("^",!1),Pr="xor",jr=Zu("xor",!1),Ir=function(t,e,n){return["^",n]},Fr="bitand",Nr=Zu("bitand",!1),kr=function(t,e,n){return["&",n]},zr="==",Vr=Zu("==",!1),Lr="!=",Br=Zu("!=",!1),Dr="not_eq",Mr=Zu("not_eq",!1),Ur=function(t){return"!="},Wr=function(t,e){return Rc(gc(t,e,"left","relational_binary_operator_expression"),Qu(),Hu())},qr="<=",$r=Zu("<=",!1),Gr=">=",Hr=Zu(">=",!1),Qr="<",Zr=Zu("<",!1),Kr=">",Yr=Zu(">",!1),Xr="<<",Jr=Zu("<<",!1),ti=">>",ei=Zu(">>",!1),ni="+",ri=Zu("+",!1),ii="-",oi=Zu("-",!1),ai="/",ui=Zu("/",!1),si="%",ci=Zu("%",!1),li=function(t,e){return Rc(gc(t,e,"left","pointer_to_member_expression"),Qu(),Hu())},fi=".*",pi=Zu(".*",!1),hi="->*",di=Zu("->*",!1),yi=function(t,e){return Rc({construct_type:"c_style_cast_expression",type:t,operand:e},Qu(),Hu())},mi="++",vi=Zu("++",!1),bi=function(t,e){return Rc({construct_type:"prefix_increment_expression",operator:t,operand:e},Qu(),Hu())},_i="--",gi=Zu("--",!1),wi=function(t,e){return Rc({construct_type:"prefix_decrement_expression",operator:t,operand:e},Qu(),Hu())},Ri=function(t,e){return Rc(wc({operand:e},t),Qu(),Hu())},Ti="sizeof",xi=Zu("sizeof",!1),Ei=function(t,e){return Rc({construct_type:"sizeof_expression",operator:"sizeof",operand:e},Qu(),Hu())},Ai=function(t,e){return Rc({construct_type:"sizeof_type_expression",operator:"sizeof",operand:e},Qu(),Hu())},Ci=function(){return{construct_type:"dereference_expression",operator:"*"}},Oi=function(){return{construct_type:"address_of_expression",operator:"&"}},Si=function(){return{construct_type:"unary_plus_expression",operator:"+"}},Pi=function(){return{construct_type:"unary_minus_expression",operator:"-"}},ji="!",Ii=Zu("!",!1),Fi=function(){return{construct_type:"logical_not_expression",operator:"!"}},Ni="not",ki=Zu("not",!1),zi=function(){return{construct_type:"bitwise_not_expression",operator:"~"}},Vi="compl",Li=Zu("compl",!1),Bi="new",Di=Zu("new",!1),Mi=function(t,e){return Rc(wc({construct_type:"new_expression",initializer:e},t),Qu(),Hu())},Ui=function(t,e){return Rc(wc({construct_type:"new_expression",initializer:e},t),Qu(),Hu())},Wi=function(t,e){return e},qi=function(t,e){return Rc({specs:t,declarator:e},Qu(),Hu())},$i=function(t){return Rc(wc({construct_type:"declarator"},t),Qu(),Hu())},Gi=function(t){return{postfixes:t}},Hi=function(t){return t},Qi=function(t){return{type:"array",size:t}},Zi=function(t){return{args:t||[]}},Ki="delete",Yi=Zu("delete",!1),Xi=function(t){return Rc({construct_type:"delete_expression",operand:t},Qu(),Hu())},Ji=function(t){return Rc({construct_type:"delete_array_expression",operand:t},Qu(),Hu())},to="static_cast",eo=Zu("static_cast",!1),no=function(t,e){return Rc({construct_type:"static_cast_expression",type:t,operand:e},Qu(),Hu())},ro="dynamic_cast",io=Zu("dynamic_cast",!1),oo=function(t,e){return Rc({construct_type:"dynamic_cast_expression",type:t,operand:e},Qu(),Hu())},ao="reinterpret_cast",uo=Zu("reinterpret_cast",!1),so=function(t,e){return Rc({construct_type:"reinterpret_cast_expression",type:t,operand:e},Qu(),Hu())},co="const_cast",lo=Zu("const_cast",!1),fo=function(t,e){return Rc({construct_type:"const_cast_expression",type:t,operand:e},Qu(),Hu())},po=function(t,e){return e},ho=function(t,e){return e.length>0?Rc(function t(e,n){if(0==e.length)return n;var r=e.pop();return r.operand=t(e,n),r}(e,t),Qu(),Hu()):t},yo=function(t){return Rc({construct_type:"subscript_expression",arg:t},Qu(),Hu())},mo=function(t){return Rc({construct_type:"function_call_expression",args:t||[]},Qu(),Hu())},vo=".",bo=Zu(".",!1),_o=function(t){return Rc({construct_type:"dot_expression",member:t},Qu(),Hu())},go="->",wo=Zu("->",!1),Ro=function(t){return Rc({construct_type:"arrow_expression",member:t},Qu(),Hu())},To=function(){return Rc({construct_type:"postfix_increment_expression"},Qu(),Hu())},xo=function(){return Rc({construct_type:"postfix_decrement_expression"},Qu(),Hu())},Eo=function(t,e){return Rc({construct_type:"construct_expression",type:t,args:e||[]},Qu(),Hu())},Ao=function(t,e){return e},Co=function(t){return Rc({construct_type:"parentheses_expression",subexpression:t},Qu(),Hu())},Oo="this",So=Zu("this",!1),Po=function(){return Rc({construct_type:"this_expression"},Qu(),Hu())},jo=function(t){return Rc(wc({construct_type:"identifier_expression"},t),Qu(),Hu())},Io=function(t,e){return t.push(e),{identifier:t}},Fo="::",No=Zu("::",!1),ko=function(t){return t},zo=function(){return[]},Vo=function(t){return Rc({identifier:t},Qu(),Hu())},Lo="operator",Bo=Zu("operator",!1),Do=function(t){return Rc({identifier:"operator"+t,operator:t},Qu(),Hu())},Mo="new[]",Uo=Zu("new[]",!1),Wo="delete[]",qo=Zu("delete[]",!1),$o="()",Go=Zu("()",!1),Ho="[]",Qo=Zu("[]",!1),Zo=(Zu("?:",!1),function(t){return Rc({construct_type:"numeric_literal",type:"float",value:t},Qu(),Hu())}),Ko=function(t){return Rc({construct_type:"numeric_literal",type:"int",value:t},Qu(),Hu())},Yo=function(t){return Rc({construct_type:"numeric_literal",type:"char",value:t},Qu(),Hu())},Xo=function(t){return Rc({construct_type:"string_literal",type:"string",value:t},Qu(),Hu())},Jo=function(t){return Rc({construct_type:"numeric_literal",type:"bool",value:t},Qu(),Hu())},ta=/^[0-9]/,ea=Ku([["0","9"]],!1,!1),na=function(t,e){return parseInt((t||"")+e.join(""))},ra=/^[0-9.]/,ia=Ku([["0","9"],"."],!1,!1),oa=function(t,e){return e.indexOf(".")==e.lastIndexOf(".")&&-1!=e.indexOf(".")},aa=function(t,e){return parseFloat((t||"")+e.join(""))},ua="'",sa=Zu("'",!1),ca=/^[^'\\\n]/,la=Ku(["'","\\","\n"],!0,!1),fa=function(t){return t},pa='"',ha=Zu('"',!1),da=/^[^"\\\n]/,ya=Ku(['"',"\\","\n"],!0,!1),ma=function(t){return t.join("")},va="true",ba=Zu("true",!1),_a=function(){return!0},ga="false",wa=Zu("false",!1),Ra=function(){return!1},Ta='\\"',xa=Zu('\\"',!1),Ea="\\'",Aa=Zu("\\'",!1),Ca="\\?",Oa=Zu("\\?",!1),Sa="\\\\",Pa=Zu("\\\\",!1),ja="\\a",Ia=Zu("\\a",!1),Fa="\\b",Na=Zu("\\b",!1),ka="\\f",za=Zu("\\f",!1),Va="\\n",La=Zu("\\n",!1),Ba="\\r",Da=Zu("\\r",!1),Ma="\\t",Ua=Zu("\\t",!1),Wa="\\v",qa=Zu("\\v",!1),$a="\\0",Ga=Zu("\\0",!1),Ha=/^[0-8]/,Qa=Ku([["0","8"]],!1,!1),Za=Yu("identifier"),Ka=function(t,e){return Rc({identifier:t+e.join("")},Qu(),Hu())},Ya=/^[a-zA-Z0-9_]/,Xa=Ku([["a","z"],["A","Z"],["0","9"],"_"],!1,!1),Ja=/^[a-zA-Z_]/,tu=Ku([["a","z"],["A","Z"],"_"],!1,!1),eu=Yu("optional whitespace"),nu=/^[ \t\n\r]/,ru=Ku([" ","\t","\n","\r"],!1,!1),iu=Yu("whitespace"),ou=function(t){xc()[t.name.identifier]=!0},au=function(t,e){return Rc({head:t,member_specs:e},Qu(),Hu())},uu=function(t,e,n){return n},su=function(t,e,n){return Rc({key:t,name:e,bases:n},Qu(),Hu())},cu="class",lu=Zu("class",!1),fu="struct",pu=Zu("struct",!1),hu="union",du=Zu("union",!1),yu=function(t){return t},mu=function(t){return{members:t}},vu=function(t,e){return e},bu=function(t,e){return{members:e,access:t}},_u="private",gu=Zu("private",!1),wu="protected",Ru=Zu("protected",!1),Tu="public",xu=Zu("public",!1),Eu=function(t,e){return Rc({construct_type:"member_declaration",specs:t,declarators:e},Qu(),Hu())},Au=function(t){return t},Cu=function(t){return t},Ou=function(t){return t},Su="0",Pu=Zu("0",!1),ju=function(t){return t.pureVirtual=!0,t},Iu=function(t){return t.library_unsupported=!0,t},Fu=function(t,e){return t.init=e,t},Nu=function(t){return t},ku=function(t,e){return e},zu=function(t){return t},Vu=function(t,e){return{name:e,virtual:!0,access:t}},Lu=function(t,e){return{name:e,access:t}},Bu=function(t){return{name:t}},Du=function(t,e){return t.push(e),t},Mu=0,Uu=0,Wu=[{line:1,column:1}],qu=0,$u=[],Gu=0;if(void 0!==e.startRule){if(!(e.startRule in o))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=o[e.startRule]}function Hu(){return t.substring(Uu,Mu)}function Qu(){return Ju(Uu,Mu)}function Zu(t,e){return{type:"literal",text:t,ignoreCase:e}}function Ku(t,e,n){return{type:"class",parts:t,inverted:e,ignoreCase:n}}function Yu(t){return{type:"other",description:t}}function Xu(e){var n,r=Wu[e];if(r)return r;for(n=e-1;!Wu[n];)n--;for(r={line:(r=Wu[n]).line,column:r.column};n<e;)10===t.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return Wu[e]=r,r}function Ju(t,e){var n=Xu(t),r=Xu(e);return{start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:r.line,column:r.column}}}function ts(t){Mu<qu||(Mu>qu&&(qu=Mu,$u=[]),$u.push(t))}function es(t,e,n){return new i(i.buildMessage(t,e),t,e,n)}function ns(){var t,e,n,i;if(t=Mu,pc()!==r){for(e=[],n=Mu,(i=rs())!==r&&pc()!==r?(Uu=n,n=i=u(i)):(Mu=n,n=r);n!==r;)e.push(n),n=Mu,(i=rs())!==r&&pc()!==r?(Uu=n,n=i=u(i)):(Mu=n,n=r);e!==r?(Uu=t,t=s(e)):(Mu=t,t=r)}else Mu=t,t=r;return t}function rs(){var t,e;return t=Mu,(e=is())!==r&&(Uu=t,e=c()),(t=e)===r&&(t=ls()),t}function is(){var e,n,i,o,a,u;if(e=Mu,t.substr(Mu,2)===l?(n=l,Mu+=2):(n=r,0===Gu&&ts(f)),n!==r){for(i=[],p.test(t.charAt(Mu))?(o=t.charAt(Mu),Mu++):(o=r,0===Gu&&ts(h));o!==r;)i.push(o),p.test(t.charAt(Mu))?(o=t.charAt(Mu),Mu++):(o=r,0===Gu&&ts(h));i!==r?(10===t.charCodeAt(Mu)?(o=d,Mu++):(o=r,0===Gu&&ts(y)),o!==r?e=n=[n,i,o]:(Mu=e,e=r)):(Mu=e,e=r)}else Mu=e,e=r;if(e===r)if(e=Mu,t.substr(Mu,2)===m?(n=m,Mu+=2):(n=r,0===Gu&&ts(v)),n!==r){for(i=[],o=Mu,a=Mu,Gu++,t.substr(Mu,2)===b?(u=b,Mu+=2):(u=r,0===Gu&&ts(_)),Gu--,u===r?a=void 0:(Mu=a,a=r),a!==r?(t.length>Mu?(u=t.charAt(Mu),Mu++):(u=r,0===Gu&&ts(g)),u!==r?o=a=[a,u]:(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,a=Mu,Gu++,t.substr(Mu,2)===b?(u=b,Mu+=2):(u=r,0===Gu&&ts(_)),Gu--,u===r?a=void 0:(Mu=a,a=r),a!==r?(t.length>Mu?(u=t.charAt(Mu),Mu++):(u=r,0===Gu&&ts(g)),u!==r?o=a=[a,u]:(Mu=o,o=r)):(Mu=o,o=r);i!==r?(t.substr(Mu,2)===b?(o=b,Mu+=2):(o=r,0===Gu&&ts(_)),o!==r?e=n=[n,i,o]:(Mu=e,e=r)):(Mu=e,e=r)}else Mu=e,e=r;return e}function os(){var e,n;return e=Mu,(n=function(){var e,n;return e=Mu,(n=function(){var e,n,i,o,a;return e=Mu,(n=lc())!==r&&pc()!==r?(58===t.charCodeAt(Mu)?(i=T,Mu++):(i=r,0===Gu&&ts(x)),i!==r&&pc()!==r&&(o=os())!==r?(Uu=e,n=E(n,o),e=n):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,4)===A?(n=A,Mu+=4):(n=r,0===Gu&&ts(C)),n!==r&&hc()!==r&&(i=zs())!==r&&pc()!==r?(58===t.charCodeAt(Mu)?(o=T,Mu++):(o=r,0===Gu&&ts(x)),o!==r&&pc()!==r&&(a=os())!==r?(Uu=e,n=O(i,a),e=n):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,7)===S?(n=S,Mu+=7):(n=r,0===Gu&&ts(P)),n!==r&&pc()!==r?(58===t.charCodeAt(Mu)?(i=T,Mu++):(i=r,0===Gu&&ts(x)),i!==r&&pc()!==r&&(o=os())!==r?(Uu=e,n=j(o),e=n):(Mu=e,e=r)):(Mu=e,e=r))),e}())!==r&&(Uu=e,n=R(n)),(e=n)===r&&(e=ss())===r&&(e=function(){var e,n,i,o,a,u,s,c;return e=Mu,t.substr(Mu,2)===U?(n=U,Mu+=2):(n=r,0===Gu&&ts(W)),n!==r&&pc()!==r?(40===t.charCodeAt(Mu)?(i=q,Mu++):(i=r,0===Gu&&ts($)),i!==r&&pc()!==r&&(o=Ns())!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(a=G,Mu++):(a=r,0===Gu&&ts(H)),a!==r&&pc()!==r&&(u=os())!==r&&pc()!==r?(t.substr(Mu,4)===Q?(s=Q,Mu+=4):(s=r,0===Gu&&ts(Z)),s!==r&&pc()!==r&&(c=os())!==r?(Uu=e,n=K(o,u,c),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,2)===U?(n=U,Mu+=2):(n=r,0===Gu&&ts(W)),n!==r&&pc()!==r?(40===t.charCodeAt(Mu)?(i=q,Mu++):(i=r,0===Gu&&ts($)),i!==r&&pc()!==r&&(o=Ns())!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(a=G,Mu++):(a=r,0===Gu&&ts(H)),a!==r&&pc()!==r&&(u=os())!==r?(Uu=e,n=Y(o,u),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)),e}())===r&&(e=function(){var e,n,i,o,a,u,s,c,l,f,p,h,d,y,m,v;return e=Mu,t.substr(Mu,5)===X?(n=X,Mu+=5):(n=r,0===Gu&&ts(J)),n!==r&&(i=pc())!==r?(40===t.charCodeAt(Mu)?(o=q,Mu++):(o=r,0===Gu&&ts($)),o!==r&&(a=pc())!==r&&(u=Ns())!==r&&(s=pc())!==r?(41===t.charCodeAt(Mu)?(c=G,Mu++):(c=r,0===Gu&&ts(H)),c!==r&&(l=pc())!==r&&(f=os())!==r?(Uu=e,n=tt(u,f),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,2)===et?(n=et,Mu+=2):(n=r,0===Gu&&ts(nt)),n!==r?(i=Mu,Gu++,o=fc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r&&(o=pc())!==r&&(a=os())!==r&&(u=pc())!==r?(t.substr(Mu,5)===X?(s=X,Mu+=5):(s=r,0===Gu&&ts(J)),s!==r&&(c=pc())!==r?(40===t.charCodeAt(Mu)?(l=q,Mu++):(l=r,0===Gu&&ts($)),l!==r&&(f=pc())!==r&&(p=Ns())!==r&&(h=pc())!==r?(41===t.charCodeAt(Mu)?(d=G,Mu++):(d=r,0===Gu&&ts(H)),d!==r&&(y=pc())!==r?(59===t.charCodeAt(Mu)?(m=I,Mu++):(m=r,0===Gu&&ts(F)),m!==r?(Uu=e,n=rt(a,p),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,3)===it?(n=it,Mu+=3):(n=r,0===Gu&&ts(ot)),n!==r&&(i=pc())!==r?(40===t.charCodeAt(Mu)?(o=q,Mu++):(o=r,0===Gu&&ts($)),o!==r&&(a=pc())!==r&&(u=function(){var t,e;return(t=as())===r&&(t=us())===r&&(t=Mu,(e=cs())!==r&&(Uu=t,e=ut(e)),t=e),t}())!==r&&(s=pc())!==r&&(c=Ns())!==r&&(l=pc())!==r?(59===t.charCodeAt(Mu)?(f=I,Mu++):(f=r,0===Gu&&ts(F)),f!==r&&(p=pc())!==r&&(h=Ns())!==r&&(d=pc())!==r?(41===t.charCodeAt(Mu)?(y=G,Mu++):(y=r,0===Gu&&ts(H)),y!==r&&(m=pc())!==r&&(v=os())!==r?(Uu=e,n=at(u,c,h,v),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r))),e}())===r&&(e=function(){var e,n,i,o,a,u;return e=Mu,t.substr(Mu,5)===st?(n=st,Mu+=5):(n=r,0===Gu&&ts(ct)),n!==r?(i=Mu,Gu++,o=fc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r&&(o=pc())!==r?(59===t.charCodeAt(Mu)?(a=I,Mu++):(a=r,0===Gu&&ts(F)),a!==r?(Uu=e,n=lt(),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,8)===ft?(n=ft,Mu+=8):(n=r,0===Gu&&ts(pt)),n!==r?(i=Mu,Gu++,o=fc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r&&(o=pc())!==r?(59===t.charCodeAt(Mu)?(a=I,Mu++):(a=r,0===Gu&&ts(F)),a!==r?(Uu=e,n=ht(),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,6)===dt?(n=dt,Mu+=6):(n=r,0===Gu&&ts(yt)),n!==r?(i=Mu,Gu++,o=fc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r&&(o=pc())!==r?((a=Ns())===r&&(a=null),a!==r&&pc()!==r?(59===t.charCodeAt(Mu)?(u=I,Mu++):(u=r,0===Gu&&ts(F)),u!==r?(Uu=e,n=mt(a),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r))),e}())===r&&(e=cs())===r&&(e=as())===r&&(e=us()),e}())!==r&&(Uu=e,n=w(n)),e=n}function as(){var e,n,i;return e=Mu,(n=Ns())!==r&&pc()!==r?(59===t.charCodeAt(Mu)?(i=I,Mu++):(i=r,0===Gu&&ts(F)),i!==r?(Uu=e,e=n=N(n)):(Mu=e,e=r)):(Mu=e,e=r),e}function us(){var e,n;return e=Mu,pc()!==r?(59===t.charCodeAt(Mu)?(n=I,Mu++):(n=r,0===Gu&&ts(F)),n!==r?(Uu=e,e=k()):(Mu=e,e=r)):(Mu=e,e=r),e}function ss(){var e,n,i,o,a;if(e=Mu,123===t.charCodeAt(Mu)?(n=z,Mu++):(n=r,0===Gu&&ts(V)),n!==r)if(pc()!==r){for(i=[],o=Mu,(a=os())!==r&&pc()!==r?(Uu=o,o=a=L(a)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,(a=os())!==r&&pc()!==r?(Uu=o,o=a=L(a)):(Mu=o,o=r);i!==r?(125===t.charCodeAt(Mu)?(o=B,Mu++):(o=r,0===Gu&&ts(D)),o!==r?(Uu=e,e=n=M(i)):(Mu=e,e=r)):(Mu=e,e=r)}else Mu=e,e=r;else Mu=e,e=r;return e}function cs(){var t,e;return t=Mu,(e=ls())!==r&&(Uu=t,e=vt(e)),t=e}function ls(){var e;return(e=function(){var e,n,i,o,a,u;return e=Mu,(n=ds())!==r?(i=Mu,Gu++,o=lc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r&&(o=pc())!==r&&(a=function(){var e,n,i,o,a,u,s;if(e=Mu,(n=gs())!==r){for(i=[],o=Mu,(a=pc())!==r?(44===t.charCodeAt(Mu)?(u=_t,Mu++):(u=r,0===Gu&&ts(gt)),u!==r&&pc()!==r&&(s=gs())!==r?(Uu=o,a=wt(n,s),o=a):(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,(a=pc())!==r?(44===t.charCodeAt(Mu)?(u=_t,Mu++):(u=r,0===Gu&&ts(gt)),u!==r&&pc()!==r&&(s=gs())!==r?(Uu=o,a=wt(n,s),o=a):(Mu=o,o=r)):(Mu=o,o=r);i!==r?(Uu=e,n=Rt(n,i),e=n):(Mu=e,e=r)}else Mu=e,e=r;return e}())!==r&&pc()!==r?(59===t.charCodeAt(Mu)?(u=I,Mu++):(u=r,0===Gu&&ts(F)),u!==r?(Uu=e,n=bt(n,a),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e}())===r&&(e=function(){var e,n,i;return e=Mu,(n=function(){var e,n,i,o,a,u;if(e=Mu,(n=function(){var e,n,i,o,a,u;return e=Mu,(n=function(){var e;return t.substr(Mu,5)===cu?(e=cu,Mu+=5):(e=r,0===Gu&&ts(lu)),e===r&&(t.substr(Mu,6)===fu?(e=fu,Mu+=6):(e=r,0===Gu&&ts(pu)),e===r&&(t.substr(Mu,5)===hu?(e=hu,Mu+=5):(e=r,0===Gu&&ts(du)))),e}())!==r&&hc()!==r&&(i=lc())!==r?(o=Mu,(a=hc())!==r&&(u=function(){var e,n,i;return e=Mu,58===t.charCodeAt(Mu)?(n=T,Mu++):(n=r,0===Gu&&ts(x)),n!==r&&pc()!==r&&(i=function(){var e,n,i,o,a,u,s;if(e=Mu,(n=bc())!==r){for(i=[],o=Mu,(a=pc())!==r?(44===t.charCodeAt(Mu)?(u=_t,Mu++):(u=r,0===Gu&&ts(gt)),u!==r&&pc()!==r&&(s=bc())!==r?(Uu=o,a=ku(n,s),o=a):(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,(a=pc())!==r?(44===t.charCodeAt(Mu)?(u=_t,Mu++):(u=r,0===Gu&&ts(gt)),u!==r&&pc()!==r&&(s=bc())!==r?(Uu=o,a=ku(n,s),o=a):(Mu=o,o=r)):(Mu=o,o=r);i!==r?(Uu=e,n=Rt(n,i),e=n):(Mu=e,e=r)}else Mu=e,e=r;return e}())!==r?(Uu=e,n=Nu(i),e=n):(Mu=e,e=r),e}())!==r?(Uu=o,a=uu(n,i,u),o=a):(Mu=o,o=r),o===r&&(o=null),o!==r?(Uu=e,n=su(n,i,o),e=n):(Mu=e,e=r)):(Mu=e,e=r),e}())!==r)if(Uu=Mu,(ou(n)?r:void 0)!==r)if(pc()!==r)if(123===t.charCodeAt(Mu)?(i=z,Mu++):(i=r,0===Gu&&ts(V)),i!==r)if(pc()!==r){for(o=[],a=dc();a!==r;)o.push(a),a=dc();o!==r&&(a=pc())!==r?(125===t.charCodeAt(Mu)?(u=B,Mu++):(u=r,0===Gu&&ts(D)),u!==r?(Uu=e,n=au(n,o),e=n):(Mu=e,e=r)):(Mu=e,e=r)}else Mu=e,e=r;else Mu=e,e=r;else Mu=e,e=r;else Mu=e,e=r;else Mu=e,e=r;return e}())!==r&&pc()!==r?(59===t.charCodeAt(Mu)?(i=I,Mu++):(i=r,0===Gu&&ts(F)),i!==r?(Uu=e,n=Tt(n),e=n):(Mu=e,e=r)):(Mu=e,e=r),e}())===r&&(e=fs()),e}function fs(){var t,e,n,i,o,a;return t=Mu,(e=ds())!==r?(n=Mu,Gu++,i=lc(),Gu--,i===r?n=void 0:(Mu=n,n=r),n!==r&&(i=pc())!==r&&(o=Rs())!==r&&pc()!==r&&(a=ss())!==r?(Uu=t,t=e=xt(e,o,a)):(Mu=t,t=r)):(Mu=t,t=r),t}function ps(){var e,n,i,o,a,u,s,c;return e=Mu,(n=lc())!==r&&pc()!==r?(40===t.charCodeAt(Mu)?(i=q,Mu++):(i=r,0===Gu&&ts($)),i!==r&&pc()!==r&&(o=Is())!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(a=G,Mu++):(a=r,0===Gu&&ts(H)),a!==r&&pc()!==r?((u=function(){var e,n,i,o,a,u,s,c;if(e=Mu,58===t.charCodeAt(Mu)?(n=T,Mu++):(n=r,0===Gu&&ts(x)),n!==r)if(pc()!==r)if((i=hs())!==r){for(o=[],a=Mu,(u=pc())!==r?(44===t.charCodeAt(Mu)?(s=_t,Mu++):(s=r,0===Gu&&ts(gt)),s!==r&&pc()!==r&&(c=hs())!==r?(Uu=a,u=Nt(i,c),a=u):(Mu=a,a=r)):(Mu=a,a=r);a!==r;)o.push(a),a=Mu,(u=pc())!==r?(44===t.charCodeAt(Mu)?(s=_t,Mu++):(s=r,0===Gu&&ts(gt)),s!==r&&pc()!==r&&(c=hs())!==r?(Uu=a,u=Nt(i,c),a=u):(Mu=a,a=r)):(Mu=a,a=r);o!==r?(Uu=e,n=kt(i,o),e=n):(Mu=e,e=r)}else Mu=e,e=r;else Mu=e,e=r;else Mu=e,e=r;return e}())===r&&(u=null),u!==r&&pc()!==r?((s=ss())===r&&(s=Mu,59===t.charCodeAt(Mu)?(c=I,Mu++):(c=r,0===Gu&&ts(F)),c!==r&&(Uu=s,c=Et(n,o,u)),s=c),s!==r?(Uu=e,e=n=At(n,o,u,s)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e}function hs(){var e,n,i,o,a;return e=Mu,(n=lc())!==r&&pc()!==r?(40===t.charCodeAt(Mu)?(i=q,Mu++):(i=r,0===Gu&&ts($)),i!==r&&pc()!==r?((o=oc())===r&&(o=null),o!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(a=G,Mu++):(a=r,0===Gu&&ts(H)),a!==r?(Uu=e,e=n=zt(n,o)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e}function ds(){var t,e,n,i,o,a;for(t=Mu,e=[],n=Mu,(i=ys())!==r&&(o=hc())!==r?(Uu=n,n=i=Vt(i)):(Mu=n,n=r);n!==r;)e.push(n),n=Mu,(i=ys())!==r&&(o=hc())!==r?(Uu=n,n=i=Vt(i)):(Mu=n,n=r);if(e!==r)if((n=bs())!==r){for(i=[],o=Mu,hc()!==r&&(a=ys())!==r?(Uu=o,o=Lt(e,n,a)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,hc()!==r&&(a=ys())!==r?(Uu=o,o=Lt(e,n,a)):(Mu=o,o=r);i!==r?(Uu=t,t=e=Bt(e,n,i)):(Mu=t,t=r)}else Mu=t,t=r;else Mu=t,t=r;return t}function ys(){var e,n;return e=Mu,(n=vs())!==r&&(Uu=e,n=Dt(n)),(e=n)===r&&(e=Mu,(n=function(){var e;return t.substr(Mu,8)===Yt?(e=Yt,Mu+=8):(e=r,0===Gu&&ts(Xt)),e===r&&(t.substr(Mu,6)===Jt?(e=Jt,Mu+=6):(e=r,0===Gu&&ts(te)),e===r&&(t.substr(Mu,12)===ee?(e=ee,Mu+=12):(e=r,0===Gu&&ts(ne)),e===r&&(t.substr(Mu,6)===re?(e=re,Mu+=6):(e=r,0===Gu&&ts(ie)),e===r&&(t.substr(Mu,7)===oe?(e=oe,Mu+=7):(e=r,0===Gu&&ts(ae)))))),e}())!==r&&(Uu=e,n=Mt(n)),(e=n)===r&&(e=function(){var e;return t.substr(Mu,6)===ue?(e=ue,Mu+=6):(e=r,0===Gu&&ts(se)),e===r&&(t.substr(Mu,8)===ce?(e=ce,Mu+=8):(e=r,0===Gu&&ts(le)),e===r&&(t.substr(Mu,7)===jt?(e=jt,Mu+=7):(e=r,0===Gu&&ts(It)))),e}())===r&&(t.substr(Mu,7)===Ut?(e=Ut,Mu+=7):(e=r,0===Gu&&ts(Wt)),e===r&&(t.substr(Mu,6)===qt?(e=qt,Mu+=6):(e=r,0===Gu&&ts($t))))),e}function ms(){var t,e,n,i,o,a;for(t=Mu,e=[],n=Mu,(i=vs())!==r&&(o=hc())!==r?(Uu=n,n=i=Vt(i)):(Mu=n,n=r);n!==r;)e.push(n),n=Mu,(i=vs())!==r&&(o=hc())!==r?(Uu=n,n=i=Vt(i)):(Mu=n,n=r);if(e!==r)if((n=bs())!==r){for(i=[],o=Mu,hc()!==r&&(a=vs())!==r?(Uu=o,o=Lt(e,n,a)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,hc()!==r&&(a=vs())!==r?(Uu=o,o=Lt(e,n,a)):(Mu=o,o=r);i!==r?(Uu=t,t=e=Gt(e,n,i)):(Mu=t,t=r)}else Mu=t,t=r;else Mu=t,t=r;return t}function vs(){var e;return(e=function(){var e,n,i,o,a,u,s,c,l,f;if(e=Mu,t.substr(Mu,4)===ke?(n=ke,Mu+=4):(n=r,0===Gu&&ts(ze)),n!==r)if(hc()!==r)if((i=lc())===r&&(i=null),i!==r)if(pc()!==r)if(123===t.charCodeAt(Mu)?(o=z,Mu++):(o=r,0===Gu&&ts(V)),o!==r)if((a=_s())!==r){for(u=[],s=Mu,(c=pc())!==r?(44===t.charCodeAt(Mu)?(l=_t,Mu++):(l=r,0===Gu&&ts(gt)),l!==r&&pc()!==r&&(f=_s())!==r?(Uu=s,c=Ve(i,a,f),s=c):(Mu=s,s=r)):(Mu=s,s=r);s!==r;)u.push(s),s=Mu,(c=pc())!==r?(44===t.charCodeAt(Mu)?(l=_t,Mu++):(l=r,0===Gu&&ts(gt)),l!==r&&pc()!==r&&(f=_s())!==r?(Uu=s,c=Ve(i,a,f),s=c):(Mu=s,s=r)):(Mu=s,s=r);u!==r&&(s=pc())!==r?(125===t.charCodeAt(Mu)?(c=B,Mu++):(c=r,0===Gu&&ts(D)),c!==r?(Uu=e,n=Le(i,a,u),e=n):(Mu=e,e=r)):(Mu=e,e=r)}else Mu=e,e=r;else Mu=e,e=r;else Mu=e,e=r;else Mu=e,e=r;else Mu=e,e=r;else Mu=e,e=r;return e}())===r&&(t.substr(Mu,5)===Ht?(e=Ht,Mu+=5):(e=r,0===Gu&&ts(Qt)),e===r&&(t.substr(Mu,8)===Zt?(e=Zt,Mu+=8):(e=r,0===Gu&&ts(Kt)))),e}function bs(){var e,n,i,o;return Gu++,e=Mu,(n=function(){var e,n;return t.substr(Mu,4)===he?(e=he,Mu+=4):(e=r,0===Gu&&ts(de)),e===r&&(t.substr(Mu,5)===ye?(e=ye,Mu+=5):(e=r,0===Gu&&ts(me)),e===r&&(t.substr(Mu,3)===ve?(e=ve,Mu+=3):(e=r,0===Gu&&ts(be)),e===r&&(t.substr(Mu,4)===_e?(e=_e,Mu+=4):(e=r,0===Gu&&ts(ge)),e===r&&(t.substr(Mu,4)===we?(e=we,Mu+=4):(e=r,0===Gu&&ts(Re)),e===r&&(t.substr(Mu,6)===Te?(e=Te,Mu+=6):(e=r,0===Gu&&ts(xe)),e===r&&(t.substr(Mu,8)===Ee?(e=Ee,Mu+=8):(e=r,0===Gu&&ts(Ae)),e===r&&(t.substr(Mu,5)===Ce?(e=Ce,Mu+=5):(e=r,0===Gu&&ts(Oe)),e===r&&(t.substr(Mu,6)===Se?(e=Se,Mu+=6):(e=r,0===Gu&&ts(Pe)),e===r&&(t.substr(Mu,4)===je?(e=je,Mu+=4):(e=r,0===Gu&&ts(Ie)),e===r&&(e=Mu,(n=lc())!==r?(Uu=Mu,(Fe(n)?void 0:r)!==r?(Uu=e,n=Ne(n),e=n):(Mu=e,e=r)):(Mu=e,e=r))))))))))),e}())!==r?(i=Mu,Gu++,o=fc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r?(Uu=e,e=n=pe(n)):(Mu=e,e=r)):(Mu=e,e=r),Gu--,e===r&&(n=r,0===Gu&&ts(fe)),e}function _s(){var e,n,i,o,a;return e=Mu,(n=lc())!==r?(i=Mu,pc()!==r?(61===t.charCodeAt(Mu)?(o=Be,Mu++):(o=r,0===Gu&&ts(De)),o!==r&&pc()!==r&&(a=zs())!==r?(Uu=i,i=Me(n,a)):(Mu=i,i=r)):(Mu=i,i=r),i!==r?(Uu=e,e=n=Ue(n,i)):(Mu=e,e=r)):(Mu=e,e=r),e}function gs(){var e,n,i,o;return e=Mu,(n=Rs())!==r&&pc()!==r?(61===t.charCodeAt(Mu)?(i=Be,Mu++):(i=r,0===Gu&&ts(De)),i!==r&&pc()!==r?(t.substr(Mu,21)===We?(o=We,Mu+=21):(o=r,0===Gu&&ts(qe)),o!==r?(Uu=e,e=n=$e(n)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,(n=Rs())!==r&&pc()!==r?((i=function(){var e,n,i,o;return(e=ws())===r&&(e=Mu,40===t.charCodeAt(Mu)?(n=q,Mu++):(n=r,0===Gu&&ts($)),n!==r&&pc()!==r?((i=oc())===r&&(i=null),i!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(o=G,Mu++):(o=r,0===Gu&&ts(H)),o!==r?(Uu=e,n=He(i),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)),e}())===r&&(i=null),i!==r?(Uu=e,e=n=Ge(n,i)):(Mu=e,e=r)):(Mu=e,e=r)),e}function ws(){var e,n,i,o,a;return e=Mu,61===t.charCodeAt(Mu)?(n=Be,Mu++):(n=r,0===Gu&&ts(De)),n!==r&&pc()!==r&&(i=ks())!==r?(Uu=e,e=n=Qe(i)):(Mu=e,e=r),e===r&&(e=Mu,61===t.charCodeAt(Mu)?(n=Be,Mu++):(n=r,0===Gu&&ts(De)),n!==r&&pc()!==r?(123===t.charCodeAt(Mu)?(i=z,Mu++):(i=r,0===Gu&&ts(V)),i!==r&&pc()!==r&&(o=function(){var e,n,i,o,a,u,s;if(e=Mu,(n=ks())!==r){for(i=[],o=Mu,(a=pc())!==r?(44===t.charCodeAt(Mu)?(u=_t,Mu++):(u=r,0===Gu&&ts(gt)),u!==r&&pc()!==r&&(s=ks())!==r?(Uu=o,a=Ke(n,u,s),o=a):(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,(a=pc())!==r?(44===t.charCodeAt(Mu)?(u=_t,Mu++):(u=r,0===Gu&&ts(gt)),u!==r&&pc()!==r&&(s=ks())!==r?(Uu=o,a=Ke(n,u,s),o=a):(Mu=o,o=r)):(Mu=o,o=r);i!==r?(Uu=e,n=Ye(n,i),e=n):(Mu=e,e=r)}else Mu=e,e=r;return e}())!==r&&pc()!==r?(125===t.charCodeAt(Mu)?(a=B,Mu++):(a=r,0===Gu&&ts(D)),a!==r?(Uu=e,e=n=Ze(o)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)),e}function Rs(){var t,e;return t=Mu,(e=xs())!==r&&(Uu=t,e=Xe(e)),t=e}function Ts(){var t,e;return t=Mu,(e=Es())!==r&&(Uu=t,e=Je(e)),t=e}function xs(){var e,n,i,o,a;return e=Mu,42===t.charCodeAt(Mu)?(n=tn,Mu++):(n=r,0===Gu&&ts(en)),n!==r&&(i=pc())!==r?((o=js())===r&&(o=null),o!==r&&pc()!==r&&(a=xs())!==r?(Uu=e,e=n=nn(o,a)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,38===t.charCodeAt(Mu)?(n=rn,Mu++):(n=r,0===Gu&&ts(on)),n!==r&&(i=pc())!==r?((o=js())===r&&(o=null),o!==r&&pc()!==r&&(a=xs())!==r?(Uu=e,e=n=an(o,a)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,(n=Os())!==r&&(i=As())!==r?(Uu=e,e=n=un(n,i)):(Mu=e,e=r),e===r&&(e=Os()))),e}function Es(){var e,n,i,o,a;return e=Mu,42===t.charCodeAt(Mu)?(n=tn,Mu++):(n=r,0===Gu&&ts(en)),n!==r&&(i=pc())!==r?((o=js())===r&&(o=null),o!==r&&pc()!==r&&(a=Es())!==r?(Uu=e,e=n=nn(o,a)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,38===t.charCodeAt(Mu)?(n=rn,Mu++):(n=r,0===Gu&&ts(on)),n!==r&&(i=pc())!==r?((o=js())===r&&(o=null),o!==r&&pc()!==r&&(a=Es())!==r?(Uu=e,e=n=an(o,a)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,(n=Ss())!==r&&(i=As())!==r?(Uu=e,e=n=un(n,i)):(Mu=e,e=r),e===r&&(e=Ss()))),e}function As(){var t,e,n;if(t=[],e=Mu,pc()!==r&&(n=Cs())!==r?(Uu=e,e=sn(n)):(Mu=e,e=r),e!==r)for(;e!==r;)t.push(e),e=Mu,pc()!==r&&(n=Cs())!==r?(Uu=e,e=sn(n)):(Mu=e,e=r);else t=r;return t}function Cs(){var e,n,i,o,a;return e=Mu,40===t.charCodeAt(Mu)?(n=q,Mu++):(n=r,0===Gu&&ts($)),n!==r&&pc()!==r&&(i=Is())!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(o=G,Mu++):(o=r,0===Gu&&ts(H)),o!==r&&pc()!==r?((a=js())===r&&(a=null),a!==r?(Uu=e,e=n=cn(i,a)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,91===t.charCodeAt(Mu)?(n=ln,Mu++):(n=r,0===Gu&&ts(fn)),n!==r&&pc()!==r?((i=zs())===r&&(i=null),i!==r&&pc()!==r?(93===t.charCodeAt(Mu)?(o=pn,Mu++):(o=r,0===Gu&&ts(hn)),o!==r?(Uu=e,e=n=dn(i)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)),e}function Os(){var e,n,i,o;return e=Mu,(n=sc())!==r&&(Uu=e,n=yn(n)),(e=n)===r&&(e=Mu,40===t.charCodeAt(Mu)?(n=q,Mu++):(n=r,0===Gu&&ts($)),n!==r&&pc()!==r?((i=xs())===r&&(i=null),i!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(o=G,Mu++):(o=r,0===Gu&&ts(H)),o!==r?(Uu=e,e=n=mn(i)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)),e}function Ss(){var e,n,i,o;return e=Mu,40===t.charCodeAt(Mu)?(n=q,Mu++):(n=r,0===Gu&&ts($)),n!==r&&pc()!==r?((i=Es())===r&&(i=null),i!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(o=G,Mu++):(o=r,0===Gu&&ts(H)),o!==r?(Uu=e,e=n=mn(i)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,(n=vn)!==r&&(Uu=e,n=bn()),e=n),e}function Ps(){var t,e,n;return t=Mu,(e=ms())!==r&&pc()!==r&&(n=Ts())!==r?(Uu=t,t=e=_n(e,n)):(Mu=t,t=r),t}function js(){var e,n,i;return e=Mu,t.substr(Mu,5)===Ht?(n=Ht,Mu+=5):(n=r,0===Gu&&ts(Qt)),n!==r&&hc()!==r?(t.substr(Mu,8)===Zt?(i=Zt,Mu+=8):(i=r,0===Gu&&ts(Kt)),i!==r?(Uu=e,e=n=gn()):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,8)===Zt?(n=Zt,Mu+=8):(n=r,0===Gu&&ts(Kt)),n!==r&&hc()!==r?(t.substr(Mu,5)===Ht?(i=Ht,Mu+=5):(i=r,0===Gu&&ts(Qt)),i!==r?(Uu=e,e=n=gn()):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,5)===Ht?(n=Ht,Mu+=5):(n=r,0===Gu&&ts(Qt)),n!==r&&(Uu=e,n=wn()),(e=n)===r&&(e=Mu,t.substr(Mu,8)===Zt?(n=Zt,Mu+=8):(n=r,0===Gu&&ts(Kt)),n!==r&&(Uu=e,n=Rn()),e=n))),e}function Is(){var e,n,i,o,a,u;if(e=Mu,(n=Fs())!==r){for(i=[],o=Mu,pc()!==r?(44===t.charCodeAt(Mu)?(a=_t,Mu++):(a=r,0===Gu&&ts(gt)),a!==r&&pc()!==r&&(u=Fs())!==r?(Uu=o,o=Tn(n,u)):(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,pc()!==r?(44===t.charCodeAt(Mu)?(a=_t,Mu++):(a=r,0===Gu&&ts(gt)),a!==r&&pc()!==r&&(u=Fs())!==r?(Uu=o,o=Tn(n,u)):(Mu=o,o=r)):(Mu=o,o=r);i!==r?(Uu=e,e=n=xn(n,i)):(Mu=e,e=r)}else Mu=e,e=r;return e===r&&(e=Mu,(n=vn)!==r&&(Uu=e,n=En()),e=n),e}function Fs(){var e,n,i,o,a;return e=Mu,(n=ds())!==r&&pc()!==r&&(i=Rs())!==r&&pc()!==r?(61===t.charCodeAt(Mu)?(o=Be,Mu++):(o=r,0===Gu&&ts(De)),o!==r&&pc()!==r&&(a=ks())!==r?(Uu=e,e=n=An(n,i,a)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,(n=ds())!==r&&pc()!==r&&(i=Rs())!==r?(Uu=e,e=n=Cn(n,i)):(Mu=e,e=r),e===r&&(e=Mu,(n=ds())!==r&&pc()!==r&&(i=Ts())!==r&&pc()!==r?(61===t.charCodeAt(Mu)?(o=Be,Mu++):(o=r,0===Gu&&ts(De)),o!==r&&pc()!==r&&(a=ks())!==r?(Uu=e,e=n=An(n,i,a)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,(n=ds())!==r&&pc()!==r&&(i=Ts())!==r?(Uu=e,e=n=Cn(n,i)):(Mu=e,e=r)))),e}function Ns(){var e,n,i,o,a,u;if(e=Mu,(n=ks())!==r){for(i=[],o=Mu,pc()!==r?(44===t.charCodeAt(Mu)?(a=_t,Mu++):(a=r,0===Gu&&ts(gt)),a!==r&&pc()!==r&&(u=ks())!==r?(Uu=o,o=On(n,a,u)):(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,pc()!==r?(44===t.charCodeAt(Mu)?(a=_t,Mu++):(a=r,0===Gu&&ts(gt)),a!==r&&pc()!==r&&(u=ks())!==r?(Uu=o,o=On(n,a,u)):(Mu=o,o=r)):(Mu=o,o=r);i!==r?(Uu=e,e=n=Sn(n,i)):(Mu=e,e=r)}else Mu=e,e=r;return e===r&&(e=ks()),e}function ks(){var e,n,i,o;return e=Mu,(n=ec())!==r&&pc()!==r?(61===t.charCodeAt(Mu)?(i=Be,Mu++):(i=r,0===Gu&&ts(De)),i!==r&&pc()!==r&&(o=ks())!==r?(Uu=e,e=n=Pn(n,i,o)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,(n=ec())!==r&&pc()!==r&&(i=function(){var e,n,i,o;return t.substr(Mu,2)===In?(e=In,Mu+=2):(e=r,0===Gu&&ts(Fn)),e===r&&(t.substr(Mu,2)===Nn?(e=Nn,Mu+=2):(e=r,0===Gu&&ts(kn)),e===r&&(t.substr(Mu,2)===zn?(e=zn,Mu+=2):(e=r,0===Gu&&ts(Vn)),e===r&&(t.substr(Mu,2)===Ln?(e=Ln,Mu+=2):(e=r,0===Gu&&ts(Bn)),e===r&&(t.substr(Mu,2)===Dn?(e=Dn,Mu+=2):(e=r,0===Gu&&ts(Mn)),e===r&&(t.substr(Mu,3)===Un?(e=Un,Mu+=3):(e=r,0===Gu&&ts(Wn)),e===r&&(t.substr(Mu,3)===qn?(e=qn,Mu+=3):(e=r,0===Gu&&ts($n)),e===r&&(t.substr(Mu,2)===Gn?(e=Gn,Mu+=2):(e=r,0===Gu&&ts(Hn)),e===r&&(e=Mu,t.substr(Mu,6)===Qn?(n=Qn,Mu+=6):(n=r,0===Gu&&ts(Zn)),n!==r?(i=Mu,Gu++,o=fc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r?(Uu=e,n=Kn(),e=n):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(t.substr(Mu,2)===Yn?(e=Yn,Mu+=2):(e=r,0===Gu&&ts(Xn)),e===r&&(e=Mu,t.substr(Mu,6)===Jn?(n=Jn,Mu+=6):(n=r,0===Gu&&ts(tr)),n!==r?(i=Mu,Gu++,o=fc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r?(Uu=e,n=er(),e=n):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(t.substr(Mu,2)===nr?(e=nr,Mu+=2):(e=r,0===Gu&&ts(rr)),e===r&&(e=Mu,t.substr(Mu,5)===ir?(n=ir,Mu+=5):(n=r,0===Gu&&ts(or)),n!==r?(i=Mu,Gu++,o=fc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r?(Uu=e,n=ar(),e=n):(Mu=e,e=r)):(Mu=e,e=r))))))))))))),e}())!==r&&pc()!==r&&(o=ks())!==r?(Uu=e,e=n=jn(n,i,o)):(Mu=e,e=r),e===r&&(e=Vs())),e}function zs(){var t,e;return t=Mu,(e=Vs())!==r&&(Uu=t,e=ur(e)),t=e}function Vs(){var e,n,i,o,a,u;return e=Mu,(n=Ls())!==r&&pc()!==r?(63===t.charCodeAt(Mu)?(i=sr,Mu++):(i=r,0===Gu&&ts(cr)),i!==r&&pc()!==r&&(o=Ns())!==r&&pc()!==r?(58===t.charCodeAt(Mu)?(a=T,Mu++):(a=r,0===Gu&&ts(x)),a!==r&&pc()!==r&&(u=ks())!==r?(Uu=e,e=n=lr(n,o,u)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Ls()),e}function Ls(){var e,n,i,o,a,u,s,c;if(e=Mu,(n=Bs())!==r){for(i=[],o=Mu,pc()!==r?(t.substr(Mu,2)===fr?(a=fr,Mu+=2):(a=r,0===Gu&&ts(pr)),a===r&&(a=Mu,t.substr(Mu,2)===hr?(u=hr,Mu+=2):(u=r,0===Gu&&ts(dr)),u!==r?(s=Mu,Gu++,c=fc(),Gu--,c===r?s=void 0:(Mu=s,s=r),s!==r?a=u=[u,s]:(Mu=a,a=r)):(Mu=a,a=r)),a!==r&&(u=pc())!==r&&(s=Bs())!==r?(Uu=o,o=yr(n,a,s)):(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,pc()!==r?(t.substr(Mu,2)===fr?(a=fr,Mu+=2):(a=r,0===Gu&&ts(pr)),a===r&&(a=Mu,t.substr(Mu,2)===hr?(u=hr,Mu+=2):(u=r,0===Gu&&ts(dr)),u!==r?(s=Mu,Gu++,c=fc(),Gu--,c===r?s=void 0:(Mu=s,s=r),s!==r?a=u=[u,s]:(Mu=a,a=r)):(Mu=a,a=r)),a!==r&&(u=pc())!==r&&(s=Bs())!==r?(Uu=o,o=yr(n,a,s)):(Mu=o,o=r)):(Mu=o,o=r);i!==r?(Uu=e,e=n=mr(n,i)):(Mu=e,e=r)}else Mu=e,e=r;return e}function Bs(){var e,n,i,o,a,u,s,c;if(e=Mu,(n=Ds())!==r){for(i=[],o=Mu,pc()!==r?(t.substr(Mu,2)===vr?(a=vr,Mu+=2):(a=r,0===Gu&&ts(br)),a===r&&(a=Mu,t.substr(Mu,3)===_r?(u=_r,Mu+=3):(u=r,0===Gu&&ts(gr)),u!==r?(s=Mu,Gu++,c=fc(),Gu--,c===r?s=void 0:(Mu=s,s=r),s!==r?a=u=[u,s]:(Mu=a,a=r)):(Mu=a,a=r)),a!==r&&(u=pc())!==r&&(s=Ds())!==r?(Uu=o,o=wr(n,a,s)):(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,pc()!==r?(t.substr(Mu,2)===vr?(a=vr,Mu+=2):(a=r,0===Gu&&ts(br)),a===r&&(a=Mu,t.substr(Mu,3)===_r?(u=_r,Mu+=3):(u=r,0===Gu&&ts(gr)),u!==r?(s=Mu,Gu++,c=fc(),Gu--,c===r?s=void 0:(Mu=s,s=r),s!==r?a=u=[u,s]:(Mu=a,a=r)):(Mu=a,a=r)),a!==r&&(u=pc())!==r&&(s=Ds())!==r?(Uu=o,o=wr(n,a,s)):(Mu=o,o=r)):(Mu=o,o=r);i!==r?(Uu=e,e=n=mr(n,i)):(Mu=e,e=r)}else Mu=e,e=r;return e}function Ds(){var e,n,i,o,a,u,s,c;if(e=Mu,(n=Ms())!==r){for(i=[],o=Mu,pc()!==r?(124===t.charCodeAt(Mu)?(a=Rr,Mu++):(a=r,0===Gu&&ts(Tr)),a===r&&(a=Mu,t.substr(Mu,5)===xr?(u=xr,Mu+=5):(u=r,0===Gu&&ts(Er)),u!==r?(s=Mu,Gu++,c=fc(),Gu--,c===r?s=void 0:(Mu=s,s=r),s!==r?a=u=[u,s]:(Mu=a,a=r)):(Mu=a,a=r)),a!==r&&(u=pc())!==r&&(s=Ms())!==r?(Uu=o,o=Ar(n,a,s)):(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,pc()!==r?(124===t.charCodeAt(Mu)?(a=Rr,Mu++):(a=r,0===Gu&&ts(Tr)),a===r&&(a=Mu,t.substr(Mu,5)===xr?(u=xr,Mu+=5):(u=r,0===Gu&&ts(Er)),u!==r?(s=Mu,Gu++,c=fc(),Gu--,c===r?s=void 0:(Mu=s,s=r),s!==r?a=u=[u,s]:(Mu=a,a=r)):(Mu=a,a=r)),a!==r&&(u=pc())!==r&&(s=Ms())!==r?(Uu=o,o=Ar(n,a,s)):(Mu=o,o=r)):(Mu=o,o=r);i!==r?(Uu=e,e=n=Cr(n,i)):(Mu=e,e=r)}else Mu=e,e=r;return e}function Ms(){var e,n,i,o,a,u;if(e=Mu,(n=Us())!==r){for(i=[],o=Mu,pc()!==r?(94===t.charCodeAt(Mu)?(a=Or,Mu++):(a=r,0===Gu&&ts(Sr)),a===r&&(t.substr(Mu,3)===Pr?(a=Pr,Mu+=3):(a=r,0===Gu&&ts(jr))),a!==r&&pc()!==r&&(u=Us())!==r?(Uu=o,o=Ir(n,a,u)):(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,pc()!==r?(94===t.charCodeAt(Mu)?(a=Or,Mu++):(a=r,0===Gu&&ts(Sr)),a===r&&(t.substr(Mu,3)===Pr?(a=Pr,Mu+=3):(a=r,0===Gu&&ts(jr))),a!==r&&pc()!==r&&(u=Us())!==r?(Uu=o,o=Ir(n,a,u)):(Mu=o,o=r)):(Mu=o,o=r);i!==r?(Uu=e,e=n=Cr(n,i)):(Mu=e,e=r)}else Mu=e,e=r;return e}function Us(){var e,n,i,o,a,u,s,c;if(e=Mu,(n=Ws())!==r){for(i=[],o=Mu,pc()!==r?(a=Mu,38===t.charCodeAt(Mu)?(u=rn,Mu++):(u=r,0===Gu&&ts(on)),u!==r?(s=Mu,Gu++,38===t.charCodeAt(Mu)?(c=rn,Mu++):(c=r,0===Gu&&ts(on)),Gu--,c===r?s=void 0:(Mu=s,s=r),s!==r?a=u=[u,s]:(Mu=a,a=r)):(Mu=a,a=r),a===r&&(a=Mu,t.substr(Mu,6)===Fr?(u=Fr,Mu+=6):(u=r,0===Gu&&ts(Nr)),u!==r?(s=Mu,Gu++,c=fc(),Gu--,c===r?s=void 0:(Mu=s,s=r),s!==r?a=u=[u,s]:(Mu=a,a=r)):(Mu=a,a=r)),a!==r&&(u=pc())!==r&&(s=Ws())!==r?(Uu=o,o=kr(n,a,s)):(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,pc()!==r?(a=Mu,38===t.charCodeAt(Mu)?(u=rn,Mu++):(u=r,0===Gu&&ts(on)),u!==r?(s=Mu,Gu++,38===t.charCodeAt(Mu)?(c=rn,Mu++):(c=r,0===Gu&&ts(on)),Gu--,c===r?s=void 0:(Mu=s,s=r),s!==r?a=u=[u,s]:(Mu=a,a=r)):(Mu=a,a=r),a===r&&(a=Mu,t.substr(Mu,6)===Fr?(u=Fr,Mu+=6):(u=r,0===Gu&&ts(Nr)),u!==r?(s=Mu,Gu++,c=fc(),Gu--,c===r?s=void 0:(Mu=s,s=r),s!==r?a=u=[u,s]:(Mu=a,a=r)):(Mu=a,a=r)),a!==r&&(u=pc())!==r&&(s=Ws())!==r?(Uu=o,o=kr(n,a,s)):(Mu=o,o=r)):(Mu=o,o=r);i!==r?(Uu=e,e=n=Cr(n,i)):(Mu=e,e=r)}else Mu=e,e=r;return e}function Ws(){var e,n,i,o,a,u,s,c;if(e=Mu,(n=qs())!==r){for(i=[],o=Mu,pc()!==r?(t.substr(Mu,2)===zr?(a=zr,Mu+=2):(a=r,0===Gu&&ts(Vr)),a===r&&(t.substr(Mu,2)===Lr?(a=Lr,Mu+=2):(a=r,0===Gu&&ts(Br)),a===r&&(a=Mu,t.substr(Mu,6)===Dr?(u=Dr,Mu+=6):(u=r,0===Gu&&ts(Mr)),u!==r?(s=Mu,Gu++,c=fc(),Gu--,c===r?s=void 0:(Mu=s,s=r),s!==r?(Uu=a,a=u=Ur(n)):(Mu=a,a=r)):(Mu=a,a=r))),a!==r&&(u=pc())!==r&&(s=qs())!==r?(Uu=o,o=On(n,a,s)):(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,pc()!==r?(t.substr(Mu,2)===zr?(a=zr,Mu+=2):(a=r,0===Gu&&ts(Vr)),a===r&&(t.substr(Mu,2)===Lr?(a=Lr,Mu+=2):(a=r,0===Gu&&ts(Br)),a===r&&(a=Mu,t.substr(Mu,6)===Dr?(u=Dr,Mu+=6):(u=r,0===Gu&&ts(Mr)),u!==r?(s=Mu,Gu++,c=fc(),Gu--,c===r?s=void 0:(Mu=s,s=r),s!==r?(Uu=a,a=u=Ur(n)):(Mu=a,a=r)):(Mu=a,a=r))),a!==r&&(u=pc())!==r&&(s=qs())!==r?(Uu=o,o=On(n,a,s)):(Mu=o,o=r)):(Mu=o,o=r);i!==r?(Uu=e,e=n=Wr(n,i)):(Mu=e,e=r)}else Mu=e,e=r;return e}function qs(){var t,e,n,i,o,a;if(t=Mu,(e=Gs())!==r){for(n=[],i=Mu,pc()!==r&&(o=$s())!==r&&pc()!==r&&(a=Gs())!==r?(Uu=i,i=On(e,o,a)):(Mu=i,i=r);i!==r;)n.push(i),i=Mu,pc()!==r&&(o=$s())!==r&&pc()!==r&&(a=Gs())!==r?(Uu=i,i=On(e,o,a)):(Mu=i,i=r);n!==r?(Uu=t,t=e=Wr(e,n)):(Mu=t,t=r)}else Mu=t,t=r;return t}function $s(){var e;return t.substr(Mu,2)===qr?(e=qr,Mu+=2):(e=r,0===Gu&&ts($r)),e===r&&(t.substr(Mu,2)===Gr?(e=Gr,Mu+=2):(e=r,0===Gu&&ts(Hr)),e===r&&(60===t.charCodeAt(Mu)?(e=Qr,Mu++):(e=r,0===Gu&&ts(Zr)),e===r&&(62===t.charCodeAt(Mu)?(e=Kr,Mu++):(e=r,0===Gu&&ts(Yr))))),e}function Gs(){var t,e,n,i,o,a;if(t=Mu,(e=Qs())!==r){for(n=[],i=Mu,pc()!==r&&(o=Hs())!==r&&pc()!==r&&(a=Qs())!==r?(Uu=i,i=On(e,o,a)):(Mu=i,i=r);i!==r;)n.push(i),i=Mu,pc()!==r&&(o=Hs())!==r&&pc()!==r&&(a=Qs())!==r?(Uu=i,i=On(e,o,a)):(Mu=i,i=r);n!==r?(Uu=t,t=e=Cr(e,n)):(Mu=t,t=r)}else Mu=t,t=r;return t}function Hs(){var e;return t.substr(Mu,2)===Xr?(e=Xr,Mu+=2):(e=r,0===Gu&&ts(Jr)),e===r&&(t.substr(Mu,2)===ti?(e=ti,Mu+=2):(e=r,0===Gu&&ts(ei))),e}function Qs(){var t,e,n,i,o,a;if(t=Mu,(e=Ks())!==r){for(n=[],i=Mu,pc()!==r&&(o=Zs())!==r&&pc()!==r&&(a=Ks())!==r?(Uu=i,i=On(e,o,a)):(Mu=i,i=r);i!==r;)n.push(i),i=Mu,pc()!==r&&(o=Zs())!==r&&pc()!==r&&(a=Ks())!==r?(Uu=i,i=On(e,o,a)):(Mu=i,i=r);n!==r?(Uu=t,t=e=Cr(e,n)):(Mu=t,t=r)}else Mu=t,t=r;return t}function Zs(){var e;return 43===t.charCodeAt(Mu)?(e=ni,Mu++):(e=r,0===Gu&&ts(ri)),e===r&&(45===t.charCodeAt(Mu)?(e=ii,Mu++):(e=r,0===Gu&&ts(oi))),e}function Ks(){var t,e,n,i,o,a;if(t=Mu,(e=Xs())!==r){for(n=[],i=Mu,pc()!==r&&(o=Ys())!==r&&pc()!==r&&(a=Xs())!==r?(Uu=i,i=On(e,o,a)):(Mu=i,i=r);i!==r;)n.push(i),i=Mu,pc()!==r&&(o=Ys())!==r&&pc()!==r&&(a=Xs())!==r?(Uu=i,i=On(e,o,a)):(Mu=i,i=r);n!==r?(Uu=t,t=e=Cr(e,n)):(Mu=t,t=r)}else Mu=t,t=r;return t}function Ys(){var e;return 42===t.charCodeAt(Mu)?(e=tn,Mu++):(e=r,0===Gu&&ts(en)),e===r&&(47===t.charCodeAt(Mu)?(e=ai,Mu++):(e=r,0===Gu&&ts(ui)),e===r&&(37===t.charCodeAt(Mu)?(e=si,Mu++):(e=r,0===Gu&&ts(ci)))),e}function Xs(){var t,e,n,i,o,a;if(t=Mu,(e=tc())!==r){for(n=[],i=Mu,pc()!==r&&(o=Js())!==r&&pc()!==r&&(a=tc())!==r?(Uu=i,i=On(e,o,a)):(Mu=i,i=r);i!==r;)n.push(i),i=Mu,pc()!==r&&(o=Js())!==r&&pc()!==r&&(a=tc())!==r?(Uu=i,i=On(e,o,a)):(Mu=i,i=r);n!==r?(Uu=t,t=e=li(e,n)):(Mu=t,t=r)}else Mu=t,t=r;return t}function Js(){var e;return t.substr(Mu,2)===fi?(e=fi,Mu+=2):(e=r,0===Gu&&ts(pi)),e===r&&(t.substr(Mu,3)===hi?(e=hi,Mu+=3):(e=r,0===Gu&&ts(di))),e}function tc(){var e,n,i,o,a;return e=Mu,40===t.charCodeAt(Mu)?(n=q,Mu++):(n=r,0===Gu&&ts($)),n!==r&&pc()!==r&&(i=Ps())!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(o=G,Mu++):(o=r,0===Gu&&ts(H)),o!==r&&pc()!==r&&(a=tc())!==r?(Uu=e,e=n=yi(i,a)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=ec()),e}function ec(){var e,n,i,o,a;return e=Mu,t.substr(Mu,2)===mi?(n=mi,Mu+=2):(n=r,0===Gu&&ts(vi)),n!==r&&pc()!==r&&(i=ec())!==r?(Uu=e,e=n=bi(n,i)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,2)===_i?(n=_i,Mu+=2):(n=r,0===Gu&&ts(gi)),n!==r&&pc()!==r&&(i=ec())!==r?(Uu=e,e=n=wi(n,i)):(Mu=e,e=r),e===r&&(e=Mu,(n=function(){var e,n,i,o;return e=Mu,42===t.charCodeAt(Mu)?(n=tn,Mu++):(n=r,0===Gu&&ts(en)),n!==r&&(Uu=e,n=Ci()),(e=n)===r&&(e=Mu,38===t.charCodeAt(Mu)?(n=rn,Mu++):(n=r,0===Gu&&ts(on)),n!==r&&(Uu=e,n=Oi()),(e=n)===r&&(e=Mu,43===t.charCodeAt(Mu)?(n=ni,Mu++):(n=r,0===Gu&&ts(ri)),n!==r&&(Uu=e,n=Si()),(e=n)===r&&(e=Mu,45===t.charCodeAt(Mu)?(n=ii,Mu++):(n=r,0===Gu&&ts(oi)),n!==r&&(Uu=e,n=Pi()),(e=n)===r&&(e=Mu,33===t.charCodeAt(Mu)?(n=ji,Mu++):(n=r,0===Gu&&ts(Ii)),n!==r&&(Uu=e,n=Fi()),(e=n)===r&&(e=Mu,t.substr(Mu,3)===Ni?(n=Ni,Mu+=3):(n=r,0===Gu&&ts(ki)),n!==r?(i=Mu,Gu++,o=fc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r?(Uu=e,n=Fi(),e=n):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,126===t.charCodeAt(Mu)?(n=Ct,Mu++):(n=r,0===Gu&&ts(Ot)),n!==r&&(Uu=e,n=zi()),(e=n)===r&&(e=Mu,t.substr(Mu,5)===Vi?(n=Vi,Mu+=5):(n=r,0===Gu&&ts(Li)),n!==r&&(Uu=e,n=zi()),e=n))))))),e}())!==r&&pc()!==r&&(i=tc())!==r?(Uu=e,e=n=Ri(n,i)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,6)===Ti?(n=Ti,Mu+=6):(n=r,0===Gu&&ts(xi)),n!==r&&pc()!==r&&(i=ec())!==r?(Uu=e,e=n=Ei(n,i)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,6)===Ti?(n=Ti,Mu+=6):(n=r,0===Gu&&ts(xi)),n!==r&&pc()!==r?(40===t.charCodeAt(Mu)?(i=q,Mu++):(i=r,0===Gu&&ts($)),i!==r&&pc()!==r&&(o=bs())!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(a=G,Mu++):(a=r,0===Gu&&ts(H)),a!==r?(Uu=e,e=n=Ai(n,o)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=function(){var e,n,i,o,a,u;return e=Mu,t.substr(Mu,3)===Bi?(n=Bi,Mu+=3):(n=r,0===Gu&&ts(Di)),n!==r&&hc()!==r&&(i=function(){var e,n,i,o,a;return e=Mu,(n=ms())!==r?(i=Mu,(o=pc())!==r&&(a=function(){var e,n;return e=Mu,(n=function e(){var n,i,o,a;return n=Mu,42===t.charCodeAt(Mu)?(i=tn,Mu++):(i=r,0===Gu&&ts(en)),i!==r&&pc()!==r?((o=js())===r&&(o=null),o!==r&&pc()!==r?((a=e())===r&&(a=null),a!==r?(Uu=n,i=nn(o,a),n=i):(Mu=n,n=r)):(Mu=n,n=r)):(Mu=n,n=r),n===r&&(n=Mu,38===t.charCodeAt(Mu)?(i=rn,Mu++):(i=r,0===Gu&&ts(on)),i!==r&&pc()!==r?((o=js())===r&&(o=null),o!==r&&pc()!==r?((a=e())===r&&(a=null),a!==r?(Uu=n,i=an(o,a),n=i):(Mu=n,n=r)):(Mu=n,n=r)):(Mu=n,n=r),n===r&&(n=Mu,(i=function(){var t,e,n,i;if(t=[],e=Mu,(n=pc())!==r&&(i=nc())!==r?(Uu=e,n=Hi(i),e=n):(Mu=e,e=r),e!==r)for(;e!==r;)t.push(e),e=Mu,(n=pc())!==r&&(i=nc())!==r?(Uu=e,n=Hi(i),e=n):(Mu=e,e=r);else t=r;return t}())!==r&&(Uu=n,i=Gi(i)),n=i)),n}())!==r&&(Uu=e,n=$i(n)),e=n}())!==r?(Uu=i,o=Wi(n,a),i=o):(Mu=i,i=r),i===r&&(i=null),i!==r?(Uu=e,n=qi(n,i),e=n):(Mu=e,e=r)):(Mu=e,e=r),e}())!==r&&pc()!==r?((o=rc())===r&&(o=null),o!==r?(Uu=e,n=Mi(i,o),e=n):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,3)===Bi?(n=Bi,Mu+=3):(n=r,0===Gu&&ts(Di)),n!==r&&pc()!==r?(40===t.charCodeAt(Mu)?(i=q,Mu++):(i=r,0===Gu&&ts($)),i!==r&&pc()!==r&&(o=Ps())!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(a=G,Mu++):(a=r,0===Gu&&ts(H)),a!==r&&pc()!==r?((u=rc())===r&&(u=null),u!==r?(Uu=e,n=Ui(o,u),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)),e}())===r&&(e=function(){var e,n,i,o,a;return e=Mu,t.substr(Mu,6)===Ki?(n=Ki,Mu+=6):(n=r,0===Gu&&ts(Yi)),n!==r&&hc()!==r&&(i=tc())!==r?(Uu=e,n=Xi(i),e=n):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,6)===Ki?(n=Ki,Mu+=6):(n=r,0===Gu&&ts(Yi)),n!==r&&pc()!==r?(91===t.charCodeAt(Mu)?(i=ln,Mu++):(i=r,0===Gu&&ts(fn)),i!==r&&pc()!==r?(93===t.charCodeAt(Mu)?(o=pn,Mu++):(o=r,0===Gu&&ts(hn)),o!==r&&hc()!==r&&(a=tc())!==r?(Uu=e,n=Ji(a),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=function(){var e,n,i,o,a,u,s,c,l,f;if(e=Mu,t.substr(Mu,11)===to?(n=to,Mu+=11):(n=r,0===Gu&&ts(eo)),n!==r&&(i=pc())!==r?(60===t.charCodeAt(Mu)?(o=Qr,Mu++):(o=r,0===Gu&&ts(Zr)),o!==r&&(a=pc())!==r&&(u=bs())!==r&&pc()!==r?(62===t.charCodeAt(Mu)?(s=Kr,Mu++):(s=r,0===Gu&&ts(Yr)),s!==r&&pc()!==r?(40===t.charCodeAt(Mu)?(c=q,Mu++):(c=r,0===Gu&&ts($)),c!==r&&pc()!==r&&(l=tc())!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(f=G,Mu++):(f=r,0===Gu&&ts(H)),f!==r?(Uu=e,n=no(u,l),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,12)===ro?(n=ro,Mu+=12):(n=r,0===Gu&&ts(io)),n!==r&&(i=pc())!==r?(60===t.charCodeAt(Mu)?(o=Qr,Mu++):(o=r,0===Gu&&ts(Zr)),o!==r&&(a=pc())!==r&&(u=bs())!==r&&pc()!==r?(62===t.charCodeAt(Mu)?(s=Kr,Mu++):(s=r,0===Gu&&ts(Yr)),s!==r&&pc()!==r?(40===t.charCodeAt(Mu)?(c=q,Mu++):(c=r,0===Gu&&ts($)),c!==r&&pc()!==r&&(l=tc())!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(f=G,Mu++):(f=r,0===Gu&&ts(H)),f!==r?(Uu=e,n=oo(u,l),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,16)===ao?(n=ao,Mu+=16):(n=r,0===Gu&&ts(uo)),n!==r&&(i=pc())!==r?(60===t.charCodeAt(Mu)?(o=Qr,Mu++):(o=r,0===Gu&&ts(Zr)),o!==r&&(a=pc())!==r&&(u=bs())!==r&&pc()!==r?(62===t.charCodeAt(Mu)?(s=Kr,Mu++):(s=r,0===Gu&&ts(Yr)),s!==r&&pc()!==r?(40===t.charCodeAt(Mu)?(c=q,Mu++):(c=r,0===Gu&&ts($)),c!==r&&pc()!==r&&(l=tc())!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(f=G,Mu++):(f=r,0===Gu&&ts(H)),f!==r?(Uu=e,n=so(u,l),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,10)===co?(n=co,Mu+=10):(n=r,0===Gu&&ts(lo)),n!==r&&(i=pc())!==r?(60===t.charCodeAt(Mu)?(o=Qr,Mu++):(o=r,0===Gu&&ts(Zr)),o!==r&&(a=pc())!==r&&(u=bs())!==r&&pc()!==r?(62===t.charCodeAt(Mu)?(s=Kr,Mu++):(s=r,0===Gu&&ts(Yr)),s!==r&&pc()!==r?(40===t.charCodeAt(Mu)?(c=q,Mu++):(c=r,0===Gu&&ts($)),c!==r&&pc()!==r&&(l=tc())!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(f=G,Mu++):(f=r,0===Gu&&ts(H)),f!==r?(Uu=e,n=fo(u,l),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r))))if(e=Mu,(n=function(){var e,n,i,o,a;return e=Mu,(n=bs())!==r&&pc()!==r?(40===t.charCodeAt(Mu)?(i=q,Mu++):(i=r,0===Gu&&ts($)),i!==r&&pc()!==r?((o=oc())===r&&(o=null),o!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(a=G,Mu++):(a=r,0===Gu&&ts(H)),a!==r?(Uu=e,n=Eo(n,o),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e}())===r&&(n=function(){var e,n,i,o,a;return e=Mu,40===t.charCodeAt(Mu)?(n=q,Mu++):(n=r,0===Gu&&ts($)),n!==r&&(i=pc())!==r&&(o=Ns())!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(a=G,Mu++):(a=r,0===Gu&&ts(H)),a!==r?(Uu=e,n=Co(o),e=n):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=function(){var e,n;return e=Mu,(n=function(){var e,n,i,o;if(e=Mu,45===t.charCodeAt(Mu)?(n=ii,Mu++):(n=r,0===Gu&&ts(oi)),n===r&&(n=null),n!==r){if(i=[],ra.test(t.charAt(Mu))?(o=t.charAt(Mu),Mu++):(o=r,0===Gu&&ts(ia)),o!==r)for(;o!==r;)i.push(o),ra.test(t.charAt(Mu))?(o=t.charAt(Mu),Mu++):(o=r,0===Gu&&ts(ia));else i=r;i!==r?(Uu=Mu,(o=(o=oa(n,i))?void 0:r)!==r?(Uu=e,n=aa(n,i),e=n):(Mu=e,e=r)):(Mu=e,e=r)}else Mu=e,e=r;return e}())!==r&&(Uu=e,n=Zo(n)),(e=n)===r&&(e=Mu,(n=function(){var e,n,i,o;if(e=Mu,45===t.charCodeAt(Mu)?(n=ii,Mu++):(n=r,0===Gu&&ts(oi)),n===r&&(n=null),n!==r){if(i=[],ta.test(t.charAt(Mu))?(o=t.charAt(Mu),Mu++):(o=r,0===Gu&&ts(ea)),o!==r)for(;o!==r;)i.push(o),ta.test(t.charAt(Mu))?(o=t.charAt(Mu),Mu++):(o=r,0===Gu&&ts(ea));else i=r;i!==r?(Uu=e,n=na(n,i),e=n):(Mu=e,e=r)}else Mu=e,e=r;return e}())!==r&&(Uu=e,n=Ko(n)),(e=n)===r&&(e=Mu,(n=function(){var e,n,i,o;return e=Mu,39===t.charCodeAt(Mu)?(n=ua,Mu++):(n=r,0===Gu&&ts(sa)),n!==r?(ca.test(t.charAt(Mu))?(i=t.charAt(Mu),Mu++):(i=r,0===Gu&&ts(la)),i===r&&(i=cc()),i!==r?(39===t.charCodeAt(Mu)?(o=ua,Mu++):(o=r,0===Gu&&ts(sa)),o!==r?(Uu=e,n=fa(i),e=n):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e}())!==r&&(Uu=e,n=Yo(n)),(e=n)===r&&(e=Mu,(n=function(){var e,n,i,o;if(e=Mu,34===t.charCodeAt(Mu)?(n=pa,Mu++):(n=r,0===Gu&&ts(ha)),n!==r){for(i=[],da.test(t.charAt(Mu))?(o=t.charAt(Mu),Mu++):(o=r,0===Gu&&ts(ya)),o===r&&(o=cc());o!==r;)i.push(o),da.test(t.charAt(Mu))?(o=t.charAt(Mu),Mu++):(o=r,0===Gu&&ts(ya)),o===r&&(o=cc());i!==r?(34===t.charCodeAt(Mu)?(o=pa,Mu++):(o=r,0===Gu&&ts(ha)),o!==r?(Uu=e,n=ma(i),e=n):(Mu=e,e=r)):(Mu=e,e=r)}else Mu=e,e=r;return e}())!==r&&(Uu=e,n=Xo(n)),(e=n)===r&&(e=Mu,(n=function(){var e,n,i,o;return e=Mu,t.substr(Mu,4)===va?(n=va,Mu+=4):(n=r,0===Gu&&ts(ba)),n!==r?(i=Mu,Gu++,o=fc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r?(Uu=e,n=_a(),e=n):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,5)===ga?(n=ga,Mu+=5):(n=r,0===Gu&&ts(wa)),n!==r?(i=Mu,Gu++,o=fc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r?(Uu=e,n=Ra(),e=n):(Mu=e,e=r)):(Mu=e,e=r)),e}())!==r&&(Uu=e,n=Jo(n)),e=n)))),e}())===r&&(e=Mu,t.substr(Mu,4)===Oo?(n=Oo,Mu+=4):(n=r,0===Gu&&ts(So)),n!==r?(i=Mu,Gu++,o=fc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r?(Uu=e,n=Po(),e=n):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=function(){var t,e;return t=Mu,(e=function(){var t,e,n;return t=Mu,(e=ac())!==r&&pc()!==r&&(n=sc())!==r?(Uu=t,e=Io(e,n),t=e):(Mu=t,t=r),t}())===r&&(e=sc()),e!==r&&(Uu=t,e=jo(e)),t=e}())),e}()),n!==r){for(i=[],o=Mu,(a=pc())!==r&&(u=ic())!==r?(Uu=o,a=po(n,u),o=a):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,(a=pc())!==r&&(u=ic())!==r?(Uu=o,a=po(n,u),o=a):(Mu=o,o=r);i!==r?(Uu=e,n=ho(n,i),e=n):(Mu=e,e=r)}else Mu=e,e=r;return e}())),e}()))))),e}function nc(){var e,n,i,o;return e=Mu,91===t.charCodeAt(Mu)?(n=ln,Mu++):(n=r,0===Gu&&ts(fn)),n!==r&&pc()!==r?((i=ks())===r&&(i=null),i!==r&&pc()!==r?(93===t.charCodeAt(Mu)?(o=pn,Mu++):(o=r,0===Gu&&ts(hn)),o!==r?(Uu=e,e=n=Qi(i)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e}function rc(){var e,n,i,o;return e=Mu,40===t.charCodeAt(Mu)?(n=q,Mu++):(n=r,0===Gu&&ts($)),n!==r&&pc()!==r?((i=oc())===r&&(i=null),i!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(o=G,Mu++):(o=r,0===Gu&&ts(H)),o!==r?(Uu=e,e=n=Zi(i)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e}function ic(){var e,n,i,o;return e=Mu,91===t.charCodeAt(Mu)?(n=ln,Mu++):(n=r,0===Gu&&ts(fn)),n!==r&&pc()!==r&&(i=Ns())!==r&&pc()!==r?(93===t.charCodeAt(Mu)?(o=pn,Mu++):(o=r,0===Gu&&ts(hn)),o!==r?(Uu=e,e=n=yo(i)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,40===t.charCodeAt(Mu)?(n=q,Mu++):(n=r,0===Gu&&ts($)),n!==r&&pc()!==r?((i=oc())===r&&(i=null),i!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(o=G,Mu++):(o=r,0===Gu&&ts(H)),o!==r?(Uu=e,e=n=mo(i)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,46===t.charCodeAt(Mu)?(n=vo,Mu++):(n=r,0===Gu&&ts(bo)),n!==r&&pc()!==r&&(i=sc())!==r?(Uu=e,e=n=_o(i)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,2)===go?(n=go,Mu+=2):(n=r,0===Gu&&ts(wo)),n!==r&&pc()!==r&&(i=sc())!==r?(Uu=e,e=n=Ro(i)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,2)===mi?(n=mi,Mu+=2):(n=r,0===Gu&&ts(vi)),n!==r&&(Uu=e,n=To()),(e=n)===r&&(e=Mu,t.substr(Mu,2)===_i?(n=_i,Mu+=2):(n=r,0===Gu&&ts(gi)),n!==r&&(Uu=e,n=xo()),e=n))))),e}function oc(){var e,n,i,o,a,u;if(e=Mu,(n=ks())!==r){for(i=[],o=Mu,pc()!==r?(44===t.charCodeAt(Mu)?(a=_t,Mu++):(a=r,0===Gu&&ts(gt)),a!==r&&pc()!==r&&(u=ks())!==r?(Uu=o,o=Ao(n,u)):(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,pc()!==r?(44===t.charCodeAt(Mu)?(a=_t,Mu++):(a=r,0===Gu&&ts(gt)),a!==r&&pc()!==r&&(u=ks())!==r?(Uu=o,o=Ao(n,u)):(Mu=o,o=r)):(Mu=o,o=r);i!==r?(Uu=e,e=n=xn(n,i)):(Mu=e,e=r)}else Mu=e,e=r;return e}function ac(){var e,n,i,o;if(e=[],n=Mu,(i=uc())===r&&(i=lc()),i!==r&&pc()!==r?(t.substr(Mu,2)===Fo?(o=Fo,Mu+=2):(o=r,0===Gu&&ts(No)),o!==r&&pc()!==r?(Uu=n,n=i=ko(i)):(Mu=n,n=r)):(Mu=n,n=r),n!==r)for(;n!==r;)e.push(n),n=Mu,(i=uc())===r&&(i=lc()),i!==r&&pc()!==r?(t.substr(Mu,2)===Fo?(o=Fo,Mu+=2):(o=r,0===Gu&&ts(No)),o!==r&&pc()!==r?(Uu=n,n=i=ko(i)):(Mu=n,n=r)):(Mu=n,n=r);else e=r;return e===r&&(e=Mu,t.substr(Mu,2)===Fo?(n=Fo,Mu+=2):(n=r,0===Gu&&ts(No)),n!==r&&(i=pc())!==r?(Uu=e,e=n=zo()):(Mu=e,e=r)),e}function uc(){var t,e;return t=Mu,(e=bs())!==r&&(Uu=t,e=Vo(e)),t=e}function sc(){var e;return(e=function(){var e,n,i;return e=Mu,t.substr(Mu,8)===Lo?(n=Lo,Mu+=8):(n=r,0===Gu&&ts(Bo)),n!==r&&pc()!==r&&(i=function(){var e;return t.substr(Mu,5)===Mo?(e=Mo,Mu+=5):(e=r,0===Gu&&ts(Uo)),e===r&&(t.substr(Mu,8)===Wo?(e=Wo,Mu+=8):(e=r,0===Gu&&ts(qo)),e===r&&(t.substr(Mu,3)===Bi?(e=Bi,Mu+=3):(e=r,0===Gu&&ts(Di)),e===r&&(t.substr(Mu,6)===Ki?(e=Ki,Mu+=6):(e=r,0===Gu&&ts(Yi)),e===r&&(t.substr(Mu,3)===hi?(e=hi,Mu+=3):(e=r,0===Gu&&ts(di)),e===r&&(t.substr(Mu,3)===Un?(e=Un,Mu+=3):(e=r,0===Gu&&ts(Wn)),e===r&&(t.substr(Mu,3)===qn?(e=qn,Mu+=3):(e=r,0===Gu&&ts($n)),e===r&&(t.substr(Mu,2)===Ln?(e=Ln,Mu+=2):(e=r,0===Gu&&ts(Bn)),e===r&&(t.substr(Mu,2)===Dn?(e=Dn,Mu+=2):(e=r,0===Gu&&ts(Mn)),e===r&&(t.substr(Mu,2)===In?(e=In,Mu+=2):(e=r,0===Gu&&ts(Fn)),e===r&&(t.substr(Mu,2)===Nn?(e=Nn,Mu+=2):(e=r,0===Gu&&ts(kn)),e===r&&(t.substr(Mu,2)===zn?(e=zn,Mu+=2):(e=r,0===Gu&&ts(Vn)),e===r&&(t.substr(Mu,2)===Yn?(e=Yn,Mu+=2):(e=r,0===Gu&&ts(Xn)),e===r&&(t.substr(Mu,2)===Gn?(e=Gn,Mu+=2):(e=r,0===Gu&&ts(Hn)),e===r&&(t.substr(Mu,2)===nr?(e=nr,Mu+=2):(e=r,0===Gu&&ts(rr)),e===r&&(t.substr(Mu,2)===Xr?(e=Xr,Mu+=2):(e=r,0===Gu&&ts(Jr)),e===r&&(t.substr(Mu,2)===ti?(e=ti,Mu+=2):(e=r,0===Gu&&ts(ei)),e===r&&(t.substr(Mu,2)===zr?(e=zr,Mu+=2):(e=r,0===Gu&&ts(Vr)),e===r&&(t.substr(Mu,2)===Lr?(e=Lr,Mu+=2):(e=r,0===Gu&&ts(Br)),e===r&&(t.substr(Mu,2)===qr?(e=qr,Mu+=2):(e=r,0===Gu&&ts($r)),e===r&&(t.substr(Mu,2)===Gr?(e=Gr,Mu+=2):(e=r,0===Gu&&ts(Hr)),e===r&&(t.substr(Mu,2)===vr?(e=vr,Mu+=2):(e=r,0===Gu&&ts(br)),e===r&&(t.substr(Mu,2)===fr?(e=fr,Mu+=2):(e=r,0===Gu&&ts(pr)),e===r&&(t.substr(Mu,2)===mi?(e=mi,Mu+=2):(e=r,0===Gu&&ts(vi)),e===r&&(t.substr(Mu,2)===_i?(e=_i,Mu+=2):(e=r,0===Gu&&ts(gi)),e===r&&(t.substr(Mu,2)===go?(e=go,Mu+=2):(e=r,0===Gu&&ts(wo)),e===r&&(t.substr(Mu,2)===$o?(e=$o,Mu+=2):(e=r,0===Gu&&ts(Go)),e===r&&(t.substr(Mu,2)===Ho?(e=Ho,Mu+=2):(e=r,0===Gu&&ts(Qo)),e===r&&(43===t.charCodeAt(Mu)?(e=ni,Mu++):(e=r,0===Gu&&ts(ri)),e===r&&(45===t.charCodeAt(Mu)?(e=ii,Mu++):(e=r,0===Gu&&ts(oi)),e===r&&(42===t.charCodeAt(Mu)?(e=tn,Mu++):(e=r,0===Gu&&ts(en)),e===r&&(47===t.charCodeAt(Mu)?(e=ai,Mu++):(e=r,0===Gu&&ts(ui)),e===r&&(37===t.charCodeAt(Mu)?(e=si,Mu++):(e=r,0===Gu&&ts(ci)),e===r&&(94===t.charCodeAt(Mu)?(e=Or,Mu++):(e=r,0===Gu&&ts(Sr)),e===r&&(38===t.charCodeAt(Mu)?(e=rn,Mu++):(e=r,0===Gu&&ts(on)),e===r&&(124===t.charCodeAt(Mu)?(e=Rr,Mu++):(e=r,0===Gu&&ts(Tr)),e===r&&(126===t.charCodeAt(Mu)?(e=Ct,Mu++):(e=r,0===Gu&&ts(Ot)),e===r&&(33===t.charCodeAt(Mu)?(e=ji,Mu++):(e=r,0===Gu&&ts(Ii)),e===r&&(61===t.charCodeAt(Mu)?(e=Be,Mu++):(e=r,0===Gu&&ts(De)),e===r&&(60===t.charCodeAt(Mu)?(e=Qr,Mu++):(e=r,0===Gu&&ts(Zr)),e===r&&(62===t.charCodeAt(Mu)?(e=Kr,Mu++):(e=r,0===Gu&&ts(Yr)),e===r&&(44===t.charCodeAt(Mu)?(e=_t,Mu++):(e=r,0===Gu&&ts(gt))))))))))))))))))))))))))))))))))))))))))),e}())!==r?(Uu=e,n=Do(i),e=n):(Mu=e,e=r),e}())===r&&(e=lc()),e}function cc(){var e;return(e=function(){var e;return t.substr(Mu,2)===Ta?(e=Ta,Mu+=2):(e=r,0===Gu&&ts(xa)),e===r&&(t.substr(Mu,2)===Ea?(e=Ea,Mu+=2):(e=r,0===Gu&&ts(Aa)),e===r&&(t.substr(Mu,2)===Ca?(e=Ca,Mu+=2):(e=r,0===Gu&&ts(Oa)),e===r&&(t.substr(Mu,2)===Sa?(e=Sa,Mu+=2):(e=r,0===Gu&&ts(Pa)),e===r&&(t.substr(Mu,2)===ja?(e=ja,Mu+=2):(e=r,0===Gu&&ts(Ia)),e===r&&(t.substr(Mu,2)===Fa?(e=Fa,Mu+=2):(e=r,0===Gu&&ts(Na)),e===r&&(t.substr(Mu,2)===ka?(e=ka,Mu+=2):(e=r,0===Gu&&ts(za)),e===r&&(t.substr(Mu,2)===Va?(e=Va,Mu+=2):(e=r,0===Gu&&ts(La)),e===r&&(t.substr(Mu,2)===Ba?(e=Ba,Mu+=2):(e=r,0===Gu&&ts(Da)),e===r&&(t.substr(Mu,2)===Ma?(e=Ma,Mu+=2):(e=r,0===Gu&&ts(Ua)),e===r&&(t.substr(Mu,2)===Wa?(e=Wa,Mu+=2):(e=r,0===Gu&&ts(qa)),e===r&&(t.substr(Mu,2)===$a?(e=$a,Mu+=2):(e=r,0===Gu&&ts(Ga))))))))))))),e}())===r&&(e=function(){var e,n,i,o;return Ha.test(t.charAt(Mu))?(e=t.charAt(Mu),Mu++):(e=r,0===Gu&&ts(Qa)),e===r&&(e=Mu,Ha.test(t.charAt(Mu))?(n=t.charAt(Mu),Mu++):(n=r,0===Gu&&ts(Qa)),n!==r?(Ha.test(t.charAt(Mu))?(i=t.charAt(Mu),Mu++):(i=r,0===Gu&&ts(Qa)),i!==r?e=n=[n,i]:(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,Ha.test(t.charAt(Mu))?(n=t.charAt(Mu),Mu++):(n=r,0===Gu&&ts(Qa)),n!==r?(Ha.test(t.charAt(Mu))?(i=t.charAt(Mu),Mu++):(i=r,0===Gu&&ts(Qa)),i!==r?(Ha.test(t.charAt(Mu))?(o=t.charAt(Mu),Mu++):(o=r,0===Gu&&ts(Qa)),o!==r?e=n=[n,i,o]:(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r))),e}()),e}function lc(){var e,n,i,o;if(Gu++,e=Mu,(n=function(){var e;return Ja.test(t.charAt(Mu))?(e=t.charAt(Mu),Mu++):(e=r,0===Gu&&ts(tu)),e}())!==r){for(i=[],o=fc();o!==r;)i.push(o),o=fc();i!==r?(Uu=e,e=n=Ka(n,i)):(Mu=e,e=r)}else Mu=e,e=r;return Gu--,e===r&&(n=r,0===Gu&&ts(Za)),e}function fc(){var e;return Ya.test(t.charAt(Mu))?(e=t.charAt(Mu),Mu++):(e=r,0===Gu&&ts(Xa)),e}function pc(){var e,n,i,o;for(Gu++,e=Mu,n=[],nu.test(t.charAt(Mu))?(i=t.charAt(Mu),Mu++):(i=r,0===Gu&&ts(ru));i!==r;)n.push(i),nu.test(t.charAt(Mu))?(i=t.charAt(Mu),Mu++):(i=r,0===Gu&&ts(ru));if(n!==r&&(i=is())!==r&&(o=pc())!==r?e=n=[n,i,o]:(Mu=e,e=r),e===r)for(e=[],nu.test(t.charAt(Mu))?(n=t.charAt(Mu),Mu++):(n=r,0===Gu&&ts(ru));n!==r;)e.push(n),nu.test(t.charAt(Mu))?(n=t.charAt(Mu),Mu++):(n=r,0===Gu&&ts(ru));return Gu--,e===r&&(n=r,0===Gu&&ts(eu)),e}function hc(){var e,n,i,o;if(Gu++,e=Mu,(n=is())!==r&&(i=hc())!==r?e=n=[n,i]:(Mu=e,e=r),e===r){if(e=Mu,n=[],nu.test(t.charAt(Mu))?(i=t.charAt(Mu),Mu++):(i=r,0===Gu&&ts(ru)),i!==r)for(;i!==r;)n.push(i),nu.test(t.charAt(Mu))?(i=t.charAt(Mu),Mu++):(i=r,0===Gu&&ts(ru));else n=r;if(n!==r&&(i=is())!==r&&(o=pc())!==r?e=n=[n,i,o]:(Mu=e,e=r),e===r)if(e=[],nu.test(t.charAt(Mu))?(n=t.charAt(Mu),Mu++):(n=r,0===Gu&&ts(ru)),n!==r)for(;n!==r;)e.push(n),nu.test(t.charAt(Mu))?(n=t.charAt(Mu),Mu++):(n=r,0===Gu&&ts(ru));else e=r}return Gu--,e===r&&(n=r,0===Gu&&ts(iu)),e}function dc(){var e,n,i,o,a,u,s;if(e=Mu,n=[],i=Mu,(o=mc())!==r&&pc()!==r?(Uu=i,i=o=yu(o)):(Mu=i,i=r),i!==r)for(;i!==r;)n.push(i),i=Mu,(o=mc())!==r&&pc()!==r?(Uu=i,i=o=yu(o)):(Mu=i,i=r);else n=r;if(n!==r&&(Uu=e,n=mu(n)),(e=n)===r)if(e=Mu,(n=yc())!==r)if((i=pc())!==r)if(58===t.charCodeAt(Mu)?(o=T,Mu++):(o=r,0===Gu&&ts(x)),o!==r)if(pc()!==r){for(a=[],u=Mu,(s=mc())!==r&&pc()!==r?(Uu=u,u=s=vu(n,s)):(Mu=u,u=r);u!==r;)a.push(u),u=Mu,(s=mc())!==r&&pc()!==r?(Uu=u,u=s=vu(n,s)):(Mu=u,u=r);a!==r?(Uu=e,e=n=bu(n,a)):(Mu=e,e=r)}else Mu=e,e=r;else Mu=e,e=r;else Mu=e,e=r;else Mu=e,e=r;return e}function yc(){var e;return t.substr(Mu,7)===_u?(e=_u,Mu+=7):(e=r,0===Gu&&ts(gu)),e===r&&(t.substr(Mu,9)===wu?(e=wu,Mu+=9):(e=r,0===Gu&&ts(Ru)),e===r&&(t.substr(Mu,6)===Tu?(e=Tu,Mu+=6):(e=r,0===Gu&&ts(xu)))),e}function mc(){var e,n,i,o,a,u;return e=Mu,(n=ds())!==r?(i=Mu,Gu++,o=lc(),Gu--,o===r?i=void 0:(Mu=i,i=r),i!==r&&(o=pc())!==r&&(a=function(){var e,n,i,o,a,u,s;if(e=Mu,(n=vc())!==r){for(i=[],o=Mu,(a=pc())!==r?(44===t.charCodeAt(Mu)?(u=_t,Mu++):(u=r,0===Gu&&ts(gt)),u!==r&&pc()!==r&&(s=vc())!==r?(Uu=o,a=wt(n,s),o=a):(Mu=o,o=r)):(Mu=o,o=r);o!==r;)i.push(o),o=Mu,(a=pc())!==r?(44===t.charCodeAt(Mu)?(u=_t,Mu++):(u=r,0===Gu&&ts(gt)),u!==r&&pc()!==r&&(s=vc())!==r?(Uu=o,a=wt(n,s),o=a):(Mu=o,o=r)):(Mu=o,o=r);i!==r?(Uu=e,n=Rt(n,i),e=n):(Mu=e,e=r)}else Mu=e,e=r;return e}())!==r&&pc()!==r?(59===t.charCodeAt(Mu)?(u=I,Mu++):(u=r,0===Gu&&ts(F)),u!==r?(Uu=e,e=n=Eu(n,a)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,(n=ps())!==r&&(i=pc())!==r?(59===t.charCodeAt(Mu)?(o=I,Mu++):(o=r,0===Gu&&ts(F)),o===r&&(o=null),o!==r?(Uu=e,e=n=Au(n)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,(n=function(){var e,n,i,o,a,u,s,c,l,f;return e=Mu,126===t.charCodeAt(Mu)?(n=Ct,Mu++):(n=r,0===Gu&&ts(Ot)),n!==r&&(i=lc())!==r&&(o=pc())!==r?(40===t.charCodeAt(Mu)?(a=q,Mu++):(a=r,0===Gu&&ts($)),a!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(u=G,Mu++):(u=r,0===Gu&&ts(H)),u!==r&&pc()!==r?((s=ss())===r&&(s=Mu,59===t.charCodeAt(Mu)?(c=I,Mu++):(c=r,0===Gu&&ts(F)),c!==r&&(Uu=s,c=St(i)),s=c),s!==r?(Uu=e,e=n=Pt(i,s)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,t.substr(Mu,7)===jt?(n=jt,Mu+=7):(n=r,0===Gu&&ts(It)),n!==r&&(i=hc())!==r?(126===t.charCodeAt(Mu)?(o=Ct,Mu++):(o=r,0===Gu&&ts(Ot)),o!==r&&(a=lc())!==r&&pc()!==r?(40===t.charCodeAt(Mu)?(u=q,Mu++):(u=r,0===Gu&&ts($)),u!==r&&pc()!==r?(41===t.charCodeAt(Mu)?(s=G,Mu++):(s=r,0===Gu&&ts(H)),s!==r&&(c=pc())!==r?((l=ss())===r&&(l=Mu,59===t.charCodeAt(Mu)?(f=I,Mu++):(f=r,0===Gu&&ts(F)),f!==r&&(Uu=l,f=St(a)),l=f),l!==r?(Uu=e,e=n=Ft(a,l)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r)),e}())!==r&&(i=pc())!==r?(59===t.charCodeAt(Mu)?(o=I,Mu++):(o=r,0===Gu&&ts(F)),o===r&&(o=null),o!==r?(Uu=e,e=n=Cu(n)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,(n=fs())!==r&&(i=pc())!==r?(59===t.charCodeAt(Mu)?(o=I,Mu++):(o=r,0===Gu&&ts(F)),o===r&&(o=null),o!==r?(Uu=e,e=n=Ou(n)):(Mu=e,e=r)):(Mu=e,e=r)))),e}function vc(){var e,n,i,o;return e=Mu,(n=Rs())!==r&&pc()!==r?(61===t.charCodeAt(Mu)?(i=Be,Mu++):(i=r,0===Gu&&ts(De)),i!==r&&pc()!==r?(48===t.charCodeAt(Mu)?(o=Su,Mu++):(o=r,0===Gu&&ts(Pu)),o!==r?(Uu=e,e=n=ju(n)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,(n=Rs())!==r&&pc()!==r?(61===t.charCodeAt(Mu)?(i=Be,Mu++):(i=r,0===Gu&&ts(De)),i!==r&&pc()!==r?(t.substr(Mu,21)===We?(o=We,Mu+=21):(o=r,0===Gu&&ts(qe)),o!==r?(Uu=e,e=n=Iu(n)):(Mu=e,e=r)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,(n=Rs())!==r&&pc()!==r&&(i=ws())!==r?(Uu=e,e=n=Fu(n,i)):(Mu=e,e=r),e===r&&(e=Rs()))),e}function bc(){var e,n,i,o,a;return e=Mu,t.substr(Mu,7)===jt?(n=jt,Mu+=7):(n=r,0===Gu&&ts(It)),n!==r&&(i=hc())!==r?(o=Mu,(a=yc())!==r&&hc()!==r?(Uu=o,o=a=zu(a)):(Mu=o,o=r),o!==r&&(a=_c())!==r?(Uu=e,e=n=Vu(o,a)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,n=Mu,(i=yc())!==r&&(o=hc())!==r?(Uu=n,n=i=zu(i)):(Mu=n,n=r),n!==r?(t.substr(Mu,7)===jt?(i=jt,Mu+=7):(i=r,0===Gu&&ts(It)),i!==r&&(o=hc())!==r&&(a=_c())!==r?(Uu=e,e=n=Vu(n,a)):(Mu=e,e=r)):(Mu=e,e=r),e===r&&(e=Mu,(n=yc())!==r&&(i=hc())!==r&&(o=_c())!==r?(Uu=e,e=n=Lu(n,o)):(Mu=e,e=r),e===r&&(e=Mu,(n=_c())!==r&&(Uu=e,n=Bu(n)),e=n))),e}function _c(){var t,e,n;return t=Mu,(e=ac())!==r&&pc()!==r&&(n=lc())!==r?(Uu=t,t=e=Du(e,n)):(Mu=t,t=r),t===r&&(t=lc()),t}function gc(t,e,n,r){if(!e||0===e.length)return t;if("left"===n){var i=e.pop();return{construct_type:r,operator:i[0],left:gc(t,e,n,r),right:i[1],associativity:n}}var o=e.shift();return{construct_type:r,operator:o[0],left:t,right:gc(o[1],e,n,r),associativity:n}}function wc(t,e){if(!e)return t;for(var n in e)"start"!=n&&"end"!=n&&(t[n]=e[n]);return t}function Rc(t,e,n){return t.source={location:e,start:e.start.offset,text:n,line:e.start.line,column:e.start.column,end:e.start.offset+n.length},t}var Tc={};function xc(){return Tc}if((n=a())!==r&&Mu===t.length)return n;throw n!==r&&Mu<t.length&&ts({type:"end"}),es($u,qu<t.length?t.charAt(qu):null,qu<t.length?Ju(qu,qu+1):Ju(qu,qu))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(55),i=n(3),o=n(0),a=n(13),u=n(4),s=n(5),c=n(2),l=function(){function t(){this._allNotes=[],this.allNotes=this._allNotes,this.hasErrors=!1,this.hasSyntaxErrors=!1,this.hasWarnings=!1}return t.prototype.addNote=function(t){this._allNotes.push(t);t.kind===i.NoteKind.ERROR?(this.hasErrors=!0,t instanceof i.SyntaxNote&&(this.hasSyntaxErrors=!0)):t.kind===i.NoteKind.WARNING&&(this.hasWarnings=!0)},t.prototype.addNotes=function(t){var e=this;t.forEach(function(t){return e.addNote(t)})},t.prototype.clearNotes=function(){this._allNotes.length=0;this.hasErrors=!1,this.hasSyntaxErrors=!1,this.hasWarnings=!1},t}();e.NoteRecorder=l;var f=function(){function t(t,e){var n=this;for(var r in this.context={program:this},this.isCompilationUpToDate=!0,this.sourceFiles={},this.translationUnits={},this.globalObjects=[],this.functionCalls=[],this.definitions={},this.linkedEntities=[],this.notes=new l,t.forEach(function(t){n.sourceFiles[t.name]=t}),e.forEach(function(t){o.assert(!!n.sourceFiles[t],"Source file "+t+" not found."),n.translationUnits[t]=new y(n,new d(n.sourceFiles[t],n.sourceFiles))}),this.translationUnits){var i=this.translationUnits[r];this.notes.addNotes(i.notes.allNotes)}this.notes.hasSyntaxErrors||this.link(),this.isCompilationUpToDate=!0}return t.prototype.link=function(){var t=this;this.defineIntrinsics(),this.linkedEntities.forEach(function(e){return e.link(t.definitions[e.qualifiedName])});var e=this.definitions["::main"];e instanceof a.FunctionDefinition&&(this.mainFunction=e),this.globalObjectAllocator=new c.GlobalObjectAllocator(this.context,this.globalObjects)},t.prototype.defineIntrinsics=function(){},t.prototype.registerLinkedEntity=function(t){o.asMutable(this.linkedEntities).push(t)},t.prototype.registerGlobalObjectDefinition=function(t,e){this.definitions[t]?this.notes.addNote(i.CPPError.link.multiple_def(e,t)):(this.definitions[t]=e,o.asMutable(this.globalObjects).push(e))},t.prototype.registerFunctionDefinition=function(t,e){var n=this.definitions[t];if(n)if(Array.isArray(n)){u.selectOverloadedDefinition(n,e.declaration.type)?this.notes.addNote(i.CPPError.link.multiple_def(e,t)):n.push(e)}else this.notes.addNote(i.CPPError.link.multiple_def(e,t));else this.definitions[t]=[e]},t}();e.Program=f;var p=function(){return function(t,e){this.observable=new s.Observable(this),this.name=t,this.text=e}}();e.SourceFile=p;var h=function(){function t(t,e,n,r,i){this._includes=[],this.includes=this._includes,this.sourceFile=t,this.line=e,this.column=n,this.start=r,this.end=i}return t.createIncluded=function(e,n,r){var i=new t(r.sourceFile,r.line,r.column,r.start,r.end);return i._includes.push({sourceFile:e,lineIncluded:n}),r.includes.forEach(function(t){return i._includes.push(t)}),i},Object.defineProperty(t.prototype,"isIncluded",{get:function(){return this.includes.length>0},enumerable:!0,configurable:!0}),t}();e.SourceReference=h;var d=function(){function t(e,n,r){var o=this;void 0===r&&(r={}),this.notes=new l,this._includes=[],this.includes=this._includes,this.includedSourceFiles={},this.primarySourceFile=e,this.name=e.name,this.availableToInclude=n,r[this.primarySourceFile.name]=!0;var a=e.text;a=this.filterSourceCode(a);var u=0,s=1,c=1;this.includedSourceFiles[this.primarySourceFile.name]=this.primarySourceFile,this.preprocessedText=a.replace(/#include[^\S\n]+"(.*)"/g,function(n,a,l,f){for(var p={},d=u;d<l;++d)"\n"===f[d]&&(++s,++c);if(p.startLine=s,p.startOffset=l,u=l+n.length,r[a])return o.notes.addNote(i.CPPError.preprocess.recursiveInclude(new h(e,s,0,l,u))),Array(n.length+1).join(" ");var y=new t(o.availableToInclude[a],o.availableToInclude,Object.assign({},r));return Object.assign(o.includedSourceFiles,y.includedSourceFiles),p.numLines=y.numLines,p.endLine=p.startLine+y.numLines,p.lineDelta=y.numLines-1,p.lengthDelta=y.length-n.length,s+=y.numLines-1,p.included=y,p.lineIncluded=c,o._includes.push(p),y.preprocessedText});for(var f=u;f<a.length;++f)"\n"===a[f]&&++s;this.numLines=s,this.length=this.preprocessedText.length}return t.prototype.filterSourceCode=function(t){return(t=t.replace(/\r/g,"")).includes("#ifndef")&&(t=t.replace(/#ifndef.*/g,function(t){return Array(t.length+1).join(" ")})),t.includes("#define")&&(t=t.replace(/#define.*/g,function(t){return Array(t.length+1).join(" ")})),t.includes("#endif")&&(t=t.replace(/#endif.*/g,function(t){return Array(t.length+1).join(" ")})),(t=t.replace(/#include.*<.*>/g,function(t){return Array(t.length+1).join(" ")})).includes("using namespace")&&(t=t.replace(/using namespace.*/g,function(t){return Array(t.length+1).join(" ")})),t.includes("using std::")&&(t=t.replace(/using std::.*/g,function(t){return Array(t.length+1).join(" ")})),t},t.prototype.getSourceReference=function(t,e,n,r){for(var i=0,o=1,a=0;a<this.includes.length;++a){var u=this.includes[a];if(t<u.startLine)return new h(this.primarySourceFile,t-o+1,e,n&&n-i,r&&r-i);if(u.startLine<=t&&t<u.endLine)return h.createIncluded(this.primarySourceFile,u.lineIncluded,u.included.getSourceReference(t-u.startLine+1,e,n&&n-u.startOffset,r&&r-u.startOffset));i+=u.lengthDelta,o+=u.lineDelta}return new h(this.primarySourceFile,t-o+1,e,n&&n-i,r&&r-i)},t}(),y=function(){function t(t,e){this.notes=new l,this.topLevelDeclarations=[],this.staticEntities=[],this.stringLiterals=[],this.functionCalls=[],this.program=t,this.source=e,this.globalScope=new u.NamespaceScope(e.primarySourceFile.name+"_GLOBAL_SCOPE"),this.name=e.name,this.context=c.createTranslationUnitContext(t.context,this,this.globalScope);try{var n=r.parse(this.source.preprocessedText);this.parsedAST=n,this.createBuiltInGlobals(),this.compileTopLevelDeclarations(this.parsedAST)}catch(t){if("SyntaxError"!=t.name)throw console.log(t.stack),t;this.notes.addNote(new i.SyntaxNote(this.getSourceReference(t.location.start.line,t.location.start.column,t.location.start.offset,t.location.start.offset+1),i.NoteKind.ERROR,"syntax",t.message))}}return t.prototype.createBuiltInGlobals=function(){},t.prototype.compileTopLevelDeclarations=function(t){var e=this;t.declarations.forEach(function(t){var n=a.createDeclarationFromAST(t,e.context);Array.isArray(n)?n.forEach(function(t){return o.asMutable(e.topLevelDeclarations).push(t)}):o.asMutable(e.topLevelDeclarations).push(n)})},t.prototype.addStringLiteral=function(t){o.asMutable(this.stringLiterals).push(t)},t.prototype.registerFunctionCall=function(t){o.asMutable(this.functionCalls).push(t)},t.prototype.getNearestSourceReferenceForConstruct=function(t){for(;!t.ast&&t.parent;)t=t.parent;if(!t.ast)return o.assertFalse("Can't find source reference for construct");var e=t.ast.source;return this.getSourceReference(e.line,e.column,e.start,e.end)},t.prototype.getSourceReference=function(t,e,n,r){return this.source.getSourceReference(t,e,n,r)},t}();e.TranslationUnit=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(56);console.log("hello");var i=new r.SourceFile("test.cpp","int main() {int x = 2;}"),o=new r.Program([i],["test.cpp"]);console.log(o)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9CdW5kbGUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vc3JjL2pzL3V0aWwvdXRpbC50cyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvY29yZS90eXBlcy50cyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvY29yZS9jb25zdHJ1Y3RzLnRzIiwid2VicGFjazovL0J1bmRsZS8uL3NyYy9qcy9jb3JlL2Vycm9ycy50cyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvY29yZS9lbnRpdGllcy50cyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvdXRpbC9vYnNlcnZlLnRzIiwid2VicGFjazovL0J1bmRsZS8uL3NyYy9qcy9jb3JlL2V4cHJlc3Npb25zLnRzIiwid2VicGFjazovL0J1bmRsZS8uL3NyYy9qcy9jb3JlL3J1bnRpbWVFbnZpcm9ubWVudC50cyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvY29yZS9leHByZXNzaW9uQmFzZS50cyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvY29yZS9vYmplY3RzLnRzIiwid2VicGFjazovL0J1bmRsZS8uL3NyYy9qcy9jb3JlL2xleGljYWwudHMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vc3JjL2pzL2NvcmUvc3RhbmRhcmRDb252ZXJzaW9ucy50cyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvY29yZS9pbml0aWFsaXplcnMudHMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vc3JjL2pzL2NvcmUvZGVjbGFyYXRpb25zLnRzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNPYmplY3QuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19yb290LmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX1N5bWJvbC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lkZW50aXR5LmpzIiwid2VicGFjazovL0J1bmRsZS8uL3NyYy9qcy9jb3JlL3N0YXRlbWVudHMudHMiLCJ3ZWJwYWNrOi8vQnVuZGxlLyh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL2xvZGFzaC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvY29yZS9mdW5jdGlvbkNhbGwudHMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vc3JjL2pzL2NvcmUvU2ltdWxhdGlvbi50cyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL2xhc3QuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fY29weUFycmF5LmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VVbmFyeS5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlSW5kZXhPZldpdGguanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fc3RyaWN0SW5kZXhPZi5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlSXNOYU4uanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUZpbmRJbmRleC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlSW5kZXhPZi5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hcnJheU1hcC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlUHVsbEFsbC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL3B1bGxBbGwuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fc2hvcnRPdXQuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0VmFsdWUuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fdG9Tb3VyY2UuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fY29yZUpzRGF0YS5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19pc01hc2tlZC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19vYmplY3RUb1N0cmluZy5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRSYXdUYWcuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZnJlZUdsb2JhbC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlR2V0VGFnLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlSXNOYXRpdmUuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0TmF0aXZlLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2RlZmluZVByb3BlcnR5LmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvY29uc3RhbnQuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZVNldFRvU3RyaW5nLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3NldFRvU3RyaW5nLmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2FwcGx5LmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX292ZXJSZXN0LmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VSZXN0LmpzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvcHVsbC5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvcGFyc2UvY3BwX3BhcnNlci50cyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvY29yZS9Qcm9ncmFtLnRzIiwid2VicGFjazovL0J1bmRsZS8uL3NyYy9qcy9tYWluLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiYXNNdXRhYmxlIiwib2JqIiwiYXNzZXJ0IiwiY29uZGl0aW9uIiwibWVzc2FnZSIsIkVycm9yIiwiYXNzZXJ0RmFsc2UiLCJjcmVhdGVNZXRob2RNaXhpbiIsIm1peCIsInRhcmdldFByb3RvIiwiaHRtbERlY29yYXRlZFR5cGUiLCJ0eXBlU3RyaW5nIiwiZXNjYXBlcyIsImVzY2FwZWQiLCJlc2NhcGVTdHJpbmciLCJ0ZXh0IiwibGVuZ3RoIiwicmVwbGFjZSIsInVuZXNjYXBlU3RyaW5nIiwibmV3U3RyIiwiaiIsIkNQUFJhbmRvbSIsInRoaXMiLCJzZWVkIiwic2V0UmFuZG9tU2VlZCIsIm5ld1NlZWQiLCJyYW5kb20iLCJtaW4iLCJtYXgiLCJzZWVkZWRSYW5kb20iLCJybmQiLCJNYXRoIiwidXRpbF8xIiwidm93ZWxzIiwic2FtZVR5cGUiLCJ0eXBlMSIsInR5cGUyIiwic2ltaWxhclR5cGUiLCJzdWJUeXBlIiwiQ2xhc3NUeXBlIiwiaXNEZXJpdmVkRnJvbSIsImlzVHlwZSIsInR5cGUiLCJjdG9yIiwiY292YXJpYW50VHlwZSIsImRlcml2ZWQiLCJiYXNlIiwiZGMiLCJiYyIsIlBvaW50ZXJUeXBlIiwicHRyVG8iLCJSZWZlcmVuY2VUeXBlIiwicmVmVG8iLCJpc0NvbnN0IiwiaXNWb2xhdGlsZSIsInJlZmVyZW5jZUNvbXBhdGlibGUiLCJmcm9tIiwidG8iLCJpc1JlZmVyZW5jZUNvbXBhdGlibGUiLCJpc0N2Q29udmVydGlibGUiLCJmcm9tVHlwZSIsInRvVHlwZSIsImdldENvbXBvdW5kTmV4dCIsInQyQWxsQ29uc3QiLCJUeXBlQmFzZSIsImdldENWU3RyaW5nIiwidG9TdHJpbmciLCJpc09iamVjdFR5cGUiLCJPYmplY3RUeXBlIiwiaXNBdG9taWNUeXBlIiwiQXRvbWljVHlwZSIsImlzQXJpdGhtZXRpY1R5cGUiLCJBcml0aG1ldGljVHlwZSIsImlzSW50ZWdyYWxUeXBlIiwiSW50ZWdyYWxUeXBlIiwiaXNGbG9hdGluZ1BvaW50VHlwZSIsIkZsb2F0aW5nUG9pbnRUeXBlIiwiaXNQb2ludGVyVHlwZSIsImlzUmVmZXJlbmNlVHlwZSIsImlzQ2xhc3NUeXBlIiwiaXNCb3VuZGVkQXJyYXlUeXBlIiwiQm91bmRlZEFycmF5VHlwZSIsImlzQXJyYXlPZlVua25vd25Cb3VuZFR5cGUiLCJBcnJheU9mVW5rbm93bkJvdW5kVHlwZSIsImlzR2VuZXJpY0FycmF5VHlwZSIsImlzRnVuY3Rpb25UeXBlIiwiRnVuY3Rpb25UeXBlIiwiaXNBcnJheUVsZW1UeXBlIiwiaXNWb2lkVHlwZSIsIlZvaWRUeXBlIiwiaXNQb3RlbnRpYWxSZXR1cm5UeXBlIiwiaXNQb3RlbnRpYWxQYXJhbWV0ZXJUeXBlIiwiaXNSZWZlcmVuY2VSZWxhdGVkIiwib3RoZXIiLCJjdlVucXVhbGlmaWVkIiwiZGVjbGFyYXRvclN0cmluZyIsInZhcm5hbWUiLCJwYXJlbnRoZXNpemUiLCJvdXRzaWRlIiwic3RyIiwicHJlY2VkZW5jZSIsImRlc2NyaWJlIiwiaXNDVlF1YWxpZmllZCIsImN2UXVhbGlmaWVkIiwiY3ZRdWFsaWZpZWRJbXBsIiwiX25hbWUiLCJfc3VwZXIiLCJfdGhpcyIsImFwcGx5IiwiYXJndW1lbnRzIiwiaXNDb21wbGV0ZSIsIl9fZXh0ZW5kcyIsImV4Y2x1ZGVCYXNlIiwiZGVjb3JhdGVkIiwiZW5nbGlzaFN0cmluZyIsInBsdXJhbCIsIlZPSUQiLCJpc0F0b21pYyIsIlZhbHVlVHlwZSIsImJ5dGVzVG9WYWx1ZSIsImJ5dGVzIiwidmFsdWVUb0J5dGVzIiwic2l6ZSIsInB1c2giLCJ2YWx1ZVRvT3N0cmVhbVN0cmluZyIsInZhbHVlVG9TdHJpbmciLCJTaW1wbGVUeXBlIiwic2ltcGxlVHlwZSIsIndvcmQiLCJpbmRleE9mIiwiaXNWb3dlbCIsImNoYXJBdCIsImlzVmFsdWVWYWxpZCIsIkNoYXIiLCJpc051bGxDaGFyIiwiTlVMTF9DSEFSIiwianNTdHJpbmdUb051bGxUZXJtaW5hdGVkQ2hhckFycmF5IiwiY2hhcnMiLCJzcGxpdCIsIm1hcCIsImNoYXJDb2RlQXQiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJDSEFSIiwiSW50IiwiSU5UIiwiU2l6ZV90IiwiQm9vbCIsIkJPT0wiLCJGbG9hdCIsIkZMT0FUIiwiRG91YmxlIiwiRE9VQkxFIiwiaXNOdWxsIiwiaXNOZWdhdGl2ZSIsImlzT2JqZWN0UG9pbnRlciIsImlzVmFsdWVEZXJlZmVyZW5jZWFibGUiLCJBcnJheVBvaW50ZXIiLCJhcnJheU9iamVjdCIsImVsZW1UeXBlIiwiYWRkcmVzcyIsIm9uZVBhc3QiLCJpc0FsaXZlIiwidG9JbmRleCIsImFkZHIiLCJ0cnVuYyIsIk9iamVjdFBvaW50ZXIiLCJwb2ludGVkT2JqZWN0IiwiZ2V0UG9pbnRlZE9iamVjdCIsIm5vUmVmIiwiYWRqdXN0VG9Qb2ludGVyVHlwZSIsInNpemVFeHByZXNzaW9uQVNUIiwiY2xhc3NOYW1lIiwicmV0dXJuVHlwZSIsInBhcmFtVHlwZXMiLCJyZWNlaXZlclR5cGUiLCJwdHlwZSIsInBhcmFtU3RyVHlwZSIsInBhcmFtU3RyRW5nbGlzaCIsInNhbWVSZXR1cm5UeXBlIiwic2FtZVBhcmFtVHlwZXMiLCJvdGhlclBhcmFtVHlwZXMiLCJzYW1lUmVjZWl2ZXJUeXBlIiwic2FtZVNpZ25hdHVyZSIsImlzUG90ZW50aWFsT3ZlcnJpZGVyT2YiLCJidWlsdEluVHlwZU5hbWVzIiwiU2V0IiwiaXNCdWlsdEluVHlwZU5hbWUiLCJoYXMiLCJidWlsdEluVHlwZXMiLCJjaGFyIiwiaW50IiwiYm9vbCIsImZsb2F0IiwiZG91YmxlIiwidm9pZCIsImVudGl0aWVzXzEiLCJlcnJvcnNfMSIsIm9ic2VydmVfMSIsImNyZWF0ZVRyYW5zbGF0aW9uVW5pdENvbnRleHQiLCJjb250ZXh0IiwidHJhbnNsYXRpb25Vbml0IiwiY29udGV4dHVhbFNjb3BlIiwiYXNzaWduIiwiY3JlYXRlRXhwcmVzc2lvbkNvbnRleHQiLCJjb250ZXh0dWFsUGFyYW1ldGVyVHlwZXMiLCJjcmVhdGVGdW5jdGlvbkNvbnRleHQiLCJjb250YWluaW5nRnVuY3Rpb24iLCJmdW5jdGlvbkxvY2FscyIsIkZ1bmN0aW9uTG9jYWxzIiwiaXNCbG9ja0NvbnRleHQiLCJCbG9ja1Njb3BlIiwiQ1BQQ29uc3RydWN0Iiwibm90ZXMiLCJoYXNFcnJvcnMiLCJjaGlsZHJlbiIsImlkIiwiTkVYVF9JRCIsImF0dGFjaCIsImNoaWxkIiwib25BdHRhY2giLCJhdHRhY2hBbGwiLCJmb3JFYWNoIiwic2V0QVNUIiwiYXN0Iiwic291cmNlIiwic291cmNlUmVmZXJlbmNlIiwiZ2V0U291cmNlUmVmZXJlbmNlIiwibGluZSIsImNvbHVtbiIsInN0YXJ0IiwiZW5kIiwiZXhwbGFpbiIsInNpbSIsInJ0Q29uc3RydWN0IiwiaWdub3JlIiwiYWRkTm90ZSIsIm5vdGUiLCJraW5kIiwiTm90ZUtpbmQiLCJFUlJPUiIsImdldE5lYXJlc3RTb3VyY2VSZWZlcmVuY2UiLCJjb25zdHJ1Y3QiLCJwYXJlbnQiLCJSdW50aW1lQ29uc3RydWN0IiwibW9kZWwiLCJzdGFja1R5cGUiLCJwYXJlbnRPclNpbSIsIm9ic2VydmFibGUiLCJPYnNlcnZhYmxlIiwicHVzaGVkQ2hpbGRyZW4iLCJpc0FjdGl2ZSIsImlzRG9uZSIsInBhdXNlcyIsImFkZENoaWxkIiwiY29udGFpbmluZ1J1bnRpbWVGdW5jdGlvbiIsInN0ZXBzVGFrZW5BdFN0YXJ0Iiwic3RlcHNUYWtlbiIsInN0ZXBGb3J3YXJkIiwic2VuZCIsInN0ZXBGb3J3YXJkSW1wbCIsInVwTmV4dCIsInVwTmV4dEltcGwiLCJkb25lIiwic2V0UGF1c2VXaGVuVXBOZXh0IiwicGF1c2VXaGVuVXBOZXh0Iiwid2FpdCIsInB1c2hlZCIsInBvcHBlZCIsImZpbmRQYXJlbnRCeU1vZGVsIiwiQmFzaWNDUFBDb25zdHJ1Y3QiLCJJbnZhbGlkQ29uc3RydWN0IiwiZXJyb3JGbiIsIlBvdGVudGlhbEZ1bGxFeHByZXNzaW9uIiwidGVtcG9yYXJ5T2JqZWN0cyIsImlzRnVsbEV4cHJlc3Npb24iLCJmZV8xIiwiZmluZEZ1bGxFeHByZXNzaW9uIiwidGVtcEVudCIsImFkZFRlbXBvcmFyeU9iamVjdCIsInRlbXBvcmFyeURlYWxsb2NhdG9yIiwiVGVtcG9yYXJ5RGVhbGxvY2F0b3IiLCJ0ZW1wT2JqRW50Iiwic2V0T3duZXIiLCJjcmVhdGVUZW1wb3JhcnlPYmplY3QiLCJkZXNjcmlwdGlvbiIsImZlIiwiVGVtcG9yYXJ5T2JqZWN0RW50aXR5IiwiZW50aXR5SWQiLCJSdW50aW1lUG90ZW50aWFsRnVsbEV4cHJlc3Npb24iLCJjcmVhdGVSdW50aW1lQ29uc3RydWN0IiwiY29udGFpbmluZ0Z1bGxFeHByZXNzaW9uIiwicnQiLCJSdW50aW1lRnVuY3Rpb25JbmRpY2VzIiwibG9jYWxPYmplY3RzIiwibG9jYWxSZWZlcmVuY2VzIiwibG9jYWxWYXJpYWJsZXNCeUVudGl0eUlkIiwicmVnaXN0ZXJMb2NhbFZhcmlhYmxlIiwibG9jYWwiLCJSdW50aW1lRnVuY3Rpb24iLCJyZWNlaXZlciIsImhhc0NvbnRyb2wiLCJib2R5IiwiY3JlYXRlUnVudGltZVN0YXRlbWVudCIsInB1c2hTdGFja0ZyYW1lIiwic3RhY2tGcmFtZSIsIm1lbW9yeSIsInN0YWNrIiwicHVzaEZyYW1lIiwic2V0UmV0dXJuT2JqZWN0IiwicmV0dXJuT2JqZWN0IiwiZ2FpbkNvbnRyb2wiLCJsb3NlQ29udHJvbCIsInBvcCIsIlJ1bnRpbWVUZW1wb3JhcnlEZWFsbG9jYXRvciIsImluZGV4IiwianVzdERlc3RydWN0ZWQiLCJkdG9ycyIsImRlYWxsb2NhdGVUZW1wb3JhcnlPYmplY3QiLCJydW50aW1lTG9va3VwIiwiVW5zdXBwb3J0ZWRDb25zdHJ1Y3QiLCJ1bnN1cHBvcnRlZE5hbWUiLCJDUFBFcnJvciIsImxvYnN0ZXIiLCJ1bnN1cHBvcnRlZF9mZWF0dXJlIiwiR2xvYmFsT2JqZWN0QWxsb2NhdG9yIiwiZ2xvYmFsT2JqZWN0cyIsIlJ1bnRpbWVHbG9iYWxPYmplY3RBbGxvY2F0b3IiLCJvYmpEZWYiLCJhbGxvY2F0ZVN0YXRpYyIsImluaXRpYWxpemVyIiwiY3JlYXRlUnVudGltZUluaXRpYWxpemVyIiwiY29uc3RydWN0c18xIiwidHlwZXNfMSIsIk5vdGUiLCJCYXNpY05vdGVCYXNlIiwic291cmNlUmVmIiwicHJpbWFyeVNvdXJjZVJlZmVyZW5jZSIsImFsbFNvdXJjZVJlZmVyZW5jZXMiLCJQcmVwcm9jZXNzb3JOb3RlIiwiU3ludGF4Tm90ZSIsIkNvbnN0cnVjdE5vdGVCYXNlIiwiY29uc3RydWN0cyIsInByaW1hcnlDb25zdHJ1Y3QiLCJDb21waWxlck5vdGUiLCJMaW5rZXJOb3RlIiwiY2luX25vdF9zdXBwb3J0ZWQiLCJjbGFzc19kZWYiLCJwcmV2X2RlZiIsInByZXYiLCJiYXNlX2NsYXNzX3R5cGUiLCJiaWdfdGhyZWUiLCJiaWdUaHJlZVllcyIsImJpZ1RocmVlTm8iLCJ5U3RyIiwiam9pbiIsIm5TdHIiLCJXQVJOSU5HIiwibXVsdGlwbGVfaW5oZXJpdGFuY2UiLCJ2aXJ0dWFsX2luaGVyaXRhbmNlIiwiY3Rvcl9kZWYiLCJkdG9yX2RlZiIsImRlY2xhcmF0aW9uIiwiY29weSIsInBhc3NfYnlfdmFsdWUiLCJjb25zdFJlZiIsImluaXQiLCJub19zdWNoX21lbWJlciIsImNsYXNzVHlwZSIsImltcHJvcGVyX21lbWJlciIsImRlbGVnYXRpbmdfb25seSIsIm11bHRpcGxlX2Jhc2VfaW5pdHMiLCJkdG9yIiwibm9fZGVzdHJ1Y3Rvcl9hdXRvIiwiZW50aXR5Iiwibm9fZGVzdHJ1Y3Rvcl90ZW1wb3JhcnkiLCJwcmV2X2xvY2FsIiwiZnVuYyIsInJldHVybl9hcnJheSIsInJldHVybl9mdW5jIiwiaW52YWxpZF9yZXR1cm5fdHlwZSIsInNvbWVfaW52YWxpZF9wYXJhbWV0ZXJfdHlwZXMiLCJhcnJheSIsInZvaWRfcGFyYW0iLCJvcF9tZW1iZXIiLCJvcF9zdWJzY3JpcHRfb25lX3BhcmFtIiwicmV0dXJuVHlwZXNNYXRjaCIsImRlY2xhcmF0aW9ucyIsIm1haW5QYXJhbXMiLCJub19yZXR1cm5fdHlwZSIsIm5vbkNvdmFyaWFudFJldHVyblR5cGUiLCJkZWZpbml0aW9uX25vbl9mdW5jdGlvbl90eXBlIiwicG9pbnRlciIsInJlZmVyZW5jZSIsImludmFsaWRfcG9pbnRlZF90eXBlIiwicmVmIiwiaW52YWxpZF9yZWZlcnJlZF90eXBlIiwibWVtYmVyTm90U3VwcG9ydGVkIiwibGVuZ3RoX3JlcXVpcmVkIiwiemVyb19sZW5ndGgiLCJtdWx0aWRpbWVuc2lvbmFsX2FycmF5c191bnN1cHBvcnRlZCIsImludmFsaWRfZWxlbWVudF90eXBlIiwic2NhbGFyX2FyZ3MiLCJkZWNsVHlwZSIsImFycmF5X3N0cmluZ19saXRlcmFsIiwidGFyZ2V0VHlwZSIsImNvbnZlcnQiLCJpbml0VHlwZSIsImxpc3RfbmFycm93aW5nIiwibGlzdF9hcnJheSIsImxpc3RfbGVuZ3RoIiwibWF0Y2hpbmdfY29uc3RydWN0b3IiLCJhcmdUeXBlcyIsImRlc2MiLCJub19kZWZhdWx0X2NvbnN0cnVjdG9yIiwicmVmZXJlbmNlUHJ2YWx1ZUNvbnN0IiwicmVmZXJlbmNlVHlwZSIsInJlZmVyZW5jZUJpbmQiLCJyZWZlcmVuY2VCaW5kTXVsdGlwbGUiLCJzdHJpbmdMaXRlcmFsTGVuZ3RoIiwic3RyaW5nU2l6ZSIsImFyclNpemUiLCJ1bmluaXRpYWxpemVkIiwiZW50IiwiYXJyYXlfZGVmYXVsdF9pbml0IiwiYXJyYXlfZGlyZWN0X2luaXQiLCJPVEhFUiIsInN0b3JhZ2UiLCJvbmNlIiwic3BlYyIsImluY29tcGF0aWJsZSIsInNwZWNzIiwidHlwZVNwZWNpZmllciIsIm9uZV90eXBlIiwidHlwZU5hbWVzIiwic2lnbmVkX3Vuc2lnbmVkIiwiZnJpZW5kIiwib3V0c2lkZV9jbGFzcyIsInZpcnR1YWxfcHJvaGliaXRlZCIsInBhcmFtZXRlciIsInN0b3JhZ2VfcHJvaGliaXRlZCIsInVua25vd25fdHlwZSIsInZvaWRfcHJvaGliaXRlZCIsImRlY2xhcmF0b3IiLCJ0eXBlX21pc21hdGNoIiwibmV3RW50aXR5IiwiZXhpc3RpbmdFbnRpdHkiLCJ1bnNpZ25lZF9ub3Rfc3VwcG9ydGVkIiwidHlwZU5vdEZvdW5kIiwidHlwZU5hbWUiLCJleHByIiwiYXJyYXlfb3BlcmFuZCIsImFycmF5X29mZnNldCIsImFzc2lnbm1lbnQiLCJsaHNfbHZhbHVlIiwibGhzX2NvbnN0IiwibGhzIiwicmhzIiwic2VsZiIsImJpbmFyeSIsImFyaXRobWV0aWNfb3BlcmFuZHMiLCJvcGVyYXRvciIsImxlZnQiLCJyaWdodCIsImludGVncmFsX29wZXJhbmRzIiwiYm9vbGVhbl9vcGVyYW5kIiwib3BlcmFuZCIsImFyaXRobWV0aWNfY29tbW9uX3R5cGUiLCJ1bmFyeSIsImRlbGV0ZSIsIm5vX2Rlc3RydWN0b3IiLCJwb2ludGVyVG9PYmplY3RUeXBlIiwiZGVyZWZlcmVuY2UiLCJkb3QiLCJjbGFzc190eXBlIiwibWVtYmVyTG9va3VwIiwiYXJyb3ciLCJjbGFzc19wb2ludGVyX3R5cGUiLCJpbnZhbGlkX29wZXJhbmQiLCJsdmFsdWVfb3BlcmFuZCIsImludmFsaWRfYmluYXJ5X29wZXJhbmRzIiwibG9naWNhbE5vdCIsIm9wZXJhbmRfYm9vbCIsImFkZHJlc3NPZiIsImx2YWx1ZV9yZXF1aXJlZCIsInRlcm5hcnkiLCJjb25kaXRpb25fYm9vbCIsInNhbWVWYWx1ZUNhdGVnb3J5IiwidW5hcnlQbHVzIiwidW5hcnlNaW51cyIsImZ1bmN0aW9uQ2FsbCIsIm1haW4iLCJudW1QYXJhbXMiLCJpbnZhbGlkX29wZXJhbmRfZXhwcmVzc2lvbiIsInBhcmFtVHlwZSIsInBhcmFtUmVmZXJlbmNlVHlwZSIsInBhcmFtUmVmZXJlbmNlTHZhbHVlIiwibm90X2RlZmluZWQiLCJwdCIsInRoaXNFeHByIiwibWVtYmVyRnVuYyIsImlkZW4iLCJhbWJpZ3VvdXMiLCJub19tYXRjaCIsImtleXdvcmQiLCJhbHRfb3AiLCJwYXJhbSIsInRoaXNDb25zdCIsInN0bXQiLCJmdW5jdGlvbl9kZWZpbml0aW9uX3Byb2hpYml0ZWQiLCJzZWxlY3Rpb24iLCJpdGVyYXRpb24iLCJicmVha1N0YXRlbWVudCIsImxvY2F0aW9uIiwicmV0dXJuU3RhdGVtZW50IiwiZW1wdHkiLCJleHByVm9pZCIsImxpbmsiLCJsaWJyYXJ5X3Vuc3VwcG9ydGVkIiwibXVsdGlwbGVfZGVmIiwiZW50MSIsImVudDIiLCJjbGFzc19zYW1lX3Rva2VucyIsImRlZl9ub3RfZm91bmQiLCJub19tYXRjaGluZ19vdmVybG9hZCIsInByZXByb2Nlc3MiLCJyZWN1cnNpdmVJbmNsdWRlIiwiZmVhdHVyZSIsInJlZmVyZW5jZVBydmFsdWUiLCJ0ZXJuYXJ5U2FtZVR5cGUiLCJ0ZXJuYXJ5Tm9Wb2lkIiwib2JqZWN0c18xIiwiU2NvcGUiLCJlbnRpdGllcyIsImFkZERlY2xhcmVkRW50aXR5IiwibWVyZ2VJbnRvIiwiRnVuY3Rpb25FbnRpdHkiLCJsb29rdXAiLCJvcHRpb25zIiwiaW5jbHVkZXMiLCJvd24iLCJBcnJheSIsImlzQXJyYXkiLCJ2aWFibGUiLCJwYXJhbVR5cGVzXzEiLCJyZWNlaXZlclR5cGVfMSIsImZpbHRlciIsImNhbmQiLCJOYW1lc3BhY2VTY29wZSIsIkNQUEVudGl0eSIsIl9uZXh0RW50aXR5SWQiLCJOYW1lZEVudGl0eSIsIkRlY2xhcmVkRW50aXR5QmFzZSIsImRlY2wiLCJEZWNsYXJlZE9iamVjdEVudGl0eSIsIkF1dG9FbnRpdHkiLCJkZWYiLCJpc1BhcmFtZXRlciIsImRlZmluaXRpb24iLCJnZXRMb2NhbE9iamVjdCIsIkxvY2FsUmVmZXJlbmNlRW50aXR5IiwiYmluZFRvIiwiYmluZFJlZmVyZW5jZSIsInJlZmVyZW5jZUxvb2t1cCIsIlN0YXRpY0VudGl0eSIsInF1YWxpZmllZE5hbWUiLCJzdGF0aWNMb29rdXAiLCJSZXR1cm5PYmplY3RFbnRpdHkiLCJSZXR1cm5CeVJlZmVyZW5jZUVudGl0eSIsIlN0cmluZ0xpdGVyYWxFbnRpdHkiLCJvYmplY3RJbnN0YW5jZSIsIlN0cmluZ0xpdGVyYWxPYmplY3QiLCJnZXRTdHJpbmdMaXRlcmFsIiwiUGFzc0J5VmFsdWVQYXJhbWV0ZXJFbnRpdHkiLCJjYWxsZWRGdW5jdGlvbiIsIm51bSIsInRvcEZ1bmN0aW9uIiwicGFyYW1ldGVycyIsImRlY2xhcmVkRW50aXR5IiwicGFyYW1PYmoiLCJQYXNzQnlSZWZlcmVuY2VQYXJhbWV0ZXJFbnRpdHkiLCJBcnJheVN1Ym9iamVjdEVudGl0eSIsImFycmF5RW50aXR5IiwiZ2V0QXJyYXlFbGVtU3Vib2JqZWN0IiwiYXJyRGVzYyIsImNyZWF0b3IiLCJvd25lciIsIm5ld093bmVyIiwiY3JlYXRvclJ0Iiwib2JqSW5zdCIsImFsbG9jYXRlVGVtcG9yYXJ5T2JqZWN0IiwiaXNTdGF0aWNhbGx5Qm91bmQiLCJuYW1lU3RyaW5nIiwibWF0Y2hpbmdGdW5jdGlvbiIsInNlbGVjdE92ZXJsb2FkZWRFbnRpdHkiLCJvdmVybG9hZCIsInNlbGVjdE92ZXJsb2FkZWREZWZpbml0aW9uIiwiaXNNYWluIiwib3ZlcmxvYWRHcm91cCIsImZpbmQiLCJwdWxsXzEiLCJfX2ltcG9ydERlZmF1bHQiLCJyZWNlaXZlTWVzc2FnZSIsIm9ic2VydmVyIiwibXNnIiwiY2F0QWN0IiwiX2FjdCIsImNhdGVnb3J5IiwiX2RlZmF1bHQiLCJhZGRMaXN0ZW5lciIsIm9ialdpdGhPYnNlcnZhYmxlIiwibGlzdGVuZXIiLCJtZXNzYWdlUmVzcG9uc2UiLCJtZXNzYWdlQ2F0ZWdvcnkiLCJ0YXJnZXQiLCJwcm9wZXJ0eUtleSIsImRlc2NyaXB0b3IiLCJ1bml2ZXJzYWxPYnNlcnZlcnMiLCJvYnNlcnZlcnMiLCJkYXRhIiwic2lsZW50IiwibGlzdGVuZXJBZGRlZCIsInJlbW92ZUxpc3RlbmVyIiwiZGVmYXVsdCIsImxpc3RlbmVyUmVtb3ZlZCIsImNhdCIsIlNpbXVsYXRpb25fMSIsInJ1bnRpbWVFbnZpcm9ubWVudF8xIiwic3RhbmRhcmRDb252ZXJzaW9uc18xIiwibGV4aWNhbF8xIiwiZnVuY3Rpb25DYWxsXzEiLCJleHByZXNzaW9uQmFzZV8xIiwicmVhZFZhbHVlV2l0aEFsZXJ0IiwicmVhZFZhbHVlIiwiaXNWYWxpZCIsIm9iakRlc2MiLCJyYXdWYWx1ZSIsImV2ZW50T2NjdXJyZWQiLCJTaW11bGF0aW9uRXZlbnQiLCJVTkRFRklORURfQkVIQVZJT1IiLCJFeHByZXNzaW9uQ29uc3RydWN0c01hcCIsImNvbW1hX2V4cHJlc3Npb24iLCJDb21tYUV4cHJlc3Npb24iLCJjcmVhdGVGcm9tQVNUIiwidGVybmFyeV9leHByZXNzaW9uIiwiVGVybmFyeUV4cHJlc3Npb24iLCJhc3NpZ25tZW50X2V4cHJlc3Npb24iLCJBc3NpZ25tZW50RXhwcmVzc2lvbiIsImNvbXBvdW5kX2Fzc2lnbm1lbnRfZXhwcmVzc2lvbiIsIlVuc3VwcG9ydGVkRXhwcmVzc2lvbiIsImFyaXRobWV0aWNfYmluYXJ5X29wZXJhdG9yX2V4cHJlc3Npb24iLCJBcml0aG1ldGljQmluYXJ5T3BlcmF0b3JFeHByZXNzaW9uIiwicmVsYXRpb25hbF9iaW5hcnlfb3BlcmF0b3JfZXhwcmVzc2lvbiIsIlJlbGF0aW9uYWxCaW5hcnlPcGVyYXRvciIsImxvZ2ljYWxfYmluYXJ5X29wZXJhdG9yX2V4cHJlc3Npb24iLCJMb2dpY2FsQmluYXJ5T3BlcmF0b3IiLCJwb2ludGVyX3RvX21lbWJlcl9leHByZXNzaW9uIiwiY19zdHlsZV9jYXN0X2V4cHJlc3Npb24iLCJwcmVmaXhfaW5jcmVtZW50X2V4cHJlc3Npb24iLCJwcmVmaXhfZGVjcmVtZW50X2V4cHJlc3Npb24iLCJkZXJlZmVyZW5jZV9leHByZXNzaW9uIiwiYWRkcmVzc19vZl9leHByZXNzaW9uIiwidW5hcnlfcGx1c19leHByZXNzaW9uIiwidW5hcnlfbWludXNfZXhwcmVzc2lvbiIsImxvZ2ljYWxfbm90X2V4cHJlc3Npb24iLCJiaXR3aXNlX25vdF9leHByZXNzaW9uIiwic2l6ZW9mX2V4cHJlc3Npb24iLCJzaXplb2ZfdHlwZV9leHByZXNzaW9uIiwibmV3X2V4cHJlc3Npb24iLCJkZWxldGVfZXhwcmVzc2lvbiIsImRlbGV0ZV9hcnJheV9leHByZXNzaW9uIiwic3RhdGljX2Nhc3RfZXhwcmVzc2lvbiIsImR5bmFtaWNfY2FzdF9leHByZXNzaW9uIiwicmVpbnRlcnByZXRfY2FzdF9leHByZXNzaW9uIiwiY29uc3RfY2FzdF9leHByZXNzaW9uIiwic3Vic2NyaXB0X2V4cHJlc3Npb24iLCJmdW5jdGlvbl9jYWxsX2V4cHJlc3Npb24iLCJGdW5jdGlvbkNhbGxFeHByZXNzaW9uIiwiZG90X2V4cHJlc3Npb24iLCJhcnJvd19leHByZXNzaW9uIiwicG9zdGZpeF9pbmNyZW1lbnRfZXhwcmVzc2lvbiIsInBvc3RmaXhfZGVjcmVtZW50X2V4cHJlc3Npb24iLCJjb25zdHJ1Y3RfZXhwcmVzc2lvbiIsImlkZW50aWZpZXJfZXhwcmVzc2lvbiIsIklkZW50aWZpZXJFeHByZXNzaW9uIiwidGhpc19leHByZXNzaW9uIiwibnVtZXJpY19saXRlcmFsIiwiTnVtZXJpY0xpdGVyYWwiLCJjcmVhdGVFeHByZXNzaW9uRnJvbUFTVCIsImNvbnN0cnVjdF90eXBlIiwidW5kZWZpbmVkIiwidmFsdWVDYXRlZ29yeSIsImNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uIiwiZGVzY3JpYmVFdmFsUmVzdWx0IiwiZGVwdGgiLCJFeHByZXNzaW9uIiwiU2ltcGxlUnVudGltZUV4cHJlc3Npb24iLCJzdWJleHByZXNzaW9ucyIsInNldFN1YmV4cHJlc3Npb25zIiwib3BlcmF0ZSIsIlJ1bnRpbWVFeHByZXNzaW9uIiwiUnVudGltZUNvbW1hIiwiY29uc3RydWN0S2luZCIsInNldEV2YWxSZXN1bHQiLCJldmFsUmVzdWx0IiwidGhlbiIsIm90aGVyd2lzZSIsImlzV2VsbFR5cGVkIiwiY29tcGlsZUNvbmRpdGlvbiIsIl9hIiwiY29tcGlsZUNvbnNlcXVlbmNlcyIsInN0YW5kYXJkQ29udmVyc2lvbiIsImlzUHJ2YWx1ZSIsImlzTHZhbHVlIiwiY29udmVydFRvUFJWYWx1ZSIsIlJ1bnRpbWVUZXJuYXJ5IiwiUnVudGltZUFzc2lnbm1lbnQiLCJpc1RhaWxDaGlsZCIsImlzVGFpbCIsInJlYXNvbiIsIm90aGVycyIsIndyaXRlVmFsdWUiLCJhZGQiLCJzdWIiLCJtdWx0IiwiaW50RGl2IiwiZmxvYXREaXYiLCJtb2QiLCJsdCIsImd0IiwibHRlIiwiZ3RlIiwiZXEiLCJuZSIsImJpdEFuZCIsImJpdFhvciIsImJpdE9yIiwiYml0U2hpZnRMZWZ0IiwiYml0U2hpZnRSaWdodCIsIkJpbmFyeU9wZXJhdG9yIiwiUnVudGltZUJpbmFyeU9wZXJhdG9yIiwiQVJJVEhNRVRJQ19CSU5BUllfT1BFUkFUSU9OUyIsIisiLCJjb21iaW5lIiwiLSIsIioiLCIvIiwiJSIsIiYiLCJeIiwifCIsIjw8IiwiPj4iLCJpc0FyaXRobWV0aWNUeXBlZCIsImlzSW50ZWdyYWxUeXBlZCIsInVzdWFsQXJpdGhtZXRpY0NvbnZlcnNpb25zIiwiY29udmVydGVkTGVmdCIsImNvbnZlcnRlZFJpZ2h0Iiwib3AiLCJpc1BvaW50ZXJUeXBlZCIsImlzQm91bmRlZEFycmF5VHlwZWQiLCJQb2ludGVyRGlmZmVyZW5jZSIsIlBvaW50ZXJPZmZzZXQiLCJSdW50aW1lQXJpdGhtZXRpY0JpbmFyeU9wZXJhdG9yIiwiUnVudGltZVBvaW50ZXJEaWZmZXJlbmNlIiwicmVzdWx0IiwicG9pbnRlckRpZmZlcmVuY2UiLCJsZWZ0QXJyIiwicmlnaHRBcnIiLCJyYXdFcXVhbHMiLCJpbnZhbGlkYXRlZCIsInBvaW50ZXJPbkxlZnQiLCJvZmZzZXQiLCJSdW50aW1lUG9pbnRlck9mZnNldCIsInBvaW50ZXJPZmZzZXQiLCJyZXN1bHRUeXBlIiwiUkVMQVRJT05BTF9CSU5BUllfT1BFUkFUSU9OUyIsIjwiLCJjb21wYXJlIiwiPiIsIjw9IiwiPj0iLCI9PSIsIiE9IiwiUnVudGltZVJlbGF0aW9uYWxCaW5hcnlPcGVyYXRvciIsImNvbXBpbGVMb2dpY2FsU3ViZXhwcmVzc2lvbiIsInN1YmV4cHIiLCJSdW50aW1lTG9naWNhbEJpbmFyeU9wZXJhdG9yIiwic2hvcnRDaXJjdWl0UmVzbHQiLCJoYXNTaG9ydENpcmN1aXRlZCIsImEiLCJiIiwiY2hlY2tJZGVudGlmaWVyIiwibG9va3VwUmVzdWx0Iiwib3ZlcmxvYWRSZXN1bHQiLCJvdmVybG9hZFJlc29sdXRpb24iLCJjb250ZXh0dWFsUmVjZWl2ZXJUeXBlIiwic2VsZWN0ZWQiLCJjYW5kaWRhdGVzIiwiY2FuZGlkYXRlIiwiaWRlbnRpZmllciIsIlJ1bnRpbWVGdW5jdGlvbklkZW50aWZpZXIiLCJSdW50aW1lT2JqZWN0SWRlbnRpZmllciIsImxpdGVyYWxKU1BhcnNlIiwicGFyc2VJbnQiLCJwYXJzZUZsb2F0IiwibGl0VmFsdWUiLCJsaXRlcmFsVHlwZXMiLCJwYXJzZU51bWVyaWNMaXRlcmFsVmFsdWVGcm9tQVNUIiwiVmFsdWUiLCJSdW50aW1lTnVtZXJpY0xpdGVyYWwiLCJQYXJlbnRoZXNlcyIsInN1YmV4cHJlc3Npb24iLCJSdW50aW1lUGFyZW50aGVzZXMiLCJJTkRFWF9QQVJFTlRIRVNFU19TVUJFWFBSRVNTSU9OUyIsIkFVWElMSUFSWV9FWFBSRVNTSU9OX0NPTlRFWFQiLCJwcm9ncmFtIiwiQXV4aWxpYXJ5RXhwcmVzc2lvbiIsInJlc3VsdENhbmRpZGF0ZXMiLCJjYW5kaWRhdGVQYXJhbVR5cGVzIiwiYXJnVHlwZSIsImNhbmRpZGF0ZVBhcmFtVHlwZSIsImF1eEFyZyIsImNvbnZlcnRlZEFyZyIsImxhc3RfMSIsIl9pc1ZhbGlkIiwiY2xvbmUiLCJ2YWx1ZVRvQ2xvbmUiLCJlcXVhbHMiLCJvdGhlclZhbHVlIiwib3RoZXJSYXdWYWx1ZSIsImNvbWJpbmVyIiwib2Zmc2V0VmFsdWUiLCJzdWJ0cmFjdCIsImNvbXBhcmVyIiwibW9kaWZ5IiwibW9kaWZpZXIiLCJ2YWx1ZVN0cmluZyIsInNldFJhd1ZhbHVlIiwiTWVtb3J5IiwiY2FwYWNpdHkiLCJzdGF0aWNDYXBhY2l0eSIsInN0YWNrQ2FwYWNpdHkiLCJmbG9vciIsImhlYXBDYXBhY2l0eSIsInN0YXRpY1N0YXJ0Iiwic3RhdGljRW5kIiwic3RhY2tTdGFydCIsInN0YWNrRW5kIiwiaGVhcFN0YXJ0IiwiaGVhcEVuZCIsInRlbXBvcmFyeVN0YXJ0IiwidGVtcG9yYXJ5Q2FwYWNpdHkiLCJ0ZW1wb3JhcnlFbmQiLCJyZXNldCIsIm9iamVjdHMiLCJzdHJpbmdMaXRlcmFsTWFwIiwic3RhdGljVG9wIiwic3RhdGljT2JqZWN0cyIsInRlbXBvcmFyeUJvdHRvbSIsIk1lbW9yeVN0YWNrIiwiaGVhcCIsIk1lbW9yeUhlYXAiLCJnZXRCeXRlIiwicmVhZEJ5dGUiLCJnZXRCeXRlcyIsInNsaWNlIiwicmVhZEJ5dGVzIiwic2V0Qnl0ZSIsIndyaXRlQnl0ZSIsInNldEJ5dGVzIiwidmFsdWVzIiwid3JpdGVCeXRlcyIsInB0ciIsImdldEFycmF5RWxlbVN1Ym9iamVjdEJ5QWRkcmVzcyIsIkludmFsaWRPYmplY3QiLCJhbGxvY2F0ZU9iamVjdCIsImtpbGxPYmplY3QiLCJraWxsZXIiLCJraWxsIiwiYWxsb2NhdGVTdHJpbmdMaXRlcmFsIiwic3RyaW5nTGl0ZXJhbEVudGl0eSIsInNldFZhbHVlIiwiU3RhdGljT2JqZWN0Iiwic3RhdGljRW50aXR5IiwidGVtcEVudGl0eSIsIlRlbXBvcmFyeU9iamVjdCIsInRvcCIsImZyYW1lcyIsInRvcEZyYW1lIiwicnRGdW5jIiwiZnJhbWUiLCJNZW1vcnlGcmFtZSIsInBvcEZyYW1lIiwiYm90dG9tIiwib2JqZWN0TWFwIiwibG9jYWxPYmplY3RzQnlFbnRpdHlJZCIsImxvY2FsUmVmZXJlbmNlc0J5RW50aXR5SWQiLCJvYmpFbnRpdHkiLCJBdXRvT2JqZWN0IiwiY29udmVyc2lvbkxlbmd0aCIsImlzVHlwZWQiLCJpc09iamVjdFR5cGVkIiwiaXNBdG9taWNUeXBlZCIsImlzRmxvYXRpbmdQb2ludFR5cGVkIiwiaXNSZWZlcmVuY2VUeXBlZCIsImlzQ2xhc3NUeXBlZCIsImlzQXJyYXlPZlVua25vd25Cb3VuZFR5cGVkIiwiaXNHZW5lcmljQXJyYXlUeXBlZCIsImFsbFdlbGxUeXBlZCIsImV4cHJlc3Npb25zIiwiZXZlcnkiLCJhbGxPYmplY3RUeXBlZCIsIk9iamVjdERhdGEiLCJBdG9taWNPYmplY3REYXRhIiwibmV3VmFsdWUiLCJ3cml0ZSIsIkFycmF5T2JqZWN0RGF0YSIsInN1YkFkZHIiLCJlbGVtT2JqZWN0cyIsIkFycmF5U3Vib2JqZWN0IiwiQ2xhc3NPYmplY3REYXRhIiwiQ1BQT2JqZWN0Iiwic3Vib2JqZWN0VmFsdWVXcml0dGVuIiwiZGVhbGxvY2F0ZWRCeSIsImdldFBvaW50ZXJUbyIsImdldFZhbHVlIiwicmVhZCIsInZhbCIsImdldFJhd1ZhbHVlIiwib25WYWx1ZVNldCIsImNhbGxSZWNlaXZlZCIsImNhbGxFbmRlZCIsInNldFZhbGlkaXR5IiwidmFsaWQiLCJNYWluUmV0dXJuT2JqZWN0IiwiRHluYW1pY09iamVjdCIsIlRoaXNPYmplY3QiLCJTdWJvYmplY3QiLCJjb250YWluaW5nT2JqZWN0IiwiYXJyT2JqIiwiQmFzZVN1Ym9iamVjdCIsIk1lbWJlclN1Ym9iamVjdCIsInBhcmVudERlc2MiLCJLRVlXT1JEUyIsIkFMVF9PUFMiLCJzcmMiLCJub3RlSGFuZGxlciIsImVsZW0iLCJjcmVhdGVGdWxseVF1YWxpZmllZE5hbWUiLCJuYW1lcyIsIl9pIiwiZnVsbHlRdWFsaWZpZWROYW1lVG9VbnF1YWxpZmllZCIsImZxbmFtZSIsImxhc3RJbmRleE9mIiwiZXhwcmVzc2lvbnNfMSIsIkltcGxpY2l0Q29udmVyc2lvbiIsIlJ1bnRpbWVJbXBsaWNpdENvbnZlcnNpb24iLCJMVmFsdWVUb1JWYWx1ZSIsImZyb21FdmFsUmVzdWx0IiwiQXJyYXlUb1BvaW50ZXIiLCJUeXBlQ29udmVyc2lvbiIsIk5vT3BUeXBlQ29udmVyc2lvbiIsIk51bGxQb2ludGVyQ29udmVyc2lvbiIsIlBvaW50ZXJDb252ZXJzaW9uIiwiUG9pbnRlclRvQm9vbGVhbkNvbnZlcnNpb24iLCJJbnRlZ3JhbFByb21vdGlvbiIsIkludGVncmFsQ29udmVyc2lvbiIsIkZsb2F0aW5nUG9pbnRQcm9tb3Rpb24iLCJGbG9hdGluZ1BvaW50Q29udmVyc2lvbiIsIkludGVncmFsVG9GbG9hdGluZ0NvbnZlcnNpb24iLCJGbG9hdGluZ1RvSW50ZWdyYWxDb252ZXJzaW9uIiwiUXVhbGlmaWNhdGlvbkNvbnZlcnNpb24iLCJ0eXBlQ29udmVyc2lvbiIsInF1YWxpZmljYXRpb25Db252ZXJzaW9uIiwiaW50ZWdyYWxQcm9tb3Rpb24iLCJzdXBwcmVzc0xUUiIsImZyb21QcnZhbHVlIiwibGVmdE9yaWciLCJyaWdodE9yaWciLCJJbml0aWFsaXplciIsIlJ1bnRpbWVJbml0aWFsaXplciIsIkRlZmF1bHRJbml0aWFsaXplciIsIlJlZmVyZW5jZURlZmF1bHRJbml0aWFsaXplciIsIkF0b21pY0RlZmF1bHRJbml0aWFsaXplciIsIkFycmF5RGVmYXVsdEluaXRpYWxpemVyIiwiUnVudGltZURlZmF1bHRJbml0aWFsaXplciIsIlJ1bnRpbWVBdG9taWNEZWZhdWx0SW5pdGlhbGl6ZXIiLCJ0YXJnZXREZXNjIiwiZWxlbWVudEluaXRpYWxpemVycyIsImVsZW1Jbml0IiwiUnVudGltZUFycmF5RGVmYXVsdEluaXRpYWxpemVyIiwiRGlyZWN0SW5pdGlhbGl6ZXIiLCJhcmdzIiwiUmVmZXJlbmNlRGlyZWN0SW5pdGlhbGl6ZXIiLCJBdG9taWNEaXJlY3RJbml0aWFsaXplciIsIlJ1bnRpbWVEaXJlY3RJbml0aWFsaXplciIsImFyZyIsIlJ1bnRpbWVSZWZlcmVuY2VEaXJlY3RJbml0aWFsaXplciIsInJoc0Rlc2MiLCJhbHJlYWR5UHVzaGVkIiwicnRSZWYiLCJ0eXBlZEFyZyIsIlJ1bnRpbWVBdG9taWNEaXJlY3RJbml0aWFsaXplciIsIkNvcHlJbml0aWFsaXplciIsIlJ1bnRpbWVDb3B5SW5pdGlhbGl6ZXIiLCJSZWZlcmVuY2VDb3B5SW5pdGlhbGl6ZXIiLCJSdW50aW1lUmVmZXJlbmNlQ29weUluaXRpYWxpemVyIiwiQXRvbWljQ29weUluaXRpYWxpemVyIiwiUnVudGltZUF0b21pY0NvcHlJbml0aWFsaXplciIsImluaXRpYWxpemVyc18xIiwic3RhdGVtZW50c18xIiwiU3RvcmFnZVNwZWNpZmllciIsIm51bVNwZWNzIiwic3RhdGljIiwiZXh0ZXJuIiwidGhyZWFkX2xvY2FsIiwicmVnaXN0ZXIiLCJtdXRhYmxlIiwiaXNFbXB0eSIsIlR5cGVTcGVjaWZpZXIiLCJlbnVtIiwibWF0Y2hlZFNwZWMiLCJ1bnNpZ25lZCIsInNpZ25lZCIsImNvbnN0Iiwidm9sYXRpbGUiLCJjcmVhdGVTaW1wbGVEZWNsYXJhdGlvbkZyb21BU1QiLCJ0eXBlU3BlYyIsInR5cGVTcGVjcyIsImJhc2VUeXBlIiwic3RvcmFnZVNwZWMiLCJzdG9yYWdlU3BlY3MiLCJkZWNsYXJhdG9ycyIsImRlY2xBU1QiLCJEZWNsYXJhdG9yIiwiZGVjbGFyZWRUeXBlIiwiRnJpZW5kRGVjbGFyYXRpb24iLCJ0eXBlZGVmIiwiVHlwZWRlZkRlY2xhcmF0aW9uIiwiVm9pZERlY2xhcmF0aW9uIiwiRnVuY3Rpb25EZWNsYXJhdGlvbiIsIlVua25vd25Cb3VuZEFycmF5RGVjbGFyYXRpb24iLCJMb2NhbFZhcmlhYmxlRGVmaW5pdGlvbiIsIkdsb2JhbE9iamVjdERlZmluaXRpb24iLCJzZXREaXJlY3RJbml0aWFsaXplciIsInNldENvcHlJbml0aWFsaXplciIsInNldERlZmF1bHRJbml0aWFsaXplciIsIlVua25vd25UeXBlRGVjbGFyYXRpb24iLCJjcmVhdGVEZWNsYXJhdGlvbkZyb21BU1QiLCJGdW5jdGlvbkRlZmluaXRpb24iLCJTaW1wbGVEZWNsYXJhdGlvbiIsIm90aGVyU3BlY3MiLCJzdG9yYWdlU3BlY2lmaWVyIiwib3RoZXJTcGVjaWZpZXJzIiwidmlydHVhbCIsImluaXRpYWxpemVyQWxsb3dlZCIsImlzRGVmaW5pdGlvbiIsInBhcmFtZXRlckRlY2xhcmF0b3JzIiwiZSIsInJlZ2lzdGVyTGlua2VkRW50aXR5IiwiVmFyaWFibGVEZWZpbml0aW9uIiwic2V0SW5pdGlhbGl6ZXIiLCJzZXRJbml0aWFsaXplckxpc3QiLCJyZWdpc3Rlckdsb2JhbE9iamVjdERlZmluaXRpb24iLCJQYXJhbWV0ZXJEZWZpbml0aW9uIiwicHVyZVZpcnR1YWwiLCJpc1B1cmVWaXJ0dWFsIiwiZGV0ZXJtaW5lTmFtZUFuZFR5cGUiLCJ0ZW1wRGVjbCIsImlzSW5uZXJtb3N0IiwicG9zdGZpeGVzIiwiYXJlUG9zdGZpeGVzSW5uZXJtb3N0IiwicG9zdGZpeCIsInBhcmFtRGVjbGFyYXRvcnMiLCJhcmdBU1QiLCJjb250YWluaW5nQ2xhc3MiLCJPVkVSTE9BREFCTEVfT1BTIiwicmVnaXN0ZXJGdW5jdGlvbkRlZmluaXRpb24iLCJmdW5jdGlvbkNvbnRleHQiLCJCbG9jayIsImJvZHlDb250ZXh0IiwiYmxvY2tDb250ZXh0IiwicGFyYW1EZWNsYXJhdG9yIiwic3RhdGVtZW50cyIsInNOb2RlIiwiYWRkU3RhdGVtZW50IiwiY3JlYXRlU3RhdGVtZW50RnJvbUFTVCIsImNyZWF0ZVJ1bnRpbWVGdW5jdGlvbiIsImciLCJGdW5jdGlvbiIsImV2YWwiLCJ3aW5kb3ciLCJmcmVlR2xvYmFsIiwiZnJlZVNlbGYiLCJyb290IiwiZGVjbGFyYXRpb25zXzEiLCJTdGF0ZW1lbnRDb25zdHJ1Y3RzTWFwIiwibGFiZWxlZF9zdGF0ZW1lbnQiLCJVbnN1cHBvcnRlZFN0YXRlbWVudCIsImNvbXBvdW5kX3N0YXRlbWVudCIsInNlbGVjdGlvbl9zdGF0ZW1lbnQiLCJ3aGlsZV9zdGF0ZW1lbnQiLCJkb3doaWxlX3N0YXRlbWVudCIsImZvcl9zdGF0ZW1lbnQiLCJicmVha19zdGF0ZW1lbnQiLCJjb250aW51ZV9zdGF0ZW1lbnQiLCJyZXR1cm5fc3RhdGVtZW50IiwiUmV0dXJuU3RhdGVtZW50IiwiZGVjbGFyYXRpb25fc3RhdGVtZW50IiwiRGVjbGFyYXRpb25TdGF0ZW1lbnQiLCJleHByZXNzaW9uX3N0YXRlbWVudCIsIkV4cHJlc3Npb25TdGF0ZW1lbnQiLCJudWxsX3N0YXRlbWVudCIsIk51bGxTdGF0ZW1lbnQiLCJTdGF0ZW1lbnQiLCJSdW50aW1lU3RhdGVtZW50IiwiZXhwcmVzc2lvbiIsIlJ1bnRpbWVFeHByZXNzaW9uU3RhdGVtZW50IiwiUnVudGltZU51bGxTdGF0ZW1lbnQiLCJSdW50aW1lRGVjbGFyYXRpb25TdGF0ZW1lbnQiLCJpbml0aWFsaXplcnMiLCJydW50aW1lSW5pdCIsIlJ1bnRpbWVSZXR1cm5TdGF0ZW1lbnRJbmRpY2VzIiwicmV0dXJuSW5pdGlhbGl6ZXIiLCJSdW50aW1lUmV0dXJuU3RhdGVtZW50IiwiUFVTSF9JTklUSUFMSVpFUiIsIlJFVFVSTiIsImNhbGxlciIsInBvcFVudGlsIiwiY3JlYXRlQmxvY2tDb250ZXh0IiwiYmxvY2siLCJzdG10QXN0Iiwic3RhdGVtZW50IiwiUnVudGltZUJsb2NrIiwid2VicGFja1BvbHlmaWxsIiwiZGVwcmVjYXRlIiwicGF0aHMiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyIsIkxBUkdFX0FSUkFZX1NJWkUiLCJDT1JFX0VSUk9SX1RFWFQiLCJGVU5DX0VSUk9SX1RFWFQiLCJIQVNIX1VOREVGSU5FRCIsIk1BWF9NRU1PSVpFX1NJWkUiLCJQTEFDRUhPTERFUiIsIkNMT05FX0RFRVBfRkxBRyIsIkNMT05FX0ZMQVRfRkxBRyIsIkNMT05FX1NZTUJPTFNfRkxBRyIsIkNPTVBBUkVfUEFSVElBTF9GTEFHIiwiQ09NUEFSRV9VTk9SREVSRURfRkxBRyIsIldSQVBfQklORF9GTEFHIiwiV1JBUF9CSU5EX0tFWV9GTEFHIiwiV1JBUF9DVVJSWV9CT1VORF9GTEFHIiwiV1JBUF9DVVJSWV9GTEFHIiwiV1JBUF9DVVJSWV9SSUdIVF9GTEFHIiwiV1JBUF9QQVJUSUFMX0ZMQUciLCJXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyIsIldSQVBfQVJZX0ZMQUciLCJXUkFQX1JFQVJHX0ZMQUciLCJXUkFQX0ZMSVBfRkxBRyIsIkRFRkFVTFRfVFJVTkNfTEVOR1RIIiwiREVGQVVMVF9UUlVOQ19PTUlTU0lPTiIsIkhPVF9DT1VOVCIsIkhPVF9TUEFOIiwiTEFaWV9GSUxURVJfRkxBRyIsIkxBWllfTUFQX0ZMQUciLCJJTkZJTklUWSIsIk1BWF9TQUZFX0lOVEVHRVIiLCJNQVhfSU5URUdFUiIsIk5BTiIsIk1BWF9BUlJBWV9MRU5HVEgiLCJNQVhfQVJSQVlfSU5ERVgiLCJIQUxGX01BWF9BUlJBWV9MRU5HVEgiLCJ3cmFwRmxhZ3MiLCJhcmdzVGFnIiwiYXJyYXlUYWciLCJhc3luY1RhZyIsImJvb2xUYWciLCJkYXRlVGFnIiwiZG9tRXhjVGFnIiwiZXJyb3JUYWciLCJmdW5jVGFnIiwiZ2VuVGFnIiwibWFwVGFnIiwibnVtYmVyVGFnIiwibnVsbFRhZyIsIm9iamVjdFRhZyIsInByb3h5VGFnIiwicmVnZXhwVGFnIiwic2V0VGFnIiwic3RyaW5nVGFnIiwic3ltYm9sVGFnIiwidW5kZWZpbmVkVGFnIiwid2Vha01hcFRhZyIsIndlYWtTZXRUYWciLCJhcnJheUJ1ZmZlclRhZyIsImRhdGFWaWV3VGFnIiwiZmxvYXQzMlRhZyIsImZsb2F0NjRUYWciLCJpbnQ4VGFnIiwiaW50MTZUYWciLCJpbnQzMlRhZyIsInVpbnQ4VGFnIiwidWludDhDbGFtcGVkVGFnIiwidWludDE2VGFnIiwidWludDMyVGFnIiwicmVFbXB0eVN0cmluZ0xlYWRpbmciLCJyZUVtcHR5U3RyaW5nTWlkZGxlIiwicmVFbXB0eVN0cmluZ1RyYWlsaW5nIiwicmVFc2NhcGVkSHRtbCIsInJlVW5lc2NhcGVkSHRtbCIsInJlSGFzRXNjYXBlZEh0bWwiLCJSZWdFeHAiLCJyZUhhc1VuZXNjYXBlZEh0bWwiLCJyZUVzY2FwZSIsInJlRXZhbHVhdGUiLCJyZUludGVycG9sYXRlIiwicmVJc0RlZXBQcm9wIiwicmVJc1BsYWluUHJvcCIsInJlUHJvcE5hbWUiLCJyZVJlZ0V4cENoYXIiLCJyZUhhc1JlZ0V4cENoYXIiLCJyZVRyaW0iLCJyZVRyaW1TdGFydCIsInJlVHJpbUVuZCIsInJlV3JhcENvbW1lbnQiLCJyZVdyYXBEZXRhaWxzIiwicmVTcGxpdERldGFpbHMiLCJyZUFzY2lpV29yZCIsInJlRXNjYXBlQ2hhciIsInJlRXNUZW1wbGF0ZSIsInJlRmxhZ3MiLCJyZUlzQmFkSGV4IiwicmVJc0JpbmFyeSIsInJlSXNIb3N0Q3RvciIsInJlSXNPY3RhbCIsInJlSXNVaW50IiwicmVMYXRpbiIsInJlTm9NYXRjaCIsInJlVW5lc2NhcGVkU3RyaW5nIiwicnNDb21ib1JhbmdlIiwicnNDb21ib01hcmtzUmFuZ2UiLCJyc0JyZWFrUmFuZ2UiLCJyc01hdGhPcFJhbmdlIiwicnNBc3RyYWwiLCJyc0JyZWFrIiwicnNDb21ibyIsInJzRGlnaXRzIiwicnNEaW5nYmF0IiwicnNMb3dlciIsInJzTWlzYyIsInJzRml0eiIsInJzTm9uQXN0cmFsIiwicnNSZWdpb25hbCIsInJzU3VyclBhaXIiLCJyc1VwcGVyIiwicnNNaXNjTG93ZXIiLCJyc01pc2NVcHBlciIsInJlT3B0TW9kIiwicnNTZXEiLCJyc0Vtb2ppIiwicnNTeW1ib2wiLCJyZUFwb3MiLCJyZUNvbWJvTWFyayIsInJlVW5pY29kZSIsInJlVW5pY29kZVdvcmQiLCJyZUhhc1VuaWNvZGUiLCJyZUhhc1VuaWNvZGVXb3JkIiwiY29udGV4dFByb3BzIiwidGVtcGxhdGVDb3VudGVyIiwidHlwZWRBcnJheVRhZ3MiLCJjbG9uZWFibGVUYWdzIiwic3RyaW5nRXNjYXBlcyIsIlxcIiwiJyIsIlxuIiwiXHIiLCLigKgiLCLigKkiLCJmcmVlUGFyc2VGbG9hdCIsImZyZWVQYXJzZUludCIsImdsb2JhbCIsImZyZWVFeHBvcnRzIiwibm9kZVR5cGUiLCJmcmVlTW9kdWxlIiwibW9kdWxlRXhwb3J0cyIsImZyZWVQcm9jZXNzIiwicHJvY2VzcyIsIm5vZGVVdGlsIiwidHlwZXMiLCJyZXF1aXJlIiwiYmluZGluZyIsIm5vZGVJc0FycmF5QnVmZmVyIiwiaXNBcnJheUJ1ZmZlciIsIm5vZGVJc0RhdGUiLCJpc0RhdGUiLCJub2RlSXNNYXAiLCJpc01hcCIsIm5vZGVJc1JlZ0V4cCIsImlzUmVnRXhwIiwibm9kZUlzU2V0IiwiaXNTZXQiLCJub2RlSXNUeXBlZEFycmF5IiwiaXNUeXBlZEFycmF5IiwidGhpc0FyZyIsImFycmF5QWdncmVnYXRvciIsInNldHRlciIsIml0ZXJhdGVlIiwiYWNjdW11bGF0b3IiLCJhcnJheUVhY2giLCJhcnJheUVhY2hSaWdodCIsImFycmF5RXZlcnkiLCJwcmVkaWNhdGUiLCJhcnJheUZpbHRlciIsInJlc0luZGV4IiwiYXJyYXlJbmNsdWRlcyIsImJhc2VJbmRleE9mIiwiYXJyYXlJbmNsdWRlc1dpdGgiLCJjb21wYXJhdG9yIiwiYXJyYXlNYXAiLCJhcnJheVB1c2giLCJhcnJheVJlZHVjZSIsImluaXRBY2N1bSIsImFycmF5UmVkdWNlUmlnaHQiLCJhcnJheVNvbWUiLCJhc2NpaVNpemUiLCJiYXNlUHJvcGVydHkiLCJiYXNlRmluZEtleSIsImNvbGxlY3Rpb24iLCJlYWNoRnVuYyIsImJhc2VGaW5kSW5kZXgiLCJmcm9tSW5kZXgiLCJmcm9tUmlnaHQiLCJzdHJpY3RJbmRleE9mIiwiYmFzZUlzTmFOIiwiYmFzZUluZGV4T2ZXaXRoIiwiYmFzZU1lYW4iLCJiYXNlU3VtIiwiYmFzZVByb3BlcnR5T2YiLCJiYXNlUmVkdWNlIiwiY3VycmVudCIsImJhc2VUaW1lcyIsImJhc2VVbmFyeSIsImJhc2VWYWx1ZXMiLCJwcm9wcyIsImNhY2hlSGFzIiwiY2FjaGUiLCJjaGFyc1N0YXJ0SW5kZXgiLCJzdHJTeW1ib2xzIiwiY2hyU3ltYm9scyIsImNoYXJzRW5kSW5kZXgiLCJkZWJ1cnJMZXR0ZXIiLCLDgCIsIsOBIiwiw4IiLCLDgyIsIsOEIiwiw4UiLCLDoCIsIsOhIiwiw6IiLCLDoyIsIsOkIiwiw6UiLCLDhyIsIsOnIiwiw5AiLCLDsCIsIsOIIiwiw4kiLCLDiiIsIsOLIiwiw6giLCLDqSIsIsOqIiwiw6siLCLDjCIsIsONIiwiw44iLCLDjyIsIsOsIiwiw60iLCLDriIsIsOvIiwiw5EiLCLDsSIsIsOSIiwiw5MiLCLDlCIsIsOVIiwiw5YiLCLDmCIsIsOyIiwiw7MiLCLDtCIsIsO1Iiwiw7YiLCLDuCIsIsOZIiwiw5oiLCLDmyIsIsOcIiwiw7kiLCLDuiIsIsO7Iiwiw7wiLCLDnSIsIsO9Iiwiw78iLCLDhiIsIsOmIiwiw54iLCLDviIsIsOfIiwixIAiLCLEgiIsIsSEIiwixIEiLCLEgyIsIsSFIiwixIYiLCLEiCIsIsSKIiwixIwiLCLEhyIsIsSJIiwixIsiLCLEjSIsIsSOIiwixJAiLCLEjyIsIsSRIiwixJIiLCLElCIsIsSWIiwixJgiLCLEmiIsIsSTIiwixJUiLCLElyIsIsSZIiwixJsiLCLEnCIsIsSeIiwixKAiLCLEoiIsIsSdIiwixJ8iLCLEoSIsIsSjIiwixKQiLCLEpiIsIsSlIiwixKciLCLEqCIsIsSqIiwixKwiLCLEriIsIsSwIiwixKkiLCLEqyIsIsStIiwixK8iLCLEsSIsIsS0IiwixLUiLCLEtiIsIsS3IiwixLgiLCLEuSIsIsS7IiwixL0iLCLEvyIsIsWBIiwixLoiLCLEvCIsIsS+IiwixYAiLCLFgiIsIsWDIiwixYUiLCLFhyIsIsWKIiwixYQiLCLFhiIsIsWIIiwixYsiLCLFjCIsIsWOIiwixZAiLCLFjSIsIsWPIiwixZEiLCLFlCIsIsWWIiwixZgiLCLFlSIsIsWXIiwixZkiLCLFmiIsIsWcIiwixZ4iLCLFoCIsIsWbIiwixZ0iLCLFnyIsIsWhIiwixaIiLCLFpCIsIsWmIiwixaMiLCLFpSIsIsWnIiwixagiLCLFqiIsIsWsIiwixa4iLCLFsCIsIsWyIiwixakiLCLFqyIsIsWtIiwixa8iLCLFsSIsIsWzIiwixbQiLCLFtSIsIsW2IiwixbciLCLFuCIsIsW5IiwixbsiLCLFvSIsIsW6IiwixbwiLCLFviIsIsSyIiwixLMiLCLFkiIsIsWTIiwixYkiLCLFvyIsImVzY2FwZUh0bWxDaGFyIiwiXCIiLCJlc2NhcGVTdHJpbmdDaGFyIiwiY2hyIiwiaGFzVW5pY29kZSIsInN0cmluZyIsInRlc3QiLCJtYXBUb0FycmF5Iiwib3ZlckFyZyIsInRyYW5zZm9ybSIsInJlcGxhY2VIb2xkZXJzIiwicGxhY2Vob2xkZXIiLCJzYWZlR2V0Iiwic2V0VG9BcnJheSIsInNldCIsInNldFRvUGFpcnMiLCJsYXN0SW5kZXgiLCJ1bmljb2RlU2l6ZSIsInN0cmluZ1RvQXJyYXkiLCJtYXRjaCIsInVuaWNvZGVUb0FycmF5IiwiYXNjaWlUb0FycmF5IiwidW5lc2NhcGVIdG1sQ2hhciIsIiZhbXA7IiwiJmx0OyIsIiZndDsiLCImcXVvdDsiLCImIzM5OyIsIl8iLCJydW5JbkNvbnRleHQiLCJkZWZhdWx0cyIsInBpY2siLCJEYXRlIiwiVHlwZUVycm9yIiwiYXJyYXlQcm90byIsImZ1bmNQcm90byIsIm9iamVjdFByb3RvIiwiY29yZUpzRGF0YSIsImZ1bmNUb1N0cmluZyIsImlkQ291bnRlciIsIm1hc2tTcmNLZXkiLCJ1aWQiLCJleGVjIiwia2V5cyIsIklFX1BST1RPIiwibmF0aXZlT2JqZWN0VG9TdHJpbmciLCJvYmplY3RDdG9yU3RyaW5nIiwib2xkRGFzaCIsInJlSXNOYXRpdmUiLCJCdWZmZXIiLCJVaW50OEFycmF5IiwiYWxsb2NVbnNhZmUiLCJnZXRQcm90b3R5cGUiLCJnZXRQcm90b3R5cGVPZiIsIm9iamVjdENyZWF0ZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwic3BsaWNlIiwic3ByZWFkYWJsZVN5bWJvbCIsImlzQ29uY2F0U3ByZWFkYWJsZSIsInN5bUl0ZXJhdG9yIiwiaXRlcmF0b3IiLCJzeW1Ub1N0cmluZ1RhZyIsImdldE5hdGl2ZSIsImN0eENsZWFyVGltZW91dCIsImNsZWFyVGltZW91dCIsImN0eE5vdyIsIm5vdyIsImN0eFNldFRpbWVvdXQiLCJzZXRUaW1lb3V0IiwibmF0aXZlQ2VpbCIsImNlaWwiLCJuYXRpdmVGbG9vciIsIm5hdGl2ZUdldFN5bWJvbHMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJuYXRpdmVJc0J1ZmZlciIsImlzQnVmZmVyIiwibmF0aXZlSXNGaW5pdGUiLCJpc0Zpbml0ZSIsIm5hdGl2ZUpvaW4iLCJuYXRpdmVLZXlzIiwibmF0aXZlTWF4IiwibmF0aXZlTWluIiwibmF0aXZlTm93IiwibmF0aXZlUGFyc2VJbnQiLCJuYXRpdmVSYW5kb20iLCJuYXRpdmVSZXZlcnNlIiwicmV2ZXJzZSIsIkRhdGFWaWV3IiwiTWFwIiwiUHJvbWlzZSIsIldlYWtNYXAiLCJuYXRpdmVDcmVhdGUiLCJtZXRhTWFwIiwicmVhbE5hbWVzIiwiZGF0YVZpZXdDdG9yU3RyaW5nIiwidG9Tb3VyY2UiLCJtYXBDdG9yU3RyaW5nIiwicHJvbWlzZUN0b3JTdHJpbmciLCJzZXRDdG9yU3RyaW5nIiwid2Vha01hcEN0b3JTdHJpbmciLCJzeW1ib2xQcm90byIsInN5bWJvbFZhbHVlT2YiLCJ2YWx1ZU9mIiwic3ltYm9sVG9TdHJpbmciLCJsb2Rhc2giLCJpc09iamVjdExpa2UiLCJMYXp5V3JhcHBlciIsIkxvZGFzaFdyYXBwZXIiLCJ3cmFwcGVyQ2xvbmUiLCJiYXNlQ3JlYXRlIiwicHJvdG8iLCJpc09iamVjdCIsImJhc2VMb2Rhc2giLCJjaGFpbkFsbCIsIl9fd3JhcHBlZF9fIiwiX19hY3Rpb25zX18iLCJfX2NoYWluX18iLCJfX2luZGV4X18iLCJfX3ZhbHVlc19fIiwiX19kaXJfXyIsIl9fZmlsdGVyZWRfXyIsIl9faXRlcmF0ZWVzX18iLCJfX3Rha2VDb3VudF9fIiwiX192aWV3c19fIiwiSGFzaCIsImVudHJpZXMiLCJjbGVhciIsImVudHJ5IiwiTGlzdENhY2hlIiwiTWFwQ2FjaGUiLCJTZXRDYWNoZSIsIl9fZGF0YV9fIiwiU3RhY2siLCJhcnJheUxpa2VLZXlzIiwiaW5oZXJpdGVkIiwiaXNBcnIiLCJpc0FyZyIsImlzQXJndW1lbnRzIiwiaXNCdWZmIiwic2tpcEluZGV4ZXMiLCJpc0luZGV4IiwiYXJyYXlTYW1wbGUiLCJiYXNlUmFuZG9tIiwiYXJyYXlTYW1wbGVTaXplIiwic2h1ZmZsZVNlbGYiLCJjb3B5QXJyYXkiLCJiYXNlQ2xhbXAiLCJhcnJheVNodWZmbGUiLCJhc3NpZ25NZXJnZVZhbHVlIiwiYmFzZUFzc2lnblZhbHVlIiwiYXNzaWduVmFsdWUiLCJvYmpWYWx1ZSIsImFzc29jSW5kZXhPZiIsImJhc2VBZ2dyZWdhdG9yIiwiYmFzZUVhY2giLCJiYXNlQXNzaWduIiwiY29weU9iamVjdCIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiYmFzZUF0Iiwic2tpcCIsIm51bWJlciIsImxvd2VyIiwidXBwZXIiLCJiYXNlQ2xvbmUiLCJiaXRtYXNrIiwiY3VzdG9taXplciIsImlzRGVlcCIsImlzRmxhdCIsImlzRnVsbCIsImNvbnN0cnVjdG9yIiwiaW5wdXQiLCJpbml0Q2xvbmVBcnJheSIsInRhZyIsImdldFRhZyIsImlzRnVuYyIsImNsb25lQnVmZmVyIiwiaW5pdENsb25lT2JqZWN0IiwiZ2V0U3ltYm9sc0luIiwiY29weVN5bWJvbHNJbiIsImtleXNJbiIsImJhc2VBc3NpZ25JbiIsImdldFN5bWJvbHMiLCJjb3B5U3ltYm9scyIsIkN0b3IiLCJjbG9uZUFycmF5QnVmZmVyIiwiZGF0YVZpZXciLCJidWZmZXIiLCJieXRlT2Zmc2V0IiwiYnl0ZUxlbmd0aCIsImNsb25lRGF0YVZpZXciLCJjbG9uZVR5cGVkQXJyYXkiLCJyZWdleHAiLCJjbG9uZVJlZ0V4cCIsInN5bWJvbCIsImNsb25lU3ltYm9sIiwiaW5pdENsb25lQnlUYWciLCJzdGFja2VkIiwic3ViVmFsdWUiLCJnZXRBbGxLZXlzSW4iLCJnZXRBbGxLZXlzIiwiYmFzZUNvbmZvcm1zVG8iLCJiYXNlRGVsYXkiLCJiYXNlRGlmZmVyZW5jZSIsImlzQ29tbW9uIiwidmFsdWVzTGVuZ3RoIiwib3V0ZXIiLCJjb21wdXRlZCIsInZhbHVlc0luZGV4IiwidGVtcGxhdGVTZXR0aW5ncyIsImVzY2FwZSIsImV2YWx1YXRlIiwiaW50ZXJwb2xhdGUiLCJ2YXJpYWJsZSIsImltcG9ydHMiLCJoYXNoIiwiZ2V0TWFwRGF0YSIsInBhaXJzIiwiY3JlYXRlQmFzZUVhY2giLCJiYXNlRm9yT3duIiwiYmFzZUVhY2hSaWdodCIsImJhc2VGb3JPd25SaWdodCIsImJhc2VFdmVyeSIsImJhc2VFeHRyZW11bSIsImlzU3ltYm9sIiwiYmFzZUZpbHRlciIsImJhc2VGbGF0dGVuIiwiaXNTdHJpY3QiLCJpc0ZsYXR0ZW5hYmxlIiwiYmFzZUZvciIsImNyZWF0ZUJhc2VGb3IiLCJiYXNlRm9yUmlnaHQiLCJiYXNlRnVuY3Rpb25zIiwiaXNGdW5jdGlvbiIsImJhc2VHZXQiLCJwYXRoIiwiY2FzdFBhdGgiLCJ0b0tleSIsImJhc2VHZXRBbGxLZXlzIiwia2V5c0Z1bmMiLCJzeW1ib2xzRnVuYyIsImJhc2VHZXRUYWciLCJpc093biIsInVubWFza2VkIiwiZ2V0UmF3VGFnIiwib2JqZWN0VG9TdHJpbmciLCJiYXNlR3QiLCJiYXNlSGFzIiwiYmFzZUhhc0luIiwiYmFzZUludGVyc2VjdGlvbiIsImFycmF5cyIsIm90aExlbmd0aCIsIm90aEluZGV4IiwiY2FjaGVzIiwibWF4TGVuZ3RoIiwiSW5maW5pdHkiLCJzZWVuIiwiYmFzZUludm9rZSIsImxhc3QiLCJiYXNlSXNBcmd1bWVudHMiLCJiYXNlSXNFcXVhbCIsImVxdWFsRnVuYyIsIm9iaklzQXJyIiwib3RoSXNBcnIiLCJvYmpUYWciLCJvdGhUYWciLCJvYmpJc09iaiIsIm90aElzT2JqIiwiaXNTYW1lVGFnIiwiZXF1YWxBcnJheXMiLCJpc1BhcnRpYWwiLCJlcXVhbEJ5VGFnIiwib2JqSXNXcmFwcGVkIiwib3RoSXNXcmFwcGVkIiwib2JqVW53cmFwcGVkIiwib3RoVW53cmFwcGVkIiwib2JqUHJvcHMiLCJvYmpMZW5ndGgiLCJza2lwQ3RvciIsIm90aFZhbHVlIiwiY29tcGFyZWQiLCJvYmpDdG9yIiwib3RoQ3RvciIsImVxdWFsT2JqZWN0cyIsImJhc2VJc0VxdWFsRGVlcCIsImJhc2VJc01hdGNoIiwibWF0Y2hEYXRhIiwibm9DdXN0b21pemVyIiwic3JjVmFsdWUiLCJiYXNlSXNOYXRpdmUiLCJpc01hc2tlZCIsImJhc2VJdGVyYXRlZSIsImlkZW50aXR5IiwiYmFzZU1hdGNoZXNQcm9wZXJ0eSIsImJhc2VNYXRjaGVzIiwiYmFzZUtleXMiLCJpc1Byb3RvdHlwZSIsImJhc2VLZXlzSW4iLCJuYXRpdmVLZXlzSW4iLCJpc1Byb3RvIiwiYmFzZUx0IiwiYmFzZU1hcCIsImlzQXJyYXlMaWtlIiwiZ2V0TWF0Y2hEYXRhIiwibWF0Y2hlc1N0cmljdENvbXBhcmFibGUiLCJpc0tleSIsImlzU3RyaWN0Q29tcGFyYWJsZSIsImhhc0luIiwiYmFzZU1lcmdlIiwic3JjSW5kZXgiLCJtZXJnZUZ1bmMiLCJpc0FycmF5TGlrZU9iamVjdCIsImlzUGxhaW5PYmplY3QiLCJ0b1BsYWluT2JqZWN0IiwiYmFzZU1lcmdlRGVlcCIsImJhc2VOdGgiLCJiYXNlT3JkZXJCeSIsIml0ZXJhdGVlcyIsIm9yZGVycyIsImdldEl0ZXJhdGVlIiwic29ydCIsImJhc2VTb3J0QnkiLCJjcml0ZXJpYSIsIm9iakNyaXRlcmlhIiwib3RoQ3JpdGVyaWEiLCJvcmRlcnNMZW5ndGgiLCJjb21wYXJlQXNjZW5kaW5nIiwib3JkZXIiLCJjb21wYXJlTXVsdGlwbGUiLCJiYXNlUGlja0J5IiwiYmFzZVNldCIsImJhc2VQdWxsQWxsIiwiYmFzZVB1bGxBdCIsImluZGV4ZXMiLCJwcmV2aW91cyIsImJhc2VVbnNldCIsImJhc2VSZXBlYXQiLCJiYXNlUmVzdCIsInNldFRvU3RyaW5nIiwib3ZlclJlc3QiLCJiYXNlU2FtcGxlIiwiYmFzZVNhbXBsZVNpemUiLCJuZXN0ZWQiLCJiYXNlU2V0RGF0YSIsImJhc2VTZXRUb1N0cmluZyIsImNvbnN0YW50IiwiYmFzZVNodWZmbGUiLCJiYXNlU2xpY2UiLCJiYXNlU29tZSIsImJhc2VTb3J0ZWRJbmRleCIsInJldEhpZ2hlc3QiLCJsb3ciLCJoaWdoIiwibWlkIiwiYmFzZVNvcnRlZEluZGV4QnkiLCJ2YWxJc05hTiIsInZhbElzTnVsbCIsInZhbElzU3ltYm9sIiwidmFsSXNVbmRlZmluZWQiLCJvdGhJc0RlZmluZWQiLCJvdGhJc051bGwiLCJvdGhJc1JlZmxleGl2ZSIsIm90aElzU3ltYm9sIiwic2V0TG93IiwiYmFzZVNvcnRlZFVuaXEiLCJiYXNlVG9OdW1iZXIiLCJiYXNlVG9TdHJpbmciLCJiYXNlVW5pcSIsImNyZWF0ZVNldCIsInNlZW5JbmRleCIsImJhc2VVcGRhdGUiLCJ1cGRhdGVyIiwiYmFzZVdoaWxlIiwiaXNEcm9wIiwiYmFzZVdyYXBwZXJWYWx1ZSIsImFjdGlvbnMiLCJhY3Rpb24iLCJiYXNlWG9yIiwiYmFzZVppcE9iamVjdCIsImFzc2lnbkZ1bmMiLCJ2YWxzTGVuZ3RoIiwiY2FzdEFycmF5TGlrZU9iamVjdCIsImNhc3RGdW5jdGlvbiIsInN0cmluZ1RvUGF0aCIsImNhc3RSZXN0IiwiY2FzdFNsaWNlIiwiYXJyYXlCdWZmZXIiLCJ0eXBlZEFycmF5IiwidmFsSXNEZWZpbmVkIiwidmFsSXNSZWZsZXhpdmUiLCJjb21wb3NlQXJncyIsInBhcnRpYWxzIiwiaG9sZGVycyIsImlzQ3VycmllZCIsImFyZ3NJbmRleCIsImFyZ3NMZW5ndGgiLCJob2xkZXJzTGVuZ3RoIiwibGVmdEluZGV4IiwibGVmdExlbmd0aCIsInJhbmdlTGVuZ3RoIiwiaXNVbmN1cnJpZWQiLCJjb21wb3NlQXJnc1JpZ2h0IiwiaG9sZGVyc0luZGV4IiwicmlnaHRJbmRleCIsInJpZ2h0TGVuZ3RoIiwiaXNOZXciLCJjcmVhdGVBZ2dyZWdhdG9yIiwiY3JlYXRlQXNzaWduZXIiLCJhc3NpZ25lciIsInNvdXJjZXMiLCJndWFyZCIsImlzSXRlcmF0ZWVDYWxsIiwiaXRlcmFibGUiLCJjcmVhdGVDYXNlRmlyc3QiLCJtZXRob2ROYW1lIiwidHJhaWxpbmciLCJjcmVhdGVDb21wb3VuZGVyIiwiY2FsbGJhY2siLCJ3b3JkcyIsImRlYnVyciIsImNyZWF0ZUN0b3IiLCJ0aGlzQmluZGluZyIsImNyZWF0ZUZpbmQiLCJmaW5kSW5kZXhGdW5jIiwiY3JlYXRlRmxvdyIsImZsYXRSZXN0IiwiZnVuY3MiLCJwcmVyZXEiLCJ0aHJ1Iiwid3JhcHBlciIsImdldEZ1bmNOYW1lIiwiZnVuY05hbWUiLCJnZXREYXRhIiwiaXNMYXppYWJsZSIsInBsYW50IiwiY3JlYXRlSHlicmlkIiwicGFydGlhbHNSaWdodCIsImhvbGRlcnNSaWdodCIsImFyZ1BvcyIsImFyeSIsImFyaXR5IiwiaXNBcnkiLCJpc0JpbmQiLCJpc0JpbmRLZXkiLCJpc0ZsaXAiLCJnZXRIb2xkZXIiLCJob2xkZXJzQ291bnQiLCJjb3VudEhvbGRlcnMiLCJuZXdIb2xkZXJzIiwiY3JlYXRlUmVjdXJyeSIsImZuIiwiYXJyTGVuZ3RoIiwib2xkQXJyYXkiLCJyZW9yZGVyIiwiY3JlYXRlSW52ZXJ0ZXIiLCJ0b0l0ZXJhdGVlIiwiYmFzZUludmVydGVyIiwiY3JlYXRlTWF0aE9wZXJhdGlvbiIsImRlZmF1bHRWYWx1ZSIsImNyZWF0ZU92ZXIiLCJhcnJheUZ1bmMiLCJjcmVhdGVQYWRkaW5nIiwiY2hhcnNMZW5ndGgiLCJjcmVhdGVSYW5nZSIsInN0ZXAiLCJ0b0Zpbml0ZSIsImJhc2VSYW5nZSIsImNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24iLCJ0b051bWJlciIsIndyYXBGdW5jIiwiaXNDdXJyeSIsIm5ld0RhdGEiLCJzZXREYXRhIiwic2V0V3JhcFRvU3RyaW5nIiwiY3JlYXRlUm91bmQiLCJwcmVjaXNpb24iLCJ0b0ludGVnZXIiLCJwYWlyIiwibm9vcCIsImNyZWF0ZVRvUGFpcnMiLCJiYXNlVG9QYWlycyIsImNyZWF0ZVdyYXAiLCJzcmNCaXRtYXNrIiwibmV3Qml0bWFzayIsImlzQ29tYm8iLCJtZXJnZURhdGEiLCJjcmVhdGVDdXJyeSIsImNyZWF0ZVBhcnRpYWwiLCJjcmVhdGVCaW5kIiwiY3VzdG9tRGVmYXVsdHNBc3NpZ25JbiIsImN1c3RvbURlZmF1bHRzTWVyZ2UiLCJjdXN0b21PbWl0Q2xvbmUiLCJhcnJWYWx1ZSIsImZsYXR0ZW4iLCJvdGhlckZ1bmMiLCJpc0tleWFibGUiLCJzdHViQXJyYXkiLCJoYXNQYXRoIiwiaGFzRnVuYyIsImlzTGVuZ3RoIiwiQXJyYXlCdWZmZXIiLCJyZXNvbHZlIiwiY3RvclN0cmluZyIsImlzTWFza2FibGUiLCJzdHViRmFsc2UiLCJvdGhlckFyZ3MiLCJzaG9ydE91dCIsImRldGFpbHMiLCJpbnNlcnRXcmFwRGV0YWlscyIsInVwZGF0ZVdyYXBEZXRhaWxzIiwiZ2V0V3JhcERldGFpbHMiLCJjb3VudCIsImxhc3RDYWxsZWQiLCJzdGFtcCIsInJlbWFpbmluZyIsInJhbmQiLCJtZW1vaXplIiwibWVtb2l6ZUNhcHBlZCIsInF1b3RlIiwic3ViU3RyaW5nIiwiZGlmZmVyZW5jZSIsImRpZmZlcmVuY2VCeSIsImRpZmZlcmVuY2VXaXRoIiwiZmluZEluZGV4IiwiZmluZExhc3RJbmRleCIsImhlYWQiLCJpbnRlcnNlY3Rpb24iLCJtYXBwZWQiLCJpbnRlcnNlY3Rpb25CeSIsImludGVyc2VjdGlvbldpdGgiLCJwdWxsIiwicHVsbEFsbCIsInB1bGxBdCIsInVuaW9uIiwidW5pb25CeSIsInVuaW9uV2l0aCIsInVuemlwIiwiZ3JvdXAiLCJ1bnppcFdpdGgiLCJ3aXRob3V0IiwieG9yIiwieG9yQnkiLCJ4b3JXaXRoIiwiemlwIiwiemlwV2l0aCIsImNoYWluIiwiaW50ZXJjZXB0b3IiLCJ3cmFwcGVyQXQiLCJjb3VudEJ5IiwiZmluZExhc3QiLCJmb3JFYWNoUmlnaHQiLCJncm91cEJ5IiwiaW52b2tlTWFwIiwia2V5QnkiLCJwYXJ0aXRpb24iLCJzb3J0QnkiLCJiZWZvcmUiLCJiaW5kS2V5IiwiZGVib3VuY2UiLCJsYXN0QXJncyIsImxhc3RUaGlzIiwibWF4V2FpdCIsInRpbWVySWQiLCJsYXN0Q2FsbFRpbWUiLCJsYXN0SW52b2tlVGltZSIsImxlYWRpbmciLCJtYXhpbmciLCJpbnZva2VGdW5jIiwidGltZSIsInNob3VsZEludm9rZSIsInRpbWVTaW5jZUxhc3RDYWxsIiwidGltZXJFeHBpcmVkIiwidHJhaWxpbmdFZGdlIiwidGltZVdhaXRpbmciLCJyZW1haW5pbmdXYWl0IiwiZGVib3VuY2VkIiwiaXNJbnZva2luZyIsImxlYWRpbmdFZGdlIiwiY2FuY2VsIiwiZmx1c2giLCJkZWZlciIsImRlbGF5IiwicmVzb2x2ZXIiLCJtZW1vaXplZCIsIkNhY2hlIiwibmVnYXRlIiwib3ZlckFyZ3MiLCJ0cmFuc2Zvcm1zIiwiZnVuY3NMZW5ndGgiLCJwYXJ0aWFsIiwicGFydGlhbFJpZ2h0IiwicmVhcmciLCJpc0Vycm9yIiwiaXNJbnRlZ2VyIiwiaXNOdW1iZXIiLCJpc1N0cmluZyIsInRvQXJyYXkiLCJuZXh0IiwiaXRlcmF0b3JUb0FycmF5IiwicmVtYWluZGVyIiwidG9MZW5ndGgiLCJpc0JpbmFyeSIsImFzc2lnbkluIiwiYXNzaWduSW5XaXRoIiwiYXNzaWduV2l0aCIsImF0IiwicHJvcHNJbmRleCIsInByb3BzTGVuZ3RoIiwiZGVmYXVsdHNEZWVwIiwibWVyZ2VXaXRoIiwiaW52ZXJ0IiwiaW52ZXJ0QnkiLCJpbnZva2UiLCJtZXJnZSIsIm9taXQiLCJiYXNlUGljayIsInBpY2tCeSIsInByb3AiLCJ0b1BhaXJzIiwidG9QYWlyc0luIiwiY2FtZWxDYXNlIiwidG9Mb3dlckNhc2UiLCJjYXBpdGFsaXplIiwidXBwZXJGaXJzdCIsImtlYmFiQ2FzZSIsImxvd2VyQ2FzZSIsImxvd2VyRmlyc3QiLCJzbmFrZUNhc2UiLCJzdGFydENhc2UiLCJ1cHBlckNhc2UiLCJ0b1VwcGVyQ2FzZSIsInBhdHRlcm4iLCJoYXNVbmljb2RlV29yZCIsInVuaWNvZGVXb3JkcyIsImFzY2lpV29yZHMiLCJhdHRlbXB0IiwiYmluZEFsbCIsIm1ldGhvZE5hbWVzIiwiZmxvdyIsImZsb3dSaWdodCIsIm1ldGhvZCIsIm1ldGhvZE9mIiwibWl4aW4iLCJvdmVyIiwib3ZlckV2ZXJ5Iiwib3ZlclNvbWUiLCJiYXNlUHJvcGVydHlEZWVwIiwicmFuZ2UiLCJyYW5nZVJpZ2h0IiwiYXVnZW5kIiwiYWRkZW5kIiwiZGl2aWRlIiwiZGl2aWRlbmQiLCJkaXZpc29yIiwibXVsdGlwbHkiLCJtdWx0aXBsaWVyIiwibXVsdGlwbGljYW5kIiwicm91bmQiLCJtaW51ZW5kIiwic3VidHJhaGVuZCIsImFmdGVyIiwiY2FzdEFycmF5IiwiY2h1bmsiLCJjb21wYWN0IiwiY29uY2F0IiwiY29uZCIsImNvbmZvcm1zIiwiYmFzZUNvbmZvcm1zIiwicHJvcGVydGllcyIsImN1cnJ5IiwiY3VycnlSaWdodCIsImRyb3AiLCJkcm9wUmlnaHQiLCJkcm9wUmlnaHRXaGlsZSIsImRyb3BXaGlsZSIsImZpbGwiLCJiYXNlRmlsbCIsImZsYXRNYXAiLCJmbGF0TWFwRGVlcCIsImZsYXRNYXBEZXB0aCIsImZsYXR0ZW5EZWVwIiwiZmxhdHRlbkRlcHRoIiwiZmxpcCIsImZyb21QYWlycyIsImZ1bmN0aW9ucyIsImZ1bmN0aW9uc0luIiwiaW5pdGlhbCIsIm1hcEtleXMiLCJtYXBWYWx1ZXMiLCJtYXRjaGVzIiwibWF0Y2hlc1Byb3BlcnR5IiwibnRoQXJnIiwib21pdEJ5Iiwib3JkZXJCeSIsInByb3BlcnR5T2YiLCJwdWxsQWxsQnkiLCJwdWxsQWxsV2l0aCIsInJlamVjdCIsInJlbW92ZSIsInJlc3QiLCJzYW1wbGVTaXplIiwic2V0V2l0aCIsInNodWZmbGUiLCJzb3J0ZWRVbmlxIiwic29ydGVkVW5pcUJ5Iiwic2VwYXJhdG9yIiwibGltaXQiLCJzcHJlYWQiLCJ0YWlsIiwidGFrZSIsInRha2VSaWdodCIsInRha2VSaWdodFdoaWxlIiwidGFrZVdoaWxlIiwidGFwIiwidGhyb3R0bGUiLCJ0b1BhdGgiLCJpc0Fyckxpa2UiLCJ1bmlxIiwidW5pcUJ5IiwidW5pcVdpdGgiLCJ1bnNldCIsInVwZGF0ZSIsInVwZGF0ZVdpdGgiLCJ2YWx1ZXNJbiIsIndyYXAiLCJ6aXBPYmplY3QiLCJ6aXBPYmplY3REZWVwIiwiZW50cmllc0luIiwiZXh0ZW5kIiwiZXh0ZW5kV2l0aCIsImNsYW1wIiwiY2xvbmVEZWVwIiwiY2xvbmVEZWVwV2l0aCIsImNsb25lV2l0aCIsImNvbmZvcm1zVG8iLCJkZWZhdWx0VG8iLCJlbmRzV2l0aCIsInBvc2l0aW9uIiwiZXNjYXBlUmVnRXhwIiwiZmluZEtleSIsImZpbmRMYXN0S2V5IiwiZm9ySW4iLCJmb3JJblJpZ2h0IiwiZm9yT3duIiwiZm9yT3duUmlnaHQiLCJpblJhbmdlIiwiYmFzZUluUmFuZ2UiLCJpc0Jvb2xlYW4iLCJpc0VsZW1lbnQiLCJpc0VxdWFsIiwiaXNFcXVhbFdpdGgiLCJpc01hdGNoIiwiaXNNYXRjaFdpdGgiLCJpc05hTiIsImlzTmF0aXZlIiwiaXNOaWwiLCJpc1NhZmVJbnRlZ2VyIiwiaXNVbmRlZmluZWQiLCJpc1dlYWtNYXAiLCJpc1dlYWtTZXQiLCJzdHJpY3RMYXN0SW5kZXhPZiIsIm1heEJ5IiwibWVhbiIsIm1lYW5CeSIsIm1pbkJ5Iiwic3R1Yk9iamVjdCIsInN0dWJTdHJpbmciLCJzdHViVHJ1ZSIsIm50aCIsIm5vQ29uZmxpY3QiLCJwYWQiLCJzdHJMZW5ndGgiLCJwYWRFbmQiLCJwYWRTdGFydCIsInJhZGl4IiwiZmxvYXRpbmciLCJ0ZW1wIiwicmVkdWNlIiwicmVkdWNlUmlnaHQiLCJyZXBlYXQiLCJzYW1wbGUiLCJzb21lIiwic29ydGVkSW5kZXgiLCJzb3J0ZWRJbmRleEJ5Iiwic29ydGVkSW5kZXhPZiIsInNvcnRlZExhc3RJbmRleCIsInNvcnRlZExhc3RJbmRleEJ5Iiwic29ydGVkTGFzdEluZGV4T2YiLCJzdGFydHNXaXRoIiwic3VtIiwic3VtQnkiLCJ0ZW1wbGF0ZSIsInNldHRpbmdzIiwiaXNFc2NhcGluZyIsImlzRXZhbHVhdGluZyIsImltcG9ydHNLZXlzIiwiaW1wb3J0c1ZhbHVlcyIsInJlRGVsaW1pdGVycyIsInNvdXJjZVVSTCIsImVzY2FwZVZhbHVlIiwiaW50ZXJwb2xhdGVWYWx1ZSIsImVzVGVtcGxhdGVWYWx1ZSIsImV2YWx1YXRlVmFsdWUiLCJ0aW1lcyIsInRvTG93ZXIiLCJ0b1NhZmVJbnRlZ2VyIiwidG9VcHBlciIsInRyaW0iLCJ0cmltRW5kIiwidHJpbVN0YXJ0IiwidHJ1bmNhdGUiLCJvbWlzc2lvbiIsInNlYXJjaCIsInN1YnN0cmluZyIsIm5ld0VuZCIsInVuZXNjYXBlIiwidW5pcXVlSWQiLCJwcmVmaXgiLCJlYWNoIiwiZWFjaFJpZ2h0IiwiZmlyc3QiLCJWRVJTSU9OIiwiaXNGaWx0ZXIiLCJ0YWtlTmFtZSIsImRyb3BOYW1lIiwiY2hlY2tJdGVyYXRlZSIsImlzVGFrZXIiLCJsb2Rhc2hGdW5jIiwicmV0VW53cmFwcGVkIiwiaXNMYXp5IiwidXNlTGF6eSIsImlzSHlicmlkIiwiaXNVbndyYXBwZWQiLCJvbmx5TGF6eSIsImNoYWluTmFtZSIsImRpciIsImlzUmlnaHQiLCJ2aWV3IiwiZ2V0VmlldyIsIml0ZXJMZW5ndGgiLCJ0YWtlQ291bnQiLCJpdGVySW5kZXgiLCJjb21taXQiLCJ3cmFwcGVkIiwidG9KU09OIiwibG9kYXNoXzEiLCJGdW5jdGlvbkNhbGwiLCJyZXR1cm5CeVZhbHVlVGFyZ2V0IiwicmVnaXN0ZXJGdW5jdGlvbkNhbGwiLCJjcmVhdGVSdW50aW1lRnVuY3Rpb25DYWxsIiwiUnVudGltZUZ1bmN0aW9uQ2FsbCIsIklOREVYX0ZVTkNUSU9OX0NBTExfUFVTSCIsIklOREVYX0ZVTkNUSU9OX0NBTExfQ0FMTCIsImZ1bmN0aW9uRGVmIiwiYXJnSW5pdGlhbGl6ZXJzIiwiYUluaXQiLCJjb250ZXh0dWFsUGFyYW1UeXBlcyIsIlJ1bnRpbWVGdW5jdGlvbkNhbGxFeHByZXNzaW9uIiwiSU5ERVhfRlVOQ1RJT05fQ0FMTF9FWFBSRVNTSU9OX09QRVJBTkQiLCJyZXRPYmoiLCJTaW11bGF0aW9uIiwiYWxlcnRzT2ZmIiwiX2V2ZW50c09jY3VycmVkIiwidW5kZWZpbmVkX2JlaGF2aW9yIiwidW5zcGVjaWZpZWRfYmVoYXZpb3IiLCJpbXBsZW1lbnRhdGlvbl9kZWZpbmVkX2JlaGF2aW9yIiwibWVtb3J5X2xlYWsiLCJhc3NlcnRpb25fZmFpbHVyZSIsImNyYXNoIiwiZXZlbnRzT2NjdXJyZWQiLCJpc1BhdXNlZCIsImV4ZWNTdGFjayIsIl9leGVjU3RhY2siLCJwZW5kaW5nTmV3cyIsImxlYWtDaGVja0luZGV4IiwiYXRFbmQiLCJhbGxvY2F0ZVN0cmluZ0xpdGVyYWxzIiwiY2FsbE1haW4iLCJnbG9iYWxPYmplY3RBbGxvY2F0b3IiLCJtYWluUmV0dXJuT2JqZWN0IiwibWFpbkZ1bmN0aW9uIiwicnVudGltZUNvbnN0cnVjdCIsInR1cyIsInRyYW5zbGF0aW9uVW5pdHMiLCJ0dU5hbWUiLCJzdHJpbmdMaXRlcmFscyIsImxpdCIsIl9zdGVwRm9yd2FyZCIsImluc3QiLCJzdGVwVG9FbmQiLCJjb3V0IiwiY29uc29sZSIsImxvZyIsImV2ZW50Iiwic2hvd0FsZXJ0IiwiYWxlcnQiLCJoYXNFdmVudE9jY3VycmVkIiwiU3ludGF4RXJyb3IiLCJleHBlY3RlZCIsImZvdW5kIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJidWlsZE1lc3NhZ2UiLCJoZXgiLCJjaCIsImxpdGVyYWxFc2NhcGUiLCJjbGFzc0VzY2FwZSIsImRlc2NyaWJlRXhwZWN0YXRpb24iLCJleHBlY3RhdGlvbiIsImVzY2FwZWRQYXJ0cyIsInBhcnRzIiwicGFydCIsImludmVydGVkIiwiZXhwZWN0ZWQxIiwiZGVzY3JpcHRpb25zIiwiZGVzY3JpYmVFeHBlY3RlZCIsImZvdW5kMSIsImRlc2NyaWJlRm91bmQiLCJwYXJzZSIsInBlZyRyZXN1bHQiLCJwZWckRkFJTEVEIiwicGVnJHN0YXJ0UnVsZUZ1bmN0aW9ucyIsInBlZyRwYXJzZXN0YXJ0IiwicGVnJHN0YXJ0UnVsZUZ1bmN0aW9uIiwicGVnJGMwIiwicGVnJGMxIiwiZGVjbHMiLCJwZWckYzIiLCJwZWckYzMiLCJwZWckYzQiLCJwZWckbGl0ZXJhbEV4cGVjdGF0aW9uIiwicGVnJGM1IiwicGVnJGM2IiwicGVnJGNsYXNzRXhwZWN0YXRpb24iLCJwZWckYzciLCJwZWckYzgiLCJwZWckYzkiLCJwZWckYzEwIiwicGVnJGMxMSIsInBlZyRjMTIiLCJwZWckYzEzIiwicGVnJGMxNCIsInRyYWNrIiwicGVnJGMxNSIsImFic29yYiIsInBlZyRjMTYiLCJwZWckYzE3IiwicGVnJGMxOCIsImxhYmVsIiwicGVnJGMxOSIsInBlZyRjMjAiLCJwZWckYzIxIiwiY2FzZSIsInBlZyRjMjIiLCJwZWckYzIzIiwicGVnJGMyNCIsInBlZyRjMjUiLCJwZWckYzI2IiwicGVnJGMyNyIsInBlZyRjMjgiLCJwZWckYzI5IiwicGVnJGMzMCIsInBlZyRjMzEiLCJwZWckYzMyIiwicGVnJGMzMyIsInBlZyRjMzQiLCJzdG10cyIsInBlZyRjMzUiLCJwZWckYzM2IiwicGVnJGMzNyIsInBlZyRjMzgiLCJwZWckYzM5IiwicGVnJGM0MCIsInBlZyRjNDEiLCJwZWckYzQyIiwicGVnJGM0MyIsInBlZyRjNDQiLCJwZWckYzQ1IiwicGVnJGM0NiIsInBlZyRjNDciLCJwZWckYzQ4IiwicGVnJGM0OSIsInBlZyRjNTAiLCJwZWckYzUxIiwicGVnJGM1MiIsInBlZyRjNTMiLCJwb3N0IiwicGVnJGM1NCIsInBlZyRjNTUiLCJwZWckYzU2IiwicGVnJGM1NyIsInBlZyRjNTgiLCJwZWckYzU5IiwicGVnJGM2MCIsInBlZyRjNjEiLCJwZWckYzYyIiwicGVnJGM2MyIsInJldCIsInBlZyRjNjQiLCJwZWckYzY1IiwicGVnJGM2NiIsInBlZyRjNjciLCJwZWckYzY4IiwicGVnJGM2OSIsInVuc2hpZnQiLCJwZWckYzcwIiwicGVnJGM3MSIsInBlZyRjNzIiLCJwZWckYzczIiwicGVnJGM3NCIsInBlZyRjNzUiLCJwZWckYzc2IiwicGVnJGM3NyIsInBlZyRjNzgiLCJwZWckYzc5IiwicGVnJGM4MCIsInBlZyRjODEiLCJwZWckYzgyIiwicGVnJGM4MyIsIm1lbWJlciIsInBlZyRjODQiLCJwZWckYzg1IiwicGVnJGM4NiIsImRlY2xTcGVjcyIsImlubGluZSIsImV4cGxpY2l0IiwicGVnJGM4NyIsInBlZyRjODgiLCJwZWckYzg5IiwicGVnJGM5MCIsInBlZyRjOTEiLCJwZWckYzkyIiwicGVnJGM5MyIsInBlZyRjOTQiLCJwZWckYzk1IiwicGVnJGM5NiIsInBlZyRjOTciLCJwZWckYzk4IiwicGVnJGM5OSIsInBlZyRjMTAwIiwicGVnJGMxMDEiLCJwZWckYzEwMiIsInBlZyRjMTAzIiwicGVnJGMxMDQiLCJwZWckYzEwNSIsInBlZyRjMTA2IiwicGVnJGMxMDciLCJwZWckYzEwOCIsInBlZyRjMTA5IiwicGVnJGMxMTAiLCJwZWckYzExMSIsInBlZyRjMTEyIiwicGVnJG90aGVyRXhwZWN0YXRpb24iLCJwZWckYzExMyIsInBlZyRjMTE0IiwicGVnJGMxMTUiLCJwZWckYzExNiIsInBlZyRjMTE3IiwicGVnJGMxMTgiLCJwZWckYzExOSIsInBlZyRjMTIwIiwicGVnJGMxMjEiLCJwZWckYzEyMiIsInBlZyRjMTIzIiwicGVnJGMxMjQiLCJwZWckYzEyNSIsInBlZyRjMTI2IiwicGVnJGMxMjciLCJwZWckYzEyOCIsInBlZyRjMTI5IiwicGVnJGMxMzAiLCJwZWckYzEzMSIsInBlZyRjMTMyIiwicGVnJGMxMzMiLCJwZWckYzEzNCIsImdldFVzZXJUeXBlTmFtZXMiLCJpc1VzZXJUeXBlTmFtZSIsInBlZyRjMTM1IiwicGVnJGMxMzYiLCJwZWckYzEzNyIsInBlZyRjMTM4IiwicGVnJGMxMzkiLCJwZWckYzE0MCIsInBlZyRjMTQxIiwicGVnJGMxNDIiLCJwZWckYzE0MyIsInBlZyRjMTQ0IiwicGVnJGMxNDUiLCJwZWckYzE0NiIsInBlZyRjMTQ3IiwicGVnJGMxNDgiLCJwZWckYzE0OSIsInBlZyRjMTUwIiwicGVnJGMxNTEiLCJwZWckYzE1MiIsInBlZyRjMTUzIiwicGVnJGMxNTQiLCJhYnN0cmFjdCIsInBlZyRjMTU1IiwicGVnJGMxNTYiLCJwZWckYzE1NyIsImN2IiwicGVnJGMxNTgiLCJwZWckYzE1OSIsInBlZyRjMTYwIiwicGVnJGMxNjEiLCJwZWckYzE2MiIsInBlZyRjMTYzIiwicGVnJGMxNjQiLCJwZWckYzE2NSIsInBlZyRjMTY2IiwicGVnJGMxNjciLCJwZWckYzE2OCIsInBlZyRjMTY5IiwicGVnJGMxNzAiLCJwZWckYzE3MSIsInBlZyRjMTcyIiwicGVnJGMxNzMiLCJwZWckYzE3NCIsInBlZyRjMTc1IiwicGVnJGMxNzYiLCJwZWckYzE3NyIsInBlZyRjMTc4IiwicGVnJGMxNzkiLCJwZWckYzE4MCIsInBlZyRjMTgxIiwicGVnJGMxODIiLCJwZWckYzE4MyIsImNvbXBvc2VCaW5hcnlPcCIsInBlZyRjMTg0IiwicGVnJGMxODUiLCJwZWckYzE4NiIsInBlZyRjMTg3IiwicGVnJGMxODgiLCJwZWckYzE4OSIsInBlZyRjMTkwIiwicGVnJGMxOTEiLCJwZWckYzE5MiIsInBlZyRjMTkzIiwicGVnJGMxOTQiLCJwZWckYzE5NSIsInBlZyRjMTk2IiwicGVnJGMxOTciLCJwZWckYzE5OCIsInBlZyRjMTk5IiwicGVnJGMyMDAiLCJwZWckYzIwMSIsInBlZyRjMjAyIiwicGVnJGMyMDMiLCJwZWckYzIwNCIsInBlZyRjMjA1IiwicGVnJGMyMDYiLCJwZWckYzIwNyIsInBlZyRjMjA4IiwicGVnJGMyMDkiLCJwZWckYzIxMCIsInBlZyRjMjExIiwicGVnJGMyMTIiLCJwZWckYzIxMyIsInBlZyRjMjE0IiwicGVnJGMyMTUiLCJwZWckYzIxNiIsInBlZyRjMjE3IiwicGVnJGMyMTgiLCJwZWckYzIxOSIsInBlZyRjMjIwIiwicGVnJGMyMjEiLCJwZWckYzIyMiIsInBlZyRjMjIzIiwicGVnJGMyMjQiLCJwZWckYzIyNSIsInBlZyRjMjI2IiwicGVnJGMyMjciLCJwZWckYzIyOCIsInBlZyRjMjI5IiwicGVnJGMyMzAiLCJwZWckYzIzMSIsInBlZyRjMjMyIiwicGVnJGMyMzMiLCJwZWckYzIzNCIsInBlZyRjMjM1IiwicGVnJGMyMzYiLCJwZWckYzIzNyIsInBlZyRjMjM4IiwicGVnJGMyMzkiLCJwZWckYzI0MCIsInBlZyRjMjQxIiwicGVnJGMyNDIiLCJwZWckYzI0MyIsInBlZyRjMjQ0IiwicGVnJGMyNDUiLCJwZWckYzI0NiIsInBlZyRjMjQ3IiwicGVnJGMyNDgiLCJwZWckYzI0OSIsInBlZyRjMjUwIiwicGVnJGMyNTEiLCJwZWckYzI1MiIsInBlZyRjMjUzIiwicGVnJGMyNTQiLCJwZWckYzI1NSIsInBlZyRjMjU2IiwicGVnJGMyNTciLCJwZWckYzI1OCIsInBlZyRjMjU5IiwicGVnJGMyNjAiLCJwZWckYzI2MSIsInBlZyRjMjYyIiwicGVnJGMyNjMiLCJwZWckYzI2NCIsInBlZyRjMjY1IiwicGVnJGMyNjYiLCJwZWckYzI2NyIsInBlZyRjMjY4IiwicGVnJGMyNjkiLCJwZWckYzI3MCIsInBlZyRjMjcxIiwicGVnJGMyNzIiLCJwZWckYzI3MyIsInBlZyRjMjc0IiwicGVnJGMyNzUiLCJwZWckYzI3NiIsInBlZyRjMjc3IiwicGVnJGMyNzgiLCJwZWckYzI3OSIsInBlZyRjMjgwIiwicGVnJGMyODEiLCJwZWckYzI4MiIsInBlZyRjMjgzIiwicGVnJGMyODQiLCJwZWckYzI4NSIsInBlZyRjMjg2IiwicGVnJGMyODciLCJwZWckYzI4OCIsInBlZyRjMjg5IiwicGVnJGMyOTAiLCJwZWckYzI5MSIsInBlZyRjMjkyIiwicGVnJGMyOTMiLCJwZWckYzI5NCIsInBlZyRjMjk1IiwicGVnJGMyOTYiLCJwZWckYzI5NyIsInBlZyRjMjk4IiwicGVnJGMyOTkiLCJwZWckYzMwMCIsInBlZyRjMzAxIiwicGVnJGMzMDIiLCJwZWckYzMwMyIsInBlZyRjMzA0IiwicGVnJGMzMDUiLCJwZWckYzMwNiIsInBlZyRjMzA3IiwicGVnJGMzMDgiLCJwZWckYzMwOSIsInBlZyRjMzEwIiwicGVnJGMzMTEiLCJwZWckYzMxMiIsInBlZyRjMzEzIiwicGVnJGMzMTQiLCJwZWckYzMxNSIsInBlZyRjMzE2IiwicGVnJGMzMTciLCJwZWckYzMxOCIsInBlZyRjMzE5IiwicGVnJGMzMjAiLCJwZWckYzMyMSIsInBlZyRjMzIyIiwicGVnJGMzMjMiLCJwZWckYzMyNCIsInBlZyRjMzI1IiwicGVnJGMzMjYiLCJwZWckYzMyNyIsInBlZyRjMzI4IiwicGVnJGMzMjkiLCJvcHMiLCJwb3N0Zml4RXhwIiwicGVnJGMzMzAiLCJwZWckYzMzMSIsInBlZyRjMzMyIiwicGVnJGMzMzMiLCJwZWckYzMzNCIsInBlZyRjMzM1IiwicGVnJGMzMzYiLCJwZWckYzMzNyIsInBlZyRjMzM4IiwicGVnJGMzMzkiLCJwZWckYzM0MCIsInBlZyRjMzQxIiwicGVnJGMzNDIiLCJwZWckYzM0MyIsInBlZyRjMzQ0IiwicGVnJGMzNDUiLCJwZWckYzM0NiIsInBlZyRjMzQ3IiwidSIsInBlZyRjMzQ4IiwicGVnJGMzNDkiLCJwZWckYzM1MCIsInBlZyRjMzUxIiwicGVnJGMzNTIiLCJwZWckYzM1MyIsInBlZyRjMzU0IiwicGVnJGMzNTUiLCJwZWckYzM1NiIsInBlZyRjMzU3IiwicGVnJGMzNTgiLCJwZWckYzM1OSIsInBlZyRjMzYwIiwicGVnJGMzNjEiLCJwZWckYzM2MiIsInBlZyRjMzYzIiwicGVnJGMzNjYiLCJwZWckYzM2NyIsInBlZyRjMzY4IiwicGVnJGMzNjkiLCJwZWckYzM3MCIsInBlZyRjMzcxIiwicGVnJGMzNzIiLCJwZWckYzM3MyIsIm5lZyIsImRpZ2l0cyIsInBlZyRjMzc0IiwicGVnJGMzNzUiLCJwZWckYzM3NiIsInBlZyRjMzc3IiwicGVnJGMzNzgiLCJwZWckYzM3OSIsInBlZyRjMzgwIiwicGVnJGMzODEiLCJwZWckYzM4MiIsInBlZyRjMzgzIiwicGVnJGMzODQiLCJwZWckYzM4NSIsInBlZyRjMzg2IiwicGVnJGMzODciLCJwZWckYzM4OCIsInBlZyRjMzg5IiwicGVnJGMzOTAiLCJwZWckYzM5MSIsInBlZyRjMzkyIiwicGVnJGMzOTMiLCJwZWckYzM5NCIsInBlZyRjMzk1IiwicGVnJGMzOTYiLCJwZWckYzM5NyIsInBlZyRjMzk4IiwicGVnJGMzOTkiLCJwZWckYzQwMCIsInBlZyRjNDAxIiwicGVnJGM0MDIiLCJwZWckYzQwMyIsInBlZyRjNDA0IiwicGVnJGM0MDUiLCJwZWckYzQwNiIsInBlZyRjNDA3IiwicGVnJGM0MDgiLCJwZWckYzQwOSIsInBlZyRjNDEwIiwicGVnJGM0MTEiLCJwZWckYzQxMiIsInBlZyRjNDEzIiwicGVnJGM0MTQiLCJwZWckYzQxNSIsInBlZyRjNDE2IiwicGVnJGM0MTciLCJwZWckYzQxOCIsInBlZyRjNDE5IiwicGVnJGM0MjAiLCJwZWckYzQyMSIsInBlZyRjNDIyIiwicGVnJGM0MjMiLCJwZWckYzQyNCIsInBlZyRjNDI1IiwicGVnJGM0MjYiLCJwZWckYzQyNyIsInBlZyRjNDI4IiwicGVnJGM0MjkiLCJwZWckYzQzMCIsInBlZyRjNDMxIiwibWVtcyIsIm1lbWJlcl9zcGVjcyIsInBlZyRjNDMyIiwicGVnJGM0MzMiLCJiYXNlcyIsInBlZyRjNDM0IiwicGVnJGM0MzUiLCJwZWckYzQzNiIsInBlZyRjNDM3IiwicGVnJGM0MzgiLCJwZWckYzQzOSIsInBlZyRjNDQwIiwicGVnJGM0NDEiLCJtZW1iZXJzIiwicGVnJGM0NDIiLCJhY2Nlc3MiLCJwZWckYzQ0MyIsInBlZyRjNDQ0IiwicGVnJGM0NDUiLCJwZWckYzQ0NiIsInBlZyRjNDQ3IiwicGVnJGM0NDgiLCJwZWckYzQ0OSIsInBlZyRjNDUwIiwicGVnJGM0NTEiLCJwZWckYzQ1MiIsInBlZyRjNDUzIiwiZiIsInBlZyRjNDU0IiwicGVnJGM0NTUiLCJwZWckYzQ1NiIsInBlZyRjNDU3IiwicGVnJGM0NTgiLCJwZWckYzQ1OSIsInBlZyRjNDYwIiwicGVnJGM0NjEiLCJwZWckYzQ2MiIsInBlZyRjNDYzIiwicGVnJGM0NjQiLCJwZWckYzQ2NSIsInBlZyRjdXJyUG9zIiwicGVnJHNhdmVkUG9zIiwicGVnJHBvc0RldGFpbHNDYWNoZSIsInBlZyRtYXhGYWlsUG9zIiwicGVnJG1heEZhaWxFeHBlY3RlZCIsInBlZyRzaWxlbnRGYWlscyIsInN0YXJ0UnVsZSIsInBlZyRjb21wdXRlTG9jYXRpb24iLCJ0ZXh0MSIsImlnbm9yZUNhc2UiLCJwZWckY29tcHV0ZVBvc0RldGFpbHMiLCJwb3MiLCJzdGFydFBvcyIsImVuZFBvcyIsInN0YXJ0UG9zRGV0YWlscyIsImVuZFBvc0RldGFpbHMiLCJwZWckZmFpbCIsInBlZyRidWlsZFN0cnVjdHVyZWRFcnJvciIsImxvY2F0aW9uMSIsInMwIiwiczIiLCJzMyIsInM0IiwicGVnJHBhcnNld3MiLCJwZWckcGFyc2VkZWNsX29yX2NvbW1lbnQiLCJzMSIsInBlZyRwYXJzZWNvbW1lbnQiLCJwZWckcGFyc2VkZWNsYXJhdGlvbiIsInM1Iiwic3Vic3RyIiwicGVnJHBhcnNlc3RhdGVtZW50IiwiczciLCJwZWckcGFyc2VpZGVudGlmaWVyIiwicGVnJHBhcnNlV1MiLCJwZWckcGFyc2VleHBfY29uc3QiLCJwZWckcGFyc2VsYWJlbGVkX3N0YXRlbWVudCIsInBlZyRwYXJzZWJsb2NrIiwiczkiLCJzMTEiLCJzMTMiLCJwZWckcGFyc2VleHByZXNzaW9uIiwicGVnJHBhcnNlc2VsZWN0aW9uX3N0YXRlbWVudCIsInM2IiwiczgiLCJzMTAiLCJzMTIiLCJzMTQiLCJzMTUiLCJwZWckcGFyc2VpZGVudGlmaWVyQ2hhciIsInBlZyRwYXJzZWV4cHJlc3Npb25fc3RhdGVtZW50IiwicGVnJHBhcnNlbnVsbF9zdGF0ZW1lbnQiLCJwZWckcGFyc2VkZWNsYXJhdGlvbl9zdGF0ZW1lbnQiLCJwZWckcGFyc2Vmb3JfaW5pdF9zdGF0ZW1lbnQiLCJwZWckcGFyc2VpdGVyYXRpb25fc3RhdGVtZW50IiwicGVnJHBhcnNlanVtcF9zdGF0ZW1lbnQiLCJwZWckcGFyc2VzdGF0ZW1lbnRfdHJhY2tlZCIsInBlZyRwYXJzZWRlY2xfc3BlY2lmaWVycyIsInBlZyRwYXJzZWRlY2xhcmF0b3JfaW5pdCIsInBlZyRwYXJzZWRlY2xhcmF0b3JfbGlzdCIsInBlZyRwYXJzZXNpbXBsZV9kZWNsYXJhdGlvbiIsInBlZyRwYXJzZWNsYXNzX2tleSIsInBlZyRwYXJzZWJhc2Vfc3BlY2lmaWVyIiwicGVnJHBhcnNlYmFzZV9zcGVjaWZpZXJfbGlzdCIsInBlZyRwYXJzZWJhc2VfY2xhdXNlIiwicGVnJHBhcnNlY2xhc3NfaGVhZCIsInBlZyRwYXJzZW1lbWJlcl9zcGVjaWZpY2F0aW9uIiwicGVnJHBhcnNlY2xhc3Nfc3BlY2lmaWVyIiwicGVnJHBhcnNlY2xhc3NfZGVjbGFyYXRpb24iLCJwZWckcGFyc2VmdW5jdGlvbl9kZWZpbml0aW9uIiwicGVnJHBhcnNlZGVjbGFyYXRvciIsInBlZyRwYXJzZWNvbnN0cnVjdG9yX2RlZmluaXRpb24iLCJwZWckcGFyc2Vhcmd1bWVudF9kZWNsYXJhdGlvbl9saXN0IiwicGVnJHBhcnNlbWVtX2luaXRpYWxpemVyIiwicGVnJHBhcnNlY3Rvcl9pbml0aWFsaXplciIsInBlZyRwYXJzZWV4cF9saXN0IiwicGVnJHBhcnNlZGVjbF9zcGVjaWZpZXIiLCJwZWckcGFyc2VzaW1wbGVfdHlwZV9uYW1lIiwicGVnJHBhcnNldHlwZV9zcGVjaWZpZXIiLCJwZWckcGFyc2VzdG9yYWdlX2NsYXNzX3NwZWNpZmllciIsInBlZyRwYXJzZWZ1bmN0aW9uX3NwZWNpZmllciIsInBlZyRwYXJzZXR5cGVfc3BlY2lmaWVycyIsInBlZyRwYXJzZWVudW1lcmF0b3IiLCJwZWckcGFyc2VlbnVtX3NwZWNpZmllciIsInBlZyRwYXJzZV9zaW1wbGVfdHlwZV9uYW1lIiwicGVnJHBhcnNlYnJhY2Vfb3JfZXF1YWxfaW5pdGlhbGl6ZXIiLCJwZWckcGFyc2Vpbml0aWFsaXplciIsInBlZyRwYXJzZWV4cF9hc3NuIiwicGVnJHBhcnNlaW5pdGlhbGl6ZXJfbGlzdCIsInBlZyRwYXJzZV9kZWNsYXJhdG9yIiwicGVnJHBhcnNlYWJzdHJhY3RfZGVjbGFyYXRvciIsInBlZyRwYXJzZV9hYnNfZGVjbGFyYXRvciIsInBlZyRwYXJzZWN2X3F1YWxpZmllciIsInBlZyRwYXJzZWRlY2xhcmF0b3Jfc2ltcGxlIiwicGVnJHBhcnNlZGVjbGFyYXRvcl9wb3N0Zml4ZXMiLCJwZWckcGFyc2VhYnNfZGVjbGFyYXRvcl9zaW1wbGUiLCJwZWckcGFyc2VkZWNsYXJhdG9yX3Bvc3RmaXgiLCJwZWckcGFyc2VuYW1lIiwicGVnJHBhcnNldHlwZV9pZCIsInBlZyRwYXJzZWFyZ3VtZW50X2RlY2xhcmF0aW9uIiwicGVnJHBhcnNlZXhwX3VuYXJ5IiwicGVnJHBhcnNlb3BfY29tcF9hc3NuIiwicGVnJHBhcnNlZXhwX2NvbmQiLCJwZWckcGFyc2VleHBfb3IiLCJwZWckcGFyc2VleHBfYW5kIiwicGVnJHBhcnNlZXhwX29yX2JpdCIsInBlZyRwYXJzZWV4cF94b3JfYml0IiwicGVnJHBhcnNlZXhwX2FuZF9iaXQiLCJwZWckcGFyc2VleHBfZXEiLCJwZWckcGFyc2VleHBfcmVsIiwicGVnJHBhcnNlZXhwX3NoaWZ0IiwicGVnJHBhcnNlb3BfcmVsIiwicGVnJHBhcnNlZXhwX2FkZCIsInBlZyRwYXJzZW9wX3NoaWZ0IiwicGVnJHBhcnNlZXhwX211bHQiLCJwZWckcGFyc2VvcF9hZGQiLCJwZWckcGFyc2VleHBfcG0iLCJwZWckcGFyc2VvcF9tdWx0IiwicGVnJHBhcnNlZXhwX2Nhc3QiLCJwZWckcGFyc2VvcF9wbSIsInBlZyRwYXJzZW9wX3VuYXJ5IiwicGVnJHBhcnNlX25ld19kZWNsYXJhdG9yIiwicGVnJHBhcnNlbmV3X2RlY2xhcmF0b3JfcG9zdGZpeCIsInBlZyRwYXJzZW5ld19kZWNsYXJhdG9yX3Bvc3RmaXhlcyIsInBlZyRwYXJzZW5ld19kZWNsYXJhdG9yIiwicGVnJHBhcnNlbmV3X3R5cGVfaWQiLCJwZWckcGFyc2VuZXdfaW5pdGlhbGl6ZXIiLCJwZWckcGFyc2VleHBfbmV3IiwicGVnJHBhcnNlZXhwX2NvbnN0cnVjdCIsInBlZyRwYXJzZWxpdGVyYWxfZmxvYXQiLCJwZWckcGFyc2VsaXRlcmFsX2ludCIsInBlZyRwYXJzZWVzY2FwZSIsInBlZyRwYXJzZWxpdGVyYWxfY2hhciIsInBlZyRwYXJzZWxpdGVyYWxfc3RyaW5nIiwicGVnJHBhcnNlbGl0ZXJhbF9ib29sZWFuIiwicGVnJHBhcnNlbGl0ZXJhbCIsInBlZyRwYXJzZW5lc3RlZF9uYW1lX3NwZWNpZmllciIsInBlZyRwYXJzZXF1YWxpZmllZF9pZCIsInBlZyRwYXJzZWV4cF9pZCIsInBlZyRwYXJzZWV4cF9wcmltYXJ5IiwicGVnJHBhcnNlb3BfcG9zdGZpeCIsInBlZyRwYXJzZWV4cF9wb3N0Zml4IiwicGVnJHBhcnNlZXhwX2RlbGV0ZSIsInBlZyRwYXJzZXR5cGVfbmFtZV9pZCIsInBlZyRwYXJzZW92ZXJsb2FkYWJsZV9vcCIsInBlZyRwYXJzZW9wZXJhdG9yX2Z1bmN0aW9uX2lkIiwicGVnJHBhcnNlc2ltcGxlX2VzY2FwZSIsInBlZyRwYXJzZW9jdGFsX2VzY2FwZSIsInBlZyRwYXJzZWlkZW50aWZpZXJGaXJzdENoYXIiLCJwZWckcGFyc2VtZW1iZXJfZGVjbGFyYXRpb24iLCJwZWckcGFyc2VhY2Nlc3Nfc3BlY2lmaWVyIiwicGVnJHBhcnNlbWVtYmVyX2RlY2xhcmF0b3IiLCJwZWckcGFyc2VtZW1iZXJfZGVjbGFyYXRvcl9saXN0IiwicGVnJHBhcnNlZGVzdHJ1Y3Rvcl9kZWZpbml0aW9uIiwicGVnJHBhcnNlcXVhbGlmaWVkX2NsYXNzX25hbWUiLCJhc3NvYyIsImV4cHJUeXBlIiwiYXNzb2NpYXRpdml0eSIsInNoaWZ0IiwiZWF0ZXIiLCJlYXRlbiIsImF0dHIiLCJfdXNlclR5cGVOYW1lcyIsImNwcF9wYXJzZXJfMSIsIk5vdGVSZWNvcmRlciIsIl9hbGxOb3RlcyIsImFsbE5vdGVzIiwiaGFzU3ludGF4RXJyb3JzIiwiaGFzV2FybmluZ3MiLCJhZGROb3RlcyIsIl90aGlzXzEiLCJjbGVhck5vdGVzIiwiUHJvZ3JhbSIsInNvdXJjZUZpbGVzIiwiaXNDb21waWxhdGlvblVwVG9EYXRlIiwiZnVuY3Rpb25DYWxscyIsImRlZmluaXRpb25zIiwibGlua2VkRW50aXRpZXMiLCJmaWxlIiwiVHJhbnNsYXRpb25Vbml0IiwiUHJlcHJvY2Vzc2VkU291cmNlIiwidHUiLCJkZWZpbmVJbnRyaW5zaWNzIiwibGUiLCJwcmV2RGVmIiwiU291cmNlRmlsZSIsIlNvdXJjZVJlZmVyZW5jZSIsInNvdXJjZUZpbGUiLCJfaW5jbHVkZXMiLCJjcmVhdGVJbmNsdWRlZCIsImxpbmVJbmNsdWRlZCIsIm9yaWdpbmFsUmVmZXJlbmNlIiwiaW5jIiwiYXZhaWxhYmxlVG9JbmNsdWRlIiwiYWxyZWFkeUluY2x1ZGVkIiwiaW5jbHVkZWRTb3VyY2VGaWxlcyIsInByaW1hcnlTb3VyY2VGaWxlIiwiY29kZVN0ciIsImZpbHRlclNvdXJjZUNvZGUiLCJjdXJyZW50SW5jbHVkZU9mZnNldCIsImN1cnJlbnRJbmNsdWRlTGluZU51bWJlciIsIm9yaWdpbmFsSW5jbHVkZUxpbmVOdW1iZXIiLCJwcmVwcm9jZXNzZWRUZXh0IiwiaW5jbHVkZUxpbmUiLCJmaWxlbmFtZSIsIm9yaWdpbmFsIiwibWFwcGluZyIsImlfMSIsInN0YXJ0TGluZSIsInN0YXJ0T2Zmc2V0IiwiaW5jbHVkZWQiLCJudW1MaW5lcyIsImVuZExpbmUiLCJsaW5lRGVsdGEiLCJsZW5ndGhEZWx0YSIsImxpbmVPZmZzZXQiLCJwcmVwcm9jZXNzZWRTb3VyY2UiLCJ0b3BMZXZlbERlY2xhcmF0aW9ucyIsInN0YXRpY0VudGl0aWVzIiwiZ2xvYmFsU2NvcGUiLCJwYXJzZWRBU1QiLCJjcmVhdGVCdWlsdEluR2xvYmFscyIsImNvbXBpbGVUb3BMZXZlbERlY2xhcmF0aW9ucyIsImVyciIsImRlY2xzT3JGdW5jRGVmIiwiYWRkU3RyaW5nTGl0ZXJhbCIsImxpdGVyYWwiLCJnZXROZWFyZXN0U291cmNlUmVmZXJlbmNlRm9yQ29uc3Ry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QSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLEtBQUFDLElBQUEsS0FDQUMsSUFBQSxLQUFBQyxJQUFBLEtBQ0FDLElBQUEsS0FFQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsS0FBQUMsSUFBQSxLQUNBQyxJQUFBLEtBQUFDLElBQUEsS0FDQUMsSUFBQSxLQUFBQyxJQUFBLE1BdXRCQUMsR0FBQTVNLElBbHRCQTlrQixJQUFBLFFBQ0E2QixJQUFBLE9BQ0FFLElBQUEsT0FDQTR2QixJQUFBLFNBQ0E3USxJQUFBLFVBdXRCQSxTQUFBOFEsR0FBQUMsR0FDQSxXQUFBalIsR0FBQWlSLEdBc0JBLFNBQUFDLEdBQUFDLEdBQ0EsT0FBQXpSLEdBQUEwUixLQUFBRCxHQXNDQSxTQUFBRSxHQUFBbDRDLEdBQ0EsSUFBQWdMLEdBQUEsRUFDQWtjLEVBQUFoTyxNQUFBbFosRUFBQWpCLE1BS0EsT0FIQWlCLEVBQUFtRixRQUFBLFNBQUE3TyxFQUFBTSxHQUNBc3dCLElBQUFsYyxJQUFBcFUsRUFBQU4sS0FFQTR3QixFQVdBLFNBQUFpeEIsR0FBQXJwQyxFQUFBc3BDLEdBQ0EsZ0JBQUExaUIsR0FDQSxPQUFBNW1CLEVBQUFzcEMsRUFBQTFpQixLQWFBLFNBQUEyaUIsR0FBQWxwQyxFQUFBbXBDLEdBTUEsSUFMQSxJQUFBdHRDLEdBQUEsRUFDQTNTLEVBQUE4VyxFQUFBOVcsT0FDQWt4QyxFQUFBLEVBQ0FyaUIsT0FFQWxjLEVBQUEzUyxHQUFBLENBQ0EsSUFBQS9CLEVBQUE2WSxFQUFBbkUsR0FDQTFVLElBQUFnaUQsR0FBQWhpRCxJQUFBdW9DLElBQ0ExdkIsRUFBQW5FLEdBQUE2ekIsRUFDQTNYLEVBQUFxaUIsS0FBQXYrQixHQUdBLE9BQUFrYyxFQVdBLFNBQUFxeEIsR0FBQXhoRCxFQUFBSCxHQUNBLG1CQUFBQSxFQUNBMnJCLEVBQ0F4ckIsRUFBQUgsR0FVQSxTQUFBNGhELEdBQUFDLEdBQ0EsSUFBQXp0QyxHQUFBLEVBQ0FrYyxFQUFBaE8sTUFBQXUvQixFQUFBMTVDLE1BS0EsT0FIQTA1QyxFQUFBdHpDLFFBQUEsU0FBQTdPLEdBQ0E0d0IsSUFBQWxjLEdBQUExVSxJQUVBNHdCLEVBVUEsU0FBQXd4QixHQUFBRCxHQUNBLElBQUF6dEMsR0FBQSxFQUNBa2MsRUFBQWhPLE1BQUF1L0IsRUFBQTE1QyxNQUtBLE9BSEEwNUMsRUFBQXR6QyxRQUFBLFNBQUE3TyxHQUNBNHdCLElBQUFsYyxJQUFBMVUsT0FFQTR3QixFQW9EQSxTQUFBelYsR0FBQXVtQyxHQUNBLE9BQUFELEdBQUFDLEdBa0NBLFNBQUFBLEdBQ0EsSUFBQTl3QixFQUFBbWYsR0FBQXNTLFVBQUEsRUFDQSxLQUFBdFMsR0FBQTRSLEtBQUFELE1BQ0E5d0IsRUFFQSxPQUFBQSxFQXRDQTB4QixDQUFBWixHQUNBOU4sR0FBQThOLEdBVUEsU0FBQWEsR0FBQWIsR0FDQSxPQUFBRCxHQUFBQyxHQW9DQSxTQUFBQSxHQUNBLE9BQUFBLEVBQUFjLE1BQUF6UyxRQXBDQTBTLENBQUFmLEdBOWtCQSxTQUFBQSxHQUNBLE9BQUFBLEVBQUFqNEMsTUFBQSxJQThrQkFpNUMsQ0FBQWhCLEdBVUEsSUFBQWlCLEdBQUFsTyxJQTU3QkFtTyxRQUFVLElBQ1ZDLE9BQVMsSUFDVEMsT0FBUyxJQUNUQyxTQUFXLElBQ1hDLFFBQVUsTUE4L0JWLElBMHllQUMsR0ExeWVBLFNBQUFDLEVBQUEzMUMsR0FJQSxJQUFBcVYsR0FIQXJWLEVBQUEsTUFBQUEsRUFBQSszQixHQUFBMmQsR0FBQUUsU0FBQTdkLEdBQUE3bEMsU0FBQThOLEVBQUEwMUMsR0FBQUcsS0FBQTlkLEdBQUE2SyxNQUdBdnRCLE1BQ0F5Z0MsRUFBQTkxQyxFQUFBODFDLEtBQ0FqaUQsRUFBQW1NLEVBQUFuTSxNQUNBNmpDLEdBQUExM0IsRUFBQTAzQixTQUNBbmlDLEdBQUF5SyxFQUFBekssS0FDQXJELEdBQUE4TixFQUFBOU4sT0FDQWt0QyxHQUFBcC9CLEVBQUFvL0IsT0FDQS9pQyxHQUFBMkQsRUFBQTNELE9BQ0EwNUMsR0FBQS8xQyxFQUFBKzFDLFVBR0FDLEdBQUEzZ0MsRUFBQWppQixVQUNBNmlELEdBQUF2ZSxHQUFBdGtDLFVBQ0E4aUQsR0FBQWhrRCxHQUFBa0IsVUFHQStpRCxHQUFBbjJDLEVBQUEsc0JBR0FvMkMsR0FBQUgsR0FBQXYrQyxTQUdBckUsR0FBQTZpRCxHQUFBN2lELGVBR0FnakQsR0FBQSxFQUdBQyxHQUFBLFdBQ0EsSUFBQUMsRUFBQSxTQUFBQyxLQUFBTCxPQUFBTSxNQUFBTixHQUFBTSxLQUFBQyxVQUFBLElBQ0EsT0FBQUgsRUFBQSxpQkFBQUEsRUFBQSxHQUZBLEdBVUFJLEdBQUFULEdBQUF4K0MsU0FHQWsvQyxHQUFBUixHQUFBemtELEtBQUFPLElBR0Eya0QsR0FBQTllLEdBQUEyZCxFQUdBb0IsR0FBQTFYLEdBQUEsSUFDQWdYLEdBQUF6a0QsS0FBQTBCLElBQUFvQixRQUFBbXJDLEdBQUEsUUFDQW5yQyxRQUFBLHVFQUlBc2lELEdBQUFsVCxHQUFBN2pDLEVBQUErMkMsT0FBQXI0QixFQUNBbnNCLEdBQUF5TixFQUFBek4sT0FDQXlrRCxHQUFBaDNDLEVBQUFnM0MsV0FDQUMsR0FBQUYsTUFBQUUsWUFBQXY0QixFQUNBdzRCLEdBQUE1QyxHQUFBcGlELEdBQUFpbEQsZUFBQWpsRCxJQUNBa2xELEdBQUFsbEQsR0FBQVksT0FDQXVrRCxHQUFBbkIsR0FBQW1CLHFCQUNBQyxHQUFBdEIsR0FBQXNCLE9BQ0FDLEdBQUFobEQsTUFBQWlsRCxtQkFBQTk0QixFQUNBKzRCLEdBQUFsbEQsTUFBQW1sRCxTQUFBaDVCLEVBQ0FpNUIsR0FBQXBsRCxNQUFBQyxZQUFBa3NCLEVBRUF2c0IsR0FBQSxXQUNBLElBQ0EsSUFBQThZLEVBQUEyc0MsR0FBQTFsRCxHQUFBLGtCQUVBLE9BREErWSxLQUFlLE9BQ2ZBLEVBQ08sTUFBQTBxQixLQUxQLEdBU0FraUIsR0FBQTczQyxFQUFBODNDLGVBQUEvZixHQUFBK2YsY0FBQTkzQyxFQUFBODNDLGFBQ0FDLEdBQUFqQyxLQUFBa0MsTUFBQWpnQixHQUFBK2QsS0FBQWtDLEtBQUFsQyxFQUFBa0MsSUFDQUMsR0FBQWo0QyxFQUFBazRDLGFBQUFuZ0IsR0FBQW1nQixZQUFBbDRDLEVBQUFrNEMsV0FHQUMsR0FBQTVpRCxHQUFBNmlELEtBQ0FDLEdBQUE5aUQsR0FBQTR5QixNQUNBbXdCLEdBQUFwbUQsR0FBQXFtRCxzQkFDQUMsR0FBQXpCLE1BQUEwQixTQUFBLzVCLEVBQ0FnNkIsR0FBQTE0QyxFQUFBMjRDLFNBQ0FDLEdBQUE1QyxHQUFBcnNDLEtBQ0FrdkMsR0FBQXZFLEdBQUFwaUQsR0FBQXVrRCxLQUFBdmtELElBQ0E0bUQsR0FBQXZqRCxHQUFBSCxJQUNBMmpELEdBQUF4akQsR0FBQUosSUFDQTZqRCxHQUFBbEQsRUFBQWtDLElBQ0FpQixHQUFBajVDLEVBQUE0bEIsU0FDQXN6QixHQUFBM2pELEdBQUFMLE9BQ0Fpa0QsR0FBQW5ELEdBQUFvRCxRQUdBQyxHQUFBekIsR0FBQTUzQyxFQUFBLFlBQ0FzNUMsR0FBQTFCLEdBQUE1M0MsRUFBQSxPQUNBdTVDLEdBQUEzQixHQUFBNTNDLEVBQUEsV0FDQWQsR0FBQTA0QyxHQUFBNTNDLEVBQUEsT0FDQXc1QyxHQUFBNUIsR0FBQTUzQyxFQUFBLFdBQ0F5NUMsR0FBQTdCLEdBQUExbEQsR0FBQSxVQUdBd25ELEdBQUFGLElBQUEsSUFBQUEsR0FHQUcsTUFHQUMsR0FBQUMsR0FBQVIsSUFDQVMsR0FBQUQsR0FBQVAsSUFDQVMsR0FBQUYsR0FBQU4sSUFDQVMsR0FBQUgsR0FBQTM2QyxJQUNBKzZDLEdBQUFKLEdBQUFMLElBR0FVLEdBQUEzbkQsTUFBQWEsVUFBQXNyQixFQUNBeTdCLEdBQUFELE1BQUFFLFFBQUExN0IsRUFDQTI3QixHQUFBSCxNQUFBeGlELFNBQUFnbkIsRUF5SEEsU0FBQTQ3QixHQUFBN25ELEdBQ0EsR0FBQThuRCxHQUFBOW5ELEtBQUE2aUIsR0FBQTdpQixtQkFBQStuRCxJQUFBLENBQ0EsR0FBQS9uRCxhQUFBZ29ELEdBQ0EsT0FBQWhvRCxFQUVBLEdBQUFZLEdBQUExQixLQUFBYyxFQUFBLGVBQ0EsT0FBQWlvRCxHQUFBam9ELEdBR0EsV0FBQWdvRCxHQUFBaG9ELEdBV0EsSUFBQWtvRCxHQUFBLFdBQ0EsU0FBQXpuRCxLQUNBLGdCQUFBMG5ELEdBQ0EsSUFBQUMsR0FBQUQsR0FDQSxTQUVBLEdBQUF4RCxHQUNBLE9BQUFBLEdBQUF3RCxHQUVBMW5ELEVBQUFFLFVBQUF3bkQsRUFDQSxJQUFBdjNCLEVBQUEsSUFBQW53QixFQUVBLE9BREFBLEVBQUFFLFVBQUFzckIsRUFDQTJFLEdBWkEsR0FxQkEsU0FBQXkzQixNQVdBLFNBQUFMLEdBQUFob0QsRUFBQXNvRCxHQUNBam1ELEtBQUFrbUQsWUFBQXZvRCxFQUNBcUMsS0FBQW1tRCxlQUNBbm1ELEtBQUFvbUQsWUFBQUgsRUFDQWptRCxLQUFBcW1ELFVBQUEsRUFDQXJtRCxLQUFBc21ELFdBQUExOEIsRUFnRkEsU0FBQTg3QixHQUFBL25ELEdBQ0FxQyxLQUFBa21ELFlBQUF2b0QsRUFDQXFDLEtBQUFtbUQsZUFDQW5tRCxLQUFBdW1ELFFBQUEsRUFDQXZtRCxLQUFBd21ELGNBQUEsRUFDQXhtRCxLQUFBeW1ELGlCQUNBem1ELEtBQUEwbUQsY0FBQTllLEVBQ0E1bkMsS0FBQTJtRCxhQWdIQSxTQUFBQyxHQUFBQyxHQUNBLElBQUF4MEMsR0FBQSxFQUNBM1MsRUFBQSxNQUFBbW5ELEVBQUEsRUFBQUEsRUFBQW5uRCxPQUdBLElBREFNLEtBQUE4bUQsVUFDQXowQyxFQUFBM1MsR0FBQSxDQUNBLElBQUFxbkQsRUFBQUYsRUFBQXgwQyxHQUNBclMsS0FBQTgvQyxJQUFBaUgsRUFBQSxHQUFBQSxFQUFBLEtBaUdBLFNBQUFDLEdBQUFILEdBQ0EsSUFBQXgwQyxHQUFBLEVBQ0EzUyxFQUFBLE1BQUFtbkQsRUFBQSxFQUFBQSxFQUFBbm5ELE9BR0EsSUFEQU0sS0FBQThtRCxVQUNBejBDLEVBQUEzUyxHQUFBLENBQ0EsSUFBQXFuRCxFQUFBRixFQUFBeDBDLEdBQ0FyUyxLQUFBOC9DLElBQUFpSCxFQUFBLEdBQUFBLEVBQUEsS0E4R0EsU0FBQUUsR0FBQUosR0FDQSxJQUFBeDBDLEdBQUEsRUFDQTNTLEVBQUEsTUFBQW1uRCxFQUFBLEVBQUFBLEVBQUFubkQsT0FHQSxJQURBTSxLQUFBOG1ELFVBQ0F6MEMsRUFBQTNTLEdBQUEsQ0FDQSxJQUFBcW5ELEVBQUFGLEVBQUF4MEMsR0FDQXJTLEtBQUE4L0MsSUFBQWlILEVBQUEsR0FBQUEsRUFBQSxLQWlHQSxTQUFBRyxHQUFBanlCLEdBQ0EsSUFBQTVpQixHQUFBLEVBQ0EzUyxFQUFBLE1BQUF1MUIsRUFBQSxFQUFBQSxFQUFBdjFCLE9BR0EsSUFEQU0sS0FBQW1uRCxTQUFBLElBQUFGLEtBQ0E1MEMsRUFBQTNTLEdBQ0FNLEtBQUE0ckIsSUFBQXFKLEVBQUE1aUIsSUE2Q0EsU0FBQSswQyxHQUFBUCxHQUNBLElBQUF4aEMsRUFBQXJsQixLQUFBbW5ELFNBQUEsSUFBQUgsR0FBQUgsR0FDQTdtRCxLQUFBb0csS0FBQWlmLEVBQUFqZixLQXFHQSxTQUFBaWhELEdBQUExcEQsRUFBQTJwRCxHQUNBLElBQUFDLEVBQUEvbUMsR0FBQTdpQixHQUNBNnBELEdBQUFELEdBQUFFLEdBQUE5cEQsR0FDQStwRCxHQUFBSCxJQUFBQyxHQUFBN0QsR0FBQWhtRCxHQUNBd0QsR0FBQW9tRCxJQUFBQyxJQUFBRSxHQUFBelgsR0FBQXR5QyxHQUNBZ3FELEVBQUFKLEdBQUFDLEdBQUFFLEdBQUF2bUQsRUFDQW90QixFQUFBbzVCLEVBQUFwVixHQUFBNTBDLEVBQUErQixPQUFBNkgsT0FDQTdILEVBQUE2dUIsRUFBQTd1QixPQUVBLFFBQUF6QixLQUFBTixHQUNBMnBELElBQUEvb0QsR0FBQTFCLEtBQUFjLEVBQUFNLElBQ0EwcEQsSUFFQSxVQUFBMXBELEdBRUF5cEQsSUFBQSxVQUFBenBELEdBQUEsVUFBQUEsSUFFQWtELElBQUEsVUFBQWxELEdBQUEsY0FBQUEsR0FBQSxjQUFBQSxJQUVBMnBELEdBQUEzcEQsRUFBQXlCLEtBRUE2dUIsRUFBQWxvQixLQUFBcEksR0FHQSxPQUFBc3dCLEVBVUEsU0FBQXM1QixHQUFBcnhDLEdBQ0EsSUFBQTlXLEVBQUE4VyxFQUFBOVcsT0FDQSxPQUFBQSxFQUFBOFcsRUFBQXN4QyxHQUFBLEVBQUFwb0QsRUFBQSxJQUFBa3FCLEVBV0EsU0FBQW0rQixHQUFBdnhDLEVBQUFyWSxHQUNBLE9BQUE2cEQsR0FBQUMsR0FBQXp4QyxHQUFBMHhDLEdBQUEvcEQsRUFBQSxFQUFBcVksRUFBQTlXLFNBVUEsU0FBQXlvRCxHQUFBM3hDLEdBQ0EsT0FBQXd4QyxHQUFBQyxHQUFBenhDLElBWUEsU0FBQTR4QyxHQUFBaHFELEVBQUFILEVBQUFOLElBQ0FBLElBQUFpc0IsR0FBQTBDLEdBQUFsdUIsRUFBQUgsR0FBQU4sTUFDQUEsSUFBQWlzQixHQUFBM3JCLEtBQUFHLElBQ0FpcUQsR0FBQWpxRCxFQUFBSCxFQUFBTixHQWNBLFNBQUEycUQsR0FBQWxxRCxFQUFBSCxFQUFBTixHQUNBLElBQUE0cUQsRUFBQW5xRCxFQUFBSCxHQUNBTSxHQUFBMUIsS0FBQXVCLEVBQUFILElBQUFxdUIsR0FBQWk4QixFQUFBNXFELEtBQ0FBLElBQUFpc0IsR0FBQTNyQixLQUFBRyxJQUNBaXFELEdBQUFqcUQsRUFBQUgsRUFBQU4sR0FZQSxTQUFBNnFELEdBQUFoeUMsRUFBQXZZLEdBRUEsSUFEQSxJQUFBeUIsRUFBQThXLEVBQUE5VyxPQUNBQSxLQUNBLEdBQUE0c0IsR0FBQTlWLEVBQUE5VyxHQUFBLEdBQUF6QixHQUNBLE9BQUF5QixFQUdBLFNBY0EsU0FBQStvRCxHQUFBL1csRUFBQXRCLEVBQUFDLEVBQUFDLEdBSUEsT0FIQW9ZLEdBQUFoWCxFQUFBLFNBQUEvekMsRUFBQU0sRUFBQXl6QyxHQUNBdEIsRUFBQUUsRUFBQTN5QyxFQUFBMHlDLEVBQUExeUMsR0FBQSt6QyxLQUVBcEIsRUFZQSxTQUFBcVksR0FBQXZxRCxFQUFBdU8sR0FDQSxPQUFBdk8sR0FBQXdxRCxHQUFBajhDLEVBQUFnMUMsR0FBQWgxQyxHQUFBdk8sR0F5QkEsU0FBQWlxRCxHQUFBanFELEVBQUFILEVBQUFOLEdBQ0EsYUFBQU0sR0FBQVosR0FDQUEsR0FBQWUsRUFBQUgsR0FDQTRxRCxjQUFBLEVBQ0F2ckQsWUFBQSxFQUNBSyxRQUNBbXJELFVBQUEsSUFHQTFxRCxFQUFBSCxHQUFBTixFQVlBLFNBQUFvckQsR0FBQTNxRCxFQUFBdW5DLEdBTUEsSUFMQSxJQUFBdHpCLEdBQUEsRUFDQTNTLEVBQUFpbUMsRUFBQWptQyxPQUNBNnVCLEVBQUFoTyxFQUFBN2dCLEdBQ0FzcEQsRUFBQSxNQUFBNXFELElBRUFpVSxFQUFBM1MsR0FDQTZ1QixFQUFBbGMsR0FBQTIyQyxFQUFBcC9CLEVBQUFyc0IsR0FBQWEsRUFBQXVuQyxFQUFBdHpCLElBRUEsT0FBQWtjLEVBWUEsU0FBQTI1QixHQUFBZSxFQUFBQyxFQUFBQyxHQVNBLE9BUkFGLE9BQ0FFLElBQUF2L0IsSUFDQXEvQixLQUFBRSxFQUFBRixFQUFBRSxHQUVBRCxJQUFBdC9CLElBQ0FxL0IsS0FBQUMsRUFBQUQsRUFBQUMsSUFHQUQsRUFtQkEsU0FBQUcsR0FBQXpyRCxFQUFBMHJELEVBQUFDLEVBQUFyckQsRUFBQUcsRUFBQXlULEdBQ0EsSUFBQTBjLEVBQ0FnN0IsRUFBQUYsRUFBQWxqQixFQUNBcWpCLEVBQUFILEVBQUFqakIsRUFDQXFqQixFQUFBSixFQUFBaGpCLEVBS0EsR0FIQWlqQixJQUNBLzZCLEVBQUFud0IsRUFBQWtyRCxFQUFBM3JELEVBQUFNLEVBQUFHLEVBQUF5VCxHQUFBeTNDLEVBQUEzckQsSUFFQTR3QixJQUFBM0UsRUFDQSxPQUFBMkUsRUFFQSxJQUFBdzNCLEdBQUFwb0QsR0FDQSxPQUFBQSxFQUVBLElBQUE0cEQsRUFBQS9tQyxHQUFBN2lCLEdBQ0EsR0FBQTRwRCxHQUVBLEdBREFoNUIsRUE2N0dBLFNBQUEvWCxHQUNBLElBQUE5VyxFQUFBOFcsRUFBQTlXLE9BQ0E2dUIsRUFBQSxJQUFBL1gsRUFBQWt6QyxZQUFBaHFELEdBT0EsT0FKQUEsR0FBQSxpQkFBQThXLEVBQUEsSUFBQWpZLEdBQUExQixLQUFBMlosRUFBQSxXQUNBK1gsRUFBQWxjLE1BQUFtRSxFQUFBbkUsTUFDQWtjLEVBQUFvN0IsTUFBQW56QyxFQUFBbXpDLE9BRUFwN0IsRUF0OEdBcTdCLENBQUFqc0QsSUFDQTRyRCxFQUNBLE9BQUF0QixHQUFBdHFELEVBQUE0d0IsT0FFTyxDQUNQLElBQUFzN0IsRUFBQUMsR0FBQW5zRCxHQUNBb3NELEVBQUFGLEdBQUF0aEIsR0FBQXNoQixHQUFBcmhCLEVBRUEsR0FBQW1iLEdBQUFobUQsR0FDQSxPQUFBcXNELEdBQUFyc0QsRUFBQTRyRCxHQUVBLEdBQUFNLEdBQUFqaEIsR0FBQWloQixHQUFBN2hCLEdBQUEraEIsSUFBQTNyRCxHQUVBLEdBREFtd0IsRUFBQWk3QixHQUFBTyxLQUEwQ0UsR0FBQXRzRCxJQUMxQzRyRCxFQUNBLE9BQUFDLEVBaW5FQSxTQUFBNzhDLEVBQUF2TyxHQUNBLE9BQUF3cUQsR0FBQWo4QyxFQUFBdTlDLEdBQUF2OUMsR0FBQXZPLEdBam5FQStyRCxDQUFBeHNELEVBbkhBLFNBQUFTLEVBQUF1TyxHQUNBLE9BQUF2TyxHQUFBd3FELEdBQUFqOEMsRUFBQXk5QyxHQUFBejlDLEdBQUF2TyxHQWtIQWlzRCxDQUFBOTdCLEVBQUE1d0IsSUFvbUVBLFNBQUFnUCxFQUFBdk8sR0FDQSxPQUFBd3FELEdBQUFqOEMsRUFBQTI5QyxHQUFBMzlDLEdBQUF2TyxHQXBtRUFtc0QsQ0FBQTVzRCxFQUFBZ3JELEdBQUFwNkIsRUFBQTV3QixRQUVTLENBQ1QsSUFBQXN3QyxHQUFBNGIsR0FDQSxPQUFBenJELEVBQUFULEtBRUE0d0IsRUE0OEdBLFNBQUFud0IsRUFBQXlyRCxFQUFBTixHQUNBLElBQUFpQixFQUFBcHNELEVBQUFzckQsWUFDQSxPQUFBRyxHQUNBLEtBQUF4Z0IsR0FDQSxPQUFBb2hCLEdBQUFyc0QsR0FFQSxLQUFBK3BDLEVBQ0EsS0FBQUMsRUFDQSxXQUFBb2lCLEdBQUFwc0QsR0FFQSxLQUFBa3JDLEdBQ0EsT0ExbkRBLFNBQUFvaEIsRUFBQW5CLEdBQ0EsSUFBQW9CLEVBQUFwQixFQUFBa0IsR0FBQUMsRUFBQUMsUUFBQUQsRUFBQUMsT0FDQSxXQUFBRCxFQUFBaEIsWUFBQWlCLEVBQUFELEVBQUFFLFdBQUFGLEVBQUFHLFlBd25EQUMsQ0FBQTFzRCxFQUFBbXJELEdBRUEsS0FBQWhnQixHQUFBLEtBQUFDLEdBQ0EsS0FBQUMsR0FBQSxLQUFBQyxHQUFBLEtBQUFDLEdBQ0EsS0FBQUMsR0FBQSxLQUFBQyxHQUFBLEtBQUFDLEdBQUEsS0FBQUMsR0FDQSxPQUFBZ2hCLEdBQUEzc0QsRUFBQW1yRCxHQUVBLEtBQUE5Z0IsRUFDQSxXQUFBK2hCLEVBRUEsS0FBQTloQixFQUNBLEtBQUFNLEdBQ0EsV0FBQXdoQixFQUFBcHNELEdBRUEsS0FBQTBxQyxHQUNBLE9BN25EQSxTQUFBa2lCLEdBQ0EsSUFBQXo4QixFQUFBLElBQUF5OEIsRUFBQXRCLFlBQUFzQixFQUFBcitDLE9BQUE4K0IsR0FBQWlXLEtBQUFzSixJQUVBLE9BREF6OEIsRUFBQXl4QixVQUFBZ0wsRUFBQWhMLFVBQ0F6eEIsRUEwbkRBMDhCLENBQUE3c0QsR0FFQSxLQUFBMnFDLEdBQ0EsV0FBQXloQixFQUVBLEtBQUF2aEIsR0FDQSxPQXRuREEsU0FBQWlpQixHQUNBLE9BQUE3RixHQUFBam9ELEdBQUFpb0QsR0FBQXhvRCxLQUFBcXVELE9BcW5EQUMsQ0FBQS9zRCxJQTUrR0FndEQsQ0FBQXp0RCxFQUFBa3NELEVBQUFOLElBSUExM0MsTUFBQSxJQUFBdTFDLElBQ0EsSUFBQWlFLEVBQUF4NUMsRUFBQXRVLElBQUFJLEdBQ0EsR0FBQTB0RCxFQUNBLE9BQUFBLEVBSUEsR0FGQXg1QyxFQUFBaXVDLElBQUFuaUQsRUFBQTR3QixHQUVBd2hCLEdBQUFweUMsR0FLQSxPQUpBQSxFQUFBNk8sUUFBQSxTQUFBOCtDLEdBQ0EvOEIsRUFBQTNDLElBQUF3OUIsR0FBQWtDLEVBQUFqQyxFQUFBQyxFQUFBZ0MsRUFBQTN0RCxFQUFBa1UsTUFHQTBjLEVBR0EsR0FBQW9oQixHQUFBaHlDLEdBS0EsT0FKQUEsRUFBQTZPLFFBQUEsU0FBQTgrQyxFQUFBcnRELEdBQ0Fzd0IsRUFBQXV4QixJQUFBN2hELEVBQUFtckQsR0FBQWtDLEVBQUFqQyxFQUFBQyxFQUFBcnJELEVBQUFOLEVBQUFrVSxNQUdBMGMsRUFHQSxJQUlBbWtCLEVBQUE2VSxFQUFBMzlCLEdBSkE2L0IsRUFDQUQsRUFBQStCLEdBQUFDLEdBQ0FoQyxFQUFBWSxHQUFBekksSUFFQWhrRCxHQVNBLE9BUkE0eUMsR0FBQW1DLEdBQUEvMEMsRUFBQSxTQUFBMnRELEVBQUFydEQsR0FDQXkwQyxJQUVBNFksRUFBQTN0RCxFQURBTSxFQUFBcXRELElBSUFoRCxHQUFBLzVCLEVBQUF0d0IsRUFBQW1yRCxHQUFBa0MsRUFBQWpDLEVBQUFDLEVBQUFyckQsRUFBQU4sRUFBQWtVLE1BRUEwYyxFQXlCQSxTQUFBazlCLEdBQUFydEQsRUFBQXVPLEVBQUErbEMsR0FDQSxJQUFBaHpDLEVBQUFnekMsRUFBQWh6QyxPQUNBLFNBQUF0QixFQUNBLE9BQUFzQixFQUdBLElBREF0QixFQUFBaEIsR0FBQWdCLEdBQ0FzQixLQUFBLENBQ0EsSUFBQXpCLEVBQUF5MEMsRUFBQWh6QyxHQUNBZ3hDLEVBQUEvakMsRUFBQTFPLEdBQ0FOLEVBQUFTLEVBQUFILEdBRUEsR0FBQU4sSUFBQWlzQixLQUFBM3JCLEtBQUFHLEtBQUFzeUMsRUFBQS95QyxHQUNBLFNBR0EsU0FhQSxTQUFBK3RELEdBQUF2MUMsRUFBQS9HLEVBQUF1dEIsR0FDQSxzQkFBQXhtQixFQUNBLFVBQUE4cUMsR0FBQWxiLEdBRUEsT0FBQXFkLEdBQUEsV0FBb0NqdEMsRUFBQTdRLE1BQUFza0IsRUFBQStTLElBQStCdnRCLEdBY25FLFNBQUF1OEMsR0FBQW4xQyxFQUFBeWUsRUFBQW9iLEVBQUFXLEdBQ0EsSUFBQTMrQixHQUFBLEVBQ0FnTyxFQUFBd3dCLEdBQ0ErYSxHQUFBLEVBQ0Fsc0QsRUFBQThXLEVBQUE5VyxPQUNBNnVCLEtBQ0FzOUIsRUFBQTUyQixFQUFBdjFCLE9BRUEsSUFBQUEsRUFDQSxPQUFBNnVCLEVBRUE4aEIsSUFDQXBiLEVBQUFnYyxHQUFBaGMsRUFBQXVkLEdBQUFuQyxLQUVBVyxHQUNBM3dCLEVBQUEwd0IsR0FDQTZhLEdBQUEsR0FFQTMyQixFQUFBdjFCLFFBQUFtbUMsSUFDQXhsQixFQUFBc3lCLEdBQ0FpWixHQUFBLEVBQ0EzMkIsRUFBQSxJQUFBaXlCLEdBQUFqeUIsSUFFQTYyQixFQUNBLE9BQUF6NUMsRUFBQTNTLEdBQUEsQ0FDQSxJQUFBL0IsRUFBQTZZLEVBQUFuRSxHQUNBMDVDLEVBQUEsTUFBQTFiLEVBQUExeUMsRUFBQTB5QyxFQUFBMXlDLEdBR0EsR0FEQUEsRUFBQXF6QyxHQUFBLElBQUFyekMsSUFBQSxFQUNBaXVELEdBQUFHLEtBQUEsQ0FFQSxJQURBLElBQUFDLEVBQUFILEVBQ0FHLEtBQ0EsR0FBQS8yQixFQUFBKzJCLEtBQUFELEVBQ0EsU0FBQUQsRUFHQXY5QixFQUFBbG9CLEtBQUExSSxRQUVBMGlCLEVBQUE0VSxFQUFBODJCLEVBQUEvYSxJQUNBemlCLEVBQUFsb0IsS0FBQTFJLEdBR0EsT0FBQTR3QixFQXZrQ0FpM0IsR0FBQXlHLGtCQVFBQyxPQUFBMWhCLEdBUUEyaEIsU0FBQTFoQixHQVFBMmhCLFlBQUExaEIsR0FRQTJoQixTQUFBLEdBUUFDLFNBUUExTCxFQUFBNEUsS0FLQUEsR0FBQWxuRCxVQUFBMG5ELEdBQUExbkQsVUFDQWtuRCxHQUFBbG5ELFVBQUFvckQsWUFBQWxFLEdBRUFHLEdBQUFybkQsVUFBQXVuRCxHQUFBRyxHQUFBMW5ELFdBQ0FxbkQsR0FBQXJuRCxVQUFBb3JELFlBQUEvRCxHQXNIQUQsR0FBQXBuRCxVQUFBdW5ELEdBQUFHLEdBQUExbkQsV0FDQW9uRCxHQUFBcG5ELFVBQUFvckQsWUFBQWhFLEdBb0dBa0IsR0FBQXRvRCxVQUFBd29ELE1BdkVBLFdBQ0E5bUQsS0FBQW1uRCxTQUFBeEMsTUFBQSxTQUNBM2tELEtBQUFvRyxLQUFBLEdBc0VBd2dELEdBQUF0b0QsVUFBQSxPQXpEQSxTQUFBTCxHQUNBLElBQUFzd0IsRUFBQXZ1QixLQUFBc0ssSUFBQXJNLFdBQUErQixLQUFBbW5ELFNBQUFscEQsR0FFQSxPQURBK0IsS0FBQW9HLE1BQUFtb0IsRUFBQSxJQUNBQSxHQXVEQXE0QixHQUFBdG9ELFVBQUFmLElBM0NBLFNBQUFVLEdBQ0EsSUFBQW9uQixFQUFBcmxCLEtBQUFtbkQsU0FDQSxHQUFBeEMsR0FBQSxDQUNBLElBQUFwMkIsRUFBQWxKLEVBQUFwbkIsR0FDQSxPQUFBc3dCLElBQUF5WCxFQUFBcGMsRUFBQTJFLEVBRUEsT0FBQWh3QixHQUFBMUIsS0FBQXdvQixFQUFBcG5CLEdBQUFvbkIsRUFBQXBuQixHQUFBMnJCLEdBc0NBZzlCLEdBQUF0b0QsVUFBQWdNLElBMUJBLFNBQUFyTSxHQUNBLElBQUFvbkIsRUFBQXJsQixLQUFBbW5ELFNBQ0EsT0FBQXhDLEdBQUF0L0IsRUFBQXBuQixLQUFBMnJCLEVBQUFyckIsR0FBQTFCLEtBQUF3b0IsRUFBQXBuQixJQXlCQTJvRCxHQUFBdG9ELFVBQUF3aEQsSUFaQSxTQUFBN2hELEVBQUFOLEdBQ0EsSUFBQTBuQixFQUFBcmxCLEtBQUFtbkQsU0FHQSxPQUZBbm5ELEtBQUFvRyxNQUFBcEcsS0FBQXNLLElBQUFyTSxHQUFBLElBQ0FvbkIsRUFBQXBuQixHQUFBMG1ELElBQUFobkQsSUFBQWlzQixFQUFBb2MsRUFBQXJvQyxFQUNBcUMsTUF5SEFnbkQsR0FBQTFvRCxVQUFBd29ELE1BcEZBLFdBQ0E5bUQsS0FBQW1uRCxZQUNBbm5ELEtBQUFvRyxLQUFBLEdBbUZBNGdELEdBQUExb0QsVUFBQSxPQXZFQSxTQUFBTCxHQUNBLElBQUFvbkIsRUFBQXJsQixLQUFBbW5ELFNBQ0E5MEMsRUFBQW0yQyxHQUFBbmpDLEVBQUFwbkIsR0FFQSxRQUFBb1UsRUFBQSxJQUlBQSxHQURBZ1QsRUFBQTNsQixPQUFBLEVBRUEybEIsRUFBQWxULE1BRUFxd0MsR0FBQTNsRCxLQUFBd29CLEVBQUFoVCxFQUFBLEtBRUFyUyxLQUFBb0csS0FDQSxLQTBEQTRnRCxHQUFBMW9ELFVBQUFmLElBOUNBLFNBQUFVLEdBQ0EsSUFBQW9uQixFQUFBcmxCLEtBQUFtbkQsU0FDQTkwQyxFQUFBbTJDLEdBQUFuakMsRUFBQXBuQixHQUVBLE9BQUFvVSxFQUFBLEVBQUF1WCxFQUFBdkUsRUFBQWhULEdBQUEsSUEyQ0EyMEMsR0FBQTFvRCxVQUFBZ00sSUEvQkEsU0FBQXJNLEdBQ0EsT0FBQXVxRCxHQUFBeG9ELEtBQUFtbkQsU0FBQWxwRCxJQUFBLEdBK0JBK29ELEdBQUExb0QsVUFBQXdoRCxJQWxCQSxTQUFBN2hELEVBQUFOLEdBQ0EsSUFBQTBuQixFQUFBcmxCLEtBQUFtbkQsU0FDQTkwQyxFQUFBbTJDLEdBQUFuakMsRUFBQXBuQixHQVFBLE9BTkFvVSxFQUFBLEtBQ0FyUyxLQUFBb0csS0FDQWlmLEVBQUFoZixNQUFBcEksRUFBQU4sS0FFQTBuQixFQUFBaFQsR0FBQSxHQUFBMVUsRUFFQXFDLE1BMkdBaW5ELEdBQUEzb0QsVUFBQXdvRCxNQXRFQSxXQUNBOW1ELEtBQUFvRyxLQUFBLEVBQ0FwRyxLQUFBbW5ELFVBQ0FvRixLQUFBLElBQUEzRixHQUNBdi9DLElBQUEsSUFBQW05QyxJQUFBd0MsSUFDQTNILE9BQUEsSUFBQXVILEtBa0VBSyxHQUFBM29ELFVBQUEsT0FyREEsU0FBQUwsR0FDQSxJQUFBc3dCLEVBQUFpK0IsR0FBQXhzRCxLQUFBL0IsR0FBQSxPQUFBQSxHQUVBLE9BREErQixLQUFBb0csTUFBQW1vQixFQUFBLElBQ0FBLEdBbURBMDRCLEdBQUEzb0QsVUFBQWYsSUF2Q0EsU0FBQVUsR0FDQSxPQUFBdXVELEdBQUF4c0QsS0FBQS9CLEdBQUFWLElBQUFVLElBdUNBZ3BELEdBQUEzb0QsVUFBQWdNLElBM0JBLFNBQUFyTSxHQUNBLE9BQUF1dUQsR0FBQXhzRCxLQUFBL0IsR0FBQXFNLElBQUFyTSxJQTJCQWdwRCxHQUFBM29ELFVBQUF3aEQsSUFkQSxTQUFBN2hELEVBQUFOLEdBQ0EsSUFBQTBuQixFQUFBbW5DLEdBQUF4c0QsS0FBQS9CLEdBQ0FtSSxFQUFBaWYsRUFBQWpmLEtBSUEsT0FGQWlmLEVBQUF5NkIsSUFBQTdoRCxFQUFBTixHQUNBcUMsS0FBQW9HLE1BQUFpZixFQUFBamYsUUFBQSxJQUNBcEcsTUEyREFrbkQsR0FBQTVvRCxVQUFBc3RCLElBQUFzN0IsR0FBQTVvRCxVQUFBK0gsS0FuQkEsU0FBQTFJLEdBRUEsT0FEQXFDLEtBQUFtbkQsU0FBQXJILElBQUFuaUQsRUFBQXFvQyxHQUNBaG1DLE1Ba0JBa25ELEdBQUE1b0QsVUFBQWdNLElBTkEsU0FBQTNNLEdBQ0EsT0FBQXFDLEtBQUFtbkQsU0FBQTc4QyxJQUFBM00sSUF1R0F5cEQsR0FBQTlvRCxVQUFBd29ELE1BM0VBLFdBQ0E5bUQsS0FBQW1uRCxTQUFBLElBQUFILEdBQ0FobkQsS0FBQW9HLEtBQUEsR0EwRUFnaEQsR0FBQTlvRCxVQUFBLE9BOURBLFNBQUFMLEdBQ0EsSUFBQW9uQixFQUFBcmxCLEtBQUFtbkQsU0FDQTU0QixFQUFBbEosRUFBQSxPQUFBcG5CLEdBR0EsT0FEQStCLEtBQUFvRyxLQUFBaWYsRUFBQWpmLEtBQ0Ftb0IsR0EwREE2NEIsR0FBQTlvRCxVQUFBZixJQTlDQSxTQUFBVSxHQUNBLE9BQUErQixLQUFBbW5ELFNBQUE1cEQsSUFBQVUsSUE4Q0FtcEQsR0FBQTlvRCxVQUFBZ00sSUFsQ0EsU0FBQXJNLEdBQ0EsT0FBQStCLEtBQUFtbkQsU0FBQTc4QyxJQUFBck0sSUFrQ0FtcEQsR0FBQTlvRCxVQUFBd2hELElBckJBLFNBQUE3aEQsRUFBQU4sR0FDQSxJQUFBMG5CLEVBQUFybEIsS0FBQW1uRCxTQUNBLEdBQUE5aEMsYUFBQTJoQyxHQUFBLENBQ0EsSUFBQXlGLEVBQUFwbkMsRUFBQThoQyxTQUNBLElBQUEzQyxJQUFBaUksRUFBQS9zRCxPQUFBbW1DLEVBQUEsRUFHQSxPQUZBNG1CLEVBQUFwbUQsTUFBQXBJLEVBQUFOLElBQ0FxQyxLQUFBb0csT0FBQWlmLEVBQUFqZixLQUNBcEcsS0FFQXFsQixFQUFBcmxCLEtBQUFtbkQsU0FBQSxJQUFBRixHQUFBd0YsR0FJQSxPQUZBcG5DLEVBQUF5NkIsSUFBQTdoRCxFQUFBTixHQUNBcUMsS0FBQW9HLEtBQUFpZixFQUFBamYsS0FDQXBHLE1BNGNBLElBQUEwb0QsR0FBQWdFLEdBQUFDLElBVUFDLEdBQUFGLEdBQUFHLElBQUEsR0FXQSxTQUFBQyxHQUFBcGIsRUFBQWhCLEdBQ0EsSUFBQW5pQixHQUFBLEVBS0EsT0FKQW02QixHQUFBaFgsRUFBQSxTQUFBL3pDLEVBQUEwVSxFQUFBcS9CLEdBRUEsT0FEQW5qQixJQUFBbWlCLEVBQUEveUMsRUFBQTBVLEVBQUFxL0IsS0FHQW5qQixFQWFBLFNBQUF3K0IsR0FBQXYyQyxFQUFBNjVCLEVBQUFXLEdBSUEsSUFIQSxJQUFBMytCLEdBQUEsRUFDQTNTLEVBQUE4VyxFQUFBOVcsU0FFQTJTLEVBQUEzUyxHQUFBLENBQ0EsSUFBQS9CLEVBQUE2WSxFQUFBbkUsR0FDQWlnQyxFQUFBakMsRUFBQTF5QyxHQUVBLFNBQUEyMEMsSUFBQXlaLElBQUFuaUMsRUFDQTBvQixPQUFBMGEsR0FBQTFhLEdBQ0F0QixFQUFBc0IsRUFBQXlaLElBRUEsSUFBQUEsRUFBQXpaLEVBQ0EvakIsRUFBQTV3QixFQUdBLE9BQUE0d0IsRUF1Q0EsU0FBQTArQixHQUFBdmIsRUFBQWhCLEdBQ0EsSUFBQW5pQixLQU1BLE9BTEFtNkIsR0FBQWhYLEVBQUEsU0FBQS96QyxFQUFBMFUsRUFBQXEvQixHQUNBaEIsRUFBQS95QyxFQUFBMFUsRUFBQXEvQixJQUNBbmpCLEVBQUFsb0IsS0FBQTFJLEtBR0E0d0IsRUFjQSxTQUFBMitCLEdBQUExMkMsRUFBQXdULEVBQUEwbUIsRUFBQXljLEVBQUE1K0IsR0FDQSxJQUFBbGMsR0FBQSxFQUNBM1MsRUFBQThXLEVBQUE5VyxPQUtBLElBSEFneEMsTUFBQTBjLElBQ0E3K0IsWUFFQWxjLEVBQUEzUyxHQUFBLENBQ0EsSUFBQS9CLEVBQUE2WSxFQUFBbkUsR0FDQTJYLEVBQUEsR0FBQTBtQixFQUFBL3lDLEdBQ0Fxc0IsRUFBQSxFQUVBa2pDLEdBQUF2dkQsRUFBQXFzQixFQUFBLEVBQUEwbUIsRUFBQXljLEVBQUE1K0IsR0FFQTJpQixHQUFBM2lCLEVBQUE1d0IsR0FFU3d2RCxJQUNUNStCLElBQUE3dUIsUUFBQS9CLEdBR0EsT0FBQTR3QixFQWNBLElBQUE4K0IsR0FBQUMsS0FZQUMsR0FBQUQsSUFBQSxHQVVBLFNBQUFYLEdBQUF2dUQsRUFBQWl5QyxHQUNBLE9BQUFqeUMsR0FBQWl2RCxHQUFBanZELEVBQUFpeUMsRUFBQXNSLElBV0EsU0FBQWtMLEdBQUF6dUQsRUFBQWl5QyxHQUNBLE9BQUFqeUMsR0FBQW12RCxHQUFBbnZELEVBQUFpeUMsRUFBQXNSLElBWUEsU0FBQTZMLEdBQUFwdkQsRUFBQXMwQyxHQUNBLE9BQUEvQixHQUFBK0IsRUFBQSxTQUFBejBDLEdBQ0EsT0FBQXd2RCxHQUFBcnZELEVBQUFILE1BWUEsU0FBQXl2RCxHQUFBdHZELEVBQUF1dkQsR0FNQSxJQUhBLElBQUF0N0MsRUFBQSxFQUNBM1MsR0FIQWl1RCxFQUFBQyxHQUFBRCxFQUFBdnZELElBR0FzQixPQUVBLE1BQUF0QixHQUFBaVUsRUFBQTNTLEdBQ0F0QixJQUFBeXZELEdBQUFGLEVBQUF0N0MsT0FFQSxPQUFBQSxNQUFBM1MsRUFBQXRCLEVBQUF3ckIsRUFjQSxTQUFBa2tDLEdBQUExdkQsRUFBQTJ2RCxFQUFBQyxHQUNBLElBQUF6L0IsRUFBQXcvQixFQUFBM3ZELEdBQ0EsT0FBQW9pQixHQUFBcGlCLEdBQUFtd0IsRUFBQTJpQixHQUFBM2lCLEVBQUF5L0IsRUFBQTV2RCxJQVVBLFNBQUE2dkQsR0FBQXR3RCxHQUNBLGFBQUFBLEVBQ0FBLElBQUFpc0IsRUFBQXNmLEdBQUFQLEVBRUFrYSxVQUFBemxELEdBQUFPLEdBcTJGQSxTQUFBQSxHQUNBLElBQUF1d0QsRUFBQTN2RCxHQUFBMUIsS0FBQWMsRUFBQWtsRCxJQUNBZ0gsRUFBQWxzRCxFQUFBa2xELElBRUEsSUFDQWxsRCxFQUFBa2xELElBQUFqNUIsRUFDQSxJQUFBdWtDLEdBQUEsRUFDTyxNQUFBdHRCLElBRVAsSUFBQXRTLEVBQUFzekIsR0FBQWhsRCxLQUFBYyxHQVFBLE9BUEF3d0QsSUFDQUQsRUFDQXZ3RCxFQUFBa2xELElBQUFnSCxTQUVBbHNELEVBQUFrbEQsS0FHQXQwQixFQXIzRkE2L0IsQ0FBQXp3RCxHQXk0R0EsU0FBQUEsR0FDQSxPQUFBa2tELEdBQUFobEQsS0FBQWMsR0F6NEdBMHdELENBQUExd0QsR0FZQSxTQUFBMndELEdBQUEzd0QsRUFBQTRHLEdBQ0EsT0FBQTVHLEVBQUE0RyxFQVdBLFNBQUFncUQsR0FBQW53RCxFQUFBSCxHQUNBLGFBQUFHLEdBQUFHLEdBQUExQixLQUFBdUIsRUFBQUgsR0FXQSxTQUFBdXdELEdBQUFwd0QsRUFBQUgsR0FDQSxhQUFBRyxHQUFBSCxLQUFBYixHQUFBZ0IsR0EwQkEsU0FBQXF3RCxHQUFBQyxFQUFBcmUsRUFBQVcsR0FTQSxJQVJBLElBQUEzd0IsRUFBQTJ3QixFQUFBRCxHQUFBRixHQUNBbnhDLEVBQUFndkQsRUFBQSxHQUFBaHZELE9BQ0FpdkQsRUFBQUQsRUFBQWh2RCxPQUNBa3ZELEVBQUFELEVBQ0FFLEVBQUF0dUMsRUFBQW91QyxHQUNBRyxFQUFBQyxJQUNBeGdDLEtBRUFxZ0MsS0FBQSxDQUNBLElBQUFwNEMsRUFBQWs0QyxFQUFBRSxHQUNBQSxHQUFBdmUsSUFDQTc1QixFQUFBeTZCLEdBQUF6NkIsRUFBQWc4QixHQUFBbkMsS0FFQXllLEVBQUE3SyxHQUFBenRDLEVBQUE5VyxPQUFBb3ZELEdBQ0FELEVBQUFELElBQUE1ZCxJQUFBWCxHQUFBM3dDLEdBQUEsS0FBQThXLEVBQUE5VyxRQUFBLEtBQ0EsSUFBQXduRCxHQUFBMEgsR0FBQXA0QyxHQUNBb1QsRUFFQXBULEVBQUFrNEMsRUFBQSxHQUVBLElBQUFyOEMsR0FBQSxFQUNBMjhDLEVBQUFILEVBQUEsR0FFQS9DLEVBQ0EsT0FBQXo1QyxFQUFBM1MsR0FBQTZ1QixFQUFBN3VCLE9BQUFvdkQsR0FBQSxDQUNBLElBQUFueEQsRUFBQTZZLEVBQUFuRSxHQUNBMDVDLEVBQUExYixJQUFBMXlDLEtBR0EsR0FEQUEsRUFBQXF6QyxHQUFBLElBQUFyekMsSUFBQSxJQUNBcXhELEVBQ0FyYyxHQUFBcWMsRUFBQWpELEdBQ0ExckMsRUFBQWtPLEVBQUF3OUIsRUFBQS9hLElBQ0EsQ0FFQSxJQURBNGQsRUFBQUQsSUFDQUMsR0FBQSxDQUNBLElBQUFoYyxFQUFBaWMsRUFBQUQsR0FDQSxLQUFBaGMsRUFDQUQsR0FBQUMsRUFBQW1aLEdBQ0ExckMsRUFBQXF1QyxFQUFBRSxHQUFBN0MsRUFBQS9hLElBRUEsU0FBQThhLEVBR0FrRCxHQUNBQSxFQUFBM29ELEtBQUEwbEQsR0FFQXg5QixFQUFBbG9CLEtBQUExSSxJQUdBLE9BQUE0d0IsRUErQkEsU0FBQTBnQyxHQUFBN3dELEVBQUF1dkQsRUFBQWh4QixHQUdBLElBQUF4bUIsRUFBQSxPQURBL1gsRUFBQXlQLEdBQUF6UCxFQURBdXZELEVBQUFDLEdBQUFELEVBQUF2dkQsS0FFQUEsSUFBQXl2RCxHQUFBcUIsR0FBQXZCLEtBQ0EsYUFBQXgzQyxFQUFBeVQsRUFBQXRrQixHQUFBNlEsRUFBQS9YLEVBQUF1K0IsR0FVQSxTQUFBd3lCLEdBQUF4eEQsR0FDQSxPQUFBOG5ELEdBQUE5bkQsSUFBQXN3RCxHQUFBdHdELElBQUFxcUMsRUF1Q0EsU0FBQW9uQixHQUFBenhELEVBQUE0RyxFQUFBOGtELEVBQUFDLEVBQUF6M0MsR0FDQSxPQUFBbFUsSUFBQTRHLElBR0EsTUFBQTVHLEdBQUEsTUFBQTRHLElBQUFraEQsR0FBQTluRCxLQUFBOG5ELEdBQUFsaEQsR0FDQTVHLE1BQUE0RyxLQW1CQSxTQUFBbkcsRUFBQW1HLEVBQUE4a0QsRUFBQUMsRUFBQStGLEVBQUF4OUMsR0FDQSxJQUFBeTlDLEVBQUE5dUMsR0FBQXBpQixHQUNBbXhELEVBQUEvdUMsR0FBQWpjLEdBQ0FpckQsRUFBQUYsRUFBQXJuQixFQUFBNmhCLEdBQUExckQsR0FDQXF4RCxFQUFBRixFQUFBdG5CLEVBQUE2aEIsR0FBQXZsRCxHQUtBbXJELEdBSEFGLEtBQUF4bkIsRUFBQVksRUFBQTRtQixJQUdBNW1CLEVBQ0ErbUIsR0FIQUYsS0FBQXpuQixFQUFBWSxFQUFBNm1CLElBR0E3bUIsRUFDQWduQixFQUFBSixHQUFBQyxFQUVBLEdBQUFHLEdBQUFqTSxHQUFBdmxELEdBQUEsQ0FDQSxJQUFBdWxELEdBQUFwL0MsR0FDQSxTQUVBK3FELEdBQUEsRUFDQUksR0FBQSxFQUVBLEdBQUFFLElBQUFGLEVBRUEsT0FEQTc5QyxNQUFBLElBQUF1MUMsSUFDQWtJLEdBQUFyZixHQUFBN3hDLEdBQ0F5eEQsR0FBQXp4RCxFQUFBbUcsRUFBQThrRCxFQUFBQyxFQUFBK0YsRUFBQXg5QyxHQXkwRUEsU0FBQXpULEVBQUFtRyxFQUFBc2xELEVBQUFSLEVBQUFDLEVBQUErRixFQUFBeDlDLEdBQ0EsT0FBQWc0QyxHQUNBLEtBQUF2Z0IsR0FDQSxHQUFBbHJDLEVBQUF5c0QsWUFBQXRtRCxFQUFBc21ELFlBQ0F6c0QsRUFBQXdzRCxZQUFBcm1ELEVBQUFxbUQsV0FDQSxTQUVBeHNELElBQUF1c0QsT0FDQXBtRCxJQUFBb21ELE9BRUEsS0FBQXRoQixHQUNBLFFBQUFqckMsRUFBQXlzRCxZQUFBdG1ELEVBQUFzbUQsYUFDQXdFLEVBQUEsSUFBQW5OLEdBQUE5akQsR0FBQSxJQUFBOGpELEdBQUEzOUMsS0FLQSxLQUFBNGpDLEVBQ0EsS0FBQUMsRUFDQSxLQUFBTSxFQUdBLE9BQUFwYyxJQUFBbHVCLEdBQUFtRyxHQUVBLEtBQUErakMsRUFDQSxPQUFBbHFDLEVBQUFuQixNQUFBc0gsRUFBQXRILE1BQUFtQixFQUFBVSxTQUFBeUYsRUFBQXpGLFFBRUEsS0FBQWdxQyxHQUNBLEtBQUFFLEdBSUEsT0FBQTVxQyxHQUFBbUcsRUFBQSxHQUVBLEtBQUFra0MsRUFDQSxJQUFBendCLEVBQUF1bkMsR0FFQSxLQUFBeFcsR0FDQSxJQUFBK21CLEVBQUF6RyxFQUFBL2lCLEVBR0EsR0FGQXR1QixNQUFBNm5DLElBRUF6aEQsRUFBQWdJLE1BQUE3QixFQUFBNkIsT0FBQTBwRCxFQUNBLFNBR0EsSUFBQXpFLEVBQUF4NUMsRUFBQXRVLElBQUFhLEdBQ0EsR0FBQWl0RCxFQUNBLE9BQUFBLEdBQUE5bUQsRUFFQThrRCxHQUFBOWlCLEVBR0ExMEIsRUFBQWl1QyxJQUFBMWhELEVBQUFtRyxHQUNBLElBQUFncUIsRUFBQXNoQyxHQUFBNzNDLEVBQUE1WixHQUFBNFosRUFBQXpULEdBQUE4a0QsRUFBQUMsRUFBQStGLEVBQUF4OUMsR0FFQSxPQURBQSxFQUFBLE9BQUF6VCxHQUNBbXdCLEVBRUEsS0FBQTBhLEdBQ0EsR0FBQW9jLEdBQ0EsT0FBQUEsR0FBQXhvRCxLQUFBdUIsSUFBQWluRCxHQUFBeG9ELEtBQUEwSCxHQUdBLFNBdDRFQXdyRCxDQUFBM3hELEVBQUFtRyxFQUFBaXJELEVBQUFuRyxFQUFBQyxFQUFBK0YsRUFBQXg5QyxHQUVBLEtBQUF3M0MsRUFBQS9pQixHQUFBLENBQ0EsSUFBQTBwQixFQUFBTixHQUFBbnhELEdBQUExQixLQUFBdUIsRUFBQSxlQUNBNnhELEVBQUFOLEdBQUFweEQsR0FBQTFCLEtBQUEwSCxFQUFBLGVBRUEsR0FBQXlyRCxHQUFBQyxFQUFBLENBQ0EsSUFBQUMsRUFBQUYsRUFBQTV4RCxFQUFBVCxRQUFBUyxFQUNBK3hELEVBQUFGLEVBQUExckQsRUFBQTVHLFFBQUE0RyxFQUdBLE9BREFzTixNQUFBLElBQUF1MUMsSUFDQWlJLEVBQUFhLEVBQUFDLEVBQUE5RyxFQUFBQyxFQUFBejNDLElBR0EsUUFBQSs5QyxJQUdBLzlDLE1BQUEsSUFBQXUxQyxJQXE0RUEsU0FBQWhwRCxFQUFBbUcsRUFBQThrRCxFQUFBQyxFQUFBK0YsRUFBQXg5QyxHQUNBLElBQUFpK0MsRUFBQXpHLEVBQUEvaUIsRUFDQThwQixFQUFBNUUsR0FBQXB0RCxHQUNBaXlELEVBQUFELEVBQUExd0QsT0FFQWl2RCxFQURBbkQsR0FBQWpuRCxHQUNBN0UsT0FFQSxHQUFBMndELEdBQUExQixJQUFBbUIsRUFDQSxTQUdBLElBREEsSUFBQXo5QyxFQUFBZytDLEVBQ0FoK0MsS0FBQSxDQUNBLElBQUFwVSxFQUFBbXlELEVBQUEvOUMsR0FDQSxLQUFBeTlDLEVBQUE3eEQsS0FBQXNHLEVBQUFoRyxHQUFBMUIsS0FBQTBILEVBQUF0RyxJQUNBLFNBSUEsSUFBQW90RCxFQUFBeDVDLEVBQUF0VSxJQUFBYSxHQUNBLEdBQUFpdEQsR0FBQXg1QyxFQUFBdFUsSUFBQWdILEdBQ0EsT0FBQThtRCxHQUFBOW1ELEVBRUEsSUFBQWdxQixHQUFBLEVBQ0ExYyxFQUFBaXVDLElBQUExaEQsRUFBQW1HLEdBQ0FzTixFQUFBaXVDLElBQUF2N0MsRUFBQW5HLEdBR0EsSUFEQSxJQUFBa3lELEVBQUFSLElBQ0F6OUMsRUFBQWcrQyxHQUFBLENBQ0FweUQsRUFBQW15RCxFQUFBLzlDLEdBQ0EsSUFBQWsyQyxFQUFBbnFELEVBQUFILEdBQ0FzeUQsRUFBQWhzRCxFQUFBdEcsR0FFQSxHQUFBcXJELEVBQ0EsSUFBQWtILEVBQUFWLEVBQ0F4RyxFQUFBaUgsRUFBQWhJLEVBQUF0cUQsRUFBQXNHLEVBQUFuRyxFQUFBeVQsR0FDQXkzQyxFQUFBZixFQUFBZ0ksRUFBQXR5RCxFQUFBRyxFQUFBbUcsRUFBQXNOLEdBR0EsS0FBQTIrQyxJQUFBNW1DLEVBQ0EyK0IsSUFBQWdJLEdBQUFsQixFQUFBOUcsRUFBQWdJLEVBQUFsSCxFQUFBQyxFQUFBejNDLEdBQ0EyK0MsR0FDQSxDQUNBamlDLEdBQUEsRUFDQSxNQUVBK2hDLE1BQUEsZUFBQXJ5RCxHQUVBLEdBQUFzd0IsSUFBQStoQyxFQUFBLENBQ0EsSUFBQUcsRUFBQXJ5RCxFQUFBc3JELFlBQ0FnSCxFQUFBbnNELEVBQUFtbEQsWUFHQStHLEdBQUFDLEdBQ0EsZ0JBQUF0eUQsR0FBQSxnQkFBQW1HLEtBQ0EsbUJBQUFrc0QsbUJBQ0EsbUJBQUFDLHFCQUNBbmlDLEdBQUEsR0FLQSxPQUZBMWMsRUFBQSxPQUFBelQsR0FDQXlULEVBQUEsT0FBQXROLEdBQ0FncUIsRUFqOEVBb2lDLENBQUF2eUQsRUFBQW1HLEVBQUE4a0QsRUFBQUMsRUFBQStGLEVBQUF4OUMsSUEzREErK0MsQ0FBQWp6RCxFQUFBNEcsRUFBQThrRCxFQUFBQyxFQUFBOEYsR0FBQXY5QyxJQW1GQSxTQUFBZy9DLEdBQUF6eUQsRUFBQXVPLEVBQUFta0QsRUFBQXhILEdBQ0EsSUFBQWozQyxFQUFBeStDLEVBQUFweEQsT0FDQUEsRUFBQTJTLEVBQ0EwK0MsR0FBQXpILEVBRUEsU0FBQWxyRCxFQUNBLE9BQUFzQixFQUdBLElBREF0QixFQUFBaEIsR0FBQWdCLEdBQ0FpVSxLQUFBLENBQ0EsSUFBQWdULEVBQUF5ckMsRUFBQXorQyxHQUNBLEdBQUEwK0MsR0FBQTFyQyxFQUFBLEdBQ0FBLEVBQUEsS0FBQWpuQixFQUFBaW5CLEVBQUEsTUFDQUEsRUFBQSxLQUFBam5CLEdBRUEsU0FHQSxPQUFBaVUsRUFBQTNTLEdBQUEsQ0FFQSxJQUFBekIsR0FEQW9uQixFQUFBeXJDLEVBQUF6K0MsSUFDQSxHQUNBazJDLEVBQUFucUQsRUFBQUgsR0FDQSt5RCxFQUFBM3JDLEVBQUEsR0FFQSxHQUFBMHJDLEdBQUExckMsRUFBQSxJQUNBLEdBQUFrakMsSUFBQTMrQixLQUFBM3JCLEtBQUFHLEdBQ0EsYUFFUyxDQUNULElBQUF5VCxFQUFBLElBQUF1MUMsR0FDQSxHQUFBa0MsRUFDQSxJQUFBLzZCLEVBQUErNkIsRUFBQWYsRUFBQXlJLEVBQUEveUQsRUFBQUcsRUFBQXVPLEVBQUFrRixHQUVBLEtBQUEwYyxJQUFBM0UsRUFDQXdsQyxHQUFBNEIsRUFBQXpJLEVBQUFqaUIsRUFBQUMsRUFBQStpQixFQUFBejNDLEdBQ0EwYyxHQUVBLFVBSUEsU0FXQSxTQUFBMGlDLEdBQUF0ekQsR0FDQSxTQUFBb29ELEdBQUFwb0QsSUFvNEZBLFNBQUF3WSxHQUNBLFFBQUFxckMsVUFBQXJyQyxFQXI0RkErNkMsQ0FBQXZ6RCxNQUdBOHZELEdBQUE5dkQsR0FBQXFrRCxHQUFBcFcsSUFDQTBULEtBQUF5RixHQUFBcG5ELElBNENBLFNBQUF3ekQsR0FBQXh6RCxHQUdBLHlCQUFBQSxFQUNBQSxFQUVBLE1BQUFBLEVBQ0F5ekQsR0FFQSxpQkFBQXp6RCxFQUNBNmlCLEdBQUE3aUIsR0FDQTB6RCxHQUFBMXpELEVBQUEsR0FBQUEsRUFBQSxJQUNBMnpELEdBQUEzekQsR0FFQVUsR0FBQVYsR0FVQSxTQUFBNHpELEdBQUFuekQsR0FDQSxJQUFBb3pELEdBQUFwekQsR0FDQSxPQUFBMmxELEdBQUEzbEQsR0FFQSxJQUFBbXdCLEtBQ0EsUUFBQXR3QixLQUFBYixHQUFBZ0IsR0FDQUcsR0FBQTFCLEtBQUF1QixFQUFBSCxJQUFBLGVBQUFBLEdBQ0Fzd0IsRUFBQWxvQixLQUFBcEksR0FHQSxPQUFBc3dCLEVBVUEsU0FBQWtqQyxHQUFBcnpELEdBQ0EsSUFBQTJuRCxHQUFBM25ELEdBQ0EsT0FvOEZBLFNBQUFBLEdBQ0EsSUFBQW13QixLQUNBLFNBQUFud0IsRUFDQSxRQUFBSCxLQUFBYixHQUFBZ0IsR0FDQW13QixFQUFBbG9CLEtBQUFwSSxHQUdBLE9BQUFzd0IsRUEzOEZBbWpDLENBQUF0ekQsR0FFQSxJQUFBdXpELEVBQUFILEdBQUFwekQsR0FDQW13QixLQUVBLFFBQUF0d0IsS0FBQUcsR0FDQSxlQUFBSCxJQUFBMHpELEdBQUFwekQsR0FBQTFCLEtBQUF1QixFQUFBSCxLQUNBc3dCLEVBQUFsb0IsS0FBQXBJLEdBR0EsT0FBQXN3QixFQVlBLFNBQUFxakMsR0FBQWowRCxFQUFBNEcsR0FDQSxPQUFBNUcsRUFBQTRHLEVBV0EsU0FBQXN0RCxHQUFBbmdCLEVBQUFyQixHQUNBLElBQUFoK0IsR0FBQSxFQUNBa2MsRUFBQXVqQyxHQUFBcGdCLEdBQUFueEIsRUFBQW14QixFQUFBaHlDLFdBS0EsT0FIQWdwRCxHQUFBaFgsRUFBQSxTQUFBL3pDLEVBQUFNLEVBQUF5ekMsR0FDQW5qQixJQUFBbGMsR0FBQWcrQixFQUFBMXlDLEVBQUFNLEVBQUF5ekMsS0FFQW5qQixFQVVBLFNBQUEraUMsR0FBQTNrRCxHQUNBLElBQUFta0QsRUFBQWlCLEdBQUFwbEQsR0FDQSxVQUFBbWtELEVBQUFweEQsUUFBQW94RCxFQUFBLE1BQ0FrQixHQUFBbEIsRUFBQSxNQUFBQSxFQUFBLE9BRUEsU0FBQTF5RCxHQUNBLE9BQUFBLElBQUF1TyxHQUFBa2tELEdBQUF6eUQsRUFBQXVPLEVBQUFta0QsSUFZQSxTQUFBTyxHQUFBMUQsRUFBQXFELEdBQ0EsT0FBQWlCLEdBQUF0RSxJQUFBdUUsR0FBQWxCLEdBQ0FnQixHQUFBbkUsR0FBQUYsR0FBQXFELEdBRUEsU0FBQTV5RCxHQUNBLElBQUFtcUQsRUFBQWhyRCxHQUFBYSxFQUFBdXZELEdBQ0EsT0FBQXBGLElBQUEzK0IsR0FBQTIrQixJQUFBeUksRUFDQW1CLEdBQUEvekQsRUFBQXV2RCxHQUNBeUIsR0FBQTRCLEVBQUF6SSxFQUFBamlCLEVBQUFDLElBZUEsU0FBQTZyQixHQUFBaDBELEVBQUF1TyxFQUFBMGxELEVBQUEvSSxFQUFBejNDLEdBQ0F6VCxJQUFBdU8sR0FHQTBnRCxHQUFBMWdELEVBQUEsU0FBQXFrRCxFQUFBL3lELEdBQ0EsR0FBQThuRCxHQUFBaUwsR0FDQW4vQyxNQUFBLElBQUF1MUMsSUErQkEsU0FBQWhwRCxFQUFBdU8sRUFBQTFPLEVBQUFvMEQsRUFBQUMsRUFBQWhKLEVBQUF6M0MsR0FDQSxJQUFBMDJDLEVBQUEzSSxHQUFBeGhELEVBQUFILEdBQ0EreUQsRUFBQXBSLEdBQUFqekMsRUFBQTFPLEdBQ0FvdEQsRUFBQXg1QyxFQUFBdFUsSUFBQXl6RCxHQUVBLEdBQUEzRixFQUNBakQsR0FBQWhxRCxFQUFBSCxFQUFBb3RELE9BREEsQ0FJQSxJQUFBeHpCLEVBQUF5eEIsRUFDQUEsRUFBQWYsRUFBQXlJLEVBQUEveUQsRUFBQSxHQUFBRyxFQUFBdU8sRUFBQWtGLEdBQ0ErWCxFQUVBZ2lDLEVBQUEvekIsSUFBQWpPLEVBRUEsR0FBQWdpQyxFQUFBLENBQ0EsSUFBQXJFLEVBQUEvbUMsR0FBQXd3QyxHQUNBdEosR0FBQUgsR0FBQTVELEdBQUFxTixHQUNBajZCLEdBQUF3d0IsSUFBQUcsR0FBQXpYLEdBQUErZ0IsR0FFQW41QixFQUFBbTVCLEVBQ0F6SixHQUFBRyxHQUFBM3dCLEVBQ0F2VyxHQUFBK25DLEdBQ0Exd0IsRUFBQTB3QixFQUVBZ0ssR0FBQWhLLEdBQ0Exd0IsRUFBQW93QixHQUFBTSxHQUVBYixHQUNBa0UsR0FBQSxFQUNBL3pCLEVBQUFteUIsR0FBQWdILEdBQUEsSUFFQWo2QixHQUNBNjBCLEdBQUEsRUFDQS96QixFQUFBa3pCLEdBQUFpRyxHQUFBLElBR0FuNUIsS0FHQTI2QixHQUFBeEIsSUFBQXZKLEdBQUF1SixJQUNBbjVCLEVBQUEwd0IsRUFDQWQsR0FBQWMsR0FDQTF3QixFQUFBNDZCLEdBQUFsSyxLQUVBeEMsR0FBQXdDLElBQUE4SixHQUFBNUUsR0FBQWxGLE1BQ0Exd0IsRUFBQW95QixHQUFBK0csS0FJQXBGLEdBQUEsRUFHQUEsSUFFQS81QyxFQUFBaXVDLElBQUFrUixFQUFBbjVCLEdBQ0F5NkIsRUFBQXo2QixFQUFBbTVCLEVBQUFxQixFQUFBL0ksRUFBQXozQyxHQUNBQSxFQUFBLE9BQUFtL0MsSUFFQTVJLEdBQUFocUQsRUFBQUgsRUFBQTQ1QixJQXpGQTY2QixDQUFBdDBELEVBQUF1TyxFQUFBMU8sRUFBQW8wRCxFQUFBRCxHQUFBOUksRUFBQXozQyxPQUVBLENBQ0EsSUFBQWdtQixFQUFBeXhCLEVBQ0FBLEVBQUExSixHQUFBeGhELEVBQUFILEdBQUEreUQsRUFBQS95RCxFQUFBLEdBQUFHLEVBQUF1TyxFQUFBa0YsR0FDQStYLEVBRUFpTyxJQUFBak8sSUFDQWlPLEVBQUFtNUIsR0FFQTVJLEdBQUFocUQsRUFBQUgsRUFBQTQ1QixLQUVPdXlCLElBd0ZQLFNBQUF1SSxHQUFBbjhDLEVBQUFyWSxHQUNBLElBQUF1QixFQUFBOFcsRUFBQTlXLE9BQ0EsR0FBQUEsRUFJQSxPQUFBa29ELEdBREF6cEQsS0FBQSxFQUFBdUIsRUFBQSxFQUNBQSxHQUFBOFcsRUFBQXJZLEdBQUF5ckIsRUFZQSxTQUFBZ3BDLEdBQUFsaEIsRUFBQW1oQixFQUFBQyxHQUNBLElBQUF6Z0QsR0FBQSxFQVVBLE9BVEF3Z0QsRUFBQTVoQixHQUFBNGhCLEVBQUFuekQsT0FBQW16RCxHQUFBekIsSUFBQTVlLEdBQUF1Z0IsT0E5dkZBLFNBQUF2OEMsRUFBQW9jLEdBQ0EsSUFBQWx6QixFQUFBOFcsRUFBQTlXLE9BR0EsSUFEQThXLEVBQUF3OEMsS0FBQXBnQyxHQUNBbHpCLEtBQ0E4VyxFQUFBOVcsR0FBQThXLEVBQUE5VyxHQUFBL0IsTUFFQSxPQUFBNlksRUFnd0ZBeThDLENBUEFwQixHQUFBbmdCLEVBQUEsU0FBQS96QyxFQUFBTSxFQUFBeXpDLEdBSUEsT0FBZ0J3aEIsU0FIaEJqaUIsR0FBQTRoQixFQUFBLFNBQUF4aUIsR0FDQSxPQUFBQSxFQUFBMXlDLEtBRWdCMFUsVUFBQTFVLFdBR2hCLFNBQUFTLEVBQUFtRyxHQUNBLE9BbTRCQSxTQUFBbkcsRUFBQW1HLEVBQUF1dUQsR0FPQSxJQU5BLElBQUF6Z0QsR0FBQSxFQUNBOGdELEVBQUEvMEQsRUFBQTgwRCxTQUNBRSxFQUFBN3VELEVBQUEydUQsU0FDQXh6RCxFQUFBeXpELEVBQUF6ekQsT0FDQTJ6RCxFQUFBUCxFQUFBcHpELFNBRUEyUyxFQUFBM1MsR0FBQSxDQUNBLElBQUE2dUIsRUFBQStrQyxHQUFBSCxFQUFBOWdELEdBQUErZ0QsRUFBQS9nRCxJQUNBLEdBQUFrYyxFQUFBLENBQ0EsR0FBQWxjLEdBQUFnaEQsRUFDQSxPQUFBOWtDLEVBRUEsSUFBQWdsQyxFQUFBVCxFQUFBemdELEdBQ0EsT0FBQWtjLEdBQUEsUUFBQWdsQyxHQUFBLE1BVUEsT0FBQW4xRCxFQUFBaVUsTUFBQTlOLEVBQUE4TixNQTM1QkFtaEQsQ0FBQXAxRCxFQUFBbUcsRUFBQXV1RCxLQTRCQSxTQUFBVyxHQUFBcjFELEVBQUF1bkMsRUFBQStLLEdBS0EsSUFKQSxJQUFBcitCLEdBQUEsRUFDQTNTLEVBQUFpbUMsRUFBQWptQyxPQUNBNnVCLE9BRUFsYyxFQUFBM1MsR0FBQSxDQUNBLElBQUFpdUQsRUFBQWhvQixFQUFBdHpCLEdBQ0ExVSxFQUFBK3ZELEdBQUF0dkQsRUFBQXV2RCxHQUVBamQsRUFBQS95QyxFQUFBZ3dELElBQ0ErRixHQUFBbmxDLEVBQUFxL0IsR0FBQUQsRUFBQXZ2RCxHQUFBVCxHQUdBLE9BQUE0d0IsRUEyQkEsU0FBQW9sQyxHQUFBbjlDLEVBQUF5ZSxFQUFBb2IsRUFBQVcsR0FDQSxJQUFBcnFDLEVBQUFxcUMsRUFBQWlCLEdBQUFuQixHQUNBeitCLEdBQUEsRUFDQTNTLEVBQUF1MUIsRUFBQXYxQixPQUNBc3ZELEVBQUF4NEMsRUFRQSxJQU5BQSxJQUFBeWUsSUFDQUEsRUFBQWd6QixHQUFBaHpCLElBRUFvYixJQUNBMmUsRUFBQS9kLEdBQUF6NkIsRUFBQWc4QixHQUFBbkMsT0FFQWgrQixFQUFBM1MsR0FLQSxJQUpBLElBQUFteUMsRUFBQSxFQUNBbDBDLEVBQUFzM0IsRUFBQTVpQixHQUNBMDVDLEVBQUExYixJQUFBMXlDLE1BRUFrMEMsRUFBQWxyQyxFQUFBcW9ELEVBQUFqRCxFQUFBbGEsRUFBQWIsS0FBQSxHQUNBZ2UsSUFBQXg0QyxHQUNBZ3NDLEdBQUEzbEQsS0FBQW15RCxFQUFBbmQsRUFBQSxHQUVBMlEsR0FBQTNsRCxLQUFBMlosRUFBQXE3QixFQUFBLEdBR0EsT0FBQXI3QixFQVlBLFNBQUFvOUMsR0FBQXA5QyxFQUFBcTlDLEdBSUEsSUFIQSxJQUFBbjBELEVBQUE4VyxFQUFBcTlDLEVBQUFuMEQsT0FBQSxFQUNBc2dELEVBQUF0Z0QsRUFBQSxFQUVBQSxLQUFBLENBQ0EsSUFBQTJTLEVBQUF3aEQsRUFBQW4wRCxHQUNBLEdBQUFBLEdBQUFzZ0QsR0FBQTN0QyxJQUFBeWhELEVBQUEsQ0FDQSxJQUFBQSxFQUFBemhELEVBQ0F1MUMsR0FBQXYxQyxHQUNBbXdDLEdBQUEzbEQsS0FBQTJaLEVBQUFuRSxFQUFBLEdBRUEwaEQsR0FBQXY5QyxFQUFBbkUsSUFJQSxPQUFBbUUsRUFZQSxTQUFBc3hDLEdBQUFvQixFQUFBQyxHQUNBLE9BQUFELEVBQUEzRixHQUFBYSxNQUFBK0UsRUFBQUQsRUFBQSxJQWtDQSxTQUFBOEssR0FBQTNVLEVBQUFsaEQsR0FDQSxJQUFBb3dCLEVBQUEsR0FDQSxJQUFBOHdCLEdBQUFsaEQsRUFBQSxHQUFBQSxFQUFBc3BDLEVBQ0EsT0FBQWxaLEVBSUEsR0FDQXB3QixFQUFBLElBQ0Fvd0IsR0FBQTh3QixJQUVBbGhELEVBQUFvbEQsR0FBQXBsRCxFQUFBLE1BRUFraEQsWUFFT2xoRCxHQUVQLE9BQUFvd0IsRUFXQSxTQUFBMGxDLEdBQUE5OUMsRUFBQW5KLEdBQ0EsT0FBQWtuRCxHQUFBQyxHQUFBaCtDLEVBQUFuSixFQUFBb2tELElBQUFqN0MsRUFBQSxJQVVBLFNBQUFpK0MsR0FBQTFpQixHQUNBLE9BQUFtVyxHQUFBNXlCLEdBQUF5YyxJQVdBLFNBQUEyaUIsR0FBQTNpQixFQUFBdnpDLEdBQ0EsSUFBQXFZLEVBQUF5ZSxHQUFBeWMsR0FDQSxPQUFBc1csR0FBQXh4QyxFQUFBMHhDLEdBQUEvcEQsRUFBQSxFQUFBcVksRUFBQTlXLFNBYUEsU0FBQWcwRCxHQUFBdDFELEVBQUF1dkQsRUFBQWh3RCxFQUFBMnJELEdBQ0EsSUFBQXZELEdBQUEzbkQsR0FDQSxPQUFBQSxFQVNBLElBTEEsSUFBQWlVLEdBQUEsRUFDQTNTLEdBSEFpdUQsRUFBQUMsR0FBQUQsRUFBQXZ2RCxJQUdBc0IsT0FDQXNnRCxFQUFBdGdELEVBQUEsRUFDQTQwRCxFQUFBbDJELEVBRUEsTUFBQWsyRCxLQUFBamlELEVBQUEzUyxHQUFBLENBQ0EsSUFBQXpCLEVBQUE0dkQsR0FBQUYsRUFBQXQ3QyxJQUNBd2xCLEVBQUFsNkIsRUFFQSxHQUFBMFUsR0FBQTJ0QyxFQUFBLENBQ0EsSUFBQXVJLEVBQUErTCxFQUFBcjJELElBQ0E0NUIsRUFBQXl4QixJQUFBZixFQUFBdHFELEVBQUFxMkQsR0FBQTFxQyxLQUNBQSxJQUNBaU8sRUFBQWt1QixHQUFBd0MsR0FDQUEsRUFDQVgsR0FBQStGLEVBQUF0N0MsRUFBQSxXQUdBaTJDLEdBQUFnTSxFQUFBcjJELEVBQUE0NUIsR0FDQXk4QixJQUFBcjJELEdBRUEsT0FBQUcsRUFXQSxJQUFBbTJELEdBQUEzUCxHQUFBLFNBQUF6dUMsRUFBQWtQLEdBRUEsT0FEQXUvQixHQUFBOUUsSUFBQTNwQyxFQUFBa1AsR0FDQWxQLEdBRkFpN0MsR0FhQW9ELEdBQUFuM0QsR0FBQSxTQUFBOFksRUFBQWtwQyxHQUNBLE9BQUFoaUQsR0FBQThZLEVBQUEsWUFDQTB5QyxjQUFBLEVBQ0F2ckQsWUFBQSxFQUNBSyxNQUFBODJELEdBQUFwVixHQUNBeUosVUFBQSxLQUxBc0ksR0FnQkEsU0FBQXNELEdBQUFoakIsR0FDQSxPQUFBc1csR0FBQS95QixHQUFBeWMsSUFZQSxTQUFBaWpCLEdBQUFuK0MsRUFBQXhKLEVBQUFDLEdBQ0EsSUFBQW9GLEdBQUEsRUFDQTNTLEVBQUE4VyxFQUFBOVcsT0FFQXNOLEVBQUEsSUFDQUEsS0FBQXROLEVBQUEsRUFBQUEsRUFBQXNOLElBRUFDLElBQUF2TixJQUFBdU4sR0FDQSxJQUNBQSxHQUFBdk4sR0FFQUEsRUFBQXNOLEVBQUFDLEVBQUEsRUFBQUEsRUFBQUQsSUFBQSxFQUNBQSxLQUFBLEVBR0EsSUFEQSxJQUFBdWhCLEVBQUFoTyxFQUFBN2dCLEtBQ0EyUyxFQUFBM1MsR0FDQTZ1QixFQUFBbGMsR0FBQW1FLEVBQUFuRSxFQUFBckYsR0FFQSxPQUFBdWhCLEVBWUEsU0FBQXFtQyxHQUFBbGpCLEVBQUFoQixHQUNBLElBQUFuaUIsRUFNQSxPQUpBbTZCLEdBQUFoWCxFQUFBLFNBQUEvekMsRUFBQTBVLEVBQUFxL0IsR0FFQSxRQURBbmpCLEVBQUFtaUIsRUFBQS95QyxFQUFBMFUsRUFBQXEvQixRQUdBbmpCLEVBZUEsU0FBQXNtQyxHQUFBcitDLEVBQUE3WSxFQUFBbTNELEdBQ0EsSUFBQUMsRUFBQSxFQUNBQyxFQUFBLE1BQUF4K0MsRUFBQXUrQyxFQUFBditDLEVBQUE5VyxPQUVBLG9CQUFBL0IsU0FBQXEzRCxHQUFBbHRCLEVBQUEsQ0FDQSxLQUFBaXRCLEVBQUFDLEdBQUEsQ0FDQSxJQUFBQyxFQUFBRixFQUFBQyxJQUFBLEVBQ0FqSixFQUFBdjFDLEVBQUF5K0MsR0FFQSxPQUFBbEosSUFBQWlCLEdBQUFqQixLQUNBK0ksRUFBQS9JLEdBQUFwdUQsRUFBQW91RCxFQUFBcHVELEdBQ0FvM0QsRUFBQUUsRUFBQSxFQUVBRCxFQUFBQyxFQUdBLE9BQUFELEVBRUEsT0FBQUUsR0FBQTErQyxFQUFBN1ksRUFBQXl6RCxHQUFBMEQsR0FnQkEsU0FBQUksR0FBQTErQyxFQUFBN1ksRUFBQTB5QyxFQUFBeWtCLEdBQ0FuM0QsRUFBQTB5QyxFQUFBMXlDLEdBU0EsSUFQQSxJQUFBbzNELEVBQUEsRUFDQUMsRUFBQSxNQUFBeCtDLEVBQUEsRUFBQUEsRUFBQTlXLE9BQ0F5MUQsRUFBQXgzRCxLQUNBeTNELEVBQUEsT0FBQXozRCxFQUNBMDNELEVBQUFySSxHQUFBcnZELEdBQ0EyM0QsRUFBQTMzRCxJQUFBaXNCLEVBRUFtckMsRUFBQUMsR0FBQSxDQUNBLElBQUFDLEVBQUExUixJQUFBd1IsRUFBQUMsR0FBQSxHQUNBakosRUFBQTFiLEVBQUE3NUIsRUFBQXkrQyxJQUNBTSxFQUFBeEosSUFBQW5pQyxFQUNBNHJDLEVBQUEsT0FBQXpKLEVBQ0EwSixFQUFBMUosS0FDQTJKLEVBQUExSSxHQUFBakIsR0FFQSxHQUFBb0osRUFDQSxJQUFBUSxFQUFBYixHQUFBVyxPQUVBRSxFQURTTCxFQUNURyxJQUFBWCxHQUFBUyxHQUNTSCxFQUNUSyxHQUFBRixJQUFBVCxJQUFBVSxHQUNTSCxFQUNUSSxHQUFBRixJQUFBQyxJQUFBVixJQUFBWSxJQUNTRixJQUFBRSxJQUdUWixFQUFBL0ksR0FBQXB1RCxFQUFBb3VELEVBQUFwdUQsR0FFQWc0RCxFQUNBWixFQUFBRSxFQUFBLEVBRUFELEVBQUFDLEVBR0EsT0FBQWhSLEdBQUErUSxFQUFBbnRCLEdBWUEsU0FBQSt0QixHQUFBcC9DLEVBQUE2NUIsR0FNQSxJQUxBLElBQUFoK0IsR0FBQSxFQUNBM1MsRUFBQThXLEVBQUE5VyxPQUNBa3hDLEVBQUEsRUFDQXJpQixPQUVBbGMsRUFBQTNTLEdBQUEsQ0FDQSxJQUFBL0IsRUFBQTZZLEVBQUFuRSxHQUNBMDVDLEVBQUExYixJQUFBMXlDLEtBRUEsSUFBQTBVLElBQUFpYSxHQUFBeS9CLEVBQUFpRCxHQUFBLENBQ0EsSUFBQUEsRUFBQWpELEVBQ0F4OUIsRUFBQXFpQixLQUFBLElBQUFqekMsRUFBQSxFQUFBQSxHQUdBLE9BQUE0d0IsRUFXQSxTQUFBc25DLEdBQUFsNEQsR0FDQSx1QkFBQUEsRUFDQUEsRUFFQXF2RCxHQUFBcnZELEdBQ0FncUMsR0FFQWhxQyxFQVdBLFNBQUFtNEQsR0FBQW40RCxHQUVBLG9CQUFBQSxFQUNBLE9BQUFBLEVBRUEsR0FBQTZpQixHQUFBN2lCLEdBRUEsT0FBQXN6QyxHQUFBdHpDLEVBQUFtNEQsSUFBQSxHQUVBLEdBQUE5SSxHQUFBcnZELEdBQ0EsT0FBQTRuRCxNQUFBMW9ELEtBQUFjLEdBQUEsR0FFQSxJQUFBNHdCLEVBQUE1d0IsRUFBQSxHQUNBLFdBQUE0d0IsR0FBQSxFQUFBNXdCLElBQUE2cEMsRUFBQSxLQUFBalosRUFZQSxTQUFBd25DLEdBQUF2L0MsRUFBQTY1QixFQUFBVyxHQUNBLElBQUEzK0IsR0FBQSxFQUNBZ08sRUFBQXd3QixHQUNBbnhDLEVBQUE4VyxFQUFBOVcsT0FDQWtzRCxHQUFBLEVBQ0FyOUIsS0FDQXlnQyxFQUFBemdDLEVBRUEsR0FBQXlpQixFQUNBNGEsR0FBQSxFQUNBdnJDLEVBQUEwd0IsUUFFQSxHQUFBcnhDLEdBQUFtbUMsRUFBQSxDQUNBLElBQUFpYSxFQUFBelAsRUFBQSxLQUFBMmxCLEdBQUF4L0MsR0FDQSxHQUFBc3BDLEVBQ0EsT0FBQUQsR0FBQUMsR0FFQThMLEdBQUEsRUFDQXZyQyxFQUFBc3lCLEdBQ0FxYyxFQUFBLElBQUE5SCxRQUdBOEgsRUFBQTNlLEtBQUE5aEIsRUFFQXU5QixFQUNBLE9BQUF6NUMsRUFBQTNTLEdBQUEsQ0FDQSxJQUFBL0IsRUFBQTZZLEVBQUFuRSxHQUNBMDVDLEVBQUExYixJQUFBMXlDLEtBR0EsR0FEQUEsRUFBQXF6QyxHQUFBLElBQUFyekMsSUFBQSxFQUNBaXVELEdBQUFHLEtBQUEsQ0FFQSxJQURBLElBQUFrSyxFQUFBakgsRUFBQXR2RCxPQUNBdTJELEtBQ0EsR0FBQWpILEVBQUFpSCxLQUFBbEssRUFDQSxTQUFBRCxFQUdBemIsR0FDQTJlLEVBQUEzb0QsS0FBQTBsRCxHQUVBeDlCLEVBQUFsb0IsS0FBQTFJLFFBRUEwaUIsRUFBQTJ1QyxFQUFBakQsRUFBQS9hLEtBQ0FnZSxJQUFBemdDLEdBQ0F5Z0MsRUFBQTNvRCxLQUFBMGxELEdBRUF4OUIsRUFBQWxvQixLQUFBMUksSUFHQSxPQUFBNHdCLEVBV0EsU0FBQXdsQyxHQUFBMzFELEVBQUF1dkQsR0FHQSxjQURBdnZELEVBQUF5UCxHQUFBelAsRUFEQXV2RCxFQUFBQyxHQUFBRCxFQUFBdnZELGFBRUFBLEVBQUF5dkQsR0FBQXFCLEdBQUF2QixLQWFBLFNBQUF1SSxHQUFBOTNELEVBQUF1dkQsRUFBQXdJLEVBQUE3TSxHQUNBLE9BQUFvSyxHQUFBdDFELEVBQUF1dkQsRUFBQXdJLEVBQUF6SSxHQUFBdHZELEVBQUF1dkQsSUFBQXJFLEdBY0EsU0FBQThNLEdBQUE1L0MsRUFBQWs2QixFQUFBMmxCLEVBQUF2a0IsR0FJQSxJQUhBLElBQUFweUMsRUFBQThXLEVBQUE5VyxPQUNBMlMsRUFBQXkvQixFQUFBcHlDLEdBQUEsR0FFQW95QyxFQUFBei9CLFFBQUEzUyxJQUNBZ3hDLEVBQUFsNkIsRUFBQW5FLEtBQUFtRSxLQUVBLE9BQUE2L0MsRUFDQTFCLEdBQUFuK0MsRUFBQXM3QixFQUFBLEVBQUF6L0IsRUFBQXkvQixFQUFBei9CLEVBQUEsRUFBQTNTLEdBQ0FpMUQsR0FBQW4rQyxFQUFBczdCLEVBQUF6L0IsRUFBQSxJQUFBeS9CLEVBQUFweUMsRUFBQTJTLEdBYUEsU0FBQWlrRCxHQUFBMzRELEVBQUE0NEQsR0FDQSxJQUFBaG9DLEVBQUE1d0IsRUFJQSxPQUhBNHdCLGFBQUFtM0IsS0FDQW4zQixJQUFBNXdCLFNBRUF3ekMsR0FBQW9sQixFQUFBLFNBQUFob0MsRUFBQWlvQyxHQUNBLE9BQUFBLEVBQUFyZ0QsS0FBQTdRLE1BQUFreEQsRUFBQXRtQixRQUFBZ0IsSUFBQTNpQixHQUFBaW9DLEVBQUE3NUIsUUFDT3BPLEdBYVAsU0FBQWtvQyxHQUFBL0gsRUFBQXJlLEVBQUFXLEdBQ0EsSUFBQXR4QyxFQUFBZ3ZELEVBQUFodkQsT0FDQSxHQUFBQSxFQUFBLEVBQ0EsT0FBQUEsRUFBQXEyRCxHQUFBckgsRUFBQSxPQUtBLElBSEEsSUFBQXI4QyxHQUFBLEVBQ0FrYyxFQUFBaE8sRUFBQTdnQixLQUVBMlMsRUFBQTNTLEdBSUEsSUFIQSxJQUFBOFcsRUFBQWs0QyxFQUFBcjhDLEdBQ0F1OEMsR0FBQSxJQUVBQSxFQUFBbHZELEdBQ0FrdkQsR0FBQXY4QyxJQUNBa2MsRUFBQWxjLEdBQUFzNUMsR0FBQXA5QixFQUFBbGMsSUFBQW1FLEVBQUFrNEMsRUFBQUUsR0FBQXZlLEVBQUFXLElBSUEsT0FBQStrQixHQUFBN0ksR0FBQTMrQixFQUFBLEdBQUE4aEIsRUFBQVcsR0FZQSxTQUFBMGxCLEdBQUFoa0IsRUFBQXpkLEVBQUEwaEMsR0FNQSxJQUxBLElBQUF0a0QsR0FBQSxFQUNBM1MsRUFBQWd6QyxFQUFBaHpDLE9BQ0FrM0QsRUFBQTNoQyxFQUFBdjFCLE9BQ0E2dUIsT0FFQWxjLEVBQUEzUyxHQUFBLENBQ0EsSUFBQS9CLEVBQUEwVSxFQUFBdWtELEVBQUEzaEMsRUFBQTVpQixHQUFBdVgsRUFDQStzQyxFQUFBcG9DLEVBQUFta0IsRUFBQXJnQyxHQUFBMVUsR0FFQSxPQUFBNHdCLEVBVUEsU0FBQXNvQyxHQUFBbDVELEdBQ0EsT0FBQTQwRCxHQUFBNTBELFFBVUEsU0FBQW01RCxHQUFBbjVELEdBQ0EseUJBQUFBLElBQUF5ekQsR0FXQSxTQUFBeEQsR0FBQWp3RCxFQUFBUyxHQUNBLE9BQUFvaUIsR0FBQTdpQixHQUNBQSxFQUVBczBELEdBQUF0MEQsRUFBQVMsSUFBQVQsR0FBQW81RCxHQUFBbjBELEdBQUFqRixJQVlBLElBQUFxNUQsR0FBQS9DLEdBV0EsU0FBQWdELEdBQUF6Z0QsRUFBQXhKLEVBQUFDLEdBQ0EsSUFBQXZOLEVBQUE4VyxFQUFBOVcsT0FFQSxPQURBdU4sTUFBQTJjLEVBQUFscUIsRUFBQXVOLEdBQ0FELEdBQUFDLEdBQUF2TixFQUFBOFcsRUFBQW0rQyxHQUFBbitDLEVBQUF4SixFQUFBQyxHQVNBLElBQUErMUMsR0FBQUQsSUFBQSxTQUFBNzJDLEdBQ0EsT0FBQSsyQixHQUFBK2YsYUFBQTkyQyxJQVdBLFNBQUE4OUMsR0FBQVcsRUFBQXBCLEdBQ0EsR0FBQUEsRUFDQSxPQUFBb0IsRUFBQS8xQixRQUVBLElBQUFsMUIsRUFBQWlyRCxFQUFBanJELE9BQ0E2dUIsRUFBQTR6QixNQUFBemlELEdBQUEsSUFBQWlyRCxFQUFBakIsWUFBQWhxRCxHQUdBLE9BREFpckQsRUFBQXQxQyxLQUFBa1osR0FDQUEsRUFVQSxTQUFBazhCLEdBQUF5TSxHQUNBLElBQUEzb0MsRUFBQSxJQUFBMm9DLEVBQUF4TixZQUFBd04sRUFBQXJNLFlBRUEsT0FEQSxJQUFBM0ksR0FBQTN6QixHQUFBdXhCLElBQUEsSUFBQW9DLEdBQUFnVixJQUNBM29DLEVBZ0RBLFNBQUF3OEIsR0FBQW9NLEVBQUE1TixHQUNBLElBQUFvQixFQUFBcEIsRUFBQWtCLEdBQUEwTSxFQUFBeE0sUUFBQXdNLEVBQUF4TSxPQUNBLFdBQUF3TSxFQUFBek4sWUFBQWlCLEVBQUF3TSxFQUFBdk0sV0FBQXVNLEVBQUF6M0QsUUFXQSxTQUFBNHpELEdBQUEzMUQsRUFBQTRHLEdBQ0EsR0FBQTVHLElBQUE0RyxFQUFBLENBQ0EsSUFBQTZ5RCxFQUFBejVELElBQUFpc0IsRUFDQXdyQyxFQUFBLE9BQUF6M0QsRUFDQTA1RCxFQUFBMTVELEtBQ0EwM0QsRUFBQXJJLEdBQUFydkQsR0FFQTQzRCxFQUFBaHhELElBQUFxbEIsRUFDQTRyQyxFQUFBLE9BQUFqeEQsRUFDQWt4RCxFQUFBbHhELEtBQ0FteEQsRUFBQTFJLEdBQUF6b0QsR0FFQSxJQUFBaXhELElBQUFFLElBQUFMLEdBQUExM0QsRUFBQTRHLEdBQ0E4d0QsR0FBQUUsR0FBQUUsSUFBQUQsSUFBQUUsR0FDQU4sR0FBQUcsR0FBQUUsSUFDQTJCLEdBQUEzQixJQUNBNEIsRUFDQSxTQUVBLElBQUFqQyxJQUFBQyxJQUFBSyxHQUFBLzNELEVBQUE0RyxHQUNBbXhELEdBQUEwQixHQUFBQyxJQUFBakMsSUFBQUMsR0FDQUcsR0FBQTRCLEdBQUFDLElBQ0E5QixHQUFBOEIsSUFDQTVCLEVBQ0EsU0FHQSxTQXVEQSxTQUFBNkIsR0FBQTM2QixFQUFBNDZCLEVBQUFDLEVBQUFDLEdBVUEsSUFUQSxJQUFBQyxHQUFBLEVBQ0FDLEVBQUFoN0IsRUFBQWo5QixPQUNBazRELEVBQUFKLEVBQUE5M0QsT0FDQW00RCxHQUFBLEVBQ0FDLEVBQUFQLEVBQUE3M0QsT0FDQXE0RCxFQUFBL1QsR0FBQTJULEVBQUFDLEVBQUEsR0FDQXJwQyxFQUFBaE8sRUFBQXUzQyxFQUFBQyxHQUNBQyxHQUFBUCxJQUVBSSxFQUFBQyxHQUNBdnBDLEVBQUFzcEMsR0FBQU4sRUFBQU0sR0FFQSxPQUFBSCxFQUFBRSxJQUNBSSxHQUFBTixFQUFBQyxLQUNBcHBDLEVBQUFpcEMsRUFBQUUsSUFBQS82QixFQUFBKzZCLElBR0EsS0FBQUssS0FDQXhwQyxFQUFBc3BDLEtBQUFsN0IsRUFBQSs2QixLQUVBLE9BQUFucEMsRUFjQSxTQUFBMHBDLEdBQUF0N0IsRUFBQTQ2QixFQUFBQyxFQUFBQyxHQVdBLElBVkEsSUFBQUMsR0FBQSxFQUNBQyxFQUFBaDdCLEVBQUFqOUIsT0FDQXc0RCxHQUFBLEVBQ0FOLEVBQUFKLEVBQUE5M0QsT0FDQXk0RCxHQUFBLEVBQ0FDLEVBQUFiLEVBQUE3M0QsT0FDQXE0RCxFQUFBL1QsR0FBQTJULEVBQUFDLEVBQUEsR0FDQXJwQyxFQUFBaE8sRUFBQXczQyxFQUFBSyxHQUNBSixHQUFBUCxJQUVBQyxFQUFBSyxHQUNBeHBDLEVBQUFtcEMsR0FBQS82QixFQUFBKzZCLEdBR0EsSUFEQSxJQUFBNW9DLEVBQUE0b0MsSUFDQVMsRUFBQUMsR0FDQTdwQyxFQUFBTyxFQUFBcXBDLEdBQUFaLEVBQUFZLEdBRUEsT0FBQUQsRUFBQU4sSUFDQUksR0FBQU4sRUFBQUMsS0FDQXBwQyxFQUFBTyxFQUFBMG9DLEVBQUFVLElBQUF2N0IsRUFBQSs2QixNQUdBLE9BQUFucEMsRUFXQSxTQUFBMDVCLEdBQUF0N0MsRUFBQTZKLEdBQ0EsSUFBQW5FLEdBQUEsRUFDQTNTLEVBQUFpTixFQUFBak4sT0FHQSxJQURBOFcsTUFBQStKLEVBQUE3Z0IsTUFDQTJTLEVBQUEzUyxHQUNBOFcsRUFBQW5FLEdBQUExRixFQUFBMEYsR0FFQSxPQUFBbUUsRUFhQSxTQUFBb3lDLEdBQUFqOEMsRUFBQStsQyxFQUFBdDBDLEVBQUFrckQsR0FDQSxJQUFBK08sR0FBQWo2RCxFQUNBQSxVQUtBLElBSEEsSUFBQWlVLEdBQUEsRUFDQTNTLEVBQUFnekMsRUFBQWh6QyxTQUVBMlMsRUFBQTNTLEdBQUEsQ0FDQSxJQUFBekIsRUFBQXkwQyxFQUFBcmdDLEdBRUF3bEIsRUFBQXl4QixFQUNBQSxFQUFBbHJELEVBQUFILEdBQUEwTyxFQUFBMU8sS0FBQUcsRUFBQXVPLEdBQ0FpZCxFQUVBaU8sSUFBQWpPLElBQ0FpTyxFQUFBbHJCLEVBQUExTyxJQUVBbzZELEVBQ0FoUSxHQUFBanFELEVBQUFILEVBQUE0NUIsR0FFQXl3QixHQUFBbHFELEVBQUFILEVBQUE0NUIsR0FHQSxPQUFBejVCLEVBbUNBLFNBQUFrNkQsR0FBQWxvQixFQUFBaDlCLEdBQ0EsZ0JBQUFzK0IsRUFBQXJCLEdBQ0EsSUFBQWw2QixFQUFBcUssR0FBQWt4QixHQUFBdkIsR0FBQXNZLEdBQ0FuWSxFQUFBbDlCLFNBRUEsT0FBQStDLEVBQUF1N0IsRUFBQXRCLEVBQUEyaUIsR0FBQTFpQixFQUFBLEdBQUFDLElBV0EsU0FBQWlvQixHQUFBQyxHQUNBLE9BQUF2RSxHQUFBLFNBQUE3MUQsRUFBQXE2RCxHQUNBLElBQUFwbUQsR0FBQSxFQUNBM1MsRUFBQSs0RCxFQUFBLzRELE9BQ0E0cEQsRUFBQTVwRCxFQUFBLEVBQUErNEQsRUFBQS80RCxFQUFBLEdBQUFrcUIsRUFDQTh1QyxFQUFBaDVELEVBQUEsRUFBQSs0RCxFQUFBLEdBQUE3dUMsRUFXQSxJQVRBMC9CLEVBQUFrUCxFQUFBOTRELE9BQUEsc0JBQUE0cEQsR0FDQTVwRCxJQUFBNHBELEdBQ0ExL0IsRUFFQTh1QyxHQUFBQyxHQUFBRixFQUFBLEdBQUFBLEVBQUEsR0FBQUMsS0FDQXBQLEVBQUE1cEQsRUFBQSxFQUFBa3FCLEVBQUEwL0IsRUFDQTVwRCxFQUFBLEdBRUF0QixFQUFBaEIsR0FBQWdCLEtBQ0FpVSxFQUFBM1MsR0FBQSxDQUNBLElBQUFpTixFQUFBOHJELEVBQUFwbUQsR0FDQTFGLEdBQ0E2ckQsRUFBQXA2RCxFQUFBdU8sRUFBQTBGLEVBQUFpM0MsR0FHQSxPQUFBbHJELElBWUEsU0FBQXN1RCxHQUFBL2EsRUFBQUcsR0FDQSxnQkFBQUosRUFBQXJCLEdBQ0EsU0FBQXFCLEVBQ0EsT0FBQUEsRUFFQSxJQUFBb2dCLEdBQUFwZ0IsR0FDQSxPQUFBQyxFQUFBRCxFQUFBckIsR0FNQSxJQUpBLElBQUEzd0MsRUFBQWd5QyxFQUFBaHlDLE9BQ0EyUyxFQUFBeS9CLEVBQUFweUMsR0FBQSxFQUNBazVELEVBQUF4N0QsR0FBQXMwQyxJQUVBSSxFQUFBei9CLFFBQUEzUyxLQUNBLElBQUEyd0MsRUFBQXVvQixFQUFBdm1ELEtBQUF1bUQsS0FJQSxPQUFBbG5CLEdBV0EsU0FBQTRiLEdBQUF4YixHQUNBLGdCQUFBMXpDLEVBQUFpeUMsRUFBQTBkLEdBTUEsSUFMQSxJQUFBMTdDLEdBQUEsRUFDQXVtRCxFQUFBeDdELEdBQUFnQixHQUNBczBDLEVBQUFxYixFQUFBM3ZELEdBQ0FzQixFQUFBZ3pDLEVBQUFoekMsT0FFQUEsS0FBQSxDQUNBLElBQUF6QixFQUFBeTBDLEVBQUFaLEVBQUFweUMsSUFBQTJTLEdBQ0EsUUFBQWcrQixFQUFBdW9CLEVBQUEzNkQsS0FBQTI2RCxHQUNBLE1BR0EsT0FBQXg2RCxHQWdDQSxTQUFBeTZELEdBQUFDLEdBQ0EsZ0JBQUF6WixHQUdBLElBQUF2TSxFQUFBc00sR0FGQUMsRUFBQXo4QyxHQUFBeThDLElBR0FhLEdBQUFiLEdBQ0F6MUIsRUFFQXUxQixFQUFBck0sRUFDQUEsRUFBQSxHQUNBdU0sRUFBQXg0QyxPQUFBLEdBRUFreUQsRUFBQWptQixFQUNBbWtCLEdBQUFua0IsRUFBQSxHQUFBaitCLEtBQUEsSUFDQXdxQyxFQUFBenFCLE1BQUEsR0FFQSxPQUFBdXFCLEVBQUEyWixLQUFBQyxHQVdBLFNBQUFDLEdBQUFDLEdBQ0EsZ0JBQUE1WixHQUNBLE9BQUFsTyxHQUFBK25CLEdBQUFDLEdBQUE5WixHQUFBMS9DLFFBQUE2dEMsR0FBQSxLQUFBeXJCLEVBQUEsS0FZQSxTQUFBRyxHQUFBNU8sR0FDQSxrQkFJQSxJQUFBN3RCLEVBQUFwM0IsVUFDQSxPQUFBbzNCLEVBQUFqOUIsUUFDQSxrQkFBQThxRCxFQUNBLGtCQUFBQSxFQUFBN3RCLEVBQUEsSUFDQSxrQkFBQTZ0QixFQUFBN3RCLEVBQUEsR0FBQUEsRUFBQSxJQUNBLGtCQUFBNnRCLEVBQUE3dEIsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsSUFDQSxrQkFBQTZ0QixFQUFBN3RCLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsSUFDQSxrQkFBQTZ0QixFQUFBN3RCLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxJQUNBLGtCQUFBNnRCLEVBQUE3dEIsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsSUFDQSxrQkFBQTZ0QixFQUFBN3RCLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsSUFFQSxJQUFBMDhCLEVBQUF4VCxHQUFBMkUsRUFBQWxzRCxXQUNBaXdCLEVBQUFpOEIsRUFBQWxsRCxNQUFBK3pELEVBQUExOEIsR0FJQSxPQUFBb3BCLEdBQUF4M0IsS0FBQThxQyxHQWdEQSxTQUFBQyxHQUFBQyxHQUNBLGdCQUFBN25CLEVBQUFoQixFQUFBbUIsR0FDQSxJQUFBK21CLEVBQUF4N0QsR0FBQXMwQyxHQUNBLElBQUFvZ0IsR0FBQXBnQixHQUFBLENBQ0EsSUFBQXJCLEVBQUEwaUIsR0FBQXJpQixFQUFBLEdBQ0FnQixFQUFBaVEsR0FBQWpRLEdBQ0FoQixFQUFBLFNBQUF6eUMsR0FBcUMsT0FBQW95QyxFQUFBdW9CLEVBQUEzNkQsS0FBQTI2RCxJQUVyQyxJQUFBdm1ELEVBQUFrbkQsRUFBQTduQixFQUFBaEIsRUFBQW1CLEdBQ0EsT0FBQXgvQixHQUFBLEVBQUF1bUQsRUFBQXZvQixFQUFBcUIsRUFBQXIvQixNQUFBdVgsR0FXQSxTQUFBNHZDLEdBQUExbkIsR0FDQSxPQUFBMm5CLEdBQUEsU0FBQUMsR0FDQSxJQUFBaDZELEVBQUFnNkQsRUFBQWg2RCxPQUNBMlMsRUFBQTNTLEVBQ0FpNkQsRUFBQWhVLEdBQUFybkQsVUFBQXM3RCxLQUtBLElBSEE5bkIsR0FDQTRuQixFQUFBcFYsVUFFQWp5QyxLQUFBLENBQ0EsSUFBQThELEVBQUF1akQsRUFBQXJuRCxHQUNBLHNCQUFBOEQsRUFDQSxVQUFBOHFDLEdBQUFsYixHQUVBLEdBQUE0ekIsSUFBQUUsR0FBQSxXQUFBQyxHQUFBM2pELEdBQ0EsSUFBQTBqRCxFQUFBLElBQUFsVSxPQUFBLEdBSUEsSUFEQXR6QyxFQUFBd25ELEVBQUF4bkQsRUFBQTNTLElBQ0EyUyxFQUFBM1MsR0FBQSxDQUdBLElBQUFxNkQsRUFBQUQsR0FGQTNqRCxFQUFBdWpELEVBQUFybkQsSUFHQWdULEVBQUEsV0FBQTAwQyxFQUFBQyxHQUFBN2pELEdBQUF5VCxFQU1BaXdDLEVBSkF4MEMsR0FBQTQwQyxHQUFBNTBDLEVBQUEsS0FDQUEsRUFBQSxLQUFBMGhCLEVBQUFKLEVBQUFFLEVBQUFHLEtBQ0EzaEIsRUFBQSxHQUFBM2xCLFFBQUEsR0FBQTJsQixFQUFBLEdBRUF3MEMsRUFBQUMsR0FBQXowQyxFQUFBLEtBQUEvZixNQUFBdTBELEVBQUF4MEMsRUFBQSxJQUVBLEdBQUFsUCxFQUFBelcsUUFBQXU2RCxHQUFBOWpELEdBQ0EwakQsRUFBQUUsS0FDQUYsRUFBQUQsS0FBQXpqRCxHQUdBLGtCQUNBLElBQUF3bUIsRUFBQXAzQixVQUNBNUgsRUFBQWcvQixFQUFBLEdBRUEsR0FBQWs5QixHQUFBLEdBQUFsOUIsRUFBQWo5QixRQUFBOGdCLEdBQUE3aUIsR0FDQSxPQUFBazhELEVBQUFLLE1BQUF2OEQsV0FLQSxJQUhBLElBQUEwVSxFQUFBLEVBQ0FrYyxFQUFBN3VCLEVBQUFnNkQsRUFBQXJuRCxHQUFBL00sTUFBQXRGLEtBQUEyOEIsR0FBQWgvQixJQUVBMFUsRUFBQTNTLEdBQ0E2dUIsRUFBQW1yQyxFQUFBcm5ELEdBQUF4VixLQUFBbUQsS0FBQXV1QixHQUVBLE9BQUFBLEtBd0JBLFNBQUE0ckMsR0FBQWhrRCxFQUFBa3pDLEVBQUFuWixFQUFBcW5CLEVBQUFDLEVBQUE0QyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBLElBQUFDLEVBQUFwUixFQUFBdGlCLEVBQ0EyekIsRUFBQXJSLEVBQUE3aUIsRUFDQW0wQixFQUFBdFIsRUFBQTVpQixFQUNBZ3hCLEVBQUFwTyxHQUFBMWlCLEVBQUFDLEdBQ0FnMEIsRUFBQXZSLEVBQUFwaUIsRUFDQXVqQixFQUFBbVEsRUFBQS93QyxFQUFBd3ZDLEdBQUFqakQsR0E2Q0EsT0EzQ0EsU0FBQTBqRCxJQUtBLElBSkEsSUFBQW42RCxFQUFBNkYsVUFBQTdGLE9BQ0FpOUIsRUFBQXBjLEVBQUE3Z0IsR0FDQTJTLEVBQUEzUyxFQUVBMlMsS0FDQXNxQixFQUFBdHFCLEdBQUE5TSxVQUFBOE0sR0FFQSxHQUFBb2xELEVBQ0EsSUFBQTlYLEVBQUFrYixHQUFBaEIsR0FDQWlCLEVBeGdJQSxTQUFBdGtELEVBQUFtcEMsR0FJQSxJQUhBLElBQUFqZ0QsRUFBQThXLEVBQUE5VyxPQUNBNnVCLEVBQUEsRUFFQTd1QixLQUNBOFcsRUFBQTlXLEtBQUFpZ0QsS0FDQXB4QixFQUdBLE9BQUFBLEVBKy9IQXdzQyxDQUFBcCtCLEVBQUFnakIsR0FTQSxHQVBBNFgsSUFDQTU2QixFQUFBMjZCLEdBQUEzNkIsRUFBQTQ2QixFQUFBQyxFQUFBQyxJQUVBMkMsSUFDQXo5QixFQUFBczdCLEdBQUF0N0IsRUFBQXk5QixFQUFBQyxFQUFBNUMsSUFFQS8zRCxHQUFBbzdELEVBQ0FyRCxHQUFBLzNELEVBQUE4NkQsRUFBQSxDQUNBLElBQUFRLEVBQUF0YixHQUFBL2lCLEVBQUFnakIsR0FDQSxPQUFBc2IsR0FDQTlrRCxFQUFBa3pDLEVBQUE4USxHQUFBTixFQUFBbGEsWUFBQXpQLEVBQ0F2VCxFQUFBcStCLEVBQUFWLEVBQUFDLEVBQUFDLEVBQUE5NkQsR0FHQSxJQUFBMjVELEVBQUFxQixFQUFBeHFCLEVBQUFsd0MsS0FDQWs3RCxFQUFBUCxFQUFBdEIsRUFBQWxqRCxLQWNBLE9BWkF6VyxFQUFBaTlCLEVBQUFqOUIsT0FDQTQ2RCxFQUNBMzlCLEVBODNDQSxTQUFBbm1CLEVBQUFxOUMsR0FLQSxJQUpBLElBQUFzSCxFQUFBM2tELEVBQUE5VyxPQUNBQSxFQUFBdWtELEdBQUE0UCxFQUFBbjBELE9BQUF5N0QsR0FDQUMsRUFBQW5ULEdBQUF6eEMsR0FFQTlXLEtBQUEsQ0FDQSxJQUFBMlMsRUFBQXdoRCxFQUFBbjBELEdBQ0E4VyxFQUFBOVcsR0FBQWtvRCxHQUFBdjFDLEVBQUE4b0QsR0FBQUMsRUFBQS9vRCxHQUFBdVgsRUFFQSxPQUFBcFQsRUF2NENBNmtELENBQUExK0IsRUFBQTI5QixHQUNTTSxHQUFBbDdELEVBQUEsR0FDVGk5QixFQUFBMm5CLFVBRUFtVyxHQUFBRixFQUFBNzZELElBQ0FpOUIsRUFBQWo5QixPQUFBNjZELEdBRUF2NkQsYUFBQWlqQyxJQUFBampDLGdCQUFBNjVELElBQ0FxQixFQUFBMVEsR0FBQTRPLEdBQUE4QixJQUVBQSxFQUFBNTFELE1BQUErekQsRUFBQTE4QixJQWFBLFNBQUEyK0IsR0FBQWxyQixFQUFBbXJCLEdBQ0EsZ0JBQUFuOUQsRUFBQWl5QyxHQUNBLE9BNTlEQSxTQUFBanlDLEVBQUFneUMsRUFBQUMsRUFBQUMsR0FJQSxPQUhBcWMsR0FBQXZ1RCxFQUFBLFNBQUFULEVBQUFNLEVBQUFHLEdBQ0FneUMsRUFBQUUsRUFBQUQsRUFBQTF5QyxHQUFBTSxFQUFBRyxLQUVBa3lDLEVBdzlEQWtyQixDQUFBcDlELEVBQUFneUMsRUFBQW1yQixFQUFBbHJCLFFBWUEsU0FBQW9yQixHQUFBbGdELEVBQUFtZ0QsR0FDQSxnQkFBQS85RCxFQUFBNEcsR0FDQSxJQUFBZ3FCLEVBQ0EsR0FBQTV3QixJQUFBaXNCLEdBQUFybEIsSUFBQXFsQixFQUNBLE9BQUE4eEMsRUFLQSxHQUhBLzlELElBQUFpc0IsSUFDQTJFLEVBQUE1d0IsR0FFQTRHLElBQUFxbEIsRUFBQSxDQUNBLEdBQUEyRSxJQUFBM0UsRUFDQSxPQUFBcmxCLEVBRUEsaUJBQUE1RyxHQUFBLGlCQUFBNEcsR0FDQTVHLEVBQUFtNEQsR0FBQW40RCxHQUNBNEcsRUFBQXV4RCxHQUFBdnhELEtBRUE1RyxFQUFBazRELEdBQUFsNEQsR0FDQTRHLEVBQUFzeEQsR0FBQXR4RCxJQUVBZ3FCLEVBQUFoVCxFQUFBNWQsRUFBQTRHLEdBRUEsT0FBQWdxQixHQVdBLFNBQUFvdEMsR0FBQUMsR0FDQSxPQUFBbkMsR0FBQSxTQUFBNUcsR0FFQSxPQURBQSxFQUFBNWhCLEdBQUE0aEIsRUFBQXJnQixHQUFBdWdCLE9BQ0FrQixHQUFBLFNBQUF0M0IsR0FDQSxJQUFBdVQsRUFBQWx3QyxLQUNBLE9BQUE0N0QsRUFBQS9JLEVBQUEsU0FBQXhpQixHQUNBLE9BQUEvcUMsR0FBQStxQyxFQUFBSCxFQUFBdlQsU0FlQSxTQUFBay9CLEdBQUFuOEQsRUFBQXlILEdBR0EsSUFBQTIwRCxHQUZBMzBELE1BQUF5aUIsRUFBQSxJQUFBa3NDLEdBQUEzdUQsSUFFQXpILE9BQ0EsR0FBQW84RCxFQUFBLEVBQ0EsT0FBQUEsRUFBQTlILEdBQUE3c0QsRUFBQXpILEdBQUF5SCxFQUVBLElBQUFvbkIsRUFBQXlsQyxHQUFBN3NELEVBQUFrOEMsR0FBQTNqRCxFQUFBb1osR0FBQTNSLEtBQ0EsT0FBQWk0QyxHQUFBajRDLEdBQ0E4dkQsR0FBQS9XLEdBQUEzeEIsR0FBQSxFQUFBN3VCLEdBQUFtVixLQUFBLElBQ0EwWixFQUFBcUcsTUFBQSxFQUFBbDFCLEdBNkNBLFNBQUFxOEQsR0FBQWpxQixHQUNBLGdCQUFBOWtDLEVBQUFDLEVBQUErdUQsR0FhQSxPQVpBQSxHQUFBLGlCQUFBQSxHQUFBckQsR0FBQTNyRCxFQUFBQyxFQUFBK3VELEtBQ0EvdUQsRUFBQSt1RCxFQUFBcHlDLEdBR0E1YyxFQUFBaXZELEdBQUFqdkQsR0FDQUMsSUFBQTJjLEdBQ0EzYyxFQUFBRCxFQUNBQSxFQUFBLEdBRUFDLEVBQUFndkQsR0FBQWh2RCxHQXI3Q0EsU0FBQUQsRUFBQUMsRUFBQSt1RCxFQUFBbHFCLEdBS0EsSUFKQSxJQUFBei9CLEdBQUEsRUFDQTNTLEVBQUFza0QsR0FBQVgsSUFBQXAyQyxFQUFBRCxJQUFBZ3ZELEdBQUEsT0FDQXp0QyxFQUFBaE8sRUFBQTdnQixHQUVBQSxLQUNBNnVCLEVBQUF1akIsRUFBQXB5QyxJQUFBMlMsR0FBQXJGLEVBQ0FBLEdBQUFndkQsRUFFQSxPQUFBenRDLEVBKzZDQTJ0QyxDQUFBbHZELEVBQUFDLEVBREErdUQsTUFBQXB5QyxFQUFBNWMsRUFBQUMsRUFBQSxLQUFBZ3ZELEdBQUFELEdBQ0FscUIsSUFXQSxTQUFBcXFCLEdBQUE1Z0QsR0FDQSxnQkFBQTVkLEVBQUE0RyxHQUtBLE1BSkEsaUJBQUE1RyxHQUFBLGlCQUFBNEcsSUFDQTVHLEVBQUF5K0QsR0FBQXorRCxHQUNBNEcsRUFBQTYzRCxHQUFBNzNELElBRUFnWCxFQUFBNWQsRUFBQTRHLElBcUJBLFNBQUEwMkQsR0FBQTlrRCxFQUFBa3pDLEVBQUFnVCxFQUFBMWMsRUFBQXpQLEVBQUFxbkIsRUFBQUMsRUFBQThDLEVBQUFDLEVBQUFDLEdBQ0EsSUFBQThCLEVBQUFqVCxFQUFBMWlCLEVBTUEwaUIsR0FBQWlULEVBQUF6MUIsRUFBQUMsR0FDQXVpQixLQUFBaVQsRUFBQXgxQixFQUFBRCxJQUVBSCxJQUNBMmlCLEtBQUE3aUIsRUFBQUMsSUFFQSxJQUFBODFCLEdBQ0FwbUQsRUFBQWt6QyxFQUFBblosRUFWQW9zQixFQUFBL0UsRUFBQTN0QyxFQUZBMHlDLEVBQUE5RSxFQUFBNXRDLEVBR0EweUMsRUFBQTF5QyxFQUFBMnRDLEVBRkErRSxFQUFBMXlDLEVBQUE0dEMsRUFZQThDLEVBQUFDLEVBQUFDLEdBR0Fqc0MsRUFBQTh0QyxFQUFBLzJELE1BQUFza0IsRUFBQTJ5QyxHQUtBLE9BSkF0QyxHQUFBOWpELElBQ0FxbUQsR0FBQWp1QyxFQUFBZ3VDLEdBRUFodUMsRUFBQW94QixjQUNBOGMsR0FBQWx1QyxFQUFBcFksRUFBQWt6QyxHQVVBLFNBQUFxVCxHQUFBNUQsR0FDQSxJQUFBM2lELEVBQUExVixHQUFBcTRELEdBQ0EsZ0JBQUE3UCxFQUFBMFQsR0FHQSxHQUZBMVQsRUFBQW1ULEdBQUFuVCxHQUNBMFQsRUFBQSxNQUFBQSxFQUFBLEVBQUExWSxHQUFBMlksR0FBQUQsR0FBQSxLQUNBLENBR0EsSUFBQUUsR0FBQWo2RCxHQUFBcW1ELEdBQUEsS0FBQTdoRCxNQUFBLEtBSUEsU0FEQXkxRCxHQUFBajZELEdBRkF1VCxFQUFBMG1ELEVBQUEsU0FBQUEsRUFBQSxHQUFBRixLQUVBLEtBQUF2MUQsTUFBQSxNQUNBLFNBQUF5MUQsRUFBQSxHQUFBRixJQUVBLE9BQUF4bUQsRUFBQTh5QyxJQVdBLElBQUErTSxHQUFBNXJELElBQUEsRUFBQXkxQyxHQUFBLElBQUF6MUMsSUFBQSxXQUFBbzlCLEVBQUEsU0FBQXZTLEdBQ0EsV0FBQTdxQixHQUFBNnFCLElBREE2bkMsR0FXQSxTQUFBQyxHQUFBaFAsR0FDQSxnQkFBQTN2RCxHQUNBLElBQUF5ckQsRUFBQUMsR0FBQTFyRCxHQUNBLE9BQUF5ckQsR0FBQXBoQixFQUNBOFcsR0FBQW5oRCxHQUVBeXJELEdBQUE5Z0IsR0FDQWdYLEdBQUEzaEQsR0F2NElBLFNBQUFBLEVBQUFzMEMsR0FDQSxPQUFBekIsR0FBQXlCLEVBQUEsU0FBQXowQyxHQUNBLE9BQUFBLEVBQUFHLEVBQUFILE1BdTRJQSsrRCxDQUFBNStELEVBQUEydkQsRUFBQTN2RCxLQTZCQSxTQUFBNitELEdBQUE5bUQsRUFBQWt6QyxFQUFBblosRUFBQXFuQixFQUFBQyxFQUFBOEMsRUFBQUMsRUFBQUMsR0FDQSxJQUFBRyxFQUFBdFIsRUFBQTVpQixFQUNBLElBQUFrMEIsR0FBQSxtQkFBQXhrRCxFQUNBLFVBQUE4cUMsR0FBQWxiLEdBRUEsSUFBQXJtQyxFQUFBNjNELElBQUE3M0QsT0FBQSxFQVNBLEdBUkFBLElBQ0EycEQsS0FBQXhpQixFQUFBQyxHQUNBeXdCLEVBQUFDLEVBQUE1dEMsR0FFQTJ3QyxNQUFBM3dDLEVBQUEyd0MsRUFBQXZXLEdBQUE0WSxHQUFBckMsR0FBQSxHQUNBQyxNQUFBNXdDLEVBQUE0d0MsRUFBQW9DLEdBQUFwQyxHQUNBOTZELEdBQUE4M0QsSUFBQTkzRCxPQUFBLEVBRUEycEQsRUFBQXZpQixFQUFBLENBQ0EsSUFBQXN6QixFQUFBN0MsRUFDQThDLEVBQUE3QyxFQUVBRCxFQUFBQyxFQUFBNXRDLEVBRUEsSUFBQXZFLEVBQUFzMUMsRUFBQS93QyxFQUFBb3dDLEdBQUE3akQsR0FFQW9tRCxHQUNBcG1ELEVBQUFrekMsRUFBQW5aLEVBQUFxbkIsRUFBQUMsRUFBQTRDLEVBQUFDLEVBQ0FDLEVBQUFDLEVBQUFDLEdBa0JBLEdBZkFuMUMsR0F5NkJBLFNBQUFBLEVBQUExWSxHQUNBLElBQUEwOEMsRUFBQWhrQyxFQUFBLEdBQ0E2M0MsRUFBQXZ3RCxFQUFBLEdBQ0F3d0QsRUFBQTlULEVBQUE2VCxFQUNBdFIsRUFBQXVSLEdBQUEzMkIsRUFBQUMsRUFBQU0sR0FFQXEyQixFQUNBRixHQUFBbjJCLEdBQUFzaUIsR0FBQTFpQixHQUNBdTJCLEdBQUFuMkIsR0FBQXNpQixHQUFBcmlCLEdBQUEzaEIsRUFBQSxHQUFBM2xCLFFBQUFpTixFQUFBLElBQ0F1d0QsSUFBQW4yQixFQUFBQyxJQUFBcjZCLEVBQUEsR0FBQWpOLFFBQUFpTixFQUFBLElBQUEwOEMsR0FBQTFpQixFQUdBLElBQUFpbEIsSUFBQXdSLEVBQ0EsT0FBQS8zQyxFQUdBNjNDLEVBQUExMkIsSUFDQW5oQixFQUFBLEdBQUExWSxFQUFBLEdBRUF3d0QsR0FBQTlULEVBQUE3aUIsRUFBQSxFQUFBRSxHQUdBLElBQUEvb0MsRUFBQWdQLEVBQUEsR0FDQSxHQUFBaFAsRUFBQSxDQUNBLElBQUE0NUQsRUFBQWx5QyxFQUFBLEdBQ0FBLEVBQUEsR0FBQWt5QyxFQUFBRCxHQUFBQyxFQUFBNTVELEVBQUFnUCxFQUFBLElBQUFoUCxFQUNBMG5CLEVBQUEsR0FBQWt5QyxFQUFBN1gsR0FBQXI2QixFQUFBLEdBQUE2Z0IsR0FBQXY1QixFQUFBLElBR0FoUCxFQUFBZ1AsRUFBQSxNQUVBNHFELEVBQUFseUMsRUFBQSxHQUNBQSxFQUFBLEdBQUFreUMsRUFBQVUsR0FBQVYsRUFBQTU1RCxFQUFBZ1AsRUFBQSxJQUFBaFAsRUFDQTBuQixFQUFBLEdBQUFreUMsRUFBQTdYLEdBQUFyNkIsRUFBQSxHQUFBNmdCLEdBQUF2NUIsRUFBQSxLQUdBaFAsRUFBQWdQLEVBQUEsTUFFQTBZLEVBQUEsR0FBQTFuQixHQUdBdS9ELEVBQUFuMkIsSUFDQTFoQixFQUFBLFNBQUFBLEVBQUEsR0FBQTFZLEVBQUEsR0FBQXMzQyxHQUFBNStCLEVBQUEsR0FBQTFZLEVBQUEsS0FHQSxNQUFBMFksRUFBQSxLQUNBQSxFQUFBLEdBQUExWSxFQUFBLElBR0EwWSxFQUFBLEdBQUExWSxFQUFBLEdBQ0EwWSxFQUFBLEdBQUE4M0MsRUExOUJBRSxDQUFBZCxFQUFBbDNDLEdBRUFsUCxFQUFBb21ELEVBQUEsR0FDQWxULEVBQUFrVCxFQUFBLEdBQ0Fyc0IsRUFBQXFzQixFQUFBLEdBQ0FoRixFQUFBZ0YsRUFBQSxHQUNBL0UsRUFBQStFLEVBQUEsS0FDQS9CLEVBQUErQixFQUFBLEdBQUFBLEVBQUEsS0FBQTN5QyxFQUNBK3dDLEVBQUEsRUFBQXhrRCxFQUFBelcsT0FDQXNrRCxHQUFBdVksRUFBQSxHQUFBNzhELEVBQUEsS0FFQTJwRCxHQUFBMWlCLEVBQUFDLEtBQ0F5aUIsS0FBQTFpQixFQUFBQyxJQUVBeWlCLE1BQUE3aUIsRUFHQWpZLEVBRE84NkIsR0FBQTFpQixHQUFBMGlCLEdBQUF6aUIsRUFwZ0JQLFNBQUF6d0IsRUFBQWt6QyxFQUFBbVIsR0FDQSxJQUFBaFEsRUFBQTRPLEdBQUFqakQsR0F3QkEsT0F0QkEsU0FBQTBqRCxJQU1BLElBTEEsSUFBQW42RCxFQUFBNkYsVUFBQTdGLE9BQ0FpOUIsRUFBQXBjLEVBQUE3Z0IsR0FDQTJTLEVBQUEzUyxFQUNBaWdELEVBQUFrYixHQUFBaEIsR0FFQXhuRCxLQUNBc3FCLEVBQUF0cUIsR0FBQTlNLFVBQUE4TSxHQUVBLElBQUFtbEQsRUFBQTkzRCxFQUFBLEdBQUFpOUIsRUFBQSxLQUFBZ2pCLEdBQUFoakIsRUFBQWo5QixFQUFBLEtBQUFpZ0QsS0FFQUQsR0FBQS9pQixFQUFBZ2pCLEdBR0EsT0FEQWpnRCxHQUFBODNELEVBQUE5M0QsUUFDQTg2RCxFQUNBUyxHQUNBOWtELEVBQUFrekMsRUFBQThRLEdBQUFOLEVBQUFsYSxZQUFBLzFCLEVBQ0ErUyxFQUFBNjZCLEVBQUE1dEMsSUFBQTR3QyxFQUFBOTZELEdBR0E0RixHQURBdEYsYUFBQWlqQyxJQUFBampDLGdCQUFBNjVELEVBQUFyUCxFQUFBcjBDLEVBQ0FuVyxLQUFBMjhCLElBOGVBMmdDLENBQUFubkQsRUFBQWt6QyxFQUFBbVIsR0FDT25SLEdBQUF4aUIsR0FBQXdpQixJQUFBN2lCLEVBQUFLLElBQUEyd0IsRUFBQTkzRCxPQUdQeTZELEdBQUE3MEQsTUFBQXNrQixFQUFBMnlDLEdBOU9BLFNBQUFwbUQsRUFBQWt6QyxFQUFBblosRUFBQXFuQixHQUNBLElBQUFtRCxFQUFBclIsRUFBQTdpQixFQUNBZ2tCLEVBQUE0TyxHQUFBampELEdBa0JBLE9BaEJBLFNBQUEwakQsSUFRQSxJQVBBLElBQUFuQyxHQUFBLEVBQ0FDLEVBQUFweUQsVUFBQTdGLE9BQ0FtNEQsR0FBQSxFQUNBQyxFQUFBUCxFQUFBNzNELE9BQ0FpOUIsRUFBQXBjLEVBQUF1M0MsRUFBQUgsR0FDQXVELEVBQUFsN0QsYUFBQWlqQyxJQUFBampDLGdCQUFBNjVELEVBQUFyUCxFQUFBcjBDLElBRUEwaEQsRUFBQUMsR0FDQW43QixFQUFBazdCLEdBQUFOLEVBQUFNLEdBRUEsS0FBQUYsS0FDQWg3QixFQUFBazdCLEtBQUF0eUQsWUFBQW15RCxHQUVBLE9BQUFweUQsR0FBQTQxRCxFQUFBUixFQUFBeHFCLEVBQUFsd0MsS0FBQTI4QixJQTBOQTRnQyxDQUFBcG5ELEVBQUFrekMsRUFBQW5aLEVBQUFxbkIsUUFKQSxJQUFBaHBDLEVBaG1CQSxTQUFBcFksRUFBQWt6QyxFQUFBblosR0FDQSxJQUFBd3FCLEVBQUFyUixFQUFBN2lCLEVBQ0Fna0IsRUFBQTRPLEdBQUFqakQsR0FNQSxPQUpBLFNBQUEwakQsSUFFQSxPQURBNzVELGFBQUFpakMsSUFBQWpqQyxnQkFBQTY1RCxFQUFBclAsRUFBQXIwQyxHQUNBN1EsTUFBQW8xRCxFQUFBeHFCLEVBQUFsd0MsS0FBQXVGLFlBMGxCQWk0RCxDQUFBcm5ELEVBQUFrekMsRUFBQW5aLEdBU0EsT0FBQXVzQixJQURBcDNDLEVBQUFrdkMsR0FBQWlJLElBQ0FqdUMsRUFBQWd1QyxHQUFBcG1ELEVBQUFrekMsR0FlQSxTQUFBb1UsR0FBQWxWLEVBQUF5SSxFQUFBL3lELEVBQUFHLEdBQ0EsT0FBQW1xRCxJQUFBMytCLEdBQ0EwQyxHQUFBaThCLEVBQUFuSCxHQUFBbmpELE1BQUFNLEdBQUExQixLQUFBdUIsRUFBQUgsR0FDQSt5RCxFQUVBekksRUFpQkEsU0FBQW1WLEdBQUFuVixFQUFBeUksRUFBQS95RCxFQUFBRyxFQUFBdU8sRUFBQWtGLEdBT0EsT0FOQWswQyxHQUFBd0MsSUFBQXhDLEdBQUFpTCxLQUVBbi9DLEVBQUFpdUMsSUFBQWtSLEVBQUF6SSxHQUNBNkosR0FBQTdKLEVBQUF5SSxFQUFBcG5DLEVBQUE4ekMsR0FBQTdyRCxHQUNBQSxFQUFBLE9BQUFtL0MsSUFFQXpJLEVBWUEsU0FBQW9WLEdBQUFoZ0UsR0FDQSxPQUFBNjBELEdBQUE3MEQsR0FBQWlzQixFQUFBanNCLEVBZ0JBLFNBQUFreUQsR0FBQXI1QyxFQUFBalMsRUFBQThrRCxFQUFBQyxFQUFBK0YsRUFBQXg5QyxHQUNBLElBQUFpK0MsRUFBQXpHLEVBQUEvaUIsRUFDQTYwQixFQUFBM2tELEVBQUE5VyxPQUNBaXZELEVBQUFwcUQsRUFBQTdFLE9BRUEsR0FBQXk3RCxHQUFBeE0sS0FBQW1CLEdBQUFuQixFQUFBd00sR0FDQSxTQUdBLElBQUE5UCxFQUFBeDVDLEVBQUF0VSxJQUFBaVosR0FDQSxHQUFBNjBDLEdBQUF4NUMsRUFBQXRVLElBQUFnSCxHQUNBLE9BQUE4bUQsR0FBQTltRCxFQUVBLElBQUE4TixHQUFBLEVBQ0FrYyxHQUFBLEVBQ0F5Z0MsRUFBQTNGLEVBQUE5aUIsRUFBQSxJQUFBMmdCLEdBQUF0OUIsRUFNQSxJQUpBL1gsRUFBQWl1QyxJQUFBdHBDLEVBQUFqUyxHQUNBc04sRUFBQWl1QyxJQUFBdjdDLEVBQUFpUyxLQUdBbkUsRUFBQThvRCxHQUFBLENBQ0EsSUFBQXlDLEVBQUFwbkQsRUFBQW5FLEdBQ0FrK0MsRUFBQWhzRCxFQUFBOE4sR0FFQSxHQUFBaTNDLEVBQ0EsSUFBQWtILEVBQUFWLEVBQ0F4RyxFQUFBaUgsRUFBQXFOLEVBQUF2ckQsRUFBQTlOLEVBQUFpUyxFQUFBM0UsR0FDQXkzQyxFQUFBc1UsRUFBQXJOLEVBQUFsK0MsRUFBQW1FLEVBQUFqUyxFQUFBc04sR0FFQSxHQUFBMitDLElBQUE1bUMsRUFBQSxDQUNBLEdBQUE0bUMsRUFDQSxTQUVBamlDLEdBQUEsRUFDQSxNQUdBLEdBQUF5Z0MsR0FDQSxJQUFBMWQsR0FBQS9zQyxFQUFBLFNBQUFnc0QsRUFBQTNCLEdBQ0EsSUFBQWpjLEdBQUFxYyxFQUFBSixLQUNBZ1AsSUFBQXJOLEdBQUFsQixFQUFBdU8sRUFBQXJOLEVBQUFsSCxFQUFBQyxFQUFBejNDLElBQ0EsT0FBQW05QyxFQUFBM29ELEtBQUF1b0QsS0FFZSxDQUNmcmdDLEdBQUEsRUFDQSxZQUVTLEdBQ1RxdkMsSUFBQXJOLElBQ0FsQixFQUFBdU8sRUFBQXJOLEVBQUFsSCxFQUFBQyxFQUFBejNDLEdBQ0EsQ0FDQTBjLEdBQUEsRUFDQSxPQUtBLE9BRkExYyxFQUFBLE9BQUEyRSxHQUNBM0UsRUFBQSxPQUFBdE4sR0FDQWdxQixFQXlLQSxTQUFBa3JDLEdBQUF0akQsR0FDQSxPQUFBKzlDLEdBQUFDLEdBQUFoK0MsRUFBQXlULEVBQUFpMEMsSUFBQTFuRCxFQUFBLElBVUEsU0FBQXExQyxHQUFBcHRELEdBQ0EsT0FBQTB2RCxHQUFBMXZELEVBQUF1akQsR0FBQTJJLElBV0EsU0FBQWlCLEdBQUFudEQsR0FDQSxPQUFBMHZELEdBQUExdkQsRUFBQWdzRCxHQUFBRixJQVVBLElBQUE4UCxHQUFBcFYsR0FBQSxTQUFBenVDLEdBQ0EsT0FBQXl1QyxHQUFBcm5ELElBQUE0WSxJQURBMm1ELEdBV0EsU0FBQWhELEdBQUEzakQsR0FLQSxJQUpBLElBQUFvWSxFQUFBcFksRUFBQWxaLEtBQUEsR0FDQXVaLEVBQUFxdUMsR0FBQXQyQixHQUNBN3VCLEVBQUFuQixHQUFBMUIsS0FBQWdvRCxHQUFBdDJCLEdBQUEvWCxFQUFBOVcsT0FBQSxFQUVBQSxLQUFBLENBQ0EsSUFBQTJsQixFQUFBN08sRUFBQTlXLEdBQ0FvK0QsRUFBQXo0QyxFQUFBbFAsS0FDQSxTQUFBMm5ELE1BQUEzbkQsRUFDQSxPQUFBa1AsRUFBQXBvQixLQUdBLE9BQUFzeEIsRUFVQSxTQUFBc3NDLEdBQUExa0QsR0FFQSxPQURBNVgsR0FBQTFCLEtBQUEyb0QsR0FBQSxlQUFBQSxHQUFBcnZDLEdBQ0F3cEMsWUFjQSxTQUFBb1QsS0FDQSxJQUFBeGtDLEVBQUFpM0IsR0FBQW5WLGFBRUEsT0FEQTloQixNQUFBOGhCLEdBQUE4Z0IsR0FBQTVpQyxFQUNBaHBCLFVBQUE3RixPQUFBNnVCLEVBQUFocEIsVUFBQSxHQUFBQSxVQUFBLElBQUFncEIsRUFXQSxTQUFBaStCLEdBQUFubEQsRUFBQXBKLEdBQ0EsSUFBQW9uQixFQUFBaGUsRUFBQTgvQyxTQUNBLE9BK1hBLFNBQUF4cEQsR0FDQSxJQUFBeUQsU0FBQXpELEVBQ0EsZ0JBQUF5RCxHQUFBLFVBQUFBLEdBQUEsVUFBQUEsR0FBQSxXQUFBQSxFQUNBLGNBQUF6RCxFQUNBLE9BQUFBLEVBbllBb2dFLENBQUE5L0QsR0FDQW9uQixFQUFBLGlCQUFBcG5CLEVBQUEsaUJBQ0FvbkIsRUFBQWhlLElBVUEsU0FBQTBxRCxHQUFBM3pELEdBSUEsSUFIQSxJQUFBbXdCLEVBQUFvekIsR0FBQXZqRCxHQUNBc0IsRUFBQTZ1QixFQUFBN3VCLE9BRUFBLEtBQUEsQ0FDQSxJQUFBekIsRUFBQXN3QixFQUFBN3VCLEdBQ0EvQixFQUFBUyxFQUFBSCxHQUVBc3dCLEVBQUE3dUIsSUFBQXpCLEVBQUFOLEVBQUF1MEQsR0FBQXYwRCxJQUVBLE9BQUE0d0IsRUFXQSxTQUFBdTBCLEdBQUExa0QsRUFBQUgsR0FDQSxJQUFBTixFQWp3SkEsU0FBQVMsRUFBQUgsR0FDQSxhQUFBRyxFQUFBd3JCLEVBQUF4ckIsRUFBQUgsR0Fnd0pBdTZCLENBQUFwNkIsRUFBQUgsR0FDQSxPQUFBZ3pELEdBQUF0ekQsS0FBQWlzQixFQXFDQSxJQUFBMGdDLEdBQUE5RyxHQUFBLFNBQUFwbEQsR0FDQSxhQUFBQSxNQUdBQSxFQUFBaEIsR0FBQWdCLEdBQ0F1eUMsR0FBQTZTLEdBQUFwbEQsR0FBQSxTQUFBOHNELEdBQ0EsT0FBQTNJLEdBQUExbEQsS0FBQXVCLEVBQUE4c0QsT0FOQThTLEdBaUJBOVQsR0FBQTFHLEdBQUEsU0FBQXBsRCxHQUVBLElBREEsSUFBQW13QixLQUNBbndCLEdBQ0E4eUMsR0FBQTNpQixFQUFBKzdCLEdBQUFsc0QsSUFDQUEsRUFBQWdrRCxHQUFBaGtELEdBRUEsT0FBQW13QixHQU5BeXZDLEdBZ0JBbFUsR0FBQW1FLEdBMkVBLFNBQUFnUSxHQUFBNy9ELEVBQUF1dkQsRUFBQXVRLEdBT0EsSUFKQSxJQUFBN3JELEdBQUEsRUFDQTNTLEdBSEFpdUQsRUFBQUMsR0FBQUQsRUFBQXZ2RCxJQUdBc0IsT0FDQTZ1QixHQUFBLElBRUFsYyxFQUFBM1MsR0FBQSxDQUNBLElBQUF6QixFQUFBNHZELEdBQUFGLEVBQUF0N0MsSUFDQSxLQUFBa2MsRUFBQSxNQUFBbndCLEdBQUE4L0QsRUFBQTkvRCxFQUFBSCxJQUNBLE1BRUFHLElBQUFILEdBRUEsT0FBQXN3QixLQUFBbGMsR0FBQTNTLEVBQ0E2dUIsS0FFQTd1QixFQUFBLE1BQUF0QixFQUFBLEVBQUFBLEVBQUFzQixTQUNBeStELEdBQUF6K0QsSUFBQWtvRCxHQUFBM3BELEVBQUF5QixLQUNBOGdCLEdBQUFwaUIsSUFBQXFwRCxHQUFBcnBELElBNkJBLFNBQUE2ckQsR0FBQTdyRCxHQUNBLHlCQUFBQSxFQUFBc3JELGFBQUE4SCxHQUFBcHpELE1BQ0F5bkQsR0FBQXpELEdBQUFoa0QsSUE4RUEsU0FBQWd2RCxHQUFBenZELEdBQ0EsT0FBQTZpQixHQUFBN2lCLElBQUE4cEQsR0FBQTlwRCxPQUNBOGtELElBQUE5a0QsS0FBQThrRCxLQVdBLFNBQUFtRixHQUFBanFELEVBQUErQixHQUNBLElBQUEwQixTQUFBekQsRUFHQSxTQUZBK0IsRUFBQSxNQUFBQSxFQUFBK25DLEVBQUEvbkMsS0FHQSxVQUFBMEIsR0FDQSxVQUFBQSxHQUFBMHFDLEdBQUF3VCxLQUFBM2hELEtBQ0FBLEdBQUEsR0FBQUEsRUFBQSxNQUFBQSxFQUFBK0IsRUFhQSxTQUFBaTVELEdBQUFoN0QsRUFBQTBVLEVBQUFqVSxHQUNBLElBQUEybkQsR0FBQTNuRCxHQUNBLFNBRUEsSUFBQWdELFNBQUFpUixFQUNBLG1CQUFBalIsRUFDQTB3RCxHQUFBMXpELElBQUF3cEQsR0FBQXYxQyxFQUFBalUsRUFBQXNCLFFBQ0EsVUFBQTBCLEdBQUFpUixLQUFBalUsSUFFQWt1QixHQUFBbHVCLEVBQUFpVSxHQUFBMVUsR0FhQSxTQUFBczBELEdBQUF0MEQsRUFBQVMsR0FDQSxHQUFBb2lCLEdBQUE3aUIsR0FDQSxTQUVBLElBQUF5RCxTQUFBekQsRUFDQSxrQkFBQXlELEdBQUEsVUFBQUEsR0FBQSxXQUFBQSxHQUNBLE1BQUF6RCxJQUFBcXZELEdBQUFydkQsS0FHQWl0QyxHQUFBMFUsS0FBQTNoRCxLQUFBZ3RDLEdBQUEyVSxLQUFBM2hELElBQ0EsTUFBQVMsR0FBQVQsS0FBQVAsR0FBQWdCLEdBeUJBLFNBQUE2N0QsR0FBQTlqRCxHQUNBLElBQUE0akQsRUFBQUQsR0FBQTNqRCxHQUNBNVIsRUFBQWloRCxHQUFBdVUsR0FFQSxzQkFBQXgxRCxLQUFBdzFELEtBQUFyVSxHQUFBcG5ELFdBQ0EsU0FFQSxHQUFBNlgsSUFBQTVSLEVBQ0EsU0FFQSxJQUFBOGdCLEVBQUEyMEMsR0FBQXoxRCxHQUNBLFFBQUE4Z0IsR0FBQWxQLElBQUFrUCxFQUFBLElBN1NBay9CLElBQUF1RixHQUFBLElBQUF2RixHQUFBLElBQUE2WixZQUFBLE1BQUE5MEIsSUFDQWtiLElBQUFzRixHQUFBLElBQUF0RixLQUFBL2IsR0FDQWdjLElBNTBMQSxvQkE0MExBcUYsR0FBQXJGLEdBQUE0WixZQUNBajBELElBQUEwL0MsR0FBQSxJQUFBMS9DLEtBQUEyK0IsSUFDQTJiLElBQUFvRixHQUFBLElBQUFwRixLQUFBdmIsTUFDQTJnQixHQUFBLFNBQUFuc0QsR0FDQSxJQUFBNHdCLEVBQUEwL0IsR0FBQXR3RCxHQUNBNnNELEVBQUFqOEIsR0FBQXFhLEVBQUFqckMsRUFBQStyRCxZQUFBOS9CLEVBQ0EwMEMsRUFBQTlULEVBQUF6RixHQUFBeUYsR0FBQSxHQUVBLEdBQUE4VCxFQUNBLE9BQUFBLEdBQ0EsS0FBQXhaLEdBQUEsT0FBQXhiLEdBQ0EsS0FBQTBiLEdBQUEsT0FBQXZjLEVBQ0EsS0FBQXdjLEdBQUEsTUF4MUxBLG1CQXkxTEEsS0FBQUMsR0FBQSxPQUFBbmMsR0FDQSxLQUFBb2MsR0FBQSxPQUFBaGMsR0FHQSxPQUFBNWEsSUErU0EsSUFBQWd3QyxHQUFBbGQsR0FBQW9NLEdBQUErUSxHQVNBLFNBQUFoTixHQUFBN3pELEdBQ0EsSUFBQTZzRCxFQUFBN3NELEtBQUErckQsWUFHQSxPQUFBL3JELEtBRkEsbUJBQUE2c0QsS0FBQWxzRCxXQUFBOGlELElBYUEsU0FBQThRLEdBQUF2MEQsR0FDQSxPQUFBQSxPQUFBb29ELEdBQUFwb0QsR0FZQSxTQUFBcTBELEdBQUEvekQsRUFBQSt5RCxHQUNBLGdCQUFBNXlELEdBQ0EsYUFBQUEsR0FHQUEsRUFBQUgsS0FBQSt5RCxJQUNBQSxJQUFBcG5DLEdBQUEzckIsS0FBQWIsR0FBQWdCLEtBc0lBLFNBQUErMUQsR0FBQWgrQyxFQUFBbkosRUFBQXl5QyxHQUVBLE9BREF6eUMsRUFBQWczQyxHQUFBaDNDLElBQUE0YyxFQUFBelQsRUFBQXpXLE9BQUEsRUFBQXNOLEVBQUEsR0FDQSxXQU1BLElBTEEsSUFBQTJ2QixFQUFBcDNCLFVBQ0E4TSxHQUFBLEVBQ0EzUyxFQUFBc2tELEdBQUFybkIsRUFBQWo5QixPQUFBc04sRUFBQSxHQUNBd0osRUFBQStKLEVBQUE3Z0IsS0FFQTJTLEVBQUEzUyxHQUNBOFcsRUFBQW5FLEdBQUFzcUIsRUFBQTN2QixFQUFBcUYsR0FFQUEsR0FBQSxFQUVBLElBREEsSUFBQW9zRCxFQUFBbCtDLEVBQUF2VCxFQUFBLEtBQ0FxRixFQUFBckYsR0FDQXl4RCxFQUFBcHNELEdBQUFzcUIsRUFBQXRxQixHQUdBLE9BREFvc0QsRUFBQXp4RCxHQUFBeXlDLEVBQUFqcEMsR0FDQWxSLEdBQUE2USxFQUFBblcsS0FBQXkrRCxJQVlBLFNBQUE1d0QsR0FBQXpQLEVBQUF1dkQsR0FDQSxPQUFBQSxFQUFBanVELE9BQUEsRUFBQXRCLEVBQUFzdkQsR0FBQXR2RCxFQUFBdTJELEdBQUFoSCxFQUFBLE9BdUNBLElBQUE2TyxHQUFBa0MsR0FBQW5LLElBVUFuUixHQUFBRCxJQUFBLFNBQUFodEMsRUFBQS9HLEdBQ0EsT0FBQTZ6QixHQUFBbWdCLFdBQUFqdEMsRUFBQS9HLElBV0E4a0QsR0FBQXdLLEdBQUFsSyxJQVlBLFNBQUFpSSxHQUFBNUMsRUFBQTFpRCxFQUFBa3lDLEdBQ0EsSUFBQTE4QyxFQUFBd0ssRUFBQSxHQUNBLE9BQUErOEMsR0FBQTJGLEVBdGFBLFNBQUFsdEQsRUFBQWd5RCxHQUNBLElBQUFqL0QsRUFBQWkvRCxFQUFBai9ELE9BQ0EsSUFBQUEsRUFDQSxPQUFBaU4sRUFFQSxJQUFBcXpDLEVBQUF0Z0QsRUFBQSxFQUdBLE9BRkFpL0QsRUFBQTNlLElBQUF0Z0QsRUFBQSxXQUFBaS9ELEVBQUEzZSxHQUNBMmUsSUFBQTlwRCxLQUFBblYsRUFBQSxZQUNBaU4sRUFBQWhOLFFBQUF3ckMsR0FBQSx1QkFBNkN3ekIsRUFBQSxVQThaN0NDLENBQUFqeUQsRUFxSEEsU0FBQWd5RCxFQUFBdFYsR0FPQSxPQU5BOVksR0FBQXhJLEVBQUEsU0FBQTgwQixHQUNBLElBQUFsL0QsRUFBQSxLQUFBay9ELEVBQUEsR0FDQXhULEVBQUF3VCxFQUFBLEtBQUFoc0IsR0FBQTh0QixFQUFBaGhFLElBQ0FnaEUsRUFBQXQ0RCxLQUFBMUksS0FHQWdoRSxFQUFBM0wsT0E1SEE2TCxDQWxpQkEsU0FBQWx5RCxHQUNBLElBQUF3ekMsRUFBQXh6QyxFQUFBd3pDLE1BQUEvVSxJQUNBLE9BQUErVSxJQUFBLEdBQUEvNEMsTUFBQWlrQyxPQWdpQkF5ekIsQ0FBQW55RCxHQUFBMDhDLEtBWUEsU0FBQXFWLEdBQUF2b0QsR0FDQSxJQUFBNG9ELEVBQUEsRUFDQUMsRUFBQSxFQUVBLGtCQUNBLElBQUFDLEVBQUEvYSxLQUNBZ2IsRUFBQTczQixHQUFBNDNCLEVBQUFELEdBR0EsR0FEQUEsRUFBQUMsRUFDQUMsRUFBQSxHQUNBLEtBQUFILEdBQUEzM0IsRUFDQSxPQUFBN2hDLFVBQUEsUUFHQXc1RCxFQUFBLEVBRUEsT0FBQTVvRCxFQUFBN1EsTUFBQXNrQixFQUFBcmtCLFlBWUEsU0FBQXlpRCxHQUFBeHhDLEVBQUFwUSxHQUNBLElBQUFpTSxHQUFBLEVBQ0EzUyxFQUFBOFcsRUFBQTlXLE9BQ0FzZ0QsRUFBQXRnRCxFQUFBLEVBR0EsSUFEQTBHLE1BQUF3akIsRUFBQWxxQixFQUFBMEcsSUFDQWlNLEVBQUFqTSxHQUFBLENBQ0EsSUFBQSs0RCxFQUFBclgsR0FBQXoxQyxFQUFBMnRDLEdBQ0FyaUQsRUFBQTZZLEVBQUEyb0QsR0FFQTNvRCxFQUFBMm9ELEdBQUEzb0QsRUFBQW5FLEdBQ0FtRSxFQUFBbkUsR0FBQTFVLEVBR0EsT0FEQTZZLEVBQUE5VyxPQUFBMEcsRUFDQW9RLEVBVUEsSUFBQXVnRCxHQW5TQSxTQUFBNWdELEdBQ0EsSUFBQW9ZLEVBQUE2d0MsR0FBQWpwRCxFQUFBLFNBQUFsWSxHQUlBLE9BSEEyMEMsRUFBQXhzQyxPQUFBNi9CLEdBQ0EyTSxFQUFBa1UsUUFFQTdvRCxJQUdBMjBDLEVBQUFya0IsRUFBQXFrQixNQUNBLE9BQUFya0IsRUEwUkE4d0MsQ0FBQSxTQUFBaGdCLEdBQ0EsSUFBQTl3QixLQU9BLE9BTkEsS0FBQTh3QixFQUFBLzNDLFdBQUEsSUFDQWluQixFQUFBbG9CLEtBQUEsSUFFQWc1QyxFQUFBMS9DLFFBQUFrckMsR0FBQSxTQUFBc1YsRUFBQThJLEVBQUFxVyxFQUFBQyxHQUNBaHhDLEVBQUFsb0IsS0FBQWk1RCxFQUFBQyxFQUFBNS9ELFFBQUE0ckMsR0FBQSxNQUFBMGQsR0FBQTlJLEtBRUE1eEIsSUFVQSxTQUFBcy9CLEdBQUFsd0QsR0FDQSxvQkFBQUEsR0FBQXF2RCxHQUFBcnZELEdBQ0EsT0FBQUEsRUFFQSxJQUFBNHdCLEVBQUE1d0IsRUFBQSxHQUNBLFdBQUE0d0IsR0FBQSxFQUFBNXdCLElBQUE2cEMsRUFBQSxLQUFBalosRUFVQSxTQUFBdzJCLEdBQUE1dUMsR0FDQSxTQUFBQSxFQUFBLENBQ0EsSUFDQSxPQUFBbXJDLEdBQUF6a0QsS0FBQXNaLEdBQ1MsTUFBQTBxQixJQUNULElBQ0EsT0FBQTFxQixFQUFBLEdBQ1MsTUFBQTBxQixLQUVULFNBNEJBLFNBQUEra0IsR0FBQWlVLEdBQ0EsR0FBQUEsYUFBQW5VLEdBQ0EsT0FBQW1VLEVBQUF6bkMsUUFFQSxJQUFBN0QsRUFBQSxJQUFBbzNCLEdBQUFrVSxFQUFBM1QsWUFBQTJULEVBQUF6VCxXQUlBLE9BSEE3M0IsRUFBQTQzQixZQUFBOEIsR0FBQTRSLEVBQUExVCxhQUNBNTNCLEVBQUE4M0IsVUFBQXdULEVBQUF4VCxVQUNBOTNCLEVBQUErM0IsV0FBQXVULEVBQUF2VCxXQUNBLzNCLEVBc0lBLElBQUFpeEMsR0FBQXZMLEdBQUEsU0FBQXo5QyxFQUFBeWUsR0FDQSxPQUFBczlCLEdBQUEvN0MsR0FDQW0xQyxHQUFBbjFDLEVBQUEwMkMsR0FBQWo0QixFQUFBLEVBQUFzOUIsSUFBQSxTQThCQWtOLEdBQUF4TCxHQUFBLFNBQUF6OUMsRUFBQXllLEdBQ0EsSUFBQW9iLEVBQUE2ZSxHQUFBajZCLEdBSUEsT0FIQXM5QixHQUFBbGlCLEtBQ0FBLEVBQUF6bUIsR0FFQTJvQyxHQUFBLzdDLEdBQ0FtMUMsR0FBQW4xQyxFQUFBMDJDLEdBQUFqNEIsRUFBQSxFQUFBczlCLElBQUEsR0FBQVEsR0FBQTFpQixFQUFBLFNBMkJBcXZCLEdBQUF6TCxHQUFBLFNBQUF6OUMsRUFBQXllLEdBQ0EsSUFBQStiLEVBQUFrZSxHQUFBajZCLEdBSUEsT0FIQXM5QixHQUFBdmhCLEtBQ0FBLEVBQUFwbkIsR0FFQTJvQyxHQUFBLzdDLEdBQ0FtMUMsR0FBQW4xQyxFQUFBMDJDLEdBQUFqNEIsRUFBQSxFQUFBczlCLElBQUEsR0FBQTNvQyxFQUFBb25CLFFBdU9BLFNBQUEydUIsR0FBQW5wRCxFQUFBazZCLEVBQUFtQixHQUNBLElBQUFueUMsRUFBQSxNQUFBOFcsRUFBQSxFQUFBQSxFQUFBOVcsT0FDQSxJQUFBQSxFQUNBLFNBRUEsSUFBQTJTLEVBQUEsTUFBQXcvQixFQUFBLEVBQUErcUIsR0FBQS9xQixHQUlBLE9BSEF4L0IsRUFBQSxJQUNBQSxFQUFBMnhDLEdBQUF0a0QsRUFBQTJTLEVBQUEsSUFFQXUvQixHQUFBcDdCLEVBQUF1OEMsR0FBQXJpQixFQUFBLEdBQUFyK0IsR0FzQ0EsU0FBQXV0RCxHQUFBcHBELEVBQUFrNkIsRUFBQW1CLEdBQ0EsSUFBQW55QyxFQUFBLE1BQUE4VyxFQUFBLEVBQUFBLEVBQUE5VyxPQUNBLElBQUFBLEVBQ0EsU0FFQSxJQUFBMlMsRUFBQTNTLEVBQUEsRUFPQSxPQU5BbXlDLElBQUFqb0IsSUFDQXZYLEVBQUF1cUQsR0FBQS9xQixHQUNBeC9CLEVBQUF3L0IsRUFBQSxFQUNBbVMsR0FBQXRrRCxFQUFBMlMsRUFBQSxHQUNBNHhDLEdBQUE1eEMsRUFBQTNTLEVBQUEsSUFFQWt5QyxHQUFBcDdCLEVBQUF1OEMsR0FBQXJpQixFQUFBLEdBQUFyK0IsR0FBQSxHQWlCQSxTQUFBd3JELEdBQUFybkQsR0FFQSxPQURBLE1BQUFBLEtBQUE5VyxPQUNBd3RELEdBQUExMkMsRUFBQSxNQWdHQSxTQUFBcXBELEdBQUFycEQsR0FDQSxPQUFBQSxLQUFBOVcsT0FBQThXLEVBQUEsR0FBQW9ULEVBMEVBLElBQUFrMkMsR0FBQTdMLEdBQUEsU0FBQXZGLEdBQ0EsSUFBQXFSLEVBQUE5dUIsR0FBQXlkLEVBQUFtSSxJQUNBLE9BQUFrSixFQUFBcmdFLFFBQUFxZ0UsRUFBQSxLQUFBclIsRUFBQSxHQUNBRCxHQUFBc1IsUUEyQkFDLEdBQUEvTCxHQUFBLFNBQUF2RixHQUNBLElBQUFyZSxFQUFBNmUsR0FBQVIsR0FDQXFSLEVBQUE5dUIsR0FBQXlkLEVBQUFtSSxJQU9BLE9BTEF4bUIsSUFBQTZlLEdBQUE2USxHQUNBMXZCLEVBQUF6bUIsRUFFQW0yQyxFQUFBNXRELE1BRUE0dEQsRUFBQXJnRSxRQUFBcWdFLEVBQUEsS0FBQXJSLEVBQUEsR0FDQUQsR0FBQXNSLEVBQUFoTixHQUFBMWlCLEVBQUEsU0F5QkE0dkIsR0FBQWhNLEdBQUEsU0FBQXZGLEdBQ0EsSUFBQTFkLEVBQUFrZSxHQUFBUixHQUNBcVIsRUFBQTl1QixHQUFBeWQsRUFBQW1JLElBTUEsT0FKQTdsQixFQUFBLG1CQUFBQSxJQUFBcG5CLElBRUFtMkMsRUFBQTV0RCxNQUVBNHRELEVBQUFyZ0UsUUFBQXFnRSxFQUFBLEtBQUFyUixFQUFBLEdBQ0FELEdBQUFzUixFQUFBbjJDLEVBQUFvbkIsUUFxQ0EsU0FBQWtlLEdBQUExNEMsR0FDQSxJQUFBOVcsRUFBQSxNQUFBOFcsRUFBQSxFQUFBQSxFQUFBOVcsT0FDQSxPQUFBQSxFQUFBOFcsRUFBQTlXLEVBQUEsR0FBQWtxQixFQXVGQSxJQUFBczJDLEdBQUFqTSxHQUFBa00sSUFzQkEsU0FBQUEsR0FBQTNwRCxFQUFBeWUsR0FDQSxPQUFBemUsS0FBQTlXLFFBQUF1MUIsS0FBQXYxQixPQUNBaTBELEdBQUFuOUMsRUFBQXllLEdBQ0F6ZSxFQXFGQSxJQUFBNHBELEdBQUEzRyxHQUFBLFNBQUFqakQsRUFBQXE5QyxHQUNBLElBQUFuMEQsRUFBQSxNQUFBOFcsRUFBQSxFQUFBQSxFQUFBOVcsT0FDQTZ1QixFQUFBdzZCLEdBQUF2eUMsRUFBQXE5QyxHQU1BLE9BSkFELEdBQUFwOUMsRUFBQXk2QixHQUFBNGlCLEVBQUEsU0FBQXhoRCxHQUNBLE9BQUF1MUMsR0FBQXYxQyxFQUFBM1MsSUFBQTJTLE1BQ08yZ0QsS0FBQU0sS0FFUC9rQyxJQTJFQSxTQUFBKzFCLEdBQUE5dEMsR0FDQSxhQUFBQSxJQUFBNnRDLEdBQUF4bkQsS0FBQTJaLEdBa2FBLElBQUE2cEQsR0FBQXBNLEdBQUEsU0FBQXZGLEdBQ0EsT0FBQXFILEdBQUE3SSxHQUFBd0IsRUFBQSxFQUFBNkQsSUFBQSxNQTBCQStOLEdBQUFyTSxHQUFBLFNBQUF2RixHQUNBLElBQUFyZSxFQUFBNmUsR0FBQVIsR0FJQSxPQUhBNkQsR0FBQWxpQixLQUNBQSxFQUFBem1CLEdBRUFtc0MsR0FBQTdJLEdBQUF3QixFQUFBLEVBQUE2RCxJQUFBLEdBQUFRLEdBQUExaUIsRUFBQSxNQXdCQWt3QixHQUFBdE0sR0FBQSxTQUFBdkYsR0FDQSxJQUFBMWQsRUFBQWtlLEdBQUFSLEdBRUEsT0FEQTFkLEVBQUEsbUJBQUFBLElBQUFwbkIsRUFDQW1zQyxHQUFBN0ksR0FBQXdCLEVBQUEsRUFBQTZELElBQUEsR0FBQTNvQyxFQUFBb25CLEtBZ0dBLFNBQUF3dkIsR0FBQWhxRCxHQUNBLElBQUFBLE1BQUE5VyxPQUNBLFNBRUEsSUFBQUEsRUFBQSxFQU9BLE9BTkE4VyxFQUFBbTZCLEdBQUFuNkIsRUFBQSxTQUFBaXFELEdBQ0EsR0FBQWxPLEdBQUFrTyxHQUVBLE9BREEvZ0UsRUFBQXNrRCxHQUFBeWMsRUFBQS9nRSxXQUNBLElBR0E2eUMsR0FBQTd5QyxFQUFBLFNBQUEyUyxHQUNBLE9BQUE0K0IsR0FBQXo2QixFQUFBZzdCLEdBQUFuL0IsTUF5QkEsU0FBQXF1RCxHQUFBbHFELEVBQUE2NUIsR0FDQSxJQUFBNzVCLE1BQUE5VyxPQUNBLFNBRUEsSUFBQTZ1QixFQUFBaXlDLEdBQUFocUQsR0FDQSxhQUFBNjVCLEVBQ0E5aEIsRUFFQTBpQixHQUFBMWlCLEVBQUEsU0FBQWt5QyxHQUNBLE9BQUFuN0QsR0FBQStxQyxFQUFBem1CLEVBQUE2MkMsS0F3QkEsSUFBQUUsR0FBQTFNLEdBQUEsU0FBQXo5QyxFQUFBeWUsR0FDQSxPQUFBczlCLEdBQUEvN0MsR0FDQW0xQyxHQUFBbjFDLEVBQUF5ZSxRQXNCQTJyQyxHQUFBM00sR0FBQSxTQUFBdkYsR0FDQSxPQUFBK0gsR0FBQTlsQixHQUFBK2QsRUFBQTZELE9BMEJBc08sR0FBQTVNLEdBQUEsU0FBQXZGLEdBQ0EsSUFBQXJlLEVBQUE2ZSxHQUFBUixHQUlBLE9BSEE2RCxHQUFBbGlCLEtBQ0FBLEVBQUF6bUIsR0FFQTZzQyxHQUFBOWxCLEdBQUErZCxFQUFBNkQsSUFBQVEsR0FBQTFpQixFQUFBLE1Bd0JBeXdCLEdBQUE3TSxHQUFBLFNBQUF2RixHQUNBLElBQUExZCxFQUFBa2UsR0FBQVIsR0FFQSxPQURBMWQsRUFBQSxtQkFBQUEsSUFBQXBuQixFQUNBNnNDLEdBQUE5bEIsR0FBQStkLEVBQUE2RCxJQUFBM29DLEVBQUFvbkIsS0FtQkErdkIsR0FBQTlNLEdBQUF1TSxJQTZEQSxJQUFBUSxHQUFBL00sR0FBQSxTQUFBdkYsR0FDQSxJQUFBaHZELEVBQUFndkQsRUFBQWh2RCxPQUNBMndDLEVBQUEzd0MsRUFBQSxFQUFBZ3ZELEVBQUFodkQsRUFBQSxHQUFBa3FCLEVBR0EsT0FBQTgyQyxHQUFBaFMsRUFEQXJlLEVBQUEsbUJBQUFBLEdBQUFxZSxFQUFBdjhDLE1BQUFrK0IsR0FBQXptQixLQW1DQSxTQUFBcTNDLEdBQUF0akUsR0FDQSxJQUFBNHdCLEVBQUFpM0IsR0FBQTduRCxHQUVBLE9BREE0d0IsRUFBQTYzQixXQUFBLEVBQ0E3M0IsRUFzREEsU0FBQXFyQyxHQUFBajhELEVBQUF1akUsR0FDQSxPQUFBQSxFQUFBdmpFLEdBbUJBLElBQUF3akUsR0FBQTFILEdBQUEsU0FBQTl6QixHQUNBLElBQUFqbUMsRUFBQWltQyxFQUFBam1DLE9BQ0FzTixFQUFBdE4sRUFBQWltQyxFQUFBLEtBQ0Fob0MsRUFBQXFDLEtBQUFrbUQsWUFDQWdiLEVBQUEsU0FBQTlpRSxHQUEwQyxPQUFBMnFELEdBQUEzcUQsRUFBQXVuQyxJQUUxQyxRQUFBam1DLEVBQUEsR0FBQU0sS0FBQW1tRCxZQUFBem1ELFNBQ0EvQixhQUFBK25ELElBQUFrQyxHQUFBNTZDLEtBR0FyUCxJQUFBaTNCLE1BQUE1bkIsTUFBQXROLEVBQUEsT0FDQXltRCxZQUFBOS9DLE1BQ0E4UCxLQUFBeWpELEdBQ0FqOUIsTUFBQXVrQyxHQUNBaHhCLFFBQUF0bUIsSUFFQSxJQUFBKzdCLEdBQUFob0QsRUFBQXFDLEtBQUFvbUQsV0FBQXdULEtBQUEsU0FBQXBqRCxHQUlBLE9BSEE5VyxJQUFBOFcsRUFBQTlXLFFBQ0E4VyxFQUFBblEsS0FBQXVqQixHQUVBcFQsS0FaQXhXLEtBQUE0NUQsS0FBQXNILEtBK1BBLElBQUFFLEdBQUE5SSxHQUFBLFNBQUEvcEMsRUFBQTV3QixFQUFBTSxHQUNBTSxHQUFBMUIsS0FBQTB4QixFQUFBdHdCLEtBQ0Fzd0IsRUFBQXR3QixHQUVBb3FELEdBQUE5NUIsRUFBQXR3QixFQUFBLEtBbUlBLElBQUFnbUIsR0FBQXExQyxHQUFBcUcsSUFxQkEwQixHQUFBL0gsR0FBQXNHLElBMkdBLFNBQUFwekQsR0FBQWtsQyxFQUFBckIsR0FFQSxPQURBN3ZCLEdBQUFreEIsR0FBQW5CLEdBQUFtWSxJQUNBaFgsRUFBQXFoQixHQUFBMWlCLEVBQUEsSUF1QkEsU0FBQWl4QixHQUFBNXZCLEVBQUFyQixHQUVBLE9BREE3dkIsR0FBQWt4QixHQUFBbEIsR0FBQW9jLElBQ0FsYixFQUFBcWhCLEdBQUExaUIsRUFBQSxJQTBCQSxJQUFBa3hCLEdBQUFqSixHQUFBLFNBQUEvcEMsRUFBQTV3QixFQUFBTSxHQUNBTSxHQUFBMUIsS0FBQTB4QixFQUFBdHdCLEdBQ0Fzd0IsRUFBQXR3QixHQUFBb0ksS0FBQTFJLEdBRUEwcUQsR0FBQTk1QixFQUFBdHdCLEdBQUFOLE1Bc0VBLElBQUE2akUsR0FBQXZOLEdBQUEsU0FBQXZpQixFQUFBaWMsRUFBQWh4QixHQUNBLElBQUF0cUIsR0FBQSxFQUNBMDNDLEVBQUEsbUJBQUE0RCxFQUNBcC9CLEVBQUF1akMsR0FBQXBnQixHQUFBbnhCLEVBQUFteEIsRUFBQWh5QyxXQUtBLE9BSEFncEQsR0FBQWhYLEVBQUEsU0FBQS96QyxHQUNBNHdCLElBQUFsYyxHQUFBMDNDLEVBQUF6a0QsR0FBQXFvRCxFQUFBaHdELEVBQUFnL0IsR0FBQXN5QixHQUFBdHhELEVBQUFnd0QsRUFBQWh4QixLQUVBcE8sSUErQkFrekMsR0FBQW5KLEdBQUEsU0FBQS9wQyxFQUFBNXdCLEVBQUFNLEdBQ0FvcUQsR0FBQTk1QixFQUFBdHdCLEVBQUFOLEtBNkNBLFNBQUEwSixHQUFBcXFDLEVBQUFyQixHQUVBLE9BREE3dkIsR0FBQWt4QixHQUFBVCxHQUFBNGdCLElBQ0FuZ0IsRUFBQXFoQixHQUFBMWlCLEVBQUEsSUFrRkEsSUFBQXF4QixHQUFBcEosR0FBQSxTQUFBL3BDLEVBQUE1d0IsRUFBQU0sR0FDQXN3QixFQUFBdHdCLEVBQUEsS0FBQW9JLEtBQUExSSxJQUNLLFdBQWMsZ0JBbVNuQixJQUFBZ2tFLEdBQUExTixHQUFBLFNBQUF2aUIsRUFBQW1oQixHQUNBLFNBQUFuaEIsRUFDQSxTQUVBLElBQUFoeUMsRUFBQW16RCxFQUFBbnpELE9BTUEsT0FMQUEsRUFBQSxHQUFBaTVELEdBQUFqbkIsRUFBQW1oQixFQUFBLEdBQUFBLEVBQUEsSUFDQUEsS0FDT256RCxFQUFBLEdBQUFpNUQsR0FBQTlGLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLE1BQ1BBLEtBQUEsS0FFQUQsR0FBQWxoQixFQUFBd2IsR0FBQTJGLEVBQUEsU0FxQkEzUCxHQUFBRCxJQUFBLFdBQ0EsT0FBQWhnQixHQUFBK2QsS0FBQWtDLE9BMERBLFNBQUFxWCxHQUFBcGtELEVBQUFoWSxFQUFBdTZELEdBR0EsT0FGQXY2RCxFQUFBdTZELEVBQUE5dUMsRUFBQXpyQixFQUNBQSxFQUFBZ1ksR0FBQSxNQUFBaFksRUFBQWdZLEVBQUF6VyxPQUFBdkIsRUFDQTgrRCxHQUFBOW1ELEVBQUE0d0IsRUFBQW5kLFFBQUF6ckIsR0FvQkEsU0FBQXlqRSxHQUFBempFLEVBQUFnWSxHQUNBLElBQUFvWSxFQUNBLHNCQUFBcFksRUFDQSxVQUFBOHFDLEdBQUFsYixHQUdBLE9BREE1bkMsRUFBQXkrRCxHQUFBeitELEdBQ0EsV0FPQSxRQU5BQSxFQUFBLElBQ0Fvd0IsRUFBQXBZLEVBQUE3USxNQUFBdEYsS0FBQXVGLFlBRUFwSCxHQUFBLElBQ0FnWSxFQUFBeVQsR0FFQTJFLEdBdUNBLElBQUFyd0IsR0FBQSsxRCxHQUFBLFNBQUE5OUMsRUFBQSs1QixFQUFBcW5CLEdBQ0EsSUFBQWxPLEVBQUE3aUIsRUFDQSxHQUFBK3dCLEVBQUE3M0QsT0FBQSxDQUNBLElBQUE4M0QsRUFBQTlYLEdBQUE2WCxFQUFBc0QsR0FBQTM4RCxLQUNBbXJELEdBQUF4aUIsRUFFQSxPQUFBbzJCLEdBQUE5bUQsRUFBQWt6QyxFQUFBblosRUFBQXFuQixFQUFBQyxLQWdEQXFLLEdBQUE1TixHQUFBLFNBQUE3MUQsRUFBQUgsRUFBQXM1RCxHQUNBLElBQUFsTyxFQUFBN2lCLEVBQUFDLEVBQ0EsR0FBQTh3QixFQUFBNzNELE9BQUEsQ0FDQSxJQUFBODNELEVBQUE5WCxHQUFBNlgsRUFBQXNELEdBQUFnSCxLQUNBeFksR0FBQXhpQixFQUVBLE9BQUFvMkIsR0FBQWgvRCxFQUFBb3JELEVBQUFqckQsRUFBQW01RCxFQUFBQyxLQXNKQSxTQUFBc0ssR0FBQTNyRCxFQUFBL0csRUFBQWdSLEdBQ0EsSUFBQTJoRCxFQUNBQyxFQUNBQyxFQUNBMXpDLEVBQ0EyekMsRUFDQUMsRUFDQUMsRUFBQSxFQUNBQyxHQUFBLEVBQ0FDLEdBQUEsRUFDQXZKLEdBQUEsRUFFQSxzQkFBQTVpRCxFQUNBLFVBQUE4cUMsR0FBQWxiLEdBVUEsU0FBQXc4QixFQUFBQyxHQUNBLElBQUE3bEMsRUFBQW9sQyxFQUNBN3hCLEVBQUE4eEIsRUFLQSxPQUhBRCxFQUFBQyxFQUFBcDRDLEVBQ0F3NEMsRUFBQUksRUFDQWowQyxFQUFBcFksRUFBQTdRLE1BQUE0cUMsRUFBQXZULEdBdUJBLFNBQUE4bEMsRUFBQUQsR0FDQSxJQUFBRSxFQUFBRixFQUFBTCxFQU1BLE9BQUFBLElBQUF2NEMsR0FBQTg0QyxHQUFBdHpELEdBQ0FzekQsRUFBQSxHQUFBSixHQU5BRSxFQUFBSixHQU1BSCxFQUdBLFNBQUFVLElBQ0EsSUFBQUgsRUFBQXRmLEtBQ0EsR0FBQXVmLEVBQUFELEdBQ0EsT0FBQUksRUFBQUosR0FHQU4sRUFBQTllLEdBQUF1ZixFQTNCQSxTQUFBSCxHQUNBLElBRUFLLEVBQUF6ekQsR0FGQW96RCxFQUFBTCxHQUlBLE9BQUFHLEVBQ0FyZSxHQUFBNGUsRUFBQVosR0FKQU8sRUFBQUosSUFLQVMsRUFvQkFDLENBQUFOLElBR0EsU0FBQUksRUFBQUosR0FLQSxPQUpBTixFQUFBdDRDLEVBSUFtdkMsR0FBQWdKLEVBQ0FRLEVBQUFDLElBRUFULEVBQUFDLEVBQUFwNEMsRUFDQTJFLEdBZUEsU0FBQXcwQyxJQUNBLElBQUFQLEVBQUF0ZixLQUNBOGYsRUFBQVAsRUFBQUQsR0FNQSxHQUpBVCxFQUFBeDhELFVBQ0F5OEQsRUFBQWhpRSxLQUNBbWlFLEVBQUFLLEVBRUFRLEVBQUEsQ0FDQSxHQUFBZCxJQUFBdDRDLEVBQ0EsT0F6RUEsU0FBQTQ0QyxHQU1BLE9BSkFKLEVBQUFJLEVBRUFOLEVBQUE5ZSxHQUFBdWYsRUFBQXZ6RCxHQUVBaXpELEVBQUFFLEVBQUFDLEdBQUFqMEMsRUFtRUEwMEMsQ0FBQWQsR0FFQSxHQUFBRyxFQUdBLE9BREFKLEVBQUE5ZSxHQUFBdWYsRUFBQXZ6RCxHQUNBbXpELEVBQUFKLEdBTUEsT0FIQUQsSUFBQXQ0QyxJQUNBczRDLEVBQUE5ZSxHQUFBdWYsRUFBQXZ6RCxJQUVBbWYsRUFJQSxPQTFHQW5mLEVBQUFndEQsR0FBQWh0RCxJQUFBLEVBQ0EyMkMsR0FBQTNsQyxLQUNBaWlELElBQUFqaUQsRUFBQWlpRCxRQUVBSixHQURBSyxFQUFBLFlBQUFsaUQsR0FDQTRqQyxHQUFBb1ksR0FBQWg4QyxFQUFBNmhELFVBQUEsRUFBQTd5RCxHQUFBNnlELEVBQ0FsSixFQUFBLGFBQUEzNEMsTUFBQTI0QyxZQW1HQWdLLEVBQUFHLE9BbkNBLFdBQ0FoQixJQUFBdDRDLEdBQ0FvNUIsR0FBQWtmLEdBRUFFLEVBQUEsRUFDQUwsRUFBQUksRUFBQUgsRUFBQUUsRUFBQXQ0QyxHQStCQW01QyxFQUFBSSxNQTVCQSxXQUNBLE9BQUFqQixJQUFBdDRDLEVBQUEyRSxFQUFBcTBDLEVBQUExZixPQTRCQTZmLEVBcUJBLElBQUFLLEdBQUFuUCxHQUFBLFNBQUE5OUMsRUFBQXdtQixHQUNBLE9BQUErdUIsR0FBQXYxQyxFQUFBLEVBQUF3bUIsS0FzQkEwbUMsR0FBQXBQLEdBQUEsU0FBQTk5QyxFQUFBL0csRUFBQXV0QixHQUNBLE9BQUErdUIsR0FBQXYxQyxFQUFBaW1ELEdBQUFodEQsSUFBQSxFQUFBdXRCLEtBcUVBLFNBQUF5aUMsR0FBQWpwRCxFQUFBbXRELEdBQ0Esc0JBQUFudEQsR0FBQSxNQUFBbXRELEdBQUEsbUJBQUFBLEVBQ0EsVUFBQXJpQixHQUFBbGIsR0FFQSxJQUFBdzlCLEVBQUEsV0FDQSxJQUFBNW1DLEVBQUFwM0IsVUFDQXRILEVBQUFxbEUsSUFBQWgrRCxNQUFBdEYsS0FBQTI4QixLQUFBLEdBQ0FpVyxFQUFBMndCLEVBQUEzd0IsTUFFQSxHQUFBQSxFQUFBdG9DLElBQUFyTSxHQUNBLE9BQUEyMEMsRUFBQXIxQyxJQUFBVSxHQUVBLElBQUFzd0IsRUFBQXBZLEVBQUE3USxNQUFBdEYsS0FBQTI4QixHQUVBLE9BREE0bUMsRUFBQTN3QixRQUFBa04sSUFBQTdoRCxFQUFBc3dCLElBQUFxa0IsRUFDQXJrQixHQUdBLE9BREFnMUMsRUFBQTN3QixNQUFBLElBQUF3c0IsR0FBQW9FLE9BQUF2YyxJQUNBc2MsRUEwQkEsU0FBQUUsR0FBQS95QixHQUNBLHNCQUFBQSxFQUNBLFVBQUF1USxHQUFBbGIsR0FFQSxrQkFDQSxJQUFBcEosRUFBQXAzQixVQUNBLE9BQUFvM0IsRUFBQWo5QixRQUNBLGNBQUFneEMsRUFBQTd6QyxLQUFBbUQsTUFDQSxjQUFBMHdDLEVBQUE3ekMsS0FBQW1ELEtBQUEyOEIsRUFBQSxJQUNBLGNBQUErVCxFQUFBN3pDLEtBQUFtRCxLQUFBMjhCLEVBQUEsR0FBQUEsRUFBQSxJQUNBLGNBQUErVCxFQUFBN3pDLEtBQUFtRCxLQUFBMjhCLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLElBRUEsT0FBQStULEVBQUFwckMsTUFBQXRGLEtBQUEyOEIsSUFsQ0F5aUMsR0FBQW9FLE1BQUF2YyxHQTJGQSxJQUFBeWMsR0FBQTFNLEdBQUEsU0FBQTdnRCxFQUFBd3RELEdBS0EsSUFBQUMsR0FKQUQsRUFBQSxHQUFBQSxFQUFBamtFLFFBQUE4Z0IsR0FBQW1qRCxFQUFBLElBQ0ExeUIsR0FBQTB5QixFQUFBLEdBQUFueEIsR0FBQXVnQixPQUNBOWhCLEdBQUFpYyxHQUFBeVcsRUFBQSxHQUFBbnhCLEdBQUF1Z0IsUUFFQXJ6RCxPQUNBLE9BQUF1MEQsR0FBQSxTQUFBdDNCLEdBSUEsSUFIQSxJQUFBdHFCLEdBQUEsRUFDQTNTLEVBQUF1a0QsR0FBQXRuQixFQUFBajlCLE9BQUFra0UsS0FFQXZ4RCxFQUFBM1MsR0FDQWk5QixFQUFBdHFCLEdBQUFzeEQsRUFBQXR4RCxHQUFBeFYsS0FBQW1ELEtBQUEyOEIsRUFBQXRxQixJQUVBLE9BQUEvTSxHQUFBNlEsRUFBQW5XLEtBQUEyOEIsT0FxQ0FrbkMsR0FBQTVQLEdBQUEsU0FBQTk5QyxFQUFBb2hELEdBQ0EsSUFBQUMsRUFBQTlYLEdBQUE2WCxFQUFBc0QsR0FBQWdKLEtBQ0EsT0FBQTVHLEdBQUE5bUQsRUFBQTB3QixFQUFBamQsRUFBQTJ0QyxFQUFBQyxLQW1DQXNNLEdBQUE3UCxHQUFBLFNBQUE5OUMsRUFBQW9oRCxHQUNBLElBQUFDLEVBQUE5WCxHQUFBNlgsRUFBQXNELEdBQUFpSixLQUNBLE9BQUE3RyxHQUFBOW1ELEVBQUEyd0IsRUFBQWxkLEVBQUEydEMsRUFBQUMsS0F5QkF1TSxHQUFBdEssR0FBQSxTQUFBdGpELEVBQUEwOUMsR0FDQSxPQUFBb0osR0FBQTltRCxFQUFBNndCLEVBQUFwZCxNQUFBaXFDLEtBaWFBLFNBQUF2bkMsR0FBQTN1QixFQUFBNEcsR0FDQSxPQUFBNUcsSUFBQTRHLEdBQUE1RyxNQUFBNEcsS0EwQkEsSUFBQTRuQixHQUFBZ3dDLEdBQUE3TixJQXlCQWppQyxHQUFBOHZDLEdBQUEsU0FBQXgrRCxFQUFBNEcsR0FDQSxPQUFBNUcsR0FBQTRHLElBcUJBa2pELEdBQUEwSCxHQUFBLFdBQWtELE9BQUE1cEQsVUFBbEQsSUFBc0U0cEQsR0FBQSxTQUFBeHhELEdBQ3RFLE9BQUE4bkQsR0FBQTluRCxJQUFBWSxHQUFBMUIsS0FBQWMsRUFBQSxZQUNBNGtELEdBQUExbEQsS0FBQWMsRUFBQSxXQTBCQTZpQixHQUFBRCxFQUFBQyxRQW1CQSt1QixHQUFBRCxHQUFBa0QsR0FBQWxELElBOTJQQSxTQUFBM3hDLEdBQ0EsT0FBQThuRCxHQUFBOW5ELElBQUFzd0QsR0FBQXR3RCxJQUFBMHJDLElBdzRQQSxTQUFBeW9CLEdBQUFuMEQsR0FDQSxhQUFBQSxHQUFBd2dFLEdBQUF4Z0UsRUFBQStCLFVBQUErdEQsR0FBQTl2RCxHQTRCQSxTQUFBNDBELEdBQUE1MEQsR0FDQSxPQUFBOG5ELEdBQUE5bkQsSUFBQW0wRCxHQUFBbjBELEdBMENBLElBQUFnbUQsR0FBQUQsSUFBQThhLEdBbUJBL3VCLEdBQUFELEdBQUFnRCxHQUFBaEQsSUF6OVBBLFNBQUE3eEMsR0FDQSxPQUFBOG5ELEdBQUE5bkQsSUFBQXN3RCxHQUFBdHdELElBQUF5cUMsR0Fnb1FBLFNBQUE0N0IsR0FBQXJtRSxHQUNBLElBQUE4bkQsR0FBQTluRCxHQUNBLFNBRUEsSUFBQWtzRCxFQUFBb0UsR0FBQXR3RCxHQUNBLE9BQUFrc0QsR0FBQXZoQixHQUFBdWhCLEdBQUF4aEIsR0FDQSxpQkFBQTFxQyxFQUFBbUIsU0FBQSxpQkFBQW5CLEVBQUFWLE9BQUF1MUQsR0FBQTcwRCxHQWtEQSxTQUFBOHZELEdBQUE5dkQsR0FDQSxJQUFBb29ELEdBQUFwb0QsR0FDQSxTQUlBLElBQUFrc0QsRUFBQW9FLEdBQUF0d0QsR0FDQSxPQUFBa3NELEdBQUF0aEIsR0FBQXNoQixHQUFBcmhCLEdBQUFxaEIsR0FBQTNoQixHQUFBMmhCLEdBQUFoaEIsR0E2QkEsU0FBQW83QixHQUFBdG1FLEdBQ0EsdUJBQUFBLE1BQUFpL0QsR0FBQWovRCxHQTZCQSxTQUFBd2dFLEdBQUF4Z0UsR0FDQSx1QkFBQUEsR0FDQUEsR0FBQSxHQUFBQSxFQUFBLE1BQUFBLEdBQUE4cEMsRUE0QkEsU0FBQXNlLEdBQUFwb0QsR0FDQSxJQUFBeUQsU0FBQXpELEVBQ0EsYUFBQUEsSUFBQSxVQUFBeUQsR0FBQSxZQUFBQSxHQTJCQSxTQUFBcWtELEdBQUE5bkQsR0FDQSxhQUFBQSxHQUFBLGlCQUFBQSxFQW9CQSxJQUFBZ3lDLEdBQUFELEdBQUE4QyxHQUFBOUMsSUE3dVFBLFNBQUEveEMsR0FDQSxPQUFBOG5ELEdBQUE5bkQsSUFBQW1zRCxHQUFBbnNELElBQUE4cUMsR0E4N1FBLFNBQUF5N0IsR0FBQXZtRSxHQUNBLHVCQUFBQSxHQUNBOG5ELEdBQUE5bkQsSUFBQXN3RCxHQUFBdHdELElBQUErcUMsRUErQkEsU0FBQThwQixHQUFBNzBELEdBQ0EsSUFBQThuRCxHQUFBOW5ELElBQUFzd0QsR0FBQXR3RCxJQUFBaXJDLEVBQ0EsU0FFQSxJQUFBa2QsRUFBQTFELEdBQUF6a0QsR0FDQSxVQUFBbW9ELEVBQ0EsU0FFQSxJQUFBMEUsRUFBQWpzRCxHQUFBMUIsS0FBQWlwRCxFQUFBLGdCQUFBQSxFQUFBNEQsWUFDQSx5QkFBQWMsbUJBQ0FsSixHQUFBemtELEtBQUEydEQsSUFBQTFJLEdBb0JBLElBQUFqUyxHQUFBRCxHQUFBNEMsR0FBQTVDLElBNzZRQSxTQUFBanlDLEdBQ0EsT0FBQThuRCxHQUFBOW5ELElBQUFzd0QsR0FBQXR3RCxJQUFBbXJDLElBODlRQSxJQUFBaUgsR0FBQUQsR0FBQTBDLEdBQUExQyxJQXA5UUEsU0FBQW55QyxHQUNBLE9BQUE4bkQsR0FBQTluRCxJQUFBbXNELEdBQUFuc0QsSUFBQW9yQyxJQXMrUUEsU0FBQW83QixHQUFBeG1FLEdBQ0EsdUJBQUFBLElBQ0E2aUIsR0FBQTdpQixJQUFBOG5ELEdBQUE5bkQsSUFBQXN3RCxHQUFBdHdELElBQUFxckMsR0FvQkEsU0FBQWdrQixHQUFBcnZELEdBQ0EsdUJBQUFBLEdBQ0E4bkQsR0FBQTluRCxJQUFBc3dELEdBQUF0d0QsSUFBQXNyQyxHQW9CQSxJQUFBZ0gsR0FBQUQsR0FBQXdDLEdBQUF4QyxJQXhnUkEsU0FBQXJ5QyxHQUNBLE9BQUE4bkQsR0FBQTluRCxJQUNBd2dFLEdBQUF4Z0UsRUFBQStCLFdBQUFzdUMsR0FBQWlnQixHQUFBdHdELEtBOGxSQSxJQUFBdXVCLEdBQUFpd0MsR0FBQXZLLElBeUJBeGxDLEdBQUErdkMsR0FBQSxTQUFBeCtELEVBQUE0RyxHQUNBLE9BQUE1RyxHQUFBNEcsSUEwQkEsU0FBQTYvRCxHQUFBem1FLEdBQ0EsSUFBQUEsRUFDQSxTQUVBLEdBQUFtMEQsR0FBQW4wRCxHQUNBLE9BQUF3bUUsR0FBQXhtRSxHQUFBdWlELEdBQUF2aUQsR0FBQXNxRCxHQUFBdHFELEdBRUEsR0FBQWdsRCxJQUFBaGxELEVBQUFnbEQsSUFDQSxPQTc1VkEsU0FBQUMsR0FJQSxJQUhBLElBQUF2OUIsRUFDQWtKLE9BRUFsSixFQUFBdTlCLEVBQUF5aEIsUUFBQXAxRCxNQUNBc2YsRUFBQWxvQixLQUFBZ2YsRUFBQTFuQixPQUVBLE9BQUE0d0IsRUFzNVZBKzFDLENBQUEzbUUsRUFBQWdsRCxPQUVBLElBQUFrSCxFQUFBQyxHQUFBbnNELEdBR0EsT0FGQWtzRCxHQUFBcGhCLEVBQUE4VyxHQUFBc0ssR0FBQTlnQixHQUFBOFcsR0FBQTVxQixJQUVBdDNCLEdBMEJBLFNBQUFzK0QsR0FBQXQrRCxHQUNBLE9BQUFBLEdBR0FBLEVBQUF5K0QsR0FBQXorRCxNQUNBNnBDLEdBQUE3cEMsS0FBQTZwQyxHQUNBN3BDLEVBQUEsUUFDQStwQyxFQUVBL3BDLE9BQUEsRUFQQSxJQUFBQSxJQUFBLEVBb0NBLFNBQUFpL0QsR0FBQWovRCxHQUNBLElBQUE0d0IsRUFBQTB0QyxHQUFBdCtELEdBQ0E0bUUsRUFBQWgyQyxFQUFBLEVBRUEsT0FBQUEsS0FBQWcyQyxFQUFBaDJDLEVBQUFnMkMsRUFBQWgyQyxFQUFBLEVBOEJBLFNBQUFpMkMsR0FBQTdtRSxHQUNBLE9BQUFBLEVBQUF1cUQsR0FBQTBVLEdBQUFqL0QsR0FBQSxFQUFBaXFDLEdBQUEsRUEwQkEsU0FBQXcwQixHQUFBeitELEdBQ0Esb0JBQUFBLEVBQ0EsT0FBQUEsRUFFQSxHQUFBcXZELEdBQUFydkQsR0FDQSxPQUFBZ3FDLEVBRUEsR0FBQW9lLEdBQUFwb0QsR0FBQSxDQUNBLElBQUE0RyxFQUFBLG1CQUFBNUcsRUFBQTJuRCxRQUFBM25ELEVBQUEybkQsVUFBQTNuRCxFQUNBQSxFQUFBb29ELEdBQUF4aEQsS0FBQSxHQUFBQSxFQUVBLG9CQUFBNUcsRUFDQSxXQUFBQSxPQUVBQSxJQUFBZ0MsUUFBQXFyQyxHQUFBLElBQ0EsSUFBQXk1QixFQUFBOTRCLEdBQUEyVCxLQUFBM2hELEdBQ0EsT0FBQThtRSxHQUFBNTRCLEdBQUF5VCxLQUFBM2hELEdBQ0Erd0MsR0FBQS93QyxFQUFBaTNCLE1BQUEsR0FBQTZ2QyxFQUFBLEtBQ0EvNEIsR0FBQTRULEtBQUEzaEQsR0FBQWdxQyxHQUFBaHFDLEVBMkJBLFNBQUE4MEQsR0FBQTkwRCxHQUNBLE9BQUFpckQsR0FBQWpyRCxFQUFBeXNELEdBQUF6c0QsSUFzREEsU0FBQWlGLEdBQUFqRixHQUNBLGFBQUFBLEVBQUEsR0FBQW00RCxHQUFBbjRELEdBcUNBLElBQUEwTixHQUFBa3RELEdBQUEsU0FBQW42RCxFQUFBdU8sR0FDQSxHQUFBNmtELEdBQUE3a0QsSUFBQW1sRCxHQUFBbmxELEdBQ0FpOEMsR0FBQWo4QyxFQUFBZzFDLEdBQUFoMUMsR0FBQXZPLFFBR0EsUUFBQUgsS0FBQTBPLEVBQ0FwTyxHQUFBMUIsS0FBQThQLEVBQUExTyxJQUNBcXFELEdBQUFscUQsRUFBQUgsRUFBQTBPLEVBQUExTyxNQW9DQXltRSxHQUFBbk0sR0FBQSxTQUFBbjZELEVBQUF1TyxHQUNBaThDLEdBQUFqOEMsRUFBQXk5QyxHQUFBejlDLEdBQUF2TyxLQWdDQXVtRSxHQUFBcE0sR0FBQSxTQUFBbjZELEVBQUF1TyxFQUFBMGxELEVBQUEvSSxHQUNBVixHQUFBajhDLEVBQUF5OUMsR0FBQXo5QyxHQUFBdk8sRUFBQWtyRCxLQStCQXNiLEdBQUFyTSxHQUFBLFNBQUFuNkQsRUFBQXVPLEVBQUEwbEQsRUFBQS9JLEdBQ0FWLEdBQUFqOEMsRUFBQWcxQyxHQUFBaDFDLEdBQUF2TyxFQUFBa3JELEtBb0JBdWIsR0FBQXBMLEdBQUExUSxJQThEQSxJQUFBakksR0FBQW1ULEdBQUEsU0FBQTcxRCxFQUFBcTZELEdBQ0FyNkQsRUFBQWhCLEdBQUFnQixHQUVBLElBQUFpVSxHQUFBLEVBQ0EzUyxFQUFBKzRELEVBQUEvNEQsT0FDQWc1RCxFQUFBaDVELEVBQUEsRUFBQSs0RCxFQUFBLEdBQUE3dUMsRUFNQSxJQUpBOHVDLEdBQUFDLEdBQUFGLEVBQUEsR0FBQUEsRUFBQSxHQUFBQyxLQUNBaDVELEVBQUEsS0FHQTJTLEVBQUEzUyxHQU1BLElBTEEsSUFBQWlOLEVBQUE4ckQsRUFBQXBtRCxHQUNBcWdDLEVBQUEwWCxHQUFBejlDLEdBQ0FtNEQsR0FBQSxFQUNBQyxFQUFBcnlCLEVBQUFoekMsU0FFQW9sRSxFQUFBQyxHQUFBLENBQ0EsSUFBQTltRSxFQUFBeTBDLEVBQUFveUIsR0FDQW5uRSxFQUFBUyxFQUFBSCxJQUVBTixJQUFBaXNCLEdBQ0EwQyxHQUFBM3VCLEVBQUF5akQsR0FBQW5qRCxNQUFBTSxHQUFBMUIsS0FBQXVCLEVBQUFILE1BQ0FHLEVBQUFILEdBQUEwTyxFQUFBMU8sSUFLQSxPQUFBRyxJQXNCQTRtRSxHQUFBL1EsR0FBQSxTQUFBdDNCLEdBRUEsT0FEQUEsRUFBQXQyQixLQUFBdWpCLEVBQUE4ekMsSUFDQXA0RCxHQUFBMi9ELEdBQUFyN0MsRUFBQStTLEtBZ1NBLFNBQUFwL0IsR0FBQWEsRUFBQXV2RCxFQUFBK04sR0FDQSxJQUFBbnRDLEVBQUEsTUFBQW53QixFQUFBd3JCLEVBQUE4akMsR0FBQXR2RCxFQUFBdXZELEdBQ0EsT0FBQXAvQixJQUFBM0UsRUFBQTh4QyxFQUFBbnRDLEVBNERBLFNBQUE0akMsR0FBQS96RCxFQUFBdXZELEdBQ0EsYUFBQXZ2RCxHQUFBNi9ELEdBQUE3L0QsRUFBQXV2RCxFQUFBYSxJQXFCQSxJQUFBMFcsR0FBQTVKLEdBQUEsU0FBQS9zQyxFQUFBNXdCLEVBQUFNLEdBQ0EsTUFBQU4sR0FDQSxtQkFBQUEsRUFBQWlGLFdBQ0FqRixFQUFBa2tELEdBQUFobEQsS0FBQWMsSUFHQTR3QixFQUFBNXdCLEdBQUFNLEdBQ0t3MkQsR0FBQXJELEtBNEJMK1QsR0FBQTdKLEdBQUEsU0FBQS9zQyxFQUFBNXdCLEVBQUFNLEdBQ0EsTUFBQU4sR0FDQSxtQkFBQUEsRUFBQWlGLFdBQ0FqRixFQUFBa2tELEdBQUFobEQsS0FBQWMsSUFHQVksR0FBQTFCLEtBQUEweEIsRUFBQTV3QixHQUNBNHdCLEVBQUE1d0IsR0FBQTBJLEtBQUFwSSxHQUVBc3dCLEVBQUE1d0IsSUFBQU0sSUFFSzgwRCxJQW9CTHFTLEdBQUFuUixHQUFBaEYsSUE4QkEsU0FBQXROLEdBQUF2akQsR0FDQSxPQUFBMHpELEdBQUExekQsR0FBQWlwRCxHQUFBanBELEdBQUFtekQsR0FBQW56RCxHQTBCQSxTQUFBZ3NELEdBQUFoc0QsR0FDQSxPQUFBMHpELEdBQUExekQsR0FBQWlwRCxHQUFBanBELEdBQUEsR0FBQXF6RCxHQUFBcnpELEdBdUdBLElBQUFpbkUsR0FBQTlNLEdBQUEsU0FBQW42RCxFQUFBdU8sRUFBQTBsRCxHQUNBRCxHQUFBaDBELEVBQUF1TyxFQUFBMGxELEtBa0NBNFMsR0FBQTFNLEdBQUEsU0FBQW42RCxFQUFBdU8sRUFBQTBsRCxFQUFBL0ksR0FDQThJLEdBQUFoMEQsRUFBQXVPLEVBQUEwbEQsRUFBQS9JLEtBdUJBZ2MsR0FBQTdMLEdBQUEsU0FBQXI3RCxFQUFBdW5DLEdBQ0EsSUFBQXBYLEtBQ0EsU0FBQW53QixFQUNBLE9BQUFtd0IsRUFFQSxJQUFBZzdCLEdBQUEsRUFDQTVqQixFQUFBc0wsR0FBQXRMLEVBQUEsU0FBQWdvQixHQUdBLE9BRkFBLEVBQUFDLEdBQUFELEVBQUF2dkQsR0FDQW1yRCxNQUFBb0UsRUFBQWp1RCxPQUFBLEdBQ0FpdUQsSUFFQS9FLEdBQUF4cUQsRUFBQW10RCxHQUFBbnRELEdBQUFtd0IsR0FDQWc3QixJQUNBaDdCLEVBQUE2NkIsR0FBQTc2QixFQUFBNFgsRUFBQUMsRUFBQUMsRUFBQXMzQixLQUdBLElBREEsSUFBQWorRCxFQUFBaW1DLEVBQUFqbUMsT0FDQUEsS0FDQXEwRCxHQUFBeGxDLEVBQUFvWCxFQUFBam1DLElBRUEsT0FBQTZ1QixJQTRDQSxJQUFBd3lCLEdBQUEwWSxHQUFBLFNBQUFyN0QsRUFBQXVuQyxHQUNBLGFBQUF2bkMsS0Fqa1RBLFNBQUFBLEVBQUF1bkMsR0FDQSxPQUFBOHRCLEdBQUFyMUQsRUFBQXVuQyxFQUFBLFNBQUFob0MsRUFBQWd3RCxHQUNBLE9BQUF3RSxHQUFBL3pELEVBQUF1dkQsS0EralRnQzRYLENBQUFubkUsRUFBQXVuQyxLQXFCaEMsU0FBQTYvQixHQUFBcG5FLEVBQUFzeUMsR0FDQSxTQUFBdHlDLEVBQ0EsU0FFQSxJQUFBczBDLEVBQUF6QixHQUFBc2EsR0FBQW50RCxHQUFBLFNBQUFxbkUsR0FDQSxPQUFBQSxLQUdBLE9BREEvMEIsRUFBQXFpQixHQUFBcmlCLEdBQ0EraUIsR0FBQXIxRCxFQUFBczBDLEVBQUEsU0FBQS8wQyxFQUFBZ3dELEdBQ0EsT0FBQWpkLEVBQUEveUMsRUFBQWd3RCxFQUFBLE1BNElBLElBQUErWCxHQUFBM0ksR0FBQXBiLElBMEJBZ2tCLEdBQUE1SSxHQUFBM1MsSUE0S0EsU0FBQW4xQixHQUFBNzJCLEdBQ0EsYUFBQUEsS0FBQXEwQyxHQUFBcjBDLEVBQUF1akQsR0FBQXZqRCxJQWtOQSxJQUFBd25FLEdBQUE1TSxHQUFBLFNBQUF6cUMsRUFBQTduQixFQUFBMkwsR0FFQSxPQURBM0wsSUFBQW0vRCxjQUNBdDNDLEdBQUFsYyxFQUFBeXpELEdBQUFwL0QsUUFrQkEsU0FBQW8vRCxHQUFBem1CLEdBQ0EsT0FBQTBtQixHQUFBbmpFLEdBQUF5OEMsR0FBQXdtQixlQXFCQSxTQUFBMU0sR0FBQTlaLEdBRUEsT0FEQUEsRUFBQXo4QyxHQUFBeThDLEtBQ0FBLEVBQUExL0MsUUFBQW9zQyxHQUFBa0gsSUFBQXR6QyxRQUFBOHRDLEdBQUEsSUFzSEEsSUFBQXU0QixHQUFBaE4sR0FBQSxTQUFBenFDLEVBQUE3bkIsRUFBQTJMLEdBQ0EsT0FBQWtjLEdBQUFsYyxFQUFBLFFBQUEzTCxFQUFBbS9ELGdCQXVCQUksR0FBQWpOLEdBQUEsU0FBQXpxQyxFQUFBN25CLEVBQUEyTCxHQUNBLE9BQUFrYyxHQUFBbGMsRUFBQSxRQUFBM0wsRUFBQW0vRCxnQkFvQkFLLEdBQUFyTixHQUFBLGVBME5BLElBQUFzTixHQUFBbk4sR0FBQSxTQUFBenFDLEVBQUE3bkIsRUFBQTJMLEdBQ0EsT0FBQWtjLEdBQUFsYyxFQUFBLFFBQUEzTCxFQUFBbS9ELGdCQWdFQSxJQUFBTyxHQUFBcE4sR0FBQSxTQUFBenFDLEVBQUE3bkIsRUFBQTJMLEdBQ0EsT0FBQWtjLEdBQUFsYyxFQUFBLFFBQUEwekQsR0FBQXIvRCxLQTZoQkEsSUFBQTIvRCxHQUFBck4sR0FBQSxTQUFBenFDLEVBQUE3bkIsRUFBQTJMLEdBQ0EsT0FBQWtjLEdBQUFsYyxFQUFBLFFBQUEzTCxFQUFBNC9ELGdCQW9CQVAsR0FBQWxOLEdBQUEsZUFxQkEsU0FBQUssR0FBQTdaLEVBQUFrbkIsRUFBQTdOLEdBSUEsT0FIQXJaLEVBQUF6OEMsR0FBQXk4QyxJQUNBa25CLEVBQUE3TixFQUFBOXVDLEVBQUEyOEMsS0FFQTM4QyxFQWx2YkEsU0FBQXkxQixHQUNBLE9BQUF4UixHQUFBeVIsS0FBQUQsR0FrdmJBbW5CLENBQUFubkIsR0F4Z2JBLFNBQUFBLEdBQ0EsT0FBQUEsRUFBQWMsTUFBQXhTLFFBdWdiQTg0QixDQUFBcG5CLEdBem5jQSxTQUFBQSxHQUNBLE9BQUFBLEVBQUFjLE1BQUE3VSxRQXduY0FvN0IsQ0FBQXJuQixHQUVBQSxFQUFBYyxNQUFBb21CLE9BMkJBLElBQUFJLEdBQUExUyxHQUFBLFNBQUE5OUMsRUFBQXdtQixHQUNBLElBQ0EsT0FBQXIzQixHQUFBNlEsRUFBQXlULEVBQUErUyxHQUNPLE1BQUFrRSxHQUNQLE9BQUFtakMsR0FBQW5qQyxLQUFBLElBQUE5aEMsRUFBQThoQyxNQThCQStsQyxHQUFBbk4sR0FBQSxTQUFBcjdELEVBQUF5b0UsR0FLQSxPQUpBdDJCLEdBQUFzMkIsRUFBQSxTQUFBNW9FLEdBQ0FBLEVBQUE0dkQsR0FBQTV2RCxHQUNBb3FELEdBQUFqcUQsRUFBQUgsRUFBQUMsR0FBQUUsRUFBQUgsR0FBQUcsTUFFQUEsSUFxR0EsU0FBQXEyRCxHQUFBOTJELEdBQ0Esa0JBQ0EsT0FBQUEsR0FrREEsSUFBQW1wRSxHQUFBdE4sS0F1QkF1TixHQUFBdk4sSUFBQSxHQWtCQSxTQUFBcEksR0FBQXp6RCxHQUNBLE9BQUFBLEVBNkNBLFNBQUEweUMsR0FBQWw2QixHQUNBLE9BQUFnN0MsR0FBQSxtQkFBQWg3QyxJQUFBaXpDLEdBQUFqekMsRUFBQWd3QixJQXlGQSxJQUFBNmdDLEdBQUEvUyxHQUFBLFNBQUF0RyxFQUFBaHhCLEdBQ0EsZ0JBQUF2K0IsR0FDQSxPQUFBNndELEdBQUE3d0QsRUFBQXV2RCxFQUFBaHhCLE1BMkJBc3FDLEdBQUFoVCxHQUFBLFNBQUE3MUQsRUFBQXUrQixHQUNBLGdCQUFBZ3hCLEdBQ0EsT0FBQXNCLEdBQUE3d0QsRUFBQXV2RCxFQUFBaHhCLE1Bd0NBLFNBQUF1cUMsR0FBQTlvRSxFQUFBdU8sRUFBQXlULEdBQ0EsSUFBQXN5QixFQUFBaVAsR0FBQWgxQyxHQUNBazZELEVBQUFyWixHQUFBN2dELEVBQUErbEMsR0FFQSxNQUFBdHlCLEdBQ0EybEMsR0FBQXA1QyxLQUFBazZELEVBQUFubkUsU0FBQWd6QyxFQUFBaHpDLFVBQ0EwZ0IsRUFBQXpULEVBQ0FBLEVBQUF2TyxFQUNBQSxFQUFBNEIsS0FDQTZtRSxFQUFBclosR0FBQTdnRCxFQUFBZzFDLEdBQUFoMUMsS0FFQSxJQUFBczBELElBQUFsYixHQUFBM2xDLElBQUEsVUFBQUEsTUFBQTZnRCxPQUNBbFgsRUFBQTBELEdBQUFydkQsR0FxQkEsT0FuQkFteUMsR0FBQXMyQixFQUFBLFNBQUEvTixHQUNBLElBQUEzaUQsRUFBQXhKLEVBQUFtc0QsR0FDQTE2RCxFQUFBMDZELEdBQUEzaUQsRUFDQTR6QyxJQUNBM3JELEVBQUFFLFVBQUF3NkQsR0FBQSxXQUNBLElBQUE3UyxFQUFBam1ELEtBQUFvbUQsVUFDQSxHQUFBNmEsR0FBQWhiLEVBQUEsQ0FDQSxJQUFBMTNCLEVBQUFud0IsRUFBQTRCLEtBQUFrbUQsYUFLQSxPQUpBMzNCLEVBQUE0M0IsWUFBQThCLEdBQUFqb0QsS0FBQW1tRCxjQUVBOS9DLE1BQTRCOFAsT0FBQXdtQixLQUFBcDNCLFVBQUEycUMsUUFBQTl4QyxJQUM1Qm13QixFQUFBNjNCLFVBQUFILEVBQ0ExM0IsRUFFQSxPQUFBcFksRUFBQTdRLE1BQUFsSCxFQUFBOHlDLElBQUFseEMsS0FBQXJDLFNBQUE0SCxnQkFLQW5ILEVBbUNBLFNBQUEwK0QsTUFpREEsSUFBQXFLLEdBQUF4TCxHQUFBMXFCLElBMEJBbTJCLEdBQUF6TCxHQUFBbHJCLElBMEJBNDJCLEdBQUExTCxHQUFBcnFCLElBd0JBLFNBQUFqekMsR0FBQXN2RCxHQUNBLE9BQUFzRSxHQUFBdEUsR0FBQW5jLEdBQUFxYyxHQUFBRixJQTV5WEEsU0FBQUEsR0FDQSxnQkFBQXZ2RCxHQUNBLE9BQUFzdkQsR0FBQXR2RCxFQUFBdXZELElBMHlYQTJaLENBQUEzWixHQXVFQSxJQUFBNFosR0FBQXhMLEtBc0NBeUwsR0FBQXpMLElBQUEsR0FvQkEsU0FBQWlDLEtBQ0EsU0FnQkEsU0FBQVEsS0FDQSxTQStKQSxJQUFBNXlDLEdBQUE2dkMsR0FBQSxTQUFBZ00sRUFBQUMsR0FDQSxPQUFBRCxFQUFBQyxHQUNLLEdBdUJMcGtCLEdBQUFvWixHQUFBLFFBaUJBaUwsR0FBQWxNLEdBQUEsU0FBQW1NLEVBQUFDLEdBQ0EsT0FBQUQsRUFBQUMsR0FDSyxHQXVCTHgwQyxHQUFBcXBDLEdBQUEsU0F3S0EsSUFBQW9MLEdBQUFyTSxHQUFBLFNBQUFzTSxFQUFBQyxHQUNBLE9BQUFELEVBQUFDLEdBQ0ssR0F1QkxDLEdBQUF2TCxHQUFBLFNBaUJBL3BDLEdBQUE4b0MsR0FBQSxTQUFBeU0sRUFBQUMsR0FDQSxPQUFBRCxFQUFBQyxHQUNLLEdBK2xCTCxPQXppQkEzaUIsR0FBQTRpQixNQWo0TUEsU0FBQWpxRSxFQUFBZ1ksR0FDQSxzQkFBQUEsRUFDQSxVQUFBOHFDLEdBQUFsYixHQUdBLE9BREE1bkMsRUFBQXkrRCxHQUFBeitELEdBQ0EsV0FDQSxLQUFBQSxFQUFBLEVBQ0EsT0FBQWdZLEVBQUE3USxNQUFBdEYsS0FBQXVGLGFBMjNNQWlnRCxHQUFBK1UsT0FDQS9VLEdBQUFuNkMsVUFDQW02QyxHQUFBa2YsWUFDQWxmLEdBQUFtZixnQkFDQW5mLEdBQUFvZixjQUNBcGYsR0FBQXFmLE1BQ0FyZixHQUFBb2MsVUFDQXBjLEdBQUF0bkQsUUFDQXNuRCxHQUFBb2hCLFdBQ0FwaEIsR0FBQXFjLFdBQ0FyYyxHQUFBNmlCLFVBaDZLQSxXQUNBLElBQUE5aUUsVUFBQTdGLE9BQ0EsU0FFQSxJQUFBL0IsRUFBQTRILFVBQUEsR0FDQSxPQUFBaWIsR0FBQTdpQixVQTQ1S0E2bkQsR0FBQXliLFNBQ0F6YixHQUFBOGlCLE1BNzlTQSxTQUFBOXhELEVBQUFwUSxFQUFBc3lELEdBRUF0eUQsR0FEQXN5RCxFQUFBQyxHQUFBbmlELEVBQUFwUSxFQUFBc3lELEdBQUF0eUQsSUFBQXdqQixHQUNBLEVBRUFvNkIsR0FBQTRZLEdBQUF4MkQsR0FBQSxHQUVBLElBQUExRyxFQUFBLE1BQUE4VyxFQUFBLEVBQUFBLEVBQUE5VyxPQUNBLElBQUFBLEdBQUEwRyxFQUFBLEVBQ0EsU0FNQSxJQUpBLElBQUFpTSxFQUFBLEVBQ0F1K0IsRUFBQSxFQUNBcmlCLEVBQUFoTyxFQUFBOGlDLEdBQUEzakQsRUFBQTBHLElBRUFpTSxFQUFBM1MsR0FDQTZ1QixFQUFBcWlCLEtBQUErakIsR0FBQW4rQyxFQUFBbkUsS0FBQWpNLEdBRUEsT0FBQW1vQixHQTY4U0FpM0IsR0FBQStpQixRQTM3U0EsU0FBQS94RCxHQU1BLElBTEEsSUFBQW5FLEdBQUEsRUFDQTNTLEVBQUEsTUFBQThXLEVBQUEsRUFBQUEsRUFBQTlXLE9BQ0FreEMsRUFBQSxFQUNBcmlCLE9BRUFsYyxFQUFBM1MsR0FBQSxDQUNBLElBQUEvQixFQUFBNlksRUFBQW5FLEdBQ0ExVSxJQUNBNHdCLEVBQUFxaUIsS0FBQWp6QyxHQUdBLE9BQUE0d0IsR0FnN1NBaTNCLEdBQUFnakIsT0F2NVNBLFdBQ0EsSUFBQTlvRSxFQUFBNkYsVUFBQTdGLE9BQ0EsSUFBQUEsRUFDQSxTQU1BLElBSkEsSUFBQWk5QixFQUFBcGMsRUFBQTdnQixFQUFBLEdBQ0E4VyxFQUFBalIsVUFBQSxHQUNBOE0sRUFBQTNTLEVBRUEyUyxLQUNBc3FCLEVBQUF0cUIsRUFBQSxHQUFBOU0sVUFBQThNLEdBRUEsT0FBQTYrQixHQUFBMXdCLEdBQUFoSyxHQUFBeXhDLEdBQUF6eEMsT0FBQTAyQyxHQUFBdndCLEVBQUEsS0E0NFNBNm9CLEdBQUFpakIsS0Fsc0NBLFNBQUFoYyxHQUNBLElBQUEvc0QsRUFBQSxNQUFBK3NELEVBQUEsRUFBQUEsRUFBQS9zRCxPQUNBNjdELEVBQUF4SSxLQVNBLE9BUEF0RyxFQUFBL3NELEVBQUF1eEMsR0FBQXdiLEVBQUEsU0FBQW9RLEdBQ0Esc0JBQUFBLEVBQUEsR0FDQSxVQUFBNWIsR0FBQWxiLEdBRUEsT0FBQXcxQixFQUFBc0IsRUFBQSxJQUFBQSxFQUFBLFNBR0E1SSxHQUFBLFNBQUF0M0IsR0FFQSxJQURBLElBQUF0cUIsR0FBQSxJQUNBQSxFQUFBM1MsR0FBQSxDQUNBLElBQUFtOUQsRUFBQXBRLEVBQUFwNkMsR0FDQSxHQUFBL00sR0FBQXUzRCxFQUFBLEdBQUE3OEQsS0FBQTI4QixHQUNBLE9BQUFyM0IsR0FBQXUzRCxFQUFBLEdBQUE3OEQsS0FBQTI4QixPQW1yQ0E2b0IsR0FBQWtqQixTQXJwQ0EsU0FBQS83RCxHQUNBLE9BajJZQSxTQUFBQSxHQUNBLElBQUErbEMsRUFBQWlQLEdBQUFoMUMsR0FDQSxnQkFBQXZPLEdBQ0EsT0FBQXF0RCxHQUFBcnRELEVBQUF1TyxFQUFBK2xDLElBODFZQWkyQixDQUFBdmYsR0FBQXo4QyxFQUFBdzVCLEtBcXBDQXFmLEdBQUFpUCxZQUNBalAsR0FBQTRiLFdBQ0E1YixHQUFBeG5ELE9BcHNIQSxTQUFBTSxFQUFBc3FFLEdBQ0EsSUFBQXI2QyxFQUFBczNCLEdBQUF2bkQsR0FDQSxhQUFBc3FFLEVBQUFyNkMsRUFBQW82QixHQUFBcDZCLEVBQUFxNkMsSUFtc0hBcGpCLEdBQUFxakIsTUF0c01BLFNBQUFBLEVBQUExeUQsRUFBQXFrRCxFQUFBOUIsR0FFQSxJQUFBbnFDLEVBQUEwdUMsR0FBQTltRCxFQUFBd3dCLEVBQUEvYyxVQURBNHdDLEVBQUE5QixFQUFBOXVDLEVBQUE0d0MsR0FHQSxPQURBanNDLEVBQUFveEIsWUFBQWtwQixFQUFBbHBCLFlBQ0FweEIsR0Ftc01BaTNCLEdBQUFzakIsV0ExcE1BLFNBQUFBLEVBQUEzeUQsRUFBQXFrRCxFQUFBOUIsR0FFQSxJQUFBbnFDLEVBQUEwdUMsR0FBQTltRCxFQUFBeXdCLEVBQUFoZCxVQURBNHdDLEVBQUE5QixFQUFBOXVDLEVBQUE0d0MsR0FHQSxPQURBanNDLEVBQUFveEIsWUFBQW1wQixFQUFBbnBCLFlBQ0FweEIsR0F1cE1BaTNCLEdBQUFzYyxZQUNBdGMsR0FBQTFFLFlBQ0EwRSxHQUFBd2YsZ0JBQ0F4ZixHQUFBNGQsU0FDQTVkLEdBQUE2ZCxTQUNBN2QsR0FBQWdhLGNBQ0FoYSxHQUFBaWEsZ0JBQ0FqYSxHQUFBa2Esa0JBQ0FsYSxHQUFBdWpCLEtBL3hTQSxTQUFBdnlELEVBQUFyWSxFQUFBdTZELEdBQ0EsSUFBQWg1RCxFQUFBLE1BQUE4VyxFQUFBLEVBQUFBLEVBQUE5VyxPQUNBLE9BQUFBLEVBSUFpMUQsR0FBQW4rQyxHQURBclksRUFBQXU2RCxHQUFBdjZELElBQUF5ckIsRUFBQSxFQUFBZ3pDLEdBQUF6K0QsSUFDQSxJQUFBQSxFQUFBdUIsT0EweFNBOGxELEdBQUF3akIsVUE5dlNBLFNBQUF4eUQsRUFBQXJZLEVBQUF1NkQsR0FDQSxJQUFBaDVELEVBQUEsTUFBQThXLEVBQUEsRUFBQUEsRUFBQTlXLE9BQ0EsT0FBQUEsRUFLQWkxRCxHQUFBbitDLEVBQUEsR0FEQXJZLEVBQUF1QixHQURBdkIsRUFBQXU2RCxHQUFBdjZELElBQUF5ckIsRUFBQSxFQUFBZ3pDLEdBQUF6K0QsS0FFQSxJQUFBQSxPQXd2U0FxbkQsR0FBQXlqQixlQWx0U0EsU0FBQXp5RCxFQUFBazZCLEdBQ0EsT0FBQWw2QixLQUFBOVcsT0FDQTAyRCxHQUFBNS9DLEVBQUF1OEMsR0FBQXJpQixFQUFBLGNBaXRTQThVLEdBQUEwakIsVUExcVNBLFNBQUExeUQsRUFBQWs2QixHQUNBLE9BQUFsNkIsS0FBQTlXLE9BQ0EwMkQsR0FBQTUvQyxFQUFBdThDLEdBQUFyaUIsRUFBQSxXQXlxU0E4VSxHQUFBMmpCLEtBeG9TQSxTQUFBM3lELEVBQUE3WSxFQUFBcVAsRUFBQUMsR0FDQSxJQUFBdk4sRUFBQSxNQUFBOFcsRUFBQSxFQUFBQSxFQUFBOVcsT0FDQSxPQUFBQSxHQUdBc04sR0FBQSxpQkFBQUEsR0FBQTJyRCxHQUFBbmlELEVBQUE3WSxFQUFBcVAsS0FDQUEsRUFBQSxFQUNBQyxFQUFBdk4sR0Evc0lBLFNBQUE4VyxFQUFBN1ksRUFBQXFQLEVBQUFDLEdBQ0EsSUFBQXZOLEVBQUE4VyxFQUFBOVcsT0FXQSxLQVRBc04sRUFBQTR2RCxHQUFBNXZELElBQ0EsSUFDQUEsS0FBQXROLEVBQUEsRUFBQUEsRUFBQXNOLElBRUFDLE1BQUEyYyxHQUFBM2MsRUFBQXZOLElBQUFrOUQsR0FBQTN2RCxJQUNBLElBQ0FBLEdBQUF2TixHQUVBdU4sRUFBQUQsRUFBQUMsRUFBQSxFQUFBdTNELEdBQUF2M0QsR0FDQUQsRUFBQUMsR0FDQXVKLEVBQUF4SixLQUFBclAsRUFFQSxPQUFBNlksRUFrc0lBNHlELENBQUE1eUQsRUFBQTdZLEVBQUFxUCxFQUFBQyxRQWdvU0F1NEMsR0FBQTVrQyxPQXh0T0EsU0FBQTh3QixFQUFBaEIsR0FFQSxPQURBbHdCLEdBQUFreEIsR0FBQWYsR0FBQXNjLElBQ0F2YixFQUFBcWhCLEdBQUFyaUIsRUFBQSxLQXV0T0E4VSxHQUFBNmpCLFFBcG9PQSxTQUFBMzNCLEVBQUFyQixHQUNBLE9BQUE2YyxHQUFBN2xELEdBQUFxcUMsRUFBQXJCLEdBQUEsSUFvb09BbVYsR0FBQThqQixZQTdtT0EsU0FBQTUzQixFQUFBckIsR0FDQSxPQUFBNmMsR0FBQTdsRCxHQUFBcXFDLEVBQUFyQixHQUFBN0ksSUE2bU9BZ2UsR0FBQStqQixhQXJsT0EsU0FBQTczQixFQUFBckIsRUFBQXJtQixHQUVBLE9BREFBLE1BQUFKLEVBQUEsRUFBQWd6QyxHQUFBNXlDLEdBQ0FrakMsR0FBQTdsRCxHQUFBcXFDLEVBQUFyQixHQUFBcm1CLElBb2xPQXc3QixHQUFBcVksV0FDQXJZLEdBQUFna0IsWUFoZ1NBLFNBQUFoekQsR0FFQSxPQURBLE1BQUFBLEtBQUE5VyxPQUNBd3RELEdBQUExMkMsRUFBQWd4QixPQSsvUkFnZSxHQUFBaWtCLGFBeCtSQSxTQUFBanpELEVBQUF3VCxHQUVBLE9BREEsTUFBQXhULEtBQUE5VyxPQUtBd3RELEdBQUExMkMsRUFEQXdULE1BQUFKLEVBQUEsRUFBQWd6QyxHQUFBNXlDLFFBbytSQXc3QixHQUFBa2tCLEtBdjdMQSxTQUFBdnpELEdBQ0EsT0FBQThtRCxHQUFBOW1ELEVBQUE4d0IsSUF1N0xBdWUsR0FBQXNoQixRQUNBdGhCLEdBQUF1aEIsYUFDQXZoQixHQUFBbWtCLFVBcDlSQSxTQUFBbGQsR0FLQSxJQUpBLElBQUFwNkMsR0FBQSxFQUNBM1MsRUFBQSxNQUFBK3NELEVBQUEsRUFBQUEsRUFBQS9zRCxPQUNBNnVCLE9BRUFsYyxFQUFBM1MsR0FBQSxDQUNBLElBQUFtOUQsRUFBQXBRLEVBQUFwNkMsR0FDQWtjLEVBQUFzdUMsRUFBQSxJQUFBQSxFQUFBLEdBRUEsT0FBQXR1QyxHQTQ4UkFpM0IsR0FBQW9rQixVQXo2R0EsU0FBQXhyRSxHQUNBLGFBQUFBLEtBQUFvdkQsR0FBQXB2RCxFQUFBdWpELEdBQUF2akQsS0F5NkdBb25ELEdBQUFxa0IsWUEvNEdBLFNBQUF6ckUsR0FDQSxhQUFBQSxLQUFBb3ZELEdBQUFwdkQsRUFBQWdzRCxHQUFBaHNELEtBKzRHQW9uRCxHQUFBK2IsV0FDQS9iLEdBQUFza0IsUUFyNFJBLFNBQUF0ekQsR0FFQSxPQURBLE1BQUFBLEtBQUE5VyxPQUNBaTFELEdBQUFuK0MsRUFBQSxVQW80UkFndkMsR0FBQXNhLGdCQUNBdGEsR0FBQXdhLGtCQUNBeGEsR0FBQXlhLG9CQUNBemEsR0FBQTBmLFVBQ0ExZixHQUFBMmYsWUFDQTNmLEdBQUFnYyxhQUNBaGMsR0FBQW5WLFlBQ0FtVixHQUFBaWMsU0FDQWpjLEdBQUE3RCxRQUNBNkQsR0FBQTRFLFVBQ0E1RSxHQUFBbitDLE9BQ0FtK0MsR0FBQXVrQixRQXhwR0EsU0FBQTNyRSxFQUFBaXlDLEdBQ0EsSUFBQTloQixLQU1BLE9BTEE4aEIsRUFBQTBpQixHQUFBMWlCLEVBQUEsR0FFQXNjLEdBQUF2dUQsRUFBQSxTQUFBVCxFQUFBTSxFQUFBRyxHQUNBaXFELEdBQUE5NUIsRUFBQThoQixFQUFBMXlDLEVBQUFNLEVBQUFHLEdBQUFULEtBRUE0d0IsR0FrcEdBaTNCLEdBQUF3a0IsVUFubkdBLFNBQUE1ckUsRUFBQWl5QyxHQUNBLElBQUE5aEIsS0FNQSxPQUxBOGhCLEVBQUEwaUIsR0FBQTFpQixFQUFBLEdBRUFzYyxHQUFBdnVELEVBQUEsU0FBQVQsRUFBQU0sRUFBQUcsR0FDQWlxRCxHQUFBOTVCLEVBQUF0d0IsRUFBQW95QyxFQUFBMXlDLEVBQUFNLEVBQUFHLE1BRUFtd0IsR0E2bUdBaTNCLEdBQUF5a0IsUUFsZ0NBLFNBQUF0OUQsR0FDQSxPQUFBMmtELEdBQUFsSSxHQUFBejhDLEVBQUF3NUIsS0FrZ0NBcWYsR0FBQTBrQixnQkFyK0JBLFNBQUF2YyxFQUFBcUQsR0FDQSxPQUFBSyxHQUFBMUQsRUFBQXZFLEdBQUE0SCxFQUFBN3FCLEtBcStCQXFmLEdBQUE0WixXQUNBNVosR0FBQTZmLFNBQ0E3ZixHQUFBeWYsYUFDQXpmLEdBQUF3aEIsVUFDQXhoQixHQUFBeWhCLFlBQ0F6aEIsR0FBQTBoQixTQUNBMWhCLEdBQUFpZSxVQUNBamUsR0FBQTJrQixPQTl5QkEsU0FBQWhzRSxHQUVBLE9BREFBLEVBQUF5K0QsR0FBQXorRCxHQUNBODFELEdBQUEsU0FBQXQzQixHQUNBLE9BQUFnMkIsR0FBQWgyQixFQUFBeCtCLE1BNHlCQXFuRCxHQUFBOGYsUUFDQTlmLEdBQUE0a0IsT0FqL0ZBLFNBQUFoc0UsRUFBQXN5QyxHQUNBLE9BQUE4MEIsR0FBQXBuRSxFQUFBcWxFLEdBQUExUSxHQUFBcmlCLE1BaS9GQThVLEdBQUFsc0MsS0EzMUxBLFNBQUFuRCxHQUNBLE9BQUF5ckQsR0FBQSxFQUFBenJELElBMjFMQXF2QyxHQUFBNmtCLFFBbDJOQSxTQUFBMzRCLEVBQUFtaEIsRUFBQUMsRUFBQTRGLEdBQ0EsYUFBQWhuQixNQUdBbHhCLEdBQUFxeUMsS0FDQUEsRUFBQSxNQUFBQSxVQUdBcnlDLEdBREFzeUMsRUFBQTRGLEVBQUE5dUMsRUFBQWtwQyxLQUVBQSxFQUFBLE1BQUFBLFVBRUFGLEdBQUFsaEIsRUFBQW1oQixFQUFBQyxLQXcxTkF0TixHQUFBMmhCLFFBQ0EzaEIsR0FBQWtlLFlBQ0FsZSxHQUFBNGhCLGFBQ0E1aEIsR0FBQTZoQixZQUNBN2hCLEdBQUFxZSxXQUNBcmUsR0FBQXNlLGdCQUNBdGUsR0FBQWtjLGFBQ0FsYyxHQUFBekUsUUFDQXlFLEdBQUFnZ0IsVUFDQWhnQixHQUFBbm5ELFlBQ0FtbkQsR0FBQThrQixXQS9yQkEsU0FBQWxzRSxHQUNBLGdCQUFBdXZELEdBQ0EsYUFBQXZ2RCxFQUFBd3JCLEVBQUE4akMsR0FBQXR2RCxFQUFBdXZELEtBOHJCQW5JLEdBQUEwYSxRQUNBMWEsR0FBQTJhLFdBQ0EzYSxHQUFBK2tCLFVBN3BSQSxTQUFBL3pELEVBQUF5ZSxFQUFBb2IsR0FDQSxPQUFBNzVCLEtBQUE5VyxRQUFBdTFCLEtBQUF2MUIsT0FDQWkwRCxHQUFBbjlDLEVBQUF5ZSxFQUFBODlCLEdBQUExaUIsRUFBQSxJQUNBNzVCLEdBMnBSQWd2QyxHQUFBZ2xCLFlBam9SQSxTQUFBaDBELEVBQUF5ZSxFQUFBK2IsR0FDQSxPQUFBeDZCLEtBQUE5VyxRQUFBdTFCLEtBQUF2MUIsT0FDQWkwRCxHQUFBbjlDLEVBQUF5ZSxFQUFBckwsRUFBQW9uQixHQUNBeDZCLEdBK25SQWd2QyxHQUFBNGEsVUFDQTVhLEdBQUEraEIsU0FDQS9oQixHQUFBZ2lCLGNBQ0FoaUIsR0FBQXVlLFNBQ0F2ZSxHQUFBaWxCLE9BcnROQSxTQUFBLzRCLEVBQUFoQixHQUVBLE9BREFsd0IsR0FBQWt4QixHQUFBZixHQUFBc2MsSUFDQXZiLEVBQUEreEIsR0FBQTFRLEdBQUFyaUIsRUFBQSxNQW90TkE4VSxHQUFBa2xCLE9BbGtSQSxTQUFBbDBELEVBQUFrNkIsR0FDQSxJQUFBbmlCLEtBQ0EsSUFBQS9YLE1BQUE5VyxPQUNBLE9BQUE2dUIsRUFFQSxJQUFBbGMsR0FBQSxFQUNBd2hELEtBQ0FuMEQsRUFBQThXLEVBQUE5VyxPQUdBLElBREFneEMsRUFBQXFpQixHQUFBcmlCLEVBQUEsS0FDQXIrQixFQUFBM1MsR0FBQSxDQUNBLElBQUEvQixFQUFBNlksRUFBQW5FLEdBQ0FxK0IsRUFBQS95QyxFQUFBMFUsRUFBQW1FLEtBQ0ErWCxFQUFBbG9CLEtBQUExSSxHQUNBazJELEVBQUF4dEQsS0FBQWdNLElBSUEsT0FEQXVoRCxHQUFBcDlDLEVBQUFxOUMsR0FDQXRsQyxHQWlqUkFpM0IsR0FBQW1sQixLQWhzTEEsU0FBQXgwRCxFQUFBbkosR0FDQSxzQkFBQW1KLEVBQ0EsVUFBQThxQyxHQUFBbGIsR0FHQSxPQUFBa3VCLEdBQUE5OUMsRUFEQW5KLE1BQUE0YyxFQUFBNWMsRUFBQTR2RCxHQUFBNXZELEtBNnJMQXc0QyxHQUFBbEIsV0FDQWtCLEdBQUFvbEIsV0E3cU5BLFNBQUFsNUIsRUFBQXZ6QyxFQUFBdTZELEdBT0EsT0FMQXY2RCxHQURBdTZELEVBQUFDLEdBQUFqbkIsRUFBQXZ6QyxFQUFBdTZELEdBQUF2NkQsSUFBQXlyQixHQUNBLEVBRUFnekMsR0FBQXorRCxJQUVBcWlCLEdBQUFreEIsR0FBQXFXLEdBQUFzTSxJQUNBM2lCLEVBQUF2ekMsSUF1cU5BcW5ELEdBQUExRixJQXI0RkEsU0FBQTFoRCxFQUFBdXZELEVBQUFod0QsR0FDQSxhQUFBUyxJQUFBczFELEdBQUF0MUQsRUFBQXV2RCxFQUFBaHdELElBcTRGQTZuRCxHQUFBcWxCLFFBMTJGQSxTQUFBenNFLEVBQUF1dkQsRUFBQWh3RCxFQUFBMnJELEdBRUEsT0FEQUEsRUFBQSxtQkFBQUEsSUFBQTEvQixFQUNBLE1BQUF4ckIsSUFBQXMxRCxHQUFBdDFELEVBQUF1dkQsRUFBQWh3RCxFQUFBMnJELElBeTJGQTlELEdBQUFzbEIsUUF2cE5BLFNBQUFwNUIsR0FFQSxPQURBbHhCLEdBQUFreEIsR0FBQXlXLEdBQUF1TSxJQUNBaGpCLElBc3BOQThULEdBQUE1d0IsTUF6Z1JBLFNBQUFwZSxFQUFBeEosRUFBQUMsR0FDQSxJQUFBdk4sRUFBQSxNQUFBOFcsRUFBQSxFQUFBQSxFQUFBOVcsT0FDQSxPQUFBQSxHQUdBdU4sR0FBQSxpQkFBQUEsR0FBQTByRCxHQUFBbmlELEVBQUF4SixFQUFBQyxJQUNBRCxFQUFBLEVBQ0FDLEVBQUF2TixJQUdBc04sRUFBQSxNQUFBQSxFQUFBLEVBQUE0dkQsR0FBQTV2RCxHQUNBQyxNQUFBMmMsRUFBQWxxQixFQUFBazlELEdBQUEzdkQsSUFFQTBuRCxHQUFBbitDLEVBQUF4SixFQUFBQyxRQTYvUUF1NEMsR0FBQW1jLFVBQ0FuYyxHQUFBdWxCLFdBajFRQSxTQUFBdjBELEdBQ0EsT0FBQUEsS0FBQTlXLE9BQ0FrMkQsR0FBQXAvQyxPQWcxUUFndkMsR0FBQXdsQixhQTV6UUEsU0FBQXgwRCxFQUFBNjVCLEdBQ0EsT0FBQTc1QixLQUFBOVcsT0FDQWsyRCxHQUFBcC9DLEVBQUF1OEMsR0FBQTFpQixFQUFBLFFBMnpRQW1WLEdBQUFwK0MsTUExL0RBLFNBQUFpNEMsRUFBQTRyQixFQUFBQyxHQUtBLE9BSkFBLEdBQUEsaUJBQUFBLEdBQUF2UyxHQUFBdFosRUFBQTRyQixFQUFBQyxLQUNBRCxFQUFBQyxFQUFBdGhELElBRUFzaEQsTUFBQXRoRCxFQUFBZ2UsRUFBQXNqQyxJQUFBLElBSUE3ckIsRUFBQXo4QyxHQUFBeThDLE1BRUEsaUJBQUE0ckIsR0FDQSxNQUFBQSxJQUFBcDdCLEdBQUFvN0IsT0FFQUEsRUFBQW5WLEdBQUFtVixLQUNBN3JCLEdBQUFDLEdBQ0E0WCxHQUFBL1csR0FBQWIsR0FBQSxFQUFBNnJCLEdBR0E3ckIsRUFBQWo0QyxNQUFBNmpFLEVBQUFDLE9BeStEQTFsQixHQUFBMmxCLE9BanFMQSxTQUFBaDFELEVBQUFuSixHQUNBLHNCQUFBbUosRUFDQSxVQUFBOHFDLEdBQUFsYixHQUdBLE9BREEvNEIsRUFBQSxNQUFBQSxFQUFBLEVBQUFnM0MsR0FBQTRZLEdBQUE1dkQsR0FBQSxHQUNBaW5ELEdBQUEsU0FBQXQzQixHQUNBLElBQUFubUIsRUFBQW1tQixFQUFBM3ZCLEdBQ0F5eEQsRUFBQXhILEdBQUF0NkIsRUFBQSxFQUFBM3ZCLEdBS0EsT0FIQXdKLEdBQ0EwNkIsR0FBQXV0QixFQUFBam9ELEdBRUFsUixHQUFBNlEsRUFBQW5XLEtBQUF5K0QsTUFzcExBalosR0FBQTRsQixLQTN5UUEsU0FBQTUwRCxHQUNBLElBQUE5VyxFQUFBLE1BQUE4VyxFQUFBLEVBQUFBLEVBQUE5VyxPQUNBLE9BQUFBLEVBQUFpMUQsR0FBQW4rQyxFQUFBLEVBQUE5VyxPQTB5UUE4bEQsR0FBQTZsQixLQTl3UUEsU0FBQTcwRCxFQUFBclksRUFBQXU2RCxHQUNBLE9BQUFsaUQsS0FBQTlXLE9BSUFpMUQsR0FBQW4rQyxFQUFBLEdBREFyWSxFQUFBdTZELEdBQUF2NkQsSUFBQXlyQixFQUFBLEVBQUFnekMsR0FBQXorRCxJQUNBLElBQUFBLE9BMHdRQXFuRCxHQUFBOGxCLFVBOXVRQSxTQUFBOTBELEVBQUFyWSxFQUFBdTZELEdBQ0EsSUFBQWg1RCxFQUFBLE1BQUE4VyxFQUFBLEVBQUFBLEVBQUE5VyxPQUNBLE9BQUFBLEVBS0FpMUQsR0FBQW4rQyxHQURBclksRUFBQXVCLEdBREF2QixFQUFBdTZELEdBQUF2NkQsSUFBQXlyQixFQUFBLEVBQUFnekMsR0FBQXorRCxLQUVBLElBQUFBLEVBQUF1QixPQXd1UUE4bEQsR0FBQStsQixlQWxzUUEsU0FBQS8wRCxFQUFBazZCLEdBQ0EsT0FBQWw2QixLQUFBOVcsT0FDQTAyRCxHQUFBNS9DLEVBQUF1OEMsR0FBQXJpQixFQUFBLGNBaXNRQThVLEdBQUFnbUIsVUExcFFBLFNBQUFoMUQsRUFBQWs2QixHQUNBLE9BQUFsNkIsS0FBQTlXLE9BQ0EwMkQsR0FBQTUvQyxFQUFBdThDLEdBQUFyaUIsRUFBQSxRQXlwUUE4VSxHQUFBaW1CLElBN3JQQSxTQUFBOXRFLEVBQUF1akUsR0FFQSxPQURBQSxFQUFBdmpFLEdBQ0FBLEdBNHJQQTZuRCxHQUFBa21CLFNBNW1MQSxTQUFBdjFELEVBQUEvRyxFQUFBZ1IsR0FDQSxJQUFBaWlELEdBQUEsRUFDQXRKLEdBQUEsRUFFQSxzQkFBQTVpRCxFQUNBLFVBQUE4cUMsR0FBQWxiLEdBTUEsT0FKQWdnQixHQUFBM2xDLEtBQ0FpaUQsRUFBQSxZQUFBamlELE1BQUFpaUQsVUFDQXRKLEVBQUEsYUFBQTM0QyxNQUFBMjRDLFlBRUErSSxHQUFBM3JELEVBQUEvRyxHQUNBaXpELFVBQ0FKLFFBQUE3eUQsRUFDQTJwRCxjQStsTEF2VCxHQUFBb1UsUUFDQXBVLEdBQUE0ZSxXQUNBNWUsR0FBQWtnQixXQUNBbGdCLEdBQUFtZ0IsYUFDQW5nQixHQUFBbW1CLE9BcmZBLFNBQUFodUUsR0FDQSxPQUFBNmlCLEdBQUE3aUIsR0FDQXN6QyxHQUFBdHpDLEVBQUFrd0QsSUFFQWIsR0FBQXJ2RCxPQUFBc3FELEdBQUE4TyxHQUFBbjBELEdBQUFqRixNQWtmQTZuRCxHQUFBaU4saUJBQ0FqTixHQUFBL0YsVUF4eUZBLFNBQUFyaEQsRUFBQWl5QyxFQUFBQyxHQUNBLElBQUFpWCxFQUFBL21DLEdBQUFwaUIsR0FDQXd0RSxFQUFBcmtCLEdBQUE1RCxHQUFBdmxELElBQUE2eEMsR0FBQTd4QyxHQUdBLEdBREFpeUMsRUFBQTBpQixHQUFBMWlCLEVBQUEsR0FDQSxNQUFBQyxFQUFBLENBQ0EsSUFBQWthLEVBQUFwc0QsS0FBQXNyRCxZQUVBcFosRUFEQXM3QixFQUNBcmtCLEVBQUEsSUFBQWlELEtBRUF6RSxHQUFBM25ELElBQ0FxdkQsR0FBQWpELEdBQUEzRSxHQUFBekQsR0FBQWhrRCxPQVNBLE9BSEF3dEUsRUFBQXI3QixHQUFBb2MsSUFBQXZ1RCxFQUFBLFNBQUFULEVBQUEwVSxFQUFBalUsR0FDQSxPQUFBaXlDLEVBQUFDLEVBQUEzeUMsRUFBQTBVLEVBQUFqVSxLQUVBa3lDLEdBcXhGQWtWLEdBQUExcEMsTUFubExBLFNBQUEzRixHQUNBLE9BQUFva0QsR0FBQXBrRCxFQUFBLElBbWxMQXF2QyxHQUFBNmEsU0FDQTdhLEdBQUE4YSxXQUNBOWEsR0FBQSthLGFBQ0EvYSxHQUFBcW1CLEtBbGtRQSxTQUFBcjFELEdBQ0EsT0FBQUEsS0FBQTlXLE9BQUFxMkQsR0FBQXYvQyxPQWtrUUFndkMsR0FBQXNtQixPQXhpUUEsU0FBQXQxRCxFQUFBNjVCLEdBQ0EsT0FBQTc1QixLQUFBOVcsT0FBQXEyRCxHQUFBdi9DLEVBQUF1OEMsR0FBQTFpQixFQUFBLFFBd2lRQW1WLEdBQUF1bUIsU0FqaFFBLFNBQUF2MUQsRUFBQXc2QixHQUVBLE9BREFBLEVBQUEsbUJBQUFBLElBQUFwbkIsRUFDQXBULEtBQUE5VyxPQUFBcTJELEdBQUF2L0MsRUFBQW9ULEVBQUFvbkIsT0FnaFFBd1UsR0FBQXdtQixNQTl2RkEsU0FBQTV0RSxFQUFBdXZELEdBQ0EsYUFBQXZ2RCxHQUFBMjFELEdBQUEzMUQsRUFBQXV2RCxJQTh2RkFuSSxHQUFBZ2IsU0FDQWhiLEdBQUFrYixhQUNBbGIsR0FBQXltQixPQWx1RkEsU0FBQTd0RSxFQUFBdXZELEVBQUF3SSxHQUNBLGFBQUEvM0QsSUFBQTgzRCxHQUFBOTNELEVBQUF1dkQsRUFBQW1KLEdBQUFYLEtBa3VGQTNRLEdBQUEwbUIsV0F2c0ZBLFNBQUE5dEUsRUFBQXV2RCxFQUFBd0ksRUFBQTdNLEdBRUEsT0FEQUEsRUFBQSxtQkFBQUEsSUFBQTEvQixFQUNBLE1BQUF4ckIsSUFBQTgzRCxHQUFBOTNELEVBQUF1dkQsRUFBQW1KLEdBQUFYLEdBQUE3TSxJQXNzRkE5RCxHQUFBdndCLFVBQ0F1d0IsR0FBQTJtQixTQTlvRkEsU0FBQS90RSxHQUNBLGFBQUFBLEtBQUFxMEMsR0FBQXIwQyxFQUFBZ3NELEdBQUFoc0QsS0E4b0ZBb25ELEdBQUFtYixXQUNBbmIsR0FBQTBULFNBQ0ExVCxHQUFBNG1CLEtBemtMQSxTQUFBenVFLEVBQUFrOEQsR0FDQSxPQUFBZ0ssR0FBQS9NLEdBQUErQyxHQUFBbDhELElBeWtMQTZuRCxHQUFBb2IsT0FDQXBiLEdBQUFxYixTQUNBcmIsR0FBQXNiLFdBQ0F0YixHQUFBdWIsT0FDQXZiLEdBQUE2bUIsVUExMFBBLFNBQUEzNUIsRUFBQXpkLEdBQ0EsT0FBQXloQyxHQUFBaGtCLE1BQUF6ZCxNQUFBcXpCLEtBMDBQQTlDLEdBQUE4bUIsY0F4elBBLFNBQUE1NUIsRUFBQXpkLEdBQ0EsT0FBQXloQyxHQUFBaGtCLE1BQUF6ZCxNQUFBeStCLEtBd3pQQWxPLEdBQUF3YixXQUdBeGIsR0FBQXFCLFFBQUE2ZSxHQUNBbGdCLEdBQUErbUIsVUFBQTVHLEdBQ0FuZ0IsR0FBQWduQixPQUFBOUgsR0FDQWxmLEdBQUFpbkIsV0FBQTlILEdBR0F1QyxHQUFBMWhCLE9BS0FBLEdBQUE1NUIsT0FDQTQ1QixHQUFBbWhCLFdBQ0FuaEIsR0FBQW9nQixhQUNBcGdCLEdBQUFzZ0IsY0FDQXRnQixHQUFBbEMsUUFDQWtDLEdBQUFrbkIsTUFscEZBLFNBQUF6akIsRUFBQUMsRUFBQUMsR0FhQSxPQVpBQSxJQUFBdi9CLElBQ0F1L0IsRUFBQUQsRUFDQUEsRUFBQXQvQixHQUVBdS9CLElBQUF2L0IsSUFFQXUvQixHQURBQSxFQUFBaVQsR0FBQWpULEtBQ0FBLElBQUEsR0FFQUQsSUFBQXQvQixJQUVBcy9CLEdBREFBLEVBQUFrVCxHQUFBbFQsS0FDQUEsSUFBQSxHQUVBaEIsR0FBQWtVLEdBQUFuVCxHQUFBQyxFQUFBQyxJQXNvRkEzRCxHQUFBcHpCLE1BM2hMQSxTQUFBejBCLEdBQ0EsT0FBQXlyRCxHQUFBenJELEVBQUEwb0MsSUEyaExBbWYsR0FBQW1uQixVQWwrS0EsU0FBQWh2RSxHQUNBLE9BQUF5ckQsR0FBQXpyRCxFQUFBd29DLEVBQUFFLElBaytLQW1mLEdBQUFvbkIsY0FuOEtBLFNBQUFqdkUsRUFBQTJyRCxHQUVBLE9BQUFGLEdBQUF6ckQsRUFBQXdvQyxFQUFBRSxFQURBaWpCLEVBQUEsbUJBQUFBLElBQUExL0IsSUFtOEtBNDdCLEdBQUFxbkIsVUEzL0tBLFNBQUFsdkUsRUFBQTJyRCxHQUVBLE9BQUFGLEdBQUF6ckQsRUFBQTBvQyxFQURBaWpCLEVBQUEsbUJBQUFBLElBQUExL0IsSUEyL0tBNDdCLEdBQUFzbkIsV0F4NktBLFNBQUExdUUsRUFBQXVPLEdBQ0EsYUFBQUEsR0FBQTgrQyxHQUFBcnRELEVBQUF1TyxFQUFBZzFDLEdBQUFoMUMsS0F3NktBNjRDLEdBQUEyVCxVQUNBM1QsR0FBQXVuQixVQWp3Q0EsU0FBQXB2RSxFQUFBKzlELEdBQ0EsYUFBQS85RCxRQUFBKzlELEVBQUEvOUQsR0Fpd0NBNm5ELEdBQUFtaUIsVUFDQW5pQixHQUFBd25CLFNBdjdFQSxTQUFBM3RCLEVBQUFyNkIsRUFBQWlvRCxHQUNBNXRCLEVBQUF6OEMsR0FBQXk4QyxHQUNBcjZCLEVBQUE4d0MsR0FBQTl3QyxHQUVBLElBQUF0bEIsRUFBQTIvQyxFQUFBMy9DLE9BS0F1TixFQUpBZ2dFLE1BQUFyakQsRUFDQWxxQixFQUNBd29ELEdBQUEwVSxHQUFBcVEsR0FBQSxFQUFBdnRFLEdBSUEsT0FEQXV0RSxHQUFBam9ELEVBQUF0bEIsU0FDQSxHQUFBMi9DLEVBQUF6cUIsTUFBQXE0QyxFQUFBaGdFLElBQUErWCxHQTY2RUF3Z0MsR0FBQWw1QixNQUNBazVCLEdBQUEwRyxPQS80RUEsU0FBQTdNLEdBRUEsT0FEQUEsRUFBQXo4QyxHQUFBeThDLEtBQ0E5VSxHQUFBK1UsS0FBQUQsR0FDQUEsRUFBQTEvQyxRQUFBeXFDLEdBQUE0VSxJQUNBSyxHQTQ0RUFtRyxHQUFBMG5CLGFBMTNFQSxTQUFBN3RCLEdBRUEsT0FEQUEsRUFBQXo4QyxHQUFBeThDLEtBQ0F0VSxHQUFBdVUsS0FBQUQsR0FDQUEsRUFBQTEvQyxRQUFBbXJDLEdBQUEsUUFDQXVVLEdBdTNFQW1HLEdBQUEvdEIsTUFyNU9BLFNBQUFpYSxFQUFBaEIsRUFBQWdvQixHQUNBLElBQUF2aUQsRUFBQXFLLEdBQUFreEIsR0FBQWpCLEdBQUFxYyxHQUlBLE9BSEE0TCxHQUFBQyxHQUFBam5CLEVBQUFoQixFQUFBZ29CLEtBQ0Fob0IsRUFBQTltQixHQUVBelQsRUFBQXU3QixFQUFBcWhCLEdBQUFyaUIsRUFBQSxLQWk1T0E4VSxHQUFBdmhDLFFBQ0F1aEMsR0FBQW1hLGFBQ0FuYSxHQUFBMm5CLFFBbnZIQSxTQUFBL3VFLEVBQUFzeUMsR0FDQSxPQUFBZSxHQUFBcnpDLEVBQUEyMEQsR0FBQXJpQixFQUFBLEdBQUFpYyxLQW12SEFuSCxHQUFBNmIsWUFDQTdiLEdBQUFvYSxpQkFDQXBhLEdBQUE0bkIsWUEvc0hBLFNBQUFodkUsRUFBQXN5QyxHQUNBLE9BQUFlLEdBQUFyekMsRUFBQTIwRCxHQUFBcmlCLEVBQUEsR0FBQW1jLEtBK3NIQXJILEdBQUFueUIsU0FDQW15QixHQUFBaDVDLFdBQ0FnNUMsR0FBQThiLGdCQUNBOWIsR0FBQTZuQixNQW5ySEEsU0FBQWp2RSxFQUFBaXlDLEdBQ0EsYUFBQWp5QyxFQUNBQSxFQUNBaXZELEdBQUFqdkQsRUFBQTIwRCxHQUFBMWlCLEVBQUEsR0FBQStaLEtBaXJIQTVFLEdBQUE4bkIsV0FwcEhBLFNBQUFsdkUsRUFBQWl5QyxHQUNBLGFBQUFqeUMsRUFDQUEsRUFDQW12RCxHQUFBbnZELEVBQUEyMEQsR0FBQTFpQixFQUFBLEdBQUErWixLQWtwSEE1RSxHQUFBK25CLE9Bbm5IQSxTQUFBbnZFLEVBQUFpeUMsR0FDQSxPQUFBanlDLEdBQUF1dUQsR0FBQXZ1RCxFQUFBMjBELEdBQUExaUIsRUFBQSxLQW1uSEFtVixHQUFBZ29CLFlBdGxIQSxTQUFBcHZFLEVBQUFpeUMsR0FDQSxPQUFBanlDLEdBQUF5dUQsR0FBQXp1RCxFQUFBMjBELEdBQUExaUIsRUFBQSxLQXNsSEFtVixHQUFBam9ELE9BQ0Fpb0QsR0FBQXI1QixNQUNBcTVCLEdBQUFuNUIsT0FDQW01QixHQUFBbDdDLElBditHQSxTQUFBbE0sRUFBQXV2RCxHQUNBLGFBQUF2dkQsR0FBQTYvRCxHQUFBNy9ELEVBQUF1dkQsRUFBQVksS0F1K0dBL0ksR0FBQTJNLFNBQ0EzTSxHQUFBcWEsUUFDQXJhLEdBQUE0TCxZQUNBNUwsR0FBQW5sQyxTQXpuT0EsU0FBQXF4QixFQUFBL3pDLEVBQUFrMEMsRUFBQTZtQixHQUNBaG5CLEVBQUFvZ0IsR0FBQXBnQixLQUFBemMsR0FBQXljLEdBQ0FHLE1BQUE2bUIsRUFBQWtFLEdBQUEvcUIsR0FBQSxFQUVBLElBQUFueUMsRUFBQWd5QyxFQUFBaHlDLE9BSUEsT0FIQW15QyxFQUFBLElBQ0FBLEVBQUFtUyxHQUFBdGtELEVBQUFteUMsRUFBQSxJQUVBc3lCLEdBQUF6eUIsR0FDQUcsR0FBQW55QyxHQUFBZ3lDLEVBQUEvcUMsUUFBQWhKLEVBQUFrMEMsSUFBQSxJQUNBbnlDLEdBQUFveEMsR0FBQVksRUFBQS96QyxFQUFBazBDLElBQUEsR0Fnbk9BMlQsR0FBQTcrQyxRQXZqU0EsU0FBQTZQLEVBQUE3WSxFQUFBazBDLEdBQ0EsSUFBQW55QyxFQUFBLE1BQUE4VyxFQUFBLEVBQUFBLEVBQUE5VyxPQUNBLElBQUFBLEVBQ0EsU0FFQSxJQUFBMlMsRUFBQSxNQUFBdy9CLEVBQUEsRUFBQStxQixHQUFBL3FCLEdBSUEsT0FIQXgvQixFQUFBLElBQ0FBLEVBQUEyeEMsR0FBQXRrRCxFQUFBMlMsRUFBQSxJQUVBeStCLEdBQUF0NkIsRUFBQTdZLEVBQUEwVSxJQStpU0FtekMsR0FBQWlvQixRQWhvRkEsU0FBQXhrQixFQUFBajhDLEVBQUFDLEdBU0EsT0FSQUQsRUFBQWl2RCxHQUFBanZELEdBQ0FDLElBQUEyYyxHQUNBM2MsRUFBQUQsRUFDQUEsRUFBQSxHQUVBQyxFQUFBZ3ZELEdBQUFodkQsR0F0cFZBLFNBQUFnOEMsRUFBQWo4QyxFQUFBQyxHQUNBLE9BQUFnOEMsR0FBQWhGLEdBQUFqM0MsRUFBQUMsSUFBQWc4QyxFQUFBakYsR0FBQWgzQyxFQUFBQyxHQXdwVkF5Z0UsQ0FEQXprQixFQUFBbVQsR0FBQW5ULEdBQ0FqOEMsRUFBQUMsSUF3bkZBdTRDLEdBQUE0ZixVQUNBNWYsR0FBQWlDLGVBQ0FqQyxHQUFBaGxDLFdBQ0FnbEMsR0FBQWpXLGlCQUNBaVcsR0FBQXNNLGVBQ0F0TSxHQUFBK00scUJBQ0EvTSxHQUFBbW9CLFVBcHVLQSxTQUFBaHdFLEdBQ0EsV0FBQUEsSUFBQSxJQUFBQSxHQUNBOG5ELEdBQUE5bkQsSUFBQXN3RCxHQUFBdHdELElBQUF3cUMsR0FtdUtBcWQsR0FBQTdCLFlBQ0E2QixHQUFBL1YsVUFDQStWLEdBQUFvb0IsVUEzcUtBLFNBQUFqd0UsR0FDQSxPQUFBOG5ELEdBQUE5bkQsSUFBQSxJQUFBQSxFQUFBa3hDLFdBQUEyakIsR0FBQTcwRCxJQTJxS0E2bkQsR0FBQW5uQixRQXZvS0EsU0FBQTFnQyxHQUNBLFNBQUFBLEVBQ0EsU0FFQSxHQUFBbTBELEdBQUFuMEQsS0FDQTZpQixHQUFBN2lCLElBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUE2a0QsUUFDQW1CLEdBQUFobUQsSUFBQXN5QyxHQUFBdHlDLElBQUE4cEQsR0FBQTlwRCxJQUNBLE9BQUFBLEVBQUErQixPQUVBLElBQUFtcUQsRUFBQUMsR0FBQW5zRCxHQUNBLEdBQUFrc0QsR0FBQXBoQixHQUFBb2hCLEdBQUE5Z0IsR0FDQSxPQUFBcHJDLEVBQUF5SSxLQUVBLEdBQUFvckQsR0FBQTd6RCxHQUNBLE9BQUE0ekQsR0FBQTV6RCxHQUFBK0IsT0FFQSxRQUFBekIsS0FBQU4sRUFDQSxHQUFBWSxHQUFBMUIsS0FBQWMsRUFBQU0sR0FDQSxTQUdBLFVBbW5LQXVuRCxHQUFBcW9CLFFBcGxLQSxTQUFBbHdFLEVBQUE0RyxHQUNBLE9BQUE2cUQsR0FBQXp4RCxFQUFBNEcsSUFvbEtBaWhELEdBQUFzb0IsWUFqaktBLFNBQUFud0UsRUFBQTRHLEVBQUEra0QsR0FFQSxJQUFBLzZCLEdBREErNkIsRUFBQSxtQkFBQUEsSUFBQTEvQixHQUNBMC9CLEVBQUEzckQsRUFBQTRHLEdBQUFxbEIsRUFDQSxPQUFBMkUsSUFBQTNFLEVBQUF3bEMsR0FBQXp4RCxFQUFBNEcsRUFBQXFsQixFQUFBMC9CLEtBQUEvNkIsR0EraUtBaTNCLEdBQUF3ZSxXQUNBeGUsR0FBQTNCLFNBeC9KQSxTQUFBbG1ELEdBQ0EsdUJBQUFBLEdBQUFpbUQsR0FBQWptRCxJQXcvSkE2bkQsR0FBQWlJLGNBQ0FqSSxHQUFBeWUsYUFDQXplLEdBQUEyWSxZQUNBM1ksR0FBQTdWLFNBQ0E2VixHQUFBdW9CLFFBeHpKQSxTQUFBM3ZFLEVBQUF1TyxHQUNBLE9BQUF2TyxJQUFBdU8sR0FBQWtrRCxHQUFBenlELEVBQUF1TyxFQUFBb2xELEdBQUFwbEQsS0F3ekpBNjRDLEdBQUF3b0IsWUFyeEpBLFNBQUE1dkUsRUFBQXVPLEVBQUEyOEMsR0FFQSxPQURBQSxFQUFBLG1CQUFBQSxJQUFBMS9CLEVBQ0FpbkMsR0FBQXp5RCxFQUFBdU8sRUFBQW9sRCxHQUFBcGxELEdBQUEyOEMsSUFveEpBOUQsR0FBQXlvQixNQXJ2SkEsU0FBQXR3RSxHQUlBLE9BQUF1bUUsR0FBQXZtRSxXQWt2SkE2bkQsR0FBQTBvQixTQXJ0SkEsU0FBQXZ3RSxHQUNBLEdBQUE0Z0UsR0FBQTVnRSxHQUNBLFVBQUFvQixFQUFBK21DLEdBRUEsT0FBQW1yQixHQUFBdHpELElBa3RKQTZuRCxHQUFBMm9CLE1BdHFKQSxTQUFBeHdFLEdBQ0EsYUFBQUEsR0FzcUpBNm5ELEdBQUFyOUMsT0EvckpBLFNBQUF4SyxHQUNBLGNBQUFBLEdBK3JKQTZuRCxHQUFBMGUsWUFDQTFlLEdBQUFPLFlBQ0FQLEdBQUFDLGdCQUNBRCxHQUFBZ04saUJBQ0FoTixHQUFBM1YsWUFDQTJWLEdBQUE0b0IsY0FuakpBLFNBQUF6d0UsR0FDQSxPQUFBc21FLEdBQUF0bUUsUUFBQThwQyxHQUFBOXBDLEdBQUE4cEMsR0FtakpBK2QsR0FBQXpWLFNBQ0F5VixHQUFBMmUsWUFDQTNlLEdBQUF3SCxZQUNBeEgsR0FBQXZWLGdCQUNBdVYsR0FBQTZvQixZQWo5SUEsU0FBQTF3RSxHQUNBLE9BQUFBLElBQUFpc0IsR0FpOUlBNDdCLEdBQUE4b0IsVUE3N0lBLFNBQUEzd0UsR0FDQSxPQUFBOG5ELEdBQUE5bkQsSUFBQW1zRCxHQUFBbnNELElBQUF3ckMsSUE2N0lBcWMsR0FBQStvQixVQXo2SUEsU0FBQTV3RSxHQUNBLE9BQUE4bkQsR0FBQTluRCxJQUFBc3dELEdBQUF0d0QsSUFBQXlyQyxJQXk2SUFvYyxHQUFBM3dDLEtBbDlSQSxTQUFBMkIsRUFBQXkwRCxHQUNBLGFBQUF6MEQsRUFBQSxHQUFBc3RDLEdBQUFqbkQsS0FBQTJaLEVBQUF5MEQsSUFrOVJBemxCLEdBQUF3Z0IsYUFDQXhnQixHQUFBMEosUUFDQTFKLEdBQUFwckIsWUF6NlJBLFNBQUE1akIsRUFBQTdZLEVBQUFrMEMsR0FDQSxJQUFBbnlDLEVBQUEsTUFBQThXLEVBQUEsRUFBQUEsRUFBQTlXLE9BQ0EsSUFBQUEsRUFDQSxTQUVBLElBQUEyUyxFQUFBM1MsRUFLQSxPQUpBbXlDLElBQUFqb0IsSUFFQXZYLEdBREFBLEVBQUF1cUQsR0FBQS9xQixJQUNBLEVBQUFtUyxHQUFBdGtELEVBQUEyUyxFQUFBLEdBQUE0eEMsR0FBQTV4QyxFQUFBM1MsRUFBQSxJQUVBL0IsS0Fsc01BLFNBQUE2WSxFQUFBN1ksRUFBQWswQyxHQUVBLElBREEsSUFBQXgvQixFQUFBdy9CLEVBQUEsRUFDQXgvQixLQUNBLEdBQUFtRSxFQUFBbkUsS0FBQTFVLEVBQ0EsT0FBQTBVLEVBR0EsT0FBQUEsRUE0ck1BbThELENBQUFoNEQsRUFBQTdZLEVBQUEwVSxHQUNBdS9CLEdBQUFwN0IsRUFBQXc3QixHQUFBMy9CLEdBQUEsSUE4NVJBbXpDLEdBQUF5Z0IsYUFDQXpnQixHQUFBMGdCLGNBQ0ExZ0IsR0FBQXQ1QixNQUNBczVCLEdBQUFwNUIsT0FDQW81QixHQUFBbGxELElBaGZBLFNBQUFrVyxHQUNBLE9BQUFBLEtBQUE5VyxPQUNBcXRELEdBQUF2MkMsRUFBQTQ2QyxHQUFBOUMsSUFDQTFrQyxHQThlQTQ3QixHQUFBaXBCLE1BcGRBLFNBQUFqNEQsRUFBQTY1QixHQUNBLE9BQUE3NUIsS0FBQTlXLE9BQ0FxdEQsR0FBQXYyQyxFQUFBdThDLEdBQUExaUIsRUFBQSxHQUFBaWUsSUFDQTFrQyxHQWtkQTQ3QixHQUFBa3BCLEtBamNBLFNBQUFsNEQsR0FDQSxPQUFBMDdCLEdBQUExN0IsRUFBQTQ2QyxLQWljQTVMLEdBQUFtcEIsT0F2YUEsU0FBQW40RCxFQUFBNjVCLEdBQ0EsT0FBQTZCLEdBQUExN0IsRUFBQXU4QyxHQUFBMWlCLEVBQUEsS0F1YUFtVixHQUFBbmxELElBbFpBLFNBQUFtVyxHQUNBLE9BQUFBLEtBQUE5VyxPQUNBcXRELEdBQUF2MkMsRUFBQTQ2QyxHQUFBUSxJQUNBaG9DLEdBZ1pBNDdCLEdBQUFvcEIsTUF0WEEsU0FBQXA0RCxFQUFBNjVCLEdBQ0EsT0FBQTc1QixLQUFBOVcsT0FDQXF0RCxHQUFBdjJDLEVBQUF1OEMsR0FBQTFpQixFQUFBLEdBQUF1aEIsSUFDQWhvQyxHQW9YQTQ3QixHQUFBd1ksYUFDQXhZLEdBQUFnWixhQUNBaFosR0FBQXFwQixXQXp0QkEsV0FDQSxVQXl0QkFycEIsR0FBQXNwQixXQXpzQkEsV0FDQSxVQXlzQkF0cEIsR0FBQXVwQixTQXpyQkEsV0FDQSxVQXlyQkF2cEIsR0FBQXNpQixZQUNBdGlCLEdBQUF3cEIsSUF0NVJBLFNBQUF4NEQsRUFBQXJZLEdBQ0EsT0FBQXFZLEtBQUE5VyxPQUFBaXpELEdBQUFuOEMsRUFBQW9tRCxHQUFBeitELElBQUF5ckIsR0FzNVJBNDdCLEdBQUF5cEIsV0F2aENBLFdBSUEsT0FIQWhzQyxHQUFBMmQsSUFBQTVnRCxPQUNBaWpDLEdBQUEyZCxFQUFBbUIsSUFFQS9oRCxNQW9oQ0F3bEQsR0FBQXNYLFFBQ0F0WCxHQUFBdEMsT0FDQXNDLEdBQUEwcEIsSUEvMkVBLFNBQUE3dkIsRUFBQTMvQyxFQUFBeUgsR0FDQWs0QyxFQUFBejhDLEdBQUF5OEMsR0FHQSxJQUFBOHZCLEdBRkF6dkUsRUFBQWs5RCxHQUFBbDlELElBRUFvWixHQUFBdW1DLEdBQUEsRUFDQSxJQUFBMy9DLEdBQUF5dkUsR0FBQXp2RSxFQUNBLE9BQUEyL0MsRUFFQSxJQUFBNFYsR0FBQXYxRCxFQUFBeXZFLEdBQUEsRUFDQSxPQUNBdFQsR0FBQXRZLEdBQUEwUixHQUFBOXRELEdBQ0FrNEMsRUFDQXdjLEdBQUF4WSxHQUFBNFIsR0FBQTl0RCxJQW8yRUFxK0MsR0FBQTRwQixPQXowRUEsU0FBQS92QixFQUFBMy9DLEVBQUF5SCxHQUNBazRDLEVBQUF6OEMsR0FBQXk4QyxHQUdBLElBQUE4dkIsR0FGQXp2RSxFQUFBazlELEdBQUFsOUQsSUFFQW9aLEdBQUF1bUMsR0FBQSxFQUNBLE9BQUEzL0MsR0FBQXl2RSxFQUFBenZFLEVBQ0EyL0MsRUFBQXdjLEdBQUFuOEQsRUFBQXl2RSxFQUFBaG9FLEdBQ0FrNEMsR0FtMEVBbUcsR0FBQTZwQixTQXp5RUEsU0FBQWh3QixFQUFBMy9DLEVBQUF5SCxHQUNBazRDLEVBQUF6OEMsR0FBQXk4QyxHQUdBLElBQUE4dkIsR0FGQXp2RSxFQUFBazlELEdBQUFsOUQsSUFFQW9aLEdBQUF1bUMsR0FBQSxFQUNBLE9BQUEzL0MsR0FBQXl2RSxFQUFBenZFLEVBQ0FtOEQsR0FBQW44RCxFQUFBeXZFLEVBQUFob0UsR0FBQWs0QyxFQUNBQSxHQW15RUFtRyxHQUFBMTBCLFNBeHdFQSxTQUFBdXVCLEVBQUFpd0IsRUFBQTVXLEdBTUEsT0FMQUEsR0FBQSxNQUFBNFcsRUFDQUEsRUFBQSxFQUNPQSxJQUNQQSxNQUVBbnJCLEdBQUF2aEQsR0FBQXk4QyxHQUFBMS9DLFFBQUFzckMsR0FBQSxJQUFBcWtDLEdBQUEsSUFtd0VBOXBCLEdBQUFwbEQsT0F4cEZBLFNBQUE4b0QsRUFBQUMsRUFBQW9tQixHQTJCQSxHQTFCQUEsR0FBQSxrQkFBQUEsR0FBQTVXLEdBQUF6UCxFQUFBQyxFQUFBb21CLEtBQ0FwbUIsRUFBQW9tQixFQUFBM2xELEdBRUEybEQsSUFBQTNsRCxJQUNBLGtCQUFBdS9CLEdBQ0FvbUIsRUFBQXBtQixFQUNBQSxFQUFBdi9CLEdBRUEsa0JBQUFzL0IsSUFDQXFtQixFQUFBcm1CLEVBQ0FBLEVBQUF0L0IsSUFHQXMvQixJQUFBdC9CLEdBQUF1L0IsSUFBQXYvQixHQUNBcy9CLEVBQUEsRUFDQUMsRUFBQSxJQUdBRCxFQUFBK1MsR0FBQS9TLEdBQ0FDLElBQUF2L0IsR0FDQXUvQixFQUFBRCxFQUNBQSxFQUFBLEdBRUFDLEVBQUE4UyxHQUFBOVMsSUFHQUQsRUFBQUMsRUFBQSxDQUNBLElBQUFxbUIsRUFBQXRtQixFQUNBQSxFQUFBQyxFQUNBQSxFQUFBcW1CLEVBRUEsR0FBQUQsR0FBQXJtQixFQUFBLEdBQUFDLEVBQUEsR0FDQSxJQUFBZ1csRUFBQS9hLEtBQ0EsT0FBQUgsR0FBQWlGLEVBQUFpVyxHQUFBaFcsRUFBQUQsRUFBQXphLEdBQUEsUUFBQTB3QixFQUFBLElBQUF6L0QsT0FBQSxLQUFBeXBELEdBRUEsT0FBQXJCLEdBQUFvQixFQUFBQyxJQXFuRkEzRCxHQUFBaXFCLE9BejhOQSxTQUFBLzlCLEVBQUFyQixFQUFBQyxHQUNBLElBQUFuNkIsRUFBQXFLLEdBQUFreEIsR0FBQVAsR0FBQWtCLEdBQ0FqQixFQUFBN3JDLFVBQUE3RixPQUFBLEVBRUEsT0FBQXlXLEVBQUF1N0IsRUFBQXFoQixHQUFBMWlCLEVBQUEsR0FBQUMsRUFBQWMsRUFBQXNYLEtBczhOQWxELEdBQUFrcUIsWUE3Nk5BLFNBQUFoK0IsRUFBQXJCLEVBQUFDLEdBQ0EsSUFBQW42QixFQUFBcUssR0FBQWt4QixHQUFBTCxHQUFBZ0IsR0FDQWpCLEVBQUE3ckMsVUFBQTdGLE9BQUEsRUFFQSxPQUFBeVcsRUFBQXU3QixFQUFBcWhCLEdBQUExaUIsRUFBQSxHQUFBQyxFQUFBYyxFQUFBd2IsS0EwNk5BcEgsR0FBQW1xQixPQTd1RUEsU0FBQXR3QixFQUFBbGhELEVBQUF1NkQsR0FNQSxPQUpBdjZELEdBREF1NkQsRUFBQUMsR0FBQXRaLEVBQUFsaEQsRUFBQXU2RCxHQUFBdjZELElBQUF5ckIsR0FDQSxFQUVBZ3pDLEdBQUF6K0QsR0FFQTYxRCxHQUFBcHhELEdBQUF5OEMsR0FBQWxoRCxJQXd1RUFxbkQsR0FBQTdsRCxRQWx0RUEsV0FDQSxJQUFBZzlCLEVBQUFwM0IsVUFDQTg1QyxFQUFBejhDLEdBQUErNUIsRUFBQSxJQUVBLE9BQUFBLEVBQUFqOUIsT0FBQSxFQUFBMi9DLElBQUExL0MsUUFBQWc5QixFQUFBLEdBQUFBLEVBQUEsS0Erc0VBNm9CLEdBQUFqM0IsT0FwbUdBLFNBQUFud0IsRUFBQXV2RCxFQUFBK04sR0FHQSxJQUFBcnBELEdBQUEsRUFDQTNTLEdBSEFpdUQsRUFBQUMsR0FBQUQsRUFBQXZ2RCxJQUdBc0IsT0FPQSxJQUpBQSxJQUNBQSxFQUFBLEVBQ0F0QixFQUFBd3JCLEtBRUF2WCxFQUFBM1MsR0FBQSxDQUNBLElBQUEvQixFQUFBLE1BQUFTLEVBQUF3ckIsRUFBQXhyQixFQUFBeXZELEdBQUFGLEVBQUF0N0MsS0FDQTFVLElBQUFpc0IsSUFDQXZYLEVBQUEzUyxFQUNBL0IsRUFBQSs5RCxHQUVBdDlELEVBQUFxdkQsR0FBQTl2RCxLQUFBZCxLQUFBdUIsR0FBQVQsRUFFQSxPQUFBUyxHQWtsR0FvbkQsR0FBQXlpQixTQUNBemlCLEdBQUEzRSxlQUNBMkUsR0FBQW9xQixPQXYzTkEsU0FBQWwrQixHQUVBLE9BREFseEIsR0FBQWt4QixHQUFBbVcsR0FBQXVNLElBQ0ExaUIsSUFzM05BOFQsR0FBQXAvQyxLQTV5TkEsU0FBQXNyQyxHQUNBLFNBQUFBLEVBQ0EsU0FFQSxHQUFBb2dCLEdBQUFwZ0IsR0FDQSxPQUFBeXlCLEdBQUF6eUIsR0FBQTU0QixHQUFBNDRCLEtBQUFoeUMsT0FFQSxJQUFBbXFELEVBQUFDLEdBQUFwWSxHQUNBLE9BQUFtWSxHQUFBcGhCLEdBQUFvaEIsR0FBQTlnQixHQUNBMkksRUFBQXRyQyxLQUVBbXJELEdBQUE3ZixHQUFBaHlDLFFBa3lOQThsRCxHQUFBMmdCLGFBQ0EzZ0IsR0FBQXFxQixLQTV2TkEsU0FBQW4rQixFQUFBaEIsRUFBQWdvQixHQUNBLElBQUF2aUQsRUFBQXFLLEdBQUFreEIsR0FBQUosR0FBQXNqQixHQUlBLE9BSEE4RCxHQUFBQyxHQUFBam5CLEVBQUFoQixFQUFBZ29CLEtBQ0Fob0IsRUFBQTltQixHQUVBelQsRUFBQXU3QixFQUFBcWhCLEdBQUFyaUIsRUFBQSxLQXd2TkE4VSxHQUFBc3FCLFlBenBSQSxTQUFBdDVELEVBQUE3WSxHQUNBLE9BQUFrM0QsR0FBQXIrQyxFQUFBN1ksSUF5cFJBNm5ELEdBQUF1cUIsY0E3blJBLFNBQUF2NUQsRUFBQTdZLEVBQUEweUMsR0FDQSxPQUFBNmtCLEdBQUExK0MsRUFBQTdZLEVBQUFvMUQsR0FBQTFpQixFQUFBLEtBNm5SQW1WLEdBQUF3cUIsY0ExbVJBLFNBQUF4NUQsRUFBQTdZLEdBQ0EsSUFBQStCLEVBQUEsTUFBQThXLEVBQUEsRUFBQUEsRUFBQTlXLE9BQ0EsR0FBQUEsRUFBQSxDQUNBLElBQUEyUyxFQUFBd2lELEdBQUFyK0MsRUFBQTdZLEdBQ0EsR0FBQTBVLEVBQUEzUyxHQUFBNHNCLEdBQUE5VixFQUFBbkUsR0FBQTFVLEdBQ0EsT0FBQTBVLEVBR0EsVUFtbVJBbXpDLEdBQUF5cUIsZ0JBOWtSQSxTQUFBejVELEVBQUE3WSxHQUNBLE9BQUFrM0QsR0FBQXIrQyxFQUFBN1ksR0FBQSxJQThrUkE2bkQsR0FBQTBxQixrQkFsalJBLFNBQUExNUQsRUFBQTdZLEVBQUEweUMsR0FDQSxPQUFBNmtCLEdBQUExK0MsRUFBQTdZLEVBQUFvMUQsR0FBQTFpQixFQUFBLFFBa2pSQW1WLEdBQUEycUIsa0JBL2hSQSxTQUFBMzVELEVBQUE3WSxHQUVBLEdBREEsTUFBQTZZLEtBQUE5VyxPQUNBLENBQ0EsSUFBQTJTLEVBQUF3aUQsR0FBQXIrQyxFQUFBN1ksR0FBQSxLQUNBLEdBQUEydUIsR0FBQTlWLEVBQUFuRSxHQUFBMVUsR0FDQSxPQUFBMFUsRUFHQSxVQXdoUkFtekMsR0FBQTRnQixhQUNBNWdCLEdBQUE0cUIsV0F6bUVBLFNBQUEvd0IsRUFBQXI2QixFQUFBaW9ELEdBT0EsT0FOQTV0QixFQUFBejhDLEdBQUF5OEMsR0FDQTR0QixFQUFBLE1BQUFBLEVBQ0EsRUFDQS9rQixHQUFBMFUsR0FBQXFRLEdBQUEsRUFBQTV0QixFQUFBMy9DLFFBRUFzbEIsRUFBQTh3QyxHQUFBOXdDLEdBQ0FxNkIsRUFBQXpxQixNQUFBcTRDLElBQUFqb0QsRUFBQXRsQixTQUFBc2xCLEdBbW1FQXdnQyxHQUFBN3lCLFlBQ0E2eUIsR0FBQTZxQixJQXpVQSxTQUFBNzVELEdBQ0EsT0FBQUEsS0FBQTlXLE9BQ0F5eUMsR0FBQTM3QixFQUFBNDZDLElBQ0EsR0F1VUE1TCxHQUFBOHFCLE1BN1NBLFNBQUE5NUQsRUFBQTY1QixHQUNBLE9BQUE3NUIsS0FBQTlXLE9BQ0F5eUMsR0FBQTM3QixFQUFBdThDLEdBQUExaUIsRUFBQSxJQUNBLEdBMlNBbVYsR0FBQStxQixTQTMvREEsU0FBQWx4QixFQUFBai9CLEVBQUFzNEMsR0FJQSxJQUFBOFgsRUFBQWhyQixHQUFBeUcsaUJBRUF5TSxHQUFBQyxHQUFBdFosRUFBQWovQixFQUFBczRDLEtBQ0F0NEMsRUFBQXdKLEdBRUF5MUIsRUFBQXo4QyxHQUFBeThDLEdBQ0FqL0IsRUFBQXVrRCxNQUErQnZrRCxFQUFBb3dELEVBQUEvUyxJQUUvQixJQUlBZ1QsRUFDQUMsRUFMQXBrQixFQUFBcVksTUFBbUN2a0QsRUFBQWtzQyxRQUFBa2tCLEVBQUFsa0IsUUFBQW1SLElBQ25Da1QsRUFBQWh2QixHQUFBMkssR0FDQXNrQixFQUFBbitCLEdBQUE2WixFQUFBcWtCLEdBSUF0K0QsRUFBQSxFQUNBKzVDLEVBQUFoc0MsRUFBQWdzQyxhQUFBcGdCLEdBQ0FyL0IsRUFBQSxXQUdBa2tFLEVBQUF2bUMsSUFDQWxxQixFQUFBOHJDLFFBQUFsZ0IsSUFBQXIvQixPQUFBLElBQ0F5L0MsRUFBQXovQyxPQUFBLEtBQ0F5L0MsSUFBQTFoQixHQUFBYyxHQUFBUSxJQUFBci9CLE9BQUEsS0FDQXlULEVBQUErckMsVUFBQW5nQixJQUFBci9CLE9BQUEsS0FDQSxLQUdBbWtFLEVBQUEsa0JBQ0EsY0FBQTF3RCxFQUNBQSxFQUFBMHdELFVBQ0EsNkJBQUEvaUMsR0FBQSxLQUNBLEtBRUFzUixFQUFBMS9DLFFBQUFreEUsRUFBQSxTQUFBMXdCLEVBQUE0d0IsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQXBpRCxHQXNCQSxPQXJCQWtpRCxNQUFBQyxHQUdBdGtFLEdBQUEweUMsRUFBQXpxQixNQUFBdmlCLEVBQUF5YyxHQUFBbnZCLFFBQUFzc0MsR0FBQWlULElBR0E2eEIsSUFDQU4sR0FBQSxFQUNBOWpFLEdBQUEsWUFBQW9rRSxFQUFBLFVBRUFHLElBQ0FSLEdBQUEsRUFDQS9qRSxHQUFBLE9BQXVCdWtFLEVBQUEsZUFFdkJGLElBQ0Fya0UsR0FBQSxpQkFBQXFrRSxFQUFBLCtCQUVBMytELEVBQUF5YyxFQUFBcXhCLEVBQUF6Z0QsT0FJQXlnRCxJQUdBeHpDLEdBQUEsT0FJQSxJQUFBMC9DLEVBQUFqc0MsRUFBQWlzQyxTQUNBQSxJQUNBMS9DLEVBQUEsaUJBQThCQSxFQUFBLFNBRzlCQSxHQUFBK2pFLEVBQUEvakUsRUFBQWhOLFFBQUFxcUMsR0FBQSxJQUFBcjlCLEdBQ0FoTixRQUFBc3FDLEdBQUEsTUFDQXRxQyxRQUFBdXFDLEdBQUEsT0FHQXY5QixFQUFBLGFBQUEwL0MsR0FBQSxnQkFDQUEsRUFDQSxHQUNBLHdCQUVBLHFCQUNBb2tCLEVBQ0EsbUJBQ0EsS0FFQUMsRUFDQSx1RkFFQSxPQUVBL2pFLEVBQ0EsZ0JBRUEsSUFBQTRoQixFQUFBbzRDLEdBQUEsV0FDQSxPQUFBL2pDLEdBQUErdEMsRUFBQUcsRUFBQSxVQUFBbmtFLEdBQ0FySCxNQUFBc2tCLEVBQUFnbkQsS0FNQSxHQURBcmlELEVBQUE1aEIsU0FDQXEzRCxHQUFBejFDLEdBQ0EsTUFBQUEsRUFFQSxPQUFBQSxHQW01REFpM0IsR0FBQTJyQixNQXBzQkEsU0FBQWh6RSxFQUFBa3lDLEdBRUEsSUFEQWx5QyxFQUFBeStELEdBQUF6K0QsSUFDQSxHQUFBQSxFQUFBc3BDLEVBQ0EsU0FFQSxJQUFBcDFCLEVBQUF1MUIsRUFDQWxvQyxFQUFBdWtELEdBQUE5bEQsRUFBQXlwQyxHQUVBeUksRUFBQTBpQixHQUFBMWlCLEdBQ0FseUMsR0FBQXlwQyxFQUdBLElBREEsSUFBQXJaLEVBQUFna0IsR0FBQTd5QyxFQUFBMndDLEtBQ0FoK0IsRUFBQWxVLEdBQ0FreUMsRUFBQWgrQixHQUVBLE9BQUFrYyxHQXNyQkFpM0IsR0FBQXlXLFlBQ0F6VyxHQUFBb1gsYUFDQXBYLEdBQUFnZixZQUNBaGYsR0FBQTRyQixRQS8zREEsU0FBQXp6RSxHQUNBLE9BQUFpRixHQUFBakYsR0FBQWtvRSxlQSszREFyZ0IsR0FBQTRXLFlBQ0E1VyxHQUFBNnJCLGNBbHNJQSxTQUFBMXpFLEdBQ0EsT0FBQUEsRUFDQXVxRCxHQUFBMFUsR0FBQWovRCxJQUFBOHBDLEtBQ0EsSUFBQTlwQyxJQUFBLEdBZ3NJQTZuRCxHQUFBNWlELFlBQ0E0aUQsR0FBQThyQixRQTEyREEsU0FBQTN6RSxHQUNBLE9BQUFpRixHQUFBakYsR0FBQTJvRSxlQTAyREE5Z0IsR0FBQStyQixLQWoxREEsU0FBQWx5QixFQUFBbDRDLEVBQUF1eEQsR0FFQSxJQURBclosRUFBQXo4QyxHQUFBeThDLE1BQ0FxWixHQUFBdnhELElBQUF5aUIsR0FDQSxPQUFBeTFCLEVBQUExL0MsUUFBQXFyQyxHQUFBLElBRUEsSUFBQXFVLEtBQUFsNEMsRUFBQTJ1RCxHQUFBM3VELElBQ0EsT0FBQWs0QyxFQUVBLElBQUF2TSxFQUFBb04sR0FBQWIsR0FDQXRNLEVBQUFtTixHQUFBLzRDLEdBSUEsT0FBQTh2RCxHQUFBbmtCLEVBSEFELEdBQUFDLEVBQUFDLEdBQ0FDLEdBQUFGLEVBQUFDLEdBQUEsR0FFQWwrQixLQUFBLEtBcTBEQTJ3QyxHQUFBZ3NCLFFBL3lEQSxTQUFBbnlCLEVBQUFsNEMsRUFBQXV4RCxHQUVBLElBREFyWixFQUFBejhDLEdBQUF5OEMsTUFDQXFaLEdBQUF2eEQsSUFBQXlpQixHQUNBLE9BQUF5MUIsRUFBQTEvQyxRQUFBdXJDLEdBQUEsSUFFQSxJQUFBbVUsS0FBQWw0QyxFQUFBMnVELEdBQUEzdUQsSUFDQSxPQUFBazRDLEVBRUEsSUFBQXZNLEVBQUFvTixHQUFBYixHQUdBLE9BQUE0WCxHQUFBbmtCLEVBQUEsRUFGQUUsR0FBQUYsRUFBQW9OLEdBQUEvNEMsSUFBQSxHQUVBME4sS0FBQSxLQXF5REEyd0MsR0FBQWlzQixVQS93REEsU0FBQXB5QixFQUFBbDRDLEVBQUF1eEQsR0FFQSxJQURBclosRUFBQXo4QyxHQUFBeThDLE1BQ0FxWixHQUFBdnhELElBQUF5aUIsR0FDQSxPQUFBeTFCLEVBQUExL0MsUUFBQXNyQyxHQUFBLElBRUEsSUFBQW9VLEtBQUFsNEMsRUFBQTJ1RCxHQUFBM3VELElBQ0EsT0FBQWs0QyxFQUVBLElBQUF2TSxFQUFBb04sR0FBQWIsR0FHQSxPQUFBNFgsR0FBQW5rQixFQUZBRCxHQUFBQyxFQUFBb04sR0FBQS80QyxLQUVBME4sS0FBQSxLQXF3REEyd0MsR0FBQWtzQixTQTd0REEsU0FBQXJ5QixFQUFBai9CLEdBQ0EsSUFBQTFnQixFQUFBd25DLEVBQ0F5cUMsRUFBQXhxQyxFQUVBLEdBQUE0ZSxHQUFBM2xDLEdBQUEsQ0FDQSxJQUFBNnFELEVBQUEsY0FBQTdxRCxJQUFBNnFELFlBQ0F2ckUsRUFBQSxXQUFBMGdCLEVBQUF3OEMsR0FBQXg4QyxFQUFBMWdCLFVBQ0FpeUUsRUFBQSxhQUFBdnhELEVBQUEwMUMsR0FBQTExQyxFQUFBdXhELFlBSUEsSUFBQXhDLEdBRkE5dkIsRUFBQXo4QyxHQUFBeThDLElBRUEzL0MsT0FDQSxHQUFBMC9DLEdBQUFDLEdBQUEsQ0FDQSxJQUFBdk0sRUFBQW9OLEdBQUFiLEdBQ0E4dkIsRUFBQXI4QixFQUFBcHpDLE9BRUEsR0FBQUEsR0FBQXl2RSxFQUNBLE9BQUE5dkIsRUFFQSxJQUFBcHlDLEVBQUF2TixFQUFBb1osR0FBQTY0RCxHQUNBLEdBQUExa0UsRUFBQSxFQUNBLE9BQUEwa0UsRUFFQSxJQUFBcGpELEVBQUF1a0IsRUFDQW1rQixHQUFBbmtCLEVBQUEsRUFBQTdsQyxHQUFBNEgsS0FBQSxJQUNBd3FDLEVBQUF6cUIsTUFBQSxFQUFBM25CLEdBRUEsR0FBQWcrRCxJQUFBcmhELEVBQ0EsT0FBQTJFLEVBQUFvakQsRUFLQSxHQUhBNytCLElBQ0E3bEMsR0FBQXNoQixFQUFBN3VCLE9BQUF1TixHQUVBNGlDLEdBQUFvN0IsSUFDQSxHQUFBNXJCLEVBQUF6cUIsTUFBQTNuQixHQUFBMmtFLE9BQUEzRyxHQUFBLENBQ0EsSUFBQTlxQixFQUNBMHhCLEVBQUF0akQsRUFNQSxJQUpBMDhDLEVBQUF0OEIsU0FDQXM4QixFQUFBM2dDLEdBQUEyZ0MsRUFBQXQrRCxPQUFBL0osR0FBQTZvQyxHQUFBaVcsS0FBQXVwQixJQUFBLE1BRUFBLEVBQUFqckIsVUFBQSxFQUNBRyxFQUFBOHFCLEVBQUF2cEIsS0FBQW13QixJQUNBLElBQUFDLEVBQUEzeEIsRUFBQTl0QyxNQUVBa2MsSUFBQXFHLE1BQUEsRUFBQWs5QyxJQUFBbG9ELEVBQUEzYyxFQUFBNmtFLFNBRU8sR0FBQXp5QixFQUFBMTRDLFFBQUFtdkQsR0FBQW1WLEdBQUFoK0QsTUFBQSxDQUNQLElBQUFvRixFQUFBa2MsRUFBQTZMLFlBQUE2d0MsR0FDQTU0RCxHQUFBLElBQ0FrYyxJQUFBcUcsTUFBQSxFQUFBdmlCLElBR0EsT0FBQWtjLEVBQUFvakQsR0F5cURBbnNCLEdBQUF1c0IsU0FucERBLFNBQUExeUIsR0FFQSxPQURBQSxFQUFBejhDLEdBQUF5OEMsS0FDQWhWLEdBQUFpVixLQUFBRCxHQUNBQSxFQUFBMS9DLFFBQUF3cUMsR0FBQW1XLElBQ0FqQixHQWdwREFtRyxHQUFBd3NCLFNBdnBCQSxTQUFBQyxHQUNBLElBQUEvbEUsSUFBQXExQyxHQUNBLE9BQUEzK0MsR0FBQXF2RSxHQUFBL2xFLEdBc3BCQXM1QyxHQUFBNmdCLGFBQ0E3Z0IsR0FBQXVnQixjQUdBdmdCLEdBQUEwc0IsS0FBQTFsRSxHQUNBZzVDLEdBQUEyc0IsVUFBQTdRLEdBQ0E5YixHQUFBNHNCLE1BQUF2UyxHQUVBcUgsR0FBQTFoQixHQUFBLFdBQ0EsSUFBQTc0QyxLQU1BLE9BTEFnZ0QsR0FBQW5ILEdBQUEsU0FBQXJ2QyxFQUFBMmlELEdBQ0F2NkQsR0FBQTFCLEtBQUEyb0QsR0FBQWxuRCxVQUFBdzZELEtBQ0Fuc0QsRUFBQW1zRCxHQUFBM2lELEtBR0F4SixFQVBBLElBUVdzMEQsT0FBQSxJQVdYemIsR0FBQTZzQixRQXg4Z0JBLFVBMjhnQkE5aEMsSUFBQSx5RUFBQXVvQixHQUNBdFQsR0FBQXNULEdBQUFuWixZQUFBNkYsS0FJQWpWLElBQUEsd0JBQUF1b0IsRUFBQXptRCxHQUNBcXpDLEdBQUFwbkQsVUFBQXc2RCxHQUFBLFNBQUEzNkQsR0FDQUEsTUFBQXlyQixFQUFBLEVBQUFvNkIsR0FBQTRZLEdBQUF6K0QsR0FBQSxHQUVBLElBQUFvd0IsRUFBQXZ1QixLQUFBd21ELGVBQUFuMEMsRUFDQSxJQUFBcXpDLEdBQUExbEQsTUFDQUEsS0FBQW95QixRQVVBLE9BUkE3RCxFQUFBaTRCLGFBQ0FqNEIsRUFBQW00QixjQUFBekMsR0FBQTlsRCxFQUFBb3dCLEVBQUFtNEIsZUFFQW40QixFQUFBbzRCLFVBQUF0Z0QsTUFDQUQsS0FBQTY5QyxHQUFBOWxELEVBQUF5cEMsR0FDQXhtQyxLQUFBMDNELEdBQUF2cUMsRUFBQWc0QixRQUFBLGdCQUdBaDRCLEdBR0FtM0IsR0FBQXBuRCxVQUFBdzZELEVBQUEsa0JBQUEzNkQsR0FDQSxPQUFBNkIsS0FBQXNrRCxVQUFBd1UsR0FBQTM2RCxHQUFBbW1ELGFBS0EvVCxJQUFBLHFDQUFBdW9CLEVBQUF6bUQsR0FDQSxJQUFBalIsRUFBQWlSLEVBQUEsRUFDQWlnRSxFQUFBbHhFLEdBQUFrbUMsR0F6N2dCQSxHQXk3Z0JBbG1DLEVBRUFza0QsR0FBQXBuRCxVQUFBdzZELEdBQUEsU0FBQXpvQixHQUNBLElBQUE5aEIsRUFBQXZ1QixLQUFBb3lCLFFBTUEsT0FMQTdELEVBQUFrNEIsY0FBQXBnRCxNQUNBZ3FDLFNBQUEwaUIsR0FBQTFpQixFQUFBLEdBQ0FqdkMsU0FFQW10QixFQUFBaTRCLGFBQUFqNEIsRUFBQWk0QixjQUFBOHJCLEVBQ0EvakQsS0FLQWdpQixJQUFBLHdCQUFBdW9CLEVBQUF6bUQsR0FDQSxJQUFBa2dFLEVBQUEsUUFBQWxnRSxFQUFBLFlBRUFxekMsR0FBQXBuRCxVQUFBdzZELEdBQUEsV0FDQSxPQUFBOTRELEtBQUF1eUUsR0FBQSxHQUFBNTBFLFFBQUEsTUFLQTR5QyxJQUFBLDJCQUFBdW9CLEVBQUF6bUQsR0FDQSxJQUFBbWdFLEVBQUEsUUFBQW5nRSxFQUFBLFlBRUFxekMsR0FBQXBuRCxVQUFBdzZELEdBQUEsV0FDQSxPQUFBOTRELEtBQUF3bUQsYUFBQSxJQUFBZCxHQUFBMWxELFdBQUF3eUUsR0FBQSxNQUlBOXNCLEdBQUFwbkQsVUFBQWlxRSxRQUFBLFdBQ0EsT0FBQXZvRSxLQUFBNGdCLE9BQUF3d0MsS0FHQTFMLEdBQUFwbkQsVUFBQTJsQixLQUFBLFNBQUF5c0IsR0FDQSxPQUFBMXdDLEtBQUE0Z0IsT0FBQTh2QixHQUFBbXZCLFFBR0FuYSxHQUFBcG5ELFVBQUEraUUsU0FBQSxTQUFBM3dCLEdBQ0EsT0FBQTF3QyxLQUFBc2tELFVBQUFyZ0MsS0FBQXlzQixJQUdBZ1YsR0FBQXBuRCxVQUFBa2pFLFVBQUF2TixHQUFBLFNBQUF0RyxFQUFBaHhCLEdBQ0EseUJBQUFneEIsRUFDQSxJQUFBakksR0FBQTFsRCxNQUVBQSxLQUFBcUgsSUFBQSxTQUFBMUosR0FDQSxPQUFBc3hELEdBQUF0eEQsRUFBQWd3RCxFQUFBaHhCLE9BSUErb0IsR0FBQXBuRCxVQUFBbXNFLE9BQUEsU0FBQS81QixHQUNBLE9BQUExd0MsS0FBQTRnQixPQUFBNmlELEdBQUExUSxHQUFBcmlCLE1BR0FnVixHQUFBcG5ELFVBQUFzMkIsTUFBQSxTQUFBNW5CLEVBQUFDLEdBQ0FELEVBQUE0dkQsR0FBQTV2RCxHQUVBLElBQUF1aEIsRUFBQXZ1QixLQUNBLE9BQUF1dUIsRUFBQWk0QixlQUFBeDVDLEVBQUEsR0FBQUMsRUFBQSxHQUNBLElBQUF5NEMsR0FBQW4zQixJQUVBdmhCLEVBQUEsRUFDQXVoQixJQUFBKzhDLFdBQUF0K0QsR0FDT0EsSUFDUHVoQixJQUFBdzZDLEtBQUEvN0QsSUFFQUMsSUFBQTJjLElBRUEyRSxHQURBdGhCLEVBQUEydkQsR0FBQTN2RCxJQUNBLEVBQUFzaEIsRUFBQXk2QyxXQUFBLzdELEdBQUFzaEIsRUFBQTg4QyxLQUFBcCtELEVBQUFELElBRUF1aEIsSUFHQW0zQixHQUFBcG5ELFVBQUFpdEUsZUFBQSxTQUFBNzZCLEdBQ0EsT0FBQTF3QyxLQUFBc2tELFVBQUFrbkIsVUFBQTk2QixHQUFBNFQsV0FHQW9CLEdBQUFwbkQsVUFBQThsRSxRQUFBLFdBQ0EsT0FBQXBrRSxLQUFBcXJFLEtBQUF6akMsSUFJQStrQixHQUFBakgsR0FBQXBuRCxVQUFBLFNBQUE2WCxFQUFBMmlELEdBQ0EsSUFBQTJaLEVBQUEscUNBQUFuekIsS0FBQXdaLEdBQ0E0WixFQUFBLGtCQUFBcHpCLEtBQUF3WixHQUNBNlosRUFBQW50QixHQUFBa3RCLEVBQUEsZ0JBQUE1WixFQUFBLFlBQUFBLEdBQ0E4WixFQUFBRixHQUFBLFFBQUFwekIsS0FBQXdaLEdBRUE2WixJQUdBbnRCLEdBQUFsbkQsVUFBQXc2RCxHQUFBLFdBQ0EsSUFBQW43RCxFQUFBcUMsS0FBQWttRCxZQUNBdnBCLEVBQUErMUMsR0FBQSxHQUFBbnRFLFVBQ0FzdEUsRUFBQWwxRSxhQUFBK25ELEdBQ0FyVixFQUFBMVQsRUFBQSxHQUNBbTJDLEVBQUFELEdBQUFyeUQsR0FBQTdpQixHQUVBdWpFLEVBQUEsU0FBQXZqRSxHQUNBLElBQUE0d0IsRUFBQW9rRCxFQUFBcnRFLE1BQUFrZ0QsR0FBQXRVLElBQUF2ekMsR0FBQWcvQixJQUNBLE9BQUErMUMsR0FBQXpzQixFQUFBMTNCLEVBQUEsR0FBQUEsR0FHQXVrRCxHQUFBTCxHQUFBLG1CQUFBcGlDLEdBQUEsR0FBQUEsRUFBQTN3QyxTQUVBbXpFLEVBQUFDLEdBQUEsR0FFQSxJQUFBN3NCLEVBQUFqbUQsS0FBQW9tRCxVQUNBMnNCLElBQUEveUUsS0FBQW1tRCxZQUFBem1ELE9BQ0FzekUsRUFBQUosSUFBQTNzQixFQUNBZ3RCLEVBQUFKLElBQUFFLEVBRUEsSUFBQUgsR0FBQUUsRUFBQSxDQUNBbjFFLEVBQUFzMUUsRUFBQXQxRSxFQUFBLElBQUErbkQsR0FBQTFsRCxNQUNBLElBQUF1dUIsRUFBQXBZLEVBQUE3USxNQUFBM0gsRUFBQWcvQixHQUVBLE9BREFwTyxFQUFBNDNCLFlBQUE5L0MsTUFBbUM4UCxLQUFBeWpELEdBQUFqOUIsTUFBQXVrQyxHQUFBaHhCLFFBQUF0bUIsSUFDbkMsSUFBQSs3QixHQUFBcDNCLEVBQUEwM0IsR0FFQSxPQUFBK3NCLEdBQUFDLEVBQ0E5OEQsRUFBQTdRLE1BQUF0RixLQUFBMjhCLElBRUFwTyxFQUFBdnVCLEtBQUE0NUQsS0FBQXNILEdBQ0E4UixFQUFBTixFQUFBbmtELEVBQUE1d0IsUUFBQSxHQUFBNHdCLEVBQUE1d0IsUUFBQTR3QixPQUtBZ2lCLElBQUEseURBQUF1b0IsR0FDQSxJQUFBM2lELEVBQUErcUMsR0FBQTRYLEdBQ0FvYSxFQUFBLDBCQUFBNXpCLEtBQUF3WixHQUFBLGFBQ0E4WixFQUFBLGtCQUFBdHpCLEtBQUF3WixHQUVBdFQsR0FBQWxuRCxVQUFBdzZELEdBQUEsV0FDQSxJQUFBbjhCLEVBQUFwM0IsVUFDQSxHQUFBcXRFLElBQUE1eUUsS0FBQW9tRCxVQUFBLENBQ0EsSUFBQXpvRCxFQUFBcUMsS0FBQXJDLFFBQ0EsT0FBQXdZLEVBQUE3USxNQUFBa2IsR0FBQTdpQixRQUFBZy9CLEdBRUEsT0FBQTM4QixLQUFBa3pFLEdBQUEsU0FBQXYxRSxHQUNBLE9BQUF3WSxFQUFBN1EsTUFBQWtiLEdBQUE3aUIsUUFBQWcvQixRQU1BZ3dCLEdBQUFqSCxHQUFBcG5ELFVBQUEsU0FBQTZYLEVBQUEyaUQsR0FDQSxJQUFBNlosRUFBQW50QixHQUFBc1QsR0FDQSxHQUFBNlosRUFBQSxDQUNBLElBQUExMEUsRUFBQTAwRSxFQUFBMTFFLEtBQUEsSUFDQTRuRCxHQUFBNW1ELEtBQUE0bUQsR0FBQTVtRCxRQUVBb0ksTUFBb0JwSixLQUFBNjdELEVBQUEzaUQsS0FBQXc4RCxPQUlwQjl0QixHQUFBc1YsR0FBQXZ3QyxFQUFBNmMsR0FBQXhwQyxRQUNBQSxLQUFBLFVBQ0FrWixLQUFBeVQsSUFJQTg3QixHQUFBcG5ELFVBQUE4ekIsTUFwNGRBLFdBQ0EsSUFBQTdELEVBQUEsSUFBQW0zQixHQUFBMWxELEtBQUFrbUQsYUFPQSxPQU5BMzNCLEVBQUE0M0IsWUFBQThCLEdBQUFqb0QsS0FBQW1tRCxhQUNBNTNCLEVBQUFnNEIsUUFBQXZtRCxLQUFBdW1ELFFBQ0FoNEIsRUFBQWk0QixhQUFBeG1ELEtBQUF3bUQsYUFDQWo0QixFQUFBazRCLGNBQUF3QixHQUFBam9ELEtBQUF5bUQsZUFDQWw0QixFQUFBbTRCLGNBQUExbUQsS0FBQTBtRCxjQUNBbjRCLEVBQUFvNEIsVUFBQXNCLEdBQUFqb0QsS0FBQTJtRCxXQUNBcDRCLEdBNjNkQW0zQixHQUFBcG5ELFVBQUFnbUQsUUFsM2RBLFdBQ0EsR0FBQXRrRCxLQUFBd21ELGFBQUEsQ0FDQSxJQUFBajRCLEVBQUEsSUFBQW0zQixHQUFBMWxELE1BQ0F1dUIsRUFBQWc0QixTQUFBLEVBQ0FoNEIsRUFBQWk0QixjQUFBLE9BRUFqNEIsRUFBQXZ1QixLQUFBb3lCLFNBQ0FtMEIsVUFBQSxFQUVBLE9BQUFoNEIsR0EwMmRBbTNCLEdBQUFwbkQsVUFBQVgsTUEvMWRBLFdBQ0EsSUFBQTZZLEVBQUF4VyxLQUFBa21ELFlBQUF2b0QsUUFDQXcxRSxFQUFBbnpFLEtBQUF1bUQsUUFDQWdCLEVBQUEvbUMsR0FBQWhLLEdBQ0E0OEQsRUFBQUQsRUFBQSxFQUNBaFksRUFBQTVULEVBQUEvd0MsRUFBQTlXLE9BQUEsRUFDQTJ6RSxFQThvSUEsU0FBQXJtRSxFQUFBQyxFQUFBMDJELEdBSUEsSUFIQSxJQUFBdHhELEdBQUEsRUFDQTNTLEVBQUFpa0UsRUFBQWprRSxTQUVBMlMsRUFBQTNTLEdBQUEsQ0FDQSxJQUFBMmxCLEVBQUFzK0MsRUFBQXR4RCxHQUNBak0sRUFBQWlmLEVBQUFqZixLQUVBLE9BQUFpZixFQUFBamtCLE1BQ0EsV0FBQTRMLEdBQUE1RyxFQUEwQyxNQUMxQyxnQkFBQTZHLEdBQUE3RyxFQUF3QyxNQUN4QyxXQUFBNkcsRUFBQWczQyxHQUFBaDNDLEVBQUFELEVBQUE1RyxHQUErRCxNQUMvRCxnQkFBQTRHLEVBQUFnM0MsR0FBQWgzQyxFQUFBQyxFQUFBN0csSUFHQSxPQUFjNEcsUUFBQUMsT0E3cElkcW1FLENBQUEsRUFBQW5ZLEVBQUFuN0QsS0FBQTJtRCxXQUNBMzVDLEVBQUFxbUUsRUFBQXJtRSxNQUNBQyxFQUFBb21FLEVBQUFwbUUsSUFDQXZOLEVBQUF1TixFQUFBRCxFQUNBcUYsRUFBQStnRSxFQUFBbm1FLEVBQUFELEVBQUEsRUFDQTZsRCxFQUFBN3lELEtBQUF5bUQsY0FDQThzQixFQUFBMWdCLEVBQUFuekQsT0FDQWt4QyxFQUFBLEVBQ0E0aUMsRUFBQXZ2QixHQUFBdmtELEVBQUFNLEtBQUEwbUQsZUFFQSxJQUFBYSxJQUFBNnJCLEdBQUFqWSxHQUFBejdELEdBQUE4ekUsR0FBQTl6RSxFQUNBLE9BQUE0MkQsR0FBQTkvQyxFQUFBeFcsS0FBQW1tRCxhQUVBLElBQUE1M0IsS0FFQXU5QixFQUNBLEtBQUFwc0QsS0FBQWt4QyxFQUFBNGlDLEdBQUEsQ0FNQSxJQUhBLElBQUFDLEdBQUEsRUFDQTkxRSxFQUFBNlksRUFIQW5FLEdBQUE4Z0UsS0FLQU0sRUFBQUYsR0FBQSxDQUNBLElBQUFsdUQsRUFBQXd0QyxFQUFBNGdCLEdBQ0FwakMsRUFBQWhyQixFQUFBZ3JCLFNBQ0FqdkMsRUFBQWlrQixFQUFBamtCLEtBQ0EycUQsRUFBQTFiLEVBQUExeUMsR0FFQSxHQUFBeUQsR0FBQW1tQyxFQUNBNXBDLEVBQUFvdUQsT0FDVyxJQUFBQSxFQUFBLENBQ1gsR0FBQTNxRCxHQUFBa21DLEVBQ0EsU0FBQXdrQixFQUVBLE1BQUFBLEdBSUF2OUIsRUFBQXFpQixLQUFBanpDLEVBRUEsT0FBQTR3QixHQW96ZEFpM0IsR0FBQWxuRCxVQUFBdW1FLEdBQUExRCxHQUNBM2IsR0FBQWxuRCxVQUFBMmlFLE1BbGdRQSxXQUNBLE9BQUFBLEdBQUFqaEUsT0FrZ1FBd2xELEdBQUFsbkQsVUFBQW8xRSxPQXIrUEEsV0FDQSxXQUFBL3RCLEdBQUEzbEQsS0FBQXJDLFFBQUFxQyxLQUFBb21ELFlBcStQQVosR0FBQWxuRCxVQUFBK2xFLEtBNThQQSxXQUNBcmtFLEtBQUFzbUQsYUFBQTE4QixJQUNBNXBCLEtBQUFzbUQsV0FBQThkLEdBQUFwa0UsS0FBQXJDLFVBRUEsSUFBQXNSLEVBQUFqUCxLQUFBcW1ELFdBQUFybUQsS0FBQXNtRCxXQUFBNW1ELE9BR0EsT0FBY3VQLE9BQUF0UixNQUZkc1IsRUFBQTJhLEVBQUE1cEIsS0FBQXNtRCxXQUFBdG1ELEtBQUFxbUQsZUF3OFBBYixHQUFBbG5ELFVBQUE0N0QsTUFyNVBBLFNBQUF2OEQsR0FJQSxJQUhBLElBQUE0d0IsRUFDQTFnQixFQUFBN04sS0FFQTZOLGFBQUFtNEMsSUFBQSxDQUNBLElBQUE1ekIsRUFBQXd6QixHQUFBLzNDLEdBQ0F1a0IsRUFBQWkwQixVQUFBLEVBQ0FqMEIsRUFBQWswQixXQUFBMThCLEVBQ0EyRSxFQUNBdWxDLEVBQUE1TixZQUFBOXpCLEVBRUE3RCxFQUFBNkQsRUFFQSxJQUFBMGhDLEVBQUExaEMsRUFDQXZrQixJQUFBcTRDLFlBR0EsT0FEQTROLEVBQUE1TixZQUFBdm9ELEVBQ0E0d0IsR0FxNFBBaTNCLEdBQUFsbkQsVUFBQWdtRCxRQTkyUEEsV0FDQSxJQUFBM21ELEVBQUFxQyxLQUFBa21ELFlBQ0EsR0FBQXZvRCxhQUFBK25ELEdBQUEsQ0FDQSxJQUFBaXVCLEVBQUFoMkUsRUFVQSxPQVRBcUMsS0FBQW1tRCxZQUFBem1ELFNBQ0FpMEUsRUFBQSxJQUFBanVCLEdBQUExbEQsUUFFQTJ6RSxJQUFBcnZCLFdBQ0E2QixZQUFBOS9DLE1BQ0E4UCxLQUFBeWpELEdBQ0FqOUIsTUFBQTJuQixJQUNBcFUsUUFBQXRtQixJQUVBLElBQUErN0IsR0FBQWd1QixFQUFBM3pFLEtBQUFvbUQsV0FFQSxPQUFBcG1ELEtBQUE0NUQsS0FBQXRWLEtBZzJQQWtCLEdBQUFsbkQsVUFBQXMxRSxPQUFBcHVCLEdBQUFsbkQsVUFBQWduRCxRQUFBRSxHQUFBbG5ELFVBQUFYLE1BLzBQQSxXQUNBLE9BQUEyNEQsR0FBQXQyRCxLQUFBa21ELFlBQUFsbUQsS0FBQW1tRCxjQWkxUEFYLEdBQUFsbkQsVUFBQTh6RSxNQUFBNXNCLEdBQUFsbkQsVUFBQXVoRSxLQUVBbGQsS0FDQTZDLEdBQUFsbkQsVUFBQXFrRCxJQXo3UEEsV0FDQSxPQUFBM2lELE9BMDdQQXdsRCxHQU1BM0UsR0FRQTVkLEdBQUEyZCxNQUlBaGIsRUFBQSxXQUNBLE9BQUFnYixJQUNLL2pELEtBQUFMLEVBQUFGLEVBQUFFLEVBQUFDLE1BQUFtdEIsSUFBQW50QixFQUFBRCxRQUFBb3BDLEtBYUovb0MsS0FBQW1ELHNkQ2h0aEJELElBQUFzVCxFQUFBaFgsRUFBQSxHQUNBd08sRUFBQXhPLEVBQUEsR0FDQSs5QixFQUFBLzlCLEVBQUEsR0FDQWlYLEVBQUFqWCxFQUFBLEdBRUF1M0UsRUFBQXYzRSxFQUFBLElBR0F5TyxFQUFBek8sRUFBQSxHQUNBMnBCLEVBQUEzcEIsRUFBQSxHQUVBdzNFLEVBQUEsU0FBQTF1RSxHQTRCSSxTQUFBMHVFLEVBQW1CNW9FLEVBQWlDaUwsRUFBc0J3bUIsRUFBa0NyckIsR0FBNUcsSUFBQWpNLEVBQ0lELEVBQUF2SSxLQUFBbUQsS0FBTWtMLElBQVFsTCxLQUVkcUYsRUFBSzhRLEtBQU9BLEVBQ1o5USxFQUFLczNCLEtBQU9rM0MsRUFBQXpoRCxNQUFNdUssR0FDbEJ0M0IsRUFBS2lNLFNBQVdBLEVBcUJoQixJQUFJL0gsRUFBYWxFLEVBQUs4USxLQUFLL1UsS0FBS21JLGtCQUN6QkEsYUFBc0JnSyxFQUFBcFAsVUFBZW9GLGFBQXNCZ0ssRUFBQTFSLGdCQUM5RHdELEVBQUswdUUsb0JBQXNCMXVFLEVBQUtpTCxzQkFBc0IvRyxHQUFhbEUsRUFBSzhRLEtBQUtsWixNQUFRLFdBQWEsZ0JBS3RHb0ksRUFBSzZGLFFBQVFDLGdCQUFnQjZvRSxxQkFBcUIzdUUsS0FnRjFELE9BN0lrQ0ksRUFBQXF1RSxFQUFBMXVFLEdBMkh2QjB1RSxFQUFBeDFFLFVBQUEyMUUsMEJBQVAsU0FBOEpwbUUsR0FDMUosT0FBTyxJQUFJcW1FLEVBQXVCbDBFLEtBQU02TixJQWlCaERpbUUsRUE3SUEsQ0FBa0N4Z0UsRUFBQTNELHlCQUFyQm5ULEVBQUFzM0UsZUF1SmIsSUFBTUssRUFBMkIsRUFFM0JDLEVBQTJCLEVBRWpDRixFQUFBLFNBQUE5dUUsR0FjSSxTQUFBOHVFLEVBQW9Cbm1FLEVBQWdDRixHQUFwRCxJQUFBeEksRUFDSUQsRUFBQXZJLEtBQUFtRCxLQUFNK04sRUFBTyxPQUFRRixJQUFPN04sS0FIeEJxRixFQUFBZ04sTUFBdUo4aEUsRUFTM0osSUFBSUUsRUFBNkNodkUsRUFBSzBJLE1BQU1vSSxLQUFLcUwsWUFHakVuYyxFQUFLaXZFLGdCQUFrQmp2RSxFQUFLMEksTUFBTXVtRSxnQkFBZ0JqdEUsSUFBSSxTQUFDa3RFLEdBQVUsT0FBQUEsRUFBTWxoRSx5QkFBeUJoTyxLQU9oR0EsRUFBS2lNLFNBQVdqTSxFQUFLMEksTUFBTXVELFVBQVlqTSxFQUFLMEksTUFBTXVELFNBQVNtQixjQUFjcE4sR0FDekVBLEVBQUttZCxlQUFpQjZ4RCxFQUFZM3hDLHNCQUFzQnI5QixFQUFNQSxFQUFLaU0sVUFHL0RqTSxFQUFLMEksTUFBTWdtRSxzQkFFMkIxdUUsRUFBS21kLGVBQ3hDelEsZ0JBQWdCMU0sRUFBSzBJLE1BQU1nbUUsb0JBQW9CM3hELGVBQWUvYyxXQUVyRUEsRUFBS2dOLE1BQVEraEUsSUF5Q3JCLE9BakY4RjN1RSxFQUFBeXVFLEVBQUE5dUUsR0EyQ2hGOHVFLEVBQUE1MUUsVUFBQTBRLFdBQVYsV0FDSSxHQS9DOEIsSUErQzFCaFAsS0FBS3FTLE1BR0wsSUFBSSxJQUFJM1YsRUFBSXNELEtBQUtzMEUsZ0JBQWdCNTBFLE9BQU8sRUFBR2hELEdBQUssSUFBS0EsRUFDakRzRCxLQUFLbU4sSUFBSTlHLEtBQUtyRyxLQUFLczBFLGdCQUFnQjUzRSxTQWpEaEIsSUFvRGxCc0QsS0FBS3FTLFFBQ1ZyUyxLQUFLd2lCLGVBQWV0USxjQUNwQmxTLEtBQUt5TywwQkFBMEJ3RCxjQUMvQmpTLEtBQUtpUCxPQUNMalAsS0FBS21OLElBQUlnRixRQUlQK2hFLEVBQUE1MUUsVUFBQXdRLGdCQUFWLFdBQ1E5TyxLQUFLcVMsUUFBVThoRSxHQUlmbjBFLEtBQUt3aUIsZUFBZTlRLGlCQUNwQjFSLEtBQUtxUyxNQXBFcUIsR0FzRXJCclMsS0FBS3FTLFFBQVUraEUsSUFFcEJwMEUsS0FBS3lPLDBCQUEwQnlELGNBQy9CbFMsS0FBS21OLElBQUk5RyxLQUFLckcsS0FBS3dpQixnQkFDbkJ4aUIsS0FBS3dpQixlQUFldlEsY0FDcEJqUyxLQUFLc1IsVUFBWXRSLEtBQUtzUixTQUFTdW5CLGVBRy9CNzRCLEtBQUtrTyxXQUFXVyxLQUFLLFNBQVU3TyxLQUFLd2lCLGdCQUVwQ3hpQixLQUFLcVMsTUE5RWtCLElBa0ZuQzZoRSxFQWpGQSxDQUE4RjVnRSxFQUFBM0MsZ0NBQWpGblUsRUFBQTAzRSxzQkFnR2IsSUFBQW5yRCxFQUFBLFNBQUEzakIsR0FTSSxTQUFBMmpCLEVBQW1CN2QsRUFBNEIwUSxFQUFxQitnQixHQUFwRSxJQUFBdDNCLEVBQ0lELEVBQUF2SSxLQUFBbUQsS0FBTWtMLElBQVFsTCxLQU9kLE9BTEFxRixFQUFLK0csT0FBTy9HLEVBQUt1VyxRQUFVQSxHQUMzQnZXLEVBQUtzM0IsS0FBT0EsRUFDWkEsRUFBS253QixRQUFRLFNBQUN1d0IsR0FBUSxPQUFBMTNCLEVBQUsrRyxPQUFPMndCLEtBRzdCOVcsRUFBQXNSLGFBQWFvRixHQUtaL2dCLGFBQW1CeWUsRUFBQS9RLHFCQUtwQjFOLEVBQVE1RixPQUtQNEYsRUFBUTVGLGtCQUFrQmxMLEVBQUFvVixnQkFNaEM3YSxFQUFLakUsS0FBT21TLEVBQUFwSyxNQUFNeVMsRUFBUTVGLE9BQU81VSxLQUFLbUksWUFFdENsRSxFQUFLd2tCLGNBQWdCak8sRUFBUTVGLE9BQU81VSxLQUFLbUksc0JBQXNCZ0ssRUFBQTFSLGNBQWdCLFNBQVcsVUFLMUZ3RCxFQUFLeEksS0FBTyxJQUFJaTNFLEVBQWE1b0UsRUFBUzBRLEVBQVE1RixPQUErRDJtQixPQVh6R3QzQixFQUFLaUksUUFBUXZDLEVBQUE2SCxTQUFTZ0ksS0FBS3dDLGFBQWF4QixRQUFRdlcsRUFBTXVXLEVBQVE1RixlQVg5RDNRLEVBQUtpSSxRQUFRdkMsRUFBQTZILFNBQVNnSSxLQUFLd0MsYUFBYUcsMkJBQTJCbFksRUFBTXVXLFNBbURyRixPQTFFNENuVyxFQUFBc2pCLEVBQUEzakIsR0FnRDFCMmpCLEVBQUFsQyxjQUFkLFNBQTRCbmEsRUFBb0N4QixHQUM1RCxJQUFJeXhCLEVBQU9qd0IsRUFBSWl3QixLQUFLdDFCLElBQUksU0FBQTAxQixHQUFPLE9BQUExQyxFQUFBM1Esd0JBQXdCcVQsRUFBSzd4QixLQUN4RHNwRSxFQUF1QjczQyxFQUFLdDFCLElBQUksU0FBQTAxQixHQUFPLE9BQUFBLEVBQUkzN0IsT0FDL0MsT0FBTyxJQUFJMm5CLEVBQXVCN2QsRUFDOUJtdkIsRUFBQTNRLHdCQUF3QmhkLEVBQUlrUCxRQUFTdEksRUFBQWhJLHdCQUF3QkosRUFBU3NwRSxJQUN0RTczQyxJQUtENVQsRUFBQXpxQixVQUFBd3JCLHdCQUFQLFNBQXlHamMsR0FDckcsT0FBTyxJQUFJNG1FLEVBQThCejBFLEtBQU02TixJQUk1Q2tiLEVBQUF6cUIsVUFBQXlyQixtQkFBUCxTQUEwQkMsR0FDdEIsTUFBTSxJQUFJanJCLE1BQU0sNEJBVXhCZ3FCLEVBMUVBLENBQTRDOUMsRUFBQWdFLFlBQS9CenRCLEVBQUF1c0IseUJBd0ZiLElBQU0yckQsRUFBeUMsRUFHL0NELEVBQUEsU0FBQXJ2RSxHQVFJLFNBQUFxdkUsRUFBb0IxbUUsRUFBMkNGLEdBQS9ELElBQUF4SSxFQUNJRCxFQUFBdkksS0FBQW1ELEtBQU0rTixFQUFPRixJQUFPN04sWUFIaEJxRixFQUFBZ04sTUFBb0pxaUUsRUFJeEpydkUsRUFBS3VXLFFBQVV2VyxFQUFLMEksTUFBTTZOLFFBQVFrTyx3QkFBd0J6a0IsR0FDMURBLEVBQUtzM0IsS0FBT3QzQixFQUFLMEksTUFBTTR1QixLQUFLdDFCLElBQUksU0FBQzAxQixHQUFRLE9BQUFBLEVBQUlqVCx3QkFBd0J6a0IsS0FDckVBLEVBQUt4SSxLQUFPd0ksRUFBSzBJLE1BQU1sUixLQUFLbzNFLDBCQUEwQjV1RSxLQXdDOUQsT0FwRHlHSSxFQUFBZ3ZFLEVBQUFydkUsR0FlOUZxdkUsRUFBQW4yRSxVQUFBMFEsV0FBVixXQUNPLEdBQUloUCxLQUFLcVMsUUFBVXFpRSxFQUNmMTBFLEtBQUttTixJQUFJOUcsS0FBS3JHLEtBQUs0YixTQUNuQjViLEtBQUtxUyxNQXBCMkIsTUFzQi9CLElBdEIrQixJQXNCM0JyUyxLQUFLcVMsTUFHVixPQUZBclMsS0FBS21OLElBQUk5RyxLQUFLckcsS0FBS25ELE1BQ25CbUQsS0FBS3FTLE1BdkI2QixHQXdCM0IsRUFFTixHQTFCaUMsSUEwQjdCclMsS0FBS3FTLE1BQWtELENBSzVELEdBSklyUyxLQUFLK04sTUFBTTNNLEtBQWdCbVMsRUFBQXBQLFNBSTNCbkUsS0FBSytOLE1BQU1vcEIsbUJBRVhuM0IsS0FBS3lxQixjQUFxRXpxQixLQUFLbkQsS0FBSzJsQixlQUFleFEsbUJBRWxHLEdBQUloUyxLQUFLK04sTUFBTWtwQixnQkFBaUIsQ0FHakMsSUFBSTA5QyxFQUF5QzMwRSxLQUFLbkQsS0FBSzJsQixlQUFleFEsYUFDdEVoUyxLQUFLeXFCLGNBQXFFa3FELEVBQU9uOEMsaUJBS2pGeDRCLEtBQUt5cUIsY0FBcUV6cUIsS0FBS25ELEtBQUsybEIsZUFBZXhRLGNBRXZHaFMsS0FBS21OLElBQUlnRixTQUlQc2lFLEVBQUFuMkUsVUFBQXdRLGdCQUFWLGFBR0oybEUsRUFwREEsQ0FBeUd4dUQsRUFBQXFFLG1CQUE1Rjl0QixFQUFBaTRFLCtHQ2pXYixJQUFBenBFLEVBQUExTyxFQUFBLEdBRUF1cEIsRUFBQXZwQixFQUFBLEdBQ0FnWCxFQUFBaFgsRUFBQSxHQUNBb0UsRUFBQXBFLEVBQUEsR0FDQXVqQixFQUFBdmpCLEVBQUEsR0FDQWlYLEVBQUFqWCxFQUFBLElBSUEsU0FBWWtxQixHQUNSQSxFQUFBLHdDQUNBQSxFQUFBLDRDQUNBQSxFQUFBLGtFQUNBQSxFQUFBLDBCQUNBQSxFQUFBLHNDQUNBQSxFQUFBLGNBTkosQ0FBWWhxQixFQUFBZ3FCLGtCQUFBaHFCLEVBQUFncUIscUJBVVosSUFBQW91RCxFQUFBLFdBMkNJLFNBQUFBLEVBQVlsakQsR0F6Q0kxeEIsS0FBQWtPLFdBQWEsSUFBSWxELEVBQUFtRCxXQUFXbk8sTUFTNUJBLEtBQUFJLE9BQVMsSUFBSU0sRUFBQVgsVUFTckJDLEtBQUE2MEUsV0FBWSxFQUVINzBFLEtBQUE4MEUsaUJBR2JDLHNCQUNBQyx3QkFDQUMsbUNBQ0FDLGVBQ0FDLHFCQUNBQyxVQUdZcDFFLEtBQUFxMUUsZUFFWnIxRSxLQUFLODBFLGdCQThCTzkwRSxLQUFBczFFLFVBQVcsRUFyQnZCdDFFLEtBQUsweEIsUUFBVUEsRUFLZjF4QixLQUFLNFIsT0FBUyxJQUFJaVUsRUFBQW9OLE9BR2xCanpCLEtBQUt1MUUsVUFBWXYxRSxLQUFLdzFFLGNBRXRCeDFFLEtBQUt5MUUsZUFDTHoxRSxLQUFLMDFFLGVBQWlCLEVBRXRCMTFFLEtBQUtzMUUsVUFBVyxFQUNoQnQxRSxLQUFLMk8sV0FBYSxFQUNsQjNPLEtBQUsyMUUsT0FBUSxFQUViMzFFLEtBQUtnTixRQXdoQmIsT0FqaEJXNG5FLEVBQUF0MkUsVUFBQTBPLE1BQVAsV0FDSWhOLEtBQUs0MUUseUJBT0w1MUUsS0FBSzYxRSxXQUNMNzFFLEtBQUtxRyxLQUFLckcsS0FBSzB4QixRQUFRb2tELHNCQUFzQmxsRSx1QkFBdUI1USxPQUVwRUEsS0FBS2tPLFdBQVdXLEtBQUssV0FHckI3TyxLQUFLK08sVUFHRDZsRSxFQUFBdDJFLFVBQUF1M0UsU0FBUixXQUNvQjcxRSxLQUFNKzFFLGlCQUFtQixJQUFJbDJELEVBQUFvWixpQkFBaUJqNUIsS0FBSzRSLFFBQ25ENVIsS0FBTWcyRSxhQUFlLElBQUkxaUUsRUFBQWpDLGdCQUFnQnJSLEtBQUsweEIsUUFBUXNrRCxhQUFjaDJFLE1BQ3BGQSxLQUFLZzJFLGFBQWFqa0UsZ0JBQWdCL1IsS0FBSysxRSxrQkFDdkMvMUUsS0FBS2cyRSxhQUFhdGtFLGlCQUNsQjFSLEtBQUtxRyxLQUFLckcsS0FBS2cyRSxjQUNmaDJFLEtBQUtnMkUsYUFBYS9qRSxlQUdmMmlFLEVBQUF0MkUsVUFBQStILEtBQVAsU0FBWXlLLEdBQ1I5USxLQUFLdzFFLFdBQVdudkUsS0FBS3lLLEdBQ3JCQSxFQUFHekIsU0FDSHJQLEtBQUtrTyxXQUFXVyxLQUFLLFNBQVVpQyxJQUc1QjhqRSxFQUFBdDJFLFVBQUEyM0IsSUFBUCxXQUNJLEdBQUlqMkIsS0FBS3UxRSxVQUFVNzFFLE9BQVMsRUFDeEIsT0FBT00sS0FBS3UxRSxVQUFVdjFFLEtBQUt1MUUsVUFBVTcxRSxPQUFTLElBUS9DazFFLEVBQUF0MkUsVUFBQTZULElBQVAsV0FRSSxPQVBhblMsS0FBS3cxRSxXQUFXcmpFLE9BVzFCeWlFLEVBQUF0MkUsVUFBQTZtQyxTQUFQLFNBQWdCcjBCLEdBQ1osS0FBTTlRLEtBQUt3MUUsV0FBVzkxRSxPQUFTLEdBQUtNLEtBQUt3MUUsV0FBV3gxRSxLQUFLdzFFLFdBQVc5MUUsT0FBUyxLQUFPb1IsR0FDaEY5USxLQUFLbVMsT0FJTnlpRSxFQUFBdDJFLFVBQUFva0IsWUFBUCxXQUNJLElBQUssSUFBSWhtQixFQUFJc0QsS0FBS3UxRSxVQUFVNzFFLE9BQVMsRUFBR2hELEdBQUssSUFBS0EsRUFBRyxDQUNqRCxJQUFJdTVFLEVBQW1CajJFLEtBQUt1MUUsVUFBVTc0RSxHQUN0QyxHQUFJdTVFLGFBQTRCM2lFLEVBQUFqQyxnQkFDNUIsT0FBTzRrRSxJQUtYckIsRUFBQXQyRSxVQUFBczNFLHVCQUFSLGVBQUF2d0UsRUFBQXJGLEtBQ1FrMkUsRUFBTWwyRSxLQUFLMHhCLFFBQVF5a0QsaUJBQ3ZCLElBQUksSUFBSUMsS0FBVUYsRUFDZEEsRUFBSUUsR0FBUUMsZUFBZTdwRSxRQUFRLFNBQUM4cEUsR0FBVWp4RSxFQUFLdU0sT0FBTzhqQixzQkFBc0I0Z0QsTUFJcEYxQixFQUFBdDJFLFVBQUFzUSxZQUFQLFNBQW1CelEsUUFBQSxJQUFBQSxNQUFBLEdBRVosSUFBSSxJQUFJekIsRUFBSSxHQUFJc0QsS0FBSzIxRSxPQUFTajVFLEVBQUl5QixJQUFLekIsRUFDbkNzRCxLQUFLdTJFLGVBR1R2MkUsS0FBS2tPLFdBQVdXLEtBQUssZ0JBQWlCN08sS0FBS3UxRSxVQUFVNzFFLE9BQVMsR0FBS00sS0FBS3UxRSxVQUFVdjFFLEtBQUt1MUUsVUFBVTcxRSxPQUFTLEtBR3RHazFFLEVBQUF0MkUsVUFBQWk0RSxhQUFSLFdBR0ksSUFBSXpsRSxFQUFLOVEsS0FBS2kyQixNQUVUbmxCLElBS0w5USxLQUFLa08sV0FBV1csS0FBSyxxQkFBc0JpQyxHQUFJQSxJQUMvQ0EsRUFBR2xDLGNBQ0g1TyxLQUFLa08sV0FBV1csS0FBSyxvQkFBcUJpQyxHQUFJQSxNQUU1QjlRLEtBQU0yTyxXQUt4QjNPLEtBQUsrTyxXQUlKNmxFLEVBQUF0MkUsVUFBQXlRLE9BQVIsV0FFTyxPQUFZLENBR1IsSUFBSStCLEVBQUs5USxLQUFLaTJCLE1BR2QsSUFBS25sQixFQUdELE9BRmdCOVEsS0FBTTIxRSxPQUFRLE9BQzlCMzFFLEtBQUtrTyxXQUFXVyxLQUFLLFdBaUJ6QixHQVhBN08sS0FBS2tPLFdBQVdXLEtBQUssZ0JBQWlCaUMsR0FBSUEsSUFDMUNBLEVBQUcvQixTQUNIL08sS0FBS2tPLFdBQVdXLEtBQUssZUFBZ0IybkUsS0FBTTFsRSxJQVN4Q0EsSUFBTzlRLEtBQUtpMkIsTUFDWCxRQUtMMitDLEVBQUF0MkUsVUFBQW00RSxVQUFQLFdBQ0ksTUFBUXoyRSxLQUFLMjFFLE9BQ1QzMUUsS0FBSzRPLGVBaUxOZ21FLEVBQUF0MkUsVUFBQW80RSxLQUFQLFNBQVkvNEUsR0FFUixJQUFJOEIsRUFBTyxHQUNYLEdBQUc5QixFQUFNeUQsZ0JBQWdCbVMsRUFBQTVSLGFBQWVoRSxFQUFNeUQsS0FBS1EsaUJBQWlCMlIsRUFBQXhNLEtBR2hFLElBRkEsSUFBSStCLEVBQU9uTCxFQUFNMm9CLFNBQ2J2cEIsRUFBSWlELEtBQUs0UixPQUFPNmlCLFFBQVEzckIsSUFDcEJ5SyxFQUFBeE0sS0FBS0MsV0FBV2pLLElBQ3BCMEMsR0FBUTlCLEVBQU15RCxLQUFLUSxNQUFNMEUscUJBQXFCdkosR0FDOUNBLEVBQUlpRCxLQUFLNFIsT0FBTzZpQixVQUFVM3JCLFFBSTlCckosRUFBT2lCLEVBQUFsQixhQUFhN0IsRUFBTTJJLHdCQUU5QnF3RSxRQUFRQyxJQUFJLFNBQVduM0UsSUEwQnBCbTFFLEVBQUF0MkUsVUFBQWlvQixjQUFQLFNBQXFCc3dELEVBQXdCLzNFLEVBQWlCZzRFLEdBQzFEOTJFLEtBQUs4MEUsZ0JBQWdCK0IsR0FBT3h3RSxLQUFLdkgsR0FFN0JnNEUsR0FDQTkyRSxLQUFLKzJFLE1BQU1qNEUsSUFJWjgxRSxFQUFBdDJFLFVBQUEwNEUsaUJBQVAsU0FBd0JILEdBQ3BCLE9BQU83MkUsS0FBS3ExRSxlQUFld0IsR0FBT24zRSxPQUFTLEdBR3ZDazFFLEVBQUF0MkUsVUFBQXk0RSxNQUFSLFNBQWNqNEUsR0FDTGtCLEtBQUs2MEUsV0FDTjcwRSxLQUFLa08sV0FBV1csS0FBSyxRQUFTL1AsSUEySjFDODFFLEVBcmxCQSxHQUFhcDRFLEVBQUFvNEUsNEJDRGJuNEUsRUFBQUQsUUFMQSxTQUFBZ2EsR0FDQSxJQUFBOVcsRUFBQSxNQUFBOFcsRUFBQSxFQUFBQSxFQUFBOVcsT0FDQSxPQUFBQSxFQUFBOFcsRUFBQTlXLEVBQUEsUUFBQWtxQixrQkNHQW50QixFQUFBRCxRQVhBLFNBQUFtUSxFQUFBNkosR0FDQSxJQUFBbkUsR0FBQSxFQUNBM1MsRUFBQWlOLEVBQUFqTixPQUdBLElBREE4VyxNQUFBK0osTUFBQTdnQixNQUNBMlMsRUFBQTNTLEdBQ0E4VyxFQUFBbkUsR0FBQTFGLEVBQUEwRixHQUVBLE9BQUFtRSxrQkNIQS9aLEVBQUFELFFBTkEsU0FBQTJaLEdBQ0EsZ0JBQUF4WSxHQUNBLE9BQUF3WSxFQUFBeFksb0JDYUFsQixFQUFBRCxRQVpBLFNBQUFnYSxFQUFBN1ksRUFBQWswQyxFQUFBYixHQUlBLElBSEEsSUFBQTMrQixFQUFBdy9CLEVBQUEsRUFDQW55QyxFQUFBOFcsRUFBQTlXLFNBRUEyUyxFQUFBM1MsR0FDQSxHQUFBc3hDLEVBQUF4NkIsRUFBQW5FLEdBQUExVSxHQUNBLE9BQUEwVSxFQUdBLHlCQ0dBNVYsRUFBQUQsUUFaQSxTQUFBZ2EsRUFBQTdZLEVBQUFrMEMsR0FJQSxJQUhBLElBQUF4L0IsRUFBQXcvQixFQUFBLEVBQ0FueUMsRUFBQThXLEVBQUE5VyxTQUVBMlMsRUFBQTNTLEdBQ0EsR0FBQThXLEVBQUFuRSxLQUFBMVUsRUFDQSxPQUFBMFUsRUFHQSx5QkNSQTVWLEVBQUFELFFBSkEsU0FBQW1CLEdBQ0EsT0FBQUEscUJDZUFsQixFQUFBRCxRQVpBLFNBQUFnYSxFQUFBazZCLEVBQUFtQixFQUFBQyxHQUlBLElBSEEsSUFBQXB5QyxFQUFBOFcsRUFBQTlXLE9BQ0EyUyxFQUFBdy9CLEdBQUFDLEVBQUEsTUFFQUEsRUFBQXovQixRQUFBM1MsR0FDQSxHQUFBZ3hDLEVBQUFsNkIsRUFBQW5FLEtBQUFtRSxHQUNBLE9BQUFuRSxFQUdBLDJCQ3BCQSxJQUFBdS9CLEVBQUF0MUMsRUFBQSxJQUNBMDFDLEVBQUExMUMsRUFBQSxJQUNBeTFDLEVBQUF6MUMsRUFBQSxJQWlCQUcsRUFBQUQsUUFOQSxTQUFBZ2EsRUFBQTdZLEVBQUFrMEMsR0FDQSxPQUFBbDBDLEtBQ0FvMEMsRUFBQXY3QixFQUFBN1ksRUFBQWswQyxHQUNBRCxFQUFBcDdCLEVBQUF3N0IsRUFBQUgsbUJDSUFwMUMsRUFBQUQsUUFYQSxTQUFBZ2EsRUFBQTY1QixHQUtBLElBSkEsSUFBQWgrQixHQUFBLEVBQ0EzUyxFQUFBLE1BQUE4VyxFQUFBLEVBQUFBLEVBQUE5VyxPQUNBNnVCLEVBQUFoTyxNQUFBN2dCLEtBRUEyUyxFQUFBM1MsR0FDQTZ1QixFQUFBbGMsR0FBQWcrQixFQUFBNzVCLEVBQUFuRSxLQUFBbUUsR0FFQSxPQUFBK1gsb0JDakJBLElBQUEwaUIsRUFBQTMwQyxFQUFBLElBQ0F3MEMsRUFBQXgwQyxFQUFBLElBQ0EyMUMsRUFBQTMxQyxFQUFBLElBQ0FrMkMsRUFBQWwyQyxFQUFBLElBQ0EyckQsRUFBQTNyRCxFQUFBLElBTUFrbUQsRUFIQWppQyxNQUFBamlCLFVBR0Fra0QsT0F3Q0EvbEQsRUFBQUQsUUEzQkEsU0FBQWdhLEVBQUF5ZSxFQUFBb2IsRUFBQVcsR0FDQSxJQUFBcnFDLEVBQUFxcUMsRUFBQWlCLEVBQUFuQixFQUNBeitCLEdBQUEsRUFDQTNTLEVBQUF1MUIsRUFBQXYxQixPQUNBc3ZELEVBQUF4NEMsRUFRQSxJQU5BQSxJQUFBeWUsSUFDQUEsRUFBQWd6QixFQUFBaHpCLElBRUFvYixJQUNBMmUsRUFBQS9kLEVBQUF6NkIsRUFBQWc4QixFQUFBbkMsT0FFQWgrQixFQUFBM1MsR0FLQSxJQUpBLElBQUFteUMsRUFBQSxFQUNBbDBDLEVBQUFzM0IsRUFBQTVpQixHQUNBMDVDLEVBQUExYixJQUFBMXlDLE1BRUFrMEMsRUFBQWxyQyxFQUFBcW9ELEVBQUFqRCxFQUFBbGEsRUFBQWIsS0FBQSxHQUNBZ2UsSUFBQXg0QyxHQUNBZ3NDLEVBQUEzbEQsS0FBQW15RCxFQUFBbmQsRUFBQSxHQUVBMlEsRUFBQTNsRCxLQUFBMlosRUFBQXE3QixFQUFBLEdBR0EsT0FBQXI3QixvQkMvQ0EsSUFBQW05QyxFQUFBcjNELEVBQUEsSUE0QkFHLEVBQUFELFFBTkEsU0FBQWdhLEVBQUF5ZSxHQUNBLE9BQUF6ZSxLQUFBOVcsUUFBQXUxQixLQUFBdjFCLE9BQ0FpMEQsRUFBQW45QyxFQUFBeWUsR0FDQXplLGtCQ3hCQSxJQUFBNHdCLEVBQUEsSUFDQUMsRUFBQSxHQUdBNmMsRUFBQWxELEtBQUFrQyxJQStCQXptRCxFQUFBRCxRQXBCQSxTQUFBMlosR0FDQSxJQUFBNG9ELEVBQUEsRUFDQUMsRUFBQSxFQUVBLGtCQUNBLElBQUFDLEVBQUEvYSxJQUNBZ2IsRUFBQTczQixHQUFBNDNCLEVBQUFELEdBR0EsR0FEQUEsRUFBQUMsRUFDQUMsRUFBQSxHQUNBLEtBQUFILEdBQUEzM0IsRUFDQSxPQUFBN2hDLFVBQUEsUUFHQXc1RCxFQUFBLEVBRUEsT0FBQTVvRCxFQUFBN1EsV0FBQXNrQixFQUFBcmtCLDRCQ3BCQTlJLEVBQUFELFFBSkEsU0FBQTRCLEVBQUFILEdBQ0EsYUFBQUcsT0FBQXdyQixFQUFBeHJCLEVBQUFILG1CQ1JBLElBR0FxakQsRUFIQTFlLFNBQUF0a0MsVUFHQXNFLFNBcUJBbkcsRUFBQUQsUUFaQSxTQUFBMlosR0FDQSxTQUFBQSxFQUFBLENBQ0EsSUFDQSxPQUFBbXJDLEVBQUF6a0QsS0FBQXNaLEdBQ0ssTUFBQTBxQixJQUNMLElBQ0EsT0FBQTFxQixFQUFBLEdBQ0ssTUFBQTBxQixLQUVMLDJCQ3RCQSxJQUdBd2dCLEVBSEEva0QsRUFBQSxJQUdBLHNCQUVBRyxFQUFBRCxRQUFBNmtELG1CQ0xBLElBQUFBLEVBQUEva0QsRUFBQSxJQUdBa2xELEVBQUEsV0FDQSxJQUFBQyxFQUFBLFNBQUFDLEtBQUFMLEtBQUFNLE1BQUFOLEVBQUFNLEtBQUFDLFVBQUEsSUFDQSxPQUFBSCxFQUFBLGlCQUFBQSxFQUFBLEdBRkEsR0FnQkFobEQsRUFBQUQsUUFKQSxTQUFBMlosR0FDQSxRQUFBcXJDLFFBQUFyckMsa0JDZkEsSUFPQTByQyxFQVBBemtELE9BQUFrQixVQU9Bc0UsU0FhQW5HLEVBQUFELFFBSkEsU0FBQW1CLEdBQ0EsT0FBQWtrRCxFQUFBaGxELEtBQUFjLHFCQ2xCQSxJQUFBRixFQUFBbkIsRUFBQSxJQUdBOGtELEVBQUFoa0QsT0FBQWtCLFVBR0FDLEVBQUE2aUQsRUFBQTdpRCxlQU9Bc2pELEVBQUFULEVBQUF4K0MsU0FHQWlnRCxFQUFBcGxELElBQUFDLGlCQUFBa3NCLEVBNkJBbnRCLEVBQUFELFFBcEJBLFNBQUFtQixHQUNBLElBQUF1d0QsRUFBQTN2RCxFQUFBMUIsS0FBQWMsRUFBQWtsRCxHQUNBZ0gsRUFBQWxzRCxFQUFBa2xELEdBRUEsSUFDQWxsRCxFQUFBa2xELFFBQUFqNUIsRUFDQSxJQUFBdWtDLEdBQUEsRUFDRyxNQUFBdHRCLElBRUgsSUFBQXRTLEVBQUFzekIsRUFBQWhsRCxLQUFBYyxHQVFBLE9BUEF3d0QsSUFDQUQsRUFDQXZ3RCxFQUFBa2xELEdBQUFnSCxTQUVBbHNELEVBQUFrbEQsSUFHQXQwQixxQkMxQ0EsU0FBQW9nQixHQUNBLElBQUE1TCxFQUFBLGlCQUFBNEwsUUFBQXZ4QyxpQkFBQXV4QyxFQUVBbHlDLEVBQUFELFFBQUF1bUMsc0NDSEEsSUFBQXRsQyxFQUFBbkIsRUFBQSxJQUNBOHhELEVBQUE5eEQsRUFBQSxJQUNBK3hELEVBQUEveEQsRUFBQSxJQUdBcXNDLEVBQUEsZ0JBQ0FPLEVBQUEscUJBR0EyWixFQUFBcGxELElBQUFDLGlCQUFBa3NCLEVBa0JBbnRCLEVBQUFELFFBVEEsU0FBQW1CLEdBQ0EsYUFBQUEsT0FDQWlzQixJQUFBanNCLEVBQUF1ckMsRUFBQVAsRUFFQWthLFFBQUF6bEQsT0FBQU8sR0FDQXl3RCxFQUFBendELEdBQ0Ewd0QsRUFBQTF3RCxxQkN4QkEsSUFBQXN3RCxFQUFBM3hELEVBQUEsSUFDQXlwRCxFQUFBenBELEVBQUEsSUFHQTRyQyxFQUFBLHlCQUNBSyxFQUFBLG9CQUNBQyxFQUFBLDZCQUNBSyxFQUFBLGlCQTZCQXBzQyxFQUFBRCxRQVZBLFNBQUFtQixHQUNBLElBQUFvb0QsRUFBQXBvRCxHQUNBLFNBSUEsSUFBQWtzRCxFQUFBb0UsRUFBQXR3RCxHQUNBLE9BQUFrc0QsR0FBQXRoQixHQUFBc2hCLEdBQUFyaEIsR0FBQXFoQixHQUFBM2hCLEdBQUEyaEIsR0FBQWhoQixvQkNqQ0EsSUFBQTRrQixFQUFBbnhELEVBQUEsSUFDQTQwRCxFQUFBNTBELEVBQUEsSUFDQXlwRCxFQUFBenBELEVBQUEsSUFDQXlvRCxFQUFBem9ELEVBQUEsSUFTQXN2QyxFQUFBLDhCQUdBdVYsRUFBQXZlLFNBQUF0a0MsVUFDQThpRCxFQUFBaGtELE9BQUFrQixVQUdBZ2pELEVBQUFILEVBQUF2K0MsU0FHQXJFLEVBQUE2aUQsRUFBQTdpRCxlQUdBeWpELEVBQUExWCxPQUFBLElBQ0FnWCxFQUFBemtELEtBQUEwQixHQUFBb0IsUUFqQkEsc0JBaUJBLFFBQ0FBLFFBQUEsdUVBbUJBbEQsRUFBQUQsUUFSQSxTQUFBbUIsR0FDQSxTQUFBb29ELEVBQUFwb0QsSUFBQXV6RCxFQUFBdnpELE1BR0E4dkQsRUFBQTl2RCxHQUFBcWtELEVBQUFwVyxHQUNBMFQsS0FBQXlGLEVBQUFwbkQsc0JDM0NBLElBQUFzekQsRUFBQTMwRCxFQUFBLElBQ0FrOEIsRUFBQWw4QixFQUFBLElBZUFHLEVBQUFELFFBTEEsU0FBQTRCLEVBQUFILEdBQ0EsSUFBQU4sRUFBQTY2QixFQUFBcDZCLEVBQUFILEdBQ0EsT0FBQWd6RCxFQUFBdHpELFVBQUFpc0Isb0JDYkEsSUFBQWs1QixFQUFBeG1ELEVBQUEsSUFFQWUsRUFBQSxXQUNBLElBQ0EsSUFBQThZLEVBQUEyc0MsRUFBQTFsRCxPQUFBLGtCQUVBLE9BREErWSxLQUFXLE9BQ1hBLEVBQ0csTUFBQTBxQixLQUxILEdBUUFwa0MsRUFBQUQsUUFBQWEsaUJDZUFaLEVBQUFELFFBTkEsU0FBQW1CLEdBQ0Esa0JBQ0EsT0FBQUEscUJDckJBLElBQUE4MkQsRUFBQW40RCxFQUFBLElBQ0FlLEVBQUFmLEVBQUEsSUFDQTgwRCxFQUFBOTBELEVBQUEsSUFVQWs0RCxFQUFBbjNELEVBQUEsU0FBQThZLEVBQUFrcEMsR0FDQSxPQUFBaGlELEVBQUE4WSxFQUFBLFlBQ0EweUMsY0FBQSxFQUNBdnJELFlBQUEsRUFDQUssTUFBQTgyRCxFQUFBcFYsR0FDQXlKLFVBQUEsS0FMQXNJLEVBU0EzMEQsRUFBQUQsUUFBQWc0RCxtQkNyQkEsSUFBQUEsRUFBQWw0RCxFQUFBLElBV0E0M0QsRUFWQTUzRCxFQUFBLEdBVUFvaUUsQ0FBQWxLLEdBRUEvM0QsRUFBQUQsUUFBQTAzRCxpQkNPQXozRCxFQUFBRCxRQVZBLFNBQUEyWixFQUFBKzVCLEVBQUF2VCxHQUNBLE9BQUFBLEVBQUFqOUIsUUFDQSxjQUFBeVcsRUFBQXRaLEtBQUFxekMsR0FDQSxjQUFBLzVCLEVBQUF0WixLQUFBcXpDLEVBQUF2VCxFQUFBLElBQ0EsY0FBQXhtQixFQUFBdFosS0FBQXF6QyxFQUFBdlQsRUFBQSxHQUFBQSxFQUFBLElBQ0EsY0FBQXhtQixFQUFBdFosS0FBQXF6QyxFQUFBdlQsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsSUFFQSxPQUFBeG1CLEVBQUE3USxNQUFBNHFDLEVBQUF2VCxxQkNqQkEsSUFBQXIzQixFQUFBaEosRUFBQSxJQUdBMG5ELEVBQUF2akQsS0FBQUgsSUFnQ0E3RCxFQUFBRCxRQXJCQSxTQUFBMlosRUFBQW5KLEVBQUF5eUMsR0FFQSxPQURBenlDLEVBQUFnM0MsT0FBQXA2QixJQUFBNWMsRUFBQW1KLEVBQUF6VyxPQUFBLEVBQUFzTixFQUFBLEdBQ0EsV0FNQSxJQUxBLElBQUEydkIsRUFBQXAzQixVQUNBOE0sR0FBQSxFQUNBM1MsRUFBQXNrRCxFQUFBcm5CLEVBQUFqOUIsT0FBQXNOLEVBQUEsR0FDQXdKLEVBQUErSixNQUFBN2dCLEtBRUEyUyxFQUFBM1MsR0FDQThXLEVBQUFuRSxHQUFBc3FCLEVBQUEzdkIsRUFBQXFGLEdBRUFBLEdBQUEsRUFFQSxJQURBLElBQUFvc0QsRUFBQWwrQyxNQUFBdlQsRUFBQSxLQUNBcUYsRUFBQXJGLEdBQ0F5eEQsRUFBQXBzRCxHQUFBc3FCLEVBQUF0cUIsR0FHQSxPQURBb3NELEVBQUF6eEQsR0FBQXl5QyxFQUFBanBDLEdBQ0FsUixFQUFBNlEsRUFBQW5XLEtBQUF5K0Qsc0JDL0JBLElBQUFyTixFQUFBOTBELEVBQUEsSUFDQTYzRCxFQUFBNzNELEVBQUEsSUFDQTQzRCxFQUFBNTNELEVBQUEsSUFjQUcsRUFBQUQsUUFKQSxTQUFBMlosRUFBQW5KLEdBQ0EsT0FBQWtuRCxFQUFBQyxFQUFBaCtDLEVBQUFuSixFQUFBb2tELEdBQUFqN0MsRUFBQSxzQkNiQSxJQTBCQStwRCxFQTFCQTVqRSxFQUFBLEdBMEJBMjNELENBekJBMzNELEVBQUEsS0EyQkFHLEVBQUFELFFBQUEwakUsc2JDNkJBLElBQUErVyxFQUFBLFNBQUE3eEUsR0FpR0UsU0FBQTZ4RSxFQUFZbjRFLEVBQWlCbzRFLEVBQXlCQyxFQUFzQng0RCxHQUE1RSxJQUFBdFosRUFDRUQsRUFBQXZJLEtBQUFtRCxPQUFPQSxZQUNQcUYsRUFBS3ZHLFFBQVVBLEVBQ2Z1RyxFQUFLNnhFLFNBQVdBLEVBQ2hCN3hFLEVBQUs4eEUsTUFBUUEsRUFDYjl4RSxFQUFLc1osU0FBV0EsRUFDaEJ0WixFQUFLcEksS0FBTyxjQUVvQyxtQkFBcEM4QixNQUFjcTRFLG1CQUN2QnI0RSxNQUFjcTRFLGtCQUFrQi94RSxFQUFNNHhFLEtBRzdDLE9BN0dpQ3h4RSxFQUFBd3hFLEVBQUE3eEUsR0FDakI2eEUsRUFBQUksYUFBZCxTQUEyQkgsRUFBeUJDLEdBQ2xELFNBQVNHLEVBQUlDLEdBQ1gsT0FBT0EsRUFBR2p3RSxXQUFXLEdBQUcxRSxTQUFTLElBQUkwakUsY0FHdkMsU0FBU2tSLEVBQWMvNEUsR0FDckIsT0FBT0EsRUFDSmtCLFFBQVEsTUFBTyxRQUNmQSxRQUFRLEtBQU8sT0FDZkEsUUFBUSxNQUFPLE9BQ2ZBLFFBQVEsTUFBTyxPQUNmQSxRQUFRLE1BQU8sT0FDZkEsUUFBUSxNQUFPLE9BQ2ZBLFFBQVEsZUFBMkIsU0FBQzQzRSxHQUFPLGFBQVNELEVBQUlDLEtBQ3hENTNFLFFBQVEsd0JBQXlCLFNBQUM0M0UsR0FBTyxZQUFTRCxFQUFJQyxLQUczRCxTQUFTRSxFQUFZaDVFLEdBQ25CLE9BQU9BLEVBQ0prQixRQUFRLE1BQU8sUUFDZkEsUUFBUSxNQUFPLE9BQ2ZBLFFBQVEsTUFBTyxPQUNmQSxRQUFRLEtBQU8sT0FDZkEsUUFBUSxNQUFPLE9BQ2ZBLFFBQVEsTUFBTyxPQUNmQSxRQUFRLE1BQU8sT0FDZkEsUUFBUSxNQUFPLE9BQ2ZBLFFBQVEsZUFBMkIsU0FBQzQzRSxHQUFPLGFBQVNELEVBQUlDLEtBQ3hENTNFLFFBQVEsd0JBQXlCLFNBQUM0M0UsR0FBTyxZQUFTRCxFQUFJQyxLQUczRCxTQUFTRyxFQUFvQkMsR0FDM0IsT0FBUUEsRUFBWXYyRSxNQUNsQixJQUFLLFVBQ0gsTUFBTyxJQUFPbzJFLEVBQWNHLEVBQVlsNEUsTUFBUSxJQUNsRCxJQUFLLFFBQ0gsSUFBTW00RSxFQUFlRCxFQUFZRSxNQUFNeHdFLElBQUksU0FBQ3l3RSxHQUMxQyxPQUFPdjNELE1BQU1DLFFBQVFzM0QsR0FDakJMLEVBQVlLLEVBQUssSUFBZ0IsSUFBTUwsRUFBWUssRUFBSyxJQUN4REwsRUFBWUssS0FHbEIsTUFBTyxLQUFPSCxFQUFZSSxTQUFXLElBQU0sSUFBTUgsRUFBZSxJQUNsRSxJQUFLLE1BQ0gsTUFBTyxnQkFDVCxJQUFLLE1BQ0gsTUFBTyxlQUNULElBQUssUUFDSCxPQUFPRCxFQUFZcG5FLGFBdUN6QixNQUFPLFlBbkNQLFNBQTBCeW5FLEdBQ3hCLElBQ0l0N0UsRUFDQW9ELEVBRkVtNEUsRUFBZUQsRUFBVTN3RSxJQUFJcXdFLEdBTW5DLEdBRkFPLEVBQWFqbEIsT0FFVGlsQixFQUFhdjRFLE9BQVMsRUFBRyxDQUMzQixJQUFLaEQsRUFBSSxFQUFHb0QsRUFBSSxFQUFHcEQsRUFBSXU3RSxFQUFhdjRFLE9BQVFoRCxJQUN0Q3U3RSxFQUFhdjdFLEVBQUksS0FBT3U3RSxFQUFhdjdFLEtBQ3ZDdTdFLEVBQWFuNEUsR0FBS200RSxFQUFhdjdFLEdBQy9Cb0QsS0FHSm00RSxFQUFhdjRFLE9BQVNJLEVBR3hCLE9BQVFtNEUsRUFBYXY0RSxRQUNuQixLQUFLLEVBQ0gsT0FBT3U0RSxFQUFhLEdBRXRCLEtBQUssRUFDSCxPQUFPQSxFQUFhLEdBQUssT0FBU0EsRUFBYSxHQUVqRCxRQUNFLE9BQU9BLEVBQWFyakQsTUFBTSxHQUFJLEdBQUcvZixLQUFLLE1BQ2xDLFFBQ0FvakUsRUFBYUEsRUFBYXY0RSxPQUFTLElBUXhCdzRFLENBQWlCaEIsR0FBWSxRQUpsRCxTQUF1QmlCLEdBQ3JCLE9BQU9BLEVBQVMsSUFBT1gsRUFBY1csR0FBVSxJQUFPLGVBR0lDLENBQWNqQixHQUFTLFdBcUJ2RkYsRUE3R0EsQ0FBaUNsNEUsT0FBcEJ2QyxFQUFBeTZFLGNBdW1XQXo2RSxFQUFBNjdFLE1BeC9WYixTQUFtQjF1QixFQUFldnBDLEdBQ2hDQSxPQUFzQndKLElBQVp4SixFQUF3QkEsS0FFbEMsSUFtakJJazRELEVBbmpCRUMsS0FFQUMsR0FBZ0R4ckUsTUFBT3lyRSxJQUN6REMsRUFBbUNELEdBRWpDRSxFQUFTLFNBQVMzN0UsR0FBYyxPQUFPQSxHQUN2QzQ3RSxFQUFTLFNBQVNDLEdBQWtCLE9BQU9BLEVBQU1qNEQsT0FBTyxTQUFDa1osR0FBYyxNQUFPLFlBQVBBLEtBQ3ZFZy9DLEVBQVMsV0FBaUIsTUFBTyxXQUNqQ0MsRUFBUyxLQUNUQyxFQUFTQyxHQUF1QixNQUFNLEdBQ3RDQyxFQUFTLFNBQ1RDLEVBQVNDLElBQXNCLE9BQU8sR0FBTSxHQUM1Q0MsRUFBUyxLQUNUQyxFQUFTTCxHQUF1QixNQUFNLEdBQ3RDTSxFQUFTLEtBQ1RDLEVBQVVQLEdBQXVCLE1BQU0sR0FDdkNRLEVBQVUsS0FDVkMsRUFBVVQsR0FBdUIsTUFBTSxHQUN2Q1UsR0FnbEJLdjRFLEtBQU0sT0Eva0JYdzRFLEVBQVUsU0FBU2g4RSxHQUFjLE9BQU9pOEUsR0FBTWo4RSxFQUFHK2dCLEtBQVlsZixPQUM3RHE2RSxFQUFVLFNBQVN4N0QsR0FBaUIsT0FBT3k3RCxJQUFRcHdELGVBQWUscUJBQXNCckwsSUFDeEYwN0QsRUFBVSxJQUNWQyxFQUFVaEIsR0FBdUIsS0FBSyxHQUN0Q2lCLEVBQVUsU0FBU0MsRUFBWTc3RCxHQUFpQixPQUFRcUwsZUFBZ0Isb0JBQXFCd3dELE1BQU1BLEVBQU81MEMsVUFBV2puQixJQUNySDg3RCxFQUFVLE9BQ1ZDLEVBQVVwQixHQUF1QixRQUFRLEdBQ3pDcUIsRUFBVSxTQUFTdjlFLEVBQVF1aEIsR0FBa0IsT0FBUXFMLGVBQWdCLG9CQUFxQjR3RCxLQUFLeDlFLEVBQUd3b0MsVUFBVWpuQixJQUM1R2s4RCxFQUFVLFVBQ1ZDLEVBQVV4QixHQUF1QixXQUFXLEdBQzVDeUIsRUFBVSxTQUFTcDhELEdBQWtCLE9BQVFxTCxlQUFnQixvQkFBcUJsRSxTQUFRLEVBQU1uSCxLQUFLQSxJQUNyR3E4RCxFQUFVLElBQ1ZDLEVBQVUzQixHQUF1QixLQUFLLEdBQ3RDNEIsRUFBVSxTQUFTamdFLEdBQWtCLE9BQVErTyxlQUFnQix1QkFBd0I0YSxXQUFXM3BCLElBQ2hHa2dFLEVBQVUsV0FBa0IsT0FBUW54RCxlQUFnQixtQkFDcERveEQsRUFBVSxJQUNWQyxFQUFVL0IsR0FBdUIsS0FBSyxHQUN0Q2dDLEVBQVUsU0FBUzM4RCxHQUFpQixPQUFPQSxHQUMzQzQ4RCxFQUFVLElBQ1ZDLEVBQVVsQyxHQUF1QixLQUFLLEdBQ3RDbUMsRUFBVSxTQUFTQyxHQUFtQixPQUFRMXhELGVBQWdCLFFBQVMyWSxXQUFZKzRDLElBQ25GQyxFQUFVLEtBQ1ZDLEVBQVV0QyxHQUF1QixNQUFNLEdBQ3ZDdUMsRUFBVSxJQUNWQyxFQUFVeEMsR0FBdUIsS0FBSyxHQUN0Q3lDLEVBQVUsSUFDVkMsRUFBVTFDLEdBQXVCLEtBQUssR0FDdEMyQyxFQUFVLE9BQ1ZDLEVBQVU1QyxHQUF1QixRQUFRLEdBQ3pDNkMsRUFBVSxTQUFTclQsRUFBVzk5QyxFQUFXa1csR0FBYyxPQUFRbFgsZUFBZSxzQkFBdUI5cUIsVUFBVTRwRSxFQUFNOTlDLEtBQUtBLEVBQU1DLFVBQVVpVyxJQUMxSWs3QyxFQUFVLFNBQVN0VCxFQUFXOTlDLEdBQWlCLE9BQVFoQixlQUFlLHNCQUF1QjlxQixVQUFVNHBFLEVBQU05OUMsS0FBS0EsSUFDbEhxeEQsRUFBVSxRQUNWQyxFQUFVaEQsR0FBdUIsU0FBUyxHQUMxQ2lELEdBQVUsU0FBU3pULEVBQVdqM0QsR0FBa0IsT0FBUW1ZLGVBQWUsa0JBQW1COXFCLFVBQVU0cEUsRUFBTWozRCxLQUFLQSxJQUMvRzJxRSxHQUFVLEtBQ1ZDLEdBQVVuRCxHQUF1QixNQUFNLEdBQ3ZDb0QsR0FBVSxTQUFTN3FFLEVBQVdpM0QsR0FBa0IsT0FBUTkrQyxlQUFlLG9CQUFxQjlxQixVQUFVNHBFLEVBQU1qM0QsS0FBS0EsSUFDakg4cUUsR0FBVSxNQUNWQyxHQUFVdEQsR0FBdUIsT0FBTyxHQUN4Q3VELEdBQVUsU0FBU2huRSxFQUFXaXpELEVBQVdnVSxFQUFXanJFLEdBQWtCLE9BQVFtWSxlQUFlLGdCQUFpQjlxQixVQUFVNHBFLEVBQU1xQixRQUFRdDBELEVBQU1pbkUsS0FBS0EsRUFBTWpyRSxLQUFLQSxJQUM1SmtyRSxHQUFVLFNBQVMxL0UsR0FBZSxPQUFPNjhFLEdBQU03OEUsRUFBRzJoQixLQUFZbGYsT0FDOURrOUUsR0FBVSxRQUNWQyxHQUFVM0QsR0FBdUIsU0FBUyxHQUMxQzRELEdBQVUsV0FBa0IsT0FBUWx6RCxlQUFlLG9CQUNuRG16RCxHQUFVLFdBQ1ZDLEdBQVU5RCxHQUF1QixZQUFZLEdBQzdDK0QsR0FBVSxXQUFpQixPQUFRcnpELGVBQWUsdUJBQ2xEc3pELEdBQVUsU0FDVkMsR0FBVWpFLEdBQXVCLFVBQVUsR0FDM0NrRSxHQUFVLFNBQVNDLEdBQWlCLE9BQVF6ekQsZUFBZSxtQkFBb0I0YSxXQUFXNjRDLElBQzFGQyxHQUFVLFNBQVNyZ0YsR0FBYyxPQUFRMnNCLGVBQWUsd0JBQXlCdlUsWUFBYXBZLElBQzlGc2dGLEdBQVUsU0FBUzdqRSxFQUFZMGxCLEdBQXlCLE9BQU8wNkMsSUFBT2x3RCxlQUFnQixxQkFBc0JsUSxNQUFNQSxFQUFPMGxCLFlBQVlBLEdBQWN4Z0IsS0FBWWxmLE9BQy9KODlFLEdBQVUsSUFDVkMsR0FBVXZFLEdBQXVCLEtBQUssR0FDdEN3RSxHQUFVLFNBQVNyTCxFQUFZcDFFLEdBQWMsT0FBT0EsR0FDcEQwZ0YsR0FBVSxTQUFTdEwsRUFBWXpILEdBQXNDLE9BQXJCQSxFQUFLZ1QsUUFBUXZMLEdBQWV6SCxHQUM1RWlULEdBQVUsU0FBU3JrRSxHQUNyQixPQUFPc2dFLEdBQU1FLElBQVFwd0QsZUFBZ0IscUJBQXNCcFEsR0FBT29GLEtBQVlsZixPQUU1RW8rRSxHQUFVLFNBQVNwa0UsRUFBWVksRUFBaUI3SSxHQUFpQixPQUFPcW9FLElBQU9sd0QsZUFBZ0Isc0JBQXVCbFEsTUFBTUEsRUFBT1ksV0FBV0EsRUFBWTdJLEtBQUtBLEdBQU9tTixLQUFZbGYsT0FDbExxK0UsR0FBVSxTQUFTN2dGLEVBQVcwL0IsRUFBV25uQixHQUFpQixPQUFPLE1BQ2pFdW9FLEdBQVUsU0FBUzlnRixFQUFXMC9CLEVBQVdubkIsRUFBV2hFLEdBQWlCLE9BQU9xb0UsSUFBT2x3RCxlQUFnQix5QkFBMEIxc0IsS0FBS0EsRUFBTXVVLEtBQUtBLEVBQU00QixZQUFZb0MsRUFBTW1uQixLQUFNQSxHQUFPaGUsS0FBWWxmLE9BQzlMdStFLEdBQVUsSUFDVkMsR0FBVWhGLEdBQXVCLEtBQUssR0FDdENpRixHQUFVLFNBQVNqaEYsR0FBaUIsT0FBTyxNQUMzQ2toRixHQUFVLFNBQVNsaEYsRUFBV3VVLEdBQWlCLE9BQU9xb0UsSUFBT2x3RCxlQUFnQix3QkFBeUIxc0IsTUFBTXl6QixXQUFZLElBQUl6ekIsRUFBS3l6QixZQUFhbGYsS0FBS0EsR0FBT21OLEtBQVlsZixPQUN0SzIrRSxHQUFVLFVBQ1ZDLEdBQVVwRixHQUF1QixXQUFXLEdBQzVDcUYsR0FBVSxTQUFTcmhGLEVBQVd1VSxHQUFpQixPQUFPcW9FLElBQU9sd0QsZUFBZ0Isd0JBQXlCMXNCLE1BQU15ekIsV0FBWSxJQUFJenpCLEVBQUt5ekIsWUFBYWxmLEtBQUtBLEVBQU1pdkIsU0FBUSxHQUFPOWhCLEtBQVlsZixPQUNwTDgrRSxHQUFVLFNBQVNuTSxFQUFZdDFFLEdBQWMsT0FBT0EsR0FDcEQwaEYsR0FBVSxTQUFTcE0sRUFBWXpILEdBQXNDLE9BQXJCQSxFQUFLZ1QsUUFBUXZMLEdBQWV6SCxHQUM1RThULEdBQVUsU0FBUy9oRixFQUFRaWdDLEdBQWlCLE9BQU9rOUMsSUFBT2x3RCxlQUFnQixxQkFBc0IrMEQsT0FBUWhpRixFQUFHaWdDLEtBQUtBLE9BQWFoZSxLQUFZbGYsT0FDeklrL0UsR0FBVSxTQUFTbGdGLEdBQWMsT0FBT0EsR0FDeENtZ0YsR0FBVSxTQUFTaGQsRUFBYWhrRSxFQUFRYSxHQUFjLE9BQU9BLEdBQzdEb2dGLEdBQVUsU0FBU2pkLEVBQWFoa0UsRUFBUXdxRSxHQUN4Q3hHLEVBQU92N0QsTUFBTXk0QixTQUFTbGhDLElBUXRCLElBUEEsSUFBSStzRSxFQUFPL0ksRUFBTzRHLE9BQU9KLEdBRXJCMFcsR0FDRi8vQyxhQUNBRyxpQkFHTXhpQyxFQUFJLEVBQUdBLEVBQUlpdUUsRUFBS2pyRSxTQUFVaEQsRUFBRSxDQUNsQyxJQUFJNmMsRUFBT294RCxFQUFLanVFLEdBQ1o2YyxFQUFLdWxCLFNBQ1BnZ0QsRUFBVS8vQyxVQUFVMTRCLEtBQUtrVCxFQUFLdWxCLFVBRXZCdmxCLEVBQUswbEIsWUFDWjYvQyxFQUFVNS9DLGFBQWE3NEIsS0FBS2tULEVBQUswbEIsYUFFakIsV0FBVDFsQixFQUNQdWxFLEVBQVVobEUsUUFBUyxFQUVILFlBQVRQLEVBQ1B1bEUsRUFBVXQvQyxTQUFVLEVBRUosV0FBVGptQixFQUNQdWxFLEVBQVVDLFFBQVMsRUFFSCxhQUFUeGxFLEVBQ1B1bEUsRUFBVUUsVUFBVyxFQUVMLFlBQVR6bEUsSUFDUHVsRSxFQUFVcitDLFNBQVUsR0FJeEIsT0FBT281QyxHQUFNaUYsRUFBV25nRSxLQUFZbGYsT0FDcEN3L0UsR0FBVSxTQUFTcmhGLEdBQWUsT0FBUWtoQyxTQUFTbGhDLElBQ25Ec2hGLEdBQVUsU0FBU3pnRixHQUFlLE9BQVF3Z0MsWUFBWXhnQyxJQUN0RDBnRixHQUFVLFVBQ1ZDLEdBQVVuRyxHQUF1QixXQUFXLEdBQzVDb0csR0FBVSxTQUNWQyxHQUFVckcsR0FBdUIsVUFBVSxHQUMzQ3NHLEdBQVUsU0FBUzNkLEVBQWFoa0UsRUFBUXdxRSxHQUV4QyxPQUYyRHhHLEVBQU92N0QsS0FBS3pJLEdBRWhFaThFLEdBRFBqWSxFQUFTQSxFQUFPNEcsT0FBT0osR0FDRnpwRCxLQUFZbGYsT0FDakMrL0UsR0FBVSxRQUNWQyxHQUFVeEcsR0FBdUIsU0FBUyxHQUMxQ3lHLEdBQVUsV0FDVkMsR0FBVTFHLEdBQXVCLFlBQVksR0FDN0MyRyxHQUFVLFdBQ1ZDLEdBQVU1RyxHQUF1QixZQUFZLEdBQzdDNkcsR0FBVyxTQUNYQyxHQUFXOUcsR0FBdUIsVUFBVSxHQUM1QytHLEdBQVcsZUFDWEMsR0FBV2hILEdBQXVCLGdCQUFnQixHQUNsRGlILEdBQVcsU0FDWEMsR0FBV2xILEdBQXVCLFVBQVUsR0FDNUNtSCxHQUFXLFVBQ1hDLEdBQVdwSCxHQUF1QixXQUFXLEdBQzdDcUgsR0FBVyxTQUNYQyxHQUFXdEgsR0FBdUIsVUFBVSxHQUM1Q3VILEdBQVcsV0FDWEMsR0FBV3hILEdBQXVCLFlBQVksR0FDOUN5SCxHQUFXQyxHQUFxQixvQkFDaENDLEdBQVcsU0FBU2hqRixHQUFjLE9BQU9BLEdBQ3pDaWpGLEdBQVcsT0FDWEMsR0FBVzdILEdBQXVCLFFBQVEsR0FDMUM4SCxHQUFXLFFBQ1hDLEdBQVcvSCxHQUF1QixTQUFTLEdBQzNDZ0ksR0FBVyxNQUNYQyxHQUFXakksR0FBdUIsT0FBTyxHQUN6Q2tJLEdBQVcsT0FDWEMsR0FBV25JLEdBQXVCLFFBQVEsR0FDMUNvSSxHQUFXLE9BQ1hDLEdBQVdySSxHQUF1QixRQUFRLEdBQzFDc0ksR0FBVyxTQUNYQyxHQUFXdkksR0FBdUIsVUFBVSxHQUM1Q3dJLEdBQVcsV0FDWEMsR0FBV3pJLEdBQXVCLFlBQVksR0FDOUMwSSxHQUFXLFFBQ1hDLEdBQVczSSxHQUF1QixTQUFTLEdBQzNDNEksR0FBVyxTQUNYQyxHQUFXN0ksR0FBdUIsVUFBVSxHQUM1QzhJLEdBQVcsT0FDWEMsR0FBVy9JLEdBQXVCLFFBQVEsR0FDMUNnSixHQUFXLFNBQVMvMUUsR0FBZSxPQW95VnZDLFNBQXdCalAsR0FDdEIsT0FBT2lsRixLQUFtQmpsRixHQXJ5VmtCa2xGLENBQWVqMkUsRUFBR3drQixhQUM1RDB4RCxHQUFXLFNBQVNsMkUsR0FBZSxPQUFPQSxFQUFHd2tCLFlBQzdDMnhELEdBQVcsT0FDWEMsR0FBV3JKLEdBQXVCLFFBQVEsR0FDMUNzSixHQUFXLFNBQVN0bEYsRUFBV20xRSxFQUFZdnhDLEdBQWMsT0FBT0EsR0FDaEUyaEQsR0FBVyxTQUFTdmxGLEVBQVdtMUUsRUFBWXpILEdBQWtCLE1BQU8sUUFDcEU4WCxHQUFXLElBQ1hDLEdBQVd6SixHQUF1QixLQUFLLEdBQ3ZDMEosR0FBVyxTQUFTMWxGLEVBQVc0akMsR0FBYyxPQUFPQSxHQUNwRCtoRCxHQUFXLFNBQVMzbEYsRUFBV1UsR0FBa0IsT0FBUVYsS0FBS0EsRUFBTVUsTUFBTUEsSUFDMUVrbEYsR0FBVyx3QkFDWEMsR0FBVzdKLEdBQXVCLHlCQUF5QixHQUMzRDhKLEdBQVcsU0FBUy9sRixHQUFjLE9BQU82OEUsR0FBTUUsR0FBTy84RSxHQUFJZ2lCLHFCQUFxQixJQUFRTCxLQUFZbGYsT0FDbkd1akYsR0FBVyxTQUFTaG1GLEVBQVFOLEdBQWMsT0FBT205RSxHQUFNRSxHQUFPLzhFLEdBQUlvVyxZQUFhMVcsSUFBS2lpQixLQUFZbGYsT0FDaEd3akYsR0FBVyxTQUFTdG1ELEdBQ3RCLE9BQVFoVCxlQUFlLHFCQUFzQmdULEtBQUtBLElBRWhEdW1ELEdBQVcsU0FBUzF0RSxHQUFpQixPQUFRbVUsZUFBZSxtQkFBb0JnVCxNQUFNbm5CLEtBQ3RGMnRFLEdBQVcsU0FBUzN0RSxHQUFpQixPQUFPQSxHQUM1QzR0RSxHQUFXLFNBQVNoUixFQUFZcGtELEVBQVM2UyxHQUFjLE9BQU9BLEdBQzlEd2lELEdBQVcsU0FBU2pSLEVBQVl6SCxHQUVoQyxPQURBQSxFQUFLZ1QsUUFBUXZMLEdBQ055SCxJQUFPbHdELGVBQWUsbUJBQW9CZ1QsS0FBTWd1QyxHQUFPaHNELEtBQVlsZixPQUUxRTZqRixHQUFXLFNBQVN0bUYsR0FFdkIsT0FEVTY4RSxHQUFNRSxJQUFRcHdELGVBQWUsY0FBZTNzQixHQUFJMmhCLEtBQVlsZixPQUduRThqRixHQUFXLFNBQVN2bUYsR0FFdEIsT0FEUzY4RSxHQUFNRSxJQUFRcHdELGVBQWUsYUFBYzY1RCxVQUFVLEdBQU94bUYsR0FBSTJoQixLQUFZbGYsT0FHbkZna0YsR0FBVyxJQUNYQyxHQUFXekssR0FBdUIsS0FBSyxHQUN2QzBLLEdBQVcsU0FBU0MsRUFBU3ppRSxHQUFrQixPQUFPNDRELElBQVE3aUUsUUFBUWlLLEdBQU95aUUsSUFDN0VDLEdBQVcsSUFDWEMsR0FBVzdLLEdBQXVCLEtBQUssR0FDdkM4SyxHQUFXLFNBQVNILEVBQVN6aUUsR0FBa0IsT0FBTzQ0RCxJQUFRNWlFLFVBQVVnSyxHQUFPeWlFLElBQy9FSSxHQUFXLFNBQVM3aUUsRUFBV3NnQixHQUF1QixPQUFPczRDLEdBQU81NEQsR0FBT3NnQixVQUFXQSxLQUN0RndpRCxHQUFXLFNBQVN6bEYsR0FBYyxPQUFPQSxHQUN6QzBsRixHQUFXLFNBQVN2bkQsRUFBV2luRCxHQUFnQixPQUFPN0osSUFBUXZzRSxLQUFLLFdBQVltdkIsS0FBS0EsR0FBT2luRCxJQUMzRk8sR0FBVyxJQUNYQyxHQUFXbkwsR0FBdUIsS0FBSyxHQUN2Q29MLEdBQVcsSUFDWEMsR0FBV3JMLEdBQXVCLEtBQUssR0FDdkNzTCxHQUFXLFNBQVNuK0UsR0FBa0IsT0FBUW9ILEtBQUssUUFBU3BILEtBQUtBLElBQ2pFbytFLEdBQVcsU0FBU3huRixHQUFjLE9BQVFDLEtBQUtELElBQy9DeW5GLEdBQVcsU0FBU3puRixHQUFjLE9BQVE2dUIsSUFBSTd1QixJQUM5QzBuRixHQUFXLEdBQ1hDLEdBQVcsV0FBaUIsVUFDNUJDLEdBQVcsU0FBU25yRSxFQUFZMEgsR0FBa0IsT0FBTzA0RCxJQUFPcGdFLE1BQU1BLEVBQU9ZLFdBQVc4RyxHQUFPeEMsS0FBWWxmLE9BQzNHb2xGLEdBQVcsV0FBa0IsT0FBUWxtRCxPQUFPLEVBQU1DLFVBQVUsSUFDNURrbUQsR0FBVyxXQUFrQixPQUFRbm1ELE9BQU8sSUFDNUNvbUQsR0FBVyxXQUFrQixPQUFRbm1ELFVBQVUsSUFDL0NvbUQsR0FBVyxTQUFTNVMsRUFBWXIxQyxHQUFnQixPQUFPQSxHQUN2RGtvRCxHQUFXLFNBQVM3UyxFQUFZekgsR0FBdUMsT0FBckJBLEVBQUtnVCxRQUFRdkwsR0FBZXpILEdBQzlFdWEsR0FBVyxXQUFpQixVQUM1QkMsR0FBVyxTQUFTMXJFLEVBQVkwSCxFQUFXM0wsR0FBaUIsT0FBUW1VLGVBQWUsd0JBQXlCdFAsV0FBVzhHLEVBQU0xSCxNQUFNQSxFQUFPckcsWUFBWW9DLElBQ3RKNHZFLEdBQVcsU0FBUzNyRSxFQUFZMEgsR0FBaUIsT0FBTzA0RCxJQUFPbHdELGVBQWUsd0JBQXlCbFEsTUFBTUEsRUFBT1ksV0FBVzhHLEdBQU94QyxLQUFZbGYsT0FDbEo0bEYsR0FBVyxTQUFTalQsRUFBWXBrRCxFQUFTNlMsR0FBYyxPQUFRN1MsRUFBRzZTLElBQ2xFeWtELEdBQVcsU0FBU2xULEVBQVl6SCxHQUFrQixPQUFPa1AsR0FBTTBMLEdBQWdCblQsRUFBT3pILEVBQU0sT0FBUSxvQkFBcUJoc0QsS0FBWWxmLE9BQ3JJK2xGLEdBQVcsU0FBU3RxRSxFQUFVOFMsRUFBUzdTLEdBQWlCLE9BQU8wK0QsSUFBT2x3RCxlQUFnQix3QkFBeUJ6TyxJQUFJQSxFQUFLSyxTQUFTeVMsRUFBSTdTLElBQUlBLEdBQU13RCxLQUFZbGYsT0FDM0pnbUYsR0FBVyxTQUFTdnFFLEVBQVU4UyxFQUFTN1MsR0FBaUIsT0FBTzArRCxJQUFPbHdELGVBQWdCLHNCQUF1QnpPLElBQUlBLEVBQUtLLFNBQVN5UyxFQUFJN1MsSUFBSUEsR0FBTXdELEtBQVlsZixPQUN6SmltRixHQUFXLEtBQ1hDLEdBQVcxTSxHQUF1QixNQUFNLEdBQ3hDMk0sR0FBVyxLQUNYQyxHQUFXNU0sR0FBdUIsTUFBTSxHQUN4QzZNLEdBQVcsS0FDWEMsR0FBVzlNLEdBQXVCLE1BQU0sR0FDeEMrTSxHQUFXLEtBQ1hDLEdBQVdoTixHQUF1QixNQUFNLEdBQ3hDaU4sR0FBVyxLQUNYQyxHQUFXbE4sR0FBdUIsTUFBTSxHQUN4Q21OLEdBQVcsTUFDWEMsR0FBV3BOLEdBQXVCLE9BQU8sR0FDekNxTixHQUFXLE1BQ1hDLEdBQVd0TixHQUF1QixPQUFPLEdBQ3pDdU4sR0FBVyxLQUNYQyxHQUFXeE4sR0FBdUIsTUFBTSxHQUN4Q3lOLEdBQVcsU0FDWEMsR0FBVzFOLEdBQXVCLFVBQVUsR0FDNUMyTixHQUFXLFdBQWlCLE1BQU8sTUFDbkNDLEdBQVcsS0FDWEMsR0FBVzdOLEdBQXVCLE1BQU0sR0FDeEM4TixHQUFXLFNBQ1hDLEdBQVcvTixHQUF1QixVQUFVLEdBQzVDZ08sR0FBVyxXQUFpQixNQUFPLE1BQ25DQyxHQUFXLEtBQ1hDLEdBQVdsTyxHQUF1QixNQUFNLEdBQ3hDbU8sR0FBVyxRQUNYQyxHQUFXcE8sR0FBdUIsU0FBUyxHQUMzQ3FPLEdBQVcsV0FBaUIsTUFBTyxNQUNuQ0MsR0FBVyxTQUFTMTdELEdBQXNDLE9BQXJCQSxFQUFJNG9DLFVBQVcsRUFBYTVvQyxHQUNqRTI3RCxHQUFXLElBQ1hDLEdBQVd4TyxHQUF1QixLQUFLLEdBQ3ZDeU8sR0FBVyxTQUFTN29GLEVBQWdCOHJCLEVBQVdDLEdBQXVCLE9BQU9pdkQsSUFBT2x3RCxlQUFnQixxQkFBc0I5cUIsVUFBVUEsRUFBVzhyQixLQUFLQSxFQUFNQyxVQUFVQSxHQUFZak0sS0FBWWxmLE9BQzVMa29GLEdBQVcsS0FDWEMsR0FBVzNPLEdBQXVCLE1BQU0sR0FDeEM0TyxHQUFXLEtBQ1hDLEdBQVc3TyxHQUF1QixNQUFNLEdBQ3hDOE8sR0FBVyxTQUFTM1YsRUFBWXBrRCxFQUFTNlMsR0FBYyxPQUFRLEtBQUtBLElBQ3BFbW5ELEdBQVcsU0FBUzVWLEVBQVl6SCxHQUFrQixPQUFPa1AsR0FBTTBMLEdBQWdCblQsRUFBT3pILEVBQU0sT0FBUSxzQ0FBdUNoc0QsS0FBWWxmLE9BQ3ZKd29GLEdBQVcsS0FDWEMsR0FBV2pQLEdBQXVCLE1BQU0sR0FDeENrUCxHQUFXLE1BQ1hDLEdBQVduUCxHQUF1QixPQUFPLEdBQ3pDb1AsR0FBVyxTQUFTalcsRUFBWXBrRCxFQUFTNlMsR0FBYyxPQUFRLEtBQUtBLElBQ3BFeW5ELEdBQVcsSUFDWEMsR0FBV3RQLEdBQXVCLEtBQUssR0FDdkN1UCxHQUFXLFFBQ1hDLEdBQVd4UCxHQUF1QixTQUFTLEdBQzNDeVAsR0FBVyxTQUFTdFcsRUFBWXBrRCxFQUFTNlMsR0FBYyxPQUFRLElBQUlBLElBQ25FOG5ELEdBQVcsU0FBU3ZXLEVBQVl6SCxHQUFrQixPQUFPa1AsR0FBTTBMLEdBQWdCblQsRUFBT3pILEVBQU0sT0FBUSx5Q0FBMENoc0QsS0FBWWxmLE9BQzFKbXBGLEdBQVcsSUFDWEMsR0FBVzVQLEdBQXVCLEtBQUssR0FDdkM2UCxHQUFXLE1BQ1hDLEdBQVc5UCxHQUF1QixPQUFPLEdBQ3pDK1AsR0FBVyxTQUFTNVcsRUFBWXBrRCxFQUFTNlMsR0FBYyxPQUFRLElBQUlBLElBQ25Fb29ELEdBQVcsU0FDWEMsR0FBV2pRLEdBQXVCLFVBQVUsR0FDNUNrUSxHQUFXLFNBQVMvVyxFQUFZcGtELEVBQVM2UyxHQUFjLE9BQVEsSUFBSUEsSUFDbkV1b0QsR0FBVyxLQUNYQyxHQUFXcFEsR0FBdUIsTUFBTSxHQUN4Q3FRLEdBQVcsS0FDWEMsR0FBV3RRLEdBQXVCLE1BQU0sR0FDeEN1USxHQUFXLFNBQ1hDLEdBQVd4USxHQUF1QixVQUFVLEdBQzVDeVEsR0FBVyxTQUFTdFgsR0FBa0IsTUFBTyxNQUM3Q3VYLEdBQVcsU0FBU3ZYLEVBQVl6SCxHQUFrQixPQUFPa1AsR0FBTTBMLEdBQWdCblQsRUFBT3pILEVBQU0sT0FBUSx5Q0FBMENoc0QsS0FBWWxmLE9BQzFKbXFGLEdBQVcsS0FDWEMsR0FBVzVRLEdBQXVCLE1BQU0sR0FDeEM2USxHQUFXLEtBQ1hDLEdBQVc5USxHQUF1QixNQUFNLEdBQ3hDK1EsR0FBVyxJQUNYQyxHQUFXaFIsR0FBdUIsS0FBSyxHQUN2Q2lSLEdBQVcsSUFDWEMsR0FBV2xSLEdBQXVCLEtBQUssR0FDdkNtUixHQUFXLEtBQ1hDLEdBQVdwUixHQUF1QixNQUFNLEdBQ3hDcVIsR0FBVyxLQUNYQyxHQUFXdFIsR0FBdUIsTUFBTSxHQUN4Q3VSLEdBQVcsSUFDWEMsR0FBV3hSLEdBQXVCLEtBQUssR0FDdkN5UixHQUFXLElBQ1hDLEdBQVcxUixHQUF1QixLQUFLLEdBQ3ZDMlIsR0FBVyxJQUNYQyxHQUFXNVIsR0FBdUIsS0FBSyxHQUN2QzZSLEdBQVcsSUFDWEMsR0FBVzlSLEdBQXVCLEtBQUssR0FDdkMrUixHQUFXLFNBQVM1WSxFQUFZekgsR0FBa0IsT0FBT2tQLEdBQU0wTCxHQUFnQm5ULEVBQU96SCxFQUFNLE9BQVEsZ0NBQWlDaHNELEtBQVlsZixPQUNqSndyRixHQUFXLEtBQ1hDLEdBQVdqUyxHQUF1QixNQUFNLEdBQ3hDa1MsR0FBVyxNQUNYQyxHQUFXblMsR0FBdUIsT0FBTyxHQUN6Q29TLEdBQVcsU0FBU3p0RixFQUFRaXVCLEdBQzVCLE9BQU9ndUQsSUFBT2x3RCxlQUFnQiwwQkFBMkJ2b0IsS0FBS3hELEVBQUdnZSxRQUFRaVEsR0FBTWxOLEtBQVlsZixPQUUzRjZyRixHQUFXLEtBQ1hDLEdBQVd0UyxHQUF1QixNQUFNLEdBQ3hDdVMsR0FBVyxTQUFTeDlELEVBQVNuQyxHQUM3QixPQUFPZ3VELElBQU9sd0QsZUFBZ0IsOEJBQStCcE8sU0FBU3lTLEVBQUlwUyxRQUFRaVEsR0FBTWxOLEtBQVlsZixPQUVwR2dzRixHQUFXLEtBQ1hDLEdBQVd6UyxHQUF1QixNQUFNLEdBQ3hDMFMsR0FBVyxTQUFTMzlELEVBQVNuQyxHQUM3QixPQUFPZ3VELElBQU9sd0QsZUFBZ0IsOEJBQStCcE8sU0FBU3lTLEVBQUlwUyxRQUFRaVEsR0FBTWxOLEtBQVlsZixPQUVwR21zRixHQUFXLFNBQVM1OUQsRUFBU25DLEdBQzdCLE9BQU9ndUQsR0FBTUUsSUFBUW4rRCxRQUFRaVEsR0FBTW1DLEdBQUtyUCxLQUFZbGYsT0FFcERvc0YsR0FBVyxTQUNYQyxHQUFXN1MsR0FBdUIsVUFBVSxHQUM1QzhTLEdBQVcsU0FBUy85RCxFQUFTbkMsR0FDN0IsT0FBT2d1RCxJQUFPbHdELGVBQWdCLG9CQUFxQnBPLFNBQVMsU0FBVUssUUFBUWlRLEdBQU1sTixLQUFZbGYsT0FFaEd1c0YsR0FBVyxTQUFTaCtELEVBQVNuQyxHQUM3QixPQUFPZ3VELElBQU9sd0QsZUFBZ0IseUJBQTBCcE8sU0FBUyxTQUFVSyxRQUFRaVEsR0FBTWxOLEtBQVlsZixPQUVyR3dzRixHQUFXLFdBQWlCLE9BQVF0aUUsZUFBZ0IseUJBQTBCcE8sU0FBVSxNQUN4RjJ3RSxHQUFXLFdBQWlCLE9BQVF2aUUsZUFBZ0Isd0JBQTJCcE8sU0FBVSxNQUN6RjR3RSxHQUFXLFdBQWlCLE9BQVF4aUUsZUFBZ0Isd0JBQXlCcE8sU0FBVSxNQUN2RjZ3RSxHQUFXLFdBQWlCLE9BQVF6aUUsZUFBZ0IseUJBQTBCcE8sU0FBVSxNQUN4Rjh3RSxHQUFXLElBQ1hDLEdBQVdyVCxHQUF1QixLQUFLLEdBQ3ZDc1QsR0FBVyxXQUFpQixPQUFRNWlFLGVBQWdCLHlCQUEwQnBPLFNBQVUsTUFDeEZpeEUsR0FBVyxNQUNYQyxHQUFXeFQsR0FBdUIsT0FBTyxHQUN6Q3lULEdBQVcsV0FBaUIsT0FBUS9pRSxlQUFnQix5QkFBMEJwTyxTQUFVLE1BQ3hGb3hFLEdBQVcsUUFDWEMsR0FBVzNULEdBQXVCLFNBQVMsR0FDM0M0VCxHQUFXLE1BQ1hDLEdBQVc3VCxHQUF1QixPQUFPLEdBQ3pDOFQsR0FBVyxTQUFTN2dGLEVBQVNzSixHQUMvQixPQUFPcWtFLEdBQU1FLElBQVFwd0QsZUFBZ0IsaUJBQWtCdlcsWUFBYW9DLEdBQU90SixHQUFLeVMsS0FBWWxmLE9BRTFGdXRGLEdBQVcsU0FBUzlnRixFQUFTc0osR0FDL0IsT0FBT3FrRSxHQUFNRSxJQUFRcHdELGVBQWdCLGlCQUFrQnZXLFlBQWFvQyxHQUFPdEosR0FBS3lTLEtBQVlsZixPQUUxRnd0RixHQUFXLFNBQVN4ekUsRUFBWXZOLEdBQWUsT0FBT0EsR0FDdERnaEYsR0FBVyxTQUFTenpFLEVBQVkwSCxHQUNsQyxPQUFPMDRELElBQU9wZ0UsTUFBTUEsRUFBT1ksV0FBVzhHLEdBQU94QyxLQUFZbGYsT0FFdkQwdEYsR0FBVyxTQUFTbndGLEdBRXhCLE9BRFM2OEUsR0FBTUUsSUFBUXB3RCxlQUFlLGNBQWUzc0IsR0FBSTJoQixLQUFZbGYsT0FJakUydEYsR0FBVyxTQUFTM3JELEdBQXVCLE9BQVFBLFVBQVdBLElBQzlENHJELEdBQVcsU0FBUzd1RixHQUFjLE9BQU9BLEdBQ3pDOHVGLEdBQVcsU0FBU2xuRixHQUFrQixPQUFRaEYsS0FBSyxRQUFTZ0YsS0FBS0EsSUFDakVtbkYsR0FBVyxTQUFTNXdELEdBQWlCLE9BQVFBLEtBQUtBLFFBQ2xENndELEdBQVcsU0FDWEMsR0FBV3hVLEdBQXVCLFVBQVUsR0FDNUN5VSxHQUFXLFNBQVM5dkYsR0FDdEIsT0FBT2k4RSxJQUFPbHdELGVBQWdCLG9CQUFxQi9OLFFBQVNoZSxHQUFJK2dCLEtBQVlsZixPQUUxRWt1RixHQUFXLFNBQVMvdkYsR0FDdEIsT0FBT2k4RSxJQUFPbHdELGVBQWdCLDBCQUEyQi9OLFFBQVNoZSxHQUFJK2dCLEtBQVlsZixPQUNoRm11RixHQUFXLGNBQ1hDLEdBQVc1VSxHQUF1QixlQUFlLEdBQ2pENlUsR0FBVyxTQUFTbHdGLEVBQVFpdUIsR0FBaUIsT0FBT2d1RCxJQUFPbHdELGVBQWdCLHlCQUEwQnZvQixLQUFNeEQsRUFBR2dlLFFBQVFpUSxHQUFNbE4sS0FBWWxmLE9BQ3hJc3VGLEdBQVcsZUFDWEMsR0FBVy9VLEdBQXVCLGdCQUFnQixHQUNsRGdWLEdBQVcsU0FBU3J3RixFQUFRaXVCLEdBQWlCLE9BQU9ndUQsSUFBT2x3RCxlQUFnQiwwQkFBMkJ2b0IsS0FBTXhELEVBQUdnZSxRQUFRaVEsR0FBTWxOLEtBQVlsZixPQUN6SXl1RixHQUFXLG1CQUNYQyxHQUFXbFYsR0FBdUIsb0JBQW9CLEdBQ3REbVYsR0FBVyxTQUFTeHdGLEVBQVFpdUIsR0FBaUIsT0FBT2d1RCxJQUFPbHdELGVBQWdCLDhCQUErQnZvQixLQUFNeEQsRUFBR2dlLFFBQVFpUSxHQUFNbE4sS0FBWWxmLE9BQzdJNHVGLEdBQVcsYUFDWEMsR0FBV3JWLEdBQXVCLGNBQWMsR0FDaERzVixHQUFXLFNBQVMzd0YsRUFBUWl1QixHQUFpQixPQUFPZ3VELElBQU9sd0QsZUFBZ0Isd0JBQXlCdm9CLEtBQU14RCxFQUFHZ2UsUUFBUWlRLEdBQU1sTixLQUFZbGYsT0FDdkkrdUYsR0FBVyxTQUFTM2lFLEVBQVVtQyxHQUFlLE9BQU9BLEdBQ3BEeWdFLEdBQVcsU0FBUzVpRSxFQUFVNmlFLEdBQWlCLE9BQU9BLEVBQUlodkYsT0FBUyxFQUFJbTZFLEdBdWlWM0UsU0FBUzhVLEVBQVdELEVBQVU3aUUsR0FDNUIsR0FBaUIsR0FBZDZpRSxFQUFJaHZGLE9BQ0wsT0FBT21zQixFQUdQLElBQUltQyxFQUFLMGdFLEVBQUl2OEUsTUFFYixPQURBNmIsRUFBR3BTLFFBQVUreUUsRUFBV0QsRUFBSzdpRSxHQUN0Qm1DLEVBOWlWc0UyZ0UsQ0FBV0QsRUFBSzdpRSxHQUFNbE4sS0FBWWxmLE1BQVVvc0IsR0FDekgraUUsR0FBVyxTQUFTL2lFLEdBQWlCLE9BQU9ndUQsSUFBT2x3RCxlQUFlLHVCQUF3Qm9ULElBQUlsUixHQUFNbE4sS0FBWWxmLE9BQ2hIb3ZGLEdBQVcsU0FBU2x5RCxHQUFrQixPQUFPazlDLElBQU9sd0QsZUFBZ0IsMkJBQTRCZ1QsS0FBTUEsT0FBYWhlLEtBQVlsZixPQUMvSHF2RixHQUFXLElBQ1hDLEdBQVc5VixHQUF1QixLQUFLLEdBQ3ZDK1YsR0FBVyxTQUFTL3hGLEdBQWtCLE9BQU80OEUsSUFBT2x3RCxlQUFnQixpQkFBa0IrMEQsT0FBUXpoRixHQUFPMGhCLEtBQVlsZixPQUNqSHd2RixHQUFXLEtBQ1hDLEdBQVdqVyxHQUF1QixNQUFNLEdBQ3hDa1csR0FBVyxTQUFTbHlGLEdBQWtCLE9BQU80OEUsSUFBT2x3RCxlQUFnQixtQkFBb0IrMEQsT0FBUXpoRixHQUFPMGhCLEtBQVlsZixPQUNuSDJ2RixHQUFXLFdBQWtCLE9BQU92VixJQUFPbHdELGVBQWdCLGdDQUFpQ2hMLEtBQVlsZixPQUN4RzR2RixHQUFXLFdBQWtCLE9BQU94VixJQUFPbHdELGVBQWdCLGdDQUFpQ2hMLEtBQVlsZixPQUN4RzZ2RixHQUFXLFNBQVNsdUYsRUFBV3U3QixHQUNqQyxPQUFPazlDLElBQU9sd0QsZUFBZ0IsdUJBQXdCdm9CLEtBQUtBLEVBQU11N0IsS0FBS0EsT0FBYWhlLEtBQVlsZixPQUU3Rjh2RixHQUFXLFNBQVNuZCxFQUFZdnhDLEdBQWMsT0FBT0EsR0FDckQydUQsR0FBVyxTQUFTM2pFLEdBQWdCLE9BQU9ndUQsSUFBT2x3RCxlQUFnQix5QkFBMEIySCxjQUFjekYsR0FBTWxOLEtBQVlsZixPQUM1SGd3RixHQUFXLE9BQ1hDLEdBQVd6VyxHQUF1QixRQUFRLEdBQzFDMFcsR0FBVyxXQUFpQixPQUFPOVYsSUFBT2x3RCxlQUFnQixtQkFBb0JoTCxLQUFZbGYsT0FDMUZtd0YsR0FBVyxTQUFTMWpGLEdBQWdCLE9BQU8ydEUsR0FBTUUsSUFBUXB3RCxlQUFnQix5QkFBMEJ6ZCxHQUFLeVMsS0FBWWxmLE9BQ3BIb3dGLEdBQVcsU0FBUzF4RixFQUFRMnhGLEdBRTlCLE9BREEzeEYsRUFBRWtJLEtBQUt5cEYsSUFDQ3AvRCxXQUFZdnlCLElBRWxCNHhGLEdBQVcsS0FDWEMsR0FBVy9XLEdBQXVCLE1BQU0sR0FDeENnWCxHQUFXLFNBQVMvakYsR0FBZSxPQUFPQSxHQUMxQ2drRixHQUFXLFdBQWtCLFVBQzdCQyxHQUFXLFNBQVNqa0YsR0FBZSxPQUFPMnRFLElBQU9ucEQsV0FBWXhrQixHQUFLeVMsS0FBWWxmLE9BQzlFMndGLEdBQVcsV0FDWEMsR0FBV3BYLEdBQXVCLFlBQVksR0FDOUNxWCxHQUFXLFNBQVN0aUUsR0FBZSxPQUFPNnJELElBQU9ucEQsV0FBWSxXQUFXMUMsRUFBSXpTLFNBQVV5UyxHQUFLclAsS0FBWWxmLE9BQ3ZHOHdGLEdBQVcsUUFDWEMsR0FBV3ZYLEdBQXVCLFNBQVMsR0FDM0N3WCxHQUFXLFdBQ1hDLEdBQVd6WCxHQUF1QixZQUFZLEdBQzlDMFgsR0FBVyxLQUNYQyxHQUFXM1gsR0FBdUIsTUFBTSxHQUN4QzRYLEdBQVcsS0FDWEMsR0FBVzdYLEdBQXVCLE1BQU0sR0FHeEM4WCxJQURXOVgsR0FBdUIsTUFBTSxHQUM3QixTQUFTM0MsR0FBZ0IsT0FBT3VELElBQU9sd0QsZUFBZ0Isa0JBQW1Cdm9CLEtBQUssUUFBU3pELE1BQU0yNEUsR0FBTTMzRCxLQUFZbGYsUUFDM0h1eEYsR0FBVyxTQUFTMWEsR0FBZ0IsT0FBT3VELElBQU9sd0QsZUFBZ0Isa0JBQW1Cdm9CLEtBQUssTUFBT3pELE1BQU0yNEUsR0FBTTMzRCxLQUFZbGYsT0FDekh3eEYsR0FBVyxTQUFTM2EsR0FBZ0IsT0FBT3VELElBQU9sd0QsZUFBZ0Isa0JBQW1Cdm9CLEtBQUssT0FBUXpELE1BQU0yNEUsR0FBTTMzRCxLQUFZbGYsT0FDMUh5eEYsR0FBVyxTQUFTNWEsR0FBZ0IsT0FBT3VELElBQU9sd0QsZUFBZ0IsaUJBQWtCdm9CLEtBQUssU0FBVXpELE1BQU0yNEUsR0FBTTMzRCxLQUFZbGYsT0FDM0gweEYsR0FBVyxTQUFTN2EsR0FBZ0IsT0FBT3VELElBQU9sd0QsZUFBZ0Isa0JBQW1Cdm9CLEtBQUssT0FBUXpELE1BQU0yNEUsR0FBTTMzRCxLQUFZbGYsT0FDMUgyeEYsR0FBVyxTQUNYQyxHQUFXalksS0FBdUIsSUFBSyxPQUFPLEdBQU8sR0FDckRrWSxHQUFXLFNBQVNDLEVBQVVDLEdBQW9CLE9BQU8xZ0UsVUFBVXlnRSxHQUFZLElBQU1DLEVBQU8zOEUsS0FBSyxNQUNqRzQ4RSxHQUFXLFVBQ1hDLEdBQVd0WSxLQUF1QixJQUFLLEtBQU0sTUFBTSxHQUFPLEdBQzFEdVksR0FBVyxTQUFTSixFQUFVQyxHQUFtQixPQUFPQSxFQUFPN3FGLFFBQVEsTUFBUTZxRixFQUFPcDNELFlBQVksT0FBZ0MsR0FBeEJvM0QsRUFBTzdxRixRQUFRLE1BQ3pIaXJGLEdBQVcsU0FBU0wsRUFBVUMsR0FBb0IsT0FBT3pnRSxZQUFZd2dFLEdBQVksSUFBTUMsRUFBTzM4RSxLQUFLLE1BQ25HZzlFLEdBQVcsSUFDWEMsR0FBVzdZLEdBQXVCLEtBQUssR0FDdkM4WSxHQUFXLFlBQ1hDLEdBQVc1WSxJQUFzQixJQUFLLEtBQU0sT0FBTyxHQUFNLEdBQ3pENlksR0FBVyxTQUFTem5GLEdBQWtCLE9BQU9BLEdBQzdDMG5GLEdBQVcsSUFDWEMsR0FBV2xaLEdBQXVCLEtBQU0sR0FDeENtWixHQUFXLFlBQ1hDLEdBQVdqWixJQUFzQixJQUFNLEtBQU0sT0FBTyxHQUFNLEdBQzFEa1osR0FBVyxTQUFTbnJGLEdBQW1CLE9BQU9BLEVBQU0wTixLQUFLLEtBQ3pEMDlFLEdBQVcsT0FDWEMsR0FBV3ZaLEdBQXVCLFFBQVEsR0FDMUN3WixHQUFXLFdBQWlCLE9BQU8sR0FDbkNDLEdBQVcsUUFDWEMsR0FBVzFaLEdBQXVCLFNBQVMsR0FDM0MyWixHQUFXLFdBQWlCLE9BQU8sR0FDbkNDLEdBQVcsTUFDWEMsR0FBVzdaLEdBQXVCLE9BQVEsR0FDMUM4WixHQUFXLE1BQ1hDLEdBQVcvWixHQUF1QixPQUFPLEdBQ3pDZ2EsR0FBVyxNQUNYQyxHQUFXamEsR0FBdUIsT0FBTyxHQUN6Q2thLEdBQVcsT0FDWEMsR0FBV25hLEdBQXVCLFFBQVEsR0FDMUNvYSxHQUFXLE1BQ1hDLEdBQVdyYSxHQUF1QixPQUFPLEdBQ3pDc2EsR0FBVyxNQUNYQyxHQUFXdmEsR0FBdUIsT0FBTyxHQUN6Q3dhLEdBQVcsTUFDWEMsR0FBV3phLEdBQXVCLE9BQU8sR0FDekMwYSxHQUFXLE1BQ1hDLEdBQVczYSxHQUF1QixPQUFPLEdBQ3pDNGEsR0FBVyxNQUNYQyxHQUFXN2EsR0FBdUIsT0FBTyxHQUN6QzhhLEdBQVcsTUFDWEMsR0FBVy9hLEdBQXVCLE9BQU8sR0FDekNnYixHQUFXLE1BQ1hDLEdBQVdqYixHQUF1QixPQUFPLEdBQ3pDa2IsR0FBVyxNQUNYQyxHQUFXbmIsR0FBdUIsT0FBTyxHQUN6Q29iLEdBQVcsU0FDWEMsR0FBV2xiLEtBQXVCLElBQUssT0FBTyxHQUFPLEdBQ3JEbWIsR0FBVzVULEdBQXFCLGNBQ2hDNlQsR0FBVyxTQUFTcGlCLEVBQVl6SCxHQUFpQixPQUFPa1AsSUFBT25wRCxXQUFZMGhELEVBQVF6SCxFQUFLOTFELEtBQUssS0FBTThKLEtBQVlsZixPQUMvR2cxRixHQUFXLGdCQUNYQyxHQUFXdGIsS0FBdUIsSUFBSyxNQUFPLElBQUssTUFBTyxJQUFLLEtBQU0sTUFBTSxHQUFPLEdBQ2xGdWIsR0FBVyxhQUNYQyxHQUFXeGIsS0FBdUIsSUFBSyxNQUFPLElBQUssS0FBTSxNQUFNLEdBQU8sR0FDdEV5YixHQUFXbFUsR0FBcUIsdUJBQ2hDbVUsR0FBVyxhQUNYQyxHQUFXM2IsSUFBc0IsSUFBSyxLQUFNLEtBQU0sT0FBTyxHQUFPLEdBQ2hFNGIsR0FBV3JVLEdBQXFCLGNBQ2hDc1UsR0FBVyxTQUFTcDFCLEdBQWlCcWlCLEtBQW1CcmlCLEVBQUs1aUUsS0FBS3l6QixhQUFZLEdBQzlFd2tFLEdBQVcsU0FBU3IxQixFQUFXczFCLEdBQWtCLE9BQU90YixJQUFPaGEsS0FBTUEsRUFBTXUxQixhQUFjRCxHQUFPeDJFLEtBQVlsZixPQUM1RzQxRixHQUFXLFNBQVNwM0YsRUFBVWhCLEVBQVdnekIsR0FBYyxPQUFPQSxHQUM5RHFsRSxHQUFXLFNBQVNyM0YsRUFBVWhCLEVBQVdzNEYsR0FBbUIsT0FBTzFiLElBQU81N0UsSUFBSUEsRUFBS2hCLEtBQUtBLEVBQU1zNEYsTUFBTUEsR0FBUTUyRSxLQUFZbGYsT0FDeEgrMUYsR0FBVyxRQUNYQyxHQUFXeGMsR0FBdUIsU0FBUyxHQUMzQ3ljLEdBQVcsU0FDWEMsR0FBVzFjLEdBQXVCLFVBQVUsR0FDNUMyYyxHQUFXLFFBQ1hDLEdBQVc1YyxHQUF1QixTQUFTLEdBQzNDNmMsR0FBVyxTQUFTaDVGLEdBQWMsT0FBT0EsR0FDekNpNUYsR0FBVyxTQUFTQyxHQUFxQixPQUFRQSxRQUFTQSxJQUMxREMsR0FBVyxTQUFTQyxFQUFhcDVGLEdBQWMsT0FBT0EsR0FDdERxNUYsR0FBVyxTQUFTRCxFQUFhRixHQUFxQixPQUFRQSxRQUFTQSxFQUFTRSxPQUFRQSxJQUN4RkUsR0FBVyxVQUNYQyxHQUFXcGQsR0FBdUIsV0FBVyxHQUM3Q3FkLEdBQVcsWUFDWEMsR0FBV3RkLEdBQXVCLGFBQWEsR0FDL0N1ZCxHQUFXLFNBQ1hDLEdBQVd4ZCxHQUF1QixVQUFVLEdBQzVDeWQsR0FBVyxTQUFTajlFLEVBQVkwbEIsR0FBeUIsT0FBTzA2QyxJQUFPbHdELGVBQWdCLHFCQUFzQmxRLE1BQU1BLEVBQU8wbEIsWUFBWUEsR0FBY3hnQixLQUFZbGYsT0FDaEtrM0YsR0FBVyxTQUFTNTVGLEdBQWUsT0FBT0EsR0FDMUM2NUYsR0FBVyxTQUFTNTVGLEdBQWUsT0FBT0EsR0FDMUM2NUYsR0FBVyxTQUFTQyxHQUFlLE9BQU9BLEdBQzFDQyxHQUFXLElBQ1hDLEdBQVcvZCxHQUF1QixLQUFLLEdBQ3ZDZ2UsR0FBVyxTQUFTajZGLEdBQW9DLE9BQXRCQSxFQUFFb2tDLGFBQWMsRUFBYXBrQyxHQUMvRGs2RixHQUFXLFNBQVNsNkYsR0FBNEMsT0FBOUJBLEVBQUVnaUIscUJBQXNCLEVBQWFoaUIsR0FDdkVtNkYsR0FBVyxTQUFTbjZGLEVBQVFOLEdBQTBCLE9BQVpNLEVBQUV3WSxLQUFPOVksRUFBVU0sR0FDN0RvNkYsR0FBVyxTQUFTbm5FLEdBQWMsT0FBT0EsR0FDekNvbkUsR0FBVyxTQUFTamxCLEVBQVluaUQsR0FBYyxPQUFPQSxHQUNyRHFuRSxHQUFXLFNBQVN0bkUsR0FBYyxPQUFPQSxHQUN6Q3VuRSxHQUFXLFNBQVN2bkUsRUFBUWp6QixHQUM5QixPQUFRRSxLQUFNRixFQUFHMGpDLFNBQVMsRUFBTXkxRCxPQUFRbG1FLElBQ3RDd25FLEdBQVcsU0FBU3huRSxFQUFRanpCLEdBQzlCLE9BQVFFLEtBQU1GLEVBQUdtNUYsT0FBUWxtRSxJQUN2QnluRSxHQUFXLFNBQVMxNkYsR0FDdEIsT0FBUUUsS0FBTUYsSUFDWjI2RixHQUFXLFNBQVN2NUYsRUFBUXBCLEdBRTlCLE9BREFvQixFQUFFa0ksS0FBS3RKLEdBQ0FvQixHQUVQdzVGLEdBQWMsRUFDZEMsR0FBZSxFQUNiQyxLQUF5Qi9xRixLQUFNLEVBQUdDLE9BQVEsSUFDNUMrcUYsR0FBaUIsRUFDakJDLE1BQ0FDLEdBQWtCLEVBSXRCLFFBQTBCcHVFLElBQXRCeEosRUFBUTYzRSxVQUF5QixDQUNuQyxLQUFNNzNFLEVBQVE2M0UsYUFBYXpmLEdBQ3pCLE1BQU0sSUFBSXo1RSxNQUFNLG1DQUFxQ3FoQixFQUFRNjNFLFVBQVksTUFHM0V2ZixFQUF3QkYsRUFBdUJwNEQsRUFBUTYzRSxXQUd6RCxTQUFTeDRGLEtBQ1AsT0FBT2txRCxFQUFNa29CLFVBQVUrbEIsR0FBY0QsSUFHdkMsU0FBU2g1RSxLQUNQLE9BQU91NUUsR0FBb0JOLEdBQWNELElBdUIzQyxTQUFTMWUsR0FBdUJrZixFQUFlQyxHQUM3QyxPQUFTaDNGLEtBQU0sVUFBVzNCLEtBQU0wNEYsRUFBT0MsV0FBWUEsR0FHckQsU0FBU2hmLEdBQXFCdkIsRUFBb0JFLEVBQW1CcWdCLEdBQ25FLE9BQVNoM0YsS0FBTSxRQUFTeTJFLE1BQU9BLEVBQU9FLFNBQVVBLEVBQVVxZ0IsV0FBWUEsR0FXeEUsU0FBU3pYLEdBQXFCcHdFLEdBQzVCLE9BQVNuUCxLQUFNLFFBQVNtUCxZQUFhQSxHQUd2QyxTQUFTOG5GLEdBQXNCQyxHQUM3QixJQUNJOTVGLEVBREFtZ0UsRUFBVWs1QixHQUFvQlMsR0FHbEMsR0FBSTM1QixFQUNGLE9BQU9BLEVBR1AsSUFEQW5nRSxFQUFJODVGLEVBQU0sR0FDRlQsR0FBb0JyNUYsSUFDMUJBLElBU0YsSUFMQW1nRSxHQUNFN3hELE1BRkY2eEQsRUFBVWs1QixHQUFvQnI1RixJQUVkc08sS0FDZEMsT0FBUTR4RCxFQUFRNXhELFFBR1h2TyxFQUFJODVGLEdBQ21CLEtBQXhCM3VDLEVBQU1yaUQsV0FBVzlJLElBQ25CbWdFLEVBQVE3eEQsT0FDUjZ4RCxFQUFRNXhELE9BQVMsR0FFakI0eEQsRUFBUTV4RCxTQUdWdk8sSUFLRixPQUZBcTVGLEdBQW9CUyxHQUFPMzVCLEVBRXBCQSxFQUlYLFNBQVN1NUIsR0FBb0JLLEVBQWtCQyxHQUM3QyxJQUFNQyxFQUFrQkosR0FBc0JFLEdBQ3hDRyxFQUFnQkwsR0FBc0JHLEdBRTVDLE9BQ0V4ckYsT0FDRThoQixPQUFReXBFLEVBQ1J6ckYsS0FBTTJyRixFQUFnQjNyRixLQUN0QkMsT0FBUTByRixFQUFnQjFyRixRQUUxQkUsS0FDRTZoQixPQUFRMHBFLEVBQ1IxckYsS0FBTTRyRixFQUFjNXJGLEtBQ3BCQyxPQUFRMnJGLEVBQWMzckYsU0FLNUIsU0FBUzRyRixHQUFTM2dCLEdBQ1oyZixHQUFjRyxLQUVkSCxHQUFjRyxLQUNoQkEsR0FBaUJILEdBQ2pCSSxPQUdGQSxHQUFvQjF4RixLQUFLMnhFLElBTzNCLFNBQVM0Z0IsR0FBeUI1Z0IsRUFBMEJiLEVBQXNCMGhCLEdBQ2hGLE9BQU8sSUFBSTVoQixFQUNUQSxFQUFZSSxhQUFhVyxFQUFXYixHQUNwQ2EsRUFDQWIsRUFDQTBoQixHQUlKLFNBQVNwZ0IsS0FDUCxJQUFJcWdCLEVBQVFDLEVBQUlDLEVBQUlDLEVBSXBCLEdBRkFILEVBQUtuQixHQUNBdUIsT0FDTTNnQixFQUFZLENBa0JyQixJQWpCQXdnQixLQUNBQyxFQUFLckIsSUFDTHNCLEVBQUtFLFFBQ001Z0IsR0FDSjJnQixPQUNNM2dCLEdBQ1RxZixHQUFlb0IsRUFFZkEsRUFEQUMsRUFBS3RnQixFQUFPc2dCLEtBT2R0QixHQUFjcUIsRUFDZEEsRUFBS3pnQixHQUVBeWdCLElBQU96Z0IsR0FDWndnQixFQUFHMXlGLEtBQUsyeUYsR0FDUkEsRUFBS3JCLElBQ0xzQixFQUFLRSxRQUNNNWdCLEdBQ0oyZ0IsT0FDTTNnQixHQUNUcWYsR0FBZW9CLEVBRWZBLEVBREFDLEVBQUt0Z0IsRUFBT3NnQixLQU9kdEIsR0FBY3FCLEVBQ2RBLEVBQUt6Z0IsR0FHTHdnQixJQUFPeGdCLEdBQ1RxZixHQUFla0IsRUFFZkEsRUFES2xnQixFQUFPbWdCLEtBR1pwQixHQUFjbUIsRUFDZEEsRUFBS3ZnQixRQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsRUFHUCxPQUFPdWdCLEVBR1QsU0FBU0ssS0FDUCxJQUFJTCxFQUFJTSxFQWFSLE9BWEFOLEVBQUtuQixJQUNMeUIsRUFBS0MsUUFDTTlnQixJQUNUcWYsR0FBZWtCLEVBQ2ZNLEVBQUt0Z0IsTUFFUGdnQixFQUFLTSxLQUNNN2dCLElBQ1R1Z0IsRUFBS1EsTUFHQVIsRUFHVCxTQUFTTyxLQUNQLElBQUlQLEVBQUlNLEVBQUlMLEVBQUlDLEVBQUlDLEVBQUlNLEVBVXhCLEdBUkFULEVBQUtuQixHQUNEaHVDLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBTzVlLEdBQ25DcWdCLEVBQUtyZ0IsRUFDTDRlLElBQWUsSUFFZnlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzNmLElBRXBDb2dCLElBQU83Z0IsRUFBWSxDQVNyQixJQVJBd2dCLEtBQ0k3ZixFQUFPNTVCLEtBQUtxSyxFQUFNOWlELE9BQU84d0YsTUFDM0JxQixFQUFLcnZDLEVBQU05aUQsT0FBTzh3RixJQUNsQkEsT0FFQXFCLEVBQUt6Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3hmLElBRWpDNmYsSUFBT3pnQixHQUNad2dCLEVBQUcxeUYsS0FBSzJ5RixHQUNKOWYsRUFBTzU1QixLQUFLcUssRUFBTTlpRCxPQUFPOHdGLE1BQzNCcUIsRUFBS3J2QyxFQUFNOWlELE9BQU84d0YsSUFDbEJBLE9BRUFxQixFQUFLemdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVN4ZixJQUd0QzRmLElBQU94Z0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CcUIsRUFBSzNmLEVBQ0xzZSxPQUVBcUIsRUFBS3pnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTcmYsSUFFcEMwZixJQUFPemdCLEVBRVR1Z0IsRUFEQU0sR0FBTUEsRUFBSUwsRUFBSUMsSUFHZHJCLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBR1BvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixRQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsRUFFUCxHQUFJdWdCLElBQU92Z0IsRUFTVCxHQVJBdWdCLEVBQUtuQixHQUNEaHVDLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT3BlLEdBQ25DNmYsRUFBSzdmLEVBQ0xvZSxJQUFlLElBRWZ5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNuZixJQUVwQzRmLElBQU83Z0IsRUFBWSxDQXNDckIsSUFyQ0F3Z0IsS0FDQUMsRUFBS3JCLEdBQ0xzQixFQUFLdEIsR0FDTEssS0FDSXJ1QyxFQUFNNnZDLE9BQU83QixHQUFhLEtBQU9sZSxHQUNuQzhmLEVBQUs5ZixFQUNMa2UsSUFBZSxJQUVmNEIsRUFBS2hoQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTamYsSUFFeENzZSxLQUNJdUIsSUFBT2hoQixFQUNUMGdCLE9BQUtydkUsR0FFTCt0RSxHQUFjc0IsRUFDZEEsRUFBSzFnQixHQUVIMGdCLElBQU8xZ0IsR0FDTDV1QixFQUFNanFELE9BQVNpNEYsSUFDakI0QixFQUFLNXZDLEVBQU05aUQsT0FBTzh3RixJQUNsQkEsT0FFQTRCLEVBQUtoaEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2hmLElBRXBDNGYsSUFBT2hoQixFQUVUeWdCLEVBREFDLEdBQU1BLEVBQUlNLElBR1Y1QixHQUFjcUIsRUFDZEEsRUFBS3pnQixLQUdQb2YsR0FBY3FCLEVBQ2RBLEVBQUt6Z0IsR0FFQXlnQixJQUFPemdCLEdBQ1p3Z0IsRUFBRzF5RixLQUFLMnlGLEdBQ1JBLEVBQUtyQixHQUNMc0IsRUFBS3RCLEdBQ0xLLEtBQ0lydUMsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPbGUsR0FDbkM4ZixFQUFLOWYsRUFDTGtlLElBQWUsSUFFZjRCLEVBQUtoaEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2pmLElBRXhDc2UsS0FDSXVCLElBQU9oaEIsRUFDVDBnQixPQUFLcnZFLEdBRUwrdEUsR0FBY3NCLEVBQ2RBLEVBQUsxZ0IsR0FFSDBnQixJQUFPMWdCLEdBQ0w1dUIsRUFBTWpxRCxPQUFTaTRGLElBQ2pCNEIsRUFBSzV2QyxFQUFNOWlELE9BQU84d0YsSUFDbEJBLE9BRUE0QixFQUFLaGhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNoZixJQUVwQzRmLElBQU9oaEIsRUFFVHlnQixFQURBQyxHQUFNQSxFQUFJTSxJQUdWNUIsR0FBY3FCLEVBQ2RBLEVBQUt6Z0IsS0FHUG9mLEdBQWNxQixFQUNkQSxFQUFLemdCLEdBR0x3Z0IsSUFBT3hnQixHQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT2xlLEdBQ25DdWYsRUFBS3ZmLEVBQ0xrZSxJQUFlLElBRWZxQixFQUFLemdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNqZixJQUVwQ3NmLElBQU96Z0IsRUFFVHVnQixFQURBTSxHQUFNQSxFQUFJTCxFQUFJQyxJQUdkckIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FHUG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLFFBR1BvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixFQUlULE9BQU91Z0IsRUFHVCxTQUFTVyxLQUNQLElBQUlYLEVBQUlNLEVBVVIsT0FSQU4sRUFBS25CLElBQ0x5QixFQVVGLFdBQ0UsSUFBSU4sRUFBSU0sRUErQlIsT0E3QkFOLEVBQUtuQixJQUNMeUIsRUErQkYsV0FDRSxJQUFJTixFQUFJTSxFQUFRSixFQUFRTyxFQUFRRyxFQXVKaEMsT0FySkFaLEVBQUtuQixJQUNMeUIsRUFBS08sUUFDTXBoQixHQUNKMmdCLE9BQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CcUIsRUFBS2hmLEVBQ0wyZCxPQUVBcUIsRUFBS3pnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTMWUsSUFFcEMrZSxJQUFPemdCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUZ2hCLEVBQUtFLFFBQ01saEIsR0FDVHFmLEdBQWVrQixFQUNmTSxFQUFLbGYsRUFBUWtmLEVBQUlHLEdBQ2pCVCxFQUFLTSxJQVVUekIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUtuQixHQUNEaHVDLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT3ZkLEdBQ25DZ2YsRUFBS2hmLEVBQ0x1ZCxJQUFlLElBRWZ5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVN0ZSxJQUVwQytlLElBQU83Z0IsR0FDSnFoQixPQUNNcmhCLElBQ1R5Z0IsRUFBS2EsUUFDTXRoQixHQUNKMmdCLE9BQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CNEIsRUFBS3ZmLEVBQ0wyZCxPQUVBNEIsRUFBS2hoQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTMWUsSUFFcENzZixJQUFPaGhCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUbWhCLEVBQUtELFFBQ01saEIsR0FDVHFmLEdBQWVrQixFQUNmTSxFQUFLOWUsRUFBUTBlLEVBQUlVLEdBQ2pCWixFQUFLTSxJQVVUekIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FlYm9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUtuQixHQUNEaHVDLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT25kLEdBQ25DNGUsRUFBSzVlLEVBQ0xtZCxJQUFlLElBRWZ5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNsZSxJQUVwQzJlLElBQU83Z0IsR0FDSjJnQixPQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQnFCLEVBQUtoZixFQUNMMmQsT0FFQXFCLEVBQUt6Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzFlLElBRXBDK2UsSUFBT3pnQixHQUNKMmdCLE9BQ00zZ0IsSUFDVGdoQixFQUFLRSxRQUNNbGhCLEdBQ1RxZixHQUFla0IsRUFDZk0sRUFBSzFlLEVBQVE2ZSxHQUNiVCxFQUFLTSxJQVVUekIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBS0p1Z0IsRUF2TEZnQixNQUNNdmhCLElBQ1RxZixHQUFla0IsRUFDZk0sRUFBS3RmLEVBQVFzZixLQUVmTixFQUFLTSxLQUNNN2dCLElBQ1R1Z0IsRUFBS2lCLFFBQ014aEIsSUFDVHVnQixFQW1VTixXQUNFLElBQUlBLEVBQUlNLEVBQVFKLEVBQVFPLEVBQVFHLEVBQVFNLEVBQVNDLEVBQVVDLEVBMkwzRCxPQXpMQXBCLEVBQUtuQixHQUNEaHVDLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT3JjLEdBQ25DOGQsRUFBSzlkLEVBQ0xxYyxJQUFlLElBRWZ5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNwZCxJQUVwQzZkLElBQU83Z0IsR0FDSjJnQixPQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQnFCLEVBQUt4ZCxFQUNMbWMsT0FFQXFCLEVBQUt6Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2xkLElBRXBDdWQsSUFBT3pnQixHQUNKMmdCLE9BQ00zZ0IsSUFDVGdoQixFQUFLWSxRQUNNNWhCLEdBQ0oyZ0IsT0FDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkIrQixFQUFLaGUsRUFDTGljLE9BRUErQixFQUFLbmhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNoZCxJQUVwQytkLElBQU9uaEIsR0FDSjJnQixPQUNNM2dCLElBQ1R5aEIsRUFBS1AsUUFDTWxoQixHQUNIMmdCLE9BQ00zZ0IsR0FDTjV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU8vYixHQUNuQ3FlLEVBQU1yZSxFQUNOK2IsSUFBZSxJQUVmc0MsRUFBTTFoQixFQUNrQixJQUFwQnlmLElBQXlCVyxHQUFTOWMsSUFFcENvZSxJQUFRMWhCLEdBQ0oyZ0IsT0FDTTNnQixJQUNWMmhCLEVBQU1ULFFBQ01saEIsR0FDVnFmLEdBQWVrQixFQUNmTSxFQUFLdGQsRUFBUXlkLEVBQUlTLEVBQUlFLEdBQ3JCcEIsRUFBS00sSUFVVHpCLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBZWJvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQWVib2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUtuQixHQUNEaHVDLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT3JjLEdBQ25DOGQsRUFBSzlkLEVBQ0xxYyxJQUFlLElBRWZ5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNwZCxJQUVwQzZkLElBQU83Z0IsR0FDSjJnQixPQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQnFCLEVBQUt4ZCxFQUNMbWMsT0FFQXFCLEVBQUt6Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2xkLElBRXBDdWQsSUFBT3pnQixHQUNKMmdCLE9BQ00zZ0IsSUFDVGdoQixFQUFLWSxRQUNNNWhCLEdBQ0oyZ0IsT0FDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkIrQixFQUFLaGUsRUFDTGljLE9BRUErQixFQUFLbmhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNoZCxJQUVwQytkLElBQU9uaEIsR0FDSjJnQixPQUNNM2dCLElBQ1R5aEIsRUFBS1AsUUFDTWxoQixHQUNUcWYsR0FBZWtCLEVBQ2ZNLEVBQUtyZCxFQUFRd2QsRUFBSVMsR0FDakJsQixFQUFLTSxJQVVUekIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FlYm9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBT1RvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixJQUlGdWdCLEVBL2ZFc0IsTUFDTTdoQixJQUNUdWdCLEVBZ2dCUixXQUNFLElBQUlBLEVBQUlNLEVBQUlMLEVBQUlDLEVBQUlDLEVBQUlNLEVBQUljLEVBQUlYLEVBQUlZLEVBQUlOLEVBQUlPLEVBQUtOLEVBQUtPLEVBQUtOLEVBQUtPLEVBQUtDLEVBd1VyRSxPQXRVQTVCLEVBQUtuQixHQUNEaHVDLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBTzNiLEdBQ25Db2QsRUFBS3BkLEVBQ0wyYixJQUFlLElBRWZ5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVMxYyxJQUVwQ21kLElBQU83Z0IsSUFDVHdnQixFQUFLRyxRQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQnFCLEVBQUt4ZCxFQUNMbWMsT0FFQXFCLEVBQUt6Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2xkLElBRXBDdWQsSUFBT3pnQixJQUNUMGdCLEVBQUtDLFFBQ00zZ0IsSUFDVGdoQixFQUFLWSxRQUNNNWhCLElBQ1Q4aEIsRUFBS25CLFFBQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CK0IsRUFBS2hlLEVBQ0xpYyxPQUVBK0IsRUFBS25oQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTaGQsSUFFcEMrZCxJQUFPbmhCLElBQ1QraEIsRUFBS3BCLFFBQ00zZ0IsSUFDVHloQixFQUFLUCxRQUNNbGhCLEdBQ1RxZixHQUFla0IsRUFDZk0sRUFBS2xkLEdBQVFxZCxFQUFJUyxHQUNqQmxCLEVBQUtNLElBVVR6QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQWVib2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUtuQixHQUNEaHVDLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT3hiLElBQ25DaWQsRUFBS2pkLEdBQ0x3YixJQUFlLElBRWZ5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVN2YyxLQUVwQ2dkLElBQU83Z0IsR0FDVHdnQixFQUFLcEIsR0FDTEssS0FDQWdCLEVBQUsyQixLQUNMM0MsS0FDSWdCLElBQU96Z0IsRUFDVHdnQixPQUFLbnZFLEdBRUwrdEUsR0FBY29CLEVBQ2RBLEVBQUt4Z0IsR0FFSHdnQixJQUFPeGdCLElBQ1R5Z0IsRUFBS0UsUUFDTTNnQixJQUNUMGdCLEVBQUtRLFFBQ01saEIsSUFDVGdoQixFQUFLTCxRQUNNM2dCLEdBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPM2IsR0FDbkNxZSxFQUFLcmUsRUFDTDJiLElBQWUsSUFFZjBDLEVBQUs5aEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzFjLElBRXBDb2UsSUFBTzloQixJQUNUbWhCLEVBQUtSLFFBQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CMkMsRUFBSzllLEVBQ0xtYyxPQUVBMkMsRUFBSy9oQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTbGQsSUFFcEM2ZSxJQUFPL2hCLElBQ1R5aEIsRUFBS2QsUUFDTTNnQixJQUNUZ2lCLEVBQU1KLFFBQ001aEIsSUFDVjBoQixFQUFNZixRQUNNM2dCLEdBQzRCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQjZDLEVBQU05ZSxFQUNOaWMsT0FFQTZDLEVBQU1qaUIsRUFDa0IsSUFBcEJ5ZixJQUF5QlcsR0FBU2hkLElBRXBDNmUsSUFBUWppQixJQUNWMmhCLEVBQU1oQixRQUNNM2dCLEdBQzRCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQjhDLEVBQU05ZixFQUNOZ2QsT0FFQThDLEVBQU1saUIsRUFDa0IsSUFBcEJ5ZixJQUF5QlcsR0FBUy9kLElBRXBDNmYsSUFBUWxpQixHQUNWcWYsR0FBZWtCLEVBQ2ZNLEVBQUsvYyxHQUFRNGMsRUFBSXNCLEdBQ2pCekIsRUFBS00sSUFFTHpCLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBT1RvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQWVib2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBZWJvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsR0FFSHVnQixJQUFPdmdCLElBQ1R1Z0IsRUFBS25CLEdBQ0RodUMsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPcmIsSUFDbkM4YyxFQUFLOWMsR0FDTHFiLElBQWUsSUFFZnlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3BjLEtBRXBDNmMsSUFBTzdnQixJQUNUd2dCLEVBQUtHLFFBQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CcUIsRUFBS3hkLEVBQ0xtYyxPQUVBcUIsRUFBS3pnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTbGQsSUFFcEN1ZCxJQUFPemdCLElBQ1QwZ0IsRUFBS0MsUUFDTTNnQixJQUNUZ2hCLEVBdUdkLFdBQ0UsSUFBSVQsRUFBSU0sRUFnQlIsT0FkQU4sRUFBSzhCLFFBQ01yaUIsSUFDVHVnQixFQUFLK0IsUUFDTXRpQixJQUNUdWdCLEVBQUtuQixJQUNMeUIsRUFBSzBCLFFBQ012aUIsSUFDVHFmLEdBQWVrQixFQUNmTSxFQUFLMWMsR0FBUTBjLElBRWZOLEVBQUtNLEdBSUZOLEVBeEhVaUMsTUFDTXhpQixJQUNUOGhCLEVBQUtuQixRQUNNM2dCLElBQ1RtaEIsRUFBS1MsUUFDTTVoQixJQUNUK2hCLEVBQUtwQixRQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQnFDLEVBQUtyZixFQUNMZ2QsT0FFQXFDLEVBQUt6aEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUy9kLElBRXBDb2YsSUFBT3poQixJQUNUZ2lCLEVBQU1yQixRQUNNM2dCLElBQ1YwaEIsRUFBTUUsUUFDTTVoQixJQUNWaWlCLEVBQU10QixRQUNNM2dCLEdBQzRCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQnVDLEVBQU14ZSxFQUNOaWMsT0FFQXVDLEVBQU0zaEIsRUFDa0IsSUFBcEJ5ZixJQUF5QlcsR0FBU2hkLElBRXBDdWUsSUFBUTNoQixJQUNWa2lCLEVBQU12QixRQUNNM2dCLElBQ1ZtaUIsRUFBTWpCLFFBQ01saEIsR0FDVnFmLEdBQWVrQixFQUNmTSxFQUFLNWMsR0FBUStjLEVBQUlHLEVBQUlPLEVBQUtTLEdBQzFCNUIsRUFBS00sSUFVVHpCLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBZWJvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQXVCakJvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FLSnVnQixFQXowQklrQyxNQUNNemlCLElBQ1R1Z0IsRUE4MUJWLFdBQ0UsSUFBSUEsRUFBSU0sRUFBSUwsRUFBSUMsRUFBSUMsRUFBUW9CLEVBeUs1QixPQXZLQXZCLEVBQUtuQixHQUNEaHVDLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT2hiLElBQ25DeWMsRUFBS3pjLEdBQ0xnYixJQUFlLElBRWZ5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVMvYixLQUVwQ3djLElBQU83Z0IsR0FDVHdnQixFQUFLcEIsR0FDTEssS0FDQWdCLEVBQUsyQixLQUNMM0MsS0FDSWdCLElBQU96Z0IsRUFDVHdnQixPQUFLbnZFLEdBRUwrdEUsR0FBY29CLEVBQ2RBLEVBQUt4Z0IsR0FFSHdnQixJQUFPeGdCLElBQ1R5Z0IsRUFBS0UsUUFDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkJzQixFQUFLdGUsRUFDTGdkLE9BRUFzQixFQUFLMWdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVMvZCxJQUVwQ3FlLElBQU8xZ0IsR0FDVHFmLEdBQWVrQixFQUNmTSxFQUFLdmMsS0FDTGljLEVBQUtNLElBRUx6QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FHUG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUtuQixHQUNEaHVDLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBTzdhLElBQ25Dc2MsRUFBS3RjLEdBQ0w2YSxJQUFlLElBRWZ5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVM1YixLQUVwQ3FjLElBQU83Z0IsR0FDVHdnQixFQUFLcEIsR0FDTEssS0FDQWdCLEVBQUsyQixLQUNMM0MsS0FDSWdCLElBQU96Z0IsRUFDVHdnQixPQUFLbnZFLEdBRUwrdEUsR0FBY29CLEVBQ2RBLEVBQUt4Z0IsR0FFSHdnQixJQUFPeGdCLElBQ1R5Z0IsRUFBS0UsUUFDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkJzQixFQUFLdGUsRUFDTGdkLE9BRUFzQixFQUFLMWdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVMvZCxJQUVwQ3FlLElBQU8xZ0IsR0FDVHFmLEdBQWVrQixFQUNmTSxFQUFLcGMsS0FDTDhiLEVBQUtNLElBRUx6QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FHUG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUtuQixHQUNEaHVDLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBTzFhLElBQ25DbWMsRUFBS25jLEdBQ0wwYSxJQUFlLElBRWZ5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVN6YixLQUVwQ2tjLElBQU83Z0IsR0FDVHdnQixFQUFLcEIsR0FDTEssS0FDQWdCLEVBQUsyQixLQUNMM0MsS0FDSWdCLElBQU96Z0IsRUFDVHdnQixPQUFLbnZFLEdBRUwrdEUsR0FBY29CLEVBQ2RBLEVBQUt4Z0IsR0FFSHdnQixJQUFPeGdCLElBQ1R5Z0IsRUFBS0UsUUFDTTNnQixJQUNUMGdCLEVBQUtrQixRQUNNNWhCLElBQ1QwZ0IsRUFBSyxNQUVIQSxJQUFPMWdCLEdBQ0oyZ0IsT0FDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkIwQyxFQUFLMWYsRUFDTGdkLE9BRUEwQyxFQUFLOWhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVMvZCxJQUVwQ3lmLElBQU85aEIsR0FDVHFmLEdBQWVrQixFQUNmTSxFQUFLamMsR0FBUThiLEdBQ2JILEVBQUtNLElBRUx6QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBR1BvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQUtKdWdCLEVBeGdDTW1DLE1BQ00xaUIsSUFDVHVnQixFQUFLZ0MsUUFDTXZpQixJQUNUdWdCLEVBQUs4QixRQUNNcmlCLElBQ1R1Z0IsRUFBSytCLE1BU1ovQixFQTFDRm9DLE1BQ00zaUIsSUFDVHFmLEdBQWVrQixFQUNmTSxFQUFLeGYsRUFBUXdmLElBRWZOLEVBQUtNLEVBbU1QLFNBQVN3QixLQUNQLElBQUk5QixFQUFJTSxFQUFRSixFQStCaEIsT0E3QkFGLEVBQUtuQixJQUNMeUIsRUFBS2UsUUFDTTVoQixHQUNKMmdCLE9BQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CcUIsRUFBS3JlLEVBQ0xnZCxPQUVBcUIsRUFBS3pnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTL2QsSUFFcENvZSxJQUFPemdCLEdBQ1RxZixHQUFla0IsRUFFZkEsRUFEQU0sRUFBS3ZlLEVBQVF1ZSxLQUdiekIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBR0F1Z0IsRUFHVCxTQUFTK0IsS0FDUCxJQUFJL0IsRUFBUUMsRUF5QlosT0F2QkFELEVBQUtuQixHQUNBdUIsT0FDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkJvQixFQUFLcGUsRUFDTGdkLE9BRUFvQixFQUFLeGdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVMvZCxJQUVwQ21lLElBQU94Z0IsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURLaGUsTUFHTDZjLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBR1BvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixHQUdBdWdCLEVBR1QsU0FBU2lCLEtBQ1AsSUFBSWpCLEVBQUlNLEVBQVFKLEVBQUlDLEVBQUlNLEVBVXhCLEdBUkFULEVBQUtuQixHQUNpQyxNQUFsQ2h1QyxFQUFNcmlELFdBQVdxd0YsS0FDbkJ5QixFQUFLcmUsRUFDTDRjLE9BRUF5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVMzZCxJQUVwQ29lLElBQU83Z0IsRUFFVCxHQURLMmdCLE9BQ00zZ0IsRUFBWSxDQWtCckIsSUFqQkF5Z0IsS0FDQUMsRUFBS3RCLElBQ0w0QixFQUFLRSxRQUNNbGhCLEdBQ0oyZ0IsT0FDTTNnQixHQUNUcWYsR0FBZXFCLEVBRWZBLEVBREFNLEVBQUt0ZSxFQUFRc2UsS0FPZjVCLEdBQWNzQixFQUNkQSxFQUFLMWdCLEdBRUEwZ0IsSUFBTzFnQixHQUNaeWdCLEVBQUczeUYsS0FBSzR5RixHQUNSQSxFQUFLdEIsSUFDTDRCLEVBQUtFLFFBQ01saEIsR0FDSjJnQixPQUNNM2dCLEdBQ1RxZixHQUFlcUIsRUFFZkEsRUFEQU0sRUFBS3RlLEVBQVFzZSxLQU9mNUIsR0FBY3NCLEVBQ2RBLEVBQUsxZ0IsR0FHTHlnQixJQUFPemdCLEdBQzZCLE1BQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQnNCLEVBQUsvZCxFQUNMeWMsT0FFQXNCLEVBQUsxZ0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3hkLElBRXBDOGQsSUFBTzFnQixHQUNUcWYsR0FBZWtCLEVBRWZBLEVBREFNLEVBQUtoZSxFQUFRNGQsS0FHYnJCLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBR1BvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixRQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsT0FHUG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEVBR1AsT0FBT3VnQixFQStzQlQsU0FBU2dDLEtBQ1AsSUFBSWhDLEVBQUlNLEVBVVIsT0FSQU4sRUFBS25CLElBQ0x5QixFQUFLRSxRQUNNL2dCLElBQ1RxZixHQUFla0IsRUFDZk0sRUFBSy9iLEdBQVErYixJQUVmTixFQUFLTSxFQUtQLFNBQVNFLEtBQ1AsSUFBSVIsRUFVSixPQVJBQSxFQVdGLFdBQ0UsSUFBSUEsRUFBSU0sRUFBSUwsRUFBSUMsRUFBSUMsRUFBUW9CLEVBMEQ1QixPQXhEQXZCLEVBQUtuQixJQUNMeUIsRUFBSytCLFFBQ001aUIsR0FDVHdnQixFQUFLcEIsR0FDTEssS0FDQWdCLEVBQUtXLEtBQ0wzQixLQUNJZ0IsSUFBT3pnQixFQUNUd2dCLE9BQUtudkUsR0FFTCt0RSxHQUFjb0IsRUFDZEEsRUFBS3hnQixHQUVId2dCLElBQU94Z0IsSUFDVHlnQixFQUFLRSxRQUNNM2dCLElBQ1QwZ0IsRUEyQ1IsV0FDRSxJQUFJSCxFQUFJTSxFQUFJTCxFQUFJQyxFQUFJQyxFQUFJTSxFQUFRRyxFQUloQyxHQUZBWixFQUFLbkIsSUFDTHlCLEVBQUtnQyxRQUNNN2lCLEVBQVksQ0FvQ3JCLElBbkNBd2dCLEtBQ0FDLEVBQUtyQixJQUNMc0IsRUFBS0MsUUFDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkI0QixFQUFLaGMsR0FDTG9hLE9BRUE0QixFQUFLaGhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNuYixLQUVwQytiLElBQU9oaEIsR0FDSjJnQixPQUNNM2dCLElBQ1RtaEIsRUFBSzBCLFFBQ003aUIsR0FDVHFmLEdBQWVvQixFQUNmQyxFQUFLeGIsR0FBUTJiLEVBQUlNLEdBQ2pCVixFQUFLQyxJQVVUdEIsR0FBY3FCLEVBQ2RBLEVBQUt6Z0IsS0FHUG9mLEdBQWNxQixFQUNkQSxFQUFLemdCLEdBRUF5Z0IsSUFBT3pnQixHQUNad2dCLEVBQUcxeUYsS0FBSzJ5RixHQUNSQSxFQUFLckIsSUFDTHNCLEVBQUtDLFFBQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CNEIsRUFBS2hjLEdBQ0xvYSxPQUVBNEIsRUFBS2hoQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTbmIsS0FFcEMrYixJQUFPaGhCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUbWhCLEVBQUswQixRQUNNN2lCLEdBQ1RxZixHQUFlb0IsRUFDZkMsRUFBS3hiLEdBQVEyYixFQUFJTSxHQUNqQlYsRUFBS0MsSUFVVHRCLEdBQWNxQixFQUNkQSxFQUFLemdCLEtBR1BvZixHQUFjcUIsRUFDZEEsRUFBS3pnQixHQUdMd2dCLElBQU94Z0IsR0FDVHFmLEdBQWVrQixFQUNmTSxFQUFLMWIsR0FBUTBiLEVBQUlMLEdBQ2pCRCxFQUFLTSxJQUVMekIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsUUFHUG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEVBR1AsT0FBT3VnQixFQXRJSXVDLE1BQ005aUIsR0FDSjJnQixPQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQjBDLEVBQUsxZixFQUNMZ2QsT0FFQTBDLEVBQUs5aEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUy9kLElBRXBDeWYsSUFBTzloQixHQUNUcWYsR0FBZWtCLEVBQ2ZNLEVBQUs5YixHQUFROGIsRUFBSUgsR0FDakJILEVBQUtNLElBRUx6QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQWVib2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FHUG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBR0F1Z0IsRUF0RUZ3QyxNQUNNL2lCLElBQ1R1Z0IsRUFxS0osV0FDRSxJQUFJQSxFQUFJTSxFQUFRSixFQStCaEIsT0E3QkFGLEVBQUtuQixJQUNMeUIsRUF1d1BGLFdBQ0UsSUFBSU4sRUFBSU0sRUFBWUgsRUFBUW9CLEVBQUlYLEVBQUlZLEVBSXBDLEdBRkF4QixFQUFLbkIsSUFDTHlCLEVBOEVGLFdBQ0UsSUFBSU4sRUFBSU0sRUFBUUosRUFBSUMsRUFBSU0sRUFBSWMsRUFpRDVCLE9BL0NBdkIsRUFBS25CLElBQ0x5QixFQWlERixXQUNFLElBQUlOLEVBNEJKLE9BMUJJbnZDLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT25DLElBQ25Dc0QsRUFBS3RELEdBQ0xtQyxJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNsRCxLQUVwQ3FELElBQU92Z0IsSUFDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU9qQyxJQUNuQ29ELEVBQUtwRCxHQUNMaUMsSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTaEQsS0FFcENtRCxJQUFPdmdCLElBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPL0IsSUFDbkNrRCxFQUFLbEQsR0FDTCtCLElBQWUsSUFFZm1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzlDLE9BS3JDaUQsRUE5RUZ5QyxNQUNNaGpCLEdBQ0pxaEIsT0FDTXJoQixJQUNUeWdCLEVBQUtXLFFBQ01waEIsR0FDVDBnQixFQUFLdEIsSUFDTDRCLEVBQUtLLFFBQ01yaEIsSUFDVDhoQixFQXltQlYsV0FDRSxJQUFJdkIsRUFBSU0sRUFBUUosRUErQmhCLE9BN0JBRixFQUFLbkIsR0FDaUMsS0FBbENodUMsRUFBTXJpRCxXQUFXcXdGLEtBQ25CeUIsRUFBS3BmLEVBQ0wyZCxPQUVBeUIsRUFBSzdnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTMWUsSUFFcENtZixJQUFPN2dCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUeWdCLEVBcUJOLFdBQ0UsSUFBSUYsRUFBSU0sRUFBSUwsRUFBSUMsRUFBSUMsRUFBSU0sRUFBUUcsRUFJaEMsR0FGQVosRUFBS25CLElBQ0x5QixFQUFLb0MsUUFDTWpqQixFQUFZLENBb0NyQixJQW5DQXdnQixLQUNBQyxFQUFLckIsSUFDTHNCLEVBQUtDLFFBQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CNEIsRUFBS2hjLEdBQ0xvYSxPQUVBNEIsRUFBS2hoQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTbmIsS0FFcEMrYixJQUFPaGhCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUbWhCLEVBQUs4QixRQUNNampCLEdBQ1RxZixHQUFlb0IsRUFDZkMsRUFBSzVCLEdBQVMrQixFQUFJTSxHQUNsQlYsRUFBS0MsSUFVVHRCLEdBQWNxQixFQUNkQSxFQUFLemdCLEtBR1BvZixHQUFjcUIsRUFDZEEsRUFBS3pnQixHQUVBeWdCLElBQU96Z0IsR0FDWndnQixFQUFHMXlGLEtBQUsyeUYsR0FDUkEsRUFBS3JCLElBQ0xzQixFQUFLQyxRQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQjRCLEVBQUtoYyxHQUNMb2EsT0FFQTRCLEVBQUtoaEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU25iLEtBRXBDK2IsSUFBT2hoQixHQUNKMmdCLE9BQ00zZ0IsSUFDVG1oQixFQUFLOEIsUUFDTWpqQixHQUNUcWYsR0FBZW9CLEVBQ2ZDLEVBQUs1QixHQUFTK0IsRUFBSU0sR0FDbEJWLEVBQUtDLElBVVR0QixHQUFjcUIsRUFDZEEsRUFBS3pnQixLQUdQb2YsR0FBY3FCLEVBQ2RBLEVBQUt6Z0IsR0FHTHdnQixJQUFPeGdCLEdBQ1RxZixHQUFla0IsRUFDZk0sRUFBSzFiLEdBQVEwYixFQUFJTCxHQUNqQkQsRUFBS00sSUFFTHpCLEdBQWNtQixFQUNkQSxFQUFLdmdCLFFBR1BvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixFQUdQLE9BQU91Z0IsRUFoSEUyQyxNQUNNbGpCLEdBQ1RxZixHQUFla0IsRUFDZk0sRUFBS2hDLEdBQVM0QixHQUNkRixFQUFLTSxJQVVUekIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsR0FHQXVnQixFQXpvQk00QyxNQUNNbmpCLEdBQ1RxZixHQUFlcUIsRUFDZk0sRUFBS2xFLEdBQVMrRCxFQUFJSixFQUFJcUIsR0FDdEJwQixFQUFLTSxJQU1QNUIsR0FBY3NCLEVBQ2RBLEVBQUsxZ0IsR0FFSDBnQixJQUFPMWdCLElBQ1QwZ0IsRUFBSyxNQUVIQSxJQUFPMWdCLEdBQ1RxZixHQUFla0IsRUFDZk0sRUFBSzlELEdBQVM4RCxFQUFJSixFQUFJQyxHQUN0QkgsRUFBS00sSUFFTHpCLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBV1hvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixHQUdBdWdCLEVBaElGNkMsTUFDTXBqQixFQVFULEdBUEFxZixHQUFlRCxJQUNWMUMsR0FBU21FLEdBRVA3Z0IsT0FFQTN1RCxLQUVJMnVELEVBRVQsR0FESzJnQixPQUNNM2dCLEVBUVQsR0FQc0MsTUFBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25Cc0IsRUFBS2xlLEVBQ0w0YyxPQUVBc0IsRUFBSzFnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTM2QsSUFFcENpZSxJQUFPMWdCLEVBRVQsR0FESzJnQixPQUNNM2dCLEVBQVksQ0FHckIsSUFGQThoQixLQUNBWCxFQUFLa0MsS0FDRWxDLElBQU9uaEIsR0FDWjhoQixFQUFHaDBGLEtBQUtxekYsR0FDUkEsRUFBS2tDLEtBRUh2QixJQUFPOWhCLElBQ1RtaEIsRUFBS1IsUUFDTTNnQixHQUM2QixNQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkIyQyxFQUFLcGYsRUFDTHljLE9BRUEyQyxFQUFLL2hCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVN4ZCxJQUVwQ21mLElBQU8vaEIsR0FDVHFmLEdBQWVrQixFQUNmTSxFQUFLbEUsR0FBU2tFLEVBQUlpQixHQUNsQnZCLEVBQUtNLElBRUx6QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsUUFHUG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLE9BR1BvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixPQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsT0FHUG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLE9BR1BvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixFQUdQLE9BQU91Z0IsRUF0MVBGK0MsTUFDTXRqQixHQUNKMmdCLE9BQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CcUIsRUFBS3JlLEVBQ0xnZCxPQUVBcUIsRUFBS3pnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTL2QsSUFFcENvZSxJQUFPemdCLEdBQ1RxZixHQUFla0IsRUFDZk0sRUFBS3hiLEdBQVF3YixHQUNiTixFQUFLTSxJQUVMekIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBR0F1Z0IsRUFyTUFnRCxNQUNNdmpCLElBQ1R1Z0IsRUFBS2lELE1BSUZqRCxFQWtNVCxTQUFTaUQsS0FDUCxJQUFJakQsRUFBSU0sRUFBSUwsRUFBSUMsRUFBSUMsRUFBUW9CLEVBb0Q1QixPQWxEQXZCLEVBQUtuQixJQUNMeUIsRUFBSytCLFFBQ001aUIsR0FDVHdnQixFQUFLcEIsR0FDTEssS0FDQWdCLEVBQUtXLEtBQ0wzQixLQUNJZ0IsSUFBT3pnQixFQUNUd2dCLE9BQUtudkUsR0FFTCt0RSxHQUFjb0IsRUFDZEEsRUFBS3hnQixHQUVId2dCLElBQU94Z0IsSUFDVHlnQixFQUFLRSxRQUNNM2dCLElBQ1QwZ0IsRUFBSytDLFFBQ016akIsR0FDSjJnQixPQUNNM2dCLElBQ1Q4aEIsRUFBS04sUUFDTXhoQixHQUNUcWYsR0FBZWtCLEVBRWZBLEVBREFNLEVBQUt2YixHQUFRdWIsRUFBSUgsRUFBSW9CLEtBbUI3QjFDLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBR1BvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixHQUdBdWdCLEVBR1QsU0FBU21ELEtBQ1AsSUFBSW5ELEVBQUlNLEVBQVFKLEVBQVFPLEVBQVFHLEVBQVFNLEVBQVNDLEVBQUtPLEVBdUd0RCxPQXJHQTFCLEVBQUtuQixJQUNMeUIsRUFBS08sUUFDTXBoQixHQUNKMmdCLE9BQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CcUIsRUFBS3hkLEVBQ0xtYyxPQUVBcUIsRUFBS3pnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTbGQsSUFFcEN1ZCxJQUFPemdCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUZ2hCLEVBQUsyQyxRQUNNM2pCLEdBQ0oyZ0IsT0FDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkIrQixFQUFLaGUsRUFDTGljLE9BRUErQixFQUFLbmhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNoZCxJQUVwQytkLElBQU9uaEIsR0FDSjJnQixPQUNNM2dCLElBQ1R5aEIsRUFnUmxCLFdBQ0UsSUFBSWxCLEVBQUlNLEVBQVFKLEVBQUlDLEVBQUlNLEVBQUljLEVBQUlYLEVBQVFNLEVBVXhDLEdBUkFsQixFQUFLbkIsR0FDaUMsS0FBbENodUMsRUFBTXJpRCxXQUFXcXdGLEtBQ25CeUIsRUFBS3BmLEVBQ0wyZCxPQUVBeUIsRUFBSzdnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTMWUsSUFFcENtZixJQUFPN2dCLEVBRVQsR0FESzJnQixPQUNNM2dCLEVBRVQsSUFEQXlnQixFQUFLbUQsUUFDTTVqQixFQUFZLENBb0NyQixJQW5DQTBnQixLQUNBTSxFQUFLNUIsSUFDTDBDLEVBQUtuQixRQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQitCLEVBQUtuYyxHQUNMb2EsT0FFQStCLEVBQUtuaEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU25iLEtBRXBDa2MsSUFBT25oQixHQUNKMmdCLE9BQ00zZ0IsSUFDVHloQixFQUFLbUMsUUFDTTVqQixHQUNUcWYsR0FBZTJCLEVBQ2ZjLEVBQUs5YixHQUFReWEsRUFBSWdCLEdBQ2pCVCxFQUFLYyxJQVVUMUMsR0FBYzRCLEVBQ2RBLEVBQUtoaEIsS0FHUG9mLEdBQWM0QixFQUNkQSxFQUFLaGhCLEdBRUFnaEIsSUFBT2hoQixHQUNaMGdCLEVBQUc1eUYsS0FBS2t6RixHQUNSQSxFQUFLNUIsSUFDTDBDLEVBQUtuQixRQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQitCLEVBQUtuYyxHQUNMb2EsT0FFQStCLEVBQUtuaEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU25iLEtBRXBDa2MsSUFBT25oQixHQUNKMmdCLE9BQ00zZ0IsSUFDVHloQixFQUFLbUMsUUFDTTVqQixHQUNUcWYsR0FBZTJCLEVBQ2ZjLEVBQUs5YixHQUFReWEsRUFBSWdCLEdBQ2pCVCxFQUFLYyxJQVVUMUMsR0FBYzRCLEVBQ2RBLEVBQUtoaEIsS0FHUG9mLEdBQWM0QixFQUNkQSxFQUFLaGhCLEdBR0wwZ0IsSUFBTzFnQixHQUNUcWYsR0FBZWtCLEVBQ2ZNLEVBQUs1YSxHQUFRd2EsRUFBSUMsR0FDakJILEVBQUtNLElBRUx6QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixRQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsT0FHUG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLE9BR1BvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixFQUdQLE9BQU91Z0IsRUE3WGNzRCxNQUNNN2pCLElBQ1R5aEIsRUFBSyxNQUVIQSxJQUFPemhCLEdBQ0gyZ0IsT0FDTTNnQixJQUNWMGhCLEVBQU1GLFFBQ014aEIsSUFDVjBoQixFQUFNdEMsR0FDZ0MsS0FBbENodUMsRUFBTXJpRCxXQUFXcXdGLEtBQ25CNkMsRUFBTTdmLEVBQ05nZCxPQUVBNkMsRUFBTWppQixFQUNrQixJQUFwQnlmLElBQXlCVyxHQUFTL2QsSUFFcEM0ZixJQUFRamlCLElBQ1ZxZixHQUFlcUMsRUFDZk8sRUFBTTFjLEdBQVFzYixFQUFJRyxFQUFJUyxJQUV4QkMsRUFBTU8sR0FFSlAsSUFBUTFoQixHQUNWcWYsR0FBZWtCLEVBRWZBLEVBREFNLEVBQUtyYixHQUFRcWIsRUFBSUcsRUFBSVMsRUFBSUMsS0FHekJ0QyxHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBZWJvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsR0FHQXVnQixFQXdUVCxTQUFTcUQsS0FDUCxJQUFJckQsRUFBSU0sRUFBUUosRUFBUU8sRUFBUUcsRUFnRWhDLE9BOURBWixFQUFLbkIsSUFDTHlCLEVBQUtPLFFBQ01waEIsR0FDSjJnQixPQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQnFCLEVBQUt4ZCxFQUNMbWMsT0FFQXFCLEVBQUt6Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2xkLElBRXBDdWQsSUFBT3pnQixHQUNKMmdCLE9BQ00zZ0IsSUFDVGdoQixFQUFLOEMsUUFDTTlqQixJQUNUZ2hCLEVBQUssTUFFSEEsSUFBT2hoQixHQUNKMmdCLE9BQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CK0IsRUFBS2hlLEVBQ0xpYyxPQUVBK0IsRUFBS25oQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTaGQsSUFFcEMrZCxJQUFPbmhCLEdBQ1RxZixHQUFla0IsRUFFZkEsRUFEQU0sRUFBSzNhLEdBQVEyYSxFQUFJRyxLQUdqQjVCLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBT1RvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBR0F1Z0IsRUFHVCxTQUFTcUMsS0FDUCxJQUFJckMsRUFBSU0sRUFBSUwsRUFBSUMsRUFBSUMsRUFBUW9CLEVBb0I1QixJQWxCQXZCLEVBQUtuQixHQUNMeUIsS0FDQUwsRUFBS3BCLElBQ0xxQixFQUFLc0QsUUFDTS9qQixJQUNUMGdCLEVBQUtXLFFBQ01yaEIsR0FDVHFmLEdBQWVtQixFQUVmQSxFQURBQyxFQUFLcmEsR0FBUXFhLEtBT2ZyQixHQUFjb0IsRUFDZEEsRUFBS3hnQixHQUVBd2dCLElBQU94Z0IsR0FDWjZnQixFQUFHL3lGLEtBQUsweUYsR0FDUkEsRUFBS3BCLElBQ0xxQixFQUFLc0QsUUFDTS9qQixJQUNUMGdCLEVBQUtXLFFBQ01yaEIsR0FDVHFmLEdBQWVtQixFQUVmQSxFQURBQyxFQUFLcmEsR0FBUXFhLEtBT2ZyQixHQUFjb0IsRUFDZEEsRUFBS3hnQixHQUdULEdBQUk2Z0IsSUFBTzdnQixFQUVULElBREF3Z0IsRUFBS3dELFFBQ01oa0IsRUFBWSxDQWtCckIsSUFqQkF5Z0IsS0FDQUMsRUFBS3RCLEdBQ0FpQyxPQUNNcmhCLElBQ1Q4aEIsRUFBS2lDLFFBQ00vakIsR0FDVHFmLEdBQWVxQixFQUVmQSxFQURLcmEsR0FBUXdhLEVBQUlMLEVBQUlzQixLQU92QjFDLEdBQWNzQixFQUNkQSxFQUFLMWdCLEdBRUEwZ0IsSUFBTzFnQixHQUNaeWdCLEVBQUczeUYsS0FBSzR5RixHQUNSQSxFQUFLdEIsR0FDQWlDLE9BQ01yaEIsSUFDVDhoQixFQUFLaUMsUUFDTS9qQixHQUNUcWYsR0FBZXFCLEVBRWZBLEVBREtyYSxHQUFRd2EsRUFBSUwsRUFBSXNCLEtBT3ZCMUMsR0FBY3NCLEVBQ2RBLEVBQUsxZ0IsR0FHTHlnQixJQUFPemdCLEdBQ1RxZixHQUFla0IsRUFFZkEsRUFEQU0sRUFBS3ZhLEdBQVF1YSxFQUFJTCxFQUFJQyxLQUdyQnJCLEdBQWNtQixFQUNkQSxFQUFLdmdCLFFBR1BvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixPQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsRUFHUCxPQUFPdWdCLEVBR1QsU0FBU3dELEtBQ1AsSUFBSXhELEVBQUlNLEVBd0NSLE9BdENBTixFQUFLbkIsSUFDTHlCLEVBQUtvRCxRQUNNamtCLElBQ1RxZixHQUFla0IsRUFDZk0sRUFBS25hLEdBQVFtYSxLQUVmTixFQUFLTSxLQUNNN2dCLElBQ1R1Z0IsRUFBS25CLElBQ0x5QixFQTZKSixXQUNFLElBQUlOLEVBOENKLE9BNUNJbnZDLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBTy9YLElBQ25Da1osRUFBS2xaLEdBQ0wrWCxJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVM5WSxLQUVwQ2laLElBQU92Z0IsSUFDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU83WCxJQUNuQ2daLEVBQUtoWixHQUNMNlgsSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTNVksS0FFcEMrWSxJQUFPdmdCLElBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxNQUFRM1gsSUFDcEM4WSxFQUFLOVksR0FDTDJYLElBQWUsS0FFZm1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzFZLEtBRXBDNlksSUFBT3ZnQixJQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT3pYLElBQ25DNFksRUFBSzVZLEdBQ0x5WCxJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVN4WSxLQUVwQzJZLElBQU92Z0IsSUFDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU92WCxJQUNuQzBZLEVBQUsxWSxHQUNMdVgsSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTdFksU0FPekN5WSxFQTVNQTJELE1BQ01sa0IsSUFDVHFmLEdBQWVrQixFQUNmTSxFQUFLbGEsR0FBUWthLEtBRWZOLEVBQUtNLEtBQ003Z0IsSUFDVHVnQixFQXdNTixXQUNFLElBQUlBLEVBNEJKLE9BMUJJbnZDLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT3JYLElBQ25Dd1ksRUFBS3hZLEdBQ0xxWCxJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNwWSxLQUVwQ3VZLElBQU92Z0IsSUFDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU9uWCxJQUNuQ3NZLEVBQUt0WSxHQUNMbVgsSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTbFksS0FFcENxWSxJQUFPdmdCLElBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPdlosSUFDbkMwYSxFQUFLMWEsR0FDTHVaLElBQWUsSUFFZm1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3RhLE9BS3JDeWEsRUFyT0U0RCxNQUNNbmtCLElBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPeFksSUFDbkMyWixFQUFLM1osR0FDTHdZLElBQWUsSUFFZm1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3ZaLEtBRXBDMFosSUFBT3ZnQixJQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT3RZLElBQ25DeVosRUFBS3paLEdBQ0xzWSxJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNyWixRQU96Q3daLEVBR1QsU0FBUzZELEtBQ1AsSUFBSTdELEVBQUlNLEVBQUlMLEVBQUlDLEVBQUlDLEVBQVFvQixFQW9CNUIsSUFsQkF2QixFQUFLbkIsR0FDTHlCLEtBQ0FMLEVBQUtwQixJQUNMcUIsRUFBS3dELFFBQ01qa0IsSUFDVDBnQixFQUFLVyxRQUNNcmhCLEdBQ1RxZixHQUFlbUIsRUFFZkEsRUFEQUMsRUFBS3JhLEdBQVFxYSxLQU9mckIsR0FBY29CLEVBQ2RBLEVBQUt4Z0IsR0FFQXdnQixJQUFPeGdCLEdBQ1o2Z0IsRUFBRy95RixLQUFLMHlGLEdBQ1JBLEVBQUtwQixJQUNMcUIsRUFBS3dELFFBQ01qa0IsSUFDVDBnQixFQUFLVyxRQUNNcmhCLEdBQ1RxZixHQUFlbUIsRUFFZkEsRUFEQUMsRUFBS3JhLEdBQVFxYSxLQU9mckIsR0FBY29CLEVBQ2RBLEVBQUt4Z0IsR0FHVCxHQUFJNmdCLElBQU83Z0IsRUFFVCxJQURBd2dCLEVBQUt3RCxRQUNNaGtCLEVBQVksQ0FrQnJCLElBakJBeWdCLEtBQ0FDLEVBQUt0QixHQUNBaUMsT0FDTXJoQixJQUNUOGhCLEVBQUttQyxRQUNNamtCLEdBQ1RxZixHQUFlcUIsRUFFZkEsRUFES3JhLEdBQVF3YSxFQUFJTCxFQUFJc0IsS0FPdkIxQyxHQUFjc0IsRUFDZEEsRUFBSzFnQixHQUVBMGdCLElBQU8xZ0IsR0FDWnlnQixFQUFHM3lGLEtBQUs0eUYsR0FDUkEsRUFBS3RCLEdBQ0FpQyxPQUNNcmhCLElBQ1Q4aEIsRUFBS21DLFFBQ01qa0IsR0FDVHFmLEdBQWVxQixFQUVmQSxFQURLcmEsR0FBUXdhLEVBQUlMLEVBQUlzQixLQU92QjFDLEdBQWNzQixFQUNkQSxFQUFLMWdCLEdBR0x5Z0IsSUFBT3pnQixHQUNUcWYsR0FBZWtCLEVBRWZBLEVBREFNLEVBQUs3WixHQUFRNlosRUFBSUwsRUFBSUMsS0FHckJyQixHQUFjbUIsRUFDZEEsRUFBS3ZnQixRQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsT0FHUG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEVBR1AsT0FBT3VnQixFQUdULFNBQVMwRCxLQUNQLElBQUkxRCxFQXNCSixPQXBCQUEsRUFzUUYsV0FDRSxJQUFJQSxFQUFJTSxFQUFRSixFQUFRTyxFQUFJYyxFQUFJWCxFQUFJWSxFQUFJTixFQUFJTyxFQUFVQyxFQVV0RCxHQVJBMUIsRUFBS25CLEdBQ0RodUMsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPdFYsSUFDbkMrVyxFQUFLL1csR0FDTHNWLElBQWUsSUFFZnlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3JXLEtBRXBDOFcsSUFBTzdnQixFQUVULEdBREtxaEIsT0FDTXJoQixFQUtULElBSkF5Z0IsRUFBS1csUUFDTXBoQixJQUNUeWdCLEVBQUssTUFFSEEsSUFBT3pnQixFQUVULEdBREsyZ0IsT0FDTTNnQixFQVFULEdBUHNDLE1BQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQjRCLEVBQUt4ZSxFQUNMNGMsT0FFQTRCLEVBQUtoaEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzNkLElBRXBDdWUsSUFBT2hoQixFQUVULElBREE4aEIsRUFBS3VDLFFBQ01ya0IsRUFBWSxDQW9DckIsSUFuQ0FtaEIsS0FDQVksRUFBSzNDLElBQ0xxQyxFQUFLZCxRQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQjRDLEVBQU1oZCxHQUNOb2EsT0FFQTRDLEVBQU1oaUIsRUFDa0IsSUFBcEJ5ZixJQUF5QlcsR0FBU25iLEtBRXBDK2MsSUFBUWhpQixHQUNKMmdCLE9BQ00zZ0IsSUFDVmlpQixFQUFNb0MsUUFDTXJrQixHQUNWcWYsR0FBZTBDLEVBQ2ZOLEVBQUt6WCxHQUFTeVcsRUFBSXFCLEVBQUlHLEdBQ3RCRixFQUFLTixJQVVUckMsR0FBYzJDLEVBQ2RBLEVBQUsvaEIsS0FHUG9mLEdBQWMyQyxFQUNkQSxFQUFLL2hCLEdBRUEraEIsSUFBTy9oQixHQUNabWhCLEVBQUdyekYsS0FBS2kwRixHQUNSQSxFQUFLM0MsSUFDTHFDLEVBQUtkLFFBQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CNEMsRUFBTWhkLEdBQ05vYSxPQUVBNEMsRUFBTWhpQixFQUNrQixJQUFwQnlmLElBQXlCVyxHQUFTbmIsS0FFcEMrYyxJQUFRaGlCLEdBQ0oyZ0IsT0FDTTNnQixJQUNWaWlCLEVBQU1vQyxRQUNNcmtCLEdBQ1ZxZixHQUFlMEMsRUFDZk4sRUFBS3pYLEdBQVN5VyxFQUFJcUIsRUFBSUcsR0FDdEJGLEVBQUtOLElBVVRyQyxHQUFjMkMsRUFDZEEsRUFBSy9oQixLQUdQb2YsR0FBYzJDLEVBQ2RBLEVBQUsvaEIsR0FHTG1oQixJQUFPbmhCLElBQ1QraEIsRUFBS3BCLFFBQ00zZ0IsR0FDNkIsTUFBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CcUMsRUFBSzllLEVBQ0x5YyxPQUVBcUMsRUFBS3poQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTeGQsSUFFcEM2ZSxJQUFPemhCLEdBQ1RxZixHQUFla0IsRUFDZk0sRUFBSzVXLEdBQVN3VyxFQUFJcUIsRUFBSVgsR0FDdEJaLEVBQUtNLElBRUx6QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsUUFHUG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLE9BR1BvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixPQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsT0FHUG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLE9BR1BvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixPQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsRUFHUCxPQUFPdWdCLEVBaGFGK0QsTUFDTXRrQixJQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT25ZLElBQ25Dc1osRUFBS3RaLEdBQ0xtWSxJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNsWixLQUVwQ3FaLElBQU92Z0IsSUFDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU9qWSxJQUNuQ29aLEVBQUtwWixHQUNMaVksSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTaFosT0FLckNtWixFQXFGVCxTQUFTeUQsS0FDUCxJQUFJekQsRUFBSU0sRUFBSUwsRUFBSUMsRUFrQ2hCLE9BaENBaEIsS0FDQWMsRUFBS25CLElBQ0x5QixFQWlDRixXQUNFLElBQUlOLEVBQUlNLEVBbUhSLE9BakhJenZDLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBTzlXLElBQ25DaVksRUFBS2pZLEdBQ0w4VyxJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVM3WCxLQUVwQ2dZLElBQU92Z0IsSUFDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU81VyxJQUNuQytYLEVBQUsvWCxHQUNMNFcsSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTM1gsS0FFcEM4WCxJQUFPdmdCLElBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPMVcsSUFDbkM2WCxFQUFLN1gsR0FDTDBXLElBQWUsSUFFZm1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3pYLEtBRXBDNFgsSUFBT3ZnQixJQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT3hXLElBQ25DMlgsRUFBSzNYLEdBQ0x3VyxJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVN2WCxLQUVwQzBYLElBQU92Z0IsSUFDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU90VyxJQUNuQ3lYLEVBQUt6WCxHQUNMc1csSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTclgsS0FFcEN3WCxJQUFPdmdCLElBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPcFcsSUFDbkN1WCxFQUFLdlgsR0FDTG9XLElBQWUsSUFFZm1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU25YLEtBRXBDc1gsSUFBT3ZnQixJQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT2xXLElBQ25DcVgsRUFBS3JYLEdBQ0xrVyxJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNqWCxLQUVwQ29YLElBQU92Z0IsSUFDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU9oVyxJQUNuQ21YLEVBQUtuWCxHQUNMZ1csSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTL1csS0FFcENrWCxJQUFPdmdCLElBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPOVYsSUFDbkNpWCxFQUFLalgsR0FDTDhWLElBQWUsSUFFZm1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzdXLEtBRXBDZ1gsSUFBT3ZnQixJQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBTzVWLElBQ25DK1csRUFBSy9XLEdBQ0w0VixJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVMzVyxLQUVwQzhXLElBQU92Z0IsSUFDVHVnQixFQUFLbkIsSUFDTHlCLEVBQUtPLFFBQ01waEIsR0FDVHFmLEdBQWVELElBQ1YxVixHQUFTbVgsUUFFUHh2RSxFQUVBMnVELEtBRUlBLEdBQ1RxZixHQUFla0IsRUFDZk0sRUFBS2hYLEdBQVNnWCxHQUNkTixFQUFLTSxJQUVMekIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FHUG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLGFBYXBCdWdCLEVBckpGZ0UsTUFDTXZrQixHQUNUd2dCLEVBQUtwQixHQUNMSyxLQUNBZ0IsRUFBSzJCLEtBQ0wzQyxLQUNJZ0IsSUFBT3pnQixFQUNUd2dCLE9BQUtudkUsR0FFTCt0RSxHQUFjb0IsRUFDZEEsRUFBS3hnQixHQUVId2dCLElBQU94Z0IsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLeFksR0FBU3dZLEtBR2R6QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsR0FFUHlmLEtBQ0ljLElBQU92Z0IsSUFDVDZnQixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNqWSxLQUdqQ29ZLEVBdVJULFNBQVM4RCxLQUNQLElBQUk5RCxFQUFJTSxFQUFJTCxFQUFRRSxFQUFRb0IsRUFvRDVCLE9BbERBdkIsRUFBS25CLElBQ0x5QixFQUFLTyxRQUNNcGhCLEdBQ1R3Z0IsRUFBS3BCLEdBQ0F1QixPQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQnNCLEVBQUt4VyxHQUNMa1YsT0FFQXNCLEVBQUsxZ0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2pXLEtBRXBDdVcsSUFBTzFnQixHQUNKMmdCLE9BQ00zZ0IsSUFDVDhoQixFQUFLUixRQUNNdGhCLEdBQ1RxZixHQUFlbUIsRUFFZkEsRUFES3BXLEdBQVN5VyxFQUFJaUIsS0FXdEIxQyxHQUFjb0IsRUFDZEEsRUFBS3hnQixLQUdQb2YsR0FBY29CLEVBQ2RBLEVBQUt4Z0IsR0FFSHdnQixJQUFPeGdCLEdBQ1RxZixHQUFla0IsRUFFZkEsRUFEQU0sRUFBS3hXLEdBQVN3VyxFQUFJTCxLQUdsQnBCLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBR1BvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixHQUdBdWdCLEVBR1QsU0FBU3NDLEtBQ1AsSUFBSXRDLEVBQUlNLEVBQVFKLEVBQVFPLEVBNEV4QixPQTFFQVQsRUFBS25CLElBQ0x5QixFQUFLNEMsUUFDTXpqQixHQUNKMmdCLE9BQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CcUIsRUFBS3ZXLEdBQ0xrVixPQUVBcUIsRUFBS3pnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTalcsS0FFcENzVyxJQUFPemdCLEdBQ0oyZ0IsT0FDTTNnQixHQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsTUFBUTlVLElBQ3BDMFcsRUFBSzFXLEdBQ0w4VSxJQUFlLEtBRWY0QixFQUFLaGhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVM3VixLQUVwQ3lXLElBQU9oaEIsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLclcsR0FBU3FXLEtBR2R6QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUtuQixJQUNMeUIsRUFBSzRDLFFBQ016akIsR0FDSjJnQixPQUNNM2dCLElBQ1R5Z0IsRUF5QlIsV0FDRSxJQUFJRixFQUFJTSxFQUFRSixFQUFRTyxFQXVEeEIsT0FyREFULEVBQUtpRSxRQUNNeGtCLElBQ1R1Z0IsRUFBS25CLEdBQ2lDLEtBQWxDaHVDLEVBQU1yaUQsV0FBV3F3RixLQUNuQnlCLEVBQUs1ZCxFQUNMbWMsT0FFQXlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2xkLElBRXBDMmQsSUFBTzdnQixHQUNKMmdCLE9BQ00zZ0IsSUFDVHlnQixFQUFLcUQsUUFDTTlqQixJQUNUeWdCLEVBQUssTUFFSEEsSUFBT3pnQixHQUNKMmdCLE9BQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CNEIsRUFBSzdkLEVBQ0xpYyxPQUVBNEIsRUFBS2hoQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTaGQsSUFFcEM0ZCxJQUFPaGhCLEdBQ1RxZixHQUFla0IsRUFDZk0sRUFBS25XLEdBQVMrVixHQUNkRixFQUFLTSxJQUVMekIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBT1RvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixJQUlGdWdCLEVBakZJa0UsTUFDTXprQixJQUNUeWdCLEVBQUssTUFFSEEsSUFBT3pnQixHQUNUcWYsR0FBZWtCLEVBRWZBLEVBREFNLEVBQUtwVyxHQUFTb1csRUFBSUosS0FHbEJyQixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsSUFJRnVnQixFQThEVCxTQUFTaUUsS0FDUCxJQUFJakUsRUFBSU0sRUFBUUosRUFBUU8sRUFBUUcsRUFpR2hDLE9BL0ZBWixFQUFLbkIsR0FDaUMsS0FBbENodUMsRUFBTXJpRCxXQUFXcXdGLEtBQ25CeUIsRUFBSzNXLEdBQ0xrVixPQUVBeUIsRUFBSzdnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTalcsS0FFcEMwVyxJQUFPN2dCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUeWdCLEVBQUtpRSxRQUNNMWtCLEdBQ1RxZixHQUFla0IsRUFFZkEsRUFEQU0sRUFBS2xXLEdBQVM4VixLQVdsQnJCLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUtuQixHQUNpQyxLQUFsQ2h1QyxFQUFNcmlELFdBQVdxd0YsS0FDbkJ5QixFQUFLM1csR0FDTGtWLE9BRUF5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNqVyxLQUVwQzBXLElBQU83Z0IsR0FDSjJnQixPQUNNM2dCLEdBQzZCLE1BQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQnFCLEVBQUtqZSxFQUNMNGMsT0FFQXFCLEVBQUt6Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzNkLElBRXBDZ2UsSUFBT3pnQixHQUNKMmdCLE9BQ00zZ0IsSUFDVGdoQixFQWdEWixXQUNFLElBQUlULEVBQUlNLEVBQUlMLEVBQUlDLEVBQUlDLEVBQUlNLEVBQVFHLEVBSWhDLEdBRkFaLEVBQUtuQixJQUNMeUIsRUFBSzZELFFBQ00xa0IsRUFBWSxDQW9DckIsSUFuQ0F3Z0IsS0FDQUMsRUFBS3JCLElBQ0xzQixFQUFLQyxRQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQjRCLEVBQUtoYyxHQUNMb2EsT0FFQTRCLEVBQUtoaEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU25iLEtBRXBDK2IsSUFBT2hoQixHQUNKMmdCLE9BQ00zZ0IsSUFDVG1oQixFQUFLdUQsUUFDTTFrQixHQUNUcWYsR0FBZW9CLEVBQ2ZDLEVBQUs3VixHQUFTZ1csRUFBSUcsRUFBSUcsR0FDdEJWLEVBQUtDLElBVVR0QixHQUFjcUIsRUFDZEEsRUFBS3pnQixLQUdQb2YsR0FBY3FCLEVBQ2RBLEVBQUt6Z0IsR0FFQXlnQixJQUFPemdCLEdBQ1p3Z0IsRUFBRzF5RixLQUFLMnlGLEdBQ1JBLEVBQUtyQixJQUNMc0IsRUFBS0MsUUFDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkI0QixFQUFLaGMsR0FDTG9hLE9BRUE0QixFQUFLaGhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNuYixLQUVwQytiLElBQU9oaEIsR0FDSjJnQixPQUNNM2dCLElBQ1RtaEIsRUFBS3VELFFBQ00xa0IsR0FDVHFmLEdBQWVvQixFQUNmQyxFQUFLN1YsR0FBU2dXLEVBQUlHLEVBQUlHLEdBQ3RCVixFQUFLQyxJQVVUdEIsR0FBY3FCLEVBQ2RBLEVBQUt6Z0IsS0FHUG9mLEdBQWNxQixFQUNkQSxFQUFLemdCLEdBR0x3Z0IsSUFBT3hnQixHQUNUcWYsR0FBZWtCLEVBQ2ZNLEVBQUsvVixHQUFTK1YsRUFBSUwsR0FDbEJELEVBQUtNLElBRUx6QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixRQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsRUFHUCxPQUFPdWdCLEVBM0lRb0UsTUFDTTNrQixHQUNKMmdCLE9BQ00zZ0IsR0FDNkIsTUFBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CK0IsRUFBS3hlLEVBQ0x5YyxPQUVBK0IsRUFBS25oQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTeGQsSUFFcEN1ZSxJQUFPbmhCLEdBQ1RxZixHQUFla0IsRUFFZkEsRUFEQU0sRUFBS2pXLEdBQVNvVyxLQUdkNUIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FlYm9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBT1RvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixJQUlGdWdCLEVBaUdULFNBQVNrRCxLQUNQLElBQUlsRCxFQUFJTSxFQVVSLE9BUkFOLEVBQUtuQixJQUNMeUIsRUFBSytELFFBQ001a0IsSUFDVHFmLEdBQWVrQixFQUNmTSxFQUFLOVYsR0FBUzhWLElBRWhCTixFQUFLTSxFQUtQLFNBQVNnRSxLQUNQLElBQUl0RSxFQUFJTSxFQVVSLE9BUkFOLEVBQUtuQixJQUNMeUIsRUFBS2lFLFFBQ005a0IsSUFDVHFmLEdBQWVrQixFQUNmTSxFQUFLN1YsR0FBUzZWLElBRWhCTixFQUFLTSxFQUtQLFNBQVMrRCxLQUNQLElBQUlyRSxFQUFJTSxFQUFJTCxFQUFJQyxFQUFRTyxFQWdIeEIsT0E5R0FULEVBQUtuQixHQUNpQyxLQUFsQ2h1QyxFQUFNcmlELFdBQVdxd0YsS0FDbkJ5QixFQUFLM1YsR0FDTGtVLE9BRUF5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNqVixLQUVwQzBWLElBQU83Z0IsSUFDVHdnQixFQUFLRyxRQUNNM2dCLElBQ1R5Z0IsRUFBS3NFLFFBQ00va0IsSUFDVHlnQixFQUFLLE1BRUhBLElBQU96Z0IsR0FDSjJnQixPQUNNM2dCLElBQ1RnaEIsRUFBSzRELFFBQ001a0IsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLelYsR0FBU3FWLEVBQUlPLEtBV3RCNUIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUtuQixHQUNpQyxLQUFsQ2h1QyxFQUFNcmlELFdBQVdxd0YsS0FDbkJ5QixFQUFLdlYsR0FDTDhULE9BRUF5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVM3VSxLQUVwQ3NWLElBQU83Z0IsSUFDVHdnQixFQUFLRyxRQUNNM2dCLElBQ1R5Z0IsRUFBS3NFLFFBQ00va0IsSUFDVHlnQixFQUFLLE1BRUhBLElBQU96Z0IsR0FDSjJnQixPQUNNM2dCLElBQ1RnaEIsRUFBSzRELFFBQ001a0IsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLclYsR0FBU2lWLEVBQUlPLEtBV3RCNUIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUtuQixJQUNMeUIsRUFBS21FLFFBQ01obEIsSUFDVHdnQixFQUFLeUUsUUFDTWpsQixHQUNUcWYsR0FBZWtCLEVBRWZBLEVBREFNLEVBQUtwVixHQUFTb1YsRUFBSUwsS0FPcEJwQixHQUFjbUIsRUFDZEEsRUFBS3ZnQixHQUVIdWdCLElBQU92Z0IsSUFDVHVnQixFQUFLeUUsUUFLSnpFLEVBR1QsU0FBU3VFLEtBQ1AsSUFBSXZFLEVBQUlNLEVBQUlMLEVBQUlDLEVBQVFPLEVBZ0h4QixPQTlHQVQsRUFBS25CLEdBQ2lDLEtBQWxDaHVDLEVBQU1yaUQsV0FBV3F3RixLQUNuQnlCLEVBQUszVixHQUNMa1UsT0FFQXlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2pWLEtBRXBDMFYsSUFBTzdnQixJQUNUd2dCLEVBQUtHLFFBQ00zZ0IsSUFDVHlnQixFQUFLc0UsUUFDTS9rQixJQUNUeWdCLEVBQUssTUFFSEEsSUFBT3pnQixHQUNKMmdCLE9BQ00zZ0IsSUFDVGdoQixFQUFLOEQsUUFDTTlrQixHQUNUcWYsR0FBZWtCLEVBRWZBLEVBREFNLEVBQUt6VixHQUFTcVYsRUFBSU8sS0FXdEI1QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsR0FFSHVnQixJQUFPdmdCLElBQ1R1Z0IsRUFBS25CLEdBQ2lDLEtBQWxDaHVDLEVBQU1yaUQsV0FBV3F3RixLQUNuQnlCLEVBQUt2VixHQUNMOFQsT0FFQXlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzdVLEtBRXBDc1YsSUFBTzdnQixJQUNUd2dCLEVBQUtHLFFBQ00zZ0IsSUFDVHlnQixFQUFLc0UsUUFDTS9rQixJQUNUeWdCLEVBQUssTUFFSEEsSUFBT3pnQixHQUNKMmdCLE9BQ00zZ0IsSUFDVGdoQixFQUFLOEQsUUFDTTlrQixHQUNUcWYsR0FBZWtCLEVBRWZBLEVBREFNLEVBQUtyVixHQUFTaVYsRUFBSU8sS0FXdEI1QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsR0FFSHVnQixJQUFPdmdCLElBQ1R1Z0IsRUFBS25CLElBQ0x5QixFQUFLcUUsUUFDTWxsQixJQUNUd2dCLEVBQUt5RSxRQUNNamxCLEdBQ1RxZixHQUFla0IsRUFFZkEsRUFEQU0sRUFBS3BWLEdBQVNvVixFQUFJTCxLQU9wQnBCLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUsyRSxRQUtKM0UsRUFHVCxTQUFTMEUsS0FDUCxJQUFJMUUsRUFBSU0sRUFBUUosRUFtQmhCLEdBakJBRixLQUNBTSxFQUFLekIsR0FDQXVCLE9BQ00zZ0IsSUFDVHlnQixFQUFLMEUsUUFDTW5sQixHQUNUcWYsR0FBZXdCLEVBRWZBLEVBREtuVixHQUFTK1UsS0FPaEJyQixHQUFjeUIsRUFDZEEsRUFBSzdnQixHQUVINmdCLElBQU83Z0IsRUFDVCxLQUFPNmdCLElBQU83Z0IsR0FDWnVnQixFQUFHenlGLEtBQUsreUYsR0FDUkEsRUFBS3pCLEdBQ0F1QixPQUNNM2dCLElBQ1R5Z0IsRUFBSzBFLFFBQ01ubEIsR0FDVHFmLEdBQWV3QixFQUVmQSxFQURLblYsR0FBUytVLEtBT2hCckIsR0FBY3lCLEVBQ2RBLEVBQUs3Z0IsUUFJVHVnQixFQUFLdmdCLEVBR1AsT0FBT3VnQixFQUdULFNBQVM0RSxLQUNQLElBQUk1RSxFQUFJTSxFQUFRSixFQUFRTyxFQUFRRyxFQW1IaEMsT0FqSEFaLEVBQUtuQixHQUNpQyxLQUFsQ2h1QyxFQUFNcmlELFdBQVdxd0YsS0FDbkJ5QixFQUFLNWQsRUFDTG1jLE9BRUF5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNsZCxJQUVwQzJkLElBQU83Z0IsR0FDSjJnQixPQUNNM2dCLElBQ1R5Z0IsRUFBS2tELFFBQ00zakIsR0FDSjJnQixPQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQjRCLEVBQUs3ZCxFQUNMaWMsT0FFQTRCLEVBQUtoaEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2hkLElBRXBDNGQsSUFBT2hoQixHQUNKMmdCLE9BQ00zZ0IsSUFDVG1oQixFQUFLNEQsUUFDTS9rQixJQUNUbWhCLEVBQUssTUFFSEEsSUFBT25oQixHQUNUcWYsR0FBZWtCLEVBRWZBLEVBREFNLEVBQUtsVixHQUFTOFUsRUFBSVUsS0FHbEIvQixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FlYm9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUtuQixHQUNpQyxLQUFsQ2h1QyxFQUFNcmlELFdBQVdxd0YsS0FDbkJ5QixFQUFLalYsR0FDTHdULE9BRUF5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVN2VSxLQUVwQ2dWLElBQU83Z0IsR0FDSjJnQixPQUNNM2dCLElBQ1R5Z0IsRUFBS2EsUUFDTXRoQixJQUNUeWdCLEVBQUssTUFFSEEsSUFBT3pnQixHQUNKMmdCLE9BQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CNEIsRUFBS2xWLEdBQ0xzVCxPQUVBNEIsRUFBS2hoQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTclUsS0FFcENpVixJQUFPaGhCLEdBQ1RxZixHQUFla0IsRUFFZkEsRUFEQU0sRUFBSzdVLEdBQVN5VSxLQUdkckIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBT1RvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixJQUlGdWdCLEVBR1QsU0FBU3lFLEtBQ1AsSUFBSXpFLEVBQUlNLEVBQVFKLEVBQVFPLEVBNkR4QixPQTNEQVQsRUFBS25CLElBQ0x5QixFQUFLdUUsUUFDTXBsQixJQUNUcWYsR0FBZWtCLEVBQ2ZNLEVBQUs1VSxHQUFTNFUsS0FFaEJOLEVBQUtNLEtBQ003Z0IsSUFDVHVnQixFQUFLbkIsR0FDaUMsS0FBbENodUMsRUFBTXJpRCxXQUFXcXdGLEtBQ25CeUIsRUFBSzVkLEVBQ0xtYyxPQUVBeUIsRUFBSzdnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTbGQsSUFFcEMyZCxJQUFPN2dCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUeWdCLEVBQUttRSxRQUNNNWtCLElBQ1R5Z0IsRUFBSyxNQUVIQSxJQUFPemdCLEdBQ0oyZ0IsT0FDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkI0QixFQUFLN2QsRUFDTGljLE9BRUE0QixFQUFLaGhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNoZCxJQUVwQzRkLElBQU9oaEIsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLM1UsR0FBU3VVLEtBR2RyQixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLElBSUZ1Z0IsRUFHVCxTQUFTMkUsS0FDUCxJQUFJM0UsRUFBSU0sRUFBUUosRUFBUU8sRUE2RHhCLE9BM0RBVCxFQUFLbkIsR0FDaUMsS0FBbENodUMsRUFBTXJpRCxXQUFXcXdGLEtBQ25CeUIsRUFBSzVkLEVBQ0xtYyxPQUVBeUIsRUFBSzdnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTbGQsSUFFcEMyZCxJQUFPN2dCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUeWdCLEVBQUtxRSxRQUNNOWtCLElBQ1R5Z0IsRUFBSyxNQUVIQSxJQUFPemdCLEdBQ0oyZ0IsT0FDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkI0QixFQUFLN2QsRUFDTGljLE9BRUE0QixFQUFLaGhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNoZCxJQUVwQzRkLElBQU9oaEIsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLM1UsR0FBU3VVLEtBR2RyQixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUtuQixJQUNMeUIsRUFBSzFVLE1BQ01uTSxJQUNUcWYsR0FBZWtCLEVBQ2ZNLEVBQUt6VSxNQUVQbVUsRUFBS00sR0FHQU4sRUFHVCxTQUFTOEUsS0FDUCxJQUFJOUUsRUFBSU0sRUFBUUosRUF5QmhCLE9BdkJBRixFQUFLbkIsSUFDTHlCLEVBQUt1RCxRQUNNcGtCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUeWdCLEVBQUtvRSxRQUNNN2tCLEdBQ1RxZixHQUFla0IsRUFFZkEsRUFEQU0sRUFBS3hVLEdBQVN3VSxFQUFJSixLQVd0QnJCLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBR0F1Z0IsRUFHVCxTQUFTd0UsS0FDUCxJQUFJeEUsRUFBSU0sRUFBUUosRUF1R2hCLE9BckdBRixFQUFLbkIsR0FDRGh1QyxFQUFNNnZDLE9BQU83QixHQUFhLEtBQU9uWSxJQUNuQzRaLEVBQUs1WixHQUNMbVksSUFBZSxJQUVmeUIsRUFBSzdnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTbFosS0FFcEMyWixJQUFPN2dCLEdBQ0pxaEIsT0FDTXJoQixHQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT2pZLElBQ25Dc1osRUFBS3RaLEdBQ0xpWSxJQUFlLElBRWZxQixFQUFLemdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNoWixLQUVwQ3FaLElBQU96Z0IsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLdlUsT0FHTDhTLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBT1RvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixHQUVIdWdCLElBQU92Z0IsSUFDVHVnQixFQUFLbkIsR0FDRGh1QyxFQUFNNnZDLE9BQU83QixHQUFhLEtBQU9qWSxJQUNuQzBaLEVBQUsxWixHQUNMaVksSUFBZSxJQUVmeUIsRUFBSzdnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTaFosS0FFcEN5WixJQUFPN2dCLEdBQ0pxaEIsT0FDTXJoQixHQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT25ZLElBQ25Dd1osRUFBS3haLEdBQ0xtWSxJQUFlLElBRWZxQixFQUFLemdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNsWixLQUVwQ3VaLElBQU96Z0IsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLdlUsT0FHTDhTLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBT1RvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixHQUVIdWdCLElBQU92Z0IsSUFDVHVnQixFQUFLbkIsR0FDRGh1QyxFQUFNNnZDLE9BQU83QixHQUFhLEtBQU9uWSxJQUNuQzRaLEVBQUs1WixHQUNMbVksSUFBZSxJQUVmeUIsRUFBSzdnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTbFosS0FFcEMyWixJQUFPN2dCLElBQ1RxZixHQUFla0IsRUFDZk0sRUFBS3RVLE9BRVBnVSxFQUFLTSxLQUNNN2dCLElBQ1R1Z0IsRUFBS25CLEdBQ0RodUMsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPalksSUFDbkMwWixFQUFLMVosR0FDTGlZLElBQWUsSUFFZnlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2haLEtBRXBDeVosSUFBTzdnQixJQUNUcWYsR0FBZWtCLEVBQ2ZNLEVBQUtyVSxNQUVQK1QsRUFBS00sS0FLSk4sRUFHVCxTQUFTb0QsS0FDUCxJQUFJcEQsRUFBSU0sRUFBSUwsRUFBSUMsRUFBUU8sRUFBUUcsRUFJaEMsR0FGQVosRUFBS25CLElBQ0x5QixFQUFLeUUsUUFDTXRsQixFQUFZLENBb0NyQixJQW5DQXdnQixLQUNBQyxFQUFLckIsR0FDQXVCLE9BQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CNEIsRUFBS2hjLEdBQ0xvYSxPQUVBNEIsRUFBS2hoQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTbmIsS0FFcEMrYixJQUFPaGhCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUbWhCLEVBQUttRSxRQUNNdGxCLEdBQ1RxZixHQUFlb0IsRUFFZkEsRUFES2hVLEdBQVNvVSxFQUFJTSxLQVd0Qi9CLEdBQWNxQixFQUNkQSxFQUFLemdCLEtBR1BvZixHQUFjcUIsRUFDZEEsRUFBS3pnQixHQUVBeWdCLElBQU96Z0IsR0FDWndnQixFQUFHMXlGLEtBQUsyeUYsR0FDUkEsRUFBS3JCLEdBQ0F1QixPQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQjRCLEVBQUtoYyxHQUNMb2EsT0FFQTRCLEVBQUtoaEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU25iLEtBRXBDK2IsSUFBT2hoQixHQUNKMmdCLE9BQ00zZ0IsSUFDVG1oQixFQUFLbUUsUUFDTXRsQixHQUNUcWYsR0FBZW9CLEVBRWZBLEVBREtoVSxHQUFTb1UsRUFBSU0sS0FXdEIvQixHQUFjcUIsRUFDZEEsRUFBS3pnQixLQUdQb2YsR0FBY3FCLEVBQ2RBLEVBQUt6Z0IsR0FHTHdnQixJQUFPeGdCLEdBQ1RxZixHQUFla0IsRUFFZkEsRUFEQU0sRUFBS25VLEdBQVNtVSxFQUFJTCxLQUdsQnBCLEdBQWNtQixFQUNkQSxFQUFLdmdCLFFBR1BvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixFQVlQLE9BVkl1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUtuQixJQUNMeUIsRUFBSzFVLE1BQ01uTSxJQUNUcWYsR0FBZWtCLEVBQ2ZNLEVBQUtsVSxNQUVQNFQsRUFBS00sR0FHQU4sRUFHVCxTQUFTK0UsS0FDUCxJQUFJL0UsRUFBSU0sRUFBUUosRUFBUU8sRUFBUUcsRUE2SmhDLE9BM0pBWixFQUFLbkIsSUFDTHlCLEVBQUsrQixRQUNNNWlCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUeWdCLEVBQUtnRCxRQUNNempCLEdBQ0oyZ0IsT0FDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkI0QixFQUFLOVcsR0FDTGtWLE9BRUE0QixFQUFLaGhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNqVyxLQUVwQzZXLElBQU9oaEIsR0FDSjJnQixPQUNNM2dCLElBQ1RtaEIsRUFBS3VELFFBQ00xa0IsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLalUsR0FBU2lVLEVBQUlKLEVBQUlVLEtBVzFCL0IsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FlYm9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUtuQixJQUNMeUIsRUFBSytCLFFBQ001aUIsR0FDSjJnQixPQUNNM2dCLElBQ1R5Z0IsRUFBS2dELFFBQ016akIsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLaFUsR0FBU2dVLEVBQUlKLEtBV3RCckIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsR0FFSHVnQixJQUFPdmdCLElBQ1R1Z0IsRUFBS25CLElBQ0x5QixFQUFLK0IsUUFDTTVpQixHQUNKMmdCLE9BQ00zZ0IsSUFDVHlnQixFQUFLb0UsUUFDTTdrQixHQUNKMmdCLE9BQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CNEIsRUFBSzlXLEdBQ0xrVixPQUVBNEIsRUFBS2hoQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTalcsS0FFcEM2VyxJQUFPaGhCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUbWhCLEVBQUt1RCxRQUNNMWtCLEdBQ1RxZixHQUFla0IsRUFFZkEsRUFEQU0sRUFBS2pVLEdBQVNpVSxFQUFJSixFQUFJVSxLQVcxQi9CLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBZWJvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixHQUVIdWdCLElBQU92Z0IsSUFDVHVnQixFQUFLbkIsSUFDTHlCLEVBQUsrQixRQUNNNWlCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUeWdCLEVBQUtvRSxRQUNNN2tCLEdBQ1RxZixHQUFla0IsRUFFZkEsRUFEQU0sRUFBS2hVLEdBQVNnVSxFQUFJSixLQVd0QnJCLEdBQWNtQixFQUNkQSxFQUFLdmdCLE1BTU51Z0IsRUFHVCxTQUFTcUIsS0FDUCxJQUFJckIsRUFBSU0sRUFBSUwsRUFBSUMsRUFBUU8sRUFBUUcsRUFJaEMsR0FGQVosRUFBS25CLElBQ0x5QixFQUFLNkQsUUFDTTFrQixFQUFZLENBb0NyQixJQW5DQXdnQixLQUNBQyxFQUFLckIsR0FDQXVCLE9BQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CNEIsRUFBS2hjLEdBQ0xvYSxPQUVBNEIsRUFBS2hoQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTbmIsS0FFcEMrYixJQUFPaGhCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUbWhCLEVBQUt1RCxRQUNNMWtCLEdBQ1RxZixHQUFlb0IsRUFFZkEsRUFESzNULEdBQVMrVCxFQUFJRyxFQUFJRyxLQVcxQi9CLEdBQWNxQixFQUNkQSxFQUFLemdCLEtBR1BvZixHQUFjcUIsRUFDZEEsRUFBS3pnQixHQUVBeWdCLElBQU96Z0IsR0FDWndnQixFQUFHMXlGLEtBQUsyeUYsR0FDUkEsRUFBS3JCLEdBQ0F1QixPQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQjRCLEVBQUtoYyxHQUNMb2EsT0FFQTRCLEVBQUtoaEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU25iLEtBRXBDK2IsSUFBT2hoQixHQUNKMmdCLE9BQ00zZ0IsSUFDVG1oQixFQUFLdUQsUUFDTTFrQixHQUNUcWYsR0FBZW9CLEVBRWZBLEVBREszVCxHQUFTK1QsRUFBSUcsRUFBSUcsS0FXMUIvQixHQUFjcUIsRUFDZEEsRUFBS3pnQixLQUdQb2YsR0FBY3FCLEVBQ2RBLEVBQUt6Z0IsR0FHTHdnQixJQUFPeGdCLEdBQ1RxZixHQUFla0IsRUFFZkEsRUFEQU0sRUFBSzlULEdBQVM4VCxFQUFJTCxLQUdsQnBCLEdBQWNtQixFQUNkQSxFQUFLdmdCLFFBR1BvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixFQU1QLE9BSkl1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUttRSxNQUdBbkUsRUFHVCxTQUFTbUUsS0FDUCxJQUFJbkUsRUFBSU0sRUFBUUosRUFBUU8sRUFrRnhCLE9BaEZBVCxFQUFLbkIsSUFDTHlCLEVBQUswRSxRQUNNdmxCLEdBQ0oyZ0IsT0FDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkJxQixFQUFLdlcsR0FDTGtWLE9BRUFxQixFQUFLemdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNqVyxLQUVwQ3NXLElBQU96Z0IsR0FDSjJnQixPQUNNM2dCLElBQ1RnaEIsRUFBSzBELFFBQ00xa0IsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLNVQsR0FBUzRULEVBQUlKLEVBQUlPLEtBVzFCNUIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUtuQixJQUNMeUIsRUFBSzBFLFFBQ012bEIsR0FDSjJnQixPQUNNM2dCLElBQ1R5Z0IsRUFxQ1IsV0FDRSxJQUFJRixFQUFJTSxFQUFJTCxFQUFJQyxFQThMaEIsT0E1TElydkMsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPalMsSUFDbkNvVCxFQUFLcFQsR0FDTGlTLElBQWUsSUFFZm1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2hULEtBRXBDbVQsSUFBT3ZnQixJQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBTy9SLElBQ25Da1QsRUFBS2xULEdBQ0wrUixJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVM5UyxLQUVwQ2lULElBQU92Z0IsSUFDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU83UixJQUNuQ2dULEVBQUtoVCxHQUNMNlIsSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTNVMsS0FFcEMrUyxJQUFPdmdCLElBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPM1IsSUFDbkM4UyxFQUFLOVMsR0FDTDJSLElBQWUsSUFFZm1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzFTLEtBRXBDNlMsSUFBT3ZnQixJQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT3pSLElBQ25DNFMsRUFBSzVTLEdBQ0x5UixJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVN4UyxLQUVwQzJTLElBQU92Z0IsSUFDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU92UixJQUNuQzBTLEVBQUsxUyxHQUNMdVIsSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTdFMsS0FFcEN5UyxJQUFPdmdCLElBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPclIsSUFDbkN3UyxFQUFLeFMsR0FDTHFSLElBQWUsSUFFZm1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3BTLEtBRXBDdVMsSUFBT3ZnQixJQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT25SLElBQ25Dc1MsRUFBS3RTLEdBQ0xtUixJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNsUyxLQUVwQ3FTLElBQU92Z0IsSUFDVHVnQixFQUFLbkIsR0FDRGh1QyxFQUFNNnZDLE9BQU83QixHQUFhLEtBQU9qUixJQUNuQzBTLEVBQUsxUyxHQUNMaVIsSUFBZSxJQUVmeUIsRUFBSzdnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTaFMsS0FFcEN5UyxJQUFPN2dCLEdBQ1R3Z0IsRUFBS3BCLEdBQ0xLLEtBQ0FnQixFQUFLMkIsS0FDTDNDLEtBQ0lnQixJQUFPemdCLEVBQ1R3Z0IsT0FBS252RSxHQUVMK3RFLEdBQWNvQixFQUNkQSxFQUFLeGdCLEdBRUh3Z0IsSUFBT3hnQixHQUNUcWYsR0FBZWtCLEVBQ2ZNLEVBQUt4UyxLQUNMa1MsRUFBS00sSUFFTHpCLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBR1BvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixHQUVIdWdCLElBQU92Z0IsSUFDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU85USxJQUNuQ2lTLEVBQUtqUyxHQUNMOFEsSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTN1IsS0FFcENnUyxJQUFPdmdCLElBQ1R1Z0IsRUFBS25CLEdBQ0RodUMsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPNVEsSUFDbkNxUyxFQUFLclMsR0FDTDRRLElBQWUsSUFFZnlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzNSLEtBRXBDb1MsSUFBTzdnQixHQUNUd2dCLEVBQUtwQixHQUNMSyxLQUNBZ0IsRUFBSzJCLEtBQ0wzQyxLQUNJZ0IsSUFBT3pnQixFQUNUd2dCLE9BQUtudkUsR0FFTCt0RSxHQUFjb0IsRUFDZEEsRUFBS3hnQixHQUVId2dCLElBQU94Z0IsR0FDVHFmLEdBQWVrQixFQUNmTSxFQUFLblMsS0FDTDZSLEVBQUtNLElBRUx6QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsR0FFSHVnQixJQUFPdmdCLElBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPelEsSUFDbkM0UixFQUFLNVIsR0FDTHlRLElBQWUsSUFFZm1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3hSLEtBRXBDMlIsSUFBT3ZnQixJQUNUdWdCLEVBQUtuQixHQUNEaHVDLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT3ZRLElBQ25DZ1MsRUFBS2hTLEdBQ0x1USxJQUFlLElBRWZ5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVN0UixLQUVwQytSLElBQU83Z0IsR0FDVHdnQixFQUFLcEIsR0FDTEssS0FDQWdCLEVBQUsyQixLQUNMM0MsS0FDSWdCLElBQU96Z0IsRUFDVHdnQixPQUFLbnZFLEdBRUwrdEUsR0FBY29CLEVBQ2RBLEVBQUt4Z0IsR0FFSHdnQixJQUFPeGdCLEdBQ1RxZixHQUFla0IsRUFDZk0sRUFBSzlSLEtBQ0x3UixFQUFLTSxJQUVMekIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FHUG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLGVBZXhCdWdCLEVBcE9JaUYsTUFDTXhsQixHQUNKMmdCLE9BQ00zZ0IsSUFDVGdoQixFQUFLMEQsUUFDTTFrQixHQUNUcWYsR0FBZWtCLEVBRWZBLEVBREFNLEVBQUszVCxHQUFTMlQsRUFBSUosRUFBSU8sS0FtQjlCNUIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsR0FFSHVnQixJQUFPdmdCLElBQ1R1Z0IsRUFBS2tGLE9BSUZsRixFQXFNVCxTQUFTZSxLQUNQLElBQUlmLEVBQUlNLEVBVVIsT0FSQU4sRUFBS25CLElBQ0x5QixFQUFLNEUsUUFDTXpsQixJQUNUcWYsR0FBZWtCLEVBQ2ZNLEVBQUs3UixHQUFTNlIsSUFFaEJOLEVBQUtNLEVBS1AsU0FBUzRFLEtBQ1AsSUFBSWxGLEVBQUlNLEVBQVFKLEVBQVFPLEVBQVFHLEVBQVFNLEVBNEV4QyxPQTFFQWxCLEVBQUtuQixJQUNMeUIsRUFBSzZFLFFBQ00xbEIsR0FDSjJnQixPQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQnFCLEVBQUt4UixHQUNMbVEsT0FFQXFCLEVBQUt6Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2xSLEtBRXBDdVIsSUFBT3pnQixHQUNKMmdCLE9BQ00zZ0IsSUFDVGdoQixFQUFLWSxRQUNNNWhCLEdBQ0oyZ0IsT0FDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkIrQixFQUFLMWYsRUFDTDJkLE9BRUErQixFQUFLbmhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVMxZSxJQUVwQ3lmLElBQU9uaEIsR0FDSjJnQixPQUNNM2dCLElBQ1R5aEIsRUFBS2lELFFBQ00xa0IsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLMVIsR0FBUzBSLEVBQUlHLEVBQUlTLEtBVzFCckMsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FlYm9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBT1RvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixHQUVIdWdCLElBQU92Z0IsSUFDVHVnQixFQUFLbUYsTUFHQW5GLEVBR1QsU0FBU21GLEtBQ1AsSUFBSW5GLEVBQUlNLEVBQUlMLEVBQUlDLEVBQVFPLEVBQUljLEVBQUlYLEVBQUlZLEVBSXBDLEdBRkF4QixFQUFLbkIsSUFDTHlCLEVBQUs4RSxRQUNNM2xCLEVBQVksQ0FvRXJCLElBbkVBd2dCLEtBQ0FDLEVBQUtyQixHQUNBdUIsT0FDTTNnQixHQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT2hRLElBQ25DNFIsRUFBSzVSLEdBQ0xnUSxJQUFlLElBRWY0QixFQUFLaGhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVMvUSxLQUVwQzJSLElBQU9oaEIsSUFDVGdoQixFQUFLNUIsR0FDRGh1QyxFQUFNNnZDLE9BQU83QixHQUFhLEtBQU85UCxJQUNuQ3dTLEVBQUt4UyxHQUNMOFAsSUFBZSxJQUVmMEMsRUFBSzloQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTN1EsS0FFcEN1UyxJQUFPOWhCLEdBQ1RtaEIsRUFBSy9CLEdBQ0xLLEtBQ0FzQyxFQUFLSyxLQUNMM0MsS0FDSXNDLElBQU8vaEIsRUFDVG1oQixPQUFLOXZFLEdBRUwrdEUsR0FBYytCLEVBQ2RBLEVBQUtuaEIsR0FFSG1oQixJQUFPbmhCLEVBRVRnaEIsRUFEQWMsR0FBTUEsRUFBSVgsSUFHVi9CLEdBQWM0QixFQUNkQSxFQUFLaGhCLEtBR1BvZixHQUFjNEIsRUFDZEEsRUFBS2hoQixJQUdMZ2hCLElBQU9oaEIsSUFDVDhoQixFQUFLbkIsUUFDTTNnQixJQUNUbWhCLEVBQUt3RSxRQUNNM2xCLEdBQ1RxZixHQUFlb0IsRUFFZkEsRUFES2pSLEdBQVNxUixFQUFJRyxFQUFJRyxLQVcxQi9CLEdBQWNxQixFQUNkQSxFQUFLemdCLEtBR1BvZixHQUFjcUIsRUFDZEEsRUFBS3pnQixHQUVBeWdCLElBQU96Z0IsR0FDWndnQixFQUFHMXlGLEtBQUsyeUYsR0FDUkEsRUFBS3JCLEdBQ0F1QixPQUNNM2dCLEdBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPaFEsSUFDbkM0UixFQUFLNVIsR0FDTGdRLElBQWUsSUFFZjRCLEVBQUtoaEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUy9RLEtBRXBDMlIsSUFBT2hoQixJQUNUZ2hCLEVBQUs1QixHQUNEaHVDLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBTzlQLElBQ25Dd1MsRUFBS3hTLEdBQ0w4UCxJQUFlLElBRWYwQyxFQUFLOWhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVM3USxLQUVwQ3VTLElBQU85aEIsR0FDVG1oQixFQUFLL0IsR0FDTEssS0FDQXNDLEVBQUtLLEtBQ0wzQyxLQUNJc0MsSUFBTy9oQixFQUNUbWhCLE9BQUs5dkUsR0FFTCt0RSxHQUFjK0IsRUFDZEEsRUFBS25oQixHQUVIbWhCLElBQU9uaEIsRUFFVGdoQixFQURBYyxHQUFNQSxFQUFJWCxJQUdWL0IsR0FBYzRCLEVBQ2RBLEVBQUtoaEIsS0FHUG9mLEdBQWM0QixFQUNkQSxFQUFLaGhCLElBR0xnaEIsSUFBT2hoQixJQUNUOGhCLEVBQUtuQixRQUNNM2dCLElBQ1RtaEIsRUFBS3dFLFFBQ00zbEIsR0FDVHFmLEdBQWVvQixFQUVmQSxFQURLalIsR0FBU3FSLEVBQUlHLEVBQUlHLEtBVzFCL0IsR0FBY3FCLEVBQ2RBLEVBQUt6Z0IsS0FHUG9mLEdBQWNxQixFQUNkQSxFQUFLemdCLEdBR0x3Z0IsSUFBT3hnQixHQUNUcWYsR0FBZWtCLEVBRWZBLEVBREFNLEVBQUtwUixHQUFTb1IsRUFBSUwsS0FHbEJwQixHQUFjbUIsRUFDZEEsRUFBS3ZnQixRQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsRUFHUCxPQUFPdWdCLEVBR1QsU0FBU29GLEtBQ1AsSUFBSXBGLEVBQUlNLEVBQUlMLEVBQUlDLEVBQVFPLEVBQUljLEVBQUlYLEVBQUlZLEVBSXBDLEdBRkF4QixFQUFLbkIsSUFDTHlCLEVBQUsrRSxRQUNNNWxCLEVBQVksQ0FvRXJCLElBbkVBd2dCLEtBQ0FDLEVBQUtyQixHQUNBdUIsT0FDTTNnQixHQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBTzFQLElBQ25Dc1IsRUFBS3RSLEdBQ0wwUCxJQUFlLElBRWY0QixFQUFLaGhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVN6USxLQUVwQ3FSLElBQU9oaEIsSUFDVGdoQixFQUFLNUIsR0FDRGh1QyxFQUFNNnZDLE9BQU83QixHQUFhLEtBQU94UCxJQUNuQ2tTLEVBQUtsUyxHQUNMd1AsSUFBZSxJQUVmMEMsRUFBSzloQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTdlEsS0FFcENpUyxJQUFPOWhCLEdBQ1RtaEIsRUFBSy9CLEdBQ0xLLEtBQ0FzQyxFQUFLSyxLQUNMM0MsS0FDSXNDLElBQU8vaEIsRUFDVG1oQixPQUFLOXZFLEdBRUwrdEUsR0FBYytCLEVBQ2RBLEVBQUtuaEIsR0FFSG1oQixJQUFPbmhCLEVBRVRnaEIsRUFEQWMsR0FBTUEsRUFBSVgsSUFHVi9CLEdBQWM0QixFQUNkQSxFQUFLaGhCLEtBR1BvZixHQUFjNEIsRUFDZEEsRUFBS2hoQixJQUdMZ2hCLElBQU9oaEIsSUFDVDhoQixFQUFLbkIsUUFDTTNnQixJQUNUbWhCLEVBQUt5RSxRQUNNNWxCLEdBQ1RxZixHQUFlb0IsRUFFZkEsRUFESzNRLEdBQVMrUSxFQUFJRyxFQUFJRyxLQVcxQi9CLEdBQWNxQixFQUNkQSxFQUFLemdCLEtBR1BvZixHQUFjcUIsRUFDZEEsRUFBS3pnQixHQUVBeWdCLElBQU96Z0IsR0FDWndnQixFQUFHMXlGLEtBQUsyeUYsR0FDUkEsRUFBS3JCLEdBQ0F1QixPQUNNM2dCLEdBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPMVAsSUFDbkNzUixFQUFLdFIsR0FDTDBQLElBQWUsSUFFZjRCLEVBQUtoaEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3pRLEtBRXBDcVIsSUFBT2hoQixJQUNUZ2hCLEVBQUs1QixHQUNEaHVDLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT3hQLElBQ25Da1MsRUFBS2xTLEdBQ0x3UCxJQUFlLElBRWYwQyxFQUFLOWhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVN2USxLQUVwQ2lTLElBQU85aEIsR0FDVG1oQixFQUFLL0IsR0FDTEssS0FDQXNDLEVBQUtLLEtBQ0wzQyxLQUNJc0MsSUFBTy9oQixFQUNUbWhCLE9BQUs5dkUsR0FFTCt0RSxHQUFjK0IsRUFDZEEsRUFBS25oQixHQUVIbWhCLElBQU9uaEIsRUFFVGdoQixFQURBYyxHQUFNQSxFQUFJWCxJQUdWL0IsR0FBYzRCLEVBQ2RBLEVBQUtoaEIsS0FHUG9mLEdBQWM0QixFQUNkQSxFQUFLaGhCLElBR0xnaEIsSUFBT2hoQixJQUNUOGhCLEVBQUtuQixRQUNNM2dCLElBQ1RtaEIsRUFBS3lFLFFBQ001bEIsR0FDVHFmLEdBQWVvQixFQUVmQSxFQURLM1EsR0FBUytRLEVBQUlHLEVBQUlHLEtBVzFCL0IsR0FBY3FCLEVBQ2RBLEVBQUt6Z0IsS0FHUG9mLEdBQWNxQixFQUNkQSxFQUFLemdCLEdBR0x3Z0IsSUFBT3hnQixHQUNUcWYsR0FBZWtCLEVBRWZBLEVBREFNLEVBQUtwUixHQUFTb1IsRUFBSUwsS0FHbEJwQixHQUFjbUIsRUFDZEEsRUFBS3ZnQixRQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsRUFHUCxPQUFPdWdCLEVBR1QsU0FBU3FGLEtBQ1AsSUFBSXJGLEVBQUlNLEVBQUlMLEVBQUlDLEVBQVFPLEVBQUljLEVBQUlYLEVBQUlZLEVBSXBDLEdBRkF4QixFQUFLbkIsSUFDTHlCLEVBQUtnRixRQUNNN2xCLEVBQVksQ0FvRXJCLElBbkVBd2dCLEtBQ0FDLEVBQUtyQixHQUNBdUIsT0FDTTNnQixHQUM2QixNQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkI0QixFQUFLalIsR0FDTHFQLE9BRUE0QixFQUFLaGhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNwUSxLQUVwQ2dSLElBQU9oaEIsSUFDVGdoQixFQUFLNUIsR0FDRGh1QyxFQUFNNnZDLE9BQU83QixHQUFhLEtBQU9uUCxJQUNuQzZSLEVBQUs3UixHQUNMbVAsSUFBZSxJQUVmMEMsRUFBSzloQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTbFEsS0FFcEM0UixJQUFPOWhCLEdBQ1RtaEIsRUFBSy9CLEdBQ0xLLEtBQ0FzQyxFQUFLSyxLQUNMM0MsS0FDSXNDLElBQU8vaEIsRUFDVG1oQixPQUFLOXZFLEdBRUwrdEUsR0FBYytCLEVBQ2RBLEVBQUtuaEIsR0FFSG1oQixJQUFPbmhCLEVBRVRnaEIsRUFEQWMsR0FBTUEsRUFBSVgsSUFHVi9CLEdBQWM0QixFQUNkQSxFQUFLaGhCLEtBR1BvZixHQUFjNEIsRUFDZEEsRUFBS2hoQixJQUdMZ2hCLElBQU9oaEIsSUFDVDhoQixFQUFLbkIsUUFDTTNnQixJQUNUbWhCLEVBQUswRSxRQUNNN2xCLEdBQ1RxZixHQUFlb0IsRUFFZkEsRUFES3RRLEdBQVMwUSxFQUFJRyxFQUFJRyxLQVcxQi9CLEdBQWNxQixFQUNkQSxFQUFLemdCLEtBR1BvZixHQUFjcUIsRUFDZEEsRUFBS3pnQixHQUVBeWdCLElBQU96Z0IsR0FDWndnQixFQUFHMXlGLEtBQUsyeUYsR0FDUkEsRUFBS3JCLEdBQ0F1QixPQUNNM2dCLEdBQzZCLE1BQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQjRCLEVBQUtqUixHQUNMcVAsT0FFQTRCLEVBQUtoaEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3BRLEtBRXBDZ1IsSUFBT2hoQixJQUNUZ2hCLEVBQUs1QixHQUNEaHVDLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT25QLElBQ25DNlIsRUFBSzdSLEdBQ0xtUCxJQUFlLElBRWYwQyxFQUFLOWhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNsUSxLQUVwQzRSLElBQU85aEIsR0FDVG1oQixFQUFLL0IsR0FDTEssS0FDQXNDLEVBQUtLLEtBQ0wzQyxLQUNJc0MsSUFBTy9oQixFQUNUbWhCLE9BQUs5dkUsR0FFTCt0RSxHQUFjK0IsRUFDZEEsRUFBS25oQixHQUVIbWhCLElBQU9uaEIsRUFFVGdoQixFQURBYyxHQUFNQSxFQUFJWCxJQUdWL0IsR0FBYzRCLEVBQ2RBLEVBQUtoaEIsS0FHUG9mLEdBQWM0QixFQUNkQSxFQUFLaGhCLElBR0xnaEIsSUFBT2hoQixJQUNUOGhCLEVBQUtuQixRQUNNM2dCLElBQ1RtaEIsRUFBSzBFLFFBQ003bEIsR0FDVHFmLEdBQWVvQixFQUVmQSxFQURLdFEsR0FBUzBRLEVBQUlHLEVBQUlHLEtBVzFCL0IsR0FBY3FCLEVBQ2RBLEVBQUt6Z0IsS0FHUG9mLEdBQWNxQixFQUNkQSxFQUFLemdCLEdBR0x3Z0IsSUFBT3hnQixHQUNUcWYsR0FBZWtCLEVBRWZBLEVBREFNLEVBQUt6USxHQUFTeVEsRUFBSUwsS0FHbEJwQixHQUFjbUIsRUFDZEEsRUFBS3ZnQixRQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsRUFHUCxPQUFPdWdCLEVBR1QsU0FBU3NGLEtBQ1AsSUFBSXRGLEVBQUlNLEVBQUlMLEVBQUlDLEVBQVFPLEVBQVFHLEVBSWhDLEdBRkFaLEVBQUtuQixJQUNMeUIsRUFBS2lGLFFBQ005bEIsRUFBWSxDQTZDckIsSUE1Q0F3Z0IsS0FDQUMsRUFBS3JCLEdBQ0F1QixPQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQjRCLEVBQUszUSxHQUNMK08sT0FFQTRCLEVBQUtoaEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzlQLEtBRXBDMFEsSUFBT2hoQixJQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBTzdPLElBQ25DeVEsRUFBS3pRLEdBQ0w2TyxJQUFlLElBRWY0QixFQUFLaGhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVM1UCxNQUd0Q3dRLElBQU9oaEIsR0FDSjJnQixPQUNNM2dCLElBQ1RtaEIsRUFBSzJFLFFBQ005bEIsR0FDVHFmLEdBQWVvQixFQUVmQSxFQURLaFEsR0FBU29RLEVBQUlHLEVBQUlHLEtBVzFCL0IsR0FBY3FCLEVBQ2RBLEVBQUt6Z0IsS0FHUG9mLEdBQWNxQixFQUNkQSxFQUFLemdCLEdBRUF5Z0IsSUFBT3pnQixHQUNad2dCLEVBQUcxeUYsS0FBSzJ5RixHQUNSQSxFQUFLckIsR0FDQXVCLE9BQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CNEIsRUFBSzNRLEdBQ0wrTyxPQUVBNEIsRUFBS2hoQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTOVAsS0FFcEMwUSxJQUFPaGhCLElBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPN08sSUFDbkN5USxFQUFLelEsR0FDTDZPLElBQWUsSUFFZjRCLEVBQUtoaEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzVQLE1BR3RDd1EsSUFBT2hoQixHQUNKMmdCLE9BQ00zZ0IsSUFDVG1oQixFQUFLMkUsUUFDTTlsQixHQUNUcWYsR0FBZW9CLEVBRWZBLEVBREtoUSxHQUFTb1EsRUFBSUcsRUFBSUcsS0FXMUIvQixHQUFjcUIsRUFDZEEsRUFBS3pnQixLQUdQb2YsR0FBY3FCLEVBQ2RBLEVBQUt6Z0IsR0FHTHdnQixJQUFPeGdCLEdBQ1RxZixHQUFla0IsRUFFZkEsRUFEQU0sRUFBS3pRLEdBQVN5USxFQUFJTCxLQUdsQnBCLEdBQWNtQixFQUNkQSxFQUFLdmdCLFFBR1BvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixFQUdQLE9BQU91Z0IsRUFHVCxTQUFTdUYsS0FDUCxJQUFJdkYsRUFBSU0sRUFBSUwsRUFBSUMsRUFBUU8sRUFBSWMsRUFBSVgsRUFBSVksRUFJcEMsR0FGQXhCLEVBQUtuQixJQUNMeUIsRUFBS2tGLFFBQ00vbEIsRUFBWSxDQWlHckIsSUFoR0F3Z0IsS0FDQUMsRUFBS3JCLEdBQ0F1QixPQUNNM2dCLEdBQ1RnaEIsRUFBSzVCLEdBQ2lDLEtBQWxDaHVDLEVBQU1yaUQsV0FBV3F3RixLQUNuQjBDLEVBQUt4VyxHQUNMOFQsT0FFQTBDLEVBQUs5aEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzdVLEtBRXBDdVcsSUFBTzloQixHQUNUbWhCLEVBQUsvQixHQUNMSyxLQUNzQyxLQUFsQ3J1QyxFQUFNcmlELFdBQVdxd0YsS0FDbkIyQyxFQUFLelcsR0FDTDhULE9BRUEyQyxFQUFLL2hCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVM3VSxLQUV4Q2tVLEtBQ0lzQyxJQUFPL2hCLEVBQ1RtaEIsT0FBSzl2RSxHQUVMK3RFLEdBQWMrQixFQUNkQSxFQUFLbmhCLEdBRUhtaEIsSUFBT25oQixFQUVUZ2hCLEVBREFjLEdBQU1BLEVBQUlYLElBR1YvQixHQUFjNEIsRUFDZEEsRUFBS2hoQixLQUdQb2YsR0FBYzRCLEVBQ2RBLEVBQUtoaEIsR0FFSGdoQixJQUFPaGhCLElBQ1RnaEIsRUFBSzVCLEdBQ0RodUMsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPMU8sSUFDbkNvUixFQUFLcFIsR0FDTDBPLElBQWUsSUFFZjBDLEVBQUs5aEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3pQLEtBRXBDbVIsSUFBTzloQixHQUNUbWhCLEVBQUsvQixHQUNMSyxLQUNBc0MsRUFBS0ssS0FDTDNDLEtBQ0lzQyxJQUFPL2hCLEVBQ1RtaEIsT0FBSzl2RSxHQUVMK3RFLEdBQWMrQixFQUNkQSxFQUFLbmhCLEdBRUhtaEIsSUFBT25oQixFQUVUZ2hCLEVBREFjLEdBQU1BLEVBQUlYLElBR1YvQixHQUFjNEIsRUFDZEEsRUFBS2hoQixLQUdQb2YsR0FBYzRCLEVBQ2RBLEVBQUtoaEIsSUFHTGdoQixJQUFPaGhCLElBQ1Q4aEIsRUFBS25CLFFBQ00zZ0IsSUFDVG1oQixFQUFLNEUsUUFDTS9sQixHQUNUcWYsR0FBZW9CLEVBRWZBLEVBREs3UCxHQUFTaVEsRUFBSUcsRUFBSUcsS0FXMUIvQixHQUFjcUIsRUFDZEEsRUFBS3pnQixLQUdQb2YsR0FBY3FCLEVBQ2RBLEVBQUt6Z0IsR0FFQXlnQixJQUFPemdCLEdBQ1p3Z0IsRUFBRzF5RixLQUFLMnlGLEdBQ1JBLEVBQUtyQixHQUNBdUIsT0FDTTNnQixHQUNUZ2hCLEVBQUs1QixHQUNpQyxLQUFsQ2h1QyxFQUFNcmlELFdBQVdxd0YsS0FDbkIwQyxFQUFLeFcsR0FDTDhULE9BRUEwQyxFQUFLOWhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVM3VSxLQUVwQ3VXLElBQU85aEIsR0FDVG1oQixFQUFLL0IsR0FDTEssS0FDc0MsS0FBbENydUMsRUFBTXJpRCxXQUFXcXdGLEtBQ25CMkMsRUFBS3pXLEdBQ0w4VCxPQUVBMkMsRUFBSy9oQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTN1UsS0FFeENrVSxLQUNJc0MsSUFBTy9oQixFQUNUbWhCLE9BQUs5dkUsR0FFTCt0RSxHQUFjK0IsRUFDZEEsRUFBS25oQixHQUVIbWhCLElBQU9uaEIsRUFFVGdoQixFQURBYyxHQUFNQSxFQUFJWCxJQUdWL0IsR0FBYzRCLEVBQ2RBLEVBQUtoaEIsS0FHUG9mLEdBQWM0QixFQUNkQSxFQUFLaGhCLEdBRUhnaEIsSUFBT2hoQixJQUNUZ2hCLEVBQUs1QixHQUNEaHVDLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBTzFPLElBQ25Db1IsRUFBS3BSLEdBQ0wwTyxJQUFlLElBRWYwQyxFQUFLOWhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVN6UCxLQUVwQ21SLElBQU85aEIsR0FDVG1oQixFQUFLL0IsR0FDTEssS0FDQXNDLEVBQUtLLEtBQ0wzQyxLQUNJc0MsSUFBTy9oQixFQUNUbWhCLE9BQUs5dkUsR0FFTCt0RSxHQUFjK0IsRUFDZEEsRUFBS25oQixHQUVIbWhCLElBQU9uaEIsRUFFVGdoQixFQURBYyxHQUFNQSxFQUFJWCxJQUdWL0IsR0FBYzRCLEVBQ2RBLEVBQUtoaEIsS0FHUG9mLEdBQWM0QixFQUNkQSxFQUFLaGhCLElBR0xnaEIsSUFBT2hoQixJQUNUOGhCLEVBQUtuQixRQUNNM2dCLElBQ1RtaEIsRUFBSzRFLFFBQ00vbEIsR0FDVHFmLEdBQWVvQixFQUVmQSxFQURLN1AsR0FBU2lRLEVBQUlHLEVBQUlHLEtBVzFCL0IsR0FBY3FCLEVBQ2RBLEVBQUt6Z0IsS0FHUG9mLEdBQWNxQixFQUNkQSxFQUFLemdCLEdBR0x3Z0IsSUFBT3hnQixHQUNUcWYsR0FBZWtCLEVBRWZBLEVBREFNLEVBQUt6USxHQUFTeVEsRUFBSUwsS0FHbEJwQixHQUFjbUIsRUFDZEEsRUFBS3ZnQixRQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsRUFHUCxPQUFPdWdCLEVBR1QsU0FBU3dGLEtBQ1AsSUFBSXhGLEVBQUlNLEVBQUlMLEVBQUlDLEVBQVFPLEVBQUljLEVBQUlYLEVBQUlZLEVBSXBDLEdBRkF4QixFQUFLbkIsSUFDTHlCLEVBQUttRixRQUNNaG1CLEVBQVksQ0E4RXJCLElBN0VBd2dCLEtBQ0FDLEVBQUtyQixHQUNBdUIsT0FDTTNnQixHQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT3ZPLElBQ25DbVEsRUFBS25RLEdBQ0x1TyxJQUFlLElBRWY0QixFQUFLaGhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVN0UCxLQUVwQ2tRLElBQU9oaEIsSUFDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU9yTyxJQUNuQ2lRLEVBQUtqUSxHQUNMcU8sSUFBZSxJQUVmNEIsRUFBS2hoQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTcFAsS0FFcENnUSxJQUFPaGhCLElBQ1RnaEIsRUFBSzVCLEdBQ0RodUMsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPbk8sSUFDbkM2USxFQUFLN1EsR0FDTG1PLElBQWUsSUFFZjBDLEVBQUs5aEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2xQLEtBRXBDNFEsSUFBTzloQixHQUNUbWhCLEVBQUsvQixHQUNMSyxLQUNBc0MsRUFBS0ssS0FDTDNDLEtBQ0lzQyxJQUFPL2hCLEVBQ1RtaEIsT0FBSzl2RSxHQUVMK3RFLEdBQWMrQixFQUNkQSxFQUFLbmhCLEdBRUhtaEIsSUFBT25oQixHQUNUcWYsR0FBZTJCLEVBRWZBLEVBREFjLEVBQUszUSxHQUFTMFAsS0FHZHpCLEdBQWM0QixFQUNkQSxFQUFLaGhCLEtBR1BvZixHQUFjNEIsRUFDZEEsRUFBS2hoQixLQUlQZ2hCLElBQU9oaEIsSUFDVDhoQixFQUFLbkIsUUFDTTNnQixJQUNUbWhCLEVBQUs2RSxRQUNNaG1CLEdBQ1RxZixHQUFlb0IsRUFFZkEsRUFESzNULEdBQVMrVCxFQUFJRyxFQUFJRyxLQVcxQi9CLEdBQWNxQixFQUNkQSxFQUFLemdCLEtBR1BvZixHQUFjcUIsRUFDZEEsRUFBS3pnQixHQUVBeWdCLElBQU96Z0IsR0FDWndnQixFQUFHMXlGLEtBQUsyeUYsR0FDUkEsRUFBS3JCLEdBQ0F1QixPQUNNM2dCLEdBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPdk8sSUFDbkNtUSxFQUFLblEsR0FDTHVPLElBQWUsSUFFZjRCLEVBQUtoaEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3RQLEtBRXBDa1EsSUFBT2hoQixJQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT3JPLElBQ25DaVEsRUFBS2pRLEdBQ0xxTyxJQUFlLElBRWY0QixFQUFLaGhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNwUCxLQUVwQ2dRLElBQU9oaEIsSUFDVGdoQixFQUFLNUIsR0FDRGh1QyxFQUFNNnZDLE9BQU83QixHQUFhLEtBQU9uTyxJQUNuQzZRLEVBQUs3USxHQUNMbU8sSUFBZSxJQUVmMEMsRUFBSzloQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTbFAsS0FFcEM0USxJQUFPOWhCLEdBQ1RtaEIsRUFBSy9CLEdBQ0xLLEtBQ0FzQyxFQUFLSyxLQUNMM0MsS0FDSXNDLElBQU8vaEIsRUFDVG1oQixPQUFLOXZFLEdBRUwrdEUsR0FBYytCLEVBQ2RBLEVBQUtuaEIsR0FFSG1oQixJQUFPbmhCLEdBQ1RxZixHQUFlMkIsRUFFZkEsRUFEQWMsRUFBSzNRLEdBQVMwUCxLQUdkekIsR0FBYzRCLEVBQ2RBLEVBQUtoaEIsS0FHUG9mLEdBQWM0QixFQUNkQSxFQUFLaGhCLEtBSVBnaEIsSUFBT2hoQixJQUNUOGhCLEVBQUtuQixRQUNNM2dCLElBQ1RtaEIsRUFBSzZFLFFBQ01obUIsR0FDVHFmLEdBQWVvQixFQUVmQSxFQURLM1QsR0FBUytULEVBQUlHLEVBQUlHLEtBVzFCL0IsR0FBY3FCLEVBQ2RBLEVBQUt6Z0IsS0FHUG9mLEdBQWNxQixFQUNkQSxFQUFLemdCLEdBR0x3Z0IsSUFBT3hnQixHQUNUcWYsR0FBZWtCLEVBRWZBLEVBREFNLEVBQUt6UCxHQUFTeVAsRUFBSUwsS0FHbEJwQixHQUFjbUIsRUFDZEEsRUFBS3ZnQixRQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsRUFHUCxPQUFPdWdCLEVBR1QsU0FBU3lGLEtBQ1AsSUFBSXpGLEVBQUlNLEVBQUlMLEVBQUlDLEVBQVFPLEVBQVFHLEVBSWhDLEdBRkFaLEVBQUtuQixJQUNMeUIsRUFBS29GLFFBQ01qbUIsRUFBWSxDQThCckIsSUE3QkF3Z0IsS0FDQUMsRUFBS3JCLEdBQ0F1QixPQUNNM2dCLElBQ1RnaEIsRUFBS2tGLFFBQ01sbUIsR0FDSjJnQixPQUNNM2dCLElBQ1RtaEIsRUFBSzhFLFFBQ01qbUIsR0FDVHFmLEdBQWVvQixFQUVmQSxFQURLM1QsR0FBUytULEVBQUlHLEVBQUlHLEtBZTVCL0IsR0FBY3FCLEVBQ2RBLEVBQUt6Z0IsR0FFQXlnQixJQUFPemdCLEdBQ1p3Z0IsRUFBRzF5RixLQUFLMnlGLEdBQ1JBLEVBQUtyQixHQUNBdUIsT0FDTTNnQixJQUNUZ2hCLEVBQUtrRixRQUNNbG1CLEdBQ0oyZ0IsT0FDTTNnQixJQUNUbWhCLEVBQUs4RSxRQUNNam1CLEdBQ1RxZixHQUFlb0IsRUFFZkEsRUFESzNULEdBQVMrVCxFQUFJRyxFQUFJRyxLQWU1Qi9CLEdBQWNxQixFQUNkQSxFQUFLemdCLEdBR0x3Z0IsSUFBT3hnQixHQUNUcWYsR0FBZWtCLEVBRWZBLEVBREFNLEVBQUt6UCxHQUFTeVAsRUFBSUwsS0FHbEJwQixHQUFjbUIsRUFDZEEsRUFBS3ZnQixRQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsRUFHUCxPQUFPdWdCLEVBR1QsU0FBUzJGLEtBQ1AsSUFBSTNGLEVBcUNKLE9BbkNJbnZDLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBTy9OLElBQ25Da1AsRUFBS2xQLEdBQ0wrTixJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVM5TyxLQUVwQ2lQLElBQU92Z0IsSUFDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU83TixJQUNuQ2dQLEVBQUtoUCxHQUNMNk4sSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTNU8sS0FFcEMrTyxJQUFPdmdCLElBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQm1CLEVBQUs5TyxHQUNMMk4sT0FFQW1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzFPLEtBRXBDNk8sSUFBT3ZnQixJQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkJtQixFQUFLNU8sR0FDTHlOLE9BRUFtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVN4TyxRQU12QzJPLEVBR1QsU0FBUzBGLEtBQ1AsSUFBSTFGLEVBQUlNLEVBQUlMLEVBQUlDLEVBQVFPLEVBQVFHLEVBSWhDLEdBRkFaLEVBQUtuQixJQUNMeUIsRUFBS3NGLFFBQ01ubUIsRUFBWSxDQThCckIsSUE3QkF3Z0IsS0FDQUMsRUFBS3JCLEdBQ0F1QixPQUNNM2dCLElBQ1RnaEIsRUFBS29GLFFBQ01wbUIsR0FDSjJnQixPQUNNM2dCLElBQ1RtaEIsRUFBS2dGLFFBQ01ubUIsR0FDVHFmLEdBQWVvQixFQUVmQSxFQURLM1QsR0FBUytULEVBQUlHLEVBQUlHLEtBZTVCL0IsR0FBY3FCLEVBQ2RBLEVBQUt6Z0IsR0FFQXlnQixJQUFPemdCLEdBQ1p3Z0IsRUFBRzF5RixLQUFLMnlGLEdBQ1JBLEVBQUtyQixHQUNBdUIsT0FDTTNnQixJQUNUZ2hCLEVBQUtvRixRQUNNcG1CLEdBQ0oyZ0IsT0FDTTNnQixJQUNUbWhCLEVBQUtnRixRQUNNbm1CLEdBQ1RxZixHQUFlb0IsRUFFZkEsRUFESzNULEdBQVMrVCxFQUFJRyxFQUFJRyxLQWU1Qi9CLEdBQWNxQixFQUNkQSxFQUFLemdCLEdBR0x3Z0IsSUFBT3hnQixHQUNUcWYsR0FBZWtCLEVBRWZBLEVBREFNLEVBQUt6USxHQUFTeVEsRUFBSUwsS0FHbEJwQixHQUFjbUIsRUFDZEEsRUFBS3ZnQixRQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsRUFHUCxPQUFPdWdCLEVBR1QsU0FBUzZGLEtBQ1AsSUFBSTdGLEVBbUJKLE9BakJJbnZDLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT3ZOLElBQ25DME8sRUFBSzFPLEdBQ0x1TixJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVN0TyxLQUVwQ3lPLElBQU92Z0IsSUFDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU9yTixJQUNuQ3dPLEVBQUt4TyxHQUNMcU4sSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTcE8sTUFJbkN1TyxFQUdULFNBQVM0RixLQUNQLElBQUk1RixFQUFJTSxFQUFJTCxFQUFJQyxFQUFRTyxFQUFRRyxFQUloQyxHQUZBWixFQUFLbkIsSUFDTHlCLEVBQUt3RixRQUNNcm1CLEVBQVksQ0E4QnJCLElBN0JBd2dCLEtBQ0FDLEVBQUtyQixHQUNBdUIsT0FDTTNnQixJQUNUZ2hCLEVBQUtzRixRQUNNdG1CLEdBQ0oyZ0IsT0FDTTNnQixJQUNUbWhCLEVBQUtrRixRQUNNcm1CLEdBQ1RxZixHQUFlb0IsRUFFZkEsRUFESzNULEdBQVMrVCxFQUFJRyxFQUFJRyxLQWU1Qi9CLEdBQWNxQixFQUNkQSxFQUFLemdCLEdBRUF5Z0IsSUFBT3pnQixHQUNad2dCLEVBQUcxeUYsS0FBSzJ5RixHQUNSQSxFQUFLckIsR0FDQXVCLE9BQ00zZ0IsSUFDVGdoQixFQUFLc0YsUUFDTXRtQixHQUNKMmdCLE9BQ00zZ0IsSUFDVG1oQixFQUFLa0YsUUFDTXJtQixHQUNUcWYsR0FBZW9CLEVBRWZBLEVBREszVCxHQUFTK1QsRUFBSUcsRUFBSUcsS0FlNUIvQixHQUFjcUIsRUFDZEEsRUFBS3pnQixHQUdMd2dCLElBQU94Z0IsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLelEsR0FBU3lRLEVBQUlMLEtBR2xCcEIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsUUFHUG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEVBR1AsT0FBT3VnQixFQUdULFNBQVMrRixLQUNQLElBQUkvRixFQW1CSixPQWpCc0MsS0FBbENudkMsRUFBTXJpRCxXQUFXcXdGLEtBQ25CbUIsRUFBS3RPLEdBQ0xtTixPQUVBbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTbE8sS0FFcENxTyxJQUFPdmdCLElBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQm1CLEVBQUtwTyxHQUNMaU4sT0FFQW1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2hPLE1BSW5DbU8sRUFHVCxTQUFTOEYsS0FDUCxJQUFJOUYsRUFBSU0sRUFBSUwsRUFBSUMsRUFBUU8sRUFBUUcsRUFJaEMsR0FGQVosRUFBS25CLElBQ0x5QixFQUFLMEYsUUFDTXZtQixFQUFZLENBOEJyQixJQTdCQXdnQixLQUNBQyxFQUFLckIsR0FDQXVCLE9BQ00zZ0IsSUFDVGdoQixFQUFLd0YsUUFDTXhtQixHQUNKMmdCLE9BQ00zZ0IsSUFDVG1oQixFQUFLb0YsUUFDTXZtQixHQUNUcWYsR0FBZW9CLEVBRWZBLEVBREszVCxHQUFTK1QsRUFBSUcsRUFBSUcsS0FlNUIvQixHQUFjcUIsRUFDZEEsRUFBS3pnQixHQUVBeWdCLElBQU96Z0IsR0FDWndnQixFQUFHMXlGLEtBQUsyeUYsR0FDUkEsRUFBS3JCLEdBQ0F1QixPQUNNM2dCLElBQ1RnaEIsRUFBS3dGLFFBQ014bUIsR0FDSjJnQixPQUNNM2dCLElBQ1RtaEIsRUFBS29GLFFBQ012bUIsR0FDVHFmLEdBQWVvQixFQUVmQSxFQURLM1QsR0FBUytULEVBQUlHLEVBQUlHLEtBZTVCL0IsR0FBY3FCLEVBQ2RBLEVBQUt6Z0IsR0FHTHdnQixJQUFPeGdCLEdBQ1RxZixHQUFla0IsRUFFZkEsRUFEQU0sRUFBS3pRLEdBQVN5USxFQUFJTCxLQUdsQnBCLEdBQWNtQixFQUNkQSxFQUFLdmdCLFFBR1BvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixFQUdQLE9BQU91Z0IsRUFHVCxTQUFTaUcsS0FDUCxJQUFJakcsRUE0QkosT0ExQnNDLEtBQWxDbnZDLEVBQU1yaUQsV0FBV3F3RixLQUNuQm1CLEVBQUtyVixHQUNMa1UsT0FFQW1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2pWLEtBRXBDb1YsSUFBT3ZnQixJQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkJtQixFQUFLbE8sR0FDTCtNLE9BRUFtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVM5TixLQUVwQ2lPLElBQU92Z0IsSUFDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CbUIsRUFBS2hPLEdBQ0w2TSxPQUVBbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTNU4sT0FLckMrTixFQUdULFNBQVNnRyxLQUNQLElBQUloRyxFQUFJTSxFQUFJTCxFQUFJQyxFQUFRTyxFQUFRRyxFQUloQyxHQUZBWixFQUFLbkIsSUFDTHlCLEVBQUs0RixRQUNNem1CLEVBQVksQ0E4QnJCLElBN0JBd2dCLEtBQ0FDLEVBQUtyQixHQUNBdUIsT0FDTTNnQixJQUNUZ2hCLEVBQUswRixRQUNNMW1CLEdBQ0oyZ0IsT0FDTTNnQixJQUNUbWhCLEVBQUtzRixRQUNNem1CLEdBQ1RxZixHQUFlb0IsRUFFZkEsRUFESzNULEdBQVMrVCxFQUFJRyxFQUFJRyxLQWU1Qi9CLEdBQWNxQixFQUNkQSxFQUFLemdCLEdBRUF5Z0IsSUFBT3pnQixHQUNad2dCLEVBQUcxeUYsS0FBSzJ5RixHQUNSQSxFQUFLckIsR0FDQXVCLE9BQ00zZ0IsSUFDVGdoQixFQUFLMEYsUUFDTTFtQixHQUNKMmdCLE9BQ00zZ0IsSUFDVG1oQixFQUFLc0YsUUFDTXptQixHQUNUcWYsR0FBZW9CLEVBRWZBLEVBREszVCxHQUFTK1QsRUFBSUcsRUFBSUcsS0FlNUIvQixHQUFjcUIsRUFDZEEsRUFBS3pnQixHQUdMd2dCLElBQU94Z0IsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLcE8sR0FBU29PLEVBQUlMLEtBR2xCcEIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsUUFHUG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEVBR1AsT0FBT3VnQixFQUdULFNBQVNtRyxLQUNQLElBQUluRyxFQW1CSixPQWpCSW52QyxFQUFNNnZDLE9BQU83QixHQUFhLEtBQU8xTSxJQUNuQzZOLEVBQUs3TixHQUNMME0sSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTek4sS0FFcEM0TixJQUFPdmdCLElBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPeE0sSUFDbkMyTixFQUFLM04sR0FDTHdNLElBQWUsSUFFZm1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3ZOLE1BSW5DME4sRUFHVCxTQUFTa0csS0FDUCxJQUFJbEcsRUFBSU0sRUFBUUosRUFBUU8sRUFBUUcsRUFnRWhDLE9BOURBWixFQUFLbkIsR0FDaUMsS0FBbENodUMsRUFBTXJpRCxXQUFXcXdGLEtBQ25CeUIsRUFBSzVkLEVBQ0xtYyxPQUVBeUIsRUFBSzdnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTbGQsSUFFcEMyZCxJQUFPN2dCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUeWdCLEVBQUs0RSxRQUNNcmxCLEdBQ0oyZ0IsT0FDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkI0QixFQUFLN2QsRUFDTGljLE9BRUE0QixFQUFLaGhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNoZCxJQUVwQzRkLElBQU9oaEIsR0FDSjJnQixPQUNNM2dCLElBQ1RtaEIsRUFBS3NGLFFBQ016bUIsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLL04sR0FBUzJOLEVBQUlVLEtBV3RCL0IsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FlYm9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUtnRixNQUdBaEYsRUFHVCxTQUFTZ0YsS0FDUCxJQUFJaEYsRUFBSU0sRUFBUUosRUFBUU8sRUFBUUcsRUEyTGhDLE9BekxBWixFQUFLbkIsR0FDRGh1QyxFQUFNNnZDLE9BQU83QixHQUFhLEtBQU9yTSxJQUNuQzhOLEVBQUs5TixHQUNMcU0sSUFBZSxJQUVmeUIsRUFBSzdnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTcE4sS0FFcEM2TixJQUFPN2dCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUeWdCLEVBQUs4RSxRQUNNdmxCLEdBQ1RxZixHQUFla0IsRUFFZkEsRUFEQU0sRUFBSzVOLEdBQVM0TixFQUFJSixLQVd0QnJCLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUtuQixHQUNEaHVDLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT2xNLElBQ25DMk4sRUFBSzNOLEdBQ0xrTSxJQUFlLElBRWZ5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNqTixLQUVwQzBOLElBQU83Z0IsR0FDSjJnQixPQUNNM2dCLElBQ1R5Z0IsRUFBSzhFLFFBQ012bEIsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLek4sR0FBU3lOLEVBQUlKLEtBV3RCckIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsR0FFSHVnQixJQUFPdmdCLElBQ1R1Z0IsRUFBS25CLElBQ0x5QixFQWlJTixXQUNFLElBQUlOLEVBQUlNLEVBQUlMLEVBQUlDLEVBMkloQixPQXpJQUYsRUFBS25CLEdBQ2lDLEtBQWxDaHVDLEVBQU1yaUQsV0FBV3F3RixLQUNuQnlCLEVBQUszVixHQUNMa1UsT0FFQXlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2pWLEtBRXBDMFYsSUFBTzdnQixJQUNUcWYsR0FBZWtCLEVBQ2ZNLEVBQUtuTixPQUVQNk0sRUFBS00sS0FDTTdnQixJQUNUdWdCLEVBQUtuQixHQUNpQyxLQUFsQ2h1QyxFQUFNcmlELFdBQVdxd0YsS0FDbkJ5QixFQUFLdlYsR0FDTDhULE9BRUF5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVM3VSxLQUVwQ3NWLElBQU83Z0IsSUFDVHFmLEdBQWVrQixFQUNmTSxFQUFLbE4sT0FFUDRNLEVBQUtNLEtBQ003Z0IsSUFDVHVnQixFQUFLbkIsR0FDaUMsS0FBbENodUMsRUFBTXJpRCxXQUFXcXdGLEtBQ25CeUIsRUFBSzVPLEdBQ0xtTixPQUVBeUIsRUFBSzdnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTbE8sS0FFcEMyTyxJQUFPN2dCLElBQ1RxZixHQUFla0IsRUFDZk0sRUFBS2pOLE9BRVAyTSxFQUFLTSxLQUNNN2dCLElBQ1R1Z0IsRUFBS25CLEdBQ2lDLEtBQWxDaHVDLEVBQU1yaUQsV0FBV3F3RixLQUNuQnlCLEVBQUsxTyxHQUNMaU4sT0FFQXlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2hPLEtBRXBDeU8sSUFBTzdnQixJQUNUcWYsR0FBZWtCLEVBQ2ZNLEVBQUtoTixPQUVQME0sRUFBS00sS0FDTTdnQixJQUNUdWdCLEVBQUtuQixHQUNpQyxLQUFsQ2h1QyxFQUFNcmlELFdBQVdxd0YsS0FDbkJ5QixFQUFLL00sR0FDTHNMLE9BRUF5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNyTSxLQUVwQzhNLElBQU83Z0IsSUFDVHFmLEdBQWVrQixFQUNmTSxFQUFLN00sT0FFUHVNLEVBQUtNLEtBQ003Z0IsSUFDVHVnQixFQUFLbkIsR0FDRGh1QyxFQUFNNnZDLE9BQU83QixHQUFhLEtBQU9uTCxJQUNuQzRNLEVBQUs1TSxHQUNMbUwsSUFBZSxJQUVmeUIsRUFBSzdnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTbE0sS0FFcEMyTSxJQUFPN2dCLEdBQ1R3Z0IsRUFBS3BCLEdBQ0xLLEtBQ0FnQixFQUFLMkIsS0FDTDNDLEtBQ0lnQixJQUFPemdCLEVBQ1R3Z0IsT0FBS252RSxHQUVMK3RFLEdBQWNvQixFQUNkQSxFQUFLeGdCLEdBRUh3Z0IsSUFBT3hnQixHQUNUcWYsR0FBZWtCLEVBQ2ZNLEVBQUs3TSxLQUNMdU0sRUFBS00sSUFFTHpCLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBR1BvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixHQUVIdWdCLElBQU92Z0IsSUFDVHVnQixFQUFLbkIsR0FDaUMsTUFBbENodUMsRUFBTXJpRCxXQUFXcXdGLEtBQ25CeUIsRUFBS3BiLEdBQ0wyWixPQUVBeUIsRUFBSzdnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTMWEsS0FFcENtYixJQUFPN2dCLElBQ1RxZixHQUFla0IsRUFDZk0sRUFBSzFNLE9BRVBvTSxFQUFLTSxLQUNNN2dCLElBQ1R1Z0IsRUFBS25CLEdBQ0RodUMsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPaEwsSUFDbkN5TSxFQUFLek0sR0FDTGdMLElBQWUsSUFFZnlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUy9MLEtBRXBDd00sSUFBTzdnQixJQUNUcWYsR0FBZWtCLEVBQ2ZNLEVBQUsxTSxNQUVQb00sRUFBS00sU0FTWk4sRUE3UUVvRyxNQUNNM21CLEdBQ0oyZ0IsT0FDTTNnQixJQUNUeWdCLEVBQUtnRyxRQUNNem1CLEdBQ1RxZixHQUFla0IsRUFFZkEsRUFEQU0sRUFBS3hOLEdBQVN3TixFQUFJSixLQVd0QnJCLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUtuQixHQUNEaHVDLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBTzlMLElBQ25DdU4sRUFBS3ZOLEdBQ0w4TCxJQUFlLElBRWZ5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVM3TSxLQUVwQ3NOLElBQU83Z0IsR0FDSjJnQixPQUNNM2dCLElBQ1R5Z0IsRUFBSzhFLFFBQ012bEIsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLck4sR0FBU3FOLEVBQUlKLEtBV3RCckIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsR0FFSHVnQixJQUFPdmdCLElBQ1R1Z0IsRUFBS25CLEdBQ0RodUMsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPOUwsSUFDbkN1TixFQUFLdk4sR0FDTDhMLElBQWUsSUFFZnlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzdNLEtBRXBDc04sSUFBTzdnQixHQUNKMmdCLE9BQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CcUIsRUFBS3hkLEVBQ0xtYyxPQUVBcUIsRUFBS3pnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTbGQsSUFFcEN1ZCxJQUFPemdCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUZ2hCLEVBQUtnRCxRQUNNaGtCLEdBQ0oyZ0IsT0FDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkIrQixFQUFLaGUsRUFDTGljLE9BRUErQixFQUFLbmhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNoZCxJQUVwQytkLElBQU9uaEIsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLcE4sR0FBU29OLEVBQUlHLEtBR2xCNUIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FlYm9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBT1RvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixHQUVIdWdCLElBQU92Z0IsSUFDVHVnQixFQTRKWixXQUNFLElBQUlBLEVBQUlNLEVBQVFKLEVBQVFPLEVBQVFHLEVBQVFNLEVBK0h4QyxPQTdIQWxCLEVBQUtuQixHQUNEaHVDLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBTzlLLElBQ25DdU0sRUFBS3ZNLEdBQ0w4SyxJQUFlLElBRWZ5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVM3TCxLQUVwQ3NNLElBQU83Z0IsR0FDSnFoQixPQUNNcmhCLElBQ1R5Z0IsRUFxSE4sV0FDRSxJQUFJRixFQUFJTSxFQUFJTCxFQUFJQyxFQUFJQyxFQXFDcEIsT0FuQ0FILEVBQUtuQixJQUNMeUIsRUFBS3VELFFBQ01wa0IsR0FDVHdnQixFQUFLcEIsSUFDTHFCLEVBQUtFLFFBQ00zZ0IsSUFDVDBnQixFQWdDTixXQUNFLElBQUlILEVBQUlNLEVBVVIsT0FSQU4sRUFBS25CLElBQ0x5QixFQVVGLFNBQVMrRixJQUNQLElBQUlyRyxFQUFJTSxFQUFRSixFQUFRTyxFQTBHeEIsT0F4R0FULEVBQUtuQixHQUNpQyxLQUFsQ2h1QyxFQUFNcmlELFdBQVdxd0YsS0FDbkJ5QixFQUFLM1YsR0FDTGtVLE9BRUF5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNqVixLQUVwQzBWLElBQU83Z0IsR0FDSjJnQixPQUNNM2dCLElBQ1R5Z0IsRUFBS3NFLFFBQ00va0IsSUFDVHlnQixFQUFLLE1BRUhBLElBQU96Z0IsR0FDSjJnQixPQUNNM2dCLElBQ1RnaEIsRUFBSzRGLE9BQ001bUIsSUFDVGdoQixFQUFLLE1BRUhBLElBQU9oaEIsR0FDVHFmLEdBQWVrQixFQUNmTSxFQUFLelYsR0FBU3FWLEVBQUlPLEdBQ2xCVCxFQUFLTSxJQUVMekIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBT1RvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixHQUVIdWdCLElBQU92Z0IsSUFDVHVnQixFQUFLbkIsR0FDaUMsS0FBbENodUMsRUFBTXJpRCxXQUFXcXdGLEtBQ25CeUIsRUFBS3ZWLEdBQ0w4VCxPQUVBeUIsRUFBSzdnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTN1UsS0FFcENzVixJQUFPN2dCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUeWdCLEVBQUtzRSxRQUNNL2tCLElBQ1R5Z0IsRUFBSyxNQUVIQSxJQUFPemdCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUZ2hCLEVBQUs0RixPQUNNNW1CLElBQ1RnaEIsRUFBSyxNQUVIQSxJQUFPaGhCLEdBQ1RxZixHQUFla0IsRUFDZk0sRUFBS3JWLEdBQVNpVixFQUFJTyxHQUNsQlQsRUFBS00sSUFFTHpCLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBT1RvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsR0FFSHVnQixJQUFPdmdCLElBQ1R1Z0IsRUFBS25CLElBQ0x5QixFQVlOLFdBQ0UsSUFBSU4sRUFBSU0sRUFBSUwsRUFBSUMsRUFtQmhCLEdBakJBRixLQUNBTSxFQUFLekIsSUFDTG9CLEVBQUtHLFFBQ00zZ0IsSUFDVHlnQixFQUFLb0csUUFDTTdtQixHQUNUcWYsR0FBZXdCLEVBQ2ZMLEVBQUsxTCxHQUFTMkwsR0FDZEksRUFBS0wsSUFNUHBCLEdBQWN5QixFQUNkQSxFQUFLN2dCLEdBRUg2Z0IsSUFBTzdnQixFQUNULEtBQU82Z0IsSUFBTzdnQixHQUNadWdCLEVBQUd6eUYsS0FBSyt5RixHQUNSQSxFQUFLekIsSUFDTG9CLEVBQUtHLFFBQ00zZ0IsSUFDVHlnQixFQUFLb0csUUFDTTdtQixHQUNUcWYsR0FBZXdCLEVBQ2ZMLEVBQUsxTCxHQUFTMkwsR0FDZEksRUFBS0wsSUFNUHBCLEdBQWN5QixFQUNkQSxFQUFLN2dCLFFBSVR1Z0IsRUFBS3ZnQixFQUdQLE9BQU91Z0IsRUF4REV1RyxNQUNNOW1CLElBQ1RxZixHQUFla0IsRUFDZk0sRUFBS2hNLEdBQVNnTSxJQUVoQk4sRUFBS00sSUFJRk4sRUFySEZxRyxNQUNNNW1CLElBQ1RxZixHQUFla0IsRUFDZk0sRUFBS2pNLEdBQVNpTSxJQUVoQk4sRUFBS00sRUF6Q0lrRyxNQUNNL21CLEdBQ1RxZixHQUFlbUIsRUFDZkMsRUFBSy9MLEdBQVNtTSxFQUFJSCxHQUNsQkYsRUFBS0MsSUFNUHJCLEdBQWNvQixFQUNkQSxFQUFLeGdCLEdBRUh3Z0IsSUFBT3hnQixJQUNUd2dCLEVBQUssTUFFSEEsSUFBT3hnQixHQUNUcWYsR0FBZWtCLEVBQ2ZNLEVBQUtsTSxHQUFTa00sRUFBSUwsR0FDbEJELEVBQUtNLElBRUx6QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsR0FHQXVnQixFQTNKRXlHLE1BQ01obkIsR0FDSjJnQixPQUNNM2dCLElBQ1RnaEIsRUFBS2lHLFFBQ01qbkIsSUFDVGdoQixFQUFLLE1BRUhBLElBQU9oaEIsR0FDVHFmLEdBQWVrQixFQUNmTSxFQUFLck0sR0FBU2lNLEVBQUlPLEdBQ2xCVCxFQUFLTSxJQUVMekIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FlYm9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUtuQixHQUNEaHVDLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBTzlLLElBQ25DdU0sRUFBS3ZNLEdBQ0w4SyxJQUFlLElBRWZ5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVM3TCxLQUVwQ3NNLElBQU83Z0IsR0FDSjJnQixPQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQnFCLEVBQUt4ZCxFQUNMbWMsT0FFQXFCLEVBQUt6Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2xkLElBRXBDdWQsSUFBT3pnQixHQUNKMmdCLE9BQ00zZ0IsSUFDVGdoQixFQUFLcUUsUUFDTXJsQixHQUNKMmdCLE9BQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CK0IsRUFBS2hlLEVBQ0xpYyxPQUVBK0IsRUFBS25oQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTaGQsSUFFcEMrZCxJQUFPbmhCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUeWhCLEVBQUt3RixRQUNNam5CLElBQ1R5aEIsRUFBSyxNQUVIQSxJQUFPemhCLEdBQ1RxZixHQUFla0IsRUFDZk0sRUFBS3BNLEdBQVN1TSxFQUFJUyxHQUNsQmxCLEVBQUtNLElBRUx6QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FlYm9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBT1RvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixJQUlGdWdCLEVBNVJRMkcsTUFDTWxuQixJQUNUdWdCLEVBaW1CZCxXQUNFLElBQUlBLEVBQUlNLEVBQVFKLEVBQVFPLEVBQVFHLEVBb0doQyxPQWxHQVosRUFBS25CLEdBQ0RodUMsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPbkssSUFDbkM0TCxFQUFLNUwsR0FDTG1LLElBQWUsSUFFZnlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2xMLEtBRXBDMkwsSUFBTzdnQixHQUNKcWhCLE9BQ01yaEIsSUFDVHlnQixFQUFLZ0csUUFDTXptQixHQUNUcWYsR0FBZWtCLEVBQ2ZNLEVBQUsxTCxHQUFTc0wsR0FDZEYsRUFBS00sSUFVVHpCLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUtuQixHQUNEaHVDLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT25LLElBQ25DNEwsRUFBSzVMLEdBQ0xtSyxJQUFlLElBRWZ5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNsTCxLQUVwQzJMLElBQU83Z0IsR0FDSjJnQixPQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQnFCLEVBQUs3VSxHQUNMd1QsT0FFQXFCLEVBQUt6Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3ZVLEtBRXBDNFUsSUFBT3pnQixHQUNKMmdCLE9BQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CNEIsRUFBS2xWLEdBQ0xzVCxPQUVBNEIsRUFBS2hoQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTclUsS0FFcENpVixJQUFPaGhCLEdBQ0pxaEIsT0FDTXJoQixJQUNUbWhCLEVBQUtzRixRQUNNem1CLEdBQ1RxZixHQUFla0IsRUFDZk0sRUFBS3pMLEdBQVMrTCxHQUNkWixFQUFLTSxJQVVUekIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBT1RvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixHQUVIdWdCLElBQU92Z0IsSUFDVHVnQixFQU9OLFdBQ0UsSUFBSUEsRUFBSU0sRUFBSUwsRUFBSUMsRUFBSUMsRUFBSU0sRUFBUUcsRUFBUU0sRUFBU0MsRUFBVUMsRUFrSDNELEdBaEhBcEIsRUFBS25CLEdBQ0RodUMsRUFBTTZ2QyxPQUFPN0IsR0FBYSxNQUFRL0osSUFDcEN3TCxFQUFLeEwsR0FDTCtKLElBQWUsS0FFZnlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzlLLEtBRXBDdUwsSUFBTzdnQixJQUNUd2dCLEVBQUtHLFFBQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CcUIsRUFBS2hQLEdBQ0wyTixPQUVBcUIsRUFBS3pnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTMU8sS0FFcEMrTyxJQUFPemdCLElBQ1QwZ0IsRUFBS0MsUUFDTTNnQixJQUNUZ2hCLEVBQUtnRCxRQUNNaGtCLEdBQ0oyZ0IsT0FDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkIrQixFQUFLeFAsR0FDTHlOLE9BRUErQixFQUFLbmhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVN4TyxLQUVwQ3VQLElBQU9uaEIsR0FDSjJnQixPQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQnFDLEVBQUt4ZSxFQUNMbWMsT0FFQXFDLEVBQUt6aEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2xkLElBRXBDdWUsSUFBT3poQixHQUNIMmdCLE9BQ00zZ0IsSUFDVjBoQixFQUFNK0UsUUFDTXptQixHQUNKMmdCLE9BQ00zZ0IsR0FDNEIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CdUMsRUFBTXhlLEVBQ05pYyxPQUVBdUMsRUFBTTNoQixFQUNrQixJQUFwQnlmLElBQXlCVyxHQUFTaGQsSUFFcEN1ZSxJQUFRM2hCLEdBQ1ZxZixHQUFla0IsRUFDZk0sRUFBS3RMLEdBQVN5TCxFQUFJVSxHQUNsQm5CLEVBQUtNLElBRUx6QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQWVib2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBZWJvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsR0FFSHVnQixJQUFPdmdCLElBQ1R1Z0IsRUFBS25CLEdBQ0RodUMsRUFBTTZ2QyxPQUFPN0IsR0FBYSxNQUFRNUosSUFDcENxTCxFQUFLckwsR0FDTDRKLElBQWUsS0FFZnlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzNLLEtBRXBDb0wsSUFBTzdnQixJQUNUd2dCLEVBQUtHLFFBQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CcUIsRUFBS2hQLEdBQ0wyTixPQUVBcUIsRUFBS3pnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTMU8sS0FFcEMrTyxJQUFPemdCLElBQ1QwZ0IsRUFBS0MsUUFDTTNnQixJQUNUZ2hCLEVBQUtnRCxRQUNNaGtCLEdBQ0oyZ0IsT0FDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkIrQixFQUFLeFAsR0FDTHlOLE9BRUErQixFQUFLbmhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVN4TyxLQUVwQ3VQLElBQU9uaEIsR0FDSjJnQixPQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQnFDLEVBQUt4ZSxFQUNMbWMsT0FFQXFDLEVBQUt6aEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2xkLElBRXBDdWUsSUFBT3poQixHQUNIMmdCLE9BQ00zZ0IsSUFDVjBoQixFQUFNK0UsUUFDTXptQixHQUNKMmdCLE9BQ00zZ0IsR0FDNEIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CdUMsRUFBTXhlLEVBQ05pYyxPQUVBdUMsRUFBTTNoQixFQUNrQixJQUFwQnlmLElBQXlCVyxHQUFTaGQsSUFFcEN1ZSxJQUFRM2hCLEdBQ1ZxZixHQUFla0IsRUFDZk0sRUFBS25MLEdBQVNzTCxFQUFJVSxHQUNsQm5CLEVBQUtNLElBRUx6QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQWVib2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBZWJvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsR0FFSHVnQixJQUFPdmdCLElBQ1R1Z0IsRUFBS25CLEdBQ0RodUMsRUFBTTZ2QyxPQUFPN0IsR0FBYSxNQUFRekosSUFDcENrTCxFQUFLbEwsR0FDTHlKLElBQWUsS0FFZnlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3hLLEtBRXBDaUwsSUFBTzdnQixJQUNUd2dCLEVBQUtHLFFBQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CcUIsRUFBS2hQLEdBQ0wyTixPQUVBcUIsRUFBS3pnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTMU8sS0FFcEMrTyxJQUFPemdCLElBQ1QwZ0IsRUFBS0MsUUFDTTNnQixJQUNUZ2hCLEVBQUtnRCxRQUNNaGtCLEdBQ0oyZ0IsT0FDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkIrQixFQUFLeFAsR0FDTHlOLE9BRUErQixFQUFLbmhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVN4TyxLQUVwQ3VQLElBQU9uaEIsR0FDSjJnQixPQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQnFDLEVBQUt4ZSxFQUNMbWMsT0FFQXFDLEVBQUt6aEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2xkLElBRXBDdWUsSUFBT3poQixHQUNIMmdCLE9BQ00zZ0IsSUFDVjBoQixFQUFNK0UsUUFDTXptQixHQUNKMmdCLE9BQ00zZ0IsR0FDNEIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CdUMsRUFBTXhlLEVBQ05pYyxPQUVBdUMsRUFBTTNoQixFQUNrQixJQUFwQnlmLElBQXlCVyxHQUFTaGQsSUFFcEN1ZSxJQUFRM2hCLEdBQ1ZxZixHQUFla0IsRUFDZk0sRUFBS2hMLEdBQVNtTCxFQUFJVSxHQUNsQm5CLEVBQUtNLElBRUx6QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQWVib2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBZWJvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsR0FFSHVnQixJQUFPdmdCLElBQ1R1Z0IsRUFBS25CLEdBQ0RodUMsRUFBTTZ2QyxPQUFPN0IsR0FBYSxNQUFRdEosSUFDcEMrSyxFQUFLL0ssR0FDTHNKLElBQWUsS0FFZnlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3JLLEtBRXBDOEssSUFBTzdnQixJQUNUd2dCLEVBQUtHLFFBQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CcUIsRUFBS2hQLEdBQ0wyTixPQUVBcUIsRUFBS3pnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTMU8sS0FFcEMrTyxJQUFPemdCLElBQ1QwZ0IsRUFBS0MsUUFDTTNnQixJQUNUZ2hCLEVBQUtnRCxRQUNNaGtCLEdBQ0oyZ0IsT0FDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkIrQixFQUFLeFAsR0FDTHlOLE9BRUErQixFQUFLbmhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVN4TyxLQUVwQ3VQLElBQU9uaEIsR0FDSjJnQixPQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQnFDLEVBQUt4ZSxFQUNMbWMsT0FFQXFDLEVBQUt6aEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2xkLElBRXBDdWUsSUFBT3poQixHQUNIMmdCLE9BQ00zZ0IsSUFDVjBoQixFQUFNK0UsUUFDTXptQixHQUNKMmdCLE9BQ00zZ0IsR0FDNEIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CdUMsRUFBTXhlLEVBQ05pYyxPQUVBdUMsRUFBTTNoQixFQUNrQixJQUFwQnlmLElBQXlCVyxHQUFTaGQsSUFFcEN1ZSxJQUFRM2hCLEdBQ1ZxZixHQUFla0IsRUFDZk0sRUFBSzdLLEdBQVNnTCxFQUFJVSxHQUNsQm5CLEVBQUtNLElBRUx6QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQWVib2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBZWJvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsR0FFSHVnQixJQUFPdmdCLEtBTVQsR0FMQXVnQixFQUFLbkIsSUFDTHlCLEVBK1BWLFdBQ0UsSUFBSU4sRUFBSU0sRUFBUUosRUFBUU8sRUFBUUcsRUFnRWhDLE9BOURBWixFQUFLbkIsSUFDTHlCLEVBQUttRCxRQUNNaGtCLEdBQ0oyZ0IsT0FDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkJxQixFQUFLeGQsRUFDTG1jLE9BRUFxQixFQUFLemdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNsZCxJQUVwQ3VkLElBQU96Z0IsR0FDSjJnQixPQUNNM2dCLElBQ1RnaEIsRUFBSzhDLFFBQ005akIsSUFDVGdoQixFQUFLLE1BRUhBLElBQU9oaEIsR0FDSjJnQixPQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQitCLEVBQUtoZSxFQUNMaWMsT0FFQStCLEVBQUtuaEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2hkLElBRXBDK2QsSUFBT25oQixHQUNUcWYsR0FBZWtCLEVBQ2ZNLEVBQUs5SixHQUFTOEosRUFBSUcsR0FDbEJULEVBQUtNLElBRUx6QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBT1RvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixHQUdBdWdCLEVBaFVNNEcsTUFDTW5uQixJQUNUNmdCLEVBK1paLFdBQ0UsSUFBSU4sRUFBSU0sRUFBSUwsRUFBSUMsRUFBUU8sRUF3RnhCLE9BdEZBVCxFQUFLbkIsR0FDaUMsS0FBbENodUMsRUFBTXJpRCxXQUFXcXdGLEtBQ25CeUIsRUFBSzVkLEVBQ0xtYyxPQUVBeUIsRUFBSzdnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTbGQsSUFFcEMyZCxJQUFPN2dCLElBQ1R3Z0IsRUFBS0csUUFDTTNnQixJQUNUeWdCLEVBQUttQixRQUNNNWhCLEdBQ0oyZ0IsT0FDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkI0QixFQUFLN2QsRUFDTGljLE9BRUE0QixFQUFLaGhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNoZCxJQUVwQzRkLElBQU9oaEIsR0FDVHFmLEdBQWVrQixFQUNmTSxFQUFLNUosR0FBU3dKLEdBQ2RGLEVBQUtNLElBRUx6QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQWVib2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsR0FFSHVnQixJQUFPdmdCLElBQ1R1Z0IsRUE2cUJKLFdBQ0UsSUFBSUEsRUFBSU0sRUE4Q1IsT0E1Q0FOLEVBQUtuQixJQUNMeUIsRUFtR0YsV0FDRSxJQUFJTixFQUFJTSxFQUFJTCxFQUFJQyxFQWFoQixHQVhBRixFQUFLbkIsR0FDaUMsS0FBbENodUMsRUFBTXJpRCxXQUFXcXdGLEtBQ25CeUIsRUFBSzFPLEdBQ0xpTixPQUVBeUIsRUFBSzdnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTaE8sS0FFcEN5TyxJQUFPN2dCLElBQ1Q2Z0IsRUFBSyxNQUVIQSxJQUFPN2dCLEVBQVksQ0FTckIsR0FSQXdnQixLQUNJdEgsR0FBU255QyxLQUFLcUssRUFBTTlpRCxPQUFPOHdGLE1BQzdCcUIsRUFBS3J2QyxFQUFNOWlELE9BQU84d0YsSUFDbEJBLE9BRUFxQixFQUFLemdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNqSCxLQUVwQ3NILElBQU96Z0IsRUFDVCxLQUFPeWdCLElBQU96Z0IsR0FDWndnQixFQUFHMXlGLEtBQUsyeUYsR0FDSnZILEdBQVNueUMsS0FBS3FLLEVBQU05aUQsT0FBTzh3RixNQUM3QnFCLEVBQUtydkMsRUFBTTlpRCxPQUFPOHdGLElBQ2xCQSxPQUVBcUIsRUFBS3pnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTakgsVUFJMUNxSCxFQUFLeGdCLEVBRUh3Z0IsSUFBT3hnQixHQUNUcWYsR0FBZUQsSUFHYnFCLEdBRkZBLEVBQUtySCxHQUFTeUgsRUFBSUwsU0FFWG52RSxFQUVBMnVELEtBRUlBLEdBQ1RxZixHQUFla0IsRUFDZk0sRUFBS3hILEdBQVN3SCxFQUFJTCxHQUNsQkQsRUFBS00sSUFFTHpCLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBR1BvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixRQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsRUFHUCxPQUFPdWdCLEVBaktGNkcsTUFDTXBuQixJQUNUcWYsR0FBZWtCLEVBQ2ZNLEVBQUtySSxHQUFTcUksS0FFaEJOLEVBQUtNLEtBQ003Z0IsSUFDVHVnQixFQUFLbkIsSUFDTHlCLEVBc0NKLFdBQ0UsSUFBSU4sRUFBSU0sRUFBSUwsRUFBSUMsRUFhaEIsR0FYQUYsRUFBS25CLEdBQ2lDLEtBQWxDaHVDLEVBQU1yaUQsV0FBV3F3RixLQUNuQnlCLEVBQUsxTyxHQUNMaU4sT0FFQXlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2hPLEtBRXBDeU8sSUFBTzdnQixJQUNUNmdCLEVBQUssTUFFSEEsSUFBTzdnQixFQUFZLENBU3JCLEdBUkF3Z0IsS0FDSTNILEdBQVM5eEMsS0FBS3FLLEVBQU05aUQsT0FBTzh3RixNQUM3QnFCLEVBQUtydkMsRUFBTTlpRCxPQUFPOHdGLElBQ2xCQSxPQUVBcUIsRUFBS3pnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTdEgsS0FFcEMySCxJQUFPemdCLEVBQ1QsS0FBT3lnQixJQUFPemdCLEdBQ1p3Z0IsRUFBRzF5RixLQUFLMnlGLEdBQ0o1SCxHQUFTOXhDLEtBQUtxSyxFQUFNOWlELE9BQU84d0YsTUFDN0JxQixFQUFLcnZDLEVBQU05aUQsT0FBTzh3RixJQUNsQkEsT0FFQXFCLEVBQUt6Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3RILFVBSTFDMEgsRUFBS3hnQixFQUVId2dCLElBQU94Z0IsR0FDVHFmLEdBQWVrQixFQUNmTSxFQUFLOUgsR0FBUzhILEVBQUlMLEdBQ2xCRCxFQUFLTSxJQUVMekIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsUUFHUG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEVBR1AsT0FBT3VnQixFQXhGQThHLE1BQ01ybkIsSUFDVHFmLEdBQWVrQixFQUNmTSxFQUFLcEksR0FBU29JLEtBRWhCTixFQUFLTSxLQUNNN2dCLElBQ1R1Z0IsRUFBS25CLElBQ0x5QixFQW9KTixXQUNFLElBQUlOLEVBQUlNLEVBQUlMLEVBQUlDLEVBOENoQixPQTVDQUYsRUFBS25CLEdBQ2lDLEtBQWxDaHVDLEVBQU1yaUQsV0FBV3F3RixLQUNuQnlCLEVBQUt2SCxHQUNMOEYsT0FFQXlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzdHLEtBRXBDc0gsSUFBTzdnQixHQUNMd1osR0FBU3p5QyxLQUFLcUssRUFBTTlpRCxPQUFPOHdGLE1BQzdCb0IsRUFBS3B2QyxFQUFNOWlELE9BQU84d0YsSUFDbEJBLE9BRUFvQixFQUFLeGdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVMzRyxLQUVwQytHLElBQU94Z0IsSUFDVHdnQixFQUFLOEcsTUFFSDlHLElBQU94Z0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CcUIsRUFBS25ILEdBQ0w4RixPQUVBcUIsRUFBS3pnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTN0csS0FFcENrSCxJQUFPemdCLEdBQ1RxZixHQUFla0IsRUFDZk0sRUFBS25ILEdBQVM4RyxHQUNkRCxFQUFLTSxJQUVMekIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FHUG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBR1BvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixHQUdBdWdCLEVBbk1FZ0gsTUFDTXZuQixJQUNUcWYsR0FBZWtCLEVBQ2ZNLEVBQUtuSSxHQUFTbUksS0FFaEJOLEVBQUtNLEtBQ003Z0IsSUFDVHVnQixFQUFLbkIsSUFDTHlCLEVBOExSLFdBQ0UsSUFBSU4sRUFBSU0sRUFBSUwsRUFBSUMsRUFVaEIsR0FSQUYsRUFBS25CLEdBQ2lDLEtBQWxDaHVDLEVBQU1yaUQsV0FBV3F3RixLQUNuQnlCLEVBQUtsSCxHQUNMeUYsT0FFQXlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3hHLEtBRXBDaUgsSUFBTzdnQixFQUFZLENBWXJCLElBWEF3Z0IsS0FDSTNHLEdBQVM5eUMsS0FBS3FLLEVBQU05aUQsT0FBTzh3RixNQUM3QnFCLEVBQUtydkMsRUFBTTlpRCxPQUFPOHdGLElBQ2xCQSxPQUVBcUIsRUFBS3pnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTdEcsS0FFcEMyRyxJQUFPemdCLElBQ1R5Z0IsRUFBSzZHLE1BRUE3RyxJQUFPemdCLEdBQ1p3Z0IsRUFBRzF5RixLQUFLMnlGLEdBQ0o1RyxHQUFTOXlDLEtBQUtxSyxFQUFNOWlELE9BQU84d0YsTUFDN0JxQixFQUFLcnZDLEVBQU05aUQsT0FBTzh3RixJQUNsQkEsT0FFQXFCLEVBQUt6Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3RHLEtBRXBDMkcsSUFBT3pnQixJQUNUeWdCLEVBQUs2RyxNQUdMOUcsSUFBT3hnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkJxQixFQUFLOUcsR0FDTHlGLE9BRUFxQixFQUFLemdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVN4RyxLQUVwQzZHLElBQU96Z0IsR0FDVHFmLEdBQWVrQixFQUNmTSxFQUFLOUcsR0FBU3lHLEdBQ2RELEVBQUtNLElBRUx6QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsUUFHUG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEVBR1AsT0FBT3VnQixFQTNQSWlILE1BQ014bkIsSUFDVHFmLEdBQWVrQixFQUNmTSxFQUFLbEksR0FBU2tJLEtBRWhCTixFQUFLTSxLQUNNN2dCLElBQ1R1Z0IsRUFBS25CLElBQ0x5QixFQXNQVixXQUNFLElBQUlOLEVBQUlNLEVBQUlMLEVBQUlDLEVBbUVoQixPQWpFQUYsRUFBS25CLEdBQ0RodUMsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPcEYsSUFDbkM2RyxFQUFLN0csR0FDTG9GLElBQWUsSUFFZnlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU25HLEtBRXBDNEcsSUFBTzdnQixHQUNUd2dCLEVBQUtwQixHQUNMSyxLQUNBZ0IsRUFBSzJCLEtBQ0wzQyxLQUNJZ0IsSUFBT3pnQixFQUNUd2dCLE9BQUtudkUsR0FFTCt0RSxHQUFjb0IsRUFDZEEsRUFBS3hnQixHQUVId2dCLElBQU94Z0IsR0FDVHFmLEdBQWVrQixFQUNmTSxFQUFLM0csS0FDTHFHLEVBQUtNLElBRUx6QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsR0FFSHVnQixJQUFPdmdCLElBQ1R1Z0IsRUFBS25CLEdBQ0RodUMsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPakYsSUFDbkMwRyxFQUFLMUcsR0FDTGlGLElBQWUsSUFFZnlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2hHLEtBRXBDeUcsSUFBTzdnQixHQUNUd2dCLEVBQUtwQixHQUNMSyxLQUNBZ0IsRUFBSzJCLEtBQ0wzQyxLQUNJZ0IsSUFBT3pnQixFQUNUd2dCLE9BQUtudkUsR0FFTCt0RSxHQUFjb0IsRUFDZEEsRUFBS3hnQixHQUVId2dCLElBQU94Z0IsR0FDVHFmLEdBQWVrQixFQUNmTSxFQUFLeEcsS0FDTGtHLEVBQUtNLElBRUx6QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsSUFJRnVnQixFQTFUTWtILE1BQ016bkIsSUFDVHFmLEdBQWVrQixFQUNmTSxFQUFLakksR0FBU2lJLElBRWhCTixFQUFLTSxNQU1OTixFQTV0QkFtSCxNQUNNMW5CLElBQ1R1Z0IsRUFBS25CLEdBQ0RodUMsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPbEksSUFDbkMySixFQUFLM0osR0FDTGtJLElBQWUsSUFFZnlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2pKLEtBRXBDMEosSUFBTzdnQixHQUNUd2dCLEVBQUtwQixHQUNMSyxLQUNBZ0IsRUFBSzJCLEtBQ0wzQyxLQUNJZ0IsSUFBT3pnQixFQUNUd2dCLE9BQUtudkUsR0FFTCt0RSxHQUFjb0IsRUFDZEEsRUFBS3hnQixHQUVId2dCLElBQU94Z0IsR0FDVHFmLEdBQWVrQixFQUNmTSxFQUFLekosS0FDTG1KLEVBQUtNLElBRUx6QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsR0FFSHVnQixJQUFPdmdCLElBQ1R1Z0IsRUFRUixXQUNFLElBQUlBLEVBQUlNLEVBYVIsT0FYQU4sRUFBS25CLElBQ0x5QixFQWFGLFdBQ0UsSUFBSU4sRUFBSU0sRUFBUUosRUF5QmhCLE9BdkJBRixFQUFLbkIsSUFDTHlCLEVBQUs4RyxRQUNNM25CLEdBQ0oyZ0IsT0FDTTNnQixJQUNUeWdCLEVBQUsyRSxRQUNNcGxCLEdBQ1RxZixHQUFla0IsRUFDZk0sRUFBS3ZKLEdBQVN1SixFQUFJSixHQUNsQkYsRUFBS00sSUFVVHpCLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBR0F1Z0IsRUF2Q0ZxSCxNQUNNNW5CLElBQ1Q2Z0IsRUFBS3VFLE1BRUh2RSxJQUFPN2dCLElBQ1RxZixHQUFla0IsRUFDZk0sRUFBS3hKLEdBQVN3SixJQUVoQk4sRUFBS00sRUFwQk1nSCxLQUtKdEgsRUF4ZlF1SCxJQUVIakgsSUFBTzdnQixFQUFZLENBa0JyQixJQWpCQXdnQixLQUNBQyxFQUFLckIsSUFDTHNCLEVBQUtDLFFBQ00zZ0IsSUFDVGdoQixFQUFLK0csUUFDTS9uQixHQUNUcWYsR0FBZW9CLEVBQ2ZDLEVBQUt6SyxHQUFTNEssRUFBSUcsR0FDbEJQLEVBQUtDLElBTVB0QixHQUFjcUIsRUFDZEEsRUFBS3pnQixHQUVBeWdCLElBQU96Z0IsR0FDWndnQixFQUFHMXlGLEtBQUsyeUYsR0FDUkEsRUFBS3JCLElBQ0xzQixFQUFLQyxRQUNNM2dCLElBQ1RnaEIsRUFBSytHLFFBQ00vbkIsR0FDVHFmLEdBQWVvQixFQUNmQyxFQUFLekssR0FBUzRLLEVBQUlHLEdBQ2xCUCxFQUFLQyxJQU1QdEIsR0FBY3FCLEVBQ2RBLEVBQUt6Z0IsR0FHTHdnQixJQUFPeGdCLEdBQ1RxZixHQUFla0IsRUFDZk0sRUFBSzNLLEdBQVMySyxFQUFJTCxHQUNsQkQsRUFBS00sSUFFTHpCLEdBQWNtQixFQUNkQSxFQUFLdmdCLFFBR1BvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixFQU9mLE9BQU91Z0IsRUF6Z0JFeUgsS0FJRnpILEVBdHNCVTBILFFBUVYxSCxFQXllVCxTQUFTc0csS0FDUCxJQUFJdEcsRUFBSU0sRUFBUUosRUFBUU8sRUFvRHhCLE9BbERBVCxFQUFLbkIsR0FDaUMsS0FBbENodUMsRUFBTXJpRCxXQUFXcXdGLEtBQ25CeUIsRUFBS2pWLEdBQ0x3VCxPQUVBeUIsRUFBSzdnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTdlUsS0FFcENnVixJQUFPN2dCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUeWdCLEVBQUtpRSxRQUNNMWtCLElBQ1R5Z0IsRUFBSyxNQUVIQSxJQUFPemdCLEdBQ0oyZ0IsT0FDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkI0QixFQUFLbFYsR0FDTHNULE9BRUE0QixFQUFLaGhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNyVSxLQUVwQ2lWLElBQU9oaEIsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLOUwsR0FBUzBMLEtBR2RyQixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBR0F1Z0IsRUFHVCxTQUFTMEcsS0FDUCxJQUFJMUcsRUFBSU0sRUFBUUosRUFBUU8sRUFvRHhCLE9BbERBVCxFQUFLbkIsR0FDaUMsS0FBbENodUMsRUFBTXJpRCxXQUFXcXdGLEtBQ25CeUIsRUFBSzVkLEVBQ0xtYyxPQUVBeUIsRUFBSzdnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTbGQsSUFFcEMyZCxJQUFPN2dCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUeWdCLEVBQUtxRCxRQUNNOWpCLElBQ1R5Z0IsRUFBSyxNQUVIQSxJQUFPemdCLEdBQ0oyZ0IsT0FDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkI0QixFQUFLN2QsRUFDTGljLE9BRUE0QixFQUFLaGhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNoZCxJQUVwQzRkLElBQU9oaEIsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLN0wsR0FBU3lMLEtBR2RyQixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBR0F1Z0IsRUFnbkJULFNBQVN3SCxLQUNQLElBQUl4SCxFQUFJTSxFQUFRSixFQUFRTyxFQThMeEIsT0E1TEFULEVBQUtuQixHQUNpQyxLQUFsQ2h1QyxFQUFNcmlELFdBQVdxd0YsS0FDbkJ5QixFQUFLalYsR0FDTHdULE9BRUF5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVN2VSxLQUVwQ2dWLElBQU83Z0IsR0FDSjJnQixPQUNNM2dCLElBQ1R5Z0IsRUFBS21CLFFBQ001aEIsR0FDSjJnQixPQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQjRCLEVBQUtsVixHQUNMc1QsT0FFQTRCLEVBQUtoaEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3JVLEtBRXBDaVYsSUFBT2hoQixHQUNUcWYsR0FBZWtCLEVBRWZBLEVBREFNLEVBQUt4SyxHQUFTb0ssS0FHZHJCLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBZWJvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixHQUVIdWdCLElBQU92Z0IsSUFDVHVnQixFQUFLbkIsR0FDaUMsS0FBbENodUMsRUFBTXJpRCxXQUFXcXdGLEtBQ25CeUIsRUFBSzVkLEVBQ0xtYyxPQUVBeUIsRUFBSzdnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTbGQsSUFFcEMyZCxJQUFPN2dCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUeWdCLEVBQUtxRCxRQUNNOWpCLElBQ1R5Z0IsRUFBSyxNQUVIQSxJQUFPemdCLEdBQ0oyZ0IsT0FDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkI0QixFQUFLN2QsRUFDTGljLE9BRUE0QixFQUFLaGhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNoZCxJQUVwQzRkLElBQU9oaEIsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLdkssR0FBU21LLEtBR2RyQixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUtuQixHQUNpQyxLQUFsQ2h1QyxFQUFNcmlELFdBQVdxd0YsS0FDbkJ5QixFQUFLdEssR0FDTDZJLE9BRUF5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVM1SixLQUVwQ3FLLElBQU83Z0IsR0FDSjJnQixPQUNNM2dCLElBQ1R5Z0IsRUFBSzJFLFFBQ01wbEIsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLcEssR0FBU2dLLEtBV2xCckIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsR0FFSHVnQixJQUFPdmdCLElBQ1R1Z0IsRUFBS25CLEdBQ0RodUMsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPMUksSUFDbkNtSyxFQUFLbkssR0FDTDBJLElBQWUsSUFFZnlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3pKLEtBRXBDa0ssSUFBTzdnQixHQUNKMmdCLE9BQ00zZ0IsSUFDVHlnQixFQUFLMkUsUUFDTXBsQixHQUNUcWYsR0FBZWtCLEVBRWZBLEVBREFNLEVBQUtqSyxHQUFTNkosS0FXbEJyQixHQUFjbUIsRUFDZEEsRUFBS3ZnQixHQUVIdWdCLElBQU92Z0IsSUFDVHVnQixFQUFLbkIsR0FDRGh1QyxFQUFNNnZDLE9BQU83QixHQUFhLEtBQU9yTSxJQUNuQzhOLEVBQUs5TixHQUNMcU0sSUFBZSxJQUVmeUIsRUFBSzdnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTcE4sS0FFcEM2TixJQUFPN2dCLElBQ1RxZixHQUFla0IsRUFDZk0sRUFBS2hLLE9BRVAwSixFQUFLTSxLQUNNN2dCLElBQ1R1Z0IsRUFBS25CLEdBQ0RodUMsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPbE0sSUFDbkMyTixFQUFLM04sR0FDTGtNLElBQWUsSUFFZnlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2pOLEtBRXBDME4sSUFBTzdnQixJQUNUcWYsR0FBZWtCLEVBQ2ZNLEVBQUsvSixNQUVQeUosRUFBS00sT0FPUk4sRUF1RVQsU0FBU3VELEtBQ1AsSUFBSXZELEVBQUlNLEVBQUlMLEVBQUlDLEVBQVFPLEVBQVFHLEVBSWhDLEdBRkFaLEVBQUtuQixJQUNMeUIsRUFBSzZELFFBQ00xa0IsRUFBWSxDQW9DckIsSUFuQ0F3Z0IsS0FDQUMsRUFBS3JCLEdBQ0F1QixPQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQjRCLEVBQUtoYyxHQUNMb2EsT0FFQTRCLEVBQUtoaEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU25iLEtBRXBDK2IsSUFBT2hoQixHQUNKMmdCLE9BQ00zZ0IsSUFDVG1oQixFQUFLdUQsUUFDTTFrQixHQUNUcWYsR0FBZW9CLEVBRWZBLEVBREt6SixHQUFTNkosRUFBSU0sS0FXdEIvQixHQUFjcUIsRUFDZEEsRUFBS3pnQixLQUdQb2YsR0FBY3FCLEVBQ2RBLEVBQUt6Z0IsR0FFQXlnQixJQUFPemdCLEdBQ1p3Z0IsRUFBRzF5RixLQUFLMnlGLEdBQ1JBLEVBQUtyQixHQUNBdUIsT0FDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkI0QixFQUFLaGMsR0FDTG9hLE9BRUE0QixFQUFLaGhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNuYixLQUVwQytiLElBQU9oaEIsR0FDSjJnQixPQUNNM2dCLElBQ1RtaEIsRUFBS3VELFFBQ00xa0IsR0FDVHFmLEdBQWVvQixFQUVmQSxFQURLekosR0FBUzZKLEVBQUlNLEtBV3RCL0IsR0FBY3FCLEVBQ2RBLEVBQUt6Z0IsS0FHUG9mLEdBQWNxQixFQUNkQSxFQUFLemdCLEdBR0x3Z0IsSUFBT3hnQixHQUNUcWYsR0FBZWtCLEVBRWZBLEVBREFNLEVBQUtuVSxHQUFTbVUsRUFBSUwsS0FHbEJwQixHQUFjbUIsRUFDZEEsRUFBS3ZnQixRQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsRUFHUCxPQUFPdWdCLEVBNklULFNBQVNvSCxLQUNQLElBQUlwSCxFQUFJTSxFQUFJTCxFQUFRRSxFQXdDcEIsR0F0Q0FILEtBQ0FNLEVBQUt6QixJQUNMb0IsRUFBSzBILFFBQ01sb0IsSUFDVHdnQixFQUFLWSxNQUVIWixJQUFPeGdCLEdBQ0oyZ0IsT0FDTTNnQixHQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBTzVILElBQ25Da0osRUFBS2xKLEdBQ0w0SCxJQUFlLElBRWZzQixFQUFLMWdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVMzSSxLQUVwQ2lKLElBQU8xZ0IsR0FDSjJnQixPQUNNM2dCLEdBQ1RxZixHQUFld0IsRUFFZkEsRUFEQUwsRUFBSzlJLEdBQVM4SSxLQU9oQnBCLEdBQWN5QixFQUNkQSxFQUFLN2dCLEtBT1RvZixHQUFjeUIsRUFDZEEsRUFBSzdnQixHQUVINmdCLElBQU83Z0IsRUFDVCxLQUFPNmdCLElBQU83Z0IsR0FDWnVnQixFQUFHenlGLEtBQUsreUYsR0FDUkEsRUFBS3pCLElBQ0xvQixFQUFLMEgsUUFDTWxvQixJQUNUd2dCLEVBQUtZLE1BRUhaLElBQU94Z0IsR0FDSjJnQixPQUNNM2dCLEdBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPNUgsSUFDbkNrSixFQUFLbEosR0FDTDRILElBQWUsSUFFZnNCLEVBQUsxZ0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzNJLEtBRXBDaUosSUFBTzFnQixHQUNKMmdCLE9BQ00zZ0IsR0FDVHFmLEdBQWV3QixFQUVmQSxFQURBTCxFQUFLOUksR0FBUzhJLEtBT2hCcEIsR0FBY3lCLEVBQ2RBLEVBQUs3Z0IsS0FPVG9mLEdBQWN5QixFQUNkQSxFQUFLN2dCLFFBSVR1Z0IsRUFBS3ZnQixFQTJCUCxPQXpCSXVnQixJQUFPdmdCLElBQ1R1Z0IsRUFBS25CLEdBQ0RodUMsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPNUgsSUFDbkNxSixFQUFLckosR0FDTDRILElBQWUsSUFFZnlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzNJLEtBRXBDb0osSUFBTzdnQixJQUNUd2dCLEVBQUtHLFFBQ00zZ0IsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLbEosT0FPUHlILEdBQWNtQixFQUNkQSxFQUFLdmdCLElBSUZ1Z0IsRUFHVCxTQUFTMkgsS0FDUCxJQUFJM0gsRUFBSU0sRUFVUixPQVJBTixFQUFLbkIsSUFDTHlCLEVBQUttRCxRQUNNaGtCLElBQ1RxZixHQUFla0IsRUFDZk0sRUFBS2pKLEdBQVNpSixJQUVoQk4sRUFBS00sRUFLUCxTQUFTdUUsS0FDUCxJQUFJN0UsRUFPSixPQUxBQSxFQVFGLFdBQ0UsSUFBSUEsRUFBSU0sRUFBUUosRUErQmhCLE9BN0JBRixFQUFLbkIsR0FDRGh1QyxFQUFNNnZDLE9BQU83QixHQUFhLEtBQU92SCxJQUNuQ2dKLEVBQUtoSixHQUNMdUgsSUFBZSxJQUVmeUIsRUFBSzdnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTdEksS0FFcEMrSSxJQUFPN2dCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUeWdCLEVBcUJOLFdBQ0UsSUFBSUYsRUEyWEosT0F6WEludkMsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPcEgsSUFDbkN1SSxFQUFLdkksR0FDTG9ILElBQWUsSUFFZm1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU25JLEtBRXBDc0ksSUFBT3ZnQixJQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT2xILElBQ25DcUksRUFBS3JJLEdBQ0xrSCxJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNqSSxLQUVwQ29JLElBQU92Z0IsSUFDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU85SyxJQUNuQ2lNLEVBQUtqTSxHQUNMOEssSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTN0wsS0FFcENnTSxJQUFPdmdCLElBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPbkssSUFDbkNzTCxFQUFLdEwsR0FDTG1LLElBQWUsSUFFZm1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2xMLEtBRXBDcUwsSUFBT3ZnQixJQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT3hNLElBQ25DMk4sRUFBSzNOLEdBQ0x3TSxJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVN2TixLQUVwQzBOLElBQU92Z0IsSUFDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU92UixJQUNuQzBTLEVBQUsxUyxHQUNMdVIsSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTdFMsS0FFcEN5UyxJQUFPdmdCLElBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPclIsSUFDbkN3UyxFQUFLeFMsR0FDTHFSLElBQWUsSUFFZm1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3BTLEtBRXBDdVMsSUFBT3ZnQixJQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBTzNSLElBQ25DOFMsRUFBSzlTLEdBQ0wyUixJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVMxUyxLQUVwQzZTLElBQU92Z0IsSUFDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU96UixJQUNuQzRTLEVBQUs1UyxHQUNMeVIsSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTeFMsS0FFcEMyUyxJQUFPdmdCLElBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPalMsSUFDbkNvVCxFQUFLcFQsR0FDTGlTLElBQWUsSUFFZm1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2hULEtBRXBDbVQsSUFBT3ZnQixJQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBTy9SLElBQ25Da1QsRUFBS2xULEdBQ0wrUixJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVM5UyxLQUVwQ2lULElBQU92Z0IsSUFDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU83UixJQUNuQ2dULEVBQUtoVCxHQUNMNlIsSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTNVMsS0FFcEMrUyxJQUFPdmdCLElBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPOVEsSUFDbkNpUyxFQUFLalMsR0FDTDhRLElBQWUsSUFFZm1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzdSLEtBRXBDZ1MsSUFBT3ZnQixJQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT25SLElBQ25Dc1MsRUFBS3RTLEdBQ0xtUixJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNsUyxLQUVwQ3FTLElBQU92Z0IsSUFDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU96USxJQUNuQzRSLEVBQUs1UixHQUNMeVEsSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTeFIsS0FFcEMyUixJQUFPdmdCLElBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPdk4sSUFDbkMwTyxFQUFLMU8sR0FDTHVOLElBQWUsSUFFZm1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3RPLEtBRXBDeU8sSUFBT3ZnQixJQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT3JOLElBQ25Dd08sRUFBS3hPLEdBQ0xxTixJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNwTyxLQUVwQ3VPLElBQU92Z0IsSUFDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU92TyxJQUNuQzBQLEVBQUsxUCxHQUNMdU8sSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTdFAsS0FFcEN5UCxJQUFPdmdCLElBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPck8sSUFDbkN3UCxFQUFLeFAsR0FDTHFPLElBQWUsSUFFZm1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3BQLEtBRXBDdVAsSUFBT3ZnQixJQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBTy9OLElBQ25Da1AsRUFBS2xQLEdBQ0wrTixJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVM5TyxLQUVwQ2lQLElBQU92Z0IsSUFDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU83TixJQUNuQ2dQLEVBQUtoUCxHQUNMNk4sSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTNU8sS0FFcEMrTyxJQUFPdmdCLElBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPMVAsSUFDbkM2USxFQUFLN1EsR0FDTDBQLElBQWUsSUFFZm1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3pRLEtBRXBDNFEsSUFBT3ZnQixJQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT2hRLElBQ25DbVIsRUFBS25SLEdBQ0xnUSxJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVMvUSxLQUVwQ2tSLElBQU92Z0IsSUFDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU9yTSxJQUNuQ3dOLEVBQUt4TixHQUNMcU0sSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTcE4sS0FFcEN1TixJQUFPdmdCLElBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPbE0sSUFDbkNxTixFQUFLck4sR0FDTGtNLElBQWUsSUFFZm1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2pOLEtBRXBDb04sSUFBT3ZnQixJQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBTzFJLElBQ25DNkosRUFBSzdKLEdBQ0wwSSxJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVN6SixLQUVwQzRKLElBQU92Z0IsSUFDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU9oSCxJQUNuQ21JLEVBQUtuSSxHQUNMZ0gsSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTL0gsS0FFcENrSSxJQUFPdmdCLElBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPOUcsSUFDbkNpSSxFQUFLakksR0FDTDhHLElBQWUsSUFFZm1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzdILEtBRXBDZ0ksSUFBT3ZnQixJQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkJtQixFQUFLdE8sR0FDTG1OLE9BRUFtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNsTyxLQUVwQ3FPLElBQU92Z0IsSUFDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CbUIsRUFBS3BPLEdBQ0xpTixPQUVBbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTaE8sS0FFcENtTyxJQUFPdmdCLElBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQm1CLEVBQUtyVixHQUNMa1UsT0FFQW1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2pWLEtBRXBDb1YsSUFBT3ZnQixJQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkJtQixFQUFLbE8sR0FDTCtNLE9BRUFtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVM5TixLQUVwQ2lPLElBQU92Z0IsSUFDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CbUIsRUFBS2hPLEdBQ0w2TSxPQUVBbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTNU4sS0FFcEMrTixJQUFPdmdCLElBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQm1CLEVBQUtsUSxHQUNMK08sT0FFQW1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzlQLEtBRXBDaVEsSUFBT3ZnQixJQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkJtQixFQUFLalYsR0FDTDhULE9BRUFtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVM3VSxLQUVwQ2dWLElBQU92Z0IsSUFDNkIsTUFBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CbUIsRUFBS3hRLEdBQ0xxUCxPQUVBbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTcFEsS0FFcEN1USxJQUFPdmdCLElBQzZCLE1BQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQm1CLEVBQUs5YSxHQUNMMlosT0FFQW1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzFhLEtBRXBDNmEsSUFBT3ZnQixJQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkJtQixFQUFLek0sR0FDTHNMLE9BRUFtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNyTSxLQUVwQ3dNLElBQU92Z0IsSUFDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CbUIsRUFBS3JXLEdBQ0xrVixPQUVBbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTalcsS0FFcENvVyxJQUFPdmdCLElBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQm1CLEVBQUs5TyxHQUNMMk4sT0FFQW1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzFPLEtBRXBDNk8sSUFBT3ZnQixJQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkJtQixFQUFLNU8sR0FDTHlOLE9BRUFtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVN4TyxLQUVwQzJPLElBQU92Z0IsSUFDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CbUIsRUFBS3ZiLEdBQ0xvYSxPQUVBbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTbmIsOENBNENuSHNiLEVBalpFNEgsTUFDTW5vQixHQUNUcWYsR0FBZWtCLEVBQ2ZNLEVBQUs5SSxHQUFTMEksR0FDZEYsRUFBS00sSUFVVHpCLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBR0F1Z0IsRUF4Q0Y2SCxNQUNNcG9CLElBQ1R1Z0IsRUFBS2EsTUFHQWIsRUEreUJULFNBQVMrRyxLQUNQLElBQUkvRyxFQU9KLE9BTEFBLEVBUUYsV0FDRSxJQUFJQSxFQTZHSixPQTNHSW52QyxFQUFNNnZDLE9BQU83QixHQUFhLEtBQU85RSxJQUNuQ2lHLEVBQUtqRyxHQUNMOEUsSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTN0YsS0FFcENnRyxJQUFPdmdCLElBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPNUUsSUFDbkMrRixFQUFLL0YsR0FDTDRFLElBQWUsSUFFZm1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzNGLEtBRXBDOEYsSUFBT3ZnQixJQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBTzFFLElBQ25DNkYsRUFBSzdGLEdBQ0wwRSxJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVN6RixLQUVwQzRGLElBQU92Z0IsSUFDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU94RSxJQUNuQzJGLEVBQUszRixHQUNMd0UsSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTdkYsS0FFcEMwRixJQUFPdmdCLElBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPdEUsSUFDbkN5RixFQUFLekYsR0FDTHNFLElBQWUsSUFFZm1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3JGLEtBRXBDd0YsSUFBT3ZnQixJQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT3BFLElBQ25DdUYsRUFBS3ZGLEdBQ0xvRSxJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNuRixLQUVwQ3NGLElBQU92Z0IsSUFDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU9sRSxJQUNuQ3FGLEVBQUtyRixHQUNMa0UsSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTakYsS0FFcENvRixJQUFPdmdCLElBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPaEUsSUFDbkNtRixFQUFLbkYsR0FDTGdFLElBQWUsSUFFZm1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUy9FLEtBRXBDa0YsSUFBT3ZnQixJQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBTzlELElBQ25DaUYsRUFBS2pGLEdBQ0w4RCxJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVM3RSxLQUVwQ2dGLElBQU92Z0IsSUFDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU81RCxJQUNuQytFLEVBQUsvRSxHQUNMNEQsSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTM0UsS0FFcEM4RSxJQUFPdmdCLElBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPMUQsSUFDbkM2RSxFQUFLN0UsR0FDTDBELElBQWUsSUFFZm1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3pFLEtBRXBDNEUsSUFBT3ZnQixJQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT3hELElBQ25DMkUsRUFBSzNFLEdBQ0x3RCxJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVN2RSxnQkFjdkQwRSxFQXRIRjhILE1BQ01yb0IsSUFDVHVnQixFQXVISixXQUNFLElBQUlBLEVBQUlNLEVBQUlMLEVBQUlDLEVBZ0ZoQixPQTlFSTNFLEdBQVMvMEMsS0FBS3FLLEVBQU05aUQsT0FBTzh3RixNQUM3Qm1CLEVBQUtudkMsRUFBTTlpRCxPQUFPOHdGLElBQ2xCQSxPQUVBbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTckUsS0FFcEN3RSxJQUFPdmdCLElBQ1R1Z0IsRUFBS25CLEdBQ0R0RCxHQUFTLzBDLEtBQUtxSyxFQUFNOWlELE9BQU84d0YsTUFDN0J5QixFQUFLenZDLEVBQU05aUQsT0FBTzh3RixJQUNsQkEsT0FFQXlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3JFLEtBRXBDOEUsSUFBTzdnQixHQUNMOGIsR0FBUy8wQyxLQUFLcUssRUFBTTlpRCxPQUFPOHdGLE1BQzdCb0IsRUFBS3B2QyxFQUFNOWlELE9BQU84d0YsSUFDbEJBLE9BRUFvQixFQUFLeGdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNyRSxLQUVwQ3lFLElBQU94Z0IsRUFFVHVnQixFQURBTSxHQUFNQSxFQUFJTCxJQUdWcEIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FHUG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUtuQixHQUNEdEQsR0FBUy8wQyxLQUFLcUssRUFBTTlpRCxPQUFPOHdGLE1BQzdCeUIsRUFBS3p2QyxFQUFNOWlELE9BQU84d0YsSUFDbEJBLE9BRUF5QixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNyRSxLQUVwQzhFLElBQU83Z0IsR0FDTDhiLEdBQVMvMEMsS0FBS3FLLEVBQU05aUQsT0FBTzh3RixNQUM3Qm9CLEVBQUtwdkMsRUFBTTlpRCxPQUFPOHdGLElBQ2xCQSxPQUVBb0IsRUFBS3hnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTckUsS0FFcEN5RSxJQUFPeGdCLEdBQ0w4YixHQUFTLzBDLEtBQUtxSyxFQUFNOWlELE9BQU84d0YsTUFDN0JxQixFQUFLcnZDLEVBQU05aUQsT0FBTzh3RixJQUNsQkEsT0FFQXFCLEVBQUt6Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3JFLEtBRXBDMEUsSUFBT3pnQixFQUVUdWdCLEVBREFNLEdBQU1BLEVBQUlMLEVBQUlDLElBR2RyQixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FHUG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBS0p1Z0IsRUF4TUErSCxJQUdBL0gsRUF3TVQsU0FBU2EsS0FDUCxJQUFJYixFQUFJTSxFQUFJTCxFQUFJQyxFQUtoQixHQUhBaEIsS0FDQWMsRUFBS25CLElBQ0x5QixFQTJDRixXQUNFLElBQUlOLEVBVUosT0FSSW5FLEdBQVNyMUMsS0FBS3FLLEVBQU05aUQsT0FBTzh3RixNQUM3Qm1CLEVBQUtudkMsRUFBTTlpRCxPQUFPOHdGLElBQ2xCQSxPQUVBbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTL0QsS0FHakNrRSxFQXRERmdJLE1BQ012b0IsRUFBWSxDQUdyQixJQUZBd2dCLEtBQ0FDLEVBQUsyQixLQUNFM0IsSUFBT3pnQixHQUNad2dCLEVBQUcxeUYsS0FBSzJ5RixHQUNSQSxFQUFLMkIsS0FFSDVCLElBQU94Z0IsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLNUUsR0FBUzRFLEVBQUlMLEtBR2xCcEIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsUUFHUG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEVBUVAsT0FOQXlmLEtBQ0ljLElBQU92Z0IsSUFDVDZnQixFQUFLN2dCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNwRSxLQUdqQ3VFLEVBR1QsU0FBUzZCLEtBQ1AsSUFBSTdCLEVBVUosT0FSSXJFLEdBQVNuMUMsS0FBS3FLLEVBQU05aUQsT0FBTzh3RixNQUM3Qm1CLEVBQUtudkMsRUFBTTlpRCxPQUFPOHdGLElBQ2xCQSxPQUVBbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTakUsS0FHakNvRSxFQWlCVCxTQUFTSSxLQUNQLElBQUlKLEVBQUlNLEVBQUlMLEVBQUlDLEVBWWhCLElBVkFoQixLQUNBYyxFQUFLbkIsR0FDTHlCLEtBQ0l0RSxHQUFTeDFDLEtBQUtxSyxFQUFNOWlELE9BQU84d0YsTUFDN0JvQixFQUFLcHZDLEVBQU05aUQsT0FBTzh3RixJQUNsQkEsT0FFQW9CLEVBQUt4Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzVELEtBRWpDZ0UsSUFBT3hnQixHQUNaNmdCLEVBQUcveUYsS0FBSzB5RixHQUNKakUsR0FBU3gxQyxLQUFLcUssRUFBTTlpRCxPQUFPOHdGLE1BQzdCb0IsRUFBS3B2QyxFQUFNOWlELE9BQU84d0YsSUFDbEJBLE9BRUFvQixFQUFLeGdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVM1RCxLQXNCMUMsR0FuQklxRSxJQUFPN2dCLElBQ1R3Z0IsRUFBS00sUUFDTTlnQixJQUNUeWdCLEVBQUtFLFFBQ00zZ0IsRUFFVHVnQixFQURBTSxHQUFNQSxFQUFJTCxFQUFJQyxJQVdsQnJCLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixFQVNULElBUkF1Z0IsS0FDSWhFLEdBQVN4MUMsS0FBS3FLLEVBQU05aUQsT0FBTzh3RixNQUM3QnlCLEVBQUt6dkMsRUFBTTlpRCxPQUFPOHdGLElBQ2xCQSxPQUVBeUIsRUFBSzdnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTNUQsS0FFakNxRSxJQUFPN2dCLEdBQ1p1Z0IsRUFBR3p5RixLQUFLK3lGLEdBQ0p0RSxHQUFTeDFDLEtBQUtxSyxFQUFNOWlELE9BQU84d0YsTUFDN0J5QixFQUFLenZDLEVBQU05aUQsT0FBTzh3RixJQUNsQkEsT0FFQXlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzVELEtBVTVDLE9BTkFpRCxLQUNJYyxJQUFPdmdCLElBQ1Q2Z0IsRUFBSzdnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTOUQsS0FHakNpRSxFQUdULFNBQVNjLEtBQ1AsSUFBSWQsRUFBSU0sRUFBSUwsRUFBSUMsRUFrQmhCLEdBaEJBaEIsS0FDQWMsRUFBS25CLElBQ0x5QixFQUFLQyxRQUNNOWdCLElBQ1R3Z0IsRUFBS2EsUUFDTXJoQixFQUVUdWdCLEVBREFNLEdBQU1BLEVBQUlMLElBT1pwQixHQUFjbUIsRUFDZEEsRUFBS3ZnQixHQUVIdWdCLElBQU92Z0IsRUFBWSxDQVVyQixHQVRBdWdCLEVBQUtuQixHQUNMeUIsS0FDSXRFLEdBQVN4MUMsS0FBS3FLLEVBQU05aUQsT0FBTzh3RixNQUM3Qm9CLEVBQUtwdkMsRUFBTTlpRCxPQUFPOHdGLElBQ2xCQSxPQUVBb0IsRUFBS3hnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTNUQsS0FFcENnRSxJQUFPeGdCLEVBQ1QsS0FBT3dnQixJQUFPeGdCLEdBQ1o2Z0IsRUFBRy95RixLQUFLMHlGLEdBQ0pqRSxHQUFTeDFDLEtBQUtxSyxFQUFNOWlELE9BQU84d0YsTUFDN0JvQixFQUFLcHZDLEVBQU05aUQsT0FBTzh3RixJQUNsQkEsT0FFQW9CLEVBQUt4Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzVELFVBSTFDcUUsRUFBSzdnQixFQXFCUCxHQW5CSTZnQixJQUFPN2dCLElBQ1R3Z0IsRUFBS00sUUFDTTlnQixJQUNUeWdCLEVBQUtFLFFBQ00zZ0IsRUFFVHVnQixFQURBTSxHQUFNQSxFQUFJTCxFQUFJQyxJQVdsQnJCLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixFQVNULEdBUkF1Z0IsS0FDSWhFLEdBQVN4MUMsS0FBS3FLLEVBQU05aUQsT0FBTzh3RixNQUM3QnlCLEVBQUt6dkMsRUFBTTlpRCxPQUFPOHdGLElBQ2xCQSxPQUVBeUIsRUFBSzdnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTNUQsS0FFcENxRSxJQUFPN2dCLEVBQ1QsS0FBTzZnQixJQUFPN2dCLEdBQ1p1Z0IsRUFBR3p5RixLQUFLK3lGLEdBQ0p0RSxHQUFTeDFDLEtBQUtxSyxFQUFNOWlELE9BQU84d0YsTUFDN0J5QixFQUFLenZDLEVBQU05aUQsT0FBTzh3RixJQUNsQkEsT0FFQXlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzVELFVBSTFDK0QsRUFBS3ZnQixFQVVYLE9BTkF5ZixLQUNJYyxJQUFPdmdCLElBQ1Q2Z0IsRUFBSzdnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTM0QsS0FHakM4RCxFQTBLVCxTQUFTOEMsS0FDUCxJQUFJOUMsRUFBSU0sRUFBSUwsRUFBSUMsRUFBUU8sRUFBSWMsRUFBSVgsRUFvQmhDLEdBbEJBWixFQUFLbkIsR0FDTHlCLEtBQ0FMLEVBQUtwQixJQUNMcUIsRUFBSytILFFBQ014b0IsR0FDSjJnQixPQUNNM2dCLEdBQ1RxZixHQUFlbUIsRUFFZkEsRUFEQUMsRUFBS2xELEdBQVNrRCxLQU9oQnJCLEdBQWNvQixFQUNkQSxFQUFLeGdCLEdBRUh3Z0IsSUFBT3hnQixFQUNULEtBQU93Z0IsSUFBT3hnQixHQUNaNmdCLEVBQUcveUYsS0FBSzB5RixHQUNSQSxFQUFLcEIsSUFDTHFCLEVBQUsrSCxRQUNNeG9CLEdBQ0oyZ0IsT0FDTTNnQixHQUNUcWYsR0FBZW1CLEVBRWZBLEVBREFDLEVBQUtsRCxHQUFTa0QsS0FPaEJyQixHQUFjb0IsRUFDZEEsRUFBS3hnQixRQUlUNmdCLEVBQUs3Z0IsRUFPUCxHQUxJNmdCLElBQU83Z0IsSUFDVHFmLEdBQWVrQixFQUNmTSxFQUFLckQsR0FBU3FELEtBRWhCTixFQUFLTSxLQUNNN2dCLEVBR1QsR0FGQXVnQixFQUFLbkIsSUFDTHlCLEVBQUs0SCxRQUNNem9CLEVBRVQsSUFEQXdnQixFQUFLRyxRQUNNM2dCLEVBUVQsR0FQc0MsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CcUIsRUFBS2hmLEVBQ0wyZCxPQUVBcUIsRUFBS3pnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTMWUsSUFFcEMrZSxJQUFPemdCLEVBRVQsR0FESzJnQixPQUNNM2dCLEVBQVksQ0FrQnJCLElBakJBZ2hCLEtBQ0FjLEVBQUsxQyxJQUNMK0IsRUFBS3FILFFBQ014b0IsR0FDSjJnQixPQUNNM2dCLEdBQ1RxZixHQUFleUMsRUFFZkEsRUFEQVgsRUFBS3pELEdBQVNtRCxFQUFJTSxLQU9wQi9CLEdBQWMwQyxFQUNkQSxFQUFLOWhCLEdBRUE4aEIsSUFBTzloQixHQUNaZ2hCLEVBQUdsekYsS0FBS2cwRixHQUNSQSxFQUFLMUMsSUFDTCtCLEVBQUtxSCxRQUNNeG9CLEdBQ0oyZ0IsT0FDTTNnQixHQUNUcWYsR0FBZXlDLEVBRWZBLEVBREFYLEVBQUt6RCxHQUFTbUQsRUFBSU0sS0FPcEIvQixHQUFjMEMsRUFDZEEsRUFBSzloQixHQUdMZ2hCLElBQU9oaEIsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLakQsR0FBU2lELEVBQUlHLEtBR2xCNUIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsUUFHUG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLE9BR1BvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixPQUdQb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsT0FHUG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEVBSVQsT0FBT3VnQixFQUdULFNBQVNrSSxLQUNQLElBQUlsSSxFQTRCSixPQTFCSW52QyxFQUFNNnZDLE9BQU83QixHQUFhLEtBQU92QixJQUNuQzBDLEVBQUsxQyxHQUNMdUIsSUFBZSxJQUVmbUIsRUFBS3ZnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTdEMsS0FFcEN5QyxJQUFPdmdCLElBQ0w1dUIsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPckIsSUFDbkN3QyxFQUFLeEMsR0FDTHFCLElBQWUsSUFFZm1CLEVBQUt2Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3BDLEtBRXBDdUMsSUFBT3ZnQixJQUNMNXVCLEVBQU02dkMsT0FBTzdCLEdBQWEsS0FBT25CLElBQ25Dc0MsRUFBS3RDLEdBQ0xtQixJQUFlLElBRWZtQixFQUFLdmdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNsQyxPQUtyQ3FDLEVBR1QsU0FBU2lJLEtBQ1AsSUFBSWpJLEVBQUlNLEVBQUlMLEVBQUlDLEVBQUlDLEVBQVFvQixFQTZKNUIsT0EzSkF2QixFQUFLbkIsSUFDTHlCLEVBQUsrQixRQUNNNWlCLEdBQ1R3Z0IsRUFBS3BCLEdBQ0xLLEtBQ0FnQixFQUFLVyxLQUNMM0IsS0FDSWdCLElBQU96Z0IsRUFDVHdnQixPQUFLbnZFLEdBRUwrdEUsR0FBY29CLEVBQ2RBLEVBQUt4Z0IsR0FFSHdnQixJQUFPeGdCLElBQ1R5Z0IsRUFBS0UsUUFDTTNnQixJQUNUMGdCLEVBOElSLFdBQ0UsSUFBSUgsRUFBSU0sRUFBSUwsRUFBSUMsRUFBSUMsRUFBSU0sRUFBUUcsRUFJaEMsR0FGQVosRUFBS25CLElBQ0x5QixFQUFLNkgsUUFDTTFvQixFQUFZLENBb0NyQixJQW5DQXdnQixLQUNBQyxFQUFLckIsSUFDTHNCLEVBQUtDLFFBQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CNEIsRUFBS2hjLEdBQ0xvYSxPQUVBNEIsRUFBS2hoQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTbmIsS0FFcEMrYixJQUFPaGhCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUbWhCLEVBQUt1SCxRQUNNMW9CLEdBQ1RxZixHQUFlb0IsRUFDZkMsRUFBS3hiLEdBQVEyYixFQUFJTSxHQUNqQlYsRUFBS0MsSUFVVHRCLEdBQWNxQixFQUNkQSxFQUFLemdCLEtBR1BvZixHQUFjcUIsRUFDZEEsRUFBS3pnQixHQUVBeWdCLElBQU96Z0IsR0FDWndnQixFQUFHMXlGLEtBQUsyeUYsR0FDUkEsRUFBS3JCLElBQ0xzQixFQUFLQyxRQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQjRCLEVBQUtoYyxHQUNMb2EsT0FFQTRCLEVBQUtoaEIsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU25iLEtBRXBDK2IsSUFBT2hoQixHQUNKMmdCLE9BQ00zZ0IsSUFDVG1oQixFQUFLdUgsUUFDTTFvQixHQUNUcWYsR0FBZW9CLEVBQ2ZDLEVBQUt4YixHQUFRMmIsRUFBSU0sR0FDakJWLEVBQUtDLElBVVR0QixHQUFjcUIsRUFDZEEsRUFBS3pnQixLQUdQb2YsR0FBY3FCLEVBQ2RBLEVBQUt6Z0IsR0FHTHdnQixJQUFPeGdCLEdBQ1RxZixHQUFla0IsRUFDZk0sRUFBSzFiLEdBQVEwYixFQUFJTCxHQUNqQkQsRUFBS00sSUFFTHpCLEdBQWNtQixFQUNkQSxFQUFLdmdCLFFBR1BvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixFQUdQLE9BQU91Z0IsRUF6T0lvSSxNQUNNM29CLEdBQ0oyZ0IsT0FDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkIwQyxFQUFLMWYsRUFDTGdkLE9BRUEwQyxFQUFLOWhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVMvZCxJQUVwQ3lmLElBQU85aEIsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLMUMsR0FBUzBDLEVBQUlILEtBR2xCdEIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FlYm9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBR1BvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixHQUVIdWdCLElBQU92Z0IsSUFDVHVnQixFQUFLbkIsSUFDTHlCLEVBQUs2QyxRQUNNMWpCLElBQ1R3Z0IsRUFBS0csUUFDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkJxQixFQUFLcmUsRUFDTGdkLE9BRUFxQixFQUFLemdCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVMvZCxJQUVwQ29lLElBQU96Z0IsSUFDVHlnQixFQUFLLE1BRUhBLElBQU96Z0IsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLekMsR0FBU3lDLEtBR2R6QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsR0FFSHVnQixJQUFPdmdCLElBQ1R1Z0IsRUFBS25CLElBQ0x5QixFQTErUE4sV0FDRSxJQUFJTixFQUFJTSxFQUFJTCxFQUFJQyxFQUFJQyxFQUFRb0IsRUFBUUMsRUFBSU4sRUFBSU8sRUFBS04sRUFpTWpELE9BL0xBbkIsRUFBS25CLEdBQ2lDLE1BQWxDaHVDLEVBQU1yaUQsV0FBV3F3RixLQUNuQnlCLEVBQUtwYixHQUNMMlosT0FFQXlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUzFhLEtBRXBDbWIsSUFBTzdnQixJQUNUd2dCLEVBQUtZLFFBQ01waEIsSUFDVHlnQixFQUFLRSxRQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQnNCLEVBQUt6ZCxFQUNMbWMsT0FFQXNCLEVBQUsxZ0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2xkLElBRXBDd2QsSUFBTzFnQixHQUNKMmdCLE9BQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CMEMsRUFBSzNlLEVBQ0xpYyxPQUVBMEMsRUFBSzloQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTaGQsSUFFcEMwZSxJQUFPOWhCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUK2hCLEVBQUtQLFFBQ014aEIsSUFDVCtoQixFQUFLM0MsR0FDaUMsS0FBbENodUMsRUFBTXJpRCxXQUFXcXdGLEtBQ25CcUMsRUFBS3JmLEVBQ0xnZCxPQUVBcUMsRUFBS3poQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTL2QsSUFFcENvZixJQUFPemhCLElBQ1RxZixHQUFlMEMsRUFDZk4sRUFBSzliLEdBQVE2YSxJQUVmdUIsRUFBS04sR0FFSE0sSUFBTy9oQixHQUNUcWYsR0FBZWtCLEVBRWZBLEVBREFNLEVBQUtqYixHQUFRNGEsRUFBSXVCLEtBR2pCM0MsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBT1RvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQVdYb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsR0FFSHVnQixJQUFPdmdCLElBQ1R1Z0IsRUFBS25CLEdBQ0RodUMsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPdlosSUFDbkNnYixFQUFLaGIsR0FDTHVaLElBQWUsSUFFZnlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3RhLEtBRXBDK2EsSUFBTzdnQixJQUNUd2dCLEVBQUthLFFBQ01yaEIsR0FDNkIsTUFBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CcUIsRUFBS2hiLEdBQ0wyWixPQUVBcUIsRUFBS3pnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTMWEsS0FFcEMrYSxJQUFPemdCLElBQ1QwZ0IsRUFBS1UsUUFDTXBoQixHQUNKMmdCLE9BQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CMEMsRUFBSzdlLEVBQ0xtYyxPQUVBMEMsRUFBSzloQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTbGQsSUFFcEM0ZSxJQUFPOWhCLEdBQ0oyZ0IsT0FDTTNnQixHQUM2QixLQUFsQzV1QixFQUFNcmlELFdBQVdxd0YsS0FDbkIyQyxFQUFLNWUsRUFDTGljLE9BRUEyQyxFQUFLL2hCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVNoZCxJQUVwQzJlLElBQU8vaEIsSUFDVHloQixFQUFLZCxRQUNNM2dCLElBQ1RnaUIsRUFBTVIsUUFDTXhoQixJQUNWZ2lCLEVBQU01QyxHQUNnQyxLQUFsQ2h1QyxFQUFNcmlELFdBQVdxd0YsS0FDbkJzQyxFQUFNdGYsRUFDTmdkLE9BRUFzQyxFQUFNMWhCLEVBQ2tCLElBQXBCeWYsSUFBeUJXLEdBQVMvZCxJQUVwQ3FmLElBQVExaEIsSUFDVnFmLEdBQWUyQyxFQUNmTixFQUFNL2IsR0FBUSthLElBRWhCc0IsRUFBTU4sR0FFSk0sSUFBUWhpQixHQUNWcWYsR0FBZWtCLEVBRWZBLEVBREFNLEVBQUs5YSxHQUFRMmEsRUFBSXNCLEtBR2pCNUMsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBT1RvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQVdYb2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLElBSUZ1Z0IsRUF3eVBFcUksTUFDTTVvQixJQUNUd2dCLEVBQUtHLFFBQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CcUIsRUFBS3JlLEVBQ0xnZCxPQUVBcUIsRUFBS3pnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTL2QsSUFFcENvZSxJQUFPemdCLElBQ1R5Z0IsRUFBSyxNQUVIQSxJQUFPemdCLEdBQ1RxZixHQUFla0IsRUFFZkEsRUFEQU0sRUFBS3hDLEdBQVN3QyxLQUdkekIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUtuQixJQUNMeUIsRUFBSzJDLFFBQ014akIsSUFDVHdnQixFQUFLRyxRQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQnFCLEVBQUtyZSxFQUNMZ2QsT0FFQXFCLEVBQUt6Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBUy9kLElBRXBDb2UsSUFBT3pnQixJQUNUeWdCLEVBQUssTUFFSEEsSUFBT3pnQixHQUNUcWYsR0FBZWtCLEVBRWZBLEVBREFNLEVBQUt2QyxHQUFTdUMsS0FHZHpCLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBT1RvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixNQU1OdWdCLEVBaUdULFNBQVNtSSxLQUNQLElBQUluSSxFQUFJTSxFQUFRSixFQUFRTyxFQTRIeEIsT0ExSEFULEVBQUtuQixJQUNMeUIsRUFBSzRDLFFBQ016akIsR0FDSjJnQixPQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQnFCLEVBQUt2VyxHQUNMa1YsT0FFQXFCLEVBQUt6Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2pXLEtBRXBDc1csSUFBT3pnQixHQUNKMmdCLE9BQ00zZ0IsR0FDNkIsS0FBbEM1dUIsRUFBTXJpRCxXQUFXcXdGLEtBQ25CNEIsRUFBS3hDLEdBQ0xZLE9BRUE0QixFQUFLaGhCLEVBQ21CLElBQXBCeWYsSUFBeUJXLEdBQVMzQixLQUVwQ3VDLElBQU9oaEIsR0FDVHFmLEdBQWVrQixFQUVmQSxFQURBTSxFQUFLbkMsR0FBU21DLEtBR2R6QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUtuQixJQUNMeUIsRUFBSzRDLFFBQ016akIsR0FDSjJnQixPQUNNM2dCLEdBQzZCLEtBQWxDNXVCLEVBQU1yaUQsV0FBV3F3RixLQUNuQnFCLEVBQUt2VyxHQUNMa1YsT0FFQXFCLEVBQUt6Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU2pXLEtBRXBDc1csSUFBT3pnQixHQUNKMmdCLE9BQ00zZ0IsR0FDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLE1BQVE5VSxJQUNwQzBXLEVBQUsxVyxHQUNMOFUsSUFBZSxLQUVmNEIsRUFBS2hoQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTN1YsS0FFcEN5VyxJQUFPaGhCLEdBQ1RxZixHQUFla0IsRUFFZkEsRUFEQU0sRUFBS2xDLEdBQVNrQyxLQUdkekIsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsS0FPVG9mLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBT1RvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixHQUVIdWdCLElBQU92Z0IsSUFDVHVnQixFQUFLbkIsSUFDTHlCLEVBQUs0QyxRQUNNempCLEdBQ0oyZ0IsT0FDTTNnQixJQUNUeWdCLEVBQUsrRCxRQUNNeGtCLEdBQ1RxZixHQUFla0IsRUFFZkEsRUFEQU0sRUFBS2pDLEdBQVNpQyxFQUFJSixLQVd0QnJCLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUtrRCxRQUtKbEQsRUFvSVQsU0FBUzBDLEtBQ1AsSUFBSTFDLEVBQUlNLEVBQUlMLEVBQUlDLEVBQUlDLEVBd0lwQixPQXRJQUgsRUFBS25CLEdBQ0RodUMsRUFBTTZ2QyxPQUFPN0IsR0FBYSxLQUFPdlosSUFDbkNnYixFQUFLaGIsR0FDTHVaLElBQWUsSUFFZnlCLEVBQUs3Z0IsRUFDbUIsSUFBcEJ5ZixJQUF5QlcsR0FBU3RhLEtBRXBDK2EsSUFBTzdnQixJQUNUd2dCLEVBQUthLFFBQ01yaEIsR0FDVHlnQixFQUFLckIsSUFDTHNCLEVBQUsrSCxRQUNNem9CLEdBQ0pxaEIsT0FDTXJoQixHQUNUcWYsR0FBZW9CLEVBRWZBLEVBREFDLEVBQUszQixHQUFTMkIsS0FPaEJ0QixHQUFjcUIsRUFDZEEsRUFBS3pnQixHQUVIeWdCLElBQU96Z0IsSUFDVDBnQixFQUFLbUksUUFDTTdvQixHQUNUcWYsR0FBZWtCLEVBRWZBLEVBREFNLEVBQUs3QixHQUFTeUIsRUFBSUMsS0FPcEJ0QixHQUFjbUIsRUFDZEEsRUFBS3ZnQixLQU9Ub2YsR0FBY21CLEVBQ2RBLEVBQUt2Z0IsR0FFSHVnQixJQUFPdmdCLElBQ1R1Z0IsRUFBS25CLEdBQ0x5QixFQUFLekIsSUFDTG9CLEVBQUtpSSxRQUNNem9CLElBQ1R5Z0IsRUFBS1ksUUFDTXJoQixHQUNUcWYsR0FBZXdCLEVBRWZBLEVBREFMLEVBQUt6QixHQUFTeUIsS0FPaEJwQixHQUFjeUIsRUFDZEEsRUFBSzdnQixHQUVINmdCLElBQU83Z0IsR0FDTDV1QixFQUFNNnZDLE9BQU83QixHQUFhLEtBQU92WixJQUNuQzJhLEVBQUszYSxHQUNMdVosSUFBZSxJQUVmb0IsRUFBS3hnQixFQUNtQixJQUFwQnlmLElBQXlCVyxHQUFTdGEsS0FFcEMwYSxJQUFPeGdCLElBQ1R5Z0IsRUFBS1ksUUFDTXJoQixJQUNUMGdCLEVBQUttSSxRQUNNN29CLEdBQ1RxZixHQUFla0IsRUFFZkEsRUFEQU0sRUFBSzdCLEdBQVM2QixFQUFJSCxLQVd0QnRCLEdBQWNtQixFQUNkQSxFQUFLdmdCLEtBR1BvZixHQUFjbUIsRUFDZEEsRUFBS3ZnQixHQUVIdWdCLElBQU92Z0IsSUFDVHVnQixFQUFLbkIsSUFDTHlCLEVBQUs0SCxRQUNNem9CLElBQ1R3Z0IsRUFBS2EsUUFDTXJoQixJQUNUeWdCLEVBQUtvSSxRQUNNN29CLEdBQ1RxZixHQUFla0IsRUFFZkEsRUFEQU0sRUFBSzVCLEdBQVM0QixFQUFJSixLQVd0QnJCLEdBQWNtQixFQUNkQSxFQUFLdmdCLEdBRUh1Z0IsSUFBT3ZnQixJQUNUdWdCLEVBQUtuQixJQUNMeUIsRUFBS2dJLFFBQ003b0IsSUFDVHFmLEdBQWVrQixFQUNmTSxFQUFLM0IsR0FBUzJCLElBRWhCTixFQUFLTSxLQUtKTixFQUdULFNBQVNzSSxLQUNQLElBQUl0SSxFQUFJTSxFQUFRSixFQTRCaEIsT0ExQkFGLEVBQUtuQixJQUNMeUIsRUFBSzhHLFFBQ00zbkIsR0FDSjJnQixPQUNNM2dCLElBQ1R5Z0IsRUFBS1csUUFDTXBoQixHQUNUcWYsR0FBZWtCLEVBRWZBLEVBREFNLEVBQUsxQixHQUFTMEIsRUFBSUosS0FXdEJyQixHQUFjbUIsRUFDZEEsRUFBS3ZnQixHQUVIdWdCLElBQU92Z0IsSUFDVHVnQixFQUFLYSxNQUdBYixFQUlQLFNBQVN2VCxHQUFnQm5ULEVBQVl6SCxFQUFXMDJCLEVBQXlCQyxHQUN2RSxJQUFJMzJCLEdBQXdCLElBQWhCQSxFQUFLanJFLE9BQ2YsT0FBTzB5RSxFQUVULEdBQWMsU0FBVml2QixFQUFpQixDQUNuQixJQUFJNWxGLEVBQVFrdkQsRUFBS3g0RCxNQUNqQixPQUNFd1gsZUFBZ0IyM0UsRUFDaEIvbEYsU0FBVUUsRUFBTSxHQUNoQkQsS0FBTStwRSxHQUFnQm5ULEVBQU96SCxFQUFNMDJCLEVBQU9DLEdBQzFDN2xGLE1BQU9BLEVBQU0sR0FDYjhsRixjQUFlRixHQUlqQixJQUFJN2xGLEVBQU9tdkQsRUFBSzYyQixRQUNoQixPQUNFNzNFLGVBQWdCMjNFLEVBQ2hCL2xGLFNBQVVDLEVBQUssR0FDZkEsS0FBTTQyRCxFQUNOMzJELE1BQU84cEUsR0FBZ0IvcEUsRUFBSyxHQUFJbXZELEVBQU0wMkIsRUFBT0MsR0FDN0NDLGNBQWVGLEdBS3JCLFNBQVN0bkIsR0FBTzBuQixFQUFZQyxHQUMxQixJQUFLQSxFQUFRLE9BQU9ELEVBQ3BCLElBQUssSUFBSUUsS0FBUUQsRUFDSixTQUFSQyxHQUEyQixPQUFSQSxJQUNwQkYsRUFBTUUsR0FBUUQsRUFBTUMsSUFHeEIsT0FBT0YsRUFHVCxTQUFTNW5CLEdBQU1sN0UsRUFBVWdnQixFQUFlbGYsR0FTdEMsT0FSQWQsRUFBSWdPLFFBQ0ZnUyxTQUFXQSxFQUNYM1IsTUFBUTJSLEVBQVMzUixNQUFNOGhCLE9BQ3ZCcnZCLEtBQU9BLEVBQ1BxTixLQUFPNlIsRUFBUzNSLE1BQU1GLEtBQ3RCQyxPQUFTNFIsRUFBUzNSLE1BQU1ELE9BQ3hCRSxJQUFNMFIsRUFBUzNSLE1BQU04aEIsT0FBU3J2QixFQUFLQyxRQUU5QmYsRUFjVCxJQUFJaWpHLE1BRUosU0FBUzFmLEtBS0wsT0FBTzBmLEdBWWIsSUFGQXRwQixFQUFhSSxPQUVNSCxHQUFjb2YsS0FBZ0JodUMsRUFBTWpxRCxPQUNyRCxPQUFPNDRFLEVBTVAsTUFKSUEsSUFBZUMsR0FBY29mLEdBQWNodUMsRUFBTWpxRCxRQUNuRGk1RixJQTMzVU92M0YsS0FBTSxRQTgzVVR3M0YsR0FDSmIsR0FDQUQsR0FBaUJudUMsRUFBTWpxRCxPQUFTaXFELEVBQU05aUQsT0FBT2l4RixJQUFrQixLQUMvREEsR0FBaUJudUMsRUFBTWpxRCxPQUNuQnc0RixHQUFvQkosR0FBZ0JBLEdBQWlCLEdBQ3JESSxHQUFvQkosR0FBZ0JBLHFGQ25wVzlDLElBQUErSixFQUFBdmxHLEVBQUEsSUFDQXlPLEVBQUF6TyxFQUFBLEdBQ0FvRSxFQUFBcEUsRUFBQSxHQUNBNG1DLEVBQUE1bUMsRUFBQSxJQUNBd08sRUFBQXhPLEVBQUEsR0FDQTBPLEVBQUExTyxFQUFBLEdBQ0FnWCxFQUFBaFgsRUFBQSxHQStEQXdsRyxFQUFBLG9CQUFBQSxJQUVxQjloRyxLQUFBK2hHLGFBQ0QvaEcsS0FBQWdpRyxTQUE0QmhpRyxLQUFLK2hHLFVBRWpDL2hHLEtBQUFnTSxXQUFxQixFQUNyQmhNLEtBQUFpaUcsaUJBQTJCLEVBQzNCamlHLEtBQUFraUcsYUFBdUIsRUE4QjNDLE9BNUJXSixFQUFBeGpHLFVBQUFnUCxRQUFQLFNBQWVDLEdBQ1h2TixLQUFLK2hHLFVBQVUxN0YsS0FBS2tILEdBSWhCQSxFQUFLQyxPQUFTekMsRUFBQTBDLFNBQVNDLE9BRkMxTixLQUdsQmdNLFdBQVksRUFFZHVCLGFBQWdCeEMsRUFBQStJLGFBTEk5VCxLQU1kaWlHLGlCQUFrQixJQUd2QjEwRixFQUFLQyxPQUFTekMsRUFBQTBDLFNBQVNzSCxVQVRKL1UsS0FVbEJraUcsYUFBYyxJQUlyQkosRUFBQXhqRyxVQUFBNmpHLFNBQVAsU0FBZ0JwMkYsR0FBaEIsSUFBQXEyRixFQUFBcGlHLEtBQ0krTCxFQUFNUyxRQUFRLFNBQUNlLEdBQVMsT0FBQTYwRixFQUFLOTBGLFFBQVFDLE1BR2xDdTBGLEVBQUF4akcsVUFBQStqRyxXQUFQLFdBQ0lyaUcsS0FBSytoRyxVQUFVcmlHLE9BQVMsRUFDSU0sS0FDdEJnTSxXQUFZLEVBRFVoTSxLQUV0QmlpRyxpQkFBa0IsRUFGSWppRyxLQUd0QmtpRyxhQUFjLEdBRTVCSixFQXJDQSxHQUFhdGxHLEVBQUFzbEcsZUE4Q2IsSUFBQVEsRUFBQSxXQTJCSSxTQUFBQSxFQUFtQkMsRUFBb0Nwc0IsR0FBdkQsSUFBQWlzQixFQUFBcGlHLEtBWUksSUFBSSxJQUFJbzJFLEtBbkNJcDJFLEtBQUFrTCxTQUEyQndtQixRQUFTMXhCLE1BRXBDQSxLQUFBd2lHLHVCQUFpQyxFQUVqQ3hpRyxLQUFBdWlHLGVBQ0F2aUcsS0FBQW0yRSxvQkFFQW4yRSxLQUFBZ1QsaUJBR0NoVCxLQUFBeWlHLGlCQUVEemlHLEtBQUEwaUcsZUFJQTFpRyxLQUFBMmlHLGtCQUVBM2lHLEtBQUErTCxNQUFRLElBQUkrMUYsRUFPeEJTLEVBQVkvMUYsUUFBUSxTQUFBbzJGLEdBQ2hCUixFQUFLRyxZQUFZSyxFQUFLM2xHLE1BQVEybEcsSUFHbEN6c0IsRUFBaUIzcEUsUUFBUSxTQUFDNHBFLEdBQ3RCMTFFLEVBQUE5QixTQUFTd2pHLEVBQUtHLFlBQVluc0IsR0FBUyxlQUFlQSxFQUFNLGVBQ3hEZ3NCLEVBQUtqc0IsaUJBQWlCQyxHQUFVLElBQUl5c0IsRUFBZ0JULEVBQ2hELElBQUlVLEVBQW1CVixFQUFLRyxZQUFZbnNCLEdBQVNnc0IsRUFBS0csZ0JBRzVDdmlHLEtBQUttMkUsaUJBQWtCLENBQ3JDLElBQUk0c0IsRUFBSy9pRyxLQUFLbTJFLGlCQUFpQkMsR0FDL0JwMkUsS0FBSytMLE1BQU1vMkYsU0FBU1ksRUFBR2gzRixNQUFNaTJGLFVBRzVCaGlHLEtBQUsrTCxNQUFNazJGLGlCQUNaamlHLEtBQUsrZSxPQUdPL2UsS0FBTXdpRyx1QkFBd0IsRUEyS3RELE9BakdZRixFQUFBaGtHLFVBQUF5Z0IsS0FBUixlQUFBcWpGLEVBQUFwaUcsS0FHSUEsS0FBS2dqRyxtQkFNTGhqRyxLQUFLMmlHLGVBQWVuMkYsUUFBUSxTQUFBeTJGLEdBQ3hCLE9BQUFBLEVBQUdsa0YsS0FBS3FqRixFQUFLTSxZQUFZTyxFQUFHbGhGLGtCQUdoQyxJQUFJMUUsRUFBT3JkLEtBQUswaUcsWUFBWSxVQUN4QnJsRixhQUFnQjZsQixFQUFBOUMscUJBQ0FwZ0MsS0FBTWcyRSxhQUFlMzRELEdBR3pCcmQsS0FBTTgxRSxzQkFBd0IsSUFBSXhpRSxFQUFBUCxzQkFBc0IvUyxLQUFLa0wsUUFBU2xMLEtBQUtnVCxnQkFvQnZGc3ZGLEVBQUFoa0csVUFBQTBrRyxpQkFBUixhQUlPVixFQUFBaGtHLFVBQUF3aUMscUJBQVAsU0FBNEI5cUIsR0FDeEJ0VixFQUFBaEMsVUFBVXNCLEtBQUsyaUcsZ0JBQWdCdDhGLEtBQUsyUCxJQUdqQ3NzRixFQUFBaGtHLFVBQUE0aUMsK0JBQVAsU0FBc0NuZixFQUF1QlQsR0FDcER0aEIsS0FBSzBpRyxZQUFZM2dGLEdBTWxCL2hCLEtBQUsrTCxNQUFNdUIsUUFBUXZDLEVBQUE2SCxTQUFTbU0sS0FBS0UsYUFBYXFDLEVBQUtTLEtBTG5EL2hCLEtBQUswaUcsWUFBWTNnRixHQUFpQlQsRUFDbEM1Z0IsRUFBQWhDLFVBQVVzQixLQUFLZ1QsZUFBZTNNLEtBQUtpYixLQVFwQ2doRixFQUFBaGtHLFVBQUEwakMsMkJBQVAsU0FBa0NqZ0IsRUFBdUJULEdBQ3JELElBQUk0aEYsRUFBVWxqRyxLQUFLMGlHLFlBQVkzZ0YsR0FDL0IsR0FBS21oRixFQUdBLEdBQUszaUYsTUFBTUMsUUFBUTBpRixHQUluQixDQUdvQnA0RixFQUFBZ1osMkJBQTJCby9FLEVBQVM1aEYsRUFBSWxNLFlBQVloVSxNQUVyRXBCLEtBQUsrTCxNQUFNdUIsUUFBUXZDLEVBQUE2SCxTQUFTbU0sS0FBS0UsYUFBYXFDLEVBQUtTLElBR25EbWhGLEVBQVE3OEYsS0FBS2liLFFBVmpCdGhCLEtBQUsrTCxNQUFNdUIsUUFBUXZDLEVBQUE2SCxTQUFTbU0sS0FBS0UsYUFBYXFDLEVBQUtTLFNBSm5EL2hCLEtBQUswaUcsWUFBWTNnRixJQUFrQlQsSUFxQy9DZ2hGLEVBM05BLEdBQWE5bEcsRUFBQThsRyxVQW1PYixJQUFBYSxFQUFBLFdBa0JBLE9BWEksU0FBbUJsbUcsRUFBY3dDLEdBTGpCTyxLQUFBa08sV0FBYSxJQUFJbEQsRUFBQW1ELFdBQVduTyxNQU14Q0EsS0FBSy9DLEtBQU9BLEVBQ1orQyxLQUFLUCxLQUFPQSxHQVRwQixHQUFhakQsRUFBQTJtRyxhQXlCYixJQUFBQyxFQUFBLFdBeUJJLFNBQUFBLEVBQW1CQyxFQUF3QnYyRixFQUFjQyxFQUFnQkMsRUFBZUMsR0FIdkVqTixLQUFBc2pHLGFBQ0R0akcsS0FBQXFnQixTQUE4Q3JnQixLQUFLc2pHLFVBRy9EdGpHLEtBQUtxakcsV0FBYUEsRUFDbEJyakcsS0FBSzhNLEtBQU9BLEVBQ1o5TSxLQUFLK00sT0FBU0EsRUFDZC9NLEtBQUtnTixNQUFRQSxFQUNiaE4sS0FBS2lOLElBQU1BLEVBZ0JuQixPQXpDa0JtMkYsRUFBQUcsZUFBZCxTQUE2QkYsRUFBd0JHLEVBQXNCQyxHQUN2RSxJQUFJOWtHLEVBQU0sSUFBSXlrRyxFQUFnQkssRUFBa0JKLFdBQVlJLEVBQWtCMzJGLEtBQU0yMkYsRUFBa0IxMkYsT0FDbEcwMkYsRUFBa0J6MkYsTUFBT3kyRixFQUFrQngyRixLQU0vQyxPQUxBdE8sRUFBSTJrRyxVQUFVajlGLE1BQ1ZnOUYsV0FBWUEsRUFDWkcsYUFBY0EsSUFFbEJDLEVBQWtCcGpGLFNBQVM3VCxRQUFRLFNBQUNrM0YsR0FBUSxPQUFBL2tHLEVBQUkya0csVUFBVWo5RixLQUFLcTlGLEtBQ3hEL2tHLEdBb0JYdkIsT0FBQUMsZUFBSStsRyxFQUFBOWtHLFVBQUEsa0JBQUosV0FDSSxPQUFPMEIsS0FBS3FnQixTQUFTM2dCLE9BQVMsbUNBWXRDMGpHLEVBOUNBLEdBQWE1bUcsRUFBQTRtRyxrQkEyRGIsSUFBQU4sRUFBQSxXQWlCSSxTQUFBQSxFQUFtQk8sRUFBd0JNLEVBQW1EQyxHQUE5RixJQUFBeEIsRUFBQXBpRyxVQUE4RixJQUFBNGpHLFVBWDlFNWpHLEtBQUErTCxNQUFRLElBQUkrMUYsRUFFWDloRyxLQUFBc2pHLGFBQ0R0akcsS0FBQXFnQixTQUFzQ3JnQixLQUFLc2pHLFVBRTNDdGpHLEtBQUE2akcsdUJBT1o3akcsS0FBSzhqRyxrQkFBb0JULEVBQ3pCcmpHLEtBQUsvQyxLQUFPb21HLEVBQVdwbUcsS0FDdkIrQyxLQUFLMmpHLG1CQUFxQkEsRUFFMUJDLEVBQWdCNWpHLEtBQUs4akcsa0JBQWtCN21HLE9BQVEsRUFFL0MsSUFBSThtRyxFQUFVVixFQUFXNWpHLEtBRXpCc2tHLEVBQVUvakcsS0FBS2drRyxpQkFBaUJELEdBRWhDLElBQUlFLEVBQXVCLEVBQ3ZCQyxFQUEyQixFQUMzQkMsRUFBNEIsRUFFaENua0csS0FBSzZqRyxvQkFBb0I3akcsS0FBSzhqRyxrQkFBa0I3bUcsTUFBUStDLEtBQUs4akcsa0JBSTdEOWpHLEtBQUtva0csaUJBQW1CTCxFQUFRcGtHLFFBQVEsMEJBQ3BDLFNBQUMwa0csRUFBYUMsRUFBVXgxRSxFQUFReTFFLEdBTTVCLElBSkEsSUFBSUMsS0FJS0MsRUFBSVIsRUFBc0JRLEVBQUkzMUUsSUFBVTIxRSxFQUN6QixPQUFoQkYsRUFBU0UsT0FDUFAsSUFDQUMsR0FnQlYsR0FaQUssRUFBUUUsVUFBWVIsRUFDcEJNLEVBQVFHLFlBQWM3MUUsRUFFdEJtMUUsRUFBdUJuMUUsRUFBU3UxRSxFQUFZM2tHLE9BU3hDa2tHLEVBQWdCVSxHQUtoQixPQUpBbEMsRUFBS3IyRixNQUFNdUIsUUFBUXZDLEVBQUE2SCxTQUFTMk0sV0FBV0MsaUJBQ25DLElBQUk0akYsRUFBZ0JDLEVBQVlhLEVBQTBCLEVBQUdwMUUsRUFBUW0xRSxLQUdsRTFqRixNQUFNOGpGLEVBQVkza0csT0FBUyxHQUFHbVYsS0FBSyxLQUk5QyxJQUdJK3ZGLEVBQVcsSUFBSTlCLEVBSE1WLEVBQUt1QixtQkFBbUJXLEdBR1NsQyxFQUFLdUIsbUJBQzNEdm1HLE9BQU9pTyxVQUFXdTRGLElBZ0J0QixPQWRBeG1HLE9BQU9pTyxPQUFPKzJGLEVBQUt5QixvQkFBcUJlLEVBQVNmLHFCQUdqRFcsRUFBUUssU0FBV0QsRUFBU0MsU0FDNUJMLEVBQVFNLFFBQVVOLEVBQVFFLFVBQVlFLEVBQVNDLFNBRS9DTCxFQUFRTyxVQUFZSCxFQUFTQyxTQUFXLEVBQ3hDTCxFQUFRUSxZQUFjSixFQUFTbGxHLE9BQVMya0csRUFBWTNrRyxPQUNwRHdrRyxHQUE0QlUsRUFBU0MsU0FBVyxFQUNoREwsRUFBUUksU0FBV0EsRUFDbkJKLEVBQVFoQixhQUFlVyxFQUV2Qi9CLEVBQUtrQixVQUFVajlGLEtBQXFCbStGLEdBRTdCSSxFQUFTUixtQkFLeEIsSUFBSyxJQUFJMW5HLEVBQUl1bkcsRUFBc0J2bkcsRUFBSXFuRyxFQUFRcmtHLFNBQVVoRCxFQUNsQyxPQUFmcW5HLEVBQVFybkcsTUFDTnduRyxFQUlWbGtHLEtBQUs2a0csU0FBV1gsRUFDaEJsa0csS0FBS04sT0FBU00sS0FBS29rRyxpQkFBaUIxa0csT0F1RTVDLE9BcEVZb2pHLEVBQUF4a0csVUFBQTBsRyxpQkFBUixTQUF5QkQsR0EwQ3JCLE9BdkNBQSxFQUFVQSxFQUFRcGtHLFFBQVEsTUFBTyxLQUVyQjBnQixTQUFTLGFBQ2pCMGpGLEVBQVVBLEVBQVFwa0csUUFBUSxhQUFjLFNBQVN3Z0QsR0FDN0MsT0FBTzUvQixNQUFNNC9CLEVBQU16Z0QsT0FBTyxHQUFHbVYsS0FBSyxRQUl0Q2t2RixFQUFRMWpGLFNBQVMsYUFDakIwakYsRUFBVUEsRUFBUXBrRyxRQUFRLGFBQWMsU0FBU3dnRCxHQUM3QyxPQUFPNS9CLE1BQU00L0IsRUFBTXpnRCxPQUFPLEdBQUdtVixLQUFLLFFBSXRDa3ZGLEVBQVExakYsU0FBUyxZQUNqQjBqRixFQUFVQSxFQUFRcGtHLFFBQVEsWUFBYSxTQUFTd2dELEdBQzVDLE9BQU81L0IsTUFBTTQvQixFQUFNemdELE9BQU8sR0FBR21WLEtBQUssU0FLdENrdkYsRUFBVUEsRUFBUXBrRyxRQUFRLGtCQUFtQixTQUFTd2dELEdBQ2xELE9BQU81L0IsTUFBTTQvQixFQUFNemdELE9BQU8sR0FBR21WLEtBQUssUUFJOUJ3TCxTQUFTLHFCQUNqQjBqRixFQUFVQSxFQUFRcGtHLFFBQVEscUJBQXNCLFNBQVN3Z0QsR0FDckQsT0FBTzUvQixNQUFNNC9CLEVBQU16Z0QsT0FBTyxHQUFHbVYsS0FBSyxRQUt0Q2t2RixFQUFRMWpGLFNBQVMsaUJBQ2pCMGpGLEVBQVVBLEVBQVFwa0csUUFBUSxpQkFBa0IsU0FBU3dnRCxHQUNqRCxPQUFPNS9CLE1BQU00L0IsRUFBTXpnRCxPQUFPLEdBQUdtVixLQUFLLFFBSW5Da3ZGLEdBR0pqQixFQUFBeGtHLFVBQUF1TyxtQkFBUCxTQUEwQkMsRUFBY0MsRUFBZ0JDLEVBQWVDLEdBS25FLElBRkEsSUFBSTZoQixFQUFTLEVBQ1RtMkUsRUFBYSxFQUNUdm9HLEVBQUksRUFBR0EsRUFBSXNELEtBQUtxZ0IsU0FBUzNnQixTQUFVaEQsRUFBRyxDQUMxQyxJQUFJZ25HLEVBQU0xakcsS0FBS3FnQixTQUFTM2pCLEdBQ3hCLEdBQUlvUSxFQUFPNDJGLEVBQUlnQixVQUNYLE9BQU8sSUFBSXRCLEVBQWdCcGpHLEtBQUs4akcsa0JBQW1CaDNGLEVBQU9tNEYsRUFBYSxFQUFHbDRGLEVBQVFDLEdBQVNBLEVBQVE4aEIsRUFBUTdoQixHQUFPQSxFQUFNNmhCLEdBRXZILEdBQUk0MEUsRUFBSWdCLFdBQWE1M0YsR0FBUUEsRUFBTzQyRixFQUFJb0IsUUFDekMsT0FBTzFCLEVBQWdCRyxlQUFldmpHLEtBQUs4akcsa0JBQW1CSixFQUFJRixhQUM5REUsRUFBSWtCLFNBQVMvM0YsbUJBQW1CQyxFQUFPNDJGLEVBQUlnQixVQUFZLEVBQUczM0YsRUFBUUMsR0FBU0EsRUFBUTAyRixFQUFJaUIsWUFBYTEzRixHQUFPQSxFQUFNeTJGLEVBQUlpQixjQUU3SDcxRSxHQUFVNDBFLEVBQUlzQixZQUNkQyxHQUFjdkIsRUFBSXFCLFVBS3RCLE9BQU8sSUFBSTNCLEVBQWdCcGpHLEtBQUs4akcsa0JBQW1CaDNGLEVBQU9tNEYsRUFBYSxFQUFHbDRGLEVBQVFDLEdBQVNBLEVBQVE4aEIsRUFBUTdoQixHQUFPQSxFQUFNNmhCLElBR2hJZzBFLEVBOUtBLEdBOExBRCxFQUFBLFdBNEJJLFNBQUFBLEVBQW1CbnhFLEVBQWtCd3pFLEdBdkJyQmxsRyxLQUFBK0wsTUFBUSxJQUFJKzFGLEVBUVo5aEcsS0FBQW1sRyx3QkFDQW5sRyxLQUFBb2xHLGtCQUNBcGxHLEtBQUFxMkUsa0JBQ0FyMkUsS0FBQXlpRyxpQkFhWnppRyxLQUFLMHhCLFFBQVVBLEVBQ2YxeEIsS0FBSzJNLE9BQVN1NEYsRUFDZGxsRyxLQUFLcWxHLFlBQWMsSUFBSXY2RixFQUFBZ1csZUFBZW9rRixFQUFtQnBCLGtCQUFrQjdtRyxLQUFPLGlCQUNsRitDLEtBQUsvQyxLQUFPaW9HLEVBQW1Cam9HLEtBQy9CK0MsS0FBS2tMLFFBQVVvSSxFQUFBckksNkJBQTZCeW1CLEVBQVF4bUIsUUFBU2xMLEtBQU1BLEtBQUtxbEcsYUFFeEUsSUFXSSxJQUFJQyxFQUFpQ3pELEVBQUF4cEIsTUFBVXI0RSxLQUFLMk0sT0FBT3kzRixrQkFDM0Rwa0csS0FBS3NsRyxVQUFZQSxFQUVqQnRsRyxLQUFLdWxHLHVCQUNMdmxHLEtBQUt3bEcsNEJBQTRCeGxHLEtBQUtzbEcsV0FFaEQsTUFBTUcsR0FDTCxHQUFnQixlQUFaQSxFQUFJeG9HLEtBVVAsTUFEWTA1RSxRQUFRQyxJQUFJNnVCLEVBQUk1ekYsT0FDdEI0ekYsRUFUTnpsRyxLQUFLK0wsTUFBTXVCLFFBQVEsSUFBSXZDLEVBQUErSSxXQUNQOVQsS0FBSzZNLG1CQUFtQjQ0RixFQUFJOW1GLFNBQVMzUixNQUFNRixLQUFNMjRGLEVBQUk5bUYsU0FBUzNSLE1BQU1ELE9BQzVDMDRGLEVBQUk5bUYsU0FBUzNSLE1BQU04aEIsT0FBUTIyRSxFQUFJOW1GLFNBQVMzUixNQUFNOGhCLE9BQVMsR0FDL0UvakIsRUFBQTBDLFNBQVNDLE1BQ1QsU0FDQSszRixFQUFJM21HLFdBcUZ4QixPQXhFWStqRyxFQUFBdmtHLFVBQUFpbkcscUJBQVIsYUFzQ1ExQyxFQUFBdmtHLFVBQUFrbkcsNEJBQVIsU0FBb0M5NEYsR0FBcEMsSUFBQTAxRixFQUFBcGlHLEtBQ0kwTSxFQUFJbUssYUFBYXJLLFFBQVEsU0FBQzR5QixHQUN0QixJQUFJc21FLEVBQWlCeGlFLEVBQUEvQyx5QkFBeUJmLEVBQVNnakUsRUFBS2wzRixTQUN4RHFWLE1BQU1DLFFBQVFrbEYsR0FDZEEsRUFBZWw1RixRQUFRLFNBQUEyVSxHQUFRLE9BQUF6Z0IsRUFBQWhDLFVBQVUwakcsRUFBSytDLHNCQUFzQjkrRixLQUFLOGEsS0FHekV6Z0IsRUFBQWhDLFVBQVUwakcsRUFBSytDLHNCQUFzQjkrRixLQUFLcS9GLE1BSy9DN0MsRUFBQXZrRyxVQUFBcW5HLGlCQUFQLFNBQXdCQyxHQUNwQmxsRyxFQUFBaEMsVUFBVXNCLEtBQUtxMkUsZ0JBQWdCaHdFLEtBQUt1L0YsSUFHakMvQyxFQUFBdmtHLFVBQUEwMUUscUJBQVAsU0FBNEJuM0UsR0FDeEI2RCxFQUFBaEMsVUFBVXNCLEtBQUt5aUcsZUFBZXA4RixLQUFLeEosSUFHaENnbUcsRUFBQXZrRyxVQUFBdW5HLHNDQUFQLFNBQTZDajRGLEdBQ3pDLE1BQVFBLEVBQVVsQixLQUFPa0IsRUFBVUMsUUFDL0JELEVBQVlBLEVBQVVDLE9BRTFCLElBQUtELEVBQVVsQixJQUNYLE9BQU9oTSxFQUFBMUIsWUFBWSw2Q0FFdkIsSUFBSTQ2QixFQUFNaHNCLEVBQVVsQixJQUFJQyxPQUN4QixPQUFPM00sS0FBSzZNLG1CQUFtQitzQixFQUFJOXNCLEtBQU04c0IsRUFBSTdzQixPQUFRNnNCLEVBQUk1c0IsTUFBTzRzQixFQUFJM3NCLE1BR2pFNDFGLEVBQUF2a0csVUFBQXVPLG1CQUFQLFNBQTBCQyxFQUFjQyxFQUFnQkMsRUFBZUMsR0FDbkUsT0FBT2pOLEtBQUsyTSxPQUFPRSxtQkFBbUJDLEVBQU1DLEVBQVFDLEVBQU9DLElBRW5FNDFGLEVBaEpBLEdBQWFybUcsRUFBQXFtRyxpR0N2bUJiLElBQUFpRCxFQUFBeHBHLEVBQUEsSUFFQXE2RSxRQUFRQyxJQUFJLFNBSVosSUFBSW12QixFQUFRLElBQUlELEVBQUEzQyxXQUFXLFdBQVksMkJBQ25DenhFLEVBQVUsSUFBSW8wRSxFQUFBeEQsU0FBU3lELElBQVMsYUFDcENwdkIsUUFBUUMsSUFBSWxsRCIsImZpbGUiOiJtYWluLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA1Nyk7XG4iLCJpbXBvcnQgYXNzaWduIGZyb20gXCJsb2Rhc2gvYXNzaWduXCI7XHJcblxyXG5leHBvcnQgdHlwZSBNdXRhYmxlPFQ+ID0geyAtcmVhZG9ubHkgW1AgaW4ga2V5b2YgVF06IFRbUF0gfTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhc011dGFibGU8VD4ob2JqOiBUKSA6IE11dGFibGU8VD4ge1xyXG4gICAgcmV0dXJuIDxNdXRhYmxlPFQ+Pm9iajtcclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbjogYm9vbGVhbiwgbWVzc2FnZTogc3RyaW5nID0gXCJcIikge1xyXG4gICAgaWYgKCFjb25kaXRpb24pXHJcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJBc3NlcnQgZmFpbGVkOiBcIiArIG1lc3NhZ2UpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEZhbHNlKG1lc3NhZ2U6IHN0cmluZyA9IFwiXCIpIDogbmV2ZXIge1xyXG4gICAgdGhyb3cgRXJyb3IoXCJBc3NlcnQgZmFpbGVkOiBcIiArIG1lc3NhZ2UpO1xyXG59O1xyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNZXRob2RNaXhpbjxUYXJnZXRUeXBlLCBNZXRob2ROYW1lIGV4dGVuZHMga2V5b2YgVGFyZ2V0VHlwZT4obWl4OiBUYXJnZXRUeXBlW01ldGhvZE5hbWVdKSB7XHJcbiAgICByZXR1cm4gKHRhcmdldFByb3RvOiBUYXJnZXRUeXBlLCBuYW1lOiBNZXRob2ROYW1lKSA9PiB7XHJcbiAgICAgICAgdGFyZ2V0UHJvdG9bbmFtZV0gPSBtaXg7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIENvbnN0cnVjdG9yPFQ+ID0gbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gVDtcclxuXHJcbmV4cG9ydCB0eXBlIE92ZXJ3cml0ZTxUMSwgVDI+ID0gUGljazxUMSwgRXhjbHVkZTxrZXlvZiBUMSwga2V5b2YgVDI+PiAmIFQyO1xyXG5cclxuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTAxMjU4OTMvdHlwZXNjcmlwdC1kZXJpdmUtbWFwLWZyb20tZGlzY3JpbWluYXRlZC11bmlvblxyXG5leHBvcnQgdHlwZSBEaXNjcmltaW5hdGVVbmlvbjxULCBLIGV4dGVuZHMga2V5b2YgVCwgViBleHRlbmRzIFRbS10+ID0gXHJcbiAgICBUIGV4dGVuZHMgUmVjb3JkPEssIFY+ID8gVCA6IG5ldmVyO1xyXG5leHBvcnQgdHlwZSBNYXBEaXNjcmltaW5hdGVkVW5pb248VCBleHRlbmRzIFJlY29yZDxLLCBzdHJpbmc+LCBLIGV4dGVuZHMga2V5b2YgVD4gPVxyXG4gIHsgW1YgaW4gVFtLXV06IERpc2NyaW1pbmF0ZVVuaW9uPFQsIEssIFY+IH07XHJcblxyXG4vLyBleHBvcnQgZnVuY3Rpb24gaHRtbERlY29yYXRlZE9wZXJhdG9yKG9wZXJhdG9yLCBjc3NDbGFzcyl7XHJcbi8vICAgICByZXR1cm4gXCI8c3BhbiBjbGFzcz0nY29kZUluc3RhbmNlIFwiICsgKGNzc0NsYXNzIHx8IFwiXCIpICsgXCInPlwiICsgb3BlcmF0b3IgKyBcIjxzcGFuIGNsYXNzPSdoaWdobGlnaHQnPjwvc3Bhbj48L3NwYW4+XCI7XHJcbi8vIH07XHJcblxyXG4vLyBleHBvcnQgZnVuY3Rpb24gaHRtbERlY29yYXRlZEtleXdvcmQoa2V5d29yZCl7XHJcbi8vICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwiY29kZS1rZXl3b3JkXCI+JyArIGtleXdvcmQgKyAnPC9zcGFuPic7XHJcbi8vIH07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaHRtbERlY29yYXRlZFR5cGUodHlwZVN0cmluZzogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwiY29kZS10eXBlXCI+JyArIHR5cGVTdHJpbmcgKyAnPC9zcGFuPic7XHJcbn07XHJcblxyXG4vLyBleHBvcnQgZnVuY3Rpb24gaHRtbERlY29yYXRlZE5hbWUobmFtZSwgdHlwZSl7XHJcbi8vICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwiY29kZS1uYW1lXCI+PHNwYW4gY2xhc3MgPSBcImhpZ2hsaWdodFwiPjwvc3Bhbj48c3BhbiBjbGFzcz1cInR5cGVcIj4nICsgdHlwZS5lbmdsaXNoU3RyaW5nKCkgKyAnPC9zcGFuPicgKyBuYW1lICsgJzwvc3Bhbj4nO1xyXG4vLyB9O1xyXG5cclxuLy8gZXhwb3J0IGZ1bmN0aW9uIGh0bWxEZWNvcmF0ZWRWYWx1ZSh2YWx1ZSl7XHJcbi8vICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwiY29kZS1saXRlcmFsXCI+JyArIHZhbHVlICsgJzwvc3Bhbj4nO1xyXG4vLyB9O1xyXG5cclxuXHJcbnZhciBlc2NhcGVzID0gW1wiXFxcXFxcXCJcIiwgXCJcXFxcJ1wiLCBcIlxcXFw/XCIsIFwiXFxcXFxcXFxcIiwgXCJcXFxcYVwiLCBcIlxcXFxiXCIsIFwiXFxcXGZcIiwgXCJcXFxcblwiLCBcIlxcXFxyXCIsIFwiXFxcXHRcIiwgXCJcXFxcdlwiLCBcIlxcXFwwXCJdO1xyXG52YXIgZXNjYXBlZCA9IFtcIlxcXCJcIiwgXCJcXCdcIiwgXCJcIiwgXCJcXFxcXCIsIFwiXCIsIFwiXFxiXCIsIFwiXFxmXCIsIFwiXFxuXCIsIFwiXFxyXCIsIFwiXFx0XCIsIFwiXFx2XCIsIFwiXFwwXCJdO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZVN0cmluZyh0ZXh0OiBzdHJpbmcpIHtcclxuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBlc2NhcGVzLmxlbmd0aDsgKytpKXtcclxuICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKGVzY2FwZXNbaV0sIGVzY2FwZWRbaV0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRleHQ7XHJcbn07XHJcbmV4cG9ydCBmdW5jdGlvbiB1bmVzY2FwZVN0cmluZyh0ZXh0OiBzdHJpbmcpe1xyXG4gICAgdmFyIG5ld1N0ciA9IFwiXCI7XHJcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGV4dC5sZW5ndGg7ICsraSl7XHJcbiAgICAgICAgdmFyIGMgPSB0ZXh0W2ldO1xyXG4gICAgICAgIGZvcih2YXIgaiA9IDA7IGogPCBlc2NhcGVkLmxlbmd0aDsgKytqKXtcclxuICAgICAgICAgICAgaWYgKGMgPT09IGVzY2FwZWRbal0pe1xyXG4gICAgICAgICAgICAgICAgYyA9IGVzY2FwZXNbal07XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBuZXdTdHIgKz0gYztcclxuICAgIH1cclxuICAgIHJldHVybiBuZXdTdHI7XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgQ1BQUmFuZG9tIHtcclxuXHJcbiAgICBwcml2YXRlIHNlZWQgPSAwO1xyXG5cclxuICAgIHB1YmxpYyBzZXRSYW5kb21TZWVkKG5ld1NlZWQ6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuc2VlZCA9IG5ld1NlZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJhbmRvbShtaW46IG51bWJlciA9IDAsIG1heDogbnVtYmVyID0gMSkge1xyXG4gICAgICAgIHRoaXMuc2VlZCA9ICh0aGlzLnNlZWQgKiA5MzAxICsgNDkyOTcpICUgMjMzMjgwO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNlZWRlZFJhbmRvbSh0aGlzLnNlZWQsIG1pbiwgbWF4KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2VlZGVkUmFuZG9tKHNlZWQ6IG51bWJlciwgbWluOiBudW1iZXIgPSAwLCBtYXg6IG51bWJlciA9IDEpIHtcclxuICAgICAgICB2YXIgcm5kID0gc2VlZCAlIDIzMzI4MCAvIDIzMzI4MDtcclxuICAgIFxyXG4gICAgICAgIHJuZCA9IG1pbiArIHJuZCAqIChtYXggLSBtaW4pO1xyXG4gICAgICAgIHJuZCA9IE1hdGgubWF4KG1pbiwgTWF0aC5taW4obWF4LCBybmQpKTtcclxuICAgICAgICByZXR1cm4gcm5kO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQ29uc3RydWN0b3IsIGh0bWxEZWNvcmF0ZWRUeXBlLCB1bmVzY2FwZVN0cmluZyB9IGZyb20gXCIuLi91dGlsL3V0aWxcIjtcclxuaW1wb3J0IHsgYnl0ZSwgUmF3VmFsdWVUeXBlIH0gZnJvbSBcIi4vcnVudGltZUVudmlyb25tZW50XCI7XHJcbmltcG9ydCB7IENQUE9iamVjdCB9IGZyb20gXCIuL29iamVjdHNcIjtcclxuaW1wb3J0IHsgRXhwcmVzc2lvbkFTVE5vZGUgfSBmcm9tIFwiLi9leHByZXNzaW9uc1wiO1xyXG5pbXBvcnQgeyBEZXNjcmlwdGlvbiB9IGZyb20gXCIuL2NvbnN0cnVjdHNcIjtcclxuXHJcblxyXG52YXIgdm93ZWxzID0gW1wiYVwiLCBcImVcIiwgXCJpXCIsIFwib1wiLCBcInVcIl07XHJcbmZ1bmN0aW9uIGlzVm93ZWwoYzogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gdm93ZWxzLmluZGV4T2YoYykgIT0gLTE7XHJcbn07XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vIGxldCBVU0VSX1RZUEVfTkFNRVMgPSB7fTtcclxuLy8gZXhwb3J0IGZ1bmN0aW9uIHJlc2V0VXNlclR5cGVOYW1lcygpIHtcclxuLy8gICAgIFVTRVJfVFlQRV9OQU1FUyA9IHt9O1xyXG4vLyB9XHJcblxyXG4vLyBleHBvcnQgbGV0IGRlZmF1bHRVc2VyVHlwZU5hbWVzID0ge1xyXG4vLyAgICAgb3N0cmVhbSA6IHRydWUsXHJcbi8vICAgICBpc3RyZWFtIDogdHJ1ZSxcclxuLy8gICAgIHNpemVfdCA6IHRydWVcclxuLy8gfTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1R5cGU8VCBleHRlbmRzIFR5cGU+KHR5cGU6IFR5cGUsIGN0b3I6IENvbnN0cnVjdG9yPFQ+KSA6IHR5cGUgaXMgSW5zdGFuY2VUeXBlPHR5cGVvZiBjdG9yPiB7XHJcbiAgICByZXR1cm4gdHlwZS5pc1R5cGUoY3Rvcik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2FtZVR5cGUodHlwZTE6IFR5cGUsIHR5cGUyOiBUeXBlKSB7XHJcbiAgICByZXR1cm4gdHlwZTEuc2FtZVR5cGUodHlwZTIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNpbWlsYXJUeXBlKHR5cGUxOiBUeXBlLCB0eXBlMjogVHlwZSkge1xyXG4gICAgcmV0dXJuIHR5cGUxLnNpbWlsYXJUeXBlKHR5cGUyKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdWJUeXBlKHR5cGUxOiBUeXBlLCB0eXBlMjogVHlwZSkge1xyXG4gICAgcmV0dXJuIHR5cGUxIGluc3RhbmNlb2YgQ2xhc3NUeXBlICYmIHR5cGUyIGluc3RhbmNlb2YgQ2xhc3NUeXBlICYmIHR5cGUxLmlzRGVyaXZlZEZyb20odHlwZTIpO1xyXG59O1xyXG5cclxuZXhwb3J0IHZhciBjb3ZhcmlhbnRUeXBlID0gZnVuY3Rpb24oZGVyaXZlZDogVHlwZSwgYmFzZTogVHlwZSl7XHJcbiAgICBpZiAoc2FtZVR5cGUoZGVyaXZlZCwgYmFzZSkpe1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBkYztcclxuICAgIHZhciBiYztcclxuICAgIGlmIChkZXJpdmVkIGluc3RhbmNlb2YgUG9pbnRlclR5cGUgJiYgYmFzZSBpbnN0YW5jZW9mIFBvaW50ZXJUeXBlKXtcclxuICAgICAgICBkYyA9IGRlcml2ZWQucHRyVG87XHJcbiAgICAgICAgYmMgPSBiYXNlLnB0clRvO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZGVyaXZlZCBpbnN0YW5jZW9mIFJlZmVyZW5jZVR5cGUgJiYgYmFzZSBpbnN0YW5jZW9mIFJlZmVyZW5jZVR5cGUpe1xyXG4gICAgICAgIGRjID0gZGVyaXZlZC5yZWZUbztcclxuICAgICAgICBiYyA9IGJhc2UucmVmVG87XHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gbm90IGJvdGggcG9pbnRlcnMgb3IgYm90aCByZWZlcmVuY2VzXHJcbiAgICB9XHJcblxyXG4gICAgLy8gTXVzdCBiZSBwb2ludGVycyBvciByZWZlcmVuY2VzIHRvIGNsYXNzIHR5cGVcclxuICAgIGlmICghKGRjIGluc3RhbmNlb2YgQ2xhc3NUeXBlKSB8fCAhKGJjIGluc3RhbmNlb2YgQ2xhc3NUeXBlKSl7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGRjIG11c3QgYmUgZGVyaXZlZCBmcm9tIGJjXHJcbiAgICBpZiAoIWRjLmlzRGVyaXZlZEZyb20oYmMpKXtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUG9pbnRlcnMvUmVmZXJlbmNlcyBtdXN0IGhhdmUgdGhlIHNhbWUgY3YtcXVhbGlmaWNhdGlvblxyXG4gICAgaWYgKGRlcml2ZWQuaXNDb25zdCAhPSBiYXNlLmlzQ29uc3QgfHwgZGVyaXZlZC5pc1ZvbGF0aWxlICE9IGJhc2UuaXNWb2xhdGlsZSl7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGRjIG11c3QgaGF2ZSBzYW1lIG9yIGxlc3MgY3YtcXVhbGlmaWNhdGlvbiBhcyBiY1xyXG4gICAgaWYgKGRjLmlzQ29uc3QgJiYgIWJjLmlzQ29uc3QgfHwgZGMuaXNWb2xhdGlsZSAmJiAhYmMuaXNWb2xhdGlsZSl7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFlheSB3ZSBtYWRlIGl0IVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVmZXJlbmNlQ29tcGF0aWJsZShmcm9tOiBUeXBlLCB0bzogVHlwZSl7XHJcbiAgICByZXR1cm4gZnJvbSAmJiB0byAmJiBmcm9tLmlzUmVmZXJlbmNlQ29tcGF0aWJsZSh0byk7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNDdkNvbnZlcnRpYmxlKGZyb21UeXBlOiBUeXBlIHwgbnVsbCwgdG9UeXBlOiBUeXBlIHwgbnVsbCkge1xyXG5cclxuICAgIGlmIChmcm9tVHlwZSA9PT0gbnVsbCB8fCB0b1R5cGUgPT09IG51bGwpIHsgcmV0dXJuIGZhbHNlOyB9XHJcblxyXG4gICAgLy8gdDEgYW5kIHQyIG11c3QgYmUgc2ltaWxhclxyXG4gICAgaWYgKCFzaW1pbGFyVHlwZShmcm9tVHlwZSx0b1R5cGUpKSB7IHJldHVybiBmYWxzZTsgfVxyXG5cclxuICAgIC8vIERpc2NhcmQgMHRoIGxldmVsIG9mIGN2LXF1YWxpZmljYXRpb24gc2lnbmF0dXJlcywgd2UgZG9uJ3QgY2FyZSBhYm91dCB0aGVtLlxyXG4gICAgLy8gKEl0J3MgZXNzZW50aWFsbHkgYSB2YWx1ZSBzZW1hbnRpY3MgdGhpbmcsIHdlJ3JlIG1ha2luZyBhIGNvcHkgc28gdG9wIGxldmVsIGNvbnN0IGRvZXNuJ3QgbWF0dGVyLilcclxuICAgIGZyb21UeXBlID0gZnJvbVR5cGUuZ2V0Q29tcG91bmROZXh0KCk7XHJcbiAgICB0b1R5cGUgPSB0b1R5cGUuZ2V0Q29tcG91bmROZXh0KCk7XHJcblxyXG4gICAgLy8gY2hlY2sgdGhhdCB0MiBoYXMgY29uc3QgZXZlcnl3aGVyZSB0aGF0IHQxIGRvZXNcclxuICAgIC8vIGFsc28gaWYgd2UgZXZlciBmaW5kIGEgZGlmZmVyZW5jZSwgdDIgbmVlZHMgY29uc3QgZXZlcnl3aGVyZSBsZWFkaW5nXHJcbiAgICAvLyB1cCB0byBpdCAoYnV0IG5vdCBpbmNsdWRpbmcpIChhbmQgbm90IGluY2x1ZGluZyBkaXNjYXJkZWQgMHRoIGxldmVsKS5cclxuICAgIGxldCB0MkFsbENvbnN0ID0gdHJ1ZTtcclxuICAgIHdoaWxlKGZyb21UeXBlICYmIHRvVHlwZSl7IC8vc2ltaWxhciBzbyB0aGV5IHNob3VsZCBydW4gb3V0IGF0IHNhbWUgdGltZVxyXG4gICAgICAgIGlmIChmcm9tVHlwZS5pc0NvbnN0ICYmICF0b1R5cGUuaXNDb25zdCl7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIWZyb21UeXBlLmlzQ29uc3QgJiYgdG9UeXBlLmlzQ29uc3QgJiYgIXQyQWxsQ29uc3Qpe1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBVcGRhdGUgYWxsQ29uc3RcclxuICAgICAgICB0MkFsbENvbnN0ID0gdDJBbGxDb25zdCAmJiB0b1R5cGUuaXNDb25zdDtcclxuICAgICAgICBmcm9tVHlwZSA9IGZyb21UeXBlLmdldENvbXBvdW5kTmV4dCgpO1xyXG4gICAgICAgIHRvVHlwZSA9IHRvVHlwZS5nZXRDb21wb3VuZE5leHQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBubyB2aW9sYXRpb25zLCB0MSBpcyBjb252ZXJ0YWJsZSB0byB0MlxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn07XHJcblxyXG5hYnN0cmFjdCBjbGFzcyBUeXBlQmFzZSB7XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IF9uYW1lID0gXCJUeXBlXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVc2VkIGluIHBhcmVudGhlc2l6YXRpb24gb2Ygc3RyaW5nIHJlcHJlc2VudGF0aW9ucyBvZiB0eXBlcy5cclxuICAgICAqIGUuZy4gQXJyYXkgdHlwZXMgaGF2ZSBwcmVjZWRlbmNlIDIsIHdoZXJlYXMgUG9pbnRlciB0eXBlcyBoYXZlIHByZWNlZGVuY2UgMS5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGFic3RyYWN0IHJlYWRvbmx5IHByZWNlZGVuY2U6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcmVhZG9ubHkgaXNDb21wbGV0ZTogYm9vbGVhbjtcclxuXHJcbiAgICAvLyByZWd1bGFyIG1lbWJlciBwcm9wZXJ0aWVzXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNDb25zdDogYm9vbGVhbjtcclxuICAgIHB1YmxpYyByZWFkb25seSBpc1ZvbGF0aWxlOiBib29sZWFuO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihpc0NvbnN0OiBib29sZWFuID0gZmFsc2UsIGlzVm9sYXRpbGU6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgICAgIHRoaXMuaXNDb25zdCA9IGlzQ29uc3Q7XHJcbiAgICAgICAgLy8gVE9ETyBpZ25vcmUgdm9sYXRpbGUgY29tcGxldGVseT8gZm9yIG5vdyAoYW5kIHBlcmhhcHMgZm9yZXZlciBsb2wpXHJcbiAgICAgICAgdGhpcy5pc1ZvbGF0aWxlID0gaXNWb2xhdGlsZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Q1ZTdHJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLmlzQ29uc3QgPyBcImNvbnN0IFwiIDogXCJcIikgKyAodGhpcy5pc1ZvbGF0aWxlID8gXCJ2b2xhdGlsZSBcIiA6IFwiXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50eXBlU3RyaW5nKGZhbHNlLCBcIlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHR5cGUgb2JqZWN0IGlzIGFuIGluc3RhbmNlIG9mIHRoZSBnaXZlbiBUeXBlIGNsYXNzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc1R5cGU8VCBleHRlbmRzIFR5cGU+KGN0b3I6IENvbnN0cnVjdG9yPFQ+KSA6IHRoaXMgaXMgSW5zdGFuY2VUeXBlPHR5cGVvZiBjdG9yPiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBjdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc09iamVjdFR5cGUoKSA6IHRoaXMgaXMgT2JqZWN0VHlwZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBPYmplY3RUeXBlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgaXNBdG9taWNUeXBlKCkgOiB0aGlzIGlzIEF0b21pY1R5cGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgQXRvbWljVHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNBcml0aG1ldGljVHlwZSgpIDogdGhpcyBpcyBBcml0aG1ldGljVHlwZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBBcml0aG1ldGljVHlwZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIGlzSW50ZWdyYWxUeXBlKCkgOiB0aGlzIGlzIEludGVncmFsVHlwZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBJbnRlZ3JhbFR5cGU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBpc0Zsb2F0aW5nUG9pbnRUeXBlKCkgOiB0aGlzIGlzIEZsb2F0aW5nUG9pbnRUeXBlIHtcclxuICAgICAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIEZsb2F0aW5nUG9pbnRUeXBlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc1BvaW50ZXJUeXBlKCkgOiB0aGlzIGlzIFBvaW50ZXJUeXBlIHtcclxuICAgICAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIFBvaW50ZXJUeXBlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc1JlZmVyZW5jZVR5cGUoKSA6IHRoaXMgaXMgUmVmZXJlbmNlVHlwZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBSZWZlcmVuY2VUeXBlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0NsYXNzVHlwZSgpIDogdGhpcyBpcyBDbGFzc1R5cGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgQ2xhc3NUeXBlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0JvdW5kZWRBcnJheVR5cGUoKSA6IHRoaXMgaXMgQm91bmRlZEFycmF5VHlwZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBCb3VuZGVkQXJyYXlUeXBlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0FycmF5T2ZVbmtub3duQm91bmRUeXBlKCkgOiB0aGlzIGlzIEFycmF5T2ZVbmtub3duQm91bmRUeXBlIHtcclxuICAgICAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIEFycmF5T2ZVbmtub3duQm91bmRUeXBlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0dlbmVyaWNBcnJheVR5cGUoKSA6IHRoaXMgaXMgQm91bmRlZEFycmF5VHlwZSB8IEFycmF5T2ZVbmtub3duQm91bmRUeXBlIHtcclxuICAgICAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIEJvdW5kZWRBcnJheVR5cGUgfHwgdGhpcyBpbnN0YW5jZW9mIEFycmF5T2ZVbmtub3duQm91bmRUeXBlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0Z1bmN0aW9uVHlwZSgpIDogdGhpcyBpcyBGdW5jdGlvblR5cGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgRnVuY3Rpb25UeXBlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0FycmF5RWxlbVR5cGUoKSA6IHRoaXMgaXMgQXJyYXlFbGVtVHlwZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBBdG9taWNUeXBlIHx8IHRoaXMgaW5zdGFuY2VvZiBDbGFzc1R5cGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzVm9pZFR5cGUoKSA6IHRoaXMgaXMgVm9pZFR5cGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgVm9pZFR5cGU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBpc1BvdGVudGlhbFJldHVyblR5cGUoKSA6IHRoaXMgaXMgUG90ZW50aWFsUmV0dXJuVHlwZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBPYmplY3RUeXBlIHx8IHRoaXMgaW5zdGFuY2VvZiBSZWZlcmVuY2VUeXBlIHx8IHRoaXMgaW5zdGFuY2VvZiBWb2lkVHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNQb3RlbnRpYWxQYXJhbWV0ZXJUeXBlKCkgOiB0aGlzIGlzIFBvdGVudGlhbFBhcmFtZXRlclR5cGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgT2JqZWN0VHlwZSB8fCB0aGlzIGluc3RhbmNlb2YgUmVmZXJlbmNlVHlwZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBvdGhlciByZXByZXNlbnRzIGV4YWN0bHkgdGhlIHNhbWUgdHlwZSBhcyB0aGlzLCBpbmNsdWRpbmcgY3YtcXVhbGlmaWNhdGlvbnMuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBzYW1lVHlwZTxUIGV4dGVuZHMgVHlwZT4ob3RoZXI6IFQpIDogdGhpcyBpcyBUO1xyXG4gICAgcHVibGljIGFic3RyYWN0IHNhbWVUeXBlKG90aGVyOiBUeXBlKSA6IGJvb2xlYW47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgb3RoZXIgcmVwcmVzZW50cyB0aGUgc2FtZSB0eXBlIGFzIHRoaXMsIGlnbm9yaW5nIGN2LXF1YWxpZmljYXRpb25zLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWJzdHJhY3Qgc2ltaWxhclR5cGU8VCBleHRlbmRzIFR5cGU+KG90aGVyOiBUKSA6IHRoaXMgaXMgVDtcclxuICAgIHB1YmxpYyBhYnN0cmFjdCBzaW1pbGFyVHlwZShvdGhlcjogVHlwZSkgOiBib29sZWFuO1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHR5cGUgaXMgcmVmZXJlbmNlLXJlbGF0ZWQgKHNlZSBDKysgc3RhbmRhcmQpIHRvIHRoZSB0eXBlIG90aGVyLlxyXG4gICAgICogQHBhcmFtIG90aGVyXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc1JlZmVyZW5jZVJlbGF0ZWQodGhpczogVHlwZSwgb3RoZXI6IFR5cGUpIDogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHNhbWVUeXBlKHRoaXMuY3ZVbnF1YWxpZmllZCgpLCBvdGhlci5jdlVucXVhbGlmaWVkKCkpIHx8XHJcbiAgICAgICAgICAgIHN1YlR5cGUodGhpcy5jdlVucXVhbGlmaWVkKCksIG90aGVyLmN2VW5xdWFsaWZpZWQoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB0eXBlIGlzIHJlZmVyZW5jZS1jb21wYXRpYmxlIChzZWUgQysrIHN0YW5kYXJkKSB0byB0aGUgdHlwZSBvdGhlci5cclxuICAgICAqIEBwYXJhbSB7VHlwZX0gb3RoZXJcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaXNSZWZlcmVuY2VDb21wYXRpYmxlKHRoaXM6IFR5cGUsIG90aGVyOiBUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNSZWZlcmVuY2VSZWxhdGVkKG90aGVyKSAmJiAob3RoZXIuaXNDb25zdCB8fCAhdGhpcy5pc0NvbnN0KSAmJiAob3RoZXIuaXNWb2xhdGlsZSB8fCAhdGhpcy5pc1ZvbGF0aWxlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSBDKysgc3R5bGVkIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHR5cGUuXHJcbiAgICAgKiBAcGFyYW0gZXhjbHVkZUJhc2UgSWYgdHJ1ZSwgZXhjbHVkZSB0aGUgYmFzZSB0eXBlLlxyXG4gICAgICogQHBhcmFtIHZhcm5hbWUgVGhlIG5hbWUgb2YgdGhlIHZhcmlhYmxlLiBNYXkgYmUgdGhlIGVtcHR5IHN0cmluZy5cclxuICAgICAqIEBwYXJhbSBkZWNvcmF0ZWQgSWYgdHJ1ZSwgaHRtbCB0YWdzIHdpbGwgYmUgYWRkZWQuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhYnN0cmFjdCB0eXBlU3RyaW5nKGV4Y2x1ZGVCYXNlOiBib29sZWFuLCB2YXJuYW1lOiBzdHJpbmcsIGRlY29yYXRlZD86IGJvb2xlYW4pIDogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIEMrKyBzdHlsZWQgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgdHlwZSwgd2l0aCB0aGUgYmFzZSB0eXBlIGV4Y2x1ZGVkIGFzXHJcbiAgICAgKiB3b3VsZCBiZSBzdWl0YWJsZSBmb3Igb25seSBwcmludGluZyB0aGUgZGVjbGFyYXRvciBwYXJ0IG9mIGEgZGVjbGFyYXRpb24uXHJcbiAgICAgKiBAcGFyYW0gdmFybmFtZSBUaGUgbmFtZSBvZiB0aGUgdmFyaWFibGUuIE1heSBiZSB0aGUgZW1wdHkgc3RyaW5nLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZGVjbGFyYXRvclN0cmluZyh2YXJuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50eXBlU3RyaW5nKHRydWUsIHZhcm5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRpbmcgYSB0eXBlIGFzIGl0IG1pZ2h0IGJlIHJlYWQgdmVyYmFsbHkgaW4gZW5nbGlzaC5cclxuICAgICAqIGUuZy4gaW50IGNvbnN0ICogdmFyWzVdIC0tPiBcImFuIGFycmF5IG9mIDUgcG9pbnRlcnMgdG8gY29uc3QgaW50XCJcclxuICAgICAqIEBwYXJhbSBwbHVyYWwgV2hldGhlciB0aGUgcmV0dXJuZWQgc3RyaW5nIHNob3VsZCBiZSBwbHVyYWwuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBlbmdsaXNoU3RyaW5nKHBsdXJhbDogYm9vbGVhbikgOiBzdHJpbmc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gZm9yIGZ1bmN0aW9ucyB0aGF0IGNyZWF0ZSBzdHJpbmcgcmVwcmVzZW50YXRpb25zIG9mIHR5cGVzLlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgcGFyZW50aGVzaXplKG91dHNpZGU6IFR5cGUsIHN0cjogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlY2VkZW5jZSA8IG91dHNpZGUucHJlY2VkZW5jZSA/IFwiKFwiICsgc3RyICsgXCIpXCIgOiBzdHI7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBCb3RoIHRoZSBuYW1lIGFuZCBtZXNzYWdlIGFyZSBqdXN0IGEgQysrIHN0eWxlZCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHR5cGUuXHJcbiAgICAgKiBAcmV0dXJucyB7e25hbWU6IHtTdHJpbmd9LCBtZXNzYWdlOiB7U3RyaW5nfX19XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBkZXNjcmliZSgpIDogRGVzY3JpcHRpb24ge1xyXG4gICAgICAgIHZhciBzdHIgPSB0aGlzLnR5cGVTdHJpbmcoZmFsc2UsIFwiXCIpO1xyXG4gICAgICAgIHJldHVybiB7bmFtZTogc3RyLCBtZXNzYWdlOiBzdHJ9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSWYgdGhpcyBpcyBhIGNvbXBvdW5kIHR5cGUsIHJldHVybnMgdGhlIFwibmV4dFwiIHR5cGUuXHJcbiAgICAgKiBlLmcuIGlmIHRoaXMgaXMgYSBwb2ludGVyLXRvLWludCwgcmV0dXJucyBpbnRcclxuICAgICAqIGUuZy4gaWYgdGhpcyBpYSBhIHJlZmVyZW5jZSB0byBwb2ludGVyLXRvLWludCwgcmV0dXJucyBpbnRcclxuICAgICAqIGUuZy4gaWYgdGhpcyBpcyBhbiBhcnJheSBvZiBib29sLCByZXR1cm5zIGJvb2xcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldENvbXBvdW5kTmV4dCgpIDogVHlwZSB8IG51bGwge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgdHlwZSBpcyBlaXRoZXIgY29uc3Qgb3Igdm9sYXRpbGUgKG9yIGJvdGgpXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgcHVibGljIGlzQ1ZRdWFsaWZpZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNDb25zdCB8fCB0aGlzLmlzVm9sYXRpbGU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETzogcGVyaGFwcyBtYWtlIGEgd2F5IHRvIGNsb25lIGEgdHlwZSB3aXRoIGEgcGFydGljdWxhciBjdiBxdWFsaWZpY2F0aW9uIHJhdGhlciB0aGFuIHRoZSBwcm94eSBhcHByb2FjaCwgd2hpY2ggc2VlbXMgbW9yZSBmcmFnaWxlXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgY3YtdW5xdWFsaWZpZWQgY29weSBvZiB0aGlzIHR5cGUuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjdlVucXVhbGlmaWVkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN2UXVhbGlmaWVkKGZhbHNlLCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgY29weSBvZiB0aGlzIHR5cGUgd2l0aCB0aGUgc3BlY2lmaWVkIGN2LXF1YWxpZmljYXRpb25zLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY3ZRdWFsaWZpZWQoaXNDb25zdDogYm9vbGVhbiwgaXNWb2xhdGlsZTogYm9vbGVhbiA9IGZhbHNlKTogdGhpcyB7XHJcbiAgICAgICAgcmV0dXJuIDx0aGlzPnRoaXMuY3ZRdWFsaWZpZWRJbXBsKGlzQ29uc3QsIGlzVm9sYXRpbGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBjdlF1YWxpZmllZEltcGwoaXNDb25zdDogYm9vbGVhbiwgaXNWb2xhdGlsZTogYm9vbGVhbik6IFR5cGVCYXNlO1xyXG59O1xyXG5cclxuLy8gLyoqXHJcbi8vICAqIFVzZWQgd2hlbiBhIGNvbXBpbGF0aW9uIGVycm9yIGNhdXNlcyBhbiB1bmtub3duIHR5cGUuXHJcbi8vICAqL1xyXG4vLyBleHBvcnQgY2xhc3MgVW5rbm93biBleHRlbmRzIFR5cGUge1xyXG5cclxuXHJcbi8vICAgICBwdWJsaWMgc2FtZVR5cGUob3RoZXI6IFR5cGUpIDogYm9vbGVhbiB7XHJcbi8vICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBzaW1pbGFyVHlwZShvdGhlcjogVHlwZSkgOiBib29sZWFue1xyXG4vLyAgICAgICAgIHJldHVybiBmYWxzZTtcclxuLy8gICAgIH1cclxuXHJcbi8vIFx0cHVibGljIHR5cGVTdHJpbmcoZXhjbHVkZUJhc2U6IGJvb2xlYW4sIHZhcm5hbWU6IHN0cmluZywgZGVjb3JhdGVkOiBib29sZWFuKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIFwiPHVua25vd24+XCI7XHJcbi8vICAgICB9XHJcbiAgICBcclxuLy8gXHRwdWJsaWMgZW5nbGlzaFN0cmluZyhwbHVyYWw6IGJvb2xlYW4pIHtcclxuLy8gXHRcdHJldHVybiBcImFuIHVua25vd24gdHlwZVwiO1xyXG4vLyAgICAgfVxyXG4gICAgXHJcbi8vIFx0cHVibGljIHZhbHVlVG9TdHJpbmcodmFsdWU6IFJhd1ZhbHVlVHlwZSkge1xyXG4vLyAgICAgICAgIFV0aWwuYXNzZXJ0KGZhbHNlKTtcclxuLy8gICAgICAgICByZXR1cm4gXCJcIjtcclxuLy8gICAgIH1cclxuICAgIFxyXG4vLyAgICAgcHVibGljIGlzVmFsdWVWYWxpZCh2YWx1ZTogUmF3VmFsdWVUeXBlKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4vLyAgICAgfVxyXG4vLyB9XHJcblxyXG4vLyBleHBvcnQgbGV0IFVOS05PV05fVFlQRSA9IG5ldyBVbmtub3duKCk7XHJcblxyXG5leHBvcnQgdHlwZSBUeXBlID0gVm9pZFR5cGUgfCBPYmplY3RUeXBlIHwgRnVuY3Rpb25UeXBlIHwgUmVmZXJlbmNlVHlwZSB8IEFycmF5T2ZVbmtub3duQm91bmRUeXBlO1xyXG5cclxuZXhwb3J0IGNsYXNzIFZvaWRUeXBlIGV4dGVuZHMgVHlwZUJhc2Uge1xyXG4gICAgXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFZPSUQgPSBuZXcgVm9pZFR5cGUoKTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNDb21wbGV0ZSA9IHRydWU7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHByZWNlZGVuY2UgPSAwO1xyXG5cclxuICAgIHB1YmxpYyBzYW1lVHlwZShvdGhlcjogVHlwZSkgOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBWb2lkVHlwZVxyXG4gICAgICAgICAgICAmJiBvdGhlci5pc0NvbnN0ID09PSB0aGlzLmlzQ29uc3RcclxuICAgICAgICAgICAgJiYgb3RoZXIuaXNWb2xhdGlsZSA9PT0gdGhpcy5pc1ZvbGF0aWxlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaW1pbGFyVHlwZShvdGhlcjogVHlwZSkgOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBWb2lkVHlwZTtcclxuICAgIH1cclxuXHJcblx0cHVibGljIHR5cGVTdHJpbmcoZXhjbHVkZUJhc2U6IGJvb2xlYW4sIHZhcm5hbWU6IHN0cmluZywgZGVjb3JhdGVkOiBib29sZWFuKSB7XHJcbiAgICAgICAgcmV0dXJuIFwidm9pZFwiO1xyXG4gICAgfVxyXG4gICAgXHJcblx0cHVibGljIGVuZ2xpc2hTdHJpbmcocGx1cmFsOiBib29sZWFuKSB7XHJcblx0XHRyZXR1cm4gXCJ2b2lkXCI7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByb3RlY3RlZCBjdlF1YWxpZmllZEltcGwoaXNDb25zdDogYm9vbGVhbiwgaXNWb2xhdGlsZTogYm9vbGVhbikge1xyXG4gICAgICAgIHJldHVybiBuZXcgVm9pZFR5cGUoaXNDb25zdCwgaXNWb2xhdGlsZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXByZXNlbnRzIGEgdHlwZSBmb3IgYW4gb2JqZWN0IHRoYXQgZXhpc3RzIGluIG1lbW9yeSBhbmQgdGFrZXMgdXAgc29tZSBzcGFjZS5cclxuICogSGFzIGEgc2l6ZSBwcm9wZXJ0eSwgYnV0IE5PVCBuZWNlc3NhcmlseSBhIHZhbHVlLiAoZS5nLiBhbiBhcnJheSkuXHJcbiAqL1xyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgT2JqZWN0VHlwZSBleHRlbmRzIFR5cGVCYXNlIHtcclxuICAgIHB1YmxpYyBhYnN0cmFjdCByZWFkb25seSBzaXplOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFBvdGVudGlhbFJldHVyblR5cGUgPSBPYmplY3RUeXBlIHwgUmVmZXJlbmNlVHlwZSB8IFZvaWRUeXBlO1xyXG5cclxuZXhwb3J0IHR5cGUgUG90ZW50aWFsUGFyYW1ldGVyVHlwZSA9IEF0b21pY1R5cGUgfCBDbGFzc1R5cGUgfCBSZWZlcmVuY2VUeXBlOyAvLyBEb2VzIG5vdCBpbmNsdWRlIGFycmF5c1xyXG5cclxuLyoqXHJcbiAqIFJlcHJlc2VudHMgYSB0eXBlIGZvciBhbiBvYmplY3QgdGhhdCBoYXMgYSB2YWx1ZS5cclxuICovXHJcbmFic3RyYWN0IGNsYXNzIFZhbHVlVHlwZSBleHRlbmRzIE9iamVjdFR5cGUge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgYSBzZXF1ZW5jZSBvZiBieXRlcyAoaS5lLiB0aGUgQysrIG9iamVjdCByZXByZXNlbnRhdGlvbikgb2YgYSB2YWx1ZSBvZlxyXG4gICAgICogdGhpcyB0eXBlIGludG8gdGhlIHJhdyB2YWx1ZSB1c2VkIHRvIHJlcHJlc2VudCBpdCBpbnRlcm5hbGx5IGluIExvYnN0ZXIgKGkuZS4gYSBqYXZhc2NyaXB0IHZhbHVlKS5cclxuICAgICAqIEBwYXJhbSBieXRlc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYnl0ZXNUb1ZhbHVlKGJ5dGVzOiBieXRlW10pIDogUmF3VmFsdWVUeXBlIHtcclxuICAgICAgICAvLyBIQUNLOiB0aGUgd2hvbGUgdmFsdWUgaXMgc3RvcmVkIGluIHRoZSBmaXJzdCBieXRlXHJcbiAgICAgICAgcmV0dXJuIGJ5dGVzWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgYSByYXcgdmFsdWUgcmVwcmVzZW50aW5nIGEgdmFsdWUgb2YgdGhpcyB0eXBlIHRvIGEgc2VxdWVuY2Ugb2YgYnl0ZXNcclxuICAgICAqIChpLmUuIHRoZSBDKysgb2JqZWN0IHJlcHJlc2VudGF0aW9uKVxyXG4gICAgICogQHBhcmFtIHZhbHVlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB2YWx1ZVRvQnl0ZXModmFsdWU6IFJhd1ZhbHVlVHlwZSkge1xyXG4gICAgICAgIHZhciBieXRlcyA9IFtdO1xyXG4gICAgICAgIC8vIEhBQ0s6IHN0b3JlIHRoZSB3aG9sZSB2YWx1ZSBpbiB0aGUgZmlyc3QgYnl0ZSBhbmQgemVybyBvdXQgdGhlIHJlc3QuIHRoYW5rcyBqYXZhc2NyaXB0IDopXHJcbiAgICAgICAgYnl0ZXNbMF0gPSB2YWx1ZTtcclxuICAgICAgICBmb3IodmFyIGkgPSAxOyBpIDwgdGhpcy5zaXplLTE7ICsraSl7XHJcbiAgICAgICAgICAgIGJ5dGVzLnB1c2goMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiA8Ynl0ZVtdPmJ5dGVzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB3aGV0aGVyIGEgZ2l2ZW4gcmF3IHZhbHVlIGZvciB0aGlzIHR5cGUgaXMgdmFsaWQuIEZvciBleGFtcGxlLCBhIHBvaW50ZXIgdHlwZSBtYXkgdHJhY2sgcnVudGltZVxyXG4gICAgICogdHlwZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgYXJyYXkgZnJvbSB3aGljaCBpdCB3YXMgb3JpZ2luYWxseSBkZXJpdmVkLiBJZiB0aGUgcG9pbnRlciB2YWx1ZSBpbmNyZWFzZXMgc3VjaFxyXG4gICAgICogdGhhdCBpdCB3YW5kZXJzIG92ZXIgdGhlIGVuZCBvZiB0aGF0IGFycmF5LCBpdHMgdmFsdWUgYmVjb21lcyBpbnZhbGlkLlxyXG4gICAgICogQHBhcmFtIHZhbHVlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBpc1ZhbHVlVmFsaWQodmFsdWU6IFJhd1ZhbHVlVHlwZSkgOiBib29sZWFuO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIGh1bWFuLXJlYWRhYmxlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gcmF3IHZhbHVlIGZvciB0aGlzIFR5cGUuXHJcbiAgICAgKiBUaGlzIGlzIHRoZSByZXByZXNlbnRhdGlvbiB0aGF0IG1pZ2h0IGJlIGRpc3BsYXllZCB0byB0aGUgdXNlciB3aGVuIGluc3BlY3RpbmcgdGhlXHJcbiAgICAgKiB2YWx1ZSBvZiBhbiBvYmplY3QuXHJcbiAgICAgKiBOb3RlIHRoYXQgdGhlIHZhbHVlIHJlcHJlc2VudGF0aW9uIGZvciB0aGUgdHlwZSBpbiBMb2JzdGVyIGlzIGp1c3QgYSBqYXZhc2NyaXB0XHJcbiAgICAgKiB2YWx1ZS4gSXQgaXMgbm90IHRoZSBDKysgdmFsdWUgcmVwcmVzZW50YXRpb24gZm9yIHRoZSB0eXBlLlxyXG4gICAgICogQHBhcmFtIHZhbHVlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhYnN0cmFjdCB2YWx1ZVRvU3RyaW5nKHZhbHVlOiBSYXdWYWx1ZVR5cGUpIDogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiByYXcgdmFsdWUgZm9yIHRoaXMgVHlwZSB0aGF0IHdvdWxkIGJlXHJcbiAgICAgKiBwcmludGVkIHRvIGFuIG9zdHJlYW0uXHJcbiAgICAgKiBOb3RlIHRoYXQgdGhlIHJhdyB2YWx1ZSByZXByZXNlbnRhdGlvbiBmb3IgdGhlIHR5cGUgaW4gTG9ic3RlciBpcyBqdXN0IGEgamF2YXNjcmlwdFxyXG4gICAgICogdmFsdWUuIEl0IGlzIG5vdCB0aGUgQysrIHZhbHVlIHJlcHJlc2VudGF0aW9uIGZvciB0aGUgdHlwZS5cclxuICAgICAqIFRPRE86IFRoaXMgaXMgYSBoYWNrIHRoYXQgbWF5IGV2ZW50dWFsbHkgYmUgcmVtb3ZlZCBzaW5jZSBwcmludGluZyB0byBhIHN0cmVhbSBzaG91bGRcclxuICAgICAqIHJlYWxseSBiZSBoYW5kbGVkIGJ5IG92ZXJsb2FkZWQgPDwgb3BlcmF0b3IgZnVuY3Rpb25zLlxyXG4gICAgICogQHBhcmFtIHZhbHVlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB2YWx1ZVRvT3N0cmVhbVN0cmluZyh2YWx1ZTogUmF3VmFsdWVUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVUb1N0cmluZyh2YWx1ZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEF0b21pY1R5cGUgZXh0ZW5kcyBWYWx1ZVR5cGUge1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGlzQXRvbWljID0gdHJ1ZTtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTaW1wbGVUeXBlIGV4dGVuZHMgQXRvbWljVHlwZSB7XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogU3ViY2xhc3NlcyBtdXN0IGltcGxlbWVudCBhIGNvbmNyZXRlIHR5cGUgcHJvcGVydHkgdGhhdCBzaG91bGQgYmUgYVxyXG4gICAgICogc3RyaW5nIGluZGljYXRpbmcgdGhlIGtpbmQgb2YgdHlwZSBlLmcuIFwiaW50XCIsIFwiZG91YmxlXCIsIFwiYm9vbFwiLCBldGMuXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBzaW1wbGVUeXBlOiBzdHJpbmc7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGlzQ29tcGxldGUgPSB0cnVlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHByZWNlZGVuY2UgPSAwO1xyXG5cclxuICAgIHB1YmxpYyBzYW1lVHlwZShvdGhlcjogVHlwZSkgOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBTaW1wbGVUeXBlXHJcbiAgICAgICAgICAgICYmIG90aGVyLnNpbXBsZVR5cGUgPT09IHRoaXMuc2ltcGxlVHlwZVxyXG4gICAgICAgICAgICAmJiBvdGhlci5pc0NvbnN0ID09PSB0aGlzLmlzQ29uc3RcclxuICAgICAgICAgICAgJiYgb3RoZXIuaXNWb2xhdGlsZSA9PT0gdGhpcy5pc1ZvbGF0aWxlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaW1pbGFyVHlwZShvdGhlcjogVHlwZSkgOiBib29sZWFue1xyXG4gICAgICAgIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIFNpbXBsZVR5cGVcclxuICAgICAgICAgICAgJiYgb3RoZXIuc2ltcGxlVHlwZSA9PT0gdGhpcy5zaW1wbGVUeXBlO1xyXG4gICAgfVxyXG5cclxuXHRwdWJsaWMgdHlwZVN0cmluZyhleGNsdWRlQmFzZTogYm9vbGVhbiwgdmFybmFtZTogc3RyaW5nLCBkZWNvcmF0ZWQ6IGJvb2xlYW4pIHtcclxuICAgICAgICBpZiAoZXhjbHVkZUJhc2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhcm5hbWUgPyB2YXJuYW1lIDogXCJcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q1ZTdHJpbmcoKSArIChkZWNvcmF0ZWQgPyBodG1sRGVjb3JhdGVkVHlwZSh0aGlzLnNpbXBsZVR5cGUudG9TdHJpbmcoKSkgOiB0aGlzLnNpbXBsZVR5cGUpICsgKHZhcm5hbWUgPyBcIiBcIiArIHZhcm5hbWUgOiBcIlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuXHRwdWJsaWMgZW5nbGlzaFN0cmluZyhwbHVyYWw6IGJvb2xlYW4pIHtcclxuXHRcdC8vIG5vIHJlY3Vyc2l2ZSBjYWxscyB0byB0aGlzLnNpbXBsZVR5cGUuZW5nbGlzaFN0cmluZygpIGhlcmVcclxuXHRcdC8vIGJlY2F1c2UgdGhpcy5zaW1wbGVUeXBlIGlzIGp1c3QgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB0eXBlXHJcbiAgICAgICAgdmFyIHdvcmQgPSB0aGlzLmdldENWU3RyaW5nKCkgKyB0aGlzLnNpbXBsZVR5cGU7XHJcblx0XHRyZXR1cm4gKHBsdXJhbCA/IHRoaXMuc2ltcGxlVHlwZStcInNcIiA6IChpc1Zvd2VsKHdvcmQuY2hhckF0KDApKSA/IFwiYW4gXCIgOiBcImEgXCIpICsgd29yZCk7XHJcbiAgICB9XHJcbiAgICBcclxuXHRwdWJsaWMgdmFsdWVUb1N0cmluZyh2YWx1ZTogUmF3VmFsdWVUeXBlKSB7XHJcblx0XHRyZXR1cm4gXCJcIit2YWx1ZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIGlzVmFsdWVWYWxpZCh2YWx1ZTogUmF3VmFsdWVUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQXJpdGhtZXRpY1R5cGUgZXh0ZW5kcyBTaW1wbGVUeXBlIHtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBJbnRlZ3JhbFR5cGUgZXh0ZW5kcyBBcml0aG1ldGljVHlwZSB7XHJcbiAgICBcclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBDaGFyIGV4dGVuZHMgSW50ZWdyYWxUeXBlIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQ0hBUiA9IG5ldyBDaGFyKCk7XHJcbiAgICBcclxuICAgIHByb3RlY3RlZCByZWFkb25seSBzaW1wbGVUeXBlID0gXCJjaGFyXCI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2l6ZSA9IDE7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBOVUxMX0NIQVIgPSAwO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgaXNOdWxsQ2hhcih2YWx1ZTogUmF3VmFsdWVUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB0aGlzLk5VTExfQ0hBUjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGpzU3RyaW5nVG9OdWxsVGVybWluYXRlZENoYXJBcnJheShzdHI6IHN0cmluZykge1xyXG4gICAgICAgIHZhciBjaGFycyA9IHN0ci5zcGxpdChcIlwiKS5tYXAoZnVuY3Rpb24oYyl7XHJcbiAgICAgICAgICAgIHJldHVybiBjLmNoYXJDb2RlQXQoMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY2hhcnMucHVzaChDaGFyLk5VTExfQ0hBUik7XHJcbiAgICAgICAgcmV0dXJuIGNoYXJzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB2YWx1ZVRvU3RyaW5nKHZhbHVlOiBSYXdWYWx1ZVR5cGUpIHtcclxuICAgICAgICByZXR1cm4gXCInXCIgKyB1bmVzY2FwZVN0cmluZyhTdHJpbmcuZnJvbUNoYXJDb2RlKHZhbHVlKSkgKyBcIidcIjtcclxuICAgIH1cclxuICAgIHB1YmxpYyB2YWx1ZVRvT3N0cmVhbVN0cmluZyh2YWx1ZTogUmF3VmFsdWVUeXBlKSB7XHJcbiAgICAgICAgLy8gdXNlIDxudW1iZXI+IGFzc2VydGlvbiBiYXNlZCBvbiB0aGUgYXNzdW1wdGlvbiB0aGlzIHdpbGwgb25seSBiZSB1c2VkIHdpdGggcHJvcGVyIHJhdyB2YWx1ZXMgdGhhdCBhcmUgbnVtYmVyc1xyXG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDxudW1iZXI+dmFsdWUpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcm90ZWN0ZWQgY3ZRdWFsaWZpZWRJbXBsKGlzQ29uc3Q6IGJvb2xlYW4sIGlzVm9sYXRpbGU6IGJvb2xlYW4pIHtcclxuICAgICAgICByZXR1cm4gbmV3IENoYXIoaXNDb25zdCwgaXNWb2xhdGlsZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBJbnQgZXh0ZW5kcyBJbnRlZ3JhbFR5cGUge1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBJTlQgPSBuZXcgSW50KCk7XHJcblxyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IHNpbXBsZVR5cGUgPSBcImludFwiO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHNpemUgPSA0O1xyXG4gICAgXHJcbiAgICBwcm90ZWN0ZWQgY3ZRdWFsaWZpZWRJbXBsKGlzQ29uc3Q6IGJvb2xlYW4sIGlzVm9sYXRpbGU6IGJvb2xlYW4pIHtcclxuICAgICAgICByZXR1cm4gbmV3IEludChpc0NvbnN0LCBpc1ZvbGF0aWxlKTtcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBTaXplX3QgZXh0ZW5kcyBJbnRlZ3JhbFR5cGUge1xyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IHNpbXBsZVR5cGUgPSBcInNpemVfdFwiO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHNpemUgPSA4O1xyXG4gICAgXHJcbiAgICBwcm90ZWN0ZWQgY3ZRdWFsaWZpZWRJbXBsKGlzQ29uc3Q6IGJvb2xlYW4sIGlzVm9sYXRpbGU6IGJvb2xlYW4pIHtcclxuICAgICAgICByZXR1cm4gbmV3IFNpemVfdChpc0NvbnN0LCBpc1ZvbGF0aWxlKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEJvb2wgZXh0ZW5kcyBJbnRlZ3JhbFR5cGUge1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBCT09MID0gbmV3IEJvb2woKTtcclxuXHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgc2ltcGxlVHlwZSA9IFwiYm9vbFwiO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHNpemUgPSAxO1xyXG4gICAgXHJcbiAgICBwcm90ZWN0ZWQgY3ZRdWFsaWZpZWRJbXBsKGlzQ29uc3Q6IGJvb2xlYW4sIGlzVm9sYXRpbGU6IGJvb2xlYW4pIHtcclxuICAgICAgICByZXR1cm4gbmV3IEJvb2woaXNDb25zdCwgaXNWb2xhdGlsZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIFRPRE86IGFkZCBzdXBwb3J0IGZvciBFbnVtc1xyXG5cclxuXHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRmxvYXRpbmdQb2ludFR5cGUgZXh0ZW5kcyBBcml0aG1ldGljVHlwZSB7XHJcblxyXG4gICAgcHVibGljIHZhbHVlVG9TdHJpbmcodmFsdWU6IFJhd1ZhbHVlVHlwZSkge1xyXG4gICAgICAgIC8vIHVzZSA8bnVtYmVyPiBhc3NlcnRpb24gYmFzZWQgb24gdGhlIGFzc3VtcHRpb24gdGhpcyB3aWxsIG9ubHkgYmUgdXNlZCB3aXRoIHByb3BlciByYXcgdmFsdWVzIHRoYXQgYXJlIG51bWJlcnNcclxuICAgICAgICB2YXIgc3RyID0gXCJcIis8bnVtYmVyPnZhbHVlO1xyXG4gICAgICAgIHJldHVybiBzdHIuaW5kZXhPZihcIi5cIikgIT0gLTEgPyBzdHIgOiBzdHIgKyBcIi5cIjtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEZsb2F0IGV4dGVuZHMgRmxvYXRpbmdQb2ludFR5cGUge1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRkxPQVQgPSBuZXcgRmxvYXQoKTtcclxuXHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgc2ltcGxlVHlwZSA9IFwiZmxvYXRcIjtcclxuICAgIHB1YmxpYyByZWFkb25seSBzaXplID0gNDtcclxuICAgIFxyXG4gICAgcHJvdGVjdGVkIGN2UXVhbGlmaWVkSW1wbChpc0NvbnN0OiBib29sZWFuLCBpc1ZvbGF0aWxlOiBib29sZWFuKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdChpc0NvbnN0LCBpc1ZvbGF0aWxlKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIERvdWJsZSBleHRlbmRzIEZsb2F0aW5nUG9pbnRUeXBlIHtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERPVUJMRSA9IG5ldyBEb3VibGUoKTtcclxuXHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgc2ltcGxlVHlwZSA9IFwiZG91YmxlXCI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2l6ZSA9IDg7XHJcbiAgICBcclxuICAgIHByb3RlY3RlZCBjdlF1YWxpZmllZEltcGwoaXNDb25zdDogYm9vbGVhbiwgaXNWb2xhdGlsZTogYm9vbGVhbikge1xyXG4gICAgICAgIHJldHVybiBuZXcgRG91YmxlKGlzQ29uc3QsIGlzVm9sYXRpbGUpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBUT0RPOiBPU3RyZWFtIHNob3VsZG4ndCBiZSBhIHByaW1pdGl2ZSB0eXBlLCBzaG91bGQgYmUgYW4gaW5zdHJpbnNpYyBjbGFzc1xyXG4vLyBleHBvcnQgY2xhc3MgT1N0cmVhbSBleHRlbmRzIFNpbXBsZVR5cGUge1xyXG4vLyAgICAgcHJvdGVjdGVkIHJlYWRvbmx5IHNpbXBsZVR5cGUgPSBcIm9zdHJlYW1cIjtcclxuLy8gICAgIHB1YmxpYyByZWFkb25seSBzaXplID0gNDtcclxuXHJcbi8vIH1cclxuXHJcbi8vIFRPRE86IGFkZCBzdXBwb3J0IGZvciBpc3RyZWFtXHJcbi8vIGV4cG9ydCBjbGFzcyBJU3RyZWFtID0gU2ltcGxlVHlwZS5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiSVN0cmVhbVwiLFxyXG4vLyAgICAgc2ltcGxlVHlwZTogXCJpc3RyZWFtXCIsXHJcbi8vICAgICBzaXplOiA0LFxyXG5cclxuLy8gICAgIHZhbHVlVG9TdHJpbmcgOiBmdW5jdGlvbih2YWx1ZSl7XHJcbi8vICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG5cclxuXHJcblxyXG4vL1RPRE86IGNyZWF0ZSBzZXBhcmF0ZSBmdW5jdGlvbiBwb2ludGVyIHR5cGU/Pz9cclxuXHJcbmV4cG9ydCBjbGFzcyBQb2ludGVyVHlwZTxQdHJUbyBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiBleHRlbmRzIEF0b21pY1R5cGUge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBzaXplID0gODtcclxuICAgIHB1YmxpYyByZWFkb25seSBwcmVjZWRlbmNlID0gMTtcclxuICAgIHB1YmxpYyByZWFkb25seSBpc0NvbXBsZXRlID0gdHJ1ZTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGlzTnVsbCh2YWx1ZTogUmF3VmFsdWVUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIDxudW1iZXI+dmFsdWUgPT09IDA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBpc05lZ2F0aXZlKHZhbHVlOiBSYXdWYWx1ZVR5cGUpIHtcclxuICAgICAgICByZXR1cm4gPG51bWJlcj52YWx1ZSA8IDA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHB0clRvOiBQdHJUbzsgLy8gVE9ETzogYWRkIHwgVm9pZFR5cGUgZm9yIHZvaWQgcG9pbnRlcnM/IG9yIGp1c3QgbWFrZSB0aGF0IGEgd2hvbGUgc2VwYXJhdGUgVm9pZFBvaW50ZXIgY2xhc3M/XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHB0clRvOiBQdHJUbywgaXNDb25zdD86IGJvb2xlYW4sIGlzVm9sYXRpbGU/OiBib29sZWFuKSB7XHJcbiAgICAgICAgc3VwZXIoaXNDb25zdCwgaXNWb2xhdGlsZSk7XHJcbiAgICAgICAgdGhpcy5wdHJUbyA9IHB0clRvO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDb21wb3VuZE5leHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHRyVG87XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNhbWVUeXBlKG90aGVyOiBUeXBlKSA6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIFBvaW50ZXJUeXBlXHJcbiAgICAgICAgICAgICYmIHRoaXMucHRyVG8uc2FtZVR5cGUob3RoZXIucHRyVG8pXHJcbiAgICAgICAgICAgICYmIG90aGVyLmlzQ29uc3QgPT09IHRoaXMuaXNDb25zdFxyXG4gICAgICAgICAgICAmJiBvdGhlci5pc1ZvbGF0aWxlID09PSB0aGlzLmlzVm9sYXRpbGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNpbWlsYXJUeXBlKG90aGVyOiBUeXBlKSA6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIFBvaW50ZXJUeXBlXHJcbiAgICAgICAgICAgICYmIHRoaXMucHRyVG8uc2ltaWxhclR5cGUob3RoZXIucHRyVG8pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0eXBlU3RyaW5nKGV4Y2x1ZGVCYXNlOiBib29sZWFuLCB2YXJuYW1lOiBzdHJpbmcsIGRlY29yYXRlZDogYm9vbGVhbikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnB0clRvLnR5cGVTdHJpbmcoZXhjbHVkZUJhc2UsIHRoaXMucGFyZW50aGVzaXplKHRoaXMucHRyVG8sIHRoaXMuZ2V0Q1ZTdHJpbmcoKSArIFwiKlwiICsgdmFybmFtZSksIGRlY29yYXRlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGVuZ2xpc2hTdHJpbmcocGx1cmFsOiBib29sZWFuKSB7XHJcbiAgICAgICAgcmV0dXJuIChwbHVyYWwgPyB0aGlzLmdldENWU3RyaW5nKCkrXCJwb2ludGVycyB0b1wiIDogXCJhIFwiICt0aGlzLmdldENWU3RyaW5nKCkrXCJwb2ludGVyIHRvXCIpICsgXCIgXCIgKyB0aGlzLnB0clRvLmVuZ2xpc2hTdHJpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB2YWx1ZVRvU3RyaW5nKHZhbHVlOiBSYXdWYWx1ZVR5cGUpIHtcclxuICAgICAgICAvLyBUT0RPOiBjbGVhbiB1cCB3aGVuIGZ1bmN0aW9uIHBvaW50ZXJzIGFyZSByZWltcGxlbWVudGVkXHJcbiAgICAgICAgLy8gaWYgKHRoaXMucHRyVG8gaW5zdGFuY2VvZiBGdW5jdGlvblR5cGUgJiYgdmFsdWUpIHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuIHZhbHVlLm5hbWU7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIjB4XCIgKyB2YWx1ZTtcclxuICAgICAgICAvLyB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzT2JqZWN0UG9pbnRlcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wdHJUby5pc09iamVjdFR5cGUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgd2hldGhlciBhIGdpdmVuIHJhdyB2YWx1ZSBmb3IgdGhpcyB0eXBlIGlzIGRlcmVmZXJlbmNlYWJsZS4gRm9yIHBvaW50ZXIgdHlwZXMsIHRoZSBnaXZlbiByYXcgdmFsdWUgaXMgZGVyZWZlcmVuY2VhYmxlXHJcbiAgICAgKiBpZiB0aGUgcmVzdWx0IG9mIHRoZSBkZXJlZmVyZW5jZSB3aWxsIGJlIGEgbGl2ZSBvYmplY3QuIEFuIGV4YW1wbGUgb2YgdGhlIGRpc3RpbmN0aW9uIGJldHdlZW4gdmFsaWRpdHkgYW5kXHJcbiAgICAgKiBkZXJlZmVyZW5jZWFiaWxpdHkgZm9yIHBvaW50ZXIgdHlwZXMgd291bGQgYmUgYW4gYXJyYXkgcG9pbnRlci4gVGhlIHBvaW50ZXIgdmFsdWUgKGFuIGFkZHJlc3MpIGlzIGRlcmVmZXJlbmNlYWJsZVxyXG4gICAgICogaWYgaXQgaXMgd2l0aGluIHRoZSBib3VuZHMgb2YgdGhlIGFycmF5LiBJdCBpcyB2YWxpZCBpbiB0aG9zZSBzYW1lIGxvY2F0aW9ucyBwbHVzIGFsc28gdGhlIGxvY2F0aW9uIG9uZSBzcGFjZVxyXG4gICAgICogcGFzdCB0aGUgZW5kIChidXQgbm90IGRlcmVmZXJlbmNlYWJsZSB0aGVyZSkuIEFsbCBvdGhlciBhZGRyZXNzIHZhbHVlcyBhcmUgaW52YWxpZC5cclxuICAgICAqIEBwYXJhbSB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaXNWYWx1ZURlcmVmZXJlbmNlYWJsZSh2YWx1ZTogUmF3VmFsdWVUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWx1ZVZhbGlkKHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNWYWx1ZVZhbGlkKHZhbHVlOiBSYXdWYWx1ZVR5cGUpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJvdGVjdGVkIGN2UXVhbGlmaWVkSW1wbChpc0NvbnN0OiBib29sZWFuLCBpc1ZvbGF0aWxlOiBib29sZWFuKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludGVyVHlwZSh0aGlzLnB0clRvLCBpc0NvbnN0LCBpc1ZvbGF0aWxlKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFycmF5UG9pbnRlciBleHRlbmRzIFBvaW50ZXJUeXBlIHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgYXJyYXlPYmplY3Q6IENQUE9iamVjdDxCb3VuZGVkQXJyYXlUeXBlPjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoYXJyYXlPYmplY3Q6IENQUE9iamVjdDxCb3VuZGVkQXJyYXlUeXBlPiwgaXNDb25zdD86IGJvb2xlYW4sIGlzVm9sYXRpbGU/OiBib29sZWFuKSB7XHJcbiAgICAgICAgc3VwZXIoYXJyYXlPYmplY3QudHlwZS5lbGVtVHlwZSwgaXNDb25zdCwgaXNWb2xhdGlsZSk7XHJcbiAgICAgICAgdGhpcy5hcnJheU9iamVjdCA9IGFycmF5T2JqZWN0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtaW4oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJyYXlPYmplY3QuYWRkcmVzcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25lUGFzdCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hcnJheU9iamVjdC5hZGRyZXNzICsgdGhpcy5hcnJheU9iamVjdC50eXBlLnNpemU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzVmFsdWVWYWxpZCh2YWx1ZTogUmF3VmFsdWVUeXBlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmFycmF5T2JqZWN0LmlzQWxpdmUpe1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBhcnJheU9iamVjdCA9IHRoaXMuYXJyYXlPYmplY3Q7XHJcbiAgICAgICAgcmV0dXJuIGFycmF5T2JqZWN0LmFkZHJlc3MgPD0gdmFsdWUgJiYgdmFsdWUgPD0gYXJyYXlPYmplY3QuYWRkcmVzcyArIGFycmF5T2JqZWN0LnR5cGUuc2l6ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNWYWx1ZURlcmVmZXJlbmNlYWJsZSh2YWx1ZTogUmF3VmFsdWVUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWx1ZVZhbGlkKHZhbHVlKSAmJiB2YWx1ZSAhPT0gdGhpcy5vbmVQYXN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRvSW5kZXgoYWRkcjogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgudHJ1bmMoKGFkZHIgLSB0aGlzLmFycmF5T2JqZWN0LmFkZHJlc3MpIC8gIHRoaXMuYXJyYXlPYmplY3QudHlwZS5lbGVtVHlwZS5zaXplKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgY3ZRdWFsaWZpZWRJbXBsKGlzQ29uc3Q6IGJvb2xlYW4sIGlzVm9sYXRpbGU6IGJvb2xlYW4pIHtcclxuICAgICAgICByZXR1cm4gbmV3IEFycmF5UG9pbnRlcih0aGlzLmFycmF5T2JqZWN0LCBpc0NvbnN0LCBpc1ZvbGF0aWxlKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE9iamVjdFBvaW50ZXIgZXh0ZW5kcyBQb2ludGVyVHlwZSB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHBvaW50ZWRPYmplY3Q6IENQUE9iamVjdDxPYmplY3RUeXBlPjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iob2JqOiBDUFBPYmplY3Q8T2JqZWN0VHlwZT4sIGlzQ29uc3Q/OiBib29sZWFuLCBpc1ZvbGF0aWxlPzogYm9vbGVhbikge1xyXG4gICAgICAgIHN1cGVyKG9iai50eXBlLCBpc0NvbnN0LCBpc1ZvbGF0aWxlKTtcclxuICAgICAgICB0aGlzLnBvaW50ZWRPYmplY3QgPSBvYmo7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFBvaW50ZWRPYmplY3QoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucG9pbnRlZE9iamVjdDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIGlzVmFsdWVWYWxpZCh2YWx1ZTogUmF3VmFsdWVUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucG9pbnRlZE9iamVjdC5pc0FsaXZlICYmIHRoaXMucG9pbnRlZE9iamVjdC5hZGRyZXNzID09PSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgY3ZRdWFsaWZpZWRJbXBsKGlzQ29uc3Q6IGJvb2xlYW4sIGlzVm9sYXRpbGU6IGJvb2xlYW4pIHtcclxuICAgICAgICByZXR1cm4gbmV3IE9iamVjdFBvaW50ZXIodGhpcy5wb2ludGVkT2JqZWN0LCBpc0NvbnN0LCBpc1ZvbGF0aWxlKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBSZWZlcmVuY2VUeXBlPFJlZlRvIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGU+IGV4dGVuZHMgVHlwZUJhc2Uge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBwcmVjZWRlbmNlID0gMTtcclxuICAgIHB1YmxpYyByZWFkb25seSBpc0NvbXBsZXRlID0gdHJ1ZTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVmVG86IFJlZlRvO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihyZWZUbzogUmVmVG8sIGlzQ29uc3Q/OiBib29sZWFuLCBpc1ZvbGF0aWxlPzogYm9vbGVhbikge1xyXG4gICAgICAgIC8vIFJlZmVyZW5jZXMgaGF2ZSBubyBub3Rpb24gb2YgY29uc3QgKHRoZXkgY2FuJ3QgYmUgcmUtYm91bmQgYW55d2F5KVxyXG4gICAgICAgIHN1cGVyKGZhbHNlLCBpc1ZvbGF0aWxlKTtcclxuICAgICAgICB0aGlzLnJlZlRvID0gcmVmVG87XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldENvbXBvdW5kTmV4dCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZWZUbztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2FtZVR5cGUob3RoZXI6IFR5cGUpIDogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgUmVmZXJlbmNlVHlwZSAmJiB0aGlzLnJlZlRvLnNhbWVUeXBlKG90aGVyLnJlZlRvKTtcclxuICAgIH1cclxuXHJcbiAgICAvL05vdGU6IEkgZG9uJ3QgdGhpbmsgc2ltaWxhciB0eXBlcyBldmVuIG1ha2Ugc2Vuc2Ugd2l0aCByZWZlcmVuY2VzLiBTZWUgc3RhbmRhcmQgNC40XHJcbiAgICBwdWJsaWMgc2ltaWxhclR5cGUob3RoZXI6IFR5cGUpIDogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgUmVmZXJlbmNlVHlwZSAmJiB0aGlzLnJlZlRvLnNpbWlsYXJUeXBlKG90aGVyLnJlZlRvKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdHlwZVN0cmluZyhleGNsdWRlQmFzZTogYm9vbGVhbiwgdmFybmFtZTogc3RyaW5nLCBkZWNvcmF0ZWQ6IGJvb2xlYW4pIHtcclxuXHRcdHJldHVybiB0aGlzLnJlZlRvLnR5cGVTdHJpbmcoZXhjbHVkZUJhc2UsIHRoaXMucGFyZW50aGVzaXplKHRoaXMucmVmVG8sIHRoaXMuZ2V0Q1ZTdHJpbmcoKSArIFwiJlwiICsgdmFybmFtZSksIGRlY29yYXRlZCk7XHJcbiAgICB9XHJcbiAgICBcclxuXHRwdWJsaWMgZW5nbGlzaFN0cmluZyhwbHVyYWw6IGJvb2xlYW4pIHtcclxuXHRcdHJldHVybiB0aGlzLmdldENWU3RyaW5nKCkgKyAocGx1cmFsID8gXCJyZWZlcmVuY2VzIHRvXCIgOiBcImEgcmVmZXJlbmNlIHRvXCIpICsgXCIgXCIgKyB0aGlzLnJlZlRvLmVuZ2xpc2hTdHJpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgXHJcblx0cHVibGljIHZhbHVlVG9TdHJpbmcodmFsdWU6IFJhd1ZhbHVlVHlwZSl7XHJcblx0XHRyZXR1cm4gXCJcIit2YWx1ZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJvdGVjdGVkIGN2UXVhbGlmaWVkSW1wbChpc0NvbnN0OiBib29sZWFuLCBpc1ZvbGF0aWxlOiBib29sZWFuKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSZWZlcmVuY2VUeXBlKHRoaXMucmVmVG8sIGlzQ29uc3QsIGlzVm9sYXRpbGUpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBOb1JlZlR5cGU8VCBleHRlbmRzIE9iamVjdFR5cGUgfCBSZWZlcmVuY2VUeXBlIHwgVm9pZFR5cGU+ID0gVCBleHRlbmRzIFJlZmVyZW5jZVR5cGU8aW5mZXIgUmVmVG8+ID8gUmVmVG8gOiBUO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG5vUmVmPFQgZXh0ZW5kcyBPYmplY3RUeXBlIHwgUmVmZXJlbmNlVHlwZSB8IFZvaWRUeXBlPih0eXBlIDogVCkgOiBOb1JlZlR5cGU8VD4ge1xyXG4gICAgaWYodHlwZSBpbnN0YW5jZW9mIFJlZmVyZW5jZVR5cGUpIHtcclxuICAgICAgICByZXR1cm4gdHlwZS5yZWZUbztcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgICAgcmV0dXJuIDxOb1JlZlR5cGU8VD4+dHlwZTsgLy8gd2lsbCBlaXRoZXIgYmUgYW4gb2JqZWN0IHR5cGUgb3Igdm9pZCB0eXBlXHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBBcnJheUVsZW1UeXBlID0gQXRvbWljVHlwZSB8IENsYXNzVHlwZTtcclxuXHJcbi8vIFJlcHJlc2VudHMgdGhlIHR5cGUgb2YgYW4gYXJyYXkuIFRoaXMgaXMgbm90IGFuIE9iamVjdFR5cGUgYmVjYXVzZSBhbiBhcnJheSBkb2VzXHJcbi8vIG5vdCBoYXZlIGEgdmFsdWUgdGhhdCBjYW4gYmUgcmVhZC93cml0dGVuLiBUaGUgRWxlbV90eXBlIHR5cGUgcGFyYW1ldGVyIG11c3QgYmVcclxuLy8gYW4gQXRvbWljVHlwZSBvciBDbGFzc1R5cGUuIChOb3RlIHRoYXQgdGhpcyBydWxlcyBvdXQgYXJyYXlzIG9mIGFycmF5cywgd2hpY2ggYXJlIGN1cnJlbnRseSBub3Qgc3VwcG9ydGVkLilcclxuZXhwb3J0IGNsYXNzIEJvdW5kZWRBcnJheVR5cGU8RWxlbV90eXBlIGV4dGVuZHMgQXJyYXlFbGVtVHlwZSA9IEFycmF5RWxlbVR5cGU+IGV4dGVuZHMgT2JqZWN0VHlwZSB7XHJcbiAgICBcclxuICAgIHB1YmxpYyByZWFkb25seSBzaXplOiBudW1iZXI7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHByZWNlZGVuY2UgPSAyO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBlbGVtVHlwZTogRWxlbV90eXBlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGxlbmd0aDogbnVtYmVyO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihlbGVtVHlwZTogRWxlbV90eXBlLCBsZW5ndGg6IG51bWJlcikge1xyXG5cclxuICAgICAgICAvLyBUT0RPOiBzYW5pdHkgY2hlY2sgdGhlIHNlbWFudGljcyBoZXJlLCBidXQgSSBkb24ndCB0aGluayBpdCBtYWtlcyBzZW5zZSBmb3IgYW4gYXJyYXkgaXRzZWxmIHRvIGJlIHZvbGF0aWxlXHJcbiAgICAgICAgc3VwZXIoZmFsc2UsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtVHlwZSA9IGVsZW1UeXBlO1xyXG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IGVsZW1UeXBlLnNpemUgKiBsZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBpc0NvbXBsZXRlKCkge1xyXG4gICAgICAgIC8vIE5vdGU6IHRoaXMgY2xhc3MgZG9lcyBub3QgY3VycmVudGx5IHJlcHJlc2VudCBcImFycmF5IG9mIHVua25vd24gYm91bmRcIiB0eXBlcy5cclxuICAgICAgICAvLyBTaG91bGQgdGhhdCBjaGFuZ2UsIGFkZGl0aW9uYWwgbG9naWMgd291bGQgYmUgbmVlZGVkIGhlcmUgc2luY2UgdGhvc2UgYXJlIGNvbnNpZGVyZWRcclxuICAgICAgICAvLyBpbmNvbXBsZXRlIHR5cGVzLlxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENvbXBsZXRlbmVzcyBtYXkgY2hhbmdlIGlmIGVsZW1UeXBlIGNvbXBsZXRlbmVzcyBjaGFuZ2VzXHJcbiAgICAgICAgLy8gKGUuZy4gYXJyYXkgb2YgcG90ZW50aWFsbHkgKGluKWNvbXBsZXRlIGNsYXNzIHR5cGUgb2JqZWN0cylcclxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtVHlwZS5pc0NvbXBsZXRlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDb21wb3VuZE5leHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbVR5cGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNhbWVUeXBlKG90aGVyOiBUeXBlKSA6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIEJvdW5kZWRBcnJheVR5cGUgJiYgdGhpcy5lbGVtVHlwZS5zYW1lVHlwZShvdGhlci5lbGVtVHlwZSkgJiYgdGhpcy5sZW5ndGggPT09IG90aGVyLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2ltaWxhclR5cGUob3RoZXI6IFR5cGUpIDogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgQm91bmRlZEFycmF5VHlwZSAmJiB0aGlzLmVsZW1UeXBlLnNpbWlsYXJUeXBlKG90aGVyLmVsZW1UeXBlKSAmJiB0aGlzLmxlbmd0aCA9PT0gb3RoZXIubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0eXBlU3RyaW5nKGV4Y2x1ZGVCYXNlOiBib29sZWFuLCB2YXJuYW1lOiBzdHJpbmcsIGRlY29yYXRlZDogYm9vbGVhbikge1xyXG5cdFx0cmV0dXJuIHRoaXMuZWxlbVR5cGUudHlwZVN0cmluZyhleGNsdWRlQmFzZSwgdmFybmFtZSArICBcIltcIit0aGlzLmxlbmd0aCtcIl1cIiwgZGVjb3JhdGVkKTtcclxuICAgIH1cclxuICAgIFxyXG5cdHB1YmxpYyBlbmdsaXNoU3RyaW5nKHBsdXJhbDogYm9vbGVhbikge1xyXG4gICAgICAgIHJldHVybiAocGx1cmFsID8gXCJhcnJheXMgb2YgXCIgOiBcImFuIGFycmF5IG9mIFwiKSArIHRoaXMubGVuZ3RoICsgXCIgXCIgKyB0aGlzLmVsZW1UeXBlLmVuZ2xpc2hTdHJpbmcodGhpcy5sZW5ndGggPiAxKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJvdGVjdGVkIGN2UXVhbGlmaWVkSW1wbChpc0NvbnN0OiBib29sZWFuLCBpc1ZvbGF0aWxlOiBib29sZWFuKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCb3VuZGVkQXJyYXlUeXBlKHRoaXMuZWxlbVR5cGUsIHRoaXMubGVuZ3RoKTsgLy8gTm90ZSBhcnJheXMgZG9uJ3QgaGF2ZSBjdiBxdWFsaWZpY2F0aW9ucyBzbyB0aGV5IGFyZSBpZ25vcmVkIGhlcmVcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIGFkanVzdFRvUG9pbnRlclR5cGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludGVyVHlwZSh0aGlzLmVsZW1UeXBlLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuXHQvLyBwdWJsaWMgdmFsdWVUb1N0cmluZyh2YWx1ZTogUmF3VmFsdWVUeXBlKSB7XHJcblx0Ly8gXHRyZXR1cm4gXCJcIit2YWx1ZTtcclxuICAgIC8vIH1cclxuICAgIFxyXG4gICAgLy8gcHVibGljIGJ5dGVzVG9WYWx1ZShieXRlczogYnl0ZVtdKSA6IG5ldmVyIHtcclxuICAgIC8vICAgICByZXR1cm4gVXRpbC5hc3NlcnRGYWxzZSgpOyAvLyBUT0RPOiBhY3R1YWxseSBjaGFuZ2UgdHlwZSBoaWVyYXJjaHkgc28gQXJyYXlUeXBlcyBkbyBub3Qgc3VwcG9ydCBhIG1lY2hhbmlzbSBmb3IgcmVhZGluZy93cml0aW5nIHRoZWlyIHZhbHVlXHJcbiAgICAvLyAgICAgLy8gdmFyIGFyciA9IFtdO1xyXG4gICAgLy8gICAgIC8vIHZhciBlbGVtU2l6ZSA9IHRoaXMuZWxlbVR5cGUuc2l6ZTtcclxuICAgIC8vICAgICAvLyBmb3IodmFyIGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpICs9IGVsZW1TaXplKXtcclxuICAgIC8vICAgICAvLyAgICAgYXJyLnB1c2godGhpcy5lbGVtVHlwZS5ieXRlc1RvVmFsdWUoYnl0ZXMuc2xpY2UoaSwgaSArIGVsZW1TaXplKSkpO1xyXG4gICAgLy8gICAgIC8vIH1cclxuICAgIC8vICAgICAvLyByZXR1cm4gYXJyO1xyXG4gICAgLy8gfVxyXG4gICAgLy8gcHVibGljIHZhbHVlVG9CeXRlcyh2YWx1ZTogUmF3VmFsdWVUeXBlKSA6IG5ldmVyIHtcclxuICAgIC8vICAgICByZXR1cm4gVXRpbC5hc3NlcnRGYWxzZSgpOyAvLyBUT0RPOiBhY3R1YWxseSBjaGFuZ2UgdHlwZSBoaWVyYXJjaHkgc28gQXJyYXlUeXBlcyBkbyBub3Qgc3VwcG9ydCBhIG1lY2hhbmlzbSBmb3IgcmVhZGluZy93cml0aW5nIHRoZWlyIHZhbHVlXHJcbiAgICAvLyAgICAgLy8gcmV0dXJuIGZsYXR0ZW4odmFsdWUubWFwKFxyXG4gICAgLy8gICAgIC8vICAgICAoZWxlbTogUmF3VmFsdWVUeXBlKSA9PiB7IHJldHVybiB0aGlzLmVsZW1UeXBlLnZhbHVlVG9CeXRlcyhlbGVtKTsgfVxyXG4gICAgLy8gICAgIC8vICkpO1xyXG4gICAgLy8gfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEFycmF5T2ZVbmtub3duQm91bmRUeXBlPEVsZW1fdHlwZSBleHRlbmRzIEFycmF5RWxlbVR5cGUgPSBBcnJheUVsZW1UeXBlPiBleHRlbmRzIFR5cGVCYXNlIHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJlY2VkZW5jZSA9IDI7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGVsZW1UeXBlOiBFbGVtX3R5cGU7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGlzQ29tcGxldGUgPSBmYWxzZTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2l6ZUV4cHJlc3Npb25BU1Q/OiBFeHByZXNzaW9uQVNUTm9kZTtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoZWxlbVR5cGU6IEVsZW1fdHlwZSwgc2l6ZUV4cHJlc3Npb25BU1Q/OiBFeHByZXNzaW9uQVNUTm9kZSkge1xyXG4gICAgICAgIHN1cGVyKGZhbHNlLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5lbGVtVHlwZSA9IGVsZW1UeXBlO1xyXG4gICAgICAgIHRoaXMuc2l6ZUV4cHJlc3Npb25BU1QgPSBzaXplRXhwcmVzc2lvbkFTVDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Q29tcG91bmROZXh0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1UeXBlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzYW1lVHlwZShvdGhlcjogVHlwZSkgOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBBcnJheU9mVW5rbm93bkJvdW5kVHlwZSAmJiB0aGlzLmVsZW1UeXBlLnNhbWVUeXBlKG90aGVyLmVsZW1UeXBlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2ltaWxhclR5cGUob3RoZXI6IFR5cGUpIDogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgQXJyYXlPZlVua25vd25Cb3VuZFR5cGUgJiYgdGhpcy5lbGVtVHlwZS5zaW1pbGFyVHlwZShvdGhlci5lbGVtVHlwZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHR5cGVTdHJpbmcoZXhjbHVkZUJhc2U6IGJvb2xlYW4sIHZhcm5hbWU6IHN0cmluZywgZGVjb3JhdGVkOiBib29sZWFuKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5lbGVtVHlwZS50eXBlU3RyaW5nKGV4Y2x1ZGVCYXNlLCB2YXJuYW1lICsgIFwiW11cIiwgZGVjb3JhdGVkKTtcclxuICAgIH1cclxuICAgIFxyXG5cdHB1YmxpYyBlbmdsaXNoU3RyaW5nKHBsdXJhbDogYm9vbGVhbikge1xyXG4gICAgICAgIHJldHVybiAocGx1cmFsID8gXCJhcnJheXMgb2YgdW5rbm93biBib3VuZCBvZiBcIiA6IFwiYW4gYXJyYXkgb2YgdW5rbm93biBib3VuZCBvZiBcIikgKyB0aGlzLmVsZW1UeXBlLmVuZ2xpc2hTdHJpbmcodHJ1ZSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByb3RlY3RlZCBjdlF1YWxpZmllZEltcGwoaXNDb25zdDogYm9vbGVhbiwgaXNWb2xhdGlsZTogYm9vbGVhbikge1xyXG4gICAgICAgIHJldHVybiBuZXcgQXJyYXlPZlVua25vd25Cb3VuZFR5cGUodGhpcy5lbGVtVHlwZSwgdGhpcy5zaXplRXhwcmVzc2lvbkFTVCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkanVzdFRvUG9pbnRlclR5cGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludGVyVHlwZSh0aGlzLmVsZW1UeXBlLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBUT0RPOiBBZGQgYSB0eXBlIGZvciBhbiBpbmNvbXBsZXRlIGNsYXNzXHJcblxyXG4vLyBUT0RPOiBnZXQgcmlkIG9mIG9yIG1vdmUgdGhpcyBjb21tZW50IHNvbWV3aGVyZSBhcHByb3ByaWF0ZVxyXG4vKipcclxuICogbWVtYmVyRW50aXRpZXMgLSBhbiBhcnJheSBvZiBhbGwgbWVtYmVyIGVudGl0aWVzLiBkb2VzIG5vdCBpbmxjdWRlIGNvbnN0cnVjdG9ycywgZGVzdHJ1Y3Rvciwgb3IgYmFzZSBjbGFzcyBzdWJvYmplY3QgZW50aXRpZXNcclxuICogc3Vib2JqZWN0RW50aXRpZXMgLSBhbiBhcnJheSBjb250YWluaW5nIGFsbCBzdWJvYmplY3QgZW50aXRpZXMsIGluY2x1ZGUgYmFzZSBjbGFzcyBzdWJvYmplY3RzIGFuZCBtZW1iZXIgc3Vib2JqZWN0c1xyXG4gKiBiYXNlQ2xhc3NFbnRpdGllcyAtIGFuIGFycmF5IGNvbnRhaW5pbmcgZW50aXRpZXMgZm9yIGFueSBiYXNlIGNsYXNzIHN1Ym9iamVjdHNcclxuICogbWVtYmVyU3Vib2JqZWN0RW50aXRpZXMgLSBhbiBhcnJheSBjb250YWluaW5nIGVudGl0aWVzIGZvciBtZW1iZXIgc3Vib2JqZWN0cyAoZG9lcyBub3QgY29udGFpbiBiYXNlIGNsYXNzIHN1Ym9iamVjdHMpXHJcbiAqIGNvbnN0cnVjdG9ycyAtIGFuIGFycmF5IG9mIHRoZSBjb25zdHJ1Y3RvciBlbnRpdGllcyBmb3IgdGhpcyBjbGFzcy4gbWF5IGJlIGVtcHR5IGlmIG5vIGNvbnN0cnVjdG9yc1xyXG4gKiBkZXN0cnVjdG9yIC0gdGhlIGRlc3RydWN0b3IgZW50aXR5IGZvciB0aGlzIGNsYXNzLiBtaWdodCBiZSBudWxsIGlmIGRvZXNuJ3QgaGF2ZSBhIGRlc3RydWN0b3JcclxuICovXHJcblxyXG5cclxuXHJcbiAgICAvLyBUT0RPOiBIQUNLIHRvIG1ha2UgQ2xhc3NUeXBlIGV4aXN0IGJ1dCBkbyBub3RoaW5nIGZvciBub3dcclxuZXhwb3J0IGNsYXNzIENsYXNzVHlwZSBleHRlbmRzIE9iamVjdFR5cGUge1xyXG4gICAgcHVibGljIHNpemU6IG51bWJlcj0gMDtcclxuICAgIHB1YmxpYyByZWFkb25seSBwcmVjZWRlbmNlOiBudW1iZXIgPSAwO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGlzQ29tcGxldGU6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBjbGFzc05hbWU6IHN0cmluZyA9IFwiXCI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nID0gXCJcIjtcclxuXHJcbiAgICBwdWJsaWMgc2FtZVR5cGUob3RoZXI6IFR5cGUpOiBib29sZWFuIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzaW1pbGFyVHlwZShvdGhlcjogVHlwZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0Rlcml2ZWRGcm9tKG90aGVyOiBUeXBlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHR5cGVTdHJpbmcoZXhjbHVkZUJhc2U6IGJvb2xlYW4sIHZhcm5hbWU6IHN0cmluZywgZGVjb3JhdGVkPzogYm9vbGVhbiB8IHVuZGVmaW5lZCk6IHN0cmluZyB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZW5nbGlzaFN0cmluZyhwbHVyYWw6IGJvb2xlYW4pOiBzdHJpbmcge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcm90ZWN0ZWQgY3ZRdWFsaWZpZWRJbXBsKGlzQ29uc3Q6IGJvb2xlYW4sIGlzVm9sYXRpbGU6IGJvb2xlYW4pIHtcclxuICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgcmV0dXJuIG5ldyBDbGFzc1R5cGUoaXNDb25zdCwgaXNWb2xhdGlsZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIGV4cG9ydCBjbGFzcyBDbGFzc1R5cGUgZXh0ZW5kcyBPYmplY3RUeXBlIHtcclxuLy8gICAgIHB1YmxpYyBpc1ZhbHVlVmFsaWQodmFsdWU6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4vLyAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4vLyAgICAgfVxyXG4vLyAgICAgcHVibGljIHZhbHVlVG9TdHJpbmcodmFsdWU6IG51bWJlcik6IHN0cmluZyB7XHJcbi8vICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIGVuZ2xpc2hTdHJpbmcocGx1cmFsOiBib29sZWFuKTogc3RyaW5nIHtcclxuLy8gICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuLy8gICAgIH1cclxuLy8gICAgIHB1YmxpYyByZWFkb25seSBwcmVjZWRlbmNlID0gMDtcclxuXHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgY3BwQ2xhc3M6IENQUENsYXNzO1xyXG5cclxuLy8gICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihjcHBDbGFzczogQ1BQQ2xhc3MsIGlzQ29uc3Q/OiBib29sZWFuLCBpc1ZvbGF0aWxlPzogYm9vbGVhbikge1xyXG4vLyAgICAgICAgIHN1cGVyKGlzQ29uc3QsIGlzVm9sYXRpbGUpO1xyXG5cclxuLy8gICAgICAgICB0aGlzLmNwcENsYXNzID0gY3BwQ2xhc3M7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIGdldCBpc0NvbXBsZXRlKCkge1xyXG4vLyAgICAgICAgIHJldHVybiB0aGlzLmNwcENsYXNzLmlzQ29tcGxldGU7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIGdldCBzaXplKCkge1xyXG4vLyAgICAgICAgIHJldHVybiB0aGlzLmNwcENsYXNzLnNpemU7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIHNhbWVUeXBlKG90aGVyOiBUeXBlKSB7XHJcbi8vICAgICAgICAgLy9hbGVydChvdGhlci5pc0EodGhpcy5fY2xhc3MpKTtcclxuLy8gICAgICAgICByZXR1cm4gdGhpcy5zaW1pbGFyVHlwZShvdGhlcilcclxuLy8gICAgICAgICAgICAgJiYgb3RoZXIuaXNDb25zdCA9PT0gdGhpcy5pc0NvbnN0XHJcbi8vICAgICAgICAgICAgICYmIG90aGVyLmlzVm9sYXRpbGUgPT09IHRoaXMuaXNWb2xhdGlsZTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgc2ltaWxhclR5cGUob3RoZXI6IFR5cGUpIHtcclxuLy8gICAgICAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBDbGFzc1R5cGUgJiYgb3RoZXIuY3BwQ2xhc3MuZnVsbHlRdWFsaWZpZWROYW1lID09PSB0aGlzLmNwcENsYXNzLmZ1bGx5UXVhbGlmaWVkTmFtZTtcclxuLy8gICAgIH1cclxuLy8gICAgIHR5cGVTdHJpbmcgOiBmdW5jdGlvbihleGNsdWRlQmFzZSwgdmFybmFtZSwgZGVjb3JhdGVkKXtcclxuLy8gICAgICAgICBpZiAoZXhjbHVkZUJhc2UpIHtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHZhcm5hbWUgPyB2YXJuYW1lIDogXCJcIjtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q1ZTdHJpbmcoKSArIChkZWNvcmF0ZWQgPyBVdGlsLmh0bWxEZWNvcmF0ZWRUeXBlKHRoaXMuY2xhc3NOYW1lKSA6IHRoaXMuY2xhc3NOYW1lKSArICh2YXJuYW1lID8gXCIgXCIgKyB2YXJuYW1lIDogXCJcIik7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuLy8gICAgIGVuZ2xpc2hTdHJpbmcgOiBmdW5jdGlvbihwbHVyYWwpe1xyXG4vLyAgICAgICAgIC8vIG5vIHJlY3Vyc2l2ZSBjYWxscyB0byB0aGlzLnR5cGUuZW5nbGlzaFN0cmluZygpIGhlcmVcclxuLy8gICAgICAgICAvLyBiZWNhdXNlIHRoaXMudHlwZSBpcyBqdXN0IGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdHlwZVxyXG4vLyAgICAgICAgIHJldHVybiB0aGlzLmdldENWU3RyaW5nKCkgKyAocGx1cmFsID8gdGhpcy5jbGFzc05hbWUrXCJzXCIgOiAoaXNWb3dlbCh0aGlzLmNsYXNzTmFtZS5jaGFyQXQoMCkpID8gXCJhbiBcIiA6IFwiYSBcIikgKyB0aGlzLmNsYXNzTmFtZSk7XHJcbi8vICAgICB9LFxyXG4vLyAgICAgdmFsdWVUb1N0cmluZyA6IGZ1bmN0aW9uKHZhbHVlKXtcclxuLy8gICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUsIG51bGwsIDIpO1xyXG4vLyAgICAgfSxcclxuLy8gICAgIGJ5dGVzVG9WYWx1ZSA6IGZ1bmN0aW9uKGJ5dGVzKXtcclxuLy8gICAgICAgICB2YXIgdmFsID0ge307XHJcbi8vICAgICAgICAgdmFyIGIgPSAwO1xyXG4vLyAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLm1lbWJlclN1Ym9iamVjdEVudGl0aWVzLmxlbmd0aDsgKytpKSB7XHJcbi8vICAgICAgICAgICAgIHZhciBtZW0gPSB0aGlzLm1lbWJlclN1Ym9iamVjdEVudGl0aWVzW2ldO1xyXG4vLyAgICAgICAgICAgICB2YWxbbWVtLm5hbWVdID0gbWVtLnR5cGUuYnl0ZXNUb1ZhbHVlKGJ5dGVzLnNsaWNlKGIsIGIgKyBtZW0udHlwZS5zaXplKSk7XHJcbi8vICAgICAgICAgICAgIGIgKz0gbWVtLnR5cGUuc2l6ZTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgcmV0dXJuIHZhbDtcclxuLy8gICAgIH0sXHJcbi8vICAgICB2YWx1ZVRvQnl0ZXMgOiBmdW5jdGlvbih2YWx1ZSl7XHJcbi8vICAgICAgICAgdmFyIGJ5dGVzID0gW107XHJcbi8vICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMubWVtYmVyU3Vib2JqZWN0RW50aXRpZXMubGVuZ3RoOyArK2kpIHtcclxuLy8gICAgICAgICAgICAgdmFyIG1lbSA9IHRoaXMubWVtYmVyU3Vib2JqZWN0RW50aXRpZXNbaV07XHJcbi8vICAgICAgICAgICAgIGJ5dGVzLnB1c2hBbGwobWVtLnR5cGUudmFsdWVUb0J5dGVzKHZhbHVlW21lbS5uYW1lXSkpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICByZXR1cm4gYnl0ZXM7XHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcbi8vIGV4cG9ydCBjbGFzcyBDUFBDbGFzcyB7XHJcblxyXG4vLyAgICAgcHJpdmF0ZSBzdGF0aWMgbmV4dENsYXNzSWQgPSAwO1xyXG5cclxuLy8gICAgIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmc7XHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgZnVsbHlRdWFsaWZpZWROYW1lOiBzdHJpbmc7XHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgc2l6ZTogbnVtYmVyID0gMTtcclxuLy8gICAgIHByaXZhdGUgYWN0dWFsbHlaZXJvU2l6ZSA9IHRydWU7XHJcblxyXG4vLyAgICAgLy8gVE9ETzogdGhlcmUgaXNuJ3QgcmVhbGx5IGEgbmVlZCB0byBzdG9yZSBlbnRpdGllcyBpbiBoZXJlLiBqdXN0IHRoZSB0eXBlcyB3b3VsZCBiZSBmaW5lIGFuZCBlbnRpdGllcyBmb3IgdGhlIG5hbWVkXHJcbi8vICAgICAvLyBtZW1iZXJzIHdvdWxkIHN0aWxsIGdvIGluIHRoZSBjbGFzcyBzY29wZS4gQmFzZSBjbGFzcyBlbnRpdGllcyBhcmVuJ3QgcmVhbGx5IG5lZWRlZCBhdCBhbGwuXHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgc2NvcGU6IENsYXNzU2NvcGU7XHJcbi8vICAgICBwcml2YXRlIG1lbWJlckVudGl0aWVzIDogTWVtYmVyVmFyaWFibGVFbnRpdHlbXSA9IFtdO1xyXG4vLyAgICAgcHJpdmF0ZSBzdWJvYmplY3RFbnRpdGllczogKE1lbWJlclZhcmlhYmxlRW50aXR5IHwgQmFzZUNsYXNzRW50aXR5KVtdID0gW107XHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgYmFzZUNsYXNzRW50aXRpZXM6IEJhc2VDbGFzc0VudGl0eVtdID0gW107XHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgbWVtYmVyU3Vib2JqZWN0RW50aXRpZXM6IE1lbWJlclZhcmlhYmxlRW50aXR5W10gPSBbXTtcclxuLy8gICAgIHB1YmxpYyBjdG9yczogQ29uc3RydWN0b3JFbnRpdHlbXSA9IFtdO1xyXG4vLyAgICAgcHVibGljIGRlc3RydWN0b3I/OiBEZXN0cnVjdG9yRW50aXR5O1xyXG5cclxuLy8gICAgIHB1YmxpYyByZWFkb25seSBpc0NvbXBsZXRlOiBib29sZWFuO1xyXG4gICAgXHJcbi8vICAgICBwdWJsaWMgY29uc3RydWN0b3IoZnVsbHlRdWFsaWZpZWROYW1lOiBzdHJpbmcsIHBhcmVudFNjb3BlOiBTY29wZSwgYmFzZUNsYXNzOiBDbGFzc0VudGl0eSkge1xyXG4vLyAgICAgICAgIHRoaXMuZnVsbHlRdWFsaWZpZWROYW1lID0gZnVsbHlRdWFsaWZpZWROYW1lO1xyXG4vLyAgICAgICAgIHRoaXMubmFtZSA9IGZ1bGx5UXVhbGlmaWVkTmFtZVRvVW5xdWFsaWZpZWQoZnVsbHlRdWFsaWZpZWROYW1lKTtcclxuLy8gICAgICAgICB0aGlzLnNjb3BlID0gQ2xhc3NTY29wZS5pbnN0YW5jZShuYW1lLCBwYXJlbnRTY29wZSwgYmFzZUNsYXNzKTtcclxuXHJcbi8vICAgICAgICAgaWYgKGJhc2VDbGFzcykge1xyXG4vLyAgICAgICAgICAgICBsZXQgYmFzZUVudGl0eSA9IG5ldyBCYXNlQ2xhc3NFbnRpdHkoYmFzZUNsYXNzLCB0aGlzLCBcInB1YmxpY1wiKTtcclxuLy8gICAgICAgICAgICAgdGhpcy5iYXNlQ2xhc3NFbnRpdGllcy5wdXNoKGJhc2VFbnRpdHkpO1xyXG4vLyAgICAgICAgICAgICB0aGlzLnN1Ym9iamVjdEVudGl0aWVzLnB1c2goYmFzZUVudGl0eSk7XHJcbi8vICAgICAgICAgICAgIHRoaXMuc2l6ZSArPSBiYXNlLnR5cGUuc2l6ZTtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIHRoaXMuaXNDb21wbGV0ZSA9IGZhbHNlO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBnZXRCYXNlQ2xhc3MoKSB7XHJcbi8vICAgICAgICAgaWYgKHRoaXMuYmFzZUNsYXNzRW50aXRpZXMubGVuZ3RoID4gMCkge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gdGhpcy5iYXNlQ2xhc3NFbnRpdGllc1swXTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZSB7XHJcbi8vICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgbWVtYmVyTG9va3VwKG1lbWJlck5hbWU6IHN0cmluZywgb3B0aW9uczogTmFtZUxvb2t1cE9wdGlvbnMpIHtcclxuLy8gICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5tZW1iZXJMb29rdXAobWVtYmVyTmFtZSwgb3B0aW9ucyk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIHJlcXVpcmVkTWVtYmVyTG9va3VwKG1lbWJlck5hbWU6IHN0cmluZywgb3B0aW9uczogTmFtZUxvb2t1cE9wdGlvbnMpIHtcclxuLy8gICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5yZXF1aXJlZE1lbWJlckxvb2t1cChtZW1iZXJOYW1lLCBvcHRpb25zKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgaGFzTWVtYmVyKG1lbWJlck5hbWU6IHN0cmluZywgb3B0aW9uczogTmFtZUxvb2t1cE9wdGlvbnMpIHtcclxuLy8gICAgICAgICByZXR1cm4gISF0aGlzLm1lbWJlckxvb2t1cChtZW1iZXJOYW1lLCBvcHRpb25zKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgYWRkTWVtYmVyKG1lbTogQ1BQRW50aXR5KSB7XHJcbi8vICAgICAgICAgVXRpbC5hc3NlcnQoIXRoaXMuaXNDb21wbGV0ZSwgXCJNYXkgbm90IG1vZGlmeSBhIGNsYXNzIGRlZmluaXRpb24gb25jZSBpdCBoYXMgYmVlbiBjb21wbGV0ZWQuXCIpO1xyXG4vLyAgICAgICAgIHRoaXMuc2NvcGUuYWRkRGVjbGFyZWRFbnRpdHkobWVtKTtcclxuLy8gICAgICAgICB0aGlzLm1lbWJlckVudGl0aWVzLnB1c2gobWVtKTtcclxuLy8gICAgICAgICBpZihtZW0udHlwZS5pc09iamVjdFR5cGUoKSl7XHJcbi8vICAgICAgICAgICAgIGlmICh0aGlzLmFjdHVhbGx5WmVyb1NpemUpe1xyXG4vLyAgICAgICAgICAgICAgICAgKDxudW1iZXI+dGhpcy5zaXplKSA9IDA7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmFjdHVhbGx5WmVyb1NpemUgPSBmYWxzZTtcclxuLy8gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgdGhpcy5tZW1iZXJTdWJvYmplY3RFbnRpdGllcy5wdXNoKG1lbSk7XHJcbi8vICAgICAgICAgICAgIHRoaXMuc3Vib2JqZWN0RW50aXRpZXMucHVzaChtZW0pO1xyXG4vLyAgICAgICAgICAgICAoPG51bWJlcj50aGlzLnNpemUpICs9IG1lbS50eXBlLnNpemU7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBhZGRDb25zdHJ1Y3Rvcihjb25zdHJ1Y3RvcjogQ29uc3RydWN0b3JFbnRpdHkpIHtcclxuLy8gICAgICAgICBVdGlsLmFzc2VydCghdGhpcy5pc0NvbXBsZXRlLCBcIk1heSBub3QgbW9kaWZ5IGEgY2xhc3MgZGVmaW5pdGlvbiBvbmNlIGl0IGhhcyBiZWVuIGNvbXBsZXRlZC5cIik7XHJcbi8vICAgICAgICAgdGhpcy5jdG9ycy5wdXNoKGNvbnN0cnVjdG9yKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgYWRkRGVzdHJ1Y3RvcihkZXN0cnVjdG9yOiBEZXN0cnVjdG9yRW50aXR5KSB7XHJcbi8vICAgICAgICAgVXRpbC5hc3NlcnQoIXRoaXMuaXNDb21wbGV0ZSwgXCJNYXkgbm90IG1vZGlmeSBhIGNsYXNzIGRlZmluaXRpb24gb25jZSBpdCBoYXMgYmVlbiBjb21wbGV0ZWQuXCIpO1xyXG4vLyAgICAgICAgIHRoaXMuZGVzdHJ1Y3RvciA9IGRlc3RydWN0b3I7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIGdldERlZmF1bHRDb25zdHJ1Y3RvcigpIHtcclxuLy8gICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5zaW5nbGVMb29rdXAodGhpcy5uYW1lK1wiXFwwXCIsIHtcclxuLy8gICAgICAgICAgICAgb3duOnRydWUsIG5vQmFzZTp0cnVlLCBleGFjdE1hdGNoOnRydWUsXHJcbi8vICAgICAgICAgICAgIHBhcmFtVHlwZXM6W119KTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgZ2V0Q29weUNvbnN0cnVjdG9yKHJlcXVpcmVDb25zdDogYm9vbGVhbil7XHJcbi8vICAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuc2luZ2xlTG9va3VwKHRoaXMubmFtZStcIlxcMFwiLCB7XHJcbi8vICAgICAgICAgICAgICAgICBvd246dHJ1ZSwgbm9CYXNlOnRydWUsIGV4YWN0TWF0Y2g6dHJ1ZSxcclxuLy8gICAgICAgICAgICAgICAgIHBhcmFtVHlwZXM6W25ldyBSZWZlcmVuY2UobmV3IENsYXNzVHlwZSh0aGlzLCB0cnVlKSldfSkgfHxcclxuLy8gICAgICAgICAgICAgIXJlcXVpcmVDb25zdCAmJlxyXG4vLyAgICAgICAgICAgICB0aGlzLnNjb3BlLnNpbmdsZUxvb2t1cCh0aGlzLm5hbWUrXCJcXDBcIiwge1xyXG4vLyAgICAgICAgICAgICAgICAgb3duOnRydWUsIG5vQmFzZTp0cnVlLCBleGFjdE1hdGNoOnRydWUsXHJcbi8vICAgICAgICAgICAgICAgICBwYXJhbVR5cGVzOltuZXcgUmVmZXJlbmNlKG5ldyBDbGFzc1R5cGUodGhpcykpXX0pO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBnZXRBc3NpZ25tZW50T3BlcmF0b3IocmVxdWlyZUNvbnN0OiBib29sZWFuLCBpc1RoaXNDb25zdDogYm9vbGVhbikge1xyXG4vLyAgICAgICAgIHJldHVybiB0aGlzLnNjb3BlLnNpbmdsZUxvb2t1cChcIm9wZXJhdG9yPVwiLCB7XHJcbi8vICAgICAgICAgICAgICAgICBvd246dHJ1ZSwgbm9CYXNlOnRydWUsIGV4YWN0TWF0Y2g6dHJ1ZSxcclxuLy8gICAgICAgICAgICAgICAgIHBhcmFtVHlwZXM6W25ldyBDbGFzc1R5cGUodGhpcyldfSkgfHxcclxuLy8gICAgICAgICAgICAgdGhpcy5zY29wZS5zaW5nbGVMb29rdXAoXCJvcGVyYXRvcj1cIiwge1xyXG4vLyAgICAgICAgICAgICAgICAgb3duOnRydWUsIG5vQmFzZTp0cnVlLCBleGFjdE1hdGNoOnRydWUsXHJcbi8vICAgICAgICAgICAgICAgICBwYXJhbVR5cGVzOltuZXcgUmVmZXJlbmNlKG5ldyBDbGFzc1R5cGUodGhpcywgdHJ1ZSkpXX0pIHx8XHJcbi8vICAgICAgICAgICAgICFyZXF1aXJlQ29uc3QgJiZcclxuLy8gICAgICAgICAgICAgdGhpcy5zY29wZS5zaW5nbGVMb29rdXAoXCJvcGVyYXRvcj1cIiwge1xyXG4vLyAgICAgICAgICAgICAgICAgb3duOnRydWUsIG5vQmFzZTp0cnVlLCBleGFjdE1hdGNoOnRydWUsXHJcbi8vICAgICAgICAgICAgICAgICBwYXJhbVR5cGVzOltuZXcgUmVmZXJlbmNlKG5ldyBDbGFzc1R5cGUodGhpcykpXX0pXHJcblxyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBtYWtlQ29tcGxldGUoKSB7XHJcbi8vICAgICAgICAgKDxib29sZWFuPnRoaXMuaXNDb21wbGV0ZSkgPSB0cnVlO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIC8vIFRPRE86IHRoaW5rIGFib3V0IHdoZXRoZXIgdGhpcyBpcyBuZWNlc3NhcnkgKGl0IHByb2JhYmx5IGlzLCBvciBtYXliZSBqdXN0IHRoZSBjbGFzcyBzY29wZXMgd291bGQgbmVlZCB0byBiZSBtZXJnZWQ/KVxyXG4vLyAgICAgLy8gbWVyZ2UgOiBmdW5jdGlvbihjbGFzczEsIGNsYXNzMikge1xyXG4vLyAgICAgLy8gICAgIGNsYXNzMS5pX2NsYXNzSWQgPSBjbGFzczIuaV9jbGFzc0lkID0gTWF0aC5taW4oY2xhc3MxLmlfY2xhc3NJZCwgY2xhc3MyLmlfY2xhc3NJZCk7XHJcbi8vICAgICAvLyB9LFxyXG5cclxuLy8gICAgIHB1YmxpYyBpc0Rlcml2ZWRGcm9tKHBvdGVudGlhbEJhc2U6IENsYXNzRW50aXR5KSB7XHJcbi8vICAgICAgICAgdmFyIGIgPSB0aGlzLmdldEJhc2VDbGFzcygpO1xyXG4vLyAgICAgICAgIHdoaWxlKGIpIHtcclxuLy8gICAgICAgICAgICAgaWYgKHNpbWlsYXJUeXBlKHBvdGVudGlhbEJhc2UudHlwZSwgYi50eXBlKSkge1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgYiA9IGIuYmFzZTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4vLyAgICAgfVxyXG5cclxuXHJcblxyXG4vLyB9XHJcbi8vIGV4cG9ydCB7Q2xhc3NUeXBlIGFzIENsYXNzfTtcclxuXHJcblxyXG5cclxuLy8gUkVRVUlSRVM6IHJldHVyblR5cGUgbXVzdCBiZSBhIHR5cGVcclxuLy8gICAgICAgICAgIGFyZ1R5cGVzIG11c3QgYmUgYW4gYXJyYXkgb2YgdHlwZXNcclxuZXhwb3J0IGNsYXNzIEZ1bmN0aW9uVHlwZSBleHRlbmRzIFR5cGVCYXNlIHtcclxuICAgIHB1YmxpYyBpc0NvbXBsZXRlID0gdHJ1ZTtcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IHByZWNlZGVuY2UgPSAyO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSByZXR1cm5UeXBlOiBQb3RlbnRpYWxSZXR1cm5UeXBlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHBhcmFtVHlwZXM6IHJlYWRvbmx5IFBvdGVudGlhbFBhcmFtZXRlclR5cGVbXTtcclxuICAgIHB1YmxpYyByZWFkb25seSByZWNlaXZlclR5cGU/OiBDbGFzc1R5cGU7XHJcblxyXG4gICAgcHJpdmF0ZSBwYXJhbVN0clR5cGU6IHN0cmluZztcclxuICAgIHByaXZhdGUgcGFyYW1TdHJFbmdsaXNoOiBzdHJpbmc7XHJcbiAgICBcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihyZXR1cm5UeXBlOiBQb3RlbnRpYWxSZXR1cm5UeXBlLCBwYXJhbVR5cGVzOiByZWFkb25seSBQb3RlbnRpYWxQYXJhbWV0ZXJUeXBlW10sIGlzQ29uc3Q/OiBib29sZWFuLCBpc1ZvbGF0aWxlPzogYm9vbGVhbiwgcmVjZWl2ZXJUeXBlPzogQ2xhc3NUeXBlKSB7XHJcbiAgICAgICAgc3VwZXIoaXNDb25zdCwgaXNWb2xhdGlsZSk7XHJcblxyXG4gICAgICAgIHRoaXMucmVjZWl2ZXJUeXBlID0gcmVjZWl2ZXJUeXBlO1xyXG5cclxuICAgICAgICAvLyBUb3AtbGV2ZWwgY29uc3Qgb24gcmV0dXJuIHR5cGUgaXMgaWdub3JlZCBmb3Igbm9uLWNsYXNzIHR5cGVzXHJcbiAgICAgICAgLy8gKEl0J3MgYSB2YWx1ZSBzZW1hbnRpY3MgdGhpbmcuKVxyXG4gICAgICAgIGlmKCEocmV0dXJuVHlwZSBpbnN0YW5jZW9mIENsYXNzVHlwZSB8fCByZXR1cm5UeXBlIGluc3RhbmNlb2YgUG9pbnRlclR5cGUgfHwgcmV0dXJuVHlwZSBpbnN0YW5jZW9mIFJlZmVyZW5jZVR5cGUpKXtcclxuICAgICAgICAgICAgdGhpcy5yZXR1cm5UeXBlID0gcmV0dXJuVHlwZS5jdlVucXVhbGlmaWVkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMucmV0dXJuVHlwZSA9IHJldHVyblR5cGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBUb3AtbGV2ZWwgY29uc3Qgb24gcGFyYW1ldGVyIHR5cGVzIGlzIGlnbm9yZWQgZm9yIG5vbi1jbGFzcyB0eXBlc1xyXG4gICAgICAgIHRoaXMucGFyYW1UeXBlcyA9IHBhcmFtVHlwZXMubWFwKChwdHlwZSkgPT4gcHR5cGUgaW5zdGFuY2VvZiBDbGFzc1R5cGUgPyBwdHlwZSA6IHB0eXBlLmN2VW5xdWFsaWZpZWQoKSk7XHJcblxyXG4gICAgICAgIHRoaXMucGFyYW1TdHJUeXBlID0gXCIoXCI7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbVR5cGVzLmxlbmd0aDsgKytpKXtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbVN0clR5cGUgKz0gKGkgPT0gMCA/IFwiXCIgOiBcIixcIikgKyBwYXJhbVR5cGVzW2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBhcmFtU3RyVHlwZSArPSBcIilcIjtcclxuXHJcbiAgICAgICAgdGhpcy5wYXJhbVN0ckVuZ2xpc2ggPSBcIihcIjtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcmFtVHlwZXMubGVuZ3RoOyArK2kpe1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtU3RyRW5nbGlzaCArPSAoaSA9PSAwID8gXCJcIiA6IFwiLCBcIikgKyBwYXJhbVR5cGVzW2ldLmVuZ2xpc2hTdHJpbmcoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBhcmFtU3RyRW5nbGlzaCArPSBcIilcIjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJvdGVjdGVkIGN2UXVhbGlmaWVkSW1wbChpc0NvbnN0OiBib29sZWFuLCBpc1ZvbGF0aWxlOiBib29sZWFuKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvblR5cGUodGhpcy5yZXR1cm5UeXBlLCB0aGlzLnBhcmFtVHlwZXMsIGlzQ29uc3QsIGlzVm9sYXRpbGUsIHRoaXMucmVjZWl2ZXJUeXBlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2FtZVR5cGUob3RoZXI6IFR5cGUpIHtcclxuICAgICAgICBpZiAoIW90aGVyKXtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIShvdGhlciBpbnN0YW5jZW9mIEZ1bmN0aW9uVHlwZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuc2FtZVJldHVyblR5cGUob3RoZXIpKXtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuc2FtZVBhcmFtVHlwZXMob3RoZXIpKXtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUT0RPOiBzaG91bGQgdGhpcyBiZSBoZXJlP1xyXG4gICAgICAgIC8vIGlmICghdGhpcy5zYW1lUmVjZWl2ZXJUeXBlKG90aGVyKSkge1xyXG4gICAgICAgIC8vICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRPRE86IENoZWNrIGRlZmluaXRpb24gb2Ygc2ltaWxhciB0eXBlcyBmb3IgZnVuY3Rpb25zXHJcbiAgICBwdWJsaWMgc2ltaWxhclR5cGUob3RoZXI6IFR5cGUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zYW1lVHlwZShvdGhlcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNhbWVQYXJhbVR5cGVzKG90aGVyOiBGdW5jdGlvblR5cGUgfCByZWFkb25seSBUeXBlW10pIHtcclxuICAgICAgICBsZXQgb3RoZXJQYXJhbVR5cGVzID0gb3RoZXIgaW5zdGFuY2VvZiBGdW5jdGlvblR5cGUgPyBvdGhlci5wYXJhbVR5cGVzIDogb3RoZXI7XHJcbiAgICAgICAgaWYgKHRoaXMucGFyYW1UeXBlcy5sZW5ndGggIT09IG90aGVyUGFyYW1UeXBlcy5sZW5ndGgpe1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnBhcmFtVHlwZXMubGVuZ3RoOyArK2kpe1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyYW1UeXBlc1tpXS5zYW1lVHlwZShvdGhlclBhcmFtVHlwZXNbaV0pKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2FtZVJldHVyblR5cGUob3RoZXI6IEZ1bmN0aW9uVHlwZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJldHVyblR5cGUuc2FtZVR5cGUob3RoZXIucmV0dXJuVHlwZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNhbWVSZWNlaXZlclR5cGUob3RoZXI6IEZ1bmN0aW9uVHlwZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5yZWNlaXZlclR5cGUgfHwgIW90aGVyLnJlY2VpdmVyVHlwZSkge1xyXG4gICAgICAgICAgICAvLyBJZiBlaXRoZXIgZG9lcyBub3QgaGF2ZSBhIHJlY2VpdmVyLCByZXR1cm4gdHJ1ZSBvbmx5IGlmIG5laXRoZXIgaGFzIGEgcmVjZWl2ZXJcclxuICAgICAgICAgICAgcmV0dXJuICF0aGlzLnJlY2VpdmVyVHlwZSAmJiAhb3RoZXIucmVjZWl2ZXJUeXBlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVjZWl2ZXJUeXBlLnNhbWVUeXBlKG90aGVyLnJlY2VpdmVyVHlwZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNhbWVTaWduYXR1cmUob3RoZXI6IEZ1bmN0aW9uVHlwZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNhbWVSZWNlaXZlclR5cGUob3RoZXIpICYmIHRoaXMuc2FtZVBhcmFtVHlwZXMob3RoZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc1BvdGVudGlhbE92ZXJyaWRlck9mKG90aGVyOiBGdW5jdGlvblR5cGUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zYW1lUGFyYW1UeXBlcyhvdGhlcikgJiYgdGhpcy5pc0NvbnN0ID09PSBvdGhlci5pc0NvbnN0ICYmIHRoaXMuaXNWb2xhdGlsZSA9PSBvdGhlci5pc1ZvbGF0aWxlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0eXBlU3RyaW5nKGV4Y2x1ZGVCYXNlOiBib29sZWFuLCB2YXJuYW1lOiBzdHJpbmcsIGRlY29yYXRlZDogYm9vbGVhbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmV0dXJuVHlwZS50eXBlU3RyaW5nKGV4Y2x1ZGVCYXNlLCB2YXJuYW1lICsgdGhpcy5wYXJhbVN0clR5cGUsIGRlY29yYXRlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGVuZ2xpc2hTdHJpbmcocGx1cmFsOiBib29sZWFuKSB7XHJcbiAgICAgICAgcmV0dXJuIChwbHVyYWwgPyBcImZ1bmN0aW9ucyB0aGF0IHRha2UgXCIgOiBcImEgZnVuY3Rpb24gdGhhdCB0YWtlcyBcIikgKyB0aGlzLnBhcmFtU3RyRW5nbGlzaCArIFwiIFwiICtcclxuICAgICAgICAgICAgICAgKHBsdXJhbCA/IFwiYW5kIHJldHVybiBcIiA6IFwiYW5kIHJldHVybnMgXCIpICsgdGhpcy5yZXR1cm5UeXBlLmVuZ2xpc2hTdHJpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBidWlsdEluVHlwZU5hbWVzID0gbmV3IFNldChbXCJjaGFyXCIsIFwiaW50XCIsIFwiYm9vbFwiLCBcImZsb2F0XCIsIFwiZG91YmxlXCIsIFwidm9pZFwiXSk7XHJcbmV4cG9ydCBmdW5jdGlvbiBpc0J1aWx0SW5UeXBlTmFtZShuYW1lOiBzdHJpbmcpIDogbmFtZSBpcyBcImNoYXJcIiB8IFwiaW50XCIgfCBcImJvb2xcIiB8IFwiZmxvYXRcIiB8IFwiZG91YmxlXCIgfCBcInZvaWRcIiB7XHJcbiAgICByZXR1cm4gYnVpbHRJblR5cGVOYW1lcy5oYXMobmFtZSk7XHJcbn1cclxuZXhwb3J0IGNvbnN0IGJ1aWx0SW5UeXBlcyA9IHtcclxuICAgIFwiY2hhclwiOiBDaGFyLFxyXG4gICAgXCJpbnRcIjogSW50LFxyXG4gICAgXCJib29sXCI6IEJvb2wsXHJcbiAgICBcImZsb2F0XCI6IEZsb2F0LFxyXG4gICAgXCJkb3VibGVcIjogRG91YmxlLFxyXG4gICAgXCJ2b2lkXCI6IFZvaWRUeXBlXHJcbn07IiwiaW1wb3J0IHsgUHJvZ3JhbSwgVHJhbnNsYXRpb25Vbml0LCBTb3VyY2VSZWZlcmVuY2UgfSBmcm9tIFwiLi9Qcm9ncmFtXCI7XHJcbmltcG9ydCB7IFNjb3BlLCBUZW1wb3JhcnlPYmplY3RFbnRpdHksIEZ1bmN0aW9uRW50aXR5LCBBdXRvRW50aXR5LCBMb2NhbFZhcmlhYmxlRW50aXR5LCBMb2NhbFJlZmVyZW5jZUVudGl0eSwgQmxvY2tTY29wZSB9IGZyb20gXCIuL2VudGl0aWVzXCI7XHJcbmltcG9ydCB7IE5vdGUsIE5vdGVLaW5kLCBDUFBFcnJvciB9IGZyb20gXCIuL2Vycm9yc1wiO1xyXG5pbXBvcnQgeyBhc011dGFibGUsIE11dGFibGUsIGFzc2VydEZhbHNlLCBhc3NlcnQgfSBmcm9tIFwiLi4vdXRpbC91dGlsXCI7XHJcbmltcG9ydCB7IFNpbXVsYXRpb24gfSBmcm9tIFwiLi9TaW11bGF0aW9uXCI7XHJcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tIFwiLi4vdXRpbC9vYnNlcnZlXCI7XHJcbmltcG9ydCB7IE9iamVjdFR5cGUsIENsYXNzVHlwZSwgUmVmZXJlbmNlVHlwZSwgTm9SZWZUeXBlLCBWb2lkVHlwZSwgUG90ZW50aWFsUmV0dXJuVHlwZSwgVHlwZSB9IGZyb20gXCIuL3R5cGVzXCI7XHJcbmltcG9ydCB7IFRlbXBvcmFyeU9iamVjdCwgQ1BQT2JqZWN0IH0gZnJvbSBcIi4vb2JqZWN0c1wiO1xyXG5pbXBvcnQgeyBHbG9iYWxPYmplY3REZWZpbml0aW9uLCBDb21waWxlZEdsb2JhbE9iamVjdERlZmluaXRpb24sIENvbXBpbGVkRnVuY3Rpb25EZWZpbml0aW9uIH0gZnJvbSBcIi4vZGVjbGFyYXRpb25zXCI7XHJcbmltcG9ydCB7IFJ1bnRpbWVCbG9jayB9IGZyb20gXCIuL3N0YXRlbWVudHNcIjtcclxuaW1wb3J0IHsgTWVtb3J5RnJhbWUgfSBmcm9tIFwiLi9ydW50aW1lRW52aXJvbm1lbnRcIjtcclxuaW1wb3J0IHsgUnVudGltZUZ1bmN0aW9uQ2FsbCB9IGZyb20gXCIuL2Z1bmN0aW9uQ2FsbFwiO1xyXG5cclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIERlc2NyaXB0aW9uIHtcclxuICAgIG5hbWU/OiBzdHJpbmc7XHJcbiAgICBtZXNzYWdlOiBzdHJpbmc7XHJcbiAgICBpZ25vcmU/OiBib29sZWFuOyAvLyBUT0RPOiBjaGVjayB3aGF0IHRoaXMgaXMgdXNlZCBmb3JcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBFeHBsYW5hdGlvbiB7XHJcbiAgICBtZXNzYWdlOiBzdHJpbmc7XHJcbiAgICBpZ25vcmU/OiBib29sZWFuOyAvLyBUT0RPOiBjaGVjayB3aGF0IHRoaXMgaXMgdXNlZCBmb3JcclxufVxyXG5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQVNUTm9kZSB7XHJcbiAgICAvLyByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogc3RyaW5nO1xyXG4gICAgcmVhZG9ubHkgc291cmNlOiB7XHJcbiAgICAgICAgcmVhZG9ubHkgc3RhcnQgOiBudW1iZXI7XHJcbiAgICAgICAgcmVhZG9ubHkgZW5kIDogbnVtYmVyO1xyXG4gICAgICAgIHJlYWRvbmx5IHRleHQgOiBzdHJpbmc7XHJcbiAgICAgICAgcmVhZG9ubHkgbGluZSA6IG51bWJlcjtcclxuICAgICAgICByZWFkb25seSBjb2x1bW4gOiBudW1iZXI7XHJcbiAgICB9O1xyXG4gICAgcmVhZG9ubHkgbGlicmFyeV9pZD86IG51bWJlcjtcclxuICAgIHJlYWRvbmx5IGxpYnJhcnlfdW5zdXBwb3J0ZWQ/OiBib29sZWFuO1xyXG59O1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQcm9ncmFtQ29udGV4dCB7XHJcbiAgICByZWFkb25seSBwcm9ncmFtOiBQcm9ncmFtO1xyXG4gICAgcmVhZG9ubHkgaW1wbGljaXQ/OiBib29sZWFuO1xyXG4gICAgcmVhZG9ubHkgbGlicmFyeUlkPzogbnVtYmVyO1xyXG4gICAgcmVhZG9ubHkgbGlicmFyeVVuc3VwcG9ydGVkPzogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBUcmFuc2xhdGlvblVuaXRDb250ZXh0IGV4dGVuZHMgUHJvZ3JhbUNvbnRleHQge1xyXG4gICAgcmVhZG9ubHkgdHJhbnNsYXRpb25Vbml0OiBUcmFuc2xhdGlvblVuaXQ7XHJcbiAgICByZWFkb25seSBjb250ZXh0dWFsU2NvcGU6IFNjb3BlO1xyXG4gICAgcmVhZG9ubHkgY29udGFpbmluZ0NsYXNzPzogQ2xhc3NUeXBlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVHJhbnNsYXRpb25Vbml0Q29udGV4dChjb250ZXh0OiBQcm9ncmFtQ29udGV4dCwgdHJhbnNsYXRpb25Vbml0OiBUcmFuc2xhdGlvblVuaXQsIGNvbnRleHR1YWxTY29wZTogU2NvcGUpIDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCB7XHJcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgY29udGV4dCwge3RyYW5zbGF0aW9uVW5pdDogdHJhbnNsYXRpb25Vbml0LCBjb250ZXh0dWFsU2NvcGU6IGNvbnRleHR1YWxTY29wZSB9KTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBFeHByZXNzaW9uQ29udGV4dCBleHRlbmRzIFRyYW5zbGF0aW9uVW5pdENvbnRleHQge1xyXG4gICAgcmVhZG9ubHkgY29udGV4dHVhbFBhcmFtZXRlclR5cGVzPzogcmVhZG9ubHkgKFR5cGUgfCB1bmRlZmluZWQpW107XHJcbiAgICByZWFkb25seSBjb250ZXh0dWFsUmVjZWl2ZXJUeXBlPzogQ2xhc3NUeXBlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXhwcmVzc2lvbkNvbnRleHQoY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgY29udGV4dHVhbFBhcmFtZXRlclR5cGVzOiByZWFkb25seSAoVHlwZSB8IHVuZGVmaW5lZClbXSkgOiBFeHByZXNzaW9uQ29udGV4dCB7XHJcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgY29udGV4dCwge2NvbnRleHR1YWxQYXJhbWV0ZXJUeXBlczogY29udGV4dHVhbFBhcmFtZXRlclR5cGVzfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRnVuY3Rpb25Db250ZXh0IGV4dGVuZHMgVHJhbnNsYXRpb25Vbml0Q29udGV4dCB7XHJcbiAgICByZWFkb25seSBjb250YWluaW5nRnVuY3Rpb246IEZ1bmN0aW9uRW50aXR5O1xyXG4gICAgcmVhZG9ubHkgZnVuY3Rpb25Mb2NhbHM6IEZ1bmN0aW9uTG9jYWxzO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRnVuY3Rpb25Db250ZXh0KGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIGNvbnRhaW5pbmdGdW5jdGlvbjogRnVuY3Rpb25FbnRpdHkpIDogRnVuY3Rpb25Db250ZXh0IHtcclxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBjb250ZXh0LCB7Y29udGFpbmluZ0Z1bmN0aW9uOiBjb250YWluaW5nRnVuY3Rpb24sIGZ1bmN0aW9uTG9jYWxzOiBuZXcgRnVuY3Rpb25Mb2NhbHMoKX0pO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEJsb2NrQ29udGV4dCBleHRlbmRzIEZ1bmN0aW9uQ29udGV4dCB7XHJcbiAgICByZWFkb25seSBjb250ZXh0dWFsU2NvcGU6IEJsb2NrU2NvcGU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0Jsb2NrQ29udGV4dChjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0KSA6IGNvbnRleHQgaXMgQmxvY2tDb250ZXh0IHtcclxuICAgIHJldHVybiBjb250ZXh0LmNvbnRleHR1YWxTY29wZSBpbnN0YW5jZW9mIEJsb2NrU2NvcGU7XHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDUFBDb25zdHJ1Y3Q8Q29udGV4dFR5cGUgZXh0ZW5kcyBQcm9ncmFtQ29udGV4dCA9IFByb2dyYW1Db250ZXh0LCBBU1RUeXBlIGV4dGVuZHMgQVNUTm9kZSA9IEFTVE5vZGU+IHtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBORVhUX0lEID0gMDtcclxuICAgIC8vIGluaXRJbmRleDogXCJwdXNoQ2hpbGRyZW5cIixcclxuXHJcbiAgICAvLyBpX2NoaWxkcmVuVG9DcmVhdGUgOiBbXSxcclxuICAgIC8vIGlfY2hpbGRyZW5Ub0NvbnZlcnQgOiB7fSxcclxuICAgIC8vIGlfY2hpbGRyZW5Ub0V4ZWN1dGUgOiBbXSxcclxuICAgIC8vXHJcbiAgICAvLyBjcmVhdGVXaXRoQ2hpbGRyZW4gOiBmdW5jdGlvbihjaGlsZHJlbiwgY29udGV4dCkge1xyXG4gICAgLy8gICAgIHZhciBjb25zdHJ1Y3QgPSB0aGlzLmluc3RhbmNlKGNvbnRleHQpO1xyXG4gICAgLy8gICAgIHRoaXMuaV9jcmVhdGVXaXRoQ2hpbGRyZW5JbXBsKGNvbnN0cnVjdCwgY2hpbGRyZW4sIGNvbnRleHQpO1xyXG4gICAgLy9cclxuICAgIC8vICAgICByZXR1cm4gY29uc3RydWN0O1xyXG4gICAgLy8gfSxcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IGlkOiBudW1iZXI7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IG5vdGVzOiBOb3RlW10gPSBbXTsgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaGFzRXJyb3JzOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbnRleHQ6IENvbnRleHRUeXBlO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBhc3Q/OiBBU1RUeXBlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHNvdXJjZVJlZmVyZW5jZT86IFNvdXJjZVJlZmVyZW5jZTtcclxuXHJcbiAgICAvLyBwdWJsaWMgcmVhZG9ubHkgbGlicmFyeUlkPzogbnVtYmVyO1xyXG4gICAgLy8gcHVibGljIHJlYWRvbmx5IGlzTGlicmFyeVVuc3VwcG9ydGVkPzogYm9vbGVhbjtcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcmVhZG9ubHkgcGFyZW50PzogQ1BQQ29uc3RydWN0O1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGNoaWxkcmVuOiByZWFkb25seSBDUFBDb25zdHJ1Y3RbXSA9IFtdO1xyXG4gICAgXHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dFR5cGUpIHtcclxuICAgICAgICB0aGlzLmlkID0gQ1BQQ29uc3RydWN0Lk5FWFRfSUQrKztcclxuXHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuXHJcbiAgICAgICAgLy8gVE9ETzogZmlndXJlIG91dCBsaWJyYXJ5IHN0dWZmXHJcbiAgICAgICAgLy8gaWYgKGNvbnRleHQubGlicmFyeUlkKSB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMubGlicmFyeUlkID0gY29udGV4dC5saWJyYXJ5SWQ7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGlmIChjb250ZXh0LmxpYnJhcnlVbnN1cHBvcnRlZCkge1xyXG4gICAgICAgIC8vICAgICB0aGlzLmlzTGlicmFyeVVuc3VwcG9ydGVkID0gdHJ1ZTtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFRPRE86IGZpZ3VyZSBvdXQgbGlicmFyeSBzdHVmZlxyXG4gICAgICAgIC8vIElmIHRoZSBwYXJlbnQgaXMgYW4gdXN1cHBvcnRlZCBsaWJyYXJ5IGNvbnN0cnVjdCwgc28gYXJlIGl0cyBjaGlsZHJlbiAoaW5jbHVkaW5nIHRoaXMgb25lKVxyXG4gICAgICAgIC8vIGlmICh0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC5saWJyYXJ5X3Vuc3VwcG9ydGVkKSB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuaV9saWJyYXJ5X3Vuc3VwcG9ydGVkID0gdHJ1ZTtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIC8vIElmIHRoaXMgY29udHJ1Y3QgaXMgTk9UIGF1eGlsaWFyeSBXSVRIIFJFU1BFQ1QgVE8gSVRTIFBBUkVOVCAoYXMgaW5kaWNhdGVkIGJ5IGNvbnRleHQuYXV4aWxpYXJ5KSwgdGhlbiB3ZSBzaG91bGRcclxuICAgICAgICAvLyBhZGQgaXQgYXMgYSBjaGlsZC4gT3RoZXJ3aXNlLCBpZiB0aGlzIGNvbnN0cnVjdCBpcyBhdXhpbGlhcnkgaW4gdGhhdCBzZW5zZSB3ZSBkb24ndC5cclxuICAgICAgICAvLyBpZiAoY29udGV4dC5wYXJlbnQpIHtcclxuICAgICAgICAvLyAgICAgLy8gVGhpcyBjYXN0IGhlcmUgaXMgYSBoYWNrIHRvIGdldCBhcm91bmQgdGhlIHR5cGUgc3lzdGVtIG5vdCBsaWtpbmdcclxuICAgICAgICAvLyAgICAgLy8gdGhlIGZhY3QgdGhhdCBhZGRDaGlsZCBpcyBwdWJsaWMgaW4gR2xvYmFsUHJvZ3JhbUNvbnN0cnVjdCBidXQgcHJpdmF0ZSBpbiBDUFBDb25zdHJ1Y3RcclxuICAgICAgICAvLyAgICAgLy8gKHRoZSB1bmlvbiB0eXBlIG9ubHkgY29udGFpbnMgdGhlIHB1YmxpYyBtZXRob2RzKVxyXG4gICAgICAgIC8vICAgICAoPENQUENvbnN0cnVjdD50aGlzLnBhcmVudCkuYWRkQ2hpbGQodGhpcyk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhdHRhY2goY2hpbGQ6IENQUENvbnN0cnVjdCkge1xyXG4gICAgICAgIGFzTXV0YWJsZSh0aGlzLmNoaWxkcmVuKS5wdXNoKGNoaWxkKTtcclxuICAgICAgICBjaGlsZC5vbkF0dGFjaCh0aGlzKTtcclxuICAgICAgICAvLyBUT0RPOiBhZGQgbm90ZXMgZnJvbSBjaGlsZD9cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXR0YWNoQWxsKGNoaWxkcmVuOiByZWFkb25seSBDUFBDb25zdHJ1Y3RbXSkge1xyXG4gICAgICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB0aGlzLmF0dGFjaChjaGlsZCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBvbkF0dGFjaChwYXJlbnQ6IHRoaXNbXCJwYXJlbnRcIl0pIDogdm9pZDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVzZWQgYnkgXCJjcmVhdGVGcm9tQVNUXCIgc3RhdGljIFwibmFtZWQgY29uc3RydWN0b3JcIiBmdW5jdGlvbnMgaW4gZGVyaXZlZCBjbGFzc2VzXHJcbiAgICAgKiB0byBzZXQgdGhlIEFTVCBmcm9tIHdoaWNoIGEgY29uc3RydWN0IHdhcyBjcmVhdGVkLiBSZXR1cm5zIGB0aGlzYCBmb3IgY29udmVuaWVuY2UuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRBU1QodGhpczogQ1BQQ29uc3RydWN0PFRyYW5zbGF0aW9uVW5pdENvbnRleHQ+LCBhc3Q6IEFTVFR5cGUpIDogdGhpcyAmIHthc3Q6IEFTVFR5cGV9IHtcclxuICAgICAgICBhc011dGFibGUodGhpcykuYXN0ID0gYXN0O1xyXG4gICAgICAgIGlmICghYXN0LnNvdXJjZSkge1xyXG4gICAgICAgICAgICBhc3NlcnRGYWxzZShcIkFTVCBzb3VyY2UgaXMgdW5kZWZpbmVkLiBBIHRyYWNrKCkgY2FsbCBpcyBsaWtlbHkgbWlzc2luZyBpbiB0aGUgZ3JhbW1hci5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFzTXV0YWJsZSh0aGlzKS5zb3VyY2VSZWZlcmVuY2UgPSB0aGlzLmNvbnRleHQudHJhbnNsYXRpb25Vbml0LmdldFNvdXJjZVJlZmVyZW5jZShhc3Quc291cmNlLmxpbmUsIGFzdC5zb3VyY2UuY29sdW1uLCBhc3Quc291cmNlLnN0YXJ0LCBhc3Quc291cmNlLmVuZCk7XHJcbiAgICAgICAgcmV0dXJuIDx0aGlzICYge2FzdDogQVNUVHlwZX0+PGFueT50aGlzOyAvLyBUT0RPOiB0aGlzIHdob2xlIGZ1bmN0aW9uIGlzIGdvaW5nIHRvIGdvIGF3YXksIHNvIHRoaXMgdWdseSBjYXN0IHdpbGwgdG9vXHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHVibGljIGdldFNvdXJjZVRleHQoKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuYXN0LmNvZGUgPyB0aGlzLmFzdC5jb2RlLnRleHQgOiBcImFuIGV4cHJlc3Npb25cIjtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgaXNMaWJyYXJ5Q29uc3RydWN0KCkge1xyXG4gICAgLy8gICAgIHJldHVybiB0aGlzLmxpYnJhcnlJZCAhPT0gdW5kZWZpbmVkO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIHB1YmxpYyBnZXRMaWJyYXJ5SWQoKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMubGlicmFyeUlkO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIHB1YmxpYyBleHBsYWluKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogRXhwbGFuYXRpb24ge1xyXG4gICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJbTm8gZXhwbGFuYXRpb24gYXZhaWxhYmxlLl1cIiwgaWdub3JlOiB0cnVlfTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzY3JpYmUoc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCkgOiBEZXNjcmlwdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcIltObyBkZXNjcmlwdGlvbiBhdmFpbGFibGUuXVwiLCBpZ25vcmU6IGZhbHNlfTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkTm90ZShub3RlOiBOb3RlKSB7XHJcbiAgICAgICAgdGhpcy5ub3Rlcy5wdXNoKG5vdGUpO1xyXG4gICAgICAgIGlmIChub3RlLmtpbmQgPT09IE5vdGVLaW5kLkVSUk9SKSB7XHJcbiAgICAgICAgICAgICg8TXV0YWJsZTx0aGlzPj50aGlzKS5oYXNFcnJvcnMgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZiAodGhpcy5wYXJlbnQgJiYgdGhpcy5pX2F1eGlsaWFyeUxldmVsID09PSB0aGlzLnBhcmVudC5pX2F1eGlsaWFyeUxldmVsKSB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMucGFyZW50LmFkZE5vdGUobm90ZSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGdldE5vdGVzIDogZnVuY3Rpb24oKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuaV9ub3RlcztcclxuICAgIC8vIH0sXHJcbiAgICBwdWJsaWMgZ2V0TmVhcmVzdFNvdXJjZVJlZmVyZW5jZSh0aGlzOiBDUFBDb25zdHJ1Y3Q8VHJhbnNsYXRpb25Vbml0Q29udGV4dD4pIHtcclxuICAgICAgICBsZXQgY29uc3RydWN0IDogQ1BQQ29uc3RydWN0ID0gdGhpcztcclxuICAgICAgICB3aGlsZSAoIWNvbnN0cnVjdC5zb3VyY2VSZWZlcmVuY2UgJiYgY29uc3RydWN0LnBhcmVudCkge1xyXG4gICAgICAgICAgICBjb25zdHJ1Y3QgPSBjb25zdHJ1Y3QucGFyZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29uc3RydWN0LnNvdXJjZVJlZmVyZW5jZSB8fCB0aGlzLmNvbnRleHQudHJhbnNsYXRpb25Vbml0LmdldFNvdXJjZVJlZmVyZW5jZSgwLDAsMCwwKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHR5cGUgVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0PEFTVFR5cGUgZXh0ZW5kcyBBU1ROb2RlID0gQVNUTm9kZT4gPSBDUFBDb25zdHJ1Y3Q8VHJhbnNsYXRpb25Vbml0Q29udGV4dCwgQVNUVHlwZT47XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuICAgIFxyXG4gICAgLy8gX3RfaXNDb21waWxlZCBpcyBoZXJlIHRvIHByZXZlbnQgKG90aGVyd2lzZSkgc3RydWN0dXJhbGx5IGVxdWl2YWxlbnQgbm9uLWNvbXBpbGVkIGNvbnN0cnVjdHNcclxuICAgIC8vIGZyb20gYmVpbmcgYXNzaWduYWJsZSB0byBhIGNvbXBpbGVkIGV4cHJlc3Npb24gdHlwZVxyXG4gICAgLy8gVE9ETzogbWF5YmUgYmV0dGVyIHRvIHVzZSBhIHN5bWJvbCBoZXJlP1xyXG4gICAgcmVhZG9ubHkgX3RfaXNDb21waWxlZDogbmV2ZXI7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkQ29uc3RydWN0IGV4dGVuZHMgQ1BQQ29uc3RydWN0LCBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcblxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBTdGFja1R5cGUgPSBcInN0YXRlbWVudFwiIHwgXCJleHByZXNzaW9uXCIgfCAgXCJmdW5jdGlvblwiIHwgXCJpbml0aWFsaXplclwiIHxcImNhbGxcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSdW50aW1lQ29uc3RydWN0PEMgZXh0ZW5kcyBDb21waWxlZENvbnN0cnVjdCA9IENvbXBpbGVkQ29uc3RydWN0PiB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSh0aGlzKTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2ltOiBTaW11bGF0aW9uO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG1vZGVsOiBDO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHN0YWNrVHlwZTogU3RhY2tUeXBlO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBwdXNoZWRDaGlsZHJlbjoge1tpbmRleDogc3RyaW5nXTogUnVudGltZUNvbnN0cnVjdH0gPSB7fTsgLy8gVE9ETzogY2hhbmdlIG5hbWUgKHRoZSBjaGlsZHJlbiBhcmUgbm90IG5lY2Vzc2FyaWx5IHB1c2hlZClcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFyZW50PzogUnVudGltZUNvbnN0cnVjdDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFdBUk5JTkc6IFRoZSBjb250YWluaW5nUnVudGltZUZ1bmN0aW9uIHByb3BlcnR5IG1heSBiZSB1bmRlZmluZWQsIGV2ZW4gdGhvdWdoIGl0J3MgdHlwZSBzdWdnZXN0cyBpdCB3aWxsIGFsd2F5c1xyXG4gICAgICogYmUgZGVmaW5lZC4gSW4gbW9zdCBwbGFjZXMgd2hlcmUgaXQgaXMgYWNjZXNzZWQsIHRoZXJlIGlzIGFuIGltcGxpY2l0IGFzc3VtcHRpb24gdGhhdCBhIHJ1bnRpbWUgY29uc3RydWN0XHJcbiAgICAgKiBzaXR1YXRlZCBpbnNpZGUgYSBmdW5jdGlvbiBpcyBiZWluZyB1c2VkIChlLmcuIGxvb2tpbmcgdXAgYW4gZW50aXR5IHRoYXQgZGVwZW5kcyBvbiBhIGxvY2FsIGZ1bmN0aW9uKSBhbmQgdGhlXHJcbiAgICAgKiBjbGllbnQgY29kZSB3b3VsZCBlbmQgdXAgbmVlZGluZyBhIG5vbi1udWxsIGFzc2VydGlvbiBhbnl3YXkuIFRob3NlIG5vbi1udWxsIGFzc2VydGlvbnMgYXJlIGFubm95aW5nLCBzb1xyXG4gICAgICogaW5zdGVhZCB3ZSB0cmljayB0aGUgdHlwZSBzeXN0ZW0gYW5kIHRydXN0IHRoYXQgdGhpcyBwcm9wZXJ0eSB3aWxsIGJlIHVzZWQgYXBwcm9wcmlhdGVseSBieSB0aGUgcHJvZ3JhbW1lci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbnRhaW5pbmdSdW50aW1lRnVuY3Rpb24hOiBSdW50aW1lRnVuY3Rpb247XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHN0ZXBzVGFrZW5BdFN0YXJ0OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNBY3RpdmU6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBwdWJsaWMgaXNEb25lOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgLy8gVE9ETzogcmVmYWN0b3IgcGF1c2VzLiBtYXliZSBtb3ZlIHRoZW0gdG8gdGhlIGltcGxlbWVudGF0aW9uXHJcbiAgICBwcml2YXRlIHBhdXNlczoge1tpbmRleDpzdHJpbmddOiBhbnl9ID0ge307IC8vIFRPRE86IHJlbW92ZSBhbnkgdHlwZVxyXG4gICAgXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IgKG1vZGVsOiBDLCBzdGFja1R5cGU6IFN0YWNrVHlwZSwgcGFyZW50T3JTaW06IFJ1bnRpbWVDb25zdHJ1Y3QgfCBTaW11bGF0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlbCA9IG1vZGVsO1xyXG4gICAgICAgIHRoaXMuc3RhY2tUeXBlID0gc3RhY2tUeXBlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChwYXJlbnRPclNpbSBpbnN0YW5jZW9mIFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgYXNzZXJ0KHRoaXMucGFyZW50ICE9PSB0aGlzLCBcIkNvZGUgaW5zdGFuY2UgbWF5IG5vdCBiZSBpdHMgb3duIHBhcmVudFwiKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2ltID0gcGFyZW50T3JTaW0uc2ltO1xyXG4gICAgICAgICAgICBhc3NlcnQocGFyZW50T3JTaW0uc2ltID09PSB0aGlzLnNpbSwgXCJSdW50aW1lIGNvbnN0cnVjdCBtYXkgbm90IGJlbG9uZyB0byBhIGRpZmZlcmVudCBzaW11bGF0aW9uIHRoYW4gaXRzIHBhcmVudC5cIilcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50T3JTaW07XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmFkZENoaWxkKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHBhcmVudE9yU2ltLmNvbnRhaW5pbmdSdW50aW1lRnVuY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmluZ1J1bnRpbWVGdW5jdGlvbiA9IHBhcmVudE9yU2ltLmNvbnRhaW5pbmdSdW50aW1lRnVuY3Rpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2ltID0gcGFyZW50T3JTaW07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnN0ZXBzVGFrZW5BdFN0YXJ0ID0gdGhpcy5zaW0uc3RlcHNUYWtlbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJFUVVJUkVTOiB0aGlzIGluc3RhbmNlIGlzIG9uIHRoZSB0b3Agb2YgdGhlIGV4ZWN1dGlvbiBzdGFja1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RlcEZvcndhcmQoKSB7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJzdGVwRm9yd2FyZFwiKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdGVwRm9yd2FyZEltcGwoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3Qgc3RlcEZvcndhcmRJbXBsKCkgOiB2b2lkO1xyXG5cclxuICAgIHB1YmxpYyB1cE5leHQoKSB7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJ1cE5leHRcIik7XHJcblxyXG4gICAgICAgIC8vIGZvcih2YXIga2V5IGluIHRoaXMucGF1c2VzKXtcclxuICAgICAgICAvLyAgICAgdmFyIHAgPSB0aGlzLnBhdXNlc1trZXldO1xyXG4gICAgICAgIC8vICAgICBpZiAocC5wYXVzZVdoZW5VcE5leHQgLy98fFxyXG4gICAgICAgIC8vICAgICAgICAgLy8gcC5wYXVzZUF0SW5kZXggIT09IHVuZGVmaW5lZCAmJiB0aGlzLmluZGV4ID09IHAucGF1c2VBdEluZGV4KXtcclxuICAgICAgICAvLyAgICAgKXtcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMuc2ltLnBhdXNlKCk7XHJcbiAgICAgICAgLy8gICAgICAgICBwLmNhbGxiYWNrICYmIHAuY2FsbGJhY2soKTtcclxuICAgICAgICAvLyAgICAgICAgIGRlbGV0ZSB0aGlzLnBhdXNlc1trZXldO1xyXG4gICAgICAgIC8vICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnVwTmV4dEltcGwoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgdXBOZXh0SW1wbCgpIDogdm9pZDtcclxuXHJcbiAgICBwcm90ZWN0ZWQgZG9uZSgpIHtcclxuICAgICAgICB0aGlzLmlzRG9uZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFBhdXNlV2hlblVwTmV4dCgpIHtcclxuICAgICAgICB0aGlzLnBhdXNlc1tcInVwTmV4dFwiXSA9IHtwYXVzZVdoZW5VcE5leHQ6IHRydWV9O1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCB3YWl0KCkge1xyXG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwid2FpdFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHVzaGVkKCkge1xyXG4gICAgICAgICg8Ym9vbGVhbj50aGlzLmlzQWN0aXZlKSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJwdXNoZWRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBvcHBlZCgpIHtcclxuICAgICAgICAoPGJvb2xlYW4+dGhpcy5pc0FjdGl2ZSkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcInBvcHBlZFwiLCB0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFkZENoaWxkKGNoaWxkOiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgdGhpcy5wdXNoZWRDaGlsZHJlbltjaGlsZC5tb2RlbC5pZF0gPSBjaGlsZDtcclxuICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcImNoaWxkUHVzaGVkXCIsIGNoaWxkKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gZmluZFBhcmVudCA6IGZ1bmN0aW9uKHN0YWNrVHlwZSl7XHJcbiAgICAvLyAgICAgaWYgKHN0YWNrVHlwZSl7XHJcbiAgICAvLyAgICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudDtcclxuICAgIC8vICAgICAgICAgd2hpbGUocGFyZW50ICYmIHBhcmVudC5zdGFja1R5cGUgIT0gc3RhY2tUeXBlKXtcclxuICAgIC8vICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgcmV0dXJuIHBhcmVudDtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZXtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50O1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH0sXHJcblxyXG4gICAgcHVibGljIGZpbmRQYXJlbnRCeU1vZGVsKG1vZGVsOiBDUFBDb25zdHJ1Y3QpIHtcclxuICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnQ7XHJcbiAgICAgICAgd2hpbGUocGFyZW50ICYmIHBhcmVudC5tb2RlbC5pZCAhPSBtb2RlbC5pZCl7XHJcbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwYXJlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGV4cGxhaW4oKSA6IEV4cGxhbmF0aW9uIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5leHBsYWluKHRoaXMuc2ltLCB0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzY3JpYmUoKSA6IERlc2NyaXB0aW9uIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5kZXNjcmliZSh0aGlzLnNpbSwgdGhpcyk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgQmFzaWNDUFBDb25zdHJ1Y3Q8Q29udGV4dFR5cGUgZXh0ZW5kcyBUcmFuc2xhdGlvblVuaXRDb250ZXh0ID0gVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgQVNUVHlwZSBleHRlbmRzIEFTVE5vZGUgPSBBU1ROb2RlPiBleHRlbmRzIENQUENvbnN0cnVjdDxDb250ZXh0VHlwZSwgQVNUVHlwZT4ge1xyXG5cclxuICAgIHB1YmxpYyBwYXJlbnQ/OiBDUFBDb25zdHJ1Y3Q7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHRUeXBlKSB7XHJcbiAgICAgICAgc3VwZXIoY29udGV4dCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uQXR0YWNoKHBhcmVudDogQ1BQQ29uc3RydWN0KSB7XHJcbiAgICAgICAgKDxNdXRhYmxlPHRoaXM+PnRoaXMpLnBhcmVudCA9IHBhcmVudDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEludmFsaWRDb25zdHJ1Y3QgZXh0ZW5kcyBCYXNpY0NQUENvbnN0cnVjdCB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IG5vdGU6IE5vdGU7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIGVycm9yRm46IChjb25zdHJ1Y3Q6IENQUENvbnN0cnVjdCkgPT4gTm90ZSkge1xyXG4gICAgICAgIHN1cGVyKGNvbnRleHQpO1xyXG4gICAgICAgIHRoaXMuYWRkTm90ZSh0aGlzLm5vdGUgPSBlcnJvckZuKHRoaXMpKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbjxDb250ZXh0VHlwZSBleHRlbmRzIFRyYW5zbGF0aW9uVW5pdENvbnRleHQgPSBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCBBU1RUeXBlIGV4dGVuZHMgQVNUTm9kZSA9IEFTVE5vZGU+IGV4dGVuZHMgQmFzaWNDUFBDb25zdHJ1Y3Q8Q29udGV4dFR5cGUsIEFTVFR5cGU+IHtcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IHBhcmVudD86IEJhc2ljQ1BQQ29uc3RydWN0OyAvLyBOYXJyb3dzIHR5cGUgb2YgcGFyZW50IHByb3BlcnR5IG9mIENQUENvbnN0cnVjdFxyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSB0ZW1wb3JhcnlPYmplY3RzOiBUZW1wb3JhcnlPYmplY3RFbnRpdHlbXSA9IFtdO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHRlbXBvcmFyeURlYWxsb2NhdG9yPzogVGVtcG9yYXJ5RGVhbGxvY2F0b3I7XHJcblxyXG5cclxuICAgIHB1YmxpYyBvbkF0dGFjaChwYXJlbnQ6IEJhc2ljQ1BQQ29uc3RydWN0KSB7XHJcblxyXG4gICAgICAgICg8TXV0YWJsZTx0aGlzPj50aGlzKS5wYXJlbnQgPSBwYXJlbnQ7XHJcblxyXG4gICAgICAgIC8vIFRoaXMgbWF5IG5vIGxvbmdlciBiZSBhIGZ1bGwgZXhwcmVzc2lvbi4gSWYgc28sIG1vdmUgdGVtcG9yYXJ5IGVudGl0aWVzIHRvXHJcbiAgICAgICAgLy8gdGhlaXIgbmV3IGZ1bGwgZXhwcmVzc2lvbi5cclxuICAgICAgICBpZiAoIXRoaXMuaXNGdWxsRXhwcmVzc2lvbigpKSB7XHJcbiAgICAgICAgICAgIGxldCBmZSA9IHRoaXMuZmluZEZ1bGxFeHByZXNzaW9uKCk7XHJcbiAgICAgICAgICAgIHRoaXMudGVtcG9yYXJ5T2JqZWN0cy5mb3JFYWNoKCh0ZW1wRW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBmZS5hZGRUZW1wb3JhcnlPYmplY3QodGVtcEVudCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnRlbXBvcmFyeU9iamVjdHMubGVuZ3RoID0gMDsgLy8gY2xlYXIgYXJyYXlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE5vdyB0aGF0IHdlIGFyZSBhdHRhY2hlZCwgdGhlIGFzc3VtcHRpb24gaXMgbm8gbW9yZSB0ZW1wb3JhcnkgZW50aXRpZXNcclxuICAgICAgICAvLyB3aWxsIGJlIGFkZGVkIHRvIHRoaXMgY29uc3RydWN0IG9yIGl0cyBhdHRhY2hlZCBjaGlsZHJlbi4gKFRoZXJlJ3MgYW5cclxuICAgICAgICAvLyBhc3NlcnQgaW4gYWRkVGVtcG9yYXJ5T2JqZWN0KCkgdG8gcHJldmVudCB0aGlzLikgVGhhdCBtZWFucyBpdCBpcyBub3dcclxuICAgICAgICAvLyBzYWZlIHRvIGNvbXBpbGUgYW5kIGFkZCB0aGUgdGVtcG9yYXJ5IGRlYWxsb2NhdG9yIGNvbnN0cnVjdCBhcyBhIGNoaWxkLlxyXG4gICAgICAgIGlmKHRoaXMudGVtcG9yYXJ5T2JqZWN0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICg8VGVtcG9yYXJ5RGVhbGxvY2F0b3I+dGhpcy50ZW1wb3JhcnlEZWFsbG9jYXRvcikgPSBuZXcgVGVtcG9yYXJ5RGVhbGxvY2F0b3IodGhpcy5jb250ZXh0LCB0aGlzLnRlbXBvcmFyeU9iamVjdHMpO1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLnRlbXBvcmFyeURlYWxsb2NhdG9yISk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0Z1bGxFeHByZXNzaW9uKCkgOiBib29sZWFuIHtcclxuICAgICAgICBpZiAoIXRoaXMucGFyZW50IHx8ICEodGhpcy5wYXJlbnQgaW5zdGFuY2VvZiBQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gIXRoaXMucGFyZW50LmlzRnVsbEV4cHJlc3Npb24oKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPOiB0aGlzIGZ1bmN0aW9uIGNhbiBwcm9iYWJseSBiZSBjbGVhbmVkIHVwIHNvIHRoYXQgaXQgZG9lc24ndCByZXF1aXJlIHRoZXNlIHVnbHkgcnVudGltZSBjaGVja3NcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgbmVhcmVzdCBmdWxsIGV4cHJlc3Npb24gY29udGFpbmluZyB0aGlzIGV4cHJlc3Npb24gKHBvc3NpYmx5IGl0c2VsZikuXHJcbiAgICAgKiBAcGFyYW0gaW5zdFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZmluZEZ1bGxFeHByZXNzaW9uKCkgOiBQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNGdWxsRXhwcmVzc2lvbigpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLnBhcmVudCB8fCAhKHRoaXMucGFyZW50IGluc3RhbmNlb2YgUG90ZW50aWFsRnVsbEV4cHJlc3Npb24pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhc3NlcnRGYWxzZShcImZhaWxlZCB0byBmaW5kIGZ1bGwgZXhwcmVzc2lvbiBmb3IgXCIgKyB0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcmVudC5maW5kRnVsbEV4cHJlc3Npb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFkZFRlbXBvcmFyeU9iamVjdCh0ZW1wT2JqRW50OiBUZW1wb3JhcnlPYmplY3RFbnRpdHkpIHtcclxuICAgICAgICBhc3NlcnQoIXRoaXMucGFyZW50LCBcIlRlbXBvcmFyeSBvYmplY3RzIG1heSBub3QgYmUgYWRkZWQgdG8gYSBmdWxsIGV4cHJlc3Npb24gYWZ0ZXIgaXQgaGFzIGJlZW4gYXR0YWNoZWQuXCIpXHJcbiAgICAgICAgdGhpcy50ZW1wb3JhcnlPYmplY3RzLnB1c2godGVtcE9iakVudCk7XHJcbiAgICAgICAgdGVtcE9iakVudC5zZXRPd25lcih0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlVGVtcG9yYXJ5T2JqZWN0PFQgZXh0ZW5kcyBPYmplY3RUeXBlPih0eXBlOiBULCBkZXNjcmlwdGlvbjogc3RyaW5nKSA6IFRlbXBvcmFyeU9iamVjdEVudGl0eTxUPntcclxuICAgICAgICBsZXQgZmUgPSB0aGlzLmZpbmRGdWxsRXhwcmVzc2lvbigpO1xyXG4gICAgICAgIHZhciB0ZW1wT2JqRW50ID0gbmV3IFRlbXBvcmFyeU9iamVjdEVudGl0eSh0eXBlLCB0aGlzLCBmZSwgZGVzY3JpcHRpb24pO1xyXG4gICAgICAgIHRoaXMudGVtcG9yYXJ5T2JqZWN0c1t0ZW1wT2JqRW50LmVudGl0eUlkXSA9IHRlbXBPYmpFbnQ7XHJcbiAgICAgICAgcmV0dXJuIHRlbXBPYmpFbnQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiBleHRlbmRzIFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uLCBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcbiAgICByZWFkb25seSB0ZW1wb3JhcnlEZWFsbG9jYXRvcj86IENvbXBpbGVkVGVtcG9yYXJ5RGVhbGxvY2F0b3I7XHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSdW50aW1lUG90ZW50aWFsRnVsbEV4cHJlc3Npb248QyBleHRlbmRzIENvbXBpbGVkUG90ZW50aWFsRnVsbEV4cHJlc3Npb24gPSBDb21waWxlZFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uPiBleHRlbmRzIFJ1bnRpbWVDb25zdHJ1Y3Q8Qz4ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSB0ZW1wb3JhcnlEZWFsbG9jYXRvcj86IFJ1bnRpbWVUZW1wb3JhcnlEZWFsbG9jYXRvcjtcclxuICAgIHB1YmxpYyByZWFkb25seSB0ZW1wb3JhcnlPYmplY3RzOiB7W2luZGV4OiBudW1iZXJdOiBUZW1wb3JhcnlPYmplY3QgfCB1bmRlZmluZWR9ID0ge307XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbnRhaW5pbmdGdWxsRXhwcmVzc2lvbiA6IFJ1bnRpbWVQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IobW9kZWw6IEMsIHN0YWNrVHlwZTogU3RhY2tUeXBlLCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICBzdXBlcihtb2RlbCwgc3RhY2tUeXBlLCBwYXJlbnQpO1xyXG4gICAgICAgIGlmICh0aGlzLm1vZGVsLnRlbXBvcmFyeURlYWxsb2NhdG9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGVtcG9yYXJ5RGVhbGxvY2F0b3IgPSB0aGlzLm1vZGVsLnRlbXBvcmFyeURlYWxsb2NhdG9yLmNyZWF0ZVJ1bnRpbWVDb25zdHJ1Y3QodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY29udGFpbmluZ0Z1bGxFeHByZXNzaW9uID0gdGhpcy5maW5kRnVsbEV4cHJlc3Npb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGZpbmRGdWxsRXhwcmVzc2lvbigpIDogUnVudGltZVBvdGVudGlhbEZ1bGxFeHByZXNzaW9uIHtcclxuXHJcbiAgICAgICAgbGV0IHJ0IDogUnVudGltZUNvbnN0cnVjdCA9IHRoaXM7XHJcbiAgICAgICAgd2hpbGUgKHJ0IGluc3RhbmNlb2YgUnVudGltZVBvdGVudGlhbEZ1bGxFeHByZXNzaW9uICYmICFydC5tb2RlbC5pc0Z1bGxFeHByZXNzaW9uKCkgJiYgcnQucGFyZW50KSB7XHJcbiAgICAgICAgICAgIHJ0ID0gcnQucGFyZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHJ0IGluc3RhbmNlb2YgUnVudGltZVBvdGVudGlhbEZ1bGxFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBydDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhc3NlcnRGYWxzZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZG9uZSgpIHtcclxuICAgICAgICBpZiAodGhpcy50ZW1wb3JhcnlEZWFsbG9jYXRvcikge1xyXG4gICAgICAgICAgICB0aGlzLnNpbS5wdXNoKHRoaXMudGVtcG9yYXJ5RGVhbGxvY2F0b3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdXBlci5kb25lKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEZ1bmN0aW9uTG9jYWxzIHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbG9jYWxPYmplY3RzOiByZWFkb25seSBBdXRvRW50aXR5W10gPSBbXTtcclxuICAgIHB1YmxpYyByZWFkb25seSBsb2NhbFJlZmVyZW5jZXM6IHJlYWRvbmx5IExvY2FsUmVmZXJlbmNlRW50aXR5W10gPSBbXTtcclxuICAgIHB1YmxpYyByZWFkb25seSBsb2NhbFZhcmlhYmxlc0J5RW50aXR5SWQ6IHtcclxuICAgICAgICBbaW5kZXg6IG51bWJlcl0gOiBMb2NhbFZhcmlhYmxlRW50aXR5XHJcbiAgICB9ID0ge307XHJcblxyXG4gICAgcHVibGljIHJlZ2lzdGVyTG9jYWxWYXJpYWJsZShsb2NhbDogTG9jYWxWYXJpYWJsZUVudGl0eSkge1xyXG4gICAgICAgIGFzc2VydCghdGhpcy5sb2NhbFZhcmlhYmxlc0J5RW50aXR5SWRbbG9jYWwuZW50aXR5SWRdKTtcclxuICAgICAgICB0aGlzLmxvY2FsVmFyaWFibGVzQnlFbnRpdHlJZFtsb2NhbC5lbnRpdHlJZF0gPSBsb2NhbDtcclxuICAgICAgICBpZiAobG9jYWwua2luZCA9PT0gXCJBdXRvRW50aXR5XCIpIHtcclxuICAgICAgICAgICAgYXNNdXRhYmxlKHRoaXMubG9jYWxPYmplY3RzKS5wdXNoKGxvY2FsKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgYXNNdXRhYmxlKHRoaXMubG9jYWxSZWZlcmVuY2VzKS5wdXNoKGxvY2FsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmVudW0gUnVudGltZUZ1bmN0aW9uSW5kaWNlcyB7XHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUnVudGltZUZ1bmN0aW9uPFQgZXh0ZW5kcyBQb3RlbnRpYWxSZXR1cm5UeXBlID0gUG90ZW50aWFsUmV0dXJuVHlwZT4gZXh0ZW5kcyBSdW50aW1lQ29uc3RydWN0PENvbXBpbGVkRnVuY3Rpb25EZWZpbml0aW9uPiB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGNhbGxlcj86IFJ1bnRpbWVGdW5jdGlvbkNhbGw7XHJcbiAgICAvLyBwdWJsaWMgcmVhZG9ubHkgY29udGFpbmluZ1J1bnRpbWVGdW5jdGlvbjogdGhpcztcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RhY2tGcmFtZT86IE1lbW9yeUZyYW1lO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSByZWNlaXZlcj86IENQUE9iamVjdDxDbGFzc1R5cGU+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG9iamVjdCByZXR1cm5lZCBieSB0aGUgZnVuY3Rpb24sIGVpdGhlciBhbiBvcmlnaW5hbCByZXR1cm5lZC1ieS1yZWZlcmVuY2Ugb3IgYSB0ZW1wb3JhcnlcclxuICAgICAqIG9iamVjdCBjcmVhdGVkIHRvIGhvbGQgYSByZXR1cm4tYnktdmFsdWUuIE9uY2UgdGhlIGZ1bmN0aW9uIGNhbGwgaGFzIGJlZW4gZXhlY3V0ZWQsIHdpbGwgYmVcclxuICAgICAqIGRlZmluZWQgdW5sZXNzIGl0J3MgYSB2b2lkIGZ1bmN0aW9uLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmV0dXJuT2JqZWN0PzogQ1BQT2JqZWN0PE5vUmVmVHlwZTxFeGNsdWRlPFQsVm9pZFR5cGU+Pj47XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGhhc0NvbnRyb2w6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgYm9keTogUnVudGltZUJsb2NrO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvciAobW9kZWw6IENvbXBpbGVkRnVuY3Rpb25EZWZpbml0aW9uLCBwYXJlbnQ6IFJ1bnRpbWVGdW5jdGlvbkNhbGwsIHJlY2VpdmVyPzogQ1BQT2JqZWN0PENsYXNzVHlwZT4pO1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChtb2RlbDogQ29tcGlsZWRGdW5jdGlvbkRlZmluaXRpb24sIHNpbTogU2ltdWxhdGlvbiwgcmVjZWl2ZXI/OiBDUFBPYmplY3Q8Q2xhc3NUeXBlPik7XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IgKG1vZGVsOiBDb21waWxlZEZ1bmN0aW9uRGVmaW5pdGlvbiwgcGFyZW50T3JTaW06IFJ1bnRpbWVGdW5jdGlvbkNhbGwgfCBTaW11bGF0aW9uLCByZWNlaXZlcj86IENQUE9iamVjdDxDbGFzc1R5cGU+KSB7XHJcbiAgICAgICAgc3VwZXIobW9kZWwsIFwiZnVuY3Rpb25cIiwgcGFyZW50T3JTaW0pO1xyXG4gICAgICAgIC8vIGlmIChwYXJlbnRPclNpbSBpbnN0YW5jZW9mIFJ1bnRpbWVGdW5jdGlvbkNhbGwpIHtcclxuICAgICAgICAvLyAgICAgdGhpcy5jYWxsZXIgPSBwYXJlbnRPclNpbTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgdGhpcy5yZWNlaXZlciA9IHJlY2VpdmVyO1xyXG4gICAgICAgIC8vIEEgZnVuY3Rpb24gaXMgaXRzIG93biBjb250YWluaW5nIGZ1bmN0aW9uIGNvbnRleHRcclxuICAgICAgICAvLyB0aGlzLmNvbnRhaW5pbmdSdW50aW1lRnVuY3Rpb24gPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuYm9keSA9IHRoaXMubW9kZWwuYm9keS5jcmVhdGVSdW50aW1lU3RhdGVtZW50KHRoaXMpO1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgLy8gc2V0Q2FsbGVyIDogZnVuY3Rpb24oY2FsbGVyKSB7XHJcbiAgICAvLyAgICAgdGhpcy5pX2NhbGxlciA9IGNhbGxlcjtcclxuICAgIC8vIH0sXHJcblxyXG4gICAgcHVibGljIHB1c2hTdGFja0ZyYW1lKCkge1xyXG4gICAgICAgICg8TXV0YWJsZTx0aGlzPj50aGlzKS5zdGFja0ZyYW1lID0gdGhpcy5zaW0ubWVtb3J5LnN0YWNrLnB1c2hGcmFtZSh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIHJldHVybiBvYmplY3QgZm9yIHRoaXMgZnVuY3Rpb24uIE1heSBvbmx5IGJlIGludm9rZWQgb25jZS5cclxuICAgICAqIGUuZy5cclxuICAgICAqICAtIHJldHVybi1ieS12YWx1ZTogVGhlIGNhbGxlciBzaG91bGQgc2V0IHRoZSByZXR1cm4gb2JqZWN0IHRvIGEgdGVtcG9yYXJ5IG9iamVjdCwgd2hvc2UgdmFsdWVcclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgbWF5IGJlIGluaXRpYWxpemVkIGJ5IGEgcmV0dXJuIHN0YXRlbWVudC5cclxuICAgICAqICAtIHJldHVybi1ieS1yZWZlcmVuY2U6IFdoZW4gdGhlIGZ1bmN0aW9uIGlzIGZpbmlzaGVkLCBpcyBzZXQgdG8gdGhlIG9iamVjdCByZXR1cm5lZC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldFJldHVybk9iamVjdDxUIGV4dGVuZHMgT2JqZWN0VHlwZSB8IFJlZmVyZW5jZVR5cGU+KHRoaXM6IFJ1bnRpbWVGdW5jdGlvbjxUPiwgb2JqOiBDUFBPYmplY3Q8Tm9SZWZUeXBlPFQ+Pikge1xyXG4gICAgICAgIC8vIFRoaXMgc2hvdWxkIG9ubHkgYmUgdXNlZCBvbmNlXHJcbiAgICAgICAgYXNzZXJ0KCF0aGlzLnJldHVybk9iamVjdCk7XHJcbiAgICAgICAgKDxNdXRhYmxlPFJ1bnRpbWVGdW5jdGlvbjxPYmplY3RUeXBlPiB8IFJ1bnRpbWVGdW5jdGlvbjxSZWZlcmVuY2VUeXBlPj4+dGhpcykucmV0dXJuT2JqZWN0ID0gb2JqO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2FpbkNvbnRyb2woKSB7XHJcbiAgICAgICAgKDxib29sZWFuPnRoaXMuaGFzQ29udHJvbCkgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwiZ2FpbkNvbnRyb2xcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGxvc2VDb250cm9sKCkge1xyXG4gICAgICAgICg8Ym9vbGVhbj50aGlzLmhhc0NvbnRyb2wpID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcImxvc2VDb250cm9sXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHByaXZhdGUgZW5jb3VudGVyUmV0dXJuU3RhdGVtZW50IDogZnVuY3Rpb24oKSB7XHJcbiAgICAvLyAgICAgdGhpcy5pX3JldHVyblN0YXRlbWVudEVuY291bnRlcmVkID0gdHJ1ZTtcclxuICAgIC8vIH0sXHJcblxyXG4gICAgLy8gcmV0dXJuU3RhdGVtZW50RW5jb3VudGVyZWQgOiBmdW5jdGlvbigpIHtcclxuICAgIC8vICAgICByZXR1cm4gdGhpcy5pX3JldHVyblN0YXRlbWVudEVuY291bnRlcmVkO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIFxyXG4gICAgLy8gdGFpbENhbGxSZXNldCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3QsIGNhbGxlcikge1xyXG5cclxuICAgIC8vICAgICAvLyBOZWVkIHRvIHVuc2VhdCBhbGwgcmVmZXJlbmNlIHRoYXQgd2VyZSBvbiB0aGUgc3RhY2sgZnJhbWUgZm9yIHRoZSBmdW5jdGlvbi5cclxuICAgIC8vICAgICAvLyBPdGhlcndpc2UsIGxvb2t1cCB3ZWlyZG5lc3MgY2FuIG9jY3VyIGJlY2F1c2UgdGhlIHJlZmVyZW5jZSBsb29rdXAgY29kZSB3YXNuJ3RcclxuICAgIC8vICAgICAvLyBpbnRlbmRlZCB0byBiZSBhYmxlIHRvIHJlc2VhdCByZWZlcmVuY2VzIGFuZCBwYXJhbWV0ZXIgaW5pdGlhbGl6ZXJzIHdpbGwgaW5zdGVhZFxyXG4gICAgLy8gICAgIC8vIHRoaW5rIHRoZXkncmUgc3VwcG9zZWQgdG8gcGFzcyBpbnRvIHRoZSB0aGluZ3MgdGhhdCB0aGUgcmVmZXJlbmNlcyBvbiB0aGUgZXhpc3RpbmdcclxuICAgIC8vICAgICAvLyBzdGFjayBmcmFtZSB3ZXJlIHJlZmVycmluZyB0by5cclxuICAgIC8vICAgICBpbnN0LnN0YWNrRnJhbWUuc2V0VXBSZWZlcmVuY2VJbnN0YW5jZXMoKTtcclxuXHJcbiAgICAvLyAgICAgaW5zdC5yZXVzZWRGcmFtZSA9IHRydWU7XHJcbiAgICAvLyAgICAgaW5zdC5zZXRDYWxsZXIoY2FsbGVyKTtcclxuICAgIC8vICAgICBpbnN0LmluZGV4ID0gdGhpcy5pbml0SW5kZXg7XHJcbiAgICAvLyAgICAgc2ltLnBvcFVudGlsKGluc3QpO1xyXG4gICAgLy8gICAgIC8vaW5zdC5zZW5kKFwicmVzZXRcIik7IC8vIGRvbid0IG5lZWQgaSB0aGlua1xyXG4gICAgLy8gICAgIHJldHVybiBpbnN0O1xyXG4gICAgLy8gfSxcclxuICAgIFxyXG4gICAgcHJvdGVjdGVkIHN0ZXBGb3J3YXJkSW1wbCgpOiB2b2lkIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHVwTmV4dEltcGwoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuYm9keS5pc0RvbmUpIHtcclxuICAgICAgICAgICAgdGhpcy5zaW0ucG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNpbS5wdXNoKHRoaXMuYm9keSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyB1cE5leHQgOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBzdGVwRm9yd2FyZCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4gICAgLy8gICAgIGlmIChpbnN0LmluZGV4ID09PSBcImFmdGVyRGVzdHJ1Y3RvcnNcIil7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuZG9uZShzaW0sIGluc3QpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBkb25lIDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcblxyXG4gICAgLy8gICAgIC8vIElmIG5vbi12b2lkIHJldHVybiB0eXBlLCBjaGVjayB0aGF0IHJldHVybiBvYmplY3Qgd2FzIGluaXRpYWxpemVkLlxyXG4gICAgLy8gICAgIC8vIE5vbi12b2lkIGZ1bmN0aW9ucyBzaG91bGQgYmUgZ3VhcmFudGVlZCB0byBoYXZlIGEgcmV0dXJuT2JqZWN0IChldmVuIGlmIGl0IG1pZ2h0IGJlIGEgcmVmZXJlbmNlKVxyXG4gICAgLy8gICAgIGlmICghaXNBKHRoaXMudHlwZS5yZXR1cm5UeXBlLCBUeXBlcy5Wb2lkKSAmJiAhaW5zdC5yZXR1cm5TdGF0ZW1lbnRFbmNvdW50ZXJlZCgpKXtcclxuICAgIC8vICAgICAgICAgdGhpcy5mbG93T2ZmTm9uVm9pZChzaW0sIGluc3QpO1xyXG4gICAgLy8gICAgIH1cclxuXHJcbiAgICAvLyAgICAgaWYgKGluc3QucmVjZWl2ZXIpe1xyXG4gICAgLy8gICAgICAgICBpbnN0LnJlY2VpdmVyLmNhbGxFbmRlZCgpO1xyXG4gICAgLy8gICAgIH1cclxuXHJcbiAgICAvLyAgICAgc2ltLm1lbW9yeS5zdGFjay5wb3BGcmFtZShpbnN0KTtcclxuICAgIC8vICAgICBzaW0ucG9wKGluc3QpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIGZsb3dPZmZOb25Wb2lkIDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbiAgICAvLyAgICAgaWYgKHRoaXMuaXNNYWluKXtcclxuICAgIC8vICAgICAgICAgaW5zdC5pX3JldHVybk9iamVjdC5zZXRWYWx1ZShWYWx1ZS5pbnN0YW5jZSgwLCBUeXBlcy5JbnQuaW5zdGFuY2UoKSkpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBlbHNle1xyXG4gICAgLy8gICAgICAgICBzaW0uaW1wbGVtZW50YXRpb25EZWZpbmVkQmVoYXZpb3IoXCJZaWtlcyEgVGhpcyBpcyBhIG5vbi12b2lkIGZ1bmN0aW9uIChpLmUuIGl0J3Mgc3VwcG9zZWQgdG8gcmV0dXJuIHNvbWV0aGluZyksIGJ1dCBpdCBlbmRlZCB3aXRob3V0IGhpdHRpbmcgYSByZXR1cm4gc3RhdGVtZW50XCIpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbn1cclxuXHJcbi8vIFRPRE86IGlzIHRoaXMgbmVlZGVkPyBJIHRoaW5rIFJ1bnRpbWVGdW5jdGlvbiBtYXkgYmUgYWJsZSB0byBoYW5kbGUgYWxsIG9mIGl0LlxyXG4vLyBleHBvcnQgY2xhc3MgUnVudGltZU1lbWJlckZ1bmN0aW9uIGV4dGVuZHMgUnVudGltZUZ1bmN0aW9uIHtcclxuXHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgcmVjZWl2ZXI6IENQUE9iamVjdDxDbGFzc1R5cGU+O1xyXG5cclxuLy8gICAgIHB1YmxpYyBjb25zdHJ1Y3RvciAobW9kZWw6IEZ1bmN0aW9uRGVmaW5pdGlvbiwgcGFyZW50OiBSdW50aW1lRnVuY3Rpb25DYWxsLCByZWNlaXZlcjogQ1BQT2JqZWN0PENsYXNzVHlwZT4pIHtcclxuLy8gICAgICAgICBzdXBlcihtb2RlbCwgcGFyZW50KTtcclxuLy8gICAgICAgICB0aGlzLnJlY2VpdmVyID0gcmVjZWl2ZXI7XHJcbi8vICAgICB9XHJcblxyXG4vLyB9XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFRlbXBvcmFyeURlYWxsb2NhdG9yIGV4dGVuZHMgQmFzaWNDUFBDb25zdHJ1Y3Qge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBwYXJlbnQ/OiBQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbjtcclxuICAgIHB1YmxpYyByZWFkb25seSB0ZW1wb3JhcnlPYmplY3RzOiBUZW1wb3JhcnlPYmplY3RFbnRpdHlbXTtcclxuXHJcbiAgICAvLyBwdWJsaWMgcmVhZG9ubHkgZHRvcnM6IChNZW1iZXJGdW5jdGlvbkNhbGwgfCBudWxsKVtdO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCB0ZW1wb3JhcnlPYmplY3RzOiBUZW1wb3JhcnlPYmplY3RFbnRpdHlbXSApIHtcclxuICAgICAgICBzdXBlcihjb250ZXh0KTtcclxuICAgICAgICB0aGlzLnRlbXBvcmFyeU9iamVjdHMgPSB0ZW1wb3JhcnlPYmplY3RzO1xyXG5cclxuICAgICAgICAvLyBUT0RPIENMQVNTRVM6IGFkZCBiYWNrIGluIGRlc3RydWN0b3IgY2FsbHMgYW5kIGR0b3JzIG1lbWJlciBmdW5jdGlvbiBhYm92ZVxyXG4gICAgICAgIC8vIHRoaXMuZHRvcnMgPSB0ZW1wb3JhcnlPYmplY3RzLm1hcCgodGVtcEVudCkgPT4ge1xyXG4gICAgICAgIC8vICAgICBpZiAodGVtcEVudC50eXBlIGluc3RhbmNlb2YgQ2xhc3NUeXBlKSB7XHJcbiAgICAgICAgLy8gICAgICAgICB2YXIgZHRvciA9IHRlbXBFbnQudHlwZS5jcHBDbGFzcy5kZXN0cnVjdG9yO1xyXG4gICAgICAgIC8vICAgICAgICAgaWYgKGR0b3IpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAvL01lbWJlckZ1bmN0aW9uQ2FsbCBhcmdzIGFyZTogY29udGV4dCwgZnVuY3Rpb24gdG8gY2FsbCwgZW1wdHkgYXJncywgcmVjZWl2ZXJcclxuICAgICAgICAvLyAgICAgICAgICAgICBsZXQgZHRvckNhbGwgPSBuZXcgTWVtYmVyRnVuY3Rpb25DYWxsKGNvbnRleHQsIGR0b3IsIFtdLCA8VGVtcG9yYXJ5T2JqZWN0RW50aXR5PENsYXNzVHlwZT4+dGVtcEVudCk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhpcy5hdHRhY2goZHRvckNhbGwpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHJldHVybiBkdG9yQ2FsbDtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmR0b3Iubm9fZGVzdHJ1Y3Rvcl90ZW1wb3JhcnkodGVtcEVudC5jcmVhdG9yLCB0ZW1wRW50KSk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUNvbnN0cnVjdCh0aGlzOiBDb21waWxlZFRlbXBvcmFyeURlYWxsb2NhdG9yLCBwYXJlbnQ6IFJ1bnRpbWVQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbikge1xyXG4gICAgICAgIHJldHVybiBuZXcgUnVudGltZVRlbXBvcmFyeURlYWxsb2NhdG9yKHRoaXMsIHBhcmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHVibGljIGlzVGFpbENoaWxkKGNoaWxkOiBFeGVjdXRhYmxlQ29uc3RydWN0KSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIHtpc1RhaWw6IHRydWV9O1xyXG4gICAgLy8gfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkVGVtcG9yYXJ5RGVhbGxvY2F0b3IgZXh0ZW5kcyBUZW1wb3JhcnlEZWFsbG9jYXRvciwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG5cclxuICAgIC8vIHJlYWRvbmx5IGR0b3JzOiAoQ29tcGlsZWRNZW1iZXJGdW5jdGlvbkNhbGwgfCBudWxsKVtdO1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJ1bnRpbWVUZW1wb3JhcnlEZWFsbG9jYXRvciBleHRlbmRzIFJ1bnRpbWVDb25zdHJ1Y3Q8Q29tcGlsZWRUZW1wb3JhcnlEZWFsbG9jYXRvcj4ge1xyXG5cclxuICAgIHByaXZhdGUgaW5kZXggPSAwO1xyXG4gICAgcHJpdmF0ZSBqdXN0RGVzdHJ1Y3RlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvciAobW9kZWw6IENvbXBpbGVkVGVtcG9yYXJ5RGVhbGxvY2F0b3IsIHBhcmVudDogUnVudGltZVBvdGVudGlhbEZ1bGxFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgc3VwZXIobW9kZWwsIFwiZXhwcmVzc2lvblwiLCBwYXJlbnQpO1xyXG4gICAgfVxyXG5cdFxyXG4gICAgcHJvdGVjdGVkIHVwTmV4dEltcGwoKSB7XHJcblxyXG4gICAgICAgIC8vIGZvciAodmFyIGtleSBpbiB0aGlzLnRlbXBvcmFyaWVzKXtcclxuICAgICAgICAvLyAgICAgdmFyIHRlbXBPYmpJbnN0ID0gdGhpcy50ZW1wb3Jhcmllc1trZXldLnJ1bnRpbWVMb29rdXAoc2ltLCBpbnN0LnBhcmVudCk7XHJcbiAgICAgICAgLy8gICAgIGlmICh0ZW1wT2JqSW5zdCkge1xyXG4gICAgICAgIC8vICAgICAgICAgc2ltLm1lbW9yeS5kZWFsbG9jYXRlVGVtcG9yYXJ5T2JqZWN0KHRlbXBPYmpJbnN0LCBpbnN0KTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyB0aGlzLmRvbmUoc2ltLCBpbnN0KTtcclxuICAgICAgICAvLyByZXR1cm4gdHJ1ZTtcclxuXHJcblxyXG4gICAgICAgIC8vIGxldCBkdG9ycyA9IHRoaXMubW9kZWwuZHRvcnM7XHJcbiAgICAgICAgbGV0IGR0b3JzIDogcmVhZG9ubHkgbnVsbFtdID0gdGhpcy5tb2RlbC50ZW1wb3JhcnlPYmplY3RzLm1hcCh0ID0+IG51bGwpOyAvLyBUT0RPIENMQVNTRVM6IHJlcGxhY2UgdGhpcyBoYWNrIHdpdGggYWJvdmVcclxuICAgICAgICBpZiAodGhpcy5pbmRleCA8IGR0b3JzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAvLyBsZXQgZHRvciA9IGR0b3JzW3RoaXMuaW5kZXhdO1xyXG4gICAgICAgICAgICAvLyBpZiAoIXRoaXMuanVzdERlc3RydWN0ZWQgJiYgZHRvcikge1xyXG4gICAgICAgICAgICAvLyAgICAgZHRvci5jcmVhdGVSdW50aW1lQ29uc3RydWN0KHRoaXMpO1xyXG4gICAgICAgICAgICAvLyAgICAgdGhpcy5zaW0ucHVzaChkdG9yKTtcclxuICAgICAgICAgICAgLy8gICAgIHRoaXMuanVzdERlc3RydWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIC8vIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaW0ubWVtb3J5LmRlYWxsb2NhdGVUZW1wb3JhcnlPYmplY3QodGhpcy5tb2RlbC50ZW1wb3JhcnlPYmplY3RzW3RoaXMuaW5kZXhdLnJ1bnRpbWVMb29rdXAodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgKyt0aGlzLmluZGV4O1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5qdXN0RGVzdHJ1Y3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuc2ltLnBvcCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RlcEZvcndhcmRJbXBsKCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gVE9ETzogRmFrZUNvbnN0cnVjdCBhbmQgRmFrZURlY2xhcmF0aW9uIGFyZSBuZXZlciB1c2VkXHJcbi8vIHZhciBGYWtlQ29uc3RydWN0ID0gQ2xhc3MuZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lIDogXCJGYWtlQ29uc3RydWN0XCIsXHJcblxyXG4vLyAgICAgaW5pdDogZnVuY3Rpb24gKCkge1xyXG5cclxuLy8gICAgICAgICB0aGlzLmlkID0gQ1BQQ29uc3RydWN0Ll9uZXh0SWQrKztcclxuLy8gICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XHJcblxyXG4vLyAgICAgICAgIC8vIHRoaXMuaV9ub3RlcyA9IFtdO1xyXG4vLyAgICAgICAgIC8vIHRoaXMuaV9oYXNFcnJvcnMgPSBmYWxzZTtcclxuXHJcbi8vICAgICAgICAgLy8gdGhpcy5pX3NldENvbnRleHQoY29udGV4dCk7XHJcbi8vICAgICB9LFxyXG5cclxuXHJcbi8vICAgICBnZXRTb3VyY2VSZWZlcmVuY2UgOiBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICByZXR1cm4gbnVsbDtcclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG4vLyB2YXIgRmFrZURlY2xhcmF0aW9uID0gRmFrZUNvbnN0cnVjdC5leHRlbmQoe1xyXG4vLyAgICAgX25hbWUgOiBGYWtlRGVjbGFyYXRpb24sXHJcblxyXG4vLyAgICAgaW5pdCA6IGZ1bmN0aW9uKG5hbWUsIHR5cGUpIHtcclxuLy8gICAgICAgICB0aGlzLmluaXRQYXJlbnQoKTtcclxuLy8gICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4vLyAgICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBVbnN1cHBvcnRlZENvbnN0cnVjdCBleHRlbmRzIEJhc2ljQ1BQQ29uc3RydWN0IHtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCB1bnN1cHBvcnRlZE5hbWU6IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKGNvbnRleHQpO1xyXG4gICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5sb2JzdGVyLnVuc3VwcG9ydGVkX2ZlYXR1cmUodGhpcywgdW5zdXBwb3J0ZWROYW1lKSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuLy8gVE9ETzogdGhpcyBpcyBqdXN0IHRoZSBzYW1lIGFzIFJ1bnRpbWVDb25zdHJ1Y3QgcmlnaHQgbm93XHJcbi8vIGV4cG9ydCB0eXBlIEV4ZWN1dGFibGVSdW50aW1lQ29uc3RydWN0ID0gUnVudGltZUNvbnN0cnVjdDsgLy8gUnVudGltZUZ1bmN0aW9uIHwgUnVudGltZUluc3RydWN0aW9uO1xyXG4vLyBleHBvcnQgaW50ZXJmYWNlIEV4ZWN1dGFibGVSdW50aW1lQ29uc3RydWN0IGV4dGVuZHMgUnVudGltZUNvbnN0cnVjdCB7XHJcbi8vICAgICAvLyByZWFkb25seSBjb250YWluaW5nUnVudGltZUZ1bmN0aW9uIDogUnVudGltZUZ1bmN0aW9uO1xyXG4vLyB9XHJcbi8vIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSdW50aW1lSW5zdHJ1Y3Rpb248QyBleHRlbmRzIENvbXBpbGVkSW5zdHJ1Y3Rpb25Db25zdHJ1Y3QgPSBDb21waWxlZEluc3RydWN0aW9uQ29uc3RydWN0PiBleHRlbmRzIFJ1bnRpbWVDb25zdHJ1Y3Q8Qz4ge1xyXG5cclxuLy8gICAgIHB1YmxpYyByZWFkb25seSBjb250YWluaW5nUnVudGltZUZ1bmN0aW9uOiBSdW50aW1lRnVuY3Rpb247XHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgcGFyZW50ITogRXhlY3V0YWJsZVJ1bnRpbWVDb25zdHJ1Y3Q7IC8vIG5hcnJvd3MgdHlwZSBmcm9tIGJhc2UgY2xhc3MgdG8gYmUgZm9yIHN1cmUgZGVmaW5lZFxyXG5cclxuLy8gICAgIHB1YmxpYyBjb25zdHJ1Y3RvciAobW9kZWw6IEMsIHN0YWNrVHlwZTogU3RhY2tUeXBlLCBwYXJlbnQ6IEV4ZWN1dGFibGVSdW50aW1lQ29uc3RydWN0KSB7XHJcbi8vICAgICAgICAgc3VwZXIobW9kZWwsIHN0YWNrVHlwZSwgcGFyZW50KTtcclxuLy8gICAgICAgICB0aGlzLmNvbnRhaW5pbmdSdW50aW1lRnVuY3Rpb24gPSBwYXJlbnQuY29udGFpbmluZ1J1bnRpbWVGdW5jdGlvbjtcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuLy8gZXhwb3J0IGludGVyZmFjZSBcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vIC8qKlxyXG4vLyAgKiBSZXByZXNlbnRzIGVpdGhlciBhIGRvdCBvciBhcnJvdyBvcGVyYXRvciBhdCBydW50aW1lLlxyXG4vLyAgKiBQcm92aWRlcyBhIGNvbnRleHQgdGhhdCBtYXkgY2hhbmdlIGhvdyBlbnRpdGllcyBhcmUgbG9va2VkIHVwIGJhc2VkXHJcbi8vICAqIG9uIHRoZSBvYmplY3QgdGhlIG1lbWJlciBpcyBiZWluZyBhY2Nlc3NlZCBmcm9tLiBlLmcuIEEgdmlydHVhbCBtZW1iZXJcclxuLy8gICogZnVuY3Rpb24gbG9va3VwIGRlcGVuZHMgb24gdGhlIGFjdHVhbCAoaS5lLiBkeW5hbWljKSB0eXBlIG9mIHRoZSBvYmplY3RcclxuLy8gICogb24gd2hpY2ggaXQgd2FzIGNhbGxlZC5cclxuLy8gICovXHJcbi8vIGV4cG9ydCB2YXIgUnVudGltZU1lbWJlckFjY2VzcyA9IFJ1bnRpbWVDb25zdHJ1Y3QuZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lIDogXCJSdW50aW1lTWVtYmVyQWNjZXNzXCIsXHJcblxyXG4vLyAgICAgc2V0T2JqZWN0QWNjZXNzZWRGcm9tIDogZnVuY3Rpb24ob2JqKSB7XHJcbi8vICAgICAgICAgdGhpcy5pX29iamVjdEFjY2Vzc2VkRnJvbSA9IG9iajtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgY29udGV4dHVhbFJlY2VpdmVyIDogZnVuY3Rpb24oKXtcclxuLy8gICAgICAgICByZXR1cm4gdGhpcy5pX29iamVjdEFjY2Vzc2VkRnJvbTtcclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG4vLyBleHBvcnQgdmFyIFJ1bnRpbWVOZXdJbml0aWFsaXplciA9IFJ1bnRpbWVDb25zdHJ1Y3QuZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lIDogXCJSdW50aW1lTmV3SW5pdGlhbGl6ZXJcIixcclxuXHJcbi8vICAgICBzZXRBbGxvY2F0ZWRPYmplY3QgOiBmdW5jdGlvbihvYmopIHtcclxuLy8gICAgICAgICB0aGlzLmlfYWxsb2NhdGVkT2JqZWN0ID0gb2JqO1xyXG4vLyAgICAgfSxcclxuLy8gICAgIGdldEFsbG9jYXRlZE9iamVjdCA6IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgIHJldHVybiB0aGlzLmlfYWxsb2NhdGVkT2JqZWN0O1xyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBHbG9iYWxPYmplY3RBbGxvY2F0b3IgZXh0ZW5kcyBDUFBDb25zdHJ1Y3Qge1xyXG4gICAgXHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHBhcmVudD86IHVuZGVmaW5lZDtcclxuICAgIHB1YmxpYyByZWFkb25seSBnbG9iYWxPYmplY3RzOiByZWFkb25seSBHbG9iYWxPYmplY3REZWZpbml0aW9uW107XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRleHQ6IFByb2dyYW1Db250ZXh0LCBnbG9iYWxPYmplY3RzOiByZWFkb25seSBHbG9iYWxPYmplY3REZWZpbml0aW9uW10gKSB7XHJcbiAgICAgICAgc3VwZXIoY29udGV4dCk7XHJcbiAgICAgICAgdGhpcy5nbG9iYWxPYmplY3RzID0gZ2xvYmFsT2JqZWN0cztcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJvdGVjdGVkIG9uQXR0YWNoKHBhcmVudDogdGhpc1tcInBhcmVudFwiXSk6IHZvaWQge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lQ29uc3RydWN0KHRoaXM6IENvbXBpbGVkR2xvYmFsT2JqZWN0QWxsb2NhdG9yLCBzaW06IFNpbXVsYXRpb24pIHtcclxuICAgICAgICByZXR1cm4gbmV3IFJ1bnRpbWVHbG9iYWxPYmplY3RBbGxvY2F0b3IodGhpcywgc2ltKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgaXNUYWlsQ2hpbGQoY2hpbGQ6IEV4ZWN1dGFibGVDb25zdHJ1Y3QpIHtcclxuICAgIC8vICAgICByZXR1cm4ge2lzVGFpbDogdHJ1ZX07XHJcbiAgICAvLyB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRHbG9iYWxPYmplY3RBbGxvY2F0b3IgZXh0ZW5kcyBHbG9iYWxPYmplY3RBbGxvY2F0b3IsIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuICAgIHJlYWRvbmx5IGdsb2JhbE9iamVjdHM6IHJlYWRvbmx5IENvbXBpbGVkR2xvYmFsT2JqZWN0RGVmaW5pdGlvbltdO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUnVudGltZUdsb2JhbE9iamVjdEFsbG9jYXRvciBleHRlbmRzIFJ1bnRpbWVDb25zdHJ1Y3Q8Q29tcGlsZWRHbG9iYWxPYmplY3RBbGxvY2F0b3I+IHtcclxuXHJcbiAgICBwcml2YXRlIGluZGV4ID0gMDtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IgKG1vZGVsOiBDb21waWxlZEdsb2JhbE9iamVjdEFsbG9jYXRvciwgc2ltOiBTaW11bGF0aW9uKSB7XHJcbiAgICAgICAgc3VwZXIobW9kZWwsIFwic3RhdGVtZW50XCIsIHNpbSk7IC8vIFRPRE86IGlzIFwic3RhdGVtZW50XCIgdGhlIHJpZ2h0IHN0YWNrIHR5cGUgaGVyZT8gc2hvdWxkIEkgbWFrZSBhIG5ldyBvbmU/XHJcbiAgICB9XHJcblx0XHJcbiAgICBwcm90ZWN0ZWQgdXBOZXh0SW1wbCgpIHtcclxuXHJcbiAgICAgICAgLy8gbGV0IGR0b3JzID0gdGhpcy5tb2RlbC5kdG9ycztcclxuICAgICAgICBpZiAodGhpcy5pbmRleCA8IHRoaXMubW9kZWwuZ2xvYmFsT2JqZWN0cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbGV0IG9iakRlZiA9IHRoaXMubW9kZWwuZ2xvYmFsT2JqZWN0c1t0aGlzLmluZGV4XTtcclxuICAgICAgICAgICAgdGhpcy5zaW0ubWVtb3J5LmFsbG9jYXRlU3RhdGljKG9iakRlZik7XHJcbiAgICAgICAgICAgIGlmIChvYmpEZWYuaW5pdGlhbGl6ZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2ltLnB1c2gob2JqRGVmLmluaXRpYWxpemVyLmNyZWF0ZVJ1bnRpbWVJbml0aWFsaXplcih0aGlzKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKyt0aGlzLmluZGV4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICB0aGlzLnNpbS5wb3AoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0ZXBGb3J3YXJkSW1wbCgpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBDUFBDb25zdHJ1Y3QgfSBmcm9tIFwiLi9jb25zdHJ1Y3RzXCI7XHJcbmltcG9ydCB7IFNvdXJjZVJlZmVyZW5jZSB9IGZyb20gXCIuL1Byb2dyYW1cIjtcclxuaW1wb3J0IHsgUmVmZXJlbmNlVHlwZSwgT2JqZWN0VHlwZSwgQ2xhc3NUeXBlLCBUeXBlLCBCb3VuZGVkQXJyYXlUeXBlLCBBcnJheU9mVW5rbm93bkJvdW5kVHlwZSwgQXRvbWljVHlwZSwgc2FtZVR5cGUsIFBvdGVudGlhbFBhcmFtZXRlclR5cGUgfSBmcm9tIFwiLi90eXBlc1wiO1xyXG5pbXBvcnQgeyBDUFBFbnRpdHksIERlY2xhcmVkRW50aXR5LCBPYmplY3RFbnRpdHksIEF1dG9FbnRpdHksIFRlbXBvcmFyeU9iamVjdEVudGl0eSwgRnVuY3Rpb25FbnRpdHksIFN0YXRpY0VudGl0eSB9IGZyb20gXCIuL2VudGl0aWVzXCI7XHJcbmltcG9ydCB7IFZvaWREZWNsYXJhdGlvbiwgU3RvcmFnZVNwZWNpZmllcktleSwgVHlwZVNwZWNpZmllcktleSwgU2ltcGxlVHlwZU5hbWUsIFNpbXBsZURlY2xhcmF0aW9uIH0gZnJvbSBcIi4vZGVjbGFyYXRpb25zXCI7XHJcbmltcG9ydCB7IEV4cHJlc3Npb24sIFR5cGVkRXhwcmVzc2lvbiB9IGZyb20gXCIuL2V4cHJlc3Npb25CYXNlXCI7XHJcblxyXG5leHBvcnQgZW51bSBOb3RlS2luZCB7XHJcbiAgICBFUlJPUiA9IFwiZXJyb3JcIixcclxuICAgIFdBUk5JTkcgPSBcIndhcm5pbmdcIixcclxuICAgIFNUWUxFID0gXCJzdHlsZVwiLFxyXG4gICAgT1RIRVIgPSBcIm90aGVyXCJcclxufVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIE5vdGUge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBraW5kOiBOb3RlS2luZDtcclxuICAgIHB1YmxpYyByZWFkb25seSBpZDogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG1lc3NhZ2U6IHN0cmluZzsgXHJcbiAgICBcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihraW5kOiBOb3RlS2luZCwgaWQ6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5raW5kID0ga2luZDtcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBwcmltYXJ5IHNvdXJjZSByZWZlcmVuY2UgZm9yIHRoaXMgbm90ZSwgYWx0aG91Z2ggbW9yZSB0aGFuIG9uZSBtYXkgZXhpc3QuXHJcbiAgICAgKiBVc2UgdGhlIGFsbFNvdXJjZVJlZmVyZW5jZXMgcHJvcGVydHkgdG8gcmV0cmlldmUgYW4gYXJyYXkgb2YgYWxsIHNvdXJjZSByZWZlcmVuY2VzLlxyXG4gICAgICogTWF5IGJlIHVuZGVmaW5lZCBpZiB0aGUgbm90ZSBkb2Vzbid0IGNvbmNlcm4gYW55IHBhcnRpY3VsYXIgcGFydCBvZiB0aGUgc291cmNlLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcmVhZG9ubHkgcHJpbWFyeVNvdXJjZVJlZmVyZW5jZT86IFNvdXJjZVJlZmVyZW5jZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFuIGFycmF5IG9mIGFsbCBzb3VyY2UgcmVmZXJlbmNlcyBmb3IgdGhpcyBub3RlLlxyXG4gICAgICogTWF5IGJlIGVtcHR5IGlmIHRoZSBub3RlIGRvZXNuJ3QgY29uY2VybiBhbnkgcGFydGljdWxhciBwYXJ0IG9mIHRoZSBzb3VyY2UuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhYnN0cmFjdCByZWFkb25seSBhbGxTb3VyY2VSZWZlcmVuY2VzOiByZWFkb25seSBTb3VyY2VSZWZlcmVuY2VbXTtcclxuXHJcblxyXG59XHJcblxyXG5cclxuXHJcbmFic3RyYWN0IGNsYXNzIEJhc2ljTm90ZUJhc2UgZXh0ZW5kcyBOb3RlIHtcclxuXHJcbiAgICBwdWJsaWMgcHJpbWFyeVNvdXJjZVJlZmVyZW5jZTogU291cmNlUmVmZXJlbmNlO1xyXG4gICAgcHVibGljIGFsbFNvdXJjZVJlZmVyZW5jZXM6IHJlYWRvbmx5IFNvdXJjZVJlZmVyZW5jZVtdO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihzb3VyY2VSZWY6IFNvdXJjZVJlZmVyZW5jZSwga2luZDogTm90ZUtpbmQsIGlkOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKGtpbmQsIGlkLCBtZXNzYWdlKTtcclxuICAgICAgICB0aGlzLnByaW1hcnlTb3VyY2VSZWZlcmVuY2UgPSBzb3VyY2VSZWY7XHJcbiAgICAgICAgdGhpcy5hbGxTb3VyY2VSZWZlcmVuY2VzID0gW3NvdXJjZVJlZl07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQcmVwcm9jZXNzb3JOb3RlIGV4dGVuZHMgQmFzaWNOb3RlQmFzZSB7XHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU3ludGF4Tm90ZSBleHRlbmRzIEJhc2ljTm90ZUJhc2Uge1xyXG5cclxufVxyXG5cclxuY2xhc3MgQ29uc3RydWN0Tm90ZUJhc2UgZXh0ZW5kcyBOb3RlIHtcclxuXHJcbiAgICBwdWJsaWMgcHJpbWFyeUNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0O1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbnN0cnVjdHM6IHJlYWRvbmx5IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdFtdO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZXMgYSBub3RlIGFzc29jaWF0ZWQgd2l0aCB0aGUgcHJvdmlkZWQgY29uc3RydWN0cy5cclxuICAgICAqIEBwYXJhbSBjb25zdHJ1Y3RzIEEgc2luZ2xlIGNvZGUgY29uc3RydWN0IG9yIGFycmF5IG9mIGNvbnN0cnVjdHMuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb25zdHJ1Y3RzOiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QgfCByZWFkb25seSBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3RbXSwga2luZDogTm90ZUtpbmQsIGlkOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKGtpbmQsIGlkLCBtZXNzYWdlKTtcclxuICAgICAgICB0aGlzLmNvbnN0cnVjdHMgPSBjb25zdHJ1Y3RzIGluc3RhbmNlb2YgQ1BQQ29uc3RydWN0ID8gW2NvbnN0cnVjdHNdIDogY29uc3RydWN0cztcclxuICAgICAgICB0aGlzLnByaW1hcnlDb25zdHJ1Y3QgPSB0aGlzLmNvbnN0cnVjdHNbMF07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBnZXQgcHJpbWFyeVNvdXJjZVJlZmVyZW5jZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wcmltYXJ5Q29uc3RydWN0LmdldE5lYXJlc3RTb3VyY2VSZWZlcmVuY2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGFsbFNvdXJjZVJlZmVyZW5jZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0cy5tYXAoYyA9PiBjLmdldE5lYXJlc3RTb3VyY2VSZWZlcmVuY2UoKSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDb21waWxlck5vdGUgZXh0ZW5kcyBDb25zdHJ1Y3ROb3RlQmFzZSB7XHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTGlua2VyTm90ZSBleHRlbmRzIENvbnN0cnVjdE5vdGVCYXNlIHtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBDUFBFcnJvciA9IHtcclxuXHQvLyBhdHRyaWJ1dGVFbXB0eVRvIDogZnVuY3Rpb24ocHJvYmxlbXMsIGNvZGUpIHtcclxuXHQvLyBcdGZvcih2YXIga2V5IGluIHByb2JsZW1zKSB7XHJcblx0Ly8gXHRcdHZhciBwcm9iID0gcHJvYmxlbXNba2V5XTtcclxuXHQvLyBcdFx0cHJvYi5jb2RlID0gcHJvYi5jb2RlIHx8IGNvZGU7XHJcblx0Ly8gXHR9XHJcblx0Ly8gfSxcclxuXHQvLyBzdW1tYXJ5IDogZnVuY3Rpb24ocHJvYmxlbXMpIHtcclxuXHQvLyBcdHZhciBzdHIgPSBcIlwiO1xyXG5cdC8vIFx0Zm9yKHZhciBpID0gMDsgaSA8IHByb2JsZW1zLmxlbmd0aDsgKytpKSB7XHJcblx0Ly8gXHRcdHZhciBwcm9iID0gcHJvYmxlbXNbaV07XHJcblx0Ly8gXHRcdHN0ciArPSBcIjxzcGFuIHN0eWxlPVxcXCJiYWNrZ3JvdW5kLWNvbG9yOlwiK3Byb2IuY29sb3IrXCJcXFwiPlwiK3Byb2Iuc2VudGVuY2UgKyBcIjwvc3Bhbj48YnIgLz5cIjtcclxuXHQvLyBcdH1cclxuXHQvLyBcdHJldHVybiBzdHI7XHJcblx0Ly8gfSxcclxuICAgIG90aGVyIDoge1xyXG5cdCAgICBjaW5fbm90X3N1cHBvcnRlZCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwib3RoZXIuY2luX25vdF9zdXBwb3J0ZWRcIiwgXCJTb3JyeSwgPHNwYW4gY2xhc3M9J2NvZGUnPmNpbjwvc3Bhbj4gaXMgbm90IHN1cHBvcnRlZCB5ZXQgOiguXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjbGFzc19kZWYgOiB7XHJcbiAgICAgICAgcHJldl9kZWYgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgbmFtZTogc3RyaW5nLCBwcmV2OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJjbGFzc19kZWYucHJldl9kZWZcIiwgbmFtZSArIFwiIGNhbm5vdCBiZSBkZWZpbmVkIG1vcmUgdGhhbiBvbmNlLiBOb3RlIHRoYXQgTG9ic3RlciBqdXN0IHB1dHMgYWxsIGNsYXNzIG5hbWVzIChpLmUuIHR5cGVzKSBpbiBvbmUgZ2xvYmFsIHNvcnQgb2YgbmFtZXNwYWNlLCBzbyB5b3UgY2FuJ3QgZXZlciBoYXZlIHR3byBjbGFzc2VzIG9mIHRoZSBzYW1lIG5hbWUuXCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYmFzZV9jbGFzc190eXBlIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIG5hbWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImNsYXNzX2RlZi5iYXNlX2NsYXNzX3R5cGVcIiwgXCJJIGNhbm5vdCBmaW5kIGEgc3VpdGFibGUgY2xhc3MgY2FsbGVkIFxcXCJcIisgbmFtZSArIFwiXFxcIiB0byB1c2UgYXMgYSBiYXNlLlwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJpZ190aHJlZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBiaWdUaHJlZVllczogcmVhZG9ubHkgc3RyaW5nW10sIGJpZ1RocmVlTm86IHJlYWRvbmx5IHN0cmluZ1tdKSB7XHJcbiAgICAgICAgICAgIHZhciB5U3RyID0gYmlnVGhyZWVZZXMuam9pbihcIiBhbmQgXCIpO1xyXG4gICAgICAgICAgICB2YXIgblN0ciA9IGJpZ1RocmVlTm8uam9pbihcIiBhbmQgXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLldBUk5JTkcsIFwiY2xhc3NfZGVmLmJpZ190aHJlZVwiLCBcIlRoaXMgY2xhc3MgZG9lcyBub3QgZm9sbG93IHRoZSBydWxlIG9mIHRoZSBCaWcgVGhyZWUuIEl0IGhhcyBhIGN1c3RvbSBpbXBsZW1lbnRhdGlvbiBmb3IgdGhlIFwiICsgeVN0ciArIFwiIGJ1dCBub3QgZm9yIHRoZSBcIiArIG5TdHIgKyBcIi4gVGhlIGNvbXBpbGVyIHdpbGwgcHJvdmlkZSBpbXBsaWNpdCB2ZXJzaW9ucyBvZiB0aGUgbWlzc2luZyBvbmVzLCBidXQgdGhleSB3aWxsIGFsbW9zdCBjZXJ0YWlubHkgd29yayBcXFwiaW5jb3JyZWN0bHlcXFwiIChlLmcuIG1ha2Ugc2hhbGxvdyBjb3BpZXMgb3IgbmVnbGVjdCB0byBkZWxldGUgZHluYW1pYyBtZW1vcnkpLlwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG11bHRpcGxlX2luaGVyaXRhbmNlIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJjbGFzc19kZWYubXVsdGlwbGVfaW5oZXJpdGFuY2VcIiwgXCJTb3JyeSwgYnV0IExvYnN0ZXIgZG9lcyBub3Qgc3VwcG9ydCBtdWx0aXBsZSBpbmhlcml0YW5jZS5cIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB2aXJ0dWFsX2luaGVyaXRhbmNlIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJjbGFzc19kZWYudmlydHVhbF9pbmhlcml0YW5jZVwiLCBcIlNvcnJ5LCBidXQgTG9ic3RlciBkb2VzIG5vdCBzdXBwb3J0IHZpcnR1YWwgaW5oZXJpdGFuY2UuXCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY3Rvcl9kZWYgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImNsYXNzX2RlZi5jdG9yX2RlZlwiLCBcIlNvcnJ5LCBidXQgZm9yIG5vdyBMb2JzdGVyIG9ubHkgc3VwcG9ydHMgY29uc3RydWN0b3JzIHRoYXQgYXJlIGRlZmluZWQgaW5saW5lLiAoaS5lLiBZb3UgbmVlZCBhIGJvZHkuKVwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGR0b3JfZGVmIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJjbGFzc19kZWYuZHRvcl9kZWZcIiwgXCJTb3JyeSwgYnV0IGZvciBub3cgTG9ic3RlciBvbmx5IHN1cHBvcnRzIGRlc3RydWN0b3JzIHRoYXQgYXJlIGRlZmluZWQgaW5saW5lLiAoaS5lLiBZb3UgbmVlZCBhIGJvZHkuKVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cdGRlY2xhcmF0aW9uIDoge1xyXG4gICAgICAgIGN0b3IgOiB7XHJcbiAgICAgICAgICAgIGNvcHkgOiB7XHJcbiAgICAgICAgICAgICAgICBwYXNzX2J5X3ZhbHVlIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIHR5cGU6IE9iamVjdFR5cGUsIG5hbWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb25zdFJlZiA9IG5ldyBSZWZlcmVuY2VUeXBlKHR5cGUsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uY3Rvci5jb3B5LnBhc3NfYnlfdmFsdWVcIiwgXCJBIGNvcHkgY29uc3RydWN0b3IgY2Fubm90IHRha2UgaXRzIHBhcmFtZXRlciBieSB2YWx1ZS4gQmVjYXVzZSBwYXNzLWJ5LXZhbHVlIGl0c2VsZiB1c2VzIHRoZSBjb3B5IGNvbnN0cnVjdG9yLCB0aGlzIHdvdWxkIGNhdXNlIGluZmluaXRlIHJlY3Vyc2lvbiBpZiBpdCB3ZXJlIGFsbG93ZWQuIFRyeSBwYXNzaW5nIGJ5IGNvbnN0IHJlZmVyZW5jZSBpbnN0ZWFkISAoaS5lLiBcIiArIGNvbnN0UmVmLnR5cGVTdHJpbmcoZmFsc2UsIG5hbWUsIGZhbHNlKSArIFwiKVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaW5pdCA6IHtcclxuICAgICAgICAgICAgICAgIG5vX3N1Y2hfbWVtYmVyIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGNsYXNzVHlwZTogQ2xhc3NUeXBlLCBuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmN0b3IuaW5pdC5ub19zdWNoX21lbWJlclwiLCBcIkNsYXNzIFwiICsgY2xhc3NUeXBlLnRvU3RyaW5nKCkgKyBcIiBoYXMgbm8gbWVtYmVyIG5hbWVkIFwiICsgbmFtZSArIFwiLlwiKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBpbXByb3Blcl9tZW1iZXIgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgY2xhc3NUeXBlOiBDbGFzc1R5cGUsIG5hbWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uY3Rvci5pbml0LmltcHJvcGVyX21lbWJlclwiLCBcIkEgbWVtYmVyIGluaXRpYWxpemVyIGNhbiBvbmx5IGJlIHVzZWQgZm9yIG5vbi1zdGF0aWMgZGF0YSBtZW1iZXJzLiBUaGVyZSBpcyBubyBzdWNoIG1lbWJlciBuYW1lZCBcIiArIG5hbWUgKyBcIiBpbiB0aGUgXCIgKyBjbGFzc1R5cGUuY2xhc3NOYW1lICsgXCIgY2xhc3MuXCIpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRlbGVnYXRpbmdfb25seSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBjbGFzc1R5cGU6IENsYXNzVHlwZSwgbmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5jdG9yLmluaXQuZGVsZWdhdGluZ19vbmx5XCIsIFwiSWYgYSBjb25zdHJ1Y3RvcidzIGluaXRpYWxpemVyIGxpc3QgZGVsZWdhdGVzIHRvIGFub3RoZXIgY29uc3RydWN0b3IgZnJvbSB0aGUgc2FtZSBjbGFzcywgdGhhdCBtdXN0IGJlIHRoZSBvbmx5IHRoaW5nIGl0IGRvZXMuXCIpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG11bHRpcGxlX2Jhc2VfaW5pdHMgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgY2xhc3NUeXBlOiBDbGFzc1R5cGUsIG5hbWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uY3Rvci5pbml0Lm11bHRpcGxlX2Jhc2VfaW5pdHNcIiwgXCJBIGNvbnN0cnVjdG9yJ3MgaW5pdGlhbGl6ZXIgbGlzdCBjYW5ub3Qgc3BlY2lmeSBtb3JlIHRoYW4gb25lIGJhc2UgY2xhc3MgY29uc3RydWN0b3IgdG8gdXNlLlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZHRvciA6IHtcclxuICAgICAgICAgICAgbm9fZGVzdHJ1Y3Rvcl9hdXRvIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGVudGl0eTogQXV0b0VudGl0eSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5kdG9yLm5vX2Rlc3RydWN0b3JfYXV0b1wiLCBcIlRoZSBsb2NhbCB2YXJpYWJsZSBcIiArIGVudGl0eS5uYW1lICsgXCIgbmVlZHMgdG8gYmUgZGVzdHJveWVkIHdoZW4gaXQgXFxcImdvZXMgb3V0IG9mIHNjb3BlXFxcIiwgYnV0IEkgY2FuJ3QgZmluZCBhIGRlc3RydWN0b3IgZm9yIHRoZSBcIiArIGVudGl0eS50eXBlICsgXCIgY2xhc3MuIFRoZSBjb21waWxlciBzb21ldGltZXMgcHJvdmlkZXMgb25lIGltcGxpY2l0bHkgZm9yIHlvdSwgYnV0IG5vdCBpZiBvbmUgb2YgaXRzIG1lbWJlcnMgb3IgaXRzIGJhc2UgY2xhc3MgYXJlIG1pc3NpbmcgYSBkZXN0cnVjdG9yLiAoT3IsIGlmIHlvdSd2ZSB2aW9sYXRlZCB0aGUgcnVsZSBvZiB0aGUgQmlnIFRocmVlLilcIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIG5vX2Rlc3RydWN0b3JfbWVtYmVyIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGVudGl0eTogT2JqZWN0RW50aXR5LCBjb250YWluaW5nQ2xhc3MpIHtcclxuICAgICAgICAgICAgLy8gICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uZHRvci5ub19kZXN0cnVjdG9yX21lbWJlclwiLCBcIlRoZSBtZW1iZXIgdmFyaWFibGUgXCIgKyBlbnRpdHkubmFtZSArIFwiIG5lZWRzIHRvIGJlIGRlc3Ryb3llZCBhcyBwYXJ0IG9mIHRoZSBcIiArIGNvbnRhaW5pbmdDbGFzcy5jbGFzc05hbWUgKyBcIiBkZXN0cnVjdG9yLCBidXQgSSBjYW4ndCBmaW5kIGEgZGVzdHJ1Y3RvciBmb3IgdGhlIFwiICsgZW50aXR5LnR5cGUgKyBcIiBjbGFzcy4gVGhlIGNvbXBpbGVyIHNvbWV0aW1lcyBwcm92aWRlcyBvbmUgaW1wbGljaXRseSBmb3IgeW91LCBidXQgbm90IGlmIG9uZSBvZiBpdHMgbWVtYmVycyBvciBpdHMgYmFzZSBjbGFzcyBhcmUgbWlzc2luZyBhIGRlc3RydWN0b3IuIChPciwgaWYgeW91J3ZlIHZpb2xhdGVkIHRoZSBydWxlIG9mIHRoZSBCaWcgVGhyZWUuKVwiKTtcclxuICAgICAgICAgICAgLy8gfSxcclxuICAgICAgICAgICAgLy8gbm9fZGVzdHJ1Y3Rvcl9iYXNlIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGVudGl0eSwgY29udGFpbmluZ0NsYXNzKSB7XHJcbiAgICAgICAgICAgIC8vICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmR0b3Iubm9fZGVzdHJ1Y3Rvcl9iYXNlXCIsIFwiVGhlIGJhc2UgY2xhc3MgXCIgKyBlbnRpdHkubmFtZSArIFwiIG5lZWRzIHRvIGJlIGRlc3Ryb3llZCBhcyBwYXJ0IG9mIHRoZSBcIiArIGNvbnRhaW5pbmdDbGFzcy5jbGFzc05hbWUgKyBcIiBkZXN0cnVjdG9yLCBidXQgSSBjYW4ndCBmaW5kIGEgZGVzdHJ1Y3RvciBmb3IgdGhlIFwiICsgZW50aXR5LnR5cGUgKyBcIiBjbGFzcy4gVGhlIGNvbXBpbGVyIHNvbWV0aW1lcyBwcm92aWRlcyBvbmUgaW1wbGljaXRseSBmb3IgeW91LCBidXQgbm90IGlmIG9uZSBvZiBpdHMgbWVtYmVycyBvciBpdHMgYmFzZSBjbGFzcyBhcmUgbWlzc2luZyBhIGRlc3RydWN0b3IuIChPciwgaWYgeW91J3ZlIHZpb2xhdGVkIHRoZSBydWxlIG9mIHRoZSBCaWcgVGhyZWUuKVwiKTtcclxuICAgICAgICAgICAgLy8gfSxcclxuICAgICAgICAgICAgbm9fZGVzdHJ1Y3Rvcl90ZW1wb3JhcnkgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgZW50aXR5OiBUZW1wb3JhcnlPYmplY3RFbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uZHRvci5ub19kZXN0cnVjdG9yX3RlbXBvcmFyeVwiLCBcIlRoaXMgZXhwcmVzc2lvbiBjcmVhdGVzIGEgdGVtcG9yYXJ5IG9iamVjdCBvZiB0eXBlIFwiICsgZW50aXR5LnR5cGUgKyBcIiB0aGF0IG5lZWRzIHRvIGJlIGRlc3Ryb3llZCwgYnV0IEkgY2FuJ3QgZmluZCBhIGRlc3RydWN0b3IgZm9yIHRoZSBcIiArIGVudGl0eS50eXBlICsgXCIgY2xhc3MuIFRoZSBjb21waWxlciBzb21ldGltZXMgcHJvdmlkZXMgb25lIGltcGxpY2l0bHkgZm9yIHlvdSwgYnV0IG5vdCBpZiBvbmUgb2YgaXRzIG1lbWJlcnMgb3IgaXRzIGJhc2UgY2xhc3MgYXJlIG1pc3NpbmcgYSBkZXN0cnVjdG9yLiAoT3IsIGlmIHlvdSd2ZSB2aW9sYXRlZCB0aGUgcnVsZSBvZiB0aGUgQmlnIFRocmVlLilcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gVE9ETyBBZGQgd2FybmluZyBmb3Igbm9uLXZpcnR1YWwgZGVzdHJ1Y3RvciBpZiBkZXJpdmVkIGNsYXNzZXMgZXhpc3RcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIG5vX3R5cGUgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgIC8vICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLm5vX3R5cGVcIiwgXCJJU08gQysrIGZvcmJpZHMgZGVjbGFyYXRpb24gd2l0aCBubyB0eXBlLlwiKTtcclxuICAgICAgICAvLyB9LFxyXG4gICAgICAgIC8vIHByZXZfZGVjbCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBuYW1lLCBwcmV2KSB7XHJcbiAgICAgICAgLy8gICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24ucHJldl9kZWNsXCIsIG5hbWUgKyBcIiBjYW5ub3QgYmUgZGVjbGFyZWQgbW9yZSB0aGFuIG9uY2UgaW4gdGhpcyBzY29wZS5cIik7XHJcbiAgICAgICAgLy8gfSxcclxuICAgICAgICBwcmV2X2RlZiA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5wcmV2X2RlZlwiLCBuYW1lICsgXCIgY2Fubm90IGJlIGRlZmluZWQgbW9yZSB0aGFuIG9uY2UgaW4gdGhpcyBzY29wZS5cIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBwcmV2X2xvY2FsIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIG5hbWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLnByZXZfbG9jYWxcIiwgYFRoaXMgZGVjbGFyYXRpb24gb2YgYSBsb2NhbCB2YXJpYWJsZSAke25hbWV9ICsgXCIgY29uZmxpY3RzIHdpdGggYW4gZWFybGllciBkZWNsYXJhdGlvbiBvZiAke25hbWV9IGluIHRoZSBzYW1lIHNjb3BlLmApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gcHJldl9tYWluIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIG5hbWUsIHByZXYpIHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5wcmV2X21haW5cIiwgbmFtZSArIFwiIGNhbm5vdCBiZSBkZWZpbmVkIG1vcmUgdGhhbiBvbmNlIGluIHRoaXMgc2NvcGUuXCIpO1xyXG4gICAgICAgIC8vIH0sXHJcblx0XHRmdW5jIDoge1xyXG5cdFx0XHRyZXR1cm5fYXJyYXkgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG5cdFx0XHRcdHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uZnVuYy5yZXR1cm5fYXJyYXlcIiwgXCJDYW5ub3QgZGVjbGFyZSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBhcnJheS5cIik7XHJcblx0XHRcdH0sXHJcblx0XHRcdHJldHVybl9mdW5jIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuXHRcdFx0XHRyZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmZ1bmMucmV0dXJuX2Z1bmNcIiwgXCJDYW5ub3QgZGVjbGFyZSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGZ1bmN0aW9uLiBUcnkgcmV0dXJuaW5nIGEgZnVuY3Rpb24gcG9pbnRlcj9cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGludmFsaWRfcmV0dXJuX3R5cGUgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgdHlwZTogVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5mdW5jLmludmFsaWRfcmV0dXJuX3R5cGVcIiwgYFRoZSB0eXBlICR7dHlwZS50b1N0cmluZygpfSBpcyBub3QgYWxsb3dlZCBhcyBhIHJldHVybiB0eXBlLmApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzb21lX2ludmFsaWRfcGFyYW1ldGVyX3R5cGVzIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uZnVuYy5zb21lX2ludmFsaWRfcGFyYW1ldGVyX3R5cGVzXCIsIGBUaGlzIGZ1bmN0aW9uIHR5cGUgY29udGFpbnMgc29tZSBpbnZhbGlkIHBhcmFtZXRlciB0eXBlcy5gKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYXJyYXkgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5mdW5jLmFycmF5XCIsIFwiQ2Fubm90IGRlY2xhcmUgYW4gYXJyYXkgb2YgZnVuY3Rpb25zLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdm9pZF9wYXJhbSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmZ1bmMudm9pZF9wYXJhbVwiLCBcIkZ1bmN0aW9uIHBhcmFtZXRlcnMgbWF5IG5vdCBoYXZlIHZvaWQgdHlwZS5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9wX21lbWJlciA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmZ1bmMub3BfbWVtYmVyXCIsIFwiVGhpcyBvcGVyYXRvciBtdXN0IGJlIG92ZXJsb2FkZWQgYXMgYSBub24tc3RhdGljIG1lbWJlciBmdW5jdGlvbi5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9wX3N1YnNjcmlwdF9vbmVfcGFyYW0gOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5mdW5jLm9wX3N1YnNjcmlwdF9vbmVfcGFyYW1cIiwgXCJBbiBvdmVybG9hZGVkIHN1YnNjcmlwdCAoW10pIG9wZXJhdG9yIG11c3QgdGFrZSBleGFjdGx5IG9uZSBwYXJhbWV0ZXIuXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZXR1cm5UeXBlc01hdGNoIDogZnVuY3Rpb24oZGVjbGFyYXRpb25zOiBTaW1wbGVEZWNsYXJhdGlvbltdLCBuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGRlY2xhcmF0aW9ucywgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uZnVuYy5yZXR1cm5UeXBlc01hdGNoXCIsIFwiQ2Fubm90IHJlZGVjbGFyZSBmdW5jdGlvbiBcIiArIG5hbWUgKyBcIiB3aXRoIHRoZSBzYW1lIHBhcmFtZXRlciB0eXBlcyBidXQgYSBkaWZmZXJlbnQgcmV0dXJuIHR5cGUuXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtYWluUGFyYW1zIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uZnVuYy5tYWluUGFyYW1zXCIsIFwiU29ycnksIGJ1dCBmb3Igbm93IGNvbW1hbmQgbGluZSBhcmd1bWVudHMgKGFuZCB0aHVzIHBhcmFtZXRlcnMgZm9yIG1haW4pIGFyZSBub3Qgc3VwcG9ydGVkIGluIExvYnN0ZXIuXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBub19yZXR1cm5fdHlwZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmZ1bmMubm9fcmV0dXJuX3R5cGVcIiwgXCJZb3UgbXVzdCBzcGVjaWZ5IGEgcmV0dXJuIHR5cGUgZm9yIHRoaXMgZnVuY3Rpb24uIChPciBpZiB5b3UgbWVhbnQgaXQgdG8gYmUgYSBjb25zdHJ1Y3RvciwgZGlkIHlvdSBtaXNzcGVsbCB0aGUgbmFtZT8pXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBub25Db3ZhcmlhbnRSZXR1cm5UeXBlIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGRlcml2ZWQ6IFR5cGUsIGJhc2U6IFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uZnVuYy5ub25Db3ZhcmlhbnRSZXR1cm5UeXBlXCIsIFwiUmV0dXJuIHR5cGVzIGluIG92ZXJyaWRkZW4gdmlydHVhbCBmdW5jdGlvbnMgbXVzdCBlaXRoZXIgYmUgdGhlIHNhbWUgb3IgY292YXJpYW50IChpLmUuIGZvbGxvdyB0aGUgTGlza292IFN1YnN0aXR1dGlvbiBQcmluY2lwbGUpLiBCb3RoIHJldHVybiB0eXBlcyBtdXN0IGJlIHBvaW50ZXJzL3JlZmVyZW5jZXMgdG8gY2xhc3MgdHlwZXMsIGFuZCB0aGUgY2xhc3MgdHlwZSBpbiB0aGUgb3ZlcnJpZGluZyBmdW5jdGlvbiBtdXN0IGJlIHRoZSBzYW1lIG9yIGEgZGVyaXZlZCB0eXBlLiBUaGVyZSBhcmUgYWxzbyByZXN0cmljdGlvbnMgb24gdGhlIGN2LXF1YWxpZmljYXRpb25zIG9mIHRoZSByZXR1cm4gdHlwZXMuIEluIHRoaXMgY2FzZSwgcmV0dXJuaW5nIGEgXCIgKyBkZXJpdmVkICsgXCIgaW4gcGxhY2Ugb2YgYSBcIiArIGJhc2UgKyBcIiB2aW9sYXRlcyBjb3ZhcmlhbmNlLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGVmaW5pdGlvbl9ub25fZnVuY3Rpb25fdHlwZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmZ1bmMuZGVmaW5pdGlvbl9ub25fZnVuY3Rpb25fdHlwZVwiLCBcIlRoaXMgYXBwZWFycyB0byBiZSBhIGZ1bmN0aW9uIGRlZmluaXRpb24sIGJ1dCB0aGUgZGVjbGFyYXRvciBkb2VzIG5vdCBpbmRpY2F0ZSBhIGZ1bmN0aW9uIHR5cGUuIE1heWJlIHlvdSBmb3JndCB0aGUgcGFyZW50aGVzZXM/XCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBwb2ludGVyOiB7XHJcbiAgICAgICAgICAgIHJlZmVyZW5jZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLnBvaW50ZXIucmVmZXJlbmNlXCIsIFwiQ2Fubm90IGRlY2xhcmUgYSBwb2ludGVyIHRvIGEgcmVmZXJlbmNlLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdm9pZCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLnBvaW50ZXIudm9pZFwiLCBcIlNvcnJ5LCBMb2JzdGVyIGRvZXMgbm90IHN1cHBvcnQgdm9pZCBwb2ludGVycy5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGludmFsaWRfcG9pbnRlZF90eXBlIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIHR5cGU6IFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24ucG9pbnRlci5pbnZhbGlkX3BvaW50ZWRfdHlwZVwiLCBgQSBwb2ludGVyIHRvIHR5cGUgJHt0eXBlLnRvU3RyaW5nKCl9IGlzIG5vdCBhbGxvd2VkLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHRcdHJlZiA6IHtcclxuXHRcdFx0cmVmIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuXHRcdFx0XHRyZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLnJlZi5yZWZcIiwgXCJBIHJlZmVyZW5jZSB0byBhIHJlZmVyZW5jZSBpcyBub3QgYWxsb3dlZC5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIFRPRE86IG1vdmUgdGhpcyB0byBhcnJheSBzZWN0aW9uIGluc3RlYWRcclxuICAgICAgICAgICAgYXJyYXkgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5yZWYuYXJyYXlcIiwgXCJDYW5ub3QgZGVjbGFyZSBhbiBhcnJheSBvZiByZWZlcmVuY2VzLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaW52YWxpZF9yZWZlcnJlZF90eXBlIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIHR5cGU6IFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24ucmVmLmludmFsaWRfcmVmZXJyZWRfdHlwZVwiLCBgQSByZWZlcmVuY2UgdG8gdHlwZSAke3R5cGUudG9TdHJpbmcoKX0gaXMgbm90IGFsbG93ZWQuYCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG1lbWJlck5vdFN1cHBvcnRlZCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLnJlZi5tZW1iZXJOb3RTdXBwb3J0ZWRcIiwgXCJTb3JyeSwgcmVmZXJlbmNlIG1lbWJlcnMgYXJlIG5vdCBzdXBwb3J0ZWQgYXQgdGhlIG1vbWVudC5cIik7XHJcbiAgICAgICAgICAgIH1cclxuXHRcdH0sXHJcbiAgICAgICAgYXJyYXkgOiB7XHJcbiAgICAgICAgICAgIGxlbmd0aF9yZXF1aXJlZCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmFycmF5Lmxlbmd0aF9yZXF1aXJlZFwiLCBcIk11c3Qgc3BlY2lmeSBsZW5ndGggYXMgYW4gaW50ZWdlciBsaXRlcmFsIHdoZW4gZGVjbGFyaW5nIGFuIGFycmF5LiAoU29ycnksIGJ1dCBMb2JzdGVyIHJlcXVpcmVzIHRoaXMgZm9yIG5vdyBldmVuIGlmIGl0IGNvdWxkIGh5cG90aGV0aWNhbGx5IGJlIGRlZHVjZWQgZnJvbSB0aGUgaW5pdGlhbGl6ZXIuKVwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgemVyb19sZW5ndGggOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5hcnJheS56ZXJvX2xlbmd0aFwiLCBcIkFsdGhvdWdoIHRlY2huaWNhbGx5IGFsbG93ZWQgaW4gQysrLCBhcnJheXMgd2l0aCB6ZXJvIGxlbmd0aCBhcmUgcHJvaGliaXRlZCBpbiBMb2JzdGVyLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbXVsdGlkaW1lbnNpb25hbF9hcnJheXNfdW5zdXBwb3J0ZWQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5hcnJheS5tdWx0aWRpbWVuc2lvbmFsX2FycmF5c191bnN1cHBvcnRlZFwiLCBcIlNvcnJ5LCBMb2JzdGVyIGN1cnJlbnRseSBkb2Vzbid0IHN1cHBvcnQgbXVsdGlkaW1lbnNpb25hbCBhcnJheXMuXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpbnZhbGlkX2VsZW1lbnRfdHlwZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCB0eXBlOiBUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmFycmF5LmludmFsaWRfZWxlbWVudF90eXBlXCIsIGBUaGUgdHlwZSAke3R5cGUudG9TdHJpbmcoKX0gaXMgbm90IGFsbG93ZWQgYXMgYW4gYXJyYXkgcGFyYW1ldGVyLmAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaW5pdCA6IHtcclxuICAgICAgICAgICAgc2NhbGFyX2FyZ3MgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgZGVjbFR5cGU6IEF0b21pY1R5cGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uaW5pdC5zY2FsYXJfYXJnc1wiLCBcIkludmFsaWQgaW5pdGlhbGl6YXRpb24gb2Ygc2NhbGFyIHR5cGUgXCIgKyBkZWNsVHlwZSArIFwiIGZyb20gbXVsdGlwbGUgdmFsdWVzLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYXJyYXlfc3RyaW5nX2xpdGVyYWwgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgdGFyZ2V0VHlwZTogQm91bmRlZEFycmF5VHlwZSB8IEFycmF5T2ZVbmtub3duQm91bmRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmluaXQuYXJyYXlfc3RyaW5nX2xpdGVyYWxcIiwgXCJDYW5ub3QgZGlyZWN0L2NvcHkgaW5pdGlhbGl6ZSBhbiBhcnJheSBvZiB0eXBlIFwiICsgdGFyZ2V0VHlwZSArIFwiLiBUaGUgb25seSBhbGxvd2VkIGRpcmVjdC9jb3B5IGluaXRpYWxpemF0aW9uIG9mIGFuIGFycmF5IGlzIHRvIGluaXRpYWxpemUgYW4gYXJyYXkgb2YgY2hhciBmcm9tIGEgc3RyaW5nIGxpdGVyYWwuXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjb252ZXJ0IDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGluaXRUeXBlOiBUeXBlLCBkZWNsVHlwZTogVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5pbml0LmNvbnZlcnRcIiwgXCJJbnZhbGlkIGNvbnZlcnNpb24gZnJvbSBcIiArIGluaXRUeXBlICsgXCIgdG8gXCIgKyBkZWNsVHlwZSArIFwiLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGlzdF9uYXJyb3dpbmcgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgaW5pdFR5cGU6IFR5cGUsIGRlY2xUeXBlOiBUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmluaXQubGlzdF9uYXJyb3dpbmdcIiwgXCJJbXBsaWNpdCBuYXJyb3dpbmcgY29udmVyc2lvbiBmcm9tIFwiICsgaW5pdFR5cGUgKyBcIiB0byBcIiArIGRlY2xUeXBlICsgXCIgaXMgbm90IGFsbG93ZWQgaW4gaW5pdGlhbGl6ZXIgbGlzdC5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpc3RfYXJyYXkgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5pbml0Lmxpc3RfYXJyYXlcIiwgXCJJbml0aWFsaXplciBsaXN0IHN5bnRheCBvbmx5IHN1cHBvcnRlZCBmb3IgYXJyYXlzLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGlzdF9sZW5ndGggOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgbGVuZ3RoOiBudW1iZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uaW5pdC5saXN0X2xlbmd0aFwiLCBcIkxlbmd0aCBvZiBpbml0aWFsaXplciBsaXN0IG11c3QgbWF0Y2ggbGVuZ3RoIG9mIGFycmF5IChcIiArIGxlbmd0aCArIFwiKS5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG1hdGNoaW5nX2NvbnN0cnVjdG9yIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGVudGl0eTogT2JqZWN0RW50aXR5PENsYXNzVHlwZT4sIGFyZ1R5cGVzOiByZWFkb25seSBUeXBlW10pIHtcclxuICAgICAgICAgICAgICAgIHZhciBkZXNjID0gZW50aXR5LmRlc2NyaWJlKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmluaXQubWF0Y2hpbmdfY29uc3RydWN0b3JcIiwgXCJUcnlpbmcgdG8gaW5pdGlhbGl6ZSBcIiArIChkZXNjLm5hbWUgfHwgZGVzYy5tZXNzYWdlKSArIFwiLCBidXQgdW5hYmxlIHRvIGZpbmQgYSBtYXRjaGluZyBjb25zdHJ1Y3RvciBkZWZpbml0aW9uIGZvciB0aGUgXCIgKyBlbnRpdHkudHlwZS5jbGFzc05hbWUgKyBcIiBjbGFzcyB1c2luZyB0aGUgZ2l2ZW4gYXJndW1lbnRzIChcIiArIGFyZ1R5cGVzLmpvaW4oXCIsIFwiKSArIFwiKS5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG5vX2RlZmF1bHRfY29uc3RydWN0b3IgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgZW50aXR5OiBPYmplY3RFbnRpdHk8Q2xhc3NUeXBlPikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlc2MgPSBlbnRpdHkuZGVzY3JpYmUoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uaW5pdC5ub19kZWZhdWx0X2NvbnN0cnVjdG9yXCIsIFwiVGhpcyBjYWxscyBmb3IgdGhlIGRlZmF1bHQgaW5pdGlhbGl6YXRpb24gb2YgXCIgKyAoZGVzYy5uYW1lIHx8IGRlc2MubWVzc2FnZSkgKyBcIiwgYnV0IEkgY2FuJ3QgZmluZCBhIGRlZmF1bHQgY29uc3RydWN0b3IgKGkuZS4gdGFraW5nIG5vIGFyZ3VtZW50cykgZm9yIHRoZSBcIiArIGVudGl0eS50eXBlLmNsYXNzTmFtZSArIFwiIGNsYXNzLiBUaGUgY29tcGlsZXIgdXN1YWxseSBwcm92aWRlcyBhbiBpbXBsaWNpdCBvbmUgZm9yIHlvdSwgYnV0IG5vdCBpZiB5b3UgaGF2ZSBkZWNsYXJlZCBvdGhlciBjb25zdHJ1Y3RvcnMgKHVuZGVyIHRoZSBhc3N1bXB0aW9uIHlvdSB3b3VsZCB3YW50IHRvIHVzZSBvbmUgb2YgdGhvc2UpLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVmZXJlbmNlUHJ2YWx1ZUNvbnN0IDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uaW5pdC5yZWZlcmVuY2VQcnZhbHVlQ29uc3RcIiwgXCJZb3UgY2Fubm90IGJpbmQgYSBub24tY29uc3QgcmVmZXJlbmNlIHRvIGEgcHJ2YWx1ZSAoZS5nLiBhIHRlbXBvcmFyeSBvYmplY3QpLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVmZXJlbmNlVHlwZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBmcm9tOiBUeXBlLCB0bzogT2JqZWN0VHlwZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5pbml0LnJlZmVyZW5jZVR5cGVcIiwgXCJBIHJlZmVyZW5jZSAob2YgdHlwZSBcIiArIHRvICsgXCIpIGNhbm5vdCBiZSBib3VuZCB0byBhbiBvYmplY3Qgb2YgYSBkaWZmZXJlbnQgdHlwZSAoXCIgKyBmcm9tICsgXCIpLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVmZXJlbmNlQmluZCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmluaXQucmVmZXJlbmNlQmluZFwiLCBcIlJlZmVyZW5jZXMgbXVzdCBiZSBib3VuZCB0byBzb21ldGhpbmcgd2hlbiB0aGV5IGFyZSBkZWNsYXJlZC5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlZmVyZW5jZUJpbmRNdWx0aXBsZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmluaXQucmVmZXJlbmNlQmluZE11bHRpcGxlXCIsIFwiUmVmZXJlbmNlcyBjYW5ub3QgYmUgYm91bmQgdG8gbXVsdGlwbGUgb2JqZWN0cy5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN0cmluZ0xpdGVyYWxMZW5ndGggOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgc3RyaW5nU2l6ZTogbnVtYmVyLCBhcnJTaXplOiBudW1iZXIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhcnJTaXplID09PSBzdHJpbmdTaXplIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uaW5pdC5zdHJpbmdMaXRlcmFsTGVuZ3RoXCIsIFwiWW91ciBhcnJheSBpcyBvbmUgZWxlbWVudCB0b28gc2hvcnQuIFJlbWVtYmVyLCB3aGVuIGluaXRpYWxpemluZyBhIGNoYXJhY3RlciBhcnJheSAoaS5lLiBhIGMtc3RyaW5nKSB3aXRoIGEgc3RyaW5nIGxpdGVyYWwsIGFuIGV4dHJhIFxcXFwwIChudWxsIGNoYXJhY3RlcikgaXMgYXV0b21hdGljYWxseSBhcHBlbmRlZC5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhcnJTaXplID4gc3RyaW5nU2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuV0FSTklORywgXCJkZWNsYXJhdGlvbi5pbml0LnN0cmluZ0xpdGVyYWxMZW5ndGhcIiwgXCJZb3VyIGFycmF5IChsZW5ndGggXCIgKyBhcnJTaXplICtcIikgaXMgbG9uZ2VyIHRoYW4gaXQgbmVlZHMgdG8gYmUgdG8gaG9sZCB0aGUgc3RyaW5nIGxpdGVyYWwgKGxlbmd0aCBcIiArIHN0cmluZ1NpemUgKyBcIikuIFRoZSByZW1haW5pbmcgY2hhcmFjdGVyIGVsZW1lbnRzIHdpbGwgYmUgemVyby1pbml0aWFsaXplZC5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uaW5pdC5zdHJpbmdMaXRlcmFsTGVuZ3RoXCIsIFwiVGhlIHN0cmluZyBsaXRlcmFsIHVzZWQgZm9yIGluaXRpYWxpemF0aW9uIChsZW5ndGggXCIgKyBzdHJpbmdTaXplICsgXCIpIGNhbm5vdCBmaXQgaW4gdGhlIGRlY2xhcmVkIGFycmF5IChsZW5ndGggXCIgKyBhcnJTaXplICtcIikuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB1bmluaXRpYWxpemVkIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGVudDogT2JqZWN0RW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLldBUk5JTkcsIFwiZGVjbGFyYXRpb24uaW5pdC51bmluaXRpYWxpemVkXCIsIChlbnQuZGVzY3JpYmUoKS5uYW1lIHx8IGVudC5kZXNjcmliZSgpLm1lc3NhZ2UpICsgXCIgaXMgdW5pbml0aWFsaXplZCwgc28gaXQgd2lsbCBzdGFydCB3aXRoIHdoYXRldmVyIHZhbHVlIGhhcHBlbnMgdG8gYmUgaW4gbWVtb3J5IChpLmUuIG1lbW9yeSBqdW5rKS4gSWYgeW91IHRyeSB0byB1c2UgdGhpcyB2YXJpYWJsZSBiZWZvcmUgaW5pdGlhbGl6aW5nIGl0LCB3aG8ga25vd3Mgd2hhdCB3aWxsIGhhcHBlbiFcIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFycmF5X2RlZmF1bHRfaW5pdCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLldBUk5JTkcsIFwiZGVjbGFyYXRpb24uaW5pdC5hcnJheV9kZWZhdWx0X2luaXRcIiwgXCJOb3RlOiBEZWZhdWx0IGluaXRpYWxpemF0aW9uIG9mIGFuIGFycmF5IHJlcXVpcmVzIGRlZmF1bHQgaW5pdGlhbGl6YXRpb24gb2YgZWFjaCBvZiBpdHMgZWxlbWVudHMuXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhcnJheV9kaXJlY3RfaW5pdCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLk9USEVSLCBcImRlY2xhcmF0aW9uLmluaXQuYXJyYXlfZGlyZWN0X2luaXRcIiwgXCJOb3RlOiBpbml0aWFsaXphdGlvbiBvZiBhbiBhcnJheSByZXF1aXJlcyBpbml0aWFsaXphdGlvbiBvZiBlYWNoIG9mIGl0cyBlbGVtZW50cy5cIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdG9yYWdlIDoge1xyXG4gICAgICAgICAgICBvbmNlIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIHNwZWM6IFN0b3JhZ2VTcGVjaWZpZXJLZXkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uc3RvcmFnZS5vbmNlXCIsIFwiU3RvcmFnZSBzcGVjaWZpZXIgKFwiICsgc3BlYyArIFwiKSBtYXkgb25seSBiZSB1c2VkIG9uY2UuXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpbmNvbXBhdGlibGUgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgc3BlY3M6IHJlYWRvbmx5IFN0b3JhZ2VTcGVjaWZpZXJLZXlbXSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi5zdG9yYWdlLmluY29tcGF0aWJsZVwiLCBcIlN0b3JhZ2Ugc3BlY2lmaWVycyAoIFwiICsgc3BlY3Muam9pbihcIiBcIikgKyBcIikgYXJlIGluY29tcGF0aWJsZSB3aXRoIGVhY2ggb3RoZXIuXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvLyB0eXBlZGVmIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIHNwZWNzKSB7XHJcbiAgICAgICAgICAgIC8vICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLnN0b3JhZ2UudHlwZWRlZlwiLCBcIlN0b3JhZ2Ugc3BlY2lmaWVycyBtYXkgbm90IGJlIHVzZWQgaW4gYSB0eXBlZGVmLiAoXCIgKyBzcGVjcyArIFwiIHdlcmUgZm91bmQuKVwiKTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdHlwZVNwZWNpZmllciA6IHtcclxuICAgICAgICAgICAgb25jZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBzcGVjOiBUeXBlU3BlY2lmaWVyS2V5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLnR5cGVTcGVjaWZpZXIub25jZVwiLCBcIlR5cGUgc3BlY2lmaWVyIChcIiArIHNwZWMgKyBcIikgbWF5IG9ubHkgYmUgdXNlZCBvbmNlLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25lX3R5cGUgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgdHlwZU5hbWVzOiByZWFkb25seSBTaW1wbGVUeXBlTmFtZVtdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLnR5cGVTcGVjaWZpZXIub25lX3R5cGVcIiwgYFR5cGUgc3BlY2lmaWVyIG11c3Qgb25seSBzcGVjaWZ5IG9uZSB0eXBlLiBGb3VuZDogJHt0eXBlTmFtZXN9LmApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzaWduZWRfdW5zaWduZWQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJ0eXBlLnNpZ25lZF91bnNpZ25lZFwiLCBcIlR5cGUgc3BlY2lmaWVyIG1heSBub3QgaW5kaWNhdGUgYm90aCBzaWduZWQgYW5kIHVuc2lnbmVkLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGZyaWVuZCA6IHtcclxuICAgICAgICAgICAgb3V0c2lkZV9jbGFzcyA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmZyaWVuZC5vdXRzaWRlX2NsYXNzXCIsIFwiRnJpZW5kIGRlY2xhcmF0aW9ucyBhcmUgbm90IGFsbG93ZWQgaGVyZS5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHZpcnR1YWxfcHJvaGliaXRlZCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLmZyaWVuZC52aXJ0dWFsX3Byb2hpYml0ZWRcIiwgXCJBIHZpcnR1YWwgZnVuY3Rpb24gbWF5IG5vdCBiZSBkZWNsYXJlZCBhcyBhIGZyaWVuZC5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHBhcmFtZXRlciA6IHtcclxuICAgICAgICAgICAgc3RvcmFnZV9wcm9oaWJpdGVkIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24ucGFyYW1ldGVyLnN0b3JhZ2VfcHJvaGliaXRlZFwiLCBcIlN0b3JhZ2Ugc3BlY2lmaWVycyBhcmUgbm90IHBlcm1pdHRlZCBpbiBwYXJhbWV0ZXIgZGVjbGFyYXRpb25zLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdmlydHVhbF9wcm9oaWJpdGVkIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZGVjbGFyYXRpb24uZnJpZW5kLnZpcnR1YWxfcHJvaGliaXRlZFwiLCBcIkEgdmlydHVhbCBmdW5jdGlvbiBtYXkgbm90IGJlIGRlY2xhcmVkIGFzIGEgZnJpZW5kLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdW5rbm93bl90eXBlIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi51bmtub3duX3R5cGVcIiwgXCJVbmFibGUgdG8gZGV0ZXJtaW5lIHRoZSB0eXBlIGRlY2xhcmVkIGhlcmUuXCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdm9pZF9wcm9oaWJpdGVkIDogZnVuY3Rpb24oY29uc3RydWN0OiBWb2lkRGVjbGFyYXRpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi52b2lkX3Byb2hpYml0ZWRcIiwgYFRoZSB2YXJpYWJsZSAke2NvbnN0cnVjdC5kZWNsYXJhdG9yLm5hbWUgfHwgXCJoZXJlXCJ9IG1heSBub3QgYmUgZGVjbGFyZWQgYXMgdHlwZSB2b2lkLmApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdmlydHVhbF9wcm9oaWJpdGVkIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJkZWNsYXJhdGlvbi52aXJ0dWFsX3Byb2hpYml0ZWRcIiwgXCJUaGUgdmlydHVhbCBrZXl3b3JkIG1heSBvbmx5IGJlIHVzZWQgaW4gbWVtYmVyIGZ1bmN0aW9uIGRlY2xhcmF0aW9ucy5cIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0eXBlX21pc21hdGNoIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIG5ld0VudGl0eTogRGVjbGFyZWRFbnRpdHksIGV4aXN0aW5nRW50aXR5OiBEZWNsYXJlZEVudGl0eSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImRlY2xhcmF0aW9uLnR5cGVfbWlzbWF0Y2hcIiwgYFR5cGUgbWlzbWF0Y2guIFRoaXMgZGVjbGFyYXRpb24gZm9yICR7bmV3RW50aXR5Lm5hbWV9IGhhcyB0eXBlICR7bmV3RW50aXR5LnR5cGV9LCBidXQgYSBwcmV2aW91cyBkZWNsYXJhdGlvbiBvZiAke2V4aXN0aW5nRW50aXR5Lm5hbWV9IGhhcyB0eXBlICR7ZXhpc3RpbmdFbnRpdHkudHlwZX1gKTtcclxuICAgICAgICB9LFxyXG5cdH0sXHJcblx0dHlwZSA6IHtcclxuICAgICAgICBcclxuICAgICAgICB1bnNpZ25lZF9ub3Rfc3VwcG9ydGVkIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5XQVJOSU5HLCBcInR5cGUudW5zaWduZWRfbm90X3N1cHBvcnRlZFwiLCBcIlNvcnJ5LCB1bnNpZ25lZCBpbnRlZ3JhbCB0eXBlcyBhcmUgbm90IHN1cHBvcnRlZCB5ZXQuIEl0IHdpbGwganVzdCBiZSB0cmVhdGVkIGxpa2UgYSBub3JtYWwgaW50LlwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHN0b3JhZ2UgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLldBUk5JTkcsIFwidHlwZS5zdG9yYWdlXCIsIFwiQmVjYXVzZSBvZiB0aGUgd2F5IExvYnN0ZXIgd29ya3MsIHN0b3JhZ2UgY2xhc3Mgc3BlY2lmaWVycyAoZS5nLiBzdGF0aWMpIGhhdmUgbm8gZWZmZWN0LlwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHR5cGVOb3RGb3VuZCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCB0eXBlTmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwidHlwZS50eXBlTm90Rm91bmRcIiwgXCJPb3BzLCB0aGlzIGlzIGVtYmFyYXNzaW5nLi4uIEkgZmVlbCBsaWtlIFwiICsgdHlwZU5hbWUgKyBcIiBzaG91bGQgYmUgYSB0eXBlLCBidXQgSSBjYW4ndCBmaWd1cmUgb3V0IHdoYXQgaXQgaXMuXCIpO1xyXG4gICAgICAgIH1cclxuXHR9LFxyXG4gICAgZXhwciA6IHtcclxuICAgICAgICAvLyBvdmVybG9hZExvb2t1cCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBvcCkge1xyXG4gICAgICAgIC8vICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIub3ZlcmxvYWRMb29rdXBcIiwgXCJUcnlpbmcgdG8gZmluZCBhIGZ1bmN0aW9uIGltcGxlbWVudGluZyBhbiBvdmVybG9hZGVkIFwiICsgb3AgKyBcIiBvcGVyYXRvci4uLlwiKTtcclxuICAgICAgICAvLyB9LFxyXG4gICAgICAgIGFycmF5X29wZXJhbmQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgdHlwZTogVHlwZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIuYXJyYXlfb3BlcmFuZFwiLCBcIlR5cGUgXCIgKyB0eXBlICsgXCIgY2Fubm90IGJlIHN1YnNjcmlwdGVkLlwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFycmF5X29mZnNldCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCB0eXBlOiBUeXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZXhwci5hcnJheV9vZmZzZXRcIiwgXCJJbnZhbGlkIHR5cGUgKFwiICsgdHlwZSArIFwiKSBmb3IgYXJyYXkgc3Vic2NyaXB0IG9mZnNldC5cIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhc3NpZ25tZW50IDoge1xyXG4gICAgICAgICAgICBsaHNfbHZhbHVlIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZXhwci5hc3NpZ25tZW50Lmxoc19sdmFsdWVcIiwgXCJMdmFsdWUgcmVxdWlyZWQgYXMgbGVmdCBvcGVyYW5kIG9mIGFzc2lnbm1lbnQuXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsaHNfY29uc3QgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLmFzc2lnbm1lbnQubGhzX2NvbnN0XCIsIFwiTGVmdCBoYW5kIHNpZGUgb2YgYXNzaWdubWVudCBpcyBub3QgbW9kaWZpYWJsZS5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbnZlcnQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgbGhzOiBUeXBlZEV4cHJlc3Npb24sIHJoczogVHlwZWRFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIuYXNzaWdubWVudC5jb252ZXJ0XCIsIFwiQ2Fubm90IGNvbnZlcnQgXCIgKyByaHMudHlwZSArIFwiIHRvIFwiICsgbGhzLnR5cGUgKyBcIiBpbiBhc3NpZ25tZW50LlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2VsZiA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBlbnRpdHk6IE9iamVjdEVudGl0eSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5XQVJOSU5HLCBcImV4cHIuYXNzaWdubWVudC5zZWxmXCIsIFwiU2VsZiBhc3NpZ25tZW50IGZyb20gXCIgKyAoZW50aXR5LmRlc2NyaWJlKCkubmFtZSB8fCBlbnRpdHkuZGVzY3JpYmUoKS5tZXNzYWdlKSArIFwiIHRvIGl0c2VsZi5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gbm90X2RlZmluZWQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgdHlwZSkge1xyXG4gICAgICAgICAgICAvLyAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLmFzc2lnbm1lbnQubm90X2RlZmluZWRcIiwgXCJBbiBhc3NpZ25tZW50IG9wZXJhdG9yIGZvciB0aGUgdHlwZSBcIiArIHR5cGUgKyBcIiBjYW5ub3QgYmUgZm91bmQuXCIpO1xyXG4gICAgICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYmluYXJ5IDoge1xyXG4gICAgICAgICAgICAvLyBvdmVybG9hZF9ub3RfZm91bmQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgb3AsIG9wZXJhbmRzKSB7XHJcbiAgICAgICAgICAgIC8vICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIuYmluYXJ5Lm92ZXJsb2FkX25vdF9mb3VuZFwiLCBcIkFuIG92ZXJsb2FkZWQgXCIgKyBvcCArIFwiIG9wZXJhdG9yIGZvciB0aGUgdHlwZXMgKFwiICsgb3BlcmFuZHMubWFwKChvcCk9PntyZXR1cm4gb3AudHlwZTt9KS5qb2luKFwiLCBcIikgKyBcIikgY2Fubm90IGJlIGZvdW5kLlwiKTtcclxuICAgICAgICAgICAgLy8gfSxcclxuICAgICAgICAgICAgYXJpdGhtZXRpY19vcGVyYW5kcyA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBvcGVyYXRvcjogc3RyaW5nLCBsZWZ0OiBUeXBlZEV4cHJlc3Npb24sIHJpZ2h0OiBUeXBlZEV4cHJlc3Npb24pIHsgICAgXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIuYmluYXJ5LmFyaXRobWV0aWNfb3BlcmFuZHNcIiwgXCJJbnZhbGlkIG9wZXJhbmQgdHlwZXMgKFwiICsgbGVmdC50eXBlICsgXCIsIFwiICsgcmlnaHQudHlwZSArIFwiKSBmb3Igb3BlcmF0b3IgXCIgKyBvcGVyYXRvciArIFwiLCB3aGljaCByZXF1aXJlcyBvcGVyYW5kcyBvZiBhcml0aG1ldGljIHR5cGUuXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpbnRlZ3JhbF9vcGVyYW5kcyA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBvcGVyYXRvcjogc3RyaW5nLCBsZWZ0OiBUeXBlZEV4cHJlc3Npb24sIHJpZ2h0OiBUeXBlZEV4cHJlc3Npb24pIHsgICAgXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIuYmluYXJ5LmludGVncmFsX29wZXJhbmRzXCIsIFwiSW52YWxpZCBvcGVyYW5kIHR5cGVzIChcIiArIGxlZnQudHlwZSArIFwiLCBcIiArIHJpZ2h0LnR5cGUgKyBcIikgZm9yIG9wZXJhdG9yIFwiICsgb3BlcmF0b3IgKyBcIiwgd2hpY2ggcmVxdWlyZXMgb3BlcmFuZHMgb2YgaW50ZWdyYWwgdHlwZS5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJvb2xlYW5fb3BlcmFuZCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBvcGVyYXRvcjogc3RyaW5nLCBvcGVyYW5kOiBUeXBlZEV4cHJlc3Npb24pIHsgICAgXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIuYmluYXJ5LmJvb2xlYW5fb3BlcmFuZFwiLCBcIkludmFsaWQgb3BlcmFuZCB0eXBlIChcIiArIG9wZXJhbmQudHlwZSArIFwiKSBmb3Igb3BlcmF0b3IgXCIgKyBvcGVyYXRvciArIFwiLCB3aGljaCByZXF1aXJlcyBvcGVyYW5kcyB0aGF0IG1heSBiZSBjb252ZXJ0ZWQgdG8gYm9vbGVhbiB0eXBlLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYXJpdGhtZXRpY19jb21tb25fdHlwZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBvcGVyYXRvcjogc3RyaW5nLCBsZWZ0OiBUeXBlZEV4cHJlc3Npb24sIHJpZ2h0OiBUeXBlZEV4cHJlc3Npb24pIHsgICAgXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIuYmluYXJ5LmFyaXRobWV0aWNfY29tbW9uX3R5cGVcIiwgXCJQZXJmb3JtaW5nIHRoZSB1c3VhbCBhcml0aG1ldGljIGNvbnZlcnNpb25zIHlpZWxkZWQgb3BlcmFuZHMgb2YgdHlwZXMgKFwiICsgbGVmdC50eXBlICsgXCIsIFwiICsgcmlnaHQudHlwZSArIFwiKSBmb3Igb3BlcmF0b3IgXCIgKyBvcGVyYXRvciArIFwiLCBidXQgYSBjb21tb24gYXJpdGhtZXRpYyB0eXBlIGNvdWxkIG5vdCBiZSBmb3VuZC5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHVuYXJ5IDoge1xyXG4gICAgICAgICAgICAvLyBvdmVybG9hZF9ub3RfZm91bmQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgb3AsIHR5cGUpIHtcclxuICAgICAgICAgICAgLy8gICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZXhwci51bmFyeS5vdmVybG9hZF9ub3RfZm91bmRcIiwgXCJBbiBvdmVybG9hZGVkIFwiICsgb3AgKyBcIiBvcGVyYXRvciBmb3IgdGhlIHR5cGUgXCIgKyB0eXBlICsgXCIgY2Fubm90IGJlIGZvdW5kLlwiKTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGVsZXRlIDoge1xyXG4gICAgICAgICAgICBub19kZXN0cnVjdG9yIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIHR5cGU6IENsYXNzVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLmRlbGV0ZS5ub19kZXN0cnVjdG9yXCIsIFwiSSBjYW4ndCBmaW5kIGEgZGVzdHJ1Y3RvciBmb3IgdGhlIFwiICsgdHlwZSArIFwiIGNsYXNzLiBUaGUgY29tcGlsZXIgc29tZXRpbWVzIHByb3ZpZGVzIG9uZSBpbXBsaWNpdGx5IGZvciB5b3UsIGJ1dCBub3QgaWYgb25lIG9mIGl0cyBtZW1iZXJzIG9yIGl0cyBiYXNlIGNsYXNzIGFyZSBtaXNzaW5nIGEgZGVzdHJ1Y3Rvci4gKE9yLCBpZiB5b3UndmUgdmlvbGF0ZWQgdGhlIHJ1bGUgb2YgdGhlIEJpZyBUaHJlZS4pXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwb2ludGVyIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIHR5cGU6IFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZXhwci5kZWxldGUucG9pbnRlclwiLCBcIlRoZSBkZWxldGUgb3BlcmF0b3IgcmVxdWlyZXMgYW4gb3BlcmFuZCBvZiBwb2ludGVyIHR5cGUuIChDdXJyZW50IG9wZXJhbmQgaXMgXCIgKyB0eXBlICsgXCIgKS5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHBvaW50ZXJUb09iamVjdFR5cGUgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgdHlwZTogVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLmRlbGV0ZS5wb2ludGVyVG9PYmplY3RUeXBlXCIsIFwiVGhlIGRlbGV0ZSBvcGVyYXRvciBjYW5ub3QgYmUgdXNlZCB3aXRoIGEgcG9pbnRlciB0byBhIG5vbi1vYmplY3QgdHlwZSAoZS5nLiB2b2lkIHBvaW50ZXJzLCBmdW5jdGlvbiBwb2ludGVycykuIChDdXJyZW50IG9wZXJhbmQgaXMgXCIgKyB0eXBlICsgXCIgKS5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGRlcmVmZXJlbmNlIDoge1xyXG4gICAgICAgICAgICBwb2ludGVyIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIHR5cGU6IFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZXhwci5kZXJlZmVyZW5jZS5wb2ludGVyXCIsIFwiVGhlIGRlcmVmZXJlbmNlIG9wZXJhdG9yICgqKSByZXF1aXJlcyBhbiBvcGVyYW5kIG9mIHBvaW50ZXIgdHlwZS4gKEN1cnJlbnQgb3BlcmFuZCBpcyBcIiArIHR5cGUgKyBcIiApLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcG9pbnRlclRvT2JqZWN0VHlwZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCB0eXBlOiBUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIuZGVyZWZlcmVuY2UucG9pbnRlclRvT2JqZWN0VHlwZVwiLCBcIlBvaW50ZXJzIHRvIGEgbm9uLW9iamVjdCwgbm9uLWZ1bmN0aW9uIHR5cGUgKGUuZy4gdm9pZCBwb2ludGVycykgY2Fubm90IGJlIGRlcmVmZXJlbmNlZC4gKEN1cnJlbnQgb3BlcmFuZCBpcyBcIiArIHR5cGUgKyBcIiApLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZG90IDoge1xyXG4gICAgICAgICAgICBjbGFzc190eXBlIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZXhwci5kb3QuY2xhc3NfdHlwZVwiLCBcIlRoZSBkb3Qgb3BlcmF0b3IgY2FuIG9ubHkgYmUgdXNlZCB0byBhY2Nlc3MgbWVtYmVycyBvZiBhbiBvcGVyYW5kIHdpdGggY2xhc3MgdHlwZS5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG5vX3N1Y2hfbWVtYmVyIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGNsYXNzVHlwZTogQ2xhc3NUeXBlLCBuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZXhwci5kb3Qubm9fc3VjaF9tZW1iZXJcIiwgXCJPcGVyYW5kIG9mIHR5cGUgXCIgKyBjbGFzc1R5cGUgKyBcIiBoYXMgbm8gbWVtYmVyIG5hbWVkIFwiICsgbmFtZSArIFwiLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWVtYmVyTG9va3VwIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGNsYXNzVHlwZTogQ2xhc3NUeXBlLCBuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZXhwci5kb3QubWVtYmVyTG9va3VwXCIsIFwiTWVtYmVyIGxvb2t1cCBmb3IgXCIgKyBuYW1lICsgXCIgaW4gY2xhc3MgXCIgKyBjbGFzc1R5cGUgKyBcIiBmYWlsZWQuLi5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGFycm93IDoge1xyXG4gICAgICAgICAgICBjbGFzc19wb2ludGVyX3R5cGUgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLmFycm93LmNsYXNzX3BvaW50ZXJfdHlwZVwiLCBcIlRoZSBhcnJvdyBvcGVyYXRvciBjYW4gb25seSBiZSB1c2VkIHRvIGFjY2VzcyBtZW1iZXJzIG9mIGFuIG9wZXJhbmQgd2l0aCBwb2ludGVyLXRvLWNsYXNzIHR5cGUuXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBub19zdWNoX21lbWJlciA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBjbGFzc1R5cGU6IENsYXNzVHlwZSwgbmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIuYXJyb3cubm9fc3VjaF9tZW1iZXJcIiwgXCJPcGVyYW5kIG9mIHR5cGUgXCIgKyBjbGFzc1R5cGUgKyBcIiBoYXMgbm8gbWVtYmVyIG5hbWVkIFwiICsgbmFtZSArIFwiLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWVtYmVyTG9va3VwIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGNsYXNzVHlwZTogQ2xhc3NUeXBlLCBuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZXhwci5hcnJvdy5tZW1iZXJMb29rdXBcIiwgXCJNZW1iZXIgbG9va3VwIGZvciBcIiArIG5hbWUgKyBcIiBpbiBjbGFzcyBcIiArIGNsYXNzVHlwZSArIFwiIGZhaWxlZC4uLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaW52YWxpZF9vcGVyYW5kIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIG9wZXJhdG9yOiBzdHJpbmcsIG9wZXJhbmQ6IFR5cGVkRXhwcmVzc2lvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIuaW52YWxpZF9vcGVyYW5kXCIsIFwiSW52YWxpZCBvcGVyYW5kIHR5cGUgKFwiICsgb3BlcmFuZC50eXBlICsgXCIpIGZvciBvcGVyYXRvciBcIiArIG9wZXJhdG9yICsgXCIuXCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbHZhbHVlX29wZXJhbmQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgb3BlcmF0b3I6IHN0cmluZykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIubHZhbHVlX29wZXJhbmRcIiwgXCJUaGUgXCIgKyBvcGVyYXRvciArIFwiIG9wZXJhdG9yIHJlcXVpcmVzIGFuIGx2YWx1ZSBvcGVyYW5kLlwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGludmFsaWRfYmluYXJ5X29wZXJhbmRzIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIG9wZXJhdG9yOiBzdHJpbmcsIGxlZnQ6IFR5cGVkRXhwcmVzc2lvbiwgcmlnaHQ6IFR5cGVkRXhwcmVzc2lvbikge1xyXG5cclxuICAgICAgICAgICAgaWYgKGxlZnQudHlwZS5pc1BvaW50ZXJUeXBlKCkgJiYgc2FtZVR5cGUobGVmdC50eXBlLnB0clRvLCByaWdodC50eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLmludmFsaWRfYmluYXJ5X29wZXJhbmRzXCIsIFwiVGhlIHR5cGVzIG9mIHRoZSBvcGVyYW5kcyB1c2VkIGZvciB0aGUgXCIgKyBvcGVyYXRvciArIFwiIG9wZXJhdG9yIFwiICtcclxuICAgICAgICAgICAgICAgIFwiYXJlbid0IHF1aXRlIGNvbXBhdGlibGUuIFRoZSBvbmUgb24gdGhlIHJpZ2h0IGlzIFwiICsgcmlnaHQudHlwZS5lbmdsaXNoU3RyaW5nKGZhbHNlKSArIFwiLCBidXQgdGhlIGxlZnQgaXMgYSBwb2ludGVyIHRvIHRoYXQgdHlwZS4gVGhpbmsgYWJvdXQgd2hldGhlciB5b3Ugd2FudCB0byBjb21wYXJlIHBvaW50ZXJzIChhZGRyZXNzZXMpIG9yIHRoZSBvYmplY3RzIHRoZXkgcG9pbnQgdG8uXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHJpZ2h0LnR5cGUuaXNQb2ludGVyVHlwZSgpICYmIHNhbWVUeXBlKHJpZ2h0LnR5cGUucHRyVG8sIGxlZnQudHlwZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZXhwci5pbnZhbGlkX2JpbmFyeV9vcGVyYW5kc1wiLCBcIlRoZSB0eXBlcyBvZiB0aGUgb3BlcmFuZHMgdXNlZCBmb3IgdGhlIFwiICsgb3BlcmF0b3IgKyBcIiBvcGVyYXRvciBcIiArXHJcbiAgICAgICAgICAgICAgICBcImFyZW4ndCBxdWl0ZSBjb21wYXRpYmxlLiBUaGUgb25lIG9uIHRoZSBsZWZ0IGlzIFwiICsgbGVmdC50eXBlLmVuZ2xpc2hTdHJpbmcoZmFsc2UpICsgXCIsIGJ1dCB0aGUgcmlnaHQgaXMgYSBwb2ludGVyIHRvIHRoYXQgdHlwZS4gIFRoaW5rIGFib3V0IHdoZXRoZXIgeW91IHdhbnQgdG8gY29tcGFyZSBwb2ludGVycyAoYWRkcmVzc2VzKSBvciB0aGUgb2JqZWN0cyB0aGV5IHBvaW50IHRvLlwiKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLmludmFsaWRfYmluYXJ5X29wZXJhbmRzXCIsIFwiSW52YWxpZCBvcGVyYW5kIHR5cGVzIChcIiArIGxlZnQudHlwZSArIFwiLCBcIiArIHJpZ2h0LnR5cGUgKyBcIikgZm9yIG9wZXJhdG9yIFwiICsgb3BlcmF0b3IgKyBcIi5cIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBsb2dpY2FsTm90IDoge1xyXG4gICAgICAgICAgICBvcGVyYW5kX2Jvb2wgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgb3BlcmFuZDogVHlwZWRFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIubG9naWNhbE5vdC5vcGVyYW5kX2Jvb2xcIiwgXCJFeHByZXNzaW9uIG9mIHR5cGUgKFwiICsgb3BlcmFuZC50eXBlICsgXCIpIGNhbm5vdCBiZSBjb252ZXJ0ZWQgdG8gYm9vbGVhbiAoYXMgcmVxdWlyZWQgZm9yIHRoZSBvcGVyYW5kIG9mIGxvZ2ljYWwgbm90KS5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGFkZHJlc3NPZiA6IHtcclxuICAgICAgICAgICAgbHZhbHVlX3JlcXVpcmVkIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZXhwci5hZGRyZXNzT2YubHZhbHVlX3JlcXVpcmVkXCIsIFwiT3BlcmFuZCBmb3IgYWRkcmVzcy1vZiBvcGVyYXRvciAoJikgbXVzdCBiZSBhbiBsdmFsdWUuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0ZXJuYXJ5IDoge1xyXG4gICAgICAgICAgICBjb25kaXRpb25fYm9vbCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCB0eXBlOiBUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIudGVybmFyeS5jb25kaXRpb25fYm9vbFwiLCBcIkV4cHJlc3Npb24gb2YgdHlwZSAoXCIgKyB0eXBlICsgXCIpIGNhbm5vdCBiZSBjb252ZXJ0ZWQgdG8gYm9vbGVhbiBjb25kaXRpb24uXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzYW1lVmFsdWVDYXRlZ29yeSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIudGVybmFyeS5zYW1lVmFsdWVDYXRlZ29yeVwiLCBcIlRoZSBzZWNvbmQgYW5kIHRoaXJkIG9wZXJhbmRzIG9mIHRoZSB0ZXJuYXJ5IG9wZXJhdG9yIG11c3QgeWllbGQgYSBjb21tb24gdmFsdWUgY2F0ZWdvcnkuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1bmFyeVBsdXMgOiB7XHJcbiAgICAgICAgICAgIG9wZXJhbmQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLnVuYXJ5UGx1cy5vcGVyYW5kXCIsIFwiVGhlIHVuYXJ5IHBsdXMgb3BlcmF0b3IgKCspIHJlcXVpcmVzIGFuIG9wZXJhbmQgb2YgYXJpdGhtZXRpYyBvciBwb2ludGVyIHR5cGUuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1bmFyeU1pbnVzIDoge1xyXG4gICAgICAgICAgICBvcGVyYW5kIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZXhwci51bmFyeU1pbnVzLm9wZXJhbmRcIiwgXCJUaGUgdW5hcnkgbWludXMgb3BlcmF0b3IgKC0pIHJlcXVpcmVzIGFuIG9wZXJhbmQgb2YgYXJpdGhtZXRpYyB0eXBlLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZnVuY3Rpb25DYWxsIDoge1xyXG4gICAgICAgICAgICBtYWluIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZXhwci5mdW5jdGlvbkNhbGwubWFpblwiLCBcIllvdSBjYW4ndCBleHBsaWNpdGx5IGNhbGwgbWFpbi5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG51bVBhcmFtcyA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIuZnVuY3Rpb25DYWxsLm51bVBhcmFtc1wiLCBcIkltcHJvcGVyIG51bWJlciBvZiBhcmd1bWVudHMgZm9yIHRoaXMgZnVuY3Rpb24gY2FsbC5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGludmFsaWRfb3BlcmFuZF9leHByZXNzaW9uIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIG9wZXJhbmQ6IEV4cHJlc3Npb24pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiZXhwci5mdW5jdGlvbkNhbGwuaW52YWxpZF9vcGVyYW5kX2V4cHJlc3Npb25cIiwgXCJUaGUgZXhwcmVzc2lvbiBcIiArIG9wZXJhbmQgKyBcIiBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvcGVyYW5kIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIG9wZXJhbmQ6IENQUEVudGl0eSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLmZ1bmN0aW9uQ2FsbC5vcGVyYW5kXCIsIFwiT3BlcmFuZCBvZiB0eXBlIFwiICsgb3BlcmFuZC50eXBlICsgXCIgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcGFyYW1UeXBlIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGZyb206IFR5cGUsIHRvOiBUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIuZnVuY3Rpb25DYWxsLnBhcmFtVHlwZVwiLCBcIkNhbm5vdCBjb252ZXJ0IFwiICsgZnJvbSArIFwiIHRvIFwiICsgdG8gKyBcIiBpbiBmdW5jdGlvbiBjYWxsIHBhcmFtZXRlci5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHBhcmFtUmVmZXJlbmNlVHlwZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBmcm9tOiBUeXBlLCB0bzogVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLmZ1bmN0aW9uQ2FsbC5wYXJhbVJlZmVyZW5jZVR5cGVcIiwgXCJUaGUgZ2l2ZW4gYXJndW1lbnQgKG9mIHR5cGUgXCIgKyBmcm9tICsgXCIpIGNhbm5vdCBiZSBib3VuZCB0byBhIHJlZmVyZW5jZSBwYXJhbWV0ZXIgb2YgYSBkaWZmZXJlbnQgdHlwZSAoXCIrIHRvICsgXCIpLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcGFyYW1SZWZlcmVuY2VMdmFsdWUgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLmZ1bmN0aW9uQ2FsbC5wYXJhbVJlZmVyZW5jZUx2YWx1ZVwiLCBcIkZvciBub3csIHlvdSBjYW5ub3QgYmluZCBhIG5vbi1sdmFsdWUgYXMgYSByZWZlcmVuY2UgcGFyYW1ldGVyIGluIExvYnN0ZXIuIChpLmUuIHlvdSBoYXZlIHRvIGJpbmQgYSB2YXJpYWJsZSlcIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG5vdF9kZWZpbmVkIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIHR5cGU6IFR5cGUsIHBhcmFtVHlwZXM6IHJlYWRvbmx5IFBvdGVudGlhbFBhcmFtZXRlclR5cGVbXSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJleHByLmZ1bmN0aW9uQ2FsbC5ub3RfZGVmaW5lZFwiLCBcIkEgZnVuY3Rpb24gY2FsbCBvcGVyYXRvciB3aXRoIHBhcmFtZXRlcnMgb2YgdHlwZXMgKFwiICtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbVR5cGVzLm1hcChmdW5jdGlvbihwdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHQudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KS5qb2luKFwiLCBcIilcclxuICAgICAgICAgICAgICAgICAgICArIFwiKSBmb3IgdGhlIGNsYXNzIHR5cGUgXCIgKyB0eXBlICsgXCIgaGFzIG5vdCBiZWVuIGRlZmluZWQuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vLFxyXG4gICAgICAgICAgICAvL3RhaWxfcmVjdXJzaXZlIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIHJlYXNvbikge1xyXG4gICAgICAgICAgICAvLyAgICByZXR1cm4gV2lkZ2V0QW5ub3RhdGlvbi5pbnN0YW5jZShzcmMsIFwidGFpbFJlY3Vyc2l2ZVwiLCBcIlRoaXMgZnVuY3Rpb24gY2FsbCBpcyB0YWlsIHJlY3Vyc2l2ZSFcIiArIChyZWFzb24gPyBcIiBcIityZWFzb24gOiBcIlwiKSk7XHJcbiAgICAgICAgICAgIC8vfSxcclxuICAgICAgICAgICAgLy9ub3RfdGFpbF9yZWN1cnNpdmUgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgcmVhc29uKSB7XHJcbiAgICAgICAgICAgIC8vICAgIHJldHVybiBXaWRnZXRBbm5vdGF0aW9uLmluc3RhbmNlKHNyYywgXCJyZWN1cnNpdmVcIiwgXCJUaGlzIGZ1bmN0aW9uIGNhbGwgaXMgcmVjdXJzaXZlLCBidXQgTk9UIHRhaWwgcmVjdXJzaXZlIVwiICsgKHJlYXNvbiA/IFwiIFwiK3JlYXNvbiA6IFwiXCIpKTtcclxuICAgICAgICAgICAgLy99XHJcblxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGhpc0V4cHI6IHtcclxuICAgICAgICAgICAgbWVtYmVyRnVuYyA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImV4cHIudGhpc0V4cHIubWVtYmVyRnVuY1wiLCBcIllvdSBtYXkgb25seSB1c2UgdGhlIDwvc3BhbiBjbGFzcz0nY29kZSc+dGhpczwvc3Bhbj4ga2V5d29yZCBpbiBub24tc3RhdGljIG1lbWJlciBmdW5jdGlvbnMuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9LFxyXG5cdGlkZW4gOiB7XHJcbiAgICAgICAgYW1iaWd1b3VzIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIG5hbWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImlkZW4uYW1iaWd1b3VzXCIsIFwiXFxcIlwiK25hbWUrXCJcXFwiIGlzIGFtYmlndW91cy4gKFRoZXJlIGlzIG5vdCBlbm91Z2ggY29udGV4dHVhbCB0eXBlIGluZm9ybWF0aW9uIGZvciBuYW1lIGxvb2t1cCB0byBmaWd1cmUgb3V0IHdoaWNoIGVudGl0eSB0aGlzIGlkZW50aWZpZXIgcmVmZXJzIHRvLilcIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBub19tYXRjaCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJpZGVuLm5vX21hdGNoXCIsIFwiTm8gbWF0Y2hpbmcgZnVuY3Rpb24gZm91bmQgZm9yIGNhbGwgdG8gXFxcIlwiK25hbWUrXCJcXFwiIHdpdGggdGhlc2UgcGFyYW1ldGVyIHR5cGVzLlwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIG5vdF9kZWNsYXJlZCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBuYW1lKSB7XHJcbiAgICAgICAgLy8gICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiaWRlbi5ub3RfZGVjbGFyZWRcIiwgXCJcXFwiXCIrbmFtZStcIlxcXCIgd2FzIG5vdCBkZWNsYXJlZCBpbiB0aGlzIHNjb3BlLlwiKTtcclxuICAgICAgICAvLyB9LFxyXG4gICAgICAgIGtleXdvcmQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgbmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwiaWRlbi5rZXl3b3JkXCIsIFwiXFxcIlwiK25hbWUrXCJcXFwiIGlzIGEgQysrIGtleXdvcmQgYW5kIGNhbm5vdCBiZSB1c2VkIGFzIGFuIGlkZW50aWZpZXIuXCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWx0X29wIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIG5hbWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImlkZW4uYWx0X29wXCIsIFwiXFxcIlwiK25hbWUrXCJcXFwiIGlzIGEgQysrIG9wZXJhdG9yIGFuZCBjYW5ub3QgYmUgdXNlZCBhcyBhbiBpZGVudGlmaWVyLlwiKTtcclxuICAgICAgICB9XHJcblx0fSxcclxuICAgIHBhcmFtIDoge1xyXG4gICAgICAgIG51bVBhcmFtcyA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwicGFyYW0ubnVtUGFyYW1zXCIsIFwiSW1wcm9wZXIgbnVtYmVyIG9mIGFyZ3VtZW50cy5cIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBwYXJhbVR5cGUgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgZnJvbTogVHlwZSwgdG86IFR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJwYXJhbS5wYXJhbVR5cGVcIiwgXCJDYW5ub3QgY29udmVydCBcIiArIGZyb20gKyBcIiB0byBhIHBhcmFtZXRlciBvZiB0eXBlIFwiICsgdG8gKyBcIi5cIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBwYXJhbVJlZmVyZW5jZVR5cGUgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgZnJvbTogVHlwZSwgdG86IFR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJwYXJhbS5wYXJhbVJlZmVyZW5jZVR5cGVcIiwgXCJUaGUgZ2l2ZW4gYXJndW1lbnQgKG9mIHR5cGUgXCIgKyBmcm9tICsgXCIpIGNhbm5vdCBiZSBib3VuZCB0byBhIHJlZmVyZW5jZSBwYXJhbWV0ZXIgb2YgYSBkaWZmZXJlbnQgdHlwZSAoXCIrIHRvICsgXCIpLlwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHBhcmFtUmVmZXJlbmNlTHZhbHVlIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJwYXJhbS5wYXJhbVJlZmVyZW5jZUx2YWx1ZVwiLCBcIkZvciBub3csIHlvdSBjYW5ub3QgYmluZCBhIG5vbi1sdmFsdWUgYXMgYSByZWZlcmVuY2UgcGFyYW1ldGVyIGluIExvYnN0ZXIuIChpLmUuIHlvdSBoYXZlIHRvIGJpbmQgYSB2YXJpYWJsZSlcIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBwYXJhbUNvcHlDb25zdHJ1Y3RvciA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCB0eXBlKSB7XHJcbiAgICAgICAgLy8gICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwicGFyYW0ucGFyYW1Db3B5Q29uc3RydWN0b3JcIiwgXCJDYW5ub3QgZmluZCBhIGNvcHkgY29uc3RydWN0b3IgdG8gcGFzcyBhIHBhcmFtZXRlciBvZiB0eXBlIFwiICsgdHlwZSArIFwiIGJ5IHZhbHVlLlwiKTtcclxuICAgICAgICAvLyB9LFxyXG4gICAgICAgIHRoaXNDb25zdCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCB0eXBlOiBUeXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwicGFyYW0udGhpc0NvbnN0XCIsIFwiQSBub24tY29uc3QgbWVtYmVyIGZ1bmN0aW9uIGNhbm5vdCBiZSBjYWxsZWQgb24gYSBjb25zdCBpbnN0YW5jZSBvZiB0aGUgXCIgKyB0eXBlICsgXCIgY2xhc3MuXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzdG10IDoge1xyXG4gICAgICAgIGZ1bmN0aW9uX2RlZmluaXRpb25fcHJvaGliaXRlZCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwic3RtdC5mdW5jdGlvbl9kZWZpbml0aW9uX3Byb2hpYml0ZWRcIiwgXCJBIGZ1bmN0aW9uIGRlZmluaXRpb24gaXMgcHJvaGliaXRlZCBoZXJlIChpLmUuIGluc2lkZSBhIHN0YXRlbWVudCkuXCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2VsZWN0aW9uIDoge1xyXG4gICAgICAgICAgICBjb25kaXRpb25fYm9vbCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBleHByOiBUeXBlZEV4cHJlc3Npb24pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGV4cHIsIE5vdGVLaW5kLkVSUk9SLCBcInN0bXQuc2VsZWN0aW9uLmNvbmRpdGlvbl9ib29sXCIsIFwiRXhwcmVzc2lvbiBvZiB0eXBlIChcIiArIGV4cHIudHlwZSArIFwiKSBjYW5ub3QgYmUgY29udmVydGVkIHRvIGJvb2xlYW4gY29uZGl0aW9uLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaXRlcmF0aW9uOiB7XHJcbiAgICAgICAgICAgIGNvbmRpdGlvbl9ib29sIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGV4cHI6IFR5cGVkRXhwcmVzc2lvbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoZXhwciwgTm90ZUtpbmQuRVJST1IsIFwic3RtdC5pdGVyYXRpb24uY29uZGl0aW9uX2Jvb2xcIiwgXCJFeHByZXNzaW9uIG9mIHR5cGUgKFwiICsgZXhwci50eXBlICsgXCIpIGNhbm5vdCBiZSBjb252ZXJ0ZWQgdG8gYm9vbGVhbiBjb25kaXRpb24uXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBicmVha1N0YXRlbWVudDoge1xyXG4gICAgICAgICAgICBsb2NhdGlvbjogZnVuY3Rpb24gKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcInN0bXQuYnJlYWtTdGF0ZW1lbnQubG9jYXRpb25cIiwgXCJCcmVhayBzdGF0ZW1lbnRzIG1heSBvbmx5IG9jY3VyIGluc2lkZSBsb29wcyBvciBjYXNlIHN0YXRlbWVudHMuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICByZXR1cm5TdGF0ZW1lbnQ6IHtcclxuICAgICAgICAgICAgZW1wdHk6IGZ1bmN0aW9uIChjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJzdG10LnJldHVyblN0YXRlbWVudC5lbXB0eVwiLCBcIkEgcmV0dXJuIHN0YXRlbWVudCB3aXRob3V0IGFuIGV4cHJlc3Npb24gaXMgb25seSBhbGxvd2VkIGluIHZvaWQgZnVuY3Rpb25zLlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXhwclZvaWQ6IGZ1bmN0aW9uIChjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJzdG10LnJldHVyblN0YXRlbWVudC5leHByVm9pZFwiLCBcIkEgcmV0dXJuIHN0YXRlbWVudCB3aXRoIGFuIGV4cHJlc3Npb24gb2Ygbm9uLXZvaWQgdHlwZSBpcyBvbmx5IGFsbG93ZWQgaW4gYSBub24tdm9pZCBmdW5jdGlvbi5cIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbnZlcnQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgZnJvbTogVHlwZSwgdG86IFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwic3RtdC5yZXR1cm5TdGF0ZW1lbnQuY29udmVydFwiLCBcIkNhbm5vdCBjb252ZXJ0IFwiICsgZnJvbSArIFwiIHRvIHJldHVybiB0eXBlIG9mIFwiICsgdG8gKyBcIiBpbiByZXR1cm4gc3RhdGVtZW50LlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBsaW5rIDoge1xyXG4gICAgICAgIGxpYnJhcnlfdW5zdXBwb3J0ZWQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgZnVuYzogRnVuY3Rpb25FbnRpdHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBMaW5rZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwibGluay5saWJyYXJ5X3Vuc3VwcG9ydGVkXCIsIFwiSSdtIHNvcnJ5LCBidXQgdGhpcyBmdW5jdGlvbiAoXCIgKyBmdW5jICsgXCIpIGlzIGEgcGFydCBvZiB0aGUgc3RhbmRhcmQgbGlicmFyeSB0aGF0IGlzbid0IGN1cnJlbnRseSBzdXBwb3J0ZWQuXCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbXVsdGlwbGVfZGVmIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIG5hbWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IExpbmtlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJsaW5rLm11bHRpcGxlX2RlZlwiLCBcIk11bHRpcGxlIGRlZmluaXRpb25zIGZvdW5kIGZvciBcIiArIG5hbWUgKyBcIi5cIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0eXBlX21pc21hdGNoIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGVudDE6IERlY2xhcmVkRW50aXR5LCBlbnQyOiBEZWNsYXJlZEVudGl0eSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IExpbmtlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJsaW5rLnR5cGVfbWlzbWF0Y2hcIiwgXCJNdWx0aXBsZSBkZWNsYXJhdGlvbnMgZm91bmQgZm9yIFwiICsgZW50MS5uYW1lICsgXCIsIGJ1dCB3aXRoIGRpZmZlcmVudCB0eXBlcy5cIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjbGFzc19zYW1lX3Rva2VucyA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBlbnQxOiBEZWNsYXJlZEVudGl0eSwgZW50MjogRGVjbGFyZWRFbnRpdHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBMaW5rZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwibGluay5jbGFzc19zYW1lX3Rva2Vuc1wiLCBcIk11bHRpcGxlIGNsYXNzIGRlZmluaXRpb25zIGFyZSBvayBpZiB0aGV5IGFyZSBFWEFDVExZIHRoZSBzYW1lIGluIHRoZSBzb3VyY2UgY29kZS4gSG93ZXZlciwgdGhlIG11bHRpcGxlIGRlZmluaXRpb25zIGZvdW5kIGZvciBcIiArIGVudDEubmFtZSArIFwiIGRvIG5vdCBtYXRjaCBleGFjdGx5LlwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGZ1bmMgOiB7XHJcbiAgICAgICAgICAgIGRlZl9ub3RfZm91bmQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgZnVuYzogRnVuY3Rpb25FbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTGlua2VyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImxpbmsuZnVuYy5kZWZfbm90X2ZvdW5kXCIsIFwiQ2Fubm90IGZpbmQgZGVmaW5pdGlvbiBmb3IgZnVuY3Rpb24gXCIgKyBmdW5jLm5hbWUgKyBcIi4gVGhhdCBpcywgdGhlIGZ1bmN0aW9uIGlzIGRlY2xhcmVkIGFuZCBJIGtub3cgd2hhdCBpdCBpcywgYnV0IEkgY2FuJ3QgZmluZCB0aGUgYWN0dWFsIGNvZGUgdGhhdCBpbXBsZW1lbnRzIGl0LlwiKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbm9fbWF0Y2hpbmdfb3ZlcmxvYWQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgZnVuYzogRnVuY3Rpb25FbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTGlua2VyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImxpbmsuZnVuYy5ub19tYXRjaGluZ19vdmVybG9hZFwiLCBgQWx0aG91Z2ggc29tZSBkZWZpbml0aW9ucyBmb3IgYSBmdW5jdGlvbiBuYW1lZCAke2Z1bmMubmFtZX0gZXhpc3QsIEkgY2FuJ3QgZmluZCBvbmUgd2l0aCB0aGUgcmlnaHQgc2lnbmF0dXJlIHRvIG1hdGNoIHRoaXMgZGVjbGFyYXRpb24uYCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJldHVyblR5cGVzTWF0Y2ggOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgZnVuYzogRnVuY3Rpb25FbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTGlua2VyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImxpbmsuZnVuYy5yZXR1cm5UeXBlc01hdGNoXCIsIFwiVGhpcyBkZWNsYXJhdGlvbiBvZiB0aGUgZnVuY3Rpb24gXCIgKyBmdW5jLm5hbWUgKyBcIiBoYXMgYSBkaWZmZXJlbnQgcmV0dXJuIHR5cGUgdGhhbiBpdHMgZGVmaW5pdGlvbi5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGRlZl9ub3RfZm91bmQgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgZW50OiBTdGF0aWNFbnRpdHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBMaW5rZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwibGluay5kZWZfbm90X2ZvdW5kXCIsIFwiQ2Fubm90IGZpbmQgZGVmaW5pdGlvbiBmb3Igb2JqZWN0IFwiICsgZW50Lm5hbWUgKyBcIi4gKEl0IGlzIGRlY2xhcmVkLCBzbyBJIGtub3cgaXQncyBhIHZhcmlhYmxlIGFuZCB3aGF0IHR5cGUgaXQgaXMsIGJ1dCBpdCdzIG5ldmVyIGRlZmluZWQgYW55d2hlcmUuKVwiKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgIH0sXHJcbiAgICAvLyBsb29rdXAgOiB7XHJcbiAgICAvLyAgICAgLy8gYmFkTG9va3VwIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIG5hbWUpIHtcclxuICAgIC8vICAgICAvLyAgICAgbmFtZSA9IElkZW50aWZpZXIucXVhbGlmaWVkTmFtZVN0cmluZyhuYW1lKTtcclxuICAgIC8vICAgICAvLyAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJsb29rdXAuYmFkTG9va3VwXCIsIFwiTmFtZSBsb29rdXAgZm9yIFxcXCJcIituYW1lK1wiXFxcIiB3YXMgdW5zdWNjZXNzZnVsLilcIik7XHJcbiAgICAvLyAgICAgLy8gfSxcclxuICAgIC8vICAgICBhbWJpZ3VvdXMgOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgbmFtZSkge1xyXG4gICAgLy8gICAgICAgICBuYW1lID0gSWRlbnRpZmllci5xdWFsaWZpZWROYW1lU3RyaW5nKG5hbWUpO1xyXG4gICAgLy8gICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImxvb2t1cC5hbWJpZ3VvdXNcIiwgXCJcXFwiXCIrbmFtZStcIlxcXCIgaXMgYW1iaWd1b3VzLiAoVGhlcmUgaXMgbm90IGVub3VnaCBjb250ZXh0dWFsIHR5cGUgaW5mb3JtYXRpb24gZm9yIG5hbWUgbG9va3VwIHRvIGZpZ3VyZSBvdXQgd2hpY2ggZW50aXR5IHRoaXMgaWRlbnRpZmllciByZWZlcnMgdG8uKVwiKTtcclxuICAgIC8vICAgICB9LFxyXG4gICAgLy8gICAgIG5vX21hdGNoIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIG5hbWUsIHBhcmFtVHlwZXMsIGlzVGhpc0NvbnN0KSB7XHJcbiAgICAvLyAgICAgICAgIG5hbWUgPSBJZGVudGlmaWVyLnF1YWxpZmllZE5hbWVTdHJpbmcobmFtZSk7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwibG9va3VwLm5vX21hdGNoXCIsIFwiTm8gbWF0Y2hpbmcgZnVuY3Rpb24gZm91bmQgZm9yIGNhbGwgdG8gXFxcIlwiK25hbWUrXCJcXFwiIHdpdGggcGFyYW1ldGVyIHR5cGVzIChcIiArXHJcbiAgICAvLyAgICAgICAgIHBhcmFtVHlwZXMubWFwKGZ1bmN0aW9uKHB0KSB7XHJcbiAgICAvLyAgICAgICAgICAgICByZXR1cm4gcHQudG9TdHJpbmcoKTtcclxuICAgIC8vICAgICAgICAgfSkuam9pbihcIiwgXCIpICtcclxuICAgIC8vICAgICAgICAgXCIpXCIgKyAoaXNUaGlzQ29uc3QgPyBcIiBhbmQgdGhhdCBtYXkgYmUgYXBwbGllZCB0byBhIGNvbnN0IG9iamVjdCAob3IgY2FsbGVkIGZyb20gY29uc3QgbWVtYmVyIGZ1bmN0aW9uKS5cIiA6IFwiLlwiKSk7XHJcbiAgICAvLyAgICAgfSxcclxuICAgIC8vICAgICBoaWRkZW4gOiBmdW5jdGlvbihjb25zdHJ1Y3Q6IFRyYW5zbGF0aW9uVW5pdENvbnN0cnVjdCwgbmFtZSwgcGFyYW1UeXBlcywgaXNUaGlzQ29uc3QpIHtcclxuICAgIC8vICAgICAgICAgbmFtZSA9IElkZW50aWZpZXIucXVhbGlmaWVkTmFtZVN0cmluZyhuYW1lKTtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJsb29rdXAuaGlkZGVuXCIsIFwiTm8gbWF0Y2hpbmcgZnVuY3Rpb24gZm91bmQgZm9yIGNhbGwgdG8gXFxcIlwiK25hbWUrXCJcXFwiIHdpdGggcGFyYW1ldGVyIHR5cGVzKFwiICtcclxuICAgIC8vICAgICAgICAgICAgIHBhcmFtVHlwZXMubWFwKGZ1bmN0aW9uKHB0KSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgcmV0dXJuIHB0LnRvU3RyaW5nKCk7XHJcbiAgICAvLyAgICAgICAgICAgICB9KS5qb2luKFwiLCBcIikgK1xyXG4gICAgLy8gICAgICAgICAgICAgXCIpXCIgKyAoaXNUaGlzQ29uc3QgPyBcIiBhbmQgdGhhdCBtYXkgYmUgYXBwbGllZCB0byBhIGNvbnN0IG9iamVjdCAob3IgY2FsbGVkIGZyb20gY29uc3QgbWVtYmVyIGZ1bmN0aW9uKS5cIiA6IFwiLlwiKSArIFwiIChBY3R1YWxseSwgdGhlcmUgaXMgYSBtYXRjaCBpbiBhIG1vcmUgZGlzdGFudCBzY29wZSwgYnV0IGl0IGlzIGhpZGRlbiBieSBhbiBlbnRpdHkgb2YgdGhlIHNhbWUgbmFtZSBpbiBhIG5lYXJlciBzY29wZS4pXCIpO1xyXG4gICAgLy8gICAgIH0sXHJcbiAgICAvLyAgICAgbm90X2ZvdW5kIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIG5hbWUpIHtcclxuICAgIC8vICAgICAgICAgbmFtZSA9IElkZW50aWZpZXIucXVhbGlmaWVkTmFtZVN0cmluZyhuYW1lKTtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJsb29rdXAubm90X2ZvdW5kXCIsIFwiQ2Fubm90IGZpbmQgZGVjbGFyYXRpb24gZm9yIFxcXCJcIituYW1lK1wiXFxcIi5cIik7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfSxcclxuICAgIHByZXByb2Nlc3MgOiB7XHJcbiAgICAgICAgcmVjdXJzaXZlSW5jbHVkZSA6IGZ1bmN0aW9uKHNvdXJjZVJlZjogU291cmNlUmVmZXJlbmNlKSB7XHJcbiAgICAgICAgICAgICByZXR1cm4gbmV3IFByZXByb2Nlc3Nvck5vdGUoc291cmNlUmVmLCBOb3RlS2luZC5XQVJOSU5HLCBcInByZXByb2Nlc3MucmVjdXJzaXZlSW5jbHVkZVwiLCBcIlJlY3Vyc2l2ZSAjaW5jbHVkZSBkZXRlY3RlZC4gKGkuZS4gQSBmaWxlICNpbmNsdWRlZCBpdHNlbGYsIG9yICNpbmNsdWRlZCBhIGRpZmZlcmVudCBmaWxlIHRoYXQgdGhlbiAjaW5jbHVkZXMgdGhlIG9yaWdpbmFsLCBldGMuKVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbG9ic3RlciA6IHtcclxuICAgICAgICB1bnN1cHBvcnRlZF9mZWF0dXJlIDogZnVuY3Rpb24oY29uc3RydWN0OiBUcmFuc2xhdGlvblVuaXRDb25zdHJ1Y3QsIGZlYXR1cmU6IHN0cmluZykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVyTm90ZShjb25zdHJ1Y3QsIE5vdGVLaW5kLkVSUk9SLCBcImxvYnN0ZXIudW5zdXBwb3J0ZWRfZmVhdHVyZVwiLCBcIlNvcnJ5LCB5b3UgaGF2ZSB1c2VkIGEgQysrIGZlYXR1cmUgKFwiICsgZmVhdHVyZSArIFwiKSB0aGF0IGlzIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkIGluIExvYnN0ZXIuXCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVmZXJlbmNlUHJ2YWx1ZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwibG9ic3Rlci5yZWZlcmVuY2VQcnZhbHVlXCIsIFwiU29ycnksIExvYnN0ZXIgZG9lcyBub3QgeWV0IHN1cHBvcnQgYmluZGluZyByZWZlcmVuY2VzIChldmVuIGlmIHRoZXkgYXJlIHJlZmVyZW5jZS10by1jb25zdCkgdG8gcHJ2YWx1ZXMgKGUuZy4gdGVtcG9yYXJ5IG9iamVjdHMpLlwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRlcm5hcnlTYW1lVHlwZSA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCB0eXBlMTogVHlwZSwgdHlwZTI6IFR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlck5vdGUoY29uc3RydWN0LCBOb3RlS2luZC5FUlJPUiwgXCJsb2JzdGVyLnRlcm5hcnlTYW1lVHlwZVwiLCBcIkxvYnN0ZXIncyB0ZXJuYXJ5IG9wZXJhdG9yIHJlcXVpcmVzIHNlY29uZCBhbmQgdGhpcmQgb3BlcmFuZHMgb2YgdGhlIHNhbWUgdHlwZS4gVGhlIGdpdmVuIG9wZXJhbmRzIGhhdmUgdHlwZXMgXCIgKyB0eXBlMSArIFwiIGFuZCBcIiArIHR5cGUyICsgXCIuXCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGVybmFyeU5vVm9pZCA6IGZ1bmN0aW9uKGNvbnN0cnVjdDogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcGlsZXJOb3RlKGNvbnN0cnVjdCwgTm90ZUtpbmQuRVJST1IsIFwibG9ic3Rlci50ZXJuYXJ5Tm9Wb2lkXCIsIFwiTG9ic3RlcidzIHRlcm5hcnkgb3BlcmF0b3IgZG9lcyBub3QgYWxsb3cgdm9pZCBvcGVyYW5kcy5cIik7XHJcbiAgICAgICAgfSxcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTm90ZUhhbmRsZXIgeyBcclxuICAgIGFkZE5vdGUobm90ZTogTm90ZSkgOiB2b2lkO1xyXG5cclxuXHJcbn0iLCJpbXBvcnQgeyBQb3RlbnRpYWxQYXJhbWV0ZXJUeXBlLCBDbGFzc1R5cGUsIFR5cGUsIE9iamVjdFR5cGUsIHNhbWVUeXBlLCBSZWZlcmVuY2VUeXBlLCBCb3VuZGVkQXJyYXlUeXBlLCBDaGFyLCBBcnJheUVsZW1UeXBlLCBGdW5jdGlvblR5cGUsIHJlZmVyZW5jZUNvbXBhdGlibGUgfSBmcm9tIFwiLi90eXBlc1wiO1xyXG5pbXBvcnQgeyBhc3NlcnQsIE11dGFibGUsIHVuZXNjYXBlU3RyaW5nLCBhc3NlcnRGYWxzZSB9IGZyb20gXCIuLi91dGlsL3V0aWxcIjtcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gXCIuLi91dGlsL29ic2VydmVcIjtcclxuaW1wb3J0IHsgRGVzY3JpcHRpb24sIFJ1bnRpbWVDb25zdHJ1Y3QsIFJ1bnRpbWVGdW5jdGlvbiwgUG90ZW50aWFsRnVsbEV4cHJlc3Npb24sIFJ1bnRpbWVQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiB9IGZyb20gXCIuL2NvbnN0cnVjdHNcIjtcclxuaW1wb3J0IHsgU2ltcGxlRGVjbGFyYXRpb24sIExvY2FsVmFyaWFibGVEZWZpbml0aW9uLCBQYXJhbWV0ZXJEZWZpbml0aW9uLCBHbG9iYWxPYmplY3REZWZpbml0aW9uLCBMaW5rZWREZWZpbml0aW9uLCBGdW5jdGlvbkRlZmluaXRpb24gfSBmcm9tIFwiLi9kZWNsYXJhdGlvbnNcIjtcclxuaW1wb3J0IHsgQ1BQT2JqZWN0LCBBdXRvT2JqZWN0LCBTdGF0aWNPYmplY3QsIFN0cmluZ0xpdGVyYWxPYmplY3QsIFRlbXBvcmFyeU9iamVjdCB9IGZyb20gXCIuL29iamVjdHNcIjtcclxuaW1wb3J0IHsgQ1BQRXJyb3IgfSBmcm9tIFwiLi9lcnJvcnNcIjtcclxuaW1wb3J0IHsgTWVtb3J5IH0gZnJvbSBcIi4vcnVudGltZUVudmlyb25tZW50XCI7XHJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi9leHByZXNzaW9uQmFzZVwiO1xyXG5cclxuXHJcblxyXG5pbnRlcmZhY2UgTm9ybWFsTG9va3VwT3B0aW9ucyB7XHJcbiAgICByZWFkb25seSBraW5kOiBcIm5vcm1hbFwiO1xyXG4gICAgcmVhZG9ubHkgb3duPzogYm9vbGVhbjtcclxuICAgIHJlYWRvbmx5IG5vQmFzZT86IGJvb2xlYW47XHJcbn1cclxuXHJcbmludGVyZmFjZSBFeGFjdExvb2t1cE9wdGlvbnMge1xyXG4gICAgcmVhZG9ubHkga2luZDogXCJleGFjdFwiO1xyXG4gICAgcmVhZG9ubHkgb3duPzogYm9vbGVhbjtcclxuICAgIHJlYWRvbmx5IG5vQmFzZT86IGJvb2xlYW47XHJcbiAgICByZWFkb25seSBwYXJhbVR5cGVzOiByZWFkb25seSBQb3RlbnRpYWxQYXJhbWV0ZXJUeXBlW11cclxuICAgIHJlYWRvbmx5IHJlY2VpdmVyVHlwZT86IENsYXNzVHlwZTtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgTmFtZUxvb2t1cE9wdGlvbnMgPSBOb3JtYWxMb29rdXBPcHRpb25zIHwgRXhhY3RMb29rdXBPcHRpb25zO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNjb3BlIHtcclxuXHJcbiAgICAvLyBwcml2YXRlIHN0YXRpYyBISURERU4gPSBTeW1ib2woXCJISURERU5cIik7XHJcbiAgICAvLyBwcml2YXRlIHN0YXRpYyBOT19NQVRDSCA9IFN5bWJvbChcIk5PX01BVENIXCIpO1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgZW50aXRpZXM6IHtbaW5kZXg6c3RyaW5nXTogRGVjbGFyZWRPYmplY3RFbnRpdHkgfCBGdW5jdGlvbkVudGl0eVtdIHwgdW5kZWZpbmVkfTtcclxuICAgIHB1YmxpYyByZWFkb25seSBwYXJlbnQ/OiBTY29wZTtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IocGFyZW50PzogU2NvcGUpIHtcclxuICAgICAgICB0aGlzLmVudGl0aWVzID0ge307XHJcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRvU3RyaW5nKCkge1xyXG4gICAgICAgIGxldCBzdHIgPSBcIlwiO1xyXG4gICAgICAgIGZvcihsZXQga2V5IGluIHRoaXMuZW50aXRpZXMpIHtcclxuICAgICAgICAgICAgc3RyICs9IHRoaXMuZW50aXRpZXNba2V5XSArIFwiXFxuXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdHI7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHVibGljIGFsbEVudGl0aWVzKCkge1xyXG4gICAgLy8gICAgIHZhciBlbnRzID0gW107XHJcbiAgICAvLyAgICAgZm9yKHZhciBuYW1lIGluIHRoaXMuZW50aXRpZXMpIHtcclxuICAgIC8vICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5lbnRpdGllc1tuYW1lXSkpIHtcclxuICAgIC8vICAgICAgICAgICAgIHZhciBlID0gPENQUEVudGl0eVtdPnRoaXMuZW50aXRpZXNbbmFtZV07XHJcbiAgICAvLyAgICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgZS5sZW5ndGg7ICsraSkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGVudHMucHVzaChlW2ldKTtcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICBlbHNle1xyXG4gICAgLy8gICAgICAgICAgICAgZW50cy5wdXNoKHRoaXMuZW50aXRpZXNbbmFtZV0pO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIHJldHVybiBlbnRzO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIFRPRE8gTkVXOiB0aGlzIGRvY3VtZW50YXRpb24gaXMga2luZCBvZiBtZXNzeSAoYnV0IGhleSwgYXQgbGVhc3QgaXQgZXhpc3RzISlcclxuICAgIC8qKlxyXG4gICAgICogQXR0ZW1wdHMgdG8gYWRkIGEgbmV3IGVudGl0eSB0byB0aGlzIHNjb3BlLlxyXG4gICAgICogQHBhcmFtIHtEZWNsYXJlZEVudGl0eX0gbmV3RW50aXR5IC0gVGhlIGVudGl0eSB0byBhdHRlbXB0IHRvIGFkZC5cclxuICAgICAqIEByZXR1cm5zIHtEZWNsYXJlZEVudGl0eX0gRWl0aGVyIHRoZSBlbnRpdHkgdGhhdCB3YXMgYWRkZWQsIG9yIGFuIGV4aXN0aW5nIG9uZSBhbHJlYWR5IHRoZXJlLCBhc3N1bWluZyBpdCB3YXMgY29tcGF0aWJsZS5cclxuICAgICAqIEB0aHJvd3MgIHtTZW1hbnRpY0V4Y2VwdGlvbn0gSWYgYW4gZXJyb3IgcHJldmVudHMgdGhlIGVudGl0eSBiZWluZyBhZGRlZCBzdWNjZXNzZnVsbHkuIChlLmcuIEZ1bmN0aW9uIGRlY2xhcmF0aW9ucyB3aXRoXHJcbiAgICAgKiB0aGUgc2FtZSBzaWduYXR1cmUgYnV0IGEgbWlzbWF0Y2ggb2YgcmV0dXJuIHR5cGVzKVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWRkRGVjbGFyZWRFbnRpdHkobmV3RW50aXR5OiBEZWNsYXJlZEVudGl0eSkge1xyXG4gICAgICAgIGxldCBleGlzdGluZ0VudGl0eSA9IHRoaXMuZW50aXRpZXNbbmV3RW50aXR5Lm5hbWVdO1xyXG5cclxuICAgICAgICBpZiAoIWV4aXN0aW5nRW50aXR5KSB7IC8vIE5vIHByZXZpb3VzIGVudGl0eSB3aXRoIHRoaXMgbmFtZSwgc28ganVzdCBhZGQgaXRcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW50aXRpZXNbbmV3RW50aXR5Lm5hbWVdID0gbmV3RW50aXR5IGluc3RhbmNlb2YgRnVuY3Rpb25FbnRpdHkgPyBbbmV3RW50aXR5XSA6IG5ld0VudGl0eTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIG5ld0VudGl0eS5tZXJnZUludG8oZXhpc3RpbmdFbnRpdHkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHByb3RlY3RlZCBkZWNsYXJlZEVudGl0eUFkZGVkKGVudDogRGVjbGFyZWRFbnRpdHkpIHtcclxuICAgICAgICBcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgc2luZ2xlTG9va3VwKG5hbWU6IHN0cmluZywgb3B0aW9uczogTmFtZUxvb2t1cE9wdGlvbnMpIHtcclxuICAgIC8vICAgICB2YXIgcmVzdWx0ID0gdGhpcy5sb29rdXAobmFtZSwgb3B0aW9ucyk7XHJcbiAgICAvLyAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzdWx0KSl7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiByZXN1bHRbMF07XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2V7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIHB1YmxpYyByZXF1aXJlZExvb2t1cChuYW1lLCBvcHRpb25zKXtcclxuICAgIC8vICAgICByZXR1cm4gdGhpcy5pX3JlcXVpcmVkTG9va3VwSW1wbCh0aGlzLmxvb2t1cChuYW1lLCBvcHRpb25zKSwgbmFtZSwgb3B0aW9ucyk7XHJcbiAgICAvLyB9XHJcbiAgICAvLyBwcml2YXRlIGlfcmVxdWlyZWRMb29rdXBJbXBsKHJlcywgbmFtZSwgb3B0aW9ucykge1xyXG4gICAgLy8gICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG4gICAgLy8gICAgIGlmICghcmVzKXtcclxuICAgIC8vICAgICAgICAgaWYgKG9wdGlvbnMucGFyYW1UeXBlcyB8fCBvcHRpb25zLnBhcmFtcyl7XHJcbiAgICAvLyAgICAgICAgICAgICB0aHJvdyBTZW1hbnRpY0V4Y2VwdGlvbnMuTm9NYXRjaC5pbnN0YW5jZSh0aGlzLCBuYW1lLFxyXG4gICAgLy8gICAgICAgICAgICAgICAgIG9wdGlvbnMucGFyYW1UeXBlcyB8fCBvcHRpb25zLnBhcmFtcyAmJiBvcHRpb25zLnBhcmFtcy5tYXAoZnVuY3Rpb24ocCl7cmV0dXJuIHAudHlwZTt9KSxcclxuICAgIC8vICAgICAgICAgICAgICAgICBvcHRpb25zLmlzVGhpc0NvbnN0XHJcbiAgICAvLyAgICAgICAgICAgICApO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIGVsc2V7XHJcbiAgICAvLyAgICAgICAgICAgICB0aHJvdyBTZW1hbnRpY0V4Y2VwdGlvbnMuTm90Rm91bmQuaW5zdGFuY2UodGhpcywgbmFtZSk7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZSBpZihBcnJheS5pc0FycmF5KHJlcykpe1xyXG4gICAgLy8gICAgICAgICBpZiAocmVzID09PSBTY29wZS5ISURERU4pe1xyXG4gICAgLy8gICAgICAgICAgICAgdGhyb3cgU2VtYW50aWNFeGNlcHRpb25zLkhpZGRlbi5pbnN0YW5jZSh0aGlzLCBuYW1lLFxyXG4gICAgLy8gICAgICAgICAgICAgICAgIG9wdGlvbnMucGFyYW1UeXBlcyB8fCBvcHRpb25zLnBhcmFtcyAmJiBvcHRpb25zLnBhcmFtcy5tYXAoZnVuY3Rpb24ocCl7cmV0dXJuIHAudHlwZTt9KSxcclxuICAgIC8vICAgICAgICAgICAgICAgICBvcHRpb25zLmlzVGhpc0NvbnN0KTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICBpZiAocmVzLmxlbmd0aCA9PT0gMCl7XHJcbiAgICAvLyAgICAgICAgICAgICB0aHJvdyBTZW1hbnRpY0V4Y2VwdGlvbnMuTm9NYXRjaC5pbnN0YW5jZSh0aGlzLCBuYW1lLFxyXG4gICAgLy8gICAgICAgICAgICAgICAgIG9wdGlvbnMucGFyYW1UeXBlcyB8fCBvcHRpb25zLnBhcmFtcyAmJiBvcHRpb25zLnBhcmFtcy5tYXAoZnVuY3Rpb24ocCl7cmV0dXJuIHAudHlwZTt9KSxcclxuICAgIC8vICAgICAgICAgICAgICAgICBvcHRpb25zLmlzVGhpc0NvbnN0XHJcbiAgICAvLyAgICAgICAgICAgICApO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIGlmIChyZXMubGVuZ3RoID4gMSl7XHJcbiAgICAvLyAgICAgICAgICAgICB0aHJvdyBTZW1hbnRpY0V4Y2VwdGlvbnMuQW1iaWd1aXR5Lmluc3RhbmNlKHRoaXMsIG5hbWUpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIHJldHVybiByZXNbMF07XHJcbiAgICAvLyAgICAgfVxyXG5cclxuICAgIC8vICAgICByZXR1cm4gcmVzO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIC8vIFRPRE86IHRoaXMgc2hvdWxkIGJlIGEgbWVtYmVyIGZ1bmN0aW9uIG9mIHRoZSBQcm9ncmFtIGNsYXNzXHJcbiAgICAvLyBwdWJsaWMgcXVhbGlmaWVkTG9va3VwKG5hbWVzLCBvcHRpb25zKXtcclxuICAgIC8vICAgICBhc3NlcnQoQXJyYXkuaXNBcnJheShuYW1lcykgJiYgbmFtZXMubGVuZ3RoID4gMCk7XHJcbiAgICAvLyAgICAgdmFyIHNjb3BlID0gdGhpcy5zaW0uZ2V0R2xvYmFsU2NvcGUoKTtcclxuICAgIC8vICAgICBmb3IodmFyIGkgPSAwOyBzY29wZSAmJiBpIDwgbmFtZXMubGVuZ3RoIC0gMTsgKytpKXtcclxuICAgIC8vICAgICAgICAgc2NvcGUgPSBzY29wZS5jaGlsZHJlbltuYW1lc1tpXS5pZGVudGlmaWVyXTtcclxuICAgIC8vICAgICB9XHJcblxyXG4gICAgLy8gICAgIGlmICghc2NvcGUpe1xyXG4gICAgLy8gICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIC8vICAgICB9XHJcblxyXG4gICAgLy8gICAgIHZhciBuYW1lID0gbmFtZXMubGFzdCgpLmlkZW50aWZpZXI7XHJcbiAgICAvLyAgICAgdmFyIHJlc3VsdCA9IHNjb3BlLmxvb2t1cChuYW1lLCBjb3B5TWl4aW4ob3B0aW9ucywge3F1YWxpZmllZDp0cnVlfSkpO1xyXG5cclxuICAgIC8vICAgICAvLyBRdWFsaWZpZWQgbG9va3VwIHN1cHByZXNzZXMgdmlydHVhbCBmdW5jdGlvbiBjYWxsIG1lY2hhbmlzbSwgc28gaWYgd2VcclxuICAgIC8vICAgICAvLyBqdXN0IGxvb2tlZCB1cCBhIE1lbWJlckZ1bmN0aW9uRW50aXR5LCB3ZSBjcmVhdGUgYSBwcm94eSB0byBkbyB0aGF0LlxyXG4gICAgLy8gICAgIGlmIChBcnJheS5pc0FycmF5KHJlc3VsdCkpe1xyXG4gICAgLy8gICAgICAgICByZXN1bHQgPSByZXN1bHQubWFwKGZ1bmN0aW9uKGVsZW0pe1xyXG4gICAgLy8gICAgICAgICAgICAgcmV0dXJuIGVsZW0gaW5zdGFuY2VvZiBNZW1iZXJGdW5jdGlvbkVudGl0eSA/IGVsZW0uc3VwcHJlc3NlZFZpcnR1YWxQcm94eSgpIDogZWxlbTtcclxuICAgIC8vICAgICAgICAgfSk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgcHVibGljIGxvb2t1cChuYW1lOiBzdHJpbmcsIG9wdGlvbnM6IE5hbWVMb29rdXBPcHRpb25zID0ge2tpbmQ6XCJub3JtYWxcIn0pIDogRGVjbGFyZWRPYmplY3RFbnRpdHkgfCBGdW5jdGlvbkVudGl0eVtdIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHJcbiAgICAgICAgYXNzZXJ0KCFuYW1lLmluY2x1ZGVzKFwiOjpcIiksIFwiUXVhbGlmaWVkIG5hbWUgdXNlZCB3aXRoIHVucXVhbGlmaWVkIGxvb29rdXAgZnVuY3Rpb24uXCIpO1xyXG5cclxuICAgICAgICBsZXQgZW50ID0gdGhpcy5lbnRpdGllc1tuYW1lXTtcclxuXHJcbiAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhbiBlbnRpdHkgaW4gdGhpcyBzY29wZSBhbmQgd2UgZGlkbid0IHNwZWNpZnkgd2VcclxuICAgICAgICAvLyB3YW50ZWQgYW4gb3duIGVudGl0eSwgbG9vayBpbiBwYXJlbnQgc2NvcGUgKGlmIHRoZXJlIGlzIG9uZSlcclxuICAgICAgICBpZiAoIWVudCAmJiAhb3B0aW9ucy5vd24gJiYgdGhpcy5wYXJlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50Lmxvb2t1cChuYW1lLCBvcHRpb25zKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIHdlIGRpZG4ndCBmaW5kIGFueXRoaW5nLCByZXR1cm4gbnVsbFxyXG4gICAgICAgIGlmICghZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZW50KSkge1xyXG4gICAgICAgICAgICAvLyBJZiBpdCdzIG5vdCBhbiBhcnJheSwgaXQncyBhIHNpbmdsZSBlbnRpdHkgc28gcmV0dXJuIGl0XHJcbiAgICAgICAgICAgIHJldHVybiBlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgdmlhYmxlID0gZW50OyAvLyBhIHNldCBvZiBwb3RlbnRpYWxseSB2aWFibGUgZnVuY3Rpb24gb3ZlcmxvYWRzXHJcblxyXG4gICAgICAgICAgICAvLyBJZiB3ZSdyZSBsb29raW5nIGZvciBhbiBleGFjdCBtYXRjaCBvZiBwYXJhbWV0ZXIgdHlwZXNcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMua2luZCA9PT0gXCJleGFjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbVR5cGVzID0gb3B0aW9ucy5wYXJhbVR5cGVzO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVjZWl2ZXJUeXBlID0gb3B0aW9ucy5yZWNlaXZlclR5cGU7XHJcbiAgICAgICAgICAgICAgICB2aWFibGUgPSBlbnQuZmlsdGVyKChjYW5kKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgcGFyYW1ldGVyIHR5cGVzIG1hdGNoXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjYW5kLnR5cGUuc2FtZVBhcmFtVHlwZXMocGFyYW1UeXBlcykpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWNlaXZlclR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgcmVjZWl2ZXIgdHlwZSBpcyBkZWZpbmVkLCBjYW5kaWRhdGUgbXVzdCBhbHNvIGhhdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYSByZWNlaXZlciBhbmQgdGhlIHByZXNlbmNlL2Fic2VuY2Ugb2YgY29uc3QgbXVzdCBtYXRjaFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiB0aGUgYWN0dWFsIHJlY2VpdmVyIHR5cGUgZG9lcyBub3QgbmVlZCB0byBtYXRjaCwganVzdCB0aGUgY29uc3RuZXNzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYW5kLnR5cGUucmVjZWl2ZXJUeXBlICYmIHJlY2VpdmVyVHlwZS5pc0NvbnN0ID09PSBjYW5kLnR5cGUuaXNDb25zdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIG5vIHJlY2VpdmVyIHR5cGUgaXMgZGVmaW5lZCwgY2FuZGlkYXRlIG11c3Qgbm90IGhhdmUgYSByZWNlaXZlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWNhbmQudHlwZS5yZWNlaXZlclR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYW5kLnR5cGUuc2FtZVBhcmFtVHlwZXMocGFyYW1UeXBlcyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmlhYmxlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyAvLyBJZiB3ZSdyZSBsb29raW5nIGZvciBzb21ldGhpbmcgdGhhdCBjb3VsZCBiZSBjYWxsZWQgd2l0aCBnaXZlbiBwYXJhbWV0ZXIgdHlwZXMsIGluY2x1ZGluZyBjb252ZXJzaW9uc1xyXG4gICAgICAgICAgICAvLyBlbHNlIGlmIChvcHRpb25zLnBhcmFtVHlwZXMpIHtcclxuICAgICAgICAgICAgLy8gICAgIC8vIHZhciBwYXJhbXMgPSBvcHRpb25zLnBhcmFtcyB8fCBvcHRpb25zLnBhcmFtVHlwZXMgJiYgZmFrZUV4cHJlc3Npb25zRnJvbVR5cGVzKG9wdGlvbnMucGFyYW1UeXBlcyk7XHJcbiAgICAgICAgICAgIC8vICAgICB2aWFibGUgPSBvdmVybG9hZFJlc29sdXRpb24oZW50LCBvcHRpb25zLnBhcmFtVHlwZXMsIG9wdGlvbnMucmVjZWl2ZXJUeXBlKS52aWFibGUgfHwgW107XHJcbiAgICAgICAgICAgIC8vICAgICByZXR1cm4gdmlhYmxlWzBdO1xyXG4gICAgICAgICAgICAvLyAgICAgLy8gVE9ETyAtIHNob3VsZCBnaXZlIGVycm9yIGlmIHRoZXJlJ3MgbXVsdGlwbGUgZWxlbWVudHMgaS5lLiBhbiBhbWJpZ3VpdHlcclxuICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHZpYWJsZTtcclxuXHJcbiAgICAgICAgICAgIC8vIC8vIElmIHZpYWJsZSBpcyBlbXB0eSwgbm90IGZvdW5kLlxyXG4gICAgICAgICAgICAvLyBpZiAodmlhYmxlICYmIHZpYWJsZS5sZW5ndGggPT09IDApe1xyXG4gICAgICAgICAgICAvLyAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHdlIGNvdWxkIGhhdmUgZm91bmQgaXQgZXhjZXB0IGZvciBuYW1lIGhpZGluZ1xyXG4gICAgICAgICAgICAvLyAgICAgaWYgKCFvcHRpb25zLm93biAmJiB0aGlzLnBhcmVudCl7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgdmFyIGNvdWxkSGF2ZSA9IHRoaXMucGFyZW50Lmxvb2t1cChuYW1lLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICBpZiAoY291bGRIYXZlICYmICghQXJyYXkuaXNBcnJheShjb3VsZEhhdmUpIHx8IGNvdWxkSGF2ZS5sZW5ndGggPT09IDEgfHwgY291bGRIYXZlID09PSBTY29wZS5ISURERU4pKXtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgaWYgKG9wdGlvbnMubm9OYW1lSGlkaW5nKXtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIHJldHVybiBjb3VsZEhhdmU7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIHJldHVybiBTY29wZS5ISURERU47XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICByZXR1cm4gU2NvcGUuTk9fTUFUQ0g7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgLy8gZWxzZXtcclxuICAgICAgICAgICAgLy8gICAgIHJldHVybiB2aWFibGU7XHJcbiAgICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQmxvY2tTY29wZSBleHRlbmRzIFNjb3BlIHtcclxuXHJcbiAgICAvLyBwcm90ZWN0ZWQgZGVjbGFyZWRFbnRpdHlBZGRlZChlbnQ6IERlY2xhcmVkRW50aXR5KSB7XHJcbiAgICAvLyAgICAgaWYgKGVudCBpbnN0YW5jZW9mIEF1dG9FbnRpdHkpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIHByaXZhdGUgYWRkQXV0b21hdGljRW50aXR5IDogZnVuY3Rpb24ob2JqKXtcclxuICAgIC8vICAgICBhc3NlcnQodGhpcy5wYXJlbnQsIFwiT2JqZWN0cyB3aXRoIGF1dG9tYXRpYyBzdG9yYWdlIGR1cmF0aW9uIHNob3VsZCBhbHdheXMgYmUgaW5zaWRlIHNvbWUgYmxvY2sgc2NvcGUgaW5zaWRlIGEgZnVuY3Rpb24uXCIpO1xyXG4gICAgLy8gICAgIHRoaXMucGFyZW50LmFkZEF1dG9tYXRpY0VudGl0eShvYmopO1xyXG4gICAgLy8gfSxcclxuICAgIC8vIHByaXZhdGUgYWRkUmVmZXJlbmNlRW50aXR5IDogZnVuY3Rpb24ob2JqKXtcclxuICAgIC8vICAgICBhc3NlcnQodGhpcy5wYXJlbnQpO1xyXG4gICAgLy8gICAgIHRoaXMucGFyZW50LmFkZFJlZmVyZW5jZUVudGl0eShvYmopO1xyXG4gICAgLy8gfSxcclxuICAgIC8vIHByaXZhdGUgYWRkU3RhdGljRW50aXR5IDogZnVuY3Rpb24oZW50KSB7XHJcbiAgICAvLyAgICAgdGhpcy5zaW0uYWRkU3RhdGljRW50aXR5KGVudCk7XHJcbiAgICAvLyB9LFxyXG4gICAgLy8gbWVyZ2UgOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBOb3RoaW5nIGluIGhlcmUgc2hvdWxkIGhhdmUgbGlua2FnZSwgcmlnaHQ/XHJcbiAgICAgICAgLy8gVW5sZXNzIEkgYWxsb3cgZnVuY3Rpb24vY2xhc3MgZGVjbGFyYXRpb25zLCBldGMuIGluc2lkZSBibG9ja3MsIHdoaWNoIEkgY3VycmVudGx5IGRvbid0XHJcbiAgICAvLyB9XHJcblxyXG5cclxufVxyXG5cclxuLy8gZXhwb3J0IGNsYXNzIEZ1bmN0aW9uQmxvY2tTY29wZSBleHRlbmRzIEJsb2NrU2NvcGUge1xyXG4vLyAgICAgX25hbWU6IFwiRnVuY3Rpb25CbG9ja1Njb3BlXCIsXHJcbi8vICAgICBpbml0OiBmdW5jdGlvbihwYXJlbnQsIHNpbSl7XHJcbi8vICAgICAgICAgdGhpcy5pbml0UGFyZW50KHBhcmVudCwgc2ltKTtcclxuLy8gICAgICAgICB0aGlzLmF1dG9tYXRpY09iamVjdHMgPSBbXTtcclxuLy8gICAgICAgICB0aGlzLnJlZmVyZW5jZU9iamVjdHMgPSBbXTtcclxuLy8gICAgIH0sXHJcbi8vICAgICBhZGRBdXRvbWF0aWNFbnRpdHkgOiBmdW5jdGlvbihvYmope1xyXG4vLyAgICAgICAgIHRoaXMuYXV0b21hdGljT2JqZWN0cy5wdXNoKG9iaik7XHJcbi8vICAgICB9LFxyXG4vLyAgICAgYWRkUmVmZXJlbmNlRW50aXR5IDogZnVuY3Rpb24ob2JqKXtcclxuLy8gICAgICAgICB0aGlzLnJlZmVyZW5jZU9iamVjdHMucHVzaChvYmopO1xyXG4vLyAgICAgfSxcclxuLy8gICAgIGFkZFN0YXRpY0VudGl0eSA6IGZ1bmN0aW9uKGVudCkge1xyXG4vLyAgICAgICAgIHRoaXMuc2ltLmFkZFN0YXRpY0VudGl0eShlbnQpO1xyXG4vLyAgICAgfVxyXG4vLyB9XHJcblxyXG5leHBvcnQgY2xhc3MgTmFtZXNwYWNlU2NvcGUgZXh0ZW5kcyBTY29wZSB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgY2hpbGRyZW46IHtbaW5kZXg6c3RyaW5nXTogTmFtZXNwYWNlU2NvcGUgfCB1bmRlZmluZWR9O1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHBhcmVudD86IE5hbWVzcGFjZVNjb3BlKSB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50KTtcclxuICAgICAgICBhc3NlcnQoIXBhcmVudCB8fCBwYXJlbnQgaW5zdGFuY2VvZiBOYW1lc3BhY2VTY29wZSk7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuID0ge307XHJcbiAgICAgICAgaWYocGFyZW50KSB7XHJcbiAgICAgICAgICAgIHBhcmVudC5hZGRDaGlsZCh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhZGRDaGlsZChjaGlsZDogTmFtZXNwYWNlU2NvcGUpIHtcclxuICAgICAgICBpZihjaGlsZC5uYW1lKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5bY2hpbGQubmFtZV0gPSBjaGlsZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBhZGRBdXRvbWF0aWNFbnRpdHkgOiBmdW5jdGlvbihvYmope1xyXG4gICAgLy8gICAgIGFzc2VydChmYWxzZSwgXCJDYW4ndCBhZGQgYW4gYXV0b21hdGljIGVudGl0eSB0byBhIG5hbWVzcGFjZSBzY29wZS5cIik7XHJcbiAgICAvLyB9LFxyXG4gICAgLy8gYWRkUmVmZXJlbmNlRW50aXR5IDogZnVuY3Rpb24ob2JqKXtcclxuICAgIC8vICAgICBhc3NlcnQoZmFsc2UsIFwiVE9ET1wiKTtcclxuICAgIC8vIH0sXHJcbiAgICAvLyBhZGRTdGF0aWNFbnRpdHkgOiBmdW5jdGlvbihlbnQpIHtcclxuICAgIC8vICAgICB0aGlzLnNpbS5hZGRTdGF0aWNFbnRpdHkoZW50KTtcclxuICAgIC8vIH0sXHJcblxyXG4gICAgLy8gbWVyZ2UgOiBmdW5jdGlvbiAob3RoZXJTY29wZSwgb25FcnIpIHtcclxuICAgIC8vICAgICBmb3IodmFyIG5hbWUgaW4gb3RoZXJTY29wZS5lbnRpdGllcyl7XHJcbiAgICAvLyAgICAgICAgIHZhciBvdGhlckVudGl0eSA9IG90aGVyU2NvcGUuZW50aXRpZXNbbmFtZV07XHJcbiAgICAvLyAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG90aGVyRW50aXR5KSkge1xyXG4gICAgLy8gICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IG90aGVyRW50aXR5Lmxlbmd0aDsgKytpKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGREZWNsYXJlZEVudGl0eShvdGhlckVudGl0eVtpXSk7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIG9uRXJyKGUpO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICBlbHNle1xyXG4gICAgLy8gICAgICAgICAgICAgdHJ5IHtcclxuICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLmFkZERlY2xhcmVkRW50aXR5KG90aGVyRW50aXR5KTtcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgb25FcnIoZSk7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcblxyXG4gICAgLy8gICAgIC8vIE1lcmdlIGluIGFsbCBjaGlsZCBzY29wZXMgZnJvbSB0aGUgb3RoZXJcclxuICAgIC8vICAgICBmb3IodmFyIGNoaWxkTmFtZSBpbiBvdGhlclNjb3BlLmNoaWxkcmVuKSB7XHJcbiAgICAvLyAgICAgICAgIGlmICghdGhpcy5jaGlsZHJlbltjaGlsZE5hbWVdKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAvLyBJZiBhIG1hdGNoaW5nIGNoaWxkIHNjb3BlIGRvZXNuJ3QgYWxyZWFkeSBleGlzdCwgY3JlYXRlIGl0XHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2NoaWxkTmFtZV0gPSBOYW1lc3BhY2VTY29wZS5pbnN0YW5jZShjaGlsZE5hbWUsIHRoaXMsIHRoaXMuc2ltKTtcclxuICAgIC8vICAgICAgICAgfVxyXG5cclxuICAgIC8vICAgICAgICAgdGhpcy5jaGlsZHJlbltjaGlsZE5hbWVdLm1lcmdlKG90aGVyU2NvcGUuY2hpbGRyZW5bY2hpbGROYW1lXSwgb25FcnIpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxufVxyXG5cclxuXHJcbi8vIGV4cG9ydCB2YXIgQ2xhc3NTY29wZSA9IE5hbWVzcGFjZVNjb3BlLmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZTogXCJDbGFzc1Njb3BlXCIsXHJcblxyXG4vLyAgICAgaW5pdDogZnVuY3Rpb24obmFtZSwgcGFyZW50LCBiYXNlLCBzaW0pe1xyXG4vLyAgICAgICAgIHRoaXMuaW5pdFBhcmVudChuYW1lLCBwYXJlbnQsIHNpbSk7XHJcbi8vICAgICAgICAgaWYoYmFzZSl7XHJcbi8vICAgICAgICAgICAgIGFzc2VydChiYXNlIGluc3RhbmNlb2YgQ2xhc3NTY29wZSk7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYmFzZSA9IGJhc2U7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBsb29rdXAgOiBmdW5jdGlvbihuYW1lLCBvcHRpb25zKXtcclxuLy8gICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuLy8gICAgICAgICAvLyBJZiBzcGVjaWZpZWQsIHdpbGwgbm90IGxvb2sgdXAgaW4gYmFzZSBjbGFzcyBzY29wZXNcclxuLy8gICAgICAgICBpZiAob3B0aW9ucy5ub0Jhc2Upe1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gU2NvcGUubG9va3VwLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICByZXR1cm4gdGhpcy5tZW1iZXJMb29rdXAobmFtZSwgb3B0aW9ucykgfHwgU2NvcGUubG9va3VwLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIHJlcXVpcmVkTWVtYmVyTG9va3VwIDogZnVuY3Rpb24obmFtZSwgb3B0aW9ucyl7XHJcbi8vICAgICAgICAgcmV0dXJuIHRoaXMuaV9yZXF1aXJlZExvb2t1cEltcGwodGhpcy5tZW1iZXJMb29rdXAobmFtZSwgb3B0aW9ucyksIG5hbWUsIG9wdGlvbnMpO1xyXG4vLyAgICAgfSxcclxuLy8gICAgIG1lbWJlckxvb2t1cCA6IGZ1bmN0aW9uKG5hbWUsIG9wdGlvbnMpe1xyXG4vLyAgICAgICAgIHZhciBvd24gPSBTY29wZS5sb29rdXAuY2FsbCh0aGlzLCBuYW1lLCBjb3B5TWl4aW4ob3B0aW9ucywge293bjp0cnVlfSkpO1xyXG4vLyAgICAgICAgIGlmICghb3duKXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuICFvcHRpb25zLm5vQmFzZSAmJiB0aGlzLmJhc2UgJiYgdGhpcy5iYXNlLm1lbWJlckxvb2t1cChuYW1lLCBvcHRpb25zKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3duKSAmJiBvd24ubGVuZ3RoID09PSAwKXtcclxuLy8gICAgICAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHdlIGNvdWxkIGhhdmUgZm91bmQgaXQgZXhjZXB0IGZvciBuYW1lIGhpZGluZ1xyXG4vLyAgICAgICAgICAgICAvLyAoSWYgd2UgZXZlciBnb3QgYW4gYXJyYXksIHJhdGhlciB0aGFuIGp1c3QgbnVsbCwgaXQgbWVhbnMgd2UgZm91bmQgYSBtYXRjaFxyXG4vLyAgICAgICAgICAgICAvLyB3aXRoIHRoZSBuYW1lIGZvciBhIHNldCBvZiBvdmVybG9hZGVkIGZ1bmN0aW9ucywgYnV0IG5vbmUgd2VyZSB2aWFibGUpXHJcbi8vICAgICAgICAgICAgIGlmICghb3B0aW9ucy5ub0Jhc2UgJiYgdGhpcy5iYXNlKXtcclxuLy8gICAgICAgICAgICAgICAgIHZhciBjb3VsZEhhdmUgPSB0aGlzLmJhc2UubWVtYmVyTG9va3VwKG5hbWUsIG9wdGlvbnMpO1xyXG4vLyAgICAgICAgICAgICAgICAgaWYgKGNvdWxkSGF2ZSAmJiAoIUFycmF5LmlzQXJyYXkoY291bGRIYXZlKSB8fCBjb3VsZEhhdmUubGVuZ3RoID09PSAxIHx8IGNvdWxkSGF2ZSA9PT0gU2NvcGUuSElEREVOKSl7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMubm9OYW1lSGlkaW5nKXtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvdWxkSGF2ZTtcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNjb3BlLkhJRERFTjtcclxuLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgcmV0dXJuIFNjb3BlLk5PX01BVENIO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICByZXR1cm4gb3duO1xyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcbmV4cG9ydCB0eXBlIEVudGl0eUlEID0gbnVtYmVyO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENQUEVudGl0eTxUIGV4dGVuZHMgVHlwZSA9IFR5cGU+IHtcclxuICAgIHByaXZhdGUgc3RhdGljIF9uZXh0RW50aXR5SWQgPSAwO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUodGhpcyk7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGVudGl0eUlkOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZTogVDtcclxuXHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogTW9zdCBlbnRpdGllcyB3aWxsIGhhdmUgYSBuYXR1cmFsIHR5cGUsIGJ1dCBhIGZldyB3aWxsIG5vdCAoZS5nLiBuYW1lc3BhY2VzKS4gSW4gdGhpcyBjYXNlLFxyXG4gICAgICogdGhlIHR5cGUgd2lsbCBiZSBudWxsLlxyXG4gICAgICogVE9ETzogZml4IHRoaXMgLSB0aGVyZSBzaG91bGQgcHJvYmFibHkgYmUgYSBzdWJ0eXBlIG9yIGludGVyZmFjZSBmb3IgYSBUeXBlZEVudGl0eSBvciBPYmplY3RFbnRpdHlcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHR5cGU6IFQpIHtcclxuICAgICAgICB0aGlzLmVudGl0eUlkID0gQ1BQRW50aXR5Ll9uZXh0RW50aXR5SWQrKztcclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBkZXNjcmliZSgpIDogRGVzY3JpcHRpb247XHJcblxyXG4gICAgLy8gLy8gVE9ETzogZG9lcyB0aGlzIGJlbG9uZyBoZXJlP1xyXG4gICAgLy8gcHVibGljIGlzTGlicmFyeUNvbnN0cnVjdCgpIHtcclxuICAgIC8vICAgICByZXR1cm4gZmFsc2VcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyAvLyBUT0RPOiBkb2VzIHRoaXMgYmVsb25nIGhlcmU/XHJcbiAgICAvLyBwdWJsaWMgaXNMaWJyYXJ5VW5zdXBwb3J0ZWQoKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vVE9ETzogZnVuY3Rpb24gZm9yIGlzT2RyVXNlZCgpP1xyXG59O1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIE5hbWVkRW50aXR5PFQgZXh0ZW5kcyBUeXBlID0gVHlwZT4gZXh0ZW5kcyBDUFBFbnRpdHk8VD4ge1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWxsIE5hbWVkRW50aXR5cyB3aWxsIGhhdmUgYSBuYW1lLCBidXQgaW4gc29tZSBjYXNlcyB0aGlzIG1pZ2h0IGJlIFwiXCIuIGUuZy4gYW4gdW5uYW1lZCBuYW1lc3BhY2UuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcih0eXBlOiBULCBuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcih0eXBlKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRGVjbGFyZWRFbnRpdHlCYXNlPFQgZXh0ZW5kcyBUeXBlID0gVHlwZT4gZXh0ZW5kcyBOYW1lZEVudGl0eTxUPiB7XHJcblxyXG4gICAgLy8gLyoqXHJcbiAgICAvLyAgKiBJZiBuZWl0aGVyIGVudGl0eSBpcyBkZWZpbmVkLCBkb2VzIG5vdGhpbmcuXHJcbiAgICAvLyAgKiBJZiBleGFjdGx5IG9uZSBlbnRpdHkgaXMgZGVmaW5lZCwgZ2l2ZXMgdGhhdCBkZWZpbml0aW9uIHRvIHRoZSBvdGhlciBvbmUgYXMgd2VsbC5cclxuICAgIC8vICAqIElmIGJvdGggZW50aXRpZXMgYXJlIGRlZmluZWQsIHRocm93cyBhbiBleGNlcHRpb24uIElmIHRoZSBlbnRpdGllcyBhcmUgZnVuY3Rpb25zIHdpdGhcclxuICAgIC8vICAqIHRoZSBzYW1lIHNpZ25hdHVyZSBhbmQgZGlmZmVyZW50IHJldHVybiB0eXBlcywgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cclxuICAgIC8vICAqIFJFUVVJUkVTOiBCb3RoIGVudGl0aWVzIHNob3VsZCBoYXZlIHRoZSBzYW1lIHR5cGUuIChmb3IgZnVuY3Rpb25zLCB0aGUgc2FtZSBzaWduYXR1cmUpXHJcbiAgICAvLyAgKiBAcGFyYW0gZW50aXR5MSAtIEFuIGVudGl0eSBhbHJlYWR5IHByZXNlbnQgaW4gYSBzY29wZS5cclxuICAgIC8vICAqIEBwYXJhbSBlbnRpdHkyIC0gQSBuZXcgZW50aXR5IG1hdGNoaW5nIHRoZSBvcmlnaW5hbCBvbmUuXHJcbiAgICAvLyAgKiBAdGhyb3dzIHtOb3RlfVxyXG4gICAgLy8gICovXHJcbiAgICAvLyBwdWJsaWMgc3RhdGljIG1lcmdlKGVudGl0eTE6IERlY2xhcmVkRW50aXR5LCBlbnRpdHkyOiBEZWNsYXJlZEVudGl0eSkge1xyXG5cclxuICAgIC8vICAgICAvLyBUT0RPOiBBZGQgc3VwcG9ydCBmb3IgXCJmb3J3YXJkIGRlY2xhcmF0aW9uc1wiIG9mIGEgY2xhc3Mvc3RydWN0XHJcblxyXG4gICAgLy8gICAgIC8vIFNwZWNpYWwgY2FzZTogaWdub3JlIG1hZ2ljIGZ1bmN0aW9uc1xyXG4gICAgLy8gICAgIGlmIChlbnRpdHkxIGluc3RhbmNlb2YgTWFnaWNGdW5jdGlvbkVudGl0eSB8fCBlbnRpdHkyIGluc3RhbmNlb2YgTWFnaWNGdW5jdGlvbkVudGl0eSkge1xyXG4gICAgLy8gICAgICAgICByZXR1cm47XHJcbiAgICAvLyAgICAgfVxyXG5cclxuICAgIC8vICAgICAvLyBTcGVjaWFsIGNhc2U6IGlmIGJvdGggYXJlIGRlZmluaXRpb25zIGZvciB0aGUgc2FtZSBjbGFzcywgaXQncyBvayBPTkxZIGlmIHRoZXkgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIHRva2Vuc1xyXG4gICAgLy8gICAgIGlmIChlbnRpdHkxLmRlY2wgaW5zdGFuY2VvZiBDbGFzc0RlY2xhcmF0aW9uICYmIGVudGl0eTIuZGVjbCBpbnN0YW5jZW9mIENsYXNzRGVjbGFyYXRpb25cclxuICAgIC8vICAgICAgICAgJiYgZW50aXR5MS50eXBlLmNsYXNzTmFtZSA9PT0gZW50aXR5Mi50eXBlLmNsYXNzTmFtZSkge1xyXG4gICAgLy8gICAgICAgICBpZiAoZW50aXR5MS5kZWNsLmlzTGlicmFyeUNvbnN0cnVjdCgpICYmIGVudGl0eTIuZGVjbC5pc0xpYnJhcnlDb25zdHJ1Y3QoKSAhPT0gdW5kZWZpbmVkXHJcbiAgICAvLyAgICAgICAgICAgICAmJiBlbnRpdHkxLmRlY2wuZ2V0TGlicmFyeUlkKCkgPT09IGVudGl0eTIuZGVjbC5nZXRMaWJyYXJ5SWQoKSB8fFxyXG4gICAgLy8gICAgICAgICAgICAgZW50aXR5MS5kZWNsLmhhc1NvdXJjZUNvZGUoKSAmJiBlbnRpdHkyLmRlY2wuaGFzU291cmNlQ29kZSgpICYmXHJcbiAgICAvLyAgICAgICAgICAgICBlbnRpdHkxLmRlY2wuZ2V0U291cmNlVGV4dCgpLnJlcGxhY2UoL1xccy9nLCcnKSA9PT0gZW50aXR5Mi5kZWNsLmdldFNvdXJjZVRleHQoKS5yZXBsYWNlKC9cXHMvZywnJykpIHtcclxuICAgIC8vICAgICAgICAgICAgIC8vIGV4YWN0bHkgc2FtZSB0b2tlbnMsIHNvIGl0J3MgZmluZVxyXG5cclxuICAgIC8vICAgICAgICAgICAgIC8vIG1lcmdlIHRoZSB0eXBlcyB0b28sIHNvIHRoYXQgdGhlIHR5cGUgc3lzdGVtIHJlY29nbml6ZXMgdGhlbSBhcyB0aGUgc2FtZVxyXG4gICAgLy8gICAgICAgICAgICAgVHlwZXMuQ2xhc3MubWVyZ2UoZW50aXR5MS50eXBlLCBlbnRpdHkyLnR5cGUpO1xyXG5cclxuICAgIC8vICAgICAgICAgICAgIHJldHVybjtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICBlbHNlIHtcclxuICAgIC8vICAgICAgICAgICAgIHRocm93IENQUEVycm9yLmxpbmsuY2xhc3Nfc2FtZV90b2tlbnMoW2VudGl0eTEuZGVjbCwgZW50aXR5Mi5kZWNsXSwgZW50aXR5MSwgZW50aXR5Mik7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcblxyXG4gICAgLy8gICAgIC8vIElmIHRoZXkncmUgbm90IHRoZSBzYW1lIHR5cGUsIHRoYXQncyBhIHByb2JsZW1cclxuICAgIC8vICAgICBpZiAoIXNhbWVUeXBlKGVudGl0eTEudHlwZSwgZW50aXR5Mi50eXBlKSkge1xyXG4gICAgLy8gICAgICAgICB0aHJvdyBDUFBFcnJvci5saW5rLnR5cGVfbWlzbWF0Y2goZW50aXR5MS5kZWNsLCBlbnRpdHkxLCBlbnRpdHkyKTtcclxuICAgIC8vICAgICB9XHJcblxyXG4gICAgLy8gICAgIC8vIFNwZWNpYWwgY2FzZTogaWYgYm90aCBhcmUgZGVmaW5pdGlvbnMgb2YgYSBtZW1iZXIgaW5zaWRlIHRoZSBzYW1lIGNsYXNzLCBpZ25vcmUgdGhlbS4gKFRoZSBjbGFzcyBkZWZpbml0aW9uc1xyXG4gICAgLy8gICAgIC8vIGhhdmUgYWxyZWFkeSBiZWVuIGNoZWNrZWQgYWJvdmUgYW5kIG11c3QgYmUgdGhlIHNhbWUgYXQgdGhpcyBwb2ludCwgc28gaXQncyBwb2ludGxlc3MgYW5kIHdpbGwgY2F1c2UgZXJyb3JzXHJcbiAgICAvLyAgICAgLy8gdG8gdHJ5IHRvIG1lcmdlIHRoZW0uKVxyXG4gICAgLy8gICAgIGlmIChlbnRpdHkxLmRlY2wgaW5zdGFuY2VvZiBNZW1iZXJEZWNsYXJhdGlvbikge1xyXG4gICAgLy8gICAgICAgICByZXR1cm47XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGlmIChlbnRpdHkxLmRlY2wgaW5zdGFuY2VvZiBGdW5jdGlvbkRlZmluaXRpb24gJiYgZW50aXR5MS5kZWNsLmlzSW5saW5lTWVtYmVyRnVuY3Rpb24pIHtcclxuICAgIC8vICAgICAgICAgcmV0dXJuOyAvLyBUT0RPOiBTaG91bGQgd2UgYmUgY2hlY2tpbmcgdGhpcz9cclxuICAgIC8vICAgICB9XHJcblxyXG4gICAgLy8gICAgIC8vIEF0dGVtcHQgdG8gbWVyZ2UgdGhlIHR3b1xyXG4gICAgLy8gICAgIGlmICghZW50aXR5Mi5pc0RlZmluZWQoKSAmJiAhZW50aXR5MS5pc0RlZmluZWQoKSkge1xyXG4gICAgLy8gICAgICAgICAvLyBJZiBib3RoIGFyZSBkZWNsYXJhdGlvbnMsIGp1c3Qga2VlcCB0aGUgb2xkIG9uZVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBlbHNlIGlmIChlbnRpdHkyLmlzRGVmaW5lZCgpICYmIGVudGl0eTEuaXNEZWZpbmVkKCkpIHtcclxuICAgIC8vICAgICAgICAgLy8gSWYgYm90aCBhcmUgZGVmaW5pdGlvbnMsIHRoYXQncyBhIHByb2JsZW0uXHJcbiAgICAvLyAgICAgICAgIHRocm93IENQUEVycm9yLmxpbmsubXVsdGlwbGVfZGVmKFtlbnRpdHkxLmRlY2wsIGVudGl0eTIuZGVjbF0sIGVudGl0eTEubmFtZSk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2UgeyAvLyBvbmUgb2YgdGhlbSBpcyBkZWZpbmVkIGFuZCBvbmUgaXMgdW5kZWZpbmVkXHJcbiAgICAvLyAgICAgICAgIHZhciB1bmRlZmluZWRFbnRpdHkgPSBlbnRpdHkxO1xyXG4gICAgLy8gICAgICAgICB2YXIgZGVmaW5lZEVudGl0eSA9IGVudGl0eTI7XHJcbiAgICAvLyAgICAgICAgIGlmIChlbnRpdHkxLmlzRGVmaW5lZCgpKSB7XHJcbiAgICAvLyAgICAgICAgICAgICB1bmRlZmluZWRFbnRpdHkgPSBlbnRpdHkyO1xyXG4gICAgLy8gICAgICAgICAgICAgZGVmaW5lZEVudGl0eSA9IGVudGl0eTE7XHJcbiAgICAvLyAgICAgICAgIH1cclxuXHJcbiAgICAvLyAgICAgICAgIC8vIENoZWNrIHJldHVybiB0eXBlcyBmb3IgZnVuY3Rpb25zXHJcbiAgICAvLyAgICAgICAgIGlmIChlbnRpdHkxIGluc3RhbmNlb2YgRnVuY3Rpb25FbnRpdHkpIHtcclxuICAgIC8vICAgICAgICAgICAgIC8vIElmIHRoZXkgaGF2ZSBtaXNtYXRjaGVkIHJldHVybiB0eXBlcywgdGhhdCdzIGEgcHJvYmxlbS5cclxuICAgIC8vICAgICAgICAgICAgIGlmICghZW50aXR5MS50eXBlLnNhbWVSZXR1cm5UeXBlKGVudGl0eTIudHlwZSkpe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHRocm93IENQUEVycm9yLmxpbmsuZnVuYy5yZXR1cm5UeXBlc01hdGNoKFtlbnRpdHkxLmRlY2wsIGVudGl0eTIuZGVjbF0sIGVudGl0eTEubmFtZSk7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIH1cclxuXHJcbiAgICAvLyAgICAgICAgIC8vIElmIGEgcHJldmlvdXMgZGVjbGFyYXRpb24sIGFuZCBub3cgYSBuZXcgZGVmaW5pdGlvbiwgbWVyZ2VcclxuICAgIC8vICAgICAgICAgdW5kZWZpbmVkRW50aXR5LnNldERlZmluaXRpb24oZGVmaW5lZEVudGl0eS5kZWZpbml0aW9uKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGRlY2xhcmF0aW9uOiBTaW1wbGVEZWNsYXJhdGlvbjtcclxuICAgIC8vIHB1YmxpYyByZWFkb25seSBkZWZpbml0aW9uPzogU2ltcGxlRGVjbGFyYXRpb247XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHR5cGU6IFQsIGRlY2w6IFNpbXBsZURlY2xhcmF0aW9uKSB7XHJcbiAgICAgICAgc3VwZXIodHlwZSwgZGVjbC5uYW1lKTtcclxuICAgICAgICB0aGlzLmRlY2xhcmF0aW9uID0gZGVjbDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgc2V0RGVmaW5pdGlvbihkZWZpbml0aW9uOiBTaW1wbGVEZWNsYXJhdGlvbikge1xyXG4gICAgLy8gICAgICg8U2ltcGxlRGVjbGFyYXRpb24+dGhpcy5kZWZpbml0aW9uKSA9IGRlZmluaXRpb247XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gcHVibGljIGlzRGVmaW5lZCgpIHtcclxuICAgIC8vICAgICByZXR1cm4gISF0aGlzLmRlZmluaXRpb247XHJcbiAgICAvLyB9XHJcblxyXG5cclxuICAgIC8vIHB1YmxpYyBpc0xpYnJhcnlDb25zdHJ1Y3QoKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuZGVjbC5pc0xpYnJhcnlDb25zdHJ1Y3QoKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgaXNMaWJyYXJ5VW5zdXBwb3J0ZWQoKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuZGVjbC5pc0xpYnJhcnlVbnN1cHBvcnRlZCgpO1xyXG4gICAgLy8gfVxyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgRGVjbGFyZWRFbnRpdHkgPSBEZWNsYXJlZE9iamVjdEVudGl0eSB8IEZ1bmN0aW9uRW50aXR5O1xyXG5cclxuXHJcbmV4cG9ydCB0eXBlIExpbmtlZEVudGl0eSA9IFN0YXRpY0VudGl0eSB8IEZ1bmN0aW9uRW50aXR5O1xyXG5cclxuLy8gYWJzdHJhY3QgY2xhc3MgTGlua2VkRW50aXR5PFQgZXh0ZW5kcyBUeXBlID0gVHlwZT4gZXh0ZW5kcyBEZWNsYXJlZEVudGl0eTxUPiB7XHJcblxyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IHF1YWxpZmllZE5hbWU6IHN0cmluZztcclxuXHJcbi8vICAgICBwdWJsaWMgY29uc3RydWN0b3IodHlwZTogVCwgZGVjbDogU2ltcGxlRGVjbGFyYXRpb24pIHtcclxuLy8gICAgICAgICBzdXBlcih0eXBlLCBkZWNsKTtcclxuLy8gICAgICAgICB0aGlzLnF1YWxpZmllZE5hbWUgPSBcIjo6XCIgKyB0aGlzLm5hbWU7IC8vIFRPRE86IHdoZW4gbmFtZXNwYWNlcyBhcmUgaW1wbGVtZW50ZWQsIGZpeCB0aGlzIHRvIGFjdHVhbGx5IGRvIHNvbWV0aGluZ1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBhYnN0cmFjdCBsaW5rKGRlZjogR2xvYmFsT2JqZWN0RGVmaW5pdGlvbiB8IEZ1bmN0aW9uRGVmaW5pdGlvbikgOiB2b2lkO1xyXG5cclxuLy8gICAgIC8vIHB1YmxpYyBpc0RlZmluZWQoKSB7XHJcbi8vICAgICAvLyAgICAgcmV0dXJuICEhdGhpcy5kZWZpbml0aW9uO1xyXG4vLyAgICAgLy8gfVxyXG5cclxuXHJcbi8vICAgICAvLyBwdWJsaWMgaXNMaWJyYXJ5Q29uc3RydWN0KCkge1xyXG4vLyAgICAgLy8gICAgIHJldHVybiB0aGlzLmRlY2wuaXNMaWJyYXJ5Q29uc3RydWN0KCk7XHJcbi8vICAgICAvLyB9XHJcblxyXG4vLyAgICAgLy8gcHVibGljIGlzTGlicmFyeVVuc3VwcG9ydGVkKCkge1xyXG4vLyAgICAgLy8gICAgIHJldHVybiB0aGlzLmRlY2wuaXNMaWJyYXJ5VW5zdXBwb3J0ZWQoKTtcclxuLy8gICAgIC8vIH1cclxuLy8gfVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBPYmplY3RFbnRpdHk8VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiBleHRlbmRzIENQUEVudGl0eTxUPiB7XHJcbiAgICBydW50aW1lTG9va3VwKHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KSA6IENQUE9iamVjdDxUPjtcclxufVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIERlY2xhcmVkT2JqZWN0RW50aXR5PFQgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZT4gZXh0ZW5kcyBEZWNsYXJlZEVudGl0eUJhc2U8VD4gaW1wbGVtZW50cyBPYmplY3RFbnRpdHk8VD4ge1xyXG4gICAgXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcnVudGltZUxvb2t1cChydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCkgOiBDUFBPYmplY3Q8VD47XHJcbiAgICBcclxuICAgIHB1YmxpYyBtZXJnZUludG8oZXhpc3RpbmdFbnRpdHk6IERlY2xhcmVkT2JqZWN0RW50aXR5IHwgRnVuY3Rpb25FbnRpdHlbXSkge1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGV4aXN0aW5nRW50aXR5KSkgeyAvLyBhbiBhcnJheSBpbmRpY2F0ZXMgYSBmdW5jdGlvbiBvdmVybG9hZCBncm91cCB3YXMgZm91bmRcclxuICAgICAgICAgICAgdGhyb3cgQ1BQRXJyb3IuZGVjbGFyYXRpb24udHlwZV9taXNtYXRjaCh0aGlzLmRlY2xhcmF0aW9uLCB0aGlzLCBleGlzdGluZ0VudGl0eVswXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBib3RoIGFyZSBub24tZnVuY3Rpb25zLCBzbyBjaGVjayB0aGF0IHRoZSB0eXBlcyBhcmUgdGhlIHNhbWVcclxuICAgICAgICAgICAgaWYgKCFzYW1lVHlwZSh0aGlzLnR5cGUsIGV4aXN0aW5nRW50aXR5LnR5cGUpKSB7IC8vIGFuIGFycmF5IGluZGljYXRlcyBhIGZ1bmN0aW9uIG92ZXJsb2FkIGdyb3VwIHdhcyBmb3VuZFxyXG4gICAgICAgICAgICAgICAgdGhyb3cgQ1BQRXJyb3IuZGVjbGFyYXRpb24udHlwZV9taXNtYXRjaCh0aGlzLmRlY2xhcmF0aW9uLCB0aGlzLCBleGlzdGluZ0VudGl0eSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGV4aXN0aW5nRW50aXR5O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEF1dG9FbnRpdHk8VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiBleHRlbmRzIERlY2xhcmVkT2JqZWN0RW50aXR5PFQ+IHtcclxuICAgIHB1YmxpYyByZWFkb25seSBraW5kID0gXCJBdXRvRW50aXR5XCI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNQYXJhbWV0ZXI6IGJvb2xlYW47XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGRlZmluaXRpb246IExvY2FsVmFyaWFibGVEZWZpbml0aW9uIHwgUGFyYW1ldGVyRGVmaW5pdGlvbjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IodHlwZTogVCwgZGVmOiBMb2NhbFZhcmlhYmxlRGVmaW5pdGlvbiB8IFBhcmFtZXRlckRlZmluaXRpb24sIGlzUGFyYW1ldGVyPzogYm9vbGVhbikge1xyXG4gICAgICAgIHN1cGVyKHR5cGUsIGRlZik7XHJcbiAgICAgICAgdGhpcy5kZWZpbml0aW9uID0gZGVmO1xyXG4gICAgICAgIHRoaXMuaXNQYXJhbWV0ZXIgPSAhIWlzUGFyYW1ldGVyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5uYW1lICsgXCIgKFwiICsgdGhpcy50eXBlICsgXCIpXCI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1lcmdlSW50byhleGlzdGluZ0VudGl0eTogRGVjbGFyZWRPYmplY3RFbnRpdHkgfCBGdW5jdGlvbkVudGl0eVtdKSA6IG5ldmVyIHtcclxuICAgICAgICAvLyBSZWRlY2xhcmF0aW9uIG9mIGxvY2FsIGlzIG5ldmVyIG9rXHJcbiAgICAgICAgdGhyb3cgQ1BQRXJyb3IuZGVjbGFyYXRpb24ucHJldl9sb2NhbCh0aGlzLmRlY2xhcmF0aW9uLCB0aGlzLm5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBydW50aW1lTG9va3VwKHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KSA6IEF1dG9PYmplY3Q8VD4ge1xyXG4gICAgICAgIC8vIFRPRE86IHJldmlzaXQgdGhlIG5vbi1udWxsIGFzc2VydGlvbiBiZWxvd1xyXG4gICAgICAgIHJldHVybiBydENvbnN0cnVjdC5jb250YWluaW5nUnVudGltZUZ1bmN0aW9uLnN0YWNrRnJhbWUhLmdldExvY2FsT2JqZWN0KHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZXNjcmliZSgpIHtcclxuICAgICAgICByZXR1cm4ge21lc3NhZ2U6IGB0aGUgJHt0aGlzLmlzUGFyYW1ldGVyID8gXCJwYXJhbWV0ZXJcIiA6IFwibG9jYWwgdmFyaWFibGVcIn0gJHt0aGlzLm5hbWV9YH07XHJcbiAgICB9XHJcbn07XHJcblxyXG5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQm91bmRSZWZlcmVuY2VFbnRpdHk8VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiBleHRlbmRzIENQUEVudGl0eTxUPiwgT2JqZWN0RW50aXR5PFQ+IHtcclxuICAgIHJ1bnRpbWVMb29rdXAocnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogQ1BQT2JqZWN0PFQ+O1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVuYm91bmRSZWZlcmVuY2VFbnRpdHk8VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiBleHRlbmRzIENQUEVudGl0eTxUPiB7XHJcbiAgICBiaW5kVG8ocnRDb25zdHJ1Y3QgOiBSdW50aW1lQ29uc3RydWN0LCBvYmo6IENQUE9iamVjdDxUPikgOiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTG9jYWxSZWZlcmVuY2VFbnRpdHk8VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiBleHRlbmRzIERlY2xhcmVkT2JqZWN0RW50aXR5PFQ+IGltcGxlbWVudHMgQm91bmRSZWZlcmVuY2VFbnRpdHk8VD4sIFVuYm91bmRSZWZlcmVuY2VFbnRpdHk8VD4ge1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGtpbmQgPSBcIkxvY2FsUmVmZXJlbmNlRW50aXR5XCI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNQYXJhbWV0ZXI6IGJvb2xlYW47XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHR5cGU6IFQsIGRlY2w6IFNpbXBsZURlY2xhcmF0aW9uLCBpc1BhcmFtZXRlcjogYm9vbGVhbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgc3VwZXIodHlwZSwgZGVjbCk7XHJcbiAgICAgICAgdGhpcy5pc1BhcmFtZXRlciA9IGlzUGFyYW1ldGVyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtZXJnZUludG8oZXhpc3RpbmdFbnRpdHk6IERlY2xhcmVkT2JqZWN0RW50aXR5IHwgRnVuY3Rpb25FbnRpdHlbXSkgOiBuZXZlciB7XHJcbiAgICAgICAgLy8gUmVkZWNsYXJhdGlvbiBvZiBsb2NhbCBpcyBuZXZlciBva1xyXG4gICAgICAgIHRocm93IENQUEVycm9yLmRlY2xhcmF0aW9uLnByZXZfbG9jYWwodGhpcy5kZWNsYXJhdGlvbiwgdGhpcy5uYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYmluZFRvKHJ0Q29uc3RydWN0IDogUnVudGltZUNvbnN0cnVjdCwgb2JqOiBDUFBPYmplY3Q8VD4pIHtcclxuICAgICAgICBydENvbnN0cnVjdC5jb250YWluaW5nUnVudGltZUZ1bmN0aW9uLnN0YWNrRnJhbWUhLmJpbmRSZWZlcmVuY2UodGhpcywgb2JqKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcnVudGltZUxvb2t1cChydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCkgOiBDUFBPYmplY3Q8VD4ge1xyXG4gICAgICAgIC8vIFRPRE86IHJldmlzaXQgdGhlIG5vbi1udWxsIGFzc2VydGlvbnMgYmVsb3dcclxuICAgICAgICByZXR1cm4gcnRDb25zdHJ1Y3QuY29udGFpbmluZ1J1bnRpbWVGdW5jdGlvbi5zdGFja0ZyYW1lIS5yZWZlcmVuY2VMb29rdXA8VD4odGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlc2NyaWJlKCkge1xyXG4gICAgICAgIHJldHVybiB7bWVzc2FnZTogYHRoZSAke3RoaXMuaXNQYXJhbWV0ZXIgPyBcInJlZmVyZW5jZSBwYXJhbWV0ZXJcIiA6IFwicmVmZXJlbmNlXCJ9ICR7dGhpcy5uYW1lfWB9O1xyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgTG9jYWxWYXJpYWJsZUVudGl0eTxUIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGU+ID0gQXV0b0VudGl0eTxUPiB8IExvY2FsUmVmZXJlbmNlRW50aXR5PFQ+O1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXRpY0VudGl0eTxUIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGU+IGV4dGVuZHMgRGVjbGFyZWRPYmplY3RFbnRpdHk8VD4ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBxdWFsaWZpZWROYW1lOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGVmaW5pdGlvbj86IEdsb2JhbE9iamVjdERlZmluaXRpb247XHJcbiAgICBcclxuICAgIC8vIHN0b3JhZ2U6IFwic3RhdGljXCIsXHJcbiAgICBjb25zdHJ1Y3Rvcih0eXBlOiBULCBkZWNsOiBTaW1wbGVEZWNsYXJhdGlvbikge1xyXG4gICAgICAgIHN1cGVyKHR5cGUsIGRlY2wpO1xyXG4gICAgICAgIHRoaXMucXVhbGlmaWVkTmFtZSA9IFwiOjpcIiArIHRoaXMubmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZSArIFwiIChcIiArIHRoaXMudHlwZSArIFwiKVwiO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBsaW5rKGRlZjogTGlua2VkRGVmaW5pdGlvbiB8IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGlmICghZGVmIHx8IEFycmF5LmlzQXJyYXkoZGVmKSkge1xyXG4gICAgICAgICAgICAvLyBFaXRoZXIgdW5kZWZpbmVkLCBvciBsaW5rZWQgYWdhaW5zdCBhIGZ1bmN0aW9uIG92ZXJsb2FkIGdyb3VwXHJcbiAgICAgICAgICAgIHRoaXMuZGVjbGFyYXRpb24uYWRkTm90ZShDUFBFcnJvci5saW5rLmRlZl9ub3RfZm91bmQodGhpcy5kZWNsYXJhdGlvbiwgdGhpcykpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgICg8TXV0YWJsZTx0aGlzPj50aGlzKS5kZWZpbml0aW9uID0gZGVmO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBydW50aW1lTG9va3VwKHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KSA6IFN0YXRpY09iamVjdDxUPiB7XHJcbiAgICAgICAgcmV0dXJuIHJ0Q29uc3RydWN0LnNpbS5tZW1vcnkuc3RhdGljTG9va3VwKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgZGVzY3JpYmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtuYW1lOiB0aGlzLm5hbWUsIG1lc3NhZ2U6IFwidGhlIHZhcmlhYmxlIFwiICsgdGhpcy5uYW1lfTtcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIFZhcmlhYmxlRW50aXR5PFQgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZT4gPSBMb2NhbFZhcmlhYmxlRW50aXR5PFQ+IHwgU3RhdGljRW50aXR5PFQ+O1xyXG5cclxuLy8gVE9ETzogaW1wbGVtZW50IGdsb2JhbCByZWZlcmVuY2VzXHJcbi8vIGV4cG9ydCBjbGFzcyBHbG9iYWxSZWZlcmVuY2VFbnRpdHk8VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiBleHRlbmRzIERlY2xhcmVkRW50aXR5PFQ+IGltcGxlbWVudHMgQm91bmRSZWZlcmVuY2VFbnRpdHk8VD4sIFVuYm91bmRSZWZlcmVuY2VFbnRpdHk8VD4ge1xyXG5cclxuLy8gICAgIHB1YmxpYyBiaW5kVG8ocnRDb25zdHJ1Y3QgOiBSdW50aW1lQ29uc3RydWN0LCBvYmo6IENQUE9iamVjdDxUPikge1xyXG4vLyAgICAgICAgIHJ0Q29uc3RydWN0LmNvbnRhaW5pbmdSdW50aW1lRnVuY3Rpb24uc3RhY2tGcmFtZSEuYmluZFJlZmVyZW5jZSh0aGlzLCBvYmopO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBydW50aW1lTG9va3VwKHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KSA6IENQUE9iamVjdDxUPiB7XHJcbi8vICAgICAgICAgLy8gVE9ETzogcmV2aXNpdCB0aGUgbm9uLW51bGwgYXNzZXJ0aW9uIGJlbG93XHJcbi8vICAgICAgICAgcmV0dXJuIHJ0Q29uc3RydWN0LmNvbnRhaW5pbmdSdW50aW1lRnVuY3Rpb24uc3RhY2tGcmFtZSEucmVmZXJlbmNlTG9va3VwKHRoaXMpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBkZXNjcmliZSgpIHtcclxuLy8gICAgICAgICBpZiAodGhpcy5kZWNsIGluc3RhbmNlb2YgRGVjbGFyYXRpb25zLlBhcmFtZXRlcil7XHJcbi8vICAgICAgICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJ0aGUgcmVmZXJlbmNlIHBhcmFtZXRlciBcIiArIHRoaXMubmFtZX07XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJ0aGUgcmVmZXJlbmNlIFwiICsgdGhpcy5uYW1lfTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcbi8vIH07XHJcblxyXG4vKipcclxuICogTG9va2luZyB0aGlzIGVudGl0eSB1cCBhdCBydW50aW1lIHlpZWxkcyB0aGUgcmV0dXJuIG9iamVjdCBvZiB0aGUgY29udGFpbmluZyBydW50aW1lIGZ1bmN0aW9uLlxyXG4gKiBOb3RlIHRoaXMgaXMgZ2VuZXJhbGx5IG9ubHkgc29tZXRoaW5nIHlvdSB3b3VsZCB3YW50IGluIHRoZSBjb250ZXh0IG9mIGEgcmV0dXJuLWJ5LXZhbHVlXHJcbiAqIGZ1bmN0aW9uLCBpbiB3aGljaCBjYXNlIHRoZSByZXR1cm4gb2JqZWN0IGlzIGEgdGVtcG9yYXJ5IG9iamVjdCBjcmVhdGVkIHRvIGV2ZW50dWFsbHkgYmUgaW5pdGlhbGl6ZWRcclxuICogd2l0aCB0aGUgcmV0dXJuZWQgdmFsdWUuIEluIGEgcGFzcy1ieS1yZWZlcmVuY2UgZnVuY3Rpb24sIHRoZSByZXR1cm4gb2JqZWN0IHdpbGwgb25seSBleGlzdCBvbmNlIHRoZVxyXG4gKiByZXR1cm4gaGFzIGJlZW4gcHJvY2Vzc2VkIGFuZCBpdCBpcyBzZXQgdG8gdGhlIHJldHVybmVkIG9iamVjdC4gSW4gdm9pZCBmdW5jdGlvbiwgdGhlcmUgaXMgbm8gcmV0dXJuXHJcbiAqIG9iamVjdC5cclxuICogQHRocm93cyBUaHJvd3MgYW4gZXhjZXB0aW9uIGlmIHRoZSByZXR1cm4gb2JqZWN0IGRvZXMgbm90IGV4aXN0LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFJldHVybk9iamVjdEVudGl0eSBleHRlbmRzIENQUEVudGl0eTxPYmplY3RUeXBlPiBpbXBsZW1lbnRzIE9iamVjdEVudGl0eTxPYmplY3RUeXBlPiB7XHJcbiAgICBcclxuICAgIHB1YmxpYyBydW50aW1lTG9va3VwKHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KSA6IENQUE9iamVjdDxPYmplY3RUeXBlPiB7XHJcbiAgICAgICAgbGV0IHJldHVybk9iamVjdCA9IHJ0Q29uc3RydWN0LmNvbnRhaW5pbmdSdW50aW1lRnVuY3Rpb24ucmV0dXJuT2JqZWN0O1xyXG4gICAgICAgIGlmICghcmV0dXJuT2JqZWN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IFwiRXJyb3I6IFJ1bnRpbWUgbG9va3VwIHBlcmZvcm1lZCBmb3IgdGhlIHJldHVybiBvYmplY3Qgb2YgYSBmdW5jdGlvbiwgYnV0IHRoZSByZXR1cm4gb2JqZWN0IGRvZXMgbm90IGN1cnJlbnRseSBleGlzdC5cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJldHVybk9iamVjdDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIGRlc2NyaWJlKCkge1xyXG4gICAgICAgIC8vIFRPRE86IGFkZCBpbmZvIGFib3V0IHdoaWNoIGZ1bmN0aW9uPyB3b3VsZCBuZWVkIHRvIGJlIHNwZWNpZmllZCB3aGVuIHRoZSByZXR1cm4gdmFsdWUgaXMgY3JlYXRlZFxyXG4gICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJ0aGUgcmV0dXJuIG9iamVjdFwifTtcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBSZXR1cm5CeVJlZmVyZW5jZUVudGl0eTxUIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGU+IGV4dGVuZHMgQ1BQRW50aXR5PFQ+IGltcGxlbWVudHMgVW5ib3VuZFJlZmVyZW5jZUVudGl0eTxUPiB7XHJcbiAgICBcclxuICAgIHB1YmxpYyBiaW5kVG8ocnRDb25zdHJ1Y3QgOiBSdW50aW1lQ29uc3RydWN0LCBvYmo6IENQUE9iamVjdDxUPikge1xyXG4gICAgICAgIC8vIEFzc3VtZSBhIFJldHVybkJ5UmVmZXJlbmNlRW50aXR5IHdpbGwgb25seSBiZSBib3VuZCBpbiB0aGUgY29udGV4dCBvZiBhIHJldHVyblxyXG4gICAgICAgIC8vIGZvciBhIHJldHVybi1ieS1yZWZlcmVuY2UgZnVuY3Rpb24sIHRodXMgdGhlIGNhc3RcclxuICAgICAgICBsZXQgZnVuYyA9IDxSdW50aW1lRnVuY3Rpb248UmVmZXJlbmNlVHlwZTxUPj4+cnRDb25zdHJ1Y3QuY29udGFpbmluZ1J1bnRpbWVGdW5jdGlvbjtcclxuICAgICAgICBmdW5jLnNldFJldHVybk9iamVjdChvYmopO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZXNjcmliZSgpIHtcclxuICAgICAgICAvLyBUT0RPOiBhZGQgaW5mbyBhYm91dCB3aGljaCBmdW5jdGlvbj8gd291bGQgbmVlZCB0byBiZSBzcGVjaWZpZWQgd2hlbiB0aGUgcmV0dXJuIHZhbHVlIGlzIGNyZWF0ZWRcclxuICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwidGhlIG9iamVjdCByZXR1cm5lZCBieSByZWZlcmVuY2VcIn07XHJcbiAgICB9XHJcbn07XHJcblxyXG4vLyBUT0RPOiBkZXRlcm1pbmUgd2hhdCBzaG91bGQgYWN0dWFsbHkgYmUgdGhlIGJhc2UgY2xhc3MgaGVyZVxyXG4vLyBUT0RPOiBJIHRoaW5rIHRoaXMgc2hvdWxkIGJlIGFuIG9iamVjdD9cclxuLy8gVE9ETzogSSBkb24ndCB0aGluayB0aGlzIHNob3VsZCBiZSBhbiBvYmplY3QhIE1vdmUgdG8gcnVudGltZUVudmlyb25tZW50LnRzP1xyXG4vLyBUT0RPOiBJcyB0aGlzIG5lZWRlZD8gQ2FuIHdoZXJldmVyIHVzZXMgaXQganVzdCBrZWVwIHRyYWNrIG9mIHRoZSBhY3R1YWwgb2JqZWN0cz9cclxuLy8gZXhwb3J0IGNsYXNzIFJ1bnRpbWVSZWZlcmVuY2U8VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiB7XHJcblxyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSh0aGlzKTtcclxuXHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgZW50aXR5OiBCb3VuZFJlZmVyZW5jZUVudGl0eTxUPjtcclxuLy8gICAgIHB1YmxpYyByZWFkb25seSByZWZlcnNUbzogQ1BQT2JqZWN0PFQ+O1xyXG5cclxuLy8gICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihlbnRpdHk6IEJvdW5kUmVmZXJlbmNlRW50aXR5PFQ+LCByZWZlcnNUbzogQ1BQT2JqZWN0PFQ+KSB7XHJcbi8vICAgICAgICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XHJcbiAgICAgICAgXHJcblxyXG4vLyAgICAgICAgIHRoaXMucmVmZXJzVG8gPSByZWZlcnNUbztcclxuLy8gICAgICAgICAvLyBJbml0aWFsbHkgcmVmZXJzIHRvIGEgZGVhZCBvYmplY3QgYXQgYWRkcmVzcyAwXHJcbi8vICAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGJhZCBpZGVhLCBzbyBJIHJlbW92ZWQgaXRcclxuLy8gICAgICAgICAvLyB0aGlzLnJlZmVyc1RvID0gbmV3IEFub255bW91c09iamVjdCh0aGlzLmVudGl0eS50eXBlLCBtZW1vcnksIDApO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIC8vIHB1YmxpYyBiaW5kVG8ocmVmZXJzVG86IENQUE9iamVjdCkge1xyXG4vLyAgICAgLy8gICAgICg8dHlwZW9mIFJ1bnRpbWVSZWZlcmVuY2UucHJvdG90eXBlLnJlZmVyc1RvPnRoaXMucmVmZXJzVG8pID0gcmVmZXJzVG87XHJcbi8vICAgICAvLyAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJib3VuZFwiKTtcclxuLy8gICAgIC8vIH1cclxuXHJcbi8vICAgICBwdWJsaWMgZGVzY3JpYmUoKSB7XHJcbi8vICAgICAgICAgaWYgKHRoaXMucmVmZXJzVG8pIHtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcInRoZSByZWZlcmVuY2UgXCIgKyB0aGlzLmVudGl0eS5uYW1lICsgXCIgKHdoaWNoIGlzIGJvdW5kIHRvIFwiICsgdGhpcy5yZWZlcnNUby5kZXNjcmliZSgpLm1lc3NhZ2UgKyBcIilcIn07XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2Uge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwidGhlIHJlZmVyZW5jZSBcIiArIHRoaXMuZW50aXR5Lm5hbWUgKyBcIiAod2hpY2ggaGFzIG5vdCB5ZXQgYmVlbiBib3VuZCB0byBhbiBvYmplY3QpXCJ9O1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuLy8gfTtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdHJpbmdMaXRlcmFsRW50aXR5IGV4dGVuZHMgQ1BQRW50aXR5PEJvdW5kZWRBcnJheVR5cGU+IGltcGxlbWVudHMgT2JqZWN0RW50aXR5PEJvdW5kZWRBcnJheVR5cGU+IHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RyOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZSE6IEJvdW5kZWRBcnJheVR5cGU8Q2hhcj47IC8vIGhhbmRsZWQgYnkgcGFyZW50XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHN0cjogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIobmV3IEJvdW5kZWRBcnJheVR5cGUobmV3IENoYXIodHJ1ZSksIHN0ci5sZW5ndGggKyAxKSk7IC8vICsgMSBmb3IgbnVsbCBjaGFyXHJcbiAgICAgICAgdGhpcy5zdHIgPSBzdHI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9iamVjdEluc3RhbmNlKG1lbW9yeTogTWVtb3J5LCBhZGRyZXNzOiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFN0cmluZ0xpdGVyYWxPYmplY3QodGhpcy50eXBlLCBtZW1vcnksIGFkZHJlc3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpIHtcclxuICAgICAgICByZXR1cm4gXCJzdHJpbmcgbGl0ZXJhbCBcXFwiXCIgKyB1bmVzY2FwZVN0cmluZyh0aGlzLnN0cikgKyBcIlxcXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcnVudGltZUxvb2t1cChydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgICAgIHJldHVybiBydENvbnN0cnVjdC5zaW0ubWVtb3J5LmdldFN0cmluZ0xpdGVyYWwodGhpcy5zdHIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZXNjcmliZSgpIHtcclxuICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwidGhlIHN0cmluZyBsaXRlcmFsIFxcXCJcIiArIHVuZXNjYXBlU3RyaW5nKHRoaXMuc3RyKSArIFwiXFxcIlwifTtcclxuICAgIH1cclxufTtcclxuXHJcbi8vIFRPRE86IHdpbGwgbmVlZCB0byBhZGQgYSBjbGFzcyBmb3IgUmVmZXJlbmNlUGFyYW1ldGVyRW50aXR5XHJcbmV4cG9ydCBjbGFzcyBQYXNzQnlWYWx1ZVBhcmFtZXRlckVudGl0eTxUIGV4dGVuZHMgT2JqZWN0VHlwZT4gZXh0ZW5kcyBDUFBFbnRpdHk8VD4gaW1wbGVtZW50cyBPYmplY3RFbnRpdHk8VD4ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBjYWxsZWRGdW5jdGlvbjogRnVuY3Rpb25FbnRpdHk7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZTogVDtcclxuICAgIHB1YmxpYyByZWFkb25seSBudW06IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY2FsbGVkRnVuY3Rpb246IEZ1bmN0aW9uRW50aXR5LCB0eXBlOiBULCBudW06IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyKHR5cGUpO1xyXG4gICAgICAgIHRoaXMuY2FsbGVkRnVuY3Rpb24gPSBjYWxsZWRGdW5jdGlvbjtcclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgICAgIHRoaXMubnVtID0gbnVtO1xyXG4gICAgICAgIGFzc2VydChzYW1lVHlwZShjYWxsZWRGdW5jdGlvbi50eXBlLnBhcmFtVHlwZXNbbnVtXSwgdHlwZSksIFwiSW5jb25zaXN0ZW50IHR5cGUgZm9yIHBhcmFtZXRlciBlbnRpdHkuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBydW50aW1lTG9va3VwKHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgLy8gR2V0dGluZyB0aGUgZnVuY3Rpb24gYXQgcnVudGltZSBhbHJlYWR5IHRha2VzIGNhcmUgb2YgcG9seW1vcnBoaXNtIGZvciB2aXJ0dWFsIGZ1bmN0aW9uc1xyXG4gICAgICAgIC8vIE5vdGU6IHJ0Q29uc3RydWN0LmNvbnRhaW5pbmdSdW50aW1lRnVuY3Rpb24gaXMgbm90IGNvcnJlY3QgaGVyZSBzaW5jZSB0aGUgbG9va3VwIHdvdWxkIG9jY3VyXHJcbiAgICAgICAgLy8gaW4gdGhlIGNvbnRleHQgb2YgdGhlIGNhbGxpbmcgZnVuY3Rpb24sIHJhdGhlciB0aGFuIHRoZSBjYWxsZWQgZnVuY3Rpb24uXHJcbiAgICAgICAgdmFyIGZ1bmMgPSBydENvbnN0cnVjdC5zaW0udG9wRnVuY3Rpb24oKSE7XHJcblxyXG4gICAgICAgIC8vIExvb2sgdXAgdGhlIHBhcmFtZXRlciAoYXMgYSBsb2NhbCB2YXJpYWJsZSkgaW4gdGhlIGNvbnRleHQgb2YgdGhlIHRvcCBmdW5jdGlvbiBvbiB0aGUgc3RhY2suXHJcbiAgICAgICAgbGV0IHBhcmFtID0gZnVuYy5tb2RlbC5wYXJhbWV0ZXJzW3RoaXMubnVtXS5kZWNsYXJlZEVudGl0eTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoIShwYXJhbSBpbnN0YW5jZW9mIEF1dG9FbnRpdHkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhc3NlcnRGYWxzZShcIlBhc3MgYnkgdmFsdWUgdXNlZCB3aXRoIHJlZmVyZW5jZSBwYXJhbWV0ZXIuXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHBhcmFtT2JqID0gcGFyYW0ucnVudGltZUxvb2t1cChmdW5jKTtcclxuICAgICAgICBcclxuICAgICAgICBhc3NlcnQoc2FtZVR5cGUocGFyYW1PYmoudHlwZSwgdGhpcy50eXBlKSk7XHJcbiAgICAgICAgcmV0dXJuIDxBdXRvT2JqZWN0PFQ+PnBhcmFtT2JqO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZXNjcmliZSgpIHtcclxuICAgICAgICBsZXQgZGVmaW5pdGlvbiA9IHRoaXMuY2FsbGVkRnVuY3Rpb24uZGVmaW5pdGlvbjtcclxuICAgICAgICBpZiAoZGVmaW5pdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gZGVmaW5pdGlvbi5wYXJhbWV0ZXJzW3RoaXMubnVtXS5kZWNsYXJlZEVudGl0eS5kZXNjcmliZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBgUGFyYW1ldGVyICMke3RoaXMubnVtKzF9IG9mIHRoZSBjYWxsZWQgZnVuY3Rpb25gfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhc3NCeVJlZmVyZW5jZVBhcmFtZXRlckVudGl0eTxUIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGU+IGV4dGVuZHMgQ1BQRW50aXR5PFQ+IGltcGxlbWVudHMgVW5ib3VuZFJlZmVyZW5jZUVudGl0eTxUPiB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGNhbGxlZEZ1bmN0aW9uOiBGdW5jdGlvbkVudGl0eTtcclxuICAgIHB1YmxpYyByZWFkb25seSB0eXBlOiBUO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG51bTogbnVtYmVyO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihjYWxsZWRGdW5jdGlvbjogRnVuY3Rpb25FbnRpdHksIHR5cGU6IFQsIG51bTogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIodHlwZSk7XHJcbiAgICAgICAgdGhpcy5jYWxsZWRGdW5jdGlvbiA9IGNhbGxlZEZ1bmN0aW9uO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy5udW0gPSBudW07XHJcbiAgICAgICAgYXNzZXJ0KHNhbWVUeXBlKGNhbGxlZEZ1bmN0aW9uLnR5cGUucGFyYW1UeXBlc1tudW1dLCB0eXBlKSwgXCJJbmNvbnNpc3RlbnQgdHlwZSBmb3IgcGFyYW1ldGVyIGVudGl0eS5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGJpbmRUbyhydENvbnN0cnVjdCA6IFJ1bnRpbWVDb25zdHJ1Y3QsIG9iajogQ1BQT2JqZWN0PFQ+KSB7XHJcbiAgICAgICAgLy8gR2V0dGluZyB0aGUgZnVuY3Rpb24gYXQgcnVudGltZSBhbHJlYWR5IHRha2VzIGNhcmUgb2YgcG9seW1vcnBoaXNtIGZvciB2aXJ0dWFsIGZ1bmN0aW9uc1xyXG4gICAgICAgIC8vIE5vdGU6IHJ0Q29uc3RydWN0LmNvbnRhaW5pbmdSdW50aW1lRnVuY3Rpb24gaXMgbm90IGNvcnJlY3QgaGVyZSBzaW5jZSB0aGUgbG9va3VwIHdvdWxkIG9jY3VyXHJcbiAgICAgICAgLy8gaW4gdGhlIGNvbnRleHQgb2YgdGhlIGNhbGxpbmcgZnVuY3Rpb24sIHJhdGhlciB0aGFuIHRoZSBjYWxsZWQgZnVuY3Rpb24uXHJcbiAgICAgICAgdmFyIGZ1bmMgPSBydENvbnN0cnVjdC5zaW0udG9wRnVuY3Rpb24oKSE7XHJcblxyXG4gICAgICAgIC8vIExvb2sgdXAgdGhlIHBhcmFtZXRlciAoYXMgYSBsb2NhbCB2YXJpYWJsZSkgaW4gdGhlIGNvbnRleHQgb2YgdGhlIHRvcCBmdW5jdGlvbiBvbiB0aGUgc3RhY2suXHJcbiAgICAgICAgbGV0IHBhcmFtID0gZnVuYy5tb2RlbC5wYXJhbWV0ZXJzW3RoaXMubnVtXS5kZWNsYXJlZEVudGl0eTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoIShwYXJhbSBpbnN0YW5jZW9mIExvY2FsUmVmZXJlbmNlRW50aXR5KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXNzZXJ0RmFsc2UoXCJQYXNzIGJ5IHJlZmVyZW5jZSB1c2VkIHdpdGggbm9uLXJlZmVyZW5jZSBwYXJhbWV0ZXIuXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcGFyYW0uYmluZFRvKGZ1bmMsIG9iaik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZGVzY3JpYmUoKSB7XHJcbiAgICAgICAgbGV0IGRlZmluaXRpb24gPSB0aGlzLmNhbGxlZEZ1bmN0aW9uLmRlZmluaXRpb247XHJcbiAgICAgICAgaWYgKGRlZmluaXRpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRlZmluaXRpb24ucGFyYW1ldGVyc1t0aGlzLm51bV0uZGVjbGFyZWRFbnRpdHkuZGVzY3JpYmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7bWVzc2FnZTogYFBhcmFtZXRlciAjJHt0aGlzLm51bSsxfSBvZiB0aGUgY2FsbGVkIGZ1bmN0aW9uYH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5cclxuLy8gZXhwb3J0IGNsYXNzIFJlY2VpdmVyRW50aXR5IGV4dGVuZHMgQ1BQRW50aXR5PENsYXNzVHlwZT4gaW1wbGVtZW50cyBPYmplY3RFbnRpdHk8Q2xhc3NUeXBlPiB7XHJcbi8vICAgICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9uYW1lOiBcIlJlY2VpdmVyRW50aXR5XCI7XHJcblxyXG4vLyAgICAgLy8gc3RvcmFnZTogXCJhdXRvbWF0aWNcIixcclxuICAgIFxyXG4vLyAgICAgY29uc3RydWN0b3IodHlwZTogVCkge1xyXG4vLyAgICAgICAgIHN1cGVyKHR5cGUpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyB0b1N0cmluZygpIHtcclxuLy8gICAgICAgICByZXR1cm4gXCJmdW5jdGlvbiByZWNlaXZlciAoXCIgKyB0aGlzLnR5cGUgKyBcIilcIjtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgcnVudGltZUxvb2t1cChydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4vLyAgICAgICAgIHJldHVybiBydENvbnN0cnVjdC5jb250ZXh0dWFsUmVjZWl2ZXIoKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgZGVzY3JpYmUoKSB7XHJcbi8vICAgICAgICAgLy8gaWYgKHJ0Q29uc3RydWN0KXtcclxuLy8gICAgICAgICAvLyAgICAgcmV0dXJuIHttZXNzYWdlOiBcInRoZSByZWNlaXZlciBvZiB0aGlzIGNhbGwgdG8gXCIgKyBydENvbnN0cnVjdC5jb250YWluaW5nUnVudGltZUZ1bmN0aW9uKCkuZGVzY3JpYmUoKS5tZXNzYWdlICsgXCIgKGkuZS4gKnRoaXMpIFwifTtcclxuLy8gICAgICAgICAvLyB9XHJcbi8vICAgICAgICAgLy8gZWxzZSB7XHJcbi8vICAgICAgICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJ0aGUgcmVjZWl2ZXIgb2YgdGhpcyBjYWxsIChpLmUuICp0aGlzKVwifTtcclxuLy8gICAgICAgICAvLyB9XHJcbi8vICAgICB9XHJcbi8vIH07XHJcblxyXG5cclxuXHJcbi8vIGV4cG9ydCBjbGFzcyBOZXdPYmplY3RFbnRpdHk8VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiBleHRlbmRzIENQUEVudGl0eTxUPiBpbXBsZW1lbnRzIE9iamVjdEVudGl0eTxUPiB7XHJcbi8vICAgICBwcm90ZWN0ZWQgc3RhdGljIHJlYWRvbmx5IF9uYW1lID0gXCJOZXdPYmplY3RFbnRpdHlcIjtcclxuXHJcbi8vICAgICAvLyBzdG9yYWdlOiBcImF1dG9tYXRpY1wiLFxyXG4gICAgXHJcbi8vICAgICBwdWJsaWMgdG9TdHJpbmcoKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIFwib2JqZWN0IChcIiArIHRoaXMudHlwZSArIFwiKVwiO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBydW50aW1lTG9va3VwKHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbi8vICAgICAgICAgLy8gbm8gYWRkaXRpb25hbCBydW50aW1lTG9va3VwKCkgbmVlZGVkIG9uIHRoZSBvYmplY3Qgc2luY2UgaXQgd2lsbCBuZXZlciBiZSBhIHJlZmVyZW5jZVxyXG4vLyAgICAgICAgIHJldHVybiBydENvbnN0cnVjdC5nZXRBbGxvY2F0ZWRPYmplY3QoKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgZGVzY3JpYmUoKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcInRoZSBkeW5hbWljYWxseSBhbGxvY2F0ZWQgb2JqZWN0IChvZiB0eXBlIFwiK3RoaXMudHlwZStcIikgY3JlYXRlZCBieSBuZXdcIn07XHJcbi8vICAgICB9XHJcblxyXG4vLyB9O1xyXG5cclxuZXhwb3J0IGNsYXNzIEFycmF5U3Vib2JqZWN0RW50aXR5PFQgZXh0ZW5kcyBBcnJheUVsZW1UeXBlID0gQXJyYXlFbGVtVHlwZT4gZXh0ZW5kcyBDUFBFbnRpdHk8VD4gaW1wbGVtZW50cyBPYmplY3RFbnRpdHk8VD4ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBhcnJheUVudGl0eTogT2JqZWN0RW50aXR5PEJvdW5kZWRBcnJheVR5cGU8VD4+O1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGluZGV4OiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYXJyYXlFbnRpdHk6IE9iamVjdEVudGl0eTxCb3VuZGVkQXJyYXlUeXBlPFQ+PiwgaW5kZXg6IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyKGFycmF5RW50aXR5LnR5cGUuZWxlbVR5cGUpO1xyXG4gICAgICAgIHRoaXMuYXJyYXlFbnRpdHkgPSBhcnJheUVudGl0eTtcclxuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJ1bnRpbWVMb29rdXAocnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hcnJheUVudGl0eS5ydW50aW1lTG9va3VwKHJ0Q29uc3RydWN0KS5nZXRBcnJheUVsZW1TdWJvYmplY3QodGhpcy5pbmRleCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlc2NyaWJlKCkge1xyXG4gICAgICAgIGxldCBhcnJEZXNjID0gdGhpcy5hcnJheUVudGl0eS5kZXNjcmliZSgpO1xyXG4gICAgICAgIGxldCBkZXNjIDogRGVzY3JpcHRpb24gPSB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiZWxlbWVudCBcIiArIHRoaXMuaW5kZXggKyBcIiBvZiBcIiArIGFyckRlc2MubWVzc2FnZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKGFyckRlc2MubmFtZSl7XHJcbiAgICAgICAgICAgIGRlc2MubmFtZSA9IGFyckRlc2MubmFtZSArIFwiW1wiICsgdGhpcy5pbmRleCArIFwiXVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGVzYztcclxuICAgIH1cclxufVxyXG5cclxuLy8gZXhwb3J0IGNsYXNzIEJhc2VTdWJvYmplY3RFbnRpdHkgZXh0ZW5kcyBDUFBFbnRpdHk8Q2xhc3NUeXBlPiBpbXBsZW1lbnRzIE9iamVjdEVudGl0eTxDbGFzc1R5cGU+IHtcclxuXHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgY29udGFpbmluZ0VudGl0eTogT2JqZWN0RW50aXR5PENsYXNzVHlwZT47XHJcblxyXG4vLyAgICAgY29uc3RydWN0b3IoY29udGFpbmluZ0VudGl0eTogT2JqZWN0RW50aXR5PENsYXNzVHlwZT4sIHR5cGU6IENsYXNzVHlwZSkge1xyXG4vLyAgICAgICAgIHN1cGVyKHR5cGUpO1xyXG4vLyAgICAgICAgIHRoaXMuY29udGFpbmluZ0VudGl0eSA9IGNvbnRhaW5pbmdFbnRpdHk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIHJ1bnRpbWVMb29rdXAocnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuLy8gICAgICAgICAvLyBUT0RPOiBjaGVjayBvbiBub24tbnVsbCBhc3NlcnRpb24gYmVsb3dcclxuLy8gICAgICAgICByZXR1cm4gdGhpcy5jb250YWluaW5nRW50aXR5LnJ1bnRpbWVMb29rdXAocnRDb25zdHJ1Y3QpLmdldEJhc2VTdWJvYmplY3QoKSE7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIGRlc2NyaWJlKCkge1xyXG4vLyAgICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJ0aGUgXCIgKyB0aGlzLnR5cGUuY3BwQ2xhc3MubmFtZSArIFwiIGJhc2UgY2xhc3Mgc3Vib2JqZWN0IG9mIFwiICsgdGhpcy5jb250YWluaW5nRW50aXR5LmRlc2NyaWJlKCl9O1xyXG4vLyAgICAgfVxyXG4vLyB9XHJcblxyXG5cclxuXHJcbi8vIGV4cG9ydCBjbGFzcyBNZW1iZXJTdWJvYmplY3RFbnRpdHk8VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiBleHRlbmRzIENQUEVudGl0eTxUPiBpbXBsZW1lbnRzIE9iamVjdEVudGl0eTxUPiB7XHJcblxyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IGNvbnRhaW5pbmdFbnRpdHk6IE9iamVjdEVudGl0eTxDbGFzc1R5cGU+O1xyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcclxuXHJcbi8vICAgICBjb25zdHJ1Y3Rvcihjb250YWluaW5nRW50aXR5OiBPYmplY3RFbnRpdHk8Q2xhc3NUeXBlPiwgdHlwZTogVCwgbmFtZTogc3RyaW5nKSB7XHJcbi8vICAgICAgICAgc3VwZXIodHlwZSk7XHJcbi8vICAgICAgICAgdGhpcy5jb250YWluaW5nRW50aXR5ID0gY29udGFpbmluZ0VudGl0eTtcclxuLy8gICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBydW50aW1lTG9va3VwKHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbi8vICAgICAgICAgLy8gVE9ETzogY2hlY2sgb24gY2FzdCBiZWxvd1xyXG4vLyAgICAgICAgIHJldHVybiA8TWVtYmVyU3Vib2JqZWN0PFQ+PnRoaXMuY29udGFpbmluZ0VudGl0eS5ydW50aW1lTG9va3VwKHJ0Q29uc3RydWN0KS5nZXRNZW1iZXJTdWJvYmplY3QodGhpcy5uYW1lKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgZGVzY3JpYmUoKSB7XHJcbi8vICAgICAgICAgbGV0IGNvbnRhaW5pbmdPYmplY3REZXNjID0gdGhpcy5jb250YWluaW5nRW50aXR5LmRlc2NyaWJlKCk7XHJcbi8vICAgICAgICAgbGV0IGRlc2MgOiBEZXNjcmlwdGlvbiA9IHtcclxuLy8gICAgICAgICAgICAgbWVzc2FnZTogXCJ0aGUgXCIgKyB0aGlzLm5hbWUgKyBcIiBtZW1iZXIgb2YgXCIgKyBjb250YWluaW5nT2JqZWN0RGVzYy5tZXNzYWdlXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGlmIChjb250YWluaW5nT2JqZWN0RGVzYy5uYW1lKSB7XHJcbi8vICAgICAgICAgICAgIGRlc2MubmFtZSA9IGNvbnRhaW5pbmdPYmplY3REZXNjLm5hbWUgKyBcIi5cIiArIHRoaXMubmFtZVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICByZXR1cm4gZGVzYztcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuLy8gZXhwb3J0IGNsYXNzIEJhc2VDbGFzc0VudGl0eSBleHRlbmRzIENQUEVudGl0eTxDbGFzc1R5cGU+IGltcGxlbWVudHMgT2JqZWN0RW50aXR5PENsYXNzVHlwZT4ge1xyXG4vLyAgICAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfbmFtZSA9IFwiQmFzZUNsYXNzRW50aXR5XCI7XHJcbi8vICAgICAvLyBzdG9yYWdlOiBcIm5vbmVcIixcclxuXHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgYWNjZXNzOiBzdHJpbmc7XHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgbWVtYmVyT2ZUeXBlOiBDbGFzc1R5cGU7XHJcblxyXG4vLyAgICAgY29uc3RydWN0b3IodHlwZTogQ2xhc3NUeXBlLCBtZW1iZXJPZlR5cGU6IENsYXNzVHlwZSwgYWNjZXNzOiBzdHJpbmcpIHtcclxuLy8gICAgICAgICBzdXBlcih0eXBlKTtcclxuLy8gICAgICAgICB0aGlzLm1lbWJlck9mVHlwZSA9IG1lbWJlck9mVHlwZTtcclxuLy8gICAgICAgICB0aGlzLmFjY2VzcyA9IGFjY2VzcztcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgdG9TdHJpbmcoKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIFwidGhlIFwiICsgdGhpcy50eXBlLmNsYXNzTmFtZSArIFwiIGJhc2Ugb2JqZWN0IG9mIFwiICsgdGhpcy5tZW1iZXJPZlR5cGUuY2xhc3NOYW1lO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBydW50aW1lTG9va3VwKHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbi8vICAgICAgICAgdmFyIHJlY09iaiA9IHJ0Q29uc3RydWN0LmNvbnRleHR1YWxSZWNlaXZlcigpO1xyXG5cclxuLy8gICAgICAgICB3aGlsZShyZWNPYmogJiYgIShyZWNPYmoudHlwZSBpbnN0YW5jZW9mIHRoaXMudHlwZSkpeyAvLyBUT0RPOiB0aGlzIGlzQSBzaG91bGQgcHJvYmFibHkgYmUgY2hhbmdlZCB0byBhIHR5cGUgZnVuY3Rpb25cclxuLy8gICAgICAgICAgICAgcmVjT2JqID0gcmVjT2JqLnR5cGUuZ2V0QmFzZUNsYXNzKCkgJiYgcmVjT2JqLmlfYmFzZVN1Ym9iamVjdHNbMF07XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIFV0aWwuYXNzZXJ0KHJlY09iaiwgXCJJbnRlcm5hbCBsb29rdXAgZmFpbGVkIHRvIGZpbmQgc3Vib2JqZWN0IGluIGNsYXNzIG9yIGJhc2UgY2xhc3Nlcy5cIik7XHJcblxyXG4vLyAgICAgICAgIHJldHVybiByZWNPYmo7XHJcbi8vICAgICB9XHJcbiAgICBcclxuLy8gICAgIHB1YmxpYyBvYmplY3RJbnN0YW5jZShwYXJlbnRPYmo6IENQUE9iamVjdDxDbGFzc1R5cGU+LCBtZW1vcnk6IE1lbW9yeSwgYWRkcmVzczogbnVtYmVyKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIG5ldyBCYXNlU3Vib2JqZWN0KHBhcmVudE9iaiwgdGhpcy50eXBlLCBtZW1vcnksIGFkZHJlc3MpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBkZXNjcmliZSgpIHtcclxuLy8gICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwidGhlIFwiICsgdGhpcy50eXBlLmNsYXNzTmFtZSArIFwiIGJhc2Ugb2JqZWN0IG9mIFwiICsgdGhpcy5tZW1iZXJPZlR5cGUuY2xhc3NOYW1lfTtcclxuLy8gICAgIH1cclxuLy8gfTtcclxuXHJcbi8vIC8vIFRPRE86IG5lZWQgY2xhc3MgZm9yIHJlZmVyZW5jZSBtZW1iZXJzXHJcbi8vIGV4cG9ydCBjbGFzcyBNZW1iZXJWYXJpYWJsZUVudGl0eTxUIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGU+IGV4dGVuZHMgRGVjbGFyZWRFbnRpdHk8VD4gaW1wbGVtZW50cyBPYmplY3RFbnRpdHk8VD4ge1xyXG4vLyAgICAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfbmFtZSA9IFwiTWVtYmVyVmFyaWFibGVFbnRpdHlcIjtcclxuLy8gICAgIC8vIHN0b3JhZ2U6IFwibm9uZVwiLFxyXG5cclxuLy8gICAgIHB1YmxpYyByZWFkb25seSBhY2Nlc3M6IHN0cmluZztcclxuLy8gICAgIHB1YmxpYyByZWFkb25seSBtZW1iZXJPZlR5cGU6IFR5cGVzLkNsYXNzO1xyXG5cclxuLy8gICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihkZWNsOiBTaW1wbGVEZWNsYXJhdGlvbiwgbWVtYmVyT2ZUeXBlOiBUeXBlcy5DbGFzcykge1xyXG4vLyAgICAgICAgIHN1cGVyKGRlY2wpO1xyXG4vLyAgICAgICAgIHRoaXMubWVtYmVyT2ZUeXBlID0gbWVtYmVyT2ZUeXBlO1xyXG4vLyAgICAgICAgIHRoaXMuYWNjZXNzID0gZGVjbC5hY2Nlc3M7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIHRvU3RyaW5nKCkge1xyXG4vLyAgICAgICAgIHJldHVybiB0aGlzLm5hbWUgKyBcIiAoXCIgKyB0aGlzLnR5cGUgKyBcIilcIjtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgcnVudGltZUxvb2t1cChydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4vLyAgICAgICAgIHZhciByZWNPYmogPSBydENvbnN0cnVjdC5jb250ZXh0dWFsUmVjZWl2ZXIoKTtcclxuXHJcbi8vICAgICAgICAgd2hpbGUocmVjT2JqICYmICFyZWNPYmoudHlwZS5zaW1pbGFyVHlwZSh0aGlzLm1lbWJlck9mVHlwZSkpIHtcclxuLy8gICAgICAgICAgICAgcmVjT2JqID0gcmVjT2JqLnR5cGUuZ2V0QmFzZUNsYXNzKCkgJiYgcmVjT2JqLmlfYmFzZVN1Ym9iamVjdHNbMF07XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICBhc3NlcnQocmVjT2JqLCBcIkludGVybmFsIGxvb2t1cCBmYWlsZWQgdG8gZmluZCBzdWJvYmplY3QgaW4gY2xhc3Mgb3IgYmFzZSBjbGFzc3Nlcy5cIik7XHJcblxyXG4vLyAgICAgICAgIHJldHVybiByZWNPYmouZ2V0TWVtYmVyU3Vib2JqZWN0KHRoaXMubmFtZSk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIG9iamVjdEluc3RhbmNlKHBhcmVudE9iajogQ1BQT2JqZWN0PENsYXNzVHlwZT4sIG1lbW9yeTogTWVtb3J5LCBhZGRyZXNzOiBudW1iZXIpIHtcclxuLy8gICAgICAgICByZXR1cm4gbmV3IE1lbWJlclN1Ym9iamVjdChwYXJlbnRPYmosIHRoaXMudHlwZSwgdGhpcy5uYW1lLCBtZW1vcnksIGFkZHJlc3MpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBkZXNjcmliZSgpIHtcclxuLy8gICAgICAgICBpZiAocnRDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgICAgICB2YXIgcmVjT2JqID0gcnRDb25zdHJ1Y3QuY29udGV4dHVhbFJlY2VpdmVyKCk7XHJcbi8vICAgICAgICAgICAgIGlmIChyZWNPYmoubmFtZSl7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4ge21lc3NhZ2U6IHJlY09iai5uYW1lICsgXCIuXCIgKyB0aGlzLm5hbWV9O1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwidGhlIG1lbWJlciBcIiArIHRoaXMubmFtZSArIFwiIG9mIFwiICsgcmVjT2JqLmRlc2NyaWJlKCkubWVzc2FnZX07XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHtcclxuLy8gICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubWVtYmVyT2ZUeXBlLmNsYXNzTmFtZSArIFwiLlwiICsgdGhpcy5uYW1lLFxyXG4vLyAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJ0aGUgXCIgKyB0aGlzLm5hbWUgKyBcIiBtZW1iZXIgb2YgdGhlIFwiICsgdGhpcy5tZW1iZXJPZlR5cGUuY2xhc3NOYW1lICsgXCIgY2xhc3NcIlxyXG4vLyAgICAgICAgICAgICB9O1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuZXhwb3J0IGNsYXNzIFRlbXBvcmFyeU9iamVjdEVudGl0eTxUIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGU+IGV4dGVuZHMgQ1BQRW50aXR5PFQ+IGltcGxlbWVudHMgT2JqZWN0RW50aXR5PFQ+IHtcclxuICAgIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX25hbWUgPSBcIlRlbXBvcmFyeU9iamVjdEVudGl0eVwiO1xyXG4gICAgLy8gc3RvcmFnZTogXCJ0ZW1wXCIsXHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGNyZWF0b3I6IFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG93bmVyOiBQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbjtcclxuICAgIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IodHlwZTogVCwgY3JlYXRvcjogUG90ZW50aWFsRnVsbEV4cHJlc3Npb24sIG93bmVyOiBQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiwgZGVzY3JpcHRpb246IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKHR5cGUpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRvciA9IGNyZWF0b3I7XHJcbiAgICAgICAgdGhpcy5vd25lciA9IG93bmVyO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7IC8vIFRPRE86IGNoYW5nZSB3aGVuIEkgY2hlY2sgb3ZlciB1c2FnZXMgb2YgLm5hbWUgYW5kIHJlcGxhY2Ugd2l0aCBkZXNjcmlwdGlvbiBvciBzb21ldGhpbmdcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0T3duZXIobmV3T3duZXI6IFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgKDxNdXRhYmxlPHRoaXM+PnRoaXMpLm93bmVyID0gbmV3T3duZXI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9iamVjdEluc3RhbmNlKGNyZWF0b3JSdDogUnVudGltZVBvdGVudGlhbEZ1bGxFeHByZXNzaW9uKSB7XHJcblxyXG4gICAgICAgIGxldCBvYmpJbnN0IDogVGVtcG9yYXJ5T2JqZWN0PFQ+ID0gY3JlYXRvclJ0LnNpbS5tZW1vcnkuYWxsb2NhdGVUZW1wb3JhcnlPYmplY3QodGhpcyk7XHJcblxyXG4gICAgICAgIGxldCBvd25lciA9IGNyZWF0b3JSdC5jb250YWluaW5nRnVsbEV4cHJlc3Npb247XHJcbiAgICAgICAgb3duZXIudGVtcG9yYXJ5T2JqZWN0c1t0aGlzLmVudGl0eUlkXSA9IG9iakluc3Q7XHJcbiAgICAgICAgcmV0dXJuIG9iakluc3Q7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJ1bnRpbWVMb29rdXAocnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICAvLyBTb21lIGhhY2t5IGNhc3RzIGFuZCBhc3NlcnRpb25zIGluIHRoaXMgaW1wbGVtZW50YXRpb25cclxuICAgICAgICBpZiAoIShydENvbnN0cnVjdCBpbnN0YW5jZW9mIFJ1bnRpbWVQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFzc2VydEZhbHNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiA8VGVtcG9yYXJ5T2JqZWN0PFQ+PnJ0Q29uc3RydWN0LmNvbnRhaW5pbmdGdWxsRXhwcmVzc2lvbi50ZW1wb3JhcnlPYmplY3RzW3RoaXMuZW50aXR5SWRdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZXNjcmliZSgpIHtcclxuICAgICAgICByZXR1cm4ge21lc3NhZ2U6IHRoaXMubmFtZX07IC8vIFRPT0Q6IGV2ZW50dWFsbHkgY2hhbmdlIGltcGxlbWVudGF0aW9uIHdoZW4gSSByZW1vdmUgbmFtZVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgRnVuY3Rpb25FbnRpdHkgZXh0ZW5kcyBEZWNsYXJlZEVudGl0eUJhc2U8RnVuY3Rpb25UeXBlPiB7XHJcblxyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcXVhbGlmaWVkTmFtZTogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGRlZmluaXRpb24/OiBGdW5jdGlvbkRlZmluaXRpb247XHJcbiAgICBcclxuICAgIC8vIHN0b3JhZ2U6IFwic3RhdGljXCIsXHJcbiAgICBjb25zdHJ1Y3Rvcih0eXBlOiBGdW5jdGlvblR5cGUsIGRlY2w6IFNpbXBsZURlY2xhcmF0aW9uKSB7XHJcbiAgICAgICAgc3VwZXIodHlwZSwgZGVjbCk7XHJcbiAgICAgICAgdGhpcy5xdWFsaWZpZWROYW1lID0gXCI6OlwiICsgdGhpcy5uYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc1N0YXRpY2FsbHlCb3VuZCgpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGlzVmlydHVhbCgpIHsvLyBUT0RPOiB3aHkgZG8gd2UgaGF2ZSB0aGlzIGZvciBub24tbWVtYmVyIGZ1bmN0aW9ucyBhcyB3ZWxsP1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbmFtZVN0cmluZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgbWVyZ2VJbnRvKGV4aXN0aW5nRW50aXR5OiBEZWNsYXJlZE9iamVjdEVudGl0eSB8IEZ1bmN0aW9uRW50aXR5W10pIHtcclxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZXhpc3RpbmdFbnRpdHkpKSB7IC8vIEl0J3Mgbm90IGEgZnVuY3Rpb24gb3ZlcmxvYWQgZ3JvdXBcclxuICAgICAgICAgICAgdGhyb3cgQ1BQRXJyb3IuZGVjbGFyYXRpb24udHlwZV9taXNtYXRjaCh0aGlzLmRlY2xhcmF0aW9uLCB0aGlzLCBleGlzdGluZ0VudGl0eSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgeyAvLyBJdCBpcyBhIGZ1bmN0aW9uIG92ZXJsb2FkIGdyb3VwLCBjaGVjayBlYWNoIG90aGVyIGZ1bmN0aW9uIGZvdW5kXHJcbiAgICAgICAgICAgIGxldCBtYXRjaGluZ0Z1bmN0aW9uID0gc2VsZWN0T3ZlcmxvYWRlZEVudGl0eShleGlzdGluZ0VudGl0eSwgdGhpcy50eXBlKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmICghbWF0Y2hpbmdGdW5jdGlvbikge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgbm9uZSB3ZXJlIGZvdW5kIHdpdGggdGhlIHNhbWUgc2lnbmF0dXJlLCB0aGlzIGlzIGEgbmV3IG92ZXJsb2FkLCBzbyBnbyBhaGVhZCBhbmQgYWRkIGl0XHJcbiAgICAgICAgICAgICAgICBleGlzdGluZ0VudGl0eS5wdXNoKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIElmIHRoZXkgaGF2ZSBtaXNtYXRjaGVkIHJldHVybiB0eXBlcywgdGhhdCdzIGEgcHJvYmxlbS5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLnR5cGUuc2FtZVJldHVyblR5cGUobWF0Y2hpbmdGdW5jdGlvbi50eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgQ1BQRXJyb3IuZGVjbGFyYXRpb24uZnVuYy5yZXR1cm5UeXBlc01hdGNoKFt0aGlzLmRlY2xhcmF0aW9uLCBtYXRjaGluZ0Z1bmN0aW9uLmRlY2xhcmF0aW9uXSwgdGhpcy5uYW1lKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQXMgYSBzYW5pdHkgY2hlY2ssIG1ha2Ugc3VyZSB0aGV5J3JlIHRoZSBzYW1lIHR5cGUuXHJcbiAgICAgICAgICAgIC8vIEJ1dCB0aGlzIHNob3VsZCBhbHJlYWR5IGJlIHRydWUsIGdpdmVuIHRoYXQgdGhleSBoYXZlIHRoZSBzYW1lIHNpZ25hdHVyZSBhbmQgcmV0dXJuIHR5cGUuXHJcbiAgICAgICAgICAgIGlmICghc2FtZVR5cGUodGhpcy50eXBlLCBtYXRjaGluZ0Z1bmN0aW9uLnR5cGUpKSB7IC8vIGFuIGFycmF5IGluZGljYXRlcyBhIGZ1bmN0aW9uIG92ZXJsb2FkIGdyb3VwIHdhcyBmb3VuZFxyXG4gICAgICAgICAgICAgICAgdGhyb3cgQ1BQRXJyb3IuZGVjbGFyYXRpb24udHlwZV9taXNtYXRjaCh0aGlzLmRlY2xhcmF0aW9uLCB0aGlzLCBtYXRjaGluZ0Z1bmN0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoaW5nRnVuY3Rpb247XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGxpbmsoZGVmOiBMaW5rZWREZWZpbml0aW9uIHwgdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgaWYgKCFkZWYgfHwgIUFycmF5LmlzQXJyYXkoZGVmKSkge1xyXG4gICAgICAgICAgICAvLyBFaXRoZXIgdW5kZWZpbmVkLCBvciBsaW5rZWQgYWdhaW5zdCBzb21ldGhpbmcgb3RoZXIgdGhhbiBhIGZ1bmN0aW9uIG92ZXJsb2FkIGdyb3VwXHJcbiAgICAgICAgICAgIHRoaXMuZGVjbGFyYXRpb24uYWRkTm90ZShDUFBFcnJvci5saW5rLmZ1bmMuZGVmX25vdF9mb3VuZCh0aGlzLmRlY2xhcmF0aW9uLCB0aGlzKSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gZm91bmQgYW4gb3ZlcmxvYWQgZ3JvdXAgb2YgZnVuY3Rpb24gZGVmaW5pdGlvbnMsIGNoZWNrIGZvciBvbmVcclxuICAgICAgICAvLyB3aXRoIG1hdGNoaW5nIHNpZ25hdHVyZSB0byB0aGUgZ2l2ZW4gbGlua2VkIGVudGl0eVxyXG4gICAgICAgIGxldCBvdmVybG9hZCA9IHNlbGVjdE92ZXJsb2FkZWREZWZpbml0aW9uKGRlZiwgdGhpcy50eXBlKTtcclxuICAgICAgICBpZiAoIW92ZXJsb2FkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVjbGFyYXRpb24uYWRkTm90ZShDUFBFcnJvci5saW5rLmZ1bmMubm9fbWF0Y2hpbmdfb3ZlcmxvYWQodGhpcy5kZWNsYXJhdGlvbiwgdGhpcykpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBjaGVjayByZXR1cm4gdHlwZVxyXG4gICAgICAgIGlmICghdGhpcy50eXBlLnNhbWVSZXR1cm5UeXBlKG92ZXJsb2FkLmRlY2xhcmF0aW9uLnR5cGUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVjbGFyYXRpb24uYWRkTm90ZShDUFBFcnJvci5saW5rLmZ1bmMucmV0dXJuVHlwZXNNYXRjaCh0aGlzLmRlY2xhcmF0aW9uLCB0aGlzKSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgKDxNdXRhYmxlPHRoaXM+PnRoaXMpLmRlZmluaXRpb24gPSBvdmVybG9hZDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPOiBjaGVjayBvbiB3aGF0IHRoaXMgaXMgaGVyZSBmb3JcclxuICAgIC8vIHB1YmxpYyBnZXRQb2ludGVyVG8oKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIG5ldyBWYWx1ZSh0aGlzLCB0aGlzLnR5cGUpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIHB1YmxpYyBpc01haW4oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucXVhbGlmaWVkTmFtZSA9PT0gXCI6Om1haW5cIjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzY3JpYmUoKTogRGVzY3JpcHRpb24ge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBleHBvcnQgY2xhc3MgTWFnaWNGdW5jdGlvbkVudGl0eSBleHRlbmRzIEZ1bmN0aW9uRW50aXR5IHtcclxuLy8gICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihkZWNsOiBTaW1wbGVEZWNsYXJhdGlvbikge1xyXG4vLyAgICAgICAgIHN1cGVyKGRlY2wpO1xyXG4vLyAgICAgICAgIHRoaXMuc2V0RGVmaW5pdGlvbihkZWNsKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgZGVzY3JpYmUoKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcIm5vIGRlc2NyaXB0aW9uIGF2YWlsYWJsZVwifTtcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuXHJcbi8vIGV4cG9ydCBjbGFzcyBNZW1iZXJGdW5jdGlvbkVudGl0eSBleHRlbmRzIEZ1bmN0aW9uRW50aXR5IHtcclxuXHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgY29udGFpbmluZ0NsYXNzOiBUeXBlcy5DbGFzcztcclxuLy8gICAgIHB1YmxpYyByZWFkb25seSBpc1ZpcnR1YWw6IGJvb2xlYW47XHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgcHVyZVZpcnR1YWw6IGJvb2xlYW47XHJcblxyXG4vLyAgICAgY29uc3RydWN0b3IoZGVjbDogU2ltcGxlRGVjbGFyYXRpb24sIGNvbnRhaW5pbmdDbGFzczogVHlwZXMuQ2xhc3MsIGlzVmlydHVhbDogYm9vbGVhbikge1xyXG4vLyAgICAgICAgIHN1cGVyKGRlY2wpO1xyXG4vLyAgICAgICAgIHRoaXMuY29udGFpbmluZ0NsYXNzID0gY29udGFpbmluZ0NsYXNzO1xyXG4vLyAgICAgICAgIHRoaXMuaXNWaXJ0dWFsID0gaXNWaXJ0dWFsO1xyXG4vLyAgICAgICAgIHRoaXMucHVyZVZpcnR1YWwgPSBkZWNsLnB1cmVWaXJ0dWFsO1xyXG4vLyAgICAgICAgIC8vIE1heSBhbHNvIGJlIHNldCB0byB2aXJ0dWFsIGxhdGVyIGlmIGl0J3MgZGlzY292ZXJlZCB0byBiZSBhbiBvdmVycmlkZXJcclxuLy8gICAgICAgICAvLyBmb3IgYSB2aXJ0dWFsIGZ1bmN0aW9uIGluIGEgYmFzZSBjbGFzc1xyXG5cclxuLy8gICAgICAgICB0aGlzLmNoZWNrRm9yT3ZlcnJpZGUoKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwcml2YXRlIGNoZWNrRm9yT3ZlcnJpZGUoKSB7XHJcbi8vICAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5pbmdDbGFzcy5nZXRCYXNlQ2xhc3MoKSkge1xyXG4vLyAgICAgICAgICAgICByZXR1cm47XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAvLyBGaW5kIHRoZSBuZWFyZXN0IG92ZXJyaWRlciBvZiBhIGh5cG90aGV0aWNhbCB2aXJ0dWFsIGZ1bmN0aW9uLlxyXG4vLyAgICAgICAgIC8vIElmIGFueSBhcmUgdmlydHVhbCwgdGhpcyBvbmUgd291bGQgaGF2ZSBhbHJlYWR5IGJlZW4gc2V0IHRvIGJlXHJcbi8vICAgICAgICAgLy8gYWxzbyB2aXJ0dWFsIGJ5IHRoaXMgc2FtZSBwcm9jZWR1cmUsIHNvIGNoZWNraW5nIHRoaXMgb25lIGlzIHN1ZmZpY2llbnQuXHJcbi8vICAgICAgICAgLy8gSWYgd2Ugb3ZlcnJpZGUgYW55IHZpcnR1YWwgZnVuY3Rpb24sIHRoaXMgb25lIGlzIHRvby5cclxuLy8gICAgICAgICB2YXIgb3ZlcnJpZGRlbiA9IHRoaXMuY29udGFpbmluZ0NsYXNzLmdldEJhc2VDbGFzcygpLmNsYXNzU2NvcGUuc2luZ2xlTG9va3VwKHRoaXMubmFtZSwge1xyXG4vLyAgICAgICAgICAgICBwYXJhbVR5cGVzOiB0aGlzLnR5cGUucGFyYW1UeXBlcywgaXNUaGlzQ29uc3Q6IHRoaXMudHlwZS5pc1RoaXNDb25zdCxcclxuLy8gICAgICAgICAgICAgZXhhY3RNYXRjaDp0cnVlLCBvd246dHJ1ZSwgbm9OYW1lSGlkaW5nOnRydWV9KTtcclxuXHJcbi8vICAgICAgICAgaWYgKG92ZXJyaWRkZW4gJiYgb3ZlcnJpZGRlbiBpbnN0YW5jZW9mIEZ1bmN0aW9uRW50aXR5ICYmIG92ZXJyaWRkZW4uaXNWaXJ0dWFsKXtcclxuLy8gICAgICAgICAgICAgKDxib29sZWFuPnRoaXMuaXNWaXJ0dWFsKSA9IHRydWU7XHJcbi8vICAgICAgICAgICAgIC8vIENoZWNrIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSByZXR1cm4gdHlwZXMgYXJlIGNvdmFyaWFudFxyXG4vLyAgICAgICAgICAgICBpZiAoIWNvdmFyaWFudFR5cGUodGhpcy50eXBlLnJldHVyblR5cGUsIG92ZXJyaWRkZW4udHlwZS5yZXR1cm5UeXBlKSl7XHJcbi8vICAgICAgICAgICAgICAgICB0aHJvdyBTZW1hbnRpY0V4Y2VwdGlvbnMuTm9uQ292YXJpYW50UmV0dXJuVHlwZXMuaW5zdGFuY2UodGhpcywgb3ZlcnJpZGRlbik7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIGlzU3RhdGljYWxseUJvdW5kKCkge1xyXG4vLyAgICAgICAgIHJldHVybiAhdGhpcy5pc1ZpcnR1YWw7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIGlzTGlua2VkKCkge1xyXG4vLyAgICAgICAgIHJldHVybiB0aGlzLnZpcnR1YWwgJiYgdGhpcy5wdXJlVmlydHVhbCB8fCB0aGlzLmlzRGVmaW5lZCgpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBydW50aW1lTG9va3VwKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuLy8gICAgICAgICBpZiAodGhpcy5pc1ZpcnR1YWwpe1xyXG4vLyAgICAgICAgICAgICAvLyBJZiBpdCdzIGEgdmlydHVhbCBmdW5jdGlvbiBzdGFydCBmcm9tIHRoZSBjbGFzcyBzY29wZSBvZiB0aGUgZHluYW1pYyB0eXBlXHJcbi8vICAgICAgICAgICAgIHZhciByZWNlaXZlciA9IHJ0Q29uc3RydWN0LmNvbnRleHR1YWxSZWNlaXZlcigpO1xyXG4vLyAgICAgICAgICAgICBVdGlsLmFzc2VydChyZWNlaXZlciwgXCJkeW5hbWljIGZ1bmN0aW9uIGxvb2t1cCByZXF1aXJlcyByZWNlaXZlclwiKTtcclxuLy8gICAgICAgICAgICAgdmFyIGR5bmFtaWNUeXBlID0gcmVjZWl2ZXIudHlwZTtcclxuXHJcbi8vICAgICAgICAgICAgIC8vIFNvcnJ5IHRoaXMgaXMgaGFja3kgOihcclxuLy8gICAgICAgICAgICAgLy8gSWYgaXQncyBhIGRlc3RydWN0b3IsIHdlIGxvb2sgaW5zdGVhZCBmb3IgdGhlIGRlc3RydWN0b3Igb2YgdGhlIGR5bmFtaWMgdHlwZVxyXG4vLyAgICAgICAgICAgICB2YXIgZnVuYztcclxuLy8gICAgICAgICAgICAgaWYgKHRoaXMuZGVmaW5pdGlvbiBpbnN0YW5jZW9mIERlc3RydWN0b3JEZWZpbml0aW9uKSB7XHJcbi8vICAgICAgICAgICAgICAgICBmdW5jID0gZHluYW1pY1R5cGUuZGVzdHJ1Y3RvcjtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICAgICAgZnVuYyA9IGR5bmFtaWNUeXBlLmNsYXNzU2NvcGUuc2luZ2xlTG9va3VwKHRoaXMubmFtZSwge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHBhcmFtVHlwZXM6IHRoaXMudHlwZS5wYXJhbVR5cGVzLCBpc1RoaXNDb25zdDogdGhpcy50eXBlLmlzVGhpc0NvbnN0LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIGV4YWN0TWF0Y2g6dHJ1ZSwgb3duOnRydWUsIG5vTmFtZUhpZGluZzp0cnVlfSk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgVXRpbC5hc3NlcnQoZnVuYywgXCJGYWlsZWQgdG8gZmluZCB2aXJ0dWFsIGZ1bmN0aW9uIGltcGxlbWVudGF0aW9uIGR1cmluZyBsb29rdXAuXCIpO1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gZnVuYztcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBzdXBwcmVzc2VkVmlydHVhbFByb3h5KCkgOiBNZW1iZXJGdW5jdGlvbkVudGl0eSB7XHJcbi8vICAgICAgICAgdmFyIHByb3h5ID0gT2JqZWN0LmNyZWF0ZSh0aGlzKTtcclxuLy8gICAgICAgICBwcm94eS5pc1ZpcnR1YWwgPSBmYWxzZTtcclxuLy8gICAgICAgICByZXR1cm4gcHJveHk7XHJcbi8vICAgICB9XHJcblxyXG4vLyB9O1xyXG5cclxuLy8gZXhwb3J0IGNsYXNzIENvbnN0cnVjdG9yRW50aXR5IGV4dGVuZHMgTWVtYmVyRnVuY3Rpb25FbnRpdHkge1xyXG5cclxuLy8gfVxyXG5cclxuXHJcbi8vIGV4cG9ydCBjbGFzcyBQb2ludGVkRnVuY3Rpb25FbnRpdHkgZXh0ZW5kcyBDUFBFbnRpdHkge1xyXG4vLyAgICAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBfbmFtZSA9IFwiRnVuY3Rpb25FbnRpdHlcIjtcclxuXHJcbi8vICAgICBwcml2YXRlIHJlYWRvbmx5IGRlc2M6IHN0cmluZztcclxuXHJcbi8vICAgICBjb25zdHJ1Y3Rvcih0eXBlOiBUeXBlKSB7XHJcbi8vICAgICAgICAgc3VwZXIodHlwZSk7XHJcbi8vICAgICAgICAgdGhpcy5kZXNjID0gXCJVbmtub3duIGZ1bmN0aW9uIG9mIHR5cGUgXCIgKyB0eXBlO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBpc1N0YXRpY2FsbHlCb3VuZCgpIHtcclxuLy8gICAgICAgICByZXR1cm4gdHJ1ZTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgdG9TdHJpbmcoKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIHRoaXMuZGVzYztcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgcnVudGltZUxvb2t1cChzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbi8vICAgICAgICAgcmV0dXJuIHJ0Q29uc3RydWN0LnBvaW50ZWRGdW5jdGlvbi5ydW50aW1lTG9va3VwKHNpbSwgcnRDb25zdHJ1Y3QpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBpc0xpbmtlZCgpIHtcclxuLy8gICAgICAgICByZXR1cm4gdHJ1ZTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgZGVzY3JpYmUoKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcIm5vIGRlc2NyaXB0aW9uIGF2YWlsYWJsZVwifTtcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuXHJcblxyXG4vLyBleHBvcnQgY2xhc3MgVHlwZUVudGl0eSBleHRlbmRzIERlY2xhcmVkRW50aXR5IHtcclxuLy8gICAgIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgX25hbWUgPSBcIlR5cGVFbnRpdHlcIjtcclxuXHJcbi8vICAgICBwdWJsaWMgdG9TdHJpbmcoKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIFwiVHlwZUVudGl0eTogXCIgKyB0aGlzLnR5cGUuaW5zdGFuY2VTdHJpbmcoKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgZGVzY3JpYmUoKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIHRoaXMudHlwZS5kZXNjcmliZSgpO1xyXG4vLyAgICAgfVxyXG4vLyB9O1xyXG5cclxuXHJcbmZ1bmN0aW9uIGNvbnZMZW4oYXJnczogcmVhZG9ubHkgRXhwcmVzc2lvbltdKSB7XHJcbiAgICByZXR1cm4gYXJncy5yZWR1Y2UoKHJlcywgZXhwKSA9PiByZXMgKyBleHAuY29udmVyc2lvbkxlbmd0aCwgMCk7XHJcbn07XHJcblxyXG4vLyBTZWxlY3RzIGZyb20gY2FuZGlkYXRlcyB0aGUgZnVuY3Rpb24gdGhhdCBpcyB0aGUgYmVzdCBtYXRjaFxyXG4vLyBmb3IgdGhlIGFyZ3VtZW50cyBpbiB0aGUgYXJncyBhcnJheS4gQWxzbyBtb2RpZmllcyBhcmdzIHNvXHJcbi8vIHRoYXQgZWFjaCBhcmd1bWVudCBpcyBhbWVuZGVkIHdpdGggYW55IGltcGxpY2l0IGNvbnZlcnNpb25zXHJcbi8vIG5lY2Vzc2FyeSBmb3IgdGhlIG1hdGNoLlxyXG4vLyBPcHRpb25zOlxyXG4vLyAgIHByb2JsZW1zIC0gYW4gYXJyYXkgdGhhdCB3aWxsIGJlIGZpbGxlZCB3aXRoIGFuIGVudHJ5IGZvciBlYWNoIGNhbmRpZGF0ZVxyXG4vLyAgICAgICAgICAgICAgY29uc2lzdGluZyBvZiBhbiBhcnJheSBvZiBhbnkgc2VtYW50aWMgcHJvYmxlbXMgdGhhdCBwcmV2ZW50IGl0XHJcbi8vICAgICAgICAgICAgICBmcm9tIGJlaW5nIGNob3Nlbi5cclxuXHJcblxyXG5cclxuXHJcbi8qKlxyXG4gKiBTZWxlY3RzIGEgZnVuY3Rpb24gZnJvbSB0aGUgZ2l2ZW4gb3ZlcmxvYWQgZ3JvdXAgYmFzZWQgb24gdGhlIHNpZ25hdHVyZSBvZlxyXG4gKiB0aGUgcHJvdmlkZWQgZnVuY3Rpb24gdHlwZS4gKE5vdGUgdGhlcmUncyBubyBjb25zaWRlcmF0aW9uIG9mIGZ1bmN0aW9uIG5hbWVzIGhlcmUuKVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdE92ZXJsb2FkZWRFbnRpdHkob3ZlcmxvYWRHcm91cDogcmVhZG9ubHkgRnVuY3Rpb25FbnRpdHlbXSwgdHlwZTogRnVuY3Rpb25UeXBlKSB7XHJcbiAgICByZXR1cm4gb3ZlcmxvYWRHcm91cC5maW5kKGZ1bmMgPT4gdHlwZS5zYW1lU2lnbmF0dXJlKGZ1bmMudHlwZSkpO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIFNlbGVjdHMgYSBmdW5jdGlvbiBmcm9tIHRoZSBnaXZlbiBvdmVybG9hZCBncm91cCBiYXNlZCBvbiB0aGUgc2lnbmF0dXJlIG9mXHJcbiAqIHRoZSBwcm92aWRlZCBmdW5jdGlvbiB0eXBlLiAoTm90ZSB0aGVyZSdzIG5vIGNvbnNpZGVyYXRpb24gb2YgZnVuY3Rpb24gbmFtZXMgaGVyZS4pXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0T3ZlcmxvYWRlZERlZmluaXRpb24ob3ZlcmxvYWRHcm91cDogcmVhZG9ubHkgRnVuY3Rpb25EZWZpbml0aW9uW10sIHR5cGU6IEZ1bmN0aW9uVHlwZSkge1xyXG4gICAgcmV0dXJuIG92ZXJsb2FkR3JvdXAuZmluZChmdW5jID0+IHR5cGUuc2FtZVNpZ25hdHVyZShmdW5jLmRlY2xhcmF0aW9uLnR5cGUpKTtcclxufSIsIlxyXG5pbXBvcnQgcHVsbCBmcm9tIFwibG9kYXNoL3B1bGxcIjtcclxuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcIi4vdXRpbFwiO1xyXG5cclxuaW50ZXJmYWNlIE1lc3NhZ2Uge1xyXG4gICAgY2F0ZWdvcnk6IHN0cmluZztcclxuICAgIGRhdGE6IHt9O1xyXG4gICAgc291cmNlOiBhbnk7XHJcbn1cclxuXHJcblxyXG4vLyBpbnRlcmZhY2UgT2JzZXJ2YWJsZVR5cGUge1xyXG4vLyAgICAgc2VuZChjYXRlZ29yeTogc3RyaW5nLCBkYXRhOiBhbnkpIDogdm9pZDtcclxuLy8gICAgIGFkZExpc3RlbmVyKGxpc3RlbmVyOiBPYnNlcnZlclR5cGUsIGNhdGVnb3J5Pzogc3RyaW5nIHwgc3RyaW5nW10pIDogT2JzZXJ2YWJsZVR5cGU7XHJcbi8vICAgICByZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcjogT2JzZXJ2ZXJUeXBlLCBjYXRlZ29yeT86IHN0cmluZykgOiBPYnNlcnZhYmxlVHlwZTtcclxuLy8gICAgIGlkZW50aWZ5KGNhdGVnb3J5OiBzdHJpbmcsIGZ1bmM6IChvOk9ic2VydmVyVHlwZSkgPT4gYW55KSA6IE9ic2VydmVyVHlwZTtcclxuLy8gfVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZExpc3RlbmVyKG9ialdpdGhPYnNlcnZhYmxlOiB7b2JzZXJ2YWJsZTogT2JzZXJ2YWJsZX0sIGxpc3RlbmVyOiBPYnNlcnZlclR5cGUsIGNhdGVnb3J5Pzogc3RyaW5nIHwgc3RyaW5nW10pIHtcclxuICAgIG9ialdpdGhPYnNlcnZhYmxlLm9ic2VydmFibGUuYWRkTGlzdGVuZXIobGlzdGVuZXIsIGNhdGVnb3J5KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1lc3NhZ2VSZXNwb25zZShtZXNzYWdlQ2F0ZWdvcnk/OiBzdHJpbmcpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0OiBhbnksIHByb3BlcnR5S2V5OiBzdHJpbmcsIGRlc2NyaXB0b3I6IFByb3BlcnR5RGVzY3JpcHRvcikge1xyXG4gICAgICAgIGlmICghdGFyZ2V0Ll9hY3QpIHsgdGFyZ2V0Ll9hY3QgPSB7fTsgfVxyXG4gICAgICAgIHRhcmdldC5fYWN0W21lc3NhZ2VDYXRlZ29yeSB8fCBwcm9wZXJ0eUtleV0gPSB0YXJnZXRbcHJvcGVydHlLZXldO1xyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlUmVzcG9uc2VzIHtcclxuICAgIFtpbmRleDogc3RyaW5nXTogKChtc2c6IE1lc3NhZ2UpID0+IHZvaWQpO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE9ic2VydmVyVHlwZSB7XHJcbiAgICBfYWN0IDogTWVzc2FnZVJlc3BvbnNlcztcclxufVxyXG5cclxuLy8gZXhwb3J0IGNsYXNzIE9ic2VydmVyIHtcclxuLy8gICAgIHByaXZhdGUgcmVhZG9ubHkgYWN0b3I6IEFjdG9yO1xyXG5cclxuLy8gICAgIGNvbnN0cnVjdG9yKGFjdG9yOiBBY3Rvcikge1xyXG4vLyAgICAgICAgIHRoaXMuYWN0b3IgPSBhY3RvcjtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgX0lERU5USUZZKG1zZyA6IHtkYXRhOihvOmFueSkgPT4gdm9pZH0pIHtcclxuLy8gICAgICAgICBtc2cuZGF0YSh0aGlzKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgbGlzdGVuVG8ob3RoZXI6IE9ic2VydmFibGVUeXBlLCBjYXRlZ29yeTogc3RyaW5nKSB7XHJcbi8vICAgICAgICAgb3RoZXIuYWRkTGlzdGVuZXIodGhpcywgY2F0ZWdvcnkpO1xyXG4vLyAgICAgICAgIHJldHVybiB0aGlzO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBzdG9wTGlzdGVuaW5nVG8ob3RoZXI6IE9ic2VydmFibGVUeXBlLCBjYXRlZ29yeTogc3RyaW5nKSB7XHJcbi8vICAgICAgICAgaWYgKG90aGVyKSB7XHJcbi8vICAgICAgICAgICAgIG90aGVyLnJlbW92ZUxpc3RlbmVyKHRoaXMsIGNhdGVnb3J5KTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIHJlY3YgKG1zZyA6IE1lc3NhZ2UpIHtcclxuXHJcbi8vICAgICAgICAgLy8gQ2FsbCB0aGUgXCJfYWN0XCIgZnVuY3Rpb24gZm9yIHRoaXNcclxuLy8gICAgICAgICB2YXIgY2F0QWN0ID0gdGhpcy5hY3Rvci5fYWN0W21zZy5jYXRlZ29yeV07XHJcbi8vICAgICAgICAgaWYgKGNhdEFjdCl7XHJcbi8vICAgICAgICAgICAgIGNhdEFjdC5jYWxsKHRoaXMuYWN0b3IsIG1zZyk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2UgaWYgKHRoaXMuYWN0b3IuX2FjdC5fZGVmYXVsdCkge1xyXG4vLyAgICAgICAgICAgICB0aGlzLmFjdG9yLl9hY3QuX2RlZmF1bHQuY2FsbCh0aGlzLmFjdG9yLCBtc2cpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNlIHtcclxuLy8gICAgICAgICAgICAgYXNzZXJ0KGZhbHNlKTtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgfVxyXG4vLyB9XHJcblxyXG5mdW5jdGlvbiByZWNlaXZlTWVzc2FnZShvYnNlcnZlcjogT2JzZXJ2ZXJUeXBlLCBtc2c6IE1lc3NhZ2UpIHtcclxuICAgIHZhciBjYXRBY3QgPSBvYnNlcnZlci5fYWN0W21zZy5jYXRlZ29yeV07XHJcbiAgICBpZiAoY2F0QWN0KXtcclxuICAgICAgICBjYXRBY3QuY2FsbChvYnNlcnZlciwgbXNnKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKG9ic2VydmVyLl9hY3QuX2RlZmF1bHQpIHtcclxuICAgICAgICBvYnNlcnZlci5fYWN0Ll9kZWZhdWx0LmNhbGwob2JzZXJ2ZXIsIG1zZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBhc3NlcnQoZmFsc2UpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgT2JzZXJ2YWJsZSB7XHJcbiAgICBwcml2YXRlIHVuaXZlcnNhbE9ic2VydmVyczogT2JzZXJ2ZXJUeXBlW10gPSBbXTtcclxuICAgIHByaXZhdGUgb2JzZXJ2ZXJzOiB7W2luZGV4OiBzdHJpbmddIDogT2JzZXJ2ZXJUeXBlW119ID0ge307XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBzb3VyY2U6IGFueTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2U6IGFueSkge1xyXG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZW5kKGNhdGVnb3J5OiBzdHJpbmcsIGRhdGE/OiBhbnkpIHtcclxuICAgICAgICBpZiAodGhpcy5zb3VyY2Uuc2lsZW50KXtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBsZXQgbXNnOiBNZXNzYWdlID0ge1xyXG4gICAgICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXHJcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgICAgIHNvdXJjZTogdGhpcy5zb3VyY2VcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBsZXQgb2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnNbbXNnLmNhdGVnb3J5XTtcclxuICAgICAgICBpZiAob2JzZXJ2ZXJzKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JzZXJ2ZXJzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICByZWNlaXZlTWVzc2FnZShvYnNlcnZlcnNbaV0sIG1zZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy51bml2ZXJzYWxPYnNlcnZlcnMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgcmVjZWl2ZU1lc3NhZ2UodGhpcy51bml2ZXJzYWxPYnNlcnZlcnNbaV0sIG1zZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRMaXN0ZW5lcihsaXN0ZW5lcjogT2JzZXJ2ZXJUeXBlLCBjYXRlZ29yeT86IHN0cmluZyB8IHN0cmluZ1tdKSB7XHJcbiAgICAgICAgaWYgKGNhdGVnb3J5KSB7XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNhdGVnb3J5KSkge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhbiBhcnJheSBvZiBjYXRlZ29yaWVzLCBhZGQgdG8gYWxsIGluZGl2aWR1YWxseVxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYXRlZ29yeS5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTGlzdGVuZXIobGlzdGVuZXIsIGNhdGVnb3J5W2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5vYnNlcnZlcnNbY2F0ZWdvcnldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vYnNlcnZlcnNbY2F0ZWdvcnldID0gW107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9ic2VydmVyc1tjYXRlZ29yeV0ucHVzaChsaXN0ZW5lcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyQWRkZWQobGlzdGVuZXIsIGNhdGVnb3J5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAvLyBpZiBubyBjYXRlZ29yeSwgaW50ZW50IGlzIHRvIGxpc3RlbiB0byBldmVyeXRoaW5nXHJcbiAgICAgICAgICAgIHRoaXMudW5pdmVyc2FsT2JzZXJ2ZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVyQWRkZWQobGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgLypcclxuICAgIE5vdGU6IHRvIHJlbW92ZSBhIHVuaXZlcnNhbCBsaXN0ZW5lciwgeW91IG11c3QgY2FsbCB0aGlzIHdpdGggY2F0ZWdvcnk9PWZhbHNlLlxyXG4gICAgSWYgYSBsaXN0ZW5lciBpcyB1bml2ZXJzYWwsIHJlbW92aW5nIGl0IGZyb20gYSBwYXJ0aWN1bGFyIGNhdGVnb3J5IHdvbid0IGRvIGFueXRoaW5nLlxyXG4gICAgKi9cclxuICAgIHB1YmxpYyByZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcjogT2JzZXJ2ZXJUeXBlLCBjYXRlZ29yeT86IHN0cmluZykge1xyXG4gICAgICAgIGlmKGNhdGVnb3J5KSB7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBmcm9tIHRoZSBsaXN0IGZvciBhIHNwZWNpZmljIGNhdGVnb3J5IChpZiBsaXN0IGV4aXN0cylcclxuICAgICAgICAgICAgbGV0IG9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzW2NhdGVnb3J5XTtcclxuICAgICAgICAgICAgb2JzZXJ2ZXJzICYmIHB1bGwob2JzZXJ2ZXJzLCBsaXN0ZW5lcik7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJSZW1vdmVkKGxpc3RlbmVyLCBjYXRlZ29yeSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBmcm9tIGFsbCBjYXRlZ29yaWVzXHJcbiAgICAgICAgICAgIGZvcih2YXIgY2F0IGluIHRoaXMub2JzZXJ2ZXJzKXtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIsIGNhdCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEFsc28gcmVtb3ZlIGZyb20gdW5pdmVyc2FsIGxpc3RlbmVyc1xyXG4gICAgICAgICAgICBwdWxsKHRoaXMudW5pdmVyc2FsT2JzZXJ2ZXJzLCBsaXN0ZW5lcik7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJSZW1vdmVkKGxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGxpc3RlbmVyQWRkZWQobGlzdGVuZXI6IE9ic2VydmVyVHlwZSwgY2F0ZWdvcnk/OiBzdHJpbmcpIDogdm9pZCB7IH1cclxuICAgIHByb3RlY3RlZCBsaXN0ZW5lclJlbW92ZWQobGlzdGVuZXI6IE9ic2VydmVyVHlwZSwgY2F0ZWdvcnk/OiBzdHJpbmcpIDogdm9pZCB7IH1cclxuXHJcbiAgICAvLyBwdWJsaWMgaWRlbnRpZnkoY2F0ZWdvcnk6IHN0cmluZywgZnVuYzogKG86T2JzZXJ2ZXJUeXBlKSA9PiBhbnkpIHtcclxuICAgIC8vICAgICBsZXQgb3RoZXIhIDogT2JzZXJ2ZXJUeXBlOyAvLyBVc2VzIGRlZmluaXRlIGFzc2lnbm1lbnQgYW5ub3RhdGlvbiBzaW5jZSB0aGUgZnVuY3Rpb24gaXMgYXNzdW1lZCB0byBhc3NpZ24gdG8gb3RoZXJcclxuICAgIC8vICAgICB0aGlzLnNlbmQoY2F0ZWdvcnksIGZ1bmMgfHwgZnVuY3Rpb24obzpPYnNlcnZlclR5cGUpIHtvdGhlciA9IG87fSk7XHJcbiAgICAvLyAgICAgcmV0dXJuIG90aGVyO1xyXG4gICAgLy8gfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBDUFBPYmplY3QgfSBmcm9tIFwiLi9vYmplY3RzXCI7XHJcbmltcG9ydCB7IFNpbXVsYXRpb24sIFNpbXVsYXRpb25FdmVudCB9IGZyb20gXCIuL1NpbXVsYXRpb25cIjtcclxuaW1wb3J0IHsgVHlwZSwgT2JqZWN0VHlwZSwgQXRvbWljVHlwZSwgSW50ZWdyYWxUeXBlLCBGbG9hdGluZ1BvaW50VHlwZSwgUG9pbnRlclR5cGUsIFJlZmVyZW5jZVR5cGUsIENsYXNzVHlwZSwgQm91bmRlZEFycmF5VHlwZSwgRnVuY3Rpb25UeXBlLCBpc1R5cGUsIFBvdGVudGlhbFJldHVyblR5cGUsIEJvb2wsIHNhbWVUeXBlLCBWb2lkVHlwZSwgQXJpdGhtZXRpY1R5cGUsIEFycmF5UG9pbnRlciwgSW50LCBQb3RlbnRpYWxQYXJhbWV0ZXJUeXBlLCBGbG9hdCwgRG91YmxlLCBDaGFyLCBOb1JlZlR5cGUsIG5vUmVmLCBBcnJheU9mVW5rbm93bkJvdW5kVHlwZSwgcmVmZXJlbmNlQ29tcGF0aWJsZSB9IGZyb20gXCIuL3R5cGVzXCI7XHJcbmltcG9ydCB7IEFTVE5vZGUsIFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uLCBTdWNjZXNzZnVsbHlDb21waWxlZCwgUnVudGltZVBvdGVudGlhbEZ1bGxFeHByZXNzaW9uLCBSdW50aW1lQ29uc3RydWN0LCBDb21waWxlZFRlbXBvcmFyeURlYWxsb2NhdG9yLCBDUFBDb25zdHJ1Y3QsIERlc2NyaXB0aW9uLCBFeHByZXNzaW9uQ29udGV4dCwgY3JlYXRlRXhwcmVzc2lvbkNvbnRleHQgfSBmcm9tIFwiLi9jb25zdHJ1Y3RzXCI7XHJcbmltcG9ydCB7IENQUEVycm9yLCBOb3RlIH0gZnJvbSBcIi4vZXJyb3JzXCI7XHJcbmltcG9ydCB7IEZ1bmN0aW9uRW50aXR5LCBPYmplY3RFbnRpdHkgfSBmcm9tIFwiLi9lbnRpdGllc1wiO1xyXG5pbXBvcnQgeyBWYWx1ZSwgUmF3VmFsdWVUeXBlIH0gZnJvbSBcIi4vcnVudGltZUVudmlyb25tZW50XCI7XHJcbmltcG9ydCB7IE11dGFibGUsIENvbnN0cnVjdG9yLCBlc2NhcGVTdHJpbmcgfSBmcm9tIFwiLi4vdXRpbC91dGlsXCI7XHJcbmltcG9ydCB7IHN0YW5kYXJkQ29udmVyc2lvbiwgY29udmVydFRvUFJWYWx1ZSwgdXN1YWxBcml0aG1ldGljQ29udmVyc2lvbnMgfSBmcm9tIFwiLi9zdGFuZGFyZENvbnZlcnNpb25zXCI7XHJcbmltcG9ydCB7IGNoZWNrSWRlbnRpZmllciB9IGZyb20gXCIuL2xleGljYWxcIjtcclxuaW1wb3J0IHsgRnVuY3Rpb25DYWxsRXhwcmVzc2lvbkFTVE5vZGUsIEZ1bmN0aW9uQ2FsbEV4cHJlc3Npb24gfSBmcm9tIFwiLi9mdW5jdGlvbkNhbGxcIjtcclxuaW1wb3J0IHsgRXhwcmVzc2lvbiwgQ29tcGlsZWRFeHByZXNzaW9uLCBSdW50aW1lRXhwcmVzc2lvbiwgVkNSZXN1bHRUeXBlcywgVmFsdWVDYXRlZ29yeSwgVHlwZWRFeHByZXNzaW9uIH0gZnJvbSBcIi4vZXhwcmVzc2lvbkJhc2VcIjtcclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVhZFZhbHVlV2l0aEFsZXJ0KG9iajogQ1BQT2JqZWN0PEF0b21pY1R5cGU+LCBzaW06IFNpbXVsYXRpb24pIHtcclxuICAgIGxldCB2YWx1ZSA9IG9iai5yZWFkVmFsdWUoKTtcclxuICAgIGlmKCF2YWx1ZS5pc1ZhbGlkKSB7XHJcbiAgICAgICAgbGV0IG9iakRlc2MgPSBvYmouZGVzY3JpYmUoKTtcclxuICAgICAgICB2YXIgbXNnID0gXCJUaGUgdmFsdWUgeW91IGp1c3QgZ290IG91dCBvZiBcIiArIChvYmpEZXNjLm5hbWUgfHwgb2JqRGVzYy5tZXNzYWdlKSArIFwiIGlzbid0IHZhbGlkLiBJdCBtaWdodCBiZSB1bmluaXRpYWxpemVkIG9yIGl0IGNvdWxkIGhhdmUgY29tZSBmcm9tIGEgZGVhZCBvYmplY3QuXCI7XHJcbiAgICAgICAgaWYgKHZhbHVlLnJhd1ZhbHVlID09PSAwKXtcclxuICAgICAgICAgICAgbXNnICs9IFwiXFxuXFxuKE5vdGU6IFRoZSB2YWx1ZSBqdXN0IGhhcHBlbnMgdG8gYmUgemVyby4gRG9uJ3QgYmUgZm9vbGVkISBVbmluaXRpYWxpemVkIG1lbW9yeSBpc24ndCBndWFyYW50ZWVkIHRvIGJlIHplcm8uKVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzaW0uZXZlbnRPY2N1cnJlZChTaW11bGF0aW9uRXZlbnQuVU5ERUZJTkVEX0JFSEFWSU9SLCBtc2csIHRydWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59O1xyXG5cclxuLy8gVE9ETzogZW5zdXJlIHRoYXQgYW4gZXhwcmVzc2lvbiBpcyBuZXZlciBjb25zaWRlcmVkIGNvbXBpbGVkIHVubGVzcyBpdHMgY2hpbGRyZW4gYXJlIGNvbXBpbGVkXHJcblxyXG4vKipcclxuICogVE9ETzogdGhpcyBjb21tZW50IGlzIG91dCBvZiBkYXRlXHJcbiAqIFN0YW5kYXJkIGNvbXBpbGF0aW9uIHBoYXNlIGZvciBleHByZXNzaW9uczpcclxuICogICAxLiBDb21waWxlIGNoaWxkcmVuICh3aXRoIG5vIHNwZWNpYWwgY29udGV4dCAtIGlmIHRoaXMgaXMgbmVlZGVkLCB5b3UnbGwgbmVlZCB0byBvdmVycmlkZSBjb21waWxlKCkpXHJcbiAqICAgMi4gUGVyZm9ybSBhbnkgY29udmVyc2lvbnMgc3BlY2lmaWVkIGluIHRoaXMuaV9jaGlsZHJlblRvQ29udmVydC4gdGhlIGx2YWx1ZS10by1ydmFsdWUgY29udmVyc2lvbiBpcyBub3Qgc3VwcHJlc3NlZFxyXG4gKiAgIDMuIElmIGFueSBlcnJvcnMgaGF2ZSBiZWVuIHJlcG9ydGVkIGJ5IGNoaWxkcmVuLCBhYm9ydC4gVGhlIHJlc3Qgb2YgdGhlIHNlcXVlbmNlIGlzIHNraXBwZWRcclxuICogICA0LiBDYWxsIHRoZSB0aGlzLmNvbnZlcnQoKSBob29rLiBQdXQgY3VzdG9tIGNvbnZlcnNpb24gY29kZSBoZXJlLlxyXG4gKiAgIDUuIENhbGwgdGhlIHRoaXMudHlwZUNoZWNrKCkgaG9vay4gUHV0IGN1c3RvbSB0eXBlY2hlY2tpbmcgaGVyZS4gQWZ0ZXIgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQsIHRoZSBleHByZXNzaW9uIHNob3VsZFxyXG4gKiAgICAgIGhhdmUgdGhpcy50eXBlIGFuZCB0aGlzLnZhbHVlQ2F0ZWdvcnkgc2V0IGNvcnJlY3QsIGFsdGhvdWdoIHRoaXMgZG9lcyBub3QgbWVhbiB0aGUgZnVuY3Rpb24gbmVjZXNzYXJpbHkgaGFzIHRvIGRvXHJcbiAqICAgICAgdGhpcyAoZS5nLiBzb21lIGV4cHJlc3Npb25zIGFsd2F5cyBoYXZlIHRoZSBzYW1lIHR5cGUgb3IgdmFsdWUgY2F0ZWdvcnksIHNvIHRoZXNlIHByb3BlcnRpZXMgbWF5IGJlIHNldCBpbml0aWFsbHlcclxuICogICAgICBhdCB0aGUgY2xhc3MgbGV2ZWwpLlxyXG4gKiAgIDYuIENvbXBpbGUgYW55IHRlbXBvcmFyeSBvYmplY3RzIGZvciB3aG9tIHRoaXMgaXMgdGhlIGVuY2xvc2luZyBmdWxsIGV4cHJlc3Npb24uXHJcbiAqXHJcbiAqL1xyXG5cclxuLy8gZXhwb3J0IGludGVyZmFjZSBUeXBlZEFuZENvbXBpbGVkPFQgZXh0ZW5kcyBUeXBlID0gVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnkgPSBWYWx1ZUNhdGVnb3J5PiBleHRlbmRzIEV4cHJlc3Npb248VCxWPiwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG5cclxuLy8gfVxyXG5cclxuLy8gdHlwZSBDb21waWxlZEV4cHJlc3Npb25CYXNlPEUgZXh0ZW5kcyBFeHByZXNzaW9uLCBUIGV4dGVuZHMgVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnk+ID0gRSAmIFR5cGVkQW5kQ29tcGlsZWQ8VCxWPjtcclxuXHJcbi8vIFRPRE86IGlzIHRoaXMgdXNlZCBhbnltb3JlP1xyXG50eXBlIFNpbWlsYXJUeXBlZENvbXBpbGVkRXhwcmVzc2lvbjxDRSBleHRlbmRzIENvbXBpbGVkRXhwcmVzc2lvbj4gPSBDb21waWxlZEV4cHJlc3Npb248Q0VbXCJ0eXBlXCJdLCBDRVtcInZhbHVlQ2F0ZWdvcnlcIl0+O1xyXG5cclxuXHJcbmV4cG9ydCB0eXBlIEV4cHJlc3Npb25BU1ROb2RlID1cclxuICAgIENvbW1hQVNUTm9kZSB8XHJcbiAgICBUZXJuYXJ5QVNUTm9kZSB8XHJcbiAgICBBc3NpZ25tZW50RXhwcmVzc2lvbkFTVE5vZGUgfFxyXG4gICAgQ29tcG91bmRBc3NpZ25tZW50RXhwcmVzc2lvbkFTVE5vZGUgfFxyXG4gICAgQmluYXJ5T3BlcmF0b3JFeHByZXNzaW9uQVNUTm9kZSB8XHJcbiAgICBQb2ludGVyVG9NZW1iZXJFeHByZXNzaW9uQVNUTm9kZSB8XHJcbiAgICBDU3R5bGVDYXN0RXhwcmVzc2lvbkFTVE5vZGUgfFxyXG4gICAgVW5hcnlFeHByZXNzaW9uQVNUTm9kZSB8XHJcbiAgICBQb3N0Zml4RXhwcmVzc2lvbkFTVE5vZGUgfFxyXG4gICAgQ29uc3RydWN0RXhwcmVzc2lvbkFTVE5vZGUgfFxyXG4gICAgSWRlbnRpZmllckV4cHJlc3Npb25BU1ROb2RlIHxcclxuICAgIFRoaXNFeHByZXNzaW9uQVNUTm9kZSB8XHJcbiAgICBOdW1lcmljTGl0ZXJhbEFTVE5vZGU7XHJcblxyXG5cclxuY29uc3QgRXhwcmVzc2lvbkNvbnN0cnVjdHNNYXAgPSB7XHJcbiAgICBcImNvbW1hX2V4cHJlc3Npb25cIiA6IChhc3Q6IENvbW1hQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IENvbW1hRXhwcmVzc2lvbi5jcmVhdGVGcm9tQVNUKGFzdCwgY29udGV4dCksXHJcbiAgICBcclxuICAgIFwidGVybmFyeV9leHByZXNzaW9uXCIgOiAoYXN0OiBUZXJuYXJ5QVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IFRlcm5hcnlFeHByZXNzaW9uLmNyZWF0ZUZyb21BU1QoYXN0LCBjb250ZXh0KSxcclxuICAgIFxyXG4gICAgXCJhc3NpZ25tZW50X2V4cHJlc3Npb25cIiA6IChhc3Q6IEFzc2lnbm1lbnRFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IEFzc2lnbm1lbnRFeHByZXNzaW9uLmNyZWF0ZUZyb21BU1QoYXN0LCBjb250ZXh0KSxcclxuICAgIFwiY29tcG91bmRfYXNzaWdubWVudF9leHByZXNzaW9uXCIgOiAoYXN0OiBDb21wb3VuZEFzc2lnbm1lbnRFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IG5ldyBVbnN1cHBvcnRlZEV4cHJlc3Npb24oY29udGV4dCwgXCJjb21wb3VuZCBhc3NpZ25tZW50XCIpLnNldEFTVChhc3QpLFxyXG4gICAgXHJcbiAgICAvLyBiaW5hcnkgb3BlcmF0b3JzXHJcbiAgICBcImFyaXRobWV0aWNfYmluYXJ5X29wZXJhdG9yX2V4cHJlc3Npb25cIiA6IChhc3Q6IEFyaXRobWV0aWNCaW5hcnlPcGVyYXRvckV4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgPT4gQXJpdGhtZXRpY0JpbmFyeU9wZXJhdG9yRXhwcmVzc2lvbi5jcmVhdGVGcm9tQVNUKGFzdCwgY29udGV4dCksXHJcbiAgICBcInJlbGF0aW9uYWxfYmluYXJ5X29wZXJhdG9yX2V4cHJlc3Npb25cIiA6IChhc3Q6IFJlbGF0aW9uYWxCaW5hcnlPcGVyYXRvckV4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgPT4gUmVsYXRpb25hbEJpbmFyeU9wZXJhdG9yLmNyZWF0ZUZyb21BU1QoYXN0LCBjb250ZXh0KSxcclxuICAgIFwibG9naWNhbF9iaW5hcnlfb3BlcmF0b3JfZXhwcmVzc2lvblwiIDogKGFzdDogTG9naWNhbEJpbmFyeU9wZXJhdG9yRXhwcmVzc2lvbkFTVE5vZGUsIGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0KSA9PiBMb2dpY2FsQmluYXJ5T3BlcmF0b3IuY3JlYXRlRnJvbUFTVChhc3QsIGNvbnRleHQpLFxyXG4gICAgXHJcbiAgICBcInBvaW50ZXJfdG9fbWVtYmVyX2V4cHJlc3Npb25cIiA6IChhc3Q6IFBvaW50ZXJUb01lbWJlckV4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgPT4gbmV3IFVuc3VwcG9ydGVkRXhwcmVzc2lvbihjb250ZXh0LCBcInBvaW50ZXItdG8tbWVtYmVyXCIpLnNldEFTVChhc3QpLFxyXG4gICAgXHJcbiAgICBcImNfc3R5bGVfY2FzdF9leHByZXNzaW9uXCIgOiAoYXN0OiBDU3R5bGVDYXN0RXhwcmVzc2lvbkFTVE5vZGUsIGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0KSA9PiBuZXcgVW5zdXBwb3J0ZWRFeHByZXNzaW9uKGNvbnRleHQsIFwiYy1zdHlsZSBjYXN0XCIpLnNldEFTVChhc3QpLFxyXG4gICAgXHJcbiAgICAvLyBwcmVmaXggb3BlcmF0b3JzXHJcbiAgICBcInByZWZpeF9pbmNyZW1lbnRfZXhwcmVzc2lvblwiIDogKGFzdDogUHJlZml4SW5jcmVtZW50RXhwcmVzc2lvbkFTVE5vZGUsIGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0KSA9PiBuZXcgVW5zdXBwb3J0ZWRFeHByZXNzaW9uKGNvbnRleHQsIFwicHJlZml4IGluY3JlbWVudFwiKS5zZXRBU1QoYXN0KSxcclxuICAgIFwicHJlZml4X2RlY3JlbWVudF9leHByZXNzaW9uXCIgOiAoYXN0OiBQcmVmaXhEZWNyZW1lbnRFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IG5ldyBVbnN1cHBvcnRlZEV4cHJlc3Npb24oY29udGV4dCwgXCJwcmVmaXggZGVjcmVtZW50XCIpLnNldEFTVChhc3QpLFxyXG4gICAgXCJkZXJlZmVyZW5jZV9leHByZXNzaW9uXCIgOiAoYXN0OiBEZXJlZmVyZW5jZUV4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgPT4gbmV3IFVuc3VwcG9ydGVkRXhwcmVzc2lvbihjb250ZXh0LCBcImRlcmVmZXJlbmNlXCIpLnNldEFTVChhc3QpLFxyXG4gICAgXCJhZGRyZXNzX29mX2V4cHJlc3Npb25cIiA6IChhc3Q6IEFkZHJlc3NPZkV4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgPT4gbmV3IFVuc3VwcG9ydGVkRXhwcmVzc2lvbihjb250ZXh0LCBcImFkZHJlc3Mtb2ZcIikuc2V0QVNUKGFzdCksXHJcbiAgICBcInVuYXJ5X3BsdXNfZXhwcmVzc2lvblwiIDogKGFzdDogVW5hcnlQbHVzRXhwcmVzc2lvbkFTVE5vZGUsIGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0KSA9PiBuZXcgVW5zdXBwb3J0ZWRFeHByZXNzaW9uKGNvbnRleHQsIFwidW5hcnkgcGx1c1wiKS5zZXRBU1QoYXN0KSxcclxuICAgIFwidW5hcnlfbWludXNfZXhwcmVzc2lvblwiIDogKGFzdDogVW5hcnlNaW51c0V4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgPT4gbmV3IFVuc3VwcG9ydGVkRXhwcmVzc2lvbihjb250ZXh0LCBcInVuYXJ5IG1pbnVzXCIpLnNldEFTVChhc3QpLFxyXG4gICAgXCJsb2dpY2FsX25vdF9leHByZXNzaW9uXCIgOiAoYXN0OiBMb2dpY2FsTm90RXhwcmVzc2lvbkFTVE5vZGUsIGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0KSA9PiBuZXcgVW5zdXBwb3J0ZWRFeHByZXNzaW9uKGNvbnRleHQsIFwibG9naWNhbCBub3RcIikuc2V0QVNUKGFzdCksXHJcbiAgICBcImJpdHdpc2Vfbm90X2V4cHJlc3Npb25cIiA6IChhc3Q6IEJpdHdpc2VOb3RFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IG5ldyBVbnN1cHBvcnRlZEV4cHJlc3Npb24oY29udGV4dCwgXCJiaXR3aXNlIG5vdFwiKS5zZXRBU1QoYXN0KSxcclxuICAgIFwic2l6ZW9mX2V4cHJlc3Npb25cIiA6IChhc3Q6IFNpemVvZkV4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgPT4gbmV3IFVuc3VwcG9ydGVkRXhwcmVzc2lvbihjb250ZXh0LCBcInNpemVvZlwiKS5zZXRBU1QoYXN0KSxcclxuICAgIFwic2l6ZW9mX3R5cGVfZXhwcmVzc2lvblwiIDogKGFzdDogU2l6ZW9mVHlwZUV4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgPT4gbmV3IFVuc3VwcG9ydGVkRXhwcmVzc2lvbihjb250ZXh0LCBcInNpemVvZiAodHlwZSlcIikuc2V0QVNUKGFzdCksXHJcbiAgICBcIm5ld19leHByZXNzaW9uXCIgOiAoYXN0OiBOZXdFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IG5ldyBVbnN1cHBvcnRlZEV4cHJlc3Npb24oY29udGV4dCwgXCJuZXdcIikuc2V0QVNUKGFzdCksXHJcbiAgICBcImRlbGV0ZV9leHByZXNzaW9uXCIgOiAoYXN0OiBEZWxldGVFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IG5ldyBVbnN1cHBvcnRlZEV4cHJlc3Npb24oY29udGV4dCwgXCJkZWxldGVcIikuc2V0QVNUKGFzdCksXHJcbiAgICBcImRlbGV0ZV9hcnJheV9leHByZXNzaW9uXCIgOiAoYXN0OiBEZWxldGVBcnJheUV4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgPT4gbmV3IFVuc3VwcG9ydGVkRXhwcmVzc2lvbihjb250ZXh0LCBcImRlbGV0ZVtdXCIpLnNldEFTVChhc3QpLFxyXG4gICAgXHJcbiAgICAvLyBwb3N0Zml4IG9wZXJhdG9yc1xyXG4gICAgXCJzdGF0aWNfY2FzdF9leHByZXNzaW9uXCIgOiAoYXN0OiBTdGF0aWNDYXN0RXhwcmVzc2lvbkFTVE5vZGUsIGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0KSA9PiBuZXcgVW5zdXBwb3J0ZWRFeHByZXNzaW9uKGNvbnRleHQsIFwic3RhdGljIGNhc3RcIikuc2V0QVNUKGFzdCksXHJcbiAgICBcImR5bmFtaWNfY2FzdF9leHByZXNzaW9uXCIgOiAoYXN0OiBEeW5hbWljQ2FzdEV4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgPT4gbmV3IFVuc3VwcG9ydGVkRXhwcmVzc2lvbihjb250ZXh0LCBcImR5bmFtaWMgY2FzdFwiKS5zZXRBU1QoYXN0KSxcclxuICAgIFwicmVpbnRlcnByZXRfY2FzdF9leHByZXNzaW9uXCIgOiAoYXN0OiBSZWludGVycHJldENhc3RFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IG5ldyBVbnN1cHBvcnRlZEV4cHJlc3Npb24oY29udGV4dCwgXCJyZWludGVycHJldCBjYXN0XCIpLnNldEFTVChhc3QpLFxyXG4gICAgXCJjb25zdF9jYXN0X2V4cHJlc3Npb25cIiA6IChhc3Q6IENvbnN0Q2FzdEV4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgPT4gbmV3IFVuc3VwcG9ydGVkRXhwcmVzc2lvbihjb250ZXh0LCBcImNvbnN0IGNhc3RcIikuc2V0QVNUKGFzdCksXHJcbiAgICBcInN1YnNjcmlwdF9leHByZXNzaW9uXCIgOiAoYXN0OiBTdWJzY3JpcHRFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IG5ldyBVbnN1cHBvcnRlZEV4cHJlc3Npb24oY29udGV4dCwgXCJzdWJzY3JpcHRcIikuc2V0QVNUKGFzdCksXHJcbiAgICBcImZ1bmN0aW9uX2NhbGxfZXhwcmVzc2lvblwiIDogKGFzdDogRnVuY3Rpb25DYWxsRXhwcmVzc2lvbkFTVE5vZGUsIGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0KSA9PiBGdW5jdGlvbkNhbGxFeHByZXNzaW9uLmNyZWF0ZUZyb21BU1QoYXN0LCBjb250ZXh0KSxcclxuICAgIFwiZG90X2V4cHJlc3Npb25cIiA6IChhc3Q6IERvdEV4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgPT4gbmV3IFVuc3VwcG9ydGVkRXhwcmVzc2lvbihjb250ZXh0LCBcImRvdCBvcGVyYXRvclwiKS5zZXRBU1QoYXN0KSxcclxuICAgIFwiYXJyb3dfZXhwcmVzc2lvblwiIDogKGFzdDogQXJyb3dFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpID0+IG5ldyBVbnN1cHBvcnRlZEV4cHJlc3Npb24oY29udGV4dCwgXCJhcnJvdyBvcGVyYXRvclwiKS5zZXRBU1QoYXN0KSxcclxuICAgIFwicG9zdGZpeF9pbmNyZW1lbnRfZXhwcmVzc2lvblwiIDogKGFzdDogUG9zdGZpeEluY3JlbWVudEV4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgPT4gbmV3IFVuc3VwcG9ydGVkRXhwcmVzc2lvbihjb250ZXh0LCBcInBvc3RmaXggaW5jcmVtZW50XCIpLnNldEFTVChhc3QpLFxyXG4gICAgXCJwb3N0Zml4X2RlY3JlbWVudF9leHByZXNzaW9uXCIgOiAoYXN0OiBQb3N0Zml4RGVjcmVtZW50RXhwcmVzc2lvbkFTVE5vZGUsIGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0KSA9PiBuZXcgVW5zdXBwb3J0ZWRFeHByZXNzaW9uKGNvbnRleHQsIFwicG9zdGZpeCBkZWNyZW1lbnRcIikuc2V0QVNUKGFzdCksXHJcbiAgICBcclxuICAgIFwiY29uc3RydWN0X2V4cHJlc3Npb25cIiA6IChhc3Q6IENvbnN0cnVjdEV4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgPT4gbmV3IFVuc3VwcG9ydGVkRXhwcmVzc2lvbihjb250ZXh0LCBcImNvbnN0cnVjdCBleHByZXNzaW9uXCIpLnNldEFTVChhc3QpLFxyXG4gICAgXHJcbiAgICBcImlkZW50aWZpZXJfZXhwcmVzc2lvblwiIDogKGFzdDogSWRlbnRpZmllckV4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgPT4gSWRlbnRpZmllckV4cHJlc3Npb24uY3JlYXRlRnJvbUFTVChhc3QsIGNvbnRleHQpLFxyXG4gICAgXHJcbiAgICBcInRoaXNfZXhwcmVzc2lvblwiIDogKGFzdDogVGhpc0V4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgPT4gbmV3IFVuc3VwcG9ydGVkRXhwcmVzc2lvbihjb250ZXh0LCBcInRoaXMgcG9pbnRlclwiKS5zZXRBU1QoYXN0KSxcclxuXHJcbiAgICBcIm51bWVyaWNfbGl0ZXJhbFwiIDogKGFzdDogTnVtZXJpY0xpdGVyYWxBU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgPT4gTnVtZXJpY0xpdGVyYWwuY3JlYXRlRnJvbUFTVChhc3QsIGNvbnRleHQpLFxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXhwcmVzc2lvbkZyb21BU1Q8QVNUVHlwZSBleHRlbmRzIEV4cHJlc3Npb25BU1ROb2RlPihhc3Q6IEFTVFR5cGUsIGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0KSA6IFJldHVyblR5cGU8KHR5cGVvZiBFeHByZXNzaW9uQ29uc3RydWN0c01hcClbQVNUVHlwZVtcImNvbnN0cnVjdF90eXBlXCJdXT4ge1xyXG4gICAgcmV0dXJuIDxhbnk+RXhwcmVzc2lvbkNvbnN0cnVjdHNNYXBbYXN0LmNvbnN0cnVjdF90eXBlXSg8YW55PmFzdCwgY29udGV4dCk7XHJcbn1cclxuXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFVuc3VwcG9ydGVkRXhwcmVzc2lvbiBleHRlbmRzIEV4cHJlc3Npb24ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSB0eXBlID0gdW5kZWZpbmVkO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHZhbHVlQ2F0ZWdvcnkgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0LCB1bnN1cHBvcnRlZE5hbWU6IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKGNvbnRleHQpO1xyXG4gICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5sb2JzdGVyLnVuc3VwcG9ydGVkX2ZlYXR1cmUodGhpcywgdW5zdXBwb3J0ZWROYW1lKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gV2lsbCBuZXZlciBiZSBjYWxsZWQgc2luY2UgYW4gVW5zdXBwb3J0ZWRFeHByZXNzaW9uIHdpbGwgYWx3YXlzIGhhdmUgZXJyb3JzIGFuZFxyXG4gICAgLy8gbmV2ZXIgc2F0aXNmeSB0aGUgcmVxdWlyZWQgdGhpcyBjb250ZXh0IG9mIENvbXBpbGVkRXhwcmVzc2lvblxyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uKHRoaXM6IENvbXBpbGVkRXhwcmVzc2lvbiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IG5ldmVyIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY3JlYXRlIGEgcnVudGltZSBpbnN0YW5jZSBvZiBhbiB1bnN1cHBvcnRlZCBjb25zdHJ1Y3QuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZXNjcmliZUV2YWxSZXN1bHQoZGVwdGg6IG51bWJlcik6IERlc2NyaXB0aW9uIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBtZXNzYWdlOiBcImFuIHVuc3VwcG9ydGVkIGV4cHJlc3Npb25cIlxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAvLyBwcm9jZXNzTm9uTWVtYmVyT3ZlcmxvYWQgOiBmdW5jdGlvbihhcmdzLCBvcCl7XHJcbiAgICAvLyAgICAgdHJ5e1xyXG4gICAgLy8gICAgICAgICB2YXIgb3ZlcmxvYWRlZE9wID0gdGhpcy5jb250ZXh0dWFsU2NvcGUucmVxdWlyZWRMb29rdXAoXCJvcGVyYXRvclwiK29wLCB7XHJcbiAgICAvLyAgICAgICAgICAgICBvd246dHJ1ZSwgcGFyYW1UeXBlczphcmdzLm1hcChmdW5jdGlvbihhcmcpe3JldHVybiBhcmcudHlwZTt9KVxyXG4gICAgLy8gICAgICAgICB9KTtcclxuICAgIC8vICAgICAgICAgdGhpcy5mdW5jQ2FsbCA9IHRoaXMuc3ViLmZ1bmNDYWxsID0gRnVuY3Rpb25DYWxsLmluc3RhbmNlKHRoaXMuY29kZSwge3BhcmVudDp0aGlzfSk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuc3ViLmZ1bmNDYWxsLmNvbXBpbGUob3ZlcmxvYWRlZE9wLCBhcmdzLm1hcChmdW5jdGlvbihhcmcpe3JldHVybiBhcmcuY29kZTt9KSk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMudHlwZSA9IHRoaXMuc3ViLmZ1bmNDYWxsLnR5cGU7XHJcbiAgICAvLyAgICAgICAgIHRoaXMudmFsdWVDYXRlZ29yeSA9IHRoaXMuc3ViLmZ1bmNDYWxsLnZhbHVlQ2F0ZWdvcnk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuaV9jaGlsZHJlblRvRXhlY3V0ZSA9IHRoaXMuaV9jaGlsZHJlblRvRXhlY3V0ZUZvck92ZXJsb2FkO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBjYXRjaChlKXtcclxuICAgIC8vICAgICAgICAgaWYgKGlzQShlLCBTZW1hbnRpY0V4Y2VwdGlvbnMuQmFkTG9va3VwKSl7XHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5vdmVybG9hZExvb2t1cCh0aGlzLCBvcCkpO1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKGUuYW5ub3RhdGlvbih0aGlzKSk7XHJcbiAgICAvLyAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgZWxzZXtcclxuICAgIC8vICAgICAgICAgICAgIHRocm93IGU7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9LFxyXG5cclxuXHJcbiAgICAvLyBjb21waWxlTWVtYmVyT3ZlcmxvYWQgOiBmdW5jdGlvbih0aGlzQXJnLCBhcmdBc3RzLCBpc1RoaXNDb25zdCwgb3Ape1xyXG4gICAgLy8gICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIC8vICAgICB2YXIgYXV4QXJncyA9IGFyZ0FzdHMubWFwKGZ1bmN0aW9uKGFyZ0FzdCl7XHJcbiAgICAvLyAgICAgICAgIHZhciBhdXhBcmcgPSBDUFBDb25zdHJ1Y3QuY3JlYXRlKGFyZ0FzdCwge3BhcmVudDogc2VsZiwgYXV4aWxpYXJ5OiB0cnVlfSk7XHJcbiAgICAvLyAgICAgICAgIGF1eEFyZy50cnlDb21waWxlKCk7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiBhdXhBcmc7XHJcbiAgICAvLyAgICAgfSk7XHJcblxyXG4gICAgLy8gICAgIHRyeXtcclxuICAgIC8vICAgICAgICAgdmFyIG92ZXJsb2FkZWRPcCA9IHRoaXNBcmcudHlwZS5jbGFzc1Njb3BlLnJlcXVpcmVkTG9va3VwKFwib3BlcmF0b3JcIitvcCwge1xyXG4gICAgLy8gICAgICAgICAgICAgb3duOnRydWUsIHBhcmFtVHlwZXM6YXV4QXJncy5tYXAoZnVuY3Rpb24oYXJnKXtyZXR1cm4gYXJnLnR5cGU7fSksXHJcbiAgICAvLyAgICAgICAgICAgICBpc1RoaXNDb25zdDogaXNUaGlzQ29uc3RcclxuICAgIC8vICAgICAgICAgfSk7XHJcblxyXG4gICAgLy8gICAgICAgICB0aGlzLmlzT3ZlcmxvYWQgPSB0cnVlO1xyXG4gICAgLy8gICAgICAgICB0aGlzLmlzTWVtYmVyT3ZlcmxvYWQgPSB0cnVlO1xyXG4gICAgLy8gICAgICAgICB0aGlzLmZ1bmNDYWxsID0gRnVuY3Rpb25DYWxsLmluc3RhbmNlKHthcmdzOiBhcmdBc3RzfSwge3BhcmVudDp0aGlzfSk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuZnVuY0NhbGwuY29tcGlsZSh7ZnVuYzogb3ZlcmxvYWRlZE9wfSk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMudHlwZSA9IHRoaXMuZnVuY0NhbGwudHlwZTtcclxuICAgIC8vICAgICAgICAgdGhpcy52YWx1ZUNhdGVnb3J5ID0gdGhpcy5mdW5jQ2FsbC52YWx1ZUNhdGVnb3J5O1xyXG4gICAgLy8gICAgICAgICB0aGlzLmlfY2hpbGRyZW5Ub0V4ZWN1dGUgPSB0aGlzLmlfY2hpbGRyZW5Ub0V4ZWN1dGVGb3JNZW1iZXJPdmVybG9hZDtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgY2F0Y2goZSl7XHJcbiAgICAvLyAgICAgICAgIGlmIChpc0EoZSwgU2VtYW50aWNFeGNlcHRpb25zLkJhZExvb2t1cCkpe1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIub3ZlcmxvYWRMb29rdXAodGhpcywgb3ApKTtcclxuICAgIC8vICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShlLmFubm90YXRpb24odGhpcykpO1xyXG4gICAgLy8gICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIGVsc2V7XHJcbiAgICAvLyAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG5cclxuXHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgU2ltcGxlUnVudGltZUV4cHJlc3Npb248VCBleHRlbmRzIFR5cGUgPSBUeXBlLCBWIGV4dGVuZHMgVmFsdWVDYXRlZ29yeSA9IFZhbHVlQ2F0ZWdvcnksIEMgZXh0ZW5kcyBDb21waWxlZEV4cHJlc3Npb248VCxWPiA9IENvbXBpbGVkRXhwcmVzc2lvbjxULFY+PiBleHRlbmRzIFJ1bnRpbWVFeHByZXNzaW9uPFQsVixDPiB7XHJcblxyXG4gICAgcHJpdmF0ZSBpbmRleCA6IDAgfCAxID0gMDtcclxuXHJcbiAgICAvLyBOb3RlOiB0aGlzIGlzIFJ1bnRpbWVDb25zdHJ1Y3QgcmF0aGVyIHRoYW4gUnVudGltZUV4cHJlc3Npb24sIGJlY2F1c2UgUnVudGltZUV4cHJlc3Npb24gaXMgaW1wbGljaXRseVxyXG4gICAgLy8gICAgICAgUnVudGltZUV4cHJlc3Npb248VHlwZSwgVmFsdWVDYXRlZ29yeT4gYW5kIHBhcnRpY3VsYXIgaW5zdGFudGlhdGlvbnMgbWF5IG5vdFxyXG4gICAgcHJpdmF0ZSBzdWJleHByZXNzaW9uczogUnVudGltZUNvbnN0cnVjdFtdID0gW107XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChtb2RlbDogQywgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgc3VwZXIobW9kZWwsIHBhcmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHNldFN1YmV4cHJlc3Npb25zKHN1YmV4cHJlc3Npb25zOiBSdW50aW1lQ29uc3RydWN0W10pIHtcclxuICAgICAgICB0aGlzLnN1YmV4cHJlc3Npb25zID0gc3ViZXhwcmVzc2lvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHVwTmV4dEltcGwoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5kZXggPT09IDApIHsgLy8gc3ViZXhwcmVzc2lvbnNcclxuICAgICAgICAgICAgLy8gcHVzaCBzdWJleHByZXNzaW9ucyBpbiByZXZlcnNlIG9yZGVyIHNpbmNlIGl0J3MgYSBzdGFja1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5zdWJleHByZXNzaW9ucy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaW0ucHVzaCh0aGlzLnN1YmV4cHJlc3Npb25zW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmluZGV4ID0gMTsgLy8gb3BlcmF0ZVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJvdGVjdGVkIHN0ZXBGb3J3YXJkSW1wbCgpIHtcclxuICAgICAgICB0aGlzLm9wZXJhdGUoKTtcclxuICAgICAgICB0aGlzLmRvbmUoKTtcclxuICAgICAgICAvLyBUT0RPOiBob3cgZG8gZXhwcmVzc2lvbnMgcG9wIHRoZW1zZWx2ZXM/XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IG9wZXJhdGUoKSA6IHZvaWQ7XHJcbn1cclxuXHJcblxyXG4vLyBhYnN0cmFjdCBjbGFzcyBMUkV4cHJlc3Npb24gZXh0ZW5kcyBFeHByZXNzaW9uIHtcclxuLy8gICAgIHRfY29tcGlsZWRUeXBlISA6IEV4cHJlc3Npb25bXCJ0X2NvbXBpbGVkVHlwZVwiXSAmIHtcclxuLy8gICAgICAgICBsZWZ0OiBDb21waWxlZEV4cHJlc3Npb248RXhwcmVzc2lvbiwgVHlwZSwgXCJwcnZhbHVlXCI+O1xyXG4vLyAgICAgICAgIHJpZ2h0OiBDb21waWxlZEV4cHJlc3Npb248RXhwcmVzc2lvbiwgVHlwZSwgXCJwcnZhbHVlXCI+O1xyXG4vLyAgICAgfVxyXG4vLyB9O1xyXG5cclxuXHJcbnR5cGUgdF9PdmVybG9hZGFibGVPcGVyYXRvcnMgPVxyXG4gICAgXCIrXCIgfCBcIi1cIiB8IFwiKlwiIHwgXCIvXCIgfCBcIiVcIiB8XHJcbiAgICBcIiZcIiB8IFwifFwiIHwgXCJeXCIgfCBcIn5cIiB8IFwiPDxcIiB8IFwiPj5cIiB8IFwiPFwiIHwgXCI+XCIgfCBcIjw9XCIgfFxyXG4gICAgXCI+PVwiIHwgXCI9PVwiIHwgXCIhPVwiIHwgXCImJlwiIHwgXCJ8fFwiIHwgXCIhXCIgfCBcIisrXCIgfCBcIi0tXCIgfFxyXG4gICAgXCIrPVwiIHwgXCItPVwiIHwgXCIqPVwiIHwgXCIvPVwiIHwgXCIlPVwiIHwgXCImPVwiIHwgXCJ8PVwiIHwgXCJePVwiIHwgXCI8PD1cIiB8IFwiPj49XCIgfFxyXG4gICAgXCIsXCIgfCBcIi0+XCIgfCBcIi0+KlwiIHwgXCIoKVwiIHwgXCJbXVwiO1xyXG5cclxuXHJcbi8vIGV4cG9ydCBjbGFzcyBPcGVyYXRvck92ZXJsb2FkIGV4dGVuZHMgRXhwcmVzc2lvbiB7XHJcblxyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IHR5cGU/OiBUeXBlO1xyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IHZhbHVlQ2F0ZWdvcnk/OiBWYWx1ZUNhdGVnb3J5O1xyXG5cclxuLy8gICAgIHB1YmxpYyByZWFkb25seSBvcGVyYXRvcjogdF9PdmVybG9hZGFibGVPcGVyYXRvcnM7XHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgb3BlcmFuZHM6IEV4cHJlc3Npb25bXTtcclxuICAgIFxyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IGlzTWVtYmVyT3ZlcmxvYWQ/OiBib29sZWFuO1xyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IG92ZXJsb2FkRnVuY3Rpb25DYWxsPzogRnVuY3Rpb25DYWxsO1xyXG5cclxuLy8gICAgIHByaXZhdGUgY29uc3RydWN0b3IoY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQsIG9wZXJhbmRzOiBFeHByZXNzaW9uW10sIG9wZXJhdG9yOiB0X092ZXJsb2FkYWJsZU9wZXJhdG9ycykge1xyXG4vLyAgICAgICAgIHN1cGVyKGNvbnRleHQpO1xyXG5cclxuLy8gICAgICAgICB0aGlzLm9wZXJhdG9yID0gb3BlcmF0b3I7XHJcbi8vICAgICAgICAgdGhpcy5vcGVyYW5kcyA9IG9wZXJhbmRzOyAvLyBUaGVzZSBtYXkgZ28gdGhyb3VnaCBjb252ZXJzaW9ucyB3aGVuIGF0dGFjaGVkIHRvIGEgZnVuY3Rpb24gY2FsbCwgYnV0IHRoaXMgbWVtYmVyIGNvbnRhaW5zIHRoZSBcInJhd1wiIHZlcnNpb25zXHJcblxyXG4vLyAgICAgICAgIC8vIElmIGFueSBvZiB0aGUgb3BlcmFuZHMgYXJlIG5vdCB3ZWxsLXR5cGVkLCBjYW4ndCBjb21waWxlXHJcbi8vICAgICAgICAgaWYgKCF0aGlzLmhhc1dlbGxUeXBlZE9wZXJhbmRzKG9wZXJhbmRzKSkge1xyXG4vLyAgICAgICAgICAgICB0aGlzLnR5cGUgPSBudWxsO1xyXG4vLyAgICAgICAgICAgICB0aGlzLnZhbHVlQ2F0ZWdvcnkgPSBudWxsO1xyXG5cclxuLy8gICAgICAgICAgICAgLy8gSW4gdGhpcyBjYXNlLCBhdHRhY2ggb3BlcmFuZHMgZGlyZWN0bHkgYXMgY2hpbGRyZW4uXHJcbi8vICAgICAgICAgICAgIG9wZXJhbmRzLmZvckVhY2goKGV4cHIpID0+IHt0aGlzLmF0dGFjaChleHByKTt9KTtcclxuLy8gICAgICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgLy8gU2FuaXR5IGNoZWNrIHRoYXQgYXQgbGVhc3Qgb25lIG9mIHRoZSBvcGVyYW5kcyBoYXMgY2xhc3MtdHlwZVxyXG4vLyAgICAgICAgIGFzc2VydChvcGVyYW5kcy5sZW5ndGggPiAwLCBcIk9wZXJhdG9yIG92ZXJsb2FkIG11c3QgaGF2ZSBhdCBsZWFzdCBvbmUgb3BlcmFuZC5cIik7XHJcbi8vICAgICAgICAgYXNzZXJ0KG9wZXJhbmRzLnNvbWUoKGV4cHIpID0+IHtyZXR1cm4gaXNUeXBlKGV4cHIudHlwZSwgQ2xhc3NUeXBlKTt9KSwgXCJBdCBsZWFzdCBvbmUgb3BlcmFuZCBpbiBhIG5vbi1tZW1iZXIgb3ZlcmxvYWQgbXVzdCBoYXZlIGNsYXNzLXR5cGUuXCIpO1xyXG5cclxuXHJcbi8vICAgICAgICAgbGV0IG92ZXJsb2FkRnVuY3Rpb24gOiBGdW5jdGlvbkVudGl0eT8gPSBudWxsO1xyXG5cclxuLy8gICAgICAgICAvLyBJZiB0aGUgbGVmdG1vc3Qgb3BlcmFuZCBpcyBjbGFzcy10eXBlLCB3ZSBjYW4gbG9vayBmb3IgYSBtZW1iZXIgb3ZlcmxvYWRcclxuLy8gICAgICAgICBsZXQgbGVmdG1vc3QgPSBvcGVyYW5kc1swXTtcclxuLy8gICAgICAgICBpZiAoaXNUeXBlKGxlZnRtb3N0LnR5cGUsIENsYXNzVHlwZSkpIHtcclxuLy8gICAgICAgICAgICAgbGV0IGVudGl0eSA9IGxlZnRtb3N0LnR5cGUuY3BwQ2xhc3Muc2NvcGUuc2luZ2xlTG9va3VwKFwib3BlcmF0b3JcIiArIHRoaXMub3BlcmF0b3IsIHtcclxuLy8gICAgICAgICAgICAgICAgIG93bjp0cnVlLCBwYXJhbXM6W29wZXJhbmRzLnNsaWNlKDEpXSwgaXNUaGlzQ29uc3QgOiBsZWZ0bW9zdC50eXBlLmlzQ29uc3RcclxuLy8gICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICBVdGlsLmFzc2VydChlbnRpdHkgaW5zdGFuY2VvZiBGdW5jdGlvbkVudGl0eSwgXCJOb24tZnVuY3Rpb24gZW50aXR5IGZvdW5kIGZvciBvcGVyYXRvciBvdmVybG9hZCBuYW1lIGxvb2t1cC5cIik7XHJcbi8vICAgICAgICAgICAgIG92ZXJsb2FkRnVuY3Rpb24gPSA8RnVuY3Rpb25FbnRpdHk+ZW50aXR5O1xyXG4vLyAgICAgICAgIH1cclxuICAgICAgICBcclxuLy8gICAgICAgICAvLyBJZiB3ZSBkaWRuJ3QgZmluZCBhIG1lbWJlciBvdmVybG9hZCwgbmV4dCBsb29rIGZvciBhIG5vbi1tZW1iZXIgb3ZlcmxvYWRcclxuLy8gICAgICAgICBpZiAoIW92ZXJsb2FkRnVuY3Rpb24pIHtcclxuLy8gICAgICAgICAgICAgbGV0IGVudGl0eSA9IHRoaXMuY29udGV4dHVhbFNjb3BlLnNpbmdsZUxvb2t1cChcIm9wZXJhdG9yXCIgKyB0aGlzLm9wZXJhdG9yLCB7XHJcbi8vICAgICAgICAgICAgICAgICBwYXJhbXM6IG9wZXJhbmRzXHJcbi8vICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgVXRpbC5hc3NlcnQoZW50aXR5IGluc3RhbmNlb2YgRnVuY3Rpb25FbnRpdHksIFwiTm9uLWZ1bmN0aW9uIGVudGl0eSBmb3VuZCBmb3Igb3BlcmF0b3Igb3ZlcmxvYWQgbmFtZSBsb29rdXAuXCIpO1xyXG4vLyAgICAgICAgICAgICBvdmVybG9hZEZ1bmN0aW9uID0gPEZ1bmN0aW9uRW50aXR5PmVudGl0eTtcclxuLy8gICAgICAgICB9XHJcblxyXG5cclxuLy8gICAgICAgICBpZiAob3ZlcmxvYWRGdW5jdGlvbikge1xyXG4vLyAgICAgICAgICAgICB0aGlzLmlzTWVtYmVyT3ZlcmxvYWQgPSBvdmVybG9hZEZ1bmN0aW9uIGluc3RhbmNlb2YgTWVtYmVyRnVuY3Rpb25FbnRpdHk7XHJcblxyXG5cclxuLy8gICAgICAgICAgICAgaWYgKHRoaXMuaXNNZW1iZXJPdmVybG9hZCkge1xyXG4vLyAgICAgICAgICAgICAgICAgLy8gTWVtYmVyIG92ZXJsb2FkIG1lYW5zIGxlZnRtb3N0IG9wZXJhbmQgaXMgb3VyIGRpcmVjdGx5IGF0dGFjaGVkIGNoaWxkLCBvdGhlciBvcGVyYW5kcyBhcmUgYXJndW1lbnRzIHRvIGZ1bmN0aW9uIGNhbGwuXHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaChvcGVyYW5kc1swXSk7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLm92ZXJsb2FkRnVuY3Rpb25DYWxsID0gbmV3IEZ1bmN0aW9uQ2FsbChjb250ZXh0LCBvdmVybG9hZEZ1bmN0aW9uLCBvcGVyYW5kcy5zbGljZSgxKSkpO1xyXG4vLyAgICAgICAgICAgICAgICAgLy8gVGhlIHJlY2VpdmVyIG9mIHRoZSBmdW5jdGlvbiBjYWxsIGlzIHNldCBhdCBydW50aW1lIGFmdGVyIHRoZSBvcGVyYW5kIGlzIGV2YWx1YXRlZFxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgICAgICAvLyBOb24tbWVtYmVyIG92ZXJsb2FkIG1lYW5zIGFsbCBvcGVyYW5kcyBhcmUgYXJndW1lbnRzIG9mIHRoZSBmdW5jdGlvbiBjYWxsXHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLm92ZXJsb2FkRnVuY3Rpb25DYWxsID0gbmV3IEZ1bmN0aW9uQ2FsbChjb250ZXh0LCBvdmVybG9hZEZ1bmN0aW9uLCBvcGVyYW5kcykpO1xyXG4vLyAgICAgICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgICAgICB0aGlzLnR5cGUgPSB0aGlzLm92ZXJsb2FkRnVuY3Rpb25DYWxsLmZ1bmMudHlwZS5yZXR1cm5UeXBlO1xyXG4vLyAgICAgICAgICAgICB0aGlzLnZhbHVlQ2F0ZWdvcnkgPSB0aGlzLm92ZXJsb2FkRnVuY3Rpb25DYWxsLnZhbHVlQ2F0ZWdvcnk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgIC8vIFRPRE86IGFkZCBpbiBub3RlcyBmcm9tIGF0dGVtcHRlZCBsb29rdXAgb3BlcmF0aW9ucyBmb3IgdGhlIG1lbWJlciBhbmQgbm9uLW1lbWJlciBvdmVybG9hZHNcclxuLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIuYmluYXJ5Lm92ZXJsb2FkX25vdF9mb3VuZCh0aGlzLCBvcGVyYXRvciwgb3BlcmFuZHMpKTtcclxuXHJcbi8vICAgICAgICAgICAgIHRoaXMudHlwZSA9IG51bGw7XHJcbi8vICAgICAgICAgICAgIHRoaXMudmFsdWVDYXRlZ29yeSA9IG51bGw7XHJcblxyXG4vLyAgICAgICAgICAgICAvLyBJZiB3ZSBkaWRuJ3QgZmluZCBhIGZ1bmN0aW9uIHRvIHVzZSwganVzdCBhdHRhY2ggb3BlcmFuZHMgZGlyZWN0bHkgYXMgY2hpbGRyZW4uXHJcbi8vICAgICAgICAgICAgIG9wZXJhbmRzLmZvckVhY2goKGV4cHIpID0+IHt0aGlzLmF0dGFjaChleHByKTt9KTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHJpdmF0ZSBoYXNXZWxsVHlwZWRPcGVyYW5kcyhvcGVyYW5kczogRXhwcmVzc2lvbltdKSA6IG9wZXJhbmRzIGlzIFR5cGVkRXhwcmVzc2lvbltdIHtcclxuLy8gICAgICAgICByZXR1cm4gb3BlcmFuZHMuZXZlcnkoKGV4cHIpID0+IHsgcmV0dXJuIGV4cHIuaXNXZWxsVHlwZWQoKTsgfSk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPFQgZXh0ZW5kcyBUeXBlLCBWIGV4dGVuZHMgVmFsdWVDYXRlZ29yeT4odGhpczogQ29tcGlsZWRFeHByZXNzaW9uPFQsVj4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lT3BlcmF0b3JPdmVybG9hZDxDb21waWxlZE9wZXJhdG9yT3ZlcmxvYWQ8VCxWPj4ge1xyXG4vLyAgICAgICAgIHJldHVybiBuZXcgUnVudGltZU9wZXJhdG9yT3ZlcmxvYWQodGhpcywgcGFyZW50KTtcclxuLy8gICAgIH1cclxuICAgIFxyXG4vLyAgICAgcHVibGljIGRlc2NyaWJlRXZhbFJlc3VsdChkZXB0aDogbnVtYmVyKTogRGVzY3JpcHRpb24ge1xyXG4vLyAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4vLyAgICAgfVxyXG5cclxuXHJcblxyXG4vLyAgICAgLy8gdXBOZXh0IDogQ2xhc3MuQURESVRJT05BTExZKGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgLy8gICAgIGlmICh0aGlzLmZ1bmNDYWxsKXtcclxuLy8gICAgIC8vICAgICAgICAgaW5zdC5jaGlsZEluc3RhbmNlcy5mdW5jQ2FsbC5nZXRSdW50aW1lRnVuY3Rpb24oKS5zZXRSZWNlaXZlcihFdmFsdWF0aW9uUmVzdWx0UnVudGltZUVudGl0eS5pbnN0YW5jZSh0aGlzLmxocy50eXBlLCBpbnN0LmNoaWxkSW5zdGFuY2VzLmxocykpO1xyXG4vLyAgICAgLy8gICAgIH1cclxuLy8gICAgIC8vIH0pLFxyXG5cclxuLy8gICAgIC8vIHN0ZXBGb3J3YXJkIDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcblxyXG4vLyAgICAgLy8gICAgIGlmIChpbnN0LmluZGV4ID09IFwib3BlcmF0ZVwiKXtcclxuXHJcbi8vICAgICAvLyAgICAgICAgIGlmICh0aGlzLmZ1bmNDYWxsKXtcclxuLy8gICAgIC8vICAgICAgICAgICAgIC8vIEFzc2lnbm1lbnQgb3BlcmF0b3IgZnVuY3Rpb24gY2FsbCBoYXMgYWxyZWFkeSB0YWtlbiBjYXJlIG9mIHRoZSBcImFzc2lnbm1lbnRcIi5cclxuLy8gICAgIC8vICAgICAgICAgICAgIC8vIEp1c3QgZXZhbHVhdGUgdG8gcmV0dXJuZWQgdmFsdWUgZnJvbSBhc3NpZ25tZW50IG9wZXJhdG9yLlxyXG4vLyAgICAgLy8gICAgICAgICAgICAgaW5zdC5zZXRFdmFsUmVzdWx0KGluc3QuY2hpbGRJbnN0YW5jZXMuZnVuY0NhbGwuZXZhbFJlc3VsdCk7XHJcbi8vICAgICAvLyAgICAgICAgICAgICB0aGlzLmRvbmUoc2ltLCBpbnN0KTtcclxuLy8gICAgIC8vICAgICAgICAgICAgIC8vcmV0dXJuIHRydWU7XHJcbi8vICAgICAvLyAgICAgICAgIH1cclxuLy8gICAgIC8vICAgICAgICAgZWxzZXtcclxuLy8gICAgIC8vICAgICAgICAgfVxyXG4vLyAgICAgLy8gICAgIH1cclxuLy8gICAgIC8vIH0sXHJcblxyXG4vLyB9XHJcblxyXG4vLyBleHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkT3BlcmF0b3JPdmVybG9hZDxUIGV4dGVuZHMgUG90ZW50aWFsUmV0dXJuVHlwZSA9IFBvdGVudGlhbFJldHVyblR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5ID0gVmFsdWVDYXRlZ29yeT4gZXh0ZW5kcyBPcGVyYXRvck92ZXJsb2FkLCBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcbiAgICBcclxuLy8gICAgIHB1YmxpYyByZWFkb25seSB0eXBlOiBUO1xyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IHZhbHVlQ2F0ZWdvcnk6IFY7XHJcblxyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IG9wZXJhbmRzOiBDb21waWxlZEV4cHJlc3Npb25bXTtcclxuICAgIFxyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IGlzTWVtYmVyT3ZlcmxvYWQ6IGJvb2xlYW47XHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgb3ZlcmxvYWRGdW5jdGlvbkNhbGw6IENvbXBpbGVkRnVuY3Rpb25DYWxsPFQsVj47IFxyXG4vLyB9XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbW1hQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwiY29tbWFfZXhwcmVzc2lvblwiO1xyXG4gICAgcmVhZG9ubHkgb3BlcmF0b3I6IFwiLFwiO1xyXG4gICAgcmVhZG9ubHkgbGVmdDogRXhwcmVzc2lvbkFTVE5vZGU7XHJcbiAgICByZWFkb25seSByaWdodDogRXhwcmVzc2lvbkFTVE5vZGU7XHJcbiAgICByZWFkb25seSBhc3NvY2lhdGl2aXR5OiBcImxlZnRcIjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENvbW1hRXhwcmVzc2lvbiBleHRlbmRzIEV4cHJlc3Npb24ge1xyXG4gICAgXHJcbiAgICAvLyBUT0RPOiB3aGF0IGlzIHRoaXMgZm9yP1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBjb25zdHJ1Y3RLaW5kID0gU3ltYm9sKFwiQ29tbWFcIik7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGU/OiBUeXBlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHZhbHVlQ2F0ZWdvcnk/OiBWYWx1ZUNhdGVnb3J5O1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBsZWZ0OiBFeHByZXNzaW9uO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHJpZ2h0OiBFeHByZXNzaW9uO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCwgbGVmdDogRXhwcmVzc2lvbiwgcmlnaHQ6IEV4cHJlc3Npb24pIHtcclxuICAgICAgICBzdXBlcihjb250ZXh0KTtcclxuICAgICAgICB0aGlzLnR5cGUgPSByaWdodC50eXBlO1xyXG4gICAgICAgIHRoaXMudmFsdWVDYXRlZ29yeSA9IHJpZ2h0LnZhbHVlQ2F0ZWdvcnk7XHJcbiAgICAgICAgdGhpcy5hdHRhY2godGhpcy5sZWZ0ID0gbGVmdCk7XHJcbiAgICAgICAgdGhpcy5hdHRhY2godGhpcy5yaWdodCA9IHJpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUZyb21BU1QoYXN0OiBDb21tYUFTVE5vZGUsIGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0KSA6IENvbW1hRXhwcmVzc2lvbiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDb21tYUV4cHJlc3Npb24oY29udGV4dCwgY3JlYXRlRXhwcmVzc2lvbkZyb21BU1QoYXN0LmxlZnQsIGNvbnRleHQpLCBjcmVhdGVFeHByZXNzaW9uRnJvbUFTVChhc3QucmlnaHQsIGNvbnRleHQpKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gcHVibGljIGlzU3VjY2Vzc2Z1bGx5Q29tcGlsZWQoKTogdGhpcyBpcyBDb21tYTx0cnVlPiB7XHJcbiAgICAvLyAgICAgcmV0dXJuICF0aGlzLmhhc0Vycm9ycztcclxuICAgIC8vIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUV4cHJlc3Npb248VCBleHRlbmRzIFR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5Pih0aGlzOiBDb21waWxlZENvbW1hPFQsVj4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lQ29tbWE8VCxWPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSdW50aW1lQ29tbWEoPENvbXBpbGVkQ29tbWE8VCxWPj50aGlzLCBwYXJlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHB1YmxpYyBpc1RhaWxDaGlsZChjaGlsZDogQ1BQQ29uc3RydWN0KSB7XHJcbiAgICAvLyAgICAgaWYgKGNoaWxkID09PSB0aGlzLnJpZ2h0KXtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIHtpc1RhaWw6IHRydWUsXHJcbiAgICAvLyAgICAgICAgICAgICByZWFzb246IFwiVGhlIHJlY3Vyc2l2ZSBjYWxsIGlzIG9uIHRoZSByaWdodCBzaWRlIG9mIHRoZSBjb21tYSwgc28gaXQgaXMgZ3VhcmFudGVlZCB0byBiZSBldmFsdWF0ZWQgbGFzdC5cIlxyXG4gICAgLy8gICAgICAgICB9O1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBlbHNle1xyXG4gICAgLy8gICAgICAgICByZXR1cm4ge2lzVGFpbDogZmFsc2UsXHJcbiAgICAvLyAgICAgICAgICAgICByZWFzb246IFwiVGhlIGV4cHJlc3Npb24gb24gdGhlIHJpZ2h0IG9mIHRoZSBjb21tYSB3aWxsIGJlIGV2YWx1YXRlZCBhZnRlciB0aGUgcmVjdXJzaXZlIGNhbGwuXCIsXHJcbiAgICAvLyAgICAgICAgICAgICBvdGhlcnM6IFt0aGlzLnJpZ2h0XVxyXG4gICAgLy8gICAgICAgICB9O1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzY3JpYmVFdmFsUmVzdWx0KGRlcHRoOiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yaWdodC5kZXNjcmliZUV2YWxSZXN1bHQoZGVwdGgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZENvbW1hPFQgZXh0ZW5kcyBUeXBlID0gVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnkgPSBWYWx1ZUNhdGVnb3J5PiBleHRlbmRzIENvbW1hRXhwcmVzc2lvbiwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4gICAgcmVhZG9ubHkgdGVtcG9yYXJ5RGVhbGxvY2F0b3I/OiBDb21waWxlZFRlbXBvcmFyeURlYWxsb2NhdG9yOyAvLyB0byBtYXRjaCBDb21waWxlZFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uIHN0cnVjdHVyZVxyXG4gICAgcmVhZG9ubHkgdHlwZTogVDtcclxuICAgIHJlYWRvbmx5IHZhbHVlQ2F0ZWdvcnk6IFY7XHJcbiAgICByZWFkb25seSBsZWZ0OiBDb21waWxlZEV4cHJlc3Npb247XHJcbiAgICByZWFkb25seSByaWdodDogQ29tcGlsZWRFeHByZXNzaW9uPFQsVj47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBSdW50aW1lQ29tbWE8VCBleHRlbmRzIFR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5PiBleHRlbmRzIFNpbXBsZVJ1bnRpbWVFeHByZXNzaW9uPFQsVixDb21waWxlZENvbW1hPFQsVj4+IHtcclxuXHJcbiAgICBwdWJsaWMgbGVmdDogUnVudGltZUV4cHJlc3Npb247XHJcbiAgICBwdWJsaWMgcmlnaHQ6IFJ1bnRpbWVFeHByZXNzaW9uPFQsVj47XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChtb2RlbDogQ29tcGlsZWRDb21tYTxULFY+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICBzdXBlcihtb2RlbCwgcGFyZW50KTtcclxuICAgICAgICB0aGlzLnJpZ2h0ID0gdGhpcy5tb2RlbC5yaWdodC5jcmVhdGVSdW50aW1lRXhwcmVzc2lvbih0aGlzKTtcclxuICAgICAgICB0aGlzLmxlZnQgPSB0aGlzLm1vZGVsLmxlZnQuY3JlYXRlUnVudGltZUV4cHJlc3Npb24odGhpcyk7XHJcbiAgICAgICAgdGhpcy5zZXRTdWJleHByZXNzaW9ucyhbdGhpcy5sZWZ0LCB0aGlzLnJpZ2h0XSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG9wZXJhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRFdmFsUmVzdWx0KHRoaXMucmlnaHQuZXZhbFJlc3VsdCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRlcm5hcnlBU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJ0ZXJuYXJ5X2V4cHJlc3Npb25cIjtcclxuICAgIHJlYWRvbmx5IGNvbmRpdGlvbjogRXhwcmVzc2lvbkFTVE5vZGU7XHJcbiAgICByZWFkb25seSB0aGVuOiBFeHByZXNzaW9uQVNUTm9kZTtcclxuICAgIHJlYWRvbmx5IG90aGVyd2lzZTogRXhwcmVzc2lvbkFTVE5vZGU7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBUZXJuYXJ5RXhwcmVzc2lvbiBleHRlbmRzIEV4cHJlc3Npb24ge1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZT86IFR5cGU7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmFsdWVDYXRlZ29yeT86IFZhbHVlQ2F0ZWdvcnk7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbmRpdGlvbjogRXhwcmVzc2lvbjtcclxuICAgIHB1YmxpYyByZWFkb25seSB0aGVuOiBFeHByZXNzaW9uO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG90aGVyd2lzZTogRXhwcmVzc2lvbjtcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IF90X2NvbXBpbGVkITogQ29tcGlsZWRUZXJuYXJ5O1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCwgY29uZGl0aW9uOiBFeHByZXNzaW9uLCB0aGVuOiBFeHByZXNzaW9uLCBvdGhlcndpc2U6IEV4cHJlc3Npb24pIHtcclxuICAgICAgICBzdXBlcihjb250ZXh0KTtcclxuICAgICAgICBcclxuICAgICAgICBpZihjb25kaXRpb24uaXNXZWxsVHlwZWQoKSkge1xyXG4gICAgICAgICAgICBjb25kaXRpb24gPSB0aGlzLmNvbXBpbGVDb25kaXRpb24oY29uZGl0aW9uKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGVuLmlzV2VsbFR5cGVkKCkgJiYgb3RoZXJ3aXNlLmlzV2VsbFR5cGVkKCkpIHtcclxuICAgICAgICAgICAgKHt0aGVuLCBvdGhlcndpc2V9ID0gdGhpcy5jb21waWxlQ29uc2VxdWVuY2VzKHRoZW4sIG90aGVyd2lzZSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5hdHRhY2godGhpcy5jb25kaXRpb24gPSBjb25kaXRpb24pO1xyXG4gICAgICAgIHRoaXMuYXR0YWNoKHRoaXMudGhlbiA9IHRoZW4pO1xyXG4gICAgICAgIHRoaXMuYXR0YWNoKHRoaXMub3RoZXJ3aXNlID0gb3RoZXJ3aXNlKTtcclxuXHJcbiAgICAgICAgdGhpcy50eXBlID0gdGhlbi50eXBlO1xyXG4gICAgICAgIHRoaXMudmFsdWVDYXRlZ29yeSA9IHRoZW4udmFsdWVDYXRlZ29yeTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVGcm9tQVNUKGFzdDogVGVybmFyeUFTVE5vZGUsIGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0KSA6IFRlcm5hcnlFeHByZXNzaW9uIHtcclxuICAgICAgICByZXR1cm4gbmV3IFRlcm5hcnlFeHByZXNzaW9uKGNvbnRleHQsXHJcbiAgICAgICAgICAgIGNyZWF0ZUV4cHJlc3Npb25Gcm9tQVNUKGFzdC5jb25kaXRpb24sIGNvbnRleHQpLFxyXG4gICAgICAgICAgICBjcmVhdGVFeHByZXNzaW9uRnJvbUFTVChhc3QudGhlbiwgY29udGV4dCksXHJcbiAgICAgICAgICAgIGNyZWF0ZUV4cHJlc3Npb25Gcm9tQVNUKGFzdC5vdGhlcndpc2UsIGNvbnRleHQpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNvbXBpbGVDb25kaXRpb24oY29uZGl0aW9uIDogVHlwZWRFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgY29uZGl0aW9uID0gc3RhbmRhcmRDb252ZXJzaW9uKGNvbmRpdGlvbiwgbmV3IEJvb2woKSk7XHJcbiAgICAgICAgaWYgKCFpc1R5cGUoY29uZGl0aW9uLnR5cGUsIEJvb2wpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLnRlcm5hcnkuY29uZGl0aW9uX2Jvb2woY29uZGl0aW9uLCBjb25kaXRpb24udHlwZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29uZGl0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY29tcGlsZUNvbnNlcXVlbmNlcyh0aGVuOiBUeXBlZEV4cHJlc3Npb24sIG90aGVyd2lzZTogVHlwZWRFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgLy8gSWYgb25lIG9mIHRoZSBleHByZXNzaW9ucyBpcyBhIHBydmFsdWUsIGF0dGVtcHQgdG8gbWFrZSB0aGUgb3RoZXIgb25lIGFzIHdlbGxcclxuICAgICAgICBpZiAodGhlbi5pc1BydmFsdWUoKSAmJiBvdGhlcndpc2UuaXNMdmFsdWUoKSkge1xyXG4gICAgICAgICAgICBvdGhlcndpc2UgPSBjb252ZXJ0VG9QUlZhbHVlKG90aGVyd2lzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG90aGVyd2lzZS5pc1BydmFsdWUoKSAmJiB0aGVuLmlzTHZhbHVlKCkpIHtcclxuICAgICAgICAgICAgdGhlbiA9IGNvbnZlcnRUb1BSVmFsdWUodGhlbik7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcblxyXG4gICAgICAgIGlmICghc2FtZVR5cGUodGhlbi50eXBlLCBvdGhlcndpc2UudHlwZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmxvYnN0ZXIudGVybmFyeVNhbWVUeXBlKHRoaXMsIHRoZW4udHlwZSwgb3RoZXJ3aXNlLnR5cGUpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzVHlwZSh0aGVuLnR5cGUsIFZvaWRUeXBlKSB8fCBpc1R5cGUob3RoZXJ3aXNlLnR5cGUsIFZvaWRUeXBlKSkge1xyXG4gICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IubG9ic3Rlci50ZXJuYXJ5Tm9Wb2lkKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoZW4udmFsdWVDYXRlZ29yeSAhPT0gb3RoZXJ3aXNlLnZhbHVlQ2F0ZWdvcnkpe1xyXG4gICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci50ZXJuYXJ5LnNhbWVWYWx1ZUNhdGVnb3J5KHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHt0aGVuLCBvdGhlcndpc2V9O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbjxUIGV4dGVuZHMgVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnk+KHRoaXM6IENvbXBpbGVkVGVybmFyeTxULFY+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZVRlcm5hcnk8VCxWPjtcclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbjxUIGV4dGVuZHMgVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnk+KHRoaXM6IENvbXBpbGVkRXhwcmVzc2lvbjxULFY+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogbmV2ZXI7XHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUV4cHJlc3Npb248VCBleHRlbmRzIFR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5Pih0aGlzOiBDb21waWxlZFRlcm5hcnk8VCxWPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVUZXJuYXJ5PFQsVj4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUnVudGltZVRlcm5hcnkodGhpcywgcGFyZW50KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPXHJcbiAgICBwdWJsaWMgZGVzY3JpYmVFdmFsUmVzdWx0KGRlcHRoOiBudW1iZXIpOiBEZXNjcmlwdGlvbiB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcblxyXG4gICAgLy8gcHVibGljIGlzVGFpbENoaWxkKGNoaWxkOiBDUFBDb25zdHJ1Y3QpIHtcclxuICAgIC8vICAgICBpZiAoY2hpbGQgPT09IHRoaXMuY29uZGl0aW9uKXtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIHtpc1RhaWw6IGZhbHNlLFxyXG4gICAgLy8gICAgICAgICAgICAgcmVhc29uOiBcIk9uZSBvZiB0aGUgdHdvIHN1YmV4cHJlc3Npb25zIGluIHRoZSB0ZXJuYXJ5IG9wZXJhdG9yIHdpbGwgYmUgZXZhbHVhdGVkIGFmdGVyIHRoZSBmdW5jdGlvbiBjYWxsLlwiLFxyXG4gICAgLy8gICAgICAgICAgICAgb3RoZXJzOiBbdGhpcy50aGVuLCB0aGlzLm90aGVyd2lzZV1cclxuICAgIC8vICAgICAgICAgfTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZXtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIHtpc1RhaWw6IHRydWV9O1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZFRlcm5hcnk8VCBleHRlbmRzIFR5cGUgPSBUeXBlLCBWIGV4dGVuZHMgVmFsdWVDYXRlZ29yeSA9IFZhbHVlQ2F0ZWdvcnk+IGV4dGVuZHMgVGVybmFyeUV4cHJlc3Npb24sIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuICAgIHJlYWRvbmx5IHRlbXBvcmFyeURlYWxsb2NhdG9yPzogQ29tcGlsZWRUZW1wb3JhcnlEZWFsbG9jYXRvcjsgLy8gdG8gbWF0Y2ggQ29tcGlsZWRQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiBzdHJ1Y3R1cmVcclxuICAgIHJlYWRvbmx5IHR5cGU6IFQ7XHJcbiAgICByZWFkb25seSB2YWx1ZUNhdGVnb3J5OiBWO1xyXG4gICAgcmVhZG9ubHkgY29uZGl0aW9uOiBDb21waWxlZEV4cHJlc3Npb248Qm9vbCwgXCJwcnZhbHVlXCI+O1xyXG4gICAgcmVhZG9ubHkgdGhlbjogQ29tcGlsZWRFeHByZXNzaW9uPFQsVj47XHJcbiAgICByZWFkb25seSBvdGhlcndpc2U6IENvbXBpbGVkRXhwcmVzc2lvbjxULFY+O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUnVudGltZVRlcm5hcnk8VCBleHRlbmRzIFR5cGUgPSBUeXBlLCBWIGV4dGVuZHMgVmFsdWVDYXRlZ29yeSA9IFZhbHVlQ2F0ZWdvcnk+IGV4dGVuZHMgUnVudGltZUV4cHJlc3Npb248VCxWLENvbXBpbGVkVGVybmFyeTxULFY+PiB7XHJcblxyXG4gICAgcHVibGljIGNvbmRpdGlvbjogUnVudGltZUV4cHJlc3Npb248Qm9vbCwgXCJwcnZhbHVlXCI+O1xyXG4gICAgcHVibGljIHRoZW46IFJ1bnRpbWVFeHByZXNzaW9uPFQsVj47XHJcbiAgICBwdWJsaWMgb3RoZXJ3aXNlOiBSdW50aW1lRXhwcmVzc2lvbjxULFY+O1xyXG5cclxuICAgIHByaXZhdGUgaW5kZXggPSBcImNvbmRpdGlvblwiO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvciAobW9kZWw6IENvbXBpbGVkVGVybmFyeTxULFY+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICBzdXBlcihtb2RlbCwgcGFyZW50KTtcclxuICAgICAgICB0aGlzLmNvbmRpdGlvbiA9IHRoaXMubW9kZWwuY29uZGl0aW9uLmNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uKHRoaXMpO1xyXG4gICAgICAgIHRoaXMudGhlbiA9IHRoaXMubW9kZWwudGhlbi5jcmVhdGVSdW50aW1lRXhwcmVzc2lvbih0aGlzKTtcclxuICAgICAgICB0aGlzLm90aGVyd2lzZSA9IHRoaXMubW9kZWwub3RoZXJ3aXNlLmNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuXHRwcm90ZWN0ZWQgdXBOZXh0SW1wbCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pbmRleCA9PT0gXCJjb25kaXRpb25cIikge1xyXG4gICAgICAgICAgICB0aGlzLnNpbS5wdXNoKHRoaXMuY29uZGl0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5pbmRleCA9IFwiYnJhbmNoXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaW5kZXggPT09IFwiYnJhbmNoXCIpIHtcclxuICAgICAgICAgICAgaWYodGhpcy5jb25kaXRpb24uZXZhbFJlc3VsdC5yYXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaW0ucHVzaCh0aGlzLnRoZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpbS5wdXNoKHRoaXMub3RoZXJ3aXNlKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSBcIm9wZXJhdGVcIjtcclxuICAgICAgICB9XHJcblx0fVxyXG5cdFxyXG5cdHByb3RlY3RlZCBzdGVwRm9yd2FyZEltcGwoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRFdmFsUmVzdWx0KHRoaXMudGhlbiA/IHRoaXMudGhlbi5ldmFsUmVzdWx0IDogdGhpcy5vdGhlcndpc2UuZXZhbFJlc3VsdCk7XHJcbiAgICAgICAgdGhpcy5zaW0ucG9wKCk7XHJcblx0fVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBc3NpZ25tZW50RXhwcmVzc2lvbkFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcImFzc2lnbm1lbnRfZXhwcmVzc2lvblwiO1xyXG4gICAgcmVhZG9ubHkgbGhzOiBFeHByZXNzaW9uQVNUTm9kZTtcclxuICAgIHJlYWRvbmx5IG9wZXJhdG9yOiBcIj1cIjtcclxuICAgIHJlYWRvbmx5IHJoczogRXhwcmVzc2lvbkFTVE5vZGU7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBc3NpZ25tZW50RXhwcmVzc2lvbiBleHRlbmRzIEV4cHJlc3Npb24ge1xyXG4gICAgLy8gcHVibGljIHJlYWRvbmx5IFxyXG4gICAgLy8gdmFsdWVDYXRlZ29yeSA6IFwibHZhbHVlXCIsXHJcbiAgICAvLyBpc092ZXJsb2FkIDogZmFsc2UsXHJcbiAgICAvLyBpc01lbWJlck92ZXJsb2FkIDogdHJ1ZSxcclxuICAgIC8vIGlfY2hpbGRyZW5Ub0NyZWF0ZSA6IFtcImxoc1wiXSxcclxuICAgIC8vIGlfY2hpbGRyZW5Ub0V4ZWN1dGUgOiBbXCJsaHNcIiwgXCJyaHNcIl0sXHJcbiAgICAvLyBpX2NoaWxkcmVuVG9FeGVjdXRlRm9yT3ZlcmxvYWQgOiBbXCJsaHNcIiwgXCJmdW5jQ2FsbFwiXSwgLy8gZG9lcyBub3QgaW5jbHVkZSByaHMgYmVjYXVzZSBmdW5jdGlvbiBjYWxsIGRvZXMgdGhhdFxyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSB0eXBlPzogVHlwZTtcclxuICAgIHB1YmxpYyByZWFkb25seSB2YWx1ZUNhdGVnb3J5ID0gXCJsdmFsdWVcIjtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGhzOiBFeHByZXNzaW9uO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHJoczogRXhwcmVzc2lvbjtcclxuICAgIFxyXG4gICAgLy8gcHVibGljIHJlYWRvbmx5IF90X2NvbXBpbGVkITogQ29tcGlsZWRBc3NpZ25tZW50O1xyXG5cclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQsIGxoczogRXhwcmVzc2lvbiwgcmhzOiBFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgc3VwZXIoY29udGV4dCk7XHJcblxyXG4gICAgICAgIC8vIElmIHRoZSBsaHMvcmhzIGRvZXNuJ3QgaGF2ZSBhIHR5cGUgb3IgVkMsIHRoZSByZXN0IG9mIHRoZSBhbmFseXNpcyBkb2Vzbid0IG1ha2UgbXVjaCBzZW5zZS5cclxuICAgICAgICBpZiAoIWxocy5pc1dlbGxUeXBlZCgpIHx8ICFyaHMuaXNXZWxsVHlwZWQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLmxocyA9IGxocyk7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoKHRoaXMucmhzID0gcmhzKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmhzID0gc3RhbmRhcmRDb252ZXJzaW9uKHJocywgbGhzLnR5cGUuY3ZVbnF1YWxpZmllZCgpKTtcclxuXHJcbiAgICAgICAgaWYgKGxocy52YWx1ZUNhdGVnb3J5ICYmIGxocy52YWx1ZUNhdGVnb3J5ICE9IFwibHZhbHVlXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIuYXNzaWdubWVudC5saHNfbHZhbHVlKHRoaXMpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFRPRE86IGFkZCBhIGNoZWNrIGZvciBhIG1vZGlmaWFibGUgdHlwZSAoZS5nLiBhbiBhcnJheSB0eXBlIGlzIG5vdCBtb2RpZmlhYmxlKVxyXG5cclxuICAgICAgICBpZiAobGhzLnR5cGUuaXNDb25zdCkge1xyXG4gICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5hc3NpZ25tZW50Lmxoc19jb25zdCh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocmhzLmlzV2VsbFR5cGVkKCkgJiYgIXNhbWVUeXBlKHJocy50eXBlLCBsaHMudHlwZS5jdlVucXVhbGlmaWVkKCkpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmFzc2lnbm1lbnQuY29udmVydCh0aGlzLCBsaHMsIHJocykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVE9ETzogZG8gd2UgbmVlZCB0byBjaGVjayB0aGF0IGxocyBpcyBhbiBBdG9taWNUeXBlPyBvciBpcyB0aGF0IG5lY2Vzc2FyeSBnaXZlbiBhbGwgdGhlIG90aGVyIGNoZWNrcz9cclxuXHJcbiAgICAgICAgdGhpcy50eXBlID0gbGhzLnR5cGU7XHJcbiAgICAgICAgdGhpcy5hdHRhY2godGhpcy5saHMgPSBsaHMpO1xyXG4gICAgICAgIHRoaXMuYXR0YWNoKHRoaXMucmhzID0gcmhzKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVGcm9tQVNUKGFzdDogQXNzaWdubWVudEV4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgOiBBc3NpZ25tZW50RXhwcmVzc2lvbiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBBc3NpZ25tZW50RXhwcmVzc2lvbihjb250ZXh0LFxyXG4gICAgICAgICAgICBjcmVhdGVFeHByZXNzaW9uRnJvbUFTVChhc3QubGhzLCBjb250ZXh0KSxcclxuICAgICAgICAgICAgY3JlYXRlRXhwcmVzc2lvbkZyb21BU1QoYXN0LnJocywgY29udGV4dCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbjxUIGV4dGVuZHMgQXRvbWljVHlwZT4odGhpczogQ29tcGlsZWRBc3NpZ25tZW50PFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZUFzc2lnbm1lbnQ8VD47XHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUV4cHJlc3Npb248VCBleHRlbmRzIFR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5Pih0aGlzOiBDb21waWxlZEV4cHJlc3Npb248VCxWPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IG5ldmVyO1xyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPFQgZXh0ZW5kcyBBdG9taWNUeXBlPih0aGlzOiBDb21waWxlZEFzc2lnbm1lbnQ8VD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lQXNzaWdubWVudDxUPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSdW50aW1lQXNzaWdubWVudCh0aGlzLCBwYXJlbnQpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBUT0RPXHJcbiAgICBwdWJsaWMgZGVzY3JpYmVFdmFsUmVzdWx0KGRlcHRoOiBudW1iZXIpOiBEZXNjcmlwdGlvbiB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIGNvbnZlcnQgOiBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICBcclxuXHJcbiAgICAvLyAgICAgLy8gQ2hlY2sgZm9yIG92ZXJsb2FkZWQgYXNzaWdubWVudFxyXG4gICAgLy8gICAgIC8vIE5PVEU6IGRvbid0IGhhdmUgdG8gd29ycnkgYWJvdXQgbGhzIHJlZmVyZW5jZSB0eXBlIGJlY2F1c2UgaXQgd2lsbCBoYXZlIGJlZW4gYWRqdXN0ZWQgdG8gbm9uLXJlZmVyZW5jZVxyXG4gICAgLy8gICAgIGlmIChpc0EodGhpcy5saHMudHlwZSwgVHlwZXMuQ2xhc3MpKXtcclxuICAgIC8vICAgICAgICAgLy8gQ2xhc3MtdHlwZSBMSFMgbWVhbnMgd2UgY2hlY2sgZm9yIGFuIG92ZXJsb2FkZWQgPSBvcGVyYXRvclxyXG5cclxuICAgIC8vICAgICAgICAgLy8gQ29tcGlsZSB0aGUgUkhTIGFzIGFuIGF1eGlsaWFyeSBleHByZXNzaW9uIHNvIHRoYXQgd2UgY2FuIGZpZ3VyZSBvdXQgaXRzIHR5cGUgd2l0aG91dCBpbXBhY3RpbmcgdGhlIGNvbnN0cnVjdCB0cmVlXHJcbiAgICAvLyAgICAgICAgIHZhciBhdXhSaHMgPSBDUFBDb25zdHJ1Y3QuY3JlYXRlKHRoaXMuYXN0LnJocywge3BhcmVudDogdGhpcywgYXV4aWxpYXJ5OiB0cnVlfSk7XHJcbiAgICAvLyAgICAgICAgIGF1eFJocy5jb21waWxlKCk7XHJcblxyXG4gICAgLy8gICAgICAgICB0cnl7XHJcbiAgICAvLyAgICAgICAgICAgICAvLyBMb29rIGZvciBhbiBvdmVybG9hZGVkID0gb3BlcmF0b3IgdGhhdCB3ZSBjYW4gdXNlIHdpdGggYW4gYXJndW1lbnQgb2YgdGhlIFJIUyB0eXBlXHJcbiAgICAvLyAgICAgICAgICAgICAvLyBOb3RlOiBcIm93blwiIGhlcmUgbWVhbnMgZG9uJ3QgbG9vayBpbiBwYXJlbnQgc2NvcGUgY29udGFpbmluZyB0aGUgY2xhc3MgZGVmaW5pdGlvbiwgYnV0IHdlIHN0aWxsXHJcbiAgICAvLyAgICAgICAgICAgICAvLyBsb29rIGluIHRoZSBzY29wZSBvZiBhbnkgYmFzZSBjbGFzc2VzIHRoYXQgZXhpc3QgZHVlIHRvIHRoZSBjbGFzcyBzY29wZSBwZXJmb3JtaW5nIG1lbWJlciBsb29rdXBcclxuICAgIC8vICAgICAgICAgICAgIHZhciBhc3NuT3AgPSB0aGlzLmxocy50eXBlLmNsYXNzU2NvcGUucmVxdWlyZWRNZW1iZXJMb29rdXAoXCJvcGVyYXRvcj1cIiwge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHBhcmFtVHlwZXM6W2F1eFJocy50eXBlXSxcclxuICAgIC8vICAgICAgICAgICAgICAgICBpc1RoaXNDb25zdDogdGhpcy5saHMudHlwZS5pc0NvbnN0XHJcbiAgICAvLyAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAvLyAgICAgICAgICAgICAvLyBUT0RPOiBJdCBsb29rcyBsaWtlIHRoaXMgaWYvZWxzZSBpc24ndCBuZWNlc3NhcnkgZHVlIHRvIHJlcXVpcmVkTG9va3VwIHRocm93aW5nIGFuIGV4Y2VwdGlvbiBpZiBub3QgZm91bmRcclxuICAgIC8vICAgICAgICAgICAgIGlmIChhc3NuT3Ape1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHRoaXMuaXNPdmVybG9hZCA9IHRydWU7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgdGhpcy5pc01lbWJlck92ZXJsb2FkID0gdHJ1ZTtcclxuICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLmZ1bmNDYWxsID0gRnVuY3Rpb25DYWxsLmluc3RhbmNlKHthcmdzOiBbdGhpcy5hc3QucmhzXX0sIHtwYXJlbnQ6dGhpc30pO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHRoaXMuZnVuY0NhbGwuY29tcGlsZSh7ZnVuYzogYXNzbk9wfSk7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgdGhpcy50eXBlID0gdGhpcy5mdW5jQ2FsbC50eXBlO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHRoaXMuaV9jaGlsZHJlblRvRXhlY3V0ZSA9IHRoaXMuaV9jaGlsZHJlblRvRXhlY3V0ZUZvck92ZXJsb2FkO1xyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgZWxzZXtcclxuICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5hc3NpZ25tZW50Lm5vdF9kZWZpbmVkKHRoaXMsIHRoaXMubGhzLnR5cGUpKTtcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICBjYXRjaChlKXtcclxuICAgIC8vICAgICAgICAgICAgIGlmIChpc0EoZSwgU2VtYW50aWNFeGNlcHRpb25zLkJhZExvb2t1cCkpe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLm92ZXJsb2FkTG9va3VwKHRoaXMsIFwiPVwiKSk7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKGUuYW5ub3RhdGlvbih0aGlzKSk7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICBlbHNle1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHRocm93IGU7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgLy8gZWxzZXtcclxuICAgIC8vICAgICAvLyAgICAgLy8gTm9uLWNsYXNzIHR5cGUsIHNvIHRoaXMgaXMgcmVndWxhciBhc3NpZ25tZW50LiBDcmVhdGUgYW5kIGNvbXBpbGUgdGhlIHJocywgYW5kIHRoZW4gYXR0ZW1wdFxyXG4gICAgLy8gICAgIC8vICAgICAvLyBzdGFuZGFyZCBjb252ZXJzaW9uIG9mIHJocyB0byBtYXRjaCBjdi11bnF1YWxpZmllZCB0eXBlIG9mIGxocywgaW5jbHVkaW5nIGx2YWx1ZSB0byBydmFsdWUgY29udmVyc2lvblxyXG4gICAgLy8gICAgIC8vIH1cclxuICAgIC8vIH0sXHJcblxyXG5cclxuICAgIC8vIHVwTmV4dCA6IENsYXNzLkFERElUSU9OQUxMWShmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuICAgIC8vICAgICBpZiAodGhpcy5mdW5jQ2FsbCl7XHJcbiAgICAvLyAgICAgICAgIGluc3QuY2hpbGRJbnN0YW5jZXMuZnVuY0NhbGwuZ2V0UnVudGltZUZ1bmN0aW9uKCkuc2V0UmVjZWl2ZXIoRXZhbHVhdGlvblJlc3VsdFJ1bnRpbWVFbnRpdHkuaW5zdGFuY2UodGhpcy5saHMudHlwZSwgaW5zdC5jaGlsZEluc3RhbmNlcy5saHMpKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9KSxcclxuXHJcbiAgICAvLyBzdGVwRm9yd2FyZCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG5cclxuICAgIC8vICAgICBpZiAoaW5zdC5pbmRleCA9PSBcIm9wZXJhdGVcIil7XHJcblxyXG4gICAgLy8gICAgICAgICBpZiAodGhpcy5mdW5jQ2FsbCl7XHJcbiAgICAvLyAgICAgICAgICAgICAvLyBBc3NpZ25tZW50IG9wZXJhdG9yIGZ1bmN0aW9uIGNhbGwgaGFzIGFscmVhZHkgdGFrZW4gY2FyZSBvZiB0aGUgXCJhc3NpZ25tZW50XCIuXHJcbiAgICAvLyAgICAgICAgICAgICAvLyBKdXN0IGV2YWx1YXRlIHRvIHJldHVybmVkIHZhbHVlIGZyb20gYXNzaWdubWVudCBvcGVyYXRvci5cclxuICAgIC8vICAgICAgICAgICAgIGluc3Quc2V0RXZhbFJlc3VsdChpbnN0LmNoaWxkSW5zdGFuY2VzLmZ1bmNDYWxsLmV2YWxSZXN1bHQpO1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5kb25lKHNpbSwgaW5zdCk7XHJcbiAgICAvLyAgICAgICAgICAgICAvL3JldHVybiB0cnVlO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIGVsc2V7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9LFxyXG5cclxuICAgIHB1YmxpYyBpc1RhaWxDaGlsZChjaGlsZDogQ1BQQ29uc3RydWN0KSB7XHJcbiAgICAgICAgcmV0dXJuIHtpc1RhaWw6IGZhbHNlLFxyXG4gICAgICAgICAgICByZWFzb246IFwiVGhlIGFzc2lnbm1lbnQgaXRzZWxmIHdpbGwgaGFwcGVuIGFmdGVyIHRoZSByZWN1cnNpdmUgY2FsbCByZXR1cm5zLlwiLFxyXG4gICAgICAgICAgICBvdGhlcnM6IFt0aGlzXVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGV4cGxhaW4oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgICAgIHZhciBsaHMgPSB0aGlzLmxocy5kZXNjcmliZUV2YWxSZXN1bHQoMCk7XHJcbiAgICAgICAgdmFyIHJocyA9IHRoaXMucmhzLmRlc2NyaWJlRXZhbFJlc3VsdCgwKTtcclxuICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwiVGhlIHZhbHVlIG9mIFwiICsgKHJocy5uYW1lIHx8IHJocy5tZXNzYWdlKSArIFwiIHdpbGwgYmUgYXNzaWduZWQgdG8gXCIgKyAobGhzLm5hbWUgfHwgbGhzLm1lc3NhZ2UpICsgXCIuXCJ9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkQXNzaWdubWVudDxUIGV4dGVuZHMgQXRvbWljVHlwZSA9IEF0b21pY1R5cGU+IGV4dGVuZHMgQXNzaWdubWVudEV4cHJlc3Npb24sIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuICAgIHJlYWRvbmx5IHRlbXBvcmFyeURlYWxsb2NhdG9yPzogQ29tcGlsZWRUZW1wb3JhcnlEZWFsbG9jYXRvcjsgLy8gdG8gbWF0Y2ggQ29tcGlsZWRQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiBzdHJ1Y3R1cmVcclxuICAgIHJlYWRvbmx5IHR5cGU6IFQ7XHJcbiAgICByZWFkb25seSBsaHM6IENvbXBpbGVkRXhwcmVzc2lvbjxULCBcImx2YWx1ZVwiPjtcclxuICAgIHJlYWRvbmx5IHJoczogQ29tcGlsZWRFeHByZXNzaW9uPFQsIFwicHJ2YWx1ZVwiPjtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBSdW50aW1lQXNzaWdubWVudDxUIGV4dGVuZHMgQXRvbWljVHlwZSA9IEF0b21pY1R5cGU+IGV4dGVuZHMgU2ltcGxlUnVudGltZUV4cHJlc3Npb248VCxcImx2YWx1ZVwiLCBDb21waWxlZEFzc2lnbm1lbnQ8VD4+IHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGhzOiBSdW50aW1lRXhwcmVzc2lvbjxULCBcImx2YWx1ZVwiPjtcclxuICAgIHB1YmxpYyByZWFkb25seSByaHM6IFJ1bnRpbWVFeHByZXNzaW9uPFQsIFwicHJ2YWx1ZVwiPjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IgKG1vZGVsOiBDb21waWxlZEFzc2lnbm1lbnQ8VD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgICAgIHN1cGVyKG1vZGVsLCBwYXJlbnQpO1xyXG4gICAgICAgIHRoaXMubGhzID0gdGhpcy5tb2RlbC5saHMuY3JlYXRlUnVudGltZUV4cHJlc3Npb24odGhpcyk7XHJcbiAgICAgICAgdGhpcy5yaHMgPSB0aGlzLm1vZGVsLnJocy5jcmVhdGVSdW50aW1lRXhwcmVzc2lvbih0aGlzKTtcclxuICAgICAgICB0aGlzLnNldFN1YmV4cHJlc3Npb25zKFt0aGlzLnJocywgdGhpcy5saHNdKTtcclxuICAgIH1cclxuXHJcblx0cHJvdGVjdGVkIG9wZXJhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5saHMuZXZhbFJlc3VsdC53cml0ZVZhbHVlKHRoaXMucmhzLmV2YWxSZXN1bHQpO1xyXG4gICAgICAgIHRoaXMuc2V0RXZhbFJlc3VsdCh0aGlzLmxocy5ldmFsUmVzdWx0KTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIHRfQ29tcG91bmRBc3NpZ25tZW50T3BlcmF0b3JzID0gXCIqPVwiIHwgXCIvPVwiIHwgXCIlPVwiIHwgXCIrPVwiIHwgXCItPVwiIHwgXCI+Pj1cIiB8IFwiPDw9XCIgfCBcIiY9XCIgfCBcIl49XCIgfCBcInw9XCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBvdW5kQXNzaWdubWVudEV4cHJlc3Npb25BU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJjb21wb3VuZF9hc3NpZ25tZW50X2V4cHJlc3Npb25cIjtcclxuICAgIHJlYWRvbmx5IGxoczogRXhwcmVzc2lvbkFTVE5vZGU7XHJcbiAgICByZWFkb25seSBvcGVyYXRvcjogdF9Db21wb3VuZEFzc2lnbm1lbnRPcGVyYXRvcnM7XHJcbiAgICByZWFkb25seSByaHM6IEV4cHJlc3Npb25BU1ROb2RlO1xyXG59XHJcblxyXG4vLyB2YXIgYmVuZWF0aENvbnZlcnNpb25zID0gZnVuY3Rpb24oZXhwcil7XHJcbi8vICAgICB3aGlsZShpc0EoZXhwciwgQ29udmVyc2lvbnMuSW1wbGljaXRDb252ZXJzaW9uKSl7XHJcbi8vICAgICAgICAgZXhwciA9IGV4cHIuZnJvbTtcclxuLy8gICAgIH1cclxuLy8gICAgIHJldHVybiBleHByO1xyXG4vLyB9O1xyXG5cclxuLy8gVE9ETzogdGhlcmUgbWlnaHQgYmUgYSBiZXR0ZXIgd2F5IHRvIGltcGxlbWVudCB0aGlzLiBjdXJyZW50bHkgaXQgcmV1c2VzIGNvZGUgZnJvbSBCaW5hcnlPcGVyYXRvciwgYnV0IEkgZmVlbFxyXG4vLyBhIGxpdHRsZSBiaXQgaWNreSBhYm91dCBob3cgaXQgZG9lcyBpdCBhbmQgdGhlIHdheSBpdCB0cmVhdHMgdGhlIGNvbnN0cnVjdCB0cmVlXHJcbi8vIGV4cG9ydCB2YXIgQ29tcG91bmRBc3NpZ25tZW50ICA9IEV4cHJlc3Npb24uZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lOiBcIkNvbXBvdW5kQXNzaWdubWVudFwiLFxyXG4vLyAgICAgdmFsdWVDYXRlZ29yeSA6IFwibHZhbHVlXCIsXHJcblxyXG4vLyAgICAgaV9jcmVhdGVGcm9tQVNUOiBmdW5jdGlvbihhc3Qpe1xyXG4vLyAgICAgICAgIENvbXBvdW5kQXNzaWdubWVudC5fcGFyZW50LmlfY3JlYXRlRnJvbUFTVC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cclxuLy8gICAgICAgICAvLyBCYXNpY2FsbHkgdGhpcyB1c2VzIGEgYmluYXJ5IG9wZXJhdG9yIGV4cHJlc3Npb24gdG8gZG8gbW9zdCBvZiB0aGUgd29ya1xyXG4vLyAgICAgICAgIC8vIGUuZy4geCArPSB5IHNob3VsZCBiZSBlcXVpdmFsZW50ICh0byBhIGNlcnRhaW4gZXh0ZW50KSB0byB4ID0geCArIHlcclxuXHJcbi8vICAgICAgICAgdGhpcy5vcGVyYXRvciA9IGFzdC5vcGVyYXRvcjtcclxuLy8gICAgICAgICB2YXIgYmluYXJ5T3AgPSB0aGlzLm9wZXJhdG9yLnN1YnN0cmluZygwLCB0aGlzLm9wZXJhdG9yLmxlbmd0aC0xKTsgLy8gcmVtb3ZlIHRoZSA9IGZyb20gdGhlIG9wZXJhdG9yIGUuZy4gKz0gYmVjb21lcyArXHJcbi8vICAgICAgICAgdmFyIGJpbkFzdCA9IGNvcHlNaXhpbihhc3QsIHtcclxuLy8gICAgICAgICAgICAgbGVmdDogYXN0LmxocyxcclxuLy8gICAgICAgICAgICAgcmlnaHQ6IGFzdC5yaHMsXHJcbi8vICAgICAgICAgICAgIG9wZXJhdG9yOiBiaW5hcnlPcFxyXG4vLyAgICAgICAgIH0pO1xyXG4vLyAgICAgICAgIHZhciBiaW5hcnlPcENsYXNzID0gQklOQVJZX09QU1tiaW5hcnlPcF07XHJcbi8vICAgICAgICAgdGhpcy5pX2JpbmFyeU9wID0gYmluYXJ5T3BDbGFzcy5pbnN0YW5jZShiaW5Bc3QsIHtwYXJlbnQ6IHRoaXN9KTtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgY29tcGlsZSA6IGZ1bmN0aW9uKCkge1xyXG5cclxuLy8gICAgICAgICAvL2NvbXBpbGVzIGxlZnQgYW5kIHJpZ2h0XHJcbi8vICAgICAgICAgdGhpcy5pX2JpbmFyeU9wLmNvbXBpbGUoKTtcclxuXHJcbi8vICAgICAgICAgaWYodGhpcy5oYXNFcnJvcnMoKSl7XHJcbi8vICAgICAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIC8vIGxlZnQgc2hvdWxkIGJlIGEgc3RhbmRhcmQgY29udmVyc2lvbiBzZXF1ZW5jZVxyXG4vLyAgICAgICAgIC8vIHdlIHdhbnQgdG8gZXh0cmFjdCB0aGUgcHJlLWNvbnZlcnNpb24gZXhwcmVzc2lvbiBmb3IgbGhzXHJcbi8vICAgICAgICAgdGhpcy5saHMgPSBiZW5lYXRoQ29udmVyc2lvbnModGhpcy5pX2JpbmFyeU9wLmxlZnQpO1xyXG5cclxuLy8gICAgICAgICAvLyBBdHRlbXB0IHRvIGNvbnZlcnQgcmhzIChhIGJpbmFyeSBvcGVyYXRpb24pIGJhY2sgdG8gdHlwZSBvZiBsaHNcclxuLy8gICAgICAgICB0aGlzLnJocyA9IHN0YW5kYXJkQ29udmVyc2lvbih0aGlzLmlfYmluYXJ5T3AsIHRoaXMubGhzLnR5cGUpO1xyXG5cclxuLy8gICAgICAgICAvLyBUeXBlIENoZWNrXHJcbi8vICAgICAgICAgaWYgKHRoaXMubGhzLnZhbHVlQ2F0ZWdvcnkgIT09IFwibHZhbHVlXCIpIHtcclxuLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIuYXNzaWdubWVudC5saHNfbHZhbHVlKHRoaXMpKTtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIGlmICghc2FtZVR5cGUodGhpcy5yaHMudHlwZSwgdGhpcy5saHMudHlwZSkpIHtcclxuLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIuYXNzaWdubWVudC5jb252ZXJ0KHRoaXMsIHRoaXMubGhzLCB0aGlzLnJocykpO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgdGhpcy50eXBlID0gdGhpcy5saHMudHlwZTtcclxuXHJcbi8vICAgICAgICAgdGhpcy5jb21waWxlVGVtcG9yYXJpcmVzKCk7XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIHVwTmV4dCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIC8vIEV2YWx1YXRlIHN1YmV4cHJlc3Npb25zXHJcbi8vICAgICAgICAgaWYgKGluc3QuaW5kZXggPT0gXCJzdWJleHByZXNzaW9uc1wiKSB7XHJcbi8vICAgICAgICAgICAgIGluc3QucmhzID0gdGhpcy5yaHMuY3JlYXRlQW5kUHVzaEluc3RhbmNlKHNpbSwgaW5zdCk7XHJcbi8vICAgICAgICAgICAgIGluc3QuaW5kZXggPSBcIm9wZXJhdGVcIjtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBzdGVwRm9yd2FyZCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIGlmIChpbnN0LmluZGV4ID09PSBcIm9wZXJhdGVcIil7XHJcbi8vICAgICAgICAgICAgIC8vIGV4dHJhY3QgbHZhbHVlIG9uIGxocyB0aGF0IG1heSBiZSB1bmRlcm5lYXRoIGEgc3RhbmRhcmQgY29udmVyc2lvbiBzZXF1ZW5jZVxyXG4vLyAgICAgICAgICAgICAvLyBub3RlOiB0aGlzIGlzIG9ubHkgYXBwbGljYWJsZSBpbiBjb21wb3VuZCBhc3NpZ25tZW50LiBpbiByZWd1bGFyIGxocyB3aWxsIG5ldmVyIGJlIGNvbnZlcnRlZFxyXG4vLyAgICAgICAgICAgICB2YXIgZmluZExocyA9IGluc3QucmhzO1xyXG4vLyAgICAgICAgICAgICB3aGlsZShpc0EoZmluZExocy5tb2RlbCwgSW1wbGljaXRDb252ZXJzaW9uKSl7XHJcbi8vICAgICAgICAgICAgICAgICBmaW5kTGhzID0gZmluZExocy5jaGlsZEluc3RhbmNlcy5mcm9tOyAvLyBzdHJpcCBjb252ZXJzaW9ucyBvZmYgcmVzdWx0IG9mIGJpbmFyeSBvcFxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGZpbmRMaHMgPSBmaW5kTGhzLmNoaWxkSW5zdGFuY2VzLmxlZnQ7IC8vIGdvIHRvIGxlZnQgYXJndW1lbnQgb2YgYmluYXJ5IG9wXHJcbi8vICAgICAgICAgICAgIHdoaWxlKGlzQShmaW5kTGhzLm1vZGVsLCBJbXBsaWNpdENvbnZlcnNpb24pKXtcclxuLy8gICAgICAgICAgICAgICAgIGZpbmRMaHMgPSBmaW5kTGhzLmNoaWxkSW5zdGFuY2VzLmZyb207IC8vIHN0cmlwIGNvbnZlcnNpb25zIG9mZiBsZWZ0IG9wZXJhbmRcclxuLy8gICAgICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAgICAgdmFyIGxocyA9IGZpbmRMaHMuZXZhbFJlc3VsdDtcclxuLy8gICAgICAgICAgICAgdmFyIHJocyA9IGluc3QucmhzLmV2YWxSZXN1bHQ7XHJcblxyXG4vLyAgICAgICAgICAgICBsaHMud3JpdGVWYWx1ZShyaHMpO1xyXG5cclxuLy8gICAgICAgICAgICAgaW5zdC5zZXRFdmFsUmVzdWx0KGxocyk7XHJcbi8vICAgICAgICAgICAgIHRoaXMuZG9uZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgaXNUYWlsQ2hpbGQgOiBmdW5jdGlvbihjaGlsZCl7XHJcbi8vICAgICAgICAgcmV0dXJuIHtpc1RhaWw6IGZhbHNlLFxyXG4vLyAgICAgICAgICAgICByZWFzb246IFwiVGhlIGNvbXBvdW5kIGFzc2lnbm1lbnQgaXRzZWxmIHdpbGwgaGFwcGVuIGFmdGVyIHRoZSByZWN1cnNpdmUgY2FsbCByZXR1cm5zLlwiLFxyXG4vLyAgICAgICAgICAgICBvdGhlcnM6IFt0aGlzXVxyXG4vLyAgICAgICAgIH07XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkKGxlZnQ6IG51bWJlciwgcmlnaHQ6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIGxlZnQgKyByaWdodDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHN1YihsZWZ0OiBudW1iZXIsIHJpZ2h0OiBudW1iZXIpIHtcclxuICAgIHJldHVybiBsZWZ0IC0gcmlnaHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtdWx0KGxlZnQ6IG51bWJlciwgcmlnaHQ6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIGxlZnQgKiByaWdodDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGludERpdihsZWZ0OiBudW1iZXIsIHJpZ2h0OiBudW1iZXIpe1xyXG4gICAgcmV0dXJuIE1hdGgudHJ1bmMobGVmdCAvIHJpZ2h0KTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmbG9hdERpdihsZWZ0OiBudW1iZXIsIHJpZ2h0OiBudW1iZXIpe1xyXG4gICAgcmV0dXJuIGxlZnQgLyByaWdodDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtb2QobGVmdDogbnVtYmVyLCByaWdodDogbnVtYmVyKXtcclxuICAgIHJldHVybiBsZWZ0IC0gaW50RGl2KGxlZnQsIHJpZ2h0KSpyaWdodDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGx0KGxlZnQ6IG51bWJlciwgcmlnaHQ6IG51bWJlcil7XHJcbiAgICByZXR1cm4gbGVmdCA8IHJpZ2h0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ3QobGVmdDogbnVtYmVyLCByaWdodDogbnVtYmVyKXtcclxuICAgIHJldHVybiBsZWZ0ID4gcmlnaHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsdGUobGVmdDogbnVtYmVyLCByaWdodDogbnVtYmVyKXtcclxuICAgIHJldHVybiBsZWZ0IDw9IHJpZ2h0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ3RlKGxlZnQ6IG51bWJlciwgcmlnaHQ6IG51bWJlcil7XHJcbiAgICByZXR1cm4gbGVmdCA+PSByaWdodDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVxKGxlZnQ6IG51bWJlciwgcmlnaHQ6IG51bWJlcil7XHJcbiAgICByZXR1cm4gbGVmdCA9PSByaWdodDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG5lKGxlZnQ6IG51bWJlciwgcmlnaHQ6IG51bWJlcil7XHJcbiAgICByZXR1cm4gbGVmdCA9PSByaWdodDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJpdEFuZChsZWZ0OiBudW1iZXIsIHJpZ2h0OiBudW1iZXIpe1xyXG4gICAgcmV0dXJuIGxlZnQgJiByaWdodDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJpdFhvcihsZWZ0OiBudW1iZXIsIHJpZ2h0OiBudW1iZXIpe1xyXG4gICAgcmV0dXJuIGxlZnQgXiByaWdodDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJpdE9yKGxlZnQ6IG51bWJlciwgcmlnaHQ6IG51bWJlcil7XHJcbiAgICByZXR1cm4gbGVmdCB8IHJpZ2h0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYml0U2hpZnRMZWZ0KGxlZnQ6IG51bWJlciwgcmlnaHQ6IG51bWJlcil7XHJcbiAgICByZXR1cm4gbGVmdCA8PCByaWdodDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJpdFNoaWZ0UmlnaHQobGVmdDogbnVtYmVyLCByaWdodDogbnVtYmVyKXtcclxuICAgIHJldHVybiBsZWZ0ID4+PiByaWdodDsgLy8gVE9ETzogaXMgdGhlIHNpZ24gcHJlc2VydmluZyBiaXQgc2hpZnQgcmlnaHQgbW9yZSBjb25zaXN0ZW50IHdpdGggQysrP1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBCaW5hcnlPcGVyYXRvckV4cHJlc3Npb25BU1ROb2RlID1cclxuICAgIEFyaXRobWV0aWNCaW5hcnlPcGVyYXRvckV4cHJlc3Npb25BU1ROb2RlIHxcclxuICAgIFJlbGF0aW9uYWxCaW5hcnlPcGVyYXRvckV4cHJlc3Npb25BU1ROb2RlIHxcclxuICAgIExvZ2ljYWxCaW5hcnlPcGVyYXRvckV4cHJlc3Npb25BU1ROb2RlO1xyXG5cclxudHlwZSB0X0JpbmFyeU9wZXJhdG9ycyA9IHRfQXJpdGhtZXRpY0JpbmFyeU9wZXJhdG9ycyB8IHRfUmVsYXRpb25hbEJpbmFyeU9wZXJhdG9ycyB8IHRfTG9naWNhbEJpbmFyeU9wZXJhdG9ycztcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCaW5hcnlPcGVyYXRvciBleHRlbmRzIEV4cHJlc3Npb24ge1xyXG4gICAgXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcmVhZG9ubHkgdHlwZT86IEF0b21pY1R5cGU7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmFsdWVDYXRlZ29yeSA9IFwicHJ2YWx1ZVwiO1xyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCByZWFkb25seSBsZWZ0OiBFeHByZXNzaW9uO1xyXG4gICAgcHVibGljIGFic3RyYWN0IHJlYWRvbmx5IHJpZ2h0OiBFeHByZXNzaW9uO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBvcGVyYXRvcjogdF9CaW5hcnlPcGVyYXRvcnM7XHJcbiAgICBcclxuICAgIHB1YmxpYyByZWFkb25seSBfdF9jb21waWxlZCE6IENvbXBpbGVkQmluYXJ5T3BlcmF0b3I7XHJcblxyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0LCBvcGVyYXRvcjogdF9CaW5hcnlPcGVyYXRvcnMpIHtcclxuICAgICAgICBzdXBlcihjb250ZXh0KVxyXG4gICAgICAgIHRoaXMub3BlcmF0b3IgPSBvcGVyYXRvcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgY3JlYXRlUnVudGltZUV4cHJlc3Npb248VCBleHRlbmRzIEF0b21pY1R5cGU+KHRoaXM6IENvbXBpbGVkQmluYXJ5T3BlcmF0b3I8VD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lQmluYXJ5T3BlcmF0b3I8VD47XHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgY3JlYXRlUnVudGltZUV4cHJlc3Npb248VCBleHRlbmRzIFR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5Pih0aGlzOiBDb21waWxlZEV4cHJlc3Npb248VCxWPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IG5ldmVyO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkQmluYXJ5T3BlcmF0b3I8VCBleHRlbmRzIEF0b21pY1R5cGUgPSBBdG9taWNUeXBlPiBleHRlbmRzIEJpbmFyeU9wZXJhdG9yLCBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcbiAgICByZWFkb25seSB0ZW1wb3JhcnlEZWFsbG9jYXRvcj86IENvbXBpbGVkVGVtcG9yYXJ5RGVhbGxvY2F0b3I7IC8vIHRvIG1hdGNoIENvbXBpbGVkUG90ZW50aWFsRnVsbEV4cHJlc3Npb24gc3RydWN0dXJlXHJcbiAgICByZWFkb25seSB0eXBlOiBUO1xyXG4gICAgcmVhZG9ubHkgbGVmdDogQ29tcGlsZWRFeHByZXNzaW9uPEF0b21pY1R5cGUsIFwicHJ2YWx1ZVwiPlxyXG4gICAgcmVhZG9ubHkgcmlnaHQ6IENvbXBpbGVkRXhwcmVzc2lvbjxBdG9taWNUeXBlLCBcInBydmFsdWVcIj5cclxufVxyXG5cclxuLy8gVE9ETzogSSB0aGluayB0aGlzIGNsYXNzIHNob3VsZG4ndCBleGlzdC4gSXQgc2hvdWxkIHByb2JhYmx5IGp1c3QgYmUgUnVudGltZUFyaXRobWV0aWNCaW5hcnlPcGVyYXRvci5cclxuLy8gSXQgZ2l2ZXMgdGhlIGltcHJlc3Npb25cclxuLy8gdGhhdCB0aGlzIHdvdWxkIGJlIGEgYmFzZSBmb3IgYWxsIFJ1bnRpbWUgY2xhc3NlcyBmb3IgYmluYXJ5IG9wZXJhdG9ycywgYnV0IGl0IGlzbid0IGZvclxyXG4vLyBSdW50aW1lTG9naWNhbEJpbmFyeU9wZXJhdG9yIHNpbmNlIHRoYXQgb25lIHJ1bnMgZGlmZmVyZW50bHkgdG8gaGFuZGxlIHNob3J0LWNpcmN1aXQgYmVoYXZpb3JcclxuLy8gY29ycmVjdGx5LlxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgUnVudGltZUJpbmFyeU9wZXJhdG9yPFQgZXh0ZW5kcyBBdG9taWNUeXBlID0gQXRvbWljVHlwZSwgQyBleHRlbmRzIENvbXBpbGVkQmluYXJ5T3BlcmF0b3I8VD4gPSBDb21waWxlZEJpbmFyeU9wZXJhdG9yPFQ+PiBleHRlbmRzIFNpbXBsZVJ1bnRpbWVFeHByZXNzaW9uPFQsIFwicHJ2YWx1ZVwiLCBDPiB7XHJcblxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEFyaXRobWV0aWNCaW5hcnlPcGVyYXRvckV4cHJlc3Npb25BU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJhcml0aG1ldGljX2JpbmFyeV9vcGVyYXRvcl9leHByZXNzaW9uXCI7XHJcbiAgICByZWFkb25seSBvcGVyYXRvcjogdF9Bcml0aG1ldGljQmluYXJ5T3BlcmF0b3JzO1xyXG4gICAgcmVhZG9ubHkgbGVmdDogRXhwcmVzc2lvbkFTVE5vZGU7XHJcbiAgICByZWFkb25seSByaWdodDogRXhwcmVzc2lvbkFTVE5vZGU7XHJcbiAgICByZWFkb25seSBhc3NvY2lhdGl2aXR5OiBcImxlZnRcIjtcclxufVxyXG5cclxudHlwZSB0X0FyaXRobWV0aWNCaW5hcnlPcGVyYXRvcnMgPSBcIitcIiB8IFwiLVwiIHwgXCIqXCIgfCBcIi9cIiB8IFwiJVwiIHwgXCImXCIgfCBcIl5cIiB8IFwifFwiIHwgXCI8PFwiIHwgXCI+PlwiIHwgXCI8XCIgfCBcIj5cIiB8IFwiPD1cIiB8IFwiPj1cIiB8IFwiPT1cIiB8IFwiIT1cIjtcclxuXHJcbi8vIE5vdGU6IEF0b21pY1R5cGUgaGVyZSBpcyBtdWNoIHdpZGVyIHRoYW4gbmVlZGVkLiBUIHNob3VsZCB0aGVvcmV0aWNhbGx5IG9ubHkgZXZlciBiZSBJbnQsIERvdWJsZSwgb3IgRmxvYXRcclxuY29uc3QgQVJJVEhNRVRJQ19CSU5BUllfT1BFUkFUSU9OUyA6IHtbaW5kZXg6c3RyaW5nXTogPFQgZXh0ZW5kcyBBdG9taWNUeXBlPihsZWZ0OiBWYWx1ZTxUPiwgcmlnaHQ6IFZhbHVlPFQ+KSA9PiBWYWx1ZTxUPn1cclxuICAgID0ge1xyXG4gICAgXCIrXCIgOiBmdW5jdGlvbjxUIGV4dGVuZHMgQXRvbWljVHlwZT4obGVmdDogVmFsdWU8VD4sIHJpZ2h0OiBWYWx1ZTxUPikge1xyXG4gICAgICAgIHJldHVybiBsZWZ0LmNvbWJpbmUocmlnaHQsIGFkZCk7XHJcbiAgICB9LFxyXG4gICAgXCItXCIgOiBmdW5jdGlvbjxUIGV4dGVuZHMgQXRvbWljVHlwZT4obGVmdDogVmFsdWU8VD4sIHJpZ2h0OiBWYWx1ZTxUPikge1xyXG4gICAgICAgIHJldHVybiBsZWZ0LmNvbWJpbmUocmlnaHQsIHN1Yik7XHJcbiAgICB9LFxyXG4gICAgXCIqXCIgOiBmdW5jdGlvbjxUIGV4dGVuZHMgQXRvbWljVHlwZT4obGVmdDogVmFsdWU8VD4sIHJpZ2h0OiBWYWx1ZTxUPikge1xyXG4gICAgICAgIHJldHVybiBsZWZ0LmNvbWJpbmUocmlnaHQsIG11bHQpO1xyXG4gICAgfSxcclxuICAgIFwiL1wiIDogZnVuY3Rpb248VCBleHRlbmRzIEF0b21pY1R5cGU+KGxlZnQ6IFZhbHVlPFQ+LCByaWdodDogVmFsdWU8VD4pIHtcclxuICAgICAgICBpZiAobGVmdC50eXBlLmlzSW50ZWdyYWxUeXBlKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGxlZnQuY29tYmluZShyaWdodCwgaW50RGl2KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBsZWZ0LmNvbWJpbmUocmlnaHQsIGZsb2F0RGl2KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgXCIlXCIgOiBmdW5jdGlvbjxUIGV4dGVuZHMgQXRvbWljVHlwZT4obGVmdDogVmFsdWU8VD4sIHJpZ2h0OiBWYWx1ZTxUPikge1xyXG4gICAgICAgIHJldHVybiBsZWZ0LmNvbWJpbmUocmlnaHQsIG1vZCk7XHJcbiAgICB9LFxyXG4gICAgXCImXCIgOiBmdW5jdGlvbjxUIGV4dGVuZHMgQXRvbWljVHlwZT4obGVmdDogVmFsdWU8VD4sIHJpZ2h0OiBWYWx1ZTxUPikge1xyXG4gICAgICAgIHJldHVybiBsZWZ0LmNvbWJpbmUocmlnaHQsIGJpdEFuZCk7XHJcbiAgICB9LFxyXG4gICAgXCJeXCIgOiBmdW5jdGlvbjxUIGV4dGVuZHMgQXRvbWljVHlwZT4obGVmdDogVmFsdWU8VD4sIHJpZ2h0OiBWYWx1ZTxUPikge1xyXG4gICAgICAgIHJldHVybiBsZWZ0LmNvbWJpbmUocmlnaHQsIGJpdFhvcik7XHJcbiAgICB9LFxyXG4gICAgXCJ8XCIgOiBmdW5jdGlvbjxUIGV4dGVuZHMgQXRvbWljVHlwZT4obGVmdDogVmFsdWU8VD4sIHJpZ2h0OiBWYWx1ZTxUPikge1xyXG4gICAgICAgIHJldHVybiBsZWZ0LmNvbWJpbmUocmlnaHQsIGJpdE9yKTtcclxuICAgIH0sXHJcbiAgICBcIjw8XCIgOiBmdW5jdGlvbjxUIGV4dGVuZHMgQXRvbWljVHlwZT4obGVmdDogVmFsdWU8VD4sIHJpZ2h0OiBWYWx1ZTxUPikge1xyXG4gICAgICAgIHJldHVybiBsZWZ0LmNvbWJpbmUocmlnaHQsIGJpdFNoaWZ0TGVmdCk7XHJcbiAgICB9LFxyXG4gICAgXCI+PlwiIDogZnVuY3Rpb248VCBleHRlbmRzIEF0b21pY1R5cGU+KGxlZnQ6IFZhbHVlPFQ+LCByaWdodDogVmFsdWU8VD4pIHtcclxuICAgICAgICByZXR1cm4gbGVmdC5jb21iaW5lKHJpZ2h0LCBiaXRTaGlmdFJpZ2h0KTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gVE9ETzogbWFrZSB0eXBlcyBtb3JlIHNwZWNpZmljLiBBcml0aG1ldGljQmluYXJ5T3BlcmF0b3Igc2hvdWxkIG9ubHkgYmUgdXNlZCBpbiBjYXNlcyB3aGVyZSBpdCBoYXNcclxuLy8gYWxyZWFkeSBiZWVuIGRldGVybWluZWQgdGhhdCBib3RoIG9wZXJhbmRzIGhhdmUgYXJpdGhtZXRpYyB0eXBlLiBFaXRoZXIgdGhhdCBvciBpdCBzaG91bGQgYmUgdXNlZFxyXG4vLyBpbiBjYXNlcyB3aGVyZSBhbiBvcGVyYXRvciByZXF1aXJlcyBhcml0aG1ldGljIG9wZXJhbmRzLCBidXQgbm90IHN1cmUuIEZvciBleGFtcGxlLCB3aGF0IGlmIHNvbWVvbmVcclxuLy8gdHJpZXMgdG8gYWRkIGEgcG9pbnRlciB0eXBlIGFuZCBhIGNsYXNzIHR5cGUgd2l0aCB0aGUgKyBvcGVyYXRvciAoYXNzdW1pbmcgb3ZlcmxvYWRzIGFscmVhZHkgY2hlY2tlZFxyXG4vLyBhbmQgbm9uZSBmb3VuZCkuIFdoYXQgVFMgY2xhc3MgZG8gd2Ugd2FudCB0byBnZXQgdXNlZCwgcyB0aGF0IHRoZSBlcnJvciBtZXNzYWdlcyBhcmUgYXMgZ29vZCBhcyBwb3NzaWJsZT9cclxuLy8gQ29uc2lkZXJpbmcgdGhpZSBhbmQgTG9naWNhbEJpbmFyeU9wZXJhdG9yIHRvZ2V0aGVyLCBpdCBhY3R1YWxseSBzZWVtcyBiZXN0IHRvIGNyZWF0ZSB0aGlzIGluIGEgd2F5IHRoYXRcclxuLy8gaXMgYmFzZWQgb24gdGhlIG9wZXJhdG9yIHVzZWQgYW5kIGFjdHVhbGx5IGFsbG93cyBmb3IgaW1wcm9wZXIgdHlwZXMuIFRoYXQgc2hvdWxkIHJlc3VsdCBpbiB0aGUgbW9zdCByZWxldmFudFxyXG4vLyBlcnJvciBtZXNzYWdlcy4gKE9mIGNvdXJzZSwgb3ZlcmxvYWRzIGFyZSBzdGlsbCBjaGVja2VkIGZvciBmaXJzdCwgYW5kIHRoZSBzcGVjaWZpYyBwb2ludGVyIG9mZnNldCBhbmRcclxuLy8gcG9pbnRlciBkaWZmZXJlbmNlIGNhc2VzIHNob3VsZCBhbHNvIGJlIGNoZWNrZWQgZm9yIGZpcnN0LiBTbyB0aGVzZSBhcmUgdGhlIGZhbGxiYWNrIG9wdGlvbnMuKVxyXG5jbGFzcyBBcml0aG1ldGljQmluYXJ5T3BlcmF0b3JFeHByZXNzaW9uIGV4dGVuZHMgQmluYXJ5T3BlcmF0b3Ige1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZT86IEFyaXRobWV0aWNUeXBlO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBsZWZ0OiBFeHByZXNzaW9uO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHJpZ2h0OiBFeHByZXNzaW9uO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBvcGVyYXRvciE6IHRfQXJpdGhtZXRpY0JpbmFyeU9wZXJhdG9yczsgLy8gTmFycm93cyB0eXBlIGZyb20gYmFzZVxyXG5cclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3Rvcihjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCwgbGVmdDogRXhwcmVzc2lvbiwgcmlnaHQ6IEV4cHJlc3Npb24sIG9wZXJhdG9yOiB0X0FyaXRobWV0aWNCaW5hcnlPcGVyYXRvcnMpIHtcclxuICAgICAgICBzdXBlcihjb250ZXh0LCBvcGVyYXRvcik7XHJcblxyXG4gICAgICAgIGlmICghbGVmdC5pc1dlbGxUeXBlZCgpIHx8ICFyaWdodC5pc1dlbGxUeXBlZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoKHRoaXMubGVmdCA9IGxlZnQpO1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLnJpZ2h0ID0gcmlnaHQpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEFyaXRobWV0aWMgdHlwZXMgYXJlIHJlcXVpcmVkXHJcbiAgICAgICAgaWYgKCFsZWZ0LmlzQXJpdGhtZXRpY1R5cGVkKCkgfHwgIXJpZ2h0LmlzQXJpdGhtZXRpY1R5cGVkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIuYmluYXJ5LmFyaXRobWV0aWNfb3BlcmFuZHModGhpcywgdGhpcy5vcGVyYXRvciwgbGVmdCwgcmlnaHQpKTtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2godGhpcy5sZWZ0ID0gbGVmdCk7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoKHRoaXMucmlnaHQgPSByaWdodCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vICUgb3BlcmF0b3IgYW5kIHNoaWZ0IG9wZXJhdG9ycyByZXF1aXJlIGludGVncmFsIG9wZXJhbmRzXHJcbiAgICAgICAgaWYgKChvcGVyYXRvciA9PT0gXCIlXCIgfHwgb3BlcmF0b3IgPT09IFwiPDxcIiB8fCBvcGVyYXRvciA9PSBcIj4+XCIpICYmXHJcbiAgICAgICAgICAgICghbGVmdC5pc0ludGVncmFsVHlwZWQoKSB8fCAhcmlnaHQuaXNJbnRlZ3JhbFR5cGVkKCkpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmJpbmFyeS5hcml0aG1ldGljX29wZXJhbmRzKHRoaXMsIHRoaXMub3BlcmF0b3IsIGxlZnQsIHJpZ2h0KSk7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoKHRoaXMubGVmdCA9IGxlZnQpO1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLnJpZ2h0ID0gcmlnaHQpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgW2NvbnZlcnRlZExlZnQsIGNvbnZlcnRlZFJpZ2h0XSA9IHVzdWFsQXJpdGhtZXRpY0NvbnZlcnNpb25zKGxlZnQsIHJpZ2h0KTtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFzYW1lVHlwZShjb252ZXJ0ZWRMZWZ0LnR5cGUhLCBjb252ZXJ0ZWRSaWdodC50eXBlISkpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIuaW52YWxpZF9iaW5hcnlfb3BlcmFuZHModGhpcywgdGhpcy5vcGVyYXRvciwgY29udmVydGVkTGVmdCwgY29udmVydGVkUmlnaHQpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudHlwZSA9IGNvbnZlcnRlZExlZnQudHlwZTtcclxuICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLmxlZnQgPSBjb252ZXJ0ZWRMZWZ0KTtcclxuICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLnJpZ2h0ID0gY29udmVydGVkUmlnaHQpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUZyb21BU1QoYXN0OiBBcml0aG1ldGljQmluYXJ5T3BlcmF0b3JFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpIDogQXJpdGhtZXRpY0JpbmFyeU9wZXJhdG9yRXhwcmVzc2lvbiB8IFBvaW50ZXJEaWZmZXJlbmNlIHwgUG9pbnRlck9mZnNldCB7XHJcbiAgICAgICAgbGV0IGxlZnQgOiBFeHByZXNzaW9uID0gY3JlYXRlRXhwcmVzc2lvbkZyb21BU1QoYXN0LmxlZnQsIGNvbnRleHQpO1xyXG4gICAgICAgIGxldCByaWdodCA6IEV4cHJlc3Npb24gPSBjcmVhdGVFeHByZXNzaW9uRnJvbUFTVChhc3QucmlnaHQsIGNvbnRleHQpO1xyXG4gICAgICAgIGxldCBvcCA9IGFzdC5vcGVyYXRvcjtcclxuXHJcbiAgICAgICAgLy8gSWYgb3BlcmF0b3IgaXMgXCItXCIgYW5kIGJvdGggYXJlIHBvaW50ZXJzLCBpdCdzIGEgcG9pbnRlciBkaWZmZXJlbmNlXHJcbiAgICAgICAgaWYgKG9wID09PSBcIi1cIiAmJiAobGVmdC5pc1BvaW50ZXJUeXBlZCgpIHx8IGxlZnQuaXNCb3VuZGVkQXJyYXlUeXBlZCgpKSAmJiAocmlnaHQuaXNQb2ludGVyVHlwZWQoKSB8fCByaWdodC5pc0JvdW5kZWRBcnJheVR5cGVkKCkpKSB7XHJcbiAgICAgICAgICAgIC8vIGNhc3RzIGJlbG93IGFyZSBuZWNlc3NhcnkgYmVjYXVzZSBjb252ZXJ0VG9QUlZhbHVlKCkgb3ZlcmxvYWRzIGNhbid0IGVsZWdhbnRseVxyXG4gICAgICAgICAgICAvLyBoYW5kbGUgdGhlIHVuaW9uIGJldHdlZW4gcG9pbnRlciBhbmQgYXJyYXkgdHlwZXMuIFdpdGhvdXQgdGhlIGNhc3RzLCB3ZSd2ZSBoYXZlXHJcbiAgICAgICAgICAgIC8vIHRvIHNlcGFyYXRlIHRoaXMgb3V0IGludG8gdGhlIDQgZGlmZmVyZW50IGNhc2VzIG9mIGFycmF5L2FycmF5LCBhcnJheS9wb2ludGVyLFxyXG4gICAgICAgICAgICAvLyBwb2ludGVyL2FycmF5LCBwb2ludGVyL3BvaW50ZXIsIHdoaWNoIHdvdWxkIGJlIGFubm95aW5nXHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUG9pbnRlckRpZmZlcmVuY2UoY29udGV4dCxcclxuICAgICAgICAgICAgICAgIDxUeXBlZEV4cHJlc3Npb248UG9pbnRlclR5cGUsIFwicHJ2YWx1ZVwiPj5jb252ZXJ0VG9QUlZhbHVlKGxlZnQpLFxyXG4gICAgICAgICAgICAgICAgPFR5cGVkRXhwcmVzc2lvbjxQb2ludGVyVHlwZSwgXCJwcnZhbHVlXCI+PmNvbnZlcnRUb1BSVmFsdWUocmlnaHQpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIG9wZXJhdG9yIGlzIFwiLVwiIG9yIFwiK1wiIGFuZCBpdCdzIGEgY29tYmluYXRpb24gb2YgcG9pbnRlciBwbHVzIGludGVnZXIsIGl0J3MgYSBwb2ludGVyIG9mZnNldFxyXG4gICAgICAgIGlmIChvcCA9PT0gXCItXCIgfHwgb3AgPT09IFwiK1wiKSB7XHJcbiAgICAgICAgICAgIGlmKChsZWZ0LmlzUG9pbnRlclR5cGVkKCkgfHwgbGVmdC5pc0JvdW5kZWRBcnJheVR5cGVkKCkpICYmIHJpZ2h0LmlzSW50ZWdyYWxUeXBlZCgpIHx8XHJcbiAgICAgICAgICAgICAgIChyaWdodC5pc1BvaW50ZXJUeXBlZCgpIHx8IHJpZ2h0LmlzQm91bmRlZEFycmF5VHlwZWQoKSkgJiYgbGVmdC5pc0ludGVncmFsVHlwZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludGVyT2Zmc2V0KGNvbnRleHQsXHJcbiAgICAgICAgICAgICAgICAgICAgPFR5cGVkRXhwcmVzc2lvbjxQb2ludGVyVHlwZSwgXCJwcnZhbHVlXCI+PmNvbnZlcnRUb1BSVmFsdWUobGVmdCksXHJcbiAgICAgICAgICAgICAgICAgICAgPFR5cGVkRXhwcmVzc2lvbjxQb2ludGVyVHlwZSwgXCJwcnZhbHVlXCI+PmNvbnZlcnRUb1BSVmFsdWUocmlnaHQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBBcml0aG1ldGljQmluYXJ5T3BlcmF0b3JFeHByZXNzaW9uKGNvbnRleHQsIGxlZnQsIHJpZ2h0LCBvcCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPFQgZXh0ZW5kcyBBcml0aG1ldGljVHlwZT4odGhpczogQ29tcGlsZWRBcml0aG1ldGljQmluYXJ5T3BlcmF0b3I8VD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lQXJpdGhtZXRpY0JpbmFyeU9wZXJhdG9yPFQ+O1xyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPFQgZXh0ZW5kcyBUeXBlLCBWIGV4dGVuZHMgVmFsdWVDYXRlZ29yeT4odGhpczogQ29tcGlsZWRFeHByZXNzaW9uPFQsVj4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBuZXZlcjtcclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbjxUIGV4dGVuZHMgQXJpdGhtZXRpY1R5cGU+KHRoaXM6IENvbXBpbGVkQXJpdGhtZXRpY0JpbmFyeU9wZXJhdG9yPFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZUFyaXRobWV0aWNCaW5hcnlPcGVyYXRvcjxUPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSdW50aW1lQXJpdGhtZXRpY0JpbmFyeU9wZXJhdG9yKHRoaXMsIHBhcmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlc2NyaWJlRXZhbFJlc3VsdChkZXB0aDogbnVtYmVyKTogRGVzY3JpcHRpb24ge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkQXJpdGhtZXRpY0JpbmFyeU9wZXJhdG9yPFQgZXh0ZW5kcyBBcml0aG1ldGljVHlwZT4gZXh0ZW5kcyBBcml0aG1ldGljQmluYXJ5T3BlcmF0b3JFeHByZXNzaW9uLCBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcblxyXG4gICAgcmVhZG9ubHkgdGVtcG9yYXJ5RGVhbGxvY2F0b3I/OiBDb21waWxlZFRlbXBvcmFyeURlYWxsb2NhdG9yOyAvLyB0byBtYXRjaCBDb21waWxlZFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uIHN0cnVjdHVyZVxyXG4gICAgcmVhZG9ubHkgdHlwZTogVDtcclxuXHJcbiAgICByZWFkb25seSBsZWZ0OiBDb21waWxlZEV4cHJlc3Npb248VCxcInBydmFsdWVcIj47XHJcbiAgICByZWFkb25seSByaWdodDogQ29tcGlsZWRFeHByZXNzaW9uPFQsXCJwcnZhbHVlXCI+O1xyXG59XHJcblxyXG4vLyBUT0RPOiByZW5hbWUgdGhpcyBvciBtYXliZSBjcmVhdGUgdHdvIHNlcGFyYXRlIGNsYXNzZXMgZm9yIEFyaXRobWV0aWMgYW5kIExvZ2ljYWxcclxuZXhwb3J0IGNsYXNzIFJ1bnRpbWVBcml0aG1ldGljQmluYXJ5T3BlcmF0b3I8VCBleHRlbmRzIEFyaXRobWV0aWNUeXBlPiBleHRlbmRzIFJ1bnRpbWVCaW5hcnlPcGVyYXRvcjxULCBDb21waWxlZEFyaXRobWV0aWNCaW5hcnlPcGVyYXRvcjxUPj4ge1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVmdDogUnVudGltZUV4cHJlc3Npb248VCwgXCJwcnZhbHVlXCI+O1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHJpZ2h0OiBSdW50aW1lRXhwcmVzc2lvbjxULCBcInBydmFsdWVcIj47XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChtb2RlbDogQ29tcGlsZWRBcml0aG1ldGljQmluYXJ5T3BlcmF0b3I8VD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgICAgIHN1cGVyKG1vZGVsLCBwYXJlbnQpO1xyXG4gICAgICAgIHRoaXMubGVmdCA9IHRoaXMubW9kZWwubGVmdC5jcmVhdGVSdW50aW1lRXhwcmVzc2lvbih0aGlzKTtcclxuICAgICAgICB0aGlzLnJpZ2h0ID0gdGhpcy5tb2RlbC5yaWdodC5jcmVhdGVSdW50aW1lRXhwcmVzc2lvbih0aGlzKTtcclxuICAgICAgICB0aGlzLnNldFN1YmV4cHJlc3Npb25zKFt0aGlzLmxlZnQsIHRoaXMucmlnaHRdKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb3BlcmF0ZSgpIHtcclxuICAgICAgICAvLyBOb3Qgc3VyZSB3aHkgdGhlIGNhc3QgaGVyZSBpcyBuZWNlc3NhcnkgYnV0IGFwcGFyZW50bHkgVHlwZXNjcmlwdCBuZWVkcyBpdFxyXG4gICAgICAgIHRoaXMuc2V0RXZhbFJlc3VsdCg8VkNSZXN1bHRUeXBlczxULFwicHJ2YWx1ZVwiPj5BUklUSE1FVElDX0JJTkFSWV9PUEVSQVRJT05TW3RoaXMubW9kZWwub3BlcmF0b3JdKHRoaXMubGVmdC5ldmFsUmVzdWx0LCB0aGlzLnJpZ2h0LmV2YWxSZXN1bHQpKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFBvaW50ZXJEaWZmZXJlbmNlIGV4dGVuZHMgQmluYXJ5T3BlcmF0b3Ige1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZTogSW50O1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHZhbHVlQ2F0ZWdvcnkgPSBcInBydmFsdWVcIjtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVmdDogVHlwZWRFeHByZXNzaW9uPFBvaW50ZXJUeXBlLCBcInBydmFsdWVcIj47XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmlnaHQ6IFR5cGVkRXhwcmVzc2lvbjxQb2ludGVyVHlwZSwgXCJwcnZhbHVlXCI+O1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBvcGVyYXRvciEgOiBcIi1cIjsgLy8gTmFycm93cyB0eXBlIGZyb20gYmFzZVxyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCwgbGVmdDogVHlwZWRFeHByZXNzaW9uPFBvaW50ZXJUeXBlLCBcInBydmFsdWVcIj4sIHJpZ2h0OiBUeXBlZEV4cHJlc3Npb248UG9pbnRlclR5cGUsIFwicHJ2YWx1ZVwiPikge1xyXG4gICAgICAgIHN1cGVyKGNvbnRleHQsIFwiLVwiKTtcclxuXHJcbiAgICAgICAgLy8gTm90IG5lY2Vzc2FyeSBhc3N1bWluZyB0aGV5IGNvbWUgaW4gYXMgcHJ2YWx1ZXMgdGhhdCBhcmUgY29uZmlybWVkIHRvIGhhdmUgcG9pbnRlciB0eXBlLlxyXG4gICAgICAgIC8vIGlmIChsZWZ0LmlzV2VsbFR5cGVkKCkgJiYgcmlnaHQuaXNXZWxsVHlwZWQoKSkge1xyXG4gICAgICAgIC8vICAgICBsZWZ0ID0gY29udmVydFRvUFJWYWx1ZShsZWZ0KTtcclxuICAgICAgICAvLyAgICAgcmlnaHQgPSBjb252ZXJ0VG9QUlZhbHVlKHJpZ2h0KTtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIHRoaXMuYXR0YWNoKHRoaXMubGVmdCA9IGxlZnQpO1xyXG4gICAgICAgIHRoaXMuYXR0YWNoKHRoaXMucmlnaHQgPSByaWdodCk7XHJcblxyXG4gICAgICAgIHRoaXMudHlwZSA9IG5ldyBJbnQoKTtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gTm90IG5lY2Vzc2FyeSBhc3N1bWluZyB0aGV5IGNvbWUgaW4gYXMgcHJ2YWx1ZXMgdGhhdCBhcmUgY29uZmlybWVkIHRvIGhhdmUgcG9pbnRlciB0eXBlLlxyXG4gICAgICAgIC8vIGlmIChsZWZ0LmlzV2VsbFR5cGVkKCkgJiYgcmlnaHQuaXNXZWxsVHlwZWQoKSkge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAvLyAgICAgaWYgKGxlZnQudHlwZS5pc1R5cGUoUG9pbnRlcikgJiYgcmlnaHQudHlwZS5pc1R5cGUoUG9pbnRlcikpIHtcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMudHlwZSA9IG5ldyBJbnQoKTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vICAgICBlbHNlIHtcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmludmFsaWRfYmluYXJ5X29wZXJhbmRzKHRoaXMsIHRoaXMub3BlcmF0b3IsIGxlZnQsIHJpZ2h0KSk7XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLnR5cGUgPSBudWxsO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGVsc2Uge1xyXG4gICAgICAgIC8vICAgICB0aGlzLnR5cGUgPSBudWxsO1xyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUV4cHJlc3Npb24odGhpczogQ29tcGlsZWRQb2ludGVyRGlmZmVyZW5jZSwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVQb2ludGVyRGlmZmVyZW5jZTtcclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbjxUIGV4dGVuZHMgUG9pbnRlclR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5Pih0aGlzOiBDb21waWxlZEV4cHJlc3Npb248VCxWPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IG5ldmVyO1xyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uKHRoaXM6IENvbXBpbGVkUG9pbnRlckRpZmZlcmVuY2UsIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lUG9pbnRlckRpZmZlcmVuY2Uge1xyXG4gICAgICAgIHJldHVybiBuZXcgUnVudGltZVBvaW50ZXJEaWZmZXJlbmNlKHRoaXMsIHBhcmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlc2NyaWJlRXZhbFJlc3VsdChkZXB0aDogbnVtYmVyKTogRGVzY3JpcHRpb24ge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkUG9pbnRlckRpZmZlcmVuY2UgZXh0ZW5kcyBQb2ludGVyRGlmZmVyZW5jZSwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4gICAgcmVhZG9ubHkgdGVtcG9yYXJ5RGVhbGxvY2F0b3I/OiBDb21waWxlZFRlbXBvcmFyeURlYWxsb2NhdG9yOyAvLyB0byBtYXRjaCBDb21waWxlZFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uIHN0cnVjdHVyZVxyXG5cclxuICAgIHJlYWRvbmx5IGxlZnQ6IENvbXBpbGVkRXhwcmVzc2lvbjxQb2ludGVyVHlwZSwgXCJwcnZhbHVlXCI+O1xyXG4gICAgcmVhZG9ubHkgcmlnaHQ6IENvbXBpbGVkRXhwcmVzc2lvbjxQb2ludGVyVHlwZSwgXCJwcnZhbHVlXCI+O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUnVudGltZVBvaW50ZXJEaWZmZXJlbmNlIGV4dGVuZHMgUnVudGltZUJpbmFyeU9wZXJhdG9yPEludCwgQ29tcGlsZWRQb2ludGVyRGlmZmVyZW5jZT4ge1xyXG5cclxuICAgIHB1YmxpYyBsZWZ0OiBSdW50aW1lRXhwcmVzc2lvbjxQb2ludGVyVHlwZSwgXCJwcnZhbHVlXCI+O1xyXG4gICAgcHVibGljIHJpZ2h0OiBSdW50aW1lRXhwcmVzc2lvbjxQb2ludGVyVHlwZSwgXCJwcnZhbHVlXCI+O1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvciAobW9kZWw6IENvbXBpbGVkUG9pbnRlckRpZmZlcmVuY2UsIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgICAgIHN1cGVyKG1vZGVsLCBwYXJlbnQpO1xyXG4gICAgICAgIHRoaXMubGVmdCA9IHRoaXMubW9kZWwubGVmdC5jcmVhdGVSdW50aW1lRXhwcmVzc2lvbih0aGlzKTtcclxuICAgICAgICB0aGlzLnJpZ2h0ID0gdGhpcy5tb2RlbC5yaWdodC5jcmVhdGVSdW50aW1lRXhwcmVzc2lvbih0aGlzKTtcclxuICAgICAgICB0aGlzLnNldFN1YmV4cHJlc3Npb25zKFt0aGlzLmxlZnQsIHRoaXMucmlnaHRdKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb3BlcmF0ZSgpIHtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5sZWZ0LmV2YWxSZXN1bHQucG9pbnRlckRpZmZlcmVuY2UodGhpcy5yaWdodC5ldmFsUmVzdWx0KTtcclxuXHJcbiAgICAgICAgbGV0IGxlZnRBcnIgPSB0aGlzLmxlZnQubW9kZWwudHlwZS5pc1R5cGUoQXJyYXlQb2ludGVyKSA/IHRoaXMubGVmdC5tb2RlbC50eXBlLmFycmF5T2JqZWN0IDogbnVsbDtcclxuICAgICAgICBsZXQgcmlnaHRBcnIgPSB0aGlzLnJpZ2h0Lm1vZGVsLnR5cGUuaXNUeXBlKEFycmF5UG9pbnRlcikgPyB0aGlzLnJpZ2h0Lm1vZGVsLnR5cGUuYXJyYXlPYmplY3QgOiBudWxsO1xyXG5cclxuICAgICAgICBpZiAocmVzdWx0LnJhd0VxdWFscygwKSkge1xyXG4gICAgICAgICAgICAvLyBJZiBpdCdzIHRoZSBzYW1lIGFkZHJlc3MsIEkgZ3Vlc3Mgd2UgY2FuIGxldCBpdCBzbGlkZS4uLlxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghbGVmdEFyciAmJiByaWdodEFycikge1xyXG4gICAgICAgICAgICB0aGlzLnNpbS5ldmVudE9jY3VycmVkKFNpbXVsYXRpb25FdmVudC5VTkRFRklORURfQkVIQVZJT1IsIFwiVGhlIGxlZnQgcG9pbnRlciBpbiB0aGlzIHN1YnRyYWN0aW9uIGlzIG5vdCBmcm9tIGFuIGFycmF5LCBzbyB0aGUgcmVzdWx0aW5nIGRpZmZlcmVuY2UgaXMgbm90IG1lYW5pbmdmdWwuXCIsIHRydWUpO1xyXG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuaW52YWxpZGF0ZWQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobGVmdEFyciAmJiAhcmlnaHRBcnIpIHtcclxuICAgICAgICAgICAgdGhpcy5zaW0uZXZlbnRPY2N1cnJlZChTaW11bGF0aW9uRXZlbnQuVU5ERUZJTkVEX0JFSEFWSU9SLCBcIlRoZSByaWdodCBwb2ludGVyIGluIHRoaXMgc3VidHJhY3Rpb24gaXMgbm90IGZyb20gYW4gYXJyYXksIHNvIHRoZSByZXN1bHRpbmcgZGlmZmVyZW5jZSBpcyBub3QgbWVhbmluZ2Z1bC5cIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5pbnZhbGlkYXRlZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChsZWZ0QXJyICYmIHJpZ2h0QXJyICYmIGxlZnRBcnIgIT09IHJpZ2h0QXJyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2ltLmV2ZW50T2NjdXJyZWQoU2ltdWxhdGlvbkV2ZW50LlVOREVGSU5FRF9CRUhBVklPUiwgXCJUaGUgcG9pbnRlcnMgaW4gdGhpcyBzdWJ0cmFjdGlvbiBhcmUgcG9pbnRpbmcgaW50byB0d28gZGlmZmVyZW50IGFycmF5cywgc28gdGhlIHJlc3VsdGluZyBkaWZmZXJlbmNlIGlzIG5vdCBtZWFuaW5nZnVsLlwiLCB0cnVlKTtcclxuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmludmFsaWRhdGVkKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldEV2YWxSZXN1bHQocmVzdWx0KTtcclxuXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQb2ludGVyT2Zmc2V0IGV4dGVuZHMgQmluYXJ5T3BlcmF0b3Ige1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZT86IFBvaW50ZXJUeXBlO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBsZWZ0OiBUeXBlZEV4cHJlc3Npb248UG9pbnRlclR5cGUsIFwicHJ2YWx1ZVwiPiB8IFR5cGVkRXhwcmVzc2lvbjxJbnRlZ3JhbFR5cGUsIFwicHJ2YWx1ZVwiPjtcclxuICAgIHB1YmxpYyByZWFkb25seSByaWdodDogVHlwZWRFeHByZXNzaW9uPFBvaW50ZXJUeXBlLCBcInBydmFsdWVcIj4gfCBUeXBlZEV4cHJlc3Npb248SW50ZWdyYWxUeXBlLCBcInBydmFsdWVcIj47XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHBvaW50ZXI/OiBUeXBlZEV4cHJlc3Npb248UG9pbnRlclR5cGUsIFwicHJ2YWx1ZVwiPjtcclxuICAgIHB1YmxpYyByZWFkb25seSBvZmZzZXQ/OiBUeXBlZEV4cHJlc3Npb248SW50ZWdyYWxUeXBlLCBcInBydmFsdWVcIj47XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHBvaW50ZXJPbkxlZnQ/OiBib29sZWFuO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBvcGVyYXRvciEgOiBcIitcIjsgLy8gTmFycm93cyB0eXBlIGZyb20gYmFzZVxyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCxcclxuICAgICAgICAgICAgbGVmdDogVHlwZWRFeHByZXNzaW9uPFBvaW50ZXJUeXBlLCBcInBydmFsdWVcIj4gfCBUeXBlZEV4cHJlc3Npb248SW50ZWdyYWxUeXBlLCBcInBydmFsdWVcIj4sXHJcbiAgICAgICAgICAgIHJpZ2h0OiBUeXBlZEV4cHJlc3Npb248UG9pbnRlclR5cGUsIFwicHJ2YWx1ZVwiPiB8IFR5cGVkRXhwcmVzc2lvbjxJbnRlZ3JhbFR5cGUsIFwicHJ2YWx1ZVwiPikge1xyXG4gICAgICAgIHN1cGVyKGNvbnRleHQsIFwiK1wiKTtcclxuXHJcbiAgICAgICAgLy8gTk9UIE5FRURFRCBBU1NVTUlORyBUSEVZIENPTUUgSU4gQUxSRUFEWSBXRUxMIFRZUEVEIEFTIEFQUFJPUFJJQVRFIEZPUiBQT0lOVEVSIE9GRlNFVFxyXG4gICAgICAgIC8vIGlmIChsZWZ0LmlzV2VsbFR5cGVkKCkgJiYgcmlnaHQuaXNXZWxsVHlwZWQoKSkge1xyXG4gICAgICAgIC8vICAgICBsZWZ0ID0gY29udmVydFRvUFJWYWx1ZShsZWZ0KTtcclxuICAgICAgICAvLyAgICAgcmlnaHQgPSBjb252ZXJ0VG9QUlZhbHVlKHJpZ2h0KTtcclxuICAgICAgICAvLyB9XHJcblxyXG5cclxuICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLmxlZnQgPSBsZWZ0KTtcclxuICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLnJpZ2h0ID0gcmlnaHQpO1xyXG5cclxuICAgICAgICBpZiAoIWxlZnQuaXNXZWxsVHlwZWQoKSB8fCAhcmlnaHQuaXNXZWxsVHlwZWQoKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICBpZiAobGVmdC5pc1BvaW50ZXJUeXBlZCgpICYmIHJpZ2h0LmlzSW50ZWdyYWxUeXBlZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucG9pbnRlck9uTGVmdCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMucG9pbnRlciA9IDxUeXBlZEV4cHJlc3Npb248UG9pbnRlclR5cGUsIFwicHJ2YWx1ZVwiPj4gbGVmdDtcclxuICAgICAgICAgICAgdGhpcy5vZmZzZXQgPSA8VHlwZWRFeHByZXNzaW9uPEludGVncmFsVHlwZSwgXCJwcnZhbHVlXCI+PiByaWdodDtcclxuICAgICAgICAgICAgdGhpcy50eXBlID0gdGhpcy5wb2ludGVyLnR5cGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGxlZnQuaXNJbnRlZ3JhbFR5cGVkKCkgJiYgcmlnaHQuaXNQb2ludGVyVHlwZWQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnBvaW50ZXJPbkxlZnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5wb2ludGVyID0gPFR5cGVkRXhwcmVzc2lvbjxQb2ludGVyVHlwZSwgXCJwcnZhbHVlXCI+PiByaWdodDtcclxuICAgICAgICAgICAgdGhpcy5vZmZzZXQgPSA8VHlwZWRFeHByZXNzaW9uPEludGVncmFsVHlwZSwgXCJwcnZhbHVlXCI+PiBsZWZ0O1xyXG4gICAgICAgICAgICB0aGlzLnR5cGUgPSB0aGlzLnBvaW50ZXIudHlwZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmludmFsaWRfYmluYXJ5X29wZXJhbmRzKHRoaXMsIHRoaXMub3BlcmF0b3IsIGxlZnQsIHJpZ2h0KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbjxUIGV4dGVuZHMgUG9pbnRlclR5cGU+KHRoaXM6IENvbXBpbGVkUG9pbnRlck9mZnNldDxUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVQb2ludGVyT2Zmc2V0PFQ+O1xyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPFQgZXh0ZW5kcyBQb2ludGVyVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnk+KHRoaXM6IENvbXBpbGVkRXhwcmVzc2lvbjxULFY+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogbmV2ZXI7XHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUV4cHJlc3Npb248VCBleHRlbmRzIFBvaW50ZXJUeXBlPih0aGlzOiBDb21waWxlZFBvaW50ZXJPZmZzZXQ8VD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lUG9pbnRlck9mZnNldDxUPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSdW50aW1lUG9pbnRlck9mZnNldCh0aGlzLCBwYXJlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZXNjcmliZUV2YWxSZXN1bHQoZGVwdGg6IG51bWJlcik6IERlc2NyaXB0aW9uIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZFBvaW50ZXJPZmZzZXQ8VCBleHRlbmRzIFBvaW50ZXJUeXBlID0gUG9pbnRlclR5cGU+IGV4dGVuZHMgUG9pbnRlck9mZnNldCwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG5cclxuICAgIHJlYWRvbmx5IHRlbXBvcmFyeURlYWxsb2NhdG9yPzogQ29tcGlsZWRUZW1wb3JhcnlEZWFsbG9jYXRvcjsgLy8gdG8gbWF0Y2ggQ29tcGlsZWRQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiBzdHJ1Y3R1cmVcclxuXHJcbiAgICByZWFkb25seSB0eXBlOiBUO1xyXG5cclxuICAgIHJlYWRvbmx5IGxlZnQ6IENvbXBpbGVkRXhwcmVzc2lvbjxULCBcInBydmFsdWVcIj4gfCBDb21waWxlZEV4cHJlc3Npb248SW50ZWdyYWxUeXBlLCBcInBydmFsdWVcIj47XHJcbiAgICByZWFkb25seSByaWdodDogQ29tcGlsZWRFeHByZXNzaW9uPFQsIFwicHJ2YWx1ZVwiPiB8IENvbXBpbGVkRXhwcmVzc2lvbjxJbnRlZ3JhbFR5cGUsIFwicHJ2YWx1ZVwiPjtcclxuICAgIFxyXG4gICAgcmVhZG9ubHkgcG9pbnRlcjogQ29tcGlsZWRFeHByZXNzaW9uPFQsIFwicHJ2YWx1ZVwiPjtcclxuICAgIHJlYWRvbmx5IG9mZnNldDogQ29tcGlsZWRFeHByZXNzaW9uPEludGVncmFsVHlwZSwgXCJwcnZhbHVlXCI+O1xyXG4gICAgXHJcbiAgICByZWFkb25seSBwb2ludGVyT25MZWZ0PzogYm9vbGVhbjtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBSdW50aW1lUG9pbnRlck9mZnNldDxUIGV4dGVuZHMgUG9pbnRlclR5cGUgPSBQb2ludGVyVHlwZT4gZXh0ZW5kcyBSdW50aW1lQmluYXJ5T3BlcmF0b3I8VCwgQ29tcGlsZWRQb2ludGVyT2Zmc2V0PFQ+PiB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGxlZnQ6IFJ1bnRpbWVFeHByZXNzaW9uPFQsIFwicHJ2YWx1ZVwiPiB8IFJ1bnRpbWVFeHByZXNzaW9uPEludGVncmFsVHlwZSwgXCJwcnZhbHVlXCI+OyAvLyBuYXJyb3dzIHR5cGUgb2YgbWVtYmVyIGluIGJhc2UgY2xhc3NcclxuICAgIHB1YmxpYyByZWFkb25seSByaWdodDogUnVudGltZUV4cHJlc3Npb248VCwgXCJwcnZhbHVlXCI+IHwgUnVudGltZUV4cHJlc3Npb248SW50ZWdyYWxUeXBlLCBcInBydmFsdWVcIj47IC8vIG5hcnJvd3MgdHlwZSBvZiBtZW1iZXIgaW4gYmFzZSBjbGFzc1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBwb2ludGVyOiBSdW50aW1lRXhwcmVzc2lvbjxULCBcInBydmFsdWVcIj47XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgb2Zmc2V0OiBSdW50aW1lRXhwcmVzc2lvbjxJbnRlZ3JhbFR5cGUsIFwicHJ2YWx1ZVwiPjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IgKG1vZGVsOiBDb21waWxlZFBvaW50ZXJPZmZzZXQ8VD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgICAgIHN1cGVyKG1vZGVsLCBwYXJlbnQpO1xyXG4gICAgICAgIHRoaXMucG9pbnRlciA9IHRoaXMubW9kZWwucG9pbnRlci5jcmVhdGVSdW50aW1lRXhwcmVzc2lvbih0aGlzKTtcclxuICAgICAgICB0aGlzLm9mZnNldCA9IHRoaXMubW9kZWwub2Zmc2V0LmNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uKHRoaXMpO1xyXG4gICAgICAgIGlmIChtb2RlbC5wb2ludGVyT25MZWZ0KSB7XHJcbiAgICAgICAgICAgIHRoaXMubGVmdCA9IHRoaXMucG9pbnRlcjtcclxuICAgICAgICAgICAgdGhpcy5yaWdodCA9IHRoaXMub2Zmc2V0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sZWZ0ID0gdGhpcy5vZmZzZXQ7XHJcbiAgICAgICAgICAgIHRoaXMucmlnaHQgPSB0aGlzLnBvaW50ZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0U3ViZXhwcmVzc2lvbnMoW3RoaXMubGVmdCwgdGhpcy5yaWdodF0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvcGVyYXRlKCkge1xyXG5cclxuICAgICAgICAvLyBjb2RlIGJlbG93IGNvbXB1dGVzIHRoZSBuZXcgYWRkcmVzcyBhZnRlciBwb2ludGVyIGFkZGl0aW9uLCB3aGlsZSBwcmVzZXJ2aW5nIFJUVElcclxuICAgICAgICAvLyAgIHJlc3VsdCA9IHBvaW50ZXIgKyBvZmZzZXQgKiBwb2ludGVyU2l6ZVxyXG4gICAgICAgIGxldCByZXN1bHQgPSB0aGlzLnBvaW50ZXIuZXZhbFJlc3VsdC5wb2ludGVyT2Zmc2V0KHRoaXMub2Zmc2V0LmV2YWxSZXN1bHQpO1xyXG4gICAgICAgIHRoaXMuc2V0RXZhbFJlc3VsdCg8VkNSZXN1bHRUeXBlczxULFwicHJ2YWx1ZVwiPj5yZXN1bHQpOyAvLyBub3Qgc3VyZSB3aHkgY2FzdCBpcyBuZWNlc3NhcnkgaGVyZVxyXG5cclxuICAgICAgICBsZXQgcmVzdWx0VHlwZSA9IHJlc3VsdC50eXBlO1xyXG4gICAgICAgIGlmIChyZXN1bHRUeXBlLmlzVHlwZShBcnJheVBvaW50ZXIpKXtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCB3ZSBoYXZlbid0IHJ1biBvZmYgdGhlIGFycmF5XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQucmF3VmFsdWUgPCByZXN1bHRUeXBlLm1pbigpKXtcclxuICAgICAgICAgICAgICAgIC8vc2ltLmFsZXJ0KFwiT29wcy4gVGhhdCBwb2ludGVyIGp1c3Qgd2FuZGVyZWQgb2ZmIHRoZSBiZWdpbm5pbmcgb2YgaXRzIGFycmF5LlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChyZXN1bHRUeXBlLm9uZVBhc3QoKSA8IHJlc3VsdC5yYXdWYWx1ZSl7XHJcbiAgICAgICAgICAgICAgICAvL3NpbS5hbGVydChcIk9vcHMuIFRoYXQgcG9pbnRlciBqdXN0IHdhbmRlcmVkIG9mZiB0aGUgZW5kIG9mIGl0cyBhcnJheS5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIFJUVEkgd29ya3Mgd2VsbCBlbm91Z2gsIHRoaXMgc2hvdWxkIGFsd2F5cyBiZSB1bnNhZmVcclxuICAgICAgICAgICAgdGhpcy5zaW0uZXZlbnRPY2N1cnJlZChTaW11bGF0aW9uRXZlbnQuVU5ERUZJTkVEX0JFSEFWSU9SLCBcIlVoLCBJIGRvbid0IHRoaW5rIHlvdSdyZSBzdXBwb3NlZCB0byBkbyBhcml0aG1ldGljIHdpdGggdGhhdCBwb2ludGVyLiBJdCdzIG5vdCBwb2ludGluZyBpbnRvIGFuIGFycmF5LlwiLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBSZWxhdGlvbmFsQmluYXJ5T3BlcmF0b3JFeHByZXNzaW9uQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwicmVsYXRpb25hbF9iaW5hcnlfb3BlcmF0b3JfZXhwcmVzc2lvblwiO1xyXG4gICAgcmVhZG9ubHkgb3BlcmF0b3I6IHRfUmVsYXRpb25hbEJpbmFyeU9wZXJhdG9ycztcclxuICAgIHJlYWRvbmx5IGxlZnQ6IEV4cHJlc3Npb25BU1ROb2RlO1xyXG4gICAgcmVhZG9ubHkgcmlnaHQ6IEV4cHJlc3Npb25BU1ROb2RlO1xyXG4gICAgcmVhZG9ubHkgYXNzb2NpYXRpdml0eTogXCJsZWZ0XCI7XHJcbn1cclxuXHJcbnR5cGUgdF9SZWxhdGlvbmFsQmluYXJ5T3BlcmF0b3JzID0gXCI8XCIgfCBcIj5cIiB8IFwiPD1cIiB8IFwiPj1cIiB8IFwiPT1cIiB8IFwiIT1cIjtcclxuXHJcbmNvbnN0IFJFTEFUSU9OQUxfQklOQVJZX09QRVJBVElPTlMgOiB7W2luZGV4OnN0cmluZ106IDxUIGV4dGVuZHMgQXRvbWljVHlwZT4obGVmdDogVmFsdWU8VD4sIHJpZ2h0OiBWYWx1ZTxUPikgPT4gVmFsdWU8Qm9vbD59XHJcbiAgICA9IHtcclxuICAgIFwiPFwiIDogZnVuY3Rpb248VCBleHRlbmRzIEF0b21pY1R5cGU+KGxlZnQ6IFZhbHVlPFQ+LCByaWdodDogVmFsdWU8VD4pIHtcclxuICAgICAgICByZXR1cm4gbGVmdC5jb21wYXJlKHJpZ2h0LCBsdCk7XHJcbiAgICB9LFxyXG4gICAgXCI+XCIgOiBmdW5jdGlvbjxUIGV4dGVuZHMgQXRvbWljVHlwZT4obGVmdDogVmFsdWU8VD4sIHJpZ2h0OiBWYWx1ZTxUPikge1xyXG4gICAgICAgIHJldHVybiBsZWZ0LmNvbXBhcmUocmlnaHQsIGd0KTtcclxuICAgIH0sXHJcbiAgICBcIjw9XCIgOiBmdW5jdGlvbjxUIGV4dGVuZHMgQXRvbWljVHlwZT4obGVmdDogVmFsdWU8VD4sIHJpZ2h0OiBWYWx1ZTxUPikge1xyXG4gICAgICAgIHJldHVybiBsZWZ0LmNvbXBhcmUocmlnaHQsIGx0ZSk7XHJcbiAgICB9LFxyXG4gICAgXCI+PVwiIDogZnVuY3Rpb248VCBleHRlbmRzIEF0b21pY1R5cGU+KGxlZnQ6IFZhbHVlPFQ+LCByaWdodDogVmFsdWU8VD4pIHtcclxuICAgICAgICByZXR1cm4gbGVmdC5jb21wYXJlKHJpZ2h0LCBndGUpO1xyXG4gICAgfSxcclxuICAgIFwiPT1cIiA6IGZ1bmN0aW9uPFQgZXh0ZW5kcyBBdG9taWNUeXBlPihsZWZ0OiBWYWx1ZTxUPiwgcmlnaHQ6IFZhbHVlPFQ+KSB7XHJcbiAgICAgICAgcmV0dXJuIGxlZnQuY29tcGFyZShyaWdodCwgZXEpO1xyXG4gICAgfSxcclxuICAgIFwiIT1cIiA6IGZ1bmN0aW9uPFQgZXh0ZW5kcyBBdG9taWNUeXBlPihsZWZ0OiBWYWx1ZTxUPiwgcmlnaHQ6IFZhbHVlPFQ+KSB7XHJcbiAgICAgICAgcmV0dXJuIGxlZnQuY29tcGFyZShyaWdodCwgbmUpO1xyXG4gICAgfSxcclxufVxyXG5cclxuY2xhc3MgUmVsYXRpb25hbEJpbmFyeU9wZXJhdG9yIGV4dGVuZHMgQmluYXJ5T3BlcmF0b3Ige1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZSA9IEJvb2wuQk9PTDtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVmdDogRXhwcmVzc2lvbjtcclxuICAgIHB1YmxpYyByZWFkb25seSByaWdodDogRXhwcmVzc2lvbjtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgb3BlcmF0b3IhOiB0X1JlbGF0aW9uYWxCaW5hcnlPcGVyYXRvcnM7IC8vIE5hcnJvd3MgdHlwZSBmcm9tIGJhc2VcclxuXHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQsIGxlZnQ6IEV4cHJlc3Npb24sIHJpZ2h0OiBFeHByZXNzaW9uLCBvcGVyYXRvcjogdF9SZWxhdGlvbmFsQmluYXJ5T3BlcmF0b3JzKSB7XHJcbiAgICAgICAgc3VwZXIoY29udGV4dCwgb3BlcmF0b3IpO1xyXG5cclxuICAgICAgICBpZiAoIWxlZnQuaXNXZWxsVHlwZWQoKSB8fCAhcmlnaHQuaXNXZWxsVHlwZWQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLmxlZnQgPSBsZWZ0KTtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2godGhpcy5yaWdodCA9IHJpZ2h0KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBBcml0aG1ldGljIHR5cGVzIGFyZSByZXF1aXJlZCAobm90ZTogcG9pbnRlciBjb21wYXJpc29ucyBoYXZlIHRoZWlyIG93biBQb2ludGVyUmVsYXRpb25hbE9wZXJhdGlvbiBjbGFzcylcclxuICAgICAgICBpZiAoIWxlZnQuaXNBcml0aG1ldGljVHlwZWQoKSB8fCAhcmlnaHQuaXNBcml0aG1ldGljVHlwZWQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5iaW5hcnkuYXJpdGhtZXRpY19vcGVyYW5kcyh0aGlzLCB0aGlzLm9wZXJhdG9yLCBsZWZ0LCByaWdodCkpO1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLmxlZnQgPSBsZWZ0KTtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2godGhpcy5yaWdodCA9IHJpZ2h0KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IFtjb252ZXJ0ZWRMZWZ0LCBjb252ZXJ0ZWRSaWdodF0gPSB1c3VhbEFyaXRobWV0aWNDb252ZXJzaW9ucyhsZWZ0LCByaWdodCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFzYW1lVHlwZShjb252ZXJ0ZWRMZWZ0LnR5cGUhLCBjb252ZXJ0ZWRSaWdodC50eXBlISkpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIuaW52YWxpZF9iaW5hcnlfb3BlcmFuZHModGhpcywgdGhpcy5vcGVyYXRvciwgY29udmVydGVkTGVmdCwgY29udmVydGVkUmlnaHQpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuYXR0YWNoKHRoaXMubGVmdCA9IGNvbnZlcnRlZExlZnQpO1xyXG4gICAgICAgIHRoaXMuYXR0YWNoKHRoaXMucmlnaHQgPSBjb252ZXJ0ZWRSaWdodCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRnJvbUFTVChhc3Q6IFJlbGF0aW9uYWxCaW5hcnlPcGVyYXRvckV4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgOiBSZWxhdGlvbmFsQmluYXJ5T3BlcmF0b3Ige1xyXG4gICAgICAgIHJldHVybiBuZXcgUmVsYXRpb25hbEJpbmFyeU9wZXJhdG9yKGNvbnRleHQsXHJcbiAgICAgICAgICAgIGNyZWF0ZUV4cHJlc3Npb25Gcm9tQVNUKGFzdC5sZWZ0LCBjb250ZXh0KSxcclxuICAgICAgICAgICAgY3JlYXRlRXhwcmVzc2lvbkZyb21BU1QoYXN0LnJpZ2h0LCBjb250ZXh0KSxcclxuICAgICAgICAgICAgYXN0Lm9wZXJhdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUV4cHJlc3Npb248VCBleHRlbmRzIEFyaXRobWV0aWNUeXBlPih0aGlzOiBDb21waWxlZFJlbGF0aW9uYWxCaW5hcnlPcGVyYXRvcjxUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVSZWxhdGlvbmFsQmluYXJ5T3BlcmF0b3I8VD47XHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUV4cHJlc3Npb248VCBleHRlbmRzIFR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5Pih0aGlzOiBDb21waWxlZEV4cHJlc3Npb248VCxWPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IG5ldmVyO1xyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPFQgZXh0ZW5kcyBBcml0aG1ldGljVHlwZT4odGhpczogQ29tcGlsZWRSZWxhdGlvbmFsQmluYXJ5T3BlcmF0b3I8VD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lUmVsYXRpb25hbEJpbmFyeU9wZXJhdG9yPFQ+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFJ1bnRpbWVSZWxhdGlvbmFsQmluYXJ5T3BlcmF0b3IodGhpcywgcGFyZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzY3JpYmVFdmFsUmVzdWx0KGRlcHRoOiBudW1iZXIpOiBEZXNjcmlwdGlvbiB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRSZWxhdGlvbmFsQmluYXJ5T3BlcmF0b3I8VCBleHRlbmRzIEFyaXRobWV0aWNUeXBlPiBleHRlbmRzIFJlbGF0aW9uYWxCaW5hcnlPcGVyYXRvciwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG5cclxuICAgIHJlYWRvbmx5IHRlbXBvcmFyeURlYWxsb2NhdG9yPzogQ29tcGlsZWRUZW1wb3JhcnlEZWFsbG9jYXRvcjsgLy8gdG8gbWF0Y2ggQ29tcGlsZWRQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiBzdHJ1Y3R1cmVcclxuXHJcbiAgICByZWFkb25seSBsZWZ0OiBDb21waWxlZEV4cHJlc3Npb248VCxcInBydmFsdWVcIj47XHJcbiAgICByZWFkb25seSByaWdodDogQ29tcGlsZWRFeHByZXNzaW9uPFQsXCJwcnZhbHVlXCI+O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUnVudGltZVJlbGF0aW9uYWxCaW5hcnlPcGVyYXRvcjxUIGV4dGVuZHMgQXJpdGhtZXRpY1R5cGU+IGV4dGVuZHMgUnVudGltZUJpbmFyeU9wZXJhdG9yPEJvb2wsIENvbXBpbGVkUmVsYXRpb25hbEJpbmFyeU9wZXJhdG9yPFQ+PiB7XHJcbiAgICBcclxuICAgIHB1YmxpYyByZWFkb25seSBsZWZ0OiBSdW50aW1lRXhwcmVzc2lvbjxULCBcInBydmFsdWVcIj47XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmlnaHQ6IFJ1bnRpbWVFeHByZXNzaW9uPFQsIFwicHJ2YWx1ZVwiPjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IgKG1vZGVsOiBDb21waWxlZFJlbGF0aW9uYWxCaW5hcnlPcGVyYXRvcjxUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgc3VwZXIobW9kZWwsIHBhcmVudCk7XHJcbiAgICAgICAgdGhpcy5sZWZ0ID0gdGhpcy5tb2RlbC5sZWZ0LmNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucmlnaHQgPSB0aGlzLm1vZGVsLnJpZ2h0LmNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuc2V0U3ViZXhwcmVzc2lvbnMoW3RoaXMubGVmdCwgdGhpcy5yaWdodF0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvcGVyYXRlKCkge1xyXG4gICAgICAgIC8vIE5vdCBzdXJlIHdoeSB0aGUgY2FzdCBoZXJlIGlzIG5lY2Vzc2FyeSBidXQgYXBwYXJlbnRseSBUeXBlc2NyaXB0IG5lZWRzIGl0XHJcbiAgICAgICAgdGhpcy5zZXRFdmFsUmVzdWx0KFJFTEFUSU9OQUxfQklOQVJZX09QRVJBVElPTlNbdGhpcy5tb2RlbC5vcGVyYXRvcl0odGhpcy5sZWZ0LmV2YWxSZXN1bHQsIHRoaXMucmlnaHQuZXZhbFJlc3VsdCkpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyBQb2ludGVyUmVsYXRpb25hbEJpbmFyeU9wZXJhdG9yXHJcblxyXG5cclxuLy8gICAgIGNvbnZlcnQgOiBmdW5jdGlvbigpe1xyXG5cclxuLy8gICAgICAgICBpZiAoaXNBKHRoaXMubGVmdC50eXBlLCBUeXBlcy5Qb2ludGVyKSAmJiBpc0EodGhpcy5yaWdodCwgTGl0ZXJhbCkgJiYgaXNBKHRoaXMucmlnaHQudHlwZSwgVHlwZXMuSW50KSAmJiB0aGlzLnJpZ2h0LnZhbHVlLnJhd1ZhbHVlKCkgPT0gMCl7XHJcbi8vICAgICAgICAgICAgIHRoaXMucmlnaHQgPSBDb252ZXJzaW9ucy5OdWxsUG9pbnRlckNvbnZlcnNpb24uaW5zdGFuY2UodGhpcy5yaWdodCwgdGhpcy5sZWZ0LnR5cGUpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBpZiAoaXNBKHRoaXMucmlnaHQudHlwZSwgVHlwZXMuUG9pbnRlcikgJiYgaXNBKHRoaXMubGVmdCwgTGl0ZXJhbCkgJiYgaXNBKHRoaXMubGVmdC50eXBlLCBUeXBlcy5JbnQpICYmIHRoaXMubGVmdC52YWx1ZS5yYXdWYWx1ZSgpID09IDApe1xyXG4vLyAgICAgICAgICAgICB0aGlzLmxlZnQgPSBDb252ZXJzaW9ucy5OdWxsUG9pbnRlckNvbnZlcnNpb24uaW5zdGFuY2UodGhpcy5sZWZ0LCB0aGlzLnJpZ2h0LnR5cGUpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgdHlwZUNoZWNrIDogZnVuY3Rpb24oKXtcclxuXHJcbi8vICAgICAgICAgLy8gTm90ZTogdHlwZUNoZWNrIGlzIG9ubHkgY2FsbGVkIGlmIGl0J3Mgbm90IGFuIG92ZXJsb2FkXHJcblxyXG4vLyAgICAgICAgIGlmIChpc0EodGhpcy5sZWZ0LnR5cGUsIFR5cGVzLlBvaW50ZXIpKXtcclxuLy8gICAgICAgICAgICAgaWYgKCFpc0EodGhpcy5yaWdodC50eXBlLCBUeXBlcy5Qb2ludGVyKSl7XHJcbi8vICAgICAgICAgICAgICAgICAvLyBUT0RPIHRoaXMgaXMgYSBoYWNrIHVudGlsIEkgaW1wbGVtZW50IGZ1bmN0aW9ucyB0byBkZXRlcm1pbmUgY3YtY29tYmluZWQgdHlwZSBhbmQgY29tcG9zaXRlIHBvaW50ZXIgdHlwZXNcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmludmFsaWRfYmluYXJ5X29wZXJhbmRzKHRoaXMsIHRoaXMub3BlcmF0b3IsIHRoaXMubGVmdCwgdGhpcy5yaWdodCkpO1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBvcGVyYXRlIDogZnVuY3Rpb24obGVmdCwgcmlnaHQsIHNpbSwgaW5zdCl7XHJcbi8vICAgICAgICAgaWYgKHRoaXMuaXNQb2ludGVyQ29tcGFyaXNpb24pIHtcclxuLy8gICAgICAgICAgICAgaWYgKCF0aGlzLmFsbG93RGlmZkFycmF5UG9pbnRlcnMgJiYgKCFpc0EobGVmdC50eXBlLCBUeXBlcy5BcnJheVBvaW50ZXIpIHx8ICFpc0EocmlnaHQudHlwZSwgVHlwZXMuQXJyYXlQb2ludGVyKSB8fCBsZWZ0LnR5cGUuYXJyT2JqICE9PSByaWdodC50eXBlLmFyck9iaikpe1xyXG4vLyAgICAgICAgICAgICAgICAgc2ltLnVuc3BlY2lmaWVkQmVoYXZpb3IoXCJJdCBsb29rcyBsaWtlIHlvdSdyZSB0cnlpbmcgdG8gc2VlIHdoaWNoIHBvaW50ZXIgY29tZXMgYmVmb3JlL2FmdGVyIGluIG1lbW9yeSwgYnV0IHRoaXMgb25seSBtYWtlcyBzZW5zZSBpZiBib3RoIHBvaW50ZXJzIGNvbWUgZnJvbSB0aGUgc2FtZSBhcnJheS4gSSBkb24ndCB0aGluayB0aGF0J3MgdGhlIGNhc2UgaGVyZS5cIik7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgcmV0dXJuIFZhbHVlLmluc3RhbmNlKHRoaXMuY29tcGFyZShsZWZ0LnZhbHVlLCByaWdodC52YWx1ZSksIHRoaXMudHlwZSk7IC8vIFRPRE8gbWF0Y2ggQysrIGFyaXRobWV0aWNcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTG9naWNhbEJpbmFyeU9wZXJhdG9yRXhwcmVzc2lvbkFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcImxvZ2ljYWxfYmluYXJ5X29wZXJhdG9yX2V4cHJlc3Npb25cIjtcclxuICAgIHJlYWRvbmx5IG9wZXJhdG9yOiB0X0xvZ2ljYWxCaW5hcnlPcGVyYXRvcnM7XHJcbiAgICByZWFkb25seSBsZWZ0OiBFeHByZXNzaW9uQVNUTm9kZTtcclxuICAgIHJlYWRvbmx5IHJpZ2h0OiBFeHByZXNzaW9uQVNUTm9kZTtcclxuICAgIHJlYWRvbmx5IGFzc29jaWF0aXZpdHk6IFwibGVmdFwiO1xyXG59XHJcblxyXG50eXBlIHRfTG9naWNhbEJpbmFyeU9wZXJhdG9ycyA9IFwiJiZcIiB8IFwifHxcIjtcclxuXHJcbmNsYXNzIExvZ2ljYWxCaW5hcnlPcGVyYXRvciBleHRlbmRzIEJpbmFyeU9wZXJhdG9yIHtcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGUgPSBuZXcgQm9vbCgpO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBsZWZ0OiBFeHByZXNzaW9uO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHJpZ2h0OiBFeHByZXNzaW9uO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBvcGVyYXRvciE6IHRfTG9naWNhbEJpbmFyeU9wZXJhdG9yczsgLy8gTmFycm93cyB0eXBlIGZyb20gYmFzZVxyXG5cclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3Rvcihjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCwgbGVmdDogRXhwcmVzc2lvbiwgcmlnaHQ6IEV4cHJlc3Npb24sIG9wZXJhdG9yOiB0X0xvZ2ljYWxCaW5hcnlPcGVyYXRvcnMpIHtcclxuICAgICAgICBzdXBlcihjb250ZXh0LCBvcGVyYXRvcik7XHJcblxyXG4gICAgICAgIGlmIChsZWZ0LmlzV2VsbFR5cGVkKCkgJiYgcmlnaHQuaXNXZWxsVHlwZWQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLmxlZnQgPSB0aGlzLmNvbXBpbGVMb2dpY2FsU3ViZXhwcmVzc2lvbihsZWZ0KSk7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoKHRoaXMucmlnaHQgPSB0aGlzLmNvbXBpbGVMb2dpY2FsU3ViZXhwcmVzc2lvbihyaWdodCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2godGhpcy5sZWZ0ID0gbGVmdCk7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoKHRoaXMucmlnaHQgPSByaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY29tcGlsZUxvZ2ljYWxTdWJleHByZXNzaW9uKHN1YmV4cHIgOiBUeXBlZEV4cHJlc3Npb24pIHtcclxuICAgICAgICBzdWJleHByID0gc3RhbmRhcmRDb252ZXJzaW9uKHN1YmV4cHIsIEJvb2wuQk9PTCk7XHJcbiAgICAgICAgaWYgKCFpc1R5cGUoc3ViZXhwci50eXBlLCBCb29sKSkge1xyXG4gICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5iaW5hcnkuYm9vbGVhbl9vcGVyYW5kKHRoaXMsIHRoaXMub3BlcmF0b3IsIHN1YmV4cHIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN1YmV4cHI7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRnJvbUFTVChhc3Q6IExvZ2ljYWxCaW5hcnlPcGVyYXRvckV4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgOiBMb2dpY2FsQmluYXJ5T3BlcmF0b3J7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBMb2dpY2FsQmluYXJ5T3BlcmF0b3IoY29udGV4dCxcclxuICAgICAgICAgICAgY3JlYXRlRXhwcmVzc2lvbkZyb21BU1QoYXN0LmxlZnQsIGNvbnRleHQpLFxyXG4gICAgICAgICAgICBjcmVhdGVFeHByZXNzaW9uRnJvbUFTVChhc3QucmlnaHQsIGNvbnRleHQpLFxyXG4gICAgICAgICAgICBhc3Qub3BlcmF0b3IpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUV4cHJlc3Npb24odGhpczogQ29tcGlsZWRMb2dpY2FsQmluYXJ5T3BlcmF0b3IsIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lTG9naWNhbEJpbmFyeU9wZXJhdG9yO1xyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPFQgZXh0ZW5kcyBBdG9taWNUeXBlLCBWIGV4dGVuZHMgVmFsdWVDYXRlZ29yeT4odGhpczogQ29tcGlsZWRFeHByZXNzaW9uPFQsVj4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBuZXZlcjtcclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbih0aGlzOiBDb21waWxlZExvZ2ljYWxCaW5hcnlPcGVyYXRvciwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVMb2dpY2FsQmluYXJ5T3BlcmF0b3Ige1xyXG4gICAgICAgIHJldHVybiBuZXcgUnVudGltZUxvZ2ljYWxCaW5hcnlPcGVyYXRvcih0aGlzLCBwYXJlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZXNjcmliZUV2YWxSZXN1bHQoZGVwdGg6IG51bWJlcik6IERlc2NyaXB0aW9uIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gcHVibGljIGlzVGFpbENoaWxkKGNoaWxkOiBDUFBDb25zdHJ1Y3QpIHtcclxuICAgIC8vICAgICBpZiAoY2hpbGQgPT09IHRoaXMubGVmdCl7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiB7aXNUYWlsOiBmYWxzZSxcclxuICAgIC8vICAgICAgICAgICAgIHJlYXNvbjogXCJUaGUgcmlnaHQgb3BlcmFuZCBvZiB0aGUgXCIgKyB0aGlzLm9wZXJhdG9yICsgXCIgb3BlcmF0b3IgbWF5IG5lZWQgdG8gYmUgY2hlY2tlZCBpZiBpdCBkb2VzIG5vdCBzaG9ydCBjaXJjdWl0LlwiLFxyXG4gICAgLy8gICAgICAgICAgICAgb3RoZXJzOiBbdGhpcy5yaWdodF1cclxuICAgIC8vICAgICAgICAgfTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZXtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIHtpc1RhaWw6IHRydWUsXHJcbiAgICAvLyAgICAgICAgICAgICByZWFzb246IFwiQmVjYXVzZSB0aGUgXCIgKyB0aGlzLm9wZXJhdG9yICsgXCIgb3BlcmF0b3Igc2hvcnQgY2lyY3VpdHMsIHRoZSByaWdodCBvcGVyYW5kIGlzIGd1YXJhbnRlZWQgdG8gYmUgZXZhbHVhdGVkIGxhc3QgYW5kIGl0cyByZXN1bHQgaXMgdXNlZCBkaXJlY3RseSAobm8gY29tYmluYXRpb24gd2l0aCBsZWZ0IHNpZGUgbmVlZGVkKS5cIlxyXG4gICAgLy8gICAgICAgICB9O1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRMb2dpY2FsQmluYXJ5T3BlcmF0b3IgZXh0ZW5kcyBMb2dpY2FsQmluYXJ5T3BlcmF0b3IsIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuICAgIHJlYWRvbmx5IHRlbXBvcmFyeURlYWxsb2NhdG9yPzogQ29tcGlsZWRUZW1wb3JhcnlEZWFsbG9jYXRvcjsgLy8gdG8gbWF0Y2ggQ29tcGlsZWRQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiBzdHJ1Y3R1cmVcclxuXHJcbiAgICByZWFkb25seSBsZWZ0OiBDb21waWxlZEV4cHJlc3Npb248Qm9vbCwgXCJwcnZhbHVlXCI+XHJcbiAgICByZWFkb25seSByaWdodDogQ29tcGlsZWRFeHByZXNzaW9uPEJvb2wsIFwicHJ2YWx1ZVwiPlxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUnVudGltZUxvZ2ljYWxCaW5hcnlPcGVyYXRvciBleHRlbmRzIFJ1bnRpbWVFeHByZXNzaW9uPEJvb2wsIFwicHJ2YWx1ZVwiLCBDb21waWxlZExvZ2ljYWxCaW5hcnlPcGVyYXRvcj4ge1xyXG5cclxuICAgIHB1YmxpYyBsZWZ0OiBSdW50aW1lRXhwcmVzc2lvbjxCb29sLCBcInBydmFsdWVcIj47XHJcbiAgICBwdWJsaWMgcmlnaHQ6IFJ1bnRpbWVFeHByZXNzaW9uPEJvb2wsIFwicHJ2YWx1ZVwiPjtcclxuXHJcbiAgICBwcml2YXRlIGluZGV4ID0gXCJsZWZ0XCI7XHJcblxyXG4gICAgcHJpdmF0ZSBoYXNTaG9ydENpcmN1aXRlZD86IGJvb2xlYW47XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChtb2RlbDogQ29tcGlsZWRMb2dpY2FsQmluYXJ5T3BlcmF0b3IsIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgICAgIHN1cGVyKG1vZGVsLCBwYXJlbnQpO1xyXG4gICAgICAgIHRoaXMubGVmdCA9IHRoaXMubW9kZWwubGVmdC5jcmVhdGVSdW50aW1lRXhwcmVzc2lvbih0aGlzKTtcclxuICAgICAgICB0aGlzLnJpZ2h0ID0gdGhpcy5tb2RlbC5yaWdodC5jcmVhdGVSdW50aW1lRXhwcmVzc2lvbih0aGlzKTtcclxuICAgIH1cclxuXHJcblx0cHJvdGVjdGVkIHVwTmV4dEltcGwoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5kZXggPT09IFwibGVmdFwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2ltLnB1c2godGhpcy5sZWZ0KTtcclxuICAgICAgICAgICAgdGhpcy5pbmRleCA9IFwicmlnaHRcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5pbmRleCA9PT0gXCJyaWdodFwiKSB7XHJcbiAgICAgICAgICAgIGxldCBzaG9ydENpcmN1aXRSZXNsdCA9IHRoaXMubW9kZWwub3BlcmF0b3IgPT09IFwiJiZcIiA/IDAgOiAxO1xyXG4gICAgICAgICAgICB0aGlzLmhhc1Nob3J0Q2lyY3VpdGVkID0gdGhpcy5sZWZ0LmV2YWxSZXN1bHQucmF3RXF1YWxzKHNob3J0Q2lyY3VpdFJlc2x0KTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5oYXNTaG9ydENpcmN1aXRlZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gb25seSBwdXNoIHJpZ2h0IGNoaWxkIGlmIHdlIGhhdmUgbm90IHNob3J0IGNpcmN1aXRlZFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zaW0ucHVzaCh0aGlzLnJpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmluZGV4ID0gXCJvcGVyYXRlXCI7XHJcbiAgICAgICAgfVxyXG5cdH1cclxuXHRcclxuXHRwcm90ZWN0ZWQgc3RlcEZvcndhcmRJbXBsKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmhhc1Nob3J0Q2lyY3VpdGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RXZhbFJlc3VsdCh0aGlzLmxlZnQuZXZhbFJlc3VsdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNldEV2YWxSZXN1bHQodGhpcy5vcGVyYXRlKHRoaXMubGVmdC5ldmFsUmVzdWx0LCB0aGlzLnJpZ2h0LmV2YWxSZXN1bHQpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zaW0ucG9wKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByaXZhdGUgb3BlcmF0ZShsZWZ0OiBWYWx1ZTxCb29sPiwgcmlnaHQ6IFZhbHVlPEJvb2w+KSB7XHJcbiAgICAgICAgcmV0dXJuIGxlZnQuY29tYmluZShyaWdodCwgKGE6IFJhd1ZhbHVlVHlwZSwgYjogUmF3VmFsdWVUeXBlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vZGVsLm9wZXJhdG9yID09IFwiJiZcIiA/IGEgJiYgYiA6IGEgfHwgYjtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQb2ludGVyVG9NZW1iZXJFeHByZXNzaW9uQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwicG9pbnRlcl90b19tZW1iZXJfZXhwcmVzc2lvblwiO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENTdHlsZUNhc3RFeHByZXNzaW9uQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwiY19zdHlsZV9jYXN0X2V4cHJlc3Npb25cIjtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgVW5hcnlFeHByZXNzaW9uQVNUTm9kZSA9XHJcbiAgICBQcmVmaXhJbmNyZW1lbnRFeHByZXNzaW9uQVNUTm9kZSB8XHJcbiAgICBQcmVmaXhEZWNyZW1lbnRFeHByZXNzaW9uQVNUTm9kZSB8XHJcbiAgICBEZXJlZmVyZW5jZUV4cHJlc3Npb25BU1ROb2RlIHxcclxuICAgIEFkZHJlc3NPZkV4cHJlc3Npb25BU1ROb2RlIHxcclxuICAgIFVuYXJ5UGx1c0V4cHJlc3Npb25BU1ROb2RlIHxcclxuICAgIFVuYXJ5TWludXNFeHByZXNzaW9uQVNUTm9kZSB8XHJcbiAgICBMb2dpY2FsTm90RXhwcmVzc2lvbkFTVE5vZGUgfFxyXG4gICAgQml0d2lzZU5vdEV4cHJlc3Npb25BU1ROb2RlIHxcclxuICAgIFNpemVvZkV4cHJlc3Npb25BU1ROb2RlIHxcclxuICAgIFNpemVvZlR5cGVFeHByZXNzaW9uQVNUTm9kZSB8XHJcbiAgICBOZXdFeHByZXNzaW9uQVNUTm9kZSB8XHJcbiAgICBEZWxldGVFeHByZXNzaW9uQVNUTm9kZSB8XHJcbiAgICBEZWxldGVBcnJheUV4cHJlc3Npb25BU1ROb2RlO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQcmVmaXhJbmNyZW1lbnRFeHByZXNzaW9uQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwicHJlZml4X2luY3JlbWVudF9leHByZXNzaW9uXCI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUHJlZml4RGVjcmVtZW50RXhwcmVzc2lvbkFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcInByZWZpeF9kZWNyZW1lbnRfZXhwcmVzc2lvblwiO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIERlcmVmZXJlbmNlRXhwcmVzc2lvbkFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcImRlcmVmZXJlbmNlX2V4cHJlc3Npb25cIjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBZGRyZXNzT2ZFeHByZXNzaW9uQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwiYWRkcmVzc19vZl9leHByZXNzaW9uXCI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVW5hcnlQbHVzRXhwcmVzc2lvbkFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcInVuYXJ5X3BsdXNfZXhwcmVzc2lvblwiO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVuYXJ5TWludXNFeHByZXNzaW9uQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwidW5hcnlfbWludXNfZXhwcmVzc2lvblwiO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIExvZ2ljYWxOb3RFeHByZXNzaW9uQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwibG9naWNhbF9ub3RfZXhwcmVzc2lvblwiO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEJpdHdpc2VOb3RFeHByZXNzaW9uQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwiYml0d2lzZV9ub3RfZXhwcmVzc2lvblwiO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNpemVvZkV4cHJlc3Npb25BU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJzaXplb2ZfZXhwcmVzc2lvblwiO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNpemVvZlR5cGVFeHByZXNzaW9uQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwic2l6ZW9mX3R5cGVfZXhwcmVzc2lvblwiO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE5ld0V4cHJlc3Npb25BU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJuZXdfZXhwcmVzc2lvblwiO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIERlbGV0ZUV4cHJlc3Npb25BU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJkZWxldGVfZXhwcmVzc2lvblwiO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIERlbGV0ZUFycmF5RXhwcmVzc2lvbkFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcImRlbGV0ZV9hcnJheV9leHByZXNzaW9uXCI7XHJcbn1cclxuXHJcblxyXG5cclxuLy8gZXhwb3J0IHZhciBVbmFyeU9wICA9IEV4cHJlc3Npb24uZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lOiBcIlVuYXJ5T3BcIixcclxuLy8gICAgIGlfY2hpbGRyZW5Ub0V4ZWN1dGUgOiBbXCJvcGVyYW5kXCJdLFxyXG4vLyAgICAgaV9jaGlsZHJlblRvRXhlY3V0ZUZvck1lbWJlck92ZXJsb2FkIDogW1wib3BlcmFuZFwiLCBcImZ1bmNDYWxsXCJdLCAvLyBkb2VzIG5vdCBpbmNsdWRlIHJocyBiZWNhdXNlIGZ1bmN0aW9uIGNhbGwgZG9lcyB0aGF0XHJcbi8vICAgICBpX2NoaWxkcmVuVG9FeGVjdXRlRm9yT3ZlcmxvYWQgOiBbXCJmdW5jQ2FsbFwiXSwgLy8gZG9lcyBub3QgaW5jbHVkZSByaHMgYmVjYXVzZSBmdW5jdGlvbiBjYWxsIGRvZXMgdGhhdFxyXG5cclxuLy8gICAgIGlfY3JlYXRlRnJvbUFTVCA6IGZ1bmN0aW9uKGFzdCwgY29udGV4dCl7XHJcbi8vICAgICAgICAgVW5hcnlPcC5fcGFyZW50LmlfY3JlYXRlRnJvbUFTVC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4vLyAgICAgICAgIHRoaXMub3BlcmF0b3IgPSBhc3Qub3BlcmF0b3I7XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIGNvbXBpbGUgOiBmdW5jdGlvbigpe1xyXG5cclxuLy8gICAgICAgICB2YXIgYXV4T3BlcmFuZCA9IENQUENvbnN0cnVjdC5jcmVhdGUodGhpcy5hc3Qub3BlcmFuZCwge3BhcmVudDogdGhpcywgYXV4aWxpYXJ5OiB0cnVlfSk7XHJcbi8vICAgICAgICAgYXV4T3BlcmFuZC5jb21waWxlKCk7XHJcblxyXG4vLyAgICAgICAgIGlmIChpc0EoYXV4T3BlcmFuZC50eXBlLCBUeXBlcy5DbGFzcykpe1xyXG4vLyAgICAgICAgICAgICAvLyBJZiBpdCdzIG9mIGNsYXNzIHR5cGUsIHdlIGxvb2sgZm9yIG92ZXJsb2Fkc1xyXG4vLyAgICAgICAgICAgICB2YXIgb3ZlcmxvYWRPcCA9IGF1eE9wZXJhbmQudHlwZS5jbGFzc1Njb3BlLnNpbmdsZUxvb2t1cChcIm9wZXJhdG9yXCIgKyB0aGlzLm9wZXJhdG9yLCB7XHJcbi8vICAgICAgICAgICAgICAgICBvd246dHJ1ZSwgcGFyYW1UeXBlczpbXSwgaXNUaGlzQ29uc3QgOiBhdXhPcGVyYW5kLnR5cGUuaXNDb25zdFxyXG4vLyAgICAgICAgICAgICB9KTtcclxuLy8gICAgICAgICAgICAgaWYgKCFvdmVybG9hZE9wKSB7XHJcbi8vICAgICAgICAgICAgICAgICBvdmVybG9hZE9wID0gdGhpcy5jb250ZXh0dWFsU2NvcGUuc2luZ2xlTG9va3VwKFwib3BlcmF0b3JcIiArIHRoaXMub3BlcmF0b3IsIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBwYXJhbVR5cGVzOiBbYXV4T3BlcmFuZC50eXBlXVxyXG4vLyAgICAgICAgICAgICAgICAgfSk7XHJcbi8vICAgICAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgICAgIGlmIChvdmVybG9hZE9wKXtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuaXNPdmVybG9hZCA9IHRydWU7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmlzTWVtYmVyT3ZlcmxvYWQgPSBpc0Eob3ZlcmxvYWRPcCwgTWVtYmVyRnVuY3Rpb25FbnRpdHkpO1xyXG5cclxuLy8gICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzTWVtYmVyT3ZlcmxvYWQpe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIC8vIE1lbWJlciBvdmVybG9hZCBtZWFucyBvcGVyYW5kIGlzIG91ciBkaXJlY3QgY2hpbGQsIGFuZCBubyBhcmd1bWVudHMgdG8gZnVuY3Rpb24gY2FsbFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRoaXMub3BlcmFuZCA9IHRoaXMuaV9jcmVhdGVBbmRDb21waWxlQ2hpbGRFeHByKHRoaXMuYXN0Lm9wZXJhbmQpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnVuY0NhbGwgPSBGdW5jdGlvbkNhbGwuaW5zdGFuY2Uoe2FyZ3M6IFtdfSwge3BhcmVudDp0aGlzfSk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5mdW5jQ2FsbC5jb21waWxlKHtmdW5jOiBvdmVybG9hZE9wfSk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5pX2NoaWxkcmVuVG9FeGVjdXRlID0gdGhpcy5pX2NoaWxkcmVuVG9FeGVjdXRlRm9yTWVtYmVyT3ZlcmxvYWQ7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIC8vIE5vbi1tZW1iZXIgb3ZlcmxvYWQgbWVhbnMgb3BlcmFuZCBpcyB0aGUgYXJndW1lbnQgdG8gdGhlIGZ1bmN0aW9uIGNhbGxcclxuLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLmZ1bmNDYWxsID0gRnVuY3Rpb25DYWxsLmluc3RhbmNlKHthcmdzOiBbdGhpcy5hc3Qub3BlcmFuZF19LCB7cGFyZW50OnRoaXN9KTtcclxuLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLmZ1bmNDYWxsLmNvbXBpbGUoe2Z1bmM6IG92ZXJsb2FkT3B9KTtcclxuLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLmlfY2hpbGRyZW5Ub0V4ZWN1dGUgPSB0aGlzLmlfY2hpbGRyZW5Ub0V4ZWN1dGVGb3JPdmVybG9hZDtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IHRoaXMuZnVuY0NhbGwudHlwZTtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMudmFsdWVDYXRlZ29yeSA9IHRoaXMuZnVuY0NhbGwudmFsdWVDYXRlZ29yeTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNle1xyXG5cclxuLy8gICAgICAgICAgICAgICAgIC8vIFRPRE86IHRoaXMgYXBwZWFycyB0byBhbGxvdyBjb21waWxhdGlvbiB0byBwcm9jZWVkIGZvciBhIGNsYXNzLXR5cGUgb3BlcmFuZCB3aXRoXHJcbi8vICAgICAgICAgICAgICAgICAvLyBubyBvdmVybG9hZHMgZm91bmQsIGJ1dCB0aGF0J3MgZG9vbWVkIHRvIGZhaWwgKEkgdGhpbms/KS4gUGVyaGFwcyBteSB0aG91Z2h0IHdhc1xyXG4vLyAgICAgICAgICAgICAgICAgLy8gdGhlIGVycm9yIG1lc3NhZ2VzIHByb3ZpZGVkIGlmIHlvdSBhY2NpZGVudGFsbHkgdXNlZCBhIHVuYXJ5IG9wZXJhdG9yIGUuZy4gKiB3aXRoXHJcbi8vICAgICAgICAgICAgICAgICAvLyBhIGNsYXNzLXR5cGUgb3BlcmFuZCB3ZXJlIG1vcmUgaWxsdXN0cmF0aXZlIGlmIHRoZXkgc2FpZCBzb21ldGhpbmcgbGlrZSBcInlvdSBjYW4ndCB1c2VcclxuLy8gICAgICAgICAgICAgICAgIC8vICogd2l0aCBhIG5vbi1wb2ludGVyIHR5cGUgcmF0aGVyIHRoYW4gb29wcyBpIGNhbid0IGZpbmQgYW4gb3ZlcmxvYWQgZm9yICogd2l0aCB0aGlzIGNsYXNzIHR5cGVcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMub3BlcmFuZCA9IHRoaXMuaV9jcmVhdGVBbmRDb21waWxlQ2hpbGRFeHByKHRoaXMuYXN0Lm9wZXJhbmQpO1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5jb252ZXJ0KCk7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLnR5cGVDaGVjaygpO1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5jb21waWxlVGVtcG9yYXJpcmVzKCk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgdGhpcy5vcGVyYW5kID0gdGhpcy5pX2NyZWF0ZUFuZENvbXBpbGVDaGlsZEV4cHIodGhpcy5hc3Qub3BlcmFuZCk7XHJcbi8vICAgICAgICAgICAgIHRoaXMuY29udmVydCgpO1xyXG4vLyAgICAgICAgICAgICB0aGlzLnR5cGVDaGVjaygpO1xyXG4vLyAgICAgICAgICAgICB0aGlzLmNvbXBpbGVUZW1wb3JhcmlyZXMoKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIHVwTmV4dCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIC8vIFB1c2ggbGhzLCByaHMsIGFuZCBmdW5jdGlvbiBjYWxsIChpZiBsaHMgY2xhc3MgdHlwZSlcclxuLy8gICAgICAgICB2YXIgdG9SZXR1cm4gPSBFeHByZXNzaW9uLnVwTmV4dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cclxuLy8gICAgICAgICAvLyBJZiB1c2luZyBhbiBhc3NpZ25tZW50IG9wZXJhdG9yLCBzZXQgcmVjZWl2ZXIgZm9yIGZ1bmN0aW9uIGNhbGwgaW5zdGFuY2VcclxuLy8gICAgICAgICBpZiAodGhpcy5mdW5jQ2FsbCAmJiB0aGlzLmlzTWVtYmVyT3ZlcmxvYWQpe1xyXG4vLyAgICAgICAgICAgICBpbnN0LmNoaWxkSW5zdGFuY2VzLmZ1bmNDYWxsLmNhbGxlZEZ1bmN0aW9uLnNldFJlY2VpdmVyKEV2YWx1YXRpb25SZXN1bHRSdW50aW1lRW50aXR5Lmluc3RhbmNlKHRoaXMub3BlcmFuZC50eXBlLCBpbnN0LmNoaWxkSW5zdGFuY2VzLm9wZXJhbmQpKTtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIHJldHVybiB0b1JldHVybjtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgc3RlcEZvcndhcmQ6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIGlmIChpbnN0LmluZGV4ID09PSBcIm9wZXJhdGVcIil7XHJcbi8vICAgICAgICAgICAgIGlmICh0aGlzLmZ1bmNDYWxsKXtcclxuLy8gICAgICAgICAgICAgICAgIC8vIEFzc2lnbm1lbnQgb3BlcmF0b3IgZnVuY3Rpb24gY2FsbCBoYXMgYWxyZWFkeSB0YWtlbiBjYXJlIG9mIHRoZSBcImFzc2lnbm1lbnRcIi5cclxuLy8gICAgICAgICAgICAgICAgIC8vIEp1c3QgZXZhbHVhdGUgdG8gcmV0dXJuZWQgdmFsdWUgZnJvbSBhc3NpZ25tZW50IG9wZXJhdG9yLlxyXG4vLyAgICAgICAgICAgICAgICAgaW5zdC5zZXRFdmFsUmVzdWx0KGluc3QuY2hpbGRJbnN0YW5jZXMuZnVuY0NhbGwuZXZhbFJlc3VsdCk7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmRvbmUoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICAgICAgICAgIC8vcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMub3BlcmF0ZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5kb25lKHNpbSwgaW5zdCk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIG9wZXJhdGU6IENsYXNzLl9BQlNUUkFDVCxcclxuXHJcbi8vICAgICBpc1RhaWxDaGlsZCA6IGZ1bmN0aW9uKGNoaWxkKXtcclxuLy8gICAgICAgICByZXR1cm4ge2lzVGFpbDogZmFsc2UsXHJcbi8vICAgICAgICAgICAgIHJlYXNvbjogXCJUaGUgXCIgKyB0aGlzLm9wZXJhdG9yICsgXCIgb3BlcmF0aW9uIHdpbGwgaGFwcGVuIGFmdGVyIHRoZSByZWN1cnNpdmUgY2FsbC5cIixcclxuLy8gICAgICAgICAgICAgb3RoZXJzOiBbdGhpc11cclxuLy8gICAgICAgICB9O1xyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcbi8vIGV4cG9ydCB2YXIgRGVyZWZlcmVuY2UgPSBVbmFyeU9wLmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZTogXCJEZXJlZmVyZW5jZVwiLFxyXG4vLyAgICAgdmFsdWVDYXRlZ29yeTogXCJsdmFsdWVcIixcclxuLy8gICAgIGNvbnZlcnQgOiBmdW5jdGlvbigpe1xyXG4vLyAgICAgICAgIHRoaXMub3BlcmFuZCA9IHRoaXMub3BlcmFuZCA9IHN0YW5kYXJkQ29udmVyc2lvbih0aGlzLm9wZXJhbmQsIFR5cGVzLlBvaW50ZXIpO1xyXG4vLyAgICAgfSxcclxuLy8gICAgIHR5cGVDaGVjayA6IGZ1bmN0aW9uKCl7XHJcbi8vICAgICAgICAgLy8gVHlwZSBjaGVja1xyXG4vLyAgICAgICAgIGlmICghaXNBKHRoaXMub3BlcmFuZC50eXBlLCBUeXBlcy5Qb2ludGVyKSkge1xyXG4vLyAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5kZXJlZmVyZW5jZS5wb2ludGVyKHRoaXMsIHRoaXMub3BlcmFuZC50eXBlKSk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2UgaWYgKCEodGhpcy5vcGVyYW5kLnR5cGUucHRyVG8uaXNPYmplY3RUeXBlIHx8IGlzQSh0aGlzLm9wZXJhbmQudHlwZS5wdHJUbywgVHlwZXMuRnVuY3Rpb24pKSl7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmRlcmVmZXJlbmNlLnBvaW50ZXJUb09iamVjdFR5cGUodGhpcywgdGhpcy5vcGVyYW5kLnR5cGUpKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgdGhpcy50eXBlID0gdGhpcy5vcGVyYW5kLnR5cGUucHRyVG87XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBvcGVyYXRlOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuLy8gICAgICAgICBpZiAoaXNBKHRoaXMub3BlcmFuZC50eXBlLnB0clRvLCBUeXBlcy5GdW5jdGlvbikpe1xyXG4vLyAgICAgICAgICAgICAvL2Z1bmN0aW9uIHBvaW50ZXJcclxuLy8gICAgICAgICAgICAgaW5zdC5zZXRFdmFsUmVzdWx0KGluc3QuY2hpbGRJbnN0YW5jZXMub3BlcmFuZC5ldmFsUmVzdWx0KTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgdmFyIHB0ciA9IGluc3QuY2hpbGRJbnN0YW5jZXMub3BlcmFuZC5ldmFsUmVzdWx0O1xyXG4vLyAgICAgICAgICAgICB2YXIgYWRkciA9IHB0ci5yYXdWYWx1ZSgpO1xyXG5cclxuXHJcblxyXG4vLyAgICAgICAgICAgICAvLyBJZiBpdCdzIGEgbnVsbCBwb2ludGVyLCBnaXZlIG1lc3NhZ2VcclxuLy8gICAgICAgICAgICAgaWYgKFR5cGVzLlBvaW50ZXIuaXNOdWxsKGFkZHIpKXtcclxuLy8gICAgICAgICAgICAgICAgIHNpbS5jcmFzaChcIk93ISBZb3VyIGNvZGUganVzdCBkZXJlZmVyZW5jZWQgYSBudWxsIHBvaW50ZXIhXCIpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGVsc2UgaWYgKFR5cGVzLlBvaW50ZXIuaXNOZWdhdGl2ZShhZGRyKSl7XHJcbi8vICAgICAgICAgICAgICAgICBzaW0uY3Jhc2goXCJVaCwgd293LiBUaGUgcG9pbnRlciB5b3UncmUgdHJ5aW5nIHRvIGRlcmVmZXJlbmNlIGhhcyBhIG5lZ2F0aXZlIGFkZHJlc3MuXFxuVGhhbmtzIGEgbG90LlwiKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNlIGlmIChpc0EocHRyLnR5cGUsIFR5cGVzLkFycmF5UG9pbnRlcikpe1xyXG4vLyAgICAgICAgICAgICAgICAgLy8gSWYgaXQncyBhbiBhcnJheSBwb2ludGVyLCBtYWtlIHN1cmUgaXQncyBpbiBib3VuZHMgYW5kIG5vdCBvbmUtcGFzdFxyXG4vLyAgICAgICAgICAgICAgICAgaWYgKGFkZHIgPCBwdHIudHlwZS5taW4oKSl7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgc2ltLnVuZGVmaW5lZEJlaGF2aW9yKFwiVGhhdCBwb2ludGVyIGhhcyB3YW5kZXJlZCBvZmYgdGhlIGJlZ2lubmluZyBvZiBpdHMgYXJyYXkuIERlcmVmZXJlbmNpbmcgaXQgbWlnaHQgY2F1c2UgYSBzZWdmYXVsdCwgb3Igd29yc2UgLSB5b3UgbWlnaHQganVzdCBhY2Nlc3MvY2hhbmdlIG90aGVyIG1lbW9yeSBvdXRzaWRlIHRoZSBhcnJheS5cIik7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICBlbHNlIGlmIChwdHIudHlwZS5vbmVQYXN0KCkgPCBhZGRyKXtcclxuLy8gICAgICAgICAgICAgICAgICAgICBzaW0udW5kZWZpbmVkQmVoYXZpb3IoXCJUaGF0IHBvaW50ZXIgaGFzIHdhbmRlcmVkIG9mZiB0aGUgZW5kIG9mIGl0cyBhcnJheS4gRGVyZWZlcmVuY2luZyBpdCBtaWdodCBjYXVzZSBhIHNlZ2ZhdWx0LCBvciB3b3JzZSAtIHlvdSBtaWdodCBqdXN0IGFjY2Vzcy9jaGFuZ2Ugb3RoZXIgbWVtb3J5IG91dHNpZGUgdGhlIGFycmF5LlwiKTtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFkZHIgPT0gcHRyLnR5cGUub25lUGFzdCgpKXtcclxuLy8gICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiB0ZWNobmljYWxseSB0aGlzIGlzIG5vdCB1bmRlZmluZWQgYmVoYXZpb3IgdW5sZXNzIHRoZSByZXN1bHQgb2YgdGhlIGRlcmVmZXJlbmNlIHVuZGVyZ29lcyBhbiBsdmFsdWUtdG8tcnZhbHVlIGNvbnZlcnNpb24gdG8gbG9vayB1cCB0aGUgb2JqZWN0XHJcbi8vICAgICAgICAgICAgICAgICAgICAgc2ltLnVuZGVmaW5lZEJlaGF2aW9yKFwiVGhhdCBwb2ludGVyIGlzIG9uZSBwYXN0IHRoZSBlbmQgb2YgaXRzIGFycmF5LiBEbyB5b3UgaGF2ZSBhbiBvZmYtYnktb25lIGVycm9yPy4gRGVyZWZlcmVuY2luZyBpdCBtaWdodCBjYXVzZSBhIHNlZ2ZhdWx0LCBvciB3b3JzZSAtIHlvdSBtaWdodCBqdXN0IGFjY2Vzcy9jaGFuZ2Ugb3RoZXIgbWVtb3J5IG91dHNpZGUgdGhlIGFycmF5LlwiKTtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgICAgIHZhciBvYmogPSBzaW0ubWVtb3J5LmRlcmVmZXJlbmNlKHB0cik7XHJcblxyXG4vLyAgICAgICAgICAgICAvLyBOb3RlOiBkZWFkIG9iamVjdCBpcyBub3QgbmVjZXNzYXJpbHkgaW52YWxpZC4gSW52YWxpZCBoYXMgdG8gZG8gd2l0aCB0aGUgdmFsdWVcclxuLy8gICAgICAgICAgICAgLy8gd2hpbGUgZGVhZC9hbGl2ZSBoYXMgdG8gZG8gd2l0aCB0aGUgb2JqZWN0IGl0c2VsZi4gUmVhZGluZyBmcm9tIGRlYWQgb2JqZWN0IGRvZXNcclxuLy8gICAgICAgICAgICAgLy8geWllbGQgYW4gaW52YWxpZCB2YWx1ZSB0aG91Z2guXHJcbi8vICAgICAgICAgICAgIGlmICghb2JqLmlzQWxpdmUoKSl7XHJcbi8vICAgICAgICAgICAgICAgICBEZWFkT2JqZWN0TWVzc2FnZS5pbnN0YW5jZShvYmosIHtmcm9tRGVyZWZlcmVuY2U6dHJ1ZX0pLmRpc3BsYXkoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAgICAgaW5zdC5zZXRFdmFsUmVzdWx0KG9iaik7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBkZXNjcmliZUV2YWxSZXN1bHQgOiBmdW5jdGlvbihkZXB0aCwgc2ltLCBpbnN0KXtcclxuLy8gICAgICAgICBpZiAoaW5zdCAmJiBpbnN0LmV2YWxSZXN1bHQpe1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gaW5zdC5ldmFsUmVzdWx0LmRlc2NyaWJlKCk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2UgaWYgKGRlcHRoID09IDApe1xyXG4vLyAgICAgICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwidGhlIHJlc3VsdCBvZiBcIiArIHRoaXMuZ2V0U291cmNlVGV4dCgpfTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcInRoZSBvYmplY3QgYXQgYWRkcmVzcyBcIiArIHRoaXMub3BlcmFuZC5kZXNjcmliZUV2YWxSZXN1bHQoZGVwdGgtMSwgc2ltLCB0aGlzLmNoaWxkSW5zdGFuY2Uoc2ltLCBpbnN0LCBcIm9wZXJhbmRcIikpLm1lc3NhZ2V9O1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgZXhwbGFpbiA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIGlmIChpbnN0ICYmIGluc3QuY2hpbGRJbnN0YW5jZXMgJiYgaW5zdC5jaGlsZEluc3RhbmNlcy5vcGVyYW5kICYmIGluc3QuY2hpbGRJbnN0YW5jZXMub3BlcmFuZC5ldmFsUmVzdWx0KXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcIldlIHdpbGwgZmluZCB0aGUgb2JqZWN0IGF0IGFkZHJlc3MgXCIgKyBpbnN0LmNoaWxkSW5zdGFuY2VzLm9wZXJhbmQuZXZhbFJlc3VsdC5kZXNjcmliZSgpLm1lc3NhZ2V9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJUaGUgcmVzdWx0IG9mIFwiICsgdGhpcy5vcGVyYW5kLmRlc2NyaWJlRXZhbFJlc3VsdCgwLCBzaW0sIGluc3QgJiYgaW5zdC5jaGlsZEluc3RhbmNlcyAmJiBpbnN0LmNoaWxkSW5zdGFuY2VzLm9wZXJhbmQpLm1lc3NhZ2UgKyBcIiB3aWxsIGJlIGRlcmVmZXJlbmNlZC4gVGhpcyBpcywgdGhlIHJlc3VsdCBpcyBhIHBvaW50ZXIvYWRkcmVzcyBhbmQgd2Ugd2lsbCBmb2xsb3cgdGhlIHBvaW50ZXIgdG8gc2VlIHdoYXQgb2JqZWN0IGxpdmVzIHRoZXJlLlwifTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuLy8gZXhwb3J0IHZhciBBZGRyZXNzT2YgPSBVbmFyeU9wLmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZTogXCJBZGRyZXNzT2ZcIixcclxuLy8gICAgIHZhbHVlQ2F0ZWdvcnk6IFwicHJ2YWx1ZVwiLFxyXG5cclxuLy8gICAgIHR5cGVDaGVjayA6IGZ1bmN0aW9uKCl7XHJcbi8vICAgICAgICAgLy8gb3BlcmFuZCBtdXN0IGJlIGFuIGx2YWx1ZVxyXG4vLyAgICAgICAgIGlmKHRoaXMub3BlcmFuZC52YWx1ZUNhdGVnb3J5ICE9PSBcImx2YWx1ZVwiKXtcclxuLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIuYWRkcmVzc09mLmx2YWx1ZV9yZXF1aXJlZCh0aGlzKSk7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICB0aGlzLnR5cGUgPSBUeXBlcy5Qb2ludGVyLmluc3RhbmNlKHRoaXMub3BlcmFuZC50eXBlKTtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgb3BlcmF0ZTogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbi8vICAgICAgICAgdmFyIG9iaiA9IGluc3QuY2hpbGRJbnN0YW5jZXMub3BlcmFuZC5ldmFsUmVzdWx0O1xyXG5cclxuLy8gICAgICAgICBpbnN0LnNldEV2YWxSZXN1bHQob2JqLmdldFBvaW50ZXJUbygpKTtcclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG5cclxuLy8gZXhwb3J0IHZhciBVbmFyeVBsdXMgPSBVbmFyeU9wLmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZTogXCJVbmFyeVBsdXNcIixcclxuLy8gICAgIHZhbHVlQ2F0ZWdvcnk6IFwicHJ2YWx1ZVwiLFxyXG5cclxuLy8gICAgIGNvbnZlcnQgOiBmdW5jdGlvbigpe1xyXG4vLyAgICAgICAgIHRoaXMub3BlcmFuZCA9IHRoaXMub3BlcmFuZCA9IGNvbnZlcnRUb1BSVmFsdWUodGhpcy5vcGVyYW5kKTtcclxuLy8gICAgICAgICBpZiAodGhpcy5vcGVyYW5kLmlzSW50ZWdyYWxUeXBlZCgpKXtcclxuLy8gICAgICAgICAgICAgdGhpcy5vcGVyYW5kID0gdGhpcy5vcGVyYW5kID0gaW50ZWdyYWxQcm9tb3Rpb24odGhpcy5vcGVyYW5kKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIHR5cGVDaGVjayA6IGZ1bmN0aW9uKCl7XHJcbi8vICAgICAgICAgaWYodGhpcy5vcGVyYW5kLnR5cGUuaXNBcml0aG1ldGljVHlwZSB8fCBpc0EodGhpcy5vcGVyYW5kLnR5cGUsIFR5cGVzLlBvaW50ZXIpKSB7XHJcbi8vICAgICAgICAgICAgIHRoaXMudHlwZSA9IHRoaXMub3BlcmFuZC50eXBlO1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIudW5hcnlQbHVzLm9wZXJhbmQodGhpcykpO1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBvcGVyYXRlOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuLy8gICAgICAgICB2YXIgdmFsID0gaW5zdC5jaGlsZEluc3RhbmNlcy5vcGVyYW5kLmV2YWxSZXN1bHQudmFsdWU7XHJcbi8vICAgICAgICAgaW5zdC5zZXRFdmFsUmVzdWx0KFZhbHVlLmluc3RhbmNlKHZhbCwgdGhpcy50eXBlKSk7XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuLy8gZXhwb3J0IHZhciBVbmFyeU1pbnVzID0gVW5hcnlPcC5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiVW5hcnlNaW51c1wiLFxyXG4vLyAgICAgdmFsdWVDYXRlZ29yeTogXCJwcnZhbHVlXCIsXHJcblxyXG4vLyAgICAgY29udmVydCA6IGZ1bmN0aW9uKCl7XHJcbi8vICAgICAgICAgdGhpcy5vcGVyYW5kID0gdGhpcy5vcGVyYW5kID0gY29udmVydFRvUFJWYWx1ZSh0aGlzLm9wZXJhbmQpO1xyXG4vLyAgICAgICAgIGlmICh0aGlzLm9wZXJhbmQuaXNJbnRlZ3JhbFR5cGVkKCkpe1xyXG4vLyAgICAgICAgICAgICB0aGlzLm9wZXJhbmQgPSB0aGlzLm9wZXJhbmQgPSBpbnRlZ3JhbFByb21vdGlvbih0aGlzLm9wZXJhbmQpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgdHlwZUNoZWNrIDogZnVuY3Rpb24oKXtcclxuLy8gICAgICAgICBpZih0aGlzLm9wZXJhbmQudHlwZS5pc0FyaXRobWV0aWNUeXBlKSB7XHJcbi8vICAgICAgICAgICAgIHRoaXMudHlwZSA9IHRoaXMub3BlcmFuZC50eXBlO1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIudW5hcnlNaW51cy5vcGVyYW5kKHRoaXMpKTtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgb3BlcmF0ZTogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbi8vICAgICAgICAgdmFyIHZhbCA9IGluc3QuY2hpbGRJbnN0YW5jZXMub3BlcmFuZC5ldmFsUmVzdWx0LnZhbHVlO1xyXG4vLyAgICAgICAgIGluc3Quc2V0RXZhbFJlc3VsdChWYWx1ZS5pbnN0YW5jZSgtdmFsLCB0aGlzLnR5cGUpKTtcclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG4vLyBleHBvcnQgdmFyIExvZ2ljYWxOb3QgPSBVbmFyeU9wLmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZTogXCJMb2dpY2FsTm90XCIsXHJcbi8vICAgICB2YWx1ZUNhdGVnb3J5OiBcInBydmFsdWVcIixcclxuLy8gICAgIHR5cGU6IFR5cGVzLkJvb2wuaW5zdGFuY2UoKSxcclxuXHJcbi8vICAgICBjb252ZXJ0IDogZnVuY3Rpb24oKXtcclxuLy8gICAgICAgICB0aGlzLm9wZXJhbmQgPSBzdGFuZGFyZENvbnZlcnNpb24odGhpcy5vcGVyYW5kLCBUeXBlcy5Cb29sLmluc3RhbmNlKCkpO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICB0eXBlQ2hlY2sgOiBmdW5jdGlvbigpe1xyXG4vLyAgICAgICAgIC8vIFR5cGUgY2hlY2tcclxuLy8gICAgICAgICBpZiAoIWlzQSh0aGlzLm9wZXJhbmQudHlwZSwgVHlwZXMuQm9vbCkpe1xyXG4vLyAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5sb2dpY2FsTm90Lm9wZXJhbmRfYm9vbCh0aGlzLCB0aGlzLm9wZXJhbmQpKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIG9wZXJhdGU6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIGluc3Quc2V0RXZhbFJlc3VsdChWYWx1ZS5pbnN0YW5jZSghaW5zdC5jaGlsZEluc3RhbmNlcy5vcGVyYW5kLmV2YWxSZXN1bHQudmFsdWUsIHRoaXMudHlwZSkpO1xyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcbi8vIGV4cG9ydCB2YXIgQml0d2lzZU5vdCA9IFVuc3VwcG9ydGVkLmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZTogXCJCaXR3aXNlTm90XCIsXHJcbi8vICAgICBlbmdsaXNoTmFtZTogXCJiaXR3aXNlIG5vdFwiXHJcbi8vIH0pO1xyXG5cclxuLy8gZXhwb3J0IHZhciBQcmVmaXggPSBVbmFyeU9wLmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZTogXCJQcmVmaXhcIixcclxuLy8gICAgIHZhbHVlQ2F0ZWdvcnk6IFwibHZhbHVlXCIsXHJcbi8vICAgICB0eXBlQ2hlY2sgOiBmdW5jdGlvbigpe1xyXG4vLyAgICAgICAgIC8vIFR5cGUgY2hlY2tcclxuLy8gICAgICAgICBpZiAodGhpcy5vcGVyYW5kLnR5cGUuaXNBcml0aG1ldGljVHlwZSB8fCBpc0EodGhpcy5vcGVyYW5kLnR5cGUsIFR5cGVzLlBvaW50ZXIpKSB7XHJcbi8vICAgICAgICAgICAgIHRoaXMudHlwZSA9IHRoaXMub3BlcmFuZC50eXBlO1xyXG5cclxuLy8gICAgICAgICAgICAgaWYgKHRoaXMub3BlcmF0b3IgPT0gXCItLVwiICYmIGlzQSh0aGlzLm9wZXJhbmQudHlwZSwgVHlwZXMuQm9vbCkpe1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIuaW52YWxpZF9vcGVyYW5kKHRoaXMsIHRoaXMub3BlcmF0b3IsIHRoaXMub3BlcmFuZCkpO1xyXG4vLyAgICAgICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLm9wZXJhbmQudmFsdWVDYXRlZ29yeSA9PT0gXCJsdmFsdWVcIikge1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmx2YWx1ZV9vcGVyYW5kKHRoaXMsIHRoaXMub3BlcmF0b3IpKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5pbnZhbGlkX29wZXJhbmQodGhpcywgdGhpcy5vcGVyYXRvciwgdGhpcy5vcGVyYW5kKSk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuLy8gICAgIG9wZXJhdGU6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIHZhciBvYmogPSBpbnN0LmNoaWxkSW5zdGFuY2VzLm9wZXJhbmQuZXZhbFJlc3VsdDtcclxuLy8gICAgICAgICB2YXIgYW1vdW50ID0gKGlzQSh0aGlzLnR5cGUsIFR5cGVzLlBvaW50ZXIpID8gdGhpcy50eXBlLnB0clRvLnNpemUgOiAxKTtcclxuXHJcbi8vICAgICAgICAgdmFyIG9sZFZhbHVlID0gcmVhZFZhbHVlV2l0aEFsZXJ0KG9iaiwgc2ltLCB0aGlzLm9wZXJhbmQsIGluc3QuY2hpbGRJbnN0YW5jZXMub3BlcmFuZCk7XHJcbi8vICAgICAgICAgdmFyIG5ld1Jhd1ZhbHVlID0gdGhpcy5vcGVyYXRvciA9PT0gXCIrK1wiID8gb2xkVmFsdWUucmF3VmFsdWUoKSArIGFtb3VudCA6IG9sZFZhbHVlLnJhd1ZhbHVlKCkgLSBhbW91bnQ7XHJcblxyXG4vLyAgICAgICAgIGlmIChpc0Eob2JqLnR5cGUsIFR5cGVzLkFycmF5UG9pbnRlcikpe1xyXG4vLyAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IHdlIGhhdmVuJ3QgcnVuIG9mZiB0aGUgYXJyYXlcclxuLy8gICAgICAgICAgICAgaWYgKG5ld1Jhd1ZhbHVlIDwgb2JqLnR5cGUubWluKCkpe1xyXG4vLyAgICAgICAgICAgICAgICAgaWYgKG9iai5pc1ZhbHVlVmFsaWQoKSl7IC8vIGl0IHdhcyB2YWxpZCBidXQgaXMganVzdCBub3cgYmVjb21pbmcgaW52YWxpZFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHNpbS5hbGVydChcIk9vcHMuIFRoYXQgcG9pbnRlciBqdXN0IHdhbmRlcmVkIG9mZiB0aGUgYmVnaW5uaW5nIG9mIGl0cyBhcnJheS5cIik7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZSBpZiAob2JqLnR5cGUub25lUGFzdCgpIDwgbmV3UmF3VmFsdWUpe1xyXG4vLyAgICAgICAgICAgICAgICAgaWYgKG9iai5pc1ZhbHVlVmFsaWQoKSl7IC8vIGl0IHdhcyB2YWxpZCBidXQgaXMganVzdCBub3cgYmVjb21pbmcgaW52YWxpZFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHNpbS5hbGVydChcIk9vcHMuIFRoYXQgcG9pbnRlciBqdXN0IHdhbmRlcmVkIG9mZiB0aGUgZW5kIG9mIGl0cyBhcnJheS5cIik7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZSBpZiAoaXNBKG9iai50eXBlLCBUeXBlcy5Qb2ludGVyKSl7XHJcbi8vICAgICAgICAgICAgIC8vIElmIHRoZSBSVFRJIHdvcmtzIHdlbGwgZW5vdWdoLCB0aGlzIHNob3VsZCBhbHdheXMgYmUgdW5zYWZlXHJcbi8vICAgICAgICAgICAgIHNpbS51bmRlZmluZWRCZWhhdmlvcihcIlVoLCBJIGRvbid0IHRoaW5rIHlvdSdyZSBzdXBwb3NlZCB0byBkbyBhcml0aG1ldGljIHdpdGggdGhhdCBwb2ludGVyLiBJdCdzIG5vdCBwb2ludGluZyBpbnRvIGFuIGFycmF5LlwiKTtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIG9iai53cml0ZVZhbHVlKFZhbHVlLmluc3RhbmNlKG5ld1Jhd1ZhbHVlLCBvbGRWYWx1ZS50eXBlLCB7aW52YWxpZDogIW9sZFZhbHVlLmlzVmFsdWVWYWxpZCgpfSkpO1xyXG4vLyAgICAgICAgIGluc3Quc2V0RXZhbFJlc3VsdChvYmopO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBleHBsYWluIDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbi8vICAgICAgICAgdmFyIGV2ZGVzYyA9IHRoaXMub3BlcmFuZC5kZXNjcmliZUV2YWxSZXN1bHQoMCwgc2ltLCBpbnN0ICYmIGluc3QuY2hpbGRJbnN0YW5jZXMgJiYgaW5zdC5jaGlsZEluc3RhbmNlcy5vcGVyYW5kKS5tZXNzYWdlO1xyXG4vLyAgICAgICAgIHZhciBpbmNEZWMgPSB0aGlzLm9wZXJhdG9yID09PSBcIisrXCIgPyBcImluY3JlbWVudGVkXCIgOiBcImRlY3JlbWVudGVkXCI7XHJcbi8vICAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcIkZpcnN0LCB0aGUgdmFsdWUgb2YgXCIgKyBldmRlc2MgKyBcIiB3aWxsIGJlIFwiICsgaW5jRGVjICsgXCIgYnkgb25lLiBUaGVuIHRoaXMgZXhwcmVzc2lvbiBhcyBhIHdob2xlIHdpbGwgZXZhbHVhdGUgdG8gdGhlIG5ldyB2YWx1ZSBvZiBcIiArIGV2ZGVzYyArIFwiLlwifTtcclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG5cclxuLy8gLy8gVE9ETzogQ29uc29saWRhdGUgcG9zdGZpeCBpbmNyZW1lbnQvZGVjcmVtZW50IGludG8gb25lIGNsYXNzLiAgY29uc2lkZXIgYWxzbyBtZXJnaW5nIHN1YnNjcmlwdFxyXG4vLyAvLyBUT0RPOiBBbGxvdyBvdmVycmlkaW5nIHBvc3RmaXggaW5jcmVtZW50L2RlY3JlbWVudFxyXG4vLyBleHBvcnQgdmFyIEluY3JlbWVudCAgPSBFeHByZXNzaW9uLmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZTogXCJJbmNyZW1lbnRcIixcclxuLy8gICAgIHZhbHVlQ2F0ZWdvcnk6IFwicHJ2YWx1ZVwiLFxyXG4vLyAgICAgaV9jaGlsZHJlblRvQ3JlYXRlIDogW1wib3BlcmFuZFwiXSxcclxuLy8gICAgIGlfY2hpbGRyZW5Ub0V4ZWN1dGUgOiBbXCJvcGVyYW5kXCJdLFxyXG5cclxuLy8gICAgIHR5cGVDaGVjayA6IGZ1bmN0aW9uKCl7XHJcbi8vICAgICAgICAgLy8gVHlwZSBjaGVja1xyXG4vLyAgICAgICAgIGlmICh0aGlzLm9wZXJhbmQudHlwZS5pc0FyaXRobWV0aWNUeXBlIHx8IGlzQSh0aGlzLm9wZXJhbmQudHlwZSwgVHlwZXMuUG9pbnRlcikpIHtcclxuLy8gICAgICAgICAgICAgdGhpcy50eXBlID0gdGhpcy5vcGVyYW5kLnR5cGU7XHJcblxyXG4vLyAgICAgICAgICAgICBpZiAodGhpcy5vcGVyYW5kLnZhbHVlQ2F0ZWdvcnkgPT09IFwibHZhbHVlXCIpIHtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5sdmFsdWVfb3BlcmFuZCh0aGlzLCBcIisrXCIpKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5pbnZhbGlkX29wZXJhbmQodGhpcywgXCIrK1wiLCB0aGlzLm9wZXJhbmQpKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIHN0ZXBGb3J3YXJkIDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcblxyXG4vLyAgICAgICAgIC8vIEV2YWx1YXRlIHN1YmV4cHJlc3Npb25zXHJcbi8vICAgICAgICAgaWYgKGluc3QuaW5kZXggPT0gXCJvcGVyYXRlXCIpe1xyXG4vLyAgICAgICAgICAgICB2YXIgb2JqID0gaW5zdC5jaGlsZEluc3RhbmNlcy5vcGVyYW5kLmV2YWxSZXN1bHQ7XHJcbi8vICAgICAgICAgICAgIHZhciBhbW91bnQgPSAoaXNBKHRoaXMudHlwZSwgVHlwZXMuUG9pbnRlcikgPyB0aGlzLnR5cGUucHRyVG8uc2l6ZSA6IDEpO1xyXG4vLyAgICAgICAgICAgICB2YXIgb2xkVmFsdWUgPSByZWFkVmFsdWVXaXRoQWxlcnQob2JqLCBzaW0sIHRoaXMub3BlcmFuZCwgaW5zdC5jaGlsZEluc3RhbmNlcy5vcGVyYW5kKTtcclxuLy8gICAgICAgICAgICAgdmFyIG5ld1Jhd1ZhbHVlID0gb2xkVmFsdWUucmF3VmFsdWUoKSArIGFtb3VudDtcclxuXHJcblxyXG4vLyAgICAgICAgICAgICBpZiAoaXNBKG9iai50eXBlLCBUeXBlcy5BcnJheVBvaW50ZXIpKXtcclxuLy8gICAgICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgd2UgaGF2ZW4ndCBydW4gb2ZmIHRoZSBhcnJheVxyXG4vLyAgICAgICAgICAgICAgICAgaWYgKG5ld1Jhd1ZhbHVlIDwgb2JqLnR5cGUubWluKCkpe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIC8vc2ltLmFsZXJ0KFwiT29wcy4gVGhhdCBwb2ludGVyIGp1c3Qgd2FuZGVyZWQgb2ZmIHRoZSBiZWdpbm5pbmcgb2YgaXRzIGFycmF5LlwiKTtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9iai50eXBlLm9uZVBhc3QoKSA8IG5ld1Jhd1ZhbHVlKXtcclxuLy8gICAgICAgICAgICAgICAgICAgICAvL3NpbS5hbGVydChcIk9vcHMuIFRoYXQgcG9pbnRlciBqdXN0IHdhbmRlcmVkIG9mZiB0aGUgZW5kIG9mIGl0cyBhcnJheS5cIik7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZSBpZiAoaXNBKG9iai50eXBlLCBUeXBlcy5Qb2ludGVyKSl7XHJcbi8vICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgUlRUSSB3b3JrcyB3ZWxsIGVub3VnaCwgdGhpcyBzaG91bGQgYWx3YXlzIGJlIHVuc2FmZVxyXG4vLyAgICAgICAgICAgICAgICAgc2ltLnVuZGVmaW5lZEJlaGF2aW9yKFwiVWgsIEkgZG9uJ3QgdGhpbmsgeW91J3JlIHN1cHBvc2VkIHRvIGRvIGFyaXRobWV0aWMgd2l0aCB0aGF0IHBvaW50ZXIuIEl0J3Mgbm90IHBvaW50aW5nIGludG8gYW4gYXJyYXkuXCIpO1xyXG4vLyAgICAgICAgICAgICB9XHJcblxyXG5cclxuLy8gICAgICAgICAgICAgb2JqLndyaXRlVmFsdWUoVmFsdWUuaW5zdGFuY2UobmV3UmF3VmFsdWUsIG9sZFZhbHVlLnR5cGUsIHtpbnZhbGlkOiAhb2xkVmFsdWUuaXNWYWx1ZVZhbGlkKCl9KSk7XHJcbi8vICAgICAgICAgICAgIGluc3Quc2V0RXZhbFJlc3VsdChvbGRWYWx1ZSk7XHJcbi8vICAgICAgICAgICAgIHRoaXMuZG9uZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG4vLyBleHBvcnQgdmFyIERlY3JlbWVudCAgPSBFeHByZXNzaW9uLmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZTogXCJEZWNyZW1lbnRcIixcclxuLy8gICAgIHZhbHVlQ2F0ZWdvcnk6IFwicHJ2YWx1ZVwiLFxyXG4vLyAgICAgaV9jaGlsZHJlblRvQ3JlYXRlIDogW1wib3BlcmFuZFwiXSxcclxuLy8gICAgIGlfY2hpbGRyZW5Ub0V4ZWN1dGUgOiBbXCJvcGVyYW5kXCJdLFxyXG4vLyAgICAgdHlwZUNoZWNrIDogZnVuY3Rpb24oKXtcclxuLy8gICAgICAgICAvLyBUeXBlIGNoZWNrXHJcbi8vICAgICAgICAgaWYgKHRoaXMub3BlcmFuZC50eXBlLmlzQXJpdGhtZXRpY1R5cGUgfHwgaXNBKHRoaXMub3BlcmFuZC50eXBlLCBUeXBlcy5Qb2ludGVyKSkge1xyXG4vLyAgICAgICAgICAgICB0aGlzLnR5cGUgPSB0aGlzLm9wZXJhbmQudHlwZTtcclxuXHJcbi8vICAgICAgICAgICAgIGlmICh0aGlzLm9wZXJhdG9yID0gXCItLVwiICYmIGlzQSh0aGlzLm9wZXJhbmQudHlwZSwgVHlwZXMuQm9vbCkpe1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIuaW52YWxpZF9vcGVyYW5kKHRoaXMsIHRoaXMub3BlcmF0b3IsIHRoaXMub3BlcmFuZCkpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMub3BlcmFuZC52YWx1ZUNhdGVnb3J5ID09PSBcImx2YWx1ZVwiKSB7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIubHZhbHVlX29wZXJhbmQodGhpcywgdGhpcy5vcGVyYXRvcikpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmludmFsaWRfb3BlcmFuZCh0aGlzLCB0aGlzLm9wZXJhdG9yLCB0aGlzLm9wZXJhbmQpKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG4vLyAgICAgc3RlcEZvcndhcmQgOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuXHJcbi8vICAgICAgICAgLy8gRXZhbHVhdGUgc3ViZXhwcmVzc2lvbnNcclxuLy8gICAgICAgICBpZiAoaW5zdC5pbmRleCA9PSBcIm9wZXJhdGVcIil7XHJcbi8vICAgICAgICAgICAgIHZhciBvYmogPSBpbnN0LmNoaWxkSW5zdGFuY2VzLm9wZXJhbmQuZXZhbFJlc3VsdDtcclxuLy8gICAgICAgICAgICAgdmFyIGFtb3VudCA9IChpc0EodGhpcy50eXBlLCBUeXBlcy5Qb2ludGVyKSA/IHRoaXMudHlwZS5wdHJUby5zaXplIDogMSk7XHJcbi8vICAgICAgICAgICAgIHZhciBvbGRWYWx1ZSA9IHJlYWRWYWx1ZVdpdGhBbGVydChvYmosIHNpbSwgdGhpcy5vcGVyYW5kLCBpbnN0LmNoaWxkSW5zdGFuY2VzLm9wZXJhbmQpO1xyXG4vLyAgICAgICAgICAgICB2YXIgbmV3UmF3VmFsdWUgPSBvbGRWYWx1ZS5yYXdWYWx1ZSgpIC0gYW1vdW50O1xyXG5cclxuLy8gICAgICAgICAgICAgaWYgKGlzQShvYmoudHlwZSwgVHlwZXMuQXJyYXlQb2ludGVyKSl7XHJcbi8vICAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IHdlIGhhdmVuJ3QgcnVuIG9mZiB0aGUgYXJyYXlcclxuLy8gICAgICAgICAgICAgICAgIGlmIChuZXdSYXdWYWx1ZSA8IG9iai50eXBlLm1pbigpKXtcclxuLy8gICAgICAgICAgICAgICAgICAgICAvL3NpbS5hbGVydChcIk9vcHMuIFRoYXQgcG9pbnRlciBqdXN0IHdhbmRlcmVkIG9mZiB0aGUgYmVnaW5uaW5nIG9mIGl0cyBhcnJheS5cIik7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICBlbHNlIGlmIChvYmoudHlwZS5vbmVQYXN0KCkgPCBuZXdSYXdWYWx1ZSl7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgLy9zaW0uYWxlcnQoXCJPb3BzLiBUaGF0IHBvaW50ZXIganVzdCB3YW5kZXJlZCBvZmYgdGhlIGVuZCBvZiBpdHMgYXJyYXkuXCIpO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGVsc2UgaWYgKGlzQShvYmoudHlwZSwgVHlwZXMuUG9pbnRlcikpe1xyXG4vLyAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIFJUVEkgd29ya3Mgd2VsbCBlbm91Z2gsIHRoaXMgc2hvdWxkIGFsd2F5cyBiZSB1bnNhZmVcclxuLy8gICAgICAgICAgICAgICAgIHNpbS51bmRlZmluZWRCZWhhdmlvcihcIlVoLCBJIGRvbid0IHRoaW5rIHlvdSdyZSBzdXBwb3NlZCB0byBkbyBhcml0aG1ldGljIHdpdGggdGhhdCBwb2ludGVyLiBJdCdzIG5vdCBwb2ludGluZyBpbnRvIGFuIGFycmF5LlwiKTtcclxuLy8gICAgICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAgICAgb2JqLndyaXRlVmFsdWUoVmFsdWUuaW5zdGFuY2UobmV3UmF3VmFsdWUsIG9sZFZhbHVlLnR5cGUsIHtpbnZhbGlkOiAhb2xkVmFsdWUuaXNWYWx1ZVZhbGlkKCl9KSk7XHJcbi8vICAgICAgICAgICAgIGluc3Quc2V0RXZhbFJlc3VsdChvbGRWYWx1ZSk7XHJcbi8vICAgICAgICAgICAgIHRoaXMuZG9uZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG5cclxuXHJcbi8vIC8vIFRPRE86IEFsbG93IG92ZXJsb2FkaW5nIFN1YnNjcmlwdCB3aXRoIGluaXRpYWxpemVyIGxpc3RcclxuLy8gZXhwb3J0IHZhciBTdWJzY3JpcHQgID0gRXhwcmVzc2lvbi5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiU3Vic2NyaXB0XCIsXHJcbi8vICAgICB2YWx1ZUNhdGVnb3J5OiBcImx2YWx1ZVwiLFxyXG4vLyAgICAgaV9jaGlsZHJlblRvQ3JlYXRlIDogW1wib3BlcmFuZFwiXSxcclxuLy8gICAgIGlfY2hpbGRyZW5Ub0V4ZWN1dGUgOiBbXCJvcGVyYW5kXCIsIFwiYXJnXCJdLFxyXG4vLyAgICAgaV9jaGlsZHJlblRvRXhlY3V0ZUZvck1lbWJlck92ZXJsb2FkIDogW1wib3BlcmFuZFwiXSwgLy8gZG9lcyBub3QgaW5jbHVkZSBvZmZzZXQgYmVjYXVzZSBmdW5jdGlvbiBjYWxsIGRvZXMgdGhhdFxyXG5cclxuLy8gICAgIGNvbXBpbGUgOiBmdW5jdGlvbigpe1xyXG5cclxuLy8gICAgICAgICB0aGlzLm9wZXJhbmQuY29tcGlsZSgpO1xyXG5cclxuLy8gICAgICAgICAvLyBDaGVjayBmb3Igb3ZlcmxvYWRcclxuLy8gICAgICAgICBpZiAoaXNBKHRoaXMub3BlcmFuZC50eXBlLCBUeXBlcy5DbGFzcykpe1xyXG4vLyAgICAgICAgICAgICB0aGlzLmNvbXBpbGVNZW1iZXJPdmVybG9hZCh0aGlzLm9wZXJhbmQsIFt0aGlzLmFzdC5hcmddLCB0aGlzLm9wZXJhbmQudHlwZS5pc0NvbnN0LCBcIltdXCIpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICB0aGlzLm9wZXJhbmQgPSBzdGFuZGFyZENvbnZlcnNpb24odGhpcy5vcGVyYW5kLCBUeXBlcy5Qb2ludGVyKTtcclxuLy8gICAgICAgICAgICAgdGhpcy5hcmcgPSB0aGlzLmlfY3JlYXRlQW5kQ29tcGlsZUNoaWxkRXhwcih0aGlzLmFzdC5hcmcsIFR5cGVzLkludC5pbnN0YW5jZSgpKTtcclxuXHJcbi8vICAgICAgICAgICAgIHRoaXMuY29udmVydCgpO1xyXG4vLyAgICAgICAgICAgICB0aGlzLnR5cGVDaGVjaygpO1xyXG4vLyAgICAgICAgICAgICB0aGlzLmNvbXBpbGVUZW1wb3JhcmlyZXMoKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIHR5cGVDaGVjayA6IGZ1bmN0aW9uKCl7XHJcbi8vICAgICAgICAgaWYgKCFpc0EodGhpcy5vcGVyYW5kLnR5cGUsIFR5cGVzLlBvaW50ZXIpKSB7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmFycmF5X29wZXJhbmQodGhpcywgdGhpcy5vcGVyYW5kLnR5cGUpKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgdGhpcy50eXBlID0gdGhpcy5vcGVyYW5kLnR5cGUucHRyVG87XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICBpZiAoIWlzQSh0aGlzLmFyZy50eXBlLCBUeXBlcy5JbnQpKSB7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmFycmF5X29mZnNldCh0aGlzLCB0aGlzLmFyZy50eXBlKSk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuXHJcblxyXG4vLyAgICAgdXBOZXh0IDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbi8vICAgICAgICAgaWYgKHRoaXMuaXNPdmVybG9hZClcclxuLy8gICAgICAgICB7XHJcbi8vICAgICAgICAgICAgIGlmIChpbnN0LmluZGV4ID09PSBcInN1YmV4cHJlc3Npb25zXCIpe1xyXG4vLyAgICAgICAgICAgICAgICAgaW5zdC5jaGlsZEluc3RhbmNlcyA9IHt9O1xyXG4vLyAgICAgICAgICAgICAgICAgaW5zdC5jaGlsZEluc3RhbmNlcy5vcGVyYW5kID0gdGhpcy5vcGVyYW5kLmNyZWF0ZUFuZFB1c2hJbnN0YW5jZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgICAgICAgICAgaW5zdC5pbmRleCA9IFwib3BlcmF0ZVwiO1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZSBpZiAoaW5zdC5pbmRleCA9PT0gXCJvcGVyYXRlXCIpe1xyXG4vLyAgICAgICAgICAgICAgICAgaW5zdC5jaGlsZEluc3RhbmNlcy5mdW5jQ2FsbCA9IHRoaXMuZnVuY0NhbGwuY3JlYXRlQW5kUHVzaEluc3RhbmNlKHNpbSwgaW5zdCwgaW5zdC5jaGlsZEluc3RhbmNlcy5vcGVyYW5kLmV2YWxSZXN1bHQpO1xyXG4vLyAgICAgICAgICAgICAgICAgaW5zdC5pbmRleCA9IFwiZG9uZVwiO1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgICAgIGluc3Quc2V0RXZhbFJlc3VsdChpbnN0LmNoaWxkSW5zdGFuY2VzLmZ1bmNDYWxsLmV2YWxSZXN1bHQpO1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5kb25lKHNpbSwgaW5zdCk7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICBFeHByZXNzaW9ucy5TdWJzY3JpcHQuX3BhcmVudC51cE5leHQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIHN0ZXBGb3J3YXJkIDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcblxyXG4vLyAgICAgICAgIC8vIEV2YWx1YXRlIHN1YmV4cHJlc3Npb25zXHJcbi8vICAgICAgICAgaWYgKGluc3QuaW5kZXggPT09IFwib3BlcmF0ZVwiKXtcclxuLy8gICAgICAgICAgICAgLy8gc3ViIGFuZCBvcGVyYW5kIGFyZSBhbHJlYWR5IGV2YWx1YXRlZFxyXG4vLyAgICAgICAgICAgICAvLyByZXN1bHQgb2Ygb3BlcmFuZCBzaG91bGQgYmUgYSBwb2ludGVyXHJcbi8vICAgICAgICAgICAgIC8vIHJlc3VsdCBvZiBzdWIgc2hvdWxkIGJlIGFuIGludGVnZXJcclxuLy8gICAgICAgICAgICAgdmFyIG9mZnNldCA9IGluc3QuY2hpbGRJbnN0YW5jZXMuYXJnLmV2YWxSZXN1bHQ7XHJcbi8vICAgICAgICAgICAgIHZhciBwdHIgPSBpbnN0LmNoaWxkSW5zdGFuY2VzLm9wZXJhbmQuZXZhbFJlc3VsdDtcclxuLy8gICAgICAgICAgICAgcHRyID0gVmFsdWUuaW5zdGFuY2UocHRyLnZhbHVlK29mZnNldC52YWx1ZSp0aGlzLnR5cGUuc2l6ZSwgcHRyLnR5cGUpO1xyXG4vLyAgICAgICAgICAgICB2YXIgYWRkciA9IHB0ci52YWx1ZTtcclxuXHJcblxyXG5cclxuLy8gICAgICAgICAgICAgaWYgKFR5cGVzLlBvaW50ZXIuaXNOZWdhdGl2ZShhZGRyKSl7XHJcbi8vICAgICAgICAgICAgICAgICBzaW0uY3Jhc2goXCJHb29kIHdvcmsuIFlvdSBzdWJzY3JpcHRlZCBzbyBmYXIgYmFja3dhcmRzIG9mZiB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheSB5b3Ugd2VudCB0byBhIG5lZ2F0aXZlIGFkZHJlc3MuIC1fXy1cIik7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZSBpZiAoaXNBKHB0ci50eXBlLCBUeXBlcy5BcnJheVBvaW50ZXIpKXtcclxuLy8gICAgICAgICAgICAgICAgIC8vIElmIGl0J3MgYW4gYXJyYXkgcG9pbnRlciwgbWFrZSBzdXJlIGl0J3MgaW4gYm91bmRzIGFuZCBub3Qgb25lLXBhc3RcclxuLy8gICAgICAgICAgICAgICAgIGlmIChhZGRyIDwgcHRyLnR5cGUubWluKCkpe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHNpbS51bmRlZmluZWRCZWhhdmlvcihcIlRoYXQgc3Vic2NyaXB0IG9wZXJhdGlvbiBnb2VzIG9mZiB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheS4gVGhpcyBjb3VsZCBjYXVzZSBhIHNlZ2ZhdWx0LCBvciB3b3JzZSAtIHlvdSBtaWdodCBqdXN0IGFjY2Vzcy9jaGFuZ2Ugb3RoZXIgbWVtb3J5IG91dHNpZGUgdGhlIGFycmF5LlwiKTtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIGVsc2UgaWYgKHB0ci50eXBlLm9uZVBhc3QoKSA8IGFkZHIpe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHNpbS51bmRlZmluZWRCZWhhdmlvcihcIlRoYXQgc3Vic2NyaXB0IG9wZXJhdGlvbiBnb2VzIG9mZiB0aGUgZW5kIG9mIHRoZSBhcnJheS4gVGhpcyBjb3VsZCBjYXVzZSBhIHNlZ2ZhdWx0LCBvciB3b3JzZSAtIHlvdSBtaWdodCBqdXN0IGFjY2Vzcy9jaGFuZ2Ugb3RoZXIgbWVtb3J5IG91dHNpZGUgdGhlIGFycmF5LlwiKTtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFkZHIgPT0gcHRyLnR5cGUub25lUGFzdCgpKXtcclxuLy8gICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiB0ZWNobmljYWxseSB0aGlzIGlzIG5vdCB1bmRlZmluZWQgYmVoYXZpb3IgdW5sZXNzIHRoZSByZXN1bHQgb2YgdGhlIGRlcmVmZXJlbmNlIHVuZGVyZ29lcyBhbiBsdmFsdWUtdG8tcnZhbHVlIGNvbnZlcnNpb24gdG8gbG9vayB1cCB0aGUgb2JqZWN0XHJcbi8vICAgICAgICAgICAgICAgICAgICAgc2ltLnVuZGVmaW5lZEJlaGF2aW9yKFwiVGhhdCBzdWJzY3JpcHQgYWNjZXNzZXMgdGhlIGVsZW1lbnQgb25lIHBhc3QgdGhlIGVuZCBvZiB0aGUgYXJyYXkuIFRoaXMgY291bGQgY2F1c2UgYSBzZWdmYXVsdCwgb3Igd29yc2UgLSB5b3UgbWlnaHQganVzdCBhY2Nlc3MvY2hhbmdlIG90aGVyIG1lbW9yeSBvdXRzaWRlIHRoZSBhcnJheS5cIik7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgICAgICB2YXIgb2JqID0gc2ltLm1lbW9yeS5kZXJlZmVyZW5jZShwdHIpO1xyXG5cclxuLy8gICAgICAgICAgICAgLy8gTm90ZTogZGVhZCBvYmplY3QgaXMgbm90IG5lY2Vzc2FyaWx5IGludmFsaWQuIEludmFsaWQgaGFzIHRvIGRvIHdpdGggdGhlIHZhbHVlXHJcbi8vICAgICAgICAgICAgIC8vIHdoaWxlIGRlYWQvYWxpdmUgaGFzIHRvIGRvIHdpdGggdGhlIG9iamVjdCBpdHNlbGYuIFJlYWRpbmcgZnJvbSBkZWFkIG9iamVjdCBkb2VzXHJcbi8vICAgICAgICAgICAgIC8vIHlpZWxkIGFuIGludmFsaWQgdmFsdWUgdGhvdWdoLlxyXG4vLyAgICAgICAgICAgICBpZiAoIW9iai5pc0FsaXZlKCkpe1xyXG4vLyAgICAgICAgICAgICAgICAgRGVhZE9iamVjdE1lc3NhZ2UuaW5zdGFuY2Uob2JqLCB7ZnJvbVN1YnNjcmlwdDp0cnVlfSkuZGlzcGxheShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgICAgICBpbnN0LnNldEV2YWxSZXN1bHQob2JqKTtcclxuLy8gICAgICAgICAgICAgdGhpcy5kb25lKHNpbSwgaW5zdCk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBpc1RhaWxDaGlsZCA6IGZ1bmN0aW9uKGNoaWxkKXtcclxuLy8gICAgICAgICByZXR1cm4ge2lzVGFpbDogZmFsc2UsXHJcbi8vICAgICAgICAgICAgIHJlYXNvbjogXCJUaGUgc3Vic2NyaXB0aW5nIHdpbGwgaGFwcGVuIGFmdGVyIHRoZSByZWN1cnNpdmUgY2FsbCByZXR1cm5zLlwiLFxyXG4vLyAgICAgICAgICAgICBvdGhlcnM6IFt0aGlzXVxyXG4vLyAgICAgICAgIH07XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuLy8gZXhwb3J0IHZhciBEb3QgID0gRXhwcmVzc2lvbi5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiRG90XCIsXHJcbi8vICAgICBpX3J1bnRpbWVDb25zdHJ1Y3RDbGFzcyA6IFJ1bnRpbWVNZW1iZXJBY2Nlc3MsXHJcbi8vICAgICBpX2NoaWxkcmVuVG9DcmVhdGUgOiBbXCJvcGVyYW5kXCJdLFxyXG4vLyAgICAgaV9jaGlsZHJlblRvRXhlY3V0ZSA6IFtcIm9wZXJhbmRcIl0sXHJcblxyXG4vLyAgICAgaV9jcmVhdGVGcm9tQVNUIDogZnVuY3Rpb24oYXN0LCBjb250ZXh0KSB7XHJcbi8vICAgICAgICAgRG90Ll9wYXJlbnQuaV9jcmVhdGVGcm9tQVNULmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbi8vICAgICAgICAgdGhpcy5tZW1iZXJOYW1lID0gYXN0Lm1lbWJlci5pZGVudGlmaWVyO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBjb21waWxlIDogZnVuY3Rpb24oY29tcGlsYXRpb25Db250ZXh0KSB7XHJcbi8vICAgICAgICAgdGhpcy5pX3BhcmFtVHlwZXMgPSBjb21waWxhdGlvbkNvbnRleHQgJiYgY29tcGlsYXRpb25Db250ZXh0LnBhcmFtVHlwZXM7XHJcbi8vICAgICAgICAgRXhwcmVzc2lvbnMuRG90Ll9wYXJlbnQuY29tcGlsZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICB0eXBlQ2hlY2sgOiBmdW5jdGlvbigpe1xyXG4vLyAgICAgICAgIGlmICghaXNBKHRoaXMub3BlcmFuZC50eXBlLCBUeXBlcy5DbGFzcykpIHtcclxuLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIuZG90LmNsYXNzX3R5cGUodGhpcykpO1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAvLyBGaW5kIG91dCB3aGF0IHRoaXMgaWRlbnRpZmllc1xyXG4vLyAgICAgICAgIHRyeSB7XHJcbi8vICAgICAgICAgICAgIHRoaXMuZW50aXR5ID0gdGhpcy5vcGVyYW5kLnR5cGUuY2xhc3NTY29wZS5yZXF1aXJlZE1lbWJlckxvb2t1cCh0aGlzLm1lbWJlck5hbWUsIHtwYXJhbVR5cGVzOiB0aGlzLmlfcGFyYW1UeXBlcywgaXNUaGlzQ29uc3Q6dGhpcy5vcGVyYW5kLnR5cGUuaXNDb25zdH0pO1xyXG4vLyAgICAgICAgICAgICB0aGlzLnR5cGUgPSB0aGlzLmVudGl0eS50eXBlO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBjYXRjaChlKXtcclxuLy8gICAgICAgICAgICAgaWYgKGlzQShlLCBTZW1hbnRpY0V4Y2VwdGlvbnMuQmFkTG9va3VwKSl7XHJcbi8vICAgICAgICAgICAgICAgICAvLyB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5kb3QubWVtYmVyTG9va3VwKHRoaXMsIHRoaXMub3BlcmFuZC50eXBlLCB0aGlzLm1lbWJlck5hbWUpKTtcclxuLy8gICAgICAgICAgICAgICAgIC8vIFRPRE86IHdoeSBpcyB0aGlzIGNvbW1lbnRlZD9cclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShlLmFubm90YXRpb24odGhpcykpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICBpZiAoaXNBKHRoaXMudHlwZSwgVHlwZXMuUmVmZXJlbmNlKSl7XHJcbi8vICAgICAgICAgICAgIHRoaXMudHlwZSA9IHRoaXMudHlwZS5yZWZUbztcclxuLy8gICAgICAgICAgICAgdGhpcy52YWx1ZUNhdGVnb3J5ID0gXCJsdmFsdWVcIjtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZSBpZiAodGhpcy5vcGVyYW5kLnZhbHVlQ2F0ZWdvcnkgPT09IFwibHZhbHVlXCIpe1xyXG4vLyAgICAgICAgICAgICB0aGlzLnZhbHVlQ2F0ZWdvcnkgPSBcImx2YWx1ZVwiO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICB0aGlzLnZhbHVlQ2F0ZWdvcnkgPSBcInh2YWx1ZVwiO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgdXBOZXh0IDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbi8vICAgICAgICAgaWYgKGluc3QuaW5kZXggPT09IFwic3ViZXhwcmVzc2lvbnNcIil7XHJcbi8vICAgICAgICAgICAgIHJldHVybiBFeHByZXNzaW9uLnVwTmV4dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICAvLyBlbnRpdHkgbWF5IGJlIE1lbWJlclZhcmlhYmxlRW50aXR5IGJ1dCBzaG91bGQgbmV2ZXIgYmUgYW4gQXV0b0VudGl0eVxyXG4vLyAgICAgICAgICAgICBhc3NlcnQoIWlzQSh0aGlzLmVudGl0eSwgQXV0b0VudGl0eSkpO1xyXG4vLyAgICAgICAgICAgICBpbnN0LnNldE9iamVjdEFjY2Vzc2VkRnJvbShpbnN0LmNoaWxkSW5zdGFuY2VzLm9wZXJhbmQuZXZhbFJlc3VsdCk7XHJcbi8vICAgICAgICAgICAgIGluc3Quc2V0RXZhbFJlc3VsdCh0aGlzLmVudGl0eS5ydW50aW1lTG9va3VwKHNpbSwgaW5zdCkpO1xyXG4vLyAgICAgICAgICAgICB0aGlzLmRvbmUoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBpc1RhaWxDaGlsZCA6IGZ1bmN0aW9uKGNoaWxkKXtcclxuLy8gICAgICAgICByZXR1cm4ge2lzVGFpbDogZmFsc2UsXHJcbi8vICAgICAgICAgICAgIHJlYXNvbjogXCJUaGUgZG90IG9wZXJhdGlvbiBpdHNlbGYgd2lsbCBoYXBwZW4gYWZ0ZXIgdGhlIHJlY3Vyc2l2ZSBjYWxsIHJldHVybnMuXCIsXHJcbi8vICAgICAgICAgICAgIG90aGVyczogW3RoaXNdXHJcbi8vICAgICAgICAgfTtcclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG5cclxuXHJcbi8vIGV4cG9ydCB2YXIgQXJyb3cgID0gRXhwcmVzc2lvbi5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiQXJyb3dcIixcclxuLy8gICAgIGlfcnVudGltZUNvbnN0cnVjdENsYXNzIDogUnVudGltZU1lbWJlckFjY2VzcyxcclxuLy8gICAgIHZhbHVlQ2F0ZWdvcnk6IFwibHZhbHVlXCIsXHJcbi8vICAgICBpX2NoaWxkcmVuVG9DcmVhdGUgOiBbXCJvcGVyYW5kXCJdLFxyXG4vLyAgICAgaV9jaGlsZHJlblRvQ29udmVydCA6IHtcclxuLy8gICAgICAgICBvcGVyYW5kIDogVHlwZXMuUG9pbnRlci5pbnN0YW5jZSgpXHJcbi8vICAgICB9LFxyXG4vLyAgICAgaV9jaGlsZHJlblRvRXhlY3V0ZSA6IFtcIm9wZXJhbmRcIl0sXHJcblxyXG4vLyAgICAgaV9jcmVhdGVGcm9tQVNUIDogZnVuY3Rpb24oYXN0LCBjb250ZXh0KSB7XHJcbi8vICAgICAgICAgQXJyb3cuX3BhcmVudC5pX2NyZWF0ZUZyb21BU1QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuLy8gICAgICAgICB0aGlzLm1lbWJlck5hbWUgPSBhc3QubWVtYmVyLmlkZW50aWZpZXI7XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIGNvbXBpbGUgOiBmdW5jdGlvbihjb21waWxhdGlvbkNvbnRleHQpIHtcclxuLy8gICAgICAgICB0aGlzLmlfcGFyYW1UeXBlcyA9IGNvbXBpbGF0aW9uQ29udGV4dCAmJiBjb21waWxhdGlvbkNvbnRleHQucGFyYW1UeXBlcztcclxuLy8gICAgICAgICBFeHByZXNzaW9ucy5Eb3QuX3BhcmVudC5jb21waWxlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIHR5cGVDaGVjayA6IGZ1bmN0aW9uKCl7XHJcbi8vICAgICAgICAgaWYgKCFpc0EodGhpcy5vcGVyYW5kLnR5cGUsIFR5cGVzLlBvaW50ZXIpIHx8ICFpc0EodGhpcy5vcGVyYW5kLnR5cGUucHRyVG8sIFR5cGVzLkNsYXNzKSkge1xyXG4vLyAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5hcnJvdy5jbGFzc19wb2ludGVyX3R5cGUodGhpcykpO1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAvLyBGaW5kIG91dCB3aGF0IHRoaXMgaWRlbnRpZmllc1xyXG4vLyAgICAgICAgIHRyeXtcclxuLy8gICAgICAgICAgICAgdGhpcy5lbnRpdHkgPSB0aGlzLm9wZXJhbmQudHlwZS5wdHJUby5jbGFzc1Njb3BlLnJlcXVpcmVkTWVtYmVyTG9va3VwKHRoaXMubWVtYmVyTmFtZSwge3BhcmFtVHlwZXM6IHRoaXMuaV9wYXJhbVR5cGVzLCBpc1RoaXNDb25zdDp0aGlzLm9wZXJhbmQudHlwZS5wdHJUby5pc0NvbnN0fSk7XHJcbi8vICAgICAgICAgICAgIHRoaXMudHlwZSA9IHRoaXMuZW50aXR5LnR5cGU7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGNhdGNoKGUpe1xyXG4vLyAgICAgICAgICAgICBpZiAoaXNBKGUsIFNlbWFudGljRXhjZXB0aW9ucy5CYWRMb29rdXApKXtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmFycm93Lm1lbWJlckxvb2t1cCh0aGlzLCB0aGlzLm9wZXJhbmQudHlwZS5wdHJUbywgdGhpcy5tZW1iZXJOYW1lKSk7XHJcbi8vICAgICAgICAgICAgICAgICAvLyB0aGlzLmFkZE5vdGUoZS5hbm5vdGF0aW9uKHRoaXMpKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgc3RlcEZvcndhcmQgOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuXHJcbi8vICAgICAgICAgaWYgKGluc3QuaW5kZXggPT0gXCJvcGVyYXRlXCIpe1xyXG4vLyAgICAgICAgICAgICB2YXIgYWRkciA9IGluc3QuY2hpbGRJbnN0YW5jZXMub3BlcmFuZC5ldmFsUmVzdWx0O1xyXG4vLyAgICAgICAgICAgICBpZiAoVHlwZXMuUG9pbnRlci5pc051bGwoYWRkci5yYXdWYWx1ZSgpKSl7XHJcbi8vICAgICAgICAgICAgICAgICBzaW0uY3Jhc2goXCJPdyEgWW91ciBjb2RlIGp1c3QgdHJpZWQgdG8gdXNlIHRoZSBhcnJvdyBvcGVyYXRvciBvbiBhIG51bGwgcG9pbnRlciFcIik7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgaW5zdC5zZXRPYmplY3RBY2Nlc3NlZEZyb20oc2ltLm1lbW9yeS5kZXJlZmVyZW5jZShhZGRyLCB0aGlzLm9wZXJhbmQudHlwZS5wdHJUbykpO1xyXG4vLyAgICAgICAgICAgICBpbnN0LnNldEV2YWxSZXN1bHQodGhpcy5lbnRpdHkucnVudGltZUxvb2t1cChzaW0sIGluc3QpKTtcclxuXHJcbi8vICAgICAgICAgICAgIHRoaXMuZG9uZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIGlzVGFpbENoaWxkIDogZnVuY3Rpb24oY2hpbGQpe1xyXG4vLyAgICAgICAgIHJldHVybiB7aXNUYWlsOiBmYWxzZSxcclxuLy8gICAgICAgICAgICAgcmVhc29uOiBcIlRoZSBhcnJvdyBvcGVyYXRpb24gaXRzZWxmIHdpbGwgaGFwcGVuIGFmdGVyIHRoZSByZWN1cnNpdmUgY2FsbCByZXR1cm5zLlwiLFxyXG4vLyAgICAgICAgICAgICBvdGhlcnM6IFt0aGlzXVxyXG4vLyAgICAgICAgIH07XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuXHJcblxyXG5cclxuLy8gZXhwb3J0IHZhciBQUkVERUZJTkVEX0ZVTkNUSU9OUyA9IHtcclxuLy8gICAgIHJhbmQgOiBmdW5jdGlvbihhcmdzLCBzaW0sIGluc3Qpe1xyXG4vLyAgICAgICAgIHJldHVybiBWYWx1ZS5pbnN0YW5jZShNYXRoLmZsb29yKHNpbS5uZXh0UmFuZG9tKCkgKiAzMjc2NyksIFR5cGVzLkludC5pbnN0YW5jZSgpKTtcclxuLy8gICAgIH0sXHJcbi8vICAgICBcImFzc2VydFwiIDogZnVuY3Rpb24oYXJncywgc2ltLCBpbnN0KXtcclxuLy8gICAgICAgICBpZighYXJnc1swXS5ldmFsUmVzdWx0LnZhbHVlKXtcclxuLy8gICAgICAgICAgICAgc2ltLmFzc2VydGlvbkZhaWx1cmUoXCJZaWtlcyEgQW4gYXNzZXJ0IGZhaWxlZCEgPGJyIC8+PHNwYW4gY2xhc3M9J2NvZGUnPlwiICsgaW5zdC5tb2RlbC5nZXRTb3VyY2VUZXh0KCkgKyBcIjwvc3Bhbj4gb24gbGluZSBcIiArIGluc3QubW9kZWwuZ2V0U291cmNlVGV4dCgpICsgXCIuXCIpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICByZXR1cm4gVmFsdWUuaW5zdGFuY2UoXCJcIiwgVHlwZXMuVm9pZC5pbnN0YW5jZSgpKTtcclxuLy8gICAgIH0sXHJcbi8vICAgICBcInBhdXNlXCIgOiBmdW5jdGlvbihhcmdzLCBzaW0sIGluc3Qpe1xyXG4vLyAgICAgICAgIHNpbS5wYXVzZSgpO1xyXG4vLyAgICAgICAgIHJldHVybiBWYWx1ZS5pbnN0YW5jZShcIlwiLCBUeXBlcy5Wb2lkLmluc3RhbmNlKCkpO1xyXG4vLyAgICAgfSxcclxuLy8gICAgIFwicGF1c2VJZlwiIDogZnVuY3Rpb24oYXJncywgc2ltLCBpbnN0KXtcclxuLy8gICAgICAgICBpZihhcmdzWzBdLmV2YWxSZXN1bHQudmFsdWUpe1xyXG4vLyAgICAgICAgICAgICBzaW0ucGF1c2UoKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgcmV0dXJuIFZhbHVlLmluc3RhbmNlKFwiXCIsIFR5cGVzLlZvaWQuaW5zdGFuY2UoKSk7XHJcbi8vICAgICB9XHJcbi8vIH07XHJcblxyXG5leHBvcnQgdHlwZSBQb3N0Zml4RXhwcmVzc2lvbkFTVE5vZGUgPVxyXG4gICAgU3RhdGljQ2FzdEV4cHJlc3Npb25BU1ROb2RlIHxcclxuICAgIER5bmFtaWNDYXN0RXhwcmVzc2lvbkFTVE5vZGUgfFxyXG4gICAgUmVpbnRlcnByZXRDYXN0RXhwcmVzc2lvbkFTVE5vZGUgfFxyXG4gICAgQ29uc3RDYXN0RXhwcmVzc2lvbkFTVE5vZGUgfFxyXG4gICAgU3Vic2NyaXB0RXhwcmVzc2lvbkFTVE5vZGUgfFxyXG4gICAgRnVuY3Rpb25DYWxsRXhwcmVzc2lvbkFTVE5vZGUgfFxyXG4gICAgRG90RXhwcmVzc2lvbkFTVE5vZGUgfFxyXG4gICAgQXJyb3dFeHByZXNzaW9uQVNUTm9kZSB8XHJcbiAgICBQb3N0Zml4SW5jcmVtZW50RXhwcmVzc2lvbkFTVE5vZGUgfFxyXG4gICAgUG9zdGZpeERlY3JlbWVudEV4cHJlc3Npb25BU1ROb2RlO1xyXG5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3RhdGljQ2FzdEV4cHJlc3Npb25BU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJzdGF0aWNfY2FzdF9leHByZXNzaW9uXCI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRHluYW1pY0Nhc3RFeHByZXNzaW9uQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwiZHluYW1pY19jYXN0X2V4cHJlc3Npb25cIjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBSZWludGVycHJldENhc3RFeHByZXNzaW9uQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwicmVpbnRlcnByZXRfY2FzdF9leHByZXNzaW9uXCI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29uc3RDYXN0RXhwcmVzc2lvbkFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcImNvbnN0X2Nhc3RfZXhwcmVzc2lvblwiO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFN1YnNjcmlwdEV4cHJlc3Npb25BU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJzdWJzY3JpcHRfZXhwcmVzc2lvblwiO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEb3RFeHByZXNzaW9uQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwiZG90X2V4cHJlc3Npb25cIjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBcnJvd0V4cHJlc3Npb25BU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJhcnJvd19leHByZXNzaW9uXCI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUG9zdGZpeEluY3JlbWVudEV4cHJlc3Npb25BU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJwb3N0Zml4X2luY3JlbWVudF9leHByZXNzaW9uXCI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUG9zdGZpeERlY3JlbWVudEV4cHJlc3Npb25BU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJwb3N0Zml4X2RlY3JlbWVudF9leHByZXNzaW9uXCI7XHJcbn1cclxuXHJcblxyXG5cclxuLy8gZXhwb3J0IHZhciBOZXdFeHByZXNzaW9uID0gRXhwcmVzc2lvbi5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiTmV3RXhwcmVzc2lvblwiLFxyXG4vLyAgICAgdmFsdWVDYXRlZ29yeTogXCJwcnZhbHVlXCIsXHJcbi8vICAgICBpbml0SW5kZXg6IFwiYWxsb2NhdGVcIixcclxuLy8gICAgIGNvbXBpbGUgOiBmdW5jdGlvbigpe1xyXG5cclxuLy8gICAgICAgICAvLyBDb21waWxlIHRoZSB0eXBlIHNwZWNpZmllclxyXG4vLyAgICAgICAgIHRoaXMudHlwZVNwZWMgPSBUeXBlU3BlY2lmaWVyLmluc3RhbmNlKHRoaXMuYXN0LnNwZWNzLCB7cGFyZW50OnRoaXN9KTtcclxuLy8gICAgICAgICB0aGlzLnR5cGVTcGVjLmNvbXBpbGUoKTtcclxuXHJcbi8vICAgICAgICAgdGhpcy5oZWFwVHlwZSA9IHRoaXMudHlwZVNwZWMudHlwZTtcclxuXHJcbi8vICAgICAgICAgLy8gQ29tcGlsZSBkZWNsYXJhdG9yIGlmIGl0IGV4aXN0c1xyXG4vLyAgICAgICAgIGlmKHRoaXMuYXN0LmRlY2xhcmF0b3IpIHtcclxuLy8gICAgICAgICAgICAgdGhpcy5kZWNsYXJhdG9yID0gRGVjbGFyYXRvci5pbnN0YW5jZSh0aGlzLmFzdC5kZWNsYXJhdG9yLCB7cGFyZW50OiB0aGlzfSk7XHJcbi8vICAgICAgICAgICAgIHRoaXMuZGVjbGFyYXRvci5jb21waWxlKHtiYXNlVHlwZTogdGhpcy5oZWFwVHlwZX0pO1xyXG4vLyAgICAgICAgICAgICB0aGlzLmhlYXBUeXBlID0gdGhpcy5kZWNsYXJhdG9yLnR5cGU7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICBpZiAoaXNBKHRoaXMuaGVhcFR5cGUsIFR5cGVzLkFycmF5KSl7XHJcbi8vICAgICAgICAgICAgIC8vIE5vdGU6IHRoaXMgaXMgUG9pbnRlciwgcmF0aGVyIHRoYW4gQXJyYXlQb2ludGVyLCBzaW5jZSB0aGUgbGF0dGVyIHNob3VsZCBvbmx5IGJlIHVzZWQgaW4gcnVudGltZSBjb250ZXh0c1xyXG4vLyAgICAgICAgICAgICB0aGlzLnR5cGUgPSBUeXBlcy5Qb2ludGVyLmluc3RhbmNlKHRoaXMuaGVhcFR5cGUuZWxlbVR5cGUpO1xyXG4vLyAgICAgICAgICAgICBpZiAodGhpcy5kZWNsYXJhdG9yLmR5bmFtaWNMZW5ndGhFeHByZXNzaW9uKXtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuZHluYW1pY0xlbmd0aCA9IHRoaXMuaV9jcmVhdGVBbmRDb21waWxlQ2hpbGRFeHByKHRoaXMuZGVjbGFyYXRvci5keW5hbWljTGVuZ3RoRXhwcmVzc2lvbiwgVHlwZXMuSW50Lmluc3RhbmNlKCkpO1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5pbml0SW5kZXggPSBcImxlbmd0aFwiO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2Uge1xyXG4vLyAgICAgICAgICAgICB0aGlzLnR5cGUgPSBUeXBlcy5Qb2ludGVyLmluc3RhbmNlKHRoaXMuaGVhcFR5cGUpO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgdmFyIGVudGl0eSA9IE5ld09iamVjdEVudGl0eS5pbnN0YW5jZSh0aGlzLmhlYXBUeXBlKTtcclxuXHJcbi8vICAgICAgICAgdmFyIGluaXRDb2RlID0gdGhpcy5hc3QuaW5pdGlhbGl6ZXIgfHwge2FyZ3M6IFtdfTtcclxuLy8gICAgICAgICBpZiAoaXNBKHRoaXMuaGVhcFR5cGUsIFR5cGVzLkNsYXNzKSB8fCBpbml0Q29kZS5hcmdzLmxlbmd0aCA9PSAxKXtcclxuLy8gICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplciA9IE5ld0RpcmVjdEluaXRpYWxpemVyLmluc3RhbmNlKGluaXRDb2RlLCB7cGFyZW50OiB0aGlzfSk7XHJcbi8vICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZXIuY29tcGlsZShlbnRpdHkpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNlIGlmIChpbml0Q29kZS5hcmdzLmxlbmd0aCA9PSAwKXtcclxuLy8gICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplciA9IE5ld0RlZmF1bHRJbml0aWFsaXplci5pbnN0YW5jZShpbml0Q29kZSwge3BhcmVudDogdGhpc30pO1xyXG4vLyAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVyLmNvbXBpbGUoZW50aXR5KTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmluaXQuc2NhbGFyX2FyZ3ModGhpcywgdGhpcy5oZWFwVHlwZSkpO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgdGhpcy5jb21waWxlVGVtcG9yYXJpcmVzKCk7XHJcbi8vICAgICB9LFxyXG5cclxuXHJcbi8vICAgICBjcmVhdGVJbnN0YW5jZSA6IGZ1bmN0aW9uKHNpbSwgcGFyZW50KXtcclxuLy8gICAgICAgICB2YXIgaW5zdCA9IEV4cHJlc3Npb24uY3JlYXRlSW5zdGFuY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuLy8gICAgICAgICBpbnN0LmluaXRpYWxpemVyID0gdGhpcy5pbml0aWFsaXplci5jcmVhdGVJbnN0YW5jZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgIHJldHVybiBpbnN0O1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICB1cE5leHQgOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuLy8gICAgICAgICBpZiAoaW5zdC5pbmRleCA9PT0gXCJsZW5ndGhcIil7XHJcbi8vICAgICAgICAgICAgIGluc3QuZHluYW1pY0xlbmd0aCA9IHRoaXMuZHluYW1pY0xlbmd0aC5jcmVhdGVBbmRQdXNoSW5zdGFuY2Uoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICAgICAgaW5zdC5pbmRleCA9IFwiYWxsb2NhdGVcIjtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2UgaWYgKGluc3QuaW5kZXggPT09IFwiaW5pdFwiKXtcclxuLy8gICAgICAgICAgICAgc2ltLnB1c2goaW5zdC5pbml0aWFsaXplcik7XHJcbi8vICAgICAgICAgICAgIGluc3QuaW5kZXggPSBcIm9wZXJhdGVcIjtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBzdGVwRm9yd2FyZCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG5cclxuLy8gICAgICAgICAvLyBEeW5hbWljIG1lbW9yeSAtIGRvZXNuJ3QgZ2V0IGFkZGVkIHRvIGFueSBzY29wZSwgYnV0IHdlIGNyZWF0ZSBvbiB0aGUgaGVhcFxyXG5cclxuLy8gICAgICAgICBpZiAoaW5zdC5pbmRleCA9PT0gXCJhbGxvY2F0ZVwiKSB7XHJcbi8vICAgICAgICAgICAgIHZhciBoZWFwVHlwZSA9IHRoaXMuaGVhcFR5cGU7XHJcblxyXG4vLyAgICAgICAgICAgICAvLyBJZiBpdCdzIGFuIGFycmF5LCB3ZSBuZWVkIHRvIHVzZSB0aGUgZHluYW1pYyBsZW5ndGhcclxuLy8gICAgICAgICAgICAgaWYgKHRoaXMuZHluYW1pY0xlbmd0aCkge1xyXG4vLyAgICAgICAgICAgICAgICAgdmFyIGxlbiA9IGluc3QuZHluYW1pY0xlbmd0aC5ldmFsUmVzdWx0LnJhd1ZhbHVlKCk7XHJcbi8vICAgICAgICAgICAgICAgICBpZiAobGVuID09PSAwKXtcclxuLy8gICAgICAgICAgICAgICAgICAgICBzaW0uYWxlcnQoXCJTb3JyeSwgYnV0IEkgY2FuJ3QgYWxsb2NhdGUgYSBkeW5hbWljIGFycmF5IG9mIHplcm8gbGVuZ3RoLiBJIGtub3cgdGhlcmUncyB0ZWNobmljYWxseSBhbiBvbGQgQy1zdHlsZSBoYWNrIHRoYXQgdXNlcyB6ZXJvLWxlbmd0aCBhcnJheXMsIGJ1dCBoZXksIEknbSBqdXN0IGEgbG9ic3Rlci4gSSdsbCBnbyBhaGVhZCBhbmQgYWxsb2NhdGUgYW4gYXJyYXkgb2YgbGVuZ3RoIDEgaW5zdGVhZC5cIik7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgbGVuID0gMTtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxlbiA8IDApe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHNpbS51bmRlZmluZWRCZWhhdmlvcihcIkkgY2FuJ3QgYWxsb2NhdGUgYW4gYXJyYXkgb2YgbmVnYXRpdmUgbGVuZ3RoLiBUaGF0IGRvZXNuJ3QgZXZlbiBtYWtlIHNlbnNlLiBJJ2xsIGp1c3QgYWxsb2NhdGUgYW4gYXJyYXkgb2YgbGVuZ3RoIDEgaW5zdGVhZC5cIik7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgbGVuID0gMTtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIGhlYXBUeXBlID0gVHlwZXMuQXJyYXkuaW5zdGFuY2UodGhpcy5oZWFwVHlwZS5lbGVtVHlwZSwgbGVuKTtcclxuLy8gICAgICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAgICAgdmFyIG9iaiA9IER5bmFtaWNPYmplY3QuaW5zdGFuY2UoaGVhcFR5cGUpO1xyXG5cclxuLy8gICAgICAgICAgICAgc2ltLm1lbW9yeS5oZWFwLmFsbG9jYXRlTmV3T2JqZWN0KG9iaik7XHJcbi8vICAgICAgICAgICAgIHNpbS5pX3BlbmRpbmdOZXdzLnB1c2gob2JqKTtcclxuLy8gICAgICAgICAgICAgaW5zdC5pX2FsbG9jYXRlZE9iamVjdCA9IG9iajtcclxuLy8gICAgICAgICAgICAgaW5zdC5pbml0aWFsaXplci5zZXRBbGxvY2F0ZWRPYmplY3Qob2JqKTtcclxuLy8gICAgICAgICAgICAgaW5zdC5pbmRleCA9IFwiaW5pdFwiOyAvLyBBbHdheXMgdXNlIGFuIGluaXRpYWxpemVyLiBJZiB0aGVyZSBpc24ndCBvbmUsIHRoZW4gaXQgd2lsbCBqdXN0IGJlIGRlZmF1bHRcclxuLy8gICAgICAgICAgICAgLy9pZiAodGhpcy5pbml0aWFsaXplcil7XHJcbi8vICAgICAgICAgICAgIC8vICAgIGluc3QuaW5kZXggPSBcImluaXRcIjtcclxuLy8gICAgICAgICAgICAgLy99XHJcbi8vICAgICAgICAgICAgIC8vZWxzZXtcclxuLy8gICAgICAgICAgICAgLy8gICAgaW5zdC5pbmRleCA9IFwib3BlcmF0ZVwiO1xyXG4vLyAgICAgICAgICAgICAvL31cclxuLy8gICAgICAgICAgICAgLy9yZXR1cm4gdHJ1ZTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZSBpZiAoaW5zdC5pbmRleCA9PT0gXCJvcGVyYXRlXCIpIHtcclxuLy8gICAgICAgICAgICAgaWYgKGlzQSh0aGlzLmhlYXBUeXBlLCBUeXBlcy5BcnJheSkpe1xyXG4vLyAgICAgICAgICAgICAgICAgLy8gUlRUSSBmb3IgYXJyYXkgcG9pbnRlclxyXG4vLyAgICAgICAgICAgICAgICAgaW5zdC5zZXRFdmFsUmVzdWx0KFZhbHVlLmluc3RhbmNlKGluc3QuaV9hbGxvY2F0ZWRPYmplY3QuYWRkcmVzcywgVHlwZXMuQXJyYXlQb2ludGVyLmluc3RhbmNlKGluc3QuaV9hbGxvY2F0ZWRPYmplY3QpKSk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgICAgIC8vIFJUVEkgZm9yIG9iamVjdCBwb2ludGVyXHJcbi8vICAgICAgICAgICAgICAgICBpbnN0LnNldEV2YWxSZXN1bHQoVmFsdWUuaW5zdGFuY2UoaW5zdC5pX2FsbG9jYXRlZE9iamVjdC5hZGRyZXNzLCBUeXBlcy5PYmplY3RQb2ludGVyLmluc3RhbmNlKGluc3QuaV9hbGxvY2F0ZWRPYmplY3QpKSk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgc2ltLmlfcGVuZGluZ05ld3MucG9wKCk7XHJcbi8vICAgICAgICAgICAgIHRoaXMuZG9uZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICB9LFxyXG4vLyAgICAgZXhwbGFpbiA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIGlmICh0aGlzLmluaXRpYWxpemVyKXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcIkEgbmV3IG9iamVjdCBvZiB0eXBlIFwiICsgdGhpcy5oZWFwVHlwZS5kZXNjcmliZSgpLm5hbWUgKyBcIiB3aWxsIGJlIGNyZWF0ZWQgb24gdGhlIGhlYXAuIFwiICsgdGhpcy5pbml0aWFsaXplci5leHBsYWluKHNpbSwgaW5zdC5pbml0aWFsaXplcikubWVzc2FnZX07XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJBIG5ldyBvYmplY3Qgb2YgdHlwZSBcIiArIHRoaXMuaGVhcFR5cGUuZGVzY3JpYmUoKS5uYW1lICsgXCIgd2lsbCBiZSBjcmVhdGVkIG9uIHRoZSBoZWFwLlwifTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuXHJcblxyXG5cclxuLy8gZXhwb3J0IHZhciBEZWxldGUgID0gRXhwcmVzc2lvbi5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiRGVsZXRlXCIsXHJcbi8vICAgICB2YWx1ZUNhdGVnb3J5OiBcInBydmFsdWVcIixcclxuLy8gICAgIHR5cGU6IFR5cGVzLlZvaWQuaW5zdGFuY2UoKSxcclxuLy8gICAgIGlfY2hpbGRyZW5Ub0NyZWF0ZSA6IFtcIm9wZXJhbmRcIl0sXHJcbi8vICAgICBpX2NoaWxkcmVuVG9Db252ZXJ0IDoge1xyXG4vLyAgICAgICAgIFwib3BlcmFuZFwiIDogVHlwZXMuUG9pbnRlci5pbnN0YW5jZSgpXHJcbi8vICAgICB9LFxyXG4vLyAgICAgaV9jaGlsZHJlblRvRXhlY3V0ZSA6IFtcIm9wZXJhbmRcIl0sXHJcblxyXG4vLyAgICAgdHlwZUNoZWNrIDogZnVuY3Rpb24oKXtcclxuXHJcbi8vICAgICAgICAgaWYgKGlzQSh0aGlzLm9wZXJhbmQudHlwZS5wdHJUbywgVHlwZXMuQ2xhc3MpKXtcclxuLy8gICAgICAgICAgICAgdmFyIGNsYXNzVHlwZSA9IHRoaXMub3BlcmFuZC50eXBlLnB0clRvO1xyXG4vLyAgICAgICAgICAgICB2YXIgZGVzdCA9IGNsYXNzVHlwZS5kZXN0cnVjdG9yO1xyXG4vLyAgICAgICAgICAgICAvL1RPRE8gbm90IGZvdW5kIGFuZCBhbWJpZ3VvdXNcclxuLy8gICAgICAgICAgICAgaWYgKGlzQShkZXN0LCBGdW5jdGlvbkVudGl0eSkpe1xyXG4vLyAgICAgICAgICAgICAgICAgLy90aGlzLmFzc25PcCA9IGFzc25PcDtcclxuLy8gICAgICAgICAgICAgICAgIC8vdGhpcy50eXBlID0gbm9SZWYoYXNzbk9wLnR5cGUucmV0dXJuVHlwZSk7XHJcbi8vICAgICAgICAgICAgICAgICAvLyBBdHRlbXB0IHN0YW5kYXJkIGNvbnZlcnNpb24gb2YgcmhzIHRvIG1hdGNoIGxocywgd2l0aG91dCBsdmFsdWUgdG8gcnZhbHVlXHJcbi8vICAgICAgICAgICAgICAgICAvL3RoaXMucmhzID0gdGhpcy5zdWIucmhzID0gc3RhbmRhcmRDb252ZXJzaW9uKHRoaXMucmhzLCB0aGlzLmxocy50eXBlLCB7c3VwcHJlc3NMVFI6dHJ1ZX0pO1xyXG5cclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuZnVuY0NhbGwgPSB0aGlzLmZ1bmNDYWxsID0gRnVuY3Rpb25DYWxsLmluc3RhbmNlKHthcmdzOiBbXX0sIHtwYXJlbnQ6dGhpc30pO1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5mdW5jQ2FsbC5jb21waWxlKHtmdW5jOiBkZXN0fSk7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSB0aGlzLmZ1bmNDYWxsLnR5cGU7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmRlbGV0ZS5ub19kZXN0cnVjdG9yKHRoaXMsIGNsYXNzVHlwZSkpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAvLyBUeXBlIGNoZWNrXHJcbi8vICAgICAgICAgaWYgKCFpc0EodGhpcy5vcGVyYW5kLnR5cGUsIFR5cGVzLlBvaW50ZXIpKSB7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmRlbGV0ZS5wb2ludGVyKHRoaXMsIHRoaXMub3BlcmFuZC50eXBlKSk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2UgaWYgKCF0aGlzLm9wZXJhbmQudHlwZS5wdHJUby5pc09iamVjdFR5cGUpe1xyXG4vLyAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5kZWxldGUucG9pbnRlclRvT2JqZWN0VHlwZSh0aGlzLCB0aGlzLm9wZXJhbmQudHlwZSkpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcbi8vICAgICBzdGVwRm9yd2FyZCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG5cclxuLy8gICAgICAgICBpZiAoIWluc3QuYWxyZWFkeURlc3RydWN0ZWQpe1xyXG4vLyAgICAgICAgICAgICB2YXIgcHRyID0gaW5zdC5jaGlsZEluc3RhbmNlcy5vcGVyYW5kLmV2YWxSZXN1bHQ7XHJcbi8vICAgICAgICAgICAgIGlmIChUeXBlcy5Qb2ludGVyLmlzTnVsbChwdHIucmF3VmFsdWUoKSkpe1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5kb25lKHNpbSwgaW5zdCk7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm47XHJcbi8vICAgICAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgICAgIC8vIElmIGl0J3MgYW4gYXJyYXkgcG9pbnRlciwganVzdCBncmFiIGFycmF5IG9iamVjdCB0byBkZWxldGUgZnJvbSBSVFRJLlxyXG4vLyAgICAgICAgICAgICAvLyBPdGhlcndpc2UgYXNrIG1lbW9yeSB3aGF0IG9iamVjdCBpdCdzIHBvaW50aW5nIHRvLlxyXG4vLyAgICAgICAgICAgICB2YXIgb2JqO1xyXG4vLyAgICAgICAgICAgICBpZiAoaXNBKHB0ci50eXBlLCBUeXBlcy5BcnJheVBvaW50ZXIpKXtcclxuLy8gICAgICAgICAgICAgICAgIG9iaiA9IHB0ci50eXBlLmFyck9iajtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICAgICAgb2JqID0gc2ltLm1lbW9yeS5kZXJlZmVyZW5jZShwdHIpO1xyXG4vLyAgICAgICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgICAgICBpZiAoIWlzQShvYmosIER5bmFtaWNPYmplY3QpKSB7XHJcbi8vICAgICAgICAgICAgICAgICBpZiAoaXNBKG9iaiwgQXV0b09iamVjdCkpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBzaW0udW5kZWZpbmVkQmVoYXZpb3IoXCJPaCBubyEgVGhlIHBvaW50ZXIgeW91IGdhdmUgdG8gPHNwYW4gY2xhc3M9J2NvZGUnPmRlbGV0ZTwvc3Bhbj4gd2FzIHBvaW50aW5nIHRvIHNvbWV0aGluZyBvbiB0aGUgc3RhY2shXCIpO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgc2ltLnVuZGVmaW5lZEJlaGF2aW9yKFwiT2ggbm8hIFRoZSBwb2ludGVyIHlvdSBnYXZlIHRvIDxzcGFuIGNsYXNzPSdjb2RlJz5kZWxldGU8L3NwYW4+IHdhc24ndCBwb2ludGluZyB0byBhIHZhbGlkIGhlYXAgb2JqZWN0LlwiKTtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuZG9uZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgICAgICBpZiAoaXNBKG9iai50eXBlLCBUeXBlcy5BcnJheSkpe1xyXG4vLyAgICAgICAgICAgICAgICAgc2ltLnVuZGVmaW5lZEJlaGF2aW9yKFwiWW91IHRyaWVkIHRvIGRlbGV0ZSBhbiBhcnJheSBvYmplY3Qgd2l0aCBhIDxzcGFuIGNsYXNzPSdjb2RlJz5kZWxldGU8L3NwYW4+IGV4cHJlc3Npb24uIERpZCB5b3UgZm9yZ2V0IHRvIHVzZSB0aGUgZGVsZXRlW10gc3ludGF4P1wiKTtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuZG9uZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgICAgICAvL2lmICghc2ltaWxhclR5cGUob2JqLnR5cGUsIHRoaXMub3BlcmFuZC50eXBlLnB0clRvKSkge1xyXG4vLyAgICAgICAgICAgICAvLyAgICBzaW0uYWxlcnQoXCJUaGUgdHlwZSBvZiB0aGUgcG9pbnRlciB5b3UgZ2F2ZSB0byA8c3BhbiBjbGFzcz0nY29kZSc+ZGVsZXRlPC9zcGFuPiBpcyBkaWZmZXJlbnQgdGhhbiB0aGUgdHlwZSBvZiB0aGUgb2JqZWN0IEkgZm91bmQgb24gdGhlIGhlYXAgLSB0aGF0J3MgYSBiYWQgdGhpbmchXCIpO1xyXG4vLyAgICAgICAgICAgICAvLyAgICB0aGlzLmRvbmUoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICAgICAgLy8gICAgcmV0dXJuO1xyXG4vLyAgICAgICAgICAgICAvL31cclxuXHJcbi8vICAgICAgICAgICAgIGlmICghb2JqLmlzQWxpdmUoKSkge1xyXG4vLyAgICAgICAgICAgICAgICAgRGVhZE9iamVjdE1lc3NhZ2UuaW5zdGFuY2Uob2JqLCB7ZnJvbURlbGV0ZTp0cnVlfSkuZGlzcGxheShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5kb25lKHNpbSwgaW5zdCk7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm47XHJcbi8vICAgICAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgICAgIGluc3QuYWxyZWFkeURlc3RydWN0ZWQgPSB0cnVlO1xyXG4vLyAgICAgICAgICAgICBpZih0aGlzLmZ1bmNDYWxsKXtcclxuLy8gICAgICAgICAgICAgICAgIC8vIFNldCBvYmogYXMgcmVjZWl2ZXIgZm9yIHZpcnR1YWwgZGVzdHJ1Y3RvciBsb29rdXBcclxuLy8gICAgICAgICAgICAgICAgIHZhciBkZXN0ID0gdGhpcy5mdW5jQ2FsbC5jcmVhdGVBbmRQdXNoSW5zdGFuY2Uoc2ltLCBpbnN0LCBvYmopO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICB2YXIgZGVsZXRlZCA9IHNpbS5tZW1vcnkuaGVhcC5kZWxldGVPYmplY3QoaW5zdC5jaGlsZEluc3RhbmNlcy5vcGVyYW5kLmV2YWxSZXN1bHQudmFsdWUsIGluc3QpO1xyXG4vLyAgICAgICAgICAgICB0aGlzLmRvbmUoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBpc1RhaWxDaGlsZCA6IGZ1bmN0aW9uKGNoaWxkKXtcclxuLy8gICAgICAgICByZXR1cm4ge2lzVGFpbDogZmFsc2UsXHJcbi8vICAgICAgICAgICAgIHJlYXNvbjogXCJUaGUgZGVsZXRlIG9wZXJhdGlvbiB3aWxsIGhhcHBlbiBhZnRlciB0aGUgcmVjdXJzaXZlIGNhbGwgcmV0dXJucy5cIixcclxuLy8gICAgICAgICAgICAgb3RoZXJzOiBbdGhpc11cclxuLy8gICAgICAgICB9O1xyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcbi8vIC8vVE9ETzogbW92ZSB0byBydW50aW1lRW52aXJvbm1lbnQgb3IgbWVtb3J5IGpzIG1vZHVsZXM/XHJcbi8vIC8qKlxyXG4vLyAgKlxyXG4vLyAgKiBAcGFyYW0gc2ltXHJcbi8vICAqIEBwYXJhbSBpbnN0XHJcbi8vICAqIEBwYXJhbSB7VmFsdWUgfCBDUFBPYmplY3R9IHB0clxyXG4vLyAgKiBAcmV0dXJucyB7Q1BQT2JqZWN0P31cclxuLy8gICovXHJcbi8vIHZhciBkZWxldGVIZWFwQXJyYXkgPSBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0LCBwdHIpIHtcclxuLy8gICAgIGlmKFR5cGVzLlBvaW50ZXIuaXNOdWxsKHB0ci5yYXdWYWx1ZSgpKSl7XHJcbi8vICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIC8vIElmIGl0J3MgYW4gYXJyYXkgcG9pbnRlciwganVzdCBncmFiIGFycmF5IG9iamVjdCB0byBkZWxldGUgZnJvbSBSVFRJLlxyXG4vLyAgICAgLy8gT3RoZXJ3aXNlIGFzayBtZW1vcnkgd2hhdCBvYmplY3QgaXQncyBwb2ludGluZyB0by5cclxuLy8gICAgIHZhciBvYmo7XHJcbi8vICAgICBpZiAoaXNBKHB0ci50eXBlLCBUeXBlcy5BcnJheVBvaW50ZXIpKXtcclxuLy8gICAgICAgICBvYmogPSBwdHIudHlwZS5hcnJPYmo7XHJcbi8vICAgICAgICAgLy8gaWYgdGhlIGFkZHJlc3MgaXMgbm90IHRoZSBzYW1lLCBpdCBtZWFucyB3ZSdyZSBkZWxldGluZyB0aHJvdWdoIGFuIGFycmF5IHBvaW50ZXIsXHJcbi8vICAgICAgICAgLy8gYnV0IG5vdCBvbmUgdGhhdCBpcyBwb2ludGluZyB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheS4gdGhpcyBjYXVzZXMgdW5kZWZpbmVkIGJlaGF2aW9yXHJcbi8vICAgICAgICAgaWYgKHB0ci5yYXdWYWx1ZSgpICE9PSBvYmouYWRkcmVzcykge1xyXG4vLyAgICAgICAgICAgICBzaW0udW5kZWZpbmVkQmVoYXZpb3IoXCJJdCBsb29rcyBsaWtlIHlvdSB1c2VkIDxzcGFuIGNsYXNzPSdjb2RlJz5kZWxldGVbXTwvc3Bhbj4gb24gYSBwb2ludGVyIHRvIGFuIGFycmF5LCBidXQgaXQgd2Fzbid0IHBvaW50aW5nIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFycmF5IGFzIGlzIHJlcXVpcmVkIGZvciA8c3BhbiBjbGFzcz0nY29kZSc+ZGVsZXRlW108L3NwYW4+LiBUaGlzIGNhdXNlcyB1bmRlZmluZWQgYmVoYXZpb3IhXCIpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuLy8gICAgIGVsc2V7XHJcbi8vICAgICAgICAgb2JqID0gc2ltLm1lbW9yeS5kZXJlZmVyZW5jZShwdHIpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIC8vIENoZWNrIHRvIG1ha2Ugc3VyZSB3ZSdyZSBkZWxldGluZyBhIHZhbGlkIGhlYXAgb2JqZWN0LlxyXG4vLyAgICAgaWYgKCFpc0Eob2JqLCBEeW5hbWljT2JqZWN0KSkge1xyXG4vLyAgICAgICAgIGlmIChpc0Eob2JqLCBBdXRvT2JqZWN0KSkge1xyXG4vLyAgICAgICAgICAgICBzaW0udW5kZWZpbmVkQmVoYXZpb3IoXCJPaCBubyEgVGhlIHBvaW50ZXIgeW91IGdhdmUgdG8gPHNwYW4gY2xhc3M9J2NvZGUnPmRlbGV0ZVtdPC9zcGFuPiB3YXMgcG9pbnRpbmcgdG8gc29tZXRoaW5nIG9uIHRoZSBzdGFjayFcIik7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2Uge1xyXG4vLyAgICAgICAgICAgICBzaW0udW5kZWZpbmVkQmVoYXZpb3IoXCJPaCBubyEgVGhlIHBvaW50ZXIgeW91IGdhdmUgdG8gPHNwYW4gY2xhc3M9J2NvZGUnPmRlbGV0ZVtdPC9zcGFuPiB3YXNuJ3QgcG9pbnRpbmcgdG8gYSB2YWxpZCBoZWFwIG9iamVjdC5cIik7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIHJldHVybjtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBpZiAoIWlzQShvYmoudHlwZSwgVHlwZXMuQXJyYXkpKSB7XHJcbi8vICAgICAgICAgc2ltLnVuZGVmaW5lZEJlaGF2aW9yKFwiWW91IHRyaWVkIHRvIGRlbGV0ZSBhIG5vbi1hcnJheSBvYmplY3Qgd2l0aCBhIDxzcGFuIGNsYXNzPSdjb2RlJz5kZWxldGVbXTwvc3Bhbj4gZXhwcmVzc2lvbi4gT29wcyFcIik7XHJcbi8vICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIC8vaWYgKCFzaW1pbGFyVHlwZShvYmoudHlwZS5lbGVtVHlwZSwgdGhpcy5vcGVyYW5kLnR5cGUucHRyVG8pKSB7XHJcbi8vICAgICAvLyAgICBzaW0uYWxlcnQoXCJUaGUgdHlwZSBvZiB0aGUgcG9pbnRlciB5b3UgZ2F2ZSB0byA8c3BhbiBjbGFzcz0nY29kZSc+ZGVsZXRlPC9zcGFuPiBpcyBkaWZmZXJlbnQgdGhhbiB0aGUgZWxlbWVudCB0eXBlIG9mIHRoZSBhcnJheSBvYmplY3QgSSBmb3VuZCBvbiB0aGUgaGVhcCAtIHRoYXQncyBhIGJhZCB0aGluZyFcIik7XHJcbi8vICAgICAvLyAgICB0aGlzLmRvbmUoc2ltLCBpbnN0KTtcclxuLy8gICAgIC8vICAgIHJldHVybjtcclxuLy8gICAgIC8vfVxyXG5cclxuLy8gICAgIGlmICghb2JqLmlzQWxpdmUoKSkge1xyXG4vLyAgICAgICAgIERlYWRPYmplY3RNZXNzYWdlLmluc3RhbmNlKG9iaiwge2Zyb21EZWxldGU6dHJ1ZX0pLmRpc3BsYXkoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICByZXR1cm47XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcmV0dXJuIHNpbS5tZW1vcnkuaGVhcC5kZWxldGVPYmplY3QocHRyLnJhd1ZhbHVlKCksIGluc3QpO1xyXG4vLyB9O1xyXG5cclxuLy8gLy8gVE9ETzogbGlza292IHN1Z2dlc3RzIHRoaXMgc2hvdWxkbid0IGJlIGEgc3VidHlwZS4gVXNlIGhhcy1hIGluc3RlYWQ/XHJcbi8vIGV4cG9ydCB2YXIgRGVsZXRlQXJyYXkgPSBEZWxldGUuZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lOiBcIkRlbGV0ZUFycmF5XCIsXHJcblxyXG4vLyAgICAgc3RlcEZvcndhcmQ6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIHZhciBwdHIgPSBpbnN0LmNoaWxkSW5zdGFuY2VzLm9wZXJhbmQuZXZhbFJlc3VsdDtcclxuLy8gICAgICAgICBkZWxldGVIZWFwQXJyYXkoc2ltLCBpbnN0LCBwdHIpO1xyXG4vLyAgICAgICAgIHRoaXMuZG9uZShzaW0sIGluc3QpO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBpc1RhaWxDaGlsZCA6IGZ1bmN0aW9uKGNoaWxkKXtcclxuLy8gICAgICAgICByZXR1cm4ge2lzVGFpbDogZmFsc2UsXHJcbi8vICAgICAgICAgICAgIHJlYXNvbjogXCJUaGUgZGVsZXRlW10gb3BlcmF0aW9uIHdpbGwgaGFwcGVuIGFmdGVyIHRoZSByZWN1cnNpdmUgY2FsbCByZXR1cm5zLlwiLFxyXG4vLyAgICAgICAgICAgICBvdGhlcnM6IFt0aGlzXVxyXG4vLyAgICAgICAgIH07XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29uc3RydWN0RXhwcmVzc2lvbkFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcImNvbnN0cnVjdF9leHByZXNzaW9uXCI7XHJcbn1cclxuXHJcbi8vIC8vIFRPRE86IFRoaXMgYXBwZWFycyB0byB3b3JrIGJ1dCBJJ20gcHJldHR5IHN1cmUgSSBjb3B5L3Bhc3RlZCBmcm9tIE5ld0V4cHJlc3Npb24gYW5kIG5ldmVyIGZpbmlzaGVkIGNoYW5naW5nIGl0LlxyXG4vLyBleHBvcnQgdmFyIENvbnN0cnVjdEV4cHJlc3Npb24gPSBFeHByZXNzaW9uLmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZTogXCJDb25zdHJ1Y3RFeHByZXNzaW9uXCIsXHJcbi8vICAgICB2YWx1ZUNhdGVnb3J5OiBcInBydmFsdWVcIixcclxuLy8gICAgIGluaXRJbmRleDogXCJpbml0XCIsXHJcbi8vICAgICBjb21waWxlIDogZnVuY3Rpb24oKXtcclxuXHJcbi8vICAgICAgICAgLy8gQ29tcGlsZSB0aGUgdHlwZSBzcGVjaWZpZXJcclxuLy8gICAgICAgICB0aGlzLnR5cGVTcGVjID0gVHlwZVNwZWNpZmllci5pbnN0YW5jZShbdGhpcy5hc3QudHlwZV0sIHtwYXJlbnQ6dGhpc30pO1xyXG4vLyAgICAgICAgIHRoaXMudHlwZVNwZWMuY29tcGlsZSgpO1xyXG5cclxuLy8gICAgICAgICB0aGlzLnR5cGUgPSB0aGlzLnR5cGVTcGVjLnR5cGU7XHJcblxyXG4vLyAgICAgICAgIC8vIENvbXBpbGUgZGVjbGFyYXRvciBpZiBpdCBleGlzdHNcclxuLy8gICAgICAgICBpZih0aGlzLmFzdC5kZWNsYXJhdG9yKSB7XHJcbi8vICAgICAgICAgICAgIHRoaXMuZGVjbGFyYXRvciA9IERlY2xhcmF0b3IuaW5zdGFuY2UodGhpcy5hc3QuZGVjbGFyYXRvciwge3BhcmVudDogdGhpc30pO1xyXG4vLyAgICAgICAgICAgICB0aGlzLmRlY2xhcmF0b3IuY29tcGlsZSh7YmFzZVR5cGU6IHRoaXMuaGVhcFR5cGV9KTtcclxuLy8gICAgICAgICAgICAgdGhpcy5oZWFwVHlwZSA9IHRoaXMuZGVjbGFyYXRvci50eXBlO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgdGhpcy5lbnRpdHkgPSB0aGlzLmNyZWF0ZVRlbXBvcmFyeU9iamVjdCh0aGlzLnR5cGUsIFwiW3RlbXAgXCIgKyB0aGlzLnR5cGUgKyBcIl1cIik7XHJcblxyXG4vLyAgICAgICAgIGlmIChpc0EodGhpcy50eXBlLCBUeXBlcy5DbGFzcykgfHwgdGhpcy5hc3QuYXJncy5sZW5ndGggPT0gMSl7XHJcbi8vICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZXIgPSBEaXJlY3RJbml0aWFsaXplci5pbnN0YW5jZSh0aGlzLmFzdCwge3BhcmVudDogdGhpc30pO1xyXG4vLyAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVyLmNvbXBpbGUodGhpcy5lbnRpdHkpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uaW5pdC5zY2FsYXJfYXJncyh0aGlzLCB0aGlzLnR5cGUpKTtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIHRoaXMuY29tcGlsZVRlbXBvcmFyaXJlcygpO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBjcmVhdGVJbnN0YW5jZSA6IGZ1bmN0aW9uKHNpbSwgcGFyZW50KXtcclxuLy8gICAgICAgICB2YXIgaW5zdCA9IEV4cHJlc3Npb24uY3JlYXRlSW5zdGFuY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuLy8gICAgICAgICBpbnN0LnRlbXBPYmplY3QgPSB0aGlzLmVudGl0eS5vYmplY3RJbnN0YW5jZShpbnN0KTtcclxuLy8gICAgICAgICByZXR1cm4gaW5zdDtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgdXBOZXh0IDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbi8vICAgICAgICAgaWYgKGluc3QuaW5kZXggPT09IFwiaW5pdFwiKXtcclxuLy8gICAgICAgICAgICAgdmFyIGluaXRJbnN0ID0gdGhpcy5pbml0aWFsaXplci5jcmVhdGVBbmRQdXNoSW5zdGFuY2Uoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICAgICAgaW5zdC5pbmRleCA9IFwiZG9uZVwiO1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgaWYgKGlzQSh0aGlzLnR5cGUsIFR5cGVzLmNsYXNzKSl7XHJcbi8vICAgICAgICAgICAgICAgICBpbnN0LnNldEV2YWxSZXN1bHQoaW5zdC50ZW1wT2JqZWN0KTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICAgICAgaW5zdC5zZXRFdmFsUmVzdWx0KGluc3QudGVtcE9iamVjdC5yZWFkVmFsdWUoKSk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgdGhpcy5kb25lKHNpbSwgaW5zdCk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG5cclxuXHJcbi8vIH0pO1xyXG5cclxuXHJcblxyXG4vLyBmdW5jdGlvbiBpZGVudGlmaWVyVG9UZXh0KHVucXVhbGlmaWVkSWQ6IHN0cmluZykgOiBzdHJpbmc7XHJcbi8vIGZ1bmN0aW9uIGlkZW50aWZpZXJUb1RleHQocXVhbElkOiByZWFkb25seSB7aWRlbnRpZmllcjogc3RyaW5nfVtdKSA6IHN0cmluZztcclxuLy8gICAgIGZ1bmN0aW9uIGlkZW50aWZpZXJUb1RleHQocXVhbElkOiBzdHJpbmcgfCByZWFkb25seSB7aWRlbnRpZmllcjogc3RyaW5nfVtdKSA6IHN0cmluZyB7XHJcbi8vICAgICBpZiAodHlwZW9mIHF1YWxJZCA9PT0gXCJzdHJpbmdcIikge1xyXG4vLyAgICAgICAgIHJldHVybiBxdWFsSWQ7IC8vIElmIGl0J3MgYW4gdW5xdWFsaWZpZWQgaWRcclxuLy8gICAgIH1cclxuLy8gICAgIGVsc2Uge1xyXG4vLyAgICAgICAgIHJldHVybiBxdWFsSWQucmVkdWNlKGZ1bmN0aW9uKHN0cixpZCxpKXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHN0ciArIChpID4gMCA/IFwiOjpcIiA6IFwiXCIpICsgaWQuaWRlbnRpZmllcjtcclxuLy8gICAgICAgICB9LFwiXCIpO1xyXG4vLyAgICAgfVxyXG4vLyB9O1xyXG5cclxuLy8gZnVuY3Rpb24gcXVhbGlmaWVkTmFtZVN0cmluZyhuYW1lcykge1xyXG4vLyAgICAgaWYgKCFBcnJheS5pc0FycmF5KG5hbWVzKSl7XHJcbi8vICAgICAgICAgcmV0dXJuIG5hbWVzO1xyXG4vLyAgICAgfVxyXG4vLyAgICAgcmV0dXJuIG5hbWVzLm1hcChmdW5jdGlvbihpZCl7cmV0dXJuIGlkLmlkZW50aWZpZXJ9KS5qb2luKFwiOjpcIilcclxuLy8gfVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJZGVudGlmaWVyRXhwcmVzc2lvbkFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcImlkZW50aWZpZXJfZXhwcmVzc2lvblwiO1xyXG4gICAgcmVhZG9ubHkgaWRlbnRpZmllcjogc3RyaW5nO1xyXG59XHJcblxyXG4vLyBUT0RPOiBtYXliZSBJZGVudGlmaWVyIHNob3VsZCBiZSBhIG5vbi1leGVjdXRhYmxlIGNvbnN0cnVjdCBhbmQgdGhlbiBoYXZlIGEgXHJcbi8vIFRPRE86IG1ha2Ugc2VwYXJhdGUgY2xhc3NlcyBmb3IgcXVhbGlmaWVkIGFuZCB1bnF1YWxpZmllZCBJRHM/XHJcbmV4cG9ydCBjbGFzcyBJZGVudGlmaWVyRXhwcmVzc2lvbiBleHRlbmRzIEV4cHJlc3Npb24ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSB0eXBlPzogT2JqZWN0VHlwZSB8IEZ1bmN0aW9uVHlwZTtcclxuICAgIHB1YmxpYyByZWFkb25seSB2YWx1ZUNhdGVnb3J5ID0gXCJsdmFsdWVcIjtcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZW50aXR5PzogT2JqZWN0RW50aXR5IHwgRnVuY3Rpb25FbnRpdHk7IC8vIFRPRE86IHNob3VsZCB0aGlzIGJlIE5hbWVkRW50aXR5PyBEb2VzIGl0IG1ha2UgYSBkaWZmZXJlbmNlP1xyXG5cclxuICAgIHB1YmxpYyBfdF9jb21waWxlZCE6IENvbXBpbGVkT2JqZWN0SWRlbnRpZmllciB8IENvbXBpbGVkRnVuY3Rpb25JZGVudGlmaWVyO1xyXG5cclxuICAgIC8vIGlfY3JlYXRlRnJvbUFTVDogZnVuY3Rpb24oYXN0LCBjb250ZXh0KXtcclxuXHJcbiAgICAvLyAgICAgSWRlbnRpZmllci5fcGFyZW50LmlfY3JlYXRlRnJvbUFTVC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgLy8gICAgIHRoaXMuaWRlbnRpZmllciA9IHRoaXMuYXN0LmlkZW50aWZpZXI7XHJcbiAgICAvLyAgICAgdGhpcy5pZGVudGlmaWVyVGV4dCA9IHF1YWxpZmllZE5hbWVTdHJpbmcodGhpcy5pZGVudGlmaWVyKTtcclxuICAgIC8vIH0sXHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0LCBuYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihjb250ZXh0KTtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIGNoZWNrSWRlbnRpZmllcih0aGlzLCBuYW1lLCB0aGlzKTtcclxuXHJcbiAgICAgICAgbGV0IGxvb2t1cFJlc3VsdCA9IHRoaXMuY29udGV4dC5jb250ZXh0dWFsU2NvcGUubG9va3VwKHRoaXMubmFtZSk7XHJcblxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGxvb2t1cFJlc3VsdCkpIHtcclxuXHJcbiAgICAgICAgICAgIGlmIChsb29rdXBSZXN1bHQubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBPbmx5IG9uZSBmdW5jdGlvbiB3aXRoIHRoYXQgbmFtZSBmb3VuZCwgc28gd2UganVzdCBncmFiIGl0LlxyXG4gICAgICAgICAgICAgICAgLy8gQW55IGVycm9ycyB3aWxsIGJlIGRldGVjdGVkIGxhdGVyIGUuZy4gd2hlbiBhIGZ1bmN0aW9uIGNhbGwgaXMgYXR0ZW1wdGVkLlxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbnRpdHkgPSBsb29rdXBSZXN1bHRbMF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBOZWVkIHRvIHBlcmZvcm0gb3ZlcmxvYWQgcmVzb2x1dGlvbiB0byBzZWxlY3QgdGhlIGFwcHJvcHJpYXRlIGZ1bmN0aW9uXHJcbiAgICAgICAgICAgICAgICAvLyBmcm9tIHRoZSBmdW5jdGlvbiBvdmVybG9hZCBncm91cC4gVGhpcyBkZXBlbmRzIG9uIGNvbnRleHR1YWwgcGFyYW1ldGVyIHR5cGVzLlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29udGV4dC5jb250ZXh0dWFsUGFyYW1ldGVyVHlwZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgb3ZlcmxvYWRSZXN1bHQgPSBvdmVybG9hZFJlc29sdXRpb24obG9va3VwUmVzdWx0LCB0aGlzLmNvbnRleHQuY29udGV4dHVhbFBhcmFtZXRlclR5cGVzLCB0aGlzLmNvbnRleHQuY29udGV4dHVhbFJlY2VpdmVyVHlwZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvdmVybG9hZFJlc3VsdC5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBhIGJlc3QgcmVzdWx0IGhhcyBiZWVuIHNlbGVjdGVkLCB1c2UgdGhhdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGl0eSA9IG92ZXJsb2FkUmVzdWx0LnNlbGVjdGVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCB1c2UgdGhlIGJlc3QgY2FuZGlkYXRlIChpdCBpcyBzb3J0ZWQgdG8gdGhlIGZyb250IG9mIHRoZSBjYW5kaWRhdGVzIGluIHRoZSByZXN1bHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBlcnJvcnMgdGhhdCBtYWRlIGl0IG5vbi12aWFibGUgd2lsbCBiZSBwaWNrZWQgdXAgbGF0ZXIgZS5nLiB3aGVuIGEgZnVuY3Rpb24gY2FsbCBpcyBhdHRlbXB0ZWQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW50aXR5ID0gb3ZlcmxvYWRSZXN1bHQuY2FuZGlkYXRlc1swXS5jYW5kaWRhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmlkZW4uYW1iaWd1b3VzKHRoaXMsIHRoaXMubmFtZSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmVudGl0eSA9IGxvb2t1cFJlc3VsdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudHlwZSA9IHRoaXMuZW50aXR5ICYmIHRoaXMuZW50aXR5LnR5cGU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRnJvbUFTVChhc3Q6IElkZW50aWZpZXJFeHByZXNzaW9uQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpIHtcclxuICAgICAgICByZXR1cm4gbmV3IElkZW50aWZpZXJFeHByZXNzaW9uKGNvbnRleHQsIGFzdC5pZGVudGlmaWVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUV4cHJlc3Npb248VCBleHRlbmRzIE9iamVjdFR5cGU+KHRoaXM6IENvbXBpbGVkT2JqZWN0SWRlbnRpZmllcjxUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVPYmplY3RJZGVudGlmaWVyPFQ+O1xyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPFQgZXh0ZW5kcyBGdW5jdGlvblR5cGU+KHRoaXM6IENvbXBpbGVkRnVuY3Rpb25JZGVudGlmaWVyLCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZUZ1bmN0aW9uSWRlbnRpZmllcjtcclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbjxUIGV4dGVuZHMgVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnk+KHRoaXM6IENvbXBpbGVkRXhwcmVzc2lvbjxULFY+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogbmV2ZXI7XHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUV4cHJlc3Npb24ocGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZW50aXR5IGluc3RhbmNlb2YgRnVuY3Rpb25FbnRpdHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSdW50aW1lRnVuY3Rpb25JZGVudGlmaWVyKDxhbnk+dGhpcywgcGFyZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUnVudGltZU9iamVjdElkZW50aWZpZXIoPGFueT50aGlzLCBwYXJlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzY3JpYmVFdmFsUmVzdWx0KGRlcHRoOiBudW1iZXIpOiBEZXNjcmlwdGlvbiB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZGVzY3JpYmVFdmFsUmVzdWx0IDogZnVuY3Rpb24oZGVwdGgsIHNpbSwgaW5zdCl7XHJcbiAgICAvLyAgICAgaWYgKGluc3QgJiYgaW5zdC5ldmFsUmVzdWx0KXtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIGluc3QuZXZhbFJlc3VsdC5kZXNjcmliZSgpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICAvLyBOb3RlIGRvbid0IGNhcmUgYWJvdXQgZGVwdGggc2luY2Ugd2UgYWx3YXlzIGp1c3QgdXNlIGlkZW50aWZpZXJcclxuICAgIC8vICAgICBlbHNle1xyXG4gICAgLy8gICAgICAgICByZXR1cm4gdGhpcy5lbnRpdHkuZGVzY3JpYmUoc2ltLCBpbnN0KTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9LFxyXG5cclxuICAgIC8vIGV4cGxhaW4gOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIHttZXNzYWdlOiB0aGlzLmVudGl0eS5uYW1lfTtcclxuICAgIC8vIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZE9iamVjdElkZW50aWZpZXI8VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiBleHRlbmRzIElkZW50aWZpZXJFeHByZXNzaW9uLCBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcbiAgICByZWFkb25seSB0ZW1wb3JhcnlEZWFsbG9jYXRvcj86IENvbXBpbGVkVGVtcG9yYXJ5RGVhbGxvY2F0b3I7IC8vIHRvIG1hdGNoIENvbXBpbGVkUG90ZW50aWFsRnVsbEV4cHJlc3Npb24gc3RydWN0dXJlXHJcblxyXG4gICAgcmVhZG9ubHkgdHlwZTogVDtcclxuICAgIHJlYWRvbmx5IHZhbHVlQ2F0ZWdvcnk6IFwibHZhbHVlXCI7XHJcbiAgICByZWFkb25seSBlbnRpdHk6IE9iamVjdEVudGl0eTxUPjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZEZ1bmN0aW9uSWRlbnRpZmllciBleHRlbmRzIElkZW50aWZpZXJFeHByZXNzaW9uLCBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcbiAgICByZWFkb25seSB0ZW1wb3JhcnlEZWFsbG9jYXRvcj86IENvbXBpbGVkVGVtcG9yYXJ5RGVhbGxvY2F0b3I7IC8vIHRvIG1hdGNoIENvbXBpbGVkUG90ZW50aWFsRnVsbEV4cHJlc3Npb24gc3RydWN0dXJlXHJcblxyXG4gICAgcmVhZG9ubHkgdHlwZTogRnVuY3Rpb25UeXBlO1xyXG4gICAgcmVhZG9ubHkgdmFsdWVDYXRlZ29yeTogXCJsdmFsdWVcIjtcclxuICAgIHJlYWRvbmx5IGVudGl0eTogRnVuY3Rpb25FbnRpdHk7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgUnVudGltZU9iamVjdElkZW50aWZpZXI8VCBleHRlbmRzIE9iamVjdFR5cGU+IGV4dGVuZHMgUnVudGltZUV4cHJlc3Npb248VCwgXCJsdmFsdWVcIiwgQ29tcGlsZWRPYmplY3RJZGVudGlmaWVyPFQ+PiB7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChtb2RlbDogQ29tcGlsZWRPYmplY3RJZGVudGlmaWVyPFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICBzdXBlcihtb2RlbCwgcGFyZW50KTtcclxuICAgIH1cclxuXHJcblx0cHJvdGVjdGVkIHVwTmV4dEltcGwoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRFdmFsUmVzdWx0KDxWQ1Jlc3VsdFR5cGVzPFQsIFwibHZhbHVlXCI+PnRoaXMubW9kZWwuZW50aXR5LnJ1bnRpbWVMb29rdXAodGhpcykpO1xyXG4gICAgICAgIHRoaXMuc2ltLnBvcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBzdGVwRm9yd2FyZEltcGwoKTogdm9pZCB7XHJcbiAgICAgICAgLy8gZG8gbm90aGluZ1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUnVudGltZUZ1bmN0aW9uSWRlbnRpZmllciBleHRlbmRzIFJ1bnRpbWVFeHByZXNzaW9uPEZ1bmN0aW9uVHlwZSwgXCJsdmFsdWVcIiwgQ29tcGlsZWRGdW5jdGlvbklkZW50aWZpZXI+IHtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IgKG1vZGVsOiBDb21waWxlZEZ1bmN0aW9uSWRlbnRpZmllciwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgc3VwZXIobW9kZWwsIHBhcmVudCk7XHJcbiAgICB9XHJcblxyXG5cdHByb3RlY3RlZCB1cE5leHRJbXBsKCkge1xyXG4gICAgICAgIHRoaXMuc2V0RXZhbFJlc3VsdCh0aGlzLm1vZGVsLmVudGl0eSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHN0ZXBGb3J3YXJkSW1wbCgpOiB2b2lkIHtcclxuICAgICAgICAvLyBkbyBub3RoaW5nXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVGhpc0V4cHJlc3Npb25BU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJ0aGlzX2V4cHJlc3Npb25cIjtcclxufVxyXG5cclxuLy8gZXhwb3J0IHZhciBUaGlzRXhwcmVzc2lvbiAgPSBFeHByZXNzaW9uLmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZTogXCJUaGlzRXhwcmVzc2lvblwiLFxyXG4vLyAgICAgdmFsdWVDYXRlZ29yeTogXCJwcnZhbHVlXCIsXHJcbi8vICAgICBjb21waWxlIDogZnVuY3Rpb24oKXtcclxuLy8gICAgICAgICB2YXIgZnVuYyA9IHRoaXMuY29udGFpbmluZ0Z1bmN0aW9uKCk7XHJcbi8vICAgICAgICAgaWYgKGZ1bmMuaXNNZW1iZXJGdW5jdGlvbil7XHJcbi8vICAgICAgICAgICAgIHRoaXMudHlwZSA9IFR5cGVzLlBvaW50ZXIuaW5zdGFuY2UoZnVuYy5yZWNlaXZlclR5cGUpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci50aGlzRXhwci5tZW1iZXJGdW5jKHRoaXMpKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG4vLyAgICAgc3RlcEZvcndhcmQgOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuLy8gICAgICAgICAvLyBTZXQgdGhpcyBwb2ludGVyIHdpdGggUlRUSSB0byBwb2ludCB0byByZWNlaXZlclxyXG4vLyAgICAgICAgIGxldCByZWNlaXZlciA9IGluc3QuY29udGFpbmluZ1J1bnRpbWVGdW5jdGlvbi5yZWNlaXZlcjtcclxuLy8gICAgICAgICBpbnN0LnNldEV2YWxSZXN1bHQoVmFsdWUuaW5zdGFuY2UocmVjZWl2ZXIuYWRkcmVzcywgVHlwZXMuT2JqZWN0UG9pbnRlci5pbnN0YW5jZShyZWNlaXZlcikpKTtcclxuLy8gICAgICAgICB0aGlzLmRvbmUoc2ltLCBpbnN0KTtcclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG4vLyBleHBvcnQgdmFyIEVudGl0eUV4cHJlc3Npb24gID0gRXhwcmVzc2lvbi5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiRW50aXR5RXhwcmVzc2lvblwiLFxyXG4vLyAgICAgdmFsdWVDYXRlZ29yeTogXCJsdmFsdWVcIixcclxuLy8gICAgIGluaXQgOiBmdW5jdGlvbihlbnRpdHksIGFzdCwgY29udGV4dCl7XHJcbi8vICAgICAgICAgdGhpcy5pbml0UGFyZW50KGFzdCwgY29udGV4dCk7XHJcbi8vICAgICAgICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XHJcbi8vICAgICAgICAgdGhpcy50eXBlID0gdGhpcy5lbnRpdHkudHlwZTtcclxuLy8gICAgIH0sXHJcbi8vICAgICBjb21waWxlIDogZnVuY3Rpb24oKXtcclxuXHJcbi8vICAgICB9LFxyXG4vLyAgICAgdXBOZXh0IDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbi8vICAgICAgICAgaW5zdC5zZXRFdmFsUmVzdWx0KHRoaXMuZW50aXR5LnJ1bnRpbWVMb29rdXAoc2ltLCBpbnN0KSk7XHJcbi8vICAgICAgICAgdGhpcy5kb25lKHNpbSwgaW5zdCk7XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIHBhcnNlQ1BQQ2hhcihsaXRWYWx1ZTogc3RyaW5nKXtcclxuICAgIHJldHVybiBlc2NhcGVTdHJpbmcobGl0VmFsdWUpLmNoYXJDb2RlQXQoMCk7XHJcbn07XHJcblxyXG5jb25zdCBsaXRlcmFsSlNQYXJzZSA9IHtcclxuXHRcImludFwiOiBwYXJzZUludCxcclxuXHRcImZsb2F0XCI6IHBhcnNlRmxvYXQsXHJcbiAgICBcImRvdWJsZVwiOiBwYXJzZUZsb2F0LFxyXG4gICAgXCJib29sXCIgOiAoYjogYm9vbGVhbikgPT4gKGIgPyAxIDogMCksXHJcbiAgICBcImNoYXJcIjogcGFyc2VDUFBDaGFyXHJcbn07XHJcblxyXG5jb25zdCBsaXRlcmFsVHlwZXMgPSB7XHJcblx0XCJpbnRcIjogSW50LklOVCxcclxuXHRcImZsb2F0XCI6IERvdWJsZS5ET1VCTEUsXHJcblx0XCJkb3VibGVcIjogRG91YmxlLkRPVUJMRSxcclxuICAgIFwiYm9vbFwiOiBCb29sLkJPT0wsXHJcbiAgICBcImNoYXJcIiA6IENoYXIuQ0hBUlxyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTnVtZXJpY0xpdGVyYWxWYWx1ZUZyb21BU1QoYXN0OiBOdW1lcmljTGl0ZXJhbEFTVE5vZGUpIHtcclxuICAgIHJldHVybiBsaXRlcmFsSlNQYXJzZVthc3QudHlwZV0oPGFueT5hc3QudmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBOdW1lcmljTGl0ZXJhbEFTVE5vZGUgPSBGbG9hdExpdGVyYWxBU1ROb2RlIHwgSW50TGl0ZXJhbEFTVE5vZGUgfCBDaGFyTGl0ZXJhbEFTVE5vZGUgfCBCb29sTGl0ZXJhbEFTVE5vZGU7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEZsb2F0TGl0ZXJhbEFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcIm51bWVyaWNfbGl0ZXJhbFwiO1xyXG4gICAgcmVhZG9ubHkgdHlwZTogXCJmbG9hdFwiO1xyXG4gICAgcmVhZG9ubHkgdmFsdWU6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJbnRMaXRlcmFsQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwibnVtZXJpY19saXRlcmFsXCI7XHJcbiAgICByZWFkb25seSB0eXBlOiBcImludFwiO1xyXG4gICAgcmVhZG9ubHkgdmFsdWU6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDaGFyTGl0ZXJhbEFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcIm51bWVyaWNfbGl0ZXJhbFwiO1xyXG4gICAgcmVhZG9ubHkgdHlwZTogXCJjaGFyXCI7XHJcbiAgICByZWFkb25seSB2YWx1ZTogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEJvb2xMaXRlcmFsQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwibnVtZXJpY19saXRlcmFsXCI7XHJcbiAgICByZWFkb25seSB0eXBlOiBcImNoYXJcIjtcclxuICAgIHJlYWRvbmx5IHZhbHVlOiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTnVtZXJpY0xpdGVyYWw8VCBleHRlbmRzIEFyaXRobWV0aWNUeXBlID0gQXJpdGhtZXRpY1R5cGU+IGV4dGVuZHMgRXhwcmVzc2lvbiB7XHJcbiAgICBcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZTogVDtcclxuICAgIHB1YmxpYyByZWFkb25seSB2YWx1ZUNhdGVnb3J5ID0gXCJwcnZhbHVlXCI7XHJcblxyXG5cclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IHZhbHVlOiBWYWx1ZTxUPjtcclxuXHJcbiAgICAvLyBjcmVhdGUgZnJvbSBhc3QgY29kZTpcclxuICAgIC8vIFRPRE86IGFyZSB0aGVyZSBzb21lIGxpdGVyYWwgdHlwZXMgd2l0aG91dCBjb252ZXJzaW9uIGZ1bmN0aW9ucz8gVGhlcmUgc2hvdWxkbid0IGJlLi4uXHJcblxyXG4gICAgLy8gdmFyIGNvbnYgPSBsaXRlcmFsSlNQYXJzZVt0aGlzLmFzdC50eXBlXTtcclxuICAgIC8vIHZhciB2YWwgPSAoY29udiA/IGNvbnYodGhpcy5hc3QudmFsdWUpIDogdGhpcy5hc3QudmFsdWUpO1xyXG5cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCwgdHlwZTogVCwgdmFsdWU6IFJhd1ZhbHVlVHlwZSkge1xyXG4gICAgICAgIHN1cGVyKGNvbnRleHQpO1xyXG5cclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG5cclxuICAgICAgICB0aGlzLnZhbHVlID0gbmV3IFZhbHVlKHZhbHVlLCB0aGlzLnR5cGUpOyAgLy9UT0RPIGZpeCB0aGlzIChtYXliZSB3aXRoIGEgZmFjdG9yeSBmdW5jdGlvbiBmb3IgdmFsdWVzPylcclxuXHR9XHJcbiAgICBcclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRnJvbUFTVChhc3Q6IE51bWVyaWNMaXRlcmFsQVNUTm9kZSwgY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQpIHtcclxuICAgICAgICByZXR1cm4gbmV3IE51bWVyaWNMaXRlcmFsKGNvbnRleHQsIGxpdGVyYWxUeXBlc1thc3QudHlwZV0sIHBhcnNlTnVtZXJpY0xpdGVyYWxWYWx1ZUZyb21BU1QoYXN0KSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPFQgZXh0ZW5kcyBBcml0aG1ldGljVHlwZT4odGhpczogQ29tcGlsZWROdW1lcmljTGl0ZXJhbDxUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVOdW1lcmljTGl0ZXJhbDxUPjtcclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbjxUIGV4dGVuZHMgQXRvbWljVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnk+KHRoaXM6IENvbXBpbGVkRXhwcmVzc2lvbjxULFY+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogbmV2ZXI7XHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUV4cHJlc3Npb248VCBleHRlbmRzIEFyaXRobWV0aWNUeXBlPih0aGlzOiBDb21waWxlZE51bWVyaWNMaXRlcmFsPFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZU51bWVyaWNMaXRlcmFsPFQ+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFJ1bnRpbWVOdW1lcmljTGl0ZXJhbCh0aGlzLCBwYXJlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZXNjcmliZUV2YWxSZXN1bHQoZGVwdGg6IG51bWJlcik6IERlc2NyaXB0aW9uIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gZGVzY3JpYmVFdmFsUmVzdWx0IDogZnVuY3Rpb24oZGVwdGgsIHNpbSwgaW5zdCl7XHJcbiAgICAvLyAgICAgdmFyIHN0ciA9IHRoaXMudmFsdWUudG9TdHJpbmcoKTtcclxuICAgIC8vICAgICByZXR1cm4ge25hbWU6IHN0ciwgbWVzc2FnZTogc3RyfTtcclxuICAgIC8vIH1cclxuXHRcclxuLy9cdHN0ZXBGb3J3YXJkIDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbi8vXHRcdHRoaXMuZG9uZShzaW0sIGluc3QpO1xyXG4vL1x0XHRyZXR1cm4gdHJ1ZTtcclxuLy9cdH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZE51bWVyaWNMaXRlcmFsPFQgZXh0ZW5kcyBBcml0aG1ldGljVHlwZSA9IEFyaXRobWV0aWNUeXBlPiBleHRlbmRzIE51bWVyaWNMaXRlcmFsPFQ+LCBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcbiAgICByZWFkb25seSB0ZW1wb3JhcnlEZWFsbG9jYXRvcj86IENvbXBpbGVkVGVtcG9yYXJ5RGVhbGxvY2F0b3I7IC8vIHRvIG1hdGNoIENvbXBpbGVkUG90ZW50aWFsRnVsbEV4cHJlc3Npb24gc3RydWN0dXJlXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBSdW50aW1lTnVtZXJpY0xpdGVyYWw8VCBleHRlbmRzIEFyaXRobWV0aWNUeXBlID0gQXJpdGhtZXRpY1R5cGU+IGV4dGVuZHMgUnVudGltZUV4cHJlc3Npb248VCwgXCJwcnZhbHVlXCIsIENvbXBpbGVkTnVtZXJpY0xpdGVyYWw8VD4+IHtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IgKG1vZGVsOiBDb21waWxlZE51bWVyaWNMaXRlcmFsPFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICBzdXBlcihtb2RlbCwgcGFyZW50KTtcclxuICAgIH1cclxuXHJcblx0cHJvdGVjdGVkIHVwTmV4dEltcGwoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRFdmFsUmVzdWx0KDxWQ1Jlc3VsdFR5cGVzPFQsIFwicHJ2YWx1ZVwiPj50aGlzLm1vZGVsLnZhbHVlKTtcclxuICAgICAgICB0aGlzLnNpbS5wb3AoKTtcclxuXHR9XHJcblx0XHJcblx0cHJvdGVjdGVkIHN0ZXBGb3J3YXJkSW1wbCgpIHtcclxuICAgICAgICAvLyBEbyBub3RoaW5nXHJcblx0fVxyXG59XHJcblxyXG4vLyBleHBvcnQgY2xhc3MgU3RyaW5nTGl0ZXJhbCBleHRlbmRzIEV4cHJlc3Npb24ge1xyXG4vLyAgICAgcHVibGljIHZhbHVlQ2F0ZWdvcnk6IHN0cmluZztcclxuLy8gICAgIHB1YmxpYyB0eXBlOiBUeXBlO1xyXG4vLyAgICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uKHBhcmVudDogUnVudGltZUNvbnN0cnVjdDxDUFBDb25zdHJ1Y3Q+KTogUnVudGltZUV4cHJlc3Npb25CYXNlPEV4cHJlc3Npb24+IHtcclxuLy8gICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuLy8gICAgIH1cclxuLy8gICAgIHB1YmxpYyBkZXNjcmliZUV2YWxSZXN1bHQoZGVwdGg6IG51bWJlcik6IERlc2NyaXB0aW9uIHtcclxuLy8gICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuLy8gICAgIH1cclxuLy8gICAgIF9uYW1lOiBcIlN0cmluZ0xpdGVyYWxcIixcclxuLy8gICAgIGluaXRJbmRleDogZmFsc2UsXHJcbi8vICAgICBjb21waWxlIDogZnVuY3Rpb24oKXtcclxuXHJcbi8vICAgICAgICAgdmFyIGNvbnYgPSBsaXRlcmFsSlNQYXJzZVt0aGlzLmFzdC50eXBlXTtcclxuLy8gICAgICAgICB2YXIgdmFsID0gKGNvbnYgPyBjb252KHRoaXMuYXN0LnZhbHVlKSA6IHRoaXMuYXN0LnZhbHVlKTtcclxuXHJcbi8vICAgICAgICAgdGhpcy5pX3N0cmluZ0VudGl0eSA9IFN0cmluZ0xpdGVyYWxFbnRpdHkuaW5zdGFuY2UodmFsKTtcclxuLy8gICAgICAgICB0aGlzLnRyYW5zbGF0aW9uVW5pdC5hZGRTdHJpbmdMaXRlcmFsKHRoaXMuaV9zdHJpbmdFbnRpdHkpO1xyXG4vLyAgICAgICAgIHRoaXMuaV9pc1N0cmluZ0xpdGVyYWwgPSB0cnVlO1xyXG4vLyAgICAgICAgIHRoaXMuaV9zdHJpbmdWYWx1ZSA9IHZhbDtcclxuLy8gICAgICAgICB0aGlzLnR5cGUgPSB0aGlzLmlfc3RyaW5nRW50aXR5LnR5cGU7XHJcbi8vICAgICAgICAgdGhpcy52YWx1ZUNhdGVnb3J5ID0gXCJsdmFsdWVcIjtcclxuXHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIHVwTmV4dCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIGluc3QuZXZhbFJlc3VsdCA9IHRoaXMuaV9zdHJpbmdFbnRpdHkucnVudGltZUxvb2t1cChzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgIHRoaXMuZG9uZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgIHJldHVybiB0cnVlO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBkZXNjcmliZUV2YWxSZXN1bHQgOiBmdW5jdGlvbihkZXB0aCwgc2ltLCBpbnN0KXtcclxuLy8gICAgICAgICByZXR1cm4ge25hbWU6IFwidGhlIHN0cmluZyBsaXRlcmFsIFxcXCJcIiArIHRoaXMuaV9zdHJpbmdWYWx1ZSArIFwiXFxcIlwiLCBtZXNzYWdlOiBcInRoZSBzdHJpbmcgbGl0ZXJhbCBcXFwiXCIgKyB0aGlzLmlfc3RyaW5nVmFsdWUgKyBcIlxcXCJcIn07XHJcbi8vICAgICB9XHJcblxyXG4vLyAvL1x0c3RlcEZvcndhcmQgOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuLy8gLy9cdFx0dGhpcy5kb25lKHNpbSwgaW5zdCk7XHJcbi8vIC8vXHRcdHJldHVybiB0cnVlO1xyXG4vLyAvL1x0fVxyXG4vLyB9XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFBhcmVudGhlc2VzRXhwcmVzc2lvbkFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcInBhcmVudGhlc2VzX2V4cHJlc3Npb25cIjtcclxuICAgIHJlYWRvbmx5IHN1YmV4cHJlc3Npb246IEV4cHJlc3Npb25BU1ROb2RlO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUGFyZW50aGVzZXMgZXh0ZW5kcyBFeHByZXNzaW9uIHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZT86IFR5cGU7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmFsdWVDYXRlZ29yeT86IFZhbHVlQ2F0ZWdvcnk7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHN1YmV4cHJlc3Npb246IEV4cHJlc3Npb247XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IF90X2NvbXBpbGVkITogQ29tcGlsZWRQYXJlbnRoZXNlcztcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29udGV4dDogRXhwcmVzc2lvbkNvbnRleHQsIHN1YmV4cHJlc3Npb246IEV4cHJlc3Npb24pIHtcclxuICAgICAgICBzdXBlcihjb250ZXh0KTtcclxuXHJcbiAgICAgICAgdGhpcy5hdHRhY2godGhpcy5zdWJleHByZXNzaW9uID0gc3ViZXhwcmVzc2lvbik7XHJcbiAgICAgICAgdGhpcy50eXBlID0gc3ViZXhwcmVzc2lvbi50eXBlO1xyXG4gICAgICAgIHRoaXMudmFsdWVDYXRlZ29yeSA9IHN1YmV4cHJlc3Npb24udmFsdWVDYXRlZ29yeTtcclxuXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRnJvbUFTVChhc3Q6IFBhcmVudGhlc2VzRXhwcmVzc2lvbkFTVE5vZGUsIGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQYXJlbnRoZXNlcyhjb250ZXh0LCBjcmVhdGVFeHByZXNzaW9uRnJvbUFTVChhc3Quc3ViZXhwcmVzc2lvbiwgY29udGV4dCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbjxUIGV4dGVuZHMgVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnk+KHRoaXM6IENvbXBpbGVkUGFyZW50aGVzZXM8VCxWPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVQYXJlbnRoZXNlczxULFY+O1xyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPFQgZXh0ZW5kcyBUeXBlLCBWIGV4dGVuZHMgVmFsdWVDYXRlZ29yeT4odGhpczogQ29tcGlsZWRFeHByZXNzaW9uPFQsVj4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBuZXZlcjtcclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRXhwcmVzc2lvbjxUIGV4dGVuZHMgVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnk+KHRoaXM6IENvbXBpbGVkUGFyZW50aGVzZXM8VCxWPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVQYXJlbnRoZXNlczxULFY+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFJ1bnRpbWVQYXJlbnRoZXNlcyh0aGlzLCBwYXJlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZXNjcmliZUV2YWxSZXN1bHQoZGVwdGg6IG51bWJlcik6IERlc2NyaXB0aW9uIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBpc1RhaWxDaGlsZCA6IGZ1bmN0aW9uKGNoaWxkKXtcclxuICAgIC8vICAgICByZXR1cm4ge2lzVGFpbDogdHJ1ZX07XHJcbiAgICAvLyB9XHJcbn1cclxuXHJcblxyXG4vLyBUT0RPOiBzaG91bGQgdGhlc2UgaW50ZXJmYWNlIGRlZmluaXRpb25zIGhhdmUgXCJwdWJsaWNcIiBpbiB0aGVtPyB3aGF0IGlzIGJlc3Qgc3R5bGU/XHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRQYXJlbnRoZXNlczxUIGV4dGVuZHMgVHlwZSA9IFR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5ID0gVmFsdWVDYXRlZ29yeT4gZXh0ZW5kcyBQYXJlbnRoZXNlcywgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4gICAgXHJcbiAgICByZWFkb25seSB0ZW1wb3JhcnlEZWFsbG9jYXRvcj86IENvbXBpbGVkVGVtcG9yYXJ5RGVhbGxvY2F0b3I7IC8vIHRvIG1hdGNoIENvbXBpbGVkUG90ZW50aWFsRnVsbEV4cHJlc3Npb24gc3RydWN0dXJlXHJcblxyXG4gICAgcmVhZG9ubHkgdHlwZTogVDtcclxuICAgIHJlYWRvbmx5IHZhbHVlQ2F0ZWdvcnk6IFY7XHJcblxyXG4gICAgcmVhZG9ubHkgc3ViZXhwcmVzc2lvbjogQ29tcGlsZWRFeHByZXNzaW9uPFQsVj47XHJcbn1cclxuXHJcbmNvbnN0IElOREVYX1BBUkVOVEhFU0VTX1NVQkVYUFJFU1NJT05TID0gMDtcclxuY29uc3QgSU5ERVhfUEFSRU5USEVTRVNfRE9ORSA9IDE7XHJcbmV4cG9ydCBjbGFzcyBSdW50aW1lUGFyZW50aGVzZXM8VCBleHRlbmRzIFR5cGUgPSBUeXBlLCBWIGV4dGVuZHMgVmFsdWVDYXRlZ29yeSA9IFZhbHVlQ2F0ZWdvcnk+IGV4dGVuZHMgUnVudGltZUV4cHJlc3Npb248VCxWLCBDb21waWxlZFBhcmVudGhlc2VzPFQsVj4+IHtcclxuXHJcbiAgICBwdWJsaWMgc3ViZXhwcmVzc2lvbjogUnVudGltZUV4cHJlc3Npb248VCxWPjtcclxuXHJcbiAgICBwcml2YXRlIGluZGV4IDogdHlwZW9mIElOREVYX1BBUkVOVEhFU0VTX1NVQkVYUFJFU1NJT05TIHwgdHlwZW9mIElOREVYX1BBUkVOVEhFU0VTX0RPTkUgPSBJTkRFWF9QQVJFTlRIRVNFU19TVUJFWFBSRVNTSU9OUztcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IgKG1vZGVsOiBDb21waWxlZFBhcmVudGhlc2VzPFQsVj4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgICAgIHN1cGVyKG1vZGVsLCBwYXJlbnQpO1xyXG4gICAgICAgIHRoaXMuc3ViZXhwcmVzc2lvbiA9IHRoaXMubW9kZWwuc3ViZXhwcmVzc2lvbi5jcmVhdGVSdW50aW1lRXhwcmVzc2lvbih0aGlzKTtcclxuICAgIH1cclxuXHJcblx0cHJvdGVjdGVkIHVwTmV4dEltcGwoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5kZXggPT09IElOREVYX1BBUkVOVEhFU0VTX1NVQkVYUFJFU1NJT05TKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2ltLnB1c2godGhpcy5zdWJleHByZXNzaW9uKTtcclxuICAgICAgICAgICAgdGhpcy5pbmRleCA9IElOREVYX1BBUkVOVEhFU0VTX0RPTkU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNldEV2YWxSZXN1bHQodGhpcy5zdWJleHByZXNzaW9uLmV2YWxSZXN1bHQpO1xyXG4gICAgICAgICAgICB0aGlzLnNpbS5wb3AoKTtcclxuICAgICAgICB9XHJcblx0fVxyXG5cdFxyXG5cdHByb3RlY3RlZCBzdGVwRm9yd2FyZEltcGwoKSB7XHJcbiAgICAgICAgLy8gRG8gbm90aGluZ1xyXG5cdH1cclxufVxyXG5cclxuXHJcblxyXG5jb25zdCBBVVhJTElBUllfRVhQUkVTU0lPTl9DT05URVhUIDogRXhwcmVzc2lvbkNvbnRleHQgPSB7XHJcbiAgICBwcm9ncmFtOiA8bmV2ZXI+dW5kZWZpbmVkLFxyXG4gICAgdHJhbnNsYXRpb25Vbml0OiA8bmV2ZXI+dW5kZWZpbmVkLFxyXG4gICAgY29udGV4dHVhbFNjb3BlOiA8bmV2ZXI+dW5kZWZpbmVkXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBdXhpbGlhcnlFeHByZXNzaW9uPFQgZXh0ZW5kcyBUeXBlID0gVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnkgPSBWYWx1ZUNhdGVnb3J5PiBleHRlbmRzIEV4cHJlc3Npb24gaW1wbGVtZW50cyBUeXBlZEV4cHJlc3Npb248VCxWPiB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGU6IFQ7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmFsdWVDYXRlZ29yeTogVjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih0eXBlOiBULCB2YWx1ZUNhdGVnb3J5OiBWKSB7XHJcbiAgICAgICAgc3VwZXIoQVVYSUxJQVJZX0VYUFJFU1NJT05fQ09OVEVYVCk7XHJcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcclxuICAgICAgICB0aGlzLnZhbHVlQ2F0ZWdvcnkgPSB2YWx1ZUNhdGVnb3J5O1xyXG5cdH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUV4cHJlc3Npb248VCBleHRlbmRzIFR5cGUgPSBUeXBlLCBWIGV4dGVuZHMgVmFsdWVDYXRlZ29yeSA9IFZhbHVlQ2F0ZWdvcnk+KHRoaXM6IENvbXBpbGVkRXhwcmVzc2lvbjxULCBWPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IG5ldmVyIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdXhpbGlhcnkgZXhwcmVzc2lvbnMgbXVzdCBuZXZlciBiZSBpbnN0YW50aWF0ZWQgYXQgcnVudGltZS5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlc2NyaWJlRXZhbFJlc3VsdChkZXB0aDogbnVtYmVyKSA6IG5ldmVyIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdXhpbGlhcnkgZXhwcmVzc2lvbnMgaGF2ZSBubyBkZXNjcmlwdGlvblwiKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5cclxuLy8gT0xEIEVYUFJFU1NJT04gSlVOSyBCRUxPV1xyXG5cclxuLy8gdHlwZSBDb21waWxlZDxFIGV4dGVuZHMgRXhwcmVzc2lvbiA9IEV4cHJlc3Npb24sIFQgZXh0ZW5kcyBUeXBlID0gVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnkgPSBWYWx1ZUNhdGVnb3J5PiA9IEUgJiBFW1wiX3RfY29tcGlsZWRUeXBlXCJdICYge1xyXG4vLyAgICAgcmVhZG9ubHkgdHlwZTogVDtcclxuLy8gICAgIHJlYWRvbmx5IHZhbHVlQ2F0ZWdvcnk6IFY7XHJcbi8vIH07XHJcblxyXG4vLyBpbnRlcmZhY2UgQ29tcGlsZWRFeHByZXNzaW9uPFQgZXh0ZW5kcyBUeXBlID0gVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnkgPSBWYWx1ZUNhdGVnb3J5PiB7XHJcbi8vICAgICByZWFkb25seSB0eXBlOiBUO1xyXG4vLyAgICAgcmVhZG9ubHkgdmFsdWVDYXRlZ29yeTogVjtcclxuLy8gICAgIHJlYWRvbmx5IF90X2lzQ29tcGlsZWQ6IHRydWU7XHJcbi8vIH1cclxuXHJcbi8vIFxyXG4vLyB0eXBlIEV4cHJlc3Npb25Qcm9wZXJ0eU5hbWVzPEMgZXh0ZW5kcyBFeHByZXNzaW9uPiA9IHsgW0sgaW4ga2V5b2YgQ106IENbS10gZXh0ZW5kcyBFeHByZXNzaW9uID8gSyA6IG5ldmVyIH1ba2V5b2YgQ107XHJcbi8vIHR5cGUgQ29tcGlsZWRDaGlsZEV4cHJlc3Npb25zPEUgZXh0ZW5kcyBFeHByZXNzaW9uLCBFeCBleHRlbmRzIGtleW9mIGFueT4gPSB7XHJcbi8vICAgICBbayBpbiBFeGNsdWRlPEV4cHJlc3Npb25Qcm9wZXJ0eU5hbWVzPEU+LEV4Pl06IENvbXBpbGVkRXhwcmVzc2lvbjwoRVtrXSBleHRlbmRzIEV4cHJlc3Npb24gPyBFW2tdIDogbmV2ZXIpPjtcclxuLy8gfTtcclxuXHJcbi8vIHR5cGUgQ29tcGlsZWRFeHByZXNzaW9uPEUgZXh0ZW5kcyBFeHByZXNzaW9uID0gRXhwcmVzc2lvbixcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgVCBleHRlbmRzIFR5cGUgPSBFW1widF9jb21waWxlZFR5cGVcIl1bXCJ0eXBlXCJdLFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBWQyBleHRlbmRzIFZhbHVlQ2F0ZWdvcnkgPSBFW1widF9jb21waWxlZFR5cGVcIl1bXCJ2YWx1ZUNhdGVnb3J5XCJdPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICA9IFV0aWwuT3ZlcndyaXRlPFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVXRpbC5PdmVyd3JpdGU8XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVXRpbC5PdmVyd3JpdGU8RSwgRVtcInRfY29tcGlsZWRUeXBlXCJdPixcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb21waWxlZENoaWxkRXhwcmVzc2lvbnM8RSwga2V5b2YgRVtcInRfY29tcGlsZWRUeXBlXCJdPj4sXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcblxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRfaXNDb21waWxlZCBpcyBoZXJlIHRvIHByZXZlbnQgKG90aGVyd2lzZSkgc3RydWN0dXJhbGx5IGVxdWl2YWxlbnQgbm9uLWNvbXBpbGVkIGV4cHJlc3Npb25zXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZnJvbSBiZWluZyBhc3NpZ25hYmxlIHRvIGEgY29tcGlsZWQgZXhwcmVzc2lvbiB0eXBlXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogbWF5YmUgYmV0dGVyIHRvIHVzZSBhIHN5bWJvbCBoZXJlP1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRvbmx5IHRfaXNDb21waWxlZDogXCJ0cnVlXCJcclxuXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGluIHRoZSB0eXBlIGFuZCB2YWx1ZUNhdGVnb3J5IHByb3BlcnRpZXMgZnJvbSB0aGUgdGVtcGxhdGUgcGFyYW1ldGVycyB3aXRoXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gXCJsYXN0IG9uZSB3aW5zXCIgc2VtYW50aWNzLCBiZWNhdXNlIHRoZXkgd2VyZSBvbWl0dGVkICh3aXRoIE9taXQpIHByZXZpb3VzbHlcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkb25seSB0eXBlOiBUO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRvbmx5IHZhbHVlQ2F0ZWdvcnk6IFZDO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICA+O1xyXG5cclxuXHJcblxyXG5cclxuaW50ZXJmYWNlIE92ZXJsb2FkQ2FuZGlkYXRlUmVzdWx0IHtcclxuICAgIHJlYWRvbmx5IGNhbmRpZGF0ZTogRnVuY3Rpb25FbnRpdHk7XHJcbiAgICByZWFkb25seSBub3RlczogcmVhZG9ubHkgTm90ZVtdO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE92ZXJsb2FkUmVzb2x1dGlvblJlc3VsdCB7XHJcbiAgICByZWFkb25seSBjYW5kaWRhdGVzOiByZWFkb25seSBPdmVybG9hZENhbmRpZGF0ZVJlc3VsdFtdO1xyXG4gICAgcmVhZG9ubHkgdmlhYmxlOiBGdW5jdGlvbkVudGl0eVtdO1xyXG4gICAgcmVhZG9ubHkgc2VsZWN0ZWQ/OiBGdW5jdGlvbkVudGl0eTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJsb2FkUmVzb2x1dGlvbihjYW5kaWRhdGVzOiByZWFkb25seSBGdW5jdGlvbkVudGl0eVtdLCBhcmdUeXBlczogcmVhZG9ubHkgKFR5cGV8dW5kZWZpbmVkKVtdLCByZWNlaXZlclR5cGU/OiBDbGFzc1R5cGUpIDogT3ZlcmxvYWRSZXNvbHV0aW9uUmVzdWx0IHtcclxuXHJcbiAgICAvLyBUT0RPOiBhZGQgdGhlc2UgY2hlY2tzLCBhbmQgc2VuZCBlcnJvcnMgYmFjayB0byBjb25zdHJ1Y3QgdGhhdCBjYWxscyB0aGlzIGlmIHRoZXkgYXJlbid0IG1ldFxyXG4gICAgLy8gU2hvdWxkIHJldHVybiB0aGUgZnVuY3Rpb24gc2VsZWN0ZWQgYXMgd2VsbCBhcyBhbiBhcnJheSBvZiBvYmplY3QtdHlwZWQgcGFyYW1zIHRoYXQgY29udGFpblxyXG4gICAgLy8gYW55IGltcGxpY2l0IGNvbnZlcnNpb25zIG5lY2Vzc2FyeS5cclxuICAgIFxyXG4gICAgLy8gaWYgKCFhbGxXZWxsVHlwZWQoYXJncykpIHtcclxuICAgIC8vICAgICAvLyBJZiBhcmd1bWVudHMgYXJlIG5vdCB3ZWxsLXR5cGVkLCB3ZSBjYW4ndCBjb250aW51ZSBvbndhcmQgdG8gc2VsZWN0IGEgZnVuY3Rpb25cclxuICAgIC8vICAgICAvLyBhbmQgY3JlYXRlIGEgZnVuY3Rpb24gY2FsbCwgc28gaW5zdGVhZCBqdXN0IGdpdmUgdXAgYXR0YWNoIGFyZ3VtZW50cyBoZXJlLlxyXG4gICAgLy8gICAgIHRoaXMuYXR0YWNoQWxsKGFyZ3MpO1xyXG4gICAgLy8gICAgIHJldHVybjtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBpZiAoIWFsbE9iamVjdFR5cGVkKGFyZ3MpKSB7XHJcbiAgICAvLyAgICAgLy8gT25seSBvYmplY3QgdHlwZXMgbWF5IGJlIHBhc3NlZCBhcyBhcmd1bWVudHMgdG8gZnVuY3Rpb25zLlxyXG4gICAgLy8gICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5pbml0Lm5vX2RlZmF1bHRfY29uc3RydWN0b3IodGhpcywgdGhpcy50YXJnZXQpKTsgLy8gVE9ETzogZml4XHJcbiAgICAvLyAgICAgdGhpcy5hdHRhY2hBbGwoYXJncyk7XHJcbiAgICAvLyAgICAgcmV0dXJuO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIEZpbmQgdGhlIGNvbnN0cnVjdG9yXHJcbiAgICBsZXQgdmlhYmxlOiBGdW5jdGlvbkVudGl0eVtdID0gW107XHJcbiAgICBsZXQgcmVzdWx0Q2FuZGlkYXRlcyA6IHJlYWRvbmx5IE92ZXJsb2FkQ2FuZGlkYXRlUmVzdWx0W10gPSBjYW5kaWRhdGVzLm1hcCgoY2FuZGlkYXRlKSA9PiB7XHJcblxyXG4gICAgICAgIGxldCB0ZW1wQXJncyA9IFtdO1xyXG4gICAgICAgIHZhciBub3RlczogTm90ZVtdID0gW107XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGFyZ3VtZW50IHR5cGVzIGFnYWluc3QgcGFyYW1ldGVyIHR5cGVzXHJcbiAgICAgICAgbGV0IGNhbmRpZGF0ZVBhcmFtVHlwZXMgPSBjYW5kaWRhdGUudHlwZS5wYXJhbVR5cGVzO1xyXG4gICAgICAgIGlmIChhcmdUeXBlcy5sZW5ndGggIT09IGNhbmRpZGF0ZVBhcmFtVHlwZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIG5vdGVzLnB1c2goQ1BQRXJyb3IucGFyYW0ubnVtUGFyYW1zKGNhbmRpZGF0ZS5kZWNsYXJhdGlvbikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUT0RPOiBhZGQgYmFjayBpbiB3aXRoIG1lbWJlciBmdW5jdGlvbnNcclxuICAgICAgICAvLyBlbHNlIGlmIChyZWNlaXZlclR5cGUuaXNDb25zdCAmJiBjYW5kIGluc3RhbmNlb2YgTWVtYmVyRnVuY3Rpb25FbnRpdHkgJiYgIWNhbmQudHlwZS5pc1RoaXNDb25zdCl7XHJcbiAgICAgICAgLy8gICAgIHByb2JsZW1zLnB1c2goQ1BQRXJyb3IucGFyYW0udGhpc0NvbnN0KGNhbmQuZGVjbGFyYXRpb24pKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgYXJnVHlwZXMuZm9yRWFjaCgoYXJnVHlwZSwgaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFhcmdUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBpZ25vcmUgdW5kZWZpbmVkIGFyZ1R5cGUsIGFzc3VtZSBpdCBcIndvcmtzXCIgc2luY2UgdGhlcmUgd2lsbCBiZSBhbiBlcnJvciBlbHNld2hlcmUgYWxyZWFkeVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IGNhbmRpZGF0ZVBhcmFtVHlwZSA9IGNhbmRpZGF0ZVBhcmFtVHlwZXNbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FuZGlkYXRlUGFyYW1UeXBlLmlzUmVmZXJlbmNlVHlwZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGVtcEFyZ3MucHVzaChhcmdzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICBpZighcmVmZXJlbmNlQ29tcGF0aWJsZShhcmdUeXBlLCBjYW5kaWRhdGVQYXJhbVR5cGUucmVmVG8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGVzLnB1c2goQ1BQRXJyb3IucGFyYW0ucGFyYW1SZWZlcmVuY2VUeXBlKGNhbmRpZGF0ZS5kZWNsYXJhdGlvbiwgYXJnVHlwZSwgY2FuZGlkYXRlUGFyYW1UeXBlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vZWxzZSBpZiAoYXJnc1tpXS52YWx1ZUNhdGVnb3J5ICE9PSBcImx2YWx1ZVwiKXtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICBwcm9ibGVtcy5wdXNoKENQUEVycm9yLnBhcmFtLnBhcmFtUmVmZXJlbmNlTHZhbHVlKGFyZ3NbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICAvL31cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRlbXBBcmdzLnB1c2goc3RhbmRhcmRDb252ZXJzaW9uKGFyZ3NbaV0sIGFyZ1R5cGVzW2ldKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEF0dGVtcHQgc3RhbmRhcmQgY29udmVyc2lvbiBvZiBhbiBhdXhpbGlhcnkgZXhwcmVzc2lvbiBvZiB0aGUgYXJndW1lbnQncyB0eXBlIHRvIHRoZSBwYXJhbSB0eXBlXHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGF1eEFyZyA9IG5ldyBBdXhpbGlhcnlFeHByZXNzaW9uKGFyZ1R5cGUsIFwicHJ2YWx1ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY29udmVydGVkQXJnID0gc3RhbmRhcmRDb252ZXJzaW9uKGF1eEFyZywgY2FuZGlkYXRlUGFyYW1UeXBlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIXNhbWVUeXBlKGNvbnZlcnRlZEFyZy50eXBlLCBjYW5kaWRhdGVQYXJhbVR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGVzLnB1c2goQ1BQRXJyb3IucGFyYW0ucGFyYW1UeXBlKGNhbmRpZGF0ZS5kZWNsYXJhdGlvbiwgYXJnVHlwZSwgY2FuZGlkYXRlUGFyYW1UeXBlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobm90ZXMubGVuZ3RoID09IDApIHsgLy8gQWxsIG5vdGVzIGluIHRoaXMgZnVuY3Rpb24gYXJlIGVycm9ycywgc28gaWYgdGhlcmUgYXJlIGFueSBpdCdzIG5vdCB2aWFibGVcclxuICAgICAgICAgICAgdmlhYmxlLnB1c2goY2FuZGlkYXRlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7Y2FuZGlkYXRlOiBjYW5kaWRhdGUsIG5vdGVzOiBub3Rlc307XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBUT0RPOiBuZWVkIHRvIGRldGVybWluZSB3aGljaCBvZiBzZXZlcmFsIHZpYWJsZSBvdmVybG9hZHMgaXMgdGhlIGJlc3Qgb3B0aW9uXHJcbiAgICAvLyBUT0RPOiBuZWVkIHRvIGRldGVjdCB3aGVuIG11bHRpcGxlIHZpYWJsZSBvdmVybG9hZHMgaGF2ZSB0aGUgc2FtZSB0b3RhbCBjb252ZXJzaW9uIGxlbmd0aCwgd2hpY2ggcmVzdWx0cyBpbiBhbiBhbWJpZ3VpdHlcclxuICAgIC8vIGxldCBzZWxlY3RlZCA9IHZpYWJsZS5yZWR1Y2UoKGJlc3QsIGN1cnJlbnQpID0+IHtcclxuICAgIC8vICAgICBpZiAoY29udkxlbihjdXJyZW50LnR5cGUucGFyYW1UeXBlcykgPCBjb252TGVuKGJlc3QudHlwZS5wYXJhbVR5cGVzKSkge1xyXG4gICAgLy8gICAgICAgICByZXR1cm4gY3VycmVudDtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZSB7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiBiZXN0O1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH0pO1xyXG4gICAgbGV0IHNlbGVjdGVkID0gdmlhYmxlWzBdID8gdmlhYmxlWzBdIDogdW5kZWZpbmVkO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgY2FuZGlkYXRlczogcmVzdWx0Q2FuZGlkYXRlcyxcclxuICAgICAgICB2aWFibGU6IHZpYWJsZSxcclxuICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWRcclxuICAgIH1cclxufTsiLCJpbXBvcnQgeyBhc3NlcnQsIGFzc2VydEZhbHNlLCBNdXRhYmxlIH0gZnJvbSBcIi4uL3V0aWwvdXRpbFwiO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSBcIi4uL3V0aWwvb2JzZXJ2ZVwiO1xyXG5pbXBvcnQgeyBDUFBPYmplY3QsIEF1dG9PYmplY3QsIFN0cmluZ0xpdGVyYWxPYmplY3QsIFN0YXRpY09iamVjdCwgVGVtcG9yYXJ5T2JqZWN0LCBEeW5hbWljT2JqZWN0LCBUaGlzT2JqZWN0LCBJbnZhbGlkT2JqZWN0IH0gZnJvbSBcIi4vb2JqZWN0c1wiO1xyXG5pbXBvcnQgeyBCb29sLCBDaGFyLCBPYmplY3RQb2ludGVyLCBBcnJheVBvaW50ZXIsIHNpbWlsYXJUeXBlLCBzdWJUeXBlLCBQb2ludGVyVHlwZSwgT2JqZWN0VHlwZSwgc2FtZVR5cGUsIEF0b21pY1R5cGUsIEludGVncmFsVHlwZSwgSW50IH0gZnJvbSBcIi4vdHlwZXNcIjtcclxuaW1wb3J0IGxhc3QgZnJvbSBcImxvZGFzaC9sYXN0XCI7XHJcbmltcG9ydCB7IFN0YXRpY0VudGl0eSwgQXV0b0VudGl0eSwgTG9jYWxSZWZlcmVuY2VFbnRpdHksIFN0cmluZ0xpdGVyYWxFbnRpdHksIFRlbXBvcmFyeU9iamVjdEVudGl0eSB9IGZyb20gXCIuL2VudGl0aWVzXCI7XHJcbmltcG9ydCB7IFJ1bnRpbWVDb25zdHJ1Y3QsIFJ1bnRpbWVGdW5jdGlvbiB9IGZyb20gXCIuL2NvbnN0cnVjdHNcIjtcclxuaW1wb3J0IHsgQ29tcGlsZWRHbG9iYWxPYmplY3REZWZpbml0aW9uLCBHbG9iYWxPYmplY3REZWZpbml0aW9uIH0gZnJvbSBcIi4vZGVjbGFyYXRpb25zXCI7XHJcblxyXG5leHBvcnQgdHlwZSBieXRlID0gbnVtYmVyOyAvLyBIQUNLIC0gY2FuIGJlIHJlc29sdmVkIGlmIEkgbWFrZSB0aGUgbWVtb3J5IG1vZGVsIHJlYWxpc3RpYyBhbmQgbm90IGhhY2t5XHJcbmV4cG9ydCB0eXBlIFJhd1ZhbHVlVHlwZSA9IG51bWJlcjsgLy8gSEFDSyAtIGNhbiBiZSByZXNvbHZlZCBpZiBJIG1ha2UgdGhlIHJhdyB2YWx1ZSB0eXBlIHVzZWQgZGVwZW5kIG9uIHRoZSBUeXBlIHBhcmFtZXRlclxyXG5cclxuLy8gZXhwb3J0IHR5cGUgVmFsdWVUeXBlPFQgZXh0ZW5kcyBBdG9taWNUeXBlPiA9IFQgZXh0ZW5kcyBBdG9taWNUeXBlID8gVmFsdWU8VD4gOiBuZXZlcjtcclxuXHJcbmV4cG9ydCBjbGFzcyBWYWx1ZTxUIGV4dGVuZHMgQXRvbWljVHlwZSA9IEF0b21pY1R5cGU+IHtcclxuICAgIHByaXZhdGUgc3RhdGljIF9uYW1lID0gXCJWYWx1ZVwiO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSB0eXBlOiBUO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfaXNWYWxpZDogYm9vbGVhbjtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmF3VmFsdWU6IFJhd1ZhbHVlVHlwZTtcclxuXHJcblxyXG4gICAgLy8gVE9ETzogdHM6IGNoYW5nZSBhbnkgdHlwZSBmb3IgdmFsdWUgdG8gbWF0Y2ggdHlwZSBleHBlY3RlZCBmb3IgQ1BQIHR5cGUgb2YgdmFsdWVcclxuICAgIGNvbnN0cnVjdG9yKHJhd1ZhbHVlOiBSYXdWYWx1ZVR5cGUsIHR5cGU6IFQsIGlzVmFsaWQ6IGJvb2xlYW4gPSB0cnVlKSB7XHJcbiAgICAgICAgLy8gVE9ETzogcmVtb3ZlIHRoaXMudmFsdWUgaW4gZmF2b3Igb2YgdXNpbmcgcmF3VmFsdWUoKSBmdW5jdGlvblxyXG4gICAgICAgIHRoaXMucmF3VmFsdWUgPSByYXdWYWx1ZTtcclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgICAgIHRoaXMuX2lzVmFsaWQgPSBpc1ZhbGlkO1xyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgZ2V0IGlzVmFsaWQoKSB7XHJcbiAgICAgICAgLy8gTm90ZTogdGhpcyBpcyBpbXBsZW1lbnRlZCBhcyBhIGdldHRlciBzaW5jZSBpdCBpcyBuZWNlc3NhcnkgdG8gY2FsbCBpc1ZhbHVlVmFsaWQgb24gdGhlIHR5cGUgZWFjaCB0aW1lLlxyXG4gICAgICAgIC8vICAgICAgIGUuZy4gQSB0eXBlIHdpdGggUlRUSSBsaWtlIGFuIG9iamVjdCBwb2ludGVyIG1heSBiZWNvbWUgaW52YWxpZCBpZiB0aGUgb2JqZWN0IGRpZXMuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzVmFsaWQgJiYgdGhpcy50eXBlLmlzVmFsdWVWYWxpZCh0aGlzLnJhd1ZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xvbmUodmFsdWVUb0Nsb25lOiBSYXdWYWx1ZVR5cGUgPSB0aGlzLnJhd1ZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZTxUPih2YWx1ZVRvQ2xvbmUsIHRoaXMudHlwZSwgdGhpcy5pc1ZhbGlkKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW52YWxpZGF0ZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZTxUPih0aGlzLnJhd1ZhbHVlLCB0aGlzLnR5cGUsIGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZXF1YWxzKG90aGVyVmFsdWU6IFZhbHVlPFQ+KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZTxCb29sPihcclxuICAgICAgICAgICAgdGhpcy5yYXdWYWx1ZSA9PT0gb3RoZXJWYWx1ZS5yYXdWYWx1ZSA/IDEgOiAwLFxyXG4gICAgICAgICAgICBuZXcgQm9vbCgpLFxyXG4gICAgICAgICAgICB0aGlzLmlzVmFsaWQgJiYgb3RoZXJWYWx1ZS5pc1ZhbGlkKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmF3RXF1YWxzKG90aGVyUmF3VmFsdWU6IFJhd1ZhbHVlVHlwZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJhd1ZhbHVlID09PSBvdGhlclJhd1ZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjb21iaW5lKG90aGVyVmFsdWU6IFZhbHVlPFQ+LCBjb21iaW5lcjogKGE6UmF3VmFsdWVUeXBlLCBiOlJhd1ZhbHVlVHlwZSkgPT4gUmF3VmFsdWVUeXBlKSB7XHJcbiAgICAgICAgYXNzZXJ0KHNhbWVUeXBlKHRoaXMudHlwZSwgb3RoZXJWYWx1ZS50eXBlKSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZTxUPihcclxuICAgICAgICAgICAgY29tYmluZXIodGhpcy5yYXdWYWx1ZSwgb3RoZXJWYWx1ZS5yYXdWYWx1ZSksXHJcbiAgICAgICAgICAgIHRoaXMudHlwZSxcclxuICAgICAgICAgICAgdGhpcy5pc1ZhbGlkICYmIG90aGVyVmFsdWUuaXNWYWxpZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBvaW50ZXJPZmZzZXQ8VCBleHRlbmRzIFBvaW50ZXJUeXBlPih0aGlzOiBWYWx1ZTxUPiwgb2Zmc2V0VmFsdWU6IFZhbHVlPEludGVncmFsVHlwZT4sIHN1YnRyYWN0OiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZhbHVlPFQ+KFxyXG4gICAgICAgICAgICAoc3VidHJhY3QgP1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yYXdWYWx1ZSAtIHRoaXMudHlwZS5wdHJUby5zaXplICogb2Zmc2V0VmFsdWUucmF3VmFsdWUgOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yYXdWYWx1ZSArIHRoaXMudHlwZS5wdHJUby5zaXplICogb2Zmc2V0VmFsdWUucmF3VmFsdWUpLFxyXG4gICAgICAgICAgICB0aGlzLnR5cGUsXHJcbiAgICAgICAgICAgIHRoaXMuaXNWYWxpZCAmJiBvZmZzZXRWYWx1ZS5pc1ZhbGlkKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcG9pbnRlckRpZmZlcmVuY2UodGhpczogVmFsdWU8UG9pbnRlclR5cGU+LCBvdGhlclZhbHVlOiBWYWx1ZTxQb2ludGVyVHlwZT4pIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZhbHVlPEludD4oXHJcbiAgICAgICAgICAgICh0aGlzLnJhd1ZhbHVlIC0gb3RoZXJWYWx1ZS5yYXdWYWx1ZSkgLyB0aGlzLnR5cGUucHRyVG8uc2l6ZSxcclxuICAgICAgICAgICAgbmV3IEludCgpLFxyXG4gICAgICAgICAgICB0aGlzLmlzVmFsaWQgJiYgb3RoZXJWYWx1ZS5pc1ZhbGlkKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY29tcGFyZShvdGhlclZhbHVlOiBWYWx1ZTxUPiwgY29tcGFyZXI6IChhOlJhd1ZhbHVlVHlwZSwgYjpSYXdWYWx1ZVR5cGUpID0+IGJvb2xlYW4pIHtcclxuICAgICAgICBhc3NlcnQoc2FtZVR5cGUodGhpcy50eXBlLCBvdGhlclZhbHVlLnR5cGUpKTtcclxuICAgICAgICByZXR1cm4gbmV3IFZhbHVlPEJvb2w+KFxyXG4gICAgICAgICAgICBjb21wYXJlcih0aGlzLnJhd1ZhbHVlLCBvdGhlclZhbHVlLnJhd1ZhbHVlKSA/IDEgOiAwLFxyXG4gICAgICAgICAgICBuZXcgQm9vbCgpLFxyXG4gICAgICAgICAgICB0aGlzLmlzVmFsaWQgJiYgb3RoZXJWYWx1ZS5pc1ZhbGlkKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIG1vZGlmeShtb2RpZmllcjogKGE6UmF3VmFsdWVUeXBlKSA9PiBSYXdWYWx1ZVR5cGUpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZhbHVlPFQ+KFxyXG4gICAgICAgICAgICBtb2RpZmllcih0aGlzLnJhd1ZhbHVlKSxcclxuICAgICAgICAgICAgdGhpcy50eXBlLFxyXG4gICAgICAgICAgICB0aGlzLmlzVmFsaWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZVN0cmluZygpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB2YWx1ZVN0cmluZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50eXBlLnZhbHVlVG9TdHJpbmcodGhpcy5yYXdWYWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETzogcGVyaGFwcyB0aGlzIHNob3VsZCBiZSBtb3ZlZCB0byB0aGUgb3N0cmVhbSBjbGFzc1xyXG4gICAgcHVibGljIHZhbHVlVG9Pc3RyZWFtU3RyaW5nKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnR5cGUudmFsdWVUb09zdHJlYW1TdHJpbmcodGhpcy5yYXdWYWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIHNob3VsZCBiZSB1c2VkIFZFUlkgUkFSRUxZLiBUaGUgb25seSB0aW1lIHRvIHVzZSBpdCBpcyBpZiB5b3UgaGF2ZSBhIHRlbXBvcmFyeSBWYWx1ZSBpbnN0YW5jZVxyXG4gICAgICogdGhhdCB5b3UncmUgdXNpbmcgbG9jYWxseSBhbmQgd2FudCB0byBrZWVwIHVwZGF0aW5nIGl0cyByYXcgdmFsdWUgdG8gc29tZXRoaW5nIGVsc2UgYmVmb3JlIHBhc3NpbmdcclxuICAgICAqIHRvIHNvbWV0aGluZyBsaWtlIG1lbW9yeS5kZXJlZmVyZW5jZSgpLiBGb3IgZXhhbXBsZSwgdGhpcyBpcyBkb25lIHdoZW4gdHJhdmVyc2luZyB0aHJvdWdoIGEgY3N0cmluZyBieVxyXG4gICAgICogZ2V0dGluZyB0aGUgdmFsdWUgb2YgdGhlIHBvaW50ZXIgaW5pdGlhbGx5LCB0aGVuIGFkIGhvYyB1cGRhdGluZyB0aGF0IHZhbHVlIGFzIHlvdSBtb3ZlIHRocm91Z2ggdGhlIGNzdHJpbmcuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRSYXdWYWx1ZShyYXdWYWx1ZTogUmF3VmFsdWVUeXBlKSB7XHJcbiAgICAgICAgKDxSYXdWYWx1ZVR5cGU+dGhpcy5yYXdWYWx1ZSkgPSByYXdWYWx1ZTtcclxuICAgICAgICAoPGJvb2xlYW4+dGhpcy5pc1ZhbGlkKSA9IHRoaXMuaXNWYWxpZCAmJiB0aGlzLnR5cGUuaXNWYWx1ZVZhbGlkKHRoaXMucmF3VmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZXNjcmliZSgpIHtcclxuICAgICAgICByZXR1cm4geyBtZXNzYWdlOiB0aGlzLnZhbHVlU3RyaW5nKCkgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE1lbW9yeSB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBfbmFtZSA9IFwiTWVtb3J5XCI7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSh0aGlzKTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2FwYWNpdHk6IG51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSBzdGF0aWNDYXBhY2l0eTogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHN0YWNrQ2FwYWNpdHk6IG51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSBoZWFwQ2FwYWNpdHk6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RhdGljU3RhcnQ6IG51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSBzdGF0aWNFbmQ6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RhY2tTdGFydDogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHN0YWNrRW5kOiBudW1iZXI7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGhlYXBTdGFydDogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGhlYXBFbmQ6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGVtcG9yYXJ5U3RhcnQ6IG51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSB0ZW1wb3JhcnlDYXBhY2l0eTogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHRlbXBvcmFyeUVuZDogbnVtYmVyO1xyXG5cclxuICAgIC8vIERlZmluaXRlIGFzc2lnbm1lbnQgYXNzZXJ0aW9ucyB3aXRoICEgYXJlIGZvciBwcm9wZXJ0aWVzIGluaXRpYWxpemVkIGluIHRoZSByZXNldCBmdW5jdGlvbiBjYWxsZWRcclxuICAgIC8vIGF0IHRoZSBlbmQgb2YgdGhlIGNvbnN0cnVjdG9yLlxyXG4gICAgcHJpdmF0ZSBieXRlcyE6IFJhd1ZhbHVlVHlwZVtdOyAvL1RPRE86IEhhY2sgLSBpbnN0ZWFkIG9mIHJlYWwgYnl0ZXMsIG1lbW9yeSBqdXN0IHN0b3JlcyB0aGUgcmF3IHZhbHVlIGluIHRoZSBmaXJzdCBieXRlIG9mIGFuIG9iamVjdFxyXG4gICAgcHJpdmF0ZSBvYmplY3RzITogeyBbaW5kZXg6IG51bWJlcl06IENQUE9iamVjdDxPYmplY3RUeXBlPiB9O1xyXG4gICAgcHJpdmF0ZSBzdHJpbmdMaXRlcmFsTWFwITogeyBbaW5kZXg6IHN0cmluZ106IFN0cmluZ0xpdGVyYWxPYmplY3QgfTtcclxuICAgIHByaXZhdGUgc3RhdGljT2JqZWN0cyE6IHsgW2luZGV4OiBzdHJpbmddOiBTdGF0aWNPYmplY3QgfTtcclxuICAgIHByaXZhdGUgdGVtcG9yYXJ5T2JqZWN0cyE6IHsgW2luZGV4OiBudW1iZXJdOiBUZW1wb3JhcnlPYmplY3QgfTtcclxuICAgIHB1YmxpYyByZWFkb25seSBzdGFjayE6IE1lbW9yeVN0YWNrO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGhlYXAhOiBNZW1vcnlIZWFwO1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljVG9wITogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSB0ZW1wb3JhcnlCb3R0b20hOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY2FwYWNpdHk/OiBudW1iZXIsIHN0YXRpY0NhcGFjaXR5PzogbnVtYmVyLCBzdGFja0NhcGFjaXR5PzogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5jYXBhY2l0eSA9IGNhcGFjaXR5IHx8IDEwMDAwO1xyXG4gICAgICAgIHRoaXMuc3RhdGljQ2FwYWNpdHkgPSBzdGF0aWNDYXBhY2l0eSB8fCBNYXRoLmZsb29yKHRoaXMuY2FwYWNpdHkgLyAxMCk7XHJcbiAgICAgICAgdGhpcy5zdGFja0NhcGFjaXR5ID0gc3RhY2tDYXBhY2l0eSB8fCBNYXRoLmZsb29yKCh0aGlzLmNhcGFjaXR5IC0gdGhpcy5zdGF0aWNDYXBhY2l0eSkgLyAyKTtcclxuICAgICAgICB0aGlzLmhlYXBDYXBhY2l0eSA9IHRoaXMuY2FwYWNpdHkgLSB0aGlzLnN0YXRpY0NhcGFjaXR5IC0gdGhpcy5zdGFja0NhcGFjaXR5O1xyXG5cclxuICAgICAgICB0aGlzLnN0YXRpY1N0YXJ0ID0gMDtcclxuICAgICAgICB0aGlzLnN0YXRpY0VuZCA9IHRoaXMuc3RhdGljU3RhcnQgKyB0aGlzLnN0YXRpY0NhcGFjaXR5O1xyXG5cclxuICAgICAgICB0aGlzLnN0YWNrU3RhcnQgPSB0aGlzLnN0YXRpY0VuZDtcclxuICAgICAgICB0aGlzLnN0YWNrRW5kID0gdGhpcy5zdGFja1N0YXJ0ICsgdGhpcy5zdGFja0NhcGFjaXR5O1xyXG5cclxuICAgICAgICB0aGlzLmhlYXBTdGFydCA9IHRoaXMuc3RhY2tFbmQ7XHJcbiAgICAgICAgdGhpcy5oZWFwRW5kID0gdGhpcy5oZWFwU3RhcnQgKyB0aGlzLmhlYXBDYXBhY2l0eTtcclxuXHJcbiAgICAgICAgdGhpcy50ZW1wb3JhcnlTdGFydCA9IHRoaXMuaGVhcEVuZCArIDEwMDtcclxuICAgICAgICB0aGlzLnRlbXBvcmFyeUNhcGFjaXR5ID0gMTAwMDA7XHJcbiAgICAgICAgdGhpcy50ZW1wb3JhcnlFbmQgPSB0aGlzLnRlbXBvcmFyeVN0YXJ0ICsgdGhpcy50ZW1wb3JhcnlDYXBhY2l0eTtcclxuXHJcbiAgICAgICAgYXNzZXJ0KHRoaXMuc3RhdGljQ2FwYWNpdHkgPCB0aGlzLmNhcGFjaXR5ICYmIHRoaXMuc3RhY2tDYXBhY2l0eSA8IHRoaXMuY2FwYWNpdHkgJiYgdGhpcy5oZWFwQ2FwYWNpdHkgPCB0aGlzLmNhcGFjaXR5KTtcclxuICAgICAgICBhc3NlcnQodGhpcy5oZWFwRW5kID09IHRoaXMuY2FwYWNpdHkpO1xyXG5cclxuICAgICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlc2V0KCkge1xyXG5cclxuICAgICAgICAvLyBtZW1vcnkgaXMgYSBzZXF1ZW5jZSBvZiBieXRlcywgYWRkcmVzc2VzIHN0YXJ0aW5nIGF0IDBcclxuICAgICAgICB0aGlzLmJ5dGVzID0gbmV3IEFycmF5KHRoaXMuY2FwYWNpdHkgKyB0aGlzLnRlbXBvcmFyeUNhcGFjaXR5KTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2FwYWNpdHkgKyB0aGlzLnRlbXBvcmFyeUNhcGFjaXR5OyArK2kpIHtcclxuICAgICAgICAgICAgdGhpcy5ieXRlc1tpXSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm9iamVjdHMgPSB7fTtcclxuICAgICAgICB0aGlzLnN0cmluZ0xpdGVyYWxNYXAgPSB7fTtcclxuICAgICAgICB0aGlzLnN0YXRpY1RvcCA9IHRoaXMuc3RhdGljU3RhcnQgKyA0O1xyXG4gICAgICAgIHRoaXMuc3RhdGljT2JqZWN0cyA9IHt9O1xyXG4gICAgICAgIHRoaXMudGVtcG9yYXJ5Qm90dG9tID0gdGhpcy50ZW1wb3JhcnlTdGFydDtcclxuXHJcbiAgICAgICAgKDxNdXRhYmxlPHRoaXM+PnRoaXMpLnN0YWNrID0gbmV3IE1lbW9yeVN0YWNrKHRoaXMsIHRoaXMuc3RhdGljRW5kKTtcclxuICAgICAgICAoPE11dGFibGU8dGhpcz4+dGhpcykuaGVhcCA9IG5ldyBNZW1vcnlIZWFwKHRoaXMsIHRoaXMuaGVhcEVuZCk7XHJcbiAgICAgICAgdGhpcy50ZW1wb3JhcnlPYmplY3RzID0ge307XHJcbiAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJyZXNldFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Qnl0ZShhZGRyOiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ieXRlc1thZGRyXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVhZEJ5dGUoYWRkcjogbnVtYmVyKSB7XHJcblxyXG4gICAgICAgIC8vIE5vdGlmeSBhbnkgb3RoZXIgb2JqZWN0IHRoYXQgaXMgaW50ZXJlc3RlZCBpbiB0aGF0IGJ5dGVcclxuICAgICAgICAvLyB2YXIgYmVnaW4gPSBhZCAtIFR5cGUuZ2V0TWF4U2l6ZSgpO1xyXG4gICAgICAgIC8vZm9yKHZhciBpID0gYWQ7IGJlZ2luIDwgaTsgLS1pKXtcclxuICAgICAgICAvLyAgICB2YXIgb2JqID0gdGhpcy5vYmplY3RzW2ldO1xyXG4gICAgICAgIC8vICAgIGlmIChvYmogPT0gZnJvbU9iaikgeyBjb250aW51ZTsgfVxyXG4gICAgICAgIC8vICAgIGlmIChvYmogJiYgb2JqLnNpemUgPiBhZCAtIGkpe1xyXG4gICAgICAgIC8vICAgICAgICBvYmouYnl0ZVJlYWQoYWQpO1xyXG4gICAgICAgIC8vICAgIH1cclxuICAgICAgICAvL31cclxuICAgICAgICByZXR1cm4gdGhpcy5ieXRlc1thZGRyXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Qnl0ZXMoYWRkcjogbnVtYmVyLCBudW06IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJ5dGVzLnNsaWNlKGFkZHIsIGFkZHIgKyBudW0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWFkQnl0ZXMoYWRkcjogbnVtYmVyLCBudW06IG51bWJlcikge1xyXG4gICAgICAgIHZhciBlbmQgPSBhZGRyICsgbnVtO1xyXG5cclxuICAgICAgICAvLyBOb3RpZnkgYW55IG90aGVyIG9iamVjdCB0aGF0IGlzIGludGVyZXN0ZWQgaW4gdGhhdCBieXRlXHJcbiAgICAgICAgLy8gdmFyIGJlZ2luID0gYWQgLSBUeXBlLmdldE1heFNpemUoKTtcclxuICAgICAgICAvL2Zvcih2YXIgaSA9IGVuZC0xOyBiZWdpbiA8IGk7IC0taSl7XHJcbiAgICAgICAgLy8gICAgdmFyIG9iaiA9IHRoaXMub2JqZWN0c1tpXTtcclxuICAgICAgICAvLyAgICBpZiAob2JqID09IGZyb21PYmopIHsgY29udGludWU7IH1cclxuICAgICAgICAvLyAgICBpZiAob2JqICYmIG9iai5zaXplID4gYWQgLSBpKXtcclxuICAgICAgICAvLyAgICAgICAgb2JqLmJ5dGVzUmVhZChhZCwgZW5kLWFkKTsvLy5zZW5kKFwiYnl0ZXNSZWFkXCIsIHthZGRyOiBhZCwgbGVuZ3RoOiBlbmQtYWR9KTtcclxuICAgICAgICAvLyAgICB9XHJcbiAgICAgICAgLy99XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmJ5dGVzLnNsaWNlKGFkZHIsIGVuZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldEJ5dGUoYWRkcjogbnVtYmVyLCB2YWx1ZTogUmF3VmFsdWVUeXBlKSB7XHJcbiAgICAgICAgdGhpcy5ieXRlc1thZGRyXSA9IHZhbHVlO1xyXG5cclxuICAgICAgICAvLyBOb3RpZnkgYW55IG9iamVjdCB0aGF0IGlzIGludGVyZXN0ZWQgaW4gdGhhdCBieXRlXHJcbiAgICAgICAgLy8gdmFyIGJlZ2luID0gYWQgLSBUeXBlLmdldE1heFNpemUoKTtcclxuICAgICAgICAvL2Zvcih2YXIgaSA9IGFkOyBiZWdpbiA8IGk7IC0taSl7XHJcbiAgICAgICAgLy8gICAgdmFyIG9iaiA9IHRoaXMub2JqZWN0c1tpXTtcclxuICAgICAgICAvLyAgICBpZiAob2JqICYmIG9iai5zaXplID4gYWQgLSBpKXtcclxuICAgICAgICAvLyAgICAgICAgb2JqLmJ5dGVTZXQoYWQsIHZhbHVlKTsvLy5zZW5kKFwiYnl0ZVNldFwiLCB7YWRkcjogYWQsIHZhbHVlOiB2YWx1ZX0pO1xyXG4gICAgICAgIC8vICAgIH1cclxuICAgICAgICAvL31cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgd3JpdGVCeXRlKGFkZHI6IG51bWJlciwgdmFsdWU6IFJhd1ZhbHVlVHlwZSkge1xyXG4gICAgICAgIHRoaXMuYnl0ZXNbYWRkcl0gPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgLy8gTm90aWZ5IGFueSBvdGhlciBvYmplY3QgdGhhdCBpcyBpbnRlcmVzdGVkIGluIHRoYXQgYnl0ZVxyXG4gICAgICAgIC8vIHZhciBiZWdpbiA9IGFkIC0gVHlwZS5nZXRNYXhTaXplKCk7XHJcbiAgICAgICAgLy9mb3IodmFyIGkgPSBhZDsgYmVnaW4gPCBpOyAtLWkpe1xyXG4gICAgICAgIC8vICAgIHZhciBvYmogPSB0aGlzLm9iamVjdHNbaV07XHJcbiAgICAgICAgLy8gICAgaWYgKG9iaiA9PSBmcm9tT2JqKSB7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgLy8gICAgaWYgKG9iaiAmJiBvYmouc2l6ZSA+IGFkIC0gaSl7XHJcbiAgICAgICAgLy8gICAgICAgIG9iai5ieXRlV3JpdHRlbihhZCwgdmFsdWUpOy8vLnNlbmQoXCJieXRlV3JpdHRlblwiLCB7YWRkcjogYWQsIHZhbHVlOiB2YWx1ZX0pO1xyXG4gICAgICAgIC8vICAgIH1cclxuICAgICAgICAvL31cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0Qnl0ZXMoYWRkcjogbnVtYmVyLCB2YWx1ZXM6IFJhd1ZhbHVlVHlwZVtdKSB7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnl0ZXNbYWRkciArIGldID0gdmFsdWVzW2ldO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTm90aWZ5IGFueSBvdGhlciBvYmplY3QgdGhhdCBpcyBpbnRlcmVzdGVkIGluIHRoYXQgYnl0ZVxyXG4gICAgICAgIC8vdmFyIGJlZ2luID0gYWQgLSBUeXBlLmdldE1heFNpemUoKTtcclxuICAgICAgICAvL2Zvcih2YXIgaSA9IGFkK3ZhbHVlcy5sZW5ndGg7IGJlZ2luIDwgaTsgLS1pKXtcclxuICAgICAgICAvLyAgICB2YXIgb2JqID0gdGhpcy5vYmplY3RzW2ldO1xyXG4gICAgICAgIC8vICAgIGlmIChvYmogJiYgb2JqLnNpemUgPiBhZCAtIGkpe1xyXG4gICAgICAgIC8vICAgICAgICBvYmouYnl0ZXNTZXQoYWQsIHZhbHVlcyk7Ly8uc2VuZChcImJ5dGVTZXRcIiwge2FkZHI6IGFkLCB2YWx1ZXM6IHZhbHVlc30pO1xyXG4gICAgICAgIC8vICAgIH1cclxuICAgICAgICAvL31cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgd3JpdGVCeXRlcyhhZGRyOiBudW1iZXIsIHZhbHVlczogUmF3VmFsdWVUeXBlW10pIHtcclxuXHJcbiAgICAgICAgLy9UT0RPIHJlbW92ZSB0aGlzIGNvbW1lbnRlZCBjb2RlXHJcbiAgICAgICAgLy9pZiAoaXNBKGZyb21PYmosIFRlbXBvcmFyeU9iamVjdCkpe1xyXG4gICAgICAgIC8vICAgIHZhciBvYmpCeXRlcyA9IHRoaXMudGVtcG9yYXJ5T2JqZWN0c1tmcm9tT2JqLmVudGl0eUlkXTtcclxuICAgICAgICAvLyAgICBpZiAoIW9iakJ5dGVzKXtcclxuICAgICAgICAvLyAgICAgICAgb2JqQnl0ZXMgPSBuZXcgQXJyYXkoZnJvbU9iai5zaXplKTtcclxuICAgICAgICAvLyAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGZyb21PYmouc2l6ZTsgKytpKXtcclxuICAgICAgICAvLyAgICAgICAgICAgIG9iakJ5dGVzW2ldID0gMDtcclxuICAgICAgICAvLyAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICB0aGlzLnRlbXBvcmFyeU9iamVjdHNbZnJvbU9iai5lbnRpdHlJZF0gPSBvYmpCeXRlcztcclxuICAgICAgICAvLyAgICB9XHJcbiAgICAgICAgLy8gICAgcmV0dXJuO1xyXG4gICAgICAgIC8vfVxyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICB0aGlzLmJ5dGVzW2FkZHIgKyBpXSA9IHZhbHVlc1tpXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE5vdGlmeSBhbnkgb3RoZXIgb2JqZWN0IHRoYXQgaXMgaW50ZXJlc3RlZCBpbiB0aGF0IGJ5dGVcclxuICAgICAgICAvL3ZhciBiZWdpbiA9IGFkIC0gVHlwZS5nZXRNYXhTaXplKCk7XHJcbiAgICAgICAgLy9mb3IodmFyIGkgPSBhZCt2YWx1ZXMubGVuZ3RoLTE7IGJlZ2luIDwgaTsgLS1pKXtcclxuICAgICAgICAvLyAgICB2YXIgb2JqID0gdGhpcy5vYmplY3RzW2ldO1xyXG4gICAgICAgIC8vICAgIGlmIChvYmogPT0gZnJvbU9iaikgeyBjb250aW51ZTsgfVxyXG4gICAgICAgIC8vICAgIGlmIChvYmogJiYgb2JqLnNpemUgPiBhZCAtIGkpe1xyXG4gICAgICAgIC8vICAgICAgICBvYmouYnl0ZXNXcml0dGVuKGFkLCB2YWx1ZXMpOy8vLnNlbmQoXCJieXRlc1dyaXR0ZW5cIiwge2FkZHI6IGFkLCB2YWx1ZXM6IHZhbHVlc30pO1xyXG4gICAgICAgIC8vICAgIH1cclxuICAgICAgICAvL31cclxuICAgIH1cclxuXHJcbiAgICAvLyBBdHRlbXB0cyB0byBkZXJlZmVyZW5jZSBhIHBvaW50ZXIgYW5kIHJldHJlaXZlIHRoZSBvYmplY3QgaXQgcG9pbnRzIHRvLlxyXG4gICAgLy8gVGFrZXMgaW4gYSBWYWx1ZSBvZiBwb2ludGVyIHR5cGUuIE11c3QgcG9pbnQgdG8gYW4gb2JqZWN0IHR5cGUuXHJcbiAgICAvLyBSZXR1cm5zIHRoZSBtb3N0IHJlY2VudGx5IGFsbG9jYXRlZCBvYmplY3QgYXQgdGhlIGdpdmVuIGFkZHJlc3MuXHJcbiAgICAvLyBUaGlzIG1heSBiZSBhbiBvYmplY3Qgd2hpY2ggaXMgbm8gbG9uZ2VyIGFsaXZlIChoYXMgYmVlbiBkZWFsbG9jYXRlZCkuXHJcbiAgICAvLyBJZiBubyBvYmplY3QgaXMgZm91bmQsIG9yIGFuIG9iamVjdCBvZiBhIHR5cGUgdGhhdCBkb2VzIG5vdCBtYXRjaCB0aGUgcG9pbnRlZC10byB0eXBlIGlzIGZvdW5kLFxyXG4gICAgLy8gcmV0dXJucyBhbiBhbm9ueW1vdXMgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgZ2l2ZW4gYWRkcmVzcyBpbnRlcnByZXRlZCBhcyB0aGUgcmVxdWVzdGVkIHR5cGUuXHJcbiAgICAvLyAoSW4gQysrLCByZWFkaW5nL3dyaXRpbmcgdG8gdGhpcyBvYmplY3Qgd2lsbCBjYXVzZSB1bmRlZmluZWQgYmVoYXZpb3IuKVxyXG4gICAgLy8gVE9ETzogcHJldmVudCB3cml0aW5nIHRvIHplcm8gb3IgbmVnYXRpdmUgYWRkcmVzcyBvYmplY3RzP1xyXG4gICAgcHVibGljIGRlcmVmZXJlbmNlKHB0cjogVmFsdWU8UG9pbnRlclR5cGU+KSB7XHJcbiAgICAgICAgYXNzZXJ0KHB0ci50eXBlLmlzT2JqZWN0UG9pbnRlcigpKTtcclxuXHJcbiAgICAgICAgdmFyIGFkZHIgPSBwdHIucmF3VmFsdWU7XHJcblxyXG4gICAgICAgIC8vIEhhbmRsZSBzcGVjaWFsIGNhc2VzIGZvciBwb2ludGVycyB3aXRoIFJUVElcclxuICAgICAgICBpZiAocHRyLnR5cGUgaW5zdGFuY2VvZiBBcnJheVBvaW50ZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHB0ci50eXBlLmFycmF5T2JqZWN0LmdldEFycmF5RWxlbVN1Ym9iamVjdEJ5QWRkcmVzcyhhZGRyKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwdHIudHlwZSBpbnN0YW5jZW9mIE9iamVjdFBvaW50ZXIgJiYgcHRyLnR5cGUuaXNWYWx1ZVZhbGlkKGFkZHIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwdHIudHlwZS5wb2ludGVkT2JqZWN0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gR3JhYiBvYmplY3QgZnJvbSBtZW1vcnlcclxuICAgICAgICB2YXIgb2JqID0gdGhpcy5vYmplY3RzW2FkZHJdO1xyXG5cclxuICAgICAgICBpZiAob2JqICYmIChzaW1pbGFyVHlwZShvYmoudHlwZSwgcHRyLnR5cGUucHRyVG8pIHx8IHN1YlR5cGUob2JqLnR5cGUsIHB0ci50eXBlLnB0clRvKSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIHRoZSBvYmplY3Qgd2Fzbid0IHRoZXJlIG9yIGRvZXNuJ3QgbWF0Y2ggdGhlIHR5cGUgd2UgYXNrZWQgZm9yIChpZ25vcmluZyBjb25zdClcclxuICAgICAgICAvLyB0aGVuIHdlIG5lZWQgdG8gY3JlYXRlIGFuIGFub255bW91cyBvYmplY3Qgb2YgdGhlIGFwcHJvcHJpYXRlIHR5cGUgaW5zdGVhZFxyXG4gICAgICAgIHJldHVybiBuZXcgSW52YWxpZE9iamVjdChwdHIudHlwZSwgdGhpcywgYWRkcik7XHJcbiAgICB9XHJcbiAgICBcclxuXHJcbiAgICBwcml2YXRlIGFsbG9jYXRlT2JqZWN0KG9iamVjdDogQ1BQT2JqZWN0PE9iamVjdFR5cGU+KSB7XHJcbiAgICAgICAgdGhpcy5vYmplY3RzW29iamVjdC5hZGRyZXNzXSA9IG9iamVjdDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEVuZHMgdGhlIGxpZmV0aW1lIG9mIGFuIG9iamVjdCBhdCB0aGUgZ2l2ZW4gYWRkcmVzcy4gSXRzIGRhdGEgYWN0dWFsbHkgcmVtYWlucyBpbiBtZW1vcnksIGJ1dCBpcyBtYXJrZWQgYXMgZGVhZCBhbmQgaW52YWxpZC5cclxuICAgICAqIElmIG5vIG9iamVjdCBleGlzdHMgYXQgdGhlIGdpdmVuIGFkZHJlc3MsIGRvZXMgbm90aGluZy4gSWYgdGhlIG9iamVjdCBpcyBhbHJlYWR5IGRlYWQsIGRvZXMgbm90aGluZy5cclxuICAgICAqIEBwYXJhbSBhZGRyIFxyXG4gICAgICogQHBhcmFtIGtpbGxlciBUaGUgcnVudGltZSBjb25zdHJ1Y3QgdGhhdCBraWxsZWQgdGhlIG9iamVjdFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMga2lsbE9iamVjdChhZGRyOiBudW1iZXIsIGtpbGxlcj86IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICBsZXQgb2JqID0gdGhpcy5vYmplY3RzW2FkZHJdO1xyXG4gICAgICAgIGlmIChvYmogJiYgb2JqLmlzQWxpdmUpIHtcclxuICAgICAgICAgICAgb2JqLmtpbGwoa2lsbGVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFsbG9jYXRlU3RyaW5nTGl0ZXJhbChzdHJpbmdMaXRlcmFsRW50aXR5OiBTdHJpbmdMaXRlcmFsRW50aXR5KSB7XHJcbiAgICAgICAgdmFyIHN0ciA9IHN0cmluZ0xpdGVyYWxFbnRpdHkuc3RyO1xyXG4gICAgICAgIGlmICghdGhpcy5zdHJpbmdMaXRlcmFsTWFwW3N0cl0pIHtcclxuICAgICAgICAgICAgLy8gb25seSBuZWVkIHRvIGFsbG9jYXRlIGEgc3RyaW5nIGxpdGVyYWwgb2JqZWN0IGlmIHdlIGRpZG4ndCBhbHJlYWR5IGhhdmUgYW4gaWRlbnRpY2FsIG9uZVxyXG4gICAgICAgICAgICB2YXIgb2JqZWN0ID0gc3RyaW5nTGl0ZXJhbEVudGl0eS5vYmplY3RJbnN0YW5jZSh0aGlzLCB0aGlzLnN0YXRpY1RvcCk7XHJcbiAgICAgICAgICAgIHRoaXMuYWxsb2NhdGVPYmplY3Qob2JqZWN0KTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlY29yZCB0aGUgc3RyaW5nIGxpdGVyYWwgaW4gY2FzZSB3ZSBzZWUgbW9yZSB0aGF0IGFyZSB0aGUgc2FtZSBpbiB0aGUgZnV0dXJlXHJcbiAgICAgICAgICAgIHRoaXMuc3RyaW5nTGl0ZXJhbE1hcFtzdHJdID0gb2JqZWN0O1xyXG5cclxuICAgICAgICAgICAgLy8gd3JpdGUgdmFsdWUgb2Ygc3RyaW5nIGxpdGVyYWwgaW50byB0aGUgb2JqZWN0XHJcbiAgICAgICAgICAgIENoYXIuanNTdHJpbmdUb051bGxUZXJtaW5hdGVkQ2hhckFycmF5KHN0cikuZm9yRWFjaCgoYywgaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0LmdldEFycmF5RWxlbVN1Ym9iamVjdChpKS5zZXRWYWx1ZShuZXcgVmFsdWUoYywgQ2hhci5DSEFSKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gYWRqdXN0IGxvY2F0aW9uIGZvciBuZXh0IHN0YXRpYyBvYmplY3RcclxuICAgICAgICAgICAgdGhpcy5zdGF0aWNUb3AgKz0gb2JqZWN0LnNpemU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U3RyaW5nTGl0ZXJhbChzdHI6IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0cmluZ0xpdGVyYWxNYXBbc3RyXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWxsb2NhdGVTdGF0aWMoZGVmOiBDb21waWxlZEdsb2JhbE9iamVjdERlZmluaXRpb24pIHtcclxuICAgICAgICB2YXIgb2JqID0gbmV3IFN0YXRpY09iamVjdChkZWYsIGRlZi5kZWNsYXJlZEVudGl0eS50eXBlLCB0aGlzLCB0aGlzLnN0YXRpY1RvcCk7XHJcbiAgICAgICAgdGhpcy5hbGxvY2F0ZU9iamVjdChvYmopO1xyXG4gICAgICAgIHRoaXMuc3RhdGljVG9wICs9IG9iai5zaXplO1xyXG4gICAgICAgIHRoaXMuc3RhdGljT2JqZWN0c1tkZWYuZGVjbGFyZWRFbnRpdHkucXVhbGlmaWVkTmFtZV0gPSBvYmo7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcblxyXG4gICAgcHVibGljIHN0YXRpY0xvb2t1cDxUIGV4dGVuZHMgT2JqZWN0VHlwZT4oc3RhdGljRW50aXR5OiBTdGF0aWNFbnRpdHk8VD4pIHtcclxuICAgICAgICByZXR1cm4gPFN0YXRpY09iamVjdDxUPj50aGlzLnN0YXRpY09iamVjdHNbc3RhdGljRW50aXR5LnF1YWxpZmllZE5hbWVdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhbGxvY2F0ZVRlbXBvcmFyeU9iamVjdDxUIGV4dGVuZHMgT2JqZWN0VHlwZT4odGVtcEVudGl0eTogVGVtcG9yYXJ5T2JqZWN0RW50aXR5PFQ+KSB7XHJcbiAgICAgICAgbGV0IG9iaiA9IG5ldyBUZW1wb3JhcnlPYmplY3QodGVtcEVudGl0eS50eXBlLCB0aGlzLCB0aGlzLnRlbXBvcmFyeUJvdHRvbSwgdGVtcEVudGl0eS5uYW1lKTtcclxuICAgICAgICB0aGlzLmFsbG9jYXRlT2JqZWN0KG9iaik7XHJcbiAgICAgICAgdGhpcy50ZW1wb3JhcnlCb3R0b20gKz0gdGVtcEVudGl0eS50eXBlLnNpemU7XHJcbiAgICAgICAgdGhpcy50ZW1wb3JhcnlPYmplY3RzW3RlbXBFbnRpdHkuZW50aXR5SWRdID0gb2JqO1xyXG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwidGVtcG9yYXJ5T2JqZWN0QWxsb2NhdGVkXCIsIG9iaik7XHJcbiAgICAgICAgcmV0dXJuIG9iajtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gVE9ETzogdGhpbmsgb2Ygc29tZSB3YXkgdG8gcHJldmVudCBhY2NpZGVudGFsbHkgY2FsbGluZyB0aGUgb3RoZXIgZGVhbGxvY2F0ZSBkaXJlY3RseSB3aXRoIGEgdGVtcG9yYXJ5IG9ialxyXG4gICAgcHVibGljIGRlYWxsb2NhdGVUZW1wb3JhcnlPYmplY3Qob2JqOiBUZW1wb3JhcnlPYmplY3QsIGtpbGxlcj86IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICB0aGlzLmtpbGxPYmplY3Qob2JqLmFkZHJlc3MsIGtpbGxlcik7XHJcbiAgICAgICAgLy90aGlzLnRlbXBvcmFyeUJvdHRvbSArPSBvYmoudHlwZS5zaXplO1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLnRlbXBvcmFyeU9iamVjdHNbb2JqLmFkZHJlc3NdO1xyXG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwidGVtcG9yYXJ5T2JqZWN0RGVhbGxvY2F0ZWRcIiwgb2JqKTtcclxuICAgIH1cclxufTtcclxuXHJcbmNsYXNzIE1lbW9yeVN0YWNrIHtcclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IF9uYW1lID0gIFwiTWVtb3J5U3RhY2tcIjtcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSh0aGlzKTtcclxuXHJcbiAgICBwcml2YXRlIHRvcDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBzdGFydDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBtZW1vcnk6IE1lbW9yeTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgZnJhbWVzOiBNZW1vcnlGcmFtZVtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG1lbW9yeTogTWVtb3J5LCBzdGFydDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5tZW1vcnkgPSBtZW1vcnk7XHJcbiAgICAgICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xyXG4gICAgICAgIHRoaXMudG9wID0gc3RhcnQ7XHJcbiAgICAgICAgdGhpcy5mcmFtZXMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgY2xlYXIoKSB7XHJcbiAgICAvLyAgICAgdGhpcy5mcmFtZXMubGVuZ3RoID0gMDtcclxuICAgIC8vICAgICB0aGlzLnRvcCA9IHRoaXMuc3RhcnQ7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgcHVibGljIHRvcEZyYW1lKCkge1xyXG4gICAgICAgIHJldHVybiBsYXN0KHRoaXMuZnJhbWVzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHVzaEZyYW1lKHJ0RnVuYzogUnVudGltZUZ1bmN0aW9uKSB7XHJcbiAgICAgICAgdmFyIGZyYW1lID0gbmV3IE1lbW9yeUZyYW1lKHRoaXMubWVtb3J5LCB0aGlzLnRvcCwgcnRGdW5jKTtcclxuICAgICAgICB0aGlzLnRvcCArPSBmcmFtZS5zaXplO1xyXG4gICAgICAgIHRoaXMuZnJhbWVzLnB1c2goZnJhbWUpO1xyXG4gICAgICAgIHRoaXMubWVtb3J5Lm9ic2VydmFibGUuc2VuZChcImZyYW1lUHVzaGVkXCIsIGZyYW1lKTtcclxuICAgICAgICByZXR1cm4gZnJhbWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBvcEZyYW1lKHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgbGV0IGZyYW1lID0gdGhpcy5mcmFtZXMucG9wKCk7XHJcbiAgICAgICAgaWYgKCFmcmFtZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXNzZXJ0RmFsc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnJhbWUucG9wKHJ0Q29uc3RydWN0KTtcclxuICAgICAgICB0aGlzLnRvcCAtPSBmcmFtZS5zaXplO1xyXG4gICAgICAgIHRoaXMubWVtb3J5Lm9ic2VydmFibGUuc2VuZChcImZyYW1lUG9wcGVkXCIsIGZyYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7XHJcbiAgICAgICAgdmFyIHN0ciA9IFwiPHVsIGNsYXNzPVxcXCJzdGFja0ZyYW1lc1xcXCI+XCI7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmZyYW1lcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICB2YXIgZnJhbWUgPSB0aGlzLmZyYW1lc1tpXTtcclxuICAgICAgICAgICAgc3RyICs9IFwiPGxpPlwiICsgZnJhbWUudG9TdHJpbmcoKSArIFwiPC9saT5cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3RyICs9IFwiPC91bD5cIjtcclxuICAgICAgICByZXR1cm4gc3RyO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBNZW1vcnlIZWFwIHtcclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IF9uYW1lID0gXCJNZW1vcnlIZWFwXCI7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSh0aGlzKTtcclxuXHJcbiAgICBwcml2YXRlIGJvdHRvbTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBlbmQ6IG51bWJlcjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgbWVtb3J5OiBNZW1vcnk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IG9iamVjdE1hcDoge1tpbmRleDpudW1iZXJdOiBEeW5hbWljT2JqZWN0fTtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IobWVtb3J5OiBNZW1vcnksIGVuZDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5tZW1vcnkgPSBtZW1vcnk7XHJcbiAgICAgICAgdGhpcy5lbmQgPSBlbmQ7XHJcbiAgICAgICAgdGhpcy5ib3R0b20gPSBlbmQ7XHJcbiAgICAgICAgdGhpcy5vYmplY3RNYXAgPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgY2xlYXIoKSB7XHJcbiAgICAvLyAgICAgdGhpcy5vYmplY3RNYXAgPSB7fTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgYWxsb2NhdGVOZXdPYmplY3Qob2JqOiBEeW5hbWljT2JqZWN0KSB7XHJcbiAgICAvLyAgICAgdGhpcy5ib3R0b20gLT0gb2JqLnR5cGUuc2l6ZTtcclxuICAgIC8vICAgICB0aGlzLm1lbW9yeS5hbGxvY2F0ZU9iamVjdChvYmosIHRoaXMuYm90dG9tKTtcclxuICAgIC8vICAgICB0aGlzLm9iamVjdE1hcFtvYmouYWRkcmVzc10gPSBvYmo7XHJcbiAgICAvLyAgICAgdGhpcy5tZW1vcnkub2JzZXJ2YWJsZS5zZW5kKFwiaGVhcE9iamVjdEFsbG9jYXRlZFwiLCBvYmopO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIHB1YmxpYyBkZWxldGVPYmplY3QoYWRkcjogbnVtYmVyLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgLy8gICAgIHZhciBvYmogPSB0aGlzLm9iamVjdE1hcFthZGRyXTtcclxuICAgIC8vICAgICBpZiAob2JqKSB7XHJcbiAgICAvLyAgICAgICAgIGRlbGV0ZSB0aGlzLm9iamVjdE1hcFthZGRyXTtcclxuICAgIC8vICAgICAgICAgdGhpcy5tZW1vcnkuZGVhbGxvY2F0ZU9iamVjdChhZGRyLCBydENvbnN0cnVjdCk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMubWVtb3J5Lm9ic2VydmFibGUuc2VuZChcImhlYXBPYmplY3REZWxldGVkXCIsIG9iaik7XHJcbiAgICAvLyAgICAgICAgIC8vIE5vdGU6IHJlc3BvbnNpYmlsaXR5IGZvciBydW5uaW5nIGRlc3RydWN0b3IgbGllcyBlbHNld2hlcmVcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgcmV0dXJuIG9iajtcclxuICAgIC8vIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBNZW1vcnlGcmFtZSB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBfbmFtZSA9IFwiTWVtb3J5RnJhbWVcIjtcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSh0aGlzKTtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHN0YXJ0OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGVuZDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBtZW1vcnk6IE1lbW9yeTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgZnVuYzogUnVudGltZUZ1bmN0aW9uO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBzaXplOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGxvY2FsT2JqZWN0c0J5RW50aXR5SWQ6IHtbaW5kZXg6bnVtYmVyXTogQXV0b09iamVjdH0gPSB7fTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgbG9jYWxSZWZlcmVuY2VzQnlFbnRpdHlJZDoge1tpbmRleDpudW1iZXJdOiBDUFBPYmplY3QgfCB1bmRlZmluZWR9ID0ge307XHJcbiAgICBcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IobWVtb3J5OiBNZW1vcnksIHN0YXJ0OiBudW1iZXIsIHJ0RnVuYzogUnVudGltZUZ1bmN0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5tZW1vcnkgPSBtZW1vcnk7XHJcbiAgICAgICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xyXG4gICAgICAgIHRoaXMuZnVuYyA9IHJ0RnVuYztcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnNpemUgPSAwO1xyXG5cclxuICAgICAgICBsZXQgYWRkciA9IHRoaXMuc3RhcnQ7XHJcblxyXG4gICAgICAgIC8vIFRPRE86IGFkZCB0aGlzIHBvaW50ZXIgYmFjayBpblxyXG4gICAgICAgIC8vIGlmICh0aGlzLmZ1bmMubW9kZWwuaXNNZW1iZXJGdW5jdGlvbikge1xyXG4gICAgICAgIC8vICAgICBsZXQgb2JqID0gbmV3IFRoaXNPYmplY3QobmV3IE9iamVjdFBvaW50ZXIocnRGdW5jLnJlY2VpdmVyKSwgbWVtb3J5LCBhZGRyKTtcclxuICAgICAgICAvLyAgICAgb2JqLnNldFZhbHVlKHJ0RnVuYy5yZWNlaXZlci5nZXRQb2ludGVyVG8oKSk7XHJcbiAgICAgICAgLy8gICAgIGFkZHIgKz0gb2JqLnNpemU7XHJcblxyXG4gICAgICAgIC8vICAgICB0aGlzLmxvY2FsT2JqZWN0c0J5RW50aXR5SWRbb2JqLmVudGl0eUlkXSA9IG9iajtcclxuICAgICAgICAvLyAgICAgdGhpcy5zaXplICs9IG9iai5zaXplO1xyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgLy8gUHVzaCBvYmplY3RzIGZvciBhbGwgZW50aXRpZXMgaW4gdGhlIGJsb2NrXHJcbiAgICAgICAgcnRGdW5jLm1vZGVsLmNvbnRleHQuZnVuY3Rpb25Mb2NhbHMubG9jYWxPYmplY3RzLmZvckVhY2goKG9iakVudGl0eSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgaWYgKG9iakVudGl0eSBpbnN0YW5jZW9mIEF1dG9FbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhbmQgYWxsb2NhdGUgdGhlIG9iamVjdFxyXG4gICAgICAgICAgICAgICAgbGV0IG9iaiA9IG5ldyBBdXRvT2JqZWN0KG9iakVudGl0eS5kZWZpbml0aW9uLCBvYmpFbnRpdHkudHlwZSwgbWVtb3J5LCBhZGRyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9jYWxPYmplY3RzQnlFbnRpdHlJZFtvYmpFbnRpdHkuZW50aXR5SWRdID0gb2JqO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIE1vdmUgb24gdG8gbmV4dCBhZGRyZXNzIGFmdGVyd2FyZFxyXG4gICAgICAgICAgICAgICAgYWRkciArPSBvYmouc2l6ZTtcclxuICAgICAgICAgICAgICAgICg8TXV0YWJsZTx0aGlzPj50aGlzKS5zaXplICs9IG9iai5zaXplO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmVuZCA9IHRoaXMuc3RhcnQgKyB0aGlzLnNpemU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETzogaXMgdGhpcyBldmVyIHVzZWQ/XHJcbiAgICBwdWJsaWMgdG9TdHJpbmcoKSB7XHJcbiAgICAgICAgdmFyIHN0ciA9IFwiXCI7XHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMubG9jYWxPYmplY3RzQnlFbnRpdHlJZCkge1xyXG4gICAgICAgICAgICB2YXIgb2JqID0gdGhpcy5sb2NhbE9iamVjdHNCeUVudGl0eUlkW2tleV07XHJcbiAgICAgICAgICAgIC8vXHRcdFx0aWYgKCFvYmoudHlwZSl7XHJcbiAgICAgICAgICAgIC8vIHN0ciArPSBcIjxzcGFuIHN0eWxlPVxcXCJiYWNrZ3JvdW5kLWNvbG9yOlwiICsgb2JqLmNvbG9yICsgXCJcXFwiPlwiICsga2V5ICsgXCIgPSBcIiArIG9iaiArIFwiPC9zcGFuPlxcblwiO1xyXG4gICAgICAgICAgICBzdHIgKz0gXCI8c3Bhbj5cIiArIG9iaiArIFwiPC9zcGFuPlxcblwiO1xyXG4gICAgICAgICAgICAvL1x0XHRcdH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0TG9jYWxPYmplY3Q8VCBleHRlbmRzIE9iamVjdFR5cGU+KGVudGl0eTogQXV0b0VudGl0eTxUPikge1xyXG4gICAgICAgIHJldHVybiA8QXV0b09iamVjdDxUPj50aGlzLmxvY2FsT2JqZWN0c0J5RW50aXR5SWRbZW50aXR5LmVudGl0eUlkXTtcclxuICAgIH1cclxuICAgIHB1YmxpYyByZWZlcmVuY2VMb29rdXA8VCBleHRlbmRzIE9iamVjdFR5cGU+KGVudGl0eTogTG9jYWxSZWZlcmVuY2VFbnRpdHk8VD4pIHtcclxuICAgICAgICByZXR1cm4gPENQUE9iamVjdDxUPj50aGlzLmxvY2FsUmVmZXJlbmNlc0J5RW50aXR5SWRbZW50aXR5LmVudGl0eUlkXSB8fCBhc3NlcnRGYWxzZShcIkF0dGVtcHQgdG8gbG9vayB1cCByZWZlcnJlZCBvYmplY3QgYmVmb3JlIHJlZmVyZW5jZSB3YXMgYm91bmQuXCIpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGJpbmRSZWZlcmVuY2UoZW50aXR5OiBMb2NhbFJlZmVyZW5jZUVudGl0eSwgb2JqOiBDUFBPYmplY3Q8T2JqZWN0VHlwZT4pIHtcclxuICAgICAgICB0aGlzLmxvY2FsUmVmZXJlbmNlc0J5RW50aXR5SWRbZW50aXR5LmVudGl0eUlkXSA9IG9iajtcclxuICAgIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgc2V0VXBSZWZlcmVuY2VJbnN0YW5jZXMoKSB7XHJcbiAgICAvLyAgICAgdGhpcy5zY29wZS5yZWZlcmVuY2VPYmplY3RzLmZvckVhY2goKHJlZjogTG9jYWxSZWZlcmVuY2VFbnRpdHkpID0+IHtcclxuICAgIC8vICAgICAgICAgdGhpcy5sb2NhbFJlZmVyZW5jZXNCeUVudGl0eUlkW3JlZi5lbnRpdHlJZF0gPSB1bmRlZmluZWQ7XHJcbiAgICAvLyAgICAgICAgIC8vc2VsZi5tZW1vcnkuYWxsb2NhdGVPYmplY3QocmVmLCBhZGRyKTtcclxuICAgIC8vICAgICAgICAgLy9hZGRyICs9IHJlZi50eXBlLnNpemU7XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgcHVibGljIHBvcChydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLmxvY2FsT2JqZWN0c0J5RW50aXR5SWQpIHtcclxuICAgICAgICAgICAgdmFyIG9iaiA9IHRoaXMubG9jYWxPYmplY3RzQnlFbnRpdHlJZFtrZXldO1xyXG5cclxuICAgICAgICAgICAgLy8gTm90ZSB0aGlzIGRvZXMgbm90aGluZyBpZiB0aGUgb2JqZWN0IHdhcyBhbHJlYWR5IGRlYWxsb2NhdGVkIChlLmcuIGdvaW5nIG91dCBvZiBzY29wZSBvZiBhIG5lc3RlZCBibG9jaywgZGVzdHJ1Y3RvciB3YXMgY2FsbGVkKVxyXG4gICAgICAgICAgICB0aGlzLm1lbW9yeS5raWxsT2JqZWN0KG9iai5hZGRyZXNzLCBydENvbnN0cnVjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufTsiLCJpbXBvcnQgeyBFeHByZXNzaW9uQVNUTm9kZSB9IGZyb20gXCIuL2V4cHJlc3Npb25zXCI7XHJcblxyXG5pbXBvcnQgeyBQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiwgRXhwcmVzc2lvbkNvbnRleHQsIFJ1bnRpbWVDb25zdHJ1Y3QsIENQUENvbnN0cnVjdCwgRGVzY3JpcHRpb24sIFN1Y2Nlc3NmdWxseUNvbXBpbGVkLCBDb21waWxlZFRlbXBvcmFyeURlYWxsb2NhdG9yLCBSdW50aW1lUG90ZW50aWFsRnVsbEV4cHJlc3Npb24gfSBmcm9tIFwiLi9jb25zdHJ1Y3RzXCI7XHJcblxyXG5pbXBvcnQgeyBUeXBlLCBPYmplY3RUeXBlLCBBdG9taWNUeXBlLCBBcml0aG1ldGljVHlwZSwgSW50ZWdyYWxUeXBlLCBGbG9hdGluZ1BvaW50VHlwZSwgUG9pbnRlclR5cGUsIFJlZmVyZW5jZVR5cGUsIENsYXNzVHlwZSwgQm91bmRlZEFycmF5VHlwZSwgQXJyYXlPZlVua25vd25Cb3VuZFR5cGUsIEZ1bmN0aW9uVHlwZSB9IGZyb20gXCIuL3R5cGVzXCI7XHJcblxyXG5pbXBvcnQgeyBDb25zdHJ1Y3RvciwgTXV0YWJsZSB9IGZyb20gXCIuLi91dGlsL3V0aWxcIjtcclxuXHJcbmltcG9ydCB7IEZ1bmN0aW9uRW50aXR5IH0gZnJvbSBcIi4vZW50aXRpZXNcIjtcclxuXHJcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4vcnVudGltZUVudmlyb25tZW50XCI7XHJcblxyXG5pbXBvcnQgeyBDUFBPYmplY3QgfSBmcm9tIFwiLi9vYmplY3RzXCI7XHJcblxyXG5cclxuZXhwb3J0IHR5cGUgVmFsdWVDYXRlZ29yeSA9IFwicHJ2YWx1ZVwiIHwgXCJsdmFsdWVcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBFeHByZXNzaW9uPEFTVFR5cGUgZXh0ZW5kcyBFeHByZXNzaW9uQVNUTm9kZSA9IEV4cHJlc3Npb25BU1ROb2RlPiBleHRlbmRzIFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uPEV4cHJlc3Npb25Db250ZXh0LCBBU1RUeXBlPiB7XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IHJlYWRvbmx5IHR5cGU/OiBUeXBlO1xyXG4gICAgcHVibGljIGFic3RyYWN0IHJlYWRvbmx5IHZhbHVlQ2F0ZWdvcnk/OiBWYWx1ZUNhdGVnb3J5O1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbnZlcnNpb25MZW5ndGg6IG51bWJlciA9IDA7XHJcblxyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0KSB7XHJcbiAgICAgICAgc3VwZXIoY29udGV4dCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPFQgZXh0ZW5kcyBUeXBlID0gVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnkgPSBWYWx1ZUNhdGVnb3J5Pih0aGlzOiBDb21waWxlZEV4cHJlc3Npb248VCxWPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVFeHByZXNzaW9uPFQsVj47XHJcblxyXG4gICAgcHVibGljIGlzV2VsbFR5cGVkKCkgOiB0aGlzIGlzIFNwZWNpZmljVHlwZWRFeHByZXNzaW9uPFR5cGUsVmFsdWVDYXRlZ29yeT4ge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMudHlwZSAmJiAhIXRoaXMudmFsdWVDYXRlZ29yeTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNUeXBlZDxUIGV4dGVuZHMgVHlwZT4oY3RvcjogQ29uc3RydWN0b3I8VD4pIDogdGhpcyBpcyBTcGVjaWZpY1R5cGVkRXhwcmVzc2lvbjxULCBWYWx1ZUNhdGVnb3J5PiB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy50eXBlICYmIHRoaXMudHlwZS5pc1R5cGUoY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzT2JqZWN0VHlwZWQoKSA6IHRoaXMgaXMgU3BlY2lmaWNUeXBlZEV4cHJlc3Npb248T2JqZWN0VHlwZSwgVmFsdWVDYXRlZ29yeT4ge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMudHlwZSAmJiB0aGlzLnR5cGUuaXNPYmplY3RUeXBlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzQXRvbWljVHlwZWQoKSA6IHRoaXMgaXMgU3BlY2lmaWNUeXBlZEV4cHJlc3Npb248QXRvbWljVHlwZSwgVmFsdWVDYXRlZ29yeT4ge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMudHlwZSAmJiB0aGlzLnR5cGUuaXNBdG9taWNUeXBlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzQXJpdGhtZXRpY1R5cGVkKCkgOiB0aGlzIGlzIFNwZWNpZmljVHlwZWRFeHByZXNzaW9uPEFyaXRobWV0aWNUeXBlLCBWYWx1ZUNhdGVnb3J5PiB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy50eXBlICYmIHRoaXMudHlwZS5pc0FyaXRobWV0aWNUeXBlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzSW50ZWdyYWxUeXBlZCgpIDogdGhpcyBpcyBTcGVjaWZpY1R5cGVkRXhwcmVzc2lvbjxJbnRlZ3JhbFR5cGUsIFZhbHVlQ2F0ZWdvcnk+IHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLnR5cGUgJiYgdGhpcy50eXBlLmlzSW50ZWdyYWxUeXBlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzRmxvYXRpbmdQb2ludFR5cGVkKCkgOiB0aGlzIGlzIFNwZWNpZmljVHlwZWRFeHByZXNzaW9uPEZsb2F0aW5nUG9pbnRUeXBlLCBWYWx1ZUNhdGVnb3J5PiB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy50eXBlICYmIHRoaXMudHlwZS5pc0Zsb2F0aW5nUG9pbnRUeXBlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzUG9pbnRlclR5cGVkKCkgOiB0aGlzIGlzIFNwZWNpZmljVHlwZWRFeHByZXNzaW9uPFBvaW50ZXJUeXBlLCBWYWx1ZUNhdGVnb3J5PiB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy50eXBlICYmIHRoaXMudHlwZS5pc1BvaW50ZXJUeXBlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzUmVmZXJlbmNlVHlwZWQoKSA6IHRoaXMgaXMgU3BlY2lmaWNUeXBlZEV4cHJlc3Npb248UmVmZXJlbmNlVHlwZSwgVmFsdWVDYXRlZ29yeT4ge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMudHlwZSAmJiB0aGlzLnR5cGUuaXNSZWZlcmVuY2VUeXBlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzQ2xhc3NUeXBlZCgpIDogdGhpcyBpcyBTcGVjaWZpY1R5cGVkRXhwcmVzc2lvbjxDbGFzc1R5cGUsIFZhbHVlQ2F0ZWdvcnk+IHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLnR5cGUgJiYgdGhpcy50eXBlLmlzQ2xhc3NUeXBlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzQm91bmRlZEFycmF5VHlwZWQoKSA6IHRoaXMgaXMgU3BlY2lmaWNUeXBlZEV4cHJlc3Npb248Qm91bmRlZEFycmF5VHlwZSwgXCJsdmFsdWVcIj4ge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMudHlwZSAmJiB0aGlzLnR5cGUuaXNCb3VuZGVkQXJyYXlUeXBlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzQXJyYXlPZlVua25vd25Cb3VuZFR5cGVkKCkgOiB0aGlzIGlzIFNwZWNpZmljVHlwZWRFeHByZXNzaW9uPEFycmF5T2ZVbmtub3duQm91bmRUeXBlLCBcImx2YWx1ZVwiPiB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy50eXBlICYmIHRoaXMudHlwZS5pc0FycmF5T2ZVbmtub3duQm91bmRUeXBlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzR2VuZXJpY0FycmF5VHlwZWQoKSA6IHRoaXMgaXMgU3BlY2lmaWNUeXBlZEV4cHJlc3Npb248Qm91bmRlZEFycmF5VHlwZSB8IEFycmF5T2ZVbmtub3duQm91bmRUeXBlLCBcImx2YWx1ZVwiPiB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy50eXBlICYmIHRoaXMudHlwZS5pc0dlbmVyaWNBcnJheVR5cGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNQcnZhbHVlPFQgZXh0ZW5kcyBUeXBlLCBWIGV4dGVuZHMgVmFsdWVDYXRlZ29yeT4odGhpczogVHlwZWRFeHByZXNzaW9uPFQsVj4pIDogdGhpcyBpcyBUeXBlZEV4cHJlc3Npb248VCxcInBydmFsdWVcIj4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlQ2F0ZWdvcnkgPT09IFwicHJ2YWx1ZVwiO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0x2YWx1ZTxUIGV4dGVuZHMgVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnk+KHRoaXM6IFR5cGVkRXhwcmVzc2lvbjxULFY+KSA6IHRoaXMgaXMgVHlwZWRFeHByZXNzaW9uPFQsXCJsdmFsdWVcIj4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlQ2F0ZWdvcnkgPT09IFwibHZhbHVlXCI7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHVibGljIGlzU3VjY2Vzc2Z1bGx5Q29tcGlsZWQoKSA6IHRoaXMgaXMgQ29tcGlsZWQ8dGhpcz4ge1xyXG4gICAgLy8gICAgIHJldHVybiAhdGhpcy5oYXNFcnJvcnM7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgcHVibGljIGlzVGFpbENoaWxkKGNoaWxkOiBDUFBDb25zdHJ1Y3QpIHtcclxuICAgICAgICByZXR1cm4ge2lzVGFpbDogZmFsc2V9O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBkZXNjcmliZUV2YWxSZXN1bHQoZGVwdGg6IG51bWJlcikgOiBEZXNjcmlwdGlvbjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZEV4cHJlc3Npb248VCBleHRlbmRzIFR5cGUgPSBUeXBlLCBWIGV4dGVuZHMgVmFsdWVDYXRlZ29yeSA9IFZhbHVlQ2F0ZWdvcnk+IGV4dGVuZHMgRXhwcmVzc2lvbiwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4gICAgcmVhZG9ubHkgdGVtcG9yYXJ5RGVhbGxvY2F0b3I/OiBDb21waWxlZFRlbXBvcmFyeURlYWxsb2NhdG9yOyAvLyB0byBtYXRjaCBDb21waWxlZFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uIHN0cnVjdHVyZVxyXG4gICAgcmVhZG9ubHkgdHlwZTogVDtcclxuICAgIHJlYWRvbmx5IHZhbHVlQ2F0ZWdvcnk6IFY7XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFNwZWNpZmljQ29tcGlsZWRFeHByZXNzaW9uPFQgZXh0ZW5kcyBUeXBlID0gVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnkgPSBWYWx1ZUNhdGVnb3J5PiA9IFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5ID8gQ29tcGlsZWRFeHByZXNzaW9uPFQsVj4gOiBuZXZlcjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgV2VsbFR5cGVkPFQgZXh0ZW5kcyBUeXBlID0gVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnkgPSBWYWx1ZUNhdGVnb3J5PiB7XHJcbiAgICByZWFkb25seSB0eXBlOiBUO1xyXG4gICAgcmVhZG9ubHkgdmFsdWVDYXRlZ29yeTogVjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBUeXBlZEV4cHJlc3Npb248VCBleHRlbmRzIFR5cGUgPSBUeXBlLCBWIGV4dGVuZHMgVmFsdWVDYXRlZ29yeSA9IFZhbHVlQ2F0ZWdvcnk+IGV4dGVuZHMgRXhwcmVzc2lvbiB7XHJcbiAgICByZWFkb25seSB0eXBlOiBUO1xyXG4gICAgcmVhZG9ubHkgdmFsdWVDYXRlZ29yeTogVjtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgU3BlY2lmaWNUeXBlZEV4cHJlc3Npb248VCBleHRlbmRzIFR5cGUgPSBUeXBlLCBWIGV4dGVuZHMgVmFsdWVDYXRlZ29yeSA9IFZhbHVlQ2F0ZWdvcnk+ID0gViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnkgPyBUeXBlZEV4cHJlc3Npb248VCxWPiA6IG5ldmVyO1xyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhbGxXZWxsVHlwZWQoZXhwcmVzc2lvbnM6IEV4cHJlc3Npb25bXSk6IGV4cHJlc3Npb25zIGlzIFR5cGVkRXhwcmVzc2lvbltdO1xyXG5leHBvcnQgZnVuY3Rpb24gYWxsV2VsbFR5cGVkKGV4cHJlc3Npb25zOiByZWFkb25seSBFeHByZXNzaW9uW10pOiBleHByZXNzaW9ucyBpcyByZWFkb25seSBUeXBlZEV4cHJlc3Npb25bXTtcclxuZXhwb3J0IGZ1bmN0aW9uIGFsbFdlbGxUeXBlZChleHByZXNzaW9uczogcmVhZG9ubHkgRXhwcmVzc2lvbltdKTogZXhwcmVzc2lvbnMgaXMgcmVhZG9ubHkgVHlwZWRFeHByZXNzaW9uW10ge1xyXG4gICAgcmV0dXJuIGV4cHJlc3Npb25zLmV2ZXJ5KChleHByKSA9PiB7IHJldHVybiBleHByLmlzV2VsbFR5cGVkKCk7IH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWxsT2JqZWN0VHlwZWQoZXhwcmVzc2lvbnM6IEV4cHJlc3Npb25bXSk6IGV4cHJlc3Npb25zIGlzIFR5cGVkRXhwcmVzc2lvbjxPYmplY3RUeXBlPltdO1xyXG5leHBvcnQgZnVuY3Rpb24gYWxsT2JqZWN0VHlwZWQoZXhwcmVzc2lvbnM6IHJlYWRvbmx5IEV4cHJlc3Npb25bXSk6IGV4cHJlc3Npb25zIGlzIHJlYWRvbmx5IFR5cGVkRXhwcmVzc2lvbjxPYmplY3RUeXBlPltdO1xyXG5leHBvcnQgZnVuY3Rpb24gYWxsT2JqZWN0VHlwZWQoZXhwcmVzc2lvbnM6IHJlYWRvbmx5IEV4cHJlc3Npb25bXSk6IGV4cHJlc3Npb25zIGlzIHJlYWRvbmx5IFR5cGVkRXhwcmVzc2lvbjxPYmplY3RUeXBlPltdIHtcclxuICAgIHJldHVybiBleHByZXNzaW9ucy5ldmVyeSgoZXhwcikgPT4geyByZXR1cm4gZXhwci5pc09iamVjdFR5cGVkKCk7IH0pO1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBWQ1Jlc3VsdFR5cGVzPFQgZXh0ZW5kcyBUeXBlLCBWIGV4dGVuZHMgVmFsdWVDYXRlZ29yeT4gPVxyXG4gICAgVCBleHRlbmRzIEZ1bmN0aW9uVHlwZSA/IChcclxuICAgICAgICBWIGV4dGVuZHMgXCJwcnZhbHVlXCIgPyBuZXZlciA6XHJcbiAgICAgICAgViBleHRlbmRzIFwieHZhbHVlXCIgPyBuZXZlciA6XHJcbiAgICAgICAgRnVuY3Rpb25FbnRpdHkgLy8gbHZhbHVlXHJcbiAgICApXHJcbiAgICA6IFQgZXh0ZW5kcyBBdG9taWNUeXBlID8gKFxyXG4gICAgICAgIFYgZXh0ZW5kcyBcInBydmFsdWVcIiA/IFZhbHVlPFQ+IDpcclxuICAgICAgICBWIGV4dGVuZHMgXCJ4dmFsdWVcIiA/IENQUE9iamVjdDxUPiA6XHJcbiAgICAgICAgQ1BQT2JqZWN0PFQ+IC8vIGx2YWx1ZVxyXG4gICAgKVxyXG4gICAgOiBUIGV4dGVuZHMgT2JqZWN0VHlwZSA/IChcclxuICAgICAgICBcclxuICAgICAgICAvLyBlLmcuIElmIFQgaXMgYWN0dWFsbHkgT2JqZWN0VHlwZSwgdGhlbiBpdCBjb3VsZCBiZSBhbiBBdG9taWNUeXBlIGFuZCB3ZSBnbyB3aXRoIHRoZSBmaXJzdCBvcHRpb24gVmFsdWU8QXRvbWljVHlwZT4gfCBDUFBPYmplY3Q8VD4uXHJcbiAgICAgICAgLy8gICAgICBIb3dldmVyLCBpZiBUIGlzIGFjdHVhbGx5IENsYXNzVHlwZSwgdGhlbiBpdCBjYW4ndCBiZSBhbiBBdG9taWNUeXBlIGFuZCB3ZSBnbyB3aXRoIHRoZSBzZWNvbmQgb3B0aW9uIG9mIG9ubHkgQ1BQT2JqZWN0PFQ+XHJcbiAgICAgICAgViBleHRlbmRzIFwicHJ2YWx1ZVwiID8gKEF0b21pY1R5cGUgZXh0ZW5kcyBUID8gVmFsdWU8QXRvbWljVHlwZT4gfCBDUFBPYmplY3Q8VD4gOiBDUFBPYmplY3Q8VD4pIDpcclxuICAgICAgICBWIGV4dGVuZHMgXCJ4dmFsdWVcIiA/IENQUE9iamVjdDxUPiA6XHJcbiAgICAgICAgQ1BQT2JqZWN0PFQ+IC8vIGx2YWx1ZVxyXG4gICAgKVxyXG4gICAgOiAvKk9iamVjdFR5cGUgZXh0ZW5kcyBUID8qLyAoIC8vIFRoYXQgaXMsIFQgaXMgbW9yZSBnZW5lcmFsLCBzbyBpdCdzIHBvc3NpYmxlIFQgaXMgYW4gQXRvbWljVHlwZSBvciBhbiBPYmplY3RUeXBlXHJcbiAgICAgICAgViBleHRlbmRzIFwicHJ2YWx1ZVwiID8gVmFsdWU8QXRvbWljVHlwZT4gfCBDUFBPYmplY3Q8T2JqZWN0VHlwZT4gOlxyXG4gICAgICAgIFYgZXh0ZW5kcyBcInh2YWx1ZVwiID8gQ1BQT2JqZWN0PE9iamVjdFR5cGU+IDpcclxuICAgICAgICBDUFBPYmplY3Q8T2JqZWN0VHlwZT4gLy8gbHZhbHVlXHJcbiAgICApXHJcbiAgICAvLyA6IHsgLy8gT3RoZXJ3aXNlLCBUIGlzIE5PVCBwb3NzaWJseSBhbiBPYmplY3RUeXBlLiBUaGlzIGNvdWxkIGhhcHBlbiB3aXRoIGUuZy4gYW4gbHZhbHVlIGV4cHJlc3Npb24gdGhhdCB5aWVsZHMgYSBmdW5jdGlvblxyXG4gICAgLy8gICAgIHJlYWRvbmx5IHBydmFsdWU6IG51bWJlcjtcclxuICAgIC8vICAgICByZWFkb25seSB4dmFsdWU6IG51bWJlcjtcclxuICAgIC8vICAgICByZWFkb25seSBsdmFsdWU6IG51bWJlcjtcclxuICAgIC8vIH07XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgUnVudGltZUV4cHJlc3Npb248VCBleHRlbmRzIFR5cGUgPSBUeXBlLCBWIGV4dGVuZHMgVmFsdWVDYXRlZ29yeSA9IFZhbHVlQ2F0ZWdvcnksIEMgZXh0ZW5kcyBDb21waWxlZEV4cHJlc3Npb248VCxWPiA9IENvbXBpbGVkRXhwcmVzc2lvbjxULFY+PiBleHRlbmRzIFJ1bnRpbWVQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbjxDPiB7XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogV0FSTklORzogVGhlIGV2YWxSZXN1bHQgcHJvcGVydHkgbWF5IGJlIHVuZGVmaW5lZCwgZXZlbiB0aG91Z2ggaXQncyB0eXBlIHN1Z2dlc3RzIGl0IHdpbGwgYWx3YXlzXHJcbiAgICAgKiBiZSBkZWZpbmVkLiBJbiBtb3N0IHBsYWNlcyB3aGVyZSBpdCBpcyBhY2Nlc3NlZCwgdGhlcmUgaXMgYW4gaW1wbGljaXQgYXNzdW1wdGlvbiB0aGF0IHRoZSBleHByZXNzaW9uXHJcbiAgICAgKiB3aWxsIGFscmVhZHkgaGF2ZSBiZWVuIGV2YWx1YXRlZCBhbmQgdGhlIGNsaWVudCBjb2RlIHdvdWxkIGVuZCB1cCBuZWVkaW5nIGEgbm9uLW51bGwgYXNzZXJ0aW9uIGFueXdheS5cclxuICAgICAqIEhvd2V2ZXIsIHRob3NlIG5vbi1udWxsIGFzc2VydGlvbnMgYWN0dWFsbHkgaW50cm9kdWNlIHNvbWUgdHJpY2t5IGNvbXBsaWNhdGlvbnMgd2l0aCBWQ1Jlc3VsdFR5cGVzLFxyXG4gICAgICogd2hpY2ggY2F1c2UgdHlwZSBlcnJvcnMgYW5kIGFyZSBhIGh1Z2UgcGFpbi4gU28gaW5zdGVhZCB3ZSB0ZWxsIHRoZSB0eXBlIHN5c3RlbSB0byB0cnVzdCB1cy5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGV2YWxSZXN1bHQhOiBWQ1Jlc3VsdFR5cGVzPFQsVj47XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG1vZGVsOiBDLCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICBzdXBlcihtb2RlbCwgXCJleHByZXNzaW9uXCIsIHBhcmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHNldEV2YWxSZXN1bHQodmFsdWU6IFZDUmVzdWx0VHlwZXM8VCxWPikge1xyXG4gICAgICAgICg8TXV0YWJsZTx0aGlzPj50aGlzKS5ldmFsUmVzdWx0ID0gdmFsdWU7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVHlwZSwgQm91bmRlZEFycmF5VHlwZSwgQ2xhc3NUeXBlLCBBdG9taWNUeXBlLCBQb2ludGVyVHlwZSwgT2JqZWN0VHlwZSwgT2JqZWN0UG9pbnRlciwgQXJyYXlQb2ludGVyLCBBcnJheUVsZW1UeXBlLCBDaGFyLCBJbnQgfSBmcm9tIFwiLi90eXBlc1wiO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSBcIi4uL3V0aWwvb2JzZXJ2ZVwiO1xyXG5pbXBvcnQgeyBhc3NlcnQsIE11dGFibGUsIGFzTXV0YWJsZSB9IGZyb20gXCIuLi91dGlsL3V0aWxcIjtcclxuaW1wb3J0IHsgTWVtb3J5LCBWYWx1ZSwgUmF3VmFsdWVUeXBlIH0gZnJvbSBcIi4vcnVudGltZUVudmlyb25tZW50XCI7XHJcbmltcG9ydCB7IFJ1bnRpbWVDb25zdHJ1Y3QsIERlc2NyaXB0aW9uIH0gZnJvbSBcIi4vY29uc3RydWN0c1wiO1xyXG5pbXBvcnQgeyBMb2NhbFZhcmlhYmxlRGVmaW5pdGlvbiwgR2xvYmFsT2JqZWN0RGVmaW5pdGlvbiwgQ29tcGlsZWRHbG9iYWxPYmplY3REZWZpbml0aW9uLCBQYXJhbWV0ZXJEZWZpbml0aW9uIH0gZnJvbSBcIi4vZGVjbGFyYXRpb25zXCI7XHJcblxyXG5hYnN0cmFjdCBjbGFzcyBPYmplY3REYXRhPFQgZXh0ZW5kcyBPYmplY3RUeXBlPiB7XHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgb2JqZWN0OiBDUFBPYmplY3Q8VD47XHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgc2l6ZTogbnVtYmVyO1xyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IG1lbW9yeTogTWVtb3J5O1xyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGFkZHJlc3M6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iob2JqZWN0OiBDUFBPYmplY3Q8VD4sIG1lbW9yeTogTWVtb3J5LCBhZGRyZXNzOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLm9iamVjdCA9IG9iamVjdDtcclxuICAgICAgICB0aGlzLnNpemUgPSB0aGlzLm9iamVjdC5zaXplO1xyXG4gICAgICAgIHRoaXMubWVtb3J5ID0gbWVtb3J5O1xyXG4gICAgICAgIHRoaXMuYWRkcmVzcyA9IGFkZHJlc3M7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHVibGljIGFic3RyYWN0IHJhd1ZhbHVlKCkgOiBSYXdWYWx1ZVR5cGU7XHJcblxyXG4gICAgLy8gcHVibGljIGFic3RyYWN0IHNldFJhd1ZhbHVlKG5ld1ZhbHVlOiBSYXdWYWx1ZVR5cGUsIHdyaXRlOiBib29sZWFuKSA6IHZvaWQ7XHJcbn07XHJcblxyXG5jbGFzcyBBdG9taWNPYmplY3REYXRhPFQgZXh0ZW5kcyBBdG9taWNUeXBlPiBleHRlbmRzIE9iamVjdERhdGE8VD4ge1xyXG5cclxuICAgIHB1YmxpYyByYXdWYWx1ZSgpIHtcclxuICAgICAgICB2YXIgYnl0ZXMgPSB0aGlzLm1lbW9yeS5yZWFkQnl0ZXModGhpcy5hZGRyZXNzLCB0aGlzLnNpemUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm9iamVjdC50eXBlLmJ5dGVzVG9WYWx1ZShieXRlcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFJhd1ZhbHVlKG5ld1ZhbHVlOiBSYXdWYWx1ZVR5cGUsIHdyaXRlOiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy5tZW1vcnkud3JpdGVCeXRlcyh0aGlzLmFkZHJlc3MsIHRoaXMub2JqZWN0LnR5cGUudmFsdWVUb0J5dGVzKG5ld1ZhbHVlKSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5jbGFzcyBBcnJheU9iamVjdERhdGE8VCBleHRlbmRzIEJvdW5kZWRBcnJheVR5cGU+IGV4dGVuZHMgT2JqZWN0RGF0YTxUPiB7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGU8RWxlbV90eXBlIGV4dGVuZHMgQXJyYXlFbGVtVHlwZT4ob2JqZWN0OiBDUFBPYmplY3Q8Qm91bmRlZEFycmF5VHlwZTxFbGVtX3R5cGU+PiwgbWVtb3J5OiBNZW1vcnksIGFkZHJlc3M6IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiBuZXcgQXJyYXlPYmplY3REYXRhPEJvdW5kZWRBcnJheVR5cGU+KG9iamVjdCwgbWVtb3J5LCBhZGRyZXNzKTtcclxuICAgIH0gXHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBlbGVtT2JqZWN0czogQXJyYXlTdWJvYmplY3Q8YW55PltdO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihvYmplY3Q6IENQUE9iamVjdDxUPiwgbWVtb3J5OiBNZW1vcnksIGFkZHJlc3M6IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyKG9iamVjdCwgbWVtb3J5LCBhZGRyZXNzKTtcclxuXHJcbiAgICAgICAgbGV0IHN1YkFkZHIgPSB0aGlzLmFkZHJlc3M7XHJcbiAgICAgICAgdGhpcy5lbGVtT2JqZWN0cyA9IFtdO1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLm9iamVjdC50eXBlLmxlbmd0aDsgKytpKXtcclxuICAgICAgICAgICAgdGhpcy5lbGVtT2JqZWN0cy5wdXNoKG5ldyBBcnJheVN1Ym9iamVjdCh0aGlzLm9iamVjdCwgaSwgbWVtb3J5LCBzdWJBZGRyKSk7XHJcbiAgICAgICAgICAgIHN1YkFkZHIgKz0gdGhpcy5vYmplY3QudHlwZS5lbGVtVHlwZS5zaXplO1xyXG4gICAgICAgIH0gXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEFycmF5RWxlbVN1Ym9iamVjdEJ5QWRkcmVzcyhhZGRyZXNzOiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgaW5kZXggPSAoYWRkcmVzcyAtIHRoaXMuYWRkcmVzcykgLyB0aGlzLm9iamVjdC50eXBlLmVsZW1UeXBlLnNpemU7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QXJyYXlFbGVtU3Vib2JqZWN0KGluZGV4KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QXJyYXlFbGVtU3Vib2JqZWN0KGluZGV4OiBudW1iZXIpIDogQXJyYXlTdWJvYmplY3Q8VFtcImVsZW1UeXBlXCJdPiB7XHJcbiAgICAgICAgaWYgKDAgPD0gaW5kZXggJiYgaW5kZXggPCB0aGlzLmVsZW1PYmplY3RzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtT2JqZWN0c1tpbmRleF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgb3V0T2ZCb3VuZHNPYmogPSAgbmV3IEFycmF5U3Vib2JqZWN0KHRoaXMub2JqZWN0LCBpbmRleCxcclxuICAgICAgICAgICAgICAgIHRoaXMubWVtb3J5LCB0aGlzLmFkZHJlc3MgKyBpbmRleCAqIHRoaXMub2JqZWN0LnR5cGUuZWxlbVR5cGUuc2l6ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBvdXRPZkJvdW5kc09iajtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHVibGljIHJhd1ZhbHVlKCkge1xyXG4gICAgLy8gICAgIHJldHVybiB0aGlzLmVsZW1PYmplY3RzLm1hcCgoZWxlbU9iaikgPT4geyByZXR1cm4gZWxlbU9iai5yYXdWYWx1ZSgpOyB9KTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgc2V0UmF3VmFsdWUobmV3VmFsdWU6IFJhd1ZhbHVlVHlwZSwgd3JpdGU6IGJvb2xlYW4pIHtcclxuICAgIC8vICAgICBmb3IodmFyIGkgPSAwOyBpIDwgKDxBcnJheVR5cGU+dGhpcy5vYmplY3QudHlwZSkubGVuZ3RoOyArK2kpe1xyXG4gICAgLy8gICAgICAgICB0aGlzLmVsZW1PYmplY3RzW2ldLnNldFZhbHVlKG5ld1ZhbHVlW2ldLCB3cml0ZSk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG59XHJcblxyXG5jbGFzcyBDbGFzc09iamVjdERhdGE8VCBleHRlbmRzIENsYXNzVHlwZT4gZXh0ZW5kcyBPYmplY3REYXRhPFQ+IHtcclxuXHJcbiAgICAvLyBwdWJsaWMgcmVhZG9ubHkgc3Vib2JqZWN0czogU3Vib2JqZWN0W107XHJcbiAgICAvLyBwdWJsaWMgcmVhZG9ubHkgYmFzZVN1Ym9iamVjdHM6IEJhc2VTdWJvYmplY3RbXTtcclxuICAgIC8vIHB1YmxpYyByZWFkb25seSBtZW1iZXJTdWJvYmplY3RzOiBNZW1iZXJTdWJvYmplY3RbXTtcclxuICAgIC8vIHByaXZhdGUgcmVhZG9ubHkgbWVtYmVyU3Vib2JqZWN0TWFwOiB7W2luZGV4OiBzdHJpbmddOiBNZW1iZXJTdWJvYmplY3R9ID0ge307XHJcblxyXG4gICAgLy8gcHVibGljIGNvbnN0cnVjdG9yKG9iamVjdDogQ1BQT2JqZWN0PFQ+LCBtZW1vcnk6IE1lbW9yeSwgYWRkcmVzczogbnVtYmVyKSB7XHJcbiAgICAvLyAgICAgc3VwZXIob2JqZWN0LCBtZW1vcnksIGFkZHJlc3MpO1xyXG4gICAgICAgIFxyXG4gICAgLy8gICAgIGxldCBzdWJBZGRyID0gdGhpcy5hZGRyZXNzO1xyXG5cclxuICAgIC8vICAgICB0aGlzLmJhc2VTdWJvYmplY3RzID0gKDxDbGFzc1R5cGU+dGhpcy5vYmplY3QudHlwZSkuY3BwQ2xhc3MuYmFzZVN1Ym9iamVjdEVudGl0aWVzLm1hcCgoYmFzZSkgPT4ge1xyXG4gICAgLy8gICAgICAgICBsZXQgc3ViT2JqID0gYmFzZS5vYmplY3RJbnN0YW5jZSh0aGlzLm9iamVjdCwgbWVtb3J5LCBzdWJBZGRyKTtcclxuICAgIC8vICAgICAgICAgc3ViQWRkciArPSBzdWJPYmouc2l6ZTtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIHN1Yk9iajtcclxuICAgIC8vICAgICB9KTtcclxuXHJcbiAgICAvLyAgICAgdGhpcy5tZW1iZXJTdWJvYmplY3RzID0gKDxDbGFzc1R5cGU+dGhpcy5vYmplY3QudHlwZSkuY3BwQ2xhc3MubWVtYmVyU3Vib2JqZWN0RW50aXRpZXMubWFwKChtZW0pID0+IHtcclxuICAgIC8vICAgICAgICAgbGV0IHN1Yk9iaiA9IG1lbS5vYmplY3RJbnN0YW5jZSh0aGlzLm9iamVjdCwgbWVtb3J5LCBzdWJBZGRyKTtcclxuICAgIC8vICAgICAgICAgc3ViQWRkciArPSBzdWJPYmouc2l6ZTtcclxuICAgIC8vICAgICAgICAgdGhpcy5tZW1iZXJTdWJvYmplY3RNYXBbbWVtLm5hbWVdID0gc3ViT2JqO1xyXG4gICAgLy8gICAgICAgICByZXR1cm4gc3ViT2JqO1xyXG4gICAgLy8gICAgIH0pO1xyXG5cclxuXHJcbiAgICAvLyAgICAgdGhpcy5zdWJvYmplY3RzID0gdGhpcy5iYXNlU3Vib2JqZWN0cy5jb25jYXQodGhpcy5tZW1iZXJTdWJvYmplY3RzKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgZ2V0TWVtYmVyU3Vib2JqZWN0KG5hbWU6IHN0cmluZykge1xyXG4gICAgLy8gICAgIHJldHVybiB0aGlzLm1lbWJlclN1Ym9iamVjdE1hcFtuYW1lXTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgZ2V0QmFzZVN1Ym9iamVjdCgpIDogQmFzZVN1Ym9iamVjdCB8IHVuZGVmaW5lZCB7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuYmFzZVN1Ym9iamVjdHNbMF07XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gVE9ETzogQ291bGQgcmVtb3ZlPyBUaGlzIGlzbid0IGN1cnJlbnRseSB1c2VkIGFuZCBJIGRvbid0IHRoaW5rIGl0J3MgdXNlZnVsIGZvciBhbnl0aGluZ1xyXG4gICAgLy8gcHVibGljIGdldFN1Ym9iamVjdEJ5QWRkcmVzcyhhZGRyZXNzOiBudW1iZXIpIHtcclxuICAgIC8vICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5zdWJvYmplY3RzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAvLyAgICAgICAgIHZhciBzdWJPYmogPSB0aGlzLnN1Ym9iamVjdHNbaV07XHJcbiAgICAvLyAgICAgICAgIGlmIChzdWJPYmouYWRkcmVzcyA9PT0gYWRkcmVzcyl7XHJcbiAgICAvLyAgICAgICAgICAgICByZXR1cm4gc3ViT2JqO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIHB1YmxpYyByYXdWYWx1ZSgpIHtcclxuICAgIC8vICAgICByZXR1cm4gdGhpcy5zdWJvYmplY3RzLm1hcCgoc3ViT2JqKSA9PiB7IHJldHVybiBzdWJPYmoucmF3VmFsdWUoKTsgfSk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gcHVibGljIHNldFJhd1ZhbHVlKG5ld1ZhbHVlOiBSYXdWYWx1ZVR5cGUsIHdyaXRlOiBib29sZWFuKSB7XHJcbiAgICAvLyAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vib2JqZWN0cy5sZW5ndGg7ICsraSkge1xyXG4gICAgLy8gICAgICAgICB0aGlzLnN1Ym9iamVjdHNbaV0uc2V0VmFsdWUobmV3VmFsdWVbaV0sIHdyaXRlKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcbn1cclxuXHJcbi8vIGludGVyZmFjZSBDUFBPYmplY3REZXNjcmlwdG9yPFQgZXh0ZW5kcyBPYmplY3RUeXBlPiB7XHJcbi8vICAgICBkZXNjcmliZShvYmo6IENQUE9iamVjdDxUPikgOiBEZXNjcmlwdGlvbjtcclxuLy8gfVxyXG5cclxuXHJcbi8vIGNvbnN0IE9CSkVDVF9ERVNDUklQVE9SUyA9IHtcclxuLy8gICAgIERFRkFVTFQgOiB7XHJcbi8vICAgICAgICAgZGVzY3JpYmU6IChvYmo6IENQUE9iamVjdDxPYmplY3RUeXBlPikgPT4ge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwiYW4gb2JqZWN0IGF0IDB4XCIgKyBvYmouYWRkcmVzc307XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuLy8gICAgIEFVVE8gOiB7XHJcbi8vICAgICAgICAgZGVzY3JpYmU6IChvYmo6IENQUE9iamVjdDxPYmplY3RUeXBlPikgPT4ge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwidGhlIGhlYXAgb2JqZWN0IGF0IDB4XCIgKyBvYmouYWRkcmVzc307XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuLy8gICAgIERZTkFNSUMgOiB7XHJcbi8vICAgICAgICAgZGVzY3JpYmU6IChvYmo6IENQUE9iamVjdDxPYmplY3RUeXBlPikgPT4ge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwidGhlIGhlYXAgb2JqZWN0IGF0IDB4XCIgKyBvYmouYWRkcmVzc307XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuLy8gICAgIElOVkFMSUQgOiB7XHJcbi8vICAgICAgICAgZGVzY3JpYmU6IChvYmo6IENQUE9iamVjdDxPYmplY3RUeXBlPikgPT4ge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwiYW4gaW52YWxpZCBvYmplY3QgYXQgMHhcIiArIG9iai5hZGRyZXNzfTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG4vLyAgICAgVEhJUyA6IHtcclxuLy8gICAgICAgICBkZXNjcmliZTogKG9iajogQ1BQT2JqZWN0PFBvaW50ZXI+KSA9PiB7XHJcbi8vICAgICAgICAgICAgIHJldHVybiB7bmFtZTogXCJ0aGlzXCIsIG1lc3NhZ2U6IFwidGhlIHRoaXMgcG9pbnRlclwifTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG4vLyAgICAgU1RSSU5HX0xJVEVSQUwgOiB7XHJcbi8vICAgICAgICAgZGVzY3JpYmU6IChvYmo6IENQUE9iamVjdDxBcnJheVR5cGU+KSA9PiB7XHJcbi8vICAgICAgICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJzdHJpbmcgbGl0ZXJhbCBhdCAweFwiICsgb2JqLmFkZHJlc3N9O1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuXHJcbi8vIGNsYXNzIEVudGl0eU9iamVjdERlc2NyaXB0b3Ige1xyXG4vLyAgICAgcHJpdmF0ZSBlbnRpdHk6IENQUEVudGl0eTtcclxuICAgIFxyXG4vLyAgICAgY29uc3RydWN0b3IoZW50aXR5OiBDUFBFbnRpdHkpIHtcclxuLy8gICAgICAgICB0aGlzLmVudGl0eSA9IGVudGl0eTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBkZXNjcmliZShvYmo6IENQUE9iamVjdCkge1xyXG4vLyAgICAgICAgIHJldHVybiB0aGlzLmVudGl0eS5kZXNjcmliZSgpO1xyXG4vLyAgICAgfVxyXG4vLyB9XHJcblxyXG5cclxuLy8gVE9ETzogaXQgbWF5IGJlIG1vcmUgZWxlZ2FudCB0byBzcGxpdCBpbnRvIDMgZGVyaXZlZCB0eXBlcyBvZiBDUFBPYmplY3QgZm9yIGFycmF5cywgY2xhc3NlcywgYW5kXHJcbi8vIGF0b21pYyBvYmplY3RzIGFuZCB1c2UgYSBwdWJsaWMgZmFjdG9yeSBmdW5jdGlvbiB0byBjcmVhdGUgdGhlIGFwcHJvcHJpYXRlIGluc3RhbmNlIGJhc2VkIG9uIHRoZVxyXG4vLyB0ZW1wbGF0ZSBwYXJhbWV0ZXIuIChSYXRoZXIgdGhhbiB0aGUgY3VycmVudCBhd2t3YXJkIGNvbXBvc2l0aW9uIGFuZCBjb25kaXRpb25hbCBtZXRob2Qgc3RyYXRlZ3kpXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDUFBPYmplY3Q8VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSh0aGlzKTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZTogVDtcclxuICAgIHB1YmxpYyByZWFkb25seSBzaXplOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgYWRkcmVzczogbnVtYmVyO1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgZGF0YTogVCBleHRlbmRzIEF0b21pY1R5cGUgPyBBdG9taWNPYmplY3REYXRhPFQ+IDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgVCBleHRlbmRzIEJvdW5kZWRBcnJheVR5cGUgPyBBcnJheU9iamVjdERhdGE8VD4gOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBUIGV4dGVuZHMgQ2xhc3NUeXBlID8gQ2xhc3NPYmplY3REYXRhPFQ+IDogdW5rbm93bjtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNBbGl2ZTogYm9vbGVhbjtcclxuICAgIHB1YmxpYyByZWFkb25seSBkZWFsbG9jYXRlZEJ5PzogUnVudGltZUNvbnN0cnVjdDtcclxuXHJcblxyXG4gICAgcHJpdmF0ZSBfaXNWYWxpZDogYm9vbGVhbjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IodHlwZTogVCwgbWVtb3J5OiBNZW1vcnksIGFkZHJlc3M6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy5zaXplID0gdHlwZS5zaXplO1xyXG4gICAgICAgIGFzc2VydCh0aGlzLnNpemUgIT0gMCwgXCJTaXplIGNhbm5vdCBiZSAwLlwiKTsgLy8gU0NBUllcclxuXHJcbiAgICAgICAgaWYgKHRoaXMudHlwZSBpbnN0YW5jZW9mIEJvdW5kZWRBcnJheVR5cGUpIHtcclxuICAgICAgICAgICAgLy8gdGhpcy5pc0FycmF5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5kYXRhID0gPGFueT5BcnJheU9iamVjdERhdGEuY3JlYXRlKDxhbnk+dGhpcywgbWVtb3J5LCBhZGRyZXNzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy50eXBlIGluc3RhbmNlb2YgQ2xhc3NUeXBlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IDxhbnk+bmV3IENsYXNzT2JqZWN0RGF0YSg8YW55PnRoaXMsIG1lbW9yeSwgYWRkcmVzcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGEgPSA8YW55Pm5ldyBBdG9taWNPYmplY3REYXRhKDxhbnk+dGhpcywgbWVtb3J5LCBhZGRyZXNzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuYWRkcmVzcyA9IGFkZHJlc3M7XHJcblxyXG4gICAgICAgIHRoaXMuaXNBbGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5faXNWYWxpZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE9ubHkgYWxsb3dlZCBpZiByZWNlaXZlciBtYXRjaGVzIENQUE9iamVjdDxBcnJheVR5cGU8RWxlbV90eXBlPj5cclxuICAgIHB1YmxpYyBnZXRBcnJheUVsZW1TdWJvYmplY3Q8QVQgZXh0ZW5kcyBCb3VuZGVkQXJyYXlUeXBlPih0aGlzOiBDUFBPYmplY3Q8QVQ+LCBpbmRleDogbnVtYmVyKSA6IEFycmF5U3Vib2JqZWN0PEFUW1wiZWxlbVR5cGVcIl0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmdldEFycmF5RWxlbVN1Ym9iamVjdChpbmRleCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gT25seSBhbGxvd2VkIGlmIHJlY2VpdmVyIG1hdGNoZXMgQ1BQT2JqZWN0PEFycmF5VHlwZTxFbGVtX3R5cGU+PlxyXG4gICAgcHVibGljIGdldEFycmF5RWxlbVN1Ym9iamVjdEJ5QWRkcmVzczxBVCBleHRlbmRzIEJvdW5kZWRBcnJheVR5cGU+KHRoaXM6IENQUE9iamVjdDxBVD4sIGFkZHJlc3M6IG51bWJlcikgOiBBcnJheVN1Ym9iamVjdDxBVFtcImVsZW1UeXBlXCJdPiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5nZXRBcnJheUVsZW1TdWJvYmplY3RCeUFkZHJlc3MoYWRkcmVzcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLy8gT25seSBhbGxvd2VkIGlmIHJlY2VpdmVyIG1hdGNoZXMgQ1BQT2JqZWN0PENsYXNzVHlwZT5cclxuICAgIC8vIHB1YmxpYyBnZXRNZW1iZXJTdWJvYmplY3QodGhpczogQ1BQT2JqZWN0PENsYXNzVHlwZT4sIG5hbWU6IHN0cmluZykgOiBNZW1iZXJTdWJvYmplY3Qge1xyXG4gICAgLy8gICAgIHJldHVybiAoPENsYXNzT2JqZWN0RGF0YTxDbGFzc1R5cGU+PnRoaXMuZGF0YSkuZ2V0TWVtYmVyU3Vib2JqZWN0KG5hbWUpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIC8vIE9ubHkgYWxsb3dlZCBpZiByZWNlaXZlciBtYXRjaGVzIENQUE9iamVjdDxDbGFzc1R5cGU+XHJcbiAgICAvLyBwdWJsaWMgZ2V0QmFzZVN1Ym9iamVjdCh0aGlzOiBDUFBPYmplY3Q8Q2xhc3NUeXBlPikgOiBCYXNlU3Vib2JqZWN0IHwgdW5kZWZpbmVkIHtcclxuICAgIC8vICAgICByZXR1cm4gKDxDbGFzc09iamVjdERhdGE8Q2xhc3NUeXBlPj50aGlzLmRhdGEpLmdldEJhc2VTdWJvYmplY3QoKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICBwdWJsaWMgc3Vib2JqZWN0VmFsdWVXcml0dGVuKCkge1xyXG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwidmFsdWVXcml0dGVuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpIHtcclxuICAgICAgICByZXR1cm4gXCJAXCIrIHRoaXMuYWRkcmVzcztcclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPOiBmaWd1cmUgb3V0IHByZWNpc2VseSB3aGF0IHRoaXMgaXMgdXNlZCBmb3IgYW5kIG1ha2Ugc3VyZSBvdmVycmlkZXMgYWN0dWFsbHkgcHJvdmlkZSBhcHByb3ByaWF0ZSBzdHJpbmdzXHJcbiAgICAvLyBwdWJsaWMgbmFtZVN0cmluZygpIHtcclxuICAgIC8vICAgICByZXR1cm4gXCJAXCIgKyB0aGlzLmFkZHJlc3M7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgcHVibGljIGtpbGwocnQ/OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgKDxNdXRhYmxlPHRoaXM+PnRoaXMpLmlzQWxpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9pc1ZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHJ0KSB7XHJcbiAgICAgICAgICAgICg8TXV0YWJsZTx0aGlzPj50aGlzKS5kZWFsbG9jYXRlZEJ5ID0gcnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwiZGVhbGxvY2F0ZWRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFBvaW50ZXJUbygpIDogVmFsdWU8UG9pbnRlclR5cGU+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFZhbHVlKHRoaXMuYWRkcmVzcywgbmV3IE9iamVjdFBvaW50ZXIodGhpcykpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRWYWx1ZTxVIGV4dGVuZHMgQXRvbWljVHlwZT4odGhpczogQ1BQT2JqZWN0PFU+LCByZWFkOiBib29sZWFuID0gZmFsc2UpIDogVmFsdWU8VT4ge1xyXG4gICAgICAgIGxldCB2YWwgPSBuZXcgVmFsdWUodGhpcy5nZXRSYXdWYWx1ZSgpLCB0aGlzLnR5cGUsIHRoaXMuX2lzVmFsaWQpO1xyXG4gICAgICAgIGlmIChyZWFkKSB7XHJcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwidmFsdWVSZWFkXCIsIHZhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRSYXdWYWx1ZSh0aGlzOiBDUFBPYmplY3Q8QXRvbWljVHlwZT4pIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnJhd1ZhbHVlKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyByZWFkVmFsdWU8VSBleHRlbmRzIEF0b21pY1R5cGU+KHRoaXM6IENQUE9iamVjdDxVPikgOiBWYWx1ZTxVPiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmFsdWUodHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFZhbHVlPFRfQXRvbWljIGV4dGVuZHMgQXRvbWljVHlwZT4odGhpczogQ1BQT2JqZWN0PFRfQXRvbWljPiwgbmV3VmFsdWU6IFZhbHVlPFRfQXRvbWljPiwgd3JpdGU6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG5cclxuICAgICAgICB0aGlzLl9pc1ZhbGlkID0gbmV3VmFsdWUuaXNWYWxpZDtcclxuXHJcbiAgICAgICAgLy8gQWNjZXB0IG5ldyBSVFRJXHJcbiAgICAgICAgYXNNdXRhYmxlKHRoaXMpLnR5cGUgPSBuZXdWYWx1ZS50eXBlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuZGF0YS5zZXRSYXdWYWx1ZShuZXdWYWx1ZS5yYXdWYWx1ZSwgd3JpdGUpO1xyXG5cclxuICAgICAgICBpZih3cml0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcInZhbHVlV3JpdHRlblwiLCBuZXdWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMub25WYWx1ZVNldCh3cml0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uVmFsdWVTZXQod3JpdGU6IGJvb2xlYW4pIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHdyaXRlVmFsdWU8VF9BdG9taWMgZXh0ZW5kcyBBdG9taWNUeXBlPih0aGlzOiBDUFBPYmplY3Q8VF9BdG9taWM+LCBuZXdWYWx1ZTogVmFsdWU8VF9BdG9taWM+KSB7XHJcbiAgICAgICAgdGhpcy5zZXRWYWx1ZShuZXdWYWx1ZSwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzVmFsdWVWYWxpZDxUX0F0b21pYyBleHRlbmRzIEF0b21pY1R5cGU+KHRoaXM6IENQUE9iamVjdDxUX0F0b21pYz4pIDogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzVmFsaWQgJiYgdGhpcy50eXBlLmlzVmFsdWVWYWxpZCh0aGlzLmdldFJhd1ZhbHVlKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRPRE86IGZpZ3VyZSBvdXQgd2hldGhlciB0aGlzIG9sZCBjb2RlIGlzIHdvcnRoIGtlZXBpbmdcclxuICAgIC8vIG9yaWdpbmFsbHksIHRoZXNlIGZ1bmN0aW9ucyB3ZXJlIHVzZWQgdG8gbm90aWZ5IGFuIG9iamVjdCB3aGVuIHNvbWVib2R5IGVsc2VcclxuICAgIC8vIG1lc3NlZCB3aXRoIChpLmUuIHJlYWQvd3JvdGUgYnl0ZXMgdGhhdCB3ZXJlIHBhcnQgb2YgdGhlIG9iamVjdCkuXHJcblxyXG4gICAgLy8gYnl0ZVJlYWQ6IGZ1bmN0aW9uKGFkZHIpe1xyXG4gICAgLy8gICAgIGlmICh0aGlzLmlzQXJyYXkpe1xyXG4gICAgLy8gICAgICAgICAvLyBJZiBhcnJheSwgZmluZCB0aGUgc3Vib2JqZWN0IGNvbnRhaW5pbmcgdGhlIGJ5dGVcclxuICAgIC8vICAgICAgICAgdGhpcy5lbGVtT2JqZWN0c1soYWRkciAtIHRoaXMuYWRkcmVzcykgLyB0aGlzLm5vblJlZlR5cGUuZWxlbVR5cGUuc2l6ZV0uYnl0ZVJlYWQoYWRkcik7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2UgaWYgKHRoaXMuaXNDbGFzcyl7XHJcbiAgICAvLyAgICAgICAgIHZhciBhZCA9IHRoaXMuYWRkcmVzcztcclxuICAgIC8vICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vib2JqZWN0cy5sZW5ndGg7ICsraSkge1xyXG4gICAgLy8gICAgICAgICAgICAgdmFyIG1lbSA9IHRoaXMuc3Vib2JqZWN0c1tpXTtcclxuICAgIC8vICAgICAgICAgICAgIGlmKGFkID0gYWQgKyBtZW0udHlwZS5zaXplID4gYWRkcil7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgYWQuYnl0ZVJlYWQoYWRkcik7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZXtcclxuICAgIC8vICAgICAgICAgdGhpcy5zZW5kKFwiYnl0ZVJlYWRcIiwge2FkZHI6IGFkZHJ9KTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9LFxyXG4gICAgLy8gYnl0ZXNSZWFkOiBmdW5jdGlvbihhZGRyLCBsZW5ndGgpe1xyXG4gICAgLy8gICAgIGlmICh0aGlzLmlzQXJyYXkpIHtcclxuICAgIC8vICAgICAgICAgdmFyIGJlZ2luSW5kZXggPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKCggYWRkciAtIHRoaXMuYWRkcmVzcyApIC8gdGhpcy5ub25SZWZUeXBlLmVsZW1UeXBlLnNpemUpKTtcclxuICAgIC8vICAgICAgICAgdmFyIGVuZEluZGV4ID0gTWF0aC5taW4oXHJcbiAgICAvLyAgICAgICAgICAgICBiZWdpbkluZGV4ICsgTWF0aC5jZWlsKGxlbmd0aCAvIHRoaXMubm9uUmVmVHlwZS5lbGVtVHlwZS5zaXplKSxcclxuICAgIC8vICAgICAgICAgICAgIHRoaXMubm9uUmVmVHlwZS5sZW5ndGgpO1xyXG5cclxuICAgIC8vICAgICAgICAgZm9yICh2YXIgaSA9IGJlZ2luSW5kZXg7IGkgPCBlbmRJbmRleDsgKytpKSB7XHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLmVsZW1PYmplY3RzW2ldLmJ5dGVzUmVhZChhZGRyLCBsZW5ndGgpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2UgaWYgKHRoaXMuaXNDbGFzcyl7XHJcbiAgICAvLyAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnN1Ym9iamVjdHMubGVuZ3RoOyArK2kpIHtcclxuICAgIC8vICAgICAgICAgICAgIHZhciBtZW0gPSB0aGlzLnN1Ym9iamVjdHNbaV07XHJcbiAgICAvLyAgICAgICAgICAgICBpZihhZGRyIDwgbWVtLmFkZHJlc3MgKyBtZW0udHlwZS5zaXplICYmIG1lbS5hZGRyZXNzIDwgYWRkciArIGxlbmd0aCl7IC8vIGNoZWNrIGZvciBvdmVybGFwXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgbWVtLmJ5dGVzUmVhZChhZGRyLCBsZW5ndGgpO1xyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgZWxzZSBpZiAobWVtLmFkZHJlc3MgPiBhZGRyICtsZW5ndGgpe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIC8vIGJyZWFrIGlmIHdlIGFyZSBub3cgaW4gbWVtYmVycyBwYXN0IGFmZmVjdGVkIGJ5dGVzXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZXtcclxuICAgIC8vICAgICAgICAgdGhpcy5zZW5kKFwiYnl0ZXNSZWFkXCIsIHthZGRyOiBhZGRyLCBsZW5ndGg6IGxlbmd0aH0pO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH0sXHJcbiAgICAvLyBieXRlU2V0OiBmdW5jdGlvbihhZGRyLCB2YWx1ZSl7XHJcbiAgICAvLyAgICAgaWYgKHRoaXMuaXNBcnJheSl7XHJcbiAgICAvLyAgICAgICAgIC8vIElmIGFycmF5LCBmaW5kIHRoZSBzdWJvYmplY3QgY29udGFpbmluZyB0aGUgYnl0ZVxyXG4gICAgLy8gICAgICAgICB0aGlzLmVsZW1PYmplY3RzWyhhZGRyIC0gdGhpcy5hZGRyZXNzKSAvIHRoaXMubm9uUmVmVHlwZS5lbGVtVHlwZS5zaXplXS5ieXRlU2V0KGFkZHIsIHZhbHVlKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZSBpZiAodGhpcy5pc0NsYXNzKXtcclxuICAgIC8vICAgICAgICAgdmFyIGFkID0gdGhpcy5hZGRyZXNzO1xyXG4gICAgLy8gICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5zdWJvYmplY3RzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAvLyAgICAgICAgICAgICB2YXIgbWVtID0gdGhpcy5zdWJvYmplY3RzW2ldO1xyXG4gICAgLy8gICAgICAgICAgICAgaWYoYWQgPSBhZCArIG1lbS50eXBlLnNpemUgPiBhZGRyKXtcclxuICAgIC8vICAgICAgICAgICAgICAgICBtZW0uYnl0ZVNldChhZGRyLCB2YWx1ZSk7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZXtcclxuICAgIC8vICAgICAgICAgdGhpcy5zZW5kKFwiYnl0ZVNldFwiLCB7YWRkcjogYWRkciwgdmFsdWU6IHZhbHVlfSk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfSxcclxuICAgIC8vIGJ5dGVzU2V0OiBmdW5jdGlvbihhZGRyLCB2YWx1ZXMpe1xyXG4gICAgLy8gICAgIHZhciBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xyXG4gICAgLy8gICAgIGlmICh0aGlzLmlzQXJyYXkpIHtcclxuICAgIC8vICAgICAgICAgdmFyIGJlZ2luSW5kZXggPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKCggYWRkciAtIHRoaXMuYWRkcmVzcyApIC8gdGhpcy5ub25SZWZUeXBlLmVsZW1UeXBlLnNpemUpKTtcclxuICAgIC8vICAgICAgICAgdmFyIGVuZEluZGV4ID0gTWF0aC5taW4oXHJcbiAgICAvLyAgICAgICAgICAgICBiZWdpbkluZGV4ICsgTWF0aC5jZWlsKGxlbmd0aCAvIHRoaXMubm9uUmVmVHlwZS5lbGVtVHlwZS5zaXplKSxcclxuICAgIC8vICAgICAgICAgICAgIHRoaXMubm9uUmVmVHlwZS5sZW5ndGgpO1xyXG5cclxuICAgIC8vICAgICAgICAgZm9yICh2YXIgaSA9IGJlZ2luSW5kZXg7IGkgPCBlbmRJbmRleDsgKytpKSB7XHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLmVsZW1PYmplY3RzW2ldLmJ5dGVzU2V0KGFkZHIsIHZhbHVlcyk7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZSBpZiAodGhpcy5pc0NsYXNzKXtcclxuICAgIC8vICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vib2JqZWN0cy5sZW5ndGg7ICsraSkge1xyXG4gICAgLy8gICAgICAgICAgICAgdmFyIG1lbSA9IHRoaXMuc3Vib2JqZWN0c1tpXTtcclxuICAgIC8vICAgICAgICAgICAgIGlmKGFkZHIgPCBtZW0uYWRkcmVzcyArIG1lbS50eXBlLnNpemUgJiYgbWVtLmFkZHJlc3MgPCBhZGRyICsgbGVuZ3RoKXsgLy8gY2hlY2sgZm9yIG92ZXJsYXBcclxuICAgIC8vICAgICAgICAgICAgICAgICBtZW0uYnl0ZXNTZXQoYWRkciwgdmFsdWVzKTtcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgIGVsc2UgaWYgKG1lbS5hZGRyZXNzID4gYWRkciArbGVuZ3RoKXtcclxuICAgIC8vICAgICAgICAgICAgICAgICAvLyBicmVhayBpZiB3ZSBhcmUgbm93IGluIG1lbWJlcnMgcGFzdCBhZmZlY3RlZCBieXRlc1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2V7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuc2VuZChcImJ5dGVzU2V0XCIsIHthZGRyOiBhZGRyLCB2YWx1ZXM6IHZhbHVlc30pO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH0sXHJcbiAgICAvLyBieXRlV3JpdHRlbjogZnVuY3Rpb24oYWRkciwgdmFsdWUpe1xyXG4gICAgLy8gICAgIGlmICh0aGlzLmlzQXJyYXkpe1xyXG4gICAgLy8gICAgICAgICAvLyBJZiBhcnJheSwgZmluZCB0aGUgc3Vib2JqZWN0IGNvbnRhaW5pbmcgdGhlIGJ5dGVcclxuICAgIC8vICAgICAgICAgdGhpcy5lbGVtT2JqZWN0c1soYWRkciAtIHRoaXMuYWRkcmVzcykgLyB0aGlzLm5vblJlZlR5cGUuZWxlbVR5cGUuc2l6ZV0uYnl0ZVdyaXR0ZW4oYWRkciwgdmFsdWUpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBlbHNlIGlmICh0aGlzLmlzQ2xhc3Mpe1xyXG4gICAgLy8gICAgICAgICB2YXIgYWQgPSB0aGlzLmFkZHJlc3M7XHJcbiAgICAvLyAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnN1Ym9iamVjdHMubGVuZ3RoOyArK2kpIHtcclxuICAgIC8vICAgICAgICAgICAgIHZhciBtZW0gPSB0aGlzLnN1Ym9iamVjdHNbaV07XHJcbiAgICAvLyAgICAgICAgICAgICBpZihhZCA9IGFkICsgbWVtLnR5cGUuc2l6ZSA+IGFkZHIpe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIG1lbS5ieXRlV3JpdHRlbihhZGRyLCB2YWx1ZSk7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZXtcclxuICAgIC8vICAgICAgICAgdGhpcy5zZW5kKFwiYnl0ZVdyaXR0ZW5cIiwge2FkZHI6IGFkZHIsIHZhbHVlOiB2YWx1ZX0pO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH0sXHJcbiAgICAvLyBieXRlc1dyaXR0ZW46IGZ1bmN0aW9uKGFkZHIsIHZhbHVlcyl7XHJcbiAgICAvLyAgICAgdmFyIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGg7XHJcbiAgICAvLyAgICAgaWYgKHRoaXMuaXNBcnJheSkge1xyXG4gICAgLy8gICAgICAgICB2YXIgYmVnaW5JbmRleCA9IE1hdGgubWF4KDAsIE1hdGguZmxvb3IoKCBhZGRyIC0gdGhpcy5hZGRyZXNzICkgLyB0aGlzLm5vblJlZlR5cGUuZWxlbVR5cGUuc2l6ZSkpO1xyXG4gICAgLy8gICAgICAgICB2YXIgZW5kSW5kZXggPSBNYXRoLm1pbihcclxuICAgIC8vICAgICAgICAgICAgIGJlZ2luSW5kZXggKyBNYXRoLmNlaWwobGVuZ3RoIC8gdGhpcy5ub25SZWZUeXBlLmVsZW1UeXBlLnNpemUpLFxyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5ub25SZWZUeXBlLmxlbmd0aCk7XHJcblxyXG4gICAgLy8gICAgICAgICBmb3IgKHZhciBpID0gYmVnaW5JbmRleDsgaSA8IGVuZEluZGV4OyArK2kpIHtcclxuICAgIC8vICAgICAgICAgICAgIHRoaXMuZWxlbU9iamVjdHNbaV0uYnl0ZXNXcml0dGVuKGFkZHIsIHZhbHVlcyk7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZSBpZiAodGhpcy5pc0NsYXNzKXtcclxuICAgIC8vICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vib2JqZWN0cy5sZW5ndGg7ICsraSkge1xyXG4gICAgLy8gICAgICAgICAgICAgdmFyIG1lbSA9IHRoaXMuc3Vib2JqZWN0c1tpXTtcclxuICAgIC8vICAgICAgICAgICAgIGlmKGFkZHIgPCBtZW0uYWRkcmVzcyArIG1lbS50eXBlLnNpemUgJiYgbWVtLmFkZHJlc3MgPCBhZGRyICsgbGVuZ3RoKXsgLy8gY2hlY2sgZm9yIG92ZXJsYXBcclxuICAgIC8vICAgICAgICAgICAgICAgICBtZW0uYnl0ZXNXcml0dGVuKGFkZHIsIHZhbHVlcyk7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICBlbHNlIGlmIChtZW0uYWRkcmVzcyA+IGFkZHIgK2xlbmd0aCl7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgLy8gYnJlYWsgaWYgd2UgYXJlIG5vdyBpbiBtZW1iZXJzIHBhc3QgYWZmZWN0ZWQgYnl0ZXNcclxuICAgIC8vICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBlbHNle1xyXG4gICAgLy8gICAgICAgICB0aGlzLnNlbmQoXCJieXRlc1dyaXR0ZW5cIiwge2FkZHI6IGFkZHIsIHZhbHVlczogdmFsdWVzfSk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfSxcclxuXHJcblxyXG4gICAgcHVibGljIGNhbGxSZWNlaXZlZCgpIHtcclxuICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcImNhbGxSZWNlaXZlZFwiLCB0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2FsbEVuZGVkKCkge1xyXG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwiY2FsbEVuZGVkXCIsIHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRWYWxpZGl0eSh2YWxpZDogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuX2lzVmFsaWQgPSB2YWxpZDtcclxuICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcInZhbGlkaXR5U2V0XCIsIHZhbGlkKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZGVzY3JpYmUoKSA6IERlc2NyaXB0aW9uO1xyXG5cclxufTtcclxuXHJcbi8vIFRPRE86IEtlcHQgc29tZSBvZiB0aGlzIGluIGEgY29tbWVudCBpbiBjYXNlIGl0J3MgaGVscGZ1bCB3aGVuIHJlaW50cm9kdWNpbmcgbGVhayBjaGVja2luZ1xyXG4vLyBleHBvcnQgY2xhc3MgRHluYW1pY09iamVjdCBleHRlbmRzIENQUE9iamVjdCB7XHJcbiAgICBcclxuLy8gICAgIHByaXZhdGUgaGFzQmVlbkxlYWtlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuLy8gICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcih0eXBlOiBPYmplY3RUeXBlLCBtZW1vcnk6IE1lbW9yeSwgYWRkcmVzczogbnVtYmVyKSB7XHJcbi8vICAgICAgICAgc3VwZXIodHlwZSwgbWVtb3J5LCBhZGRyZXNzKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgdG9TdHJpbmcoKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIFwiSGVhcCBvYmplY3QgYXQgXCIgKyB0aGlzLmFkZHJlc3MgKyBcIiAoXCIgKyB0aGlzLnR5cGUgKyBcIilcIjtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgbGVha2VkKHNpbTogU2ltdWxhdGlvbikge1xyXG4vLyAgICAgICAgIGlmICghdGhpcy5oYXNCZWVuTGVha2VkKXtcclxuLy8gICAgICAgICAgICAgdGhpcy5oYXNCZWVuTGVha2VkID0gdHJ1ZTtcclxuLy8gICAgICAgICAgICAgc2ltLm1lbW9yeUxlYWtlZChcIk9oIG5vISBTb21lIG1lbW9yeSBqdXN0IGdvdCBsb3N0LiBJdCdzIGhpZ2hsaWdodGVkIGluIHJlZCBpbiB0aGUgbWVtb3J5IGRpc3BsYXkuXCIpXHJcbi8vICAgICAgICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwibGVha2VkXCIpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuXHJcbi8vICAgICAvLyBUT0RPOiBXaHkgZG9lcyB0aGlzIGV4aXN0PyBIb3cgZG9lcyBzb21ldGhpbmcgYmVjb21lIHVubGVha2VkPz9cclxuLy8gICAgIHB1YmxpYyB1bmxlYWtlZChzaW06IFNpbXVsYXRpb24pIHtcclxuLy8gICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcInVubGVha2VkXCIpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBkZXNjcmliZSgpIHtcclxuLy8gICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwidGhlIGhlYXAgb2JqZWN0IGF0IDB4XCIgKyB0aGlzLmFkZHJlc3N9O1xyXG4vLyAgICAgfVxyXG4vLyB9XHJcblxyXG5cclxuXHJcblxyXG5cclxuLy8gVE9ETzogcmVtb3ZlIHRoaXM/XHJcbi8vIGV4cG9ydCB2YXIgRXZhbHVhdGlvblJlc3VsdFJ1bnRpbWVFbnRpdHkgPSBDUFBPYmplY3QuZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lOiBcIkV2YWx1YXRpb25SZXN1bHRSdW50aW1lRW50aXR5XCIsXHJcbi8vICAgICBzdG9yYWdlOiBcImF1dG9tYXRpY1wiLFxyXG4vLyAgICAgaW5pdDogZnVuY3Rpb24odHlwZSwgaW5zdCl7XHJcbi8vICAgICAgICAgdGhpcy5pbml0UGFyZW50KG51bGwsIHR5cGUpO1xyXG4vLyAgICAgICAgIHRoaXMuaW5zdCA9IGluc3Q7XHJcbi8vICAgICB9LFxyXG4vLyAgICAgaW5zdGFuY2VTdHJpbmcgOiBmdW5jdGlvbigpe1xyXG4vLyAgICAgICAgIHJldHVybiB0aGlzLm5hbWUgKyBcIiAoXCIgKyB0aGlzLnR5cGUgKyBcIilcIjtcclxuLy8gICAgIH0sXHJcbi8vICAgICBydW50aW1lTG9va3VwIDogIGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuLy8gICAgICAgICByZXR1cm4gdGhpcy5pbnN0LmV2YWxSZXN1bHQucnVudGltZUxvb2t1cChzaW0sIGluc3QpO1xyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcblxyXG4vLyBwdWJsaWMgc3RhdGljIGNyZWF0ZUF1dG9PYmplY3Q8VCBleHRlbmRzIE9iamVjdFR5cGU+KGVudGl0eTogQXV0b0VudGl0eTxUPiwgbWVtb3J5OiBNZW1vcnksIGFkZHJlc3M6IG51bWJlcikge1xyXG4vLyAgICAgcmV0dXJuIG5ldyBDUFBPYmplY3QoZW50aXR5LnR5cGUsIG1lbW9yeSwgYWRkcmVzcywgbmV3IEVudGl0eU9iamVjdERlc2NyaXB0b3IoZW50aXR5KSk7XHJcbi8vIH1cclxuXHJcbmV4cG9ydCBjbGFzcyBBdXRvT2JqZWN0PFQgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZT4gZXh0ZW5kcyBDUFBPYmplY3Q8VD4ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBkZWY6IExvY2FsVmFyaWFibGVEZWZpbml0aW9uIHwgUGFyYW1ldGVyRGVmaW5pdGlvblxyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihkZWY6IExvY2FsVmFyaWFibGVEZWZpbml0aW9uIHwgUGFyYW1ldGVyRGVmaW5pdGlvbiwgdHlwZTogVCwgbWVtb3J5OiBNZW1vcnksIGFkZHJlc3M6IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyKHR5cGUsIG1lbW9yeSwgYWRkcmVzcyk7XHJcbiAgICAgICAgdGhpcy5kZWYgPSBkZWY7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlc2NyaWJlKCk6IERlc2NyaXB0aW9uIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kZWYuZGVjbGFyZWRFbnRpdHkuZGVzY3JpYmUoKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTWFpblJldHVybk9iamVjdCBleHRlbmRzIENQUE9iamVjdDxJbnQ+IHtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IobWVtb3J5OiBNZW1vcnkpIHtcclxuICAgICAgICBzdXBlcihJbnQuSU5ULCBtZW1vcnksIDApOyAvLyBIQUNLOiBwdXQgaXQgYXQgYWRkcmVzcyAwLiBwcm9iYWJseSB3b24ndCBjYXVzZSBhbnkgaXNzdWVzIHNpbmNlIGl0J3Mgbm90IGFsbG9jYXRlZFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZXNjcmliZSgpOiBEZXNjcmlwdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcIlRoZSB2YWx1ZSByZXR1cm5lZCBmcm9tIG1haW4uXCJ9XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhdGljT2JqZWN0PFQgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZT4gZXh0ZW5kcyBDUFBPYmplY3Q8VD4ge1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgZGVmOiBDb21waWxlZEdsb2JhbE9iamVjdERlZmluaXRpb24sIHR5cGU6IFQsIG1lbW9yeTogTWVtb3J5LCBhZGRyZXNzOiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlcih0eXBlLCBtZW1vcnksIGFkZHJlc3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZXNjcmliZSgpOiBEZXNjcmlwdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVmLmRlY2xhcmVkRW50aXR5LmRlc2NyaWJlKCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRHluYW1pY09iamVjdDxUIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGU+IGV4dGVuZHMgQ1BQT2JqZWN0PFQ+IHtcclxuXHJcbiAgICBwdWJsaWMgZGVzY3JpYmUoKTogRGVzY3JpcHRpb24ge1xyXG4gICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJ0aGUgaGVhcCBvYmplY3QgYXQgMHhcIiArIHRoaXMuYWRkcmVzc307XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgSW52YWxpZE9iamVjdDxUIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGU+IGV4dGVuZHMgQ1BQT2JqZWN0PFQ+IHtcclxuXHJcbiAgICBwdWJsaWMgZGVzY3JpYmUoKTogRGVzY3JpcHRpb24ge1xyXG4gICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJhbiBpbnZhbGlkIG9iamVjdCBhdCAweFwiICsgdGhpcy5hZGRyZXNzfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFRoaXNPYmplY3Q8VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiBleHRlbmRzIENQUE9iamVjdDxUPiB7XHJcblxyXG4gICAgcHVibGljIGRlc2NyaWJlKCk6IERlc2NyaXB0aW9uIHtcclxuICAgICAgICByZXR1cm4ge25hbWU6IFwidGhpc1wiLCBtZXNzYWdlOiBcInRoZSB0aGlzIHBvaW50ZXJcIn07XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU3RyaW5nTGl0ZXJhbE9iamVjdCBleHRlbmRzIENQUE9iamVjdDxCb3VuZGVkQXJyYXlUeXBlPENoYXI+PiB7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHR5cGU6IEJvdW5kZWRBcnJheVR5cGU8Q2hhcj4sIG1lbW9yeTogTWVtb3J5LCBhZGRyZXNzOiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlcih0eXBlLCBtZW1vcnksIGFkZHJlc3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZXNjcmliZSgpOiBEZXNjcmlwdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcInN0cmluZyBsaXRlcmFsIGF0IDB4XCIgKyB0aGlzLmFkZHJlc3N9XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5hYnN0cmFjdCBjbGFzcyBTdWJvYmplY3Q8VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiBleHRlbmRzIENQUE9iamVjdDxUPiB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbnRhaW5pbmdPYmplY3Q6IENQUE9iamVjdDxCb3VuZGVkQXJyYXlUeXBlIHwgQ2xhc3NUeXBlPjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29udGFpbmluZ09iamVjdDogQ1BQT2JqZWN0PEJvdW5kZWRBcnJheVR5cGUgfCBDbGFzc1R5cGU+LCB0eXBlOiBULCBtZW1vcnk6IE1lbW9yeSwgYWRkcmVzczogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIodHlwZSwgbWVtb3J5LCBhZGRyZXNzKTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5pbmdPYmplY3QgPSBjb250YWluaW5nT2JqZWN0O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBpc0FsaXZlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5pbmdPYmplY3QuaXNBbGl2ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZGVhbGxvY2F0ZWRCeSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluaW5nT2JqZWN0LmRlYWxsb2NhdGVkQnk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uVmFsdWVTZXQod3JpdGU6IGJvb2xlYW4pIHtcclxuICAgICAgICBpZiAod3JpdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluaW5nT2JqZWN0LnN1Ym9iamVjdFZhbHVlV3JpdHRlbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFycmF5U3Vib2JqZWN0PFQgZXh0ZW5kcyBBcnJheUVsZW1UeXBlID0gQXJyYXlFbGVtVHlwZT4gZXh0ZW5kcyBTdWJvYmplY3Q8VD4ge1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29udGFpbmluZ09iamVjdCE6IENQUE9iamVjdDxCb3VuZGVkQXJyYXlUeXBlPFQ+PjsgLy8gSGFuZGxlZCBieSBwYXJlbnQgKFRPRE86IGlzIHRoaXMgYSBnb29kIGlkZWE/KVxyXG4gICAgcHVibGljIHJlYWRvbmx5IGluZGV4OiBudW1iZXI7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGFyck9iajogQ1BQT2JqZWN0PEJvdW5kZWRBcnJheVR5cGU8VD4+LCBpbmRleDogbnVtYmVyLCBtZW1vcnk6IE1lbW9yeSwgYWRkcmVzczogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIoYXJyT2JqLCBhcnJPYmoudHlwZS5lbGVtVHlwZSwgbWVtb3J5LCBhZGRyZXNzKTtcclxuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFBvaW50ZXJUbygpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZhbHVlKHRoaXMuYWRkcmVzcywgbmV3IEFycmF5UG9pbnRlcih0aGlzLmNvbnRhaW5pbmdPYmplY3QpKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZGVzY3JpYmUoKSB7XHJcbiAgICAgICAgdmFyIGFyckRlc2MgPSB0aGlzLmNvbnRhaW5pbmdPYmplY3QuZGVzY3JpYmUoKTtcclxuICAgICAgICB2YXIgZGVzYyA6IERlc2NyaXB0aW9uID0ge1xyXG4gICAgICAgICAgICBtZXNzYWdlOiBcImVsZW1lbnQgXCIgKyB0aGlzLmluZGV4ICsgXCIgb2YgXCIgKyBhcnJEZXNjLm1lc3NhZ2UsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoYXJyRGVzYy5uYW1lKXtcclxuICAgICAgICAgICAgZGVzYy5uYW1lID0gYXJyRGVzYy5uYW1lICsgXCJbXCIgKyB0aGlzLmluZGV4ICsgXCJdXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkZXNjO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEJhc2VTdWJvYmplY3QgZXh0ZW5kcyBTdWJvYmplY3Q8Q2xhc3NUeXBlPiB7XHJcbiAgICBcclxuICAgIHB1YmxpYyByZWFkb25seSBjb250YWluaW5nT2JqZWN0ITogQ1BQT2JqZWN0PENsYXNzVHlwZT47IC8vIEhhbmRsZWQgYnkgcGFyZW50IChUT0RPOiBpcyB0aGlzIGEgZ29vZCBpZGVhPylcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29udGFpbmluZ09iamVjdDogQ1BQT2JqZWN0PENsYXNzVHlwZT4sIHR5cGU6IENsYXNzVHlwZSwgbWVtb3J5OiBNZW1vcnksIGFkZHJlc3M6IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyKGNvbnRhaW5pbmdPYmplY3QsIHR5cGUsIG1lbW9yeSwgYWRkcmVzcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlc2NyaWJlKCkgOiBEZXNjcmlwdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcInRoZSBcIiArIHRoaXMudHlwZS5uYW1lICsgXCIgYmFzZSBvZiBcIiArIHRoaXMuY29udGFpbmluZ09iamVjdC5kZXNjcmliZSgpLm1lc3NhZ2V9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTWVtYmVyU3Vib2JqZWN0PFQgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZT4gZXh0ZW5kcyBTdWJvYmplY3Q8VD4ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBjb250YWluaW5nT2JqZWN0ITogQ1BQT2JqZWN0PENsYXNzVHlwZT47IC8vIEhhbmRsZWQgYnkgcGFyZW50IChUT0RPOiBpcyB0aGlzIGEgZ29vZCBpZGVhPylcclxuICAgIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmc7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRhaW5pbmdPYmplY3Q6IENQUE9iamVjdDxDbGFzc1R5cGU+LCB0eXBlOiBULCBuYW1lOiBzdHJpbmcsIG1lbW9yeTogTWVtb3J5LCBhZGRyZXNzOiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlcihjb250YWluaW5nT2JqZWN0LCB0eXBlLCBtZW1vcnksIGFkZHJlc3MpO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBkZXNjcmliZSgpIHtcclxuICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5jb250YWluaW5nT2JqZWN0O1xyXG4gICAgICAgIGxldCBwYXJlbnREZXNjID0gcGFyZW50LmRlc2NyaWJlKCk7XHJcbiAgICAgICAgbGV0IGRlc2MgOiBEZXNjcmlwdGlvbiA9IHtcclxuICAgICAgICAgICAgbWVzc2FnZTogXCJ0aGUgbWVtYmVyIFwiICsgdGhpcy5uYW1lICsgXCIgb2YgXCIgKyBwYXJlbnREZXNjLm1lc3NhZ2VcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhcmVudERlc2MubmFtZSl7XHJcbiAgICAgICAgICAgIGRlc2MubmFtZSA9IHBhcmVudERlc2MubmFtZSArIFwiLlwiICsgdGhpcy5uYW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGVzYztcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8vIGV4cG9ydCB0eXBlIFRlbXBvcmFyeU9iamVjdFR5cGU8VCBleHRlbmRzIE9iamVjdFR5cGU+ID0gVCBleHRlbmRzIE9iamVjdFR5cGUgPyBUZW1wb3JhcnlPYmplY3Q8VD4gOiBuZXZlcjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUZW1wb3JhcnlPYmplY3Q8VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiBleHRlbmRzIENQUE9iamVjdDxUPiB7XHJcblxyXG4gICAgcHJpdmF0ZSBuYW1lPzogc3RyaW5nO1xyXG5cclxuICAgIC8vIHB1YmxpYyBzdGF0aWMgY3JlYXRlPFQgZXh0ZW5kcyBPYmplY3RUeXBlPih0eXBlOiBULCBtZW1vcnk6IE1lbW9yeSwgYWRkcmVzczogbnVtYmVyLCBuYW1lPzogc3RyaW5nKSA6IFQgZXh0ZW5kcyBPYmplY3RUeXBlID8gVGVtcG9yYXJ5T2JqZWN0PFQ+IDogbmV2ZXIge1xyXG4gICAgLy8gICAgIHJldHVybiA8YW55PiBuZXcgVGVtcG9yYXJ5T2JqZWN0KHR5cGUsIG1lbW9yeSwgYWRkcmVzcywgbmFtZSk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHR5cGU6IFQsIG1lbW9yeTogTWVtb3J5LCBhZGRyZXNzOiBudW1iZXIsIG5hbWU/OiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcih0eXBlLCBtZW1vcnksIGFkZHJlc3MpO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgLy8gdGhpcy5lbnRpdHlJZCA9IHRlbXBPYmpFbnRpdHkuZW50aXR5SWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG5hbWVTdHJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiQFwiICsgdGhpcy5hZGRyZXNzO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgZGVzY3JpYmUoKSA6IERlc2NyaXB0aW9ue1xyXG4gICAgICAgIHJldHVybiBuYW1lID8ge25hbWU6IHRoaXMubmFtZSwgbWVzc2FnZTogXCJ0aGUgdGVtcG9yYXJ5IG9iamVjdCBcIiArIHRoaXMubmFtZX0gOiB7bWVzc2FnZTogXCJhIHRlbXBvcmFyeSBvYmplY3RcIn07XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge05vdGVIYW5kbGVyLCBDUFBFcnJvcn0gZnJvbSBcIi4vZXJyb3JzXCI7XHJcbmltcG9ydCB7IENQUENvbnN0cnVjdCwgQVNUTm9kZSwgVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0IH0gZnJvbSBcIi4vY29uc3RydWN0c1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IEtFWVdPUkRTID0gbmV3IFNldChbXHJcbiAgICBcImFsaWduYXNcIiwgXCJjb250aW51ZVwiLCBcImZyaWVuZFwiLCBcInJlZ2lzdGVyXCIsIFwidHJ1ZVwiLFxyXG4gICAgXCJhbGlnbm9mXCIsIFwiZGVjbHR5cGVcIiwgXCJnb3RvXCIsIFwicmVpbnRlcnByZXRfY2FzdFwiLCBcInRyeVwiLFxyXG4gICAgXCJhc21cIiwgXCJkZWZhdWx0XCIsIFwiaWZcIiwgXCJyZXR1cm5cIiwgXCJ0eXBlZGVmXCIsXHJcbiAgICBcImF1dG9cIiwgXCJkZWxldGVcIiwgXCJpbmxpbmVcIiwgXCJzaG9ydFwiLCBcInR5cGVpZFwiLFxyXG4gICAgXCJib29sXCIsIFwiZG9cIiwgXCJpbnRcIiwgXCJzaWduZWRcIiwgXCJ0eXBlbmFtZVwiLFxyXG4gICAgXCJicmVha1wiLCBcImRvdWJsZVwiLCBcImxvbmdcIiwgXCJzaXplb2ZcIiwgXCJ1bmlvblwiLFxyXG4gICAgXCJjYXNlXCIsIFwiZHluYW1pY19jYXN0XCIsIFwibXV0YWJsZVwiLCBcInN0YXRpY1wiLCBcInVuc2lnbmVkXCIsXHJcbiAgICBcImNhdGNoXCIsIFwiZWxzZVwiLCBcIm5hbWVzcGFjZVwiLCBcInN0YXRpY19hc3NlcnRcIiwgXCJ1c2luZ1wiLFxyXG4gICAgXCJjaGFyXCIsIFwiZW51bVwiLCBcIm5ld1wiLCBcInN0YXRpY19jYXN0XCIsIFwidmlydHVhbFwiLFxyXG4gICAgXCJjaGFyMTZfdFwiLCBcImV4cGxpY2l0XCIsIFwibm9leGNlcHRcIiwgXCJzdHJ1Y3RcIiwgXCJ2b2lkXCIsXHJcbiAgICBcImNoYXIzMl90XCIsIFwiZXhwb3J0XCIsIFwibnVsbHB0clwiLCBcInN3aXRjaFwiLCBcInZvbGF0aWxlXCIsXHJcbiAgICBcImNsYXNzXCIsIFwiZXh0ZXJuXCIsIFwib3BlcmF0b3JcIiwgXCJ0ZW1wbGF0ZVwiLCBcIndjaGFyX3RcIixcclxuICAgIFwiY29uc3RcIiwgXCJmYWxzZVwiLCBcInByaXZhdGVcIiwgXCJ0aGlzXCIsIFwid2hpbGVcIixcclxuICAgIFwiY29uc3RleHByXCIsIFwiZmxvYXRcIiwgXCJwcm90ZWN0ZWRcIiwgXCJ0aHJlYWRfbG9jYWxcIixcclxuICAgIFwiY29uc3RfY2FzdFwiLCBcImZvclwiLCBcInB1YmxpY1wiLCBcInRocm93XCJcclxuXSk7XHJcblxyXG5leHBvcnQgY29uc3QgQUxUX09QUyA9IG5ldyBTZXQoW1xyXG4gICAgXCJhbmRcIiwgXCJhbmRfZXFcIiwgXCJiaXRhbmRcIiwgXCJiaXRvclwiLCBcImNvbXBsXCIsIFwibm90XCIsXHJcbiAgICBcIm5vdF9lcVwiLCBcIm9yXCIsIFwib3JfZXFcIiwgXCJ4b3JcIiwgXCJ4b3JfZXFcIlxyXG5dKTtcclxuXHJcbi8vIGV4cG9ydCB0eXBlIFVucXVhbGlmaWVkTmFtZSA9IHN0cmluZztcclxuLy8gZXhwb3J0IHR5cGUgUXVhbGlmaWVkTmFtZSA9IHN0cmluZ1tdO1xyXG4vLyBleHBvcnQgdHlwZSBOYW1lID0gVW5xdWFsaWZpZWROYW1lIHwgUXVhbGlmaWVkTmFtZTtcclxuXHJcbi8vVE9ETzogbm90IHN1cmUgaWYgdGhpcyBpcyB0aGUgcmlnaHQgcGxhY2UgZm9yIHRoaXMuIE1heSBiZSBiZXR0b3Igc3VpdGVkIGZvciBlcnJvci50c1xyXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tJZGVudGlmaWVyKHNyYzogVHJhbnNsYXRpb25Vbml0Q29uc3RydWN0LCBuYW1lOiBzdHJpbmcsIG5vdGVIYW5kbGVyOiBOb3RlSGFuZGxlcikge1xyXG4gICAgXHJcbiAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIHF1YWxpZmllZCBuYW1lc1xyXG4gICAgaWYgKG5hbWUuaW5jbHVkZXMoXCI6OlwiKSkge1xyXG4gICAgICAgIG5hbWUuc3BsaXQoXCI6OlwiKS5mb3JFYWNoKChlbGVtKSA9PiBjaGVja0lkZW50aWZpZXIoc3JjLCBlbGVtLCBub3RlSGFuZGxlcikpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayB0aGF0IGlkZW50aWZpZXIgaXMgbm90IGEga2V5d29yZCBvciBhbiBhbHRlcm5hdGl2ZSByZXByZXNlbnRhdGlvbiBmb3IgYW4gb3BlcmF0b3JcclxuICAgIGlmIChLRVlXT1JEUy5oYXMobmFtZSkpIHtcclxuICAgICAgICBub3RlSGFuZGxlci5hZGROb3RlKENQUEVycm9yLmlkZW4ua2V5d29yZChzcmMsIG5hbWUpKTtcclxuICAgIH1cclxuICAgIGlmIChBTFRfT1BTLmhhcyhuYW1lKSkge1xyXG4gICAgICAgIG5vdGVIYW5kbGVyLmFkZE5vdGUoQ1BQRXJyb3IuaWRlbi5hbHRfb3Aoc3JjLCBuYW1lKSk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRnVsbHlRdWFsaWZpZWROYW1lKC4uLm5hbWVzIDogc3RyaW5nW10pIHtcclxuICAgIHJldHVybiBcIjo6XCIgKyBuYW1lcy5qb2luKFwiOjpcIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmdWxseVF1YWxpZmllZE5hbWVUb1VucXVhbGlmaWVkKGZxbmFtZTogc3RyaW5nKSB7XHJcbiAgICBsZXQgaSA9IGZxbmFtZS5sYXN0SW5kZXhPZihcIjo6XCIpO1xyXG4gICAgaWYgKGkgPT09IC0xKSB7XHJcbiAgICAgICAgcmV0dXJuIGZxbmFtZTtcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgICAgcmV0dXJuIGZxbmFtZS5zbGljZShpKzIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNvdXJjZUNvZGUge1xyXG4gICAgdGV4dDogc3RyaW5nO1xyXG4gICAgbGluZTogbnVtYmVyO1xyXG4gICAgY29sdW1uOiBudW1iZXI7XHJcbiAgICBzdGFydDogbnVtYmVyO1xyXG4gICAgZW5kOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSWRlbnRpZmllckFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGlkZW50aWZpZXI6IHN0cmluZztcclxufSIsImltcG9ydCB7IE9iamVjdFR5cGUsIFR5cGUsIEF0b21pY1R5cGUsIEJvdW5kZWRBcnJheVR5cGUsIFBvaW50ZXJUeXBlLCBBcnJheVBvaW50ZXIsIEludCwgQm9vbCwgSW50ZWdyYWxUeXBlLCBGbG9hdCwgRG91YmxlLCBGbG9hdGluZ1BvaW50VHlwZSwgc2ltaWxhclR5cGUsIHN1YlR5cGUsIHNhbWVUeXBlLCBpc0N2Q29udmVydGlibGUsIEFyaXRobWV0aWNUeXBlLCBBcnJheUVsZW1UeXBlLCBpc1R5cGUgfSBmcm9tIFwiLi90eXBlc1wiO1xyXG5pbXBvcnQgeyBTaW1wbGVSdW50aW1lRXhwcmVzc2lvbiwgTnVtZXJpY0xpdGVyYWwgfSBmcm9tIFwiLi9leHByZXNzaW9uc1wiO1xyXG5pbXBvcnQgeyBEZXNjcmlwdGlvbiwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQsIENvbXBpbGVkVGVtcG9yYXJ5RGVhbGxvY2F0b3IsIFJ1bnRpbWVDb25zdHJ1Y3QgfSBmcm9tIFwiLi9jb25zdHJ1Y3RzXCI7XHJcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSBcIi4vcnVudGltZUVudmlyb25tZW50XCI7XHJcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuLi91dGlsL3V0aWxcIjtcclxuaW1wb3J0IHsgQ29tcGlsZWRFeHByZXNzaW9uLCBFeHByZXNzaW9uLCBWQ1Jlc3VsdFR5cGVzLCBSdW50aW1lRXhwcmVzc2lvbiwgVmFsdWVDYXRlZ29yeSwgVHlwZWRFeHByZXNzaW9uLCBTcGVjaWZpY1R5cGVkRXhwcmVzc2lvbiB9IGZyb20gXCIuL2V4cHJlc3Npb25CYXNlXCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgSW1wbGljaXRDb252ZXJzaW9uPEZyb21UeXBlIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGUsIEZyb21WQyBleHRlbmRzIFZhbHVlQ2F0ZWdvcnkgPSBWYWx1ZUNhdGVnb3J5LCBUb1R5cGUgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZSwgVG9WQyBleHRlbmRzIFZhbHVlQ2F0ZWdvcnkgPSBWYWx1ZUNhdGVnb3J5PiBleHRlbmRzIEV4cHJlc3Npb24ge1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZnJvbTogVHlwZWRFeHByZXNzaW9uPEZyb21UeXBlLCBGcm9tVkM+O1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGU6IFRvVHlwZTtcclxuICAgIHB1YmxpYyByZWFkb25seSB2YWx1ZUNhdGVnb3J5OiBUb1ZDO1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29udmVyc2lvbkxlbmd0aDogbnVtYmVyO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihmcm9tOiBUeXBlZEV4cHJlc3Npb248RnJvbVR5cGUsIEZyb21WQz4sIHRvVHlwZTogVG9UeXBlLCB2YWx1ZUNhdGVnb3J5OiBUb1ZDKSB7XHJcbiAgICAgICAgc3VwZXIoZnJvbS5jb250ZXh0KTtcclxuICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLmZyb20gPSBmcm9tKTtcclxuICAgICAgICB0aGlzLnR5cGUgPSB0b1R5cGU7XHJcbiAgICAgICAgdGhpcy52YWx1ZUNhdGVnb3J5ID0gdmFsdWVDYXRlZ29yeTtcclxuXHJcbiAgICAgICAgaWYgKGZyb20gaW5zdGFuY2VvZiBJbXBsaWNpdENvbnZlcnNpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5jb252ZXJzaW9uTGVuZ3RoID0gZnJvbS5jb252ZXJzaW9uTGVuZ3RoICsgMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5jb252ZXJzaW9uTGVuZ3RoID0gMTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPEZyb21UeXBlIGV4dGVuZHMgT2JqZWN0VHlwZSwgRnJvbVZDIGV4dGVuZHMgVmFsdWVDYXRlZ29yeSwgVG9UeXBlIGV4dGVuZHMgT2JqZWN0VHlwZSwgVG9WQyBleHRlbmRzIFZhbHVlQ2F0ZWdvcnk+KHRoaXM6IENvbXBpbGVkSW1wbGljaXRDb252ZXJzaW9uPEZyb21UeXBlLCBGcm9tVkMsIFRvVHlwZSwgVG9WQz4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lSW1wbGljaXRDb252ZXJzaW9uPEZyb21UeXBlLCBGcm9tVkMsIFRvVHlwZSwgVG9WQz47XHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUV4cHJlc3Npb248VCBleHRlbmRzIFR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5Pih0aGlzOiBDb21waWxlZEV4cHJlc3Npb248VCxWPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IG5ldmVyO1xyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPEZyb21UeXBlIGV4dGVuZHMgT2JqZWN0VHlwZSwgRnJvbVZDIGV4dGVuZHMgVmFsdWVDYXRlZ29yeSwgVG9UeXBlIGV4dGVuZHMgT2JqZWN0VHlwZSwgVG9WQyBleHRlbmRzIFZhbHVlQ2F0ZWdvcnk+KHRoaXM6IENvbXBpbGVkSW1wbGljaXRDb252ZXJzaW9uPEZyb21UeXBlLCBGcm9tVkMsIFRvVHlwZSwgVG9WQz4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lSW1wbGljaXRDb252ZXJzaW9uPEZyb21UeXBlLCBGcm9tVkMsIFRvVHlwZSwgVG9WQz4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUnVudGltZUltcGxpY2l0Q29udmVyc2lvbih0aGlzLCBwYXJlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBvcGVyYXRlKGZyb21FdmFsUmVzdWx0OiBWQ1Jlc3VsdFR5cGVzPEZyb21UeXBlLCBGcm9tVkM+KSA6IFZDUmVzdWx0VHlwZXM8VG9UeXBlLCBUb1ZDPjtcclxuXHJcbiAgICBcclxuICAgIHB1YmxpYyBkZXNjcmliZUV2YWxSZXN1bHQoZGVwdGg6IG51bWJlcik6IERlc2NyaXB0aW9uIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZEltcGxpY2l0Q29udmVyc2lvbjxGcm9tVHlwZSBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlLCBGcm9tVkMgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5ID0gVmFsdWVDYXRlZ29yeSwgVG9UeXBlIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGUsIFRvVkMgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5ID0gVmFsdWVDYXRlZ29yeT4gZXh0ZW5kcyBJbXBsaWNpdENvbnZlcnNpb248RnJvbVR5cGUsIEZyb21WQywgVG9UeXBlLCBUb1ZDPiwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4gICAgcmVhZG9ubHkgdGVtcG9yYXJ5RGVhbGxvY2F0b3I/OiBDb21waWxlZFRlbXBvcmFyeURlYWxsb2NhdG9yOyAvLyB0byBtYXRjaCBDb21waWxlZFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uIHN0cnVjdHVyZVxyXG4gICAgXHJcbiAgICByZWFkb25seSBmcm9tOiBDb21waWxlZEV4cHJlc3Npb248RnJvbVR5cGUsIEZyb21WQz47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBSdW50aW1lSW1wbGljaXRDb252ZXJzaW9uPEZyb21UeXBlIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGUsIEZyb21WQyBleHRlbmRzIFZhbHVlQ2F0ZWdvcnkgPSBWYWx1ZUNhdGVnb3J5LCBUb1R5cGUgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZSwgVG9WQyBleHRlbmRzIFZhbHVlQ2F0ZWdvcnkgPSBWYWx1ZUNhdGVnb3J5PlxyXG4gICAgZXh0ZW5kcyBTaW1wbGVSdW50aW1lRXhwcmVzc2lvbjxUb1R5cGUsIFRvVkMsIENvbXBpbGVkSW1wbGljaXRDb252ZXJzaW9uPEZyb21UeXBlLCBGcm9tVkMsIFRvVHlwZSwgVG9WQz4+IHtcclxuICAgICAgICBcclxuICAgIHB1YmxpYyByZWFkb25seSBmcm9tOiBSdW50aW1lRXhwcmVzc2lvbjxGcm9tVHlwZSwgRnJvbVZDPjtcclxuICAgIFxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG1vZGVsOiBDb21waWxlZEltcGxpY2l0Q29udmVyc2lvbjxGcm9tVHlwZSwgRnJvbVZDLCBUb1R5cGUsIFRvVkM+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICBzdXBlcihtb2RlbCwgcGFyZW50KTtcclxuICAgICAgICB0aGlzLmZyb20gPSB0aGlzLm1vZGVsLmZyb20uY3JlYXRlUnVudGltZUV4cHJlc3Npb24odGhpcyk7XHJcbiAgICAgICAgdGhpcy5zZXRTdWJleHByZXNzaW9ucyhbdGhpcy5mcm9tXSk7XHJcbiAgICB9XHJcbiAgICAgICAgXHJcbiAgICBwcm90ZWN0ZWQgb3BlcmF0ZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNldEV2YWxSZXN1bHQodGhpcy5tb2RlbC5vcGVyYXRlKHRoaXMuZnJvbS5ldmFsUmVzdWx0KSk7XHJcbiAgICB9XHJcbiAgICAvLyBpc1RhaWxDaGlsZCA6IGZ1bmN0aW9uKGNoaWxkKXtcclxuICAgIC8vICAgICByZXR1cm4ge2lzVGFpbDogZmFsc2UsXHJcbiAgICAvLyAgICAgICAgIHJlYXNvbjogXCJBbiBpbXBsaWNpdCBjb252ZXJzaW9uIChcIiArICh0aGlzLmVuZ2xpc2hOYW1lIHx8IHRoaXMuX25hbWUpICsgXCIpIHRha2VzIHBsYWNlIGFmdGVyIHRoZSBmdW5jdGlvbiBjYWxsIHJldHVybnMuXCJcclxuICAgIC8vICAgICB9O1xyXG4gICAgLy8gfVxyXG5cclxufVxyXG5cclxuXHJcbi8vIFR5cGUgMSBDb252ZXJzaW9uc1xyXG4vLyBMVmFsdWVUb1JWYWx1ZSwgQXJyYXlUb1BvaW50ZXIsIEZ1bmN0aW9uVG9Qb2ludGVyXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIExWYWx1ZVRvUlZhbHVlPFQgZXh0ZW5kcyBBdG9taWNUeXBlPiBleHRlbmRzIEltcGxpY2l0Q29udmVyc2lvbjxULCBcImx2YWx1ZVwiLCBULCBcInBydmFsdWVcIj4ge1xyXG4gICAgXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoZnJvbTogVHlwZWRFeHByZXNzaW9uPFQsIFwibHZhbHVlXCI+KSB7XHJcbiAgICAgICAgc3VwZXIoZnJvbSwgZnJvbS50eXBlLmN2VW5xdWFsaWZpZWQoKSwgXCJwcnZhbHVlXCIpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgb3BlcmF0ZShmcm9tRXZhbFJlc3VsdDogVkNSZXN1bHRUeXBlczxULCBcImx2YWx1ZVwiPikge1xyXG4gICAgICAgIHJldHVybiA8VkNSZXN1bHRUeXBlczxULCBcInBydmFsdWVcIj4+ZnJvbUV2YWxSZXN1bHQuZ2V0VmFsdWUoKTsgLy8gQ2FzdCB0ZWNobmljYWxseSBuZWNlc3NhcnkgaGVyZVxyXG4gICAgICAgIC8vIFRPRE86IGFkZCBhbGVydCBpZiB2YWx1ZSBpcyBpbnZhbGlkXHJcbiAgICAgICAgLy8gZS5nLiBpbnN0LnNldEV2YWxSZXN1bHQocmVhZFZhbHVlV2l0aEFsZXJ0KGV2YWxWYWx1ZSwgc2ltLCB0aGlzLmZyb20sIGluc3QuY2hpbGRJbnN0YW5jZXMuZnJvbSkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGRlc2NyaWJlRXZhbFJlc3VsdCA6IGZ1bmN0aW9uKGRlcHRoLCBzaW0sIGluc3Qpe1xyXG4gICAgLy8gICAgIGlmIChpbnN0ICYmIGluc3QuZXZhbFJlc3VsdCl7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiBpbnN0LmV2YWxSZXN1bHQuZGVzY3JpYmUoKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZSBpZiAoZGVwdGggPT0gMCl7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJ0aGUgdmFsdWUgb2YgXCIgKyB0aGlzLmdldFNvdXJjZVRleHQoKX07XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2V7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJ0aGUgdmFsdWUgb2YgXCIgKyB0aGlzLmZyb20uZGVzY3JpYmVFdmFsUmVzdWx0KGRlcHRoLTEsc2ltLCBpbnN0ICYmIGluc3QuY2hpbGRJbnN0YW5jZXMgJiYgaW5zdC5jaGlsZEluc3RhbmNlcy5mcm9tKS5tZXNzYWdlfTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9LFxyXG5cclxuICAgIC8vIGV4cGxhaW4gOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuICAgIC8vICAgICByZXR1cm4ge21lc3NhZ2U6IFwiVGhlIHZhbHVlIG9mIFwiICsgdGhpcy5mcm9tLmRlc2NyaWJlRXZhbFJlc3VsdCgwLCBzaW0sIGluc3QgJiYgaW5zdC5jaGlsZEluc3RhbmNlcyAmJiBpbnN0LmNoaWxkSW5zdGFuY2VzLmZyb20pLm1lc3NhZ2UgKyBcIiB3aWxsIGJlIGxvb2tlZCB1cC5cIn07XHJcbiAgICAvLyB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQXJyYXlUb1BvaW50ZXI8VCBleHRlbmRzIEJvdW5kZWRBcnJheVR5cGU+IGV4dGVuZHMgSW1wbGljaXRDb252ZXJzaW9uPFQsIFwibHZhbHVlXCIsIFBvaW50ZXJUeXBlLCBcInBydmFsdWVcIj4ge1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihmcm9tOiBUeXBlZEV4cHJlc3Npb248VCwgXCJsdmFsdWVcIj4pIHtcclxuICAgICAgICBzdXBlcihmcm9tLCBmcm9tLnR5cGUuYWRqdXN0VG9Qb2ludGVyVHlwZSgpLCBcInBydmFsdWVcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9wZXJhdGUoZnJvbUV2YWxSZXN1bHQ6IFZDUmVzdWx0VHlwZXM8Qm91bmRlZEFycmF5VHlwZSwgXCJsdmFsdWVcIj4pIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZhbHVlKGZyb21FdmFsUmVzdWx0LmFkZHJlc3MsIG5ldyBBcnJheVBvaW50ZXIoZnJvbUV2YWxSZXN1bHQpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBleHBsYWluIDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbiAgICAvLyAgICAgcmV0dXJuIHttZXNzYWdlOiBcIkluIHRoaXMgY2FzZSAoYW5kIG1vc3Qgb3RoZXJzKSwgdXNpbmcgdGhlIG5hbWUgb2YgYW4gYXJyYXkgaW4gYW4gZXhwcmVzc2lvbiB3aWxsIHlpZWxkIGEgdGhlIGFkZHJlc3Mgb2YgaXRzIGZpcnN0IGVsZW1lbnQuIFRoYXQncyB3aGF0IGhhcHBlbnMgaGVyZS5cIn07XHJcbiAgICAvLyB9XHJcbn1cclxuXHJcblxyXG5cclxuLy8gZXhwb3J0IHZhciBGdW5jdGlvblRvUG9pbnRlciA9IEltcGxpY2l0Q29udmVyc2lvbi5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiRnVuY3Rpb25Ub1BvaW50ZXJcIixcclxuLy8gICAgIGluaXQ6IGZ1bmN0aW9uKGZyb20pe1xyXG4vLyAgICAgICAgIGFzc2VydChpc0EoZnJvbS50eXBlLCBUeXBlcy5GdW5jdGlvbikpO1xyXG4vLyAgICAgICAgIHRoaXMuaW5pdFBhcmVudChmcm9tLCBUeXBlcy5Qb2ludGVyLmluc3RhbmNlKGZyb20udHlwZSksIFwicHJ2YWx1ZVwiKTtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgb3BlcmF0ZSA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIHZhciBmdW5jID0gaW5zdC5jaGlsZEluc3RhbmNlcy5mcm9tLmV2YWxSZXN1bHQ7XHJcbi8vICAgICAgICAgaW5zdC5zZXRFdmFsUmVzdWx0KFZhbHVlLmluc3RhbmNlKGZ1bmMsIHRoaXMudHlwZSkpO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBleHBsYWluIDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbi8vICAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcIlVzaW5nIHRoZSBuYW1lIG9mIGEgZnVuY3Rpb24gaW4gYW4gZXhwcmVzc2lvbiB3aWxsIHlpZWxkIGEgcG9pbnRlciB0byB0aGF0IGZ1bmN0aW9uLlwifTtcclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG4vLyBUeXBlIDIgQ29udmVyc2lvbnNcclxuXHJcbi8qKlxyXG4gKiBBbGwgdHlwZSBjb252ZXJzaW9ucyBpZ25vcmUgY3YtcXVhbGlmaWNhdGlvbnMgb24gdGhlIGdpdmVuIGRlc3RpbmF0aW9uIHR5cGUuIEluc3RlYWQsXHJcbiAqIHRoZSBjb252ZXJ0ZWQgdHlwZSByZXRhaW5zIHRoZSBjdi1xdWFsaWZpY2F0aW9ucyBvZiB0aGUgc291cmNlIHR5cGUuXHJcbiAqL1xyXG5hYnN0cmFjdCBjbGFzcyBUeXBlQ29udmVyc2lvbjxGcm9tVHlwZSBleHRlbmRzIEF0b21pY1R5cGUsIFRvVHlwZSBleHRlbmRzIEF0b21pY1R5cGU+XHJcbiAgICBleHRlbmRzIEltcGxpY2l0Q29udmVyc2lvbjxGcm9tVHlwZSwgXCJwcnZhbHVlXCIsIFRvVHlwZSwgXCJwcnZhbHVlXCI+IHtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoZnJvbTogVHlwZWRFeHByZXNzaW9uPEZyb21UeXBlLCBcInBydmFsdWVcIj4sIHRvVHlwZTogVG9UeXBlKSB7XHJcbiAgICAgICAgc3VwZXIoZnJvbSwgdG9UeXBlLmN2UXVhbGlmaWVkKGZyb20udHlwZS5pc0NvbnN0LCBmcm9tLnR5cGUuaXNWb2xhdGlsZSksIFwicHJ2YWx1ZVwiKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmNsYXNzIE5vT3BUeXBlQ29udmVyc2lvbjxGcm9tVHlwZSBleHRlbmRzIEF0b21pY1R5cGUsIFRvVHlwZSBleHRlbmRzIEF0b21pY1R5cGU+XHJcbiAgICBleHRlbmRzIFR5cGVDb252ZXJzaW9uPEZyb21UeXBlLCBUb1R5cGU+IHtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoZnJvbTogVHlwZWRFeHByZXNzaW9uPEZyb21UeXBlLCBcInBydmFsdWVcIj4sIHRvVHlwZTogVG9UeXBlKSB7XHJcbiAgICAgICAgc3VwZXIoZnJvbSwgdG9UeXBlKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIG9wZXJhdGUoZnJvbUV2YWxSZXN1bHQ6IFZDUmVzdWx0VHlwZXM8RnJvbVR5cGUsIFwicHJ2YWx1ZVwiPikge1xyXG4gICAgICAgIHJldHVybiA8VkNSZXN1bHRUeXBlczxUb1R5cGUsIFwicHJ2YWx1ZVwiPj5uZXcgVmFsdWUoZnJvbUV2YWxSZXN1bHQucmF3VmFsdWUsIHRoaXMudHlwZSk7IC8vIENhc3QgdGVjaG5pY2FsbHkgbmVjZXNzYXJ5IGhlcmVcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE51bGxQb2ludGVyQ29udmVyc2lvbjxQIGV4dGVuZHMgUG9pbnRlclR5cGU+IGV4dGVuZHMgTm9PcFR5cGVDb252ZXJzaW9uPEludCwgUD4ge1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihmcm9tOiBOdW1lcmljTGl0ZXJhbDxJbnQ+LCB0b1R5cGU6IFApIHtcclxuICAgICAgICBzdXBlcihmcm9tLCB0b1R5cGUpO1xyXG4gICAgICAgIGFzc2VydChmcm9tLnZhbHVlLnJhd1ZhbHVlID09PSAwKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQb2ludGVyQ29udmVyc2lvbjxGcm9tVHlwZSBleHRlbmRzIFBvaW50ZXJUeXBlLCBUb1R5cGUgZXh0ZW5kcyBQb2ludGVyVHlwZT4gZXh0ZW5kcyBOb09wVHlwZUNvbnZlcnNpb248RnJvbVR5cGUsIFRvVHlwZT4ge1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFBvaW50ZXJUb0Jvb2xlYW5Db252ZXJzaW9uIGV4dGVuZHMgTm9PcFR5cGVDb252ZXJzaW9uPFBvaW50ZXJUeXBlLCBCb29sPiB7XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoZnJvbTogVHlwZWRFeHByZXNzaW9uPFBvaW50ZXJUeXBlLCBcInBydmFsdWVcIj4pIHtcclxuICAgICAgICBzdXBlcihmcm9tLCBCb29sLkJPT0wpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgSW50ZWdyYWxQcm9tb3Rpb248RnJvbVR5cGUgZXh0ZW5kcyBJbnRlZ3JhbFR5cGUsIFRvVHlwZSBleHRlbmRzIEludGVncmFsVHlwZT4gZXh0ZW5kcyBOb09wVHlwZUNvbnZlcnNpb248RnJvbVR5cGUsIFRvVHlwZT4ge1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEludGVncmFsQ29udmVyc2lvbjxGcm9tVHlwZSBleHRlbmRzIEludGVncmFsVHlwZSwgVG9UeXBlIGV4dGVuZHMgSW50ZWdyYWxUeXBlPiBleHRlbmRzIE5vT3BUeXBlQ29udmVyc2lvbjxGcm9tVHlwZSwgVG9UeXBlPiB7XHJcblxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEZsb2F0aW5nUG9pbnRQcm9tb3Rpb24gZXh0ZW5kcyBOb09wVHlwZUNvbnZlcnNpb248RmxvYXQsIERvdWJsZT4ge1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGZyb206IFR5cGVkRXhwcmVzc2lvbjxGbG9hdCwgXCJwcnZhbHVlXCI+KSB7XHJcbiAgICAgICAgc3VwZXIoZnJvbSwgRG91YmxlLkRPVUJMRSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBGbG9hdGluZ1BvaW50Q29udmVyc2lvbjxGcm9tVHlwZSBleHRlbmRzIEZsb2F0aW5nUG9pbnRUeXBlLCBUb1R5cGUgZXh0ZW5kcyBGbG9hdGluZ1BvaW50VHlwZT4gZXh0ZW5kcyBOb09wVHlwZUNvbnZlcnNpb248RnJvbVR5cGUsIFRvVHlwZT4ge1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEludGVncmFsVG9GbG9hdGluZ0NvbnZlcnNpb248RnJvbVR5cGUgZXh0ZW5kcyBJbnRlZ3JhbFR5cGUsIFRvVHlwZSBleHRlbmRzIEZsb2F0aW5nUG9pbnRUeXBlPiBleHRlbmRzIE5vT3BUeXBlQ29udmVyc2lvbjxGcm9tVHlwZSwgVG9UeXBlPiB7XHJcblxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEZsb2F0aW5nVG9JbnRlZ3JhbENvbnZlcnNpb248VCBleHRlbmRzIEZsb2F0aW5nUG9pbnRUeXBlPiBleHRlbmRzIFR5cGVDb252ZXJzaW9uPFQsIEludGVncmFsVHlwZT4ge1xyXG5cclxuICAgIHB1YmxpYyBvcGVyYXRlKGZyb21FdmFsUmVzdWx0OiBWQ1Jlc3VsdFR5cGVzPFQsIFwicHJ2YWx1ZVwiPikge1xyXG4gICAgICAgIGlmICh0aGlzLnR5cGUuaXNUeXBlKEJvb2wpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgVmFsdWUoZnJvbUV2YWxSZXN1bHQucmF3VmFsdWUgPT09IDAgPyAwIDogMSwgSW50LklOVCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgVmFsdWUoTWF0aC50cnVuYyhmcm9tRXZhbFJlc3VsdC5yYXdWYWx1ZSksIEludC5JTlQpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbi8vIFRPRE86IHJlbW92ZSB0aGlzLiBubyBsb25nZXIgbmVlZGVkIG5vdyB0aGF0IHdlIGhhdmUgcmVhbCBzdHJpbmdzXHJcbi8vIFN0cmluZ1RvQ1N0cmluZ0NvbnZlcnNpb24gPSBJbXBsaWNpdENvbnZlcnNpb24uZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lOiBcIlN0cmluZ1RvQ1N0cmluZ0NvbnZlcnNpb25cIixcclxuLy8gICAgIGluaXQ6IGZ1bmN0aW9uKGZyb20sIHRvVHlwZSl7XHJcbi8vICAgICAgICAgYXNzZXJ0KGZyb20udmFsdWVDYXRlZ29yeSA9PT0gXCJwcnZhbHVlXCIpO1xyXG4vLyAgICAgICAgIGFzc2VydChpc0EoZnJvbS50eXBlLCBUeXBlcy5TdHJpbmcpKTtcclxuLy8gICAgICAgICBhc3NlcnQoaXNBKHRvVHlwZSwgVHlwZXMuQXJyYXkpICYmIGlzQSh0b1R5cGUuZWxlbVR5cGUsIFR5cGVzLkNoYXIpKTtcclxuLy8gICAgICAgICB0aGlzLmluaXRQYXJlbnQoZnJvbSwgdG9UeXBlLCBcInBydmFsdWVcIik7XHJcbi8vICAgICB9LFxyXG4vL1xyXG4vLyAgICAgb3BlcmF0ZSA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIC8vIEkgdGhpbmsgb25seSB0aGluZyBJIHJlYWxseSBuZWVkIGhlcmUgaXMgdG8gaGFuZGxlIGJvb2xlYW5zIGdyYWNlZnVsbHlcclxuLy8gICAgICAgICAvLyBBZGRpbmcgMC4wIHNob3VsZCBkbyB0aGUgdHJpY2suXHJcbi8vICAgICAgICAgdmFyIGNzdHIgPSBpbnN0LmNoaWxkSW5zdGFuY2VzLmZyb20uZXZhbFJlc3VsdC52YWx1ZTtcclxuLy8gICAgICAgICBpbnN0LnNldEV2YWxSZXN1bHQoVmFsdWUuaW5zdGFuY2UoY3N0ci5zcGxpdChcIlwiKSwgVHlwZXMuU3RyaW5nKSk7XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuLy8gUXVhbGlmaWNhdGlvbiBjb252ZXJzaW9uc1xyXG5cclxuZXhwb3J0IGNsYXNzIFF1YWxpZmljYXRpb25Db252ZXJzaW9uPFQgZXh0ZW5kcyBBdG9taWNUeXBlPiBleHRlbmRzIEltcGxpY2l0Q29udmVyc2lvbjxULCBcInBydmFsdWVcIiwgVCwgXCJwcnZhbHVlXCI+IHtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoZnJvbTogVHlwZWRFeHByZXNzaW9uPFQsIFwicHJ2YWx1ZVwiPiwgdG9UeXBlOiBUKSB7XHJcbiAgICAgICAgc3VwZXIoZnJvbSwgdG9UeXBlLCBcInBydmFsdWVcIik7XHJcbiAgICAgICAgYXNzZXJ0KHNpbWlsYXJUeXBlKGZyb20udHlwZSwgdG9UeXBlKSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBvcGVyYXRlKGZyb21FdmFsUmVzdWx0OiBWQ1Jlc3VsdFR5cGVzPFQsIFwicHJ2YWx1ZVwiPikge1xyXG4gICAgICAgIHJldHVybiA8VkNSZXN1bHRUeXBlczxULCBcInBydmFsdWVcIj4+bmV3IFZhbHVlKGZyb21FdmFsUmVzdWx0LnJhd1ZhbHVlLCB0aGlzLnR5cGUpOyAvLyBDYXN0IHRlY2huaWNhbGx5IG5lY2Vzc2FyeSBoZXJlXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0VG9QUlZhbHVlPFQgZXh0ZW5kcyBBdG9taWNUeXBlPihmcm9tOiBTcGVjaWZpY1R5cGVkRXhwcmVzc2lvbjxUPikgOiBUeXBlZEV4cHJlc3Npb248VCwgXCJwcnZhbHVlXCI+O1xyXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFRvUFJWYWx1ZTxFbGVtX3R5cGUgZXh0ZW5kcyBBcnJheUVsZW1UeXBlPihmcm9tOiBUeXBlZEV4cHJlc3Npb248Qm91bmRlZEFycmF5VHlwZTxFbGVtX3R5cGU+LCBcImx2YWx1ZVwiPikgOiBUeXBlZEV4cHJlc3Npb248UG9pbnRlclR5cGU8RWxlbV90eXBlPiwgXCJwcnZhbHVlXCI+O1xyXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFRvUFJWYWx1ZShmcm9tOiBTcGVjaWZpY1R5cGVkRXhwcmVzc2lvbjxBdG9taWNUeXBlPiB8IFR5cGVkRXhwcmVzc2lvbjxCb3VuZGVkQXJyYXlUeXBlLCBcImx2YWx1ZVwiPikgOiBUeXBlZEV4cHJlc3Npb248QXRvbWljVHlwZSwgXCJwcnZhbHVlXCI+O1xyXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFRvUFJWYWx1ZShmcm9tOiBUeXBlZEV4cHJlc3Npb24pIDogVHlwZWRFeHByZXNzaW9uO1xyXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFRvUFJWYWx1ZShmcm9tOiBUeXBlZEV4cHJlc3Npb24pIHtcclxuXHJcbiAgICBpZiAoZnJvbS5pc0JvdW5kZWRBcnJheVR5cGVkKCkpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEFycmF5VG9Qb2ludGVyKGZyb20pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghZnJvbS5pc0F0b21pY1R5cGVkKCkpIHtcclxuICAgICAgICByZXR1cm4gZnJvbTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBiYXNlZCBvbiB1bmlvbiBpbnB1dCB0eXBlLCBpdCBtdXN0IGJlIGF0b21pYyB0eXBlZCBpZiB3ZSBnZXQgdG8gaGVyZVxyXG5cclxuICAgIGlmIChmcm9tLmlzUHJ2YWx1ZSgpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZyb207XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIG11c3QgYmUgYW4gbHZhbHVlIGlmIHdlIGdldCB0byBoZXJlXHJcblxyXG5cclxuICAgIC8vIFRPRE86IGFkZCBiYWNrIGluIGZvciBmdW5jdGlvbiBwb2ludGVyc1xyXG4gICAgLy8gaWYgKGZyb20udHlwZSBpbnN0YW5jZW9mIEZ1bmN0aW9uVHlwZSkge1xyXG4gICAgLy8gICAgIHJldHVybiBuZXcgRnVuY3Rpb25Ub1BvaW50ZXIoZnJvbSk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgcmV0dXJuIG5ldyBMVmFsdWVUb1JWYWx1ZShmcm9tKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0eXBlQ29udmVyc2lvbihmcm9tOiBUeXBlZEV4cHJlc3Npb248UG9pbnRlclR5cGUsIFwicHJ2YWx1ZVwiPiwgdG9UeXBlOiBCb29sKSA6IFR5cGVkRXhwcmVzc2lvbjxCb29sLCBcInBydmFsdWVcIj47XHJcbmV4cG9ydCBmdW5jdGlvbiB0eXBlQ29udmVyc2lvbihmcm9tOiBUeXBlZEV4cHJlc3Npb248RG91YmxlLCBcInBydmFsdWVcIj4sIHRvVHlwZTogRmxvYXQpIDogVHlwZWRFeHByZXNzaW9uPEZsb2F0LCBcInBydmFsdWVcIj47XHJcbmV4cG9ydCBmdW5jdGlvbiB0eXBlQ29udmVyc2lvbihmcm9tOiBUeXBlZEV4cHJlc3Npb248SW50ZWdyYWxUeXBlLCBcInBydmFsdWVcIj4sIHRvVHlwZTogSW50ZWdyYWxUeXBlKSA6IFR5cGVkRXhwcmVzc2lvbjxJbnRlZ3JhbFR5cGUsIFwicHJ2YWx1ZVwiPjtcclxuZXhwb3J0IGZ1bmN0aW9uIHR5cGVDb252ZXJzaW9uKGZyb206IFR5cGVkRXhwcmVzc2lvbjxGbG9hdGluZ1BvaW50VHlwZSwgXCJwcnZhbHVlXCI+LCB0b1R5cGU6IEludGVncmFsVHlwZSkgOiBUeXBlZEV4cHJlc3Npb248SW50ZWdyYWxUeXBlLCBcInBydmFsdWVcIj47XHJcbmV4cG9ydCBmdW5jdGlvbiB0eXBlQ29udmVyc2lvbihmcm9tOiBUeXBlZEV4cHJlc3Npb248SW50ZWdyYWxUeXBlLCBcInBydmFsdWVcIj4sIHRvVHlwZTogRmxvYXRpbmdQb2ludFR5cGUpIDogVHlwZWRFeHByZXNzaW9uPEZsb2F0aW5nUG9pbnRUeXBlLCBcInBydmFsdWVcIj47XHJcbmV4cG9ydCBmdW5jdGlvbiB0eXBlQ29udmVyc2lvbihmcm9tOiBUeXBlZEV4cHJlc3Npb248RmxvYXRpbmdQb2ludFR5cGUsIFwicHJ2YWx1ZVwiPiwgdG9UeXBlOiBGbG9hdGluZ1BvaW50VHlwZSkgOiBUeXBlZEV4cHJlc3Npb248RmxvYXRpbmdQb2ludFR5cGUsIFwicHJ2YWx1ZVwiPjtcclxuZXhwb3J0IGZ1bmN0aW9uIHR5cGVDb252ZXJzaW9uPFNpbWlsYXJUeXBlIGV4dGVuZHMgQXRvbWljVHlwZT4oZnJvbTogVHlwZWRFeHByZXNzaW9uPFNpbWlsYXJUeXBlLCBcInBydmFsdWVcIj4sIHRvVHlwZTogU2ltaWxhclR5cGUpIDogVHlwZWRFeHByZXNzaW9uPFNpbWlsYXJUeXBlLCBcInBydmFsdWVcIj47XHJcbmV4cG9ydCBmdW5jdGlvbiB0eXBlQ29udmVyc2lvbjxGcm9tVHlwZSBleHRlbmRzIEF0b21pY1R5cGUsIFRvVHlwZSBleHRlbmRzIEF0b21pY1R5cGU+KGZyb206IFR5cGVkRXhwcmVzc2lvbjxGcm9tVHlwZSwgXCJwcnZhbHVlXCI+LCB0b1R5cGU6IFRvVHlwZSkgOiBUeXBlZEV4cHJlc3Npb248RnJvbVR5cGUsIFwicHJ2YWx1ZVwiPiB8IFR5cGVkRXhwcmVzc2lvbjxUb1R5cGUsIFwicHJ2YWx1ZVwiPjtcclxuZXhwb3J0IGZ1bmN0aW9uIHR5cGVDb252ZXJzaW9uKGZyb206IFR5cGVkRXhwcmVzc2lvbjxBdG9taWNUeXBlLCBcInBydmFsdWVcIj4sIHRvVHlwZTogQXRvbWljVHlwZSkge1xyXG5cclxuICAgIGlmIChzaW1pbGFyVHlwZShmcm9tLnR5cGUsIHRvVHlwZSkpIHtcclxuICAgICAgICByZXR1cm4gZnJvbTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodG9UeXBlLmlzUG9pbnRlclR5cGUoKSAmJiAoZnJvbSBpbnN0YW5jZW9mIE51bWVyaWNMaXRlcmFsKSAmJiBpc1R5cGUoZnJvbS50eXBlLCBJbnQpICYmIGZyb20udmFsdWUucmF3VmFsdWUgPT09IDApIHtcclxuICAgICAgICByZXR1cm4gbmV3IE51bGxQb2ludGVyQ29udmVyc2lvbihmcm9tLCB0b1R5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0b1R5cGUuaXNQb2ludGVyVHlwZSgpICYmIHRvVHlwZS5wdHJUby5pc0NsYXNzVHlwZSgpICYmXHJcbiAgICAgICAgZnJvbS5pc1BvaW50ZXJUeXBlZCgpICYmIGZyb20udHlwZS5wdHJUby5pc0NsYXNzVHlwZSgpICYmXHJcbiAgICAgICAgc3ViVHlwZShmcm9tLnR5cGUucHRyVG8sIHRvVHlwZS5wdHJUbykpIHtcclxuICAgICAgICAvLyBOb3RlIHRoYXQgY3YgcXVhbGlmaWNhdGlvbnMgb24gdGhlIG5ldyBkZXN0aW5hdGlvbiBwb2ludGVyIHR5cGUgZG9uJ3QgbmVlZCB0byBiZSBzZXQsIHNpbmNlXHJcbiAgICAgICAgLy8gdGhleSBhcmUgaWdub3JlZCBieSB0aGUgUG9pbnRlckNvbnZlcnNpb24gYW55d2F5ICh0aGUgc291cmNlIHR5cGUncyBjdiBxdWFsaWZpY2F0aW9ucyBhcmUgc2V0KS5cclxuICAgICAgICAvLyBIb3dldmVyLCB3ZSBkbyBuZWVkIHRvIHByZXNlcnZlIHRoZSBjdi1xdWFsaWZpY2F0aW9ucyBvbiB0aGUgcG9pbnRlZC10byB0eXBlLlxyXG4gICAgICAgIHJldHVybiBuZXcgUG9pbnRlckNvbnZlcnNpb24oZnJvbSwgbmV3IFBvaW50ZXJUeXBlKHRvVHlwZS5wdHJUby5jdlF1YWxpZmllZChmcm9tLnR5cGUucHRyVG8uaXNDb25zdCwgZnJvbS50eXBlLnB0clRvLmlzVm9sYXRpbGUpKSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRvVHlwZS5pc1R5cGUoQm9vbCkgJiYgZnJvbS5pc1BvaW50ZXJUeXBlZCgpKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludGVyVG9Cb29sZWFuQ29udmVyc2lvbihmcm9tKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodG9UeXBlLmlzVHlwZShEb3VibGUpICYmIGZyb20uaXNUeXBlZChGbG9hdCkpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEZsb2F0aW5nUG9pbnRQcm9tb3Rpb24oZnJvbSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRvVHlwZS5pc0ludGVncmFsVHlwZSgpKSB7XHJcbiAgICAgICAgaWYgKGZyb20uaXNJbnRlZ3JhbFR5cGVkKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnRlZ3JhbENvbnZlcnNpb24oZnJvbSwgdG9UeXBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZyb20uaXNGbG9hdGluZ1BvaW50VHlwZWQoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0aW5nVG9JbnRlZ3JhbENvbnZlcnNpb24oZnJvbSwgdG9UeXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRvVHlwZS5pc0Zsb2F0aW5nUG9pbnRUeXBlKCkpIHtcclxuICAgICAgICBpZiAoZnJvbS5pc0ludGVncmFsVHlwZWQoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEludGVncmFsVG9GbG9hdGluZ0NvbnZlcnNpb24oZnJvbSwgdG9UeXBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZyb20uaXNGbG9hdGluZ1BvaW50VHlwZWQoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0aW5nUG9pbnRDb252ZXJzaW9uKGZyb20sIHRvVHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmcm9tO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHF1YWxpZmljYXRpb25Db252ZXJzaW9uKGZyb206IFR5cGVkRXhwcmVzc2lvbjxBdG9taWNUeXBlLCBcInBydmFsdWVcIj4sIHRvVHlwZTogQXRvbWljVHlwZSkge1xyXG5cclxuICAgIGlmIChzYW1lVHlwZShmcm9tLnR5cGUsIHRvVHlwZSkpIHtcclxuICAgICAgICByZXR1cm4gZnJvbTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZnJvbS52YWx1ZUNhdGVnb3J5ID09PSBcInBydmFsdWVcIiAmJiBpc0N2Q29udmVydGlibGUoZnJvbS50eXBlLCB0b1R5cGUpKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBRdWFsaWZpY2F0aW9uQ29udmVyc2lvbihmcm9tLCB0b1R5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmcm9tO1xyXG59O1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTdGFuZGFyZENvbnZlcnNpb25PcHRpb25zIHtcclxuICAgIHJlYWRvbmx5IHN1cHByZXNzTFRSPzogdHJ1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEF0dGVtcHRzIHRvIGdlbmVyYXRlIGEgc3RhbmRhcmQgY29udmVyc2lvbiBzZXF1ZW5jZSBvZiB0aGUgZ2l2ZW4gZXhwcmVzc2lvbiB0byB0aGUgZ2l2ZW5cclxuICogZGVzdGluYXRpb24gdHlwZS4gXHJcbiAqIEBwYXJhbSBmcm9tIFRoZSBvcmlnaW5hbCBleHByZXNzaW9uXHJcbiAqIEBwYXJhbSB0b1R5cGUgVGhlIGRlc3RpbmF0aW9uIHR5cGVcclxuICogQHBhcmFtIG9wdGlvbnMgXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc3RhbmRhcmRDb252ZXJzaW9uKGZyb206IFR5cGVkRXhwcmVzc2lvbiwgdG9UeXBlOiBUeXBlLCBvcHRpb25zOiBTdGFuZGFyZENvbnZlcnNpb25PcHRpb25zID0ge30pIHtcclxuXHJcbiAgICAvLyBVbmxlc3MgdGhlIG9iamVjdCBpcyBhdG9taWMgdHlwZWQgb3IgaXMgYW4gYXJyYXksIExvYnN0ZXIgY3VycmVudGx5IGRvZXNuJ3Qgc3VwcG9ydFxyXG4gICAgLy8gYW55IHN0YW5kYXJkIGNvbnZlcnNpb25zLiBOb3RlIGluIHBhcnRpY3VsYXIgdGhpcyBtZWFucyB1c2VyLWRlZmluZWQgY29udmVyaXNvbiBmdW5jdGlvbnNcclxuICAgIC8vIGZvciBjbGFzcy10eXBlZCBvYmplY3RzIGFyZSBub3Qgc3VwcG9ydGVkLlxyXG4gICAgaWYgKCEoZnJvbS5pc0F0b21pY1R5cGVkKCkgfHwgZnJvbS5pc0JvdW5kZWRBcnJheVR5cGVkKCkpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZyb207XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF0b1R5cGUuaXNBdG9taWNUeXBlKCkpIHtcclxuICAgICAgICByZXR1cm4gZnJvbTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIW9wdGlvbnMuc3VwcHJlc3NMVFIpIHtcclxuICAgICAgICBsZXQgZnJvbVBydmFsdWUgPSBjb252ZXJ0VG9QUlZhbHVlKGZyb20pO1xyXG4gICAgICAgIGZyb21QcnZhbHVlID0gdHlwZUNvbnZlcnNpb24oZnJvbVBydmFsdWUsIHRvVHlwZSk7XHJcbiAgICAgICAgZnJvbVBydmFsdWUgPSBxdWFsaWZpY2F0aW9uQ29udmVyc2lvbihmcm9tUHJ2YWx1ZSwgdG9UeXBlKTtcclxuICAgICAgICByZXR1cm4gZnJvbVBydmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZyb207XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW50ZWdyYWxQcm9tb3Rpb24oZXhwcjogVHlwZWRFeHByZXNzaW9uPEludGVncmFsVHlwZSwgXCJwcnZhbHVlXCI+KSB7XHJcbiAgICBpZiAoZXhwci5pc0ludGVncmFsVHlwZWQoKSAmJiAhZXhwci5pc1R5cGVkKEludCkpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEludGVncmFsUHJvbW90aW9uKGV4cHIsIEludC5JTlQpO1xyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgICByZXR1cm4gZXhwcjtcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1c3VhbEFyaXRobWV0aWNDb252ZXJzaW9ucyhsZWZ0T3JpZzogU3BlY2lmaWNUeXBlZEV4cHJlc3Npb248QXJpdGhtZXRpY1R5cGU+LCByaWdodE9yaWc6IFNwZWNpZmljVHlwZWRFeHByZXNzaW9uPEFyaXRobWV0aWNUeXBlPikge1xyXG4gICAgXHJcbiAgICBsZXQgbGVmdCA9IGNvbnZlcnRUb1BSVmFsdWUobGVmdE9yaWcpO1xyXG4gICAgbGV0IHJpZ2h0ID0gY29udmVydFRvUFJWYWx1ZShyaWdodE9yaWcpO1xyXG5cclxuICAgIC8vIFRPRE8gSWYgZWl0aGVyIGhhcyBzY29wZWQgZW51bWVyYXRpb24gdHlwZSwgbm8gY29udmVyc2lvbnMgYXJlIHBlcmZvcm1lZFxyXG5cclxuICAgIC8vIFRPRE8gSWYgZWl0aGVyIGlzIGxvbmcgZG91YmxlLCB0aGUgb3RoZXIgc2hhbGwgYmUgY29udmVydGVkIHRvIGxvbmcgZG91YmxlXHJcblxyXG4gICAgLy8gSWYgZWl0aGVyIGlzIGRvdWJsZSwgdGhlIG90aGVyIHNoYWxsIGJlIGNvbnZlcnRlZCB0byBkb3VibGVcclxuICAgIGlmIChsZWZ0LmlzVHlwZWQoRG91YmxlKSkge1xyXG4gICAgICAgIHJpZ2h0ID0gdHlwZUNvbnZlcnNpb24ocmlnaHQsIERvdWJsZS5ET1VCTEUpO1xyXG4gICAgICAgIHJldHVybiBbbGVmdCwgcmlnaHRdO1xyXG4gICAgfVxyXG4gICAgaWYgKHJpZ2h0LmlzVHlwZWQoRG91YmxlKSkge1xyXG4gICAgICAgIGxlZnQgPSB0eXBlQ29udmVyc2lvbihsZWZ0LCBEb3VibGUuRE9VQkxFKTtcclxuICAgICAgICByZXR1cm4gW2xlZnQsIHJpZ2h0XTtcclxuICAgIH1cclxuICAgIC8vIElmIGVpdGhlciBpcyBmbG9hdCwgdGhlIG90aGVyIHNoYWxsIGJlIGNvbnZlcnRlZCB0byBmbG9hdFxyXG5cclxuICAgIGlmIChsZWZ0LmlzVHlwZWQoRmxvYXQpKSB7XHJcbiAgICAgICAgcmlnaHQgPSB0eXBlQ29udmVyc2lvbihyaWdodCwgRmxvYXQuRkxPQVQpO1xyXG4gICAgICAgIHJldHVybiBbbGVmdCwgcmlnaHRdO1xyXG4gICAgfVxyXG4gICAgaWYgKHJpZ2h0LmlzVHlwZWQoRmxvYXQpKSB7XHJcbiAgICAgICAgbGVmdCA9IHR5cGVDb252ZXJzaW9uKGxlZnQsIEZsb2F0LkZMT0FUKTtcclxuICAgICAgICByZXR1cm4gW2xlZnQsIHJpZ2h0XTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBPdGhlcndpc2UsIGRvIGludGVncmFsIHByb21vdGlvbnNcclxuICAgIGlmIChsZWZ0LmlzSW50ZWdyYWxUeXBlZCgpKSB7XHJcbiAgICAgICAgbGVmdCA9IGludGVncmFsUHJvbW90aW9uKGxlZnQpO1xyXG4gICAgfVxyXG4gICAgaWYgKHJpZ2h0LmlzSW50ZWdyYWxUeXBlZCgpKSB7XHJcbiAgICAgICAgcmlnaHQgPSBpbnRlZ3JhbFByb21vdGlvbihyaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgYm90aCBvcGVyYW5kcyBoYXZlIHRoZSBzYW1lIHR5cGUsIG5vIGZ1cnRoZXIgY29udmVyc2lvbiBpcyBuZWVkZWRcclxuICAgIGlmIChzYW1lVHlwZShsZWZ0LnR5cGUsIHJpZ2h0LnR5cGUpKXtcclxuICAgICAgICByZXR1cm4gW2xlZnQsIHJpZ2h0XTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPOiBPdGhlcndpc2UsIGlmIGJvdGggb3BlcmFuZHMgaGF2ZSBzaWduZWQgb3IgYm90aCBoYXZlIHVuc2lnbmVkIHR5cGVzLFxyXG4gICAgLy8gb3BlcmFuZCB3aXRoIHR5cGUgb2YgbGVzc2VyIGludGVnZXIgY29udmVyc2lvbiByYW5rIHNoYWxsIGJlIGNvbnZlcnRlZFxyXG4gICAgLy8gdG8gdGhlIHR5cGUgb2YgdGhlIG9wZXJhbmQgd2l0aCBncmVhdGVyIHJhbmtcclxuICAgIHJldHVybiBbbGVmdCwgcmlnaHRdO1xyXG59XHJcblxyXG4iLCJpbXBvcnQgeyBBU1ROb2RlLCBQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQsIFJ1bnRpbWVQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiwgVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgUnVudGltZUNvbnN0cnVjdCwgQ1BQQ29uc3RydWN0LCBDb21waWxlZFRlbXBvcmFyeURlYWxsb2NhdG9yIH0gZnJvbSBcIi4vY29uc3RydWN0c1wiO1xyXG5pbXBvcnQgeyBFeHByZXNzaW9uQVNUTm9kZSB9IGZyb20gXCIuL2V4cHJlc3Npb25zXCI7XHJcbmltcG9ydCB7IE9iamVjdEVudGl0eSwgVW5ib3VuZFJlZmVyZW5jZUVudGl0eSwgQXJyYXlTdWJvYmplY3RFbnRpdHkgfSBmcm9tIFwiLi9lbnRpdGllc1wiO1xyXG5pbXBvcnQgeyBPYmplY3RUeXBlLCBBdG9taWNUeXBlLCBCb3VuZGVkQXJyYXlUeXBlLCByZWZlcmVuY2VDb21wYXRpYmxlLCBzYW1lVHlwZSB9IGZyb20gXCIuL3R5cGVzXCI7XHJcbmltcG9ydCB7IGFzc2VydEZhbHNlIH0gZnJvbSBcIi4uL3V0aWwvdXRpbFwiO1xyXG5pbXBvcnQgeyBDUFBFcnJvciB9IGZyb20gXCIuL2Vycm9yc1wiO1xyXG5pbXBvcnQgeyBTaW11bGF0aW9uIH0gZnJvbSBcIi4vU2ltdWxhdGlvblwiO1xyXG5pbXBvcnQgeyBDUFBPYmplY3QgfSBmcm9tIFwiLi9vYmplY3RzXCI7XHJcbmltcG9ydCB7IHN0YW5kYXJkQ29udmVyc2lvbiB9IGZyb20gXCIuL3N0YW5kYXJkQ29udmVyc2lvbnNcIjtcclxuaW1wb3J0IHsgRXhwcmVzc2lvbiwgQ29tcGlsZWRFeHByZXNzaW9uLCBSdW50aW1lRXhwcmVzc2lvbiB9IGZyb20gXCIuL2V4cHJlc3Npb25CYXNlXCI7XHJcblxyXG5leHBvcnQgdHlwZSBJbml0aWFsaXplckFTVE5vZGUgPSBEaXJlY3RJbml0aWFsaXplckFTVE5vZGUgfCBDb3B5SW5pdGlhbGl6ZXJBU1ROb2RlO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEluaXRpYWxpemVyIGV4dGVuZHMgUG90ZW50aWFsRnVsbEV4cHJlc3Npb24ge1xyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCByZWFkb25seSB0YXJnZXQ6IE9iamVjdEVudGl0eSB8IFVuYm91bmRSZWZlcmVuY2VFbnRpdHk7XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IGNyZWF0ZVJ1bnRpbWVJbml0aWFsaXplcihwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZUluaXRpYWxpemVyO1xyXG5cclxuICAgIHB1YmxpYyBpc1RhaWxDaGlsZChjaGlsZDogQ1BQQ29uc3RydWN0KSB7XHJcbiAgICAgICAgcmV0dXJuIHtpc1RhaWw6IHRydWV9O1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZEluaXRpYWxpemVyPFQgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZT4gZXh0ZW5kcyBJbml0aWFsaXplciwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4gICAgcmVhZG9ubHkgdGVtcG9yYXJ5RGVhbGxvY2F0b3I/OiBDb21waWxlZFRlbXBvcmFyeURlYWxsb2NhdG9yOyAvLyB0byBtYXRjaCBDb21waWxlZFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uIHN0cnVjdHVyZVxyXG4gICAgcmVhZG9ubHkgdGFyZ2V0OiBPYmplY3RFbnRpdHk8VD4gfCBVbmJvdW5kUmVmZXJlbmNlRW50aXR5PFQ+O1xyXG59IFxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFJ1bnRpbWVJbml0aWFsaXplcjxDIGV4dGVuZHMgQ29tcGlsZWRJbml0aWFsaXplciA9IENvbXBpbGVkSW5pdGlhbGl6ZXI+IGV4dGVuZHMgUnVudGltZVBvdGVudGlhbEZ1bGxFeHByZXNzaW9uPEM+IHtcclxuXHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IgKG1vZGVsOiBDLCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICBzdXBlcihtb2RlbCwgXCJpbml0aWFsaXplclwiLCBwYXJlbnQpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBEZWZhdWx0SW5pdGlhbGl6ZXIgZXh0ZW5kcyBJbml0aWFsaXplciB7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGUoY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgdGFyZ2V0OiBVbmJvdW5kUmVmZXJlbmNlRW50aXR5KSA6IFJlZmVyZW5jZURlZmF1bHRJbml0aWFsaXplcjtcclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIHRhcmdldDogT2JqZWN0RW50aXR5PEF0b21pY1R5cGU+KSA6IEF0b21pY0RlZmF1bHRJbml0aWFsaXplcjtcclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIHRhcmdldDogT2JqZWN0RW50aXR5PEJvdW5kZWRBcnJheVR5cGU+KSA6IEFycmF5RGVmYXVsdEluaXRpYWxpemVyO1xyXG4gICAgLy8gcHVibGljIHN0YXRpYyBjcmVhdGUoY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgdGFyZ2V0OiBPYmplY3RFbnRpdHk8Q2xhc3NUeXBlPikgOiBDbGFzc0RlZmF1bHRJbml0aWFsaXplcjtcclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIHRhcmdldDogT2JqZWN0RW50aXR5PE9iamVjdFR5cGU+KSA6IERlZmF1bHRJbml0aWFsaXplcjtcclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIHRhcmdldDogT2JqZWN0RW50aXR5IHwgVW5ib3VuZFJlZmVyZW5jZUVudGl0eSkgOiBEZWZhdWx0SW5pdGlhbGl6ZXIge1xyXG4gICAgICAgIGlmICgoPFVuYm91bmRSZWZlcmVuY2VFbnRpdHk+dGFyZ2V0KS5iaW5kVG8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWZlcmVuY2VEZWZhdWx0SW5pdGlhbGl6ZXIoY29udGV4dCwgPFVuYm91bmRSZWZlcmVuY2VFbnRpdHk+IHRhcmdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRhcmdldC50eXBlIGluc3RhbmNlb2YgQXRvbWljVHlwZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEF0b21pY0RlZmF1bHRJbml0aWFsaXplcihjb250ZXh0LCA8T2JqZWN0RW50aXR5PEF0b21pY1R5cGU+PiB0YXJnZXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0YXJnZXQudHlwZSBpbnN0YW5jZW9mIEJvdW5kZWRBcnJheVR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBBcnJheURlZmF1bHRJbml0aWFsaXplcihjb250ZXh0LCA8T2JqZWN0RW50aXR5PEJvdW5kZWRBcnJheVR5cGU+PiB0YXJnZXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBlbHNlIGlmICh0YXJnZXQudHlwZSBpbnN0YW5jZW9mIENsYXNzVHlwZSkge1xyXG4gICAgICAgIC8vICAgICByZXR1cm4gbmV3IENsYXNzRGVmYXVsdEluaXRpYWxpemVyKGNvbnRleHQsIDxPYmplY3RFbnRpdHk8Q2xhc3NUeXBlPj4gdGFyZ2V0KTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIGFzc2VydEZhbHNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBjcmVhdGVSdW50aW1lSW5pdGlhbGl6ZXI8VCBleHRlbmRzIE9iamVjdFR5cGU+KHRoaXM6IENvbXBpbGVkRGVmYXVsdEluaXRpYWxpemVyPFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZURlZmF1bHRJbml0aWFsaXplcjxUPjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZERlZmF1bHRJbml0aWFsaXplcjxUIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGU+IGV4dGVuZHMgRGVmYXVsdEluaXRpYWxpemVyLCBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcbiAgICByZWFkb25seSB0ZW1wb3JhcnlEZWFsbG9jYXRvcj86IENvbXBpbGVkVGVtcG9yYXJ5RGVhbGxvY2F0b3I7IC8vIHRvIG1hdGNoIENvbXBpbGVkUG90ZW50aWFsRnVsbEV4cHJlc3Npb24gc3RydWN0dXJlXHJcbiAgICByZWFkb25seSB0YXJnZXQ6IE9iamVjdEVudGl0eTxUPjtcclxufVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFJ1bnRpbWVEZWZhdWx0SW5pdGlhbGl6ZXI8VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlLCBDIGV4dGVuZHMgQ29tcGlsZWREZWZhdWx0SW5pdGlhbGl6ZXI8VD4gPSBDb21waWxlZERlZmF1bHRJbml0aWFsaXplcjxUPj4gZXh0ZW5kcyBSdW50aW1lSW5pdGlhbGl6ZXI8Qz4ge1xyXG5cclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvciAobW9kZWw6IEMsIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgICAgIHN1cGVyKG1vZGVsLCBwYXJlbnQpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUmVmZXJlbmNlRGVmYXVsdEluaXRpYWxpemVyIGV4dGVuZHMgRGVmYXVsdEluaXRpYWxpemVyIHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGFyZ2V0OiBVbmJvdW5kUmVmZXJlbmNlRW50aXR5O1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCB0YXJnZXQ6IFVuYm91bmRSZWZlcmVuY2VFbnRpdHkpIHtcclxuICAgICAgICBzdXBlcihjb250ZXh0KTtcclxuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcclxuXHJcbiAgICAgICAgLy8gQ2Fubm90IGRlZmF1bHQgaW5pdGlhbGl6ZSBhIHJlZmVyZW5jZVxyXG4gICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5pbml0LnJlZmVyZW5jZUJpbmQodGhpcykpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lSW5pdGlhbGl6ZXIocGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IG5ldmVyIHtcclxuICAgICAgICByZXR1cm4gYXNzZXJ0RmFsc2UoXCJBIGRlZmF1bHQgaW5pdGlhbGl6ZXIgZm9yIGEgcmVmZXJlbmNlIGlzIG5vdCBhbGxvd2VkLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZXhwbGFpbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KSA6IG5ldmVyIHtcclxuICAgICAgICByZXR1cm4gYXNzZXJ0RmFsc2UoXCJBIGRlZmF1bHQgaW5pdGlhbGl6ZXIgZm9yIGEgcmVmZXJlbmNlIGlzIG5vdCBhbGxvd2VkLlwiKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gTm90ZTogTm8gQ29tcGlsZWRSZWZlcmVuY2VEZWZhdWx0SW5pdGlhbGl6ZXIgb3IgUnVudGltZVJlZmVyZW5jZURlZmF1bHRJbml0aWFsaXplciBjbGFzc2VzIHNpbmNlXHJcbi8vICAgICAgIGRlZmF1bHQgaW5pdGlhbGl6YXRpb24gb2YgYSByZWZlcmVuY2UgaXMgYWx3YXlzIGlsbC1mb3JtZWQuXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEF0b21pY0RlZmF1bHRJbml0aWFsaXplciBleHRlbmRzIERlZmF1bHRJbml0aWFsaXplciB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHRhcmdldDogT2JqZWN0RW50aXR5PEF0b21pY1R5cGU+O1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCB0YXJnZXQ6IE9iamVjdEVudGl0eTxBdG9taWNUeXBlPikge1xyXG4gICAgICAgIHN1cGVyKGNvbnRleHQpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lSW5pdGlhbGl6ZXI8VCBleHRlbmRzIEF0b21pY1R5cGU+KHRoaXM6IENvbXBpbGVkQXRvbWljRGVmYXVsdEluaXRpYWxpemVyPFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZUF0b21pY0RlZmF1bHRJbml0aWFsaXplcjxUPjtcclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lSW5pdGlhbGl6ZXI8VCBleHRlbmRzIE9iamVjdFR5cGU+KHRoaXM6IENvbXBpbGVkRGVmYXVsdEluaXRpYWxpemVyPFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogbmV2ZXI7XHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUluaXRpYWxpemVyPFQgZXh0ZW5kcyBBdG9taWNUeXBlPih0aGlzOiBDb21waWxlZEF0b21pY0RlZmF1bHRJbml0aWFsaXplcjxUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVBdG9taWNEZWZhdWx0SW5pdGlhbGl6ZXI8VD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUnVudGltZUF0b21pY0RlZmF1bHRJbml0aWFsaXplcih0aGlzLCBwYXJlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBleHBsYWluKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICBsZXQgdGFyZ2V0RGVzYyA9IHRoaXMudGFyZ2V0LmRlc2NyaWJlKCk7XHJcbiAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcIk5vIGluaXRpYWxpemF0aW9uIHdpbGwgdGFrZSBwbGFjZS4gXCIgKyAodGFyZ2V0RGVzYy5uYW1lIHx8IHRhcmdldERlc2MubWVzc2FnZSkgKyBcIiB3aWxsIGhhdmUgYSBqdW5rIHZhbHVlLlwifTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZEF0b21pY0RlZmF1bHRJbml0aWFsaXplcjxUIGV4dGVuZHMgQXRvbWljVHlwZSA9IEF0b21pY1R5cGU+IGV4dGVuZHMgQXRvbWljRGVmYXVsdEluaXRpYWxpemVyLCBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcbiAgICByZWFkb25seSB0ZW1wb3JhcnlEZWFsbG9jYXRvcj86IENvbXBpbGVkVGVtcG9yYXJ5RGVhbGxvY2F0b3I7IC8vIHRvIG1hdGNoIENvbXBpbGVkUG90ZW50aWFsRnVsbEV4cHJlc3Npb24gc3RydWN0dXJlXHJcbiAgICByZWFkb25seSB0YXJnZXQ6IE9iamVjdEVudGl0eTxUPjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJ1bnRpbWVBdG9taWNEZWZhdWx0SW5pdGlhbGl6ZXI8VCBleHRlbmRzIEF0b21pY1R5cGUgPSBBdG9taWNUeXBlPiBleHRlbmRzIFJ1bnRpbWVEZWZhdWx0SW5pdGlhbGl6ZXI8VCwgQ29tcGlsZWRBdG9taWNEZWZhdWx0SW5pdGlhbGl6ZXI8VD4+IHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGFyZ2V0OiBDUFBPYmplY3Q8VD47XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChtb2RlbDogQ29tcGlsZWRBdG9taWNEZWZhdWx0SW5pdGlhbGl6ZXI8VD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgICAgIHN1cGVyKG1vZGVsLCBwYXJlbnQpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5tb2RlbC50YXJnZXQucnVudGltZUxvb2t1cCh0aGlzKTtcclxuICAgIH1cclxuXHRcclxuICAgIHByb3RlY3RlZCB1cE5leHRJbXBsKCkge1xyXG4gICAgICAgIC8vIE5vIGluaXRpYWxpemF0aW9uLiBPYmplY3QgaGFzIGp1bmsgdmFsdWUuXHJcbiAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJpbml0aWFsaXplZFwiLCB0aGlzLnRhcmdldCk7XHJcbiAgICAgICAgdGhpcy5zaW0ucG9wKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0ZXBGb3J3YXJkSW1wbCgpIHtcclxuICAgICAgICAvLyBkbyBub3RoaW5nXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBcnJheURlZmF1bHRJbml0aWFsaXplciBleHRlbmRzIERlZmF1bHRJbml0aWFsaXplciB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHRhcmdldDogT2JqZWN0RW50aXR5PEJvdW5kZWRBcnJheVR5cGU+O1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGVsZW1lbnRJbml0aWFsaXplcnM/OiBEZWZhdWx0SW5pdGlhbGl6ZXJbXTtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgdGFyZ2V0OiBPYmplY3RFbnRpdHk8Qm91bmRlZEFycmF5VHlwZT4pIHtcclxuICAgICAgICBzdXBlcihjb250ZXh0KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcclxuXHJcbiAgICAgICAgLy8gSWYgaXQncyBhbiBhcnJheSBvZiBhdG9taWMgdHlwZXMsIGRvIG5vdGhpbmcuXHJcbiAgICAgICAgbGV0IHR5cGUgPSB0aGlzLnRhcmdldC50eXBlO1xyXG4gICAgICAgIGlmICh0eXBlLmVsZW1UeXBlIGluc3RhbmNlb2YgQXRvbWljVHlwZSkge1xyXG4gICAgICAgICAgICAvLyBEbyBub3RoaW5nXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRJbml0aWFsaXplcnMgPSBbXTtcclxuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHR5cGUubGVuZ3RoOyArK2kpe1xyXG4gICAgICAgICAgICAgICAgbGV0IGVsZW1Jbml0ID0gRGVmYXVsdEluaXRpYWxpemVyLmNyZWF0ZShjb250ZXh0LCBuZXcgQXJyYXlTdWJvYmplY3RFbnRpdHkodGhpcy50YXJnZXQsIGkpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudEluaXRpYWxpemVycy5wdXNoKGVsZW1Jbml0KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNoKGVsZW1Jbml0KTtcclxuICAgICAgICAgICAgICAgIGlmIChlbGVtSW5pdC5oYXNFcnJvcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uaW5pdC5hcnJheV9kZWZhdWx0X2luaXQodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUluaXRpYWxpemVyPFQgZXh0ZW5kcyBCb3VuZGVkQXJyYXlUeXBlPih0aGlzOiBDb21waWxlZEFycmF5RGVmYXVsdEluaXRpYWxpemVyPFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZUFycmF5RGVmYXVsdEluaXRpYWxpemVyPFQ+O1xyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVJbml0aWFsaXplcjxUIGV4dGVuZHMgT2JqZWN0VHlwZT4odGhpczogQ29tcGlsZWREZWZhdWx0SW5pdGlhbGl6ZXI8VD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBuZXZlcjtcclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lSW5pdGlhbGl6ZXI8VCBleHRlbmRzIEJvdW5kZWRBcnJheVR5cGU+KHRoaXM6IENvbXBpbGVkQXJyYXlEZWZhdWx0SW5pdGlhbGl6ZXI8VD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lQXJyYXlEZWZhdWx0SW5pdGlhbGl6ZXI8VD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUnVudGltZUFycmF5RGVmYXVsdEluaXRpYWxpemVyKHRoaXMsIHBhcmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGV4cGxhaW4oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgICAgIGxldCB0YXJnZXREZXNjID0gdGhpcy50YXJnZXQuZGVzY3JpYmUoKTtcclxuICAgICAgICBsZXQgdGFyZ2V0VHlwZSA9IHRoaXMudGFyZ2V0LnR5cGU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRhcmdldFR5cGUubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJObyBpbml0aWFsaXphdGlvbiBpcyBwZXJmb3JtZWQgZm9yIFwiICsgKHRhcmdldERlc2MubmFtZSB8fCB0YXJnZXREZXNjLm1lc3NhZ2UpICsgXCJiZWNhdXNlIHRoZSBhcnJheSBoYXMgbGVuZ3RoIDAuXCJ9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0YXJnZXRUeXBlLmVsZW1UeXBlIGluc3RhbmNlb2YgQXRvbWljVHlwZSkge1xyXG4gICAgICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwiTm8gaW5pdGlhbGl6YXRpb24gd2lsbCB0YWtlIHBsYWNlLiBUaGUgZWxlbWVudHMgb2YgXCIgKyAodGFyZ2V0RGVzYy5uYW1lIHx8IHRhcmdldERlc2MubWVzc2FnZSkgKyBcIiB3aWxsIGhhdmUganVuayB2YWx1ZXMuXCIgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7bWVzc2FnZTogXCJFYWNoIGVsZW1lbnQgb2YgXCIgKyAodGFyZ2V0RGVzYy5uYW1lIHx8IHRhcmdldERlc2MubWVzc2FnZSkgKyBcIiB3aWxsIGJlIGRlZmF1bHQtaW5pdGlhbGl6ZWQuIEZvciBleGFtcGxlLCBcIiArXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRJbml0aWFsaXplcnMhWzBdLmV4cGxhaW4oc2ltLCBydENvbnN0cnVjdCkgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkQXJyYXlEZWZhdWx0SW5pdGlhbGl6ZXI8VCBleHRlbmRzIEJvdW5kZWRBcnJheVR5cGUgPSBCb3VuZGVkQXJyYXlUeXBlPiBleHRlbmRzIEFycmF5RGVmYXVsdEluaXRpYWxpemVyLCBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcbiAgICByZWFkb25seSB0ZW1wb3JhcnlEZWFsbG9jYXRvcj86IENvbXBpbGVkVGVtcG9yYXJ5RGVhbGxvY2F0b3I7IC8vIHRvIG1hdGNoIENvbXBpbGVkUG90ZW50aWFsRnVsbEV4cHJlc3Npb24gc3RydWN0dXJlXHJcbiAgICByZWFkb25seSB0YXJnZXQ6IE9iamVjdEVudGl0eTxUPjtcclxuICAgIHJlYWRvbmx5IGVsZW1lbnRJbml0aWFsaXplcnM/OiBDb21waWxlZERlZmF1bHRJbml0aWFsaXplcjxUW1wiZWxlbVR5cGVcIl0+W107XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBSdW50aW1lQXJyYXlEZWZhdWx0SW5pdGlhbGl6ZXI8VCBleHRlbmRzIEJvdW5kZWRBcnJheVR5cGUgPSBCb3VuZGVkQXJyYXlUeXBlPiBleHRlbmRzIFJ1bnRpbWVEZWZhdWx0SW5pdGlhbGl6ZXI8VCwgQ29tcGlsZWRBcnJheURlZmF1bHRJbml0aWFsaXplcjxUPj4ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSB0YXJnZXQ6IENQUE9iamVjdDxUPjtcclxuICAgIHB1YmxpYyByZWFkb25seSBlbGVtZW50SW5pdGlhbGl6ZXJzPzogUnVudGltZURlZmF1bHRJbml0aWFsaXplcjxUW1wiZWxlbVR5cGVcIl0+W107XHJcblxyXG4gICAgcHJpdmF0ZSBpbmRleCA9IDA7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChtb2RlbDogQ29tcGlsZWRBcnJheURlZmF1bHRJbml0aWFsaXplcjxUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgc3VwZXIobW9kZWwsIHBhcmVudCk7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLm1vZGVsLnRhcmdldC5ydW50aW1lTG9va3VwKHRoaXMpO1xyXG4gICAgICAgIGlmICh0aGlzLm1vZGVsLmVsZW1lbnRJbml0aWFsaXplcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50SW5pdGlhbGl6ZXJzID0gdGhpcy5tb2RlbC5lbGVtZW50SW5pdGlhbGl6ZXJzLm1hcCgoZWxlbUluaXQpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtSW5pdC5jcmVhdGVSdW50aW1lSW5pdGlhbGl6ZXIodGhpcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHRcclxuICAgIHByb3RlY3RlZCB1cE5leHRJbXBsKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRJbml0aWFsaXplcnMgJiYgdGhpcy5pbmRleCA8IHRoaXMuZWxlbWVudEluaXRpYWxpemVycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5zaW0ucHVzaCh0aGlzLmVsZW1lbnRJbml0aWFsaXplcnNbdGhpcy5pbmRleCsrXSlcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwiaW5pdGlhbGl6ZWRcIiwgdGhpcy50YXJnZXQpO1xyXG4gICAgICAgICAgICB0aGlzLnNpbS5wb3AoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0ZXBGb3J3YXJkSW1wbCgpIHtcclxuICAgICAgICAvLyBkbyBub3RoaW5nXHJcbiAgICB9XHJcbiAgICBcclxufVxyXG5cclxuLy8gZXhwb3J0IGNsYXNzIENsYXNzRGVmYXVsdEluaXRpYWxpemVyIGV4dGVuZHMgRGVmYXVsdEluaXRpYWxpemVyIHtcclxuXHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgdGFyZ2V0OiBPYmplY3RFbnRpdHk8Q2xhc3NUeXBlPjtcclxuLy8gICAgIHB1YmxpYyByZWFkb25seSBjdG9yOiBDb25zdHJ1Y3RvckVudGl0eT87XHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgY3RvckNhbGw6IE1lbWJlckZ1bmN0aW9uQ2FsbD87XHJcblxyXG4vLyAgICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIHRhcmdldDogT2JqZWN0RW50aXR5PENsYXNzVHlwZT4pIHtcclxuLy8gICAgICAgICBzdXBlcihjb250ZXh0KTtcclxuXHJcbi8vICAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcblxyXG4vLyAgICAgICAgIC8vIFRyeSB0byBmaW5kIGRlZmF1bHQgY29uc3RydWN0b3IuIE5vdCB1c2luZyBsb29rdXAgYmVjYXVzZSBjb25zdHJ1Y3RvcnMgaGF2ZSBubyBuYW1lLlxyXG4vLyAgICAgICAgIHRoaXMuY3RvciA9IG92ZXJsb2FkUmVzb2x1dGlvbih0YXJnZXQudHlwZS5jcHBDbGFzcy5jdG9ycywgW10pO1xyXG4vLyAgICAgICAgIGlmICghdGhpcy5jdG9yKSB7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5pbml0Lm5vX2RlZmF1bHRfY29uc3RydWN0b3IodGhpcywgdGhpcy50YXJnZXQpKTtcclxuLy8gICAgICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICAgIH1cclxuICAgICAgICBcclxuLy8gICAgICAgICAvL01lbWJlckZ1bmN0aW9uQ2FsbCBhcmdzIGFyZTogY29udGV4dCwgZnVuY3Rpb24gdG8gY2FsbCwgcmVjZWl2ZXIsIGN0b3IgYXJnc1xyXG4vLyAgICAgICAgIHRoaXMuY3RvckNhbGwgPSBuZXcgTWVtYmVyRnVuY3Rpb25DYWxsKGNvbnRleHQsIHRoaXMuY3RvciwgdGhpcy50YXJnZXQsIFtdKTtcclxuLy8gICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLmN0b3JDYWxsKTtcclxuLy8gICAgICAgICAvLyB0aGlzLmFyZ3MgPSB0aGlzLmN0b3JDYWxsLmFyZ3M7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVJbml0aWFsaXplcjxUIGV4dGVuZHMgQ2xhc3NUeXBlPih0aGlzOiBDb21waWxlZENsYXNzRGVmYXVsdEluaXRpYWxpemVyPFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZUNsYXNzRGVmYXVsdEluaXRpYWxpemVyPFQ+O1xyXG4vLyAgICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVJbml0aWFsaXplcjxUIGV4dGVuZHMgT2JqZWN0VHlwZT4odGhpczogQ29tcGlsZWREZWZhdWx0SW5pdGlhbGl6ZXI8VD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBuZXZlcjtcclxuLy8gICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lSW5pdGlhbGl6ZXI8VCBleHRlbmRzIENsYXNzVHlwZT4odGhpczogQ29tcGlsZWRDbGFzc0RlZmF1bHRJbml0aWFsaXplcjxUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVDbGFzc0RlZmF1bHRJbml0aWFsaXplcjxUPiB7XHJcbi8vICAgICAgICAgcmV0dXJuIG5ldyBSdW50aW1lQ2xhc3NEZWZhdWx0SW5pdGlhbGl6ZXIodGhpcywgcGFyZW50KTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgZXhwbGFpbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbi8vICAgICAgICAgbGV0IHRhcmdldERlc2MgPSB0aGlzLnRhcmdldC5kZXNjcmliZSgpO1xyXG4vLyAgICAgICAgIC8vIFRPRE86IHdoYXQgaWYgdGhlcmUgaXMgYW4gZXJyb3IgdGhhdCBjYXVzZXMgbm8gY3RvciB0byBiZSBmb3VuZC9hdmFpbGFibGVcclxuLy8gICAgICAgICByZXR1cm4ge21lc3NhZ2U6ICh0YXJnZXREZXNjLm5hbWUgfHwgdGFyZ2V0RGVzYy5tZXNzYWdlKSArIFwiIHdpbGwgYmUgaW5pdGlhbGl6ZWQgdXNpbmcgXCIgKyB0aGlzLmN0b3JDYWxsLmRlc2NyaWJlKCkubWVzc2FnZX07XHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcbi8vIGV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRDbGFzc0RlZmF1bHRJbml0aWFsaXplcjxUIGV4dGVuZHMgQ2xhc3NUeXBlID0gQ2xhc3NUeXBlPiBleHRlbmRzIENsYXNzRGVmYXVsdEluaXRpYWxpemVyLCBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcblxyXG4vLyAgICAgcmVhZG9ubHkgdGFyZ2V0OiBPYmplY3RFbnRpdHk8VD47XHJcbi8vICAgICByZWFkb25seSBjdG9yOiBDb25zdHJ1Y3RvckVudGl0eTxUPjtcclxuLy8gICAgIHJlYWRvbmx5IGN0b3JDYWxsOiBDb21waWxlZEZ1bmN0aW9uQ2FsbDxWb2lkVHlwZSwgXCJwcnZhbHVlXCI+O1xyXG4vLyB9XHJcblxyXG4vLyBleHBvcnQgY2xhc3MgUnVudGltZUNsYXNzRGVmYXVsdEluaXRpYWxpemVyPFQgZXh0ZW5kcyBDbGFzc1R5cGUgPSBDbGFzc1R5cGU+IGV4dGVuZHMgUnVudGltZURlZmF1bHRJbml0aWFsaXplcjxULCBDb21waWxlZENsYXNzRGVmYXVsdEluaXRpYWxpemVyPFQ+PiB7XHJcblxyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IHRhcmdldDogQ1BQT2JqZWN0PENsYXNzVHlwZT47XHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgY3RvckNhbGw6IFJ1bnRpbWVGdW5jdGlvbkNhbGw8Vm9pZFR5cGUsIFwicHJ2YWx1ZVwiPjtcclxuXHJcbi8vICAgICBwcml2YXRlIGluZGV4ID0gXCJjYWxsQ3RvclwiO1xyXG4gICAgXHJcbi8vICAgICBwdWJsaWMgY29uc3RydWN0b3IgKG1vZGVsOiBDb21waWxlZENsYXNzRGVmYXVsdEluaXRpYWxpemVyPFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuLy8gICAgICAgICBzdXBlcihtb2RlbCwgcGFyZW50KTtcclxuLy8gICAgICAgICB0aGlzLnRhcmdldCA9IG1vZGVsLnRhcmdldC5ydW50aW1lTG9va3VwKHRoaXMpO1xyXG4vLyAgICAgICAgIHRoaXMuY3RvckNhbGwgPSB0aGlzLm1vZGVsLmN0b3JDYWxsLmNyZWF0ZVJ1bnRpbWVGdW5jdGlvbkNhbGwodGhpcyk7XHJcbi8vICAgICB9XHJcblx0XHJcbi8vICAgICBwcm90ZWN0ZWQgdXBOZXh0SW1wbCgpIHtcclxuLy8gICAgICAgICBpZiAodGhpcy5pbmRleCA9PT0gXCJjYWxsQ3RvclwiKSB7XHJcbi8vICAgICAgICAgICAgIHRoaXMuc2ltLnB1c2godGhpcy5jdG9yQ2FsbCk7XHJcbi8vICAgICAgICAgICAgIHRoaXMuaW5kZXggPSBcImRvbmVcIjtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZSB7XHJcbi8vICAgICAgICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwiaW5pdGlhbGl6ZWRcIiwgdGhpcy50YXJnZXQpO1xyXG4vLyAgICAgICAgICAgICB0aGlzLnNpbS5wb3AoKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHVibGljIHN0ZXBGb3J3YXJkSW1wbCgpIHtcclxuLy8gICAgICAgICAvLyBkbyBub3RoaW5nXHJcbi8vICAgICB9XHJcblxyXG4vLyB9XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIERpcmVjdEluaXRpYWxpemVyQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgY29uc3RydWN0X3R5cGU6IFwiZGlyZWN0X2luaXRpYWxpemVyXCI7XHJcbiAgICBhcmdzOiBFeHByZXNzaW9uQVNUTm9kZVtdO1xyXG59XHJcblxyXG5cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBEaXJlY3RJbml0aWFsaXplciBleHRlbmRzIEluaXRpYWxpemVyIHtcclxuXHJcbiAgICAvLyBOT1RFOiByZW1vdmVkIHNpbmNlIEkgZG9uJ3QgdGhpbmsgaXQgbWFrZXMgc2Vuc2UgdG8gY3JlYXRlIGFuIGluaXRpYWxpemVyIGRpcmVjdGx5IGZyb20gYW4gQVNUIChhbmQgaXQgZG9lc24ndCBtYXRjaCB0aGUgYmFzZSBzaWduYXR1cmUgb2YgQ1BQQ29uc3RydWN0LmNyZWF0ZUZyb21BU1QpXHJcbiAgICAvLyBwdWJsaWMgc3RhdGljIGNyZWF0ZUZyb21BU1Q8VCBleHRlbmRzIFR5cGU+KGFzdDogRGlyZWN0SW5pdGlhbGl6ZXJBU1ROb2RlLCBjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCB0YXJnZXQ6IE9iamVjdEVudGl0eTxUPikge1xyXG4gICAgLy8gICAgIHJldHVybiB0aGlzLmNyZWF0ZShjb250ZXh0LCB0YXJnZXQsXHJcbiAgICAvLyAgICAgICAgIGFzdC5hcmdzLm1hcCgoYSkgPT4ge1xyXG4gICAgLy8gICAgICAgICAgICAgcmV0dXJuIEV4cHJlc3Npb24uY3JlYXRlRnJvbUFTVChhLCBjb250ZXh0KTtcclxuICAgIC8vICAgICAgICAgfSlcclxuICAgIC8vICAgICApXHJcbiAgICAvLyB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGUoY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgdGFyZ2V0OiBVbmJvdW5kUmVmZXJlbmNlRW50aXR5LCBhcmdzOiByZWFkb25seSBFeHByZXNzaW9uW10pIDogUmVmZXJlbmNlRGlyZWN0SW5pdGlhbGl6ZXI7XHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCB0YXJnZXQ6IE9iamVjdEVudGl0eTxBdG9taWNUeXBlPiwgYXJnczogcmVhZG9ubHkgRXhwcmVzc2lvbltdKSA6IEF0b21pY0RpcmVjdEluaXRpYWxpemVyO1xyXG4gICAgLy8gcHVibGljIHN0YXRpYyBjcmVhdGUoY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgdGFyZ2V0OiBPYmplY3RFbnRpdHk8Qm91bmRlZEFycmF5VHlwZT4sIGFyZ3M6IHJlYWRvbmx5IEV4cHJlc3Npb25bXSkgOiBBcnJheURpcmVjdEluaXRpYWxpemVyO1xyXG4gICAgLy8gcHVibGljIHN0YXRpYyBjcmVhdGUoY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgdGFyZ2V0OiBPYmplY3RFbnRpdHk8Q2xhc3NUeXBlPiwgYXJnczogcmVhZG9ubHkgRXhwcmVzc2lvbltdKSA6IENsYXNzRGlyZWN0SW5pdGlhbGl6ZXI7XHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCB0YXJnZXQ6IE9iamVjdEVudGl0eSwgYXJnczogcmVhZG9ubHkgRXhwcmVzc2lvbltdKSA6IERpcmVjdEluaXRpYWxpemVyO1xyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGUoY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgdGFyZ2V0OiBPYmplY3RFbnRpdHkgfCBVbmJvdW5kUmVmZXJlbmNlRW50aXR5LCBhcmdzOiByZWFkb25seSBFeHByZXNzaW9uW10pIDogRGlyZWN0SW5pdGlhbGl6ZXIge1xyXG4gICAgICAgIGlmICgoPFVuYm91bmRSZWZlcmVuY2VFbnRpdHk+dGFyZ2V0KS5iaW5kVG8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWZlcmVuY2VEaXJlY3RJbml0aWFsaXplcihjb250ZXh0LCA8VW5ib3VuZFJlZmVyZW5jZUVudGl0eT50YXJnZXQsIGFyZ3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0YXJnZXQudHlwZSBpbnN0YW5jZW9mIEF0b21pY1R5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBBdG9taWNEaXJlY3RJbml0aWFsaXplcihjb250ZXh0LCA8T2JqZWN0RW50aXR5PEF0b21pY1R5cGU+PiB0YXJnZXQsIGFyZ3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBlbHNlIGlmICh0YXJnZXQudHlwZSBpbnN0YW5jZW9mIEJvdW5kZWRBcnJheVR5cGUpIHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuIG5ldyBBcnJheURpcmVjdEluaXRpYWxpemVyKGNvbnRleHQsIDxPYmplY3RFbnRpdHk8Qm91bmRlZEFycmF5VHlwZT4+IHRhcmdldCwgYXJncyk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGVsc2UgaWYgKHRhcmdldC50eXBlIGluc3RhbmNlb2YgQ2xhc3NUeXBlKSB7XHJcbiAgICAgICAgLy8gICAgIHJldHVybiBuZXcgQ2xhc3NEaXJlY3RJbml0aWFsaXplcihjb250ZXh0LCA8T2JqZWN0RW50aXR5PENsYXNzVHlwZT4+IHRhcmdldCwgYXJncyk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBhc3NlcnRGYWxzZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcmVhZG9ubHkgYXJnczogcmVhZG9ubHkgRXhwcmVzc2lvbltdO1xyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBjcmVhdGVSdW50aW1lSW5pdGlhbGl6ZXI8VCBleHRlbmRzIE9iamVjdFR5cGU+KHRoaXM6IENvbXBpbGVkRGlyZWN0SW5pdGlhbGl6ZXI8VD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lRGlyZWN0SW5pdGlhbGl6ZXI8VD47XHJcbn1cclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkRGlyZWN0SW5pdGlhbGl6ZXI8VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiBleHRlbmRzIERpcmVjdEluaXRpYWxpemVyLCBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcbiAgICByZWFkb25seSB0ZW1wb3JhcnlEZWFsbG9jYXRvcj86IENvbXBpbGVkVGVtcG9yYXJ5RGVhbGxvY2F0b3I7IC8vIHRvIG1hdGNoIENvbXBpbGVkUG90ZW50aWFsRnVsbEV4cHJlc3Npb24gc3RydWN0dXJlXHJcbiAgICByZWFkb25seSB0YXJnZXQ6IE9iamVjdEVudGl0eTxUPiB8IFVuYm91bmRSZWZlcmVuY2VFbnRpdHk8VD47XHJcbiAgICByZWFkb25seSBhcmdzOiByZWFkb25seSBDb21waWxlZEV4cHJlc3Npb25bXTtcclxufVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFJ1bnRpbWVEaXJlY3RJbml0aWFsaXplcjxUIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGUsIEMgZXh0ZW5kcyBDb21waWxlZERpcmVjdEluaXRpYWxpemVyPFQ+ID0gQ29tcGlsZWREaXJlY3RJbml0aWFsaXplcjxUPj4gZXh0ZW5kcyBSdW50aW1lSW5pdGlhbGl6ZXI8Qz4ge1xyXG5cclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvciAobW9kZWw6IEMsIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgICAgIHN1cGVyKG1vZGVsLCBwYXJlbnQpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBSZWZlcmVuY2VEaXJlY3RJbml0aWFsaXplciBleHRlbmRzIERpcmVjdEluaXRpYWxpemVyIHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGFyZ2V0OiBVbmJvdW5kUmVmZXJlbmNlRW50aXR5O1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGFyZ3M6IHJlYWRvbmx5IEV4cHJlc3Npb25bXTtcclxuICAgIHB1YmxpYyByZWFkb25seSBhcmc/OiBFeHByZXNzaW9uO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCB0YXJnZXQ6IFVuYm91bmRSZWZlcmVuY2VFbnRpdHksIGFyZ3M6IHJlYWRvbmx5IEV4cHJlc3Npb25bXSkge1xyXG4gICAgICAgIHN1cGVyKGNvbnRleHQpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYXJncyA9IGFyZ3M7XHJcbiAgICAgICAgYXJncy5mb3JFYWNoKChhKSA9PiB7dGhpcy5hdHRhY2goYSk7fSk7XHJcblxyXG4gICAgICAgIC8vIE5vdGU6IFdpdGggYSByZWZlcmVuY2UsIG5vIGNvbnZlcnNpb25zIGFyZSBkb25lXHJcbiAgICAgICAgaWYgKHRoaXMuYXJncy5sZW5ndGggPiAxKXtcclxuICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmluaXQucmVmZXJlbmNlQmluZE11bHRpcGxlKHRoaXMpKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFyZyA9IHRoaXMuYXJnc1swXTtcclxuICAgICAgICBpZiAoIXRoaXMuYXJnLmlzV2VsbFR5cGVkKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHRhcmdldFR5cGUgPSB0YXJnZXQudHlwZTtcclxuICAgICAgICBpZiAoIXJlZmVyZW5jZUNvbXBhdGlibGUodGhpcy5hcmcudHlwZSwgdGFyZ2V0VHlwZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmluaXQucmVmZXJlbmNlVHlwZSh0aGlzLCB0aGlzLmFyZy50eXBlLCB0YXJnZXRUeXBlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYXJnLnZhbHVlQ2F0ZWdvcnkgPT09IFwicHJ2YWx1ZVwiICYmICF0YXJnZXRUeXBlLmlzQ29uc3Qpe1xyXG4gICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uaW5pdC5yZWZlcmVuY2VQcnZhbHVlQ29uc3QodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmFyZy52YWx1ZUNhdGVnb3J5ID09PSBcInBydmFsdWVcIil7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5sb2JzdGVyLnJlZmVyZW5jZVBydmFsdWUodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUluaXRpYWxpemVyPFQgZXh0ZW5kcyBPYmplY3RUeXBlPih0aGlzOiBDb21waWxlZFJlZmVyZW5jZURpcmVjdEluaXRpYWxpemVyPFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZVJlZmVyZW5jZURpcmVjdEluaXRpYWxpemVyPFQ+O1xyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVJbml0aWFsaXplcjxUIGV4dGVuZHMgT2JqZWN0VHlwZT4odGhpczogQ29tcGlsZWREaXJlY3RJbml0aWFsaXplcjxUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IG5ldmVyO1xyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVJbml0aWFsaXplcjxUIGV4dGVuZHMgT2JqZWN0VHlwZT4odGhpczogYW55LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZVJlZmVyZW5jZURpcmVjdEluaXRpYWxpemVyPFQ+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFJ1bnRpbWVSZWZlcmVuY2VEaXJlY3RJbml0aWFsaXplcig8Q29tcGlsZWRSZWZlcmVuY2VEaXJlY3RJbml0aWFsaXplcjxUPj50aGlzLCBwYXJlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBleHBsYWluKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICBsZXQgdGFyZ2V0RGVzYyA9IHRoaXMudGFyZ2V0LmRlc2NyaWJlKCk7XHJcbiAgICAgICAgbGV0IHJoc0Rlc2MgPSB0aGlzLmFyZ3NbMF0uZGVzY3JpYmVFdmFsUmVzdWx0KDApO1xyXG4gICAgICAgIHJldHVybiB7bWVzc2FnZTogKHRhcmdldERlc2MubmFtZSB8fCB0YXJnZXREZXNjLm1lc3NhZ2UpICsgXCIgd2lsbCBiZSBib3VuZCB0byBcIiArIChyaHNEZXNjLm5hbWUgfHwgcmhzRGVzYy5tZXNzYWdlKSArIFwiLlwifTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZFJlZmVyZW5jZURpcmVjdEluaXRpYWxpemVyPFQgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZT4gZXh0ZW5kcyBSZWZlcmVuY2VEaXJlY3RJbml0aWFsaXplciwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4gICAgcmVhZG9ubHkgdGVtcG9yYXJ5RGVhbGxvY2F0b3I/OiBDb21waWxlZFRlbXBvcmFyeURlYWxsb2NhdG9yOyAvLyB0byBtYXRjaCBDb21waWxlZFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uIHN0cnVjdHVyZVxyXG4gICAgcmVhZG9ubHkgdGFyZ2V0OiBVbmJvdW5kUmVmZXJlbmNlRW50aXR5PFQ+O1xyXG4gICAgcmVhZG9ubHkgYXJnczogcmVhZG9ubHkgQ29tcGlsZWRFeHByZXNzaW9uW107XHJcblxyXG4gICAgLy8gTm90ZTogQ29tcGlsYXRpb24gb2YgdGhlIGluaXRpYWxpemVyIGNoZWNrcyBmb3IgcmVmZXJlbmNlIGNvbXBhdGliaWxpdHksIHdoaWNoIHNob3VsZCBlbnN1cmVcclxuICAgIC8vIHRoYXQgdGhlIGV4cHJlc3Npb24gYWN0dWFsbHkgaGFzIHRoZSBzYW1lIHR5cGUgVCBhcyB0aGUgcmVmZXJlbmNlIHRvIGJlIGJvdW5kLiAoRm9yIHN1YnR5cGVzXHJcbiAgICAvLyB0aGF0IGFyZSByZWZlcmVuY2UgY29tcGF0aWJsZSwgdGhpcyBpcyBmaW5lLCBzaW5jZSBUIHdpbGwgc3RpbGwgYmUgQ2xhc3NUeXBlIGZvciBib3RoLilcclxuICAgIHJlYWRvbmx5IGFyZzogQ29tcGlsZWRFeHByZXNzaW9uPFQsIFwibHZhbHVlXCI+O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUnVudGltZVJlZmVyZW5jZURpcmVjdEluaXRpYWxpemVyPFQgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZT4gZXh0ZW5kcyBSdW50aW1lRGlyZWN0SW5pdGlhbGl6ZXI8VCwgQ29tcGlsZWRSZWZlcmVuY2VEaXJlY3RJbml0aWFsaXplcjxUPj4ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBhcmc6IFJ1bnRpbWVFeHByZXNzaW9uPFQsIFwibHZhbHVlXCI+O1xyXG5cclxuICAgIHByaXZhdGUgYWxyZWFkeVB1c2hlZCA9IGZhbHNlO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvciAobW9kZWw6IENvbXBpbGVkUmVmZXJlbmNlRGlyZWN0SW5pdGlhbGl6ZXI8VD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgICAgIHN1cGVyKG1vZGVsLCBwYXJlbnQpO1xyXG4gICAgICAgIHRoaXMuYXJnID0gdGhpcy5tb2RlbC5hcmcuY3JlYXRlUnVudGltZUV4cHJlc3Npb24odGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHVwTmV4dEltcGwoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmFscmVhZHlQdXNoZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zaW0ucHVzaCh0aGlzLmFyZyk7XHJcbiAgICAgICAgICAgIHRoaXMuYWxyZWFkeVB1c2hlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgc3RlcEZvcndhcmRJbXBsKCkge1xyXG4gICAgICAgIGxldCBydFJlZiA9IHRoaXMubW9kZWwudGFyZ2V0LmJpbmRUbyh0aGlzLCA8Q1BQT2JqZWN0PFQ+PnRoaXMuYXJnLmV2YWxSZXN1bHQpOyAgLy9UT0RPIG5vdCBzdXJlIGF0IGFsbCB3aHkgdGhpcyBjYXN0IGlzIG5lY2Vzc2FyeVxyXG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwiaW5pdGlhbGl6ZWRcIiwgcnRSZWYpO1xyXG4gICAgICAgIHRoaXMuc2ltLnBvcCgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEF0b21pY0RpcmVjdEluaXRpYWxpemVyIGV4dGVuZHMgRGlyZWN0SW5pdGlhbGl6ZXIge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSB0YXJnZXQ6IE9iamVjdEVudGl0eTxBdG9taWNUeXBlPjtcclxuICAgIHB1YmxpYyByZWFkb25seSBhcmdzOiByZWFkb25seSBFeHByZXNzaW9uW107XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgYXJnPzogRXhwcmVzc2lvbjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgdGFyZ2V0OiBPYmplY3RFbnRpdHk8QXRvbWljVHlwZT4sIGFyZ3M6IHJlYWRvbmx5IEV4cHJlc3Npb25bXSkge1xyXG4gICAgICAgIHN1cGVyKGNvbnRleHQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCB0YXJnZXRUeXBlID0gdGFyZ2V0LnR5cGU7XHJcblxyXG4gICAgICAgIHRoaXMuYXJncyA9IGFyZ3M7XHJcbiAgICAgICAgYXJncy5mb3JFYWNoKChhKSA9PiB7dGhpcy5hdHRhY2goYSk7fSk7XHJcblxyXG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA+IDEpe1xyXG4gICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uaW5pdC5zY2FsYXJfYXJncyh0aGlzLCB0YXJnZXRUeXBlKSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5hcmcgPSBhcmdzWzBdO1xyXG5cclxuICAgICAgICAvL0F0dGVtcHQgc3RhbmRhcmQgY29udmVyc2lvbiB0byBkZWNsYXJlZCB0eXBlLCBpbmNsdWRpbmcgbHZhbHVlIHRvIHJ2YWx1ZSBjb252ZXJzaW9uc1xyXG4gICAgICAgIGlmICghdGhpcy5hcmcuaXNXZWxsVHlwZWQoKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgdHlwZWRBcmcgPSBzdGFuZGFyZENvbnZlcnNpb24odGhpcy5hcmcsIHRhcmdldFR5cGUpO1xyXG4gICAgICAgIHRoaXMuYXJnID0gdHlwZWRBcmc7XHJcblxyXG4gICAgICAgIGlmICghc2FtZVR5cGUodHlwZWRBcmcudHlwZSwgdGFyZ2V0VHlwZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmluaXQuY29udmVydCh0aGlzLCB0eXBlZEFyZy50eXBlLCB0YXJnZXRUeXBlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFRPRE86IG5lZWQgdG8gY2hlY2sgdGhhdCB0aGUgYXJnIGlzIGEgcHJ2YWx1ZVxyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lSW5pdGlhbGl6ZXI8VCBleHRlbmRzIEF0b21pY1R5cGU+KHRoaXM6IENvbXBpbGVkQXRvbWljRGlyZWN0SW5pdGlhbGl6ZXI8VD4sIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lQXRvbWljRGlyZWN0SW5pdGlhbGl6ZXI8VD47XHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUluaXRpYWxpemVyPFQgZXh0ZW5kcyBPYmplY3RUeXBlPih0aGlzOiBDb21waWxlZERpcmVjdEluaXRpYWxpemVyPFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogbmV2ZXI7XHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUluaXRpYWxpemVyPFQgZXh0ZW5kcyBBdG9taWNUeXBlPih0aGlzOiBhbnksIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkgOiBSdW50aW1lQXRvbWljRGlyZWN0SW5pdGlhbGl6ZXI8VD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUnVudGltZUF0b21pY0RpcmVjdEluaXRpYWxpemVyKDxDb21waWxlZEF0b21pY0RpcmVjdEluaXRpYWxpemVyPFQ+PnRoaXMsIHBhcmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETzsgY2hhbmdlIGV4cGxhaW4gZXZlcnl3aGVyZSB0byBiZSBzZXBhcmF0ZSBiZXR3ZWVuIGNvbXBpbGUgdGltZSBhbmQgcnVudGltZSBjb25zdHJ1Y3RzXHJcbiAgICBwdWJsaWMgZXhwbGFpbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgbGV0IHRhcmdldERlc2MgPSB0aGlzLnRhcmdldC5ydW50aW1lTG9va3VwKHJ0Q29uc3RydWN0KS5kZXNjcmliZSgpO1xyXG4gICAgICAgIGxldCByaHNEZXNjID0gdGhpcy5hcmdzWzBdLmRlc2NyaWJlRXZhbFJlc3VsdCgwKTtcclxuICAgICAgICByZXR1cm4ge21lc3NhZ2U6ICh0YXJnZXREZXNjLm5hbWUgfHwgdGFyZ2V0RGVzYy5tZXNzYWdlKSArIFwiIHdpbGwgYmUgaW5pdGlhbGl6ZWQgd2l0aCBcIiArIChyaHNEZXNjLm5hbWUgfHwgcmhzRGVzYy5tZXNzYWdlKSArIFwiLlwifTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZEF0b21pY0RpcmVjdEluaXRpYWxpemVyPFQgZXh0ZW5kcyBBdG9taWNUeXBlID0gQXRvbWljVHlwZT4gZXh0ZW5kcyBBdG9taWNEaXJlY3RJbml0aWFsaXplciwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4gICAgcmVhZG9ubHkgdGVtcG9yYXJ5RGVhbGxvY2F0b3I/OiBDb21waWxlZFRlbXBvcmFyeURlYWxsb2NhdG9yOyAvLyB0byBtYXRjaCBDb21waWxlZFBvdGVudGlhbEZ1bGxFeHByZXNzaW9uIHN0cnVjdHVyZVxyXG4gICAgcmVhZG9ubHkgdGFyZ2V0OiBPYmplY3RFbnRpdHk8VD47XHJcbiAgICByZWFkb25seSBhcmdzOiByZWFkb25seSBDb21waWxlZEV4cHJlc3Npb25bXTtcclxuICAgIHJlYWRvbmx5IGFyZzogQ29tcGlsZWRFeHByZXNzaW9uPFQsIFwicHJ2YWx1ZVwiPjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJ1bnRpbWVBdG9taWNEaXJlY3RJbml0aWFsaXplcjxUIGV4dGVuZHMgQXRvbWljVHlwZSA9IEF0b21pY1R5cGU+IGV4dGVuZHMgUnVudGltZURpcmVjdEluaXRpYWxpemVyPFQsIENvbXBpbGVkQXRvbWljRGlyZWN0SW5pdGlhbGl6ZXI8VD4+IHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGFyZ2V0OiBDUFBPYmplY3Q8QXRvbWljVHlwZT47XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgYXJnOiBSdW50aW1lRXhwcmVzc2lvbjxULCBcInBydmFsdWVcIj47XHJcblxyXG4gICAgcHJpdmF0ZSBhbHJlYWR5UHVzaGVkID0gZmFsc2U7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChtb2RlbDogQ29tcGlsZWRBdG9taWNEaXJlY3RJbml0aWFsaXplcjxUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgc3VwZXIobW9kZWwsIHBhcmVudCk7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLm1vZGVsLnRhcmdldC5ydW50aW1lTG9va3VwKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuYXJnID0gdGhpcy5tb2RlbC5hcmcuY3JlYXRlUnVudGltZUV4cHJlc3Npb24odGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHVwTmV4dEltcGwoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmFscmVhZHlQdXNoZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zaW0ucHVzaCh0aGlzLmFyZyk7XHJcbiAgICAgICAgICAgIHRoaXMuYWxyZWFkeVB1c2hlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGVwRm9yd2FyZEltcGwoKSB7XHJcbiAgICAgICAgdGhpcy50YXJnZXQud3JpdGVWYWx1ZSh0aGlzLmFyZy5ldmFsUmVzdWx0KTtcclxuICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcImluaXRpYWxpemVkXCIsIHRoaXMudGFyZ2V0KTtcclxuICAgICAgICB0aGlzLnNpbS5wb3AoKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8vIC8qKlxyXG4vLyAgKiBOb3RlOiBPbmx5IGFsbG93ZWQgdXNlIGlzIHRvIGluaXRpYWxpemUgYSBjaGFyIGFycmF5IGZyb20gYSBzdHJpbmcgbGl0ZXJhbCwgYnV0IHRoaXMgY2FuIHJlYWRpbHkgYmVcclxuLy8gICogY3JlYXRlZCBpbiB0aGUgY291cnNlIG9mIGNvbXBpbGluZyBhIHByb2dyYW0gaWYgdGhlIGNvZGUgYXR0ZW1wdHMgdG8gZGlyZWN0bHkgaW5pdGlhbGl6ZSBhbiBhcnJheS4gVGhhdCdzXHJcbi8vICAqIGRlc2lyYWJsZSwgYmVjYXVzZSB0aGlzIGNsYXNzIHdpbGwgZ2l2ZSB0aGUgYXBwcm9wcmlhdGUgZXJyb3IgbWVzc2FnZXMgaWYgaXQncyBhbnl0aGluZyBvdGhlciB0aGFuIGFcclxuLy8gICogY2hhciBhcnJheSBpbml0aWFsaXplZCBmcm9tIGEgc3RyaW5nIGxpdGVyYWwuXHJcbi8vICAqL1xyXG4vLyBleHBvcnQgY2xhc3MgQXJyYXlEaXJlY3RJbml0aWFsaXplciBleHRlbmRzIERpcmVjdEluaXRpYWxpemVyIHtcclxuXHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgdGFyZ2V0OiBPYmplY3RFbnRpdHk8Qm91bmRlZEFycmF5VHlwZT47XHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgYXJnczogcmVhZG9ubHkgRXhwcmVzc2lvbltdO1xyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IGFyZz86IFN0cmluZ0xpdGVyYWw7XHJcblxyXG4vLyAgICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIHRhcmdldDogT2JqZWN0RW50aXR5PEJvdW5kZWRBcnJheVR5cGU+LCBhcmdzOiByZWFkb25seSBFeHByZXNzaW9uW10pIHtcclxuLy8gICAgICAgICBzdXBlcihjb250ZXh0KTtcclxuICAgICAgICBcclxuLy8gICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcclxuLy8gICAgICAgICBsZXQgdGFyZ2V0VHlwZSA9IHRhcmdldC50eXBlO1xyXG5cclxuLy8gICAgICAgICAvLyBUUyB0eXBlIHN5c3RlbSBlbnN1cmVzIHRhcmdldCBpcyBhcnJheSB0eXBlLCBuZWVkIHRvIGNoZWNrIGVsZW1lbnQgdHlwZSBhbmQgdGhhdCBhcmdzIGFyZSBhIHNpbmdsZSBzdHJpbmcgbGl0ZXJhbFxyXG4vLyAgICAgICAgIGlmICh0YXJnZXRUeXBlLmVsZW1UeXBlIGluc3RhbmNlb2YgQ2hhciAmJiBhcmdzLmxlbmd0aCA9PT0gMSAmJiBhcmdzWzBdIGluc3RhbmNlb2YgU3RyaW5nTGl0ZXJhbCkge1xyXG4vLyAgICAgICAgICAgICBsZXQgYXJnID0gdGhpcy5hcmcgPSA8U3RyaW5nTGl0ZXJhbD5hcmdzWzBdO1xyXG4gICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgaWYgKGFyZy50eXBlLmxlbmd0aCA+IHRhcmdldFR5cGUubGVuZ3RoKXtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5pbml0LnN0cmluZ0xpdGVyYWxMZW5ndGgodGhpcywgYXJnLnR5cGUubGVuZ3RoLCB0YXJnZXRUeXBlLmxlbmd0aCkpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2Uge1xyXG4vLyAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uaW5pdC5hcnJheV9zdHJpbmdfbGl0ZXJhbCh0aGlzLCB0YXJnZXRUeXBlKSk7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICB0aGlzLmFyZ3MgPSBhcmdzO1xyXG4vLyAgICAgICAgIGFyZ3MuZm9yRWFjaCgoYSkgPT4ge3RoaXMuYXR0YWNoKGEpO30pO1xyXG4gICAgICAgIFxyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lSW5pdGlhbGl6ZXIocGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbi8vICAgICAgICAgcmV0dXJuIG5ldyBSdW50aW1lQXJyYXlEaXJlY3RJbml0aWFsaXplcih0aGlzLCBwYXJlbnQpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIC8vIFRPRE87IGNoYW5nZSBleHBsYWluIGV2ZXJ5d2hlcmUgdG8gYmUgc2VwYXJhdGUgYmV0d2VlbiBjb21waWxlIHRpbWUgYW5kIHJ1bnRpbWUgY29uc3RydWN0c1xyXG4vLyAgICAgcHVibGljIGV4cGxhaW4oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4vLyAgICAgICAgIGxldCB0YXJnZXREZXNjID0gdGhpcy50YXJnZXQucnVudGltZUxvb2t1cChydENvbnN0cnVjdCkuZGVzY3JpYmUoKTtcclxuLy8gICAgICAgICBsZXQgcmhzRGVzYyA9IHRoaXMuYXJnc1swXS5kZXNjcmliZUV2YWxSZXN1bHQoMCk7XHJcbi8vICAgICAgICAgcmV0dXJuIHttZXNzYWdlOiAodGFyZ2V0RGVzYy5uYW1lIHx8IHRhcmdldERlc2MubWVzc2FnZSkgKyBcIiAoYSBjaGFyYWN0ZXIgYXJyYXkpIHdpbGwgYmUgaW5pdGlhbGl6ZWQgZnJvbSB0aGUgc3RyaW5nIGxpdGVyYWwgXCIgKyByaHNEZXNjICsgXCIuIFJlbWVtYmVyIHRoYXQgYSBudWxsIGNoYXJhY3RlciBpcyBhdXRvbWF0aWNhbGx5IGFwcGVuZGVkIVwifTtcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuLy8gZXhwb3J0IGludGVyZmFjZSBDb21waWxlZEFycmF5RGlyZWN0SW5pdGlhbGl6ZXIgZXh0ZW5kcyBBcnJheURpcmVjdEluaXRpYWxpemVyLCBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcbi8vICAgICByZWFkb25seSB0YXJnZXQ6IE9iamVjdEVudGl0eTxCb3VuZGVkQXJyYXlUeXBlPENoYXI+PjtcclxuLy8gICAgIHJlYWRvbmx5IGFyZ3M6IENvbXBpbGVkRXhwcmVzc2lvbltdO1xyXG4vLyAgICAgcmVhZG9ubHkgYXJnOiBDb21waWxlZFN0cmluZ0xpdGVyYWw7XHJcbi8vIH1cclxuXHJcbi8vIGV4cG9ydCBjbGFzcyBSdW50aW1lQXJyYXlEaXJlY3RJbml0aWFsaXplciBleHRlbmRzIFJ1bnRpbWVEaXJlY3RJbml0aWFsaXplcjxCb3VuZGVkQXJyYXlUeXBlPENoYXI+LCBDb21waWxlZEFycmF5RGlyZWN0SW5pdGlhbGl6ZXI+IHtcclxuXHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgdGFyZ2V0OiBDUFBPYmplY3Q8Qm91bmRlZEFycmF5VHlwZT47XHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgYXJnOiBSdW50aW1lU3RyaW5nTGl0ZXJhbDtcclxuXHJcbi8vICAgICBwcml2YXRlIGFscmVhZHlQdXNoZWQgPSBmYWxzZTtcclxuXHJcbi8vICAgICBwdWJsaWMgY29uc3RydWN0b3IgKG1vZGVsOiBDb21waWxlZEFycmF5RGlyZWN0SW5pdGlhbGl6ZXIsIHBhcmVudDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4vLyAgICAgICAgIHN1cGVyKG1vZGVsLCBwYXJlbnQpO1xyXG4vLyAgICAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5tb2RlbC50YXJnZXQucnVudGltZUxvb2t1cCh0aGlzKTtcclxuLy8gICAgICAgICB0aGlzLmFyZyA9IHRoaXMubW9kZWwuYXJnLmNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uKHRoaXMpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHByb3RlY3RlZCB1cE5leHRJbXBsKCkge1xyXG4vLyAgICAgICAgIGlmICghdGhpcy5hbHJlYWR5UHVzaGVkKSB7XHJcbi8vICAgICAgICAgICAgIHRoaXMuc2ltLnB1c2godGhpcy5hcmcpO1xyXG4vLyAgICAgICAgICAgICB0aGlzLmFscmVhZHlQdXNoZWQgPSB0cnVlO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgc3RlcEZvcndhcmRJbXBsKCkge1xyXG4gICAgICAgIFxyXG4vLyAgICAgICAgIHZhciBjaGFyc1RvV3JpdGUgPSB0aGlzLmFyZy5ldmFsUmVzdWx0LnJhd1ZhbHVlKCk7XHJcblxyXG4vLyAgICAgICAgIC8vIHBhZCB3aXRoIHplcm9zXHJcbi8vICAgICAgICAgd2hpbGUgKGNoYXJzVG9Xcml0ZS5sZW5ndGggPCB0aGlzLnRhcmdldC50eXBlLmxlbmd0aCkge1xyXG4vLyAgICAgICAgICAgICBjaGFyc1RvV3JpdGUucHVzaChDaGFyLk5VTExfQ0hBUik7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICB0aGlzLnRhcmdldC53cml0ZVZhbHVlKGNoYXJzVG9Xcml0ZSk7XHJcbi8vICAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJpbml0aWFsaXplZFwiLCB0aGlzLnRhcmdldCk7XHJcbi8vICAgICAgICAgdGhpcy5zaW0ucG9wKCk7XHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcblxyXG4vLyBleHBvcnQgY2xhc3MgQ2xhc3NEaXJlY3RJbml0aWFsaXplciBleHRlbmRzIERpcmVjdEluaXRpYWxpemVyIHtcclxuXHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgdGFyZ2V0OiBPYmplY3RFbnRpdHk8Q2xhc3NUeXBlPjtcclxuLy8gICAgIHB1YmxpYyByZWFkb25seSBhcmdzOiByZWFkb25seSBFeHByZXNzaW9uW107XHJcblxyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IGN0b3I6IENvbnN0cnVjdG9yRW50aXR5PztcclxuLy8gICAgIHB1YmxpYyByZWFkb25seSBjdG9yQ2FsbDogTWVtYmVyRnVuY3Rpb25DYWxsPztcclxuXHJcbi8vICAgICBwdWJsaWMgY29uc3RydWN0b3IoY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgdGFyZ2V0OiBPYmplY3RFbnRpdHk8Q2xhc3NUeXBlPiwgYXJnczogcmVhZG9ubHkgRXhwcmVzc2lvbltdKSB7XHJcbi8vICAgICAgICAgc3VwZXIoY29udGV4dCk7XHJcbiAgICAgICAgXHJcbi8vICAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcbiAgICAgICAgXHJcbi8vICAgICAgICAgbGV0IHRhcmdldFR5cGUgPSB0YXJnZXQudHlwZTtcclxuXHJcbi8vICAgICAgICAgLy8gTmVlZCB0byBzZWxlY3QgY29uc3RydWN0b3IsIHNvIGhhdmUgdG8gY29tcGlsZSBhdXhpbGlhcnkgYXJndW1lbnRzXHJcbi8vICAgICAgICAgbGV0IHtjdG9yLCBwcm9ibGVtc30gPSBvdmVybG9hZFJlc29sdXRpb24odGFyZ2V0VHlwZS5jcHBDbGFzcy5jdG9ycywgYXJncyk7XHJcblxyXG4vLyAgICAgICAgIGlmIChjdG9yKSB7XHJcbi8vICAgICAgICAgICAgIHRoaXMuY3RvciA9IGN0b3I7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYXJncyA9IGFyZ3M7XHJcbi8vICAgICAgICAgICAgIHRoaXMuY3RvckNhbGwgPSBuZXcgRnVuY3Rpb25DYWxsKGNvbnRleHQsIGN0b3IsIGFyZ3MsIHRoaXMudGFyZ2V0KTtcclxuLy8gICAgICAgICAgICAgdGhpcy5hdHRhY2godGhpcy5jdG9yQ2FsbCk7XHJcbi8vICAgICAgICAgICAgIC8vIE5vdGU6IGluIHRoZSBjYXNlIGEgc3VpdGFibGUgZnVuY3Rpb24gY2FsbCBjYW4gYmUgY29uc3RydWN0ZWQsIGFyZ3VtZW50cyBhcmUgbm90XHJcbi8vICAgICAgICAgICAgIC8vIGF0dGFjaGVkIGhlcmUgc2luY2UgdGhleSBhcmUgYXR0YWNoZWQgdW5kZXIgdGhlIGZ1bmN0aW9uIGNhbGwuXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2Uge1xyXG4vLyAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uaW5pdC5tYXRjaGluZ19jb25zdHJ1Y3Rvcih0aGlzLCB0aGlzLnRhcmdldCxcclxuLy8gICAgICAgICAgICAgICAgIGFyZ3MubWFwKGZ1bmN0aW9uIChhcmcpIHtyZXR1cm4gYXJnLnR5cGU7fSkpKTtcclxuLy8gICAgICAgICAgICAgdGhpcy5hdHRhY2hBbGwodGhpcy5hcmdzID0gYXJncyk7XHJcbi8vICAgICAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgICB9XHJcblxyXG4gICAgICAgIFxyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lSW5pdGlhbGl6ZXI8VCBleHRlbmRzIENsYXNzVHlwZT4odGhpczogQ29tcGlsZWRDbGFzc0RpcmVjdEluaXRpYWxpemVyPFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZUNsYXNzRGlyZWN0SW5pdGlhbGl6ZXI8VD47XHJcbi8vICAgICBwdWJsaWMgY3JlYXRlUnVudGltZUluaXRpYWxpemVyPFQgZXh0ZW5kcyBPYmplY3RUeXBlPih0aGlzOiBDb21waWxlZERpcmVjdEluaXRpYWxpemVyPFQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogbmV2ZXI7XHJcbi8vICAgICBwdWJsaWMgY3JlYXRlUnVudGltZUluaXRpYWxpemVyPFQgZXh0ZW5kcyBDbGFzc1R5cGU+KHRoaXM6IGFueSwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVDbGFzc0RpcmVjdEluaXRpYWxpemVyPFQ+IHtcclxuLy8gICAgICAgICByZXR1cm4gbmV3IFJ1bnRpbWVDbGFzc0RpcmVjdEluaXRpYWxpemVyKDxDb21waWxlZENsYXNzRGlyZWN0SW5pdGlhbGl6ZXI8VD4+dGhpcywgcGFyZW50KTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICAvLyBUT0RPOyBjaGFuZ2UgZXhwbGFpbiBldmVyeXdoZXJlIHRvIGJlIHNlcGFyYXRlIGJldHdlZW4gY29tcGlsZSB0aW1lIGFuZCBydW50aW1lIGNvbnN0cnVjdHNcclxuLy8gICAgIHB1YmxpYyBleHBsYWluKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuLy8gICAgICAgICBsZXQgdGFyZ2V0RGVzYyA9IHRoaXMudGFyZ2V0LmRlc2NyaWJlKCk7XHJcbi8vICAgICAgICAgLy8gVE9ETzogd2hhdCBpZiB0aGVyZSBpcyBhbiBlcnJvciB0aGF0IGNhdXNlcyBubyBjdG9yIHRvIGJlIGZvdW5kL2F2YWlsYWJsZVxyXG4vLyAgICAgICAgIHJldHVybiB7bWVzc2FnZTogKHRhcmdldERlc2MubmFtZSB8fCB0YXJnZXREZXNjLm1lc3NhZ2UpICsgXCIgd2lsbCBiZSBpbml0aWFsaXplZCB1c2luZyBcIiArIHRoaXMuY3RvckNhbGwuZGVzY3JpYmUoKS5tZXNzYWdlfTtcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuLy8gZXhwb3J0IGludGVyZmFjZSBDb21waWxlZENsYXNzRGlyZWN0SW5pdGlhbGl6ZXI8VCBleHRlbmRzIENsYXNzVHlwZT4gZXh0ZW5kcyBDbGFzc0RpcmVjdEluaXRpYWxpemVyLCBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcbiAgICBcclxuICAgIFxyXG4vLyAgICAgcmVhZG9ubHkgdGFyZ2V0OiBPYmplY3RFbnRpdHk8VD47XHJcbi8vICAgICByZWFkb25seSBhcmdzOiByZWFkb25seSBFeHByZXNzaW9uW107XHJcblxyXG4vLyAgICAgcmVhZG9ubHkgY3RvcjogQ29uc3RydWN0b3JFbnRpdHk8VD47XHJcbi8vICAgICByZWFkb25seSBjdG9yQ2FsbDogQ29tcGlsZWRGdW5jdGlvbkNhbGw8Vm9pZFR5cGUsIFwicHJ2YWx1ZVwiPjtcclxuLy8gfVxyXG5cclxuLy8gZXhwb3J0IGNsYXNzIFJ1bnRpbWVDbGFzc0RpcmVjdEluaXRpYWxpemVyPFQgZXh0ZW5kcyBDbGFzc1R5cGU+IGV4dGVuZHMgUnVudGltZURpcmVjdEluaXRpYWxpemVyPFQsIENvbXBpbGVkQ2xhc3NEaXJlY3RJbml0aWFsaXplcjxUPj4ge1xyXG5cclxuLy8gICAgIHB1YmxpYyByZWFkb25seSB0YXJnZXQ6IENQUE9iamVjdDxDbGFzc1R5cGU+O1xyXG4gICAgXHJcbi8vICAgICBwdWJsaWMgcmVhZG9ubHkgY3RvckNhbGw6IFJ1bnRpbWVGdW5jdGlvbkNhbGw8Vm9pZFR5cGUsIFwicHJ2YWx1ZVwiPjtcclxuXHJcbi8vICAgICBwcml2YXRlIGluZGV4ID0gXCJjYWxsQ3RvclwiO1xyXG5cclxuLy8gICAgIHB1YmxpYyBjb25zdHJ1Y3RvciAobW9kZWw6IENvbXBpbGVkQ2xhc3NEaXJlY3RJbml0aWFsaXplcjxUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbi8vICAgICAgICAgc3VwZXIobW9kZWwsIHBhcmVudCk7XHJcbi8vICAgICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLm1vZGVsLnRhcmdldC5ydW50aW1lTG9va3VwKHRoaXMpO1xyXG4vLyAgICAgICAgIHRoaXMuY3RvckNhbGwgPSB0aGlzLm1vZGVsLmN0b3JDYWxsLmNyZWF0ZVJ1bnRpbWVGdW5jdGlvbkNhbGwodGhpcyk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgcHJvdGVjdGVkIHVwTmV4dEltcGwoKSB7XHJcbi8vICAgICAgICAgaWYgKHRoaXMuaW5kZXggPT09IFwiY2FsbEN0b3JcIikge1xyXG4vLyAgICAgICAgICAgICB0aGlzLnNpbS5wdXNoKHRoaXMuY3RvckNhbGwpO1xyXG4vLyAgICAgICAgICAgICB0aGlzLmluZGV4ID0gXCJkb25lXCI7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2Uge1xyXG4vLyAgICAgICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcImluaXRpYWxpemVkXCIsIHRoaXMudGFyZ2V0KTtcclxuLy8gICAgICAgICAgICAgdGhpcy5zaW0ucG9wKCk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBzdGVwRm9yd2FyZEltcGwoKSB7XHJcbi8vICAgICAgICAgLy8gZG8gbm90aGluZ1xyXG4vLyAgICAgfVxyXG4vLyB9XHJcblxyXG5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29weUluaXRpYWxpemVyQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgY29uc3RydWN0X3R5cGU6IFwiY29weV9pbml0aWFsaXplclwiO1xyXG4gICAgYXJnczogRXhwcmVzc2lvbkFTVE5vZGVbXTtcclxufVxyXG5cclxuLy8gVE9ETzogVGhlc2Ugc2hvdWxkIHJlYWxseSBiZSBcImNsYXNzIGFsaWFzZXNcIiByYXRoZXIgdGhhbiBkZXJpdmVkIGNsYXNzZXMsIGhvd2V2ZXJcclxuLy8gaXQgZG9lc24ndCBzZWVtIGxpa2UgVHlwZXNjcmlwdCBoYXMgYW55IHByb3BlciBtZWNoYW5pc20gZm9yIHRoaXMuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDb3B5SW5pdGlhbGl6ZXIgZXh0ZW5kcyBEaXJlY3RJbml0aWFsaXplciB7IH07XHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRDb3B5SW5pdGlhbGl6ZXI8VCBleHRlbmRzIE9iamVjdFR5cGUgPSBPYmplY3RUeXBlPiBleHRlbmRzIENvbXBpbGVkRGlyZWN0SW5pdGlhbGl6ZXI8VD4geyB9O1xyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgUnVudGltZUNvcHlJbml0aWFsaXplciBleHRlbmRzIFJ1bnRpbWVEaXJlY3RJbml0aWFsaXplciB7IH07XHJcblxyXG5leHBvcnQgY2xhc3MgUmVmZXJlbmNlQ29weUluaXRpYWxpemVyIGV4dGVuZHMgUmVmZXJlbmNlRGlyZWN0SW5pdGlhbGl6ZXIgeyB9O1xyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkUmVmZXJlbmNlQ29weUluaXRpYWxpemVyPFQgZXh0ZW5kcyBPYmplY3RUeXBlID0gT2JqZWN0VHlwZT4gZXh0ZW5kcyBDb21waWxlZFJlZmVyZW5jZURpcmVjdEluaXRpYWxpemVyPFQ+IHsgfTtcclxuZXhwb3J0IGNsYXNzIFJ1bnRpbWVSZWZlcmVuY2VDb3B5SW5pdGlhbGl6ZXIgZXh0ZW5kcyBSdW50aW1lUmVmZXJlbmNlRGlyZWN0SW5pdGlhbGl6ZXIgeyB9O1xyXG5cclxuZXhwb3J0IGNsYXNzIEF0b21pY0NvcHlJbml0aWFsaXplciBleHRlbmRzIEF0b21pY0RpcmVjdEluaXRpYWxpemVyIHsgfTtcclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZEF0b21pY0NvcHlJbml0aWFsaXplcjxUIGV4dGVuZHMgQXRvbWljVHlwZSA9IEF0b21pY1R5cGU+IGV4dGVuZHMgQ29tcGlsZWRBdG9taWNEaXJlY3RJbml0aWFsaXplcjxUPiB7IH07XHJcbmV4cG9ydCBjbGFzcyBSdW50aW1lQXRvbWljQ29weUluaXRpYWxpemVyIGV4dGVuZHMgUnVudGltZUF0b21pY0RpcmVjdEluaXRpYWxpemVyIHsgfTtcclxuLy8gZXhwb3J0IGNsYXNzIEFycmF5Q29weUluaXRpYWxpemVyIGV4dGVuZHMgQXJyYXlEaXJlY3RJbml0aWFsaXplciB7IH07XHJcbi8vIGV4cG9ydCBjbGFzcyBSdW50aW1lQXJyYXlDb3B5SW5pdGlhbGl6ZXIgZXh0ZW5kcyBSdW50aW1lQXJyYXlEaXJlY3RJbml0aWFsaXplciB7IH07XHJcbi8vIGV4cG9ydCBjbGFzcyBDbGFzc0NvcHlJbml0aWFsaXplciBleHRlbmRzIENsYXNzRGlyZWN0SW5pdGlhbGl6ZXIgeyB9O1xyXG4vLyBleHBvcnQgY2xhc3MgUnVudGltZUNsYXNzQ29weUluaXRpYWxpemVyIGV4dGVuZHMgUnVudGltZUNsYXNzRGlyZWN0SW5pdGlhbGl6ZXIgeyB9O1xyXG5cclxuXHJcblxyXG5cclxuLy8gLyoqXHJcbi8vICAqIE5vdGU6IG9ubHkgdXNlIGlzIGluIGltcGxpY2l0bHkgZGVmaW5lZCBjb3B5IGNvbnN0cnVjdG9yXHJcbi8vICAqL1xyXG4vLyBleHBvcnQgY2xhc3MgQXJyYXlNZW1iZXJJbml0aWFsaXplciBleHRlbmRzIEluaXRpYWxpemVyIHtcclxuXHJcbi8vICAgICAgLy8gTm90ZTogdGhpcyBhcmUgbm90IE1lbWJlclN1Ym9iamVjdEVudGl0eSBzaW5jZSB0aGV5IG1pZ2h0IG5lZWQgdG8gYXBwbHkgdG8gYSBuZXN0ZWQgYXJyYXkgaW5zaWRlIGFuIGFycmF5IG1lbWJlclxyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IHRhcmdldDogT2JqZWN0RW50aXR5PEJvdW5kZWRBcnJheVR5cGU+O1xyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IG90aGVyTWVtYmVyOiBPYmplY3RFbnRpdHk8Qm91bmRlZEFycmF5VHlwZT47XHJcbiAgICBcclxuLy8gICAgIHB1YmxpYyByZWFkb25seSBlbGVtZW50SW5pdGlhbGl6ZXJzOiBEaXJlY3RJbml0aWFsaXplcltdID0gW107XHJcblxyXG4vLyAgICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIHRhcmdldDogT2JqZWN0RW50aXR5PEJvdW5kZWRBcnJheVR5cGU+LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyTWVtYmVyOiBPYmplY3RFbnRpdHk8Qm91bmRlZEFycmF5VHlwZT4pIHtcclxuLy8gICAgICAgICBzdXBlcihjb250ZXh0KTtcclxuICAgICAgICBcclxuLy8gICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcclxuLy8gICAgICAgICB0aGlzLm90aGVyTWVtYmVyID0gb3RoZXJNZW1iZXI7XHJcbi8vICAgICAgICAgbGV0IHRhcmdldFR5cGUgPSB0YXJnZXQudHlwZTtcclxuXHJcbi8vICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRhcmdldFR5cGUubGVuZ3RoOyArK2kpIHtcclxuLy8gICAgICAgICAgICAgbGV0IGVsZW1Jbml0O1xyXG4vLyAgICAgICAgICAgICAvLyBDT01NRU5URUQgQkVMT1cgQkVDQVVTRSBNVUxUSURJTUVOU0lPTkFMIEFSUkFZUyBBUkUgTk9UIEFMTE9XRURcclxuLy8gICAgICAgICAgICAgLy8gaWYgKHRhcmdldFR5cGUuZWxlbVR5cGUgaW5zdGFuY2VvZiBCb3VuZGVkQXJyYXlUeXBlKSB7XHJcbi8vICAgICAgICAgICAgIC8vICAgICBlbGVtSW5pdCA9IG5ldyBBcnJheU1lbWJlckluaXRpYWxpemVyKGNvbnRleHQsXHJcbi8vICAgICAgICAgICAgIC8vICAgICAgICAgbmV3IEFycmF5U3Vib2JqZWN0RW50aXR5KHRhcmdldCwgaSksXHJcbi8vICAgICAgICAgICAgIC8vICAgICAgICAgbmV3IEFycmF5U3Vib2JqZWN0RW50aXR5KDxPYmplY3RFbnRpdHk8Qm91bmRlZEFycmF5VHlwZTxCb3VuZGVkQXJyYXlUeXBlPj4+b3RoZXJNZW1iZXIsIGkpKTtcclxuLy8gICAgICAgICAgICAgLy8gfVxyXG4vLyAgICAgICAgICAgICAvLyBlbHNlIHtcclxuLy8gICAgICAgICAgICAgICAgIGVsZW1Jbml0ID0gRGlyZWN0SW5pdGlhbGl6ZXIuY3JlYXRlKGNvbnRleHQsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgbmV3IEFycmF5U3Vib2JqZWN0RW50aXR5KHRhcmdldCwgaSksXHJcbi8vICAgICAgICAgICAgICAgICAgICAgW25ldyBFbnRpdHlFeHByZXNzaW9uKGNvbnRleHQsIG5ldyBBcnJheVN1Ym9iamVjdEVudGl0eShvdGhlck1lbWJlciwgaSkpXSk7XHJcbi8vICAgICAgICAgICAgIC8vIH1cclxuXHJcbi8vICAgICAgICAgICAgIHRoaXMuZWxlbWVudEluaXRpYWxpemVycy5wdXNoKGVsZW1Jbml0KTtcclxuLy8gICAgICAgICAgICAgdGhpcy5hdHRhY2goZWxlbUluaXQpO1xyXG5cclxuLy8gICAgICAgICAgICAgaWYoZWxlbUluaXQuaGFzRXJyb3JzKSB7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uaW5pdC5hcnJheV9kaXJlY3RfaW5pdCh0aGlzKSk7XHJcbi8vICAgICAgICAgICAgICAgICBicmVhaztcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuICAgICAgICBcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBwdWJsaWMgY3JlYXRlUnVudGltZUluaXRpYWxpemVyKHRoaXM6IENvbXBpbGVkQXJyYXlNZW1iZXJJbml0aWFsaXplciwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbi8vICAgICAgICAgcmV0dXJuIG5ldyBSdW50aW1lQXJyYXlNZW1iZXJJbml0aWFsaXplcih0aGlzLCBwYXJlbnQpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBleHBsYWluKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogRXhwbGFuYXRpb24ge1xyXG4vLyAgICAgICAgIGxldCB0YXJnZXREZXNjID0gdGhpcy50YXJnZXQuZGVzY3JpYmUoKTtcclxuLy8gICAgICAgICBsZXQgdGFyZ2V0VHlwZSA9IHRoaXMudGFyZ2V0LnR5cGU7XHJcbi8vICAgICAgICAgbGV0IG90aGVyTWVtYmVyRGVzYyA9IHRoaXMub3RoZXJNZW1iZXIuZGVzY3JpYmUoKTtcclxuICAgICAgICBcclxuLy8gICAgICAgICBpZiAodGFyZ2V0VHlwZS5sZW5ndGggPT09IDApIHtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHttZXNzYWdlOiBcIk5vIGluaXRpYWxpemF0aW9uIGlzIHBlcmZvcm1lZCBmb3IgXCIgKyAodGFyZ2V0RGVzYy5uYW1lIHx8IHRhcmdldERlc2MubWVzc2FnZSkgKyBcImJlY2F1c2UgdGhlIGFycmF5IGhhcyBsZW5ndGggMC5cIn07XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2Uge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4ge21lc3NhZ2U6IFwiRWFjaCBlbGVtZW50IG9mIFwiICsgKHRhcmdldERlc2MubmFtZSB8fCB0YXJnZXREZXNjLm1lc3NhZ2UpICsgXCIgd2lsbCBiZSBkZWZhdWx0LWluaXRpYWxpemVkIHdpdGggdGhlIHZhbHVlIG9mIHRoZVwiXHJcbi8vICAgICAgICAgICAgICAgICArIFwiY29ycmVzcG9uZGluZyBlbGVtZW50IG9mIFwiICsgKG90aGVyTWVtYmVyRGVzYy5uYW1lIHx8IG90aGVyTWVtYmVyRGVzYy5tZXNzYWdlKSArIFwiLiBGb3IgZXhhbXBsZSwgXCIgK1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50SW5pdGlhbGl6ZXJzWzBdLmV4cGxhaW4oc2ltLCBydENvbnN0cnVjdCkgfTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcbi8vIGV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRBcnJheU1lbWJlckluaXRpYWxpemVyIGV4dGVuZHMgQXJyYXlNZW1iZXJJbml0aWFsaXplciwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4vLyAgICAgcmVhZG9ubHkgZWxlbWVudEluaXRpYWxpemVyczogQ29tcGlsZWREaXJlY3RJbml0aWFsaXplcltdO1xyXG4vLyB9XHJcblxyXG4vLyBleHBvcnQgY2xhc3MgUnVudGltZUFycmF5TWVtYmVySW5pdGlhbGl6ZXIgZXh0ZW5kcyBSdW50aW1lSW5pdGlhbGl6ZXI8Q29tcGlsZWRBcnJheU1lbWJlckluaXRpYWxpemVyPiB7XHJcblxyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IHRhcmdldDogQ1BQT2JqZWN0PEJvdW5kZWRBcnJheVR5cGU+O1xyXG4vLyAgICAgcHVibGljIHJlYWRvbmx5IGVsZW1lbnRJbml0aWFsaXplcnM6IFJ1bnRpbWVEaXJlY3RJbml0aWFsaXplcltdO1xyXG5cclxuLy8gICAgIHByaXZhdGUgaW5kZXggPSAwO1xyXG5cclxuLy8gICAgIHB1YmxpYyBjb25zdHJ1Y3RvciAobW9kZWw6IENvbXBpbGVkQXJyYXlNZW1iZXJJbml0aWFsaXplciwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbi8vICAgICAgICAgc3VwZXIobW9kZWwsIHBhcmVudCk7XHJcbi8vICAgICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLm1vZGVsLnRhcmdldC5ydW50aW1lTG9va3VwKHRoaXMpO1xyXG4vLyAgICAgICAgIHRoaXMuZWxlbWVudEluaXRpYWxpemVycyA9IHRoaXMubW9kZWwuZWxlbWVudEluaXRpYWxpemVycy5tYXAoKGVsZW1Jbml0KSA9PiB7XHJcbi8vICAgICAgICAgICAgIHJldHVybiBlbGVtSW5pdC5jcmVhdGVSdW50aW1lSW5pdGlhbGl6ZXIodGhpcyk7XHJcbi8vICAgICAgICAgfSk7XHJcbi8vICAgICB9XHJcblx0XHJcbi8vICAgICBwcm90ZWN0ZWQgdXBOZXh0SW1wbCgpIHtcclxuLy8gICAgICAgICBpZiAodGhpcy5lbGVtZW50SW5pdGlhbGl6ZXJzICYmIHRoaXMuaW5kZXggPCB0aGlzLmVsZW1lbnRJbml0aWFsaXplcnMubGVuZ3RoKSB7XHJcbi8vICAgICAgICAgICAgIHRoaXMuc2ltLnB1c2godGhpcy5lbGVtZW50SW5pdGlhbGl6ZXJzW3RoaXMuaW5kZXgrK10pXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2Uge1xyXG4vLyAgICAgICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcImluaXRpYWxpemVkXCIsIHRoaXMudGFyZ2V0KTtcclxuLy8gICAgICAgICAgICAgdGhpcy5zaW0ucG9wKCk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHB1YmxpYyBzdGVwRm9yd2FyZEltcGwoKSB7XHJcbi8vICAgICAgICAgLy8gZG8gbm90aGluZ1xyXG4vLyAgICAgfVxyXG4vLyB9XHJcblxyXG5cclxuXHJcblxyXG5cclxuLy8gZXhwb3J0IHZhciBQYXJhbWV0ZXJJbml0aWFsaXplciA9IENvcHlJbml0aWFsaXplci5leHRlbmQoe1xyXG4vLyAgICAgX25hbWUgOiBcIlBhcmFtZXRlckluaXRpYWxpemVyXCIsXHJcblxyXG4vLyAgICAgZXhwbGFpbiA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIHZhciBleHAgPSBQYXJhbWV0ZXJJbml0aWFsaXplci5fcGFyZW50LmV4cGxhaW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuLy8gICAgICAgICBleHAubWVzc2FnZSA9IGV4cC5tZXNzYWdlICsgXCJcXG5cXG4oUGFyYW1ldGVyIHBhc3NpbmcgaXMgZG9uZSBieSBjb3B5LWluaXRpYWxpemF0aW9uLilcIjtcclxuLy8gICAgICAgICByZXR1cm4gZXhwO1xyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcbi8vIGV4cG9ydCB2YXIgUmV0dXJuSW5pdGlhbGl6ZXIgPSBDb3B5SW5pdGlhbGl6ZXIuZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lIDogXCJSZXR1cm5Jbml0aWFsaXplclwiLFxyXG5cclxuLy8gICAgIHN0ZXBGb3J3YXJkIDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCkge1xyXG5cclxuLy8gICAgICAgICAvLyBOZWVkIHRvIGhhbmRsZSByZXR1cm4tYnktcmVmZXJlbmNlIGRpZmZlcmVudGx5LCBzaW5jZSB0aGVyZSBpcyBubyBhY3R1YWwgcmVmZXJlbmNlIHRoYXRcclxuLy8gICAgICAgICAvLyBnZXRzIGJvdW5kLiAoVGhlIHJ1bnRpbWVMb29rdXAgZm9yIHRoZSByZXR1cm4gZW50aXR5IHdvdWxkIHlpZWxkIG51bGwpLiBJbnN0ZWFkLCB3ZSBqdXN0XHJcbi8vICAgICAgICAgLy8gc2V0IHRoZSByZXR1cm4gb2JqZWN0IGZvciB0aGUgZW5jbG9zaW5nIGZ1bmN0aW9uIHRvIHRoZSBldmFsdWF0ZWQgYXJndW1lbnQgKHdoaWNoIHNob3VsZFxyXG4vLyAgICAgICAgIC8vIGhhdmUgeWllbGRlZCBhbiBvYmplY3QpLlxyXG4vLyAgICAgICAgIGlmIChpc0EodGhpcy5lbnRpdHkudHlwZSwgVHlwZXMuUmVmZXJlbmNlKSkge1xyXG4vLyAgICAgICAgICAgICBpbnN0LmNvbnRhaW5pbmdSdW50aW1lRnVuY3Rpb24oKS5zZXRSZXR1cm5WYWx1ZShpbnN0LmNoaWxkSW5zdGFuY2VzLmFyZ3NbMF0uZXZhbFJlc3VsdCk7XHJcbi8vICAgICAgICAgICAgIHRoaXMuZG9uZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgICAgICByZXR1cm47XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICByZXR1cm4gUmV0dXJuSW5pdGlhbGl6ZXIuX3BhcmVudC5zdGVwRm9yd2FyZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcbi8vIGV4cG9ydCB2YXIgTWVtYmVySW5pdGlhbGl6ZXIgPSBEaXJlY3RJbml0aWFsaXplci5leHRlbmQoe1xyXG4vLyAgICAgX25hbWUgOiBcIk1lbWJlckluaXRpYWxpemVyXCIsXHJcbi8vICAgICBpc01lbWJlckluaXRpYWxpemVyOiB0cnVlXHJcbi8vIH0pO1xyXG5cclxuLy8gZXhwb3J0IHZhciBEZWZhdWx0TWVtYmVySW5pdGlhbGl6ZXIgPSBEZWZhdWx0SW5pdGlhbGl6ZXIuZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lIDogXCJEZWZhdWx0TWVtYmVySW5pdGlhbGl6ZXJcIixcclxuLy8gICAgIGlzTWVtYmVySW5pdGlhbGl6ZXI6IHRydWVcclxuLy8gfSk7XHJcblxyXG4vLyBleHBvcnQgdmFyIE5ld0RpcmVjdEluaXRpYWxpemVyID0gRGlyZWN0SW5pdGlhbGl6ZXIuZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lIDogXCJOZXdEaXJlY3RJbml0aWFsaXplclwiLFxyXG4vLyAgICAgaV9ydW50aW1lQ29uc3RydWN0Q2xhc3MgOiBSdW50aW1lTmV3SW5pdGlhbGl6ZXJcclxuLy8gfSk7XHJcblxyXG5cclxuLy8gZXhwb3J0IHZhciBOZXdEZWZhdWx0SW5pdGlhbGl6ZXIgPSBEZWZhdWx0SW5pdGlhbGl6ZXIuZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lIDogXCJOZXdEZWZhdWx0SW5pdGlhbGl6ZXJcIixcclxuLy8gICAgIGlfcnVudGltZUNvbnN0cnVjdENsYXNzIDogUnVudGltZU5ld0luaXRpYWxpemVyXHJcbi8vIH0pO1xyXG5cclxuXHJcblxyXG4vLyBleHBvcnQgdmFyIEluaXRpYWxpemVyTGlzdCA9IENQUENvbnN0cnVjdC5leHRlbmQoe1xyXG4vLyAgICAgX25hbWUgOiBcIkluaXRpYWxpemVyTGlzdFwiLFxyXG4vLyAgICAgaW5pdDogZnVuY3Rpb24oYXN0LCBjb250ZXh0KSB7XHJcbi8vICAgICAgICAgdGhpcy5pbml0UGFyZW50KGFzdCwgY29udGV4dCk7XHJcbi8vICAgICAgICAgdGhpcy5pbml0aWFsaXplckxpc3RMZW5ndGggPSBhc3QuYXJncy5sZW5ndGg7XHJcbi8vICAgICB9LFxyXG4vLyAgICAgY29tcGlsZSA6IGZ1bmN0aW9uKGVudGl0eSl7XHJcbi8vICAgICAgICAgYXNzZXJ0KGVudGl0eSwgXCJJbml0aWFsaXplciBjb250ZXh0IG11c3Qgc3BlY2lmeSBlbnRpdHkgdG8gYmUgaW5pdGlhbGl6ZWQhXCIpO1xyXG4vLyAgICAgICAgIHRoaXMuaV9lbnRpdHlUb0luaXRpYWxpemUgPSBlbnRpdHk7XHJcbi8vICAgICAgICAgdmFyIGFzdCA9IHRoaXMuYXN0O1xyXG4vLyAgICAgICAgIHZhciB0eXBlID0gdGhpcy5pX2VudGl0eVRvSW5pdGlhbGl6ZS50eXBlO1xyXG5cclxuLy8gICAgICAgICBpZiAoIWlzQSh0eXBlLCBUeXBlcy5BcnJheSkpe1xyXG4vLyAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uaW5pdC5saXN0X2FycmF5KHRoaXMpKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZSBpZiAodHlwZS5sZW5ndGggIT09IGFzdC5hcmdzLmxlbmd0aCl7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5pbml0Lmxpc3RfbGVuZ3RoKHRoaXMsIHR5cGUubGVuZ3RoKSk7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICBpZiAodGhpcy5oYXNFcnJvcnMoKSl7IHJldHVybjsgfVxyXG5cclxuLy8gICAgICAgICB2YXIgbGlzdCA9IGFzdC5hcmdzO1xyXG4vLyAgICAgICAgIC8vdGhpcy5pbml0aWFsaXplckxpc3QgPSBbXTtcclxuLy8gICAgICAgICB0aGlzLmlfY2hpbGRyZW5Ub0V4ZWN1dGUgPSBbXTtcclxuLy8gICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSl7XHJcbi8vICAgICAgICAgICAgIHZhciBpbml0TGlzdEVsZW0gPSB0aGlzW1wiYXJnXCIraV0gPSB0aGlzLmlfY3JlYXRlQW5kQ29tcGlsZUNoaWxkRXhwcihsaXN0W2ldLCB0eXBlLmVsZW1UeXBlKTtcclxuLy8gICAgICAgICAgICAgdGhpcy5pX2NoaWxkcmVuVG9FeGVjdXRlLnB1c2goXCJhcmdcIitpKTtcclxuXHJcbi8vICAgICAgICAgICAgIGlmKCFzYW1lVHlwZShpbml0TGlzdEVsZW0udHlwZSwgdHlwZS5lbGVtVHlwZSkpe1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmluaXQuY29udmVydChpbml0TGlzdEVsZW0sIGluaXRMaXN0RWxlbS50eXBlLCB0eXBlLmVsZW1UeXBlKSk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZSBpZiAoaW5pdExpc3RFbGVtLmlzTmFycm93aW5nQ29udmVyc2lvbil7XHJcbi8vICAgICAgICAgICAgICAgICAvLyBUT0RPOiBhcyBvZiBub3csIHN0aWxsIG5lZWQgdG8gYWRkIGNvZGUgdGhhdCBpZGVudGlmaWVzIGNlcnRhaW4gY29udmVyc2lvbnMgYXMgbmFycm93aW5nXHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uaW5pdC5saXN0X25hcnJvd2luZyhpbml0TGlzdEVsZW0sIGluaXRMaXN0RWxlbS5mcm9tLnR5cGUsIHR5cGUuZWxlbVR5cGUpKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAvL3RoaXMuaW5pdGlhbGl6ZXJMaXN0LnB1c2goaW5pdExpc3RFbGVtKTtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIHJldHVybjtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgc3RlcEZvcndhcmQgOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuLy8gICAgICAgICBpZiAoaW5zdC5pbmRleCAhPT0gXCJhZnRlckNoaWxkcmVuXCIpe1xyXG4vLyAgICAgICAgICAgICByZXR1cm47XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIHZhciBvYmogPSB0aGlzLmlfZW50aXR5VG9Jbml0aWFsaXplLnJ1bnRpbWVMb29rdXAoc2ltLCBpbnN0KTtcclxuXHJcbi8vICAgICAgICAgdmFyIGFyciA9IFtdO1xyXG4vLyAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmluaXRpYWxpemVyTGlzdExlbmd0aDsgKytpKXtcclxuLy8gICAgICAgICAgICAgYXJyW2ldID0gaW5zdC5jaGlsZEluc3RhbmNlc1tcImFyZ1wiK2ldLmV2YWxSZXN1bHQuZ2V0VmFsdWUoKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgb2JqLndyaXRlVmFsdWUoYXJyKTtcclxuXHJcbi8vICAgICAgICAgaW5zdC5pbmRleCA9IFwiZG9uZVwiO1xyXG4vLyAgICAgICAgIHRoaXMuZG9uZShzaW0sIGluc3QpO1xyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuIiwiaW1wb3J0IHsgQmFzaWNDUFBDb25zdHJ1Y3QsICBBU1ROb2RlLCBDUFBDb25zdHJ1Y3QsIFN1Y2Nlc3NmdWxseUNvbXBpbGVkLCBJbnZhbGlkQ29uc3RydWN0LCBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCBGdW5jdGlvbkNvbnRleHQsIGNyZWF0ZUZ1bmN0aW9uQ29udGV4dCwgaXNCbG9ja0NvbnRleHQsIFJ1bnRpbWVGdW5jdGlvbiwgQmxvY2tDb250ZXh0IH0gZnJvbSBcIi4vY29uc3RydWN0c1wiO1xyXG5pbXBvcnQgeyBDUFBFcnJvciwgTm90ZSB9IGZyb20gXCIuL2Vycm9yc1wiO1xyXG5pbXBvcnQgeyBhc011dGFibGUsIGFzc2VydEZhbHNlLCBhc3NlcnQsIE11dGFibGUgfSBmcm9tIFwiLi4vdXRpbC91dGlsXCI7XHJcbmltcG9ydCB7IFR5cGUsIFZvaWRUeXBlLCBBcnJheU9mVW5rbm93bkJvdW5kVHlwZSwgRnVuY3Rpb25UeXBlLCBPYmplY3RUeXBlLCBSZWZlcmVuY2VUeXBlLCBQb3RlbnRpYWxQYXJhbWV0ZXJUeXBlLCBCb3VuZGVkQXJyYXlUeXBlLCBQb2ludGVyVHlwZSwgYnVpbHRJblR5cGVzLCBpc0J1aWx0SW5UeXBlTmFtZSwgQ2xhc3NUeXBlLCBQb3RlbnRpYWxSZXR1cm5UeXBlIH0gZnJvbSBcIi4vdHlwZXNcIjtcclxuaW1wb3J0IHsgSW5pdGlhbGl6ZXIsIERlZmF1bHRJbml0aWFsaXplciwgRGlyZWN0SW5pdGlhbGl6ZXIsIENvcHlJbml0aWFsaXplciwgSW5pdGlhbGl6ZXJBU1ROb2RlLCBDb21waWxlZEluaXRpYWxpemVyIH0gZnJvbSBcIi4vaW5pdGlhbGl6ZXJzXCI7XHJcbmltcG9ydCB7IEF1dG9FbnRpdHksIExvY2FsUmVmZXJlbmNlRW50aXR5LCBTdGF0aWNFbnRpdHksIE5hbWVzcGFjZVNjb3BlLCBWYXJpYWJsZUVudGl0eSwgQ1BQRW50aXR5LCBGdW5jdGlvbkVudGl0eSB9IGZyb20gXCIuL2VudGl0aWVzXCI7XHJcbmltcG9ydCB7IEV4cHJlc3Npb25BU1ROb2RlLCBOdW1lcmljTGl0ZXJhbEFTVE5vZGUsIGNyZWF0ZUV4cHJlc3Npb25Gcm9tQVNULCBwYXJzZU51bWVyaWNMaXRlcmFsVmFsdWVGcm9tQVNUIH0gZnJvbSBcIi4vZXhwcmVzc2lvbnNcIjtcclxuaW1wb3J0IHsgQmxvY2tBU1ROb2RlLCBCbG9jaywgY3JlYXRlU3RhdGVtZW50RnJvbUFTVCwgQ29tcGlsZWRCbG9jayB9IGZyb20gXCIuL3N0YXRlbWVudHNcIjtcclxuaW1wb3J0IHsgSWRlbnRpZmllckFTVE5vZGUsIGNoZWNrSWRlbnRpZmllciB9IGZyb20gXCIuL2xleGljYWxcIjtcclxuaW1wb3J0IHsgQ1BQT2JqZWN0IH0gZnJvbSBcIi4vb2JqZWN0c1wiO1xyXG5pbXBvcnQgeyBSdW50aW1lRnVuY3Rpb25DYWxsIH0gZnJvbSBcIi4vZnVuY3Rpb25DYWxsXCI7XHJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi9leHByZXNzaW9uQmFzZVwiO1xyXG5cclxuZXhwb3J0IHR5cGUgU3RvcmFnZVNwZWNpZmllcktleSA9IFwicmVnaXN0ZXJcIiB8IFwic3RhdGljXCIgfCBcInRocmVhZF9sb2NhbFwiIHwgXCJleHRlcm5cIiB8IFwibXV0YWJsZVwiO1xyXG5cclxuZXhwb3J0IHR5cGUgU3RvcmFnZVNwZWNpZmllckFTVE5vZGUgPSByZWFkb25seSBTdG9yYWdlU3BlY2lmaWVyS2V5W107XHJcblxyXG5leHBvcnQgY2xhc3MgU3RvcmFnZVNwZWNpZmllciBleHRlbmRzIEJhc2ljQ1BQQ29uc3RydWN0IHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVnaXN0ZXI/OiB0cnVlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHN0YXRpYz86IHRydWU7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGhyZWFkX2xvY2FsPzogdHJ1ZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBleHRlcm4/OiB0cnVlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG11dGFibGU/OiB0cnVlO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBpc0VtcHR5OiBib29sZWFuO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRnJvbUFTVChhc3Q6IFN0b3JhZ2VTcGVjaWZpZXJBU1ROb2RlLCBjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTdG9yYWdlU3BlY2lmaWVyKGNvbnRleHQsIGFzdCk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIHNwZWNzOiByZWFkb25seSBTdG9yYWdlU3BlY2lmaWVyS2V5W10pIHtcclxuICAgICAgICBzdXBlcihjb250ZXh0KVxyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBudW1TcGVjcyA9IDA7IC8vIGNvdW50IHNwZWNzIHNlcGFyYXRlbHkgdG8gZ2V0IGEgY291bnQgd2l0aG91dCBkdXBsaWNhdGVzXHJcbiAgICAgICAgc3BlY3MuZm9yRWFjaCgoc3BlYykgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpc1tzcGVjXSkge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgaXQgd2FzIGFscmVhZHkgdHJ1ZSwgd2UgbXVzdCBiZSBwcm9jZXNzaW5nIGEgZHVwbGljYXRlXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uc3RvcmFnZS5vbmNlKHRoaXMsIHNwZWMpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFzTXV0YWJsZSh0aGlzKVtzcGVjXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICArK251bVNwZWNzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRpYykge1xyXG4gICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IubG9ic3Rlci51bnN1cHBvcnRlZF9mZWF0dXJlKHRoaXMsIFwic3RhdGljXCIpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmV4dGVybikge1xyXG4gICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IubG9ic3Rlci51bnN1cHBvcnRlZF9mZWF0dXJlKHRoaXMsIFwiZXh0ZXJuXCIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMudGhyZWFkX2xvY2FsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5sb2JzdGVyLnVuc3VwcG9ydGVkX2ZlYXR1cmUodGhpcywgXCJ0aHJlYWRfbG9jYWxcIikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMucmVnaXN0ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmxvYnN0ZXIudW5zdXBwb3J0ZWRfZmVhdHVyZSh0aGlzLCBcInJlZ2lzdGVyXCIpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm11dGFibGUpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmxvYnN0ZXIudW5zdXBwb3J0ZWRfZmVhdHVyZSh0aGlzLCBcIm11dGFibGVcIikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gMCBzcGVjaWZpZXJzIGlzIG9rXHJcbiAgICAgICAgLy8gMSBzcGVjaWZpZXIgaXMgb2tcclxuICAgICAgICAvLyAyIHNwZWNpZmllcnMgb25seSBvayBpZiBvbmUgaXMgdGhyZWFkX2xvY2FsIGFuZCB0aGUgb3RoZXIgaXMgc3RhdGljL2V4dGVyblxyXG4gICAgICAgIC8vIDMgb3IgbW9yZSBzcGVjaWZpZXJzIGFyZSBhbHdheXMgaW5jb21wYXRpYmxlXHJcbiAgICAgICAgaWYgKG51bVNwZWNzIDwgMiB8fFxyXG4gICAgICAgICAgICBudW1TcGVjcyA9PSAyICYmIHRoaXMudGhyZWFkX2xvY2FsICYmICh0aGlzLnN0YXRpYyB8fCB0aGlzLmV4dGVybikpe1xyXG4gICAgICAgICAgICAvL29rXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5zdG9yYWdlLmluY29tcGF0aWJsZSh0aGlzLCBzcGVjcykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pc0VtcHR5ID0gKG51bVNwZWNzID09PSAwKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHR5cGUgU2ltcGxlVHlwZU5hbWUgPSBzdHJpbmcgfCBcImNoYXJcIiB8IFwic2hvcnRcIiB8IFwiaW50XCIgfCBcImJvb2xcIiB8IFwibG9uZ1wiIHwgXCJzaWduZWRcIiB8IFwidW5zaWduZWRcIiB8IFwiZmxvYXRcIiB8IFwiZG91YmxlXCIgfCBcInZvaWRcIjtcclxuZXhwb3J0IHR5cGUgVHlwZVNwZWNpZmllcktleSAgPSBcImNvbnN0XCIgfCBcInZvbGF0aWxlXCIgfCBcInNpZ25lZFwiIHwgXCJ1bnNpZ25lZFwiIHwgXCJlbnVtXCI7XHJcblxyXG5leHBvcnQgdHlwZSBUeXBlU3BlY2lmaWVyQVNUTm9kZSA9IHJlYWRvbmx5IChUeXBlU3BlY2lmaWVyS2V5IHwgU2ltcGxlVHlwZU5hbWUpW107XHJcblxyXG5leHBvcnQgY2xhc3MgVHlwZVNwZWNpZmllciBleHRlbmRzIEJhc2ljQ1BQQ29uc3RydWN0IHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29uc3Q/OiB0cnVlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHZvbGF0aWxlPzogdHJ1ZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBzaWduZWQ/OiB0cnVlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHVuc2lnbmVkPzogdHJ1ZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBlbnVtPzogdHJ1ZTtcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGVOYW1lPzogc3RyaW5nO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSB0eXBlPzogVHlwZTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUZyb21BU1QoYXN0OiBUeXBlU3BlY2lmaWVyQVNUTm9kZSwgY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgVHlwZVNwZWNpZmllcihjb250ZXh0LCBhc3QpO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCBzcGVjczogcmVhZG9ubHkgKFR5cGVTcGVjaWZpZXJLZXkgfCBTaW1wbGVUeXBlTmFtZSlbXSkge1xyXG4gICAgICAgIHN1cGVyKGNvbnRleHQpO1xyXG5cclxuICAgICAgICBsZXQgY29uc3RDb3VudCA9IDA7XHJcbiAgICAgICAgbGV0IHZvbGF0aWxlQ291bnQgPSAwO1xyXG5cclxuICAgICAgICBzcGVjcy5mb3JFYWNoKChzcGVjKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChzcGVjID09PSBcImVudW1cIikge1xyXG4gICAgICAgICAgICAgICAgYXNNdXRhYmxlKHRoaXMpLmVudW0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmxvYnN0ZXIudW5zdXBwb3J0ZWRfZmVhdHVyZSh0aGlzLCBcIm11dGFibGVcIikpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBjaGVjayB0byBzZWUgaWYgaXQncyBvbmUgb2YgdGhlIHBvc3NpYmxlIHR5cGUgc3BlY2lmaWVyc1xyXG4gICAgICAgICAgICBsZXQgcG9zc2libGVTcGVjcyA6IHJlYWRvbmx5IFR5cGVTcGVjaWZpZXJLZXlbXSA9IFtcImNvbnN0XCIsIFwidm9sYXRpbGVcIiwgXCJzaWduZWRcIiwgXCJ1bnNpZ25lZFwiLCBcImVudW1cIl07XHJcbiAgICAgICAgICAgIGxldCBtYXRjaGVkU3BlYyA9IHBvc3NpYmxlU3BlY3MuZmluZChzID0+IHMgPT09IHNwZWMpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG1hdGNoZWRTcGVjKSB7IC8vIGZvdW5kIGEgdHlwZSBzcGVjaWZpZXJcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzW21hdGNoZWRTcGVjXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGl0IHdhcyBhIGR1cGxpY2F0ZVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi50eXBlU3BlY2lmaWVyLm9uY2UodGhpcywgbWF0Y2hlZFNwZWMpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGZpcnN0IHRpbWUgdGhpcyBzcGVjIHNlZW4sIHNldCB0byB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgYXNNdXRhYmxlKHRoaXMpW21hdGNoZWRTcGVjXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7IC8vIEl0J3MgYSB0eXBlbmFtZVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHlwZU5hbWUpIHsgLy8gYWxyZWFkeSBoYWQgYSB0eXBlbmFtZSwgdGhpcyBpcyBhIGR1cGxpY2F0ZVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi50eXBlU3BlY2lmaWVyLm9uZV90eXBlKHRoaXMsIFt0aGlzLnR5cGVOYW1lLCBzcGVjXSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBhc011dGFibGUodGhpcykudHlwZU5hbWUgPSBzcGVjO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgaWYgKHRoaXMudW5zaWduZWQgJiYgdGhpcy5zaWduZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLnR5cGVTcGVjaWZpZXIuc2lnbmVkX3Vuc2lnbmVkKHRoaXMpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIHVuc2lnbmVkL3NpZ25lZCBzcGVjaWZpZXIgaXMgcHJlc2VudCBhbmQgdGhlcmUgaXMgbm8gdHlwZSBuYW1lLCBkZWZhdWx0IHRvIGludFxyXG4gICAgICAgIGlmICgodGhpcy51bnNpZ25lZCB8fCB0aGlzLnNpZ25lZCkgJiYgIXRoaXMudHlwZU5hbWUpIHtcclxuICAgICAgICAgICAgdGhpcy50eXBlTmFtZSA9IFwiaW50XCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgdHlwZU5hbWUgYnkgbm93LCBpdCBtZWFucyB0aGVyZSB3YXNuJ3Qgb25lLlxyXG4gICAgICAgIC8vIFRoaXMgKG9sZCkgY29kZSBwcmVzdW1lcyB0aGUgb25seSB0aW1lIHRoaXMgd291bGQgYmUgcGFyc2VkIHN1Y2Nlc3NmdWxseVxyXG4gICAgICAgIC8vIGFuZCBtYWtlIGl0IGhlcmUgaXMgaW4gdGhlIGNvbnRleHQgb2YgYSBmdW5jdGlvbiBkZWNsYXJhdGlvbi4gSSBkb24ndCB0aGlua1xyXG4gICAgICAgIC8vIHRoYXQncyBxdWl0ZSBjb3JyZWN0LlxyXG4gICAgICAgIC8vIFRPRE86IHByb2JhYmx5IGdldCByaWQgb2YgdGhpcyBhbmQganVzdCBsZXQgdGhlIGZ1bmN0aW9uIGRlY2xhcmF0aW9uIGNoZWNrIGZvciB0aGlzXHJcbiAgICAgICAgaWYgKCF0aGlzLnR5cGVOYW1lKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5mdW5jLm5vX3JldHVybl90eXBlKHRoaXMpKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHR5cGUgbmFtZSBpcyBvbmUgb2YgdGhlIGJ1aWx0IGluIHR5cGVzXHJcbiAgICAgICAgaWYgKGlzQnVpbHRJblR5cGVOYW1lKHRoaXMudHlwZU5hbWUpKSB7XHJcbiAgICAgICAgICAgIGFzTXV0YWJsZSh0aGlzKS50eXBlID0gbmV3IGJ1aWx0SW5UeXBlc1t0aGlzLnR5cGVOYW1lXSh0aGlzLmNvbnN0LCB0aGlzLnZvbGF0aWxlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBjaGVjayB0byBzZWUgaWYgdGhlIHR5cGUgbmFtZSBpcyBpbiBzY29wZVxyXG4gICAgICAgIC8vIFRPRE86IGFkZCBiYWNrIGluIHdoZW4gY2xhc3NlcyBhcmUgYWRkZWRcclxuICAgICAgICAvLyB2YXIgc2NvcGVUeXBlO1xyXG4gICAgICAgIC8vIGlmIChzY29wZVR5cGUgPSB0aGlzLmNvbnRleHR1YWxTY29wZS5sb29rdXAodGhpcy50eXBlTmFtZSkpe1xyXG4gICAgICAgIC8vICAgICBpZiAoc2NvcGVUeXBlIGluc3RhbmNlb2YgVHlwZUVudGl0eSl7XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLnR5cGUgPSBuZXcgc2NvcGVUeXBlLnR5cGUodGhpcy5jb25zdCwgdGhpcy52b2xhdGlsZSk7XHJcbiAgICAgICAgLy8gICAgICAgICByZXR1cm47XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci50eXBlLnR5cGVOb3RGb3VuZCh0aGlzLCB0aGlzLnR5cGVOYW1lKSk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5cclxuaW50ZXJmYWNlIE90aGVyU3BlY2lmaWVycyB7XHJcbiAgICByZWFkb25seSB2aXJ0dWFsPyA6IGJvb2xlYW47XHJcbiAgICByZWFkb25seSB0eXBlZGVmPyA6IGJvb2xlYW47XHJcbiAgICByZWFkb25seSBmcmllbmQ/IDogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEZWNsYXJhdGlvblNwZWNpZmllcnNBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IHR5cGVTcGVjczogVHlwZVNwZWNpZmllckFTVE5vZGU7XHJcbiAgICByZWFkb25seSBzdG9yYWdlU3BlY3M6IFN0b3JhZ2VTcGVjaWZpZXJBU1ROb2RlO1xyXG4gICAgcmVhZG9ubHkgZnJpZW5kPzogYm9vbGVhbjtcclxuICAgIHJlYWRvbmx5IHR5cGVkZWY/OiBib29sZWFuO1xyXG4gICAgcmVhZG9ubHkgaW5saW5lPzogYm9vbGVhbjtcclxuICAgIHJlYWRvbmx5IGV4cGxpY2l0PzogYm9vbGVhbjtcclxuICAgIHJlYWRvbmx5IHZpcnR1YWw/OiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBEZWNsYXJhdGlvbkFTVE5vZGUgPSBTaW1wbGVEZWNsYXJhdGlvbkFTVE5vZGUgfCBGdW5jdGlvbkRlZmluaXRpb25BU1ROb2RlOy8vIHwgQ2xhc3NEZWZpbml0aW9uQVNUTm9kZVxyXG5cclxuZXhwb3J0IHR5cGUgRGVjbGFyYXRpb24gPSBTaW1wbGVEZWNsYXJhdGlvbiB8IEZ1bmN0aW9uRGVmaW5pdGlvbjtcclxuXHJcblxyXG5pbnRlcmZhY2UgdF9EZWNsYXJhdGlvblR5cGVzIHtcclxuICAgIFwic2ltcGxlX2RlY2xhcmF0aW9uXCI6IFNpbXBsZURlY2xhcmF0aW9uO1xyXG4gICAgXCJmdW5jdGlvbl9kZWZpbml0aW9uXCI6IEZ1bmN0aW9uRGVmaW5pdGlvbjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURlY2xhcmF0aW9uRnJvbUFTVChhc3Q6IFNpbXBsZURlY2xhcmF0aW9uQVNUTm9kZSwgY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCkgOiBTaW1wbGVEZWNsYXJhdGlvbltdO1xyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRGVjbGFyYXRpb25Gcm9tQVNUKGFzdDogRnVuY3Rpb25EZWZpbml0aW9uQVNUTm9kZSwgY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCkgOiBGdW5jdGlvbkRlZmluaXRpb247XHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEZWNsYXJhdGlvbkZyb21BU1QoYXN0OiBEZWNsYXJhdGlvbkFTVE5vZGUsIGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQpIDogU2ltcGxlRGVjbGFyYXRpb25bXSB8IEZ1bmN0aW9uRGVmaW5pdGlvbjtcclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURlY2xhcmF0aW9uRnJvbUFTVChhc3Q6IERlY2xhcmF0aW9uQVNUTm9kZSwgY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCkge1xyXG4gICAgaWYgKGFzdC5jb25zdHJ1Y3RfdHlwZSA9PT0gXCJzaW1wbGVfZGVjbGFyYXRpb25cIikge1xyXG4gICAgICAgIHJldHVybiBjcmVhdGVTaW1wbGVEZWNsYXJhdGlvbkZyb21BU1QoYXN0LCBjb250ZXh0KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBGdW5jdGlvbkRlZmluaXRpb24uY3JlYXRlRnJvbUFTVChhc3QsIGNvbnRleHQpO1xyXG4gICAgfVxyXG59IFxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTaW1wbGVEZWNsYXJhdGlvbkZyb21BU1QoYXN0OiBTaW1wbGVEZWNsYXJhdGlvbkFTVE5vZGUsIGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQpIHtcclxuXHJcbiAgICAvLyBOZWVkIHRvIGNyZWF0ZSBUeXBlU3BlY2lmaWVyIGZpcnN0IHRvIGdldCB0aGUgYmFzZSB0eXBlIGZpcnN0IGZvciB0aGUgZGVjbGFyYXRvcnNcclxuICAgIGxldCB0eXBlU3BlYyA9IFR5cGVTcGVjaWZpZXIuY3JlYXRlRnJvbUFTVChhc3Quc3BlY3MudHlwZVNwZWNzLCBjb250ZXh0KTtcclxuICAgIGxldCBiYXNlVHlwZSA9IHR5cGVTcGVjLnR5cGU7XHJcbiAgICBsZXQgc3RvcmFnZVNwZWMgPSBTdG9yYWdlU3BlY2lmaWVyLmNyZWF0ZUZyb21BU1QoYXN0LnNwZWNzLnN0b3JhZ2VTcGVjcywgY29udGV4dCk7XHJcblxyXG4gICAgLy8gVXNlIG1hcCB0byBjcmVhdGUgYW4gYXJyYXkgb2YgdGhlIGluZGl2aWR1YWwgZGVjbGFyYXRpb25zIChzaW5jZSBtdWx0aXBsZSBvbiB0aGUgc2FtZSBsaW5lXHJcbiAgICAvLyB3aWxsIHJlc3VsdCBpbiBhIHNpbmdsZSBBU1Qgbm9kZSBhbmQgbmVlZCB0byBiZSBicm9rZW4gdXApXHJcbiAgICByZXR1cm4gYXN0LmRlY2xhcmF0b3JzLm1hcCgoZGVjbEFTVCkgPT4ge1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgZGVjbGFyYXRvciBhbmQgZGV0ZXJtaW5lIGRlY2xhcmVkIHR5cGVcclxuICAgICAgICBsZXQgZGVjbGFyYXRvciA9IERlY2xhcmF0b3IuY3JlYXRlRnJvbUFTVChkZWNsQVNULCBjb250ZXh0LCBiYXNlVHlwZSk7XHJcbiAgICAgICAgbGV0IGRlY2xhcmVkVHlwZSA9IGRlY2xhcmF0b3IudHlwZTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBkZWNsYXJhdGlvbiBpdHNlbGYuIFdoaWNoIGtpbmQgZGVwZW5kcyBvbiB0aGUgZGVjbGFyZWQgdHlwZVxyXG4gICAgICAgIGxldCBkZWNsYXJhdGlvbjogU2ltcGxlRGVjbGFyYXRpb247XHJcbiAgICAgICAgaWYgKCFkZWNsYXJlZFR5cGUpIHtcclxuICAgICAgICAgICAgZGVjbGFyYXRpb24gPSBuZXcgVW5rbm93blR5cGVEZWNsYXJhdGlvbihjb250ZXh0LCB0eXBlU3BlYywgc3RvcmFnZVNwZWMsIGRlY2xhcmF0b3IsIGFzdC5zcGVjcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGFzdC5zcGVjcy5mcmllbmQpIHtcclxuICAgICAgICAgICAgZGVjbGFyYXRpb24gPSBuZXcgRnJpZW5kRGVjbGFyYXRpb24oY29udGV4dCwgdHlwZVNwZWMsIHN0b3JhZ2VTcGVjLCBkZWNsYXJhdG9yLCBhc3Quc3BlY3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChhc3Quc3BlY3MudHlwZWRlZikge1xyXG4gICAgICAgICAgICBkZWNsYXJhdGlvbiA9IG5ldyBUeXBlZGVmRGVjbGFyYXRpb24oY29udGV4dCwgdHlwZVNwZWMsIHN0b3JhZ2VTcGVjLCBkZWNsYXJhdG9yLCBhc3Quc3BlY3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChkZWNsYXJlZFR5cGUuaXNWb2lkVHlwZSgpKSB7XHJcbiAgICAgICAgICAgIGRlY2xhcmF0aW9uID0gbmV3IFZvaWREZWNsYXJhdGlvbihjb250ZXh0LCB0eXBlU3BlYywgc3RvcmFnZVNwZWMsIGRlY2xhcmF0b3IsIGFzdC5zcGVjcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGRlY2xhcmVkVHlwZS5pc0Z1bmN0aW9uVHlwZSgpKSB7XHJcbiAgICAgICAgICAgIGRlY2xhcmF0aW9uID0gbmV3IEZ1bmN0aW9uRGVjbGFyYXRpb24oY29udGV4dCwgdHlwZVNwZWMsIHN0b3JhZ2VTcGVjLCBkZWNsYXJhdG9yLCBhc3Quc3BlY3MsIGRlY2xhcmVkVHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGRlY2xhcmVkVHlwZS5pc0FycmF5T2ZVbmtub3duQm91bmRUeXBlKCkpIHtcclxuICAgICAgICAgICAgLy8gVE9ETzogaXQgbWF5IGJlIHBvc3NpYmxlIHRvIGRldGVybWluZSB0aGUgYm91bmQgZnJvbSB0aGUgaW5pdGlhbGl6ZXJcclxuICAgICAgICAgICAgZGVjbGFyYXRpb24gPSBuZXcgVW5rbm93bkJvdW5kQXJyYXlEZWNsYXJhdGlvbihjb250ZXh0LCB0eXBlU3BlYywgc3RvcmFnZVNwZWMsIGRlY2xhcmF0b3IsIGFzdC5zcGVjcywgZGVjbGFyZWRUeXBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIERldGVybWluZSB0aGUgYXBwcm9wcmlhdGUga2luZCBvZiBvYmplY3QgZGVmaW5pdGlvbiBiYXNlZCBvbiB0aGUgY29udGV4dHVhbCBzY29wZVxyXG4gICAgICAgICAgICBsZXQgZGVjbCA6IExvY2FsVmFyaWFibGVEZWZpbml0aW9uIHwgR2xvYmFsT2JqZWN0RGVmaW5pdGlvbjtcclxuICAgICAgICAgICAgaWYgKGlzQmxvY2tDb250ZXh0KGNvbnRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICBkZWNsID0gbmV3IExvY2FsVmFyaWFibGVEZWZpbml0aW9uKGNvbnRleHQsIHR5cGVTcGVjLCBzdG9yYWdlU3BlYywgZGVjbGFyYXRvciwgYXN0LnNwZWNzLCBkZWNsYXJlZFR5cGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGVjbCA9IG5ldyBHbG9iYWxPYmplY3REZWZpbml0aW9uKGNvbnRleHQsIHR5cGVTcGVjLCBzdG9yYWdlU3BlYywgZGVjbGFyYXRvciwgYXN0LnNwZWNzLCBkZWNsYXJlZFR5cGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlY2xhcmF0aW9uID0gZGVjbDtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBTZXQgaW5pdGlhbGl6ZXJcclxuICAgICAgICAgICAgbGV0IGluaXQgPSBkZWNsQVNULmluaXRpYWxpemVyO1xyXG4gICAgICAgICAgICBpZiAoIWluaXQpIHtcclxuICAgICAgICAgICAgICAgIGRlY2wuc2V0RGVmYXVsdEluaXRpYWxpemVyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaW5pdC5jb25zdHJ1Y3RfdHlwZSA9PSBcImRpcmVjdF9pbml0aWFsaXplclwiKSB7XHJcbiAgICAgICAgICAgICAgICBkZWNsLnNldERpcmVjdEluaXRpYWxpemVyKGluaXQuYXJncy5tYXAoKGEpID0+IGNyZWF0ZUV4cHJlc3Npb25Gcm9tQVNUKGEsIGNvbnRleHQpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaW5pdC5jb25zdHJ1Y3RfdHlwZSA9PSBcImNvcHlfaW5pdGlhbGl6ZXJcIikge1xyXG4gICAgICAgICAgICAgICAgZGVjbC5zZXRDb3B5SW5pdGlhbGl6ZXIoaW5pdC5hcmdzLm1hcCgoYSkgPT4gY3JlYXRlRXhwcmVzc2lvbkZyb21BU1QoYSwgY29udGV4dCkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBlbHNlIGlmIChpbml0LmNvbnN0cnVjdF90eXBlID09IFwiaW5pdGlhbGl6ZXJfbGlzdFwiKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAvLyBkZWNsLnNldENvcHlJbml0aWFsaXplcihpbml0LmFyZ3MubWFwKChhKSA9PiBFeHByZXNzaW9uLmNyZWF0ZUZyb21BU1QoYSwgY29udGV4dCkpKTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2V0IEFTVFxyXG4gICAgICAgIGRlY2xhcmF0aW9uLnNldEFTVChhc3QpO1xyXG5cclxuICAgICAgICByZXR1cm4gZGVjbGFyYXRpb247XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcbmludGVyZmFjZSBTaW1wbGVEZWNsYXJhdGlvbkFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcInNpbXBsZV9kZWNsYXJhdGlvblwiO1xyXG4gICAgcmVhZG9ubHkgc3BlY3M6IERlY2xhcmF0aW9uU3BlY2lmaWVyc0FTVE5vZGU7XHJcbiAgICByZWFkb25seSBkZWNsYXJhdG9yczogcmVhZG9ubHkgRGVjbGFyYXRvckluaXRBU1ROb2RlW107XHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTaW1wbGVEZWNsYXJhdGlvbjxDb250ZXh0VHlwZSBleHRlbmRzIFRyYW5zbGF0aW9uVW5pdENvbnRleHQgPSBUcmFuc2xhdGlvblVuaXRDb250ZXh0PiBleHRlbmRzIEJhc2ljQ1BQQ29uc3RydWN0PENvbnRleHRUeXBlPiBpbXBsZW1lbnRzIENQUENvbnN0cnVjdCB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGVTcGVjaWZpZXI6IFR5cGVTcGVjaWZpZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RvcmFnZVNwZWNpZmllcjogU3RvcmFnZVNwZWNpZmllcjtcclxuICAgIHB1YmxpYyByZWFkb25seSBkZWNsYXJhdG9yOiBEZWNsYXJhdG9yO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG90aGVyU3BlY2lmaWVyczogT3RoZXJTcGVjaWZpZXJzO1xyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCByZWFkb25seSB0eXBlPzogVHlwZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmc7XHJcbiAgICAgXHJcbiAgICAvLyBBbGxvdyBzdWJjbGFzc2VzIHRvIGN1c3RvbWl6ZSBiZWhhdmlvclxyXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IHJlYWRvbmx5IGluaXRpYWxpemVyQWxsb3dlZDogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBhYnN0cmFjdCByZWFkb25seSBpc0RlZmluaXRpb246IGJvb2xlYW47XHJcbiAgICBcclxuICAgIHB1YmxpYyByZWFkb25seSBpbml0aWFsaXplcj86IEluaXRpYWxpemVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGRlY2xhcmVkRW50aXR5PzogQ1BQRW50aXR5O1xyXG5cclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0VHlwZSwgdHlwZVNwZWM6IFR5cGVTcGVjaWZpZXIsIHN0b3JhZ2VTcGVjOiBTdG9yYWdlU3BlY2lmaWVyLFxyXG4gICAgICAgIGRlY2xhcmF0b3I6IERlY2xhcmF0b3IsIG90aGVyU3BlY3M6IE90aGVyU3BlY2lmaWVycykge1xyXG4gICAgICAgIHN1cGVyKGNvbnRleHQpO1xyXG5cclxuICAgICAgICB0aGlzLnR5cGVTcGVjaWZpZXIgPSB0eXBlU3BlYztcclxuICAgICAgICB0aGlzLnN0b3JhZ2VTcGVjaWZpZXIgPSBzdG9yYWdlU3BlYztcclxuICAgICAgICB0aGlzLm90aGVyU3BlY2lmaWVycyA9IG90aGVyU3BlY3M7XHJcblxyXG4gICAgICAgIHRoaXMuZGVjbGFyYXRvciA9IGRlY2xhcmF0b3I7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gZGVjbGFyYXRvci5uYW1lITsgLy8gVE9ETzogcmVtb3ZlIG5vbi1udWxsIGFzc2VydGlvbiBoZXJlIG9uY2UgdHlwZXNjcmlwdCBzdXBwb3J0cyBhc3NlcnQgYmFzZWQgY29udHJvbCBmbG93IGFuYWx5c2lzIChzb29uKVxyXG4gICAgICAgIGlmICghZGVjbGFyYXRvci5uYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhc3NlcnRGYWxzZShcIlNpbXBsZSBkZWNsYXJhdGlvbnMgbXVzdCBoYXZlIGEgbmFtZS5cIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBOb25lIG9mIHRoZSBzaW1wbGUgZGVjbGFyYXRpb25zIGFyZSBtZW1iZXIgZnVuY3Rpb24gZGVjbGFyYXRpb25zXHJcbiAgICAgICAgLy8gYW5kIHRodXMgbm9uZSBzdXBwb3J0IHRoZSB2aXJ0dWFsIGtleXdvcmRcclxuICAgICAgICBpZiAob3RoZXJTcGVjcy52aXJ0dWFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi52aXJ0dWFsX3Byb2hpYml0ZWQodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZFNpbXBsZURlY2xhcmF0aW9uIGV4dGVuZHMgU2ltcGxlRGVjbGFyYXRpb24sIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuICAgIHJlYWRvbmx5IHR5cGU6IFR5cGU7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgVW5rbm93blR5cGVEZWNsYXJhdGlvbiBleHRlbmRzIFNpbXBsZURlY2xhcmF0aW9uIHtcclxuXHJcbiAgICAvLyBJZiB0aGUgZGVjbGFyZWQgdHlwZSBjYW5ub3QgYmUgZGV0ZXJtaW5lZCwgd2UgZG9uJ3Qgd2FudCB0byBnaXZlXHJcbiAgICAvLyBhIG1lYW5pbmdsZXNzIGVycm9yIHRoYXQgYW4gaW5pdGlhbGl6ZXIgaXMgbm90IGFsbG93ZWQsIHNvIHdlIHNldFxyXG4gICAgLy8gdGhpcyB0byB0cnVlLlxyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGluaXRpYWxpemVyQWxsb3dlZCA9IHRydWU7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGlzRGVmaW5pdGlvbiA9IGZhbHNlO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSB0eXBlOiB1bmRlZmluZWQ7XHJcbiAgICBcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCB0eXBlU3BlYzogVHlwZVNwZWNpZmllciwgc3RvcmFnZVNwZWM6IFN0b3JhZ2VTcGVjaWZpZXIsXHJcbiAgICAgICAgZGVjbGFyYXRvcjogRGVjbGFyYXRvciwgb3RoZXJTcGVjczogT3RoZXJTcGVjaWZpZXJzKSB7XHJcblxyXG4gICAgICAgIHN1cGVyKGNvbnRleHQsIHR5cGVTcGVjLCBzdG9yYWdlU3BlYywgZGVjbGFyYXRvciwgb3RoZXJTcGVjcyk7XHJcbiAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLnVua25vd25fdHlwZSh0aGlzKSk7XHJcbiAgICB9XHJcbiAgICBcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFZvaWREZWNsYXJhdGlvbiBleHRlbmRzIFNpbXBsZURlY2xhcmF0aW9uIHtcclxuXHJcbiAgICAvLyBTdXBwcmVzcyBtZWFuaW5nbGVzcyBlcnJvciwgc2luY2UgYSB2b2lkIGRlY2xhcmF0aW9uIGlzXHJcbiAgICAvLyBhbHdheXMgaWxsLWZvcm1lZCwgd2hldGhlciBvciBub3QgaXQgaGFzIGFuIGluaXRpYWxpemVyLlxyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGluaXRpYWxpemVyQWxsb3dlZCA9IHRydWU7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGlzRGVmaW5pdGlvbiA9IGZhbHNlO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSB0eXBlID0gVm9pZFR5cGUuVk9JRDtcclxuICAgIFxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIHR5cGVTcGVjOiBUeXBlU3BlY2lmaWVyLCBzdG9yYWdlU3BlYzogU3RvcmFnZVNwZWNpZmllcixcclxuICAgICAgICBkZWNsYXJhdG9yOiBEZWNsYXJhdG9yLCBvdGhlclNwZWNzOiBPdGhlclNwZWNpZmllcnMpIHtcclxuXHJcbiAgICAgICAgc3VwZXIoY29udGV4dCwgdHlwZVNwZWMsIHN0b3JhZ2VTcGVjLCBkZWNsYXJhdG9yLCBvdGhlclNwZWNzKTtcclxuICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24udm9pZF9wcm9oaWJpdGVkKHRoaXMpKTtcclxuICAgIH1cclxuICAgIFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVHlwZWRlZkRlY2xhcmF0aW9uIGV4dGVuZHMgU2ltcGxlRGVjbGFyYXRpb24ge1xyXG5cclxuICAgIHByb3RlY3RlZCByZWFkb25seSBpbml0aWFsaXplckFsbG93ZWQgPSBmYWxzZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBpc0RlZmluaXRpb24gPSBmYWxzZTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZTogdW5kZWZpbmVkOyAvLyB3aWxsIGNoYW5nZSB3aGVuIHR5cGVkZWYgaXMgaW1wbGVtZW50ZWRcclxuICAgIFxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIHR5cGVTcGVjOiBUeXBlU3BlY2lmaWVyLCBzdG9yYWdlU3BlYzogU3RvcmFnZVNwZWNpZmllcixcclxuICAgICAgICBkZWNsYXJhdG9yOiBEZWNsYXJhdG9yLCBvdGhlclNwZWNzOiBPdGhlclNwZWNpZmllcnMpIHtcclxuXHJcbiAgICAgICAgc3VwZXIoY29udGV4dCwgdHlwZVNwZWMsIHN0b3JhZ2VTcGVjLCBkZWNsYXJhdG9yLCBvdGhlclNwZWNzKTtcclxuICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IubG9ic3Rlci51bnN1cHBvcnRlZF9mZWF0dXJlKHRoaXMsIFwidHlwZWRlZlwiKSk7XHJcblxyXG5cclxuICAgICAgICAvLyBBREQgVEhJUyBCQUNLIElOIFdIRU4gVFlQRURFRlMgQVJFIFNVUFBPUlRFRFxyXG4gICAgICAgIC8vIGlmICh0aGlzLnN0b3JhZ2VTcGVjaWZpZXIubnVtU3BlY3MgPiAwICYmIHRoaXMuaXNUeXBlZGVmKSB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5zdG9yYWdlLnR5cGVkZWYodGhpcywgdGhpcy5zdG9yYWdlU3BlYy5hc3QpKVxyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxuICAgIFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRnJpZW5kRGVjbGFyYXRpb24gZXh0ZW5kcyBTaW1wbGVEZWNsYXJhdGlvbiB7XHJcblxyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGluaXRpYWxpemVyQWxsb3dlZCA9IGZhbHNlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGlzRGVmaW5pdGlvbiA9IGZhbHNlO1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZTogdW5kZWZpbmVkOyAvLyB3aWxsIGNoYW5nZSB3aGVuIGZyaWVuZCBpcyBpbXBsZW1lbnRlZFxyXG4gICAgXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgdHlwZVNwZWM6IFR5cGVTcGVjaWZpZXIsIHN0b3JhZ2VTcGVjOiBTdG9yYWdlU3BlY2lmaWVyLFxyXG4gICAgICAgIGRlY2xhcmF0b3I6IERlY2xhcmF0b3IsIG90aGVyU3BlY3M6IE90aGVyU3BlY2lmaWVycykge1xyXG5cclxuICAgICAgICBzdXBlcihjb250ZXh0LCB0eXBlU3BlYywgc3RvcmFnZVNwZWMsIGRlY2xhcmF0b3IsIG90aGVyU3BlY3MpO1xyXG4gICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5sb2JzdGVyLnVuc3VwcG9ydGVkX2ZlYXR1cmUodGhpcywgXCJmcmllbmRcIikpO1xyXG5cclxuICAgICAgICAvLyBUT0RPOiBBZGQgYmFjayBpbiB3aGVuIGNsYXNzZXMgYXJlIHN1cHBvcnRlZFxyXG4gICAgICAgIC8vIGlmICghKHRoaXMuY29udGV4dHVhbFNjb3BlIGluc3RhbmNlb2YgQ2xhc3NTY29wZSkpIHtcclxuICAgICAgICAvLyAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmZyaWVuZC5vdXRzaWRlX2NsYXNzKHRoaXMpKTtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIGlmIChvdGhlclNwZWNzLnZpcnR1YWwpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmZyaWVuZC52aXJ0dWFsX3Byb2hpYml0ZWQodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVW5rbm93bkJvdW5kQXJyYXlEZWNsYXJhdGlvbiBleHRlbmRzIFNpbXBsZURlY2xhcmF0aW9uIHtcclxuXHJcbiAgICAvLyBUaGlzIGNsYXNzIHNob3VsZCBvbmx5IGJlIGNyZWF0ZWQgaW4gY2FzZXMgd2hlcmUgdGhlIHNpemUgb2ZcclxuICAgIC8vIHRoZSBhcnJheSBjYW5ub3QgYmUgZGV0ZXJtaW5lZCBmcm9tIGl0cyBpbml0aWFsaXplciwgd2hpY2ggaXNcclxuICAgIC8vIHByb2JsZW1hdGljLCBidXQgdGhlIGluaXRpYWxpemVyIGl0c2VsZiBpcyBub3QgcHJvaGliaXRlZC5cclxuICAgIHByb3RlY3RlZCByZWFkb25seSBpbml0aWFsaXplckFsbG93ZWQgPSB0cnVlO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBpc0RlZmluaXRpb24gPSBmYWxzZTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZTogQXJyYXlPZlVua25vd25Cb3VuZFR5cGU7XHJcbiAgICBcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCB0eXBlU3BlYzogVHlwZVNwZWNpZmllciwgc3RvcmFnZVNwZWM6IFN0b3JhZ2VTcGVjaWZpZXIsXHJcbiAgICAgICAgZGVjbGFyYXRvcjogRGVjbGFyYXRvciwgb3RoZXJTcGVjczogT3RoZXJTcGVjaWZpZXJzLCB0eXBlOiBBcnJheU9mVW5rbm93bkJvdW5kVHlwZSkge1xyXG5cclxuICAgICAgICBzdXBlcihjb250ZXh0LCB0eXBlU3BlYywgc3RvcmFnZVNwZWMsIGRlY2xhcmF0b3IsIG90aGVyU3BlY3MpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmFycmF5Lmxlbmd0aF9yZXF1aXJlZCh0aGlzKSk7XHJcbiAgICB9XHJcbiAgICBcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEZ1bmN0aW9uRGVjbGFyYXRpb24gZXh0ZW5kcyBTaW1wbGVEZWNsYXJhdGlvbiB7XHJcblxyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGluaXRpYWxpemVyQWxsb3dlZCA9IGZhbHNlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGlzRGVmaW5pdGlvbiA9IGZhbHNlO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSB0eXBlOiBGdW5jdGlvblR5cGU7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGVjbGFyZWRFbnRpdHk6IEZ1bmN0aW9uRW50aXR5O1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBwYXJhbWV0ZXJEZWNsYXJhdG9yczogcmVhZG9ubHkgRGVjbGFyYXRvcltdOyAvLyBkZWZpbmVkIGlmIHRoaXMgaXMgYSBkZWNsYXJhdG9yIG9mIGZ1bmN0aW9uIHR5cGVcclxuICAgIFxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIHR5cGVTcGVjOiBUeXBlU3BlY2lmaWVyLCBzdG9yYWdlU3BlYzogU3RvcmFnZVNwZWNpZmllcixcclxuICAgICAgICBkZWNsYXJhdG9yOiBEZWNsYXJhdG9yLCBvdGhlclNwZWNzOiBPdGhlclNwZWNpZmllcnMsIHR5cGU6IEZ1bmN0aW9uVHlwZSkge1xyXG5cclxuICAgICAgICBzdXBlcihjb250ZXh0LCB0eXBlU3BlYywgc3RvcmFnZVNwZWMsIGRlY2xhcmF0b3IsIG90aGVyU3BlY3MpO1xyXG5cclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgICAgIHRoaXMuZGVjbGFyZWRFbnRpdHkgPSBuZXcgRnVuY3Rpb25FbnRpdHkodHlwZSwgdGhpcyk7XHJcblxyXG4gICAgICAgIGFzc2VydCghIXRoaXMuZGVjbGFyYXRvci5wYXJhbWV0ZXJzLCBcIlRoZSBkZWNsYXJhdG9yIGZvciBhIGZ1bmN0aW9uIGRlY2xhcmF0aW9uIG11c3QgY29udGFpbiBkZWNsYXJhdG9ycyBmb3IgaXRzIHBhcmFtZXRlcnMgYXMgd2VsbC5cIik7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJEZWNsYXJhdG9ycyA9IHRoaXMuZGVjbGFyYXRvci5wYXJhbWV0ZXJzITtcclxuXHJcbiAgICAgICAgLy8gSWYgbWFpbiwgc2hvdWxkIGhhdmUgbm8gcGFyYW1ldGVyc1xyXG4gICAgICAgIGlmICh0aGlzLmRlY2xhcmVkRW50aXR5LmlzTWFpbigpICYmIHRoaXMudHlwZS5wYXJhbVR5cGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmZ1bmMubWFpblBhcmFtcyh0aGlzLmRlY2xhcmF0b3IpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGlmICh0aGlzLmlzTWVtYmVyRnVuY3Rpb24pe1xyXG4gICAgICAgIC8vICAgICB0aGlzLmlfY29udGFpbmluZ0NsYXNzLmFkZE1lbWJlcih0aGlzLmVudGl0eSk7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuXHJcbiAgICAgICAgLy8gaWYgKCF0aGlzLmlzTWVtYmVyRnVuY3Rpb24gJiYgdGhpcy52aXJ0dWFsKXtcclxuICAgICAgICAvLyAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmZ1bmMudmlydHVhbF9ub3RfYWxsb3dlZCh0aGlzKSk7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAvLyB0aGlzLmNoZWNrT3ZlcmxvYWRTZW1hbnRpY3MoKTtcclxuXHJcbiAgICAgICAgdHJ5e1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuY29udGV4dHVhbFNjb3BlLmFkZERlY2xhcmVkRW50aXR5KHRoaXMuZGVjbGFyZWRFbnRpdHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaChlKSB7XHJcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgTm90ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBIGZ1bmN0aW9uIGRlY2xhcmF0aW9uIGhhcyBsaW5rYWdlLCB1bmxlc3MgaXQgaXMgYSBsb2NhbCBmdW5jdGlvbiBkZWNsYXJhdGlvbiBpbiBhIGJsb2NrIHNjb3BlXHJcbiAgICAgICAgLy8gKHdoaWNoIGhhcyBubyBsaW5rYWdlKS4gVGhlIGxpbmthZ2UgaXMgcHJlc3VtZWQgdG8gYmUgZXh0ZXJuYWwsIGJlY2F1c2UgTG9ic3RlciBkb2VzIG5vdFxyXG4gICAgICAgIC8vIHN1cHBvcnQgdXNpbmcgdGhlIHN0YXRpYyBrZXl3b3JkIHRvIHNwZWNpZnkgaW50ZXJuYWwgbGlua2FnZS5cclxuICAgICAgICBpZiAodGhpcy5jb250ZXh0LmNvbnRleHR1YWxTY29wZSBpbnN0YW5jZW9mIE5hbWVzcGFjZVNjb3BlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC50cmFuc2xhdGlvblVuaXQucHJvZ3JhbS5yZWdpc3RlckxpbmtlZEVudGl0eSh0aGlzLmRlY2xhcmVkRW50aXR5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuXHJcblxyXG4gICAgLy8gY2hlY2tPdmVybG9hZFNlbWFudGljcyA6IGZ1bmN0aW9uKCl7XHJcbiAgICAvLyAgICAgaWYgKHRoaXMubmFtZSA9PT0gXCJvcGVyYXRvcj1cIiB8fCB0aGlzLm5hbWUgPT09IFwib3BlcmF0b3IoKVwiIHx8IHRoaXMubmFtZSA9PT0gXCJvcGVyYXRvcltdXCIpe1xyXG4gICAgLy8gICAgICAgICBpZiAoIXRoaXMuaXNNZW1iZXJGdW5jdGlvbil7XHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uZnVuYy5vcF9tZW1iZXIodGhpcykpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG5cclxuICAgIC8vICAgICBpZiAodGhpcy5uYW1lID09PSBcIm9wZXJhdG9yW11cIiAmJiB0aGlzLnBhcmFtcy5sZW5ndGggIT09IDEpe1xyXG4gICAgLy8gICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uZnVuYy5vcF9zdWJzY3JpcHRfb25lX3BhcmFtKHRoaXMpKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9LFxyXG5cclxufVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFZhcmlhYmxlRGVmaW5pdGlvbjxDb250ZXh0VHlwZSBleHRlbmRzIFRyYW5zbGF0aW9uVW5pdENvbnRleHQgPSBUcmFuc2xhdGlvblVuaXRDb250ZXh0PiBleHRlbmRzIFNpbXBsZURlY2xhcmF0aW9uPENvbnRleHRUeXBlPiB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGluaXRpYWxpemVyPzogSW5pdGlhbGl6ZXI7XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IHJlYWRvbmx5IGRlY2xhcmVkRW50aXR5OiBWYXJpYWJsZUVudGl0eTtcclxuXHJcbiAgICBwcml2YXRlIHNldEluaXRpYWxpemVyKGluaXQ6IEluaXRpYWxpemVyKSB7XHJcbiAgICAgICAgYXNzZXJ0KCF0aGlzLmluaXRpYWxpemVyKTtcclxuICAgICAgICAoPE11dGFibGU8dGhpcz4+dGhpcykuaW5pdGlhbGl6ZXIgPSBpbml0O1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXREZWZhdWx0SW5pdGlhbGl6ZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0SW5pdGlhbGl6ZXIoRGVmYXVsdEluaXRpYWxpemVyLmNyZWF0ZSh0aGlzLmNvbnRleHQsIHRoaXMuZGVjbGFyZWRFbnRpdHkpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0RGlyZWN0SW5pdGlhbGl6ZXIoYXJnczogcmVhZG9ubHkgRXhwcmVzc2lvbltdKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0SW5pdGlhbGl6ZXIoRGlyZWN0SW5pdGlhbGl6ZXIuY3JlYXRlKHRoaXMuY29udGV4dCwgdGhpcy5kZWNsYXJlZEVudGl0eSwgYXJncykpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRDb3B5SW5pdGlhbGl6ZXIoYXJnczogcmVhZG9ubHkgRXhwcmVzc2lvbltdKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0SW5pdGlhbGl6ZXIoQ29weUluaXRpYWxpemVyLmNyZWF0ZSh0aGlzLmNvbnRleHQsIHRoaXMuZGVjbGFyZWRFbnRpdHksIGFyZ3MpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0SW5pdGlhbGl6ZXJMaXN0KGFyZ3M6IHJlYWRvbmx5IEV4cHJlc3Npb25bXSkge1xyXG4gICAgICAgIC8vIFRPRE8gaW1wbGVtZW50IGluaXRpYWxpemVyIGxpc3RzXHJcbiAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmxvYnN0ZXIudW5zdXBwb3J0ZWRfZmVhdHVyZSh0aGlzLCBcImluaXRpYWxpemVyIGxpc3RzXCIpKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZFZhcmlhYmxlRGVmaW5pdGlvbjxUIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGU+IGV4dGVuZHMgVmFyaWFibGVEZWZpbml0aW9uLCBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcbiAgICByZWFkb25seSBkZWNsYXJlZEVudGl0eTogVmFyaWFibGVFbnRpdHk8VD47XHJcbiAgICByZWFkb25seSBpbml0aWFsaXplcj86IENvbXBpbGVkSW5pdGlhbGl6ZXI8VD47XHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTG9jYWxWYXJpYWJsZURlZmluaXRpb24gZXh0ZW5kcyBWYXJpYWJsZURlZmluaXRpb248QmxvY2tDb250ZXh0PiB7XHJcblxyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGluaXRpYWxpemVyQWxsb3dlZCA9IHRydWU7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNEZWZpbml0aW9uID0gdHJ1ZTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZSA6IE9iamVjdFR5cGUgfCBSZWZlcmVuY2VUeXBlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGRlY2xhcmVkRW50aXR5OiBBdXRvRW50aXR5PE9iamVjdFR5cGU+IHwgTG9jYWxSZWZlcmVuY2VFbnRpdHk8T2JqZWN0VHlwZT47XHJcbiAgICBcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBCbG9ja0NvbnRleHQsIHR5cGVTcGVjOiBUeXBlU3BlY2lmaWVyLCBzdG9yYWdlU3BlYzogU3RvcmFnZVNwZWNpZmllcixcclxuICAgICAgICBkZWNsYXJhdG9yOiBEZWNsYXJhdG9yLCBvdGhlclNwZWNzOiBPdGhlclNwZWNpZmllcnMsIHR5cGU6IE9iamVjdFR5cGUgfCBSZWZlcmVuY2VUeXBlKSB7XHJcblxyXG4gICAgICAgIHN1cGVyKGNvbnRleHQsIHR5cGVTcGVjLCBzdG9yYWdlU3BlYywgZGVjbGFyYXRvciwgb3RoZXJTcGVjcyk7XHJcblxyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcblxyXG4gICAgICAgIHRoaXMuZGVjbGFyZWRFbnRpdHkgPSBcclxuICAgICAgICAgICAgdHlwZS5pc1JlZmVyZW5jZVR5cGUoKSA/IG5ldyBMb2NhbFJlZmVyZW5jZUVudGl0eSh0eXBlLnJlZlRvLCB0aGlzKSA6IG5ldyBBdXRvRW50aXR5KHR5cGUsIHRoaXMpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gTm90ZSBleHRlcm4gdW5zdXBwb3J0ZWQgZXJyb3IgaXMgYWRkZWQgaW4gdGhlIGJhc2UgRGVjbGFyYXRpb24gY2xhc3MsIHNvIG5vIG5lZWQgdG8gYWRkIGhlcmVcclxuXHJcbiAgICAgICAgLy8gQWxsIGxvY2FsIGRlY2xhcmF0aW9ucyBhcmUgYWxzbyBkZWZpbml0aW9ucywgd2l0aCB0aGUgZXhjZXB0aW9uIG9mIGEgbG9jYWwgZGVjbGFyYXRpb24gb2YgYSBmdW5jdGlvblxyXG4gICAgICAgIC8vIG9yIGEgbG9jYWwgZGVjbGFyYXRpb24gd2l0aCB0aGUgZXh0ZXJuIHN0b3JhZ2Ugc3BlY2lmaWVyLCBidXQgdGhvc2UgYXJlIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkIGJ5IExvYnN0ZXIuXHJcbiAgICAgICAgLy8gVGhpcyBtZWFucyBhIGxvY2FsbHkgZGVjbGFyZWQgdmFyaWFibGUgZG9lcyBub3QgaGF2ZSBsaW5rYWdlLCBhbmQgd2UgZG9uJ3QgbmVlZCB0byBkbyBhbnkgbGlua2luZyBzdHVmZiBoZXJlLlxyXG5cclxuICAgICAgICAvLyBBdHRlbXB0IHRvIGFkZCB0aGUgZGVjbGFyZWQgZW50aXR5IHRvIHRoZSBzY29wZS4gSWYgaXQgZmFpbHMsIG5vdGUgdGhlIGVycm9yLlxyXG4gICAgICAgIC8vIChlLmcuIGFuIGVudGl0eSB3aXRoIHRoZSBzYW1lIG5hbWUgd2FzIGFscmVhZHkgZGVjbGFyZWQgaW4gdGhlIHNhbWUgc2NvcGUpXHJcbiAgICAgICAgdHJ5e1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuY29udGV4dHVhbFNjb3BlLmFkZERlY2xhcmVkRW50aXR5KHRoaXMuZGVjbGFyZWRFbnRpdHkpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZnVuY3Rpb25Mb2NhbHMucmVnaXN0ZXJMb2NhbFZhcmlhYmxlKHRoaXMuZGVjbGFyZWRFbnRpdHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaChlKSB7XHJcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgTm90ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRMb2NhbFZhcmlhYmxlRGVmaW5pdGlvbjxUIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGU+IGV4dGVuZHMgTG9jYWxWYXJpYWJsZURlZmluaXRpb24sIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuICAgIHJlYWRvbmx5IGRlY2xhcmVkRW50aXR5OiBBdXRvRW50aXR5PFQ+IHwgTG9jYWxSZWZlcmVuY2VFbnRpdHk8VD5cclxuICAgIHJlYWRvbmx5IGluaXRpYWxpemVyPzogQ29tcGlsZWRJbml0aWFsaXplcjxUPjtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBHbG9iYWxPYmplY3REZWZpbml0aW9uIGV4dGVuZHMgVmFyaWFibGVEZWZpbml0aW9uIHtcclxuICAgIHB1YmxpYyByZWFkb25seSBraW5kID0gXCJHbG9iYWxPYmplY3REZWZpbml0aW9uXCI7XHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgaW5pdGlhbGl6ZXJBbGxvd2VkID0gdHJ1ZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBpc0RlZmluaXRpb24gPSB0cnVlO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSB0eXBlIDogT2JqZWN0VHlwZSB8IFJlZmVyZW5jZVR5cGU7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGVjbGFyZWRFbnRpdHkhOiBTdGF0aWNFbnRpdHk8T2JqZWN0VHlwZT47IC8vIG9ubHkgYWxsb3dzIHVuZGVmaW5lZCBiZWNhdXNlIGdsb2JhbCByZWZlcmVuY2VzIGFyZSBub3QgeWV0IHN1cHBvcnRlZFxyXG4gICAgXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgdHlwZVNwZWM6IFR5cGVTcGVjaWZpZXIsIHN0b3JhZ2VTcGVjOiBTdG9yYWdlU3BlY2lmaWVyLFxyXG4gICAgICAgIGRlY2xhcmF0b3I6IERlY2xhcmF0b3IsIG90aGVyU3BlY3M6IE90aGVyU3BlY2lmaWVycywgdHlwZTogT2JqZWN0VHlwZSB8IFJlZmVyZW5jZVR5cGUpIHtcclxuXHJcbiAgICAgICAgc3VwZXIoY29udGV4dCwgdHlwZVNwZWMsIHN0b3JhZ2VTcGVjLCBkZWNsYXJhdG9yLCBvdGhlclNwZWNzKTtcclxuXHJcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGUuaXNSZWZlcmVuY2VUeXBlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmxvYnN0ZXIudW5zdXBwb3J0ZWRfZmVhdHVyZSh0aGlzLCBcImdsb2JhbGx5IHNjb3BlZCByZWZlcmVuY2VzXCIpKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5kZWNsYXJlZEVudGl0eSA9IG5ldyBTdGF0aWNFbnRpdHkodHlwZSwgdGhpcyk7XHJcblxyXG4gICAgICAgIC8vIEF0dGVtcHQgdG8gYWRkIHRoZSBkZWNsYXJlZCBlbnRpdHkgdG8gdGhlIHNjb3BlLiBJZiBpdCBmYWlscywgbm90ZSB0aGUgZXJyb3IuXHJcbiAgICAgICAgLy8gKGUuZy4gYW4gZW50aXR5IHdpdGggdGhlIHNhbWUgbmFtZSB3YXMgYWxyZWFkeSBkZWNsYXJlZCBpbiB0aGUgc2FtZSBzY29wZSlcclxuICAgICAgICB0cnl7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5jb250ZXh0dWFsU2NvcGUuYWRkRGVjbGFyZWRFbnRpdHkodGhpcy5kZWNsYXJlZEVudGl0eSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoKGUpIHtcclxuICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBOb3RlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIHRocm93IGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY29udGV4dC50cmFuc2xhdGlvblVuaXQucHJvZ3JhbS5yZWdpc3Rlckdsb2JhbE9iamVjdERlZmluaXRpb24odGhpcy5kZWNsYXJlZEVudGl0eS5xdWFsaWZpZWROYW1lLCB0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPIGNyZWF0ZSBvYmplY3Qgd2l0aCBsaW5rYWdlIGlmIGFwcHJvcHJpYXRlXHJcbiAgICAgICAgICAgIC8vIHRoaXMuY29udGV4dC50cmFuc2xhdGlvblVuaXQucmVnaXN0ZXJEZWZpbml0aW9uKGVudGl0eSwgdGhpcyk7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkR2xvYmFsT2JqZWN0RGVmaW5pdGlvbjxUIGV4dGVuZHMgT2JqZWN0VHlwZSA9IE9iamVjdFR5cGU+IGV4dGVuZHMgR2xvYmFsT2JqZWN0RGVmaW5pdGlvbiwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4gICAgcmVhZG9ubHkgZGVjbGFyZWRFbnRpdHk6IFN0YXRpY0VudGl0eTxUPjtcclxuICAgIHJlYWRvbmx5IGluaXRpYWxpemVyPzogQ29tcGlsZWRJbml0aWFsaXplcjxUPjtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBQYXJhbWV0ZXJEZWZpbml0aW9uIGV4dGVuZHMgU2ltcGxlRGVjbGFyYXRpb24ge1xyXG5cclxuICAgIHByb3RlY3RlZCByZWFkb25seSBpbml0aWFsaXplckFsbG93ZWQgPSB0cnVlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGlzRGVmaW5pdGlvbiA9IHRydWU7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGUgOiBQb3RlbnRpYWxQYXJhbWV0ZXJUeXBlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGRlY2xhcmVkRW50aXR5OiBBdXRvRW50aXR5PE9iamVjdFR5cGU+IHwgTG9jYWxSZWZlcmVuY2VFbnRpdHk8T2JqZWN0VHlwZT47XHJcbiAgICBcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBGdW5jdGlvbkNvbnRleHQsIHR5cGVTcGVjOiBUeXBlU3BlY2lmaWVyLCBzdG9yYWdlU3BlYzogU3RvcmFnZVNwZWNpZmllcixcclxuICAgICAgICBkZWNsYXJhdG9yOiBEZWNsYXJhdG9yLCBvdGhlclNwZWNzOiBPdGhlclNwZWNpZmllcnMsIHR5cGU6IFBvdGVudGlhbFBhcmFtZXRlclR5cGUpIHtcclxuXHJcbiAgICAgICAgc3VwZXIoY29udGV4dCwgdHlwZVNwZWMsIHN0b3JhZ2VTcGVjLCBkZWNsYXJhdG9yLCBvdGhlclNwZWNzKTtcclxuXHJcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcclxuXHJcbiAgICAgICAgdGhpcy5kZWNsYXJlZEVudGl0eSA9IFxyXG4gICAgICAgICAgICB0aGlzLnR5cGUuaXNSZWZlcmVuY2VUeXBlKCkgPyBuZXcgTG9jYWxSZWZlcmVuY2VFbnRpdHkodGhpcy50eXBlLnJlZlRvLCB0aGlzLCB0cnVlKSA6XHJcbiAgICAgICAgICAgIG5ldyBBdXRvRW50aXR5KHRoaXMudHlwZSwgdGhpcywgdHJ1ZSk7XHJcblxyXG4gICAgICAgIC8vIEF0dGVtcHQgdG8gYWRkIHRoZSBkZWNsYXJlZCBlbnRpdHkgdG8gdGhlIHNjb3BlLiBJZiBpdCBmYWlscywgbm90ZSB0aGUgZXJyb3IuXHJcbiAgICAgICAgLy8gKGUuZy4gYW4gZW50aXR5IHdpdGggdGhlIHNhbWUgbmFtZSB3YXMgYWxyZWFkeSBkZWNsYXJlZCBpbiB0aGUgc2FtZSBzY29wZSlcclxuICAgICAgICB0cnl7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5jb250ZXh0dWFsU2NvcGUuYWRkRGVjbGFyZWRFbnRpdHkodGhpcy5kZWNsYXJlZEVudGl0eSk7XHJcblxyXG4gICAgICAgICAgICAvLyBSZWdpc3RlciB0aGUgZGVmaW5lZCBsb2NhbCBvYmplY3QvcmVmZXJlbmNlXHJcbiAgICAgICAgICAgIGNvbnRleHQuZnVuY3Rpb25Mb2NhbHMucmVnaXN0ZXJMb2NhbFZhcmlhYmxlKHRoaXMuZGVjbGFyZWRFbnRpdHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaChlKSB7XHJcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgTm90ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufVxyXG5cclxuXHJcbmludGVyZmFjZSBBcnJheVBvc3RmaXhEZWNsYXJhdG9yQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBraW5kOiBcImFycmF5XCI7XHJcbiAgICByZWFkb25seSBzaXplPzogRXhwcmVzc2lvbkFTVE5vZGU7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQXJndW1lbnREZWNsYXJhdGlvbkFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgZGVjbGFyYXRvcjogRGVjbGFyYXRvckFTVE5vZGU7XHJcbiAgICByZWFkb25seSBzcGVjczogRGVjbGFyYXRpb25TcGVjaWZpZXJzQVNUTm9kZTtcclxuICAgIHJlYWRvbmx5IGluaXRpYWxpemVyPzogSW5pdGlhbGl6ZXJBU1ROb2RlO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRnVuY3Rpb25Qb3N0Zml4RGVjbGFyYXRvckFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkga2luZDogXCJmdW5jdGlvblwiO1xyXG4gICAgcmVhZG9ubHkgc2l6ZTogRXhwcmVzc2lvbkFTVE5vZGU7XHJcbiAgICByZWFkb25seSBhcmdzOiByZWFkb25seSBBcmd1bWVudERlY2xhcmF0aW9uQVNUTm9kZVtdO1xyXG4gICAgcmVhZG9ubHkgY29uc3Q/OiBib29sZWFuO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRGVjbGFyYXRvckFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IHB1cmVWaXJ0dWFsPzogYm9vbGVhbjtcclxuICAgIHJlYWRvbmx5IHN1Yj86IERlY2xhcmF0b3JBU1ROb2RlOyAvLyBwYXJlbnRoZXNlc1xyXG4gICAgcmVhZG9ubHkgcG9pbnRlcj86IERlY2xhcmF0b3JBU1ROb2RlO1xyXG4gICAgcmVhZG9ubHkgcmVmZXJlbmNlPzogRGVjbGFyYXRvckFTVE5vZGU7XHJcbiAgICByZWFkb25seSBjb25zdD86IGJvb2xlYW47XHJcbiAgICByZWFkb25seSB2b2xhdGlsZT86IGJvb2xlYW47XHJcbiAgICByZWFkb25seSBuYW1lPzogSWRlbnRpZmllckFTVE5vZGU7XHJcbiAgICByZWFkb25seSBwb3N0Zml4ZXM/OiByZWFkb25seSAoQXJyYXlQb3N0Zml4RGVjbGFyYXRvckFTVE5vZGUgfCBGdW5jdGlvblBvc3RmaXhEZWNsYXJhdG9yQVNUTm9kZSlbXTtcclxufVxyXG5cclxuaW50ZXJmYWNlIERlY2xhcmF0b3JJbml0QVNUTm9kZSBleHRlbmRzIERlY2xhcmF0b3JBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGluaXRpYWxpemVyPzogSW5pdGlhbGl6ZXJBU1ROb2RlO1xyXG59XHJcblxyXG4vLyBUT0RPOiB0YWtlIGJhc2VUeXBlIGFzIGEgcGFyYW1ldGVyIHRvIGNvbXBpbGUgcmF0aGVyIHRoYW4gaW5pdFxyXG5leHBvcnQgY2xhc3MgRGVjbGFyYXRvciBleHRlbmRzIEJhc2ljQ1BQQ29uc3RydWN0IHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbmFtZT86IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSB0eXBlPzogVHlwZTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgYmFzZVR5cGU/OiBUeXBlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGlzUHVyZVZpcnR1YWw/OiBib29sZWFuO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBwYXJhbWV0ZXJzPzogcmVhZG9ubHkgRGVjbGFyYXRvcltdOyAvLyBkZWZpbmVkIGlmIHRoaXMgaXMgYSBkZWNsYXJhdG9yIG9mIGZ1bmN0aW9uIHR5cGVcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUZyb21BU1QoYXN0OiBEZWNsYXJhdG9yQVNUTm9kZSwgY29udGV4dDogVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgYmFzZVR5cGU6IFR5cGUgfCB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gbmV3IERlY2xhcmF0b3IoY29udGV4dCwgYXN0LCBiYXNlVHlwZSk7IC8vIE5vdGUgLnNldEFTVChhc3QpIGlzIGNhbGxlZCBpbiB0aGUgY3RvciBhbHJlYWR5XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogYERlY2xhcmF0b3IuY3JlYXRlRnJvbUFTVCgpYCBzaG91bGQgYWx3YXlzIGJlIHVzZWQgdG8gY3JlYXRlIERlY2xhcmF0b3JzLCB3aGljaCBkZWxlZ2F0ZXNcclxuICAgICAqIHRvIHRoaXMgcHJpdmF0ZSBjb25zdHJ1Y3Rvci4gRGlyZWN0bHkgY2FsbGluZyB0aGUgY29uc3RydWN0b3IgZnJvbSB0aGUgb3V0c2lkZSBpcyBub3QgYWxsb3dlZC5cclxuICAgICAqIFNpbmNlIGRlY2xhcmF0b3JzIGFyZSBsYXJnZWx5IGFib3V0IHByb2Nlc3NpbmcgYW4gQVNULCBpdCBkb2Vzbid0IG1ha2UgbXVjaCBzZW5zZSB0byBjcmVhdGVcclxuICAgICAqIG9uZSB3aXRob3V0IGFuIEFTVC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3Rvcihjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCBhc3Q6IERlY2xhcmF0b3JBU1ROb2RlLCBiYXNlVHlwZTogVHlwZSB8IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHN1cGVyKGNvbnRleHQpO1xyXG4gICAgICAgIHRoaXMuc2V0QVNUKGFzdCk7XHJcbiAgICAgICAgdGhpcy5iYXNlVHlwZSA9IGJhc2VUeXBlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGxldCBpc01lbWJlciA9IGlzQSh0aGlzLnBhcmVudCwgRGVjbGFyYXRpb25zLk1lbWJlcik7XHJcblxyXG4gICAgICAgIGlmIChhc3QucHVyZVZpcnR1YWwpIHsgdGhpcy5pc1B1cmVWaXJ0dWFsID0gdHJ1ZTsgfVxyXG5cclxuICAgICAgICB0aGlzLmRldGVybWluZU5hbWVBbmRUeXBlKGFzdCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkZXRlcm1pbmVOYW1lQW5kVHlwZShhc3Q6IERlY2xhcmF0b3JBU1ROb2RlKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCF0aGlzLmJhc2VUeXBlKSB7IC8vIElmIHRoZXJlJ3Mgbm8gYmFzZSB0eXBlLCB3ZSByZWFsbHkgY2FuJ3QgZG8gbXVjaFxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgdHlwZSA9IHRoaXMuYmFzZVR5cGU7XHJcblxyXG4gICAgICAgIGxldCBmaXJzdCA9IHRydWU7XHJcbiAgICAgICAgLy8gbGV0IHByZXZLaW5kIDogXCJmdW5jdGlvblwiIHwgXCJyZWZlcmVuY2VcIiB8IFwicG9pbnRlclwiIHwgXCJhcnJheVwiIHwgXCJub25lXCIgPSBcIm5vbmVcIjtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgZGVjbDogRGVjbGFyYXRvckFTVE5vZGUgfCB1bmRlZmluZWQgPSBhc3Q7IC8vIEFTVCB3aWxsIGFsd2F5cyBiZSBwcmVzZW50IG9uIERlY2xhcmF0b3JzXHJcbiAgICAgICAgd2hpbGUgKGRlY2wpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIFdlIHdhbnQgdG8gY2hlY2sgd2hldGhlciB0aGlzIGlzIHRoZSBpbm5lcm1vc3QgdGhpbmcsIGJ1dCBmaXJzdCB3ZSBuZWVkIHRvIGxvb3BcclxuICAgICAgICAgICAgLy8gdG8gZGVzY2VuZCB0aHJvdWdoIGFueSBBU1QgcmVwcmVzZW50YXRpb24gb2YgcGFyZW50aGVzZXMgd2l0aGluIHRoZSBkZWNsYXJhdG9yLlxyXG4gICAgICAgICAgICBsZXQgdGVtcERlY2wgPSBkZWNsO1xyXG4gICAgICAgICAgICB3aGlsZSh0ZW1wRGVjbC5zdWIpIHtcclxuICAgICAgICAgICAgICAgIHRlbXBEZWNsID0gdGVtcERlY2wuc3ViO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgaXNJbm5lcm1vc3QgPSAhKHRlbXBEZWNsLnBvaW50ZXIgfHwgdGVtcERlY2wucmVmZXJlbmNlIHx8IHRlbXBEZWNsLnN1Yik7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGVjbC5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAoPE11dGFibGU8dGhpcz4+dGhpcykubmFtZSA9IGRlY2wubmFtZS5pZGVudGlmaWVyO1xyXG4gICAgICAgICAgICAgICAgY2hlY2tJZGVudGlmaWVyKHRoaXMsIGRlY2wubmFtZS5pZGVudGlmaWVyLCB0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGRlY2wucG9zdGZpeGVzKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGFyZVBvc3RmaXhlc0lubmVybW9zdCA9IGlzSW5uZXJtb3N0O1xyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBpID0gZGVjbC5wb3N0Zml4ZXMubGVuZ3RoLTE7IGkgPj0gMDsgLS1pKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEEgcG9zdGZpeCBwb3J0aW9uIG9mIGEgZGVjbGFyYXRvciBpcyBvbmx5IGlubmVybW9zdCBpZiBpdCdzIHRoZSBsZWZ0bW9zdCBvbmUsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hpY2ggd291bGQgYmUgY2xvc2VzdCB0byB3aGVyZSB0aGUgbmFtZSB3b3VsZCBvY2N1ciBpbiB0aGUgZGVjbGFyYXRvci4gKE5vdGVcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGF0IHRoaXMgaXMgYWxzbyB0aGUgbGFzdCBvbmUgcHJvY2Vzc2VkIGhlcmUsIHNpbmNlIHdlIGl0ZXJhdGUgYmFja3dhcmQgZG93biB0byAwLilcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcG9zdGZpeCA9IGRlY2wucG9zdGZpeGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlzSW5uZXJtb3N0ID0gYXJlUG9zdGZpeGVzSW5uZXJtb3N0ICYmIGkgPT09IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHBvc3RmaXgua2luZCA9PT0gXCJhcnJheVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlLmlzQm91bmRlZEFycmF5VHlwZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uYXJyYXkubXVsdGlkaW1lbnNpb25hbF9hcnJheXNfdW5zdXBwb3J0ZWQodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXR5cGUuaXNBcnJheUVsZW1UeXBlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5hcnJheS5pbnZhbGlkX2VsZW1lbnRfdHlwZSh0aGlzLCB0eXBlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGl0J3MgYSBwYXJhbWV0ZXIgYW5kIGl0J3MgYW4gYXJyYXksIGFkanVzdCB0byBwb2ludGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IG1vdmUgdGhpcyB0byBQYXJhbWV0ZXIgRGVjbGFyYXRpb24gY2xhc3MgaW5zdGVhZCBvZiBoZXJlIHNvIHRoYXQgYSBEZWNsYXJhdG9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvZXNuJ3QgbmVlZCBpbmZvcm1hdGlvbiBhYm91dCBpdHMgY29udGV4dCAoaS5lLiB3aGV0aGVyIGl0J3MgaW4gYSBwYXJhbWV0ZXIpIHRvIGRvIGl0cyBqb2IuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIChpc1BhcmFtICYmIGlubmVybW9zdCAmJiBpID09IGRlY2wucG9zdGZpeGVzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHByZXYgPSBcInBvaW50ZXJcIjsgLy8gRG9uJ3QgdGhpbmsgdGhpcyBpcyBuZWNlc3NhcnlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHR5cGUgPSBUeXBlcy5Qb2ludGVyLmluc3RhbmNlKHR5cGUsIGRlY2xbXCJjb25zdFwiXSwgZGVjbFtcInZvbGF0aWxlXCJdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvc3RmaXguc2l6ZSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3N0Zml4LnNpemUuY29uc3RydWN0X3R5cGUgPT09IFwibnVtZXJpY19saXRlcmFsXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgc2l6ZSBzcGVjaWZpZWQgaXMgYSBsaXRlcmFsLCBqdXN0IHVzZSBpdHMgdmFsdWUgYXMgYXJyYXkgbGVuZ3RoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9IG5ldyBCb3VuZGVkQXJyYXlUeXBlKHR5cGUsIHBhcnNlTnVtZXJpY0xpdGVyYWxWYWx1ZUZyb21BU1QocG9zdGZpeC5zaXplKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBhIHNpemUgaXMgc3BlY2lmaWVkLCB0aGF0IGlzIG5vdCBhIGxpdGVyYWwsIGl0IG11c3QgYmUgYW4gZXhwcmVzc2lvbiAodmlhIHRoZSBncmFtbWFyKS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHNpemUgZXhwcmVzc2lvbiBjb3VsZCBlLmcuIGJlIHVzZWQgZm9yIGEgZHluYW1pY2FsbHkgYWxsb2NhdGVkIGFycmF5LiBJbiB0aGF0IGNhc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgcHJvdmlkZSB0aGUgQVNUIG9mIHRoZSBzaXplIGV4cHJlc3Npb24gYXMgcGFydCBvZiB0aGUgdHlwZSBzbyBpdCBjYW4gYmUgdXNlZCBsYXRlciBieVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGEgbmV3IGV4cHJlc3Npb24gdG8gY29uc3RydWN0IHRoZSBzaXplIHN1YmV4cHJlc3Npb24gZm9yIHRoZSBhbGxvY2F0ZWQgYXJyYXkuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9IG5ldyBBcnJheU9mVW5rbm93bkJvdW5kVHlwZSh0eXBlLCBwb3N0Zml4LnNpemUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IEl0IGlzIGFsc28gcG9zc2libGUgdGhlIHNpemUgaXMgYSBjb21waWxlLXRpbWUgY29uc3RhbnQgZXhwcmVzc2lvbiwgaW4gd2hpY2ggY2FzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0IHNob3VsZCBiZSBldmFsdWF0ZWQgdG8gZGV0ZXJtaW5lIHRoZSBzaXplLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IG1vdmUgdGhlc2UgZXJyb3JzIGVsc2V3aGVyZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHBvc3RmaXguc2l6ZS5jb25zdHJ1Y3RfdHlwZSAhPT0gXCJsaXRlcmFsXCIgJiYgIShpc0lubmVybW9zdCAmJiBpc0EodGhpcy5wYXJlbnQsIEV4cHJlc3Npb25zLk5ld0V4cHJlc3Npb24pKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAvL1RPRE8gbmVlZCB0byBldmFsdWF0ZSBzaXplIG9mIGFycmF5IGlmIGl0J3MgYSBjb21waWxlLXRpbWUgY29uc3RhbnQgZXhwcmVzc2lvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5hcnJheS5saXRlcmFsX2xlbmd0aF9vbmx5KHRoaXMpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVsc2UgaWYgKHBvc3RmaXguc2l6ZS5jb25zdHJ1Y3RfdHlwZSA9PT0gXCJsaXRlcmFsXCIgJiYgcG9zdGZpeC5zaXplLnZhbHVlID09IDAgJiYgIShpbm5lcm1vc3QgJiYgaXNBKHRoaXMucGFyZW50LCBFeHByZXNzaW9ucy5OZXdFeHByZXNzaW9uKSkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5hcnJheS56ZXJvX2xlbmd0aCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlbHNlIHNpemUgd2FzIGZpbmUgYW5kIG5vdGhpbmcgbmVlZHMgdG8gYmUgZG9uZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9IG5ldyBBcnJheU9mVW5rbm93bkJvdW5kVHlwZSh0eXBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwb3N0Zml4LmtpbmQgPT09IFwiZnVuY3Rpb25cIikge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0eXBlLmlzUG90ZW50aWFsUmV0dXJuVHlwZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZS5pc0Z1bmN0aW9uVHlwZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmZ1bmMucmV0dXJuX2Z1bmModGhpcykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZS5pc0JvdW5kZWRBcnJheVR5cGUoKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmZ1bmMucmV0dXJuX2FycmF5KHRoaXMpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5mdW5jLmludmFsaWRfcmV0dXJuX3R5cGUodGhpcywgdHlwZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFyYW1EZWNsYXJhdG9ycyA9IHBvc3RmaXguYXJncy5tYXAoKGFyZ0FTVCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3RvcmFnZVNwZWMgPSBTdG9yYWdlU3BlY2lmaWVyLmNyZWF0ZUZyb21BU1QoYXJnQVNULnNwZWNzLnN0b3JhZ2VTcGVjcywgdGhpcy5jb250ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNoKHN0b3JhZ2VTcGVjKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0b3JhZ2VTcGVjLmlzRW1wdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yYWdlU3BlYy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLnBhcmFtZXRlci5zdG9yYWdlX3Byb2hpYml0ZWQodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5lZWQgdG8gY3JlYXRlIFR5cGVTcGVjaWZpZXIgZmlyc3QgdG8gZ2V0IHRoZSBiYXNlIHR5cGUgZmlyc3QgZm9yIHRoZSBkZWNsYXJhdG9yc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHR5cGVTcGVjID0gVHlwZVNwZWNpZmllci5jcmVhdGVGcm9tQVNUKGFyZ0FTVC5zcGVjcy50eXBlU3BlY3MsIHRoaXMuY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaCh0eXBlU3BlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbXBpbGUgZGVjbGFyYXRvciBmb3IgZWFjaCBwYXJhbWV0ZXIgKG9mIHRoZSBmdW5jdGlvbi10eXBlIGFyZ3VtZW50IGl0c2VsZilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEZWNsYXJhdG9yLmNyZWF0ZUZyb21BU1QoYXJnQVNULmRlY2xhcmF0b3IsIHRoaXMuY29udGV4dCwgdHlwZVNwZWMudHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAoPE11dGFibGU8dGhpcz4+dGhpcykucGFyYW1ldGVycyA9IHBhcmFtRGVjbGFyYXRvcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFyYW1UeXBlcyA9IHBhcmFtRGVjbGFyYXRvcnMubWFwKGRlY2wgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkZWNsLnR5cGUpIHsgcmV0dXJuIGRlY2wudHlwZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkZWNsLnR5cGUuaXNCb3VuZGVkQXJyYXlUeXBlKCkpIHsgcmV0dXJuIGRlY2wudHlwZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7IHJldHVybiBkZWNsLnR5cGUuYWRqdXN0VG9Qb2ludGVyVHlwZSgpO31cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBIHBhcmFtZXRlciBsaXN0IG9mIGp1c3QgKHZvaWQpIHNwZWNpZmllcyBubyBwYXJhbWV0ZXJzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJhbVR5cGVzLmxlbmd0aCA9PSAxICYmIHBhcmFtVHlwZXNbMF0gJiYgcGFyYW1UeXBlc1swXS5pc1ZvaWRUeXBlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtVHlwZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSB2b2lkIHBhcmFtZXRlcnMgYXJlIGJhZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBwYXJhbVR5cGVzLmxlbmd0aDsgKytqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmFtVHlwZSA9IHBhcmFtVHlwZXNbal07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmFtVHlwZSAmJiBwYXJhbVR5cGUuaXNWb2lkVHlwZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5mdW5jLnZvaWRfcGFyYW0ocGFyYW1EZWNsYXJhdG9yc1tqXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJhbVR5cGVzLmV2ZXJ5KHBhcmFtVHlwZSA9PiBwYXJhbVR5cGUgJiYgcGFyYW1UeXBlLmlzUG90ZW50aWFsUGFyYW1ldGVyVHlwZSgpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmZ1bmMuc29tZV9pbnZhbGlkX3BhcmFtZXRlcl90eXBlcyh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gY2xlYW4gdXAgZXJyb3IgaW1tZWRpYXRlbHkgYWJvdmUgYW5kIGdldCByaWQgb2YgeXVja3kgY2FzdCBiZWxvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gbmV3IEZ1bmN0aW9uVHlwZSh0eXBlLCA8UG90ZW50aWFsUGFyYW1ldGVyVHlwZVtdPnBhcmFtVHlwZXMsIGRlY2wuY29uc3QsIGRlY2wudm9sYXRpbGUsIHRoaXMuY29udGV4dC5jb250YWluaW5nQ2xhc3MgJiYgdGhpcy5jb250ZXh0LmNvbnRhaW5pbmdDbGFzcy5jdlF1YWxpZmllZCghIXBvc3RmaXguY29uc3QpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFByb2Nlc3MgcG9pbnRlcnMvcmVmZXJlbmNlcyBuZXh0XHJcbiAgICAgICAgICAgIC8vIE5PVEU6IHRoaXMgbGluZSBzaG91bGQgTk9UIGJlIGVsc2UgaWYgc2luY2UgdGhlIHNhbWUgQVNUIG5vZGUgbWF5XHJcbiAgICAgICAgICAgIC8vIGhhdmUgYm90aCBwb3N0Zml4ZXMgYW5kIGEgcG9pbnRlci9yZWZlcmVuY2VcclxuICAgICAgICAgICAgaWYgKGRlY2wucG9pbnRlcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0eXBlLmlzT2JqZWN0VHlwZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUuaXNSZWZlcmVuY2VUeXBlKCkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24ucG9pbnRlci5yZWZlcmVuY2UodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlLmlzVm9pZFR5cGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24ucG9pbnRlci52b2lkKHRoaXMpKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLnBvaW50ZXIuaW52YWxpZF9wb2ludGVkX3R5cGUodGhpcywgdHlwZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0eXBlID0gbmV3IFBvaW50ZXJUeXBlKHR5cGUsIGRlY2xbXCJjb25zdFwiXSwgZGVjbFtcInZvbGF0aWxlXCJdKTtcclxuICAgICAgICAgICAgICAgIGRlY2wgPSBkZWNsLnBvaW50ZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZGVjbC5yZWZlcmVuY2UpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdHlwZS5pc09iamVjdFR5cGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlLmlzUmVmZXJlbmNlVHlwZSgpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLnJlZi5yZWYodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLnJlZi5pbnZhbGlkX3JlZmVycmVkX3R5cGUodGhpcywgdHlwZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0eXBlID0gbmV3IFJlZmVyZW5jZVR5cGUodHlwZSwgZGVjbFtcImNvbnN0XCJdLCBkZWNsW1widm9sYXRpbGVcIl0pO1xyXG4gICAgICAgICAgICAgICAgZGVjbCA9IGRlY2wucmVmZXJlbmNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRlY2wuaGFzT3duUHJvcGVydHkoXCJzdWJcIikpIHtcclxuICAgICAgICAgICAgICAgIGRlY2wgPSBkZWNsLnN1YjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZpcnN0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAoPE11dGFibGU8dGhpcz4+dGhpcykudHlwZSA9IHR5cGU7XHJcblxyXG4gICAgICAgIC8vIElmIGl0J3Mgbm90IGEgZnVuY3Rpb24gdHlwZSwgdGhlIHJlY29yZGVkIHBhcmFtZXRlcnMgYXJlbid0IG1lYW5pbmdmdWxcclxuICAgICAgICBpZiAoIXR5cGUuaXNGdW5jdGlvblR5cGUoKSkge1xyXG4gICAgICAgICAgICBkZWxldGUgKDxNdXRhYmxlPHRoaXM+PnRoaXMpLnBhcmFtZXRlcnM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxubGV0IE9WRVJMT0FEQUJMRV9PUFMgOiB7W2luZGV4OnN0cmluZ106IHRydWUgfCB1bmRlZmluZWR9ID0ge307XHJcblxyXG5bXCJuZXdbXVwiXHJcbiAgICAsIFwiZGVsZXRlW11cIlxyXG4gICAgLCBcIm5ld1wiXHJcbiAgICAsIFwiZGVsZXRlXCJcclxuICAgICwgXCItPipcIiwgXCI+Pj1cIiwgXCI8PD1cIlxyXG4gICAgLCBcIis9XCIsIFwiLT1cIiwgXCIqPVwiLCBcIiw9XCIsIFwiJT1cIiwgXCJePVwiXHJcbiAgICAsIFwiJj1cIiwgXCJ8PVwiLCBcIjw8XCIsIFwiPj5cIiwgXCI9PVwiLCBcIiE9XCJcclxuICAgICwgXCI8PVwiLCBcIj49XCIsIFwiJiZcIiwgXCJ8fFwiLCBcIisrXCIsIFwiLS1cIlxyXG4gICAgLCBcIi0+XCIsIFwiKClcIiwgXCJbXVwiXHJcbiAgICAsIFwiK1wiLCBcIi1cIiwgXCIqXCIsIFwiL1wiLCBcIiVcIiwgXCJeXCIsIFwiJlwiXHJcbiAgICAsIFwifFwiLCBcIn5cIiwgXCIhXCIsIFwiPVwiLCBcIjxcIiwgXCI+XCIsIFwiLFwiXS5mb3JFYWNoKGZ1bmN0aW9uIChvcCkge1xyXG4gICAgICAgIE9WRVJMT0FEQUJMRV9PUFNbXCJvcGVyYXRvclwiICsgb3BdID0gdHJ1ZTtcclxuICAgIH0pO1xyXG5cclxuZXhwb3J0IHR5cGUgRnVuY3Rpb25Cb2R5QVNUTm9kZSA9IEJsb2NrQVNUTm9kZTtcclxuICAgIFxyXG5leHBvcnQgaW50ZXJmYWNlIEZ1bmN0aW9uRGVmaW5pdGlvbkFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcImZ1bmN0aW9uX2RlZmluaXRpb25cIjtcclxuICAgIHJlYWRvbmx5IHNwZWNzOiBEZWNsYXJhdGlvblNwZWNpZmllcnNBU1ROb2RlO1xyXG4gICAgcmVhZG9ubHkgZGVjbGFyYXRvcjogRGVjbGFyYXRvckFTVE5vZGU7XHJcbiAgICByZWFkb25seSBib2R5OiBGdW5jdGlvbkJvZHlBU1ROb2RlO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRnVuY3Rpb25EZWZpbml0aW9uIGV4dGVuZHMgQmFzaWNDUFBDb25zdHJ1Y3Q8RnVuY3Rpb25Db250ZXh0PiB7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkga2luZCA9IFwiRnVuY3Rpb25EZWZpbml0aW9uXCI7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGRlY2xhcmF0aW9uOiBGdW5jdGlvbkRlY2xhcmF0aW9uO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHBhcmFtZXRlcnM6IHJlYWRvbmx5IFBhcmFtZXRlckRlZmluaXRpb25bXTtcclxuICAgIHB1YmxpYyByZWFkb25seSBib2R5OiBCbG9jaztcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUZyb21BU1QoYXN0OiBGdW5jdGlvbkRlZmluaXRpb25BU1ROb2RlLCBjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0KSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IGRlY2xhcmF0aW9uID0gY3JlYXRlU2ltcGxlRGVjbGFyYXRpb25Gcm9tQVNUKHtcclxuICAgICAgICAgICAgY29uc3RydWN0X3R5cGU6IFwic2ltcGxlX2RlY2xhcmF0aW9uXCIsXHJcbiAgICAgICAgICAgIGRlY2xhcmF0b3JzOiBbYXN0LmRlY2xhcmF0b3JdLFxyXG4gICAgICAgICAgICBzcGVjczogYXN0LnNwZWNzLFxyXG4gICAgICAgICAgICBzb3VyY2U6IGFzdC5kZWNsYXJhdG9yLnNvdXJjZVxyXG4gICAgICAgIH0sIGNvbnRleHQpWzBdO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICghKGRlY2xhcmF0aW9uIGluc3RhbmNlb2YgRnVuY3Rpb25EZWNsYXJhdGlvbikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnZhbGlkQ29uc3RydWN0KGNvbnRleHQsIENQUEVycm9yLmRlY2xhcmF0aW9uLmZ1bmMuZGVmaW5pdGlvbl9ub25fZnVuY3Rpb25fdHlwZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDcmVhdGUgaW1wbGVtZW50YXRpb24gYW5kIGJvZHkgYmxvY2sgKGJlZm9yZSBwYXJhbXMgYW5kIGJvZHkgc3RhdGVtZW50cyBhZGRlZCB5ZXQpXHJcbiAgICAgICAgbGV0IGZ1bmN0aW9uQ29udGV4dCA9IGNyZWF0ZUZ1bmN0aW9uQ29udGV4dChjb250ZXh0LCBkZWNsYXJhdGlvbi5kZWNsYXJlZEVudGl0eSk7XHJcbiAgICAgICAgbGV0IGJvZHkgPSBuZXcgQmxvY2soZnVuY3Rpb25Db250ZXh0KTtcclxuICAgICAgICBsZXQgYm9keUNvbnRleHQgPSBib2R5LmJsb2NrQ29udGV4dDtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDcmVhdGUgcGFyYW1ldGVycywgd2hpY2ggYXJlIGdpdmVuIHRoZSBib2R5IGJsb2NrJ3MgY29udGV4dCB0byBhZGQgZGVjbGFyZWQgZW50aXRpZXMgdG8uXHJcbiAgICAgICAgLy8gQXMgdGhlIGNvbnRleHQgcmVmZXJzIGJhY2sgdG8gdGhlIGltcGxlbWVudGF0aW9uLCBsb2NhbCBvYmplY3RzL3JlZmVyZW5jZXMgd2lsbCBiZSByZWdpc3RlcmQgdGhlcmUuXHJcbiAgICAgICAgbGV0IHBhcmFtZXRlcnMgPSBkZWNsYXJhdGlvbi5wYXJhbWV0ZXJEZWNsYXJhdG9ycy5tYXAoKHBhcmFtRGVjbGFyYXRvcikgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBhcmFtZXRlckRlZmluaXRpb24oYm9keUNvbnRleHQsXHJcbiAgICAgICAgICAgICAgICBUeXBlU3BlY2lmaWVyLmNyZWF0ZUZyb21BU1QoW10sIGJvZHlDb250ZXh0KSxcclxuICAgICAgICAgICAgICAgIFN0b3JhZ2VTcGVjaWZpZXIuY3JlYXRlRnJvbUFTVChbXSwgYm9keUNvbnRleHQpLFxyXG4gICAgICAgICAgICAgICAgcGFyYW1EZWNsYXJhdG9yLFxyXG4gICAgICAgICAgICAgICAge30sIDxQb3RlbnRpYWxQYXJhbWV0ZXJUeXBlPnBhcmFtRGVjbGFyYXRvci50eXBlKTsgLy8gVE9ETzogaGFja3kgY2FzdCwgY2FuIGJlIGVsaW1pdGVkIHdoZW4gcGFyYW1ldGVyIGRlY2xhcmF0aW9ucyBhcmUgdXBncmFkZWQgdG8gdGhlaXIgb3duIGNvbnN0cnVjdFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBNYW51YWxseSBhZGQgc3RhdGVtZW50cyB0byBib2R5LiAoVGhpcyBoYXNuJ3QgYmVlbiBkb25lIGJlY2F1c2UgdGhlIGJvZHkgYmxvY2sgd2FzIGNyYXRlZCBtYW51YWxseSwgbm90XHJcbiAgICAgICAgLy8gZnJvbSB0aGUgQVNUIHRocm91Z2ggdGhlIEJsb2NrLmNyZWF0ZUZyb21BU1QgZnVuY3Rpb24uIEFuZCB3ZSB3YWl0IHVudGlsIG5vdyB0byBkbyBpdCBzbyB0aGV5IHdpbGwgYmVcclxuICAgICAgICAvLyBhZGRlZCBhZnRlciB0aGUgcGFyYW1ldGVycy4pXHJcbiAgICAgICAgYXN0LmJvZHkuc3RhdGVtZW50cy5mb3JFYWNoKHNOb2RlID0+IGJvZHkuYWRkU3RhdGVtZW50KGNyZWF0ZVN0YXRlbWVudEZyb21BU1Qoc05vZGUsIGJvZHlDb250ZXh0KSkpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBuZXcgRnVuY3Rpb25EZWZpbml0aW9uKGZ1bmN0aW9uQ29udGV4dCwgZGVjbGFyYXRpb24sIHBhcmFtZXRlcnMsIGJvZHkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGlfY2hpbGRyZW5Ub0V4ZWN1dGU6IFtcIm1lbWJlckluaXRpYWxpemVyc1wiLCBcImJvZHlcIl0sIC8vIFRPRE86IHdoeSBkbyByZWd1bGFyIGZ1bmN0aW9ucyBoYXZlIG1lbWJlciBpbml0aWFsaXplcnM/P1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBGdW5jdGlvbkNvbnRleHQsIGRlY2xhcmF0aW9uOiBGdW5jdGlvbkRlY2xhcmF0aW9uLCBwYXJhbWV0ZXJzOiByZWFkb25seSBQYXJhbWV0ZXJEZWZpbml0aW9uW10sIGJvZHk6IEJsb2NrKSB7XHJcbiAgICAgICAgc3VwZXIoY29udGV4dCk7XHJcbiAgICAgICAgdGhpcy5hdHRhY2godGhpcy5kZWNsYXJhdGlvbiA9IGRlY2xhcmF0aW9uKTtcclxuICAgICAgICB0aGlzLmF0dGFjaEFsbCh0aGlzLnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzKTtcclxuICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLmJvZHkgPSBib2R5KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmNvbnRleHQudHJhbnNsYXRpb25Vbml0LnByb2dyYW0ucmVnaXN0ZXJGdW5jdGlvbkRlZmluaXRpb24odGhpcy5kZWNsYXJhdGlvbi5kZWNsYXJlZEVudGl0eS5xdWFsaWZpZWROYW1lLCB0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gdGhpcy5hdXRvc1RvRGVzdHJ1Y3QgPSB0aGlzLmJvZHlTY29wZS5hdXRvbWF0aWNPYmplY3RzLmZpbHRlcihmdW5jdGlvbihvYmope1xyXG4gICAgICAgIC8vICAgICByZXR1cm4gaXNBKG9iai50eXBlLCBUeXBlcy5DbGFzcyk7XHJcbiAgICAgICAgLy8gfSk7XHJcblxyXG4gICAgICAgIC8vIHRoaXMuYm9keVNjb3BlLmF1dG9tYXRpY09iamVjdHMuZmlsdGVyKGZ1bmN0aW9uKG9iail7XHJcbiAgICAgICAgLy8gICByZXR1cm4gaXNBKG9iai50eXBlLCBUeXBlcy5BcnJheSkgJiYgaXNBKG9iai50eXBlLmVsZW1UeXBlLCBUeXBlcy5DbGFzcyk7XHJcbiAgICAgICAgLy8gfSkubWFwKGZ1bmN0aW9uKGFycil7XHJcbiAgICAgICAgLy8gICBmb3IodmFyIGkgPSAwOyBpIDwgYXJyLnR5cGUubGVuZ3RoOyArK2kpe1xyXG4gICAgICAgIC8vICAgICBzZWxmLmF1dG9zVG9EZXN0cnVjdC5wdXNoKEFycmF5U3Vib2JqZWN0RW50aXR5Lmluc3RhbmNlKGFyciwgaSkpO1xyXG4gICAgICAgIC8vICAgfVxyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICAvLyB0aGlzLmF1dG9zVG9EZXN0cnVjdCA9IHRoaXMuYXV0b3NUb0Rlc3RydWN0Lm1hcChmdW5jdGlvbihlbnRpdHlUb0Rlc3RydWN0KXtcclxuICAgICAgICAvLyAgICAgdmFyIGRlc3QgPSBlbnRpdHlUb0Rlc3RydWN0LnR5cGUuZGVzdHJ1Y3RvcjtcclxuICAgICAgICAvLyAgICAgaWYgKGRlc3Qpe1xyXG4gICAgICAgIC8vICAgICAgICAgdmFyIGNhbGwgPSBGdW5jdGlvbkNhbGwuaW5zdGFuY2Uoe2FyZ3M6IFtdfSwge3BhcmVudDogc2VsZiwgc2NvcGU6IHNlbGYuYm9keVNjb3BlfSk7XHJcbiAgICAgICAgLy8gICAgICAgICBjYWxsLmNvbXBpbGUoe1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGZ1bmM6IGRlc3QsXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgcmVjZWl2ZXI6IGVudGl0eVRvRGVzdHJ1Y3R9KTtcclxuICAgICAgICAvLyAgICAgICAgIHJldHVybiBjYWxsO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gICAgIGVsc2V7XHJcbiAgICAgICAgLy8gICAgICAgICBzZWxmLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uZHRvci5ub19kZXN0cnVjdG9yX2F1dG8oZW50aXR5VG9EZXN0cnVjdC5kZWNsLCBlbnRpdHlUb0Rlc3RydWN0KSk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuXHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVGdW5jdGlvbjxSZXR1cm5UeXBlIGV4dGVuZHMgUG90ZW50aWFsUmV0dXJuVHlwZT4odGhpczogQ29tcGlsZWRGdW5jdGlvbkRlZmluaXRpb248UmV0dXJuVHlwZT4sIHBhcmVudDogUnVudGltZUZ1bmN0aW9uQ2FsbCwgcmVjZWl2ZXI/OiBDUFBPYmplY3Q8Q2xhc3NUeXBlPikgOiBSdW50aW1lRnVuY3Rpb248UmV0dXJuVHlwZT57XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSdW50aW1lRnVuY3Rpb24odGhpcywgcGFyZW50LCByZWNlaXZlcik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY2FsbFNlYXJjaCA6IGZ1bmN0aW9uKGNhbGxiYWNrLCBvcHRpb25zKXtcclxuICAgIC8vICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuICAgIC8vICAgICAvLyB0aGlzLmNhbGxzIHdpbGwgYmUgZmlsbGVkIHdoZW4gdGhlIGJvZHkgaXMgYmVpbmcgY29tcGlsZWRcclxuICAgIC8vICAgICAvLyBXZSBhc3N1bWUgdGhpcyBoYXMgYWxyZWFkeSBiZWVuIGRvbmUgZm9yIGFsbCBmdW5jdGlvbnMuXHJcblxyXG4gICAgLy8gICAgIHRoaXMuY2FsbENsb3N1cmUgPSB7fTtcclxuXHJcbiAgICAvLyAgICAgdmFyIHF1ZXVlID0gW107XHJcbiAgICAvLyAgICAgcXVldWUudW5zaGlmdEFsbCh0aGlzLmNhbGxzLm1hcChmdW5jdGlvbihjYWxsKXtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIHtjYWxsOiBjYWxsLCBmcm9tOiBudWxsfTtcclxuICAgIC8vICAgICB9KSk7XHJcblxyXG4gICAgLy8gICAgIHZhciBzZWFyY2ggPSB7XHJcbiAgICAvLyAgICAgICAgIGNoYWluOiBbXVxyXG4gICAgLy8gICAgIH07XHJcbiAgICAvLyAgICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApe1xyXG4gICAgLy8gICAgICAgICB2YXIgbmV4dCA9IChvcHRpb25zLnNlYXJjaFR5cGUgPT09IFwiZGZzXCIgPyBxdWV1ZS5wb3AoKSA6IHF1ZXVlLnNoaWZ0KCkpO1xyXG4gICAgLy8gICAgICAgICB2YXIgY2FsbCA9IG5leHQuY2FsbDtcclxuICAgIC8vICAgICAgICAgc2VhcmNoLmNoYWluID0gbmV4dDtcclxuICAgIC8vICAgICAgICAgaWYgKHNlYXJjaC5zdG9wKXtcclxuICAgIC8vICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIGVsc2UgaWYgKHNlYXJjaC5za2lwKXtcclxuXHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgZWxzZSBpZiAoY2FsbC5mdW5jLmlzTGlua2VkKCkgJiYgY2FsbC5mdW5jLmlzU3RhdGljYWxseUJvdW5kKCkpe1xyXG5cclxuICAgIC8vICAgICAgICAgICAgIGlmIChjYWxsLnN0YXRpY0Z1bmN0aW9uLmRlY2wgPT09IHRoaXMpe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHNlYXJjaC5jeWNsZSA9IHRydWU7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICBlbHNle1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHNlYXJjaC5jeWNsZSA9IGZhbHNlO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGZvcih2YXIgYyA9IG5leHQuZnJvbTsgYzsgYyA9IGMuZnJvbSl7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGlmIChjLmNhbGwuc3RhdGljRnVuY3Rpb24uZW50aXR5SWQgPT09IGNhbGwuc3RhdGljRnVuY3Rpb24uZW50aXR5SWQpe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoLmN5Y2xlID0gdHJ1ZTtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG5cclxuICAgIC8vICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHNlYXJjaCk7XHJcblxyXG4gICAgLy8gICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBubyBjeWNsZSwgd2UgY2FuIHB1c2ggY2hpbGRyZW5cclxuICAgIC8vICAgICAgICAgICAgIGlmICghc2VhcmNoLmN5Y2xlICYmIGlzQShjYWxsLnN0YXRpY0Z1bmN0aW9uLmRlY2wsIEZ1bmN0aW9uRGVmaW5pdGlvbikpIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSBjYWxsLnN0YXRpY0Z1bmN0aW9uLmRlY2wuY2FsbHMubGVuZ3RoLTE7IGkgPj0gMDsgLS1pKXtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgcXVldWUucHVzaCh7Y2FsbDogY2FsbC5zdGF0aWNGdW5jdGlvbi5kZWNsLmNhbGxzW2ldLCBmcm9tOiBuZXh0fSk7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG5cclxuICAgIC8vICAgICAgICAgICAgIHRoaXMuY2FsbENsb3N1cmVbY2FsbC5zdGF0aWNGdW5jdGlvbi5lbnRpdHlJZF0gPSB0cnVlO1xyXG4gICAgLy8gICAgICAgICB9XHJcblxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH0sXHJcblxyXG4gICAgLy8gdGFpbFJlY3Vyc2lvbkFuYWx5c2lzIDogZnVuY3Rpb24oYW5ub3RhdGVkQ2FsbHMpe1xyXG5cclxuICAgIC8vICAgICAvLyBBc3N1bWUgbm90IHJlY3Vyc2l2ZSBhdCBmaXJzdCwgd2lsbCBiZSBzZXQgdG8gdHJ1ZSBpZiBpdCBpc1xyXG4gICAgLy8gICAgIHRoaXMuaXNSZWN1cnNpdmUgPSBmYWxzZTtcclxuXHJcbiAgICAvLyAgICAgLy8gQXNzdW1lIHdlIGNhbiB1c2UgY29uc3RhbnQgc3RhY2sgc3BhY2UgYXQgZmlyc3QsIHdpbGwgYmUgc2V0IHRvIGZhbHNlIGlmIG5vdFxyXG4gICAgLy8gICAgIHRoaXMuY29uc3RhbnRTdGFja1NwYWNlID0gdHJ1ZTtcclxuXHJcbiAgICAvLyAgICAgLy9mcm9tID0gZnJvbSB8fCB7c3RhcnQ6IHRoaXMsIGZyb206IG51bGx9O1xyXG5cclxuICAgIC8vICAgICAvLyBUaGUgZnJvbSBwYXJhbWV0ZXIgc29ydCBvZiByZXByZXNlbnRzIGFsbCBmdW5jdGlvbnMgd2hpY2gsIGlmIHNlZW4gYWdhaW4sIGNvbnN0aXR1dGUgcmVjdXJzaW9uXHJcblxyXG5cclxuICAgIC8vICAgICAvL2NvbnNvbGUubG9nKFwidGFpbCByZWN1cnNpb24gYW5hbHlzaXMgZm9yOiBcIiArIHRoaXMubmFtZSk7XHJcbiAgICAvLyAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgLy8gICAgIHRoaXMuY2FsbFNlYXJjaChmdW5jdGlvbihzZWFyY2gpe1xyXG5cclxuICAgIC8vICAgICAgICAgLy8gSWdub3JlIG5vbi1jeWNsZXNcclxuICAgIC8vICAgICAgICAgaWYgKCFzZWFyY2guY3ljbGUpe1xyXG4gICAgLy8gICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgLy8gICAgICAgICB9XHJcblxyXG4gICAgLy8gICAgICAgICB2YXIgc3RyID0gXCIgKVwiO1xyXG4gICAgLy8gICAgICAgICB2YXIgY2hhaW4gPSBzZWFyY2guY2hhaW47XHJcbiAgICAvLyAgICAgICAgIHZhciBjeWNsZVN0YXJ0ID0gY2hhaW4uY2FsbDtcclxuICAgIC8vICAgICAgICAgdmFyIGZpcnN0ID0gdHJ1ZTtcclxuICAgIC8vICAgICAgICAgdmFyIGluQ3ljbGUgPSB0cnVlO1xyXG4gICAgLy8gICAgICAgICB2YXIgdGFpbEN5Y2xlID0gdHJ1ZTtcclxuICAgIC8vICAgICAgICAgdmFyIG5vblRhaWxDeWNsZUNhbGxzID0gW107XHJcbiAgICAvLyAgICAgICAgIHZhciBmaXJzdENhbGwgPSBjaGFpbi5jYWxsO1xyXG4gICAgLy8gICAgICAgICB3aGlsZSAoY2hhaW4pe1xyXG4gICAgLy8gICAgICAgICAgICAgdmFyIGNhbGwgPSBjaGFpbi5jYWxsO1xyXG5cclxuICAgIC8vICAgICAgICAgICAgIC8vIE1hcmsgYWxsIGNhbGxzIGluIHRoZSBjeWNsZSBhcyBwYXJ0IG9mIGEgY3ljbGUsIGV4Y2VwdCB0aGUgb3JpZ2luYWxcclxuICAgIC8vICAgICAgICAgICAgIGlmIChjaGFpbi5mcm9tIHx8IGZpcnN0KXtcclxuICAgIC8vICAgICAgICAgICAgICAgICBjYWxsLmlzUGFydE9mQ3ljbGUgPSB0cnVlO1xyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG5cclxuICAgIC8vICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBrbm93IHdoZXRoZXIgaXQncyBhIHRhaWwgY2FsbFxyXG4gICAgLy8gICAgICAgICAgICAgY2FsbC50YWlsUmVjdXJzaW9uQ2hlY2soKTtcclxuXHJcbiAgICAvLyAgICAgICAgICAgICAvLyBBdCB0aW1lIG9mIHdyaXRpbmcsIHRoaXMgd2lsbCBhbHdheXMgYmUgdHJ1ZSBkdWUgdG8gdGhlIHdheSBjYWxsIHNlYXJjaCB3b3Jrc1xyXG4gICAgLy8gICAgICAgICAgICAgaWYgKGNhbGwuc3RhdGljRnVuY3Rpb24pe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIC8vIElmIHdlIGtub3cgd2hhdCB0aGUgY2FsbCBpcyBjYWxsaW5nXHJcblxyXG5cclxuICAgIC8vICAgICAgICAgICAgICAgICBzdHIgPSAoY2FsbC5zdGF0aWNGdW5jdGlvbi5uYW1lICsgXCIsIFwiKSArIHN0cjtcclxuICAgIC8vICAgICAgICAgICAgICAgICBpZiAoY2FsbC5pc1RhaWwpe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBzdHIgPSBcInQtXCIgKyBzdHI7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgICAgIGlmICghZmlyc3QgJiYgY2FsbC5zdGF0aWNGdW5jdGlvbiA9PT0gY3ljbGVTdGFydC5zdGF0aWNGdW5jdGlvbil7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGluQ3ljbGUgPSBmYWxzZTtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgc3RyID0gXCIoIFwiICsgc3RyO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgLy8gVGhpcyBjb21lcyBhZnRlciBwb3NzaWJsZSBjaGFuZ2UgaW4gaW5DeWNsZSBiZWNhdXNlIGZpcnN0IHBhcnQgb2YgY3ljbGUgZG9lc24ndCBoYXZlIHRvIGJlIHRhaWxcclxuICAgIC8vICAgICAgICAgICAgICAgICBpZiAoaW5DeWNsZSl7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGlmICghYW5ub3RhdGVkQ2FsbHNbY2FsbC5pZF0pe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogZml4IHRoaXMgdG8gbm90IHVzZSBzZW1hbnRpY1Byb2JsZW1zXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZWxmLnNlbWFudGljUHJvYmxlbXMuYWRkV2lkZ2V0KFJlY3Vyc2l2ZUNhbGxBbm5vdGF0aW9uLmluc3RhbmNlKGNhbGwsIGNhbGwuaXNUYWlsLCBjYWxsLmlzVGFpbFJlYXNvbiwgY2FsbC5pc1RhaWxPdGhlcnMpKTtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGFubm90YXRlZENhbGxzW2NhbGwuaWRdID0gdHJ1ZTtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgICAgICBpZiAoaW5DeWNsZSAmJiAhY2FsbC5pc1RhaWwpe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICB0YWlsQ3ljbGUgPSBmYWxzZTtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgbm9uVGFpbEN5Y2xlQ2FsbHMucHVzaChjYWxsKTtcclxuICAgIC8vICAgICAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICBlbHNlIGlmIChjYWxsLnN0YXRpY0Z1bmN0aW9uVHlwZSl7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgLy8gT2sgYXQgbGVhc3Qgd2Uga25vdyB0aGUgdHlwZSB3ZSdyZSBjYWxsaW5nXHJcblxyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgZWxzZXtcclxuICAgIC8vICAgICAgICAgICAgICAgICAvLyBVaGggd2UgZG9uJ3Qga25vdyBhbnl0aGluZy4gVGhpcyByZWFsbHkgc2hvdWxkbid0IGhhcHBlbi5cclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgIGZpcnN0ID0gZmFsc2U7XHJcbiAgICAvLyAgICAgICAgICAgICBjaGFpbiA9IGNoYWluLmZyb207XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgLy9jb25zb2xlLmxvZyhzdHIgKyAodGFpbEN5Y2xlID8gXCIgdGFpbFwiIDogXCIgbm9uLXRhaWxcIikpO1xyXG5cclxuICAgIC8vICAgICAgICAgLy8gV2UgZm91bmQgYSBjeWNsZSBzbyBpdCdzIGNlcnRhaW5seSByZWN1cnNpdmVcclxuICAgIC8vICAgICAgICAgc2VsZi5pc1JlY3Vyc2l2ZSA9IHRydWU7XHJcblxyXG4gICAgLy8gICAgICAgICAvLyBJZiB3ZSBmb3VuZCBhIG5vbi10YWlsIGN5Y2xlLCBpdCdzIG5vdCB0YWlsIHJlY3Vyc2l2ZVxyXG4gICAgLy8gICAgICAgICBpZiAoIXRhaWxDeWNsZSl7XHJcbiAgICAvLyAgICAgICAgICAgICBzZWxmLmNvbnN0YW50U3RhY2tTcGFjZSA9IGZhbHNlO1xyXG4gICAgLy8gICAgICAgICAgICAgaWYgKCFzZWxmLm5vblRhaWxDeWNsZXMpe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHNlbGYubm9uVGFpbEN5Y2xlcyA9IFtdO1xyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgc2VsZi5ub25UYWlsQ3ljbGVzLnB1c2goc2VhcmNoLmNoYWluKTtcclxuICAgIC8vICAgICAgICAgICAgIHNlbGYubm9uVGFpbEN5Y2xlID0gc2VhcmNoLmNoYWluO1xyXG4gICAgLy8gICAgICAgICAgICAgc2VsZi5ub25UYWlsQ3ljbGVSZWFzb24gPSBzdHI7XHJcblxyXG4gICAgLy8gICAgICAgICAgICAgaWYoIXNlbGYubm9uVGFpbEN5Y2xlQ2FsbHMpe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHNlbGYubm9uVGFpbEN5Y2xlQ2FsbHMgPSBbXTtcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgIHNlbGYubm9uVGFpbEN5Y2xlQ2FsbHMucHVzaEFsbChub25UYWlsQ3ljbGVDYWxscyk7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9LHtcclxuICAgIC8vICAgICAgICAgc2VhcmNoVHlwZTogXCJkZnNcIlxyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy8gICAgIC8vY29uc29sZS5sb2coXCJcIik7XHJcbiAgICAvLyAgICAgLy9jb25zb2xlLmxvZyhcIlwiKTtcclxuXHJcbiAgICAvLyAgICAgc2VsZi50YWlsUmVjdXJzaW9uQW5hbHlzaXNEb25lID0gdHJ1ZTtcclxuXHJcblxyXG4gICAgLy8gICAgIC8vIFRPRE86IGZpeCB0aGlzIHRvIG5vdCB1c2Ugc2VtYW50aWNQcm9ibGVtc1xyXG4gICAgLy8gICAgIC8vIHRoaXMuc2VtYW50aWNQcm9ibGVtcy5hZGRXaWRnZXQoUmVjdXJzaXZlRnVuY3Rpb25Bbm5vdGF0aW9uLmluc3RhbmNlKHRoaXMpKTtcclxuICAgIC8vIH0sXHJcblxyXG4gICAgLy8gaXNUYWlsQ2hpbGQgOiBmdW5jdGlvbihjaGlsZCl7XHJcbiAgICAvLyAgICAgaWYgKGNoaWxkICE9PSB0aGlzLmJvZHkpe1xyXG4gICAgLy8gICAgICAgICByZXR1cm4ge2lzVGFpbDogZmFsc2V9O1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBlbHNlIGlmICh0aGlzLmF1dG9zVG9EZXN0cnVjdC5sZW5ndGggPiAwKXtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIHtcclxuICAgIC8vICAgICAgICAgICAgIGlzVGFpbDogZmFsc2UsXHJcbiAgICAvLyAgICAgICAgICAgICByZWFzb246IFwiVGhlIGhpZ2hsaWdodGVkIGxvY2FsIHZhcmlhYmxlcyAoXCJcclxuXHJcbiAgICAvLyAgICAgICAgICAgICArXHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLmJvZHlTY29wZS5hdXRvbWF0aWNPYmplY3RzLmZpbHRlcihmdW5jdGlvbihvYmope1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHJldHVybiBpc0Eob2JqLnR5cGUsIFR5cGVzLkNsYXNzKTtcclxuICAgIC8vICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbihvYmope1xyXG5cclxuICAgIC8vICAgICAgICAgICAgICAgICByZXR1cm4gb2JqLm5hbWU7XHJcblxyXG4gICAgLy8gICAgICAgICAgICAgfSkuam9pbihcIixcIilcclxuICAgIC8vICAgICAgICAgICAgICAgICArXHJcblxyXG4gICAgLy8gICAgICAgICAgICAgXCIpIGhhdmUgZGVzdHJ1Y3RvcnMgdGhhdCB3aWxsIHJ1biBhdCB0aGUgZW5kIG9mIHRoZSBmdW5jdGlvbiBib2R5IChpLmUuIGFmdGVyIGFueSBwb3NzaWJsZSByZWN1cnNpdmUgY2FsbCkuXCIsXHJcbiAgICAvLyAgICAgICAgICAgICBvdGhlcnM6IHRoaXMuYm9keVNjb3BlLmF1dG9tYXRpY09iamVjdHMuZmlsdGVyKGZ1bmN0aW9uKG9iail7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgcmV0dXJuIGlzQShvYmoudHlwZSwgVHlwZXMuQ2xhc3MpO1xyXG4gICAgLy8gICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uKG9iail7XHJcblxyXG4gICAgLy8gICAgICAgICAgICAgICAgIHZhciBkZWNsID0gb2JqLmRlY2w7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKGlzQShkZWNsLCBEZWNsYXJhdG9yKSl7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGRlY2wgPSBkZWNsLnBhcmVudDtcclxuICAgIC8vICAgICAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgcmV0dXJuIGRlY2w7XHJcblxyXG4gICAgLy8gICAgICAgICAgICAgfSlcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBlbHNlIHtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIHtpc1RhaWw6IHRydWV9O1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH0sXHJcbiAgICAvLyBkZXNjcmliZSA6IGZ1bmN0aW9uKCl7XHJcbiAgICAvLyAgICAgdmFyIGV4cCA9IHt9O1xyXG4gICAgLy8gICAgIGV4cC5tZXNzYWdlID0gXCJhIGZ1bmN0aW9uIGRlZmluaXRpb25cIjtcclxuICAgIC8vICAgICByZXR1cm4gZXhwO1xyXG4gICAgLy8gfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkRnVuY3Rpb25EZWZpbml0aW9uPFJldHVyblR5cGUgZXh0ZW5kcyBQb3RlbnRpYWxSZXR1cm5UeXBlID0gUG90ZW50aWFsUmV0dXJuVHlwZT4gZXh0ZW5kcyBGdW5jdGlvbkRlZmluaXRpb24sIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuICAgIHJlYWRvbmx5IGJvZHk6IENvbXBpbGVkQmxvY2s7XHJcbn1cclxuXHJcblxyXG5cclxuLy8gVE9ETzogdGhpcyBzaG91bGQgYmUgY2FsbGVkIENsYXNzRGVmaW5pdGlvblxyXG4vLyBleHBvcnQgdmFyIENsYXNzRGVjbGFyYXRpb24gPSBDUFBDb25zdHJ1Y3QuZXh0ZW5kKEJhc2VEZWNsYXJhdGlvbk1peGluLCB7XHJcbi8vICAgICBfbmFtZTogXCJDbGFzc0RlY2xhcmF0aW9uXCIsXHJcblxyXG4vLyAgICAgY29tcGlsZSA6IGZ1bmN0aW9uKCl7XHJcbi8vICAgICAgICAgYXNzZXJ0KGZhbHNlLCBcIk11c3QgdXNlIGNvbXBpbGVEZWNsYXJhdGlvbiBhbmQgY29tcGlsZURlZmluaXRpb24gc2VwYXJhdGVseSBmb3IgYSBDbGFzc0RlY2xhcmF0aW9uLlwiKTtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgY29tcGlsZURlY2xhcmF0aW9uIDogZnVuY3Rpb24oKXtcclxuLy8gICAgICAgICB2YXIgYXN0ID0gdGhpcy5hc3Q7XHJcblxyXG5cclxuLy8gICAgICAgICB0aGlzLmtleSA9IGFzdC5oZWFkLmtleTtcclxuLy8gICAgICAgICB0aGlzLm5hbWUgPSBhc3QuaGVhZC5uYW1lLmlkZW50aWZpZXI7XHJcbi8vICAgICAgICAgdGhpcy5tZW1iZXJzID0gW107XHJcblxyXG5cclxuLy8gICAgICAgICAvLyBCYXNlIGNsYXNzZXNcclxuXHJcbi8vICAgICAgICAgaWYgKHRoaXMuYXN0LmhlYWQuYmFzZXMgJiYgdGhpcy5hc3QuaGVhZC5iYXNlcy5sZW5ndGggPiAwKXtcclxuLy8gICAgICAgICAgICAgaWYgKHRoaXMuYXN0LmhlYWQuYmFzZXMubGVuZ3RoID4gMSl7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuY2xhc3NfZGVmLm11bHRpcGxlX2luaGVyaXRhbmNlKHRoaXMpKTtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAgICAgdHJ5e1xyXG4vLyAgICAgICAgICAgICAgICAgdmFyIGJhc2VDb2RlID0gdGhpcy5hc3QuaGVhZC5iYXNlc1swXTtcclxuXHJcbi8vICAgICAgICAgICAgICAgICAvLyBUT0RPIE5FVzogVXNlIGFuIGFjdHVhbCBJZGVudGlmaWVyIGV4cHJlc3Npb24gZm9yIHRoaXNcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuYmFzZSA9IHRoaXMuY29udGV4dHVhbFNjb3BlLnJlcXVpcmVkTG9va3VwKGJhc2VDb2RlLm5hbWUuaWRlbnRpZmllcik7XHJcblxyXG4vLyAgICAgICAgICAgICAgICAgaWYgKCFpc0EodGhpcy5iYXNlLCBUeXBlRW50aXR5KSB8fCAhaXNBKHRoaXMuYmFzZS50eXBlLCBUeXBlcy5DbGFzcykpe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5jbGFzc19kZWYuYmFzZV9jbGFzc190eXBlKHthc3Q6YmFzZUNvZGUubmFtZX0sIGJhc2VDb2RlLm5hbWUuaWRlbnRpZmllcikpO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAgICAgICAgIGlmIChiYXNlQ29kZS52aXJ0dWFsKXtcclxuLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuY2xhc3NfZGVmLnZpcnR1YWxfaW5oZXJpdGFuY2Uoe2FzdDpiYXNlQ29kZS5uYW1lfSwgYmFzZUNvZGUubmFtZS5pZGVudGlmaWVyKSk7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgY2F0Y2goZSl7XHJcbi8vICAgICAgICAgICAgICAgICBpZiAoaXNBKGUsIFNlbWFudGljRXhjZXB0aW9ucy5CYWRMb29rdXApKXtcclxuLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoZS5hbm5vdGF0aW9uKHRoaXMpKTtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuXHJcblxyXG5cclxuLy8gICAgICAgICAvLyBDaGVjayB0aGF0IG5vIG90aGVyIHR5cGUgd2l0aCB0aGUgc2FtZSBuYW1lIGFscmVhZHkgZXhpc3RzXHJcbi8vICAgICAgICAgdHJ5IHtcclxuLy8gLy8gICAgICAgICAgICBjb25zb2xlLmxvZyhcImFkZGluZ0VudGl0eSBcIiArIHRoaXMubmFtZSk7XHJcbi8vICAgICAgICAgICAgIC8vIGNsYXNzIHR5cGUuIHdpbGwgYmUgaW5jb21wbGV0ZSBpbml0aWFsbHksIGJ1dCBtYWRlIGNvbXBsZXRlIGF0IGVuZCBvZiBjbGFzcyBkZWNsYXJhdGlvblxyXG4vLyAgICAgICAgICAgICB0aGlzLnR5cGUgPSBUeXBlcy5DbGFzcy5jcmVhdGVDbGFzc1R5cGUodGhpcy5uYW1lLCB0aGlzLmNvbnRleHR1YWxTY29wZSwgdGhpcy5iYXNlICYmIHRoaXMuYmFzZS50eXBlLCBbXSk7XHJcbi8vICAgICAgICAgICAgIHRoaXMuY2xhc3NUeXBlQ2xhc3MgPSB0aGlzLnR5cGU7XHJcblxyXG4vLyAgICAgICAgICAgICB0aGlzLmNsYXNzU2NvcGUgPSB0aGlzLnR5cGUuY2xhc3NTY29wZTtcclxuXHJcbi8vICAgICAgICAgICAgIHRoaXMuZW50aXR5ID0gVHlwZUVudGl0eS5pbnN0YW5jZSh0aGlzKTtcclxuXHJcbi8vICAgICAgICAgICAgIHRoaXMuZW50aXR5LnNldERlZmluaXRpb24odGhpcyk7IC8vIFRPRE8gYWRkIGV4Y2VwdGlvbiB0aGF0IGFsbG93cyBhIGNsYXNzIHRvIGJlIGRlZmluZWQgbW9yZSB0aGFuIG9uY2VcclxuXHJcbi8vICAgICAgICAgICAgIHRoaXMuY29udGV4dHVhbFNjb3BlLmFkZERlY2xhcmVkRW50aXR5KHRoaXMuZW50aXR5KTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgY2F0Y2goZSl7XHJcbi8vICAgICAgICAgICAgIGlmIChpc0EoZSwgTm90ZSkpe1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKGUpO1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGVsc2Uge1xyXG4vLyAgICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuXHJcblxyXG5cclxuXHJcbi8vICAgICAgICAgLy8gQ29tcGlsZSB0aGUgbWVtYmVyc1xyXG5cclxuXHJcbi8vICAgICAgICAgdmFyIG1lbURlY2xzID0gdGhpcy5tZW1EZWNscyA9IFtdO1xyXG4vLyAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBhc3QubWVtYmVyX3NwZWNzLmxlbmd0aDsgKytpKXtcclxuLy8gICAgICAgICAgICAgdmFyIHNwZWMgPSBhc3QubWVtYmVyX3NwZWNzW2ldO1xyXG4vLyAgICAgICAgICAgICB2YXIgYWNjZXNzID0gc3BlYy5hY2Nlc3MgfHwgXCJwcml2YXRlXCI7XHJcbi8vICAgICAgICAgICAgIGZvcih2YXIgaiA9IDA7IGogPCBzcGVjLm1lbWJlcnMubGVuZ3RoOyArK2ope1xyXG4vLyAgICAgICAgICAgICAgICAgc3BlYy5tZW1iZXJzW2pdLmFjY2VzcyA9IGFjY2VzcztcclxuLy8gICAgICAgICAgICAgICAgIHZhciBtZW1EZWNsID0gU2ltcGxlRGVjbGFyYXRpb24uY3JlYXRlKHNwZWMubWVtYmVyc1tqXSwge3BhcmVudDp0aGlzLCBzY29wZTogdGhpcy5jbGFzc1Njb3BlLCBjb250YWluaW5nQ2xhc3M6IHRoaXMudHlwZSwgYWNjZXNzOmFjY2Vzc30pO1xyXG5cclxuLy8gICAgICAgICAgICAgICAgIC8vIFdpdGhpbiBtZW1iZXIgZnVuY3Rpb24gZGVmaW5pdGlvbnMsIGNsYXNzIGlzIGNvbnNpZGVyZWQgYXMgY29tcGxldGUgZXZlbiB0aG91Z2ggaXQgaXNuJ3QgeWV0XHJcbi8vICAgICAgICAgICAgICAgICBpZiAoaXNBKG1lbURlY2wsIEZ1bmN0aW9uRGVmaW5pdGlvbikpe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRoaXMudHlwZS5zZXRUZW1wb3JhcmlseUNvbXBsZXRlKCk7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgICAgICAgICAgbWVtRGVjbC5jb21waWxlRGVjbGFyYXRpb24oKTtcclxuXHJcbi8vICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGVtcG9yYXJpbHkgY29tcGxldGVcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMudHlwZS51bnNldFRlbXBvcmFyaWx5Q29tcGxldGUoKTtcclxuXHJcbi8vICAgICAgICAgICAgICAgICBtZW1EZWNscy5wdXNoKG1lbURlY2wpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gY29uc3RydWN0b3JzLCB0aGVuIHdlIG5lZWQgYW4gaW1wbGljaXQgZGVmYXVsdCBjb25zdHJ1Y3RvclxyXG4vLyAgICAgICAgIGlmKHRoaXMudHlwZS5jb25zdHJ1Y3RvcnMubGVuZ3RoID09IDApe1xyXG4vLyAgICAgICAgICAgICB2YXIgaWRjID0gdGhpcy5jcmVhdGVJbXBsaWNpdERlZmF1bHRDb25zdHJ1Y3RvcigpO1xyXG4vLyAgICAgICAgICAgICBpZiAoaWRjKXtcclxuLy8gICAgICAgICAgICAgICAgIGlkYy5jb21waWxlKCk7XHJcbi8vICAgICAgICAgICAgICAgICBhc3NlcnQoIWlkYy5oYXNFcnJvcnMoKSk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIGxldCBoYXNDb3B5Q29uc3RydWN0b3IgPSBmYWxzZTtcclxuLy8gICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy50eXBlLmNvbnN0cnVjdG9ycy5sZW5ndGg7ICsraSl7XHJcbi8vICAgICAgICAgICAgIGlmICh0aGlzLnR5cGUuY29uc3RydWN0b3JzW2ldLmRlY2wuaXNDb3B5Q29uc3RydWN0b3Ipe1xyXG4vLyAgICAgICAgICAgICAgICAgaGFzQ29weUNvbnN0cnVjdG9yID0gdHJ1ZTtcclxuLy8gICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG5cclxuXHJcbi8vICAgICAgICAgdmFyIGhhc1VzZXJEZWZpbmVkQXNzaWdubWVudE9wZXJhdG9yID0gdGhpcy50eXBlLmhhc01lbWJlcihcIm9wZXJhdG9yPVwiLCB7cGFyYW1UeXBlczogW3RoaXMudHlwZV0sIGlzVGhpc0NvbnN0OmZhbHNlfSk7XHJcblxyXG4vLyAgICAgICAgIC8vIFJ1bGUgb2YgdGhlIEJpZyBUaHJlZVxyXG4vLyAgICAgICAgIHZhciBiaWdUaHJlZVllcyA9IFtdO1xyXG4vLyAgICAgICAgIHZhciBiaWdUaHJlZU5vID0gW107XHJcbi8vICAgICAgICAgKGhhc0NvcHlDb25zdHJ1Y3RvciA/IGJpZ1RocmVlWWVzIDogYmlnVGhyZWVObykucHVzaChcImNvcHkgY29uc3RydWN0b3JcIik7XHJcbi8vICAgICAgICAgKGhhc1VzZXJEZWZpbmVkQXNzaWdubWVudE9wZXJhdG9yID8gYmlnVGhyZWVZZXMgOiBiaWdUaHJlZU5vKS5wdXNoKFwiYXNzaWdubWVudCBvcGVyYXRvclwiKTtcclxuLy8gICAgICAgICAodGhpcy50eXBlLmRlc3RydWN0b3IgPyBiaWdUaHJlZVllcyA6IGJpZ1RocmVlTm8pLnB1c2goXCJkZXN0cnVjdG9yXCIpO1xyXG5cclxuLy8gICAgICAgICBpZiAoMCA8IGJpZ1RocmVlWWVzLmxlbmd0aCAmJiBiaWdUaHJlZVllcy5sZW5ndGggPCAzKXtcclxuLy8gICAgICAgICAgICAgLy8gSWYgaXQncyBvbmx5IGJlY2F1c2Ugb2YgYW4gZW1wdHkgZGVzdHJ1Y3Rvciwgc3VwcHJlc3Mgd2FybmluZ1xyXG4vLyAgICAgICAgICAgICBpZiAoYmlnVGhyZWVZZXMubGVuZ3RoID09PSAxICYmIHRoaXMudHlwZS5kZXN0cnVjdG9yICYmIHRoaXMudHlwZS5kZXN0cnVjdG9yLmRlY2wuZW1wdHlCb2R5KCkpe1xyXG5cclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmNsYXNzX2RlZi5iaWdfdGhyZWUodGhpcywgYmlnVGhyZWVZZXMsIGJpZ1RocmVlTm8pKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgdGhpcy5jdXN0b21CaWdUaHJlZSA9IGJpZ1RocmVlWWVzLmxlbmd0aCA+IDA7XHJcblxyXG4vLyAgICAgICAgIGlmICghaGFzQ29weUNvbnN0cnVjdG9yKSB7XHJcbi8vICAgICAgICAgICAgIC8vIENyZWF0ZSBpbXBsaWNpdCBjb3B5IGNvbnN0cnVjdG9yXHJcbi8vICAgICAgICAgICAgIHZhciBpY2MgPSB0aGlzLmNyZWF0ZUltcGxpY2l0Q29weUNvbnN0cnVjdG9yKCk7XHJcbi8vICAgICAgICAgICAgIGlmIChpY2MpIHtcclxuLy8gICAgICAgICAgICAgICAgIGljYy5jb21waWxlKCk7XHJcbi8vICAgICAgICAgICAgICAgICBhc3NlcnQoIWljYy5oYXNFcnJvcnMoKSk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIGlmICghdGhpcy50eXBlLmRlc3RydWN0b3IpIHtcclxuLy8gICAgICAgICAgICAgLy8gQ3JlYXRlIGltcGxpY2l0IGRlc3RydWN0b3JcclxuLy8gICAgICAgICAgICAgdmFyIGlkZCA9IHRoaXMuY3JlYXRlSW1wbGljaXREZXN0cnVjdG9yKCk7XHJcbi8vICAgICAgICAgICAgIGlmIChpZGQpIHtcclxuLy8gICAgICAgICAgICAgICAgIGlkZC5jb21waWxlKCk7XHJcbi8vICAgICAgICAgICAgICAgICBhc3NlcnQoIWlkZC5oYXNFcnJvcnMoKSk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgaWYgKCFoYXNVc2VyRGVmaW5lZEFzc2lnbm1lbnRPcGVyYXRvcil7XHJcblxyXG4vLyAgICAgICAgICAgICAvLyBDcmVhdGUgaW1wbGljaXQgYXNzaWdubWVudCBvcGVyYXRvclxyXG4vLyAgICAgICAgICAgICB2YXIgaWFvID0gdGhpcy5jcmVhdGVJbXBsaWNpdEFzc2lnbm1lbnRPcGVyYXRvcigpO1xyXG4vLyAgICAgICAgICAgICBpZiAoaWFvKXtcclxuLy8gICAgICAgICAgICAgICAgIGlhby5jb21waWxlKCk7XHJcbi8vICAgICAgICAgICAgICAgICBhc3NlcnQoIWlhby5oYXNFcnJvcnMoKSk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIGNvbXBpbGVEZWZpbml0aW9uIDogZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgaWYgKHRoaXMuaGFzRXJyb3JzKCkpe1xyXG4vLyAgICAgICAgICAgICByZXR1cm47XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLm1lbURlY2xzLmxlbmd0aDsgKytpKXtcclxuLy8gICAgICAgICAgICAgdGhpcy5tZW1EZWNsc1tpXS5jb21waWxlRGVmaW5pdGlvbigpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcblxyXG5cclxuLy8gICAgIGNyZWF0ZUltcGxpY2l0RGVmYXVsdENvbnN0cnVjdG9yIDogZnVuY3Rpb24oKXtcclxuLy8gICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4vLyAgICAgICAgIC8vIElmIGFueSBkYXRhIG1lbWJlcnMgYXJlIG9mIHJlZmVyZW5jZSB0eXBlLCBkbyBub3QgY3JlYXRlIHRoZSBpbXBsaWNpdCBkZWZhdWx0IGNvbnN0cnVjdG9yXHJcbi8vICAgICAgICAgaWYgKCF0aGlzLnR5cGUubWVtYmVyU3Vib2JqZWN0RW50aXRpZXMuZXZlcnkoZnVuY3Rpb24oc3ViT2JqKXtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiAhaXNBKHN1Yk9iai50eXBlLCBUeXBlcy5SZWZlcmVuY2UpO1xyXG4vLyAgICAgICAgICAgICB9KSl7XHJcbi8vICAgICAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIC8vIElmIGFueSBjb25zdCBkYXRhIG1lbWJlcnMgZG8gbm90IGhhdmUgYSB1c2VyLXByb3ZpZGVkIGRlZmF1bHQgY29uc3RydWN0b3JcclxuLy8gICAgICAgICBpZiAoIXRoaXMudHlwZS5tZW1iZXJTdWJvYmplY3RFbnRpdGllcy5ldmVyeShmdW5jdGlvbihzdWJPYmope1xyXG4vLyAgICAgICAgICAgICAgICAgaWYgKCFpc0Eoc3ViT2JqLnR5cGUsIFR5cGVzLkNsYXNzKSB8fCAhc3ViT2JqLnR5cGUuaXNDb25zdCl7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICB2YXIgZGVmQ29uID0gc3ViT2JqLnR5cGUuZ2V0RGVmYXVsdENvbnN0cnVjdG9yKCk7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gZGVmQ29uICYmICFkZWZDb24uZGVjbC5pc0ltcGxpY2l0KCk7XHJcbi8vICAgICAgICAgICAgIH0pKXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgLy8gSWYgYW55IHN1Ym9iamVjdHMgZG8gbm90IGhhdmUgYSBkZWZhdWx0IGNvbnN0cnVjdG9yIG9yIGRlc3RydWN0b3JcclxuLy8gICAgICAgICBpZiAoIXRoaXMudHlwZS5zdWJvYmplY3RFbnRpdGllcy5ldmVyeShmdW5jdGlvbihzdWJPYmope1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuICFpc0Eoc3ViT2JqLnR5cGUsIFR5cGVzLkNsYXNzKSB8fFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHN1Yk9iai50eXBlLmdldERlZmF1bHRDb25zdHJ1Y3RvcigpICYmXHJcbi8vICAgICAgICAgICAgICAgICAgICAgc3ViT2JqLnR5cGUuZGVzdHJ1Y3RvcjtcclxuLy8gICAgICAgICAgICAgfSkpe1xyXG4vLyAgICAgICAgICAgICByZXR1cm47XHJcbi8vICAgICAgICAgfVxyXG5cclxuXHJcbi8vICAgICAgICAgdmFyIHNyYyA9IHRoaXMubmFtZSArIFwiKCkge31cIjtcclxuLy8gICAgICAgICAvL1RPRE86IGluaXRpYWxpemUgbWVtYmVycyAoaS5lLiB0aGF0IGFyZSBjbGFzc2VzKVxyXG4vLyAgICAgICAgIHNyYyA9IExvYnN0ZXIuY1BsdXNQbHVzUGFyc2VyLnBhcnNlKHNyYywge3N0YXJ0UnVsZTpcIm1lbWJlcl9kZWNsYXJhdGlvblwifSk7XHJcbi8vICAgICAgICAgcmV0dXJuIENvbnN0cnVjdG9yRGVmaW5pdGlvbi5pbnN0YW5jZShzcmMsIHtwYXJlbnQ6dGhpcywgc2NvcGU6IHRoaXMuY2xhc3NTY29wZSwgY29udGFpbmluZ0NsYXNzOiB0aGlzLnR5cGUsIGFjY2VzczpcInB1YmxpY1wiLCBpbXBsaWNpdDp0cnVlfSk7XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIGNyZWF0ZUltcGxpY2l0Q29weUNvbnN0cnVjdG9yIDogZnVuY3Rpb24oKXtcclxuLy8gICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbi8vICAgICAgICAgLy8gSWYgYW55IHN1Ym9iamVjdHMgYXJlIG1pc3NpbmcgYSBjb3B5IGNvbnN0cnVjdG9yLCBkbyBub3QgY3JlYXRlIGltcGxpY2l0IGNvcHkgY3RvclxyXG4vLyAgICAgICAgIGlmICghdGhpcy50eXBlLnN1Ym9iamVjdEVudGl0aWVzLmV2ZXJ5KGZ1bmN0aW9uKHN1Yk9iail7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gIWlzQShzdWJPYmoudHlwZSwgVHlwZXMuQ2xhc3MpIHx8XHJcbi8vICAgICAgICAgICAgICAgICAgICAgc3ViT2JqLnR5cGUuZ2V0Q29weUNvbnN0cnVjdG9yKHN1Yk9iai50eXBlLmlzQ29uc3QpO1xyXG4vLyAgICAgICAgICAgICB9KSl7XHJcbi8vICAgICAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIC8vIElmIGFueSBzdWJvYmplY3RzIGFyZSBtaXNzaW5nIGEgZGVzdHJ1Y3RvciwgZG8gbm90IGNyZWF0ZSBpbXBsaWNpdCBjb3B5IGN0b3JcclxuLy8gICAgICAgICBpZiAoIXRoaXMudHlwZS5zdWJvYmplY3RFbnRpdGllcy5ldmVyeShmdW5jdGlvbihzdWJPYmope1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuICFpc0Eoc3ViT2JqLnR5cGUsIFR5cGVzLkNsYXNzKSB8fFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHN1Yk9iai50eXBlLmRlc3RydWN0b3I7XHJcbi8vICAgICAgICAgICAgIH0pKXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgdmFyIHNyYyA9IHRoaXMubmFtZSArIFwiKGNvbnN0IFwiICsgdGhpcy5uYW1lICsgXCIgJm90aGVyKVwiO1xyXG5cclxuLy8gICAgICAgICBpZiAodGhpcy50eXBlLnN1Ym9iamVjdEVudGl0aWVzLmxlbmd0aCA+IDApe1xyXG4vLyAgICAgICAgICAgICBzcmMgKz0gXCJcXG4gOiBcIjtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgc3JjICs9IHRoaXMudHlwZS5iYXNlQ2xhc3NFbnRpdGllcy5tYXAoZnVuY3Rpb24oc3ViT2JqKXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHN1Yk9iai50eXBlLmNsYXNzTmFtZSArIFwiKG90aGVyKVwiO1xyXG4vLyAgICAgICAgIH0pLmNvbmNhdCh0aGlzLnR5cGUubWVtYmVyRW50aXRpZXMubWFwKGZ1bmN0aW9uKHN1Yk9iail7XHJcbi8vICAgICAgICAgICAgIHJldHVybiBzdWJPYmoubmFtZSArIFwiKG90aGVyLlwiICsgc3ViT2JqLm5hbWUgKyBcIilcIjtcclxuLy8gICAgICAgICB9KSkuam9pbihcIiwgXCIpO1xyXG5cclxuLy8gICAgICAgICBzcmMgKz0gXCIge31cIjtcclxuLy8gICAgICAgICBzcmMgPSBMb2JzdGVyLmNQbHVzUGx1c1BhcnNlci5wYXJzZShzcmMsIHtzdGFydFJ1bGU6XCJtZW1iZXJfZGVjbGFyYXRpb25cIn0pO1xyXG5cclxuLy8gICAgICAgICByZXR1cm4gQ29uc3RydWN0b3JEZWZpbml0aW9uLmluc3RhbmNlKHNyYywge3BhcmVudDp0aGlzLCBzY29wZTogdGhpcy5jbGFzc1Njb3BlLCBjb250YWluaW5nQ2xhc3M6IHRoaXMudHlwZSwgYWNjZXNzOlwicHVibGljXCIsIGltcGxpY2l0OnRydWV9KTtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgY3JlYXRlSW1wbGljaXRBc3NpZ25tZW50T3BlcmF0b3IgOiBmdW5jdGlvbiAoKSB7XHJcbi8vICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4vLyAgICAgICAgIC8vIFBhcmFtZXRlciB3aWxsIG9ubHkgYmUgY29uc3QgaWYgYWxsIHN1Ym9iamVjdHMgaGF2ZSBhc3NpZ25tZW50IG9wcyB0aGF0IHRha2UgY29uc3QgcGFyYW1zXHJcbi8vICAgICAgICAgdmFyIGNhbk1ha2VDb25zdCA9IHRoaXMudHlwZS5zdWJvYmplY3RFbnRpdGllcy5ldmVyeShmdW5jdGlvbihzdWJPYmope1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gIWlzQShzdWJPYmoudHlwZSwgVHlwZXMuQ2xhc3MpIHx8XHJcbi8vICAgICAgICAgICAgICAgICBzdWJPYmoudHlwZS5nZXRBc3NpZ25tZW50T3BlcmF0b3IodHJ1ZSk7XHJcbi8vICAgICAgICAgfSk7XHJcblxyXG4vLyAgICAgICAgIHZhciBjYW5NYWtlTm9uQ29uc3QgPSBjYW5NYWtlQ29uc3QgfHwgdGhpcy50eXBlLnN1Ym9iamVjdEVudGl0aWVzLmV2ZXJ5KGZ1bmN0aW9uKHN1Yk9iail7XHJcbi8vICAgICAgICAgICAgIHJldHVybiAhaXNBKHN1Yk9iai50eXBlLCBUeXBlcy5DbGFzcykgfHxcclxuLy8gICAgICAgICAgICAgICAgIHN1Yk9iai50eXBlLmdldEFzc2lnbm1lbnRPcGVyYXRvcihmYWxzZSk7XHJcbi8vICAgICAgICAgfSk7XHJcblxyXG4vLyAgICAgICAgIC8vIElmIHdlIGNhbid0IG1ha2Ugbm9uLWNvbnN0LCB3ZSBhbHNvIGNhbid0IG1ha2UgY29uc3QsIGFuZCB3ZSBjYW4ndCBtYWtlIGFueSBpbXBsaWNpdCBhc3NpZ25tZW50IG9wXHJcbi8vICAgICAgICAgaWYgKCFjYW5NYWtlTm9uQ29uc3Qpe1xyXG4vLyAgICAgICAgICAgICByZXR1cm47XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIHZhciBjb25zdFBhcnQgPSBjYW5NYWtlQ29uc3QgPyBcImNvbnN0IFwiIDogXCJcIjtcclxuXHJcbi8vICAgICAgICAgLy8gSWYgYW55IGRhdGEgbWVtYmVyIGlzIGEgcmVmZXJlbmNlLCB3ZSBjYW4ndCBtYWtlIGltcGxpY2l0IGFzc2lnbm1lbnQgb3BlcmF0b3JcclxuLy8gICAgICAgICBpZiAoIXRoaXMudHlwZS5tZW1iZXJTdWJvYmplY3RFbnRpdGllcy5ldmVyeShmdW5jdGlvbihzdWJPYmope1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuICFpc0Eoc3ViT2JqLnR5cGUsIFR5cGVzLlJlZmVyZW5jZSk7XHJcbi8vICAgICAgICAgICAgIH0pKXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgLy8gSWYgYW55IG5vbi1jbGFzcyBtZW1iZXIgaXMgY29uc3QgKG9yIGFycmF5IHRoZXJlb2YpLCB3ZSBjYW4ndCBtYWtlIGltcGxpY2l0IGFzc2lnbm1lbnQgb3BlcmF0b3JcclxuLy8gICAgICAgICBpZiAoIXRoaXMudHlwZS5tZW1iZXJTdWJvYmplY3RFbnRpdGllcy5ldmVyeShmdW5jdGlvbihzdWJPYmope1xyXG4vLyAgICAgICAgICAgICAgICAgLy9yZXR1cm4gKGlzQShzdWJPYmoudHlwZSwgVHlwZXMuQ2xhc3MpIHx8ICFzdWJPYmoudHlwZS5pc0NvbnN0KVxyXG4vLyAgICAgICAgICAgICAgICAgLy8gICAgJiYgKCFpc0Eoc3ViT2JqLnR5cGUsIFR5cGVzLkFycmF5KSB8fCBpc0Eoc3ViT2JqLnR5cGUuZWxlbVR5cGUsIFR5cGVzLkNsYXNzKSB8fCAhc3ViT2JqLnR5cGUuZWxlbVR5cGUuaXNDb25zdCk7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gIXN1Yk9iai50eXBlLmlzQ29uc3RcclxuLy8gICAgICAgICAgICAgICAgICAgICAmJiAoIWlzQShzdWJPYmoudHlwZSwgVHlwZXMuQXJyYXkpIHx8ICFzdWJPYmoudHlwZS5lbGVtVHlwZS5pc0NvbnN0KTtcclxuLy8gICAgICAgICAgICAgfSkpe1xyXG4vLyAgICAgICAgICAgICByZXR1cm47XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICB2YXIgc3JjID0gdGhpcy5uYW1lICsgXCIgJm9wZXJhdG9yPShcIiArIGNvbnN0UGFydCArIHRoaXMubmFtZSArIFwiICZyaHMpe1wiO1xyXG5cclxuLy8gICAgICAgICBzcmMgKz0gdGhpcy50eXBlLmJhc2VDbGFzc0VudGl0aWVzLm1hcChmdW5jdGlvbihzdWJPYmope1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gc3ViT2JqLnR5cGUuY2xhc3NOYW1lICsgXCI6Om9wZXJhdG9yPShyaHMpO1wiO1xyXG4vLyAgICAgICAgIH0pLmpvaW4oXCJcXG5cIik7XHJcblxyXG4vLyAgICAgICAgIHZhciBtZW1zID0gdGhpcy50eXBlLm1lbWJlclN1Ym9iamVjdEVudGl0aWVzO1xyXG4vLyAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBtZW1zLmxlbmd0aDsgKytpKXtcclxuLy8gICAgICAgICAgICAgdmFyIG1lbSA9IG1lbXNbaV07XHJcbi8vICAgICAgICAgICAgIGlmIChpc0EobWVtLnR5cGUsIFR5cGVzLkFycmF5KSl7XHJcbi8vICAgICAgICAgICAgICAgICB2YXIgdGVtcFR5cGUgPSBtZW0udHlwZTtcclxuLy8gICAgICAgICAgICAgICAgIHZhciBzdWJzY3JpcHROdW0gPSBpc0EodGVtcFR5cGUuZWxlbVR5cGUsIFR5cGVzLkFycmF5KSA/IDEgOiBcIlwiO1xyXG4vLyAgICAgICAgICAgICAgICAgdmFyIHN1YnNjcmlwdHMgPSBcIlwiO1xyXG4vLyAgICAgICAgICAgICAgICAgdmFyIGNsb3NlQnJhY2tldHMgPSBcIlwiO1xyXG4vLyAgICAgICAgICAgICAgICAgd2hpbGUoaXNBKHRlbXBUeXBlLCBUeXBlcy5BcnJheSkpe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHNyYyArPSBcImZvcihpbnQgaVwiK3N1YnNjcmlwdE51bStcIj0wOyBpXCIrc3Vic2NyaXB0TnVtK1wiPFwiK3RlbXBUeXBlLmxlbmd0aCtcIjsgKytpXCIrc3Vic2NyaXB0TnVtK1wiKXtcIjtcclxuLy8gICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRzICs9IFwiW2lcIitzdWJzY3JpcHROdW0rXCJdXCI7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgY2xvc2VCcmFja2V0cyArPSBcIn1cIjtcclxuLy8gICAgICAgICAgICAgICAgICAgICB0ZW1wVHlwZSA9IHRlbXBUeXBlLmVsZW1UeXBlO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdE51bSArPSAxO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICAgc3JjICs9IG1lbS5uYW1lICsgc3Vic2NyaXB0cyArIFwiID0gcmhzLlwiICsgbWVtLm5hbWUgKyBcIlwiICsgc3Vic2NyaXB0cyArIFwiO1wiO1xyXG4vLyAgICAgICAgICAgICAgICAgc3JjICs9IGNsb3NlQnJhY2tldHM7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgICAgIHNyYyArPSBtZW1zW2ldLm5hbWUgKyBcIiA9IHJocy5cIiArIG1lbXNbaV0ubmFtZSArIFwiO1wiO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIHNyYyArPSBcInJldHVybiAqdGhpczt9XCI7XHJcbi8vICAgICAgICAgc3JjID0gTG9ic3Rlci5jUGx1c1BsdXNQYXJzZXIucGFyc2Uoc3JjLCB7c3RhcnRSdWxlOlwibWVtYmVyX2RlY2xhcmF0aW9uXCJ9KTtcclxuLy8gICAgICAgICByZXR1cm4gRnVuY3Rpb25EZWZpbml0aW9uLmluc3RhbmNlKHNyYywge3BhcmVudDp0aGlzLCBzY29wZTogdGhpcy5jbGFzc1Njb3BlLCBjb250YWluaW5nQ2xhc3M6IHRoaXMudHlwZSwgYWNjZXNzOlwicHVibGljXCIsIGltcGxpY2l0OnRydWV9KTtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgY3JlYXRlSW1wbGljaXREZXN0cnVjdG9yIDogZnVuY3Rpb24oKXtcclxuLy8gICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbi8vICAgICAgICAgLy8gSWYgYW55IHN1Ym9iamVjdHMgYXJlIG1pc3NpbmcgYSBkZXN0cnVjdG9yLCBkbyBub3QgY3JlYXRlIGltcGxpY2l0IGRlc3RydWN0b3JcclxuLy8gICAgICAgICBpZiAoIXRoaXMudHlwZS5zdWJvYmplY3RFbnRpdGllcy5ldmVyeShmdW5jdGlvbihzdWJPYmope1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuICFpc0Eoc3ViT2JqLnR5cGUsIFR5cGVzLkNsYXNzKSB8fFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHN1Yk9iai50eXBlLmRlc3RydWN0b3I7XHJcbi8vICAgICAgICAgICAgIH0pKXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgdmFyIHNyYyA9IFwiflwiICsgdGhpcy50eXBlLm5hbWUgKyBcIigpe31cIjtcclxuLy8gICAgICAgICBzcmMgPSBMb2JzdGVyLmNQbHVzUGx1c1BhcnNlci5wYXJzZShzcmMsIHtzdGFydFJ1bGU6XCJtZW1iZXJfZGVjbGFyYXRpb25cIn0pO1xyXG4vLyAgICAgICAgIHJldHVybiBEZXN0cnVjdG9yRGVmaW5pdGlvbi5pbnN0YW5jZShzcmMsIHtwYXJlbnQ6dGhpcywgc2NvcGU6IHRoaXMuY2xhc3NTY29wZSwgY29udGFpbmluZ0NsYXNzOiB0aGlzLnR5cGUsIGFjY2VzczpcInB1YmxpY1wiLCBpbXBsaWNpdDp0cnVlfSk7XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIGNyZWF0ZUluc3RhbmNlIDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbi8vICAgICAgICAgcmV0dXJuIFJ1bnRpbWVDb25zdHJ1Y3QuaW5zdGFuY2Uoc2ltLCB0aGlzLCB7ZGVjbDowLCBzdGVwOlwiZGVjbFwifSwgXCJzdG10XCIsIGluc3QpO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICB1cE5leHQgOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuXHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIHN0ZXBGb3J3YXJkIDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcblxyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcbi8vIGV4cG9ydCB2YXIgTWVtYmVyRGVjbGFyYXRpb24gPSBTaW1wbGVEZWNsYXJhdGlvbi5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiTWVtYmVyRGVjbGFyYXRpb25cIixcclxuLy8gICAgIGluaXQ6IGZ1bmN0aW9uKGFzdCwgY29udGV4dCl7XHJcbi8vICAgICAgICAgYXNzZXJ0KGNvbnRleHQpO1xyXG4vLyAgICAgICAgIGFzc2VydChpc0EoY29udGV4dC5jb250YWluaW5nQ2xhc3MsIFR5cGVzLkNsYXNzKSk7XHJcbi8vICAgICAgICAgYXNzZXJ0KGNvbnRleHQuaGFzT3duUHJvcGVydHkoXCJhY2Nlc3NcIikpO1xyXG4vLyAgICAgICAgIHRoaXMuaW5pdFBhcmVudChhc3QsIGNvbnRleHQpO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBpX2NyZWF0ZUZyb21BU1QgOiBmdW5jdGlvbihhc3QsIGNvbnRleHQpIHtcclxuLy8gICAgICAgICBNZW1iZXJEZWNsYXJhdGlvbi5fcGFyZW50LmlfY3JlYXRlRnJvbUFTVC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4vLyAgICAgICAgIHRoaXMuYWNjZXNzID0gY29udGV4dC5hY2Nlc3M7XHJcbi8vICAgICAgICAgdGhpcy5pX2NvbnRhaW5pbmdDbGFzcyA9IGNvbnRleHQuY29udGFpbmluZ0NsYXNzO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBpX2RldGVybWluZVN0b3JhZ2UgOiBmdW5jdGlvbigpe1xyXG4vLyAgICAgICAgIC8vIERldGVybWluZSBzdG9yYWdlIGR1cmF0aW9uIGJhc2VkIG9uIHRoZSBraW5kIG9mIHNjb3BlIGluIHdoaWNoIHRoZSBkZWNsYXJhdGlvblxyXG4vLyAgICAgICAgIC8vIG9jY3VycyBhbmQgYW55IHN0b3JhZ2Ugc3BlY2lmaWVycy5cclxuLy8gICAgICAgICBpZih0aGlzLnN0b3JhZ2VTcGVjLnN0YXRpYyl7XHJcbi8vICAgICAgICAgICAgIHRoaXMuc3RvcmFnZUR1cmF0aW9uID0gXCJzdGF0aWNcIjtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgdGhpcy5zdG9yYWdlRHVyYXRpb24gPSBcImF1dG9tYXRpY1wiO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgbWFrZUVudGl0eTogZnVuY3Rpb24oZGVjbCl7XHJcblxyXG4vLyAgICAgICAgIC8vIE5vdGU6IHdlIGtub3cgaXQncyBub3QgYSBmdW5jdGlvbiBkZWZpbml0aW9uIGJlY2F1c2UgdGhhdCBnb2VzIHRvIHRoZSBGdW5jdGlvbkRlZmluaXRpb25cclxuLy8gICAgICAgICAvLyBjbGFzcy4gIFRodXMgYW55IGZ1bmN0aW9ucyBhcmUgbm90IGRlZmluaXRpb25zLlxyXG4vLyAgICAgICAgIC8vIERvbid0IGhhdmUgdG8gY2hlY2sgZm9yIGNsYXNzZXMsIGZvciBzaW1pbGFyIHJlYXNvbnMuXHJcbi8vICAgICAgICAgdmFyIGlzRGVmaW5pdGlvbiA9ICFpc0EoZGVjbC50eXBlLCBUeXBlcy5GdW5jdGlvbilcclxuLy8gICAgICAgICAgICAgJiYgISh0aGlzLnN0b3JhZ2VTcGVjLmV4dGVybiAmJiAhKGRlY2wuaW5pdGlhbGl6ZXIgfHwgZGVjbC5pbml0aWFsaXplckxpc3QpKVxyXG4vLyAgICAgICAgICAgICAmJiAhdGhpcy50eXBlZGVmO1xyXG5cclxuLy8gICAgICAgICB0aGlzLmlzRGVmaW5pdGlvbiA9IGlzRGVmaW5pdGlvbjtcclxuXHJcbi8vICAgICAgICAgdmFyIGVudGl0eTtcclxuLy8gICAgICAgICBpZiAoaXNBKGRlY2wudHlwZSwgVHlwZXMuRnVuY3Rpb24pKXtcclxuLy8gICAgICAgICAgICAgZW50aXR5ID0gTWVtYmVyRnVuY3Rpb25FbnRpdHkuaW5zdGFuY2UoZGVjbCwgdGhpcy5pX2NvbnRhaW5pbmdDbGFzcywgdGhpcy52aXJ0dWFsKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZSBpZiAodGhpcy5zdG9yYWdlRHVyYXRpb24gPT09IFwic3RhdGljXCIpe1xyXG4vLyAgICAgICAgICAgICBlbnRpdHkgPSBTdGF0aWNFbnRpdHkuaW5zdGFuY2UoZGVjbCk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgIGVudGl0eSA9IE1lbWJlclZhcmlhYmxlRW50aXR5Lmluc3RhbmNlKGRlY2wsIHRoaXMuaV9jb250YWluaW5nQ2xhc3MpO1xyXG4vLyAgICAgICAgICAgICB0aGlzLmlzRGVmaW5pdGlvbiA9IGZhbHNlOyAvLyBUT0RPIE5FVzogVGhpcyBpcyBhIGhhY2suIFNpbmNlIGltcGxlbWVudGluZyBhIHByb3BlciBsaW5raW5nIHBoYXNlLCBzdGF0aWMgc3R1ZmYgbWF5IGJlIGJyb2tlbi5cclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIGlmICh0aGlzLmlzRGVmaW5pdGlvbikge1xyXG4vLyAgICAgICAgICAgICBlbnRpdHkuc2V0RGVmaW5pdGlvbih0aGlzKTtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIHRyeSB7XHJcbi8vICAgICAgICAgICAgIHRoaXMuZW50aXRpZXMucHVzaChlbnRpdHkpO1xyXG4vLyAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHtvd246IHRydWV9O1xyXG4vLyAgICAgICAgICAgICBpZiAoaXNBKGVudGl0eSwgTWVtYmVyRnVuY3Rpb25FbnRpdHkpKSB7XHJcbi8vICAgICAgICAgICAgICAgICBvcHRpb25zLnBhcmFtVHlwZXMgPSBlbnRpdHkudHlwZS5wYXJhbVR5cGVzO1xyXG4vLyAgICAgICAgICAgICAgICAgb3B0aW9ucy5leGFjdE1hdGNoID0gdHJ1ZTtcclxuLy8gICAgICAgICAgICAgICAgIG9wdGlvbnMubm9CYXNlID0gdHJ1ZTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBpZiAoKGlzQShlbnRpdHksIE1lbWJlclZhcmlhYmxlRW50aXR5KSB8fCBpc0EoZW50aXR5LCBNZW1iZXJGdW5jdGlvbkVudGl0eSkpKXtcclxuLy8gICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IGNoZWNrIGlmIGEgY29uZmxpY3RpbmcgbWVtYmVyIGFscmVhZHkgZXhpc3RzIGhlcmUgLSB0aGF0IHdpbGwgYmVcclxuLy8gICAgICAgICAgICAgICAgIC8vIGRvbmUgaW5zaWRlIGFkZE1lbWJlciBhbmQgYW4gZXhjZXB0aW9uIHdpbGwgYmUgdGhyb3duIGlmIHRoZXJlIGlzIGEgY29uZmxpY3RcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuaV9jb250YWluaW5nQ2xhc3MuYWRkTWVtYmVyKGVudGl0eSk7IC8vIHRoaXMgaW50ZXJuYWxseSBhZGRzIGl0IHRvIHRoZSBjbGFzcyBzY29wZVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIHJldHVybiBlbnRpdHk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGNhdGNoKGUpIHtcclxuLy8gICAgICAgICAgICAgaWYgKGlzQShlLCBOb3RlKSl7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoZSk7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNlIHtcclxuLy8gICAgICAgICAgICAgICAgIHRocm93IGU7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuXHJcbi8vIGV4cG9ydCB2YXIgQ29uc3RydWN0b3JEZWZpbml0aW9uID0gRnVuY3Rpb25EZWZpbml0aW9uLmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZTogXCJDb25zdHJ1Y3RvckRlZmluaXRpb25cIixcclxuXHJcbi8vICAgICBpX2NoaWxkcmVuVG9FeGVjdXRlOiBbXCJtZW1iZXJJbml0aWFsaXplcnNcIiwgXCJib2R5XCJdLCAvLyBUT0RPOiB3aHkgZG8gcmVndWxhciBmdW5jdGlvbnMgaGF2ZSBtZW1iZXIgaW5pdGlhbGl6ZXJzPz9cclxuXHJcblxyXG4vLyAgICAgaW5zdGFuY2UgOiBmdW5jdGlvbihhc3QsIGNvbnRleHQpe1xyXG4vLyAgICAgICAgIGFzc2VydChjb250ZXh0KTtcclxuLy8gICAgICAgICBhc3NlcnQoaXNBKGNvbnRleHQuY29udGFpbmluZ0NsYXNzLCBUeXBlcy5DbGFzcykpO1xyXG4vLyAgICAgICAgIGFzc2VydChjb250ZXh0Lmhhc093blByb3BlcnR5KFwiYWNjZXNzXCIpKTtcclxuLy8gICAgICAgICAvLyBNYWtlIHN1cmUgaXQncyBhY3R1YWxseSBhIGNvbnN0cnVjdG9yXHJcbi8vICAgICAgICAgaWYgKGFzdC5uYW1lLmlkZW50aWZpZXIgIT09IGNvbnRleHQuY29udGFpbmluZ0NsYXNzLmNsYXNzTmFtZSl7XHJcbi8vICAgICAgICAgICAgIC8vIG9vcHMgd2FzIGFjdHVhbGx5IGEgZnVuY3Rpb24gd2l0aCBtaXNzaW5nIHJldHVybiB0eXBlXHJcbi8vICAgICAgICAgICAgIHJldHVybiBGdW5jdGlvbkRlZmluaXRpb24uaW5zdGFuY2UoYXN0LCBjb250ZXh0KTtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIHJldHVybiBDb25zdHJ1Y3RvckRlZmluaXRpb24uX3BhcmVudC5pbnN0YW5jZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBjb21waWxlRGVjbGFyYXRpb24gOiBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICBGdW5jdGlvbkRlZmluaXRpb24uY29tcGlsZURlY2xhcmF0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblxyXG4vLyAgICAgICAgIGlmICghdGhpcy5oYXNFcnJvcnMoKSl7XHJcbi8vICAgICAgICAgICAgIHRoaXMuaV9jb250YWluaW5nQ2xhc3MuYWRkQ29uc3RydWN0b3IodGhpcy5lbnRpdHkpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgY29tcGlsZURlY2xhcmF0b3IgOiBmdW5jdGlvbigpe1xyXG4vLyAgICAgICAgIHZhciBhc3QgPSB0aGlzLmFzdDtcclxuXHJcblxyXG4vLyAgICAgICAgIC8vIE5PVEU6IGEgY29uc3RydWN0b3IgZG9lc24ndCBoYXZlIGEgXCJuYW1lXCIsIGFuZCBzbyB3ZSBkb24ndCBuZWVkIHRvIGFkZCBpdCB0byBhbnkgc2NvcGUuXHJcbi8vICAgICAgICAgLy8gSG93ZXZlciwgdG8gbWFrZSBsb29rdXAgZWFzaWVyLCB3ZSBnaXZlIGFsbCBjb25zdHJ1Y3RvcnMgdGhlaXIgY2xhc3MgbmFtZSBwbHVzIHRoZSBudWxsIGNoYXJhY3Rlci4gTE9MXHJcbi8vICAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBzaWxseS4gcmVtb3ZlIGl0IHBscyA6KVxyXG4vLyAgICAgICAgIHRoaXMubmFtZSA9IHRoaXMuaV9jb250YWluaW5nQ2xhc3MuY2xhc3NOYW1lICsgXCJcXDBcIjtcclxuXHJcbi8vICAgICAgICAgLy8gQ29tcGlsZSB0aGUgcGFyYW1ldGVyc1xyXG4vLyAgICAgICAgIHZhciBhcmdzID0gdGhpcy5hc3QuYXJncztcclxuLy8gICAgICAgICB0aGlzLnBhcmFtcyA9IFtdO1xyXG4vLyAgICAgICAgIHRoaXMucGFyYW1UeXBlcyA9IFtdO1xyXG4vLyAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYXJncy5sZW5ndGg7ICsraikge1xyXG4vLyAgICAgICAgICAgICB2YXIgcGFyYW1EZWNsID0gUGFyYW1ldGVyLmluc3RhbmNlKGFyZ3Nbal0sIHtwYXJlbnQ6IHRoaXMsIHNjb3BlOiB0aGlzLmJvZHlTY29wZX0pO1xyXG4vLyAgICAgICAgICAgICBwYXJhbURlY2wuY29tcGlsZSgpO1xyXG4vLyAgICAgICAgICAgICB0aGlzLnBhcmFtcy5wdXNoKHBhcmFtRGVjbCk7XHJcbi8vICAgICAgICAgICAgIHRoaXMucGFyYW1UeXBlcy5wdXNoKHBhcmFtRGVjbC50eXBlKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgdGhpcy5pc0RlZmF1bHRDb25zdHJ1Y3RvciA9IHRoaXMucGFyYW1zLmxlbmd0aCA9PSAwO1xyXG5cclxuLy8gICAgICAgICB0aGlzLmlzQ29weUNvbnN0cnVjdG9yID0gdGhpcy5wYXJhbXMubGVuZ3RoID09IDFcclxuLy8gICAgICAgICAmJiAoaXNBKHRoaXMucGFyYW1UeXBlc1swXSwgdGhpcy5pX2NvbnRhaW5pbmdDbGFzcykgfHxcclxuLy8gICAgICAgICBpc0EodGhpcy5wYXJhbVR5cGVzWzBdLCBUeXBlcy5SZWZlcmVuY2UpICYmIGlzQSh0aGlzLnBhcmFtVHlwZXNbMF0ucmVmVG8sIHRoaXMuaV9jb250YWluaW5nQ2xhc3MpKTtcclxuXHJcblxyXG4vLyAgICAgICAgIC8vIEdpdmUgZXJyb3IgZm9yIGNvcHkgY29uc3RydWN0b3IgdGhhdCBwYXNzZXMgYnkgdmFsdWVcclxuLy8gICAgICAgICBpZiAodGhpcy5pc0NvcHlDb25zdHJ1Y3RvciAmJiBpc0EodGhpcy5wYXJhbVR5cGVzWzBdLCB0aGlzLmlfY29udGFpbmluZ0NsYXNzKSl7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5kZWNsYXJhdGlvbi5jdG9yLmNvcHkucGFzc19ieV92YWx1ZSh0aGlzLnBhcmFtc1swXSwgdGhpcy5wYXJhbVR5cGVzWzBdLCB0aGlzLnBhcmFtc1swXS5uYW1lKSk7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAvLyBJIGtub3cgdGhpcyBpcyB0ZWNobmljYWxseSB3cm9uZyBidXQgSSB0aGluayBpdCBtYWtlcyB0aGluZ3MgcnVuIHNtb290aGVyXHJcbi8vICAgICAgICAgdGhpcy50eXBlID0gVHlwZXMuRnVuY3Rpb24uaW5zdGFuY2UoVHlwZXMuVm9pZC5pbnN0YW5jZSgpLCB0aGlzLnBhcmFtVHlwZXMpO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBjb21waWxlRGVmaW5pdGlvbiA6IGZ1bmN0aW9uKCl7XHJcbi8vICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4vLyAgICAgICAgIHZhciBhc3QgPSB0aGlzLmFzdDtcclxuXHJcbi8vICAgICAgICAgaWYgKCFhc3QuYm9keSl7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5jbGFzc19kZWYuY3Rvcl9kZWYodGhpcykpO1xyXG4vLyAgICAgICAgICAgICByZXR1cm47XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICB0aGlzLmNvbXBpbGVDdG9ySW5pdGlhbGl6ZXIoKTtcclxuXHJcbi8vICAgICAgICAgLy8gQ2FsbCBwYXJlbnQgY2xhc3MgdmVyc2lvbi4gV2lsbCBoYW5kbGUgYm9keSwgYXV0b21hdGljIG9iamVjdCBkZXN0cnVjdGlvbiwgZXRjLlxyXG4vLyAgICAgICAgIEZ1bmN0aW9uRGVmaW5pdGlvbi5jb21waWxlRGVmaW5pdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBjb21waWxlQ3RvckluaXRpYWxpemVyIDogZnVuY3Rpb24oKXtcclxuLy8gICAgICAgICB2YXIgbWVtSW5pdHMgPSB0aGlzLmFzdC5pbml0aWFsaXplciB8fCBbXTtcclxuXHJcbi8vICAgICAgICAgLy8gRmlyc3QsIGNoZWNrIHRvIHNlZSBpZiB0aGlzIGlzIGEgZGVsZWdhdGluZyBjb25zdHJ1Y3Rvci5cclxuLy8gICAgICAgICAvLyBUT0RPOiBjaGVjayBvbiB3aGV0aGVyIHNvbWVvbmUgY291bGQgdGVjaGluaWNhbGx5IGRlY2xhcmUgYSBtZW1iZXIgdmFyaWFibGUgd2l0aCB0aGUgc2FtZSBuYW1lXHJcbi8vICAgICAgICAgLy8gYXMgdGhlIGNsYXNzIGFuZCBob3cgdGhhdCBhZmZlY3RzIHRoZSBsb2dpYyBoZXJlLlxyXG4vLyAgICAgICAgIHZhciB0YXJnZXRDb25zdHJ1Y3RvciA9IG51bGw7XHJcbi8vICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IG1lbUluaXRzLmxlbmd0aDsgKytpKXtcclxuLy8gICAgICAgICAgICAgaWYgKG1lbUluaXRzW2ldLm1lbWJlci5pZGVudGlmaWVyID09IHRoaXMuaV9jb250YWluaW5nQ2xhc3MuY2xhc3NOYW1lKXtcclxuLy8gICAgICAgICAgICAgICAgIHRhcmdldENvbnN0cnVjdG9yID0gaTtcclxuLy8gICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAvLyBJdCBpcyBhIGRlbGVnYXRpbmcgY29uc3RydWN0b3JcclxuLy8gICAgICAgICBpZiAodGFyZ2V0Q29uc3RydWN0b3IgIT09IG51bGwpe1xyXG4vLyAgICAgICAgICAgICB0YXJnZXRDb25zdHJ1Y3RvciA9IG1lbUluaXRzLnNwbGljZSh0YXJnZXRDb25zdHJ1Y3RvciwgMSlbMF07XHJcbi8vICAgICAgICAgICAgIC8vIElmIGl0IGlzIGEgZGVsZWdhdGluZyBjb25zdHJ1Y3RvciwgdGhlcmUgY2FuIGJlIG5vIG90aGVyIG1lbUluaXRzXHJcbi8vICAgICAgICAgICAgIGlmIChtZW1Jbml0cy5sZW5ndGggPT09IDApeyAvLyBzaG91bGQgYmUgMCBzaW5jZSBvbmUgcmVtb3ZlZFxyXG4vLyAgICAgICAgICAgICAgICAgdmFyIG1lbSA9IE1lbWJlckluaXRpYWxpemVyLmluc3RhbmNlKHRhcmdldENvbnN0cnVjdG9yLCB7cGFyZW50OiB0aGlzLCBzY29wZTogdGhpcy5ib2R5U2NvcGV9KTtcclxuLy8gICAgICAgICAgICAgICAgIG1lbS5jb21waWxlKFJlY2VpdmVyRW50aXR5Lmluc3RhbmNlKHRoaXMuaV9jb250YWluaW5nQ2xhc3MpKTtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMubWVtYmVySW5pdGlhbGl6ZXJzLnB1c2gobWVtKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmN0b3IuaW5pdC5kZWxlZ2F0aW5nX29ubHkodGhpcykpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIC8vIEl0IGlzIGEgbm9uLWRlbGVnYXRpbmcgY29uc3RydWN0b3JcclxuXHJcbi8vICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBiYXNlIGNsYXNzIHN1Ym9iamVjdCwgaW5pdGlhbGl6ZSBpdFxyXG4vLyAgICAgICAgIHZhciBiYXNlO1xyXG4vLyAgICAgICAgIGlmIChiYXNlID0gdGhpcy5pX2NvbnRhaW5pbmdDbGFzcy5nZXRCYXNlQ2xhc3MoKSl7XHJcbi8vICAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB0aGVyZSBpcyBhIGJhc2UgY2xhc3MgaW5pdGlhbGl6ZXIuXHJcbi8vICAgICAgICAgICAgIHZhciBiYXNlSW5pdHMgPSBtZW1Jbml0cy5maWx0ZXIoZnVuY3Rpb24obWVtSW5pdCl7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gbWVtSW5pdC5tZW1iZXIuaWRlbnRpZmllciA9PT0gYmFzZS5jbGFzc05hbWU7XHJcbi8vICAgICAgICAgICAgIH0pO1xyXG4vLyAgICAgICAgICAgICBtZW1Jbml0cyA9IG1lbUluaXRzLmZpbHRlcihmdW5jdGlvbihtZW1Jbml0KXtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiBtZW1Jbml0Lm1lbWJlci5pZGVudGlmaWVyICE9PSBiYXNlLmNsYXNzTmFtZTtcclxuLy8gICAgICAgICAgICAgfSk7XHJcblxyXG4vLyAgICAgICAgICAgICBpZiAoYmFzZUluaXRzLmxlbmd0aCA+IDEpe1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmN0b3IuaW5pdC5tdWx0aXBsZV9iYXNlX2luaXRzKHRoaXMpKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNlIGlmIChiYXNlSW5pdHMubGVuZ3RoID09PSAxKXtcclxuLy8gICAgICAgICAgICAgICAgIHZhciBtZW0gPSBNZW1iZXJJbml0aWFsaXplci5pbnN0YW5jZShiYXNlSW5pdHNbMF0sIHtwYXJlbnQ6IHRoaXMsIHNjb3BlOiB0aGlzLmJvZHlTY29wZX0pO1xyXG4vLyAgICAgICAgICAgICAgICAgbWVtLmNvbXBpbGUodGhpcy5pX2NvbnRhaW5pbmdDbGFzcy5iYXNlQ2xhc3NFbnRpdGllc1swXSk7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLm1lbWJlckluaXRpYWxpemVycy5wdXNoKG1lbSk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgICAgIHZhciBtZW0gPSBEZWZhdWx0TWVtYmVySW5pdGlhbGl6ZXIuaW5zdGFuY2UodGhpcy5hc3QsIHtwYXJlbnQ6IHRoaXMsIHNjb3BlOiB0aGlzLmJvZHlTY29wZX0pO1xyXG4vLyAgICAgICAgICAgICAgICAgbWVtLmNvbXBpbGUodGhpcy5pX2NvbnRhaW5pbmdDbGFzcy5iYXNlQ2xhc3NFbnRpdGllc1swXSk7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLm1lbWJlckluaXRpYWxpemVycy5wdXNoKG1lbSk7XHJcbi8vICAgICAgICAgICAgICAgICBtZW0uaXNNZW1iZXJJbml0aWFsaXplciA9IHRydWU7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIC8vIEluaXRpYWxpemUgbm9uLXN0YXRpYyBkYXRhIG1lbWJlcnMgb2YgdGhlIGNsYXNzXHJcblxyXG4vLyAgICAgICAgIC8vIENyZWF0ZSBhIG1hcCBvZiBuYW1lIHRvIGluaXRpYWxpemVyLiBJbml0aWFsbHkgYWxsIGluaXRpYWxpemVycyBhcmUgbnVsbC5cclxuLy8gICAgICAgICB2YXIgaW5pdE1hcCA9IHt9O1xyXG4vLyAgICAgICAgIHRoaXMuaV9jb250YWluaW5nQ2xhc3MubWVtYmVyU3Vib2JqZWN0RW50aXRpZXMuZm9yRWFjaChmdW5jdGlvbihvYmpNZW1iZXIpe1xyXG4vLyAgICAgICAgICAgICBpbml0TWFwW29iak1lbWJlci5uYW1lXSA9IG9iak1lbWJlcjtcclxuLy8gICAgICAgICB9KTtcclxuXHJcbi8vICAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGFsbCB0aGUgbWVtYmVyIGluaXRpYWxpemVycyBhbmQgYXNzb2NpYXRlIHRoZW0gd2l0aCBhcHByb3ByaWF0ZSBtZW1iZXJcclxuLy8gICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgbWVtSW5pdHMubGVuZ3RoOyArK2kpe1xyXG4vLyAgICAgICAgICAgICB2YXIgbWVtSW5pdCA9IG1lbUluaXRzW2ldO1xyXG5cclxuLy8gICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoaXMgdHlwZSBoYXMgYSBtZW1iZXIgb2YgdGhlIGdpdmVuIG5hbWVcclxuLy8gICAgICAgICAgICAgdmFyIG1lbWJlck5hbWUgPSBtZW1Jbml0Lm1lbWJlci5pZGVudGlmaWVyO1xyXG4vLyAgICAgICAgICAgICBpZiAoaW5pdE1hcC5oYXNPd25Qcm9wZXJ0eShtZW1iZXJOYW1lKSkge1xyXG4vLyAgICAgICAgICAgICAgICAgdmFyIG1lbSA9IE1lbWJlckluaXRpYWxpemVyLmluc3RhbmNlKG1lbUluaXQsIHtwYXJlbnQ6IHRoaXMsIHNjb3BlOiB0aGlzLmJvZHlTY29wZX0pO1xyXG4vLyAgICAgICAgICAgICAgICAgbWVtLmNvbXBpbGUoaW5pdE1hcFttZW1iZXJOYW1lXSk7XHJcbi8vICAgICAgICAgICAgICAgICBpbml0TWFwW21lbWJlck5hbWVdID0gbWVtO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uY3Rvci5pbml0LmltcHJvcGVyX21lbWJlcih0aGlzLCB0aGlzLmlfY29udGFpbmluZ0NsYXNzLCBtZW1iZXJOYW1lKSk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIC8vIE5vdyBpdGVyYXRlIHRocm91Z2ggbWVtYmVycyBhZ2FpbiBpbiBkZWNsYXJhdGlvbiBvcmRlci4gQWRkIGFzc29jaWF0ZWQgbWVtYmVyIGluaXRpYWxpemVyXHJcbi8vICAgICAgICAgLy8gZnJvbSBhYm92ZSBvciBkZWZhdWx0IGluaXRpYWxpemVyIGlmIHRoZXJlIHdhc24ndCBvbmUuXHJcblxyXG4vLyAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuLy8gICAgICAgICB0aGlzLmlfY29udGFpbmluZ0NsYXNzLm1lbWJlclN1Ym9iamVjdEVudGl0aWVzLmZvckVhY2goZnVuY3Rpb24ob2JqTWVtYmVyKXtcclxuLy8gICAgICAgICAgICAgaWYgKGlzQShpbml0TWFwW29iak1lbWJlci5uYW1lXSwgTWVtYmVySW5pdGlhbGl6ZXIpKXtcclxuLy8gICAgICAgICAgICAgICAgIHNlbGYubWVtYmVySW5pdGlhbGl6ZXJzLnB1c2goaW5pdE1hcFtvYmpNZW1iZXIubmFtZV0pO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGVsc2UgaWYgKGlzQShvYmpNZW1iZXIudHlwZSwgVHlwZXMuQ2xhc3MpIHx8IGlzQShvYmpNZW1iZXIudHlwZSwgVHlwZXMuQXJyYXkpKXtcclxuLy8gICAgICAgICAgICAgICAgIHZhciBtZW0gPSBEZWZhdWx0TWVtYmVySW5pdGlhbGl6ZXIuaW5zdGFuY2Uoc2VsZi5hc3QsIHtwYXJlbnQ6IHNlbGYsIHNjb3BlOiBzZWxmLmJvZHlTY29wZX0pO1xyXG4vLyAgICAgICAgICAgICAgICAgbWVtLmNvbXBpbGUob2JqTWVtYmVyKTtcclxuLy8gICAgICAgICAgICAgICAgIHNlbGYubWVtYmVySW5pdGlhbGl6ZXJzLnB1c2gobWVtKTtcclxuLy8gICAgICAgICAgICAgICAgIG1lbS5pc01lbWJlckluaXRpYWxpemVyID0gdHJ1ZTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICAgICAgLy8gTm8gbmVlZCB0byBkbyBhbnl0aGluZyBmb3Igbm9uLWNsYXNzIHR5cGVzIHNpbmNlIGRlZmF1bHQgaW5pdGlhbGl6YXRpb24gZG9lcyBub3RoaW5nXHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9KTtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgaXNUYWlsQ2hpbGQgOiBmdW5jdGlvbihjaGlsZCl7XHJcbi8vICAgICAgICAgcmV0dXJuIHtpc1RhaWw6IGZhbHNlfTtcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgZGVzY3JpYmUgOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuLy8gICAgICAgICB2YXIgZGVzYyA9IHt9O1xyXG4vLyAgICAgICAgIGlmICh0aGlzLmlzRGVmYXVsdENvbnN0cnVjdG9yKXtcclxuLy8gICAgICAgICAgICAgZGVzYy5tZXNzYWdlID0gXCJ0aGUgZGVmYXVsdCBjb25zdHJ1Y3RvciBmb3IgdGhlIFwiICsgdGhpcy5pX2NvbnRhaW5pbmdDbGFzcy5jbGFzc05hbWUgKyBcIiBjbGFzc1wiO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNlIGlmICh0aGlzLmlzQ29weUNvbnN0cnVjdG9yKXtcclxuLy8gICAgICAgICAgICAgZGVzYy5tZXNzYWdlID0gXCJ0aGUgY29weSBjb25zdHJ1Y3RvciBmb3IgdGhlIFwiICsgdGhpcy5pX2NvbnRhaW5pbmdDbGFzcy5jbGFzc05hbWUgKyBcIiBjbGFzc1wiO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICBkZXNjLm1lc3NhZ2UgPSBcImEgY29uc3RydWN0b3IgZm9yIHRoZSBcIiArIHRoaXMuaV9jb250YWluaW5nQ2xhc3MuY2xhc3NOYW1lICsgXCIgY2xhc3NcIjtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgcmV0dXJuIGRlc2NcclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyBleHBvcnQgdmFyIERlc3RydWN0b3JEZWZpbml0aW9uID0gRnVuY3Rpb25EZWZpbml0aW9uLmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZTogXCJEZXN0cnVjdG9yRGVmaW5pdGlvblwiLFxyXG5cclxuLy8gICAgIGluaXQgOiBmdW5jdGlvbihhc3QsIGNvbnRleHQpe1xyXG4vLyAgICAgICAgIGFzc2VydChjb250ZXh0KTtcclxuLy8gICAgICAgICBhc3NlcnQoaXNBKGNvbnRleHQuY29udGFpbmluZ0NsYXNzLCBUeXBlcy5DbGFzcykpO1xyXG4vLyAgICAgICAgIGFzc2VydChjb250ZXh0Lmhhc093blByb3BlcnR5KFwiYWNjZXNzXCIpKTtcclxuLy8gICAgICAgICB0aGlzLmluaXRQYXJlbnQoYXN0LCBjb250ZXh0KTtcclxuLy8gICAgICAgICB0aGlzLmFjY2VzcyA9IGNvbnRleHQuYWNjZXNzO1xyXG4vLyAgICAgICAgIHRoaXMuaV9jb250YWluaW5nQ2xhc3MgPSBjb250ZXh0LmNvbnRhaW5pbmdDbGFzcztcclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgY29tcGlsZURlY2xhcmF0aW9uIDogZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgRnVuY3Rpb25EZWZpbml0aW9uLmNvbXBpbGVEZWNsYXJhdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4vLyAgICAgICAgIHRoaXMuaV9jb250YWluaW5nQ2xhc3MuYWRkRGVzdHJ1Y3Rvcih0aGlzLmVudGl0eSk7XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIGNvbXBpbGVEZWNsYXJhdG9yIDogZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgdmFyIGFzdCA9IHRoaXMuYXN0O1xyXG5cclxuXHJcbi8vICAgICAgICAgLy8gRGVzdHJ1Y3RvcnMgZG8gaGF2ZSBuYW1lcyBhbmQgY2FuIGJlIGZvdW5kIHZpYSBuYW1lIGxvb2t1cFxyXG4vLyAgICAgICAgIHRoaXMubmFtZSA9IFwiflwiICsgdGhpcy5pX2NvbnRhaW5pbmdDbGFzcy5jbGFzc05hbWU7XHJcblxyXG4vLyAgICAgICAgIHRoaXMudmlydHVhbCA9IHRoaXMuYXN0LnZpcnR1YWw7XHJcblxyXG4vLyAgICAgICAgIC8vIFRoZXJlIGFyZSBubyBwYXJhbWV0ZXJzIGZvciBhIGRlc3RydWN0b3JcclxuLy8gICAgICAgICB0aGlzLnBhcmFtcyA9IFtdO1xyXG4vLyAgICAgICAgIHRoaXMucGFyYW1UeXBlcyA9IFtdO1xyXG5cclxuLy8gICAgICAgICAvLyBJIGtub3cgdGhpcyBpcyB0ZWNobmljYWxseSB3cm9uZyBidXQgSSB0aGluayBpdCBtYWtlcyB0aGluZ3MgcnVuIHNtb290aGVyXHJcbi8vICAgICAgICAgdGhpcy50eXBlID0gVHlwZXMuRnVuY3Rpb24uaW5zdGFuY2UoVHlwZXMuVm9pZC5pbnN0YW5jZSgpLCB0aGlzLnBhcmFtVHlwZXMpO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBjb21waWxlRGVmaW5pdGlvbjogZnVuY3Rpb24oKXtcclxuLy8gICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbi8vICAgICAgICAgdmFyIGFzdCA9IHRoaXMuYXN0O1xyXG5cclxuXHJcbi8vICAgICAgICAgaWYgKCFhc3QuYm9keSl7XHJcbi8vICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5jbGFzc19kZWYuZHRvcl9kZWYodGhpcykpO1xyXG4vLyAgICAgICAgICAgICByZXR1cm47XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAvLyBDYWxsIHBhcmVudCBjbGFzcyB2ZXJzaW9uLiBXaWxsIGhhbmRsZSBib2R5LCBhdXRvbWF0aWMgb2JqZWN0IGRlc3RydWN0aW9uLCBldGMuXHJcbi8vICAgICAgICAgRnVuY3Rpb25EZWZpbml0aW9uLmNvbXBpbGVEZWZpbml0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblxyXG4vLyAgICAgICAgIHRoaXMubWVtYmVyc1RvRGVzdHJ1Y3QgPSB0aGlzLmlfY29udGFpbmluZ0NsYXNzLm1lbWJlclN1Ym9iamVjdEVudGl0aWVzLmZpbHRlcihmdW5jdGlvbihlbnRpdHkpe1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gaXNBKGVudGl0eS50eXBlLCBUeXBlcy5DbGFzcyk7XHJcbi8vICAgICAgICAgfSkubWFwKGZ1bmN0aW9uKGVudGl0eVRvRGVzdHJ1Y3Qpe1xyXG4vLyAgICAgICAgICAgICB2YXIgZGVzdCA9IGVudGl0eVRvRGVzdHJ1Y3QudHlwZS5kZXN0cnVjdG9yO1xyXG4vLyAgICAgICAgICAgICBpZiAoZGVzdCl7XHJcbi8vICAgICAgICAgICAgICAgICB2YXIgY2FsbCA9IEZ1bmN0aW9uQ2FsbC5pbnN0YW5jZSh7YXJnczogW119LCB7cGFyZW50OiBzZWxmfSk7XHJcbi8vICAgICAgICAgICAgICAgICBjYWxsLmNvbXBpbGUoe1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGZ1bmM6IGRlc3QsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXI6IGVudGl0eVRvRGVzdHJ1Y3R9KTtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiBjYWxsO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgICAgICBzZWxmLmFkZE5vdGUoQ1BQRXJyb3IuZGVjbGFyYXRpb24uZHRvci5ub19kZXN0cnVjdG9yX21lbWJlcihlbnRpdHlUb0Rlc3RydWN0LmRlY2wsIGVudGl0eVRvRGVzdHJ1Y3QsIHNlbGYuaV9jb250YWluaW5nQ2xhc3MpKTtcclxuLy8gICAgICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICB9KTtcclxuXHJcbi8vICAgICAgICAgdGhpcy5iYXNlc1RvRGVzdHJ1Y3QgPSB0aGlzLmlfY29udGFpbmluZ0NsYXNzLmJhc2VDbGFzc0VudGl0aWVzLm1hcChmdW5jdGlvbihlbnRpdHlUb0Rlc3RydWN0KXtcclxuLy8gICAgICAgICAgICAgdmFyIGRlc3QgPSBlbnRpdHlUb0Rlc3RydWN0LnR5cGUuZGVzdHJ1Y3RvcjtcclxuLy8gICAgICAgICAgICAgaWYgKGRlc3Qpe1xyXG4vLyAgICAgICAgICAgICAgICAgdmFyIGNhbGwgPSBGdW5jdGlvbkNhbGwuaW5zdGFuY2Uoe2FyZ3M6IFtdfSwge3BhcmVudDogc2VsZn0pO1xyXG4vLyAgICAgICAgICAgICAgICAgY2FsbC5jb21waWxlKHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBmdW5jOiBkZXN0LFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHJlY2VpdmVyOiBlbnRpdHlUb0Rlc3RydWN0fSk7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbDtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICAgICAgc2VsZi5hZGROb3RlKENQUEVycm9yLmRlY2xhcmF0aW9uLmR0b3Iubm9fZGVzdHJ1Y3Rvcl9iYXNlKGVudGl0eVRvRGVzdHJ1Y3QuZGVjbCwgZW50aXR5VG9EZXN0cnVjdCwgc2VsZi5pX2NvbnRhaW5pbmdDbGFzcykpO1xyXG4vLyAgICAgICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIH0pO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICB1cE5leHQgOiBDbGFzcy5CRUZPUkUoZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbi8vICAgICAgICAgaWYgKGluc3QuaW5kZXggPT09IFwiYWZ0ZXJDaGlsZHJlblwiKSB7XHJcbi8vICAgICAgICAgICAgIC8vIFRoZXNlIGFyZSBwdXNoZWQgb24gYSBzdGFjayBhbmQgc28gZW5kIHVwIGhhcHBlbmluZ1xyXG4vLyAgICAgICAgICAgICAvLyBpbiByZXZlcnNlIG9yZGVyIG9mIHRoZSBvcmRlciB0aGV5IGFyZSBwdXNoZWQgaGVyZS5cclxuLy8gICAgICAgICAgICAgLy8gQXV0b3MgZmlyc3QsIHRoZW4gbWVtYmVycywgdGhlbiBiYXNlcy5cclxuLy8gICAgICAgICAgICAgdGhpcy5iYXNlc1RvRGVzdHJ1Y3QuZm9yRWFjaChmdW5jdGlvbiAoZGVzdCl7XHJcbi8vICAgICAgICAgICAgICAgICBkZXN0LmNyZWF0ZUFuZFB1c2hJbnN0YW5jZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgICAgICB9KTtcclxuLy8gICAgICAgICAgICAgdGhpcy5tZW1iZXJzVG9EZXN0cnVjdC5mb3JFYWNoKGZ1bmN0aW9uIChkZXN0KXtcclxuLy8gICAgICAgICAgICAgICAgIGRlc3QuY3JlYXRlQW5kUHVzaEluc3RhbmNlKHNpbSwgaW5zdCk7XHJcbi8vICAgICAgICAgICAgIH0pO1xyXG4vLyAgICAgICAgICAgICAvLyBBdXRvIGRlc3RydWN0b3JzIGFyZSBoYW5kbGVkIGluIHBhcmVudCBjbGFzc1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0pLFxyXG5cclxuLy8gICAgIHN0ZXBGb3J3YXJkIDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbi8vICAgICAgICAgaWYgKGluc3QuaW5kZXggPT09IFwiYWZ0ZXJEZXN0cnVjdG9yc1wiKXtcclxuLy8gICAgICAgICAgICAgaW5zdC5pbmRleCA9IFwiZG9uZVwiO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgaXNUYWlsQ2hpbGQgOiBmdW5jdGlvbihjaGlsZCl7XHJcbi8vICAgICAgICAgcmV0dXJuIHtpc1RhaWw6IGZhbHNlfTtcclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG5leHBvcnQgdHlwZSBMaW5rZWREZWZpbml0aW9uID0gR2xvYmFsT2JqZWN0RGVmaW5pdGlvbiB8IEZ1bmN0aW9uRGVmaW5pdGlvbltdOyIsIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzT2JqZWN0O1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkgfHwgKDEsIGV2YWwpKFwidGhpc1wiKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsInZhciBmcmVlR2xvYmFsID0gcmVxdWlyZSgnLi9fZnJlZUdsb2JhbCcpO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm9vdDtcbiIsInZhciByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBTeW1ib2wgPSByb290LlN5bWJvbDtcblxubW9kdWxlLmV4cG9ydHMgPSBTeW1ib2w7XG4iLCIvKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IGFyZ3VtZW50IGl0IHJlY2VpdmVzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcGFyYW0geyp9IHZhbHVlIEFueSB2YWx1ZS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICpcbiAqIGNvbnNvbGUubG9nKF8uaWRlbnRpdHkob2JqZWN0KSA9PT0gb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaWRlbnRpdHkodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlkZW50aXR5O1xuIiwiaW1wb3J0IHsgQmFzaWNDUFBDb25zdHJ1Y3QsIFN1Y2Nlc3NmdWxseUNvbXBpbGVkLCBSdW50aW1lQ29uc3RydWN0LCBUcmFuc2xhdGlvblVuaXRDb250ZXh0LCBBU1ROb2RlLCAgQ1BQQ29uc3RydWN0LCBCbG9ja0NvbnRleHQsIFJ1bnRpbWVGdW5jdGlvbiwgRnVuY3Rpb25Db250ZXh0IH0gZnJvbSBcIi4vY29uc3RydWN0c1wiO1xyXG5pbXBvcnQgeyBDUFBFcnJvciB9IGZyb20gXCIuL2Vycm9yc1wiO1xyXG5pbXBvcnQgeyBFeHByZXNzaW9uQVNUTm9kZSwgY3JlYXRlRXhwcmVzc2lvbkZyb21BU1QgfSBmcm9tIFwiLi9leHByZXNzaW9uc1wiO1xyXG5pbXBvcnQgeyBEZWNsYXJhdGlvbkFTVE5vZGUsIFNpbXBsZURlY2xhcmF0aW9uLCBGdW5jdGlvbkRlZmluaXRpb24sIENvbXBpbGVkU2ltcGxlRGVjbGFyYXRpb24sIGNyZWF0ZVNpbXBsZURlY2xhcmF0aW9uRnJvbUFTVCwgY3JlYXRlRGVjbGFyYXRpb25Gcm9tQVNULCBWYXJpYWJsZURlZmluaXRpb24gfSBmcm9tIFwiLi9kZWNsYXJhdGlvbnNcIjtcclxuaW1wb3J0IHsgRGlyZWN0SW5pdGlhbGl6ZXIsIENvbXBpbGVkRGlyZWN0SW5pdGlhbGl6ZXIsIFJ1bnRpbWVEaXJlY3RJbml0aWFsaXplciB9IGZyb20gXCIuL2luaXRpYWxpemVyc1wiO1xyXG5pbXBvcnQgeyBWb2lkVHlwZSwgUmVmZXJlbmNlVHlwZSB9IGZyb20gXCIuL3R5cGVzXCI7XHJcbmltcG9ydCB7IFJldHVybkJ5UmVmZXJlbmNlRW50aXR5LCBSZXR1cm5PYmplY3RFbnRpdHksIEJsb2NrU2NvcGUsIEF1dG9FbnRpdHksIExvY2FsUmVmZXJlbmNlRW50aXR5IH0gZnJvbSBcIi4vZW50aXRpZXNcIjtcclxuaW1wb3J0IHsgTXV0YWJsZSwgYXNNdXRhYmxlIH0gZnJvbSBcIi4uL3V0aWwvdXRpbFwiO1xyXG5pbXBvcnQgeyBFeHByZXNzaW9uLCBDb21waWxlZEV4cHJlc3Npb24sIFJ1bnRpbWVFeHByZXNzaW9uIH0gZnJvbSBcIi4vZXhwcmVzc2lvbkJhc2VcIjtcclxuXHJcbmV4cG9ydCB0eXBlIFN0YXRlbWVudEFTVE5vZGUgPVxyXG4gICAgTGFiZWxlZFN0YXRlbWVudEFTVE5vZGUgfFxyXG4gICAgQmxvY2tBU1ROb2RlIHxcclxuICAgIFNlbGVjdGlvblN0YXRlbWVudEFTVE5vZGUgfFxyXG4gICAgSXRlcmF0aW9uU3RhdGVtZW50QVNUTm9kZSB8XHJcbiAgICBKdW1wU3RhdGVtZW50QVNUTm9kZSB8XHJcbiAgICBEZWNsYXJhdGlvblN0YXRlbWVudEFTVE5vZGUgfFxyXG4gICAgRXhwcmVzc2lvblN0YXRlbWVudEFTVE5vZGUgfFxyXG4gICAgTnVsbFN0YXRlbWVudEFTVE5vZGU7XHJcblxyXG5jb25zdCBTdGF0ZW1lbnRDb25zdHJ1Y3RzTWFwID0ge1xyXG4gICAgXCJsYWJlbGVkX3N0YXRlbWVudFwiIDogKGFzdDogTGFiZWxlZFN0YXRlbWVudEFTVE5vZGUsIGNvbnRleHQ6IEJsb2NrQ29udGV4dCkgPT4gbmV3IFVuc3VwcG9ydGVkU3RhdGVtZW50KGNvbnRleHQsIFwibGFiZWxlZCBzdGF0ZW1lbnRcIikuc2V0QVNUKGFzdCksXHJcbiAgICBcImNvbXBvdW5kX3N0YXRlbWVudFwiIDogKGFzdDogQmxvY2tBU1ROb2RlLCBjb250ZXh0OiBCbG9ja0NvbnRleHQpID0+IEJsb2NrLmNyZWF0ZUZyb21BU1QoYXN0LCBjb250ZXh0KSxcclxuICAgIFwic2VsZWN0aW9uX3N0YXRlbWVudFwiIDogKGFzdDogU2VsZWN0aW9uU3RhdGVtZW50QVNUTm9kZSwgY29udGV4dDogQmxvY2tDb250ZXh0KSA9PiBuZXcgVW5zdXBwb3J0ZWRTdGF0ZW1lbnQoY29udGV4dCwgXCJzZWxlY3Rpb24gc3RhdGVtZW50XCIpLnNldEFTVChhc3QpLFxyXG4gICAgXCJ3aGlsZV9zdGF0ZW1lbnRcIiA6IChhc3Q6IFdoaWxlU3RhdGVtZW50QVNUTm9kZSwgY29udGV4dDogQmxvY2tDb250ZXh0KSA9PiBuZXcgVW5zdXBwb3J0ZWRTdGF0ZW1lbnQoY29udGV4dCwgXCJ3aGlsZSBsb29wXCIpLnNldEFTVChhc3QpLFxyXG4gICAgXCJkb3doaWxlX3N0YXRlbWVudFwiIDogKGFzdDogRG9XaGlsZVN0YXRlbWVudEFTVE5vZGUsIGNvbnRleHQ6IEJsb2NrQ29udGV4dCkgPT4gbmV3IFVuc3VwcG9ydGVkU3RhdGVtZW50KGNvbnRleHQsIFwiZG8td2hpbGUgbG9vcFwiKS5zZXRBU1QoYXN0KSxcclxuICAgIFwiZm9yX3N0YXRlbWVudFwiIDogKGFzdDogRm9yU3RhdGVtZW50QVNUTm9kZSwgY29udGV4dDogQmxvY2tDb250ZXh0KSA9PiBuZXcgVW5zdXBwb3J0ZWRTdGF0ZW1lbnQoY29udGV4dCwgXCJmb3IgbG9vcFwiKS5zZXRBU1QoYXN0KSxcclxuICAgIFwiYnJlYWtfc3RhdGVtZW50XCIgOiAoYXN0OiBCcmVha1N0YXRlbWVudEFTVE5vZGUsIGNvbnRleHQ6IEJsb2NrQ29udGV4dCkgPT4gbmV3IFVuc3VwcG9ydGVkU3RhdGVtZW50KGNvbnRleHQsIFwiYnJlYWsgc3RhdGVtZW50XCIpLnNldEFTVChhc3QpLFxyXG4gICAgXCJjb250aW51ZV9zdGF0ZW1lbnRcIiA6IChhc3Q6IENvbnRpbnVlU3RhdGVtZW50QVNUTm9kZSwgY29udGV4dDogQmxvY2tDb250ZXh0KSA9PiBuZXcgVW5zdXBwb3J0ZWRTdGF0ZW1lbnQoY29udGV4dCwgXCJjb250aW51ZSBzdGF0ZW1lbnRcIikuc2V0QVNUKGFzdCksXHJcbiAgICBcInJldHVybl9zdGF0ZW1lbnRcIiA6IChhc3Q6IFJldHVyblN0YXRlbWVudEFTVE5vZGUsIGNvbnRleHQ6IEJsb2NrQ29udGV4dCkgPT4gUmV0dXJuU3RhdGVtZW50LmNyZWF0ZUZyb21BU1QoYXN0LCBjb250ZXh0KSxcclxuICAgIFwiZGVjbGFyYXRpb25fc3RhdGVtZW50XCIgOiAoYXN0OiBEZWNsYXJhdGlvblN0YXRlbWVudEFTVE5vZGUsIGNvbnRleHQ6IEJsb2NrQ29udGV4dCkgPT4gRGVjbGFyYXRpb25TdGF0ZW1lbnQuY3JlYXRlRnJvbUFTVChhc3QsIGNvbnRleHQpLFxyXG4gICAgXCJleHByZXNzaW9uX3N0YXRlbWVudFwiOiAoYXN0OiBFeHByZXNzaW9uU3RhdGVtZW50QVNUTm9kZSwgY29udGV4dDogQmxvY2tDb250ZXh0KSA9PiBFeHByZXNzaW9uU3RhdGVtZW50LmNyZWF0ZUZyb21BU1QoYXN0LCBjb250ZXh0KSxcclxuICAgIFwibnVsbF9zdGF0ZW1lbnRcIjogKGFzdDogTnVsbFN0YXRlbWVudEFTVE5vZGUsIGNvbnRleHQ6IEJsb2NrQ29udGV4dCkgPT4gbmV3IE51bGxTdGF0ZW1lbnQoY29udGV4dCkuc2V0QVNUKGFzdClcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN0YXRlbWVudEZyb21BU1Q8QVNUVHlwZSBleHRlbmRzIFN0YXRlbWVudEFTVE5vZGU+KGFzdDogQVNUVHlwZSwgY29udGV4dDogQmxvY2tDb250ZXh0KSA6IFJldHVyblR5cGU8KHR5cGVvZiBTdGF0ZW1lbnRDb25zdHJ1Y3RzTWFwKVtBU1RUeXBlW1wiY29uc3RydWN0X3R5cGVcIl1dPiB7XHJcbiAgICByZXR1cm4gPGFueT5TdGF0ZW1lbnRDb25zdHJ1Y3RzTWFwW2FzdC5jb25zdHJ1Y3RfdHlwZV0oPGFueT5hc3QsIGNvbnRleHQpO1xyXG59IFxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFN0YXRlbWVudDxBU1RUeXBlIGV4dGVuZHMgU3RhdGVtZW50QVNUTm9kZSA9IFN0YXRlbWVudEFTVE5vZGU+IGV4dGVuZHMgQmFzaWNDUFBDb25zdHJ1Y3Q8QmxvY2tDb250ZXh0LCBBU1RUeXBlPiB7XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IGNyZWF0ZVJ1bnRpbWVTdGF0ZW1lbnQodGhpczogQ29tcGlsZWRTdGF0ZW1lbnQsIHBhcmVudDogUnVudGltZVN0YXRlbWVudCkgOiBSdW50aW1lU3RhdGVtZW50O1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZFN0YXRlbWVudCBleHRlbmRzIFN0YXRlbWVudCwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFJ1bnRpbWVTdGF0ZW1lbnQ8QyBleHRlbmRzIENvbXBpbGVkU3RhdGVtZW50ID0gQ29tcGlsZWRTdGF0ZW1lbnQ+IGV4dGVuZHMgUnVudGltZUNvbnN0cnVjdDxDPiB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbnRhaW5pbmdSdW50aW1lRnVuY3Rpb246IFJ1bnRpbWVGdW5jdGlvbjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IgKG1vZGVsOiBDLCBwYXJlbnQ6IFJ1bnRpbWVTdGF0ZW1lbnQgfCBSdW50aW1lRnVuY3Rpb24pIHtcclxuICAgICAgICBzdXBlcihtb2RlbCwgXCJzdGF0ZW1lbnRcIiwgcGFyZW50KTtcclxuICAgICAgICBpZiAocGFyZW50IGluc3RhbmNlb2YgUnVudGltZUZ1bmN0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmluZ1J1bnRpbWVGdW5jdGlvbiA9IHBhcmVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmluZ1J1bnRpbWVGdW5jdGlvbiA9IHBhcmVudC5jb250YWluaW5nUnVudGltZUZ1bmN0aW9uO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcG9wcGVkKCkge1xyXG4gICAgICAgIHN1cGVyLnBvcHBlZCgpO1xyXG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwicmVzZXRcIik7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVW5zdXBwb3J0ZWRTdGF0ZW1lbnQgZXh0ZW5kcyBTdGF0ZW1lbnQge1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRleHQ6IEJsb2NrQ29udGV4dCwgdW5zdXBwb3J0ZWROYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihjb250ZXh0KTtcclxuICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IubG9ic3Rlci51bnN1cHBvcnRlZF9mZWF0dXJlKHRoaXMsIHVuc3VwcG9ydGVkTmFtZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFdpbGwgbmV2ZXIgYmUgY2FsbGVkIHNpbmNlIGFuIFVuc3VwcG9ydGVkU3RhdGVtZW50IHdpbGwgYWx3YXlzIGhhdmUgZXJyb3JzIGFuZFxyXG4gICAgLy8gbmV2ZXIgc2F0aXNmeSB0aGUgcmVxdWlyZWQgdGhpcyBjb250ZXh0IG9mIENvbXBpbGVkU3RhdGVtZW50XHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZVN0YXRlbWVudCh0aGlzOiBDb21waWxlZFN0YXRlbWVudCwgcGFyZW50OiBSdW50aW1lU3RhdGVtZW50KSA6IG5ldmVyIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY3JlYXRlIGEgcnVudGltZSBpbnN0YW5jZSBvZiBhbiB1bnN1cHBvcnRlZCBjb25zdHJ1Y3QuXCIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBFeHByZXNzaW9uU3RhdGVtZW50QVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwiZXhwcmVzc2lvbl9zdGF0ZW1lbnRcIjtcclxuICAgIHJlYWRvbmx5IGV4cHJlc3Npb246IEV4cHJlc3Npb25BU1ROb2RlO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRXhwcmVzc2lvblN0YXRlbWVudCBleHRlbmRzIFN0YXRlbWVudDxFeHByZXNzaW9uU3RhdGVtZW50QVNUTm9kZT4ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBleHByZXNzaW9uOiBFeHByZXNzaW9uO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRnJvbUFTVChhc3Q6IEV4cHJlc3Npb25TdGF0ZW1lbnRBU1ROb2RlLCBjb250ZXh0OiBCbG9ja0NvbnRleHQpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25TdGF0ZW1lbnQoY29udGV4dCxcclxuICAgICAgICAgICAgY3JlYXRlRXhwcmVzc2lvbkZyb21BU1QoYXN0LmV4cHJlc3Npb24sIGNvbnRleHQpXHJcbiAgICAgICAgKS5zZXRBU1QoYXN0KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29udGV4dDogQmxvY2tDb250ZXh0LCBleHByZXNzaW9uOiBFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgc3VwZXIoY29udGV4dCk7XHJcbiAgICAgICAgdGhpcy5hdHRhY2godGhpcy5leHByZXNzaW9uID0gZXhwcmVzc2lvbik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVTdGF0ZW1lbnQodGhpczogQ29tcGlsZWRFeHByZXNzaW9uU3RhdGVtZW50LCBwYXJlbnQ6IFJ1bnRpbWVTdGF0ZW1lbnQpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFJ1bnRpbWVFeHByZXNzaW9uU3RhdGVtZW50KHRoaXMsIHBhcmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzVGFpbENoaWxkKGNoaWxkOiBDUFBDb25zdHJ1Y3QpIHtcclxuICAgICAgICByZXR1cm4ge2lzVGFpbDogdHJ1ZX07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRFeHByZXNzaW9uU3RhdGVtZW50IGV4dGVuZHMgRXhwcmVzc2lvblN0YXRlbWVudCwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4gICAgcmVhZG9ubHkgZXhwcmVzc2lvbjogQ29tcGlsZWRFeHByZXNzaW9uO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUnVudGltZUV4cHJlc3Npb25TdGF0ZW1lbnQgZXh0ZW5kcyBSdW50aW1lU3RhdGVtZW50PENvbXBpbGVkRXhwcmVzc2lvblN0YXRlbWVudD4ge1xyXG4gICAgXHJcbiAgICBwdWJsaWMgZXhwcmVzc2lvbjogUnVudGltZUV4cHJlc3Npb247XHJcbiAgICBwcml2YXRlIGluZGV4ID0gXCJleHByXCI7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChtb2RlbDogQ29tcGlsZWRFeHByZXNzaW9uU3RhdGVtZW50LCBwYXJlbnQ6IFJ1bnRpbWVTdGF0ZW1lbnQpIHtcclxuICAgICAgICBzdXBlcihtb2RlbCwgcGFyZW50KTtcclxuICAgICAgICB0aGlzLmV4cHJlc3Npb24gPSB0aGlzLm1vZGVsLmV4cHJlc3Npb24uY3JlYXRlUnVudGltZUV4cHJlc3Npb24odGhpcyk7XHJcbiAgICB9XHJcblxyXG5cdHByb3RlY3RlZCB1cE5leHRJbXBsKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmluZGV4ID09PSBcImV4cHJcIikge1xyXG4gICAgICAgICAgICB0aGlzLnNpbS5wdXNoKHRoaXMuZXhwcmVzc2lvbik7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSBcImRvbmVcIjtcclxuICAgICAgICB9XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblx0XHJcblx0cHJvdGVjdGVkIHN0ZXBGb3J3YXJkSW1wbCgpIHtcclxuICAgICAgICB0aGlzLnNpbS5wb3AoKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcblx0fVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBOdWxsU3RhdGVtZW50QVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwibnVsbF9zdGF0ZW1lbnRcIjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE51bGxTdGF0ZW1lbnQgZXh0ZW5kcyBTdGF0ZW1lbnQ8TnVsbFN0YXRlbWVudEFTVE5vZGU+IHtcclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZVN0YXRlbWVudCh0aGlzOiBDb21waWxlZE51bGxTdGF0ZW1lbnQsIHBhcmVudDogUnVudGltZVN0YXRlbWVudCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUnVudGltZU51bGxTdGF0ZW1lbnQodGhpcywgcGFyZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNUYWlsQ2hpbGQoY2hpbGQ6IENQUENvbnN0cnVjdCkge1xyXG4gICAgICAgIHJldHVybiB7aXNUYWlsOiB0cnVlfTsgLy8gTm90ZTogTnVsbFN0YXRlbWVudCB3aWxsIG5ldmVyIGFjdHVhbGx5IGhhdmUgY2hpbGRyZW4sIHNvIHRoaXMgaXNuJ3QgdXNlZFxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkTnVsbFN0YXRlbWVudCBleHRlbmRzIE51bGxTdGF0ZW1lbnQsIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuICAgIFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUnVudGltZU51bGxTdGF0ZW1lbnQgZXh0ZW5kcyBSdW50aW1lU3RhdGVtZW50PENvbXBpbGVkTnVsbFN0YXRlbWVudD4ge1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvciAobW9kZWw6IENvbXBpbGVkTnVsbFN0YXRlbWVudCwgcGFyZW50OiBSdW50aW1lU3RhdGVtZW50KSB7XHJcbiAgICAgICAgc3VwZXIobW9kZWwsIHBhcmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwTmV4dEltcGwoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGVwRm9yd2FyZEltcGwoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEZWNsYXJhdGlvblN0YXRlbWVudEFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcImRlY2xhcmF0aW9uX3N0YXRlbWVudFwiO1xyXG4gICAgcmVhZG9ubHkgZGVjbGFyYXRpb246IERlY2xhcmF0aW9uQVNUTm9kZTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIERlY2xhcmF0aW9uU3RhdGVtZW50IGV4dGVuZHMgU3RhdGVtZW50PERlY2xhcmF0aW9uU3RhdGVtZW50QVNUTm9kZT4ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBkZWNsYXJhdGlvbnM6IHJlYWRvbmx5IFNpbXBsZURlY2xhcmF0aW9uW10gfCBGdW5jdGlvbkRlZmluaXRpb24gLyogfCBDbGFzc0RlZmluaXRpb24qLztcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUZyb21BU1QoYXN0OiBEZWNsYXJhdGlvblN0YXRlbWVudEFTVE5vZGUsIGNvbnRleHQ6IEJsb2NrQ29udGV4dCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgRGVjbGFyYXRpb25TdGF0ZW1lbnQoY29udGV4dCxcclxuICAgICAgICAgICAgY3JlYXRlRGVjbGFyYXRpb25Gcm9tQVNUKGFzdC5kZWNsYXJhdGlvbiwgY29udGV4dClcclxuICAgICAgICApLnNldEFTVChhc3QpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBCbG9ja0NvbnRleHQsIGRlY2xhcmF0aW9uczogcmVhZG9ubHkgU2ltcGxlRGVjbGFyYXRpb25bXSB8IEZ1bmN0aW9uRGVmaW5pdGlvbiAvKiB8IENsYXNzRGVmaW5pdGlvbiovKSB7XHJcbiAgICAgICAgc3VwZXIoY29udGV4dCk7XHJcblxyXG4gICAgICAgIGlmIChkZWNsYXJhdGlvbnMgaW5zdGFuY2VvZiBGdW5jdGlvbkRlZmluaXRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLnN0bXQuZnVuY3Rpb25fZGVmaW5pdGlvbl9wcm9oaWJpdGVkKHRoaXMpKTtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2godGhpcy5kZWNsYXJhdGlvbnMgPSBkZWNsYXJhdGlvbnMpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmF0dGFjaEFsbCh0aGlzLmRlY2xhcmF0aW9ucyA9IGRlY2xhcmF0aW9ucyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gZWxzZSBpZiAoZGVjbGFyYXRpb24gaW5zdGFuY2VvZiBDbGFzc0RlZmluaXRpb24pIHtcclxuICAgICAgICAvLyAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmxvYnN0ZXIudW5zdXBwb3J0ZWRfZmVhdHVyZSh0aGlzLCBcImxvY2FsIGNsYXNzZXNcIikpO1xyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZVN0YXRlbWVudCh0aGlzOiBDb21waWxlZERlY2xhcmF0aW9uU3RhdGVtZW50LCBwYXJlbnQ6IFJ1bnRpbWVTdGF0ZW1lbnQpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFJ1bnRpbWVEZWNsYXJhdGlvblN0YXRlbWVudCh0aGlzLCBwYXJlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc1RhaWxDaGlsZChjaGlsZDogQ1BQQ29uc3RydWN0KSB7XHJcbiAgICAgICAgcmV0dXJuIHtpc1RhaWw6IHRydWV9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkRGVjbGFyYXRpb25TdGF0ZW1lbnQgZXh0ZW5kcyBEZWNsYXJhdGlvblN0YXRlbWVudCwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4gICAgXHJcbiAgICAvLyBuYXJyb3dzIHRvIGNvbXBpbGVkIHZlcnNpb24gYW5kIHJ1bGVzIG91dCBhIEZ1bmN0aW9uRGVmaW5pdGlvbiBvciBDbGFzc0RlZmluaXRpb25cclxuICAgIHJlYWRvbmx5IGRlY2xhcmF0aW9uczogcmVhZG9ubHkgQ29tcGlsZWRTaW1wbGVEZWNsYXJhdGlvbltdO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUnVudGltZURlY2xhcmF0aW9uU3RhdGVtZW50IGV4dGVuZHMgUnVudGltZVN0YXRlbWVudDxDb21waWxlZERlY2xhcmF0aW9uU3RhdGVtZW50PiB7XHJcblxyXG4gICAgcHJpdmF0ZSBpbmRleCA9IDA7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChtb2RlbDogQ29tcGlsZWREZWNsYXJhdGlvblN0YXRlbWVudCwgcGFyZW50OiBSdW50aW1lU3RhdGVtZW50KSB7XHJcbiAgICAgICAgc3VwZXIobW9kZWwsIHBhcmVudCk7XHJcbiAgICB9XHJcblx0XHJcbiAgICBwcm90ZWN0ZWQgdXBOZXh0SW1wbCgpIHtcclxuXHJcbiAgICAgICAgbGV0IGluaXRpYWxpemVycyA9IHRoaXMubW9kZWwuZGVjbGFyYXRpb25zLm1hcChkID0+IGQuaW5pdGlhbGl6ZXIpO1xyXG4gICAgICAgIGlmICh0aGlzLmluZGV4IDwgaW5pdGlhbGl6ZXJzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBsZXQgaW5pdCA9IGluaXRpYWxpemVyc1t0aGlzLmluZGV4XTtcclxuICAgICAgICAgICAgaWYoaW5pdCkge1xyXG4gICAgICAgICAgICAgICAgLy8gT25seSBkZWNsYXJhdGlvbnMgd2l0aCBhbiBpbml0aWFsaXplciAoZS5nLiBhIHZhcmlhYmxlIGRlZmluaXRpb24pIGhhdmUgc29tZXRoaW5nXHJcbiAgICAgICAgICAgICAgICAvLyB0byBkbyBhdCBydW50aW1lLiBPdGhlcnMgKGUuZy4gdHlwZWRlZnMpIGRvIG5vdGhpbmcuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcImluaXRpYWxpemluZ1wiLCB0aGlzLmluZGV4KTtcclxuICAgICAgICAgICAgICAgIGxldCBydW50aW1lSW5pdCA9IGluaXQuY3JlYXRlUnVudGltZUluaXRpYWxpemVyKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaW0ucHVzaChydW50aW1lSW5pdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKyt0aGlzLmluZGV4O1xyXG4gICAgICAgICAgICB0aGlzLndhaXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5zaW0ucG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGVwRm9yd2FyZEltcGwoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IHR5cGUgSnVtcFN0YXRlbWVudEFTVE5vZGUgPSBCcmVha1N0YXRlbWVudEFTVE5vZGUgfCBDb250aW51ZVN0YXRlbWVudEFTVE5vZGUgfCBSZXR1cm5TdGF0ZW1lbnRBU1ROb2RlO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBCcmVha1N0YXRlbWVudEFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcImJyZWFrX3N0YXRlbWVudFwiO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbnRpbnVlU3RhdGVtZW50QVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwiY29udGludWVfc3RhdGVtZW50XCI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUmV0dXJuU3RhdGVtZW50QVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwicmV0dXJuX3N0YXRlbWVudFwiO1xyXG4gICAgcmVhZG9ubHkgZXhwcmVzc2lvbjogRXhwcmVzc2lvbkFTVE5vZGU7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBSZXR1cm5TdGF0ZW1lbnQgZXh0ZW5kcyBTdGF0ZW1lbnQ8UmV0dXJuU3RhdGVtZW50QVNUTm9kZT4ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBleHByZXNzaW9uPzogRXhwcmVzc2lvbjtcclxuXHJcbiAgICAvLyBUT0RPOiBUZWNobmljYWxseSwgdGhpcyBzaG91bGQgYmUgQ29weUluaXRpYWxpemVyXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmV0dXJuSW5pdGlhbGl6ZXI/OiBEaXJlY3RJbml0aWFsaXplcjtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUZyb21BU1QoYXN0OiBSZXR1cm5TdGF0ZW1lbnRBU1ROb2RlLCBjb250ZXh0OiBCbG9ja0NvbnRleHQpIHtcclxuICAgICAgICByZXR1cm4gYXN0LmV4cHJlc3Npb25cclxuICAgICAgICAgICAgPyBuZXcgUmV0dXJuU3RhdGVtZW50KGNvbnRleHQsIGNyZWF0ZUV4cHJlc3Npb25Gcm9tQVNUKGFzdC5leHByZXNzaW9uLCBjb250ZXh0KSkuc2V0QVNUKGFzdClcclxuICAgICAgICAgICAgOiBuZXcgUmV0dXJuU3RhdGVtZW50KGNvbnRleHQpLnNldEFTVChhc3QpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250ZXh0OiBCbG9ja0NvbnRleHQsIGV4cHJlc3Npb24/OiBFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgc3VwZXIoY29udGV4dCk7XHJcbiAgICAgICAgdGhpcy5leHByZXNzaW9uID0gZXhwcmVzc2lvbjtcclxuXHJcbiAgICAgICAgbGV0IHJldHVyblR5cGUgPSB0aGlzLmNvbnRleHQuY29udGFpbmluZ0Z1bmN0aW9uLnR5cGUucmV0dXJuVHlwZTtcclxuXHJcbiAgICAgICAgaWYgKHJldHVyblR5cGUgaW5zdGFuY2VvZiBWb2lkVHlwZSkge1xyXG4gICAgICAgICAgICBpZiAoZXhwcmVzc2lvbikge1xyXG4gICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSBhbiBleHByZXNzaW9uIHRvIHJldHVybiwgYnV0IHRoZSB0eXBlIGlzIHZvaWQsIHNvIHRoYXQncyBiYWRcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5zdG10LnJldHVyblN0YXRlbWVudC5leHByVm9pZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQSByZXR1cm4gc3RhdGVtZW50IHdpdGggbm8gZXhwcmVzc2lvbiBpcyBvbmx5IGFsbG93ZWQgaW4gdm9pZCBmdW5jdGlvbnMuXHJcbiAgICAgICAgLy8gQXQgdGhlIG1vbWVudCwgY29uc3RydWN0b3JzL2Rlc3RydWN0b3JzIGFyZSBoYWNrZWQgdG8gaGF2ZSB2b2lkIHJldHVybiB0eXBlLFxyXG4gICAgICAgIC8vIHNvIHRoaXMgY2hlY2sgaXMgb2sgZm9yIHJldHVybiBzdGF0ZW1lbnRzIGluIGEgY29uc3RydWN0b3IuXHJcbiAgICAgICAgaWYgKCFleHByZXNzaW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5zdG10LnJldHVyblN0YXRlbWVudC5lbXB0eSh0aGlzKSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChyZXR1cm5UeXBlIGluc3RhbmNlb2YgUmVmZXJlbmNlVHlwZSkge1xyXG4gICAgICAgICAgICB0aGlzLnJldHVybkluaXRpYWxpemVyID0gRGlyZWN0SW5pdGlhbGl6ZXIuY3JlYXRlKGNvbnRleHQsIG5ldyBSZXR1cm5CeVJlZmVyZW5jZUVudGl0eShyZXR1cm5UeXBlLnJlZlRvKSwgW2V4cHJlc3Npb25dKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucmV0dXJuSW5pdGlhbGl6ZXIgPSBEaXJlY3RJbml0aWFsaXplci5jcmVhdGUoY29udGV4dCwgbmV3IFJldHVybk9iamVjdEVudGl0eShyZXR1cm5UeXBlKSwgW2V4cHJlc3Npb25dKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBOb3RlOiBUaGUgZXhwcmVzc2lvbiBpcyBOT1QgYXR0YWNoZWQgZGlyZWN0bHkgaGVyZSwgc2luY2UgaXQncyBhdHRhY2hlZCB1bmRlciB0aGUgaW5pdGlhbGl6ZXIuXHJcbiAgICAgICAgdGhpcy5hdHRhY2godGhpcy5yZXR1cm5Jbml0aWFsaXplcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVTdGF0ZW1lbnQodGhpczogQ29tcGlsZWRSZXR1cm5TdGF0ZW1lbnQsIHBhcmVudDogUnVudGltZVN0YXRlbWVudCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUnVudGltZVJldHVyblN0YXRlbWVudCh0aGlzLCBwYXJlbnQpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBpc1RhaWxDaGlsZCA6IGZ1bmN0aW9uKGNoaWxkKXtcclxuICAgIC8vICAgICByZXR1cm4ge2lzVGFpbDogdHJ1ZSxcclxuICAgIC8vICAgICAgICAgcmVhc29uOiBcIlRoZSByZWN1cnNpdmUgY2FsbCBpcyBpbW1lZGlhdGVseSBmb2xsb3dlZCBieSBhIHJldHVybi5cIn07XHJcbiAgICAvLyB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRSZXR1cm5TdGF0ZW1lbnQgZXh0ZW5kcyBSZXR1cm5TdGF0ZW1lbnQsIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuICAgIHJlYWRvbmx5IGV4cHJlc3Npb24/OiBDb21waWxlZEV4cHJlc3Npb247XHJcbiAgICByZWFkb25seSByZXR1cm5Jbml0aWFsaXplcj86IENvbXBpbGVkRGlyZWN0SW5pdGlhbGl6ZXI7XHJcbn1cclxuXHJcbmVudW0gUnVudGltZVJldHVyblN0YXRlbWVudEluZGljZXMge1xyXG4gICAgUFVTSF9JTklUSUFMSVpFUixcclxuICAgIFJFVFVSTlxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUnVudGltZVJldHVyblN0YXRlbWVudCBleHRlbmRzIFJ1bnRpbWVTdGF0ZW1lbnQ8Q29tcGlsZWRSZXR1cm5TdGF0ZW1lbnQ+IHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmV0dXJuSW5pdGlhbGl6ZXI/OiBSdW50aW1lRGlyZWN0SW5pdGlhbGl6ZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBpbmRleCA9IFJ1bnRpbWVSZXR1cm5TdGF0ZW1lbnRJbmRpY2VzLlBVU0hfSU5JVElBTElaRVI7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChtb2RlbDogQ29tcGlsZWRSZXR1cm5TdGF0ZW1lbnQsIHBhcmVudDogUnVudGltZVN0YXRlbWVudCkge1xyXG4gICAgICAgIHN1cGVyKG1vZGVsLCBwYXJlbnQpO1xyXG4gICAgICAgIGlmKG1vZGVsLnJldHVybkluaXRpYWxpemVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmV0dXJuSW5pdGlhbGl6ZXIgPSBtb2RlbC5yZXR1cm5Jbml0aWFsaXplci5jcmVhdGVSdW50aW1lSW5pdGlhbGl6ZXIodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cdFxyXG4gICAgcHJvdGVjdGVkIHVwTmV4dEltcGwoKSB7XHJcbiAgICAgICAgaWYodGhpcy5pbmRleCA9PT0gUnVudGltZVJldHVyblN0YXRlbWVudEluZGljZXMuUFVTSF9JTklUSUFMSVpFUikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5yZXR1cm5Jbml0aWFsaXplcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaW0ucHVzaCh0aGlzLnJldHVybkluaXRpYWxpemVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmluZGV4ID0gUnVudGltZVJldHVyblN0YXRlbWVudEluZGljZXMuUkVUVVJOO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RlcEZvcndhcmRJbXBsKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmluZGV4ID09PSBSdW50aW1lUmV0dXJuU3RhdGVtZW50SW5kaWNlcy5SRVRVUk4pIHtcclxuICAgICAgICAgICAgbGV0IGZ1bmMgPSB0aGlzLmNvbnRhaW5pbmdSdW50aW1lRnVuY3Rpb247XHJcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwicmV0dXJuZWRcIiwge2NhbGw6IGZ1bmMuY2FsbGVyfSlcclxuICAgICAgICAgICAgdGhpcy5zaW0ucG9wVW50aWwoZnVuYyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEJsb2NrQVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwiY29tcG91bmRfc3RhdGVtZW50XCI7XHJcbiAgICByZWFkb25seSBzdGF0ZW1lbnRzOiByZWFkb25seSBTdGF0ZW1lbnRBU1ROb2RlW107XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUJsb2NrQ29udGV4dChjb250ZXh0OiBGdW5jdGlvbkNvbnRleHQpIDogQmxvY2tDb250ZXh0IHtcclxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBjb250ZXh0LCB7XHJcbiAgICAgICAgY29udGV4dHVhbFNjb3BlOiBuZXcgQmxvY2tTY29wZShjb250ZXh0LmNvbnRleHR1YWxTY29wZSksXHJcbiAgICAgICAgbG9jYWxPYmplY3RzOiBbXSxcclxuICAgICAgICBsb2NhbFJlZmVyZW5jZXM6IFtdXHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEJsb2NrIGV4dGVuZHMgU3RhdGVtZW50PEJsb2NrQVNUTm9kZT4ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBzdGF0ZW1lbnRzOiByZWFkb25seSBTdGF0ZW1lbnRbXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBibG9ja0NvbnRleHQ6IEJsb2NrQ29udGV4dDtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUZyb21BU1QoYXN0OiBCbG9ja0FTVE5vZGUsIGNvbnRleHQ6IEZ1bmN0aW9uQ29udGV4dCkge1xyXG4gICAgICAgIGxldCBibG9jayA9IG5ldyBCbG9jayhjb250ZXh0KS5zZXRBU1QoYXN0KTtcclxuICAgICAgICBhc3Quc3RhdGVtZW50cy5mb3JFYWNoKChzdG10QXN0KSA9PiBibG9jay5hZGRTdGF0ZW1lbnQoY3JlYXRlU3RhdGVtZW50RnJvbUFTVChzdG10QXN0LCBjb250ZXh0KSkpO1xyXG4gICAgICAgIHJldHVybiBibG9jaztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29udGV4dDogQmxvY2tDb250ZXh0KSB7XHJcbiAgICAgICAgc3VwZXIoY29udGV4dCk7XHJcbiAgICAgICAgdGhpcy5ibG9ja0NvbnRleHQgPSBjcmVhdGVCbG9ja0NvbnRleHQoY29udGV4dCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZFN0YXRlbWVudChzdGF0ZW1lbnQ6IFN0YXRlbWVudCkge1xyXG4gICAgICAgIGFzTXV0YWJsZSh0aGlzLnN0YXRlbWVudHMpLnB1c2goc3RhdGVtZW50KTtcclxuICAgICAgICB0aGlzLmF0dGFjaChzdGF0ZW1lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lU3RhdGVtZW50KHRoaXM6IENvbXBpbGVkQmxvY2ssIHBhcmVudDogUnVudGltZVN0YXRlbWVudCB8IFJ1bnRpbWVGdW5jdGlvbikge1xyXG4gICAgICAgIHJldHVybiBuZXcgUnVudGltZUJsb2NrKHRoaXMsIHBhcmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gaXNUYWlsQ2hpbGQgOiBmdW5jdGlvbihjaGlsZCl7XHJcbiAgICAvLyAgICAgdmFyIGxhc3QgPSB0aGlzLnN0YXRlbWVudHMubGFzdCgpO1xyXG4gICAgLy8gICAgIGlmIChjaGlsZCAhPT0gbGFzdCl7XHJcbiAgICAvLyAgICAgICAgIGlmIChjaGlsZCA9PT0gdGhpcy5zdGF0ZW1lbnRzW3RoaXMuc3RhdGVtZW50cy5sZW5ndGgtMl0gJiYgaXNBKGxhc3QsIFN0YXRlbWVudHMuUmV0dXJuKSAmJiAhbGFzdC5oYXNFeHByZXNzaW9uKXtcclxuICAgIC8vICAgICAgICAgICAgIHJldHVybiB7aXNUYWlsOiB0cnVlLFxyXG4gICAgLy8gICAgICAgICAgICAgICAgIHJlYXNvbjogXCJUaGUgb25seSB0aGluZyBhZnRlciB0aGUgcmVjdXJzaXZlIGNhbGwgaXMgYW4gZW1wdHkgcmV0dXJuLlwiLFxyXG4gICAgLy8gICAgICAgICAgICAgICAgIG90aGVyczogW2xhc3RdXHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgZWxzZXtcclxuICAgIC8vICAgICAgICAgICAgIHZhciBvdGhlcnMgPSBbXTtcclxuICAgIC8vICAgICAgICAgICAgIGZvciAodmFyIG90aGVySW5kZXggPSB0aGlzLnN0YXRlbWVudHMubGVuZ3RoLTE7IHRoaXMuc3RhdGVtZW50c1tvdGhlckluZGV4XSAhPT0gY2hpbGQgJiYgb3RoZXJJbmRleCA+PSAwOyAtLW90aGVySW5kZXgpe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHZhciBvdGhlciA9IHRoaXMuc3RhdGVtZW50c1tvdGhlckluZGV4XTtcclxuICAgIC8vICAgICAgICAgICAgICAgICBpZiAoIShpc0Eob3RoZXIsIFN0YXRlbWVudHMuUmV0dXJuKSAmJiAhb3RoZXIuZXhwcmVzc2lvbikpe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBvdGhlcnMudW5zaGlmdChvdGhlcik7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgcmV0dXJuIHtpc1RhaWw6IGZhbHNlLFxyXG4gICAgLy8gICAgICAgICAgICAgICAgIHJlYXNvbjogXCJUaGVyZSBhcmUgb3RoZXIgc3RhdGVtZW50cyBpbiB0aGlzIGJsb2NrIHRoYXQgd2lsbCBleGVjdXRlIGFmdGVyIHRoZSByZWN1cnNpdmUgY2FsbC5cIixcclxuICAgIC8vICAgICAgICAgICAgICAgICBvdGhlcnM6IG90aGVyc1xyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2V7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiB7aXNUYWlsOiB0cnVlfTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkQmxvY2sgZXh0ZW5kcyBCbG9jaywgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4gICAgcmVhZG9ubHkgc3RhdGVtZW50czogcmVhZG9ubHkgQ29tcGlsZWRTdGF0ZW1lbnRbXTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJ1bnRpbWVCbG9jazxDIGV4dGVuZHMgQ29tcGlsZWRCbG9jayA9IENvbXBpbGVkQmxvY2s+IGV4dGVuZHMgUnVudGltZVN0YXRlbWVudDxDPiB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHN0YXRlbWVudHM6IHJlYWRvbmx5IFJ1bnRpbWVTdGF0ZW1lbnRbXTtcclxuXHJcbiAgICBwcml2YXRlIGluZGV4ID0gMDtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IgKG1vZGVsOiBDLCBwYXJlbnQ6IFJ1bnRpbWVTdGF0ZW1lbnQgfCBSdW50aW1lRnVuY3Rpb24pIHtcclxuICAgICAgICBzdXBlcihtb2RlbCwgcGFyZW50KTtcclxuICAgICAgICB0aGlzLnN0YXRlbWVudHMgPSBtb2RlbC5zdGF0ZW1lbnRzLm1hcCgoc3RtdCkgPT4gc3RtdC5jcmVhdGVSdW50aW1lU3RhdGVtZW50KHRoaXMpKTtcclxuICAgIH1cclxuXHRcclxuICAgIHByb3RlY3RlZCB1cE5leHRJbXBsKCkge1xyXG4gICAgICAgIGlmKHRoaXMuaW5kZXggPCB0aGlzLnN0YXRlbWVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwiaW5kZXhcIiwgdGhpcy5pbmRleCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2ltLnB1c2godGhpcy5zdGF0ZW1lbnRzW3RoaXMuaW5kZXgrK10pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zaW0ucG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGVwRm9yd2FyZEltcGwoKSB7XHJcbiAgICAgICAgLy8gTm90aGluZyB0byBkbyBoZXJlLCBibG9jayBkb2Vzbid0IGFjdHVhbGx5IGRvIGFueXRoaW5nIGJ1dCBydW4gaW5kaXZpZHVhbCBzdGF0ZW1lbnRzLlxyXG4gICAgICAgIC8vIFRPRE86IEhvd2V2ZXIsIHNvbWV0aGluZyB3aWxsIHVsdGltYXRlbHkgbmVlZCB0byBiZSBhZGRlZCB0byBydW4gZGVzdHJ1Y3RvcnMgd2hlbiBhXHJcbiAgICAgICAgLy8gYmxvY2sgZmluaXNoZXMsIHJhdGhlciB0aGFuIGp1c3Qgd2hlbiBhIGZ1bmN0aW9uIGZpbmlzaGVzLlxyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgLy8gaXNUYWlsQ2hpbGQgOiBmdW5jdGlvbihjaGlsZCl7XHJcbiAgICAvLyAgICAgcmV0dXJuIHtpc1RhaWw6IHRydWUsXHJcbiAgICAvLyAgICAgICAgIHJlYXNvbjogXCJUaGUgcmVjdXJzaXZlIGNhbGwgaXMgaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgYSByZXR1cm4uXCJ9O1xyXG4gICAgLy8gfVxyXG59XHJcblxyXG4vLyBleHBvcnQgY2xhc3MgRnVuY3Rpb25Cb2R5QmxvY2sgZXh0ZW5kcyBCbG9jayB7XHJcblxyXG4vLyAgICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRleHQ6IEV4ZWN1dGFibGVUcmFuc2xhdGlvblVuaXRDb250ZXh0LCBmdW5jdGlvbkJsb2NrU2NvcGU6IEZ1bmN0aW9uQmxvY2tTY29wZSwgc3RhdGVtZW50czogcmVhZG9ubHkgU3RhdGVtZW50W10pIHtcclxuLy8gICAgICAgICBzdXBlcihjb250ZXh0LCBmdW5jdGlvbkJsb2NrU2NvcGUsIHN0YXRlbWVudHMpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gfVxyXG5cclxuLy8gZXhwb3J0IGludGVyZmFjZSBDb21waWxlZEZ1bmN0aW9uQm9keUJsb2NrIGV4dGVuZHMgRnVuY3Rpb25Cb2R5QmxvY2ssIFN1Y2Nlc3NmdWxseUNvbXBpbGVkIHtcclxuLy8gICAgIHJlYWRvbmx5IHN0YXRlbWVudHM6IHJlYWRvbmx5IENvbXBpbGVkU3RhdGVtZW50W107XHJcbi8vIH1cclxuXHJcbi8vIGV4cG9ydCB2YXIgT3BhcXVlRnVuY3Rpb25Cb2R5QmxvY2sgPSBTdGF0ZW1lbnQuZXh0ZW5kKHtcclxuLy8gICAgIF9uYW1lOiBcIk9wYXF1ZUZ1bmN0aW9uQm9keUJsb2NrXCIsXHJcblxyXG4vLyAgICAgaV9jcmVhdGVGcm9tQVNUIDogZnVuY3Rpb24oYXN0KXtcclxuLy8gICAgICAgICBTdGF0ZW1lbnRzLk9wYXF1ZUZ1bmN0aW9uQm9keUJsb2NrLl9wYXJlbnQuaV9jcmVhdGVGcm9tQVNULmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblxyXG4vLyAgICAgICAgIHRoaXMuYmxvY2tTY29wZSA9IEZ1bmN0aW9uQmxvY2tTY29wZS5pbnN0YW5jZSh0aGlzLmNvbnRleHR1YWxTY29wZSk7XHJcbi8vICAgICAgICAgdGhpcy5lZmZlY3RzID0gYXN0LmVmZmVjdHM7XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIC8vIHVwTmV4dCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgLy8gICAgIGlmIChpbnN0LmluZGV4ID49IHRoaXMuc3RhdGVtZW50cy5sZW5ndGgpe1xyXG4vLyAgICAgLy8gICAgICAgICB0aGlzLmRvbmUoc2ltLCBpbnN0KTtcclxuLy8gICAgIC8vICAgICB9XHJcbi8vICAgICAvLyAgICAgZWxzZXtcclxuLy8gICAgIC8vICAgICAgICAgaW5zdC5zZW5kKFwiaW5kZXhcIiwgaW5zdC5pbmRleCk7XHJcbi8vICAgICAvLyAgICAgICAgIHZhciBuZXh0U3RtdCA9IHRoaXMuc3RhdGVtZW50c1tpbnN0LmluZGV4KytdO1xyXG4vLyAgICAgLy8gICAgICAgICBpbnN0LmNoaWxkSW5zdGFuY2VzLnN0YXRlbWVudHMucHVzaChuZXh0U3RtdC5jcmVhdGVBbmRQdXNoSW5zdGFuY2Uoc2ltLCBpbnN0KSk7XHJcbi8vICAgICAvLyAgICAgfVxyXG4vLyAgICAgLy8gICAgIHJldHVybiB0cnVlO1xyXG4vLyAgICAgLy8gfSxcclxuXHJcbi8vICAgICBzdGVwRm9yd2FyZCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIC8vIE5vIHdvcmsgdG8gYmUgZG9uZSBoZXJlPyBTaG91bGQgYmUgZW5vdWdoIHRvIGRlbGVnYXRlIHRvIHN0YXRlbWVudHNcclxuLy8gICAgICAgICAvLyB2aWEgdXBOZXh0LlxyXG4vLyAgICAgICAgIHRoaXMuZWZmZWN0cyhzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgIHRoaXMuZG9uZShzaW0saW5zdCk7XHJcbi8vICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIGlzVGFpbENoaWxkIDogZnVuY3Rpb24oKXtcclxuLy8gICAgICAgICByZXR1cm4ge2lzVGFpbDogdHJ1ZX07XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU2VsZWN0aW9uU3RhdGVtZW50QVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwic2VsZWN0aW9uX3N0YXRlbWVudFwiO1xyXG4gICAgcmVhZG9ubHkgY29uZGl0aW9uOiBFeHByZXNzaW9uQVNUTm9kZTtcclxuICAgIHJlYWRvbmx5IHRoZW46IFN0YXRlbWVudEFTVE5vZGU7XHJcbiAgICByZWFkb25seSBvdGhlcndpc2U6IFN0YXRlbWVudEFTVE5vZGU7XHJcbn1cclxuXHJcbi8vIGV4cG9ydCB2YXIgU2VsZWN0aW9uID0gU3RhdGVtZW50LmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZTogXCJTZWxlY3Rpb25cIixcclxuLy8gICAgIGluaXRJbmRleDogXCJjb25kaXRpb25cIixcclxuXHJcbi8vICAgICBpX2NoaWxkcmVuVG9DcmVhdGUgOiBbXCJjb25kaXRpb25cIiwgXCJ0aGVuXCIsIFwib3RoZXJ3aXNlXCJdLFxyXG5cclxuLy8gICAgIGNvbXBpbGUgOiBmdW5jdGlvbigpe1xyXG5cclxuLy8gICAgICAgICAvLyBDb21waWxlIGNvbmRpdGlvbiwgY29udmVydCB0byBib29sIGlmIG5vdCBhbHJlYWR5LCBlcnJvciBpZiBjYW4ndCBjb252ZXJ0XHJcbi8vICAgICAgICAgdGhpcy5jb25kaXRpb24uY29tcGlsZSgpO1xyXG4vLyAgICAgICAgIHRoaXMuY29uZGl0aW9uID0gc3RhbmRhcmRDb252ZXJzaW9uKHRoaXMuY29uZGl0aW9uLCBUeXBlcy5Cb29sLmluc3RhbmNlKCkpO1xyXG4vLyAgICAgICAgIGlmICghaXNBKHRoaXMuY29uZGl0aW9uLnR5cGUsIFR5cGVzLkJvb2wpKXtcclxuLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLnN0bXQuc2VsZWN0aW9uLmNvbmRpdGlvbl9ib29sKHRoaXMsIHRoaXMuY29uZGl0aW9uKSk7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICB0aGlzLnRoZW4uY29tcGlsZSgpO1xyXG5cclxuLy8gICAgICAgICAvLyBlbHNlIGJyYW5jaCBtYXkgbm90IGJlIHNwZWNpZmllZCwgc28gb25seSBjb21waWxlIGlmIGl0IGlzXHJcbi8vICAgICAgICAgdGhpcy5vdGhlcndpc2UgJiYgdGhpcy5vdGhlcndpc2UuY29tcGlsZSgpO1xyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICB1cE5leHQgOiBmdW5jdGlvbihzaW06IFNpbXVsYXRpb24sIHJ0Q29uc3RydWN0OiBSdW50aW1lQ29uc3RydWN0KXtcclxuLy8gICAgICAgICBpZihpbnN0LmluZGV4ID09IFwiY29uZGl0aW9uXCIpe1xyXG4vLyAgICAgICAgICAgICBpbnN0LmNvbmRpdGlvbiA9IHRoaXMuY29uZGl0aW9uLmNyZWF0ZUFuZFB1c2hJbnN0YW5jZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgICAgICBpbnN0LmluZGV4ID0gXCJib2R5XCI7XHJcbi8vICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNlIGlmIChpbnN0LmluZGV4ID09IFwiYm9keVwiKXtcclxuLy8gICAgICAgICAgICAgaWYoaW5zdC5jb25kaXRpb24uZXZhbFJlc3VsdC52YWx1ZSl7XHJcbi8vICAgICAgICAgICAgICAgICBpbnN0LnRoZW4gPSB0aGlzLnRoZW4uY3JlYXRlQW5kUHVzaEluc3RhbmNlKHNpbSwgaW5zdCk7XHJcbi8vICAgICAgICAgICAgICAgICBpbnN0LmluZGV4ID0gXCJkb25lXCI7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3RoZXJ3aXNlKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgaW5zdC5vdGhlcndpc2UgPSB0aGlzLm90aGVyd2lzZS5jcmVhdGVBbmRQdXNoSW5zdGFuY2Uoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIGluc3QuaW5kZXggPSBcImRvbmVcIjtcclxuLy8gICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICAgIHRoaXMuZG9uZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIHN0ZXBGb3J3YXJkIDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcblxyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBpc1RhaWxDaGlsZCA6IGZ1bmN0aW9uKGNoaWxkKXtcclxuLy8gICAgICAgICBpZiAoY2hpbGQgPT09IHRoaXMuY29uZGl0aW9uKXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHtpc1RhaWw6IGZhbHNlLFxyXG4vLyAgICAgICAgICAgICAgICAgcmVhc29uOiBcIkFmdGVyIHRoZSBmdW5jdGlvbiByZXR1cm5zLCBvbmUgb2YgdGhlIGJyYW5jaGVzIHdpbGwgcnVuLlwiLFxyXG4vLyAgICAgICAgICAgICAgICAgb3RoZXJzOiBbdGhpcy50aGVuLCB0aGlzLm90aGVyd2lzZV1cclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICBpZiAodGhpcy5vdGhlcndpc2Upe1xyXG4vLyAgICAgICAgICAgICAgICAgLy9pZiAoY2hpbGQgPT09IHRoaXMudGhlbil7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtpc1RhaWw6IHRydWUsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjogXCJPbmx5IG9uZSBicmFuY2ggaW4gYSBzZWxlY3Rpb24gc3RydWN0dXJlIChpLmUuIGlmL2Vsc2UpIGNhbiBldmVyIGV4ZWN1dGUsIHNvIGRvbid0IHdvcnJ5IGFib3V0IHRoZSBjb2RlIGluIHRoZSBvdGhlciBicmFuY2hlcy5cIlxyXG4vLyAgICAgICAgICAgICAgICAgICAgIH07XHJcbi8vICAgICAgICAgICAgICAgICAvL31cclxuLy8gICAgICAgICAgICAgICAgIC8vZWxzZXtcclxuLy8gICAgICAgICAgICAgICAgIC8vICAgIHJldHVybiB7aXNUYWlsOiB0cnVlLFxyXG4vLyAgICAgICAgICAgICAgICAgLy8gICAgICAgIHJlYXNvbjogXCJEb24ndCB3b3JyeSBhYm91dCB0aGUgY29kZSBpbiB0aGUgaWYgYnJhbmNoIC0gaWYgdGhlIHJlY3Vyc2l2ZSBjYWxsIGV2ZW4gaGFwcGVuZWQgaXQgbWVhbnMgd2UgdG9vayB0aGUgZWxzZSBicmFuY2guXCJcclxuLy8gICAgICAgICAgICAgICAgIC8vICAgIH07XHJcbi8vICAgICAgICAgICAgICAgICAvL31cclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIHtpc1RhaWw6IHRydWVcclxuLy8gICAgICAgICAgICAgICAgIH07XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuZXhwb3J0IHR5cGUgSXRlcmF0aW9uU3RhdGVtZW50QVNUTm9kZSA9IFdoaWxlU3RhdGVtZW50QVNUTm9kZSB8IERvV2hpbGVTdGF0ZW1lbnRBU1ROb2RlIHwgRm9yU3RhdGVtZW50QVNUTm9kZTtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgV2hpbGVTdGF0ZW1lbnRBU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJ3aGlsZV9zdGF0ZW1lbnRcIjtcclxuICAgIHJlYWRvbmx5IGNvbmRpdGlvbjogRXhwcmVzc2lvbkFTVE5vZGU7XHJcbiAgICByZWFkb25seSBib2R5OiBTdGF0ZW1lbnRBU1ROb2RlO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIERvV2hpbGVTdGF0ZW1lbnRBU1ROb2RlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICByZWFkb25seSBjb25zdHJ1Y3RfdHlwZTogXCJkb3doaWxlX3N0YXRlbWVudFwiO1xyXG4gICAgcmVhZG9ubHkgY29uZGl0aW9uOiBFeHByZXNzaW9uQVNUTm9kZTtcclxuICAgIHJlYWRvbmx5IGJvZHk6IFN0YXRlbWVudEFTVE5vZGU7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRm9yU3RhdGVtZW50QVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwiZm9yX3N0YXRlbWVudFwiO1xyXG4gICAgcmVhZG9ubHkgY29uZGl0aW9uOiBFeHByZXNzaW9uQVNUTm9kZTtcclxuICAgIHJlYWRvbmx5IGluaXRpYWw6IEV4cHJlc3Npb25TdGF0ZW1lbnRBU1ROb2RlIHwgTnVsbFN0YXRlbWVudEFTVE5vZGUgfCBEZWNsYXJhdGlvblN0YXRlbWVudEFTVE5vZGU7XHJcbiAgICByZWFkb25seSBwb3N0OiBFeHByZXNzaW9uQVNUTm9kZTtcclxuICAgIHJlYWRvbmx5IGJvZHk6IFN0YXRlbWVudEFTVE5vZGU7XHJcbn1cclxuXHJcbi8vIGV4cG9ydCB2YXIgSXRlcmF0aW9uID0gU3RhdGVtZW50LmV4dGVuZCh7XHJcbi8vICAgICBpc1RhaWxDaGlsZCA6IGZ1bmN0aW9uKGNoaWxkKXtcclxuLy8gICAgICAgICByZXR1cm4ge1xyXG4vLyAgICAgICAgICAgICBpc1RhaWw6IGZhbHNlLFxyXG4vLyAgICAgICAgICAgICByZWFzb246IFwiSWYgdGhlIGxvb3AgZ29lcyBhcm91bmQgYWdhaW4sIHRoZW4gdGhhdCB3b3VsZCBiZSBtb3JlIHdvcmsgYWZ0ZXIgdGhlIHJlY3Vyc2l2ZSBjYWxsLlwiLFxyXG4vLyAgICAgICAgICAgICBvdGhlcnM6IFt0aGlzXVxyXG4vLyAgICAgICAgIH07XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuLy8gZXhwb3J0IHZhciBXaGlsZSA9IEl0ZXJhdGlvbi5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiV2hpbGVcIixcclxuLy8gICAgIGluaXRJbmRleDogXCJjb25kaXRpb25cIixcclxuXHJcbi8vICAgICBpX2NyZWF0ZUZyb21BU1QgOiBmdW5jdGlvbihhc3QpIHtcclxuLy8gICAgICAgICBTdGF0ZW1lbnRzLldoaWxlLl9wYXJlbnQuaV9jcmVhdGVGcm9tQVNULmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblxyXG4vLyAgICAgICAgIHRoaXMuYm9keSA9IHRoaXMuaV9jcmVhdGVDaGlsZChhc3QuYm9keSk7XHJcblxyXG4vLyAgICAgICAgIC8vIFRPRE86IHRlY2huaWNhbGx5LCB0aGUgQysrIHN0YW5kYXJkIGFsbG93cyBhIGRlY2xhcmF0aW9uIGFzIHRoZSBjb25kaXRpb24gZm9yIGEgd2hpbGUgbG9vcC5cclxuLy8gICAgICAgICAvLyBUaGlzIGFwcGVhcnMgdG8gYmUgY3VycmVudGx5IGltcG9zc2libGUgaW4gTG9ic3RlciwgYnV0IHdoZW4gaW1wbGVtZW50ZWQgaXQgd2lsbCByZXF1aXJlXHJcbi8vICAgICAgICAgLy8gc3BlY2lhbCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgc2NvcGUgb2YgdGhlIGJvZHkgaWYgaXQncyBub3QgYWxyZWFkeSBhIGJsb2NrLlxyXG4vLyAgICAgICAgIC8vIE9yIG1heWJlIHdlIGNvdWxkIGp1c3QgZGVjaWRlIHRvIHBhcnNlIGl0IGNvcnJlY3RseSAod2lsbCBzdGlsbCByZXF1aXJlIHNvbWUgY2hhbmdlcyksIGJ1dFxyXG4vLyAgICAgICAgIC8vIHRoZW4gc2ltcGx5IHNheSBpdCdzIG5vdCBzdXBwb3J0ZWQgc2luY2UgaXQncyBzdWNoIGEgcmFyZSB0aGluZy5cclxuLy8gICAgICAgICB0aGlzLmNvbmRpdGlvbiA9IHRoaXMuaV9jcmVhdGVDaGlsZChhc3QuY29uZGl0aW9uLCB7XHJcbi8vICAgICAgICAgICAgIHNjb3BlIDogKGlzQSh0aGlzLmJvZHksIFN0YXRlbWVudHMuQmxvY2spID8gdGhpcy5ib2R5LmJsb2NrU2NvcGUgOiB0aGlzLmNvbnRleHR1YWxTY29wZSlcclxuLy8gICAgICAgICB9KTtcclxuXHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIGNvbXBpbGUgOiBmdW5jdGlvbigpe1xyXG5cclxuLy8gICAgICAgICB0aGlzLmNvbmRpdGlvbi5jb21waWxlKCk7XHJcbi8vICAgICAgICAgdGhpcy5jb25kaXRpb24gPSBzdGFuZGFyZENvbnZlcnNpb24odGhpcy5jb25kaXRpb24sIFR5cGVzLkJvb2wuaW5zdGFuY2UoKSk7XHJcbi8vICAgICAgICAgaWYgKCFpc0EodGhpcy5jb25kaXRpb24udHlwZSwgVHlwZXMuQm9vbCkpe1xyXG4vLyAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3Iuc3RtdC5pdGVyYXRpb24uY29uZGl0aW9uX2Jvb2wodGhpcy5jb25kaXRpb24sIHRoaXMuY29uZGl0aW9uKSlcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIHRoaXMuYm9keS5jb21waWxlKCk7XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIHVwTmV4dCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIGlmIChpbnN0LmluZGV4ID09IFwid2FpdFwiKXtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNlIGlmKGluc3QuaW5kZXggPT0gXCJjb25kaXRpb25cIil7XHJcbi8vICAgICAgICAgICAgIGluc3Quc2VuZChcInJlc2V0XCIpO1xyXG4vLyAgICAgICAgICAgICBpbnN0LmNvbmRpdGlvbiA9IHRoaXMuY29uZGl0aW9uLmNyZWF0ZUFuZFB1c2hJbnN0YW5jZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgICAgICBpbnN0LmluZGV4ID0gXCJjaGVja0NvbmRcIjtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2UgaWYgKGluc3QuaW5kZXggPT0gXCJjaGVja0NvbmRcIil7XHJcbi8vICAgICAgICAgICAgIGlmKGluc3QuY29uZGl0aW9uLmV2YWxSZXN1bHQudmFsdWUpIHtcclxuLy8gICAgICAgICAgICAgICAgIGluc3QuaW5kZXggPSBcImJvZHlcIjtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5kb25lKHNpbSwgaW5zdCk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2UgaWYgKGluc3QuaW5kZXggPT0gXCJib2R5XCIpe1xyXG4vLyAgICAgICAgICAgICBpbnN0LmJvZHkgPSB0aGlzLmJvZHkuY3JlYXRlQW5kUHVzaEluc3RhbmNlKHNpbSwgaW5zdCk7XHJcbi8vICAgICAgICAgICAgIGluc3QuaW5kZXggPSBcIndhaXRcIjtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICBzdGVwRm9yd2FyZCA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4vLyAgICAgICAgIGlmIChpbnN0LmluZGV4ID09IFwid2FpdFwiKSB7XHJcbi8vICAgICAgICAgICAgIGluc3QuaW5kZXggPSBcImNvbmRpdGlvblwiOyAvLyByZW1vdmUgdGhlIHdhaXQgaW5kZXggb24gaXRlcmF0aW9ucyBhZnRlciB0aGUgZmlyc3RcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuXHJcbi8vIGV4cG9ydCB2YXIgRG9XaGlsZSA9IFdoaWxlLmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZTogXCJEb1doaWxlXCIsXHJcbi8vICAgICBpbml0SW5kZXg6IFwiYm9keVwiXHJcbi8vIH0pO1xyXG5cclxuXHJcbi8vIGV4cG9ydCB2YXIgRm9yID0gSXRlcmF0aW9uLmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZTogXCJGb3JcIixcclxuLy8gICAgIGluaXRJbmRleDogXCJpbml0XCIsXHJcblxyXG4vLyAgICAgaW5pdCA6IGZ1bmN0aW9uKGFzdCwgY29udGV4dCkge1xyXG4vLyAgICAgICAgIHRoaXMuaW5pdFBhcmVudChhc3QsIGNvbnRleHQpO1xyXG5cclxuLy8gICAgICAgICB0aGlzLmJvZHkgPSB0aGlzLmlfY3JlYXRlQ2hpbGQoYXN0LmJvZHkpO1xyXG5cclxuLy8gICAgICAgICAvLyBJZiB0aGUgYm9keSBpcyBhbHJlYWR5IGEgYmxvY2ssIHdlIGNhbiBqdXN0IHVzZSBpdHMgc2NvcGUuIE90aGVyd2lzZSwgY3JlYXRlIG9uZSBmb3IgdGhlIGZvciBsb29wLlxyXG4vLyAgICAgICAgIHRoaXMuYm9keVNjb3BlID0gKGlzQSh0aGlzLmJvZHksIFN0YXRlbWVudHMuQmxvY2spID8gdGhpcy5ib2R5LmJsb2NrU2NvcGUgOiBCbG9ja1Njb3BlLmluc3RhbmNlKHRoaXMuY29udGV4dHVhbFNjb3BlKSk7XHJcblxyXG4vLyAgICAgICAgIC8vIE5vdGU6IGdyYW1tYXIgZW5zdXJlcyB0aGlzIHdpbGwgYmUgYW4gZXhwcmVzc2lvbiBvciBkZWNsYXJhdGlvbiBzdGF0ZW1lbnRcclxuLy8gICAgICAgICB0aGlzLmluaXRpYWwgPSB0aGlzLmlfY3JlYXRlQ2hpbGQoYXN0LmluaXRpYWwsIHtzY29wZTogdGhpcy5ib2R5U2NvcGV9KTtcclxuXHJcbi8vICAgICAgICAgdGhpcy5jb25kaXRpb24gPSB0aGlzLmlfY3JlYXRlQ2hpbGQoYXN0LmNvbmRpdGlvbiwge3Njb3BlIDogdGhpcy5ib2R5U2NvcGV9KTtcclxuXHJcbi8vICAgICAgICAgdGhpcy5wb3N0ID0gdGhpcy5pX2NyZWF0ZUNoaWxkKGFzdC5wb3N0LCB7c2NvcGUgOiB0aGlzLmJvZHlTY29wZX0pO1xyXG5cclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgY29tcGlsZSA6IGZ1bmN0aW9uKCl7XHJcbi8vICAgICAgICAgdGhpcy5pbml0aWFsLmNvbXBpbGUoKTtcclxuXHJcbi8vICAgICAgICAgdGhpcy5jb25kaXRpb24uY29tcGlsZSgpO1xyXG4vLyAgICAgICAgIHRoaXMuY29uZGl0aW9uID0gc3RhbmRhcmRDb252ZXJzaW9uKHRoaXMuY29uZGl0aW9uLCBUeXBlcy5Cb29sLmluc3RhbmNlKCkpO1xyXG4vLyAgICAgICAgIGlmICghaXNBKHRoaXMuY29uZGl0aW9uLnR5cGUsIFR5cGVzLkJvb2wpKXtcclxuLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLnN0bXQuaXRlcmF0aW9uLmNvbmRpdGlvbl9ib29sKHRoaXMuY29uZGl0aW9uLCB0aGlzLmNvbmRpdGlvbikpXHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICB0aGlzLmJvZHkuY29tcGlsZSgpO1xyXG5cclxuLy8gICAgICAgICB0aGlzLnBvc3QuY29tcGlsZSgpO1xyXG4vLyAgICAgfSxcclxuXHJcblxyXG4vLyAgICAgdXBOZXh0IDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbi8vICAgICAgICAgaWYgKGluc3QuaW5kZXggPT0gXCJ3YWl0XCIpe1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2UgaWYgKGluc3QuaW5kZXggPT0gXCJpbml0XCIpe1xyXG4vLyAgICAgICAgICAgICBpbnN0LmluaXRpYWwgPSB0aGlzLmluaXRpYWwuY3JlYXRlQW5kUHVzaEluc3RhbmNlKHNpbSwgaW5zdCk7XHJcbi8vICAgICAgICAgICAgIGluc3QuaW5kZXggPSBcImNvbmRpdGlvblwiO1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZSBpZihpbnN0LmluZGV4ID09IFwiY29uZGl0aW9uXCIpe1xyXG4vLyAgICAgICAgICAgICBpbnN0LnNlbmQoXCJyZXNldFwiKTtcclxuLy8gICAgICAgICAgICAgaW5zdC5jb25kaXRpb24gPSB0aGlzLmNvbmRpdGlvbi5jcmVhdGVBbmRQdXNoSW5zdGFuY2Uoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICAgICAgaW5zdC5pbmRleCA9IFwiYm9keVwiO1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZSBpZiAoaW5zdC5pbmRleCA9PSBcImJvZHlcIil7XHJcbi8vICAgICAgICAgICAgIGlmKGluc3QuY29uZGl0aW9uLmV2YWxSZXN1bHQudmFsdWUpe1xyXG4vLyAgICAgICAgICAgICAgICAgaW5zdC5ib2R5ID0gdGhpcy5ib2R5LmNyZWF0ZUFuZFB1c2hJbnN0YW5jZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgICAgICAgICAgaW5zdC5pbmRleCA9IFwicG9zdFwiO1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZWxzZXtcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMuZG9uZShzaW0sIGluc3QpO1xyXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZSBpZiAoaW5zdC5pbmRleCA9PSBcInBvc3RcIil7XHJcbi8vICAgICAgICAgICAgIGluc3QucG9zdCA9IHRoaXMucG9zdC5jcmVhdGVBbmRQdXNoSW5zdGFuY2Uoc2ltLCBpbnN0KTtcclxuLy8gICAgICAgICAgICAgaW5zdC5pbmRleCA9IFwid2FpdFwiO1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIHN0ZXBGb3J3YXJkIDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbi8vICAgICAgICAgaW5zdC5pbmRleCA9IFwiY29uZGl0aW9uXCI7IC8vIHJlbW92ZSB0aGUgd2FpdCBpbmRleCBvbiBpdGVyYXRpb25zIGFmdGVyIHRoZSBmaXJzdFxyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcblxyXG5cclxuLy8gZXhwb3J0IHZhciBCcmVhayA9IFN0YXRlbWVudC5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiQnJlYWtcIixcclxuXHJcbi8vICAgICBjb21waWxlIDogZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgLy8gVGhlb3JldGljYWxseSB0aGlzIGNvdWxkIGJlIHB1dCBpbnRvIHRoZSBpX2NyZWF0ZUZyb21BU1QgZnVuY3Rpb24gc2luY2UgaXQgb25seSB1c2VzXHJcbi8vICAgICAgICAgLy8gc3ludGFjdGljIGluZm9ybWF0aW9uIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZSBicmVhayBpcyBpbnNpZGUgYW4gaXRlcmF0aW9uIHN0YXRlbWVudCxcclxuLy8gICAgICAgICAvLyBidXQgaXQgd291bGQgZmVlbCB3ZWlyZCB0byBhZGQgYW4gZXJyb3Igbm90ZSBiZWZvcmUgdGhlIGNvbXBpbGUgZnVuY3Rpb24gZXZlbiBydW5zLi4uIDovXHJcblxyXG4vLyAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnBhcmVudDtcclxuLy8gICAgICAgICB3aGlsZShjb250YWluZXIgJiYgIWlzQShjb250YWluZXIsIFN0YXRlbWVudHMuSXRlcmF0aW9uKSl7XHJcbi8vICAgICAgICAgICAgIGNvbnRhaW5lciA9IGNvbnRhaW5lci5wYXJlbnQ7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuXHJcbi8vICAgICAgICAgLy8gY29udGFpbmVyIHNob3VsZCBleGlzdCwgb3RoZXJ3aXNlIHRoaXMgYnJlYWsgaXMgc29tZXdoZXJlIGl0IHNob3VsZG4ndCBiZVxyXG4vLyAgICAgICAgIGlmICghY29udGFpbmVyIHx8ICFpc0EoY29udGFpbmVyLCBTdGF0ZW1lbnRzLkl0ZXJhdGlvbikpe1xyXG4vLyAgICAgICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3Iuc3RtdC5icmVha1N0YXRlbWVudC5sb2NhdGlvbih0aGlzLCB0aGlzLmNvbmRpdGlvbikpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcblxyXG4vLyAgICAgY3JlYXRlQW5kUHVzaEluc3RhbmNlIDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbi8vICAgICAgICAgdmFyIGluc3QgPSBSdW50aW1lQ29uc3RydWN0Lmluc3RhbmNlKHNpbSwgdGhpcywgXCJicmVha1wiLCBcInN0bXRcIiwgaW5zdCk7XHJcbi8vICAgICAgICAgc2ltLnB1c2goaW5zdCk7XHJcbi8vICAgICAgICAgcmV0dXJuIGluc3Q7XHJcbi8vICAgICB9LFxyXG5cclxuLy8gICAgIHN0ZXBGb3J3YXJkIDogZnVuY3Rpb24oc2ltOiBTaW11bGF0aW9uLCBydENvbnN0cnVjdDogUnVudGltZUNvbnN0cnVjdCl7XHJcbi8vICAgICAgICAgaWYgKGluc3QuaW5kZXggPT0gXCJicmVha1wiKXtcclxuLy8gICAgICAgICAgICAgdmFyIGNvbnRhaW5lckluc3QgPSBpbnN0LmZpbmRQYXJlbnRCeU1vZGVsKHRoaXMuY29udGFpbmVyKTtcclxuLy8gLy8gICAgICAgICAgICBpbnN0LnNlbmQoXCJyZXR1cm5lZFwiLCB7Y2FsbDogZnVuYy5wYXJlbnR9KTtcclxuLy8gICAgICAgICAgICAgY29udGFpbmVySW5zdC5kb25lKHNpbSk7IC8vIFRPRE86IHNob3VsZCBiZSBkb25lIHdpdGggc2ltdWxhdGlvbiBzdGFjayBpbnN0ZWFkIG9mIHBhcmVudFxyXG4vLyAgICAgICAgICAgICAvLyByZXR1cm4gdHJ1ZTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuXHJcbi8vIGV4cG9ydCB2YXIgQ29udGludWUgPSBVbnN1cHBvcnRlZC5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiU3RhdGVtZW50cy5Db250aW51ZVwiLFxyXG4vLyAgICAgZW5nbGlzaE5hbWU6IFwiY29udGludWUgc3RhdGVtZW50XCJcclxuLy8gfSk7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTGFiZWxlZFN0YXRlbWVudEFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcImxhYmVsZWRfc3RhdGVtZW50XCI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3dpdGNoU3RhdGVtZW50QVNUTm9kZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgcmVhZG9ubHkgY29uc3RydWN0X3R5cGU6IFwic3dpdGNoX3N0YXRlbWVudFwiO1xyXG59XHJcblxyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRpZiAoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBMb2Rhc2ggPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBDb3B5cmlnaHQgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pzLmZvdW5kYXRpb24vPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG47KGZ1bmN0aW9uKCkge1xuXG4gIC8qKiBVc2VkIGFzIGEgc2FmZSByZWZlcmVuY2UgZm9yIGB1bmRlZmluZWRgIGluIHByZS1FUzUgZW52aXJvbm1lbnRzLiAqL1xuICB2YXIgdW5kZWZpbmVkO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBzZW1hbnRpYyB2ZXJzaW9uIG51bWJlci4gKi9cbiAgdmFyIFZFUlNJT04gPSAnNC4xNy4xMCc7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIHNpemUgdG8gZW5hYmxlIGxhcmdlIGFycmF5IG9wdGltaXphdGlvbnMuICovXG4gIHZhciBMQVJHRV9BUlJBWV9TSVpFID0gMjAwO1xuXG4gIC8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbiAgdmFyIENPUkVfRVJST1JfVEVYVCA9ICdVbnN1cHBvcnRlZCBjb3JlLWpzIHVzZS4gVHJ5IGh0dHBzOi8vbnBtcy5pby9zZWFyY2g/cT1wb255ZmlsbC4nLFxuICAgICAgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nO1xuXG4gIC8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbiAgdmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBtYXhpbXVtIG1lbW9pemUgY2FjaGUgc2l6ZS4gKi9cbiAgdmFyIE1BWF9NRU1PSVpFX1NJWkUgPSA1MDA7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIGludGVybmFsIGFyZ3VtZW50IHBsYWNlaG9sZGVyLiAqL1xuICB2YXIgUExBQ0VIT0xERVIgPSAnX19sb2Rhc2hfcGxhY2Vob2xkZXJfXyc7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgY2xvbmluZy4gKi9cbiAgdmFyIENMT05FX0RFRVBfRkxBRyA9IDEsXG4gICAgICBDTE9ORV9GTEFUX0ZMQUcgPSAyLFxuICAgICAgQ0xPTkVfU1lNQk9MU19GTEFHID0gNDtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciB2YWx1ZSBjb21wYXJpc29ucy4gKi9cbiAgdmFyIENPTVBBUkVfUEFSVElBTF9GTEFHID0gMSxcbiAgICAgIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcgPSAyO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIGZ1bmN0aW9uIG1ldGFkYXRhLiAqL1xuICB2YXIgV1JBUF9CSU5EX0ZMQUcgPSAxLFxuICAgICAgV1JBUF9CSU5EX0tFWV9GTEFHID0gMixcbiAgICAgIFdSQVBfQ1VSUllfQk9VTkRfRkxBRyA9IDQsXG4gICAgICBXUkFQX0NVUlJZX0ZMQUcgPSA4LFxuICAgICAgV1JBUF9DVVJSWV9SSUdIVF9GTEFHID0gMTYsXG4gICAgICBXUkFQX1BBUlRJQUxfRkxBRyA9IDMyLFxuICAgICAgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcgPSA2NCxcbiAgICAgIFdSQVBfQVJZX0ZMQUcgPSAxMjgsXG4gICAgICBXUkFQX1JFQVJHX0ZMQUcgPSAyNTYsXG4gICAgICBXUkFQX0ZMSVBfRkxBRyA9IDUxMjtcblxuICAvKiogVXNlZCBhcyBkZWZhdWx0IG9wdGlvbnMgZm9yIGBfLnRydW5jYXRlYC4gKi9cbiAgdmFyIERFRkFVTFRfVFJVTkNfTEVOR1RIID0gMzAsXG4gICAgICBERUZBVUxUX1RSVU5DX09NSVNTSU9OID0gJy4uLic7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGhvdCBmdW5jdGlvbnMgYnkgbnVtYmVyIG9mIGNhbGxzIHdpdGhpbiBhIHNwYW4gb2YgbWlsbGlzZWNvbmRzLiAqL1xuICB2YXIgSE9UX0NPVU5UID0gODAwLFxuICAgICAgSE9UX1NQQU4gPSAxNjtcblxuICAvKiogVXNlZCB0byBpbmRpY2F0ZSB0aGUgdHlwZSBvZiBsYXp5IGl0ZXJhdGVlcy4gKi9cbiAgdmFyIExBWllfRklMVEVSX0ZMQUcgPSAxLFxuICAgICAgTEFaWV9NQVBfRkxBRyA9IDIsXG4gICAgICBMQVpZX1dISUxFX0ZMQUcgPSAzO1xuXG4gIC8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xuICB2YXIgSU5GSU5JVFkgPSAxIC8gMCxcbiAgICAgIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxLFxuICAgICAgTUFYX0lOVEVHRVIgPSAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOCxcbiAgICAgIE5BTiA9IDAgLyAwO1xuXG4gIC8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHRoZSBtYXhpbXVtIGxlbmd0aCBhbmQgaW5kZXggb2YgYW4gYXJyYXkuICovXG4gIHZhciBNQVhfQVJSQVlfTEVOR1RIID0gNDI5NDk2NzI5NSxcbiAgICAgIE1BWF9BUlJBWV9JTkRFWCA9IE1BWF9BUlJBWV9MRU5HVEggLSAxLFxuICAgICAgSEFMRl9NQVhfQVJSQVlfTEVOR1RIID0gTUFYX0FSUkFZX0xFTkdUSCA+Pj4gMTtcblxuICAvKiogVXNlZCB0byBhc3NvY2lhdGUgd3JhcCBtZXRob2RzIHdpdGggdGhlaXIgYml0IGZsYWdzLiAqL1xuICB2YXIgd3JhcEZsYWdzID0gW1xuICAgIFsnYXJ5JywgV1JBUF9BUllfRkxBR10sXG4gICAgWydiaW5kJywgV1JBUF9CSU5EX0ZMQUddLFxuICAgIFsnYmluZEtleScsIFdSQVBfQklORF9LRVlfRkxBR10sXG4gICAgWydjdXJyeScsIFdSQVBfQ1VSUllfRkxBR10sXG4gICAgWydjdXJyeVJpZ2h0JywgV1JBUF9DVVJSWV9SSUdIVF9GTEFHXSxcbiAgICBbJ2ZsaXAnLCBXUkFQX0ZMSVBfRkxBR10sXG4gICAgWydwYXJ0aWFsJywgV1JBUF9QQVJUSUFMX0ZMQUddLFxuICAgIFsncGFydGlhbFJpZ2h0JywgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUddLFxuICAgIFsncmVhcmcnLCBXUkFQX1JFQVJHX0ZMQUddXG4gIF07XG5cbiAgLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xuICB2YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgICAgYXN5bmNUYWcgPSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScsXG4gICAgICBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICAgIGRvbUV4Y1RhZyA9ICdbb2JqZWN0IERPTUV4Y2VwdGlvbl0nLFxuICAgICAgZXJyb3JUYWcgPSAnW29iamVjdCBFcnJvcl0nLFxuICAgICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgICBudW1iZXJUYWcgPSAnW29iamVjdCBOdW1iZXJdJyxcbiAgICAgIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICAgIHByb21pc2VUYWcgPSAnW29iamVjdCBQcm9taXNlXScsXG4gICAgICBwcm94eVRhZyA9ICdbb2JqZWN0IFByb3h5XScsXG4gICAgICByZWdleHBUYWcgPSAnW29iamVjdCBSZWdFeHBdJyxcbiAgICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgICBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJyxcbiAgICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nLFxuICAgICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJyxcbiAgICAgIHdlYWtTZXRUYWcgPSAnW29iamVjdCBXZWFrU2V0XSc7XG5cbiAgdmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICAgIGRhdGFWaWV3VGFnID0gJ1tvYmplY3QgRGF0YVZpZXddJyxcbiAgICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICAgIGludDhUYWcgPSAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgICB1aW50OFRhZyA9ICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgICAgdWludDMyVGFnID0gJ1tvYmplY3QgVWludDMyQXJyYXldJztcblxuICAvKiogVXNlZCB0byBtYXRjaCBlbXB0eSBzdHJpbmcgbGl0ZXJhbHMgaW4gY29tcGlsZWQgdGVtcGxhdGUgc291cmNlLiAqL1xuICB2YXIgcmVFbXB0eVN0cmluZ0xlYWRpbmcgPSAvXFxiX19wIFxcKz0gJyc7L2csXG4gICAgICByZUVtcHR5U3RyaW5nTWlkZGxlID0gL1xcYihfX3AgXFwrPSkgJycgXFwrL2csXG4gICAgICByZUVtcHR5U3RyaW5nVHJhaWxpbmcgPSAvKF9fZVxcKC4qP1xcKXxcXGJfX3RcXCkpIFxcK1xcbicnOy9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIEhUTUwgZW50aXRpZXMgYW5kIEhUTUwgY2hhcmFjdGVycy4gKi9cbiAgdmFyIHJlRXNjYXBlZEh0bWwgPSAvJig/OmFtcHxsdHxndHxxdW90fCMzOSk7L2csXG4gICAgICByZVVuZXNjYXBlZEh0bWwgPSAvWyY8PlwiJ10vZyxcbiAgICAgIHJlSGFzRXNjYXBlZEh0bWwgPSBSZWdFeHAocmVFc2NhcGVkSHRtbC5zb3VyY2UpLFxuICAgICAgcmVIYXNVbmVzY2FwZWRIdG1sID0gUmVnRXhwKHJlVW5lc2NhcGVkSHRtbC5zb3VyY2UpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHRlbXBsYXRlIGRlbGltaXRlcnMuICovXG4gIHZhciByZUVzY2FwZSA9IC88JS0oW1xcc1xcU10rPyklPi9nLFxuICAgICAgcmVFdmFsdWF0ZSA9IC88JShbXFxzXFxTXSs/KSU+L2csXG4gICAgICByZUludGVycG9sYXRlID0gLzwlPShbXFxzXFxTXSs/KSU+L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggcHJvcGVydHkgbmFtZXMgd2l0aGluIHByb3BlcnR5IHBhdGhzLiAqL1xuICB2YXIgcmVJc0RlZXBQcm9wID0gL1xcLnxcXFsoPzpbXltcXF1dKnwoW1wiJ10pKD86KD8hXFwxKVteXFxcXF18XFxcXC4pKj9cXDEpXFxdLyxcbiAgICAgIHJlSXNQbGFpblByb3AgPSAvXlxcdyokLyxcbiAgICAgIHJlUHJvcE5hbWUgPSAvW14uW1xcXV0rfFxcWyg/OigtP1xcZCsoPzpcXC5cXGQrKT8pfChbXCInXSkoKD86KD8hXFwyKVteXFxcXF18XFxcXC4pKj8pXFwyKVxcXXwoPz0oPzpcXC58XFxbXFxdKSg/OlxcLnxcXFtcXF18JCkpL2c7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAgICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gICAqL1xuICB2YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nLFxuICAgICAgcmVIYXNSZWdFeHBDaGFyID0gUmVnRXhwKHJlUmVnRXhwQ2hhci5zb3VyY2UpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2UuICovXG4gIHZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZyxcbiAgICAgIHJlVHJpbVN0YXJ0ID0gL15cXHMrLyxcbiAgICAgIHJlVHJpbUVuZCA9IC9cXHMrJC87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggd3JhcCBkZXRhaWwgY29tbWVudHMuICovXG4gIHZhciByZVdyYXBDb21tZW50ID0gL1xceyg/OlxcblxcL1xcKiBcXFt3cmFwcGVkIHdpdGggLitcXF0gXFwqXFwvKT9cXG4/LyxcbiAgICAgIHJlV3JhcERldGFpbHMgPSAvXFx7XFxuXFwvXFwqIFxcW3dyYXBwZWQgd2l0aCAoLispXFxdIFxcKi8sXG4gICAgICByZVNwbGl0RGV0YWlscyA9IC8sPyAmIC87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggd29yZHMgY29tcG9zZWQgb2YgYWxwaGFudW1lcmljIGNoYXJhY3RlcnMuICovXG4gIHZhciByZUFzY2lpV29yZCA9IC9bXlxceDAwLVxceDJmXFx4M2EtXFx4NDBcXHg1Yi1cXHg2MFxceDdiLVxceDdmXSsvZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBiYWNrc2xhc2hlcyBpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbiAgdmFyIHJlRXNjYXBlQ2hhciA9IC9cXFxcKFxcXFwpPy9nO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoXG4gICAqIFtFUyB0ZW1wbGF0ZSBkZWxpbWl0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10ZW1wbGF0ZS1saXRlcmFsLWxleGljYWwtY29tcG9uZW50cykuXG4gICAqL1xuICB2YXIgcmVFc1RlbXBsYXRlID0gL1xcJFxceyhbXlxcXFx9XSooPzpcXFxcLlteXFxcXH1dKikqKVxcfS9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgIGZsYWdzIGZyb20gdGhlaXIgY29lcmNlZCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVGbGFncyA9IC9cXHcqJC87XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNCYWRIZXggPSAvXlstK10weFswLTlhLWZdKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgYmluYXJ5IHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbiAgdmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IG9jdGFsIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuICAvKiogVXNlZCB0byBtYXRjaCBMYXRpbiBVbmljb2RlIGxldHRlcnMgKGV4Y2x1ZGluZyBtYXRoZW1hdGljYWwgb3BlcmF0b3JzKS4gKi9cbiAgdmFyIHJlTGF0aW4gPSAvW1xceGMwLVxceGQ2XFx4ZDgtXFx4ZjZcXHhmOC1cXHhmZlxcdTAxMDAtXFx1MDE3Zl0vZztcblxuICAvKiogVXNlZCB0byBlbnN1cmUgY2FwdHVyaW5nIG9yZGVyIG9mIHRlbXBsYXRlIGRlbGltaXRlcnMuICovXG4gIHZhciByZU5vTWF0Y2ggPSAvKCReKS87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggdW5lc2NhcGVkIGNoYXJhY3RlcnMgaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xuICB2YXIgcmVVbmVzY2FwZWRTdHJpbmcgPSAvWydcXG5cXHJcXHUyMDI4XFx1MjAyOVxcXFxdL2c7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNoYXJhY3RlciBjbGFzc2VzLiAqL1xuICB2YXIgcnNBc3RyYWxSYW5nZSA9ICdcXFxcdWQ4MDAtXFxcXHVkZmZmJyxcbiAgICAgIHJzQ29tYm9NYXJrc1JhbmdlID0gJ1xcXFx1MDMwMC1cXFxcdTAzNmYnLFxuICAgICAgcmVDb21ib0hhbGZNYXJrc1JhbmdlID0gJ1xcXFx1ZmUyMC1cXFxcdWZlMmYnLFxuICAgICAgcnNDb21ib1N5bWJvbHNSYW5nZSA9ICdcXFxcdTIwZDAtXFxcXHUyMGZmJyxcbiAgICAgIHJzQ29tYm9SYW5nZSA9IHJzQ29tYm9NYXJrc1JhbmdlICsgcmVDb21ib0hhbGZNYXJrc1JhbmdlICsgcnNDb21ib1N5bWJvbHNSYW5nZSxcbiAgICAgIHJzRGluZ2JhdFJhbmdlID0gJ1xcXFx1MjcwMC1cXFxcdTI3YmYnLFxuICAgICAgcnNMb3dlclJhbmdlID0gJ2EtelxcXFx4ZGYtXFxcXHhmNlxcXFx4ZjgtXFxcXHhmZicsXG4gICAgICByc01hdGhPcFJhbmdlID0gJ1xcXFx4YWNcXFxceGIxXFxcXHhkN1xcXFx4ZjcnLFxuICAgICAgcnNOb25DaGFyUmFuZ2UgPSAnXFxcXHgwMC1cXFxceDJmXFxcXHgzYS1cXFxceDQwXFxcXHg1Yi1cXFxceDYwXFxcXHg3Yi1cXFxceGJmJyxcbiAgICAgIHJzUHVuY3R1YXRpb25SYW5nZSA9ICdcXFxcdTIwMDAtXFxcXHUyMDZmJyxcbiAgICAgIHJzU3BhY2VSYW5nZSA9ICcgXFxcXHRcXFxceDBiXFxcXGZcXFxceGEwXFxcXHVmZWZmXFxcXG5cXFxcclxcXFx1MjAyOFxcXFx1MjAyOVxcXFx1MTY4MFxcXFx1MTgwZVxcXFx1MjAwMFxcXFx1MjAwMVxcXFx1MjAwMlxcXFx1MjAwM1xcXFx1MjAwNFxcXFx1MjAwNVxcXFx1MjAwNlxcXFx1MjAwN1xcXFx1MjAwOFxcXFx1MjAwOVxcXFx1MjAwYVxcXFx1MjAyZlxcXFx1MjA1ZlxcXFx1MzAwMCcsXG4gICAgICByc1VwcGVyUmFuZ2UgPSAnQS1aXFxcXHhjMC1cXFxceGQ2XFxcXHhkOC1cXFxceGRlJyxcbiAgICAgIHJzVmFyUmFuZ2UgPSAnXFxcXHVmZTBlXFxcXHVmZTBmJyxcbiAgICAgIHJzQnJlYWtSYW5nZSA9IHJzTWF0aE9wUmFuZ2UgKyByc05vbkNoYXJSYW5nZSArIHJzUHVuY3R1YXRpb25SYW5nZSArIHJzU3BhY2VSYW5nZTtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgY2FwdHVyZSBncm91cHMuICovXG4gIHZhciByc0Fwb3MgPSBcIlsnXFx1MjAxOV1cIixcbiAgICAgIHJzQXN0cmFsID0gJ1snICsgcnNBc3RyYWxSYW5nZSArICddJyxcbiAgICAgIHJzQnJlYWsgPSAnWycgKyByc0JyZWFrUmFuZ2UgKyAnXScsXG4gICAgICByc0NvbWJvID0gJ1snICsgcnNDb21ib1JhbmdlICsgJ10nLFxuICAgICAgcnNEaWdpdHMgPSAnXFxcXGQrJyxcbiAgICAgIHJzRGluZ2JhdCA9ICdbJyArIHJzRGluZ2JhdFJhbmdlICsgJ10nLFxuICAgICAgcnNMb3dlciA9ICdbJyArIHJzTG93ZXJSYW5nZSArICddJyxcbiAgICAgIHJzTWlzYyA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgcnNCcmVha1JhbmdlICsgcnNEaWdpdHMgKyByc0RpbmdiYXRSYW5nZSArIHJzTG93ZXJSYW5nZSArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICAgIHJzRml0eiA9ICdcXFxcdWQ4M2NbXFxcXHVkZmZiLVxcXFx1ZGZmZl0nLFxuICAgICAgcnNNb2RpZmllciA9ICcoPzonICsgcnNDb21ibyArICd8JyArIHJzRml0eiArICcpJyxcbiAgICAgIHJzTm9uQXN0cmFsID0gJ1teJyArIHJzQXN0cmFsUmFuZ2UgKyAnXScsXG4gICAgICByc1JlZ2lvbmFsID0gJyg/OlxcXFx1ZDgzY1tcXFxcdWRkZTYtXFxcXHVkZGZmXSl7Mn0nLFxuICAgICAgcnNTdXJyUGFpciA9ICdbXFxcXHVkODAwLVxcXFx1ZGJmZl1bXFxcXHVkYzAwLVxcXFx1ZGZmZl0nLFxuICAgICAgcnNVcHBlciA9ICdbJyArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICAgIHJzWldKID0gJ1xcXFx1MjAwZCc7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIHJlZ2V4ZXMuICovXG4gIHZhciByc01pc2NMb3dlciA9ICcoPzonICsgcnNMb3dlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICAgIHJzTWlzY1VwcGVyID0gJyg/OicgKyByc1VwcGVyICsgJ3wnICsgcnNNaXNjICsgJyknLFxuICAgICAgcnNPcHRDb250ckxvd2VyID0gJyg/OicgKyByc0Fwb3MgKyAnKD86ZHxsbHxtfHJlfHN8dHx2ZSkpPycsXG4gICAgICByc09wdENvbnRyVXBwZXIgPSAnKD86JyArIHJzQXBvcyArICcoPzpEfExMfE18UkV8U3xUfFZFKSk/JyxcbiAgICAgIHJlT3B0TW9kID0gcnNNb2RpZmllciArICc/JyxcbiAgICAgIHJzT3B0VmFyID0gJ1snICsgcnNWYXJSYW5nZSArICddPycsXG4gICAgICByc09wdEpvaW4gPSAnKD86JyArIHJzWldKICsgJyg/OicgKyBbcnNOb25Bc3RyYWwsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzT3B0VmFyICsgcmVPcHRNb2QgKyAnKSonLFxuICAgICAgcnNPcmRMb3dlciA9ICdcXFxcZCooPzoxc3R8Mm5kfDNyZHwoPyFbMTIzXSlcXFxcZHRoKSg/PVxcXFxifFtBLVpfXSknLFxuICAgICAgcnNPcmRVcHBlciA9ICdcXFxcZCooPzoxU1R8Mk5EfDNSRHwoPyFbMTIzXSlcXFxcZFRIKSg/PVxcXFxifFthLXpfXSknLFxuICAgICAgcnNTZXEgPSByc09wdFZhciArIHJlT3B0TW9kICsgcnNPcHRKb2luLFxuICAgICAgcnNFbW9qaSA9ICcoPzonICsgW3JzRGluZ2JhdCwgcnNSZWdpb25hbCwgcnNTdXJyUGFpcl0uam9pbignfCcpICsgJyknICsgcnNTZXEsXG4gICAgICByc1N5bWJvbCA9ICcoPzonICsgW3JzTm9uQXN0cmFsICsgcnNDb21ibyArICc/JywgcnNDb21ibywgcnNSZWdpb25hbCwgcnNTdXJyUGFpciwgcnNBc3RyYWxdLmpvaW4oJ3wnKSArICcpJztcblxuICAvKiogVXNlZCB0byBtYXRjaCBhcG9zdHJvcGhlcy4gKi9cbiAgdmFyIHJlQXBvcyA9IFJlZ0V4cChyc0Fwb3MsICdnJyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2ggW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKSBhbmRcbiAgICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrcyBmb3Igc3ltYm9sc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzX2Zvcl9TeW1ib2xzKS5cbiAgICovXG4gIHZhciByZUNvbWJvTWFyayA9IFJlZ0V4cChyc0NvbWJvLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIFtzdHJpbmcgc3ltYm9sc10oaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtdW5pY29kZSkuICovXG4gIHZhciByZVVuaWNvZGUgPSBSZWdFeHAocnNGaXR6ICsgJyg/PScgKyByc0ZpdHogKyAnKXwnICsgcnNTeW1ib2wgKyByc1NlcSwgJ2cnKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBjb21wbGV4IG9yIGNvbXBvdW5kIHdvcmRzLiAqL1xuICB2YXIgcmVVbmljb2RlV29yZCA9IFJlZ0V4cChbXG4gICAgcnNVcHBlciArICc/JyArIHJzTG93ZXIgKyAnKycgKyByc09wdENvbnRyTG93ZXIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyLCAnJCddLmpvaW4oJ3wnKSArICcpJyxcbiAgICByc01pc2NVcHBlciArICcrJyArIHJzT3B0Q29udHJVcHBlciArICcoPz0nICsgW3JzQnJlYWssIHJzVXBwZXIgKyByc01pc2NMb3dlciwgJyQnXS5qb2luKCd8JykgKyAnKScsXG4gICAgcnNVcHBlciArICc/JyArIHJzTWlzY0xvd2VyICsgJysnICsgcnNPcHRDb250ckxvd2VyLFxuICAgIHJzVXBwZXIgKyAnKycgKyByc09wdENvbnRyVXBwZXIsXG4gICAgcnNPcmRVcHBlcixcbiAgICByc09yZExvd2VyLFxuICAgIHJzRGlnaXRzLFxuICAgIHJzRW1vamlcbiAgXS5qb2luKCd8JyksICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IHN0cmluZ3Mgd2l0aCBbemVyby13aWR0aCBqb2luZXJzIG9yIGNvZGUgcG9pbnRzIGZyb20gdGhlIGFzdHJhbCBwbGFuZXNdKGh0dHA6Ly9lZXYuZWUvYmxvZy8yMDE1LzA5LzEyL2RhcmstY29ybmVycy1vZi11bmljb2RlLykuICovXG4gIHZhciByZUhhc1VuaWNvZGUgPSBSZWdFeHAoJ1snICsgcnNaV0ogKyByc0FzdHJhbFJhbmdlICArIHJzQ29tYm9SYW5nZSArIHJzVmFyUmFuZ2UgKyAnXScpO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBzdHJpbmdzIHRoYXQgbmVlZCBhIG1vcmUgcm9idXN0IHJlZ2V4cCB0byBtYXRjaCB3b3Jkcy4gKi9cbiAgdmFyIHJlSGFzVW5pY29kZVdvcmQgPSAvW2Etel1bQS1aXXxbQS1aXXsyLH1bYS16XXxbMC05XVthLXpBLVpdfFthLXpBLVpdWzAtOV18W15hLXpBLVowLTkgXS87XG5cbiAgLyoqIFVzZWQgdG8gYXNzaWduIGRlZmF1bHQgYGNvbnRleHRgIG9iamVjdCBwcm9wZXJ0aWVzLiAqL1xuICB2YXIgY29udGV4dFByb3BzID0gW1xuICAgICdBcnJheScsICdCdWZmZXInLCAnRGF0YVZpZXcnLCAnRGF0ZScsICdFcnJvcicsICdGbG9hdDMyQXJyYXknLCAnRmxvYXQ2NEFycmF5JyxcbiAgICAnRnVuY3Rpb24nLCAnSW50OEFycmF5JywgJ0ludDE2QXJyYXknLCAnSW50MzJBcnJheScsICdNYXAnLCAnTWF0aCcsICdPYmplY3QnLFxuICAgICdQcm9taXNlJywgJ1JlZ0V4cCcsICdTZXQnLCAnU3RyaW5nJywgJ1N5bWJvbCcsICdUeXBlRXJyb3InLCAnVWludDhBcnJheScsXG4gICAgJ1VpbnQ4Q2xhbXBlZEFycmF5JywgJ1VpbnQxNkFycmF5JywgJ1VpbnQzMkFycmF5JywgJ1dlYWtNYXAnLFxuICAgICdfJywgJ2NsZWFyVGltZW91dCcsICdpc0Zpbml0ZScsICdwYXJzZUludCcsICdzZXRUaW1lb3V0J1xuICBdO1xuXG4gIC8qKiBVc2VkIHRvIG1ha2UgdGVtcGxhdGUgc291cmNlVVJMcyBlYXNpZXIgdG8gaWRlbnRpZnkuICovXG4gIHZhciB0ZW1wbGF0ZUNvdW50ZXIgPSAtMTtcblxuICAvKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBvZiB0eXBlZCBhcnJheXMuICovXG4gIHZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xuICB0eXBlZEFycmF5VGFnc1tmbG9hdDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Zsb2F0NjRUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbaW50OFRhZ10gPSB0eXBlZEFycmF5VGFnc1tpbnQxNlRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1t1aW50OENsYW1wZWRUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDE2VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xuICB0eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2FycmF5QnVmZmVyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbZGF0YVZpZXdUYWddID0gdHlwZWRBcnJheVRhZ3NbZGF0ZVRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW21hcFRhZ10gPSB0eXBlZEFycmF5VGFnc1tudW1iZXJUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbb2JqZWN0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3JlZ2V4cFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbiAgLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgc3VwcG9ydGVkIGJ5IGBfLmNsb25lYC4gKi9cbiAgdmFyIGNsb25lYWJsZVRhZ3MgPSB7fTtcbiAgY2xvbmVhYmxlVGFnc1thcmdzVGFnXSA9IGNsb25lYWJsZVRhZ3NbYXJyYXlUYWddID1cbiAgY2xvbmVhYmxlVGFnc1thcnJheUJ1ZmZlclRhZ10gPSBjbG9uZWFibGVUYWdzW2RhdGFWaWV3VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbYm9vbFRhZ10gPSBjbG9uZWFibGVUYWdzW2RhdGVUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tmbG9hdDMyVGFnXSA9IGNsb25lYWJsZVRhZ3NbZmxvYXQ2NFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2ludDhUYWddID0gY2xvbmVhYmxlVGFnc1tpbnQxNlRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2ludDMyVGFnXSA9IGNsb25lYWJsZVRhZ3NbbWFwVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbbnVtYmVyVGFnXSA9IGNsb25lYWJsZVRhZ3Nbb2JqZWN0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbcmVnZXhwVGFnXSA9IGNsb25lYWJsZVRhZ3Nbc2V0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3Nbc3RyaW5nVGFnXSA9IGNsb25lYWJsZVRhZ3Nbc3ltYm9sVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbdWludDhUYWddID0gY2xvbmVhYmxlVGFnc1t1aW50OENsYW1wZWRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t1aW50MTZUYWddID0gY2xvbmVhYmxlVGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbiAgY2xvbmVhYmxlVGFnc1tlcnJvclRhZ10gPSBjbG9uZWFibGVUYWdzW2Z1bmNUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBMYXRpbiBVbmljb2RlIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycy4gKi9cbiAgdmFyIGRlYnVycmVkTGV0dGVycyA9IHtcbiAgICAvLyBMYXRpbi0xIFN1cHBsZW1lbnQgYmxvY2suXG4gICAgJ1xceGMwJzogJ0EnLCAgJ1xceGMxJzogJ0EnLCAnXFx4YzInOiAnQScsICdcXHhjMyc6ICdBJywgJ1xceGM0JzogJ0EnLCAnXFx4YzUnOiAnQScsXG4gICAgJ1xceGUwJzogJ2EnLCAgJ1xceGUxJzogJ2EnLCAnXFx4ZTInOiAnYScsICdcXHhlMyc6ICdhJywgJ1xceGU0JzogJ2EnLCAnXFx4ZTUnOiAnYScsXG4gICAgJ1xceGM3JzogJ0MnLCAgJ1xceGU3JzogJ2MnLFxuICAgICdcXHhkMCc6ICdEJywgICdcXHhmMCc6ICdkJyxcbiAgICAnXFx4YzgnOiAnRScsICAnXFx4YzknOiAnRScsICdcXHhjYSc6ICdFJywgJ1xceGNiJzogJ0UnLFxuICAgICdcXHhlOCc6ICdlJywgICdcXHhlOSc6ICdlJywgJ1xceGVhJzogJ2UnLCAnXFx4ZWInOiAnZScsXG4gICAgJ1xceGNjJzogJ0knLCAgJ1xceGNkJzogJ0knLCAnXFx4Y2UnOiAnSScsICdcXHhjZic6ICdJJyxcbiAgICAnXFx4ZWMnOiAnaScsICAnXFx4ZWQnOiAnaScsICdcXHhlZSc6ICdpJywgJ1xceGVmJzogJ2knLFxuICAgICdcXHhkMSc6ICdOJywgICdcXHhmMSc6ICduJyxcbiAgICAnXFx4ZDInOiAnTycsICAnXFx4ZDMnOiAnTycsICdcXHhkNCc6ICdPJywgJ1xceGQ1JzogJ08nLCAnXFx4ZDYnOiAnTycsICdcXHhkOCc6ICdPJyxcbiAgICAnXFx4ZjInOiAnbycsICAnXFx4ZjMnOiAnbycsICdcXHhmNCc6ICdvJywgJ1xceGY1JzogJ28nLCAnXFx4ZjYnOiAnbycsICdcXHhmOCc6ICdvJyxcbiAgICAnXFx4ZDknOiAnVScsICAnXFx4ZGEnOiAnVScsICdcXHhkYic6ICdVJywgJ1xceGRjJzogJ1UnLFxuICAgICdcXHhmOSc6ICd1JywgICdcXHhmYSc6ICd1JywgJ1xceGZiJzogJ3UnLCAnXFx4ZmMnOiAndScsXG4gICAgJ1xceGRkJzogJ1knLCAgJ1xceGZkJzogJ3knLCAnXFx4ZmYnOiAneScsXG4gICAgJ1xceGM2JzogJ0FlJywgJ1xceGU2JzogJ2FlJyxcbiAgICAnXFx4ZGUnOiAnVGgnLCAnXFx4ZmUnOiAndGgnLFxuICAgICdcXHhkZic6ICdzcycsXG4gICAgLy8gTGF0aW4gRXh0ZW5kZWQtQSBibG9jay5cbiAgICAnXFx1MDEwMCc6ICdBJywgICdcXHUwMTAyJzogJ0EnLCAnXFx1MDEwNCc6ICdBJyxcbiAgICAnXFx1MDEwMSc6ICdhJywgICdcXHUwMTAzJzogJ2EnLCAnXFx1MDEwNSc6ICdhJyxcbiAgICAnXFx1MDEwNic6ICdDJywgICdcXHUwMTA4JzogJ0MnLCAnXFx1MDEwYSc6ICdDJywgJ1xcdTAxMGMnOiAnQycsXG4gICAgJ1xcdTAxMDcnOiAnYycsICAnXFx1MDEwOSc6ICdjJywgJ1xcdTAxMGInOiAnYycsICdcXHUwMTBkJzogJ2MnLFxuICAgICdcXHUwMTBlJzogJ0QnLCAgJ1xcdTAxMTAnOiAnRCcsICdcXHUwMTBmJzogJ2QnLCAnXFx1MDExMSc6ICdkJyxcbiAgICAnXFx1MDExMic6ICdFJywgICdcXHUwMTE0JzogJ0UnLCAnXFx1MDExNic6ICdFJywgJ1xcdTAxMTgnOiAnRScsICdcXHUwMTFhJzogJ0UnLFxuICAgICdcXHUwMTEzJzogJ2UnLCAgJ1xcdTAxMTUnOiAnZScsICdcXHUwMTE3JzogJ2UnLCAnXFx1MDExOSc6ICdlJywgJ1xcdTAxMWInOiAnZScsXG4gICAgJ1xcdTAxMWMnOiAnRycsICAnXFx1MDExZSc6ICdHJywgJ1xcdTAxMjAnOiAnRycsICdcXHUwMTIyJzogJ0cnLFxuICAgICdcXHUwMTFkJzogJ2cnLCAgJ1xcdTAxMWYnOiAnZycsICdcXHUwMTIxJzogJ2cnLCAnXFx1MDEyMyc6ICdnJyxcbiAgICAnXFx1MDEyNCc6ICdIJywgICdcXHUwMTI2JzogJ0gnLCAnXFx1MDEyNSc6ICdoJywgJ1xcdTAxMjcnOiAnaCcsXG4gICAgJ1xcdTAxMjgnOiAnSScsICAnXFx1MDEyYSc6ICdJJywgJ1xcdTAxMmMnOiAnSScsICdcXHUwMTJlJzogJ0knLCAnXFx1MDEzMCc6ICdJJyxcbiAgICAnXFx1MDEyOSc6ICdpJywgICdcXHUwMTJiJzogJ2knLCAnXFx1MDEyZCc6ICdpJywgJ1xcdTAxMmYnOiAnaScsICdcXHUwMTMxJzogJ2knLFxuICAgICdcXHUwMTM0JzogJ0onLCAgJ1xcdTAxMzUnOiAnaicsXG4gICAgJ1xcdTAxMzYnOiAnSycsICAnXFx1MDEzNyc6ICdrJywgJ1xcdTAxMzgnOiAnaycsXG4gICAgJ1xcdTAxMzknOiAnTCcsICAnXFx1MDEzYic6ICdMJywgJ1xcdTAxM2QnOiAnTCcsICdcXHUwMTNmJzogJ0wnLCAnXFx1MDE0MSc6ICdMJyxcbiAgICAnXFx1MDEzYSc6ICdsJywgICdcXHUwMTNjJzogJ2wnLCAnXFx1MDEzZSc6ICdsJywgJ1xcdTAxNDAnOiAnbCcsICdcXHUwMTQyJzogJ2wnLFxuICAgICdcXHUwMTQzJzogJ04nLCAgJ1xcdTAxNDUnOiAnTicsICdcXHUwMTQ3JzogJ04nLCAnXFx1MDE0YSc6ICdOJyxcbiAgICAnXFx1MDE0NCc6ICduJywgICdcXHUwMTQ2JzogJ24nLCAnXFx1MDE0OCc6ICduJywgJ1xcdTAxNGInOiAnbicsXG4gICAgJ1xcdTAxNGMnOiAnTycsICAnXFx1MDE0ZSc6ICdPJywgJ1xcdTAxNTAnOiAnTycsXG4gICAgJ1xcdTAxNGQnOiAnbycsICAnXFx1MDE0Zic6ICdvJywgJ1xcdTAxNTEnOiAnbycsXG4gICAgJ1xcdTAxNTQnOiAnUicsICAnXFx1MDE1Nic6ICdSJywgJ1xcdTAxNTgnOiAnUicsXG4gICAgJ1xcdTAxNTUnOiAncicsICAnXFx1MDE1Nyc6ICdyJywgJ1xcdTAxNTknOiAncicsXG4gICAgJ1xcdTAxNWEnOiAnUycsICAnXFx1MDE1Yyc6ICdTJywgJ1xcdTAxNWUnOiAnUycsICdcXHUwMTYwJzogJ1MnLFxuICAgICdcXHUwMTViJzogJ3MnLCAgJ1xcdTAxNWQnOiAncycsICdcXHUwMTVmJzogJ3MnLCAnXFx1MDE2MSc6ICdzJyxcbiAgICAnXFx1MDE2Mic6ICdUJywgICdcXHUwMTY0JzogJ1QnLCAnXFx1MDE2Nic6ICdUJyxcbiAgICAnXFx1MDE2Myc6ICd0JywgICdcXHUwMTY1JzogJ3QnLCAnXFx1MDE2Nyc6ICd0JyxcbiAgICAnXFx1MDE2OCc6ICdVJywgICdcXHUwMTZhJzogJ1UnLCAnXFx1MDE2Yyc6ICdVJywgJ1xcdTAxNmUnOiAnVScsICdcXHUwMTcwJzogJ1UnLCAnXFx1MDE3Mic6ICdVJyxcbiAgICAnXFx1MDE2OSc6ICd1JywgICdcXHUwMTZiJzogJ3UnLCAnXFx1MDE2ZCc6ICd1JywgJ1xcdTAxNmYnOiAndScsICdcXHUwMTcxJzogJ3UnLCAnXFx1MDE3Myc6ICd1JyxcbiAgICAnXFx1MDE3NCc6ICdXJywgICdcXHUwMTc1JzogJ3cnLFxuICAgICdcXHUwMTc2JzogJ1knLCAgJ1xcdTAxNzcnOiAneScsICdcXHUwMTc4JzogJ1knLFxuICAgICdcXHUwMTc5JzogJ1onLCAgJ1xcdTAxN2InOiAnWicsICdcXHUwMTdkJzogJ1onLFxuICAgICdcXHUwMTdhJzogJ3onLCAgJ1xcdTAxN2MnOiAneicsICdcXHUwMTdlJzogJ3onLFxuICAgICdcXHUwMTMyJzogJ0lKJywgJ1xcdTAxMzMnOiAnaWonLFxuICAgICdcXHUwMTUyJzogJ09lJywgJ1xcdTAxNTMnOiAnb2UnLFxuICAgICdcXHUwMTQ5JzogXCInblwiLCAnXFx1MDE3Zic6ICdzJ1xuICB9O1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuICovXG4gIHZhciBodG1sRXNjYXBlcyA9IHtcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0OycsXG4gICAgJ1wiJzogJyZxdW90OycsXG4gICAgXCInXCI6ICcmIzM5OydcbiAgfTtcblxuICAvKiogVXNlZCB0byBtYXAgSFRNTCBlbnRpdGllcyB0byBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgaHRtbFVuZXNjYXBlcyA9IHtcbiAgICAnJmFtcDsnOiAnJicsXG4gICAgJyZsdDsnOiAnPCcsXG4gICAgJyZndDsnOiAnPicsXG4gICAgJyZxdW90Oyc6ICdcIicsXG4gICAgJyYjMzk7JzogXCInXCJcbiAgfTtcblxuICAvKiogVXNlZCB0byBlc2NhcGUgY2hhcmFjdGVycyBmb3IgaW5jbHVzaW9uIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy4gKi9cbiAgdmFyIHN0cmluZ0VzY2FwZXMgPSB7XG4gICAgJ1xcXFwnOiAnXFxcXCcsXG4gICAgXCInXCI6IFwiJ1wiLFxuICAgICdcXG4nOiAnbicsXG4gICAgJ1xccic6ICdyJyxcbiAgICAnXFx1MjAyOCc6ICd1MjAyOCcsXG4gICAgJ1xcdTIwMjknOiAndTIwMjknXG4gIH07XG5cbiAgLyoqIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHdpdGhvdXQgYSBkZXBlbmRlbmN5IG9uIGByb290YC4gKi9cbiAgdmFyIGZyZWVQYXJzZUZsb2F0ID0gcGFyc2VGbG9hdCxcbiAgICAgIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG4gIHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xuICB2YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuICAvKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbiAgdmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbiAgdmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbiAgdmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuICAvKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqL1xuICB2YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbiAgdmFyIGZyZWVQcm9jZXNzID0gbW9kdWxlRXhwb3J0cyAmJiBmcmVlR2xvYmFsLnByb2Nlc3M7XG5cbiAgLyoqIFVzZWQgdG8gYWNjZXNzIGZhc3RlciBOb2RlLmpzIGhlbHBlcnMuICovXG4gIHZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgLy8gVXNlIGB1dGlsLnR5cGVzYCBmb3IgTm9kZS5qcyAxMCsuXG4gICAgICB2YXIgdHlwZXMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUucmVxdWlyZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUoJ3V0aWwnKS50eXBlcztcblxuICAgICAgaWYgKHR5cGVzKSB7XG4gICAgICAgIHJldHVybiB0eXBlcztcbiAgICAgIH1cblxuICAgICAgLy8gTGVnYWN5IGBwcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKWAgZm9yIE5vZGUuanMgPCAxMC5cbiAgICAgIHJldHVybiBmcmVlUHJvY2VzcyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9KCkpO1xuXG4gIC8qIE5vZGUuanMgaGVscGVyIHJlZmVyZW5jZXMuICovXG4gIHZhciBub2RlSXNBcnJheUJ1ZmZlciA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzQXJyYXlCdWZmZXIsXG4gICAgICBub2RlSXNEYXRlID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNEYXRlLFxuICAgICAgbm9kZUlzTWFwID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNNYXAsXG4gICAgICBub2RlSXNSZWdFeHAgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1JlZ0V4cCxcbiAgICAgIG5vZGVJc1NldCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzU2V0LFxuICAgICAgbm9kZUlzVHlwZWRBcnJheSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzVHlwZWRBcnJheTtcblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogQSBmYXN0ZXIgYWx0ZXJuYXRpdmUgdG8gYEZ1bmN0aW9uI2FwcGx5YCwgdGhpcyBmdW5jdGlvbiBpbnZva2VzIGBmdW5jYFxuICAgKiB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgdGhpc0FyZ2AgYW5kIHRoZSBhcmd1bWVudHMgb2YgYGFyZ3NgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGBmdW5jYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFwcGx5KGZ1bmMsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZyk7XG4gICAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSk7XG4gICAgICBjYXNlIDI6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICBjYXNlIDM6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUFnZ3JlZ2F0b3JgIGZvciBhcnJheXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGFnZ3JlZ2F0ZWQgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5QWdncmVnYXRvcihhcnJheSwgc2V0dGVyLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgc2V0dGVyKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaXRlcmF0ZWUodmFsdWUpLCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZm9yRWFjaGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUVhY2goYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZvckVhY2hSaWdodGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUVhY2hSaWdodChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVtsZW5ndGhdLCBsZW5ndGgsIGFycmF5KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZXZlcnlgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICogIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RXZlcnkoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoIXByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZmlsdGVyYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUZpbHRlcihhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmluY2x1ZGVzYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogc3BlY2lmeWluZyBhbiBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB0YXJnZXQgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdGFyZ2V0YCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlJbmNsdWRlcyhhcnJheSwgdmFsdWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgcmV0dXJuICEhbGVuZ3RoICYmIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgMCkgPiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFycmF5SW5jbHVkZXNgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYSBjb21wYXJhdG9yLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHRhcmdldCBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHRhcmdldGAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5SW5jbHVkZXNXaXRoKGFycmF5LCB2YWx1ZSwgY29tcGFyYXRvcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoY29tcGFyYXRvcih2YWx1ZSwgYXJyYXlbaW5kZXhdKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tYXBgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgKiBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5TWFwKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgdGhlIGVsZW1lbnRzIG9mIGB2YWx1ZXNgIHRvIGBhcnJheWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGFwcGVuZC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVB1c2goYXJyYXksIHZhbHVlcykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICBvZmZzZXQgPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgaW5kZXhdID0gdmFsdWVzW2luZGV4XTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5yZWR1Y2VgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbaW5pdEFjY3VtXSBTcGVjaWZ5IHVzaW5nIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAgYXNcbiAgICogIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVJlZHVjZShhcnJheSwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0pIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICBpZiAoaW5pdEFjY3VtICYmIGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBhcnJheVsrK2luZGV4XTtcbiAgICB9XG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5yZWR1Y2VSaWdodGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbml0QWNjdW1dIFNwZWNpZnkgdXNpbmcgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgIGFzXG4gICAqICB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlSZWR1Y2VSaWdodChhcnJheSwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0pIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgaWYgKGluaXRBY2N1bSAmJiBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gYXJyYXlbLS1sZW5ndGhdO1xuICAgIH1cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2xlbmd0aF0sIGxlbmd0aCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNvbWVgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgKiBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAqICBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVNvbWUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHNpemUgb2YgYW4gQVNDSUkgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIHZhciBhc2NpaVNpemUgPSBiYXNlUHJvcGVydHkoJ2xlbmd0aCcpO1xuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhbiBBU0NJSSBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXNjaWlUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcuc3BsaXQoJycpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNwbGl0cyBhbiBBU0NJSSBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFzY2lpV29yZHMoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZUFzY2lpV29yZCkgfHwgW107XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmZpbmRLZXlgIGFuZCBgXy5maW5kTGFzdEtleWAsXG4gICAqIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgY29sbGVjdGlvbmBcbiAgICogdXNpbmcgYGVhY2hGdW5jYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYGNvbGxlY3Rpb25gLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZm91bmQgZWxlbWVudCBvciBpdHMga2V5LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUZpbmRLZXkoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBlYWNoRnVuYykge1xuICAgIHZhciByZXN1bHQ7XG4gICAgZWFjaEZ1bmMoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICByZXN1bHQgPSBrZXk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbmRJbmRleGAgYW5kIGBfLmZpbmRMYXN0SW5kZXhgIHdpdGhvdXRcbiAgICogc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlRmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCwgZnJvbVJpZ2h0KSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgaW5kZXggPSBmcm9tSW5kZXggKyAoZnJvbVJpZ2h0ID8gMSA6IC0xKTtcblxuICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpKSB7XG4gICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbmRleE9mYCB3aXRob3V0IGBmcm9tSW5kZXhgIGJvdW5kcyBjaGVja3MuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZVxuICAgICAgPyBzdHJpY3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KVxuICAgICAgOiBiYXNlRmluZEluZGV4KGFycmF5LCBiYXNlSXNOYU4sIGZyb21JbmRleCk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBiYXNlSW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhIGNvbXBhcmF0b3IuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUluZGV4T2ZXaXRoKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4LCBjb21wYXJhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gZnJvbUluZGV4IC0gMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChjb21wYXJhdG9yKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmFOYCB3aXRob3V0IHN1cHBvcnQgZm9yIG51bWJlciBvYmplY3RzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJc05hTih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWVhbmAgYW5kIGBfLm1lYW5CeWAgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZU1lYW4oYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgIHJldHVybiBsZW5ndGggPyAoYmFzZVN1bShhcnJheSwgaXRlcmF0ZWUpIC8gbGVuZ3RoKSA6IE5BTjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eWAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUHJvcGVydHkoa2V5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eU9mYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUHJvcGVydHlPZihvYmplY3QpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlZHVjZWAgYW5kIGBfLnJlZHVjZVJpZ2h0YCwgd2l0aG91dCBzdXBwb3J0XG4gICAqIGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB3aGljaCBpdGVyYXRlcyBvdmVyIGBjb2xsZWN0aW9uYCB1c2luZyBgZWFjaEZ1bmNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5pdEFjY3VtIFNwZWNpZnkgdXNpbmcgdGhlIGZpcnN0IG9yIGxhc3QgZWxlbWVudCBvZlxuICAgKiAgYGNvbGxlY3Rpb25gIGFzIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGBjb2xsZWN0aW9uYC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVJlZHVjZShjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSwgZWFjaEZ1bmMpIHtcbiAgICBlYWNoRnVuYyhjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaW5pdEFjY3VtXG4gICAgICAgID8gKGluaXRBY2N1bSA9IGZhbHNlLCB2YWx1ZSlcbiAgICAgICAgOiBpdGVyYXRlZShhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydEJ5YCB3aGljaCB1c2VzIGBjb21wYXJlcmAgdG8gZGVmaW5lIHRoZVxuICAgKiBzb3J0IG9yZGVyIG9mIGBhcnJheWAgYW5kIHJlcGxhY2VzIGNyaXRlcmlhIG9iamVjdHMgd2l0aCB0aGVpciBjb3JyZXNwb25kaW5nXG4gICAqIHZhbHVlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNvcnQuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmVyIFRoZSBmdW5jdGlvbiB0byBkZWZpbmUgc29ydCBvcmRlci5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlU29ydEJ5KGFycmF5LCBjb21wYXJlcikge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICBhcnJheS5zb3J0KGNvbXBhcmVyKTtcbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGFycmF5W2xlbmd0aF0gPSBhcnJheVtsZW5ndGhdLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc3VtYCBhbmQgYF8uc3VtQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVN1bShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgcmVzdWx0LFxuICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIGN1cnJlbnQgPSBpdGVyYXRlZShhcnJheVtpbmRleF0pO1xuICAgICAgaWYgKGN1cnJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGN1cnJlbnQgOiAocmVzdWx0ICsgY3VycmVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICAgKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvUGFpcnNgIGFuZCBgXy50b1BhaXJzSW5gIHdoaWNoIGNyZWF0ZXMgYW4gYXJyYXlcbiAgICogb2Yga2V5LXZhbHVlIHBhaXJzIGZvciBgb2JqZWN0YCBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9wZXJ0eSBuYW1lcyBvZiBgcHJvcHNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBnZXQgdmFsdWVzIGZvci5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRvUGFpcnMob2JqZWN0LCBwcm9wcykge1xuICAgIHJldHVybiBhcnJheU1hcChwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gW2tleSwgb2JqZWN0W2tleV1dO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuYXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIHN0b3JpbmcgbWV0YWRhdGEuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVW5hcnkoZnVuYykge1xuICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udmFsdWVzYCBhbmQgYF8udmFsdWVzSW5gIHdoaWNoIGNyZWF0ZXMgYW5cbiAgICogYXJyYXkgb2YgYG9iamVjdGAgcHJvcGVydHkgdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb3BlcnR5IG5hbWVzXG4gICAqIG9mIGBwcm9wc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGdldCB2YWx1ZXMgZm9yLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVmFsdWVzKG9iamVjdCwgcHJvcHMpIHtcbiAgICByZXR1cm4gYXJyYXlNYXAocHJvcHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdFtrZXldO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIGBjYWNoZWAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGNhY2hlIFRoZSBjYWNoZSB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGNhY2hlSGFzKGNhY2hlLCBrZXkpIHtcbiAgICByZXR1cm4gY2FjaGUuaGFzKGtleSk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbVN0YXJ0YCB0byBnZXQgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBzdHJpbmcgc3ltYm9sXG4gICAqIHRoYXQgaXMgbm90IGZvdW5kIGluIHRoZSBjaGFyYWN0ZXIgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gc3RyU3ltYm9scyBUaGUgc3RyaW5nIHN5bWJvbHMgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtBcnJheX0gY2hyU3ltYm9scyBUaGUgY2hhcmFjdGVyIHN5bWJvbHMgdG8gZmluZC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IHVubWF0Y2hlZCBzdHJpbmcgc3ltYm9sLlxuICAgKi9cbiAgZnVuY3Rpb24gY2hhcnNTdGFydEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gc3RyU3ltYm9scy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCAmJiBiYXNlSW5kZXhPZihjaHJTeW1ib2xzLCBzdHJTeW1ib2xzW2luZGV4XSwgMCkgPiAtMSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbUVuZGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzdHJpbmcgc3ltYm9sXG4gICAqIHRoYXQgaXMgbm90IGZvdW5kIGluIHRoZSBjaGFyYWN0ZXIgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gc3RyU3ltYm9scyBUaGUgc3RyaW5nIHN5bWJvbHMgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtBcnJheX0gY2hyU3ltYm9scyBUaGUgY2hhcmFjdGVyIHN5bWJvbHMgdG8gZmluZC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGxhc3QgdW5tYXRjaGVkIHN0cmluZyBzeW1ib2wuXG4gICAqL1xuICBmdW5jdGlvbiBjaGFyc0VuZEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpIHtcbiAgICB2YXIgaW5kZXggPSBzdHJTeW1ib2xzLmxlbmd0aDtcblxuICAgIHdoaWxlIChpbmRleC0tICYmIGJhc2VJbmRleE9mKGNoclN5bWJvbHMsIHN0clN5bWJvbHNbaW5kZXhdLCAwKSA+IC0xKSB7fVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBudW1iZXIgb2YgYHBsYWNlaG9sZGVyYCBvY2N1cnJlbmNlcyBpbiBgYXJyYXlgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdG8gc2VhcmNoIGZvci5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcGxhY2Vob2xkZXIgY291bnQuXG4gICAqL1xuICBmdW5jdGlvbiBjb3VudEhvbGRlcnMoYXJyYXksIHBsYWNlaG9sZGVyKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzdWx0ID0gMDtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgaWYgKGFycmF5W2xlbmd0aF0gPT09IHBsYWNlaG9sZGVyKSB7XG4gICAgICAgICsrcmVzdWx0O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8uZGVidXJyYCB0byBjb252ZXJ0IExhdGluLTEgU3VwcGxlbWVudCBhbmQgTGF0aW4gRXh0ZW5kZWQtQVxuICAgKiBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsZXR0ZXIgVGhlIG1hdGNoZWQgbGV0dGVyIHRvIGRlYnVyci5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGVidXJyZWQgbGV0dGVyLlxuICAgKi9cbiAgdmFyIGRlYnVyckxldHRlciA9IGJhc2VQcm9wZXJ0eU9mKGRlYnVycmVkTGV0dGVycyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8uZXNjYXBlYCB0byBjb252ZXJ0IGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAgICovXG4gIHZhciBlc2NhcGVIdG1sQ2hhciA9IGJhc2VQcm9wZXJ0eU9mKGh0bWxFc2NhcGVzKTtcblxuICAvKipcbiAgICogVXNlZCBieSBgXy50ZW1wbGF0ZWAgdG8gZXNjYXBlIGNoYXJhY3RlcnMgZm9yIGluY2x1c2lvbiBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICBmdW5jdGlvbiBlc2NhcGVTdHJpbmdDaGFyKGNocikge1xuICAgIHJldHVybiAnXFxcXCcgKyBzdHJpbmdFc2NhcGVzW2Nocl07XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgVW5pY29kZSBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGEgc3ltYm9sIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBoYXNVbmljb2RlKHN0cmluZykge1xuICAgIHJldHVybiByZUhhc1VuaWNvZGUudGVzdChzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgc3RyaW5nYCBjb250YWlucyBhIHdvcmQgY29tcG9zZWQgb2YgVW5pY29kZSBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGEgd29yZCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaGFzVW5pY29kZVdvcmQoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHJlSGFzVW5pY29kZVdvcmQudGVzdChzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBpdGVyYXRvcmAgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpdGVyYXRvciBUaGUgaXRlcmF0b3IgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBpdGVyYXRvclRvQXJyYXkoaXRlcmF0b3IpIHtcbiAgICB2YXIgZGF0YSxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoIShkYXRhID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICByZXN1bHQucHVzaChkYXRhLnZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgbWFwYCB0byBpdHMga2V5LXZhbHVlIHBhaXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBtYXBUb0FycmF5KG1hcCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShtYXAuc2l6ZSk7XG5cbiAgICBtYXAuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICByZXN1bHRbKytpbmRleF0gPSBba2V5LCB2YWx1ZV07XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBsYWNlcyBhbGwgYHBsYWNlaG9sZGVyYCBlbGVtZW50cyBpbiBgYXJyYXlgIHdpdGggYW4gaW50ZXJuYWwgcGxhY2Vob2xkZXJcbiAgICogYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlaXIgaW5kZXhlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdG8gcmVwbGFjZS5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICovXG4gIGZ1bmN0aW9uIHJlcGxhY2VIb2xkZXJzKGFycmF5LCBwbGFjZWhvbGRlcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgaWYgKHZhbHVlID09PSBwbGFjZWhvbGRlciB8fCB2YWx1ZSA9PT0gUExBQ0VIT0xERVIpIHtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gUExBQ0VIT0xERVI7XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgLCB1bmxlc3MgYGtleWAgaXMgXCJfX3Byb3RvX19cIi5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gc2FmZUdldChvYmplY3QsIGtleSkge1xuICAgIHJldHVybiBrZXkgPT0gJ19fcHJvdG9fXydcbiAgICAgID8gdW5kZWZpbmVkXG4gICAgICA6IG9iamVjdFtrZXldO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzZXRgIHRvIGFuIGFycmF5IG9mIGl0cyB2YWx1ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlcy5cbiAgICovXG4gIGZ1bmN0aW9uIHNldFRvQXJyYXkoc2V0KSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTtcblxuICAgIHNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXN1bHRbKytpbmRleF0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzZXRgIHRvIGl0cyB2YWx1ZS12YWx1ZSBwYWlycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgdmFsdWUtdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBzZXRUb1BhaXJzKHNldCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gW3ZhbHVlLCB2YWx1ZV07XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uaW5kZXhPZmAgd2hpY2ggcGVyZm9ybXMgc3RyaWN0IGVxdWFsaXR5XG4gICAqIGNvbXBhcmlzb25zIG9mIHZhbHVlcywgaS5lLiBgPT09YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaWN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCAtIDEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubGFzdEluZGV4T2ZgIHdoaWNoIHBlcmZvcm1zIHN0cmljdCBlcXVhbGl0eVxuICAgKiBjb21wYXJpc29ucyBvZiB2YWx1ZXMsIGkuZS4gYD09PWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmljdExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ICsgMTtcbiAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbnVtYmVyIG9mIHN5bWJvbHMgaW4gYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmluZ1NpemUoc3RyaW5nKSB7XG4gICAgcmV0dXJuIGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgICAgPyB1bmljb2RlU2l6ZShzdHJpbmcpXG4gICAgICA6IGFzY2lpU2l6ZShzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpbmdUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgID8gdW5pY29kZVRvQXJyYXkoc3RyaW5nKVxuICAgICAgOiBhc2NpaVRvQXJyYXkoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnVuZXNjYXBlYCB0byBjb252ZXJ0IEhUTUwgZW50aXRpZXMgdG8gY2hhcmFjdGVycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gdW5lc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICB2YXIgdW5lc2NhcGVIdG1sQ2hhciA9IGJhc2VQcm9wZXJ0eU9mKGh0bWxVbmVzY2FwZXMpO1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBzaXplIG9mIGEgVW5pY29kZSBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuICAgKi9cbiAgZnVuY3Rpb24gdW5pY29kZVNpemUoc3RyaW5nKSB7XG4gICAgdmFyIHJlc3VsdCA9IHJlVW5pY29kZS5sYXN0SW5kZXggPSAwO1xuICAgIHdoaWxlIChyZVVuaWNvZGUudGVzdChzdHJpbmcpKSB7XG4gICAgICArK3Jlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhIFVuaWNvZGUgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcubWF0Y2gocmVVbmljb2RlKSB8fCBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGxpdHMgYSBVbmljb2RlIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgKi9cbiAgZnVuY3Rpb24gdW5pY29kZVdvcmRzKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcubWF0Y2gocmVVbmljb2RlV29yZCkgfHwgW107XG4gIH1cblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHByaXN0aW5lIGBsb2Rhc2hgIGZ1bmN0aW9uIHVzaW5nIHRoZSBgY29udGV4dGAgb2JqZWN0LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBzaW5jZSAxLjEuMFxuICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHQ9cm9vdF0gVGhlIGNvbnRleHQgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYSBuZXcgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8ubWl4aW4oeyAnZm9vJzogXy5jb25zdGFudCgnZm9vJykgfSk7XG4gICAqXG4gICAqIHZhciBsb2Rhc2ggPSBfLnJ1bkluQ29udGV4dCgpO1xuICAgKiBsb2Rhc2gubWl4aW4oeyAnYmFyJzogbG9kYXNoLmNvbnN0YW50KCdiYXInKSB9KTtcbiAgICpcbiAgICogXy5pc0Z1bmN0aW9uKF8uZm9vKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKiBfLmlzRnVuY3Rpb24oXy5iYXIpO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKlxuICAgKiBsb2Rhc2guaXNGdW5jdGlvbihsb2Rhc2guZm9vKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICogbG9kYXNoLmlzRnVuY3Rpb24obG9kYXNoLmJhcik7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogLy8gQ3JlYXRlIGEgc3VwZWQtdXAgYGRlZmVyYCBpbiBOb2RlLmpzLlxuICAgKiB2YXIgZGVmZXIgPSBfLnJ1bkluQ29udGV4dCh7ICdzZXRUaW1lb3V0Jzogc2V0SW1tZWRpYXRlIH0pLmRlZmVyO1xuICAgKi9cbiAgdmFyIHJ1bkluQ29udGV4dCA9IChmdW5jdGlvbiBydW5JbkNvbnRleHQoY29udGV4dCkge1xuICAgIGNvbnRleHQgPSBjb250ZXh0ID09IG51bGwgPyByb290IDogXy5kZWZhdWx0cyhyb290Lk9iamVjdCgpLCBjb250ZXh0LCBfLnBpY2socm9vdCwgY29udGV4dFByb3BzKSk7XG5cbiAgICAvKiogQnVpbHQtaW4gY29uc3RydWN0b3IgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgQXJyYXkgPSBjb250ZXh0LkFycmF5LFxuICAgICAgICBEYXRlID0gY29udGV4dC5EYXRlLFxuICAgICAgICBFcnJvciA9IGNvbnRleHQuRXJyb3IsXG4gICAgICAgIEZ1bmN0aW9uID0gY29udGV4dC5GdW5jdGlvbixcbiAgICAgICAgTWF0aCA9IGNvbnRleHQuTWF0aCxcbiAgICAgICAgT2JqZWN0ID0gY29udGV4dC5PYmplY3QsXG4gICAgICAgIFJlZ0V4cCA9IGNvbnRleHQuUmVnRXhwLFxuICAgICAgICBTdHJpbmcgPSBjb250ZXh0LlN0cmluZyxcbiAgICAgICAgVHlwZUVycm9yID0gY29udGV4dC5UeXBlRXJyb3I7XG5cbiAgICAvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsXG4gICAgICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICAgICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xuICAgIHZhciBjb3JlSnNEYXRhID0gY29udGV4dFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbiAgICAvKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG4gICAgdmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuICAgIC8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xuICAgIHZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4gICAgLyoqIFVzZWQgdG8gZ2VuZXJhdGUgdW5pcXVlIElEcy4gKi9cbiAgICB2YXIgaWRDb3VudGVyID0gMDtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG4gICAgdmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICAgICAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xuICAgIH0oKSk7XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gICAgICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gICAgICogb2YgdmFsdWVzLlxuICAgICAqL1xuICAgIHZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4gICAgLyoqIFVzZWQgdG8gaW5mZXIgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yLiAqL1xuICAgIHZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuICAgIC8qKiBVc2VkIHRvIHJlc3RvcmUgdGhlIG9yaWdpbmFsIGBfYCByZWZlcmVuY2UgaW4gYF8ubm9Db25mbGljdGAuICovXG4gICAgdmFyIG9sZERhc2ggPSByb290Ll87XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xuICAgIHZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gICAgICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAgICAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4gICAgKTtcblxuICAgIC8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gY29udGV4dC5CdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgICAgIFN5bWJvbCA9IGNvbnRleHQuU3ltYm9sLFxuICAgICAgICBVaW50OEFycmF5ID0gY29udGV4dC5VaW50OEFycmF5LFxuICAgICAgICBhbGxvY1Vuc2FmZSA9IEJ1ZmZlciA/IEJ1ZmZlci5hbGxvY1Vuc2FmZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZ2V0UHJvdG90eXBlID0gb3ZlckFyZyhPYmplY3QuZ2V0UHJvdG90eXBlT2YsIE9iamVjdCksXG4gICAgICAgIG9iamVjdENyZWF0ZSA9IE9iamVjdC5jcmVhdGUsXG4gICAgICAgIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGUsXG4gICAgICAgIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlLFxuICAgICAgICBzcHJlYWRhYmxlU3ltYm9sID0gU3ltYm9sID8gU3ltYm9sLmlzQ29uY2F0U3ByZWFkYWJsZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltSXRlcmF0b3IgPSBTeW1ib2wgPyBTeW1ib2wuaXRlcmF0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4gICAgdmFyIGRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIGZ1bmMgPSBnZXROYXRpdmUoT2JqZWN0LCAnZGVmaW5lUHJvcGVydHknKTtcbiAgICAgICAgZnVuYyh7fSwgJycsIHt9KTtcbiAgICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH0oKSk7XG5cbiAgICAvKiogTW9ja2VkIGJ1aWx0LWlucy4gKi9cbiAgICB2YXIgY3R4Q2xlYXJUaW1lb3V0ID0gY29udGV4dC5jbGVhclRpbWVvdXQgIT09IHJvb3QuY2xlYXJUaW1lb3V0ICYmIGNvbnRleHQuY2xlYXJUaW1lb3V0LFxuICAgICAgICBjdHhOb3cgPSBEYXRlICYmIERhdGUubm93ICE9PSByb290LkRhdGUubm93ICYmIERhdGUubm93LFxuICAgICAgICBjdHhTZXRUaW1lb3V0ID0gY29udGV4dC5zZXRUaW1lb3V0ICE9PSByb290LnNldFRpbWVvdXQgJiYgY29udGV4dC5zZXRUaW1lb3V0O1xuXG4gICAgLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xuICAgIHZhciBuYXRpdmVDZWlsID0gTWF0aC5jZWlsLFxuICAgICAgICBuYXRpdmVGbG9vciA9IE1hdGguZmxvb3IsXG4gICAgICAgIG5hdGl2ZUdldFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFxuICAgICAgICBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICAgICAgbmF0aXZlSXNGaW5pdGUgPSBjb250ZXh0LmlzRmluaXRlLFxuICAgICAgICBuYXRpdmVKb2luID0gYXJyYXlQcm90by5qb2luLFxuICAgICAgICBuYXRpdmVLZXlzID0gb3ZlckFyZyhPYmplY3Qua2V5cywgT2JqZWN0KSxcbiAgICAgICAgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgICAgIG5hdGl2ZU1pbiA9IE1hdGgubWluLFxuICAgICAgICBuYXRpdmVOb3cgPSBEYXRlLm5vdyxcbiAgICAgICAgbmF0aXZlUGFyc2VJbnQgPSBjb250ZXh0LnBhcnNlSW50LFxuICAgICAgICBuYXRpdmVSYW5kb20gPSBNYXRoLnJhbmRvbSxcbiAgICAgICAgbmF0aXZlUmV2ZXJzZSA9IGFycmF5UHJvdG8ucmV2ZXJzZTtcblxuICAgIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbiAgICB2YXIgRGF0YVZpZXcgPSBnZXROYXRpdmUoY29udGV4dCwgJ0RhdGFWaWV3JyksXG4gICAgICAgIE1hcCA9IGdldE5hdGl2ZShjb250ZXh0LCAnTWFwJyksXG4gICAgICAgIFByb21pc2UgPSBnZXROYXRpdmUoY29udGV4dCwgJ1Byb21pc2UnKSxcbiAgICAgICAgU2V0ID0gZ2V0TmF0aXZlKGNvbnRleHQsICdTZXQnKSxcbiAgICAgICAgV2Vha01hcCA9IGdldE5hdGl2ZShjb250ZXh0LCAnV2Vha01hcCcpLFxuICAgICAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbiAgICAvKiogVXNlZCB0byBzdG9yZSBmdW5jdGlvbiBtZXRhZGF0YS4gKi9cbiAgICB2YXIgbWV0YU1hcCA9IFdlYWtNYXAgJiYgbmV3IFdlYWtNYXA7XG5cbiAgICAvKiogVXNlZCB0byBsb29rdXAgdW5taW5pZmllZCBmdW5jdGlvbiBuYW1lcy4gKi9cbiAgICB2YXIgcmVhbE5hbWVzID0ge307XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgbWFwcywgc2V0cywgYW5kIHdlYWttYXBzLiAqL1xuICAgIHZhciBkYXRhVmlld0N0b3JTdHJpbmcgPSB0b1NvdXJjZShEYXRhVmlldyksXG4gICAgICAgIG1hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShNYXApLFxuICAgICAgICBwcm9taXNlQ3RvclN0cmluZyA9IHRvU291cmNlKFByb21pc2UpLFxuICAgICAgICBzZXRDdG9yU3RyaW5nID0gdG9Tb3VyY2UoU2V0KSxcbiAgICAgICAgd2Vha01hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShXZWFrTWFwKTtcblxuICAgIC8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xuICAgIHZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bWJvbFZhbHVlT2YgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnZhbHVlT2YgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bWJvbFRvU3RyaW5nID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by50b1N0cmluZyA6IHVuZGVmaW5lZDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCBvYmplY3Qgd2hpY2ggd3JhcHMgYHZhbHVlYCB0byBlbmFibGUgaW1wbGljaXQgbWV0aG9kXG4gICAgICogY2hhaW4gc2VxdWVuY2VzLiBNZXRob2RzIHRoYXQgb3BlcmF0ZSBvbiBhbmQgcmV0dXJuIGFycmF5cywgY29sbGVjdGlvbnMsXG4gICAgICogYW5kIGZ1bmN0aW9ucyBjYW4gYmUgY2hhaW5lZCB0b2dldGhlci4gTWV0aG9kcyB0aGF0IHJldHJpZXZlIGEgc2luZ2xlIHZhbHVlXG4gICAgICogb3IgbWF5IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZSB3aWxsIGF1dG9tYXRpY2FsbHkgZW5kIHRoZSBjaGFpbiBzZXF1ZW5jZVxuICAgICAqIGFuZCByZXR1cm4gdGhlIHVud3JhcHBlZCB2YWx1ZS4gT3RoZXJ3aXNlLCB0aGUgdmFsdWUgbXVzdCBiZSB1bndyYXBwZWRcbiAgICAgKiB3aXRoIGBfI3ZhbHVlYC5cbiAgICAgKlxuICAgICAqIEV4cGxpY2l0IGNoYWluIHNlcXVlbmNlcywgd2hpY2ggbXVzdCBiZSB1bndyYXBwZWQgd2l0aCBgXyN2YWx1ZWAsIG1heSBiZVxuICAgICAqIGVuYWJsZWQgdXNpbmcgYF8uY2hhaW5gLlxuICAgICAqXG4gICAgICogVGhlIGV4ZWN1dGlvbiBvZiBjaGFpbmVkIG1ldGhvZHMgaXMgbGF6eSwgdGhhdCBpcywgaXQncyBkZWZlcnJlZCB1bnRpbFxuICAgICAqIGBfI3ZhbHVlYCBpcyBpbXBsaWNpdGx5IG9yIGV4cGxpY2l0bHkgY2FsbGVkLlxuICAgICAqXG4gICAgICogTGF6eSBldmFsdWF0aW9uIGFsbG93cyBzZXZlcmFsIG1ldGhvZHMgdG8gc3VwcG9ydCBzaG9ydGN1dCBmdXNpb24uXG4gICAgICogU2hvcnRjdXQgZnVzaW9uIGlzIGFuIG9wdGltaXphdGlvbiB0byBtZXJnZSBpdGVyYXRlZSBjYWxsczsgdGhpcyBhdm9pZHNcbiAgICAgKiB0aGUgY3JlYXRpb24gb2YgaW50ZXJtZWRpYXRlIGFycmF5cyBhbmQgY2FuIGdyZWF0bHkgcmVkdWNlIHRoZSBudW1iZXIgb2ZcbiAgICAgKiBpdGVyYXRlZSBleGVjdXRpb25zLiBTZWN0aW9ucyBvZiBhIGNoYWluIHNlcXVlbmNlIHF1YWxpZnkgZm9yIHNob3J0Y3V0XG4gICAgICogZnVzaW9uIGlmIHRoZSBzZWN0aW9uIGlzIGFwcGxpZWQgdG8gYW4gYXJyYXkgYW5kIGl0ZXJhdGVlcyBhY2NlcHQgb25seVxuICAgICAqIG9uZSBhcmd1bWVudC4gVGhlIGhldXJpc3RpYyBmb3Igd2hldGhlciBhIHNlY3Rpb24gcXVhbGlmaWVzIGZvciBzaG9ydGN1dFxuICAgICAqIGZ1c2lvbiBpcyBzdWJqZWN0IHRvIGNoYW5nZS5cbiAgICAgKlxuICAgICAqIENoYWluaW5nIGlzIHN1cHBvcnRlZCBpbiBjdXN0b20gYnVpbGRzIGFzIGxvbmcgYXMgdGhlIGBfI3ZhbHVlYCBtZXRob2QgaXNcbiAgICAgKiBkaXJlY3RseSBvciBpbmRpcmVjdGx5IGluY2x1ZGVkIGluIHRoZSBidWlsZC5cbiAgICAgKlxuICAgICAqIEluIGFkZGl0aW9uIHRvIGxvZGFzaCBtZXRob2RzLCB3cmFwcGVycyBoYXZlIGBBcnJheWAgYW5kIGBTdHJpbmdgIG1ldGhvZHMuXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBgQXJyYXlgIG1ldGhvZHMgYXJlOlxuICAgICAqIGBjb25jYXRgLCBgam9pbmAsIGBwb3BgLCBgcHVzaGAsIGBzaGlmdGAsIGBzb3J0YCwgYHNwbGljZWAsIGFuZCBgdW5zaGlmdGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIGBTdHJpbmdgIG1ldGhvZHMgYXJlOlxuICAgICAqIGByZXBsYWNlYCBhbmQgYHNwbGl0YFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgbWV0aG9kcyB0aGF0IHN1cHBvcnQgc2hvcnRjdXQgZnVzaW9uIGFyZTpcbiAgICAgKiBgYXRgLCBgY29tcGFjdGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsIGBkcm9wV2hpbGVgLCBgZmlsdGVyYCwgYGZpbmRgLFxuICAgICAqIGBmaW5kTGFzdGAsIGBoZWFkYCwgYGluaXRpYWxgLCBgbGFzdGAsIGBtYXBgLCBgcmVqZWN0YCwgYHJldmVyc2VgLCBgc2xpY2VgLFxuICAgICAqIGB0YWlsYCwgYHRha2VgLCBgdGFrZVJpZ2h0YCwgYHRha2VSaWdodFdoaWxlYCwgYHRha2VXaGlsZWAsIGFuZCBgdG9BcnJheWBcbiAgICAgKlxuICAgICAqIFRoZSBjaGFpbmFibGUgd3JhcHBlciBtZXRob2RzIGFyZTpcbiAgICAgKiBgYWZ0ZXJgLCBgYXJ5YCwgYGFzc2lnbmAsIGBhc3NpZ25JbmAsIGBhc3NpZ25JbldpdGhgLCBgYXNzaWduV2l0aGAsIGBhdGAsXG4gICAgICogYGJlZm9yZWAsIGBiaW5kYCwgYGJpbmRBbGxgLCBgYmluZEtleWAsIGBjYXN0QXJyYXlgLCBgY2hhaW5gLCBgY2h1bmtgLFxuICAgICAqIGBjb21taXRgLCBgY29tcGFjdGAsIGBjb25jYXRgLCBgY29uZm9ybXNgLCBgY29uc3RhbnRgLCBgY291bnRCeWAsIGBjcmVhdGVgLFxuICAgICAqIGBjdXJyeWAsIGBkZWJvdW5jZWAsIGBkZWZhdWx0c2AsIGBkZWZhdWx0c0RlZXBgLCBgZGVmZXJgLCBgZGVsYXlgLFxuICAgICAqIGBkaWZmZXJlbmNlYCwgYGRpZmZlcmVuY2VCeWAsIGBkaWZmZXJlbmNlV2l0aGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsXG4gICAgICogYGRyb3BSaWdodFdoaWxlYCwgYGRyb3BXaGlsZWAsIGBleHRlbmRgLCBgZXh0ZW5kV2l0aGAsIGBmaWxsYCwgYGZpbHRlcmAsXG4gICAgICogYGZsYXRNYXBgLCBgZmxhdE1hcERlZXBgLCBgZmxhdE1hcERlcHRoYCwgYGZsYXR0ZW5gLCBgZmxhdHRlbkRlZXBgLFxuICAgICAqIGBmbGF0dGVuRGVwdGhgLCBgZmxpcGAsIGBmbG93YCwgYGZsb3dSaWdodGAsIGBmcm9tUGFpcnNgLCBgZnVuY3Rpb25zYCxcbiAgICAgKiBgZnVuY3Rpb25zSW5gLCBgZ3JvdXBCeWAsIGBpbml0aWFsYCwgYGludGVyc2VjdGlvbmAsIGBpbnRlcnNlY3Rpb25CeWAsXG4gICAgICogYGludGVyc2VjdGlvbldpdGhgLCBgaW52ZXJ0YCwgYGludmVydEJ5YCwgYGludm9rZU1hcGAsIGBpdGVyYXRlZWAsIGBrZXlCeWAsXG4gICAgICogYGtleXNgLCBga2V5c0luYCwgYG1hcGAsIGBtYXBLZXlzYCwgYG1hcFZhbHVlc2AsIGBtYXRjaGVzYCwgYG1hdGNoZXNQcm9wZXJ0eWAsXG4gICAgICogYG1lbW9pemVgLCBgbWVyZ2VgLCBgbWVyZ2VXaXRoYCwgYG1ldGhvZGAsIGBtZXRob2RPZmAsIGBtaXhpbmAsIGBuZWdhdGVgLFxuICAgICAqIGBudGhBcmdgLCBgb21pdGAsIGBvbWl0QnlgLCBgb25jZWAsIGBvcmRlckJ5YCwgYG92ZXJgLCBgb3ZlckFyZ3NgLFxuICAgICAqIGBvdmVyRXZlcnlgLCBgb3ZlclNvbWVgLCBgcGFydGlhbGAsIGBwYXJ0aWFsUmlnaHRgLCBgcGFydGl0aW9uYCwgYHBpY2tgLFxuICAgICAqIGBwaWNrQnlgLCBgcGxhbnRgLCBgcHJvcGVydHlgLCBgcHJvcGVydHlPZmAsIGBwdWxsYCwgYHB1bGxBbGxgLCBgcHVsbEFsbEJ5YCxcbiAgICAgKiBgcHVsbEFsbFdpdGhgLCBgcHVsbEF0YCwgYHB1c2hgLCBgcmFuZ2VgLCBgcmFuZ2VSaWdodGAsIGByZWFyZ2AsIGByZWplY3RgLFxuICAgICAqIGByZW1vdmVgLCBgcmVzdGAsIGByZXZlcnNlYCwgYHNhbXBsZVNpemVgLCBgc2V0YCwgYHNldFdpdGhgLCBgc2h1ZmZsZWAsXG4gICAgICogYHNsaWNlYCwgYHNvcnRgLCBgc29ydEJ5YCwgYHNwbGljZWAsIGBzcHJlYWRgLCBgdGFpbGAsIGB0YWtlYCwgYHRha2VSaWdodGAsXG4gICAgICogYHRha2VSaWdodFdoaWxlYCwgYHRha2VXaGlsZWAsIGB0YXBgLCBgdGhyb3R0bGVgLCBgdGhydWAsIGB0b0FycmF5YCxcbiAgICAgKiBgdG9QYWlyc2AsIGB0b1BhaXJzSW5gLCBgdG9QYXRoYCwgYHRvUGxhaW5PYmplY3RgLCBgdHJhbnNmb3JtYCwgYHVuYXJ5YCxcbiAgICAgKiBgdW5pb25gLCBgdW5pb25CeWAsIGB1bmlvbldpdGhgLCBgdW5pcWAsIGB1bmlxQnlgLCBgdW5pcVdpdGhgLCBgdW5zZXRgLFxuICAgICAqIGB1bnNoaWZ0YCwgYHVuemlwYCwgYHVuemlwV2l0aGAsIGB1cGRhdGVgLCBgdXBkYXRlV2l0aGAsIGB2YWx1ZXNgLFxuICAgICAqIGB2YWx1ZXNJbmAsIGB3aXRob3V0YCwgYHdyYXBgLCBgeG9yYCwgYHhvckJ5YCwgYHhvcldpdGhgLCBgemlwYCxcbiAgICAgKiBgemlwT2JqZWN0YCwgYHppcE9iamVjdERlZXBgLCBhbmQgYHppcFdpdGhgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBtZXRob2RzIHRoYXQgYXJlICoqbm90KiogY2hhaW5hYmxlIGJ5IGRlZmF1bHQgYXJlOlxuICAgICAqIGBhZGRgLCBgYXR0ZW1wdGAsIGBjYW1lbENhc2VgLCBgY2FwaXRhbGl6ZWAsIGBjZWlsYCwgYGNsYW1wYCwgYGNsb25lYCxcbiAgICAgKiBgY2xvbmVEZWVwYCwgYGNsb25lRGVlcFdpdGhgLCBgY2xvbmVXaXRoYCwgYGNvbmZvcm1zVG9gLCBgZGVidXJyYCxcbiAgICAgKiBgZGVmYXVsdFRvYCwgYGRpdmlkZWAsIGBlYWNoYCwgYGVhY2hSaWdodGAsIGBlbmRzV2l0aGAsIGBlcWAsIGBlc2NhcGVgLFxuICAgICAqIGBlc2NhcGVSZWdFeHBgLCBgZXZlcnlgLCBgZmluZGAsIGBmaW5kSW5kZXhgLCBgZmluZEtleWAsIGBmaW5kTGFzdGAsXG4gICAgICogYGZpbmRMYXN0SW5kZXhgLCBgZmluZExhc3RLZXlgLCBgZmlyc3RgLCBgZmxvb3JgLCBgZm9yRWFjaGAsIGBmb3JFYWNoUmlnaHRgLFxuICAgICAqIGBmb3JJbmAsIGBmb3JJblJpZ2h0YCwgYGZvck93bmAsIGBmb3JPd25SaWdodGAsIGBnZXRgLCBgZ3RgLCBgZ3RlYCwgYGhhc2AsXG4gICAgICogYGhhc0luYCwgYGhlYWRgLCBgaWRlbnRpdHlgLCBgaW5jbHVkZXNgLCBgaW5kZXhPZmAsIGBpblJhbmdlYCwgYGludm9rZWAsXG4gICAgICogYGlzQXJndW1lbnRzYCwgYGlzQXJyYXlgLCBgaXNBcnJheUJ1ZmZlcmAsIGBpc0FycmF5TGlrZWAsIGBpc0FycmF5TGlrZU9iamVjdGAsXG4gICAgICogYGlzQm9vbGVhbmAsIGBpc0J1ZmZlcmAsIGBpc0RhdGVgLCBgaXNFbGVtZW50YCwgYGlzRW1wdHlgLCBgaXNFcXVhbGAsXG4gICAgICogYGlzRXF1YWxXaXRoYCwgYGlzRXJyb3JgLCBgaXNGaW5pdGVgLCBgaXNGdW5jdGlvbmAsIGBpc0ludGVnZXJgLCBgaXNMZW5ndGhgLFxuICAgICAqIGBpc01hcGAsIGBpc01hdGNoYCwgYGlzTWF0Y2hXaXRoYCwgYGlzTmFOYCwgYGlzTmF0aXZlYCwgYGlzTmlsYCwgYGlzTnVsbGAsXG4gICAgICogYGlzTnVtYmVyYCwgYGlzT2JqZWN0YCwgYGlzT2JqZWN0TGlrZWAsIGBpc1BsYWluT2JqZWN0YCwgYGlzUmVnRXhwYCxcbiAgICAgKiBgaXNTYWZlSW50ZWdlcmAsIGBpc1NldGAsIGBpc1N0cmluZ2AsIGBpc1VuZGVmaW5lZGAsIGBpc1R5cGVkQXJyYXlgLFxuICAgICAqIGBpc1dlYWtNYXBgLCBgaXNXZWFrU2V0YCwgYGpvaW5gLCBga2ViYWJDYXNlYCwgYGxhc3RgLCBgbGFzdEluZGV4T2ZgLFxuICAgICAqIGBsb3dlckNhc2VgLCBgbG93ZXJGaXJzdGAsIGBsdGAsIGBsdGVgLCBgbWF4YCwgYG1heEJ5YCwgYG1lYW5gLCBgbWVhbkJ5YCxcbiAgICAgKiBgbWluYCwgYG1pbkJ5YCwgYG11bHRpcGx5YCwgYG5vQ29uZmxpY3RgLCBgbm9vcGAsIGBub3dgLCBgbnRoYCwgYHBhZGAsXG4gICAgICogYHBhZEVuZGAsIGBwYWRTdGFydGAsIGBwYXJzZUludGAsIGBwb3BgLCBgcmFuZG9tYCwgYHJlZHVjZWAsIGByZWR1Y2VSaWdodGAsXG4gICAgICogYHJlcGVhdGAsIGByZXN1bHRgLCBgcm91bmRgLCBgcnVuSW5Db250ZXh0YCwgYHNhbXBsZWAsIGBzaGlmdGAsIGBzaXplYCxcbiAgICAgKiBgc25ha2VDYXNlYCwgYHNvbWVgLCBgc29ydGVkSW5kZXhgLCBgc29ydGVkSW5kZXhCeWAsIGBzb3J0ZWRMYXN0SW5kZXhgLFxuICAgICAqIGBzb3J0ZWRMYXN0SW5kZXhCeWAsIGBzdGFydENhc2VgLCBgc3RhcnRzV2l0aGAsIGBzdHViQXJyYXlgLCBgc3R1YkZhbHNlYCxcbiAgICAgKiBgc3R1Yk9iamVjdGAsIGBzdHViU3RyaW5nYCwgYHN0dWJUcnVlYCwgYHN1YnRyYWN0YCwgYHN1bWAsIGBzdW1CeWAsXG4gICAgICogYHRlbXBsYXRlYCwgYHRpbWVzYCwgYHRvRmluaXRlYCwgYHRvSW50ZWdlcmAsIGB0b0pTT05gLCBgdG9MZW5ndGhgLFxuICAgICAqIGB0b0xvd2VyYCwgYHRvTnVtYmVyYCwgYHRvU2FmZUludGVnZXJgLCBgdG9TdHJpbmdgLCBgdG9VcHBlcmAsIGB0cmltYCxcbiAgICAgKiBgdHJpbUVuZGAsIGB0cmltU3RhcnRgLCBgdHJ1bmNhdGVgLCBgdW5lc2NhcGVgLCBgdW5pcXVlSWRgLCBgdXBwZXJDYXNlYCxcbiAgICAgKiBgdXBwZXJGaXJzdGAsIGB2YWx1ZWAsIGFuZCBgd29yZHNgXG4gICAgICpcbiAgICAgKiBAbmFtZSBfXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAgaW4gYSBgbG9kYXNoYCBpbnN0YW5jZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDIsIDNdKTtcbiAgICAgKlxuICAgICAqIC8vIFJldHVybnMgYW4gdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIHdyYXBwZWQucmVkdWNlKF8uYWRkKTtcbiAgICAgKiAvLyA9PiA2XG4gICAgICpcbiAgICAgKiAvLyBSZXR1cm5zIGEgd3JhcHBlZCB2YWx1ZS5cbiAgICAgKiB2YXIgc3F1YXJlcyA9IHdyYXBwZWQubWFwKHNxdWFyZSk7XG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoc3F1YXJlcyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShzcXVhcmVzLnZhbHVlKCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb2Rhc2godmFsdWUpIHtcbiAgICAgIGlmIChpc09iamVjdExpa2UodmFsdWUpICYmICFpc0FycmF5KHZhbHVlKSAmJiAhKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpKSB7XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIExvZGFzaFdyYXBwZXIpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdfX3dyYXBwZWRfXycpKSB7XG4gICAgICAgICAgcmV0dXJuIHdyYXBwZXJDbG9uZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY3JlYXRlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGFzc2lnbmluZ1xuICAgICAqIHByb3BlcnRpZXMgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG8gVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUNyZWF0ZSA9IChmdW5jdGlvbigpIHtcbiAgICAgIGZ1bmN0aW9uIG9iamVjdCgpIHt9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ocHJvdG8pIHtcbiAgICAgICAgaWYgKCFpc09iamVjdChwcm90bykpIHtcbiAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9iamVjdENyZWF0ZSkge1xuICAgICAgICAgIHJldHVybiBvYmplY3RDcmVhdGUocHJvdG8pO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdC5wcm90b3R5cGUgPSBwcm90bztcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBvYmplY3Q7XG4gICAgICAgIG9iamVjdC5wcm90b3R5cGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0oKSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnVuY3Rpb24gd2hvc2UgcHJvdG90eXBlIGNoYWluIHNlcXVlbmNlIHdyYXBwZXJzIGluaGVyaXQgZnJvbS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUxvZGFzaCgpIHtcbiAgICAgIC8vIE5vIG9wZXJhdGlvbiBwZXJmb3JtZWQuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgY29uc3RydWN0b3IgZm9yIGNyZWF0aW5nIGBsb2Rhc2hgIHdyYXBwZXIgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjaGFpbkFsbF0gRW5hYmxlIGV4cGxpY2l0IG1ldGhvZCBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTG9kYXNoV3JhcHBlcih2YWx1ZSwgY2hhaW5BbGwpIHtcbiAgICAgIHRoaXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHRoaXMuX19hY3Rpb25zX18gPSBbXTtcbiAgICAgIHRoaXMuX19jaGFpbl9fID0gISFjaGFpbkFsbDtcbiAgICAgIHRoaXMuX19pbmRleF9fID0gMDtcbiAgICAgIHRoaXMuX192YWx1ZXNfXyA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCeSBkZWZhdWx0LCB0aGUgdGVtcGxhdGUgZGVsaW1pdGVycyB1c2VkIGJ5IGxvZGFzaCBhcmUgbGlrZSB0aG9zZSBpblxuICAgICAqIGVtYmVkZGVkIFJ1YnkgKEVSQikgYXMgd2VsbCBhcyBFUzIwMTUgdGVtcGxhdGUgc3RyaW5ncy4gQ2hhbmdlIHRoZVxuICAgICAqIGZvbGxvd2luZyB0ZW1wbGF0ZSBzZXR0aW5ncyB0byB1c2UgYWx0ZXJuYXRpdmUgZGVsaW1pdGVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgbG9kYXNoLnRlbXBsYXRlU2V0dGluZ3MgPSB7XG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgYGRhdGFgIHByb3BlcnR5IHZhbHVlcyB0byBiZSBIVE1MLWVzY2FwZWQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge1JlZ0V4cH1cbiAgICAgICAqL1xuICAgICAgJ2VzY2FwZSc6IHJlRXNjYXBlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGNvZGUgdG8gYmUgZXZhbHVhdGVkLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdldmFsdWF0ZSc6IHJlRXZhbHVhdGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgYGRhdGFgIHByb3BlcnR5IHZhbHVlcyB0byBpbmplY3QuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge1JlZ0V4cH1cbiAgICAgICAqL1xuICAgICAgJ2ludGVycG9sYXRlJzogcmVJbnRlcnBvbGF0ZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIHJlZmVyZW5jZSB0aGUgZGF0YSBvYmplY3QgaW4gdGhlIHRlbXBsYXRlIHRleHQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAqL1xuICAgICAgJ3ZhcmlhYmxlJzogJycsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBpbXBvcnQgdmFyaWFibGVzIGludG8gdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgKi9cbiAgICAgICdpbXBvcnRzJzoge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3MuaW1wb3J0c1xuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICAnXyc6IGxvZGFzaFxuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBFbnN1cmUgd3JhcHBlcnMgYXJlIGluc3RhbmNlcyBvZiBgYmFzZUxvZGFzaGAuXG4gICAgbG9kYXNoLnByb3RvdHlwZSA9IGJhc2VMb2Rhc2gucHJvdG90eXBlO1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBsb2Rhc2g7XG5cbiAgICBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZSA9IGJhc2VDcmVhdGUoYmFzZUxvZGFzaC5wcm90b3R5cGUpO1xuICAgIExvZGFzaFdyYXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTG9kYXNoV3JhcHBlcjtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBsYXp5IHdyYXBwZXIgb2JqZWN0IHdoaWNoIHdyYXBzIGB2YWx1ZWAgdG8gZW5hYmxlIGxhenkgZXZhbHVhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMYXp5V3JhcHBlcih2YWx1ZSkge1xuICAgICAgdGhpcy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuICAgICAgdGhpcy5fX2FjdGlvbnNfXyA9IFtdO1xuICAgICAgdGhpcy5fX2Rpcl9fID0gMTtcbiAgICAgIHRoaXMuX19maWx0ZXJlZF9fID0gZmFsc2U7XG4gICAgICB0aGlzLl9faXRlcmF0ZWVzX18gPSBbXTtcbiAgICAgIHRoaXMuX190YWtlQ291bnRfXyA9IE1BWF9BUlJBWV9MRU5HVEg7XG4gICAgICB0aGlzLl9fdmlld3NfXyA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgbGF6eSB3cmFwcGVyIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xvbmVcbiAgICAgKiBAbWVtYmVyT2YgTGF6eVdyYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgYExhenlXcmFwcGVyYCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF6eUNsb25lKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzLl9fd3JhcHBlZF9fKTtcbiAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh0aGlzLl9fYWN0aW9uc19fKTtcbiAgICAgIHJlc3VsdC5fX2Rpcl9fID0gdGhpcy5fX2Rpcl9fO1xuICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHRoaXMuX19maWx0ZXJlZF9fO1xuICAgICAgcmVzdWx0Ll9faXRlcmF0ZWVzX18gPSBjb3B5QXJyYXkodGhpcy5fX2l0ZXJhdGVlc19fKTtcbiAgICAgIHJlc3VsdC5fX3Rha2VDb3VudF9fID0gdGhpcy5fX3Rha2VDb3VudF9fO1xuICAgICAgcmVzdWx0Ll9fdmlld3NfXyA9IGNvcHlBcnJheSh0aGlzLl9fdmlld3NfXyk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVyc2VzIHRoZSBkaXJlY3Rpb24gb2YgbGF6eSBpdGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHJldmVyc2VcbiAgICAgKiBAbWVtYmVyT2YgTGF6eVdyYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgcmV2ZXJzZWQgYExhenlXcmFwcGVyYCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF6eVJldmVyc2UoKSB7XG4gICAgICBpZiAodGhpcy5fX2ZpbHRlcmVkX18pIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgcmVzdWx0Ll9fZGlyX18gPSAtMTtcbiAgICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgIHJlc3VsdC5fX2Rpcl9fICo9IC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB0aGUgdW53cmFwcGVkIHZhbHVlIGZyb20gaXRzIGxhenkgd3JhcHBlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgdmFsdWVcbiAgICAgKiBAbWVtYmVyT2YgTGF6eVdyYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlWYWx1ZSgpIHtcbiAgICAgIHZhciBhcnJheSA9IHRoaXMuX193cmFwcGVkX18udmFsdWUoKSxcbiAgICAgICAgICBkaXIgPSB0aGlzLl9fZGlyX18sXG4gICAgICAgICAgaXNBcnIgPSBpc0FycmF5KGFycmF5KSxcbiAgICAgICAgICBpc1JpZ2h0ID0gZGlyIDwgMCxcbiAgICAgICAgICBhcnJMZW5ndGggPSBpc0FyciA/IGFycmF5Lmxlbmd0aCA6IDAsXG4gICAgICAgICAgdmlldyA9IGdldFZpZXcoMCwgYXJyTGVuZ3RoLCB0aGlzLl9fdmlld3NfXyksXG4gICAgICAgICAgc3RhcnQgPSB2aWV3LnN0YXJ0LFxuICAgICAgICAgIGVuZCA9IHZpZXcuZW5kLFxuICAgICAgICAgIGxlbmd0aCA9IGVuZCAtIHN0YXJ0LFxuICAgICAgICAgIGluZGV4ID0gaXNSaWdodCA/IGVuZCA6IChzdGFydCAtIDEpLFxuICAgICAgICAgIGl0ZXJhdGVlcyA9IHRoaXMuX19pdGVyYXRlZXNfXyxcbiAgICAgICAgICBpdGVyTGVuZ3RoID0gaXRlcmF0ZWVzLmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgdGFrZUNvdW50ID0gbmF0aXZlTWluKGxlbmd0aCwgdGhpcy5fX3Rha2VDb3VudF9fKTtcblxuICAgICAgaWYgKCFpc0FyciB8fCAoIWlzUmlnaHQgJiYgYXJyTGVuZ3RoID09IGxlbmd0aCAmJiB0YWtlQ291bnQgPT0gbGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gYmFzZVdyYXBwZXJWYWx1ZShhcnJheSwgdGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKGxlbmd0aC0tICYmIHJlc0luZGV4IDwgdGFrZUNvdW50KSB7XG4gICAgICAgIGluZGV4ICs9IGRpcjtcblxuICAgICAgICB2YXIgaXRlckluZGV4ID0gLTEsXG4gICAgICAgICAgICB2YWx1ZSA9IGFycmF5W2luZGV4XTtcblxuICAgICAgICB3aGlsZSAoKytpdGVySW5kZXggPCBpdGVyTGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSBpdGVyYXRlZXNbaXRlckluZGV4XSxcbiAgICAgICAgICAgICAgaXRlcmF0ZWUgPSBkYXRhLml0ZXJhdGVlLFxuICAgICAgICAgICAgICB0eXBlID0gZGF0YS50eXBlLFxuICAgICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgICAgIGlmICh0eXBlID09IExBWllfTUFQX0ZMQUcpIHtcbiAgICAgICAgICAgIHZhbHVlID0gY29tcHV0ZWQ7XG4gICAgICAgICAgfSBlbHNlIGlmICghY29tcHV0ZWQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlID09IExBWllfRklMVEVSX0ZMQUcpIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBicmVhayBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8vIEVuc3VyZSBgTGF6eVdyYXBwZXJgIGlzIGFuIGluc3RhbmNlIG9mIGBiYXNlTG9kYXNoYC5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUgPSBiYXNlQ3JlYXRlKGJhc2VMb2Rhc2gucHJvdG90eXBlKTtcbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMYXp5V3JhcHBlcjtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBoYXNoIFRoZSBoYXNoIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG4gICAgICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgICAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgcmV0dXJuIG5hdGl2ZUNyZWF0ZSA/IChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBoYXNoIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgdGhpcy5zaXplICs9IHRoaXMuaGFzKGtleSkgPyAwIDogMTtcbiAgICAgIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuICAgIEhhc2gucHJvdG90eXBlLmNsZWFyID0gaGFzaENsZWFyO1xuICAgIEhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG4gICAgSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbiAgICBIYXNoLnByb3RvdHlwZS5oYXMgPSBoYXNoSGFzO1xuICAgIEhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGxpc3QgY2FjaGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMaXN0Q2FjaGUoZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgICAgIHRoaXMuX19kYXRhX18gPSBbXTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgICAgIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICAgICAgZGF0YS5wb3AoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICAgIC0tdGhpcy5zaXplO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgICAgIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICAgICAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGxpc3QgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICsrdGhpcy5zaXplO1xuICAgICAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGFbaW5kZXhdWzFdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBsaXN0Q2FjaGVEZWxldGU7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5zZXQgPSBsaXN0Q2FjaGVTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAgICAgJ2hhc2gnOiBuZXcgSGFzaCxcbiAgICAgICAgJ21hcCc6IG5ldyAoTWFwIHx8IExpc3RDYWNoZSksXG4gICAgICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xuICAgICAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gICAgICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gICAgICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbWFwIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLFxuICAgICAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgICAgIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgdGhpcy5zaXplICs9IGRhdGEuc2l6ZSA9PSBzaXplID8gMCA6IDE7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuICAgIE1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGNhY2hlIG9iamVjdCB0byBzdG9yZSB1bmlxdWUgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNldENhY2hlKHZhbHVlcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdmFsdWVzID09IG51bGwgPyAwIDogdmFsdWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuYWRkKHZhbHVlc1tpbmRleF0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYHZhbHVlYCB0byB0aGUgYXJyYXkgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGFkZFxuICAgICAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICAgICAqIEBhbGlhcyBwdXNoXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2FjaGUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0Q2FjaGVBZGQodmFsdWUpIHtcbiAgICAgIHRoaXMuX19kYXRhX18uc2V0KHZhbHVlLCBIQVNIX1VOREVGSU5FRCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiB0aGUgYXJyYXkgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldENhY2hlSGFzKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXModmFsdWUpO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBTZXRDYWNoZWAuXG4gICAgU2V0Q2FjaGUucHJvdG90eXBlLmFkZCA9IFNldENhY2hlLnByb3RvdHlwZS5wdXNoID0gc2V0Q2FjaGVBZGQ7XG4gICAgU2V0Q2FjaGUucHJvdG90eXBlLmhhcyA9IHNldENhY2hlSGFzO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHN0YWNrIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFN0YWNrKGVudHJpZXMpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGUoZW50cmllcyk7XG4gICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tDbGVhcigpIHtcbiAgICAgIHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlO1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0RlbGV0ZShrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICByZXN1bHQgPSBkYXRhWydkZWxldGUnXShrZXkpO1xuXG4gICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHN0YWNrIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrR2V0KGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgc3RhY2sgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrSGFzKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RhY2sgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHN0YWNrIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgTGlzdENhY2hlKSB7XG4gICAgICAgIHZhciBwYWlycyA9IGRhdGEuX19kYXRhX187XG4gICAgICAgIGlmICghTWFwIHx8IChwYWlycy5sZW5ndGggPCBMQVJHRV9BUlJBWV9TSVpFIC0gMSkpIHtcbiAgICAgICAgICBwYWlycy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICAgICAgdGhpcy5zaXplID0gKytkYXRhLnNpemU7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpO1xuICAgICAgfVxuICAgICAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgU3RhY2tgLlxuICAgIFN0YWNrLnByb3RvdHlwZS5jbGVhciA9IHN0YWNrQ2xlYXI7XG4gICAgU3RhY2sucHJvdG90eXBlWydkZWxldGUnXSA9IHN0YWNrRGVsZXRlO1xuICAgIFN0YWNrLnByb3RvdHlwZS5nZXQgPSBzdGFja0dldDtcbiAgICBTdGFjay5wcm90b3R5cGUuaGFzID0gc3RhY2tIYXM7XG4gICAgU3RhY2sucHJvdG90eXBlLnNldCA9IHN0YWNrU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiB0aGUgYXJyYXktbGlrZSBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpLFxuICAgICAgICAgIGlzQXJnID0gIWlzQXJyICYmIGlzQXJndW1lbnRzKHZhbHVlKSxcbiAgICAgICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgIWlzQXJnICYmIGlzQnVmZmVyKHZhbHVlKSxcbiAgICAgICAgICBpc1R5cGUgPSAhaXNBcnIgJiYgIWlzQXJnICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHZhbHVlKSxcbiAgICAgICAgICBza2lwSW5kZXhlcyA9IGlzQXJyIHx8IGlzQXJnIHx8IGlzQnVmZiB8fCBpc1R5cGUsXG4gICAgICAgICAgcmVzdWx0ID0gc2tpcEluZGV4ZXMgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpIDogW10sXG4gICAgICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG4gICAgICAgICAgICAhKHNraXBJbmRleGVzICYmIChcbiAgICAgICAgICAgICAgIC8vIFNhZmFyaSA5IGhhcyBlbnVtZXJhYmxlIGBhcmd1bWVudHMubGVuZ3RoYCBpbiBzdHJpY3QgbW9kZS5cbiAgICAgICAgICAgICAgIGtleSA9PSAnbGVuZ3RoJyB8fFxuICAgICAgICAgICAgICAgLy8gTm9kZS5qcyAwLjEwIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIGJ1ZmZlcnMuXG4gICAgICAgICAgICAgICAoaXNCdWZmICYmIChrZXkgPT0gJ29mZnNldCcgfHwga2V5ID09ICdwYXJlbnQnKSkgfHxcbiAgICAgICAgICAgICAgIC8vIFBoYW50b21KUyAyIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIHR5cGVkIGFycmF5cy5cbiAgICAgICAgICAgICAgIChpc1R5cGUgJiYgKGtleSA9PSAnYnVmZmVyJyB8fCBrZXkgPT0gJ2J5dGVMZW5ndGgnIHx8IGtleSA9PSAnYnl0ZU9mZnNldCcpKSB8fFxuICAgICAgICAgICAgICAgLy8gU2tpcCBpbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgaXNJbmRleChrZXksIGxlbmd0aClcbiAgICAgICAgICAgICkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2FtcGxlYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNhbXBsZShhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBhcnJheVtiYXNlUmFuZG9tKDAsIGxlbmd0aCAtIDEpXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2FtcGxlU2l6ZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNhbXBsZVNpemUoYXJyYXksIG4pIHtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZihjb3B5QXJyYXkoYXJyYXkpLCBiYXNlQ2xhbXAobiwgMCwgYXJyYXkubGVuZ3RoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNodWZmbGVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzaHVmZmxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNodWZmbGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5U2h1ZmZsZShhcnJheSkge1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKGNvcHlBcnJheShhcnJheSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYXNzaWduVmFsdWVgIGV4Y2VwdCB0aGF0IGl0IGRvZXNuJ3QgYXNzaWduXG4gICAgICogYHVuZGVmaW5lZGAgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKCh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmICFlcShvYmplY3Rba2V5XSwgdmFsdWUpKSB8fFxuICAgICAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgYHZhbHVlYCB0byBga2V5YCBvZiBgb2JqZWN0YCBpZiB0aGUgZXhpc3RpbmcgdmFsdWUgaXMgbm90IGVxdWl2YWxlbnRcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgICAgIGlmICghKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGVxKG9ialZhbHVlLCB2YWx1ZSkpIHx8XG4gICAgICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc3NvY0luZGV4T2YoYXJyYXksIGtleSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkge1xuICAgICAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZ2dyZWdhdGVzIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCBvbiBgYWNjdW11bGF0b3JgIHdpdGgga2V5cyB0cmFuc2Zvcm1lZFxuICAgICAqIGJ5IGBpdGVyYXRlZWAgYW5kIHZhbHVlcyBzZXQgYnkgYHNldHRlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGFnZ3JlZ2F0ZWQgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBZ2dyZWdhdG9yKGNvbGxlY3Rpb24sIHNldHRlciwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHNldHRlcihhY2N1bXVsYXRvciwgdmFsdWUsIGl0ZXJhdGVlKHZhbHVlKSwgY29sbGVjdGlvbik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hc3NpZ25gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlc1xuICAgICAqIG9yIGBjdXN0b21pemVyYCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFzc2lnbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmFzc2lnbkluYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXNcbiAgICAgKiBvciBgY3VzdG9taXplcmAgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ25JbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGFzc2lnblZhbHVlYCBhbmQgYGFzc2lnbk1lcmdlVmFsdWVgIHdpdGhvdXRcbiAgICAgKiB2YWx1ZSBjaGVja3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIGlmIChrZXkgPT0gJ19fcHJvdG9fXycgJiYgZGVmaW5lUHJvcGVydHkpIHtcbiAgICAgICAgZGVmaW5lUHJvcGVydHkob2JqZWN0LCBrZXksIHtcbiAgICAgICAgICAnY29uZmlndXJhYmxlJzogdHJ1ZSxcbiAgICAgICAgICAnZW51bWVyYWJsZSc6IHRydWUsXG4gICAgICAgICAgJ3ZhbHVlJzogdmFsdWUsXG4gICAgICAgICAgJ3dyaXRhYmxlJzogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHBpY2tlZCBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXQob2JqZWN0LCBwYXRocykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgc2tpcCA9IG9iamVjdCA9PSBudWxsO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gc2tpcCA/IHVuZGVmaW5lZCA6IGdldChvYmplY3QsIHBhdGhzW2luZGV4XSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNsYW1wYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjbGFtcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvd2VyXSBUaGUgbG93ZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHVwcGVyIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjbGFtcGVkIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ2xhbXAobnVtYmVyLCBsb3dlciwgdXBwZXIpIHtcbiAgICAgIGlmIChudW1iZXIgPT09IG51bWJlcikge1xuICAgICAgICBpZiAodXBwZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG51bWJlciA9IG51bWJlciA8PSB1cHBlciA/IG51bWJlciA6IHVwcGVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb3dlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbnVtYmVyID0gbnVtYmVyID49IGxvd2VyID8gbnVtYmVyIDogbG93ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudW1iZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY2xvbmVgIGFuZCBgXy5jbG9uZURlZXBgIHdoaWNoIHRyYWNrc1xuICAgICAqIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gICAgICogIDEgLSBEZWVwIGNsb25lXG4gICAgICogIDIgLSBGbGF0dGVuIGluaGVyaXRlZCBwcm9wZXJ0aWVzXG4gICAgICogIDQgLSBDbG9uZSBzeW1ib2xzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2tleV0gVGhlIGtleSBvZiBgdmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgcGFyZW50IG9iamVjdCBvZiBgdmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBhbmQgdGhlaXIgY2xvbmUgY291bnRlcnBhcnRzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNsb25lKHZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIG9iamVjdCwgc3RhY2spIHtcbiAgICAgIHZhciByZXN1bHQsXG4gICAgICAgICAgaXNEZWVwID0gYml0bWFzayAmIENMT05FX0RFRVBfRkxBRyxcbiAgICAgICAgICBpc0ZsYXQgPSBiaXRtYXNrICYgQ0xPTkVfRkxBVF9GTEFHLFxuICAgICAgICAgIGlzRnVsbCA9IGJpdG1hc2sgJiBDTE9ORV9TWU1CT0xTX0ZMQUc7XG5cbiAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgIHJlc3VsdCA9IG9iamVjdCA/IGN1c3RvbWl6ZXIodmFsdWUsIGtleSwgb2JqZWN0LCBzdGFjaykgOiBjdXN0b21pemVyKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSk7XG4gICAgICBpZiAoaXNBcnIpIHtcbiAgICAgICAgcmVzdWx0ID0gaW5pdENsb25lQXJyYXkodmFsdWUpO1xuICAgICAgICBpZiAoIWlzRGVlcCkge1xuICAgICAgICAgIHJldHVybiBjb3B5QXJyYXkodmFsdWUsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpLFxuICAgICAgICAgICAgaXNGdW5jID0gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZztcblxuICAgICAgICBpZiAoaXNCdWZmZXIodmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGNsb25lQnVmZmVyKHZhbHVlLCBpc0RlZXApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcgPT0gb2JqZWN0VGFnIHx8IHRhZyA9PSBhcmdzVGFnIHx8IChpc0Z1bmMgJiYgIW9iamVjdCkpIHtcbiAgICAgICAgICByZXN1bHQgPSAoaXNGbGF0IHx8IGlzRnVuYykgPyB7fSA6IGluaXRDbG9uZU9iamVjdCh2YWx1ZSk7XG4gICAgICAgICAgaWYgKCFpc0RlZXApIHtcbiAgICAgICAgICAgIHJldHVybiBpc0ZsYXRcbiAgICAgICAgICAgICAgPyBjb3B5U3ltYm9sc0luKHZhbHVlLCBiYXNlQXNzaWduSW4ocmVzdWx0LCB2YWx1ZSkpXG4gICAgICAgICAgICAgIDogY29weVN5bWJvbHModmFsdWUsIGJhc2VBc3NpZ24ocmVzdWx0LCB2YWx1ZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoIWNsb25lYWJsZVRhZ3NbdGFnXSkge1xuICAgICAgICAgICAgcmV0dXJuIG9iamVjdCA/IHZhbHVlIDoge307XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IGluaXRDbG9uZUJ5VGFnKHZhbHVlLCB0YWcsIGlzRGVlcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIENoZWNrIGZvciBjaXJjdWxhciByZWZlcmVuY2VzIGFuZCByZXR1cm4gaXRzIGNvcnJlc3BvbmRpbmcgY2xvbmUuXG4gICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQodmFsdWUpO1xuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrZWQ7XG4gICAgICB9XG4gICAgICBzdGFjay5zZXQodmFsdWUsIHJlc3VsdCk7XG5cbiAgICAgIGlmIChpc1NldCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbihzdWJWYWx1ZSkge1xuICAgICAgICAgIHJlc3VsdC5hZGQoYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdWJWYWx1ZSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc01hcCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbihzdWJWYWx1ZSwga2V5KSB7XG4gICAgICAgICAgcmVzdWx0LnNldChrZXksIGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCB2YWx1ZSwgc3RhY2spKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgdmFyIGtleXNGdW5jID0gaXNGdWxsXG4gICAgICAgID8gKGlzRmxhdCA/IGdldEFsbEtleXNJbiA6IGdldEFsbEtleXMpXG4gICAgICAgIDogKGlzRmxhdCA/IGtleXNJbiA6IGtleXMpO1xuXG4gICAgICB2YXIgcHJvcHMgPSBpc0FyciA/IHVuZGVmaW5lZCA6IGtleXNGdW5jKHZhbHVlKTtcbiAgICAgIGFycmF5RWFjaChwcm9wcyB8fCB2YWx1ZSwgZnVuY3Rpb24oc3ViVmFsdWUsIGtleSkge1xuICAgICAgICBpZiAocHJvcHMpIHtcbiAgICAgICAgICBrZXkgPSBzdWJWYWx1ZTtcbiAgICAgICAgICBzdWJWYWx1ZSA9IHZhbHVlW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgcG9wdWxhdGUgY2xvbmUgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgYXNzaWduVmFsdWUocmVzdWx0LCBrZXksIGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCB2YWx1ZSwgc3RhY2spKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jb25mb3Jtc2Agd2hpY2ggZG9lc24ndCBjbG9uZSBgc291cmNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDb25mb3Jtcyhzb3VyY2UpIHtcbiAgICAgIHZhciBwcm9wcyA9IGtleXMoc291cmNlKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBwcm9wcyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNvbmZvcm1zVG9gIHdoaWNoIGFjY2VwdHMgYHByb3BzYCB0byBjaGVjay5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgY29uZm9ybXMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSwgcHJvcHMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICFsZW5ndGg7XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIga2V5ID0gcHJvcHNbbGVuZ3RoXSxcbiAgICAgICAgICAgIHByZWRpY2F0ZSA9IHNvdXJjZVtrZXldLFxuICAgICAgICAgICAgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgICAgICBpZiAoKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkgfHwgIXByZWRpY2F0ZSh2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmRlbGF5YCBhbmQgYF8uZGVmZXJgIHdoaWNoIGFjY2VwdHMgYGFyZ3NgXG4gICAgICogdG8gcHJvdmlkZSB0byBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGludm9jYXRpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIHByb3ZpZGUgdG8gYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ8T2JqZWN0fSBSZXR1cm5zIHRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRGVsYXkoZnVuYywgd2FpdCwgYXJncykge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTsgfSwgd2FpdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmRpZmZlcmVuY2VgIHdpdGhvdXQgc3VwcG9ydFxuICAgICAqIGZvciBleGNsdWRpbmcgbXVsdGlwbGUgYXJyYXlzIG9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZURpZmZlcmVuY2UoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlcyxcbiAgICAgICAgICBpc0NvbW1vbiA9IHRydWUsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IFtdLFxuICAgICAgICAgIHZhbHVlc0xlbmd0aCA9IHZhbHVlcy5sZW5ndGg7XG5cbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgdmFsdWVzID0gYXJyYXlNYXAodmFsdWVzLCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlc1dpdGg7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh2YWx1ZXMubGVuZ3RoID49IExBUkdFX0FSUkFZX1NJWkUpIHtcbiAgICAgICAgaW5jbHVkZXMgPSBjYWNoZUhhcztcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgdmFsdWVzID0gbmV3IFNldENhY2hlKHZhbHVlcyk7XG4gICAgICB9XG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPT0gbnVsbCA/IHZhbHVlIDogaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgICAgIHZhbHVlID0gKGNvbXBhcmF0b3IgfHwgdmFsdWUgIT09IDApID8gdmFsdWUgOiAwO1xuICAgICAgICBpZiAoaXNDb21tb24gJiYgY29tcHV0ZWQgPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgdmFyIHZhbHVlc0luZGV4ID0gdmFsdWVzTGVuZ3RoO1xuICAgICAgICAgIHdoaWxlICh2YWx1ZXNJbmRleC0tKSB7XG4gICAgICAgICAgICBpZiAodmFsdWVzW3ZhbHVlc0luZGV4XSA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaW5jbHVkZXModmFsdWVzLCBjb21wdXRlZCwgY29tcGFyYXRvcikpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yRWFjaGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUVhY2ggPSBjcmVhdGVCYXNlRWFjaChiYXNlRm9yT3duKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvckVhY2hSaWdodGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUVhY2hSaWdodCA9IGNyZWF0ZUJhc2VFYWNoKGJhc2VGb3JPd25SaWdodCwgdHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5ldmVyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VFdmVyeShjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdCA9ICEhcHJlZGljYXRlKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLm1heGAgYW5kIGBfLm1pbmAgd2hpY2ggYWNjZXB0cyBhXG4gICAgICogYGNvbXBhcmF0b3JgIHRvIGRldGVybWluZSB0aGUgZXh0cmVtdW0gdmFsdWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIHVzZWQgdG8gY29tcGFyZSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGV4dHJlbXVtIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VFeHRyZW11bShhcnJheSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY3VycmVudCA9IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgICBpZiAoY3VycmVudCAhPSBudWxsICYmIChjb21wdXRlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gKGN1cnJlbnQgPT09IGN1cnJlbnQgJiYgIWlzU3ltYm9sKGN1cnJlbnQpKVxuICAgICAgICAgICAgICA6IGNvbXBhcmF0b3IoY3VycmVudCwgY29tcHV0ZWQpXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgdmFyIGNvbXB1dGVkID0gY3VycmVudCxcbiAgICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmlsbGAgd2l0aG91dCBhbiBpdGVyYXRlZSBjYWxsIGd1YXJkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmlsbC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBmaWxsIGBhcnJheWAgd2l0aC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZpbGwoYXJyYXksIHZhbHVlLCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBzdGFydCA9IHRvSW50ZWdlcihzdGFydCk7XG4gICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgIHN0YXJ0ID0gLXN0YXJ0ID4gbGVuZ3RoID8gMCA6IChsZW5ndGggKyBzdGFydCk7XG4gICAgICB9XG4gICAgICBlbmQgPSAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gbGVuZ3RoKSA/IGxlbmd0aCA6IHRvSW50ZWdlcihlbmQpO1xuICAgICAgaWYgKGVuZCA8IDApIHtcbiAgICAgICAgZW5kICs9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGVuZCA9IHN0YXJ0ID4gZW5kID8gMCA6IHRvTGVuZ3RoKGVuZCk7XG4gICAgICB3aGlsZSAoc3RhcnQgPCBlbmQpIHtcbiAgICAgICAgYXJyYXlbc3RhcnQrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maWx0ZXJgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGaWx0ZXIoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmxhdHRlbmAgd2l0aCBzdXBwb3J0IGZvciByZXN0cmljdGluZyBmbGF0dGVuaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVwdGggVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZWRpY2F0ZT1pc0ZsYXR0ZW5hYmxlXSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU3RyaWN0XSBSZXN0cmljdCB0byB2YWx1ZXMgdGhhdCBwYXNzIGBwcmVkaWNhdGVgIGNoZWNrcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcmVzdWx0PVtdXSBUaGUgaW5pdGlhbCByZXN1bHQgdmFsdWUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGbGF0dGVuKGFycmF5LCBkZXB0aCwgcHJlZGljYXRlLCBpc1N0cmljdCwgcmVzdWx0KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHByZWRpY2F0ZSB8fCAocHJlZGljYXRlID0gaXNGbGF0dGVuYWJsZSk7XG4gICAgICByZXN1bHQgfHwgKHJlc3VsdCA9IFtdKTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAoZGVwdGggPiAwICYmIHByZWRpY2F0ZSh2YWx1ZSkpIHtcbiAgICAgICAgICBpZiAoZGVwdGggPiAxKSB7XG4gICAgICAgICAgICAvLyBSZWN1cnNpdmVseSBmbGF0dGVuIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICAgICAgYmFzZUZsYXR0ZW4odmFsdWUsIGRlcHRoIC0gMSwgcHJlZGljYXRlLCBpc1N0cmljdCwgcmVzdWx0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXJyYXlQdXNoKHJlc3VsdCwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghaXNTdHJpY3QpIHtcbiAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aF0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYmFzZUZvck93bmAgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgb2JqZWN0YFxuICAgICAqIHByb3BlcnRpZXMgcmV0dXJuZWQgYnkgYGtleXNGdW5jYCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LlxuICAgICAqIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUZvciA9IGNyZWF0ZUJhc2VGb3IoKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYmFzZUZvcmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBwcm9wZXJ0aWVzXG4gICAgICogaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIHZhciBiYXNlRm9yUmlnaHQgPSBjcmVhdGVCYXNlRm9yKHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yT3duYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGb3JPd24ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yKG9iamVjdCwgaXRlcmF0ZWUsIGtleXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvck93blJpZ2h0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGb3JPd25SaWdodChvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3JSaWdodChvYmplY3QsIGl0ZXJhdGVlLCBrZXlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mdW5jdGlvbnNgIHdoaWNoIGNyZWF0ZXMgYW4gYXJyYXkgb2ZcbiAgICAgKiBgb2JqZWN0YCBmdW5jdGlvbiBwcm9wZXJ0eSBuYW1lcyBmaWx0ZXJlZCBmcm9tIGBwcm9wc2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBmaWx0ZXIuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRnVuY3Rpb25zKG9iamVjdCwgcHJvcHMpIHtcbiAgICAgIHJldHVybiBhcnJheUZpbHRlcihwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKG9iamVjdFtrZXldKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmdldGAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWZhdWx0IHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKG9iamVjdCAhPSBudWxsICYmIGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIG9iamVjdCA9IG9iamVjdFt0b0tleShwYXRoW2luZGV4KytdKV07XG4gICAgICB9XG4gICAgICByZXR1cm4gKGluZGV4ICYmIGluZGV4ID09IGxlbmd0aCkgPyBvYmplY3QgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldEFsbEtleXNgIGFuZCBgZ2V0QWxsS2V5c0luYCB3aGljaCB1c2VzXG4gICAgICogYGtleXNGdW5jYCBhbmQgYHN5bWJvbHNGdW5jYCB0byBnZXQgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gICAgICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3ltYm9sc0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0Z1bmMsIHN5bWJvbHNGdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ga2V5c0Z1bmMob2JqZWN0KTtcbiAgICAgIHJldHVybiBpc0FycmF5KG9iamVjdCkgPyByZXN1bHQgOiBhcnJheVB1c2gocmVzdWx0LCBzeW1ib2xzRnVuYyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgICAgIH1cbiAgICAgIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICAgICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmd0YCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHdCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA+IG90aGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmhhc2Agd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30ga2V5IFRoZSBrZXkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VIYXMob2JqZWN0LCBrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5oYXNJbmAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30ga2V5IFRoZSBrZXkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VIYXNJbihvYmplY3QsIGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGtleSBpbiBPYmplY3Qob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pblJhbmdlYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgbnVtYmVyYCBpcyBpbiB0aGUgcmFuZ2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHJldHVybiBudW1iZXIgPj0gbmF0aXZlTWluKHN0YXJ0LCBlbmQpICYmIG51bWJlciA8IG5hdGl2ZU1heChzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCwgd2l0aG91dCBzdXBwb3J0XG4gICAgICogZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHRoYXQgYWNjZXB0cyBhbiBhcnJheSBvZiBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXlzIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHNoYXJlZCB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludGVyc2VjdGlvbihhcnJheXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5jbHVkZXMgPSBjb21wYXJhdG9yID8gYXJyYXlJbmNsdWRlc1dpdGggOiBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5c1swXS5sZW5ndGgsXG4gICAgICAgICAgb3RoTGVuZ3RoID0gYXJyYXlzLmxlbmd0aCxcbiAgICAgICAgICBvdGhJbmRleCA9IG90aExlbmd0aCxcbiAgICAgICAgICBjYWNoZXMgPSBBcnJheShvdGhMZW5ndGgpLFxuICAgICAgICAgIG1heExlbmd0aCA9IEluZmluaXR5LFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAob3RoSW5kZXgtLSkge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbb3RoSW5kZXhdO1xuICAgICAgICBpZiAob3RoSW5kZXggJiYgaXRlcmF0ZWUpIHtcbiAgICAgICAgICBhcnJheSA9IGFycmF5TWFwKGFycmF5LCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgICAgfVxuICAgICAgICBtYXhMZW5ndGggPSBuYXRpdmVNaW4oYXJyYXkubGVuZ3RoLCBtYXhMZW5ndGgpO1xuICAgICAgICBjYWNoZXNbb3RoSW5kZXhdID0gIWNvbXBhcmF0b3IgJiYgKGl0ZXJhdGVlIHx8IChsZW5ndGggPj0gMTIwICYmIGFycmF5Lmxlbmd0aCA+PSAxMjApKVxuICAgICAgICAgID8gbmV3IFNldENhY2hlKG90aEluZGV4ICYmIGFycmF5KVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgYXJyYXkgPSBhcnJheXNbMF07XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHNlZW4gPSBjYWNoZXNbMF07XG5cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGggJiYgcmVzdWx0Lmxlbmd0aCA8IG1heExlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmICghKHNlZW5cbiAgICAgICAgICAgICAgPyBjYWNoZUhhcyhzZWVuLCBjb21wdXRlZClcbiAgICAgICAgICAgICAgOiBpbmNsdWRlcyhyZXN1bHQsIGNvbXB1dGVkLCBjb21wYXJhdG9yKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIG90aEluZGV4ID0gb3RoTGVuZ3RoO1xuICAgICAgICAgIHdoaWxlICgtLW90aEluZGV4KSB7XG4gICAgICAgICAgICB2YXIgY2FjaGUgPSBjYWNoZXNbb3RoSW5kZXhdO1xuICAgICAgICAgICAgaWYgKCEoY2FjaGVcbiAgICAgICAgICAgICAgICAgID8gY2FjaGVIYXMoY2FjaGUsIGNvbXB1dGVkKVxuICAgICAgICAgICAgICAgICAgOiBpbmNsdWRlcyhhcnJheXNbb3RoSW5kZXhdLCBjb21wdXRlZCwgY29tcGFyYXRvcikpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc2Vlbikge1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmludmVydGAgYW5kIGBfLmludmVydEJ5YCB3aGljaCBpbnZlcnRzXG4gICAgICogYG9iamVjdGAgd2l0aCB2YWx1ZXMgdHJhbnNmb3JtZWQgYnkgYGl0ZXJhdGVlYCBhbmQgc2V0IGJ5IGBzZXR0ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGBhY2N1bXVsYXRvcmAgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0gdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBpbnZlcnRlZCBvYmplY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBhY2N1bXVsYXRvcmAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludmVydGVyKG9iamVjdCwgc2V0dGVyLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgc2V0dGVyKGFjY3VtdWxhdG9yLCBpdGVyYXRlZSh2YWx1ZSksIGtleSwgb2JqZWN0KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmludm9rZWAgd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsXG4gICAgICogbWV0aG9kIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJbnZva2Uob2JqZWN0LCBwYXRoLCBhcmdzKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcbiAgICAgIG9iamVjdCA9IHBhcmVudChvYmplY3QsIHBhdGgpO1xuICAgICAgdmFyIGZ1bmMgPSBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IG9iamVjdFt0b0tleShsYXN0KHBhdGgpKV07XG4gICAgICByZXR1cm4gZnVuYyA9PSBudWxsID8gdW5kZWZpbmVkIDogYXBwbHkoZnVuYywgb2JqZWN0LCBhcmdzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FyZ3VtZW50c2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNBcmd1bWVudHModmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFyZ3NUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcnJheUJ1ZmZlcmAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5IGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0FycmF5QnVmZmVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcnJheUJ1ZmZlclRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0RhdGVgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGRhdGUgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRGF0ZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gZGF0ZVRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0VxdWFsYCB3aGljaCBzdXBwb3J0cyBwYXJ0aWFsIGNvbXBhcmlzb25zXG4gICAgICogYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAgICAgKiAgMSAtIFVub3JkZXJlZCBjb21wYXJpc29uXG4gICAgICogIDIgLSBQYXJ0aWFsIGNvbXBhcmlzb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGB2YWx1ZWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCBvdGhlciA9PSBudWxsIHx8ICghaXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhaXNPYmplY3RMaWtlKG90aGVyKSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUlzRXF1YWxEZWVwKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgYmFzZUlzRXF1YWwsIHN0YWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gICAgICogZGVlcCBjb21wYXJpc29ucyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICAgICAqIHJlZmVyZW5jZXMgdG8gYmUgY29tcGFyZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRXF1YWxEZWVwKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHZhciBvYmpJc0FyciA9IGlzQXJyYXkob2JqZWN0KSxcbiAgICAgICAgICBvdGhJc0FyciA9IGlzQXJyYXkob3RoZXIpLFxuICAgICAgICAgIG9ialRhZyA9IG9iaklzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob2JqZWN0KSxcbiAgICAgICAgICBvdGhUYWcgPSBvdGhJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG90aGVyKTtcblxuICAgICAgb2JqVGFnID0gb2JqVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvYmpUYWc7XG4gICAgICBvdGhUYWcgPSBvdGhUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG90aFRhZztcblxuICAgICAgdmFyIG9iaklzT2JqID0gb2JqVGFnID09IG9iamVjdFRhZyxcbiAgICAgICAgICBvdGhJc09iaiA9IG90aFRhZyA9PSBvYmplY3RUYWcsXG4gICAgICAgICAgaXNTYW1lVGFnID0gb2JqVGFnID09IG90aFRhZztcblxuICAgICAgaWYgKGlzU2FtZVRhZyAmJiBpc0J1ZmZlcihvYmplY3QpKSB7XG4gICAgICAgIGlmICghaXNCdWZmZXIob3RoZXIpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIG9iaklzQXJyID0gdHJ1ZTtcbiAgICAgICAgb2JqSXNPYmogPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1NhbWVUYWcgJiYgIW9iaklzT2JqKSB7XG4gICAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICAgIHJldHVybiAob2JqSXNBcnIgfHwgaXNUeXBlZEFycmF5KG9iamVjdCkpXG4gICAgICAgICAgPyBlcXVhbEFycmF5cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKVxuICAgICAgICAgIDogZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCBvYmpUYWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgICAgfVxuICAgICAgaWYgKCEoYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHKSkge1xuICAgICAgICB2YXIgb2JqSXNXcmFwcGVkID0gb2JqSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsICdfX3dyYXBwZWRfXycpLFxuICAgICAgICAgICAgb3RoSXNXcmFwcGVkID0gb3RoSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwgJ19fd3JhcHBlZF9fJyk7XG5cbiAgICAgICAgaWYgKG9iaklzV3JhcHBlZCB8fCBvdGhJc1dyYXBwZWQpIHtcbiAgICAgICAgICB2YXIgb2JqVW53cmFwcGVkID0gb2JqSXNXcmFwcGVkID8gb2JqZWN0LnZhbHVlKCkgOiBvYmplY3QsXG4gICAgICAgICAgICAgIG90aFVud3JhcHBlZCA9IG90aElzV3JhcHBlZCA/IG90aGVyLnZhbHVlKCkgOiBvdGhlcjtcblxuICAgICAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICAgICAgcmV0dXJuIGVxdWFsRnVuYyhvYmpVbndyYXBwZWQsIG90aFVud3JhcHBlZCwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWlzU2FtZVRhZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgcmV0dXJuIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc01hcGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbWFwLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTWFwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IG1hcFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc01hdGNoYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHBhcmFtIHtBcnJheX0gbWF0Y2hEYXRhIFRoZSBwcm9wZXJ0eSBuYW1lcywgdmFsdWVzLCBhbmQgY29tcGFyZSBmbGFncyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBtYXRjaERhdGEsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBpbmRleCA9IG1hdGNoRGF0YS5sZW5ndGgsXG4gICAgICAgICAgbGVuZ3RoID0gaW5kZXgsXG4gICAgICAgICAgbm9DdXN0b21pemVyID0gIWN1c3RvbWl6ZXI7XG5cbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gIWxlbmd0aDtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgdmFyIGRhdGEgPSBtYXRjaERhdGFbaW5kZXhdO1xuICAgICAgICBpZiAoKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKVxuICAgICAgICAgICAgICA/IGRhdGFbMV0gIT09IG9iamVjdFtkYXRhWzBdXVxuICAgICAgICAgICAgICA6ICEoZGF0YVswXSBpbiBvYmplY3QpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIGRhdGEgPSBtYXRjaERhdGFbaW5kZXhdO1xuICAgICAgICB2YXIga2V5ID0gZGF0YVswXSxcbiAgICAgICAgICAgIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgICAgICBzcmNWYWx1ZSA9IGRhdGFbMV07XG5cbiAgICAgICAgaWYgKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKSB7XG4gICAgICAgICAgaWYgKG9ialZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgc3RhY2sgPSBuZXcgU3RhY2s7XG4gICAgICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIShyZXN1bHQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gYmFzZUlzRXF1YWwoc3JjVmFsdWUsIG9ialZhbHVlLCBDT01QQVJFX1BBUlRJQUxfRkxBRyB8IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcsIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICAgICAgICAgIDogcmVzdWx0XG4gICAgICAgICAgICAgICkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgcGF0dGVybiA9IGlzRnVuY3Rpb24odmFsdWUpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1JlZ0V4cGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcmVnZXhwLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzUmVnRXhwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSByZWdleHBUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNTZXRgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHNldCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc1NldCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSBzZXRUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNUeXBlZEFycmF5YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc1R5cGVkQXJyYXkodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgICAgIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgISF0eXBlZEFycmF5VGFnc1tiYXNlR2V0VGFnKHZhbHVlKV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXRlcmF0ZWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IFt2YWx1ZT1fLmlkZW50aXR5XSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhbiBpdGVyYXRlZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGl0ZXJhdGVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJdGVyYXRlZSh2YWx1ZSkge1xuICAgICAgLy8gRG9uJ3Qgc3RvcmUgdGhlIGB0eXBlb2ZgIHJlc3VsdCBpbiBhIHZhcmlhYmxlIHRvIGF2b2lkIGEgSklUIGJ1ZyBpbiBTYWZhcmkgOS5cbiAgICAgIC8vIFNlZSBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTU2MDM0IGZvciBtb3JlIGRldGFpbHMuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSlcbiAgICAgICAgICA/IGJhc2VNYXRjaGVzUHJvcGVydHkodmFsdWVbMF0sIHZhbHVlWzFdKVxuICAgICAgICAgIDogYmFzZU1hdGNoZXModmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb3BlcnR5KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VLZXlzKG9iamVjdCkge1xuICAgICAgaWYgKCFpc1Byb3RvdHlwZShvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBuYXRpdmVLZXlzKG9iamVjdCk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGtleSAhPSAnY29uc3RydWN0b3InKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzSW5gIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUtleXNJbihvYmplY3QpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gbmF0aXZlS2V5c0luKG9iamVjdCk7XG4gICAgICB9XG4gICAgICB2YXIgaXNQcm90byA9IGlzUHJvdG90eXBlKG9iamVjdCksXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgaWYgKCEoa2V5ID09ICdjb25zdHJ1Y3RvcicgJiYgKGlzUHJvdG8gfHwgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmx0YCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VMdCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA8IG90aGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hcGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcmVzdWx0ID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBBcnJheShjb2xsZWN0aW9uLmxlbmd0aCkgOiBbXTtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICByZXN1bHRbKytpbmRleF0gPSBpdGVyYXRlZSh2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXRjaGVzYCB3aGljaCBkb2Vzbid0IGNsb25lIGBzb3VyY2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1hdGNoZXMoc291cmNlKSB7XG4gICAgICB2YXIgbWF0Y2hEYXRhID0gZ2V0TWF0Y2hEYXRhKHNvdXJjZSk7XG4gICAgICBpZiAobWF0Y2hEYXRhLmxlbmd0aCA9PSAxICYmIG1hdGNoRGF0YVswXVsyXSkge1xuICAgICAgICByZXR1cm4gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUobWF0Y2hEYXRhWzBdWzBdLCBtYXRjaERhdGFbMF1bMV0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gb2JqZWN0ID09PSBzb3VyY2UgfHwgYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIG1hdGNoRGF0YSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNQcm9wZXJ0eWAgd2hpY2ggZG9lc24ndCBjbG9uZSBgc3JjVmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1hdGNoZXNQcm9wZXJ0eShwYXRoLCBzcmNWYWx1ZSkge1xuICAgICAgaWYgKGlzS2V5KHBhdGgpICYmIGlzU3RyaWN0Q29tcGFyYWJsZShzcmNWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKHRvS2V5KHBhdGgpLCBzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHZhciBvYmpWYWx1ZSA9IGdldChvYmplY3QsIHBhdGgpO1xuICAgICAgICByZXR1cm4gKG9ialZhbHVlID09PSB1bmRlZmluZWQgJiYgb2JqVmFsdWUgPT09IHNyY1ZhbHVlKVxuICAgICAgICAgID8gaGFzSW4ob2JqZWN0LCBwYXRoKVxuICAgICAgICAgIDogYmFzZUlzRXF1YWwoc3JjVmFsdWUsIG9ialZhbHVlLCBDT01QQVJFX1BBUlRJQUxfRkxBRyB8IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tZXJnZWAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIG1lcmdlZCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAgICAgKiAgY291bnRlcnBhcnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gICAgICBpZiAob2JqZWN0ID09PSBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmFzZUZvcihzb3VyY2UsIGZ1bmN0aW9uKHNyY1ZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKGlzT2JqZWN0KHNyY1ZhbHVlKSkge1xuICAgICAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICAgICAgYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgYmFzZU1lcmdlLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICAgICAgPyBjdXN0b21pemVyKHNhZmVHZXQob2JqZWN0LCBrZXkpLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9LCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZU1lcmdlYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gICAgICogZGVlcCBtZXJnZXMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAgICAgKiByZWZlcmVuY2VzIHRvIGJlIG1lcmdlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBtZXJnZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG1lcmdlRnVuYyBUaGUgZnVuY3Rpb24gdG8gbWVyZ2UgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgbWVyZ2VGdW5jLCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgdmFyIG9ialZhbHVlID0gc2FmZUdldChvYmplY3QsIGtleSksXG4gICAgICAgICAgc3JjVmFsdWUgPSBzYWZlR2V0KHNvdXJjZSwga2V5KSxcbiAgICAgICAgICBzdGFja2VkID0gc3RhY2suZ2V0KHNyY1ZhbHVlKTtcblxuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgc3RhY2tlZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgPyBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgdmFyIGlzQ29tbW9uID0gbmV3VmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKGlzQ29tbW9uKSB7XG4gICAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkoc3JjVmFsdWUpLFxuICAgICAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmIGlzQnVmZmVyKHNyY1ZhbHVlKSxcbiAgICAgICAgICAgIGlzVHlwZWQgPSAhaXNBcnIgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkoc3JjVmFsdWUpO1xuXG4gICAgICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG4gICAgICAgIGlmIChpc0FyciB8fCBpc0J1ZmYgfHwgaXNUeXBlZCkge1xuICAgICAgICAgIGlmIChpc0FycmF5KG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNBcnJheUxpa2VPYmplY3Qob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNvcHlBcnJheShvYmpWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzQnVmZikge1xuICAgICAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY2xvbmVCdWZmZXIoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc1R5cGVkKSB7XG4gICAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjbG9uZVR5cGVkQXJyYXkoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gW107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3Qoc3JjVmFsdWUpIHx8IGlzQXJndW1lbnRzKHNyY1ZhbHVlKSkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG4gICAgICAgICAgaWYgKGlzQXJndW1lbnRzKG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSB0b1BsYWluT2JqZWN0KG9ialZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoIWlzT2JqZWN0KG9ialZhbHVlKSB8fCAoc3JjSW5kZXggJiYgaXNGdW5jdGlvbihvYmpWYWx1ZSkpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGluaXRDbG9uZU9iamVjdChzcmNWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpc0NvbW1vbikge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgc3RhY2suc2V0KHNyY1ZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgICAgIG1lcmdlRnVuYyhuZXdWYWx1ZSwgc3JjVmFsdWUsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIHN0YWNrWydkZWxldGUnXShzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubnRoYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgaW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBudGggZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VOdGgoYXJyYXksIG4pIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBuICs9IG4gPCAwID8gbGVuZ3RoIDogMDtcbiAgICAgIHJldHVybiBpc0luZGV4KG4sIGxlbmd0aCkgPyBhcnJheVtuXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5vcmRlckJ5YCB3aXRob3V0IHBhcmFtIGd1YXJkcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb25bXXxPYmplY3RbXXxzdHJpbmdbXX0gaXRlcmF0ZWVzIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBvcmRlcnMgVGhlIHNvcnQgb3JkZXJzIG9mIGBpdGVyYXRlZXNgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycykge1xuICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICBpdGVyYXRlZXMgPSBhcnJheU1hcChpdGVyYXRlZXMubGVuZ3RoID8gaXRlcmF0ZWVzIDogW2lkZW50aXR5XSwgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcblxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VNYXAoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICB2YXIgY3JpdGVyaWEgPSBhcnJheU1hcChpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdGVlKHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7ICdjcml0ZXJpYSc6IGNyaXRlcmlhLCAnaW5kZXgnOiArK2luZGV4LCAndmFsdWUnOiB2YWx1ZSB9O1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBiYXNlU29ydEJ5KHJlc3VsdCwgZnVuY3Rpb24ob2JqZWN0LCBvdGhlcikge1xuICAgICAgICByZXR1cm4gY29tcGFyZU11bHRpcGxlKG9iamVjdCwgb3RoZXIsIG9yZGVycyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5waWNrYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQaWNrKG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHJldHVybiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIGZ1bmN0aW9uKHZhbHVlLCBwYXRoKSB7XG4gICAgICAgIHJldHVybiBoYXNJbihvYmplY3QsIHBhdGgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgIGBfLnBpY2tCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcGF0aCA9IHBhdGhzW2luZGV4XSxcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZUdldChvYmplY3QsIHBhdGgpO1xuXG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIHBhdGgpKSB7XG4gICAgICAgICAgYmFzZVNldChyZXN1bHQsIGNhc3RQYXRoKHBhdGgsIG9iamVjdCksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VQcm9wZXJ0eWAgd2hpY2ggc3VwcG9ydHMgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHVsbEFsbEJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAgICogc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4T2YgPSBjb21wYXJhdG9yID8gYmFzZUluZGV4T2ZXaXRoIDogYmFzZUluZGV4T2YsXG4gICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICAgIHNlZW4gPSBhcnJheTtcblxuICAgICAgaWYgKGFycmF5ID09PSB2YWx1ZXMpIHtcbiAgICAgICAgdmFsdWVzID0gY29weUFycmF5KHZhbHVlcyk7XG4gICAgICB9XG4gICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgc2VlbiA9IGFycmF5TWFwKGFycmF5LCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBmcm9tSW5kZXggPSAwLFxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZXNbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHdoaWxlICgoZnJvbUluZGV4ID0gaW5kZXhPZihzZWVuLCBjb21wdXRlZCwgZnJvbUluZGV4LCBjb21wYXJhdG9yKSkgPiAtMSkge1xuICAgICAgICAgIGlmIChzZWVuICE9PSBhcnJheSkge1xuICAgICAgICAgICAgc3BsaWNlLmNhbGwoc2VlbiwgZnJvbUluZGV4LCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3BsaWNlLmNhbGwoYXJyYXksIGZyb21JbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wdWxsQXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbFxuICAgICAqIGluZGV4ZXMgb3IgY2FwdHVyaW5nIHRoZSByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ZXMgVGhlIGluZGV4ZXMgb2YgZWxlbWVudHMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQdWxsQXQoYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA/IGluZGV4ZXMubGVuZ3RoIDogMCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5kZXhlc1tsZW5ndGhdO1xuICAgICAgICBpZiAobGVuZ3RoID09IGxhc3RJbmRleCB8fCBpbmRleCAhPT0gcHJldmlvdXMpIHtcbiAgICAgICAgICB2YXIgcHJldmlvdXMgPSBpbmRleDtcbiAgICAgICAgICBpZiAoaXNJbmRleChpbmRleCkpIHtcbiAgICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBpbmRleCwgMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJhc2VVbnNldChhcnJheSwgaW5kZXgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJhbmRvbWAgd2l0aG91dCBzdXBwb3J0IGZvciByZXR1cm5pbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbG93ZXIgVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcmFuZG9tIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmFuZG9tKGxvd2VyLCB1cHBlcikge1xuICAgICAgcmV0dXJuIGxvd2VyICsgbmF0aXZlRmxvb3IobmF0aXZlUmFuZG9tKCkgKiAodXBwZXIgLSBsb3dlciArIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5nZWAgYW5kIGBfLnJhbmdlUmlnaHRgIHdoaWNoIGRvZXNuJ3RcbiAgICAgKiBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGVwIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCwgZnJvbVJpZ2h0KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgobmF0aXZlQ2VpbCgoZW5kIC0gc3RhcnQpIC8gKHN0ZXAgfHwgMSkpLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgcmVzdWx0W2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ICs9IHN0ZXA7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlcGVhdGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gcmVwZWF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmVwZWF0ZWQgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSZXBlYXQoc3RyaW5nLCBuKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICBpZiAoIXN0cmluZyB8fCBuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgLy8gTGV2ZXJhZ2UgdGhlIGV4cG9uZW50aWF0aW9uIGJ5IHNxdWFyaW5nIGFsZ29yaXRobSBmb3IgYSBmYXN0ZXIgcmVwZWF0LlxuICAgICAgLy8gU2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0V4cG9uZW50aWF0aW9uX2J5X3NxdWFyaW5nIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICBkbyB7XG4gICAgICAgIGlmIChuICUgMikge1xuICAgICAgICAgIHJlc3VsdCArPSBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgICAgbiA9IG5hdGl2ZUZsb29yKG4gLyAyKTtcbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICBzdHJpbmcgKz0gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlIChuKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXN0YCB3aGljaCBkb2Vzbid0IHZhbGlkYXRlIG9yIGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgc3RhcnQsIGlkZW50aXR5KSwgZnVuYyArICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zYW1wbGVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTYW1wbGUoY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIGFycmF5U2FtcGxlKHZhbHVlcyhjb2xsZWN0aW9uKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2FtcGxlU2l6ZWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2FtcGxlU2l6ZShjb2xsZWN0aW9uLCBuKSB7XG4gICAgICB2YXIgYXJyYXkgPSB2YWx1ZXMoY29sbGVjdGlvbik7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoYXJyYXksIGJhc2VDbGFtcChuLCAwLCBhcnJheS5sZW5ndGgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zZXRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIHBhdGggY3JlYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfVxuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuICAgICAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDEsXG4gICAgICAgICAgbmVzdGVkID0gb2JqZWN0O1xuXG4gICAgICB3aGlsZSAobmVzdGVkICE9IG51bGwgJiYgKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pLFxuICAgICAgICAgICAgbmV3VmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICBpZiAoaW5kZXggIT0gbGFzdEluZGV4KSB7XG4gICAgICAgICAgdmFyIG9ialZhbHVlID0gbmVzdGVkW2tleV07XG4gICAgICAgICAgbmV3VmFsdWUgPSBjdXN0b21pemVyID8gY3VzdG9taXplcihvYmpWYWx1ZSwga2V5LCBuZXN0ZWQpIDogdW5kZWZpbmVkO1xuICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGlzT2JqZWN0KG9ialZhbHVlKVxuICAgICAgICAgICAgICA/IG9ialZhbHVlXG4gICAgICAgICAgICAgIDogKGlzSW5kZXgocGF0aFtpbmRleCArIDFdKSA/IFtdIDoge30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhc3NpZ25WYWx1ZShuZXN0ZWQsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICBuZXN0ZWQgPSBuZXN0ZWRba2V5XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldERhdGFgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaG90IGxvb3Agc2hvcnRpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc29jaWF0ZSBtZXRhZGF0YSB3aXRoLlxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZVNldERhdGEgPSAhbWV0YU1hcCA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgZGF0YSkge1xuICAgICAgbWV0YU1hcC5zZXQoZnVuYywgZGF0YSk7XG4gICAgICByZXR1cm4gZnVuYztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBiYXNlU2V0VG9TdHJpbmcgPSAhZGVmaW5lUHJvcGVydHkgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIHN0cmluZykge1xuICAgICAgcmV0dXJuIGRlZmluZVByb3BlcnR5KGZ1bmMsICd0b1N0cmluZycsIHtcbiAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAgICdlbnVtZXJhYmxlJzogZmFsc2UsXG4gICAgICAgICd2YWx1ZSc6IGNvbnN0YW50KHN0cmluZyksXG4gICAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zaHVmZmxlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYodmFsdWVzKGNvbGxlY3Rpb24pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zbGljZWAgd2l0aG91dCBhbiBpdGVyYXRlZSBjYWxsIGd1YXJkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuICAgICAgfVxuICAgICAgZW5kID0gZW5kID4gbGVuZ3RoID8gbGVuZ3RoIDogZW5kO1xuICAgICAgaWYgKGVuZCA8IDApIHtcbiAgICAgICAgZW5kICs9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGxlbmd0aCA9IHN0YXJ0ID4gZW5kID8gMCA6ICgoZW5kIC0gc3RhcnQpID4+PiAwKTtcbiAgICAgIHN0YXJ0ID4+Pj0gMDtcblxuICAgICAgdmFyIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gYXJyYXlbaW5kZXggKyBzdGFydF07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvbWVgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb21lKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdCA9IHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gIXJlc3VsdDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICEhcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4YCBhbmQgYF8uc29ydGVkTGFzdEluZGV4YCB3aGljaFxuICAgICAqIHBlcmZvcm1zIGEgYmluYXJ5IHNlYXJjaCBvZiBgYXJyYXlgIHRvIGRldGVybWluZSB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYFxuICAgICAqIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG8gbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXRIaWdoZXN0XSBTcGVjaWZ5IHJldHVybmluZyB0aGUgaGlnaGVzdCBxdWFsaWZpZWQgaW5kZXguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHJldEhpZ2hlc3QpIHtcbiAgICAgIHZhciBsb3cgPSAwLFxuICAgICAgICAgIGhpZ2ggPSBhcnJheSA9PSBudWxsID8gbG93IDogYXJyYXkubGVuZ3RoO1xuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID09PSB2YWx1ZSAmJiBoaWdoIDw9IEhBTEZfTUFYX0FSUkFZX0xFTkdUSCkge1xuICAgICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICAgIHZhciBtaWQgPSAobG93ICsgaGlnaCkgPj4+IDEsXG4gICAgICAgICAgICAgIGNvbXB1dGVkID0gYXJyYXlbbWlkXTtcblxuICAgICAgICAgIGlmIChjb21wdXRlZCAhPT0gbnVsbCAmJiAhaXNTeW1ib2woY29tcHV0ZWQpICYmXG4gICAgICAgICAgICAgIChyZXRIaWdoZXN0ID8gKGNvbXB1dGVkIDw9IHZhbHVlKSA6IChjb21wdXRlZCA8IHZhbHVlKSkpIHtcbiAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoaWdoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaWRlbnRpdHksIHJldEhpZ2hlc3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4QnlgIGFuZCBgXy5zb3J0ZWRMYXN0SW5kZXhCeWBcbiAgICAgKiB3aGljaCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGVcbiAgICAgKiB0aGVpciBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmV0SGlnaGVzdF0gU3BlY2lmeSByZXR1cm5pbmcgdGhlIGhpZ2hlc3QgcXVhbGlmaWVkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlLCByZXRIaWdoZXN0KSB7XG4gICAgICB2YWx1ZSA9IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgdmFyIGxvdyA9IDAsXG4gICAgICAgICAgaGlnaCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHZhbElzTmFOID0gdmFsdWUgIT09IHZhbHVlLFxuICAgICAgICAgIHZhbElzTnVsbCA9IHZhbHVlID09PSBudWxsLFxuICAgICAgICAgIHZhbElzU3ltYm9sID0gaXNTeW1ib2wodmFsdWUpLFxuICAgICAgICAgIHZhbElzVW5kZWZpbmVkID0gdmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgdmFyIG1pZCA9IG5hdGl2ZUZsb29yKChsb3cgKyBoaWdoKSAvIDIpLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZShhcnJheVttaWRdKSxcbiAgICAgICAgICAgIG90aElzRGVmaW5lZCA9IGNvbXB1dGVkICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICBvdGhJc051bGwgPSBjb21wdXRlZCA9PT0gbnVsbCxcbiAgICAgICAgICAgIG90aElzUmVmbGV4aXZlID0gY29tcHV0ZWQgPT09IGNvbXB1dGVkLFxuICAgICAgICAgICAgb3RoSXNTeW1ib2wgPSBpc1N5bWJvbChjb21wdXRlZCk7XG5cbiAgICAgICAgaWYgKHZhbElzTmFOKSB7XG4gICAgICAgICAgdmFyIHNldExvdyA9IHJldEhpZ2hlc3QgfHwgb3RoSXNSZWZsZXhpdmU7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNVbmRlZmluZWQpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiAocmV0SGlnaGVzdCB8fCBvdGhJc0RlZmluZWQpO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzTnVsbCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIG90aElzRGVmaW5lZCAmJiAocmV0SGlnaGVzdCB8fCAhb3RoSXNOdWxsKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc1N5bWJvbCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIG90aElzRGVmaW5lZCAmJiAhb3RoSXNOdWxsICYmIChyZXRIaWdoZXN0IHx8ICFvdGhJc1N5bWJvbCk7XG4gICAgICAgIH0gZWxzZSBpZiAob3RoSXNOdWxsIHx8IG90aElzU3ltYm9sKSB7XG4gICAgICAgICAgc2V0TG93ID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0TG93ID0gcmV0SGlnaGVzdCA/IChjb21wdXRlZCA8PSB2YWx1ZSkgOiAoY29tcHV0ZWQgPCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNldExvdykge1xuICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGlnaCA9IG1pZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5hdGl2ZU1pbihoaWdoLCBNQVhfQVJSQVlfSU5ERVgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZFVuaXFgIGFuZCBgXy5zb3J0ZWRVbmlxQnlgIHdpdGhvdXRcbiAgICAgKiBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb3J0ZWRVbmlxKGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIGlmICghaW5kZXggfHwgIWVxKGNvbXB1dGVkLCBzZWVuKSkge1xuICAgICAgICAgIHZhciBzZWVuID0gY29tcHV0ZWQ7XG4gICAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWUgPT09IDAgPyAwIDogdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9OdW1iZXJgIHdoaWNoIGRvZXNuJ3QgZW5zdXJlIGNvcnJlY3RcbiAgICAgKiBjb252ZXJzaW9ucyBvZiBiaW5hcnksIGhleGFkZWNpbWFsLCBvciBvY3RhbCBzdHJpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVG9OdW1iZXIodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gTkFOO1xuICAgICAgfVxuICAgICAgcmV0dXJuICt2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1N0cmluZ2Agd2hpY2ggZG9lc24ndCBjb252ZXJ0IG51bGxpc2hcbiAgICAgKiB2YWx1ZXMgdG8gZW1wdHkgc3RyaW5ncy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICAvLyBFeGl0IGVhcmx5IGZvciBzdHJpbmdzIHRvIGF2b2lkIGEgcGVyZm9ybWFuY2UgaGl0IGluIHNvbWUgZW52aXJvbm1lbnRzLlxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29udmVydCB2YWx1ZXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCBiYXNlVG9TdHJpbmcpICsgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBzeW1ib2xUb1N0cmluZyA/IHN5bWJvbFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICAgICAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuaXFCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVbmlxKGFycmF5LCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBpc0NvbW1vbiA9IHRydWUsXG4gICAgICAgICAgcmVzdWx0ID0gW10sXG4gICAgICAgICAgc2VlbiA9IHJlc3VsdDtcblxuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzV2l0aDtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGxlbmd0aCA+PSBMQVJHRV9BUlJBWV9TSVpFKSB7XG4gICAgICAgIHZhciBzZXQgPSBpdGVyYXRlZSA/IG51bGwgOiBjcmVhdGVTZXQoYXJyYXkpO1xuICAgICAgICBpZiAoc2V0KSB7XG4gICAgICAgICAgcmV0dXJuIHNldFRvQXJyYXkoc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBpbmNsdWRlcyA9IGNhY2hlSGFzO1xuICAgICAgICBzZWVuID0gbmV3IFNldENhY2hlO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHNlZW4gPSBpdGVyYXRlZSA/IFtdIDogcmVzdWx0O1xuICAgICAgfVxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmIChpc0NvbW1vbiAmJiBjb21wdXRlZCA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICB2YXIgc2VlbkluZGV4ID0gc2Vlbi5sZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKHNlZW5JbmRleC0tKSB7XG4gICAgICAgICAgICBpZiAoc2VlbltzZWVuSW5kZXhdID09PSBjb21wdXRlZCkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWluY2x1ZGVzKHNlZW4sIGNvbXB1dGVkLCBjb21wYXJhdG9yKSkge1xuICAgICAgICAgIGlmIChzZWVuICE9PSByZXN1bHQpIHtcbiAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bnNldGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHByb3BlcnR5IHBhdGggdG8gdW5zZXQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBwcm9wZXJ0eSBpcyBkZWxldGVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVuc2V0KG9iamVjdCwgcGF0aCkge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICBvYmplY3QgPSBwYXJlbnQob2JqZWN0LCBwYXRoKTtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCB8fCBkZWxldGUgb2JqZWN0W3RvS2V5KGxhc3QocGF0aCkpXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51cGRhdGVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byB1cGRhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBwYXRoIGNyZWF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIHVwZGF0ZXIsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHJldHVybiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdXBkYXRlcihiYXNlR2V0KG9iamVjdCwgcGF0aCkpLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZHJvcFdoaWxlYCBhbmQgYF8udGFrZVdoaWxlYFxuICAgICAqIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRHJvcF0gU3BlY2lmeSBkcm9wcGluZyBlbGVtZW50cyBpbnN0ZWFkIG9mIHRha2luZyB0aGVtLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlV2hpbGUoYXJyYXksIHByZWRpY2F0ZSwgaXNEcm9wLCBmcm9tUmlnaHQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgaW5kZXggPSBmcm9tUmlnaHQgPyBsZW5ndGggOiAtMTtcblxuICAgICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkgJiZcbiAgICAgICAgcHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge31cblxuICAgICAgcmV0dXJuIGlzRHJvcFxuICAgICAgICA/IGJhc2VTbGljZShhcnJheSwgKGZyb21SaWdodCA/IDAgOiBpbmRleCksIChmcm9tUmlnaHQgPyBpbmRleCArIDEgOiBsZW5ndGgpKVxuICAgICAgICA6IGJhc2VTbGljZShhcnJheSwgKGZyb21SaWdodCA/IGluZGV4ICsgMSA6IDApLCAoZnJvbVJpZ2h0ID8gbGVuZ3RoIDogaW5kZXgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgd3JhcHBlclZhbHVlYCB3aGljaCByZXR1cm5zIHRoZSByZXN1bHQgb2ZcbiAgICAgKiBwZXJmb3JtaW5nIGEgc2VxdWVuY2Ugb2YgYWN0aW9ucyBvbiB0aGUgdW53cmFwcGVkIGB2YWx1ZWAsIHdoZXJlIGVhY2hcbiAgICAgKiBzdWNjZXNzaXZlIGFjdGlvbiBpcyBzdXBwbGllZCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFjdGlvbnMgQWN0aW9ucyB0byBwZXJmb3JtIHRvIHJlc29sdmUgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVdyYXBwZXJWYWx1ZSh2YWx1ZSwgYWN0aW9ucykge1xuICAgICAgdmFyIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC52YWx1ZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5UmVkdWNlKGFjdGlvbnMsIGZ1bmN0aW9uKHJlc3VsdCwgYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBhY3Rpb24uZnVuYy5hcHBseShhY3Rpb24udGhpc0FyZywgYXJyYXlQdXNoKFtyZXN1bHRdLCBhY3Rpb24uYXJncykpO1xuICAgICAgfSwgcmVzdWx0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8ueG9yYCwgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHRoYXQgYWNjZXB0cyBhbiBhcnJheSBvZiBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXlzIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlWG9yKGFycmF5cywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheXMubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VVbmlxKGFycmF5c1swXSkgOiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tpbmRleF0sXG4gICAgICAgICAgICBvdGhJbmRleCA9IC0xO1xuXG4gICAgICAgIHdoaWxlICgrK290aEluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKG90aEluZGV4ICE9IGluZGV4KSB7XG4gICAgICAgICAgICByZXN1bHRbaW5kZXhdID0gYmFzZURpZmZlcmVuY2UocmVzdWx0W2luZGV4XSB8fCBhcnJheSwgYXJyYXlzW290aEluZGV4XSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKHJlc3VsdCwgMSksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uemlwT2JqZWN0YCB3aGljaCBhc3NpZ25zIHZhbHVlcyB1c2luZyBgYXNzaWduRnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3NpZ25GdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVppcE9iamVjdChwcm9wcywgdmFsdWVzLCBhc3NpZ25GdW5jKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGgsXG4gICAgICAgICAgdmFsc0xlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGluZGV4IDwgdmFsc0xlbmd0aCA/IHZhbHVlc1tpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICAgIGFzc2lnbkZ1bmMocmVzdWx0LCBwcm9wc1tpbmRleF0sIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBhbiBlbXB0eSBhcnJheSBpZiBpdCdzIG5vdCBhbiBhcnJheSBsaWtlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIHRoZSBjYXN0IGFycmF5LWxpa2Ugb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkgPyB2YWx1ZSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYGlkZW50aXR5YCBpZiBpdCdzIG5vdCBhIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBjYXN0IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RGdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nID8gdmFsdWUgOiBpZGVudGl0eTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGEgcGF0aCBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0UGF0aCh2YWx1ZSwgb2JqZWN0KSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzS2V5KHZhbHVlLCBvYmplY3QpID8gW3ZhbHVlXSA6IHN0cmluZ1RvUGF0aCh0b1N0cmluZyh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgYGJhc2VSZXN0YCBhbGlhcyB3aGljaCBjYW4gYmUgcmVwbGFjZWQgd2l0aCBgaWRlbnRpdHlgIGJ5IG1vZHVsZVxuICAgICAqIHJlcGxhY2VtZW50IHBsdWdpbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIHZhciBjYXN0UmVzdCA9IGJhc2VSZXN0O1xuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYGFycmF5YCB0byBhIHNsaWNlIGlmIGl0J3MgbmVlZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3Qgc2xpY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdFNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiBlbmQ7XG4gICAgICByZXR1cm4gKCFzdGFydCAmJiBlbmQgPj0gbGVuZ3RoKSA/IGFycmF5IDogYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNpbXBsZSB3cmFwcGVyIGFyb3VuZCB0aGUgZ2xvYmFsIFtgY2xlYXJUaW1lb3V0YF0oaHR0cHM6Ly9tZG4uaW8vY2xlYXJUaW1lb3V0KS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ8T2JqZWN0fSBpZCBUaGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3Qgb2YgdGhlIHRpbWVyIHRvIGNsZWFyLlxuICAgICAqL1xuICAgIHZhciBjbGVhclRpbWVvdXQgPSBjdHhDbGVhclRpbWVvdXQgfHwgZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiByb290LmNsZWFyVGltZW91dChpZCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiAgYGJ1ZmZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QnVmZmVyfSBidWZmZXIgVGhlIGJ1ZmZlciB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBidWZmZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVCdWZmZXIoYnVmZmVyLCBpc0RlZXApIHtcbiAgICAgIGlmIChpc0RlZXApIHtcbiAgICAgICAgcmV0dXJuIGJ1ZmZlci5zbGljZSgpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGJ1ZmZlci5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gYWxsb2NVbnNhZmUgPyBhbGxvY1Vuc2FmZShsZW5ndGgpIDogbmV3IGJ1ZmZlci5jb25zdHJ1Y3RvcihsZW5ndGgpO1xuXG4gICAgICBidWZmZXIuY29weShyZXN1bHQpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGFycmF5QnVmZmVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyYXlCdWZmZXIgVGhlIGFycmF5IGJ1ZmZlciB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXlCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBhcnJheSBidWZmZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVBcnJheUJ1ZmZlcihhcnJheUJ1ZmZlcikge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBhcnJheUJ1ZmZlci5jb25zdHJ1Y3RvcihhcnJheUJ1ZmZlci5ieXRlTGVuZ3RoKTtcbiAgICAgIG5ldyBVaW50OEFycmF5KHJlc3VsdCkuc2V0KG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgZGF0YVZpZXdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVZpZXcgVGhlIGRhdGEgdmlldyB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBkYXRhIHZpZXcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEYXRhVmlldyhkYXRhVmlldywgaXNEZWVwKSB7XG4gICAgICB2YXIgYnVmZmVyID0gaXNEZWVwID8gY2xvbmVBcnJheUJ1ZmZlcihkYXRhVmlldy5idWZmZXIpIDogZGF0YVZpZXcuYnVmZmVyO1xuICAgICAgcmV0dXJuIG5ldyBkYXRhVmlldy5jb25zdHJ1Y3RvcihidWZmZXIsIGRhdGFWaWV3LmJ5dGVPZmZzZXQsIGRhdGFWaWV3LmJ5dGVMZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgcmVnZXhwYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlZ2V4cCBUaGUgcmVnZXhwIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCByZWdleHAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVSZWdFeHAocmVnZXhwKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IHJlZ2V4cC5jb25zdHJ1Y3RvcihyZWdleHAuc291cmNlLCByZUZsYWdzLmV4ZWMocmVnZXhwKSk7XG4gICAgICByZXN1bHQubGFzdEluZGV4ID0gcmVnZXhwLmxhc3RJbmRleDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBgc3ltYm9sYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzeW1ib2wgVGhlIHN5bWJvbCBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHN5bWJvbCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVTeW1ib2woc3ltYm9sKSB7XG4gICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZiA/IE9iamVjdChzeW1ib2xWYWx1ZU9mLmNhbGwoc3ltYm9sKSkgOiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHR5cGVkQXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdHlwZWRBcnJheSBUaGUgdHlwZWQgYXJyYXkgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgdHlwZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVUeXBlZEFycmF5KHR5cGVkQXJyYXksIGlzRGVlcCkge1xuICAgICAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIodHlwZWRBcnJheS5idWZmZXIpIDogdHlwZWRBcnJheS5idWZmZXI7XG4gICAgICByZXR1cm4gbmV3IHR5cGVkQXJyYXkuY29uc3RydWN0b3IoYnVmZmVyLCB0eXBlZEFycmF5LmJ5dGVPZmZzZXQsIHR5cGVkQXJyYXkubGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wYXJlcyB2YWx1ZXMgdG8gc29ydCB0aGVtIGluIGFzY2VuZGluZyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHNvcnQgb3JkZXIgaW5kaWNhdG9yIGZvciBgdmFsdWVgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVBc2NlbmRpbmcodmFsdWUsIG90aGVyKSB7XG4gICAgICBpZiAodmFsdWUgIT09IG90aGVyKSB7XG4gICAgICAgIHZhciB2YWxJc0RlZmluZWQgPSB2YWx1ZSAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgdmFsSXNOdWxsID0gdmFsdWUgPT09IG51bGwsXG4gICAgICAgICAgICB2YWxJc1JlZmxleGl2ZSA9IHZhbHVlID09PSB2YWx1ZSxcbiAgICAgICAgICAgIHZhbElzU3ltYm9sID0gaXNTeW1ib2wodmFsdWUpO1xuXG4gICAgICAgIHZhciBvdGhJc0RlZmluZWQgPSBvdGhlciAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgb3RoSXNOdWxsID0gb3RoZXIgPT09IG51bGwsXG4gICAgICAgICAgICBvdGhJc1JlZmxleGl2ZSA9IG90aGVyID09PSBvdGhlcixcbiAgICAgICAgICAgIG90aElzU3ltYm9sID0gaXNTeW1ib2wob3RoZXIpO1xuXG4gICAgICAgIGlmICgoIW90aElzTnVsbCAmJiAhb3RoSXNTeW1ib2wgJiYgIXZhbElzU3ltYm9sICYmIHZhbHVlID4gb3RoZXIpIHx8XG4gICAgICAgICAgICAodmFsSXNTeW1ib2wgJiYgb3RoSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlICYmICFvdGhJc051bGwgJiYgIW90aElzU3ltYm9sKSB8fFxuICAgICAgICAgICAgKHZhbElzTnVsbCAmJiBvdGhJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAoIXZhbElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICF2YWxJc1JlZmxleGl2ZSkge1xuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoIXZhbElzTnVsbCAmJiAhdmFsSXNTeW1ib2wgJiYgIW90aElzU3ltYm9sICYmIHZhbHVlIDwgb3RoZXIpIHx8XG4gICAgICAgICAgICAob3RoSXNTeW1ib2wgJiYgdmFsSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlICYmICF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sKSB8fFxuICAgICAgICAgICAgKG90aElzTnVsbCAmJiB2YWxJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAoIW90aElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICFvdGhJc1JlZmxleGl2ZSkge1xuICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5vcmRlckJ5YCB0byBjb21wYXJlIG11bHRpcGxlIHByb3BlcnRpZXMgb2YgYSB2YWx1ZSB0byBhbm90aGVyXG4gICAgICogYW5kIHN0YWJsZSBzb3J0IHRoZW0uXG4gICAgICpcbiAgICAgKiBJZiBgb3JkZXJzYCBpcyB1bnNwZWNpZmllZCwgYWxsIHZhbHVlcyBhcmUgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlci4gT3RoZXJ3aXNlLFxuICAgICAqIHNwZWNpZnkgYW4gb3JkZXIgb2YgXCJkZXNjXCIgZm9yIGRlc2NlbmRpbmcgb3IgXCJhc2NcIiBmb3IgYXNjZW5kaW5nIHNvcnQgb3JkZXJcbiAgICAgKiBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW5bXXxzdHJpbmdbXX0gb3JkZXJzIFRoZSBvcmRlciB0byBzb3J0IGJ5IGZvciBlYWNoIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHNvcnQgb3JkZXIgaW5kaWNhdG9yIGZvciBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYXJlTXVsdGlwbGUob2JqZWN0LCBvdGhlciwgb3JkZXJzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBvYmpDcml0ZXJpYSA9IG9iamVjdC5jcml0ZXJpYSxcbiAgICAgICAgICBvdGhDcml0ZXJpYSA9IG90aGVyLmNyaXRlcmlhLFxuICAgICAgICAgIGxlbmd0aCA9IG9iakNyaXRlcmlhLmxlbmd0aCxcbiAgICAgICAgICBvcmRlcnNMZW5ndGggPSBvcmRlcnMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gY29tcGFyZUFzY2VuZGluZyhvYmpDcml0ZXJpYVtpbmRleF0sIG90aENyaXRlcmlhW2luZGV4XSk7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBpZiAoaW5kZXggPj0gb3JkZXJzTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgb3JkZXIgPSBvcmRlcnNbaW5kZXhdO1xuICAgICAgICAgIHJldHVybiByZXN1bHQgKiAob3JkZXIgPT0gJ2Rlc2MnID8gLTEgOiAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gRml4ZXMgYW4gYEFycmF5I3NvcnRgIGJ1ZyBpbiB0aGUgSlMgZW5naW5lIGVtYmVkZGVkIGluIEFkb2JlIGFwcGxpY2F0aW9uc1xuICAgICAgLy8gdGhhdCBjYXVzZXMgaXQsIHVuZGVyIGNlcnRhaW4gY2lyY3Vtc3RhbmNlcywgdG8gcHJvdmlkZSB0aGUgc2FtZSB2YWx1ZSBmb3JcbiAgICAgIC8vIGBvYmplY3RgIGFuZCBgb3RoZXJgLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2phc2hrZW5hcy91bmRlcnNjb3JlL3B1bGwvMTI0N1xuICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIC8vXG4gICAgICAvLyBUaGlzIGFsc28gZW5zdXJlcyBhIHN0YWJsZSBzb3J0IGluIFY4IGFuZCBvdGhlciBlbmdpbmVzLlxuICAgICAgLy8gU2VlIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTkwIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICByZXR1cm4gb2JqZWN0LmluZGV4IC0gb3RoZXIuaW5kZXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSB0aGF0IGlzIHRoZSBjb21wb3NpdGlvbiBvZiBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMsXG4gICAgICogcGxhY2Vob2xkZXJzLCBhbmQgcHJvdmlkZWQgYXJndW1lbnRzIGludG8gYSBzaW5nbGUgYXJyYXkgb2YgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGhvbGRlcnMgVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW1zIHtib29sZWFufSBbaXNDdXJyaWVkXSBTcGVjaWZ5IGNvbXBvc2luZyBmb3IgYSBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbXBvc2VkIGFyZ3VtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wb3NlQXJncyhhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKSB7XG4gICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3MubGVuZ3RoLFxuICAgICAgICAgIGhvbGRlcnNMZW5ndGggPSBob2xkZXJzLmxlbmd0aCxcbiAgICAgICAgICBsZWZ0SW5kZXggPSAtMSxcbiAgICAgICAgICBsZWZ0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgIHJhbmdlTGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3NMZW5ndGggLSBob2xkZXJzTGVuZ3RoLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZWZ0TGVuZ3RoICsgcmFuZ2VMZW5ndGgpLFxuICAgICAgICAgIGlzVW5jdXJyaWVkID0gIWlzQ3VycmllZDtcblxuICAgICAgd2hpbGUgKCsrbGVmdEluZGV4IDwgbGVmdExlbmd0aCkge1xuICAgICAgICByZXN1bHRbbGVmdEluZGV4XSA9IHBhcnRpYWxzW2xlZnRJbmRleF07XG4gICAgICB9XG4gICAgICB3aGlsZSAoKythcmdzSW5kZXggPCBob2xkZXJzTGVuZ3RoKSB7XG4gICAgICAgIGlmIChpc1VuY3VycmllZCB8fCBhcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG4gICAgICAgICAgcmVzdWx0W2hvbGRlcnNbYXJnc0luZGV4XV0gPSBhcmdzW2FyZ3NJbmRleF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdoaWxlIChyYW5nZUxlbmd0aC0tKSB7XG4gICAgICAgIHJlc3VsdFtsZWZ0SW5kZXgrK10gPSBhcmdzW2FyZ3NJbmRleCsrXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBjb21wb3NlQXJnc2AgZXhjZXB0IHRoYXQgdGhlIGFyZ3VtZW50cyBjb21wb3NpdGlvblxuICAgICAqIGlzIHRhaWxvcmVkIGZvciBgXy5wYXJ0aWFsUmlnaHRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBhcHBlbmQgdG8gdGhvc2UgcHJvdmlkZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaG9sZGVycyBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbXMge2Jvb2xlYW59IFtpc0N1cnJpZWRdIFNwZWNpZnkgY29tcG9zaW5nIGZvciBhIGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tcG9zZWQgYXJndW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBvc2VBcmdzUmlnaHQoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCkge1xuICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aCxcbiAgICAgICAgICBob2xkZXJzSW5kZXggPSAtMSxcbiAgICAgICAgICBob2xkZXJzTGVuZ3RoID0gaG9sZGVycy5sZW5ndGgsXG4gICAgICAgICAgcmlnaHRJbmRleCA9IC0xLFxuICAgICAgICAgIHJpZ2h0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgIHJhbmdlTGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3NMZW5ndGggLSBob2xkZXJzTGVuZ3RoLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShyYW5nZUxlbmd0aCArIHJpZ2h0TGVuZ3RoKSxcbiAgICAgICAgICBpc1VuY3VycmllZCA9ICFpc0N1cnJpZWQ7XG5cbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IHJhbmdlTGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFthcmdzSW5kZXhdID0gYXJnc1thcmdzSW5kZXhdO1xuICAgICAgfVxuICAgICAgdmFyIG9mZnNldCA9IGFyZ3NJbmRleDtcbiAgICAgIHdoaWxlICgrK3JpZ2h0SW5kZXggPCByaWdodExlbmd0aCkge1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgcmlnaHRJbmRleF0gPSBwYXJ0aWFsc1tyaWdodEluZGV4XTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2hvbGRlcnNJbmRleCA8IGhvbGRlcnNMZW5ndGgpIHtcbiAgICAgICAgaWYgKGlzVW5jdXJyaWVkIHx8IGFyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgICByZXN1bHRbb2Zmc2V0ICsgaG9sZGVyc1tob2xkZXJzSW5kZXhdXSA9IGFyZ3NbYXJnc0luZGV4KytdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyB0aGUgdmFsdWVzIG9mIGBzb3VyY2VgIHRvIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXk9W11dIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyB0by5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5QXJyYXkoc291cmNlLCBhcnJheSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcblxuICAgICAgYXJyYXkgfHwgKGFycmF5ID0gQXJyYXkobGVuZ3RoKSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBhcnJheVtpbmRleF0gPSBzb3VyY2VbaW5kZXhdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb20uXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzIHRvIGNvcHkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIHRvLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvcGllZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5T2JqZWN0KHNvdXJjZSwgcHJvcHMsIG9iamVjdCwgY3VzdG9taXplcikge1xuICAgICAgdmFyIGlzTmV3ID0gIW9iamVjdDtcbiAgICAgIG9iamVjdCB8fCAob2JqZWN0ID0ge30pO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1tpbmRleF07XG5cbiAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICAgID8gY3VzdG9taXplcihvYmplY3Rba2V5XSwgc291cmNlW2tleV0sIGtleSwgb2JqZWN0LCBzb3VyY2UpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc05ldykge1xuICAgICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIG93biBzeW1ib2xzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIHRvLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weVN5bWJvbHMoc291cmNlLCBvYmplY3QpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHNvdXJjZSwgZ2V0U3ltYm9scyhzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBvd24gYW5kIGluaGVyaXRlZCBzeW1ib2xzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIHRvLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weVN5bWJvbHNJbihzb3VyY2UsIG9iamVjdCkge1xuICAgICAgcmV0dXJuIGNvcHlPYmplY3Qoc291cmNlLCBnZXRTeW1ib2xzSW4oc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5ncm91cEJ5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYWNjdW11bGF0b3IgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpbml0aWFsaXplcl0gVGhlIGFjY3VtdWxhdG9yIG9iamVjdCBpbml0aWFsaXplci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhZ2dyZWdhdG9yIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUFnZ3JlZ2F0b3Ioc2V0dGVyLCBpbml0aWFsaXplcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5QWdncmVnYXRvciA6IGJhc2VBZ2dyZWdhdG9yLFxuICAgICAgICAgICAgYWNjdW11bGF0b3IgPSBpbml0aWFsaXplciA/IGluaXRpYWxpemVyKCkgOiB7fTtcblxuICAgICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBzZXR0ZXIsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSwgYWNjdW11bGF0b3IpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5hc3NpZ25gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3NpZ25lciBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhc3NpZ25lciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVBc3NpZ25lcihhc3NpZ25lcikge1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgc291cmNlcykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZXMubGVuZ3RoLFxuICAgICAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA+IDEgPyBzb3VyY2VzW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgICAgICBjdXN0b21pemVyID0gKGFzc2lnbmVyLmxlbmd0aCA+IDMgJiYgdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICA/IChsZW5ndGgtLSwgY3VzdG9taXplcilcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA8IDMgPyB1bmRlZmluZWQgOiBjdXN0b21pemVyO1xuICAgICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNbaW5kZXhdO1xuICAgICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIGFzc2lnbmVyKG9iamVjdCwgc291cmNlLCBpbmRleCwgY3VzdG9taXplcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGJhc2VFYWNoYCBvciBgYmFzZUVhY2hSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYSBjb2xsZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmFzZUVhY2goZWFjaEZ1bmMsIGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgcmV0dXJuIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGgsXG4gICAgICAgICAgICBpbmRleCA9IGZyb21SaWdodCA/IGxlbmd0aCA6IC0xLFxuICAgICAgICAgICAgaXRlcmFibGUgPSBPYmplY3QoY29sbGVjdGlvbik7XG5cbiAgICAgICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICAgICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVbaW5kZXhdLCBpbmRleCwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYmFzZSBmdW5jdGlvbiBmb3IgbWV0aG9kcyBsaWtlIGBfLmZvckluYCBhbmQgYF8uZm9yT3duYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVCYXNlRm9yKGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUsIGtleXNGdW5jKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgaXRlcmFibGUgPSBPYmplY3Qob2JqZWN0KSxcbiAgICAgICAgICAgIHByb3BzID0ga2V5c0Z1bmMob2JqZWN0KSxcbiAgICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgICB2YXIga2V5ID0gcHJvcHNbZnJvbVJpZ2h0ID8gbGVuZ3RoIDogKytpbmRleF07XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBpbnZva2UgaXQgd2l0aCB0aGUgb3B0aW9uYWwgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiBgdGhpc0FyZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmluZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkoaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5sb3dlckZpcnN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIGBTdHJpbmdgIGNhc2UgbWV0aG9kIHRvIHVzZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUNhc2VGaXJzdChtZXRob2ROYW1lKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgICAgICAgdmFyIHN0clN5bWJvbHMgPSBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgICAgICA/IHN0cmluZ1RvQXJyYXkoc3RyaW5nKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIHZhciBjaHIgPSBzdHJTeW1ib2xzXG4gICAgICAgICAgPyBzdHJTeW1ib2xzWzBdXG4gICAgICAgICAgOiBzdHJpbmcuY2hhckF0KDApO1xuXG4gICAgICAgIHZhciB0cmFpbGluZyA9IHN0clN5bWJvbHNcbiAgICAgICAgICA/IGNhc3RTbGljZShzdHJTeW1ib2xzLCAxKS5qb2luKCcnKVxuICAgICAgICAgIDogc3RyaW5nLnNsaWNlKDEpO1xuXG4gICAgICAgIHJldHVybiBjaHJbbWV0aG9kTmFtZV0oKSArIHRyYWlsaW5nO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5jYW1lbENhc2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gY29tYmluZSBlYWNoIHdvcmQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG91bmRlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDb21wb3VuZGVyKGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBhcnJheVJlZHVjZSh3b3JkcyhkZWJ1cnIoc3RyaW5nKS5yZXBsYWNlKHJlQXBvcywgJycpKSwgY2FsbGJhY2ssICcnKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcHJvZHVjZXMgYW4gaW5zdGFuY2Ugb2YgYEN0b3JgIHJlZ2FyZGxlc3Mgb2ZcbiAgICAgKiB3aGV0aGVyIGl0IHdhcyBpbnZva2VkIGFzIHBhcnQgb2YgYSBgbmV3YCBleHByZXNzaW9uIG9yIGJ5IGBjYWxsYCBvciBgYXBwbHlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBDdG9yIFRoZSBjb25zdHJ1Y3RvciB0byB3cmFwLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ3RvcihDdG9yKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFVzZSBhIGBzd2l0Y2hgIHN0YXRlbWVudCB0byB3b3JrIHdpdGggY2xhc3MgY29uc3RydWN0b3JzLiBTZWVcbiAgICAgICAgLy8gaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1mdW5jdGlvbi1vYmplY3RzLWNhbGwtdGhpc2FyZ3VtZW50LWFyZ3VtZW50c2xpc3RcbiAgICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQ3RvcjtcbiAgICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdKTtcbiAgICAgICAgICBjYXNlIDI6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICBjYXNlIDQ6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKTtcbiAgICAgICAgICBjYXNlIDU6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdKTtcbiAgICAgICAgICBjYXNlIDY6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdLCBhcmdzWzVdKTtcbiAgICAgICAgICBjYXNlIDc6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdLCBhcmdzWzVdLCBhcmdzWzZdKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc0JpbmRpbmcgPSBiYXNlQ3JlYXRlKEN0b3IucHJvdG90eXBlKSxcbiAgICAgICAgICAgIHJlc3VsdCA9IEN0b3IuYXBwbHkodGhpc0JpbmRpbmcsIGFyZ3MpO1xuXG4gICAgICAgIC8vIE1pbWljIHRoZSBjb25zdHJ1Y3RvcidzIGByZXR1cm5gIGJlaGF2aW9yLlxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4MTMuMi4yIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgIHJldHVybiBpc09iamVjdChyZXN1bHQpID8gcmVzdWx0IDogdGhpc0JpbmRpbmc7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBlbmFibGUgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYXJpdHkgVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUN1cnJ5KGZ1bmMsIGJpdG1hc2ssIGFyaXR5KSB7XG4gICAgICB2YXIgQ3RvciA9IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aCxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyID0gZ2V0SG9sZGVyKHdyYXBwZXIpO1xuXG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBob2xkZXJzID0gKGxlbmd0aCA8IDMgJiYgYXJnc1swXSAhPT0gcGxhY2Vob2xkZXIgJiYgYXJnc1tsZW5ndGggLSAxXSAhPT0gcGxhY2Vob2xkZXIpXG4gICAgICAgICAgPyBbXVxuICAgICAgICAgIDogcmVwbGFjZUhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuXG4gICAgICAgIGxlbmd0aCAtPSBob2xkZXJzLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aCA8IGFyaXR5KSB7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlY3VycnkoXG4gICAgICAgICAgICBmdW5jLCBiaXRtYXNrLCBjcmVhdGVIeWJyaWQsIHdyYXBwZXIucGxhY2Vob2xkZXIsIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGFyZ3MsIGhvbGRlcnMsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcml0eSAtIGxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZuLCB0aGlzLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5maW5kYCBvciBgXy5maW5kTGFzdGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbmRJbmRleEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGZpbmQgdGhlIGNvbGxlY3Rpb24gaW5kZXguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmluZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVGaW5kKGZpbmRJbmRleEZ1bmMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgICB2YXIgaXRlcmFibGUgPSBPYmplY3QoY29sbGVjdGlvbik7XG4gICAgICAgIGlmICghaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgICAgICB2YXIgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpO1xuICAgICAgICAgIGNvbGxlY3Rpb24gPSBrZXlzKGNvbGxlY3Rpb24pO1xuICAgICAgICAgIHByZWRpY2F0ZSA9IGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gaXRlcmF0ZWUoaXRlcmFibGVba2V5XSwga2V5LCBpdGVyYWJsZSk7IH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gZmluZEluZGV4RnVuYyhjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGZyb21JbmRleCk7XG4gICAgICAgIHJldHVybiBpbmRleCA+IC0xID8gaXRlcmFibGVbaXRlcmF0ZWUgPyBjb2xsZWN0aW9uW2luZGV4XSA6IGluZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLmZsb3dgIG9yIGBfLmZsb3dSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZsb3cgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlRmxvdyhmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmbGF0UmVzdChmdW5jdGlvbihmdW5jcykge1xuICAgICAgICB2YXIgbGVuZ3RoID0gZnVuY3MubGVuZ3RoLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGgsXG4gICAgICAgICAgICBwcmVyZXEgPSBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZS50aHJ1O1xuXG4gICAgICAgIGlmIChmcm9tUmlnaHQpIHtcbiAgICAgICAgICBmdW5jcy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICB2YXIgZnVuYyA9IGZ1bmNzW2luZGV4XTtcbiAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJlcmVxICYmICF3cmFwcGVyICYmIGdldEZ1bmNOYW1lKGZ1bmMpID09ICd3cmFwcGVyJykge1xuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSBuZXcgTG9kYXNoV3JhcHBlcihbXSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gd3JhcHBlciA/IGluZGV4IDogbGVuZ3RoO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGZ1bmMgPSBmdW5jc1tpbmRleF07XG5cbiAgICAgICAgICB2YXIgZnVuY05hbWUgPSBnZXRGdW5jTmFtZShmdW5jKSxcbiAgICAgICAgICAgICAgZGF0YSA9IGZ1bmNOYW1lID09ICd3cmFwcGVyJyA/IGdldERhdGEoZnVuYykgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBpZiAoZGF0YSAmJiBpc0xhemlhYmxlKGRhdGFbMF0pICYmXG4gICAgICAgICAgICAgICAgZGF0YVsxXSA9PSAoV1JBUF9BUllfRkxBRyB8IFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfUEFSVElBTF9GTEFHIHwgV1JBUF9SRUFSR19GTEFHKSAmJlxuICAgICAgICAgICAgICAgICFkYXRhWzRdLmxlbmd0aCAmJiBkYXRhWzldID09IDFcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICB3cmFwcGVyID0gd3JhcHBlcltnZXRGdW5jTmFtZShkYXRhWzBdKV0uYXBwbHkod3JhcHBlciwgZGF0YVszXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdyYXBwZXIgPSAoZnVuYy5sZW5ndGggPT0gMSAmJiBpc0xhemlhYmxlKGZ1bmMpKVxuICAgICAgICAgICAgICA/IHdyYXBwZXJbZnVuY05hbWVdKClcbiAgICAgICAgICAgICAgOiB3cmFwcGVyLnRocnUoZnVuYyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgdmFsdWUgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgaWYgKHdyYXBwZXIgJiYgYXJncy5sZW5ndGggPT0gMSAmJiBpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZXIucGxhbnQodmFsdWUpLnZhbHVlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgICAgIHJlc3VsdCA9IGxlbmd0aCA/IGZ1bmNzW2luZGV4XS5hcHBseSh0aGlzLCBhcmdzKSA6IHZhbHVlO1xuXG4gICAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmNzW2luZGV4XS5jYWxsKHRoaXMsIHJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggb3B0aW9uYWwgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiBgdGhpc0FyZ2AsIHBhcnRpYWwgYXBwbGljYXRpb24sIGFuZCBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IGZ1bmMgVGhlIGZ1bmN0aW9uIG9yIG1ldGhvZCBuYW1lIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNdIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzUmlnaHRdIFRoZSBhcmd1bWVudHMgdG8gYXBwZW5kIHRvIHRob3NlIHByb3ZpZGVkXG4gICAgICogIHRvIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNSaWdodF0gVGhlIGBwYXJ0aWFsc1JpZ2h0YCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUh5YnJpZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0FyeSA9IGJpdG1hc2sgJiBXUkFQX0FSWV9GTEFHLFxuICAgICAgICAgIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBpc0JpbmRLZXkgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0tFWV9GTEFHLFxuICAgICAgICAgIGlzQ3VycmllZCA9IGJpdG1hc2sgJiAoV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSxcbiAgICAgICAgICBpc0ZsaXAgPSBiaXRtYXNrICYgV1JBUF9GTElQX0ZMQUcsXG4gICAgICAgICAgQ3RvciA9IGlzQmluZEtleSA/IHVuZGVmaW5lZCA6IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIGFyZ3NbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNDdXJyaWVkKSB7XG4gICAgICAgICAgdmFyIHBsYWNlaG9sZGVyID0gZ2V0SG9sZGVyKHdyYXBwZXIpLFxuICAgICAgICAgICAgICBob2xkZXJzQ291bnQgPSBjb3VudEhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0aWFscykge1xuICAgICAgICAgIGFyZ3MgPSBjb21wb3NlQXJncyhhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydGlhbHNSaWdodCkge1xuICAgICAgICAgIGFyZ3MgPSBjb21wb3NlQXJnc1JpZ2h0KGFyZ3MsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCwgaXNDdXJyaWVkKTtcbiAgICAgICAgfVxuICAgICAgICBsZW5ndGggLT0gaG9sZGVyc0NvdW50O1xuICAgICAgICBpZiAoaXNDdXJyaWVkICYmIGxlbmd0aCA8IGFyaXR5KSB7XG4gICAgICAgICAgdmFyIG5ld0hvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlY3VycnkoXG4gICAgICAgICAgICBmdW5jLCBiaXRtYXNrLCBjcmVhdGVIeWJyaWQsIHdyYXBwZXIucGxhY2Vob2xkZXIsIHRoaXNBcmcsXG4gICAgICAgICAgICBhcmdzLCBuZXdIb2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkgLSBsZW5ndGhcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aGlzQmluZGluZyA9IGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLFxuICAgICAgICAgICAgZm4gPSBpc0JpbmRLZXkgPyB0aGlzQmluZGluZ1tmdW5jXSA6IGZ1bmM7XG5cbiAgICAgICAgbGVuZ3RoID0gYXJncy5sZW5ndGg7XG4gICAgICAgIGlmIChhcmdQb3MpIHtcbiAgICAgICAgICBhcmdzID0gcmVvcmRlcihhcmdzLCBhcmdQb3MpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRmxpcCAmJiBsZW5ndGggPiAxKSB7XG4gICAgICAgICAgYXJncy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJ5ICYmIGFyeSA8IGxlbmd0aCkge1xuICAgICAgICAgIGFyZ3MubGVuZ3RoID0gYXJ5O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpIHtcbiAgICAgICAgICBmbiA9IEN0b3IgfHwgY3JlYXRlQ3Rvcihmbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmludmVydEJ5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYWNjdW11bGF0b3IgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHRvSXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgaXRlcmF0ZWVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludmVydGVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUludmVydGVyKHNldHRlciwgdG9JdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZlcnRlcihvYmplY3QsIHNldHRlciwgdG9JdGVyYXRlZShpdGVyYXRlZSksIHt9KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSBtYXRoZW1hdGljYWwgb3BlcmF0aW9uIG9uIHR3byB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wZXJhdG9yIFRoZSBmdW5jdGlvbiB0byBwZXJmb3JtIHRoZSBvcGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSB1c2VkIGZvciBgdW5kZWZpbmVkYCBhcmd1bWVudHMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWF0aGVtYXRpY2FsIG9wZXJhdGlvbiBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVNYXRoT3BlcmF0aW9uKG9wZXJhdG9yLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgb3RoZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3RoZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIG90aGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IHR5cGVvZiBvdGhlciA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFsdWUgPSBiYXNlVG9TdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgb3RoZXIgPSBiYXNlVG9TdHJpbmcob3RoZXIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VUb051bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICBvdGhlciA9IGJhc2VUb051bWJlcihvdGhlcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IG9wZXJhdG9yKHZhbHVlLCBvdGhlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ub3ZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFycmF5RnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGl0ZXJhdGVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBvdmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZU92ZXIoYXJyYXlGdW5jKSB7XG4gICAgICByZXR1cm4gZmxhdFJlc3QoZnVuY3Rpb24oaXRlcmF0ZWVzKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IGFycmF5TWFwKGl0ZXJhdGVlcywgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcbiAgICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICB2YXIgdGhpc0FyZyA9IHRoaXM7XG4gICAgICAgICAgcmV0dXJuIGFycmF5RnVuYyhpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBwbHkoaXRlcmF0ZWUsIHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIHBhZGRpbmcgZm9yIGBzdHJpbmdgIGJhc2VkIG9uIGBsZW5ndGhgLiBUaGUgYGNoYXJzYCBzdHJpbmdcbiAgICAgKiBpcyB0cnVuY2F0ZWQgaWYgdGhlIG51bWJlciBvZiBjaGFyYWN0ZXJzIGV4Y2VlZHMgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkaW5nIGZvciBgc3RyaW5nYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVQYWRkaW5nKGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIGNoYXJzID0gY2hhcnMgPT09IHVuZGVmaW5lZCA/ICcgJyA6IGJhc2VUb1N0cmluZyhjaGFycyk7XG5cbiAgICAgIHZhciBjaGFyc0xlbmd0aCA9IGNoYXJzLmxlbmd0aDtcbiAgICAgIGlmIChjaGFyc0xlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIGNoYXJzTGVuZ3RoID8gYmFzZVJlcGVhdChjaGFycywgbGVuZ3RoKSA6IGNoYXJzO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VSZXBlYXQoY2hhcnMsIG5hdGl2ZUNlaWwobGVuZ3RoIC8gc3RyaW5nU2l6ZShjaGFycykpKTtcbiAgICAgIHJldHVybiBoYXNVbmljb2RlKGNoYXJzKVxuICAgICAgICA/IGNhc3RTbGljZShzdHJpbmdUb0FycmF5KHJlc3VsdCksIDAsIGxlbmd0aCkuam9pbignJylcbiAgICAgICAgOiByZXN1bHQuc2xpY2UoMCwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nXG4gICAgICogb2YgYHRoaXNBcmdgIGFuZCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVQYXJ0aWFsKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGxlZnRJbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVmdExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZWZ0TGVuZ3RoICsgYXJnc0xlbmd0aCksXG4gICAgICAgICAgICBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG5cbiAgICAgICAgd2hpbGUgKCsrbGVmdEluZGV4IDwgbGVmdExlbmd0aCkge1xuICAgICAgICAgIGFyZ3NbbGVmdEluZGV4XSA9IHBhcnRpYWxzW2xlZnRJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGFyZ3NMZW5ndGgtLSkge1xuICAgICAgICAgIGFyZ3NbbGVmdEluZGV4KytdID0gYXJndW1lbnRzWysrYXJnc0luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZm4sIGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5yYW5nZWAgb3IgYF8ucmFuZ2VSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJhbmdlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJhbmdlKGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIHN0ZXApIHtcbiAgICAgICAgaWYgKHN0ZXAgJiYgdHlwZW9mIHN0ZXAgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoc3RhcnQsIGVuZCwgc3RlcCkpIHtcbiAgICAgICAgICBlbmQgPSBzdGVwID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIEVuc3VyZSB0aGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAgICAgICAgc3RhcnQgPSB0b0Zpbml0ZShzdGFydCk7XG4gICAgICAgIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGVuZCA9IHN0YXJ0O1xuICAgICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbmQgPSB0b0Zpbml0ZShlbmQpO1xuICAgICAgICB9XG4gICAgICAgIHN0ZXAgPSBzdGVwID09PSB1bmRlZmluZWQgPyAoc3RhcnQgPCBlbmQgPyAxIDogLTEpIDogdG9GaW5pdGUoc3RlcCk7XG4gICAgICAgIHJldHVybiBiYXNlUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCwgZnJvbVJpZ2h0KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSByZWxhdGlvbmFsIG9wZXJhdGlvbiBvbiB0d28gdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcGVyYXRvciBUaGUgZnVuY3Rpb24gdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlbGF0aW9uYWwgb3BlcmF0aW9uIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24ob3BlcmF0b3IpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgICAgaWYgKCEodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnICYmIHR5cGVvZiBvdGhlciA9PSAnc3RyaW5nJykpIHtcbiAgICAgICAgICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICBvdGhlciA9IHRvTnVtYmVyKG90aGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3BlcmF0b3IodmFsdWUsIG90aGVyKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGNvbnRpbnVlIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgYGZ1bmNgIHdyYXBwZXIuXG4gICAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJlY3VycnkoZnVuYywgYml0bWFzaywgd3JhcEZ1bmMsIHBsYWNlaG9sZGVyLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gICAgICB2YXIgaXNDdXJyeSA9IGJpdG1hc2sgJiBXUkFQX0NVUlJZX0ZMQUcsXG4gICAgICAgICAgbmV3SG9sZGVycyA9IGlzQ3VycnkgPyBob2xkZXJzIDogdW5kZWZpbmVkLFxuICAgICAgICAgIG5ld0hvbGRlcnNSaWdodCA9IGlzQ3VycnkgPyB1bmRlZmluZWQgOiBob2xkZXJzLFxuICAgICAgICAgIG5ld1BhcnRpYWxzID0gaXNDdXJyeSA/IHBhcnRpYWxzIDogdW5kZWZpbmVkLFxuICAgICAgICAgIG5ld1BhcnRpYWxzUmlnaHQgPSBpc0N1cnJ5ID8gdW5kZWZpbmVkIDogcGFydGlhbHM7XG5cbiAgICAgIGJpdG1hc2sgfD0gKGlzQ3VycnkgPyBXUkFQX1BBUlRJQUxfRkxBRyA6IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKTtcbiAgICAgIGJpdG1hc2sgJj0gfihpc0N1cnJ5ID8gV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcgOiBXUkFQX1BBUlRJQUxfRkxBRyk7XG5cbiAgICAgIGlmICghKGJpdG1hc2sgJiBXUkFQX0NVUlJZX0JPVU5EX0ZMQUcpKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX0JJTkRfRkxBRyB8IFdSQVBfQklORF9LRVlfRkxBRyk7XG4gICAgICB9XG4gICAgICB2YXIgbmV3RGF0YSA9IFtcbiAgICAgICAgZnVuYywgYml0bWFzaywgdGhpc0FyZywgbmV3UGFydGlhbHMsIG5ld0hvbGRlcnMsIG5ld1BhcnRpYWxzUmlnaHQsXG4gICAgICAgIG5ld0hvbGRlcnNSaWdodCwgYXJnUG9zLCBhcnksIGFyaXR5XG4gICAgICBdO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gd3JhcEZ1bmMuYXBwbHkodW5kZWZpbmVkLCBuZXdEYXRhKTtcbiAgICAgIGlmIChpc0xhemlhYmxlKGZ1bmMpKSB7XG4gICAgICAgIHNldERhdGEocmVzdWx0LCBuZXdEYXRhKTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHNldFdyYXBUb1N0cmluZyhyZXN1bHQsIGZ1bmMsIGJpdG1hc2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLnJvdW5kYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIGBNYXRoYCBtZXRob2QgdG8gdXNlIHdoZW4gcm91bmRpbmcuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcm91bmQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUm91bmQobWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBNYXRoW21ldGhvZE5hbWVdO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG51bWJlciwgcHJlY2lzaW9uKSB7XG4gICAgICAgIG51bWJlciA9IHRvTnVtYmVyKG51bWJlcik7XG4gICAgICAgIHByZWNpc2lvbiA9IHByZWNpc2lvbiA9PSBudWxsID8gMCA6IG5hdGl2ZU1pbih0b0ludGVnZXIocHJlY2lzaW9uKSwgMjkyKTtcbiAgICAgICAgaWYgKHByZWNpc2lvbikge1xuICAgICAgICAgIC8vIFNoaWZ0IHdpdGggZXhwb25lbnRpYWwgbm90YXRpb24gdG8gYXZvaWQgZmxvYXRpbmctcG9pbnQgaXNzdWVzLlxuICAgICAgICAgIC8vIFNlZSBbTUROXShodHRwczovL21kbi5pby9yb3VuZCNFeGFtcGxlcykgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgICB2YXIgcGFpciA9ICh0b1N0cmluZyhudW1iZXIpICsgJ2UnKS5zcGxpdCgnZScpLFxuICAgICAgICAgICAgICB2YWx1ZSA9IGZ1bmMocGFpclswXSArICdlJyArICgrcGFpclsxXSArIHByZWNpc2lvbikpO1xuXG4gICAgICAgICAgcGFpciA9ICh0b1N0cmluZyh2YWx1ZSkgKyAnZScpLnNwbGl0KCdlJyk7XG4gICAgICAgICAgcmV0dXJuICsocGFpclswXSArICdlJyArICgrcGFpclsxXSAtIHByZWNpc2lvbikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jKG51bWJlcik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzZXQgb2JqZWN0IG9mIGB2YWx1ZXNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhZGQgdG8gdGhlIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgc2V0LlxuICAgICAqL1xuICAgIHZhciBjcmVhdGVTZXQgPSAhKFNldCAmJiAoMSAvIHNldFRvQXJyYXkobmV3IFNldChbLC0wXSkpWzFdKSA9PSBJTkZJTklUWSkgPyBub29wIDogZnVuY3Rpb24odmFsdWVzKSB7XG4gICAgICByZXR1cm4gbmV3IFNldCh2YWx1ZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8udG9QYWlyc2Agb3IgYF8udG9QYWlyc0luYCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYWlycyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVUb1BhaXJzKGtleXNGdW5jKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHZhciB0YWcgPSBnZXRUYWcob2JqZWN0KTtcbiAgICAgICAgaWYgKHRhZyA9PSBtYXBUYWcpIHtcbiAgICAgICAgICByZXR1cm4gbWFwVG9BcnJheShvYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgICAgcmV0dXJuIHNldFRvUGFpcnMob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmFzZVRvUGFpcnMob2JqZWN0LCBrZXlzRnVuYyhvYmplY3QpKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgZWl0aGVyIGN1cnJpZXMgb3IgaW52b2tlcyBgZnVuY2Agd2l0aCBvcHRpb25hbFxuICAgICAqIGB0aGlzYCBiaW5kaW5nIGFuZCBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBmdW5jIFRoZSBmdW5jdGlvbiBvciBtZXRob2QgbmFtZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAgIDEgLSBgXy5iaW5kYFxuICAgICAqICAgIDIgLSBgXy5iaW5kS2V5YFxuICAgICAqICAgIDQgLSBgXy5jdXJyeWAgb3IgYF8uY3VycnlSaWdodGAgb2YgYSBib3VuZCBmdW5jdGlvblxuICAgICAqICAgIDggLSBgXy5jdXJyeWBcbiAgICAgKiAgIDE2IC0gYF8uY3VycnlSaWdodGBcbiAgICAgKiAgIDMyIC0gYF8ucGFydGlhbGBcbiAgICAgKiAgIDY0IC0gYF8ucGFydGlhbFJpZ2h0YFxuICAgICAqICAxMjggLSBgXy5yZWFyZ2BcbiAgICAgKiAgMjU2IC0gYF8uYXJ5YFxuICAgICAqICA1MTIgLSBgXy5mbGlwYFxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVdyYXAoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICAgICAgdmFyIGlzQmluZEtleSA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfS0VZX0ZMQUc7XG4gICAgICBpZiAoIWlzQmluZEtleSAmJiB0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBwYXJ0aWFscyA/IHBhcnRpYWxzLmxlbmd0aCA6IDA7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICBiaXRtYXNrICY9IH4oV1JBUF9QQVJUSUFMX0ZMQUcgfCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyk7XG4gICAgICAgIHBhcnRpYWxzID0gaG9sZGVycyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGFyeSA9IGFyeSA9PT0gdW5kZWZpbmVkID8gYXJ5IDogbmF0aXZlTWF4KHRvSW50ZWdlcihhcnkpLCAwKTtcbiAgICAgIGFyaXR5ID0gYXJpdHkgPT09IHVuZGVmaW5lZCA/IGFyaXR5IDogdG9JbnRlZ2VyKGFyaXR5KTtcbiAgICAgIGxlbmd0aCAtPSBob2xkZXJzID8gaG9sZGVycy5sZW5ndGggOiAwO1xuXG4gICAgICBpZiAoYml0bWFzayAmIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKSB7XG4gICAgICAgIHZhciBwYXJ0aWFsc1JpZ2h0ID0gcGFydGlhbHMsXG4gICAgICAgICAgICBob2xkZXJzUmlnaHQgPSBob2xkZXJzO1xuXG4gICAgICAgIHBhcnRpYWxzID0gaG9sZGVycyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHZhciBkYXRhID0gaXNCaW5kS2V5ID8gdW5kZWZpbmVkIDogZ2V0RGF0YShmdW5jKTtcblxuICAgICAgdmFyIG5ld0RhdGEgPSBbXG4gICAgICAgIGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsXG4gICAgICAgIGFyZ1BvcywgYXJ5LCBhcml0eVxuICAgICAgXTtcblxuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgbWVyZ2VEYXRhKG5ld0RhdGEsIGRhdGEpO1xuICAgICAgfVxuICAgICAgZnVuYyA9IG5ld0RhdGFbMF07XG4gICAgICBiaXRtYXNrID0gbmV3RGF0YVsxXTtcbiAgICAgIHRoaXNBcmcgPSBuZXdEYXRhWzJdO1xuICAgICAgcGFydGlhbHMgPSBuZXdEYXRhWzNdO1xuICAgICAgaG9sZGVycyA9IG5ld0RhdGFbNF07XG4gICAgICBhcml0eSA9IG5ld0RhdGFbOV0gPSBuZXdEYXRhWzldID09PSB1bmRlZmluZWRcbiAgICAgICAgPyAoaXNCaW5kS2V5ID8gMCA6IGZ1bmMubGVuZ3RoKVxuICAgICAgICA6IG5hdGl2ZU1heChuZXdEYXRhWzldIC0gbGVuZ3RoLCAwKTtcblxuICAgICAgaWYgKCFhcml0eSAmJiBiaXRtYXNrICYgKFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRykpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRyk7XG4gICAgICB9XG4gICAgICBpZiAoIWJpdG1hc2sgfHwgYml0bWFzayA9PSBXUkFQX0JJTkRfRkxBRykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gY3JlYXRlQmluZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnKTtcbiAgICAgIH0gZWxzZSBpZiAoYml0bWFzayA9PSBXUkFQX0NVUlJZX0ZMQUcgfHwgYml0bWFzayA9PSBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpIHtcbiAgICAgICAgcmVzdWx0ID0gY3JlYXRlQ3VycnkoZnVuYywgYml0bWFzaywgYXJpdHkpO1xuICAgICAgfSBlbHNlIGlmICgoYml0bWFzayA9PSBXUkFQX1BBUlRJQUxfRkxBRyB8fCBiaXRtYXNrID09IChXUkFQX0JJTkRfRkxBRyB8IFdSQVBfUEFSVElBTF9GTEFHKSkgJiYgIWhvbGRlcnMubGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZVBhcnRpYWwoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gY3JlYXRlSHlicmlkLmFwcGx5KHVuZGVmaW5lZCwgbmV3RGF0YSk7XG4gICAgICB9XG4gICAgICB2YXIgc2V0dGVyID0gZGF0YSA/IGJhc2VTZXREYXRhIDogc2V0RGF0YTtcbiAgICAgIHJldHVybiBzZXRXcmFwVG9TdHJpbmcoc2V0dGVyKHJlc3VsdCwgbmV3RGF0YSksIGZ1bmMsIGJpdG1hc2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8uZGVmYXVsdHNgIHRvIGN1c3RvbWl6ZSBpdHMgYF8uYXNzaWduSW5gIHVzZSB0byBhc3NpZ24gcHJvcGVydGllc1xuICAgICAqIG9mIHNvdXJjZSBvYmplY3RzIHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QgZm9yIGFsbCBkZXN0aW5hdGlvbiBwcm9wZXJ0aWVzXG4gICAgICogdGhhdCByZXNvbHZlIHRvIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IG9ialZhbHVlIFRoZSBkZXN0aW5hdGlvbiB2YWx1ZS5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSBzb3VyY2UgdmFsdWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgcGFyZW50IG9iamVjdCBvZiBgb2JqVmFsdWVgLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tRGVmYXVsdHNBc3NpZ25JbihvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgIChlcShvYmpWYWx1ZSwgb2JqZWN0UHJvdG9ba2V5XSkgJiYgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkge1xuICAgICAgICByZXR1cm4gc3JjVmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqVmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5kZWZhdWx0c0RlZXBgIHRvIGN1c3RvbWl6ZSBpdHMgYF8ubWVyZ2VgIHVzZSB0byBtZXJnZSBzb3VyY2VcbiAgICAgKiBvYmplY3RzIGludG8gZGVzdGluYXRpb24gb2JqZWN0cyB0aGF0IGFyZSBwYXNzZWQgdGhydS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBvYmpWYWx1ZSBUaGUgZGVzdGluYXRpb24gdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgc291cmNlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gbWVyZ2UuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgcGFyZW50IG9iamVjdCBvZiBgb2JqVmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHBhcmVudCBvYmplY3Qgb2YgYHNyY1ZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21EZWZhdWx0c01lcmdlKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spIHtcbiAgICAgIGlmIChpc09iamVjdChvYmpWYWx1ZSkgJiYgaXNPYmplY3Qoc3JjVmFsdWUpKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IG1lcmdlIG9iamVjdHMgYW5kIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBzdGFjay5zZXQoc3JjVmFsdWUsIG9ialZhbHVlKTtcbiAgICAgICAgYmFzZU1lcmdlKG9ialZhbHVlLCBzcmNWYWx1ZSwgdW5kZWZpbmVkLCBjdXN0b21EZWZhdWx0c01lcmdlLCBzdGFjayk7XG4gICAgICAgIHN0YWNrWydkZWxldGUnXShzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqVmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5vbWl0YCB0byBjdXN0b21pemUgaXRzIGBfLmNsb25lRGVlcGAgdXNlIHRvIG9ubHkgY2xvbmUgcGxhaW5cbiAgICAgKiBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdW5jbG9uZWQgdmFsdWUgb3IgYHVuZGVmaW5lZGAgdG8gZGVmZXIgY2xvbmluZyB0byBgXy5jbG9uZURlZXBgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbU9taXRDbG9uZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzUGxhaW5PYmplY3QodmFsdWUpID8gdW5kZWZpbmVkIDogdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBhcnJheXMgd2l0aCBzdXBwb3J0IGZvclxuICAgICAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtBcnJheX0gb3RoZXIgVGhlIG90aGVyIGFycmF5IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgYXJyYXlgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcnJheXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbEFycmF5cyhhcnJheSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICAgICAgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIG90aExlbmd0aCA9IG90aGVyLmxlbmd0aDtcblxuICAgICAgaWYgKGFyckxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIShpc1BhcnRpYWwgJiYgb3RoTGVuZ3RoID4gYXJyTGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChhcnJheSk7XG4gICAgICBpZiAoc3RhY2tlZCAmJiBzdGFjay5nZXQob3RoZXIpKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcmVzdWx0ID0gdHJ1ZSxcbiAgICAgICAgICBzZWVuID0gKGJpdG1hc2sgJiBDT01QQVJFX1VOT1JERVJFRF9GTEFHKSA/IG5ldyBTZXRDYWNoZSA6IHVuZGVmaW5lZDtcblxuICAgICAgc3RhY2suc2V0KGFycmF5LCBvdGhlcik7XG4gICAgICBzdGFjay5zZXQob3RoZXIsIGFycmF5KTtcblxuICAgICAgLy8gSWdub3JlIG5vbi1pbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBhcnJMZW5ndGgpIHtcbiAgICAgICAgdmFyIGFyclZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltpbmRleF07XG5cbiAgICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgYXJyVmFsdWUsIGluZGV4LCBvdGhlciwgYXJyYXksIHN0YWNrKVxuICAgICAgICAgICAgOiBjdXN0b21pemVyKGFyclZhbHVlLCBvdGhWYWx1ZSwgaW5kZXgsIGFycmF5LCBvdGhlciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wYXJlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKGNvbXBhcmVkKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgaWYgKHNlZW4pIHtcbiAgICAgICAgICBpZiAoIWFycmF5U29tZShvdGhlciwgZnVuY3Rpb24ob3RoVmFsdWUsIG90aEluZGV4KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjYWNoZUhhcyhzZWVuLCBvdGhJbmRleCkgJiZcbiAgICAgICAgICAgICAgICAgICAgKGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gc2Vlbi5wdXNoKG90aEluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghKFxuICAgICAgICAgICAgICBhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHxcbiAgICAgICAgICAgICAgICBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaylcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3RhY2tbJ2RlbGV0ZSddKGFycmF5KTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgY29tcGFyaW5nIG9iamVjdHMgb2ZcbiAgICAgKiB0aGUgc2FtZSBgdG9TdHJpbmdUYWdgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjb21wYXJpbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICAgICAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIG9yIGBTdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdHMgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCB0YWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgICAgICAob2JqZWN0LmJ5dGVPZmZzZXQgIT0gb3RoZXIuYnl0ZU9mZnNldCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb2JqZWN0ID0gb2JqZWN0LmJ1ZmZlcjtcbiAgICAgICAgICBvdGhlciA9IG90aGVyLmJ1ZmZlcjtcblxuICAgICAgICBjYXNlIGFycmF5QnVmZmVyVGFnOlxuICAgICAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAgICAgIWVxdWFsRnVuYyhuZXcgVWludDhBcnJheShvYmplY3QpLCBuZXcgVWludDhBcnJheShvdGhlcikpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgIGNhc2UgYm9vbFRhZzpcbiAgICAgICAgY2FzZSBkYXRlVGFnOlxuICAgICAgICBjYXNlIG51bWJlclRhZzpcbiAgICAgICAgICAvLyBDb2VyY2UgYm9vbGVhbnMgdG8gYDFgIG9yIGAwYCBhbmQgZGF0ZXMgdG8gbWlsbGlzZWNvbmRzLlxuICAgICAgICAgIC8vIEludmFsaWQgZGF0ZXMgYXJlIGNvZXJjZWQgdG8gYE5hTmAuXG4gICAgICAgICAgcmV0dXJuIGVxKCtvYmplY3QsICtvdGhlcik7XG5cbiAgICAgICAgY2FzZSBlcnJvclRhZzpcbiAgICAgICAgICByZXR1cm4gb2JqZWN0Lm5hbWUgPT0gb3RoZXIubmFtZSAmJiBvYmplY3QubWVzc2FnZSA9PSBvdGhlci5tZXNzYWdlO1xuXG4gICAgICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgICAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgICAgICAvLyBDb2VyY2UgcmVnZXhlcyB0byBzdHJpbmdzIGFuZCB0cmVhdCBzdHJpbmdzLCBwcmltaXRpdmVzIGFuZCBvYmplY3RzLFxuICAgICAgICAgIC8vIGFzIGVxdWFsLiBTZWUgaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXJlZ2V4cC5wcm90b3R5cGUudG9zdHJpbmdcbiAgICAgICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICAgIHJldHVybiBvYmplY3QgPT0gKG90aGVyICsgJycpO1xuXG4gICAgICAgIGNhc2UgbWFwVGFnOlxuICAgICAgICAgIHZhciBjb252ZXJ0ID0gbWFwVG9BcnJheTtcblxuICAgICAgICBjYXNlIHNldFRhZzpcbiAgICAgICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHO1xuICAgICAgICAgIGNvbnZlcnQgfHwgKGNvbnZlcnQgPSBzZXRUb0FycmF5KTtcblxuICAgICAgICAgIGlmIChvYmplY3Quc2l6ZSAhPSBvdGhlci5zaXplICYmICFpc1BhcnRpYWwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBiaXRtYXNrIHw9IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUc7XG5cbiAgICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGVxdWFsQXJyYXlzKGNvbnZlcnQob2JqZWN0KSwgY29udmVydChvdGhlciksIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgICAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICAgICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICAgICAgaWYgKHN5bWJvbFZhbHVlT2YpIHtcbiAgICAgICAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mLmNhbGwob2JqZWN0KSA9PSBzeW1ib2xWYWx1ZU9mLmNhbGwob3RoZXIpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIG9iamVjdHMgd2l0aCBzdXBwb3J0IGZvclxuICAgICAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICAgICAgb2JqUHJvcHMgPSBnZXRBbGxLZXlzKG9iamVjdCksXG4gICAgICAgICAgb2JqTGVuZ3RoID0gb2JqUHJvcHMubGVuZ3RoLFxuICAgICAgICAgIG90aFByb3BzID0gZ2V0QWxsS2V5cyhvdGhlciksXG4gICAgICAgICAgb3RoTGVuZ3RoID0gb3RoUHJvcHMubGVuZ3RoO1xuXG4gICAgICBpZiAob2JqTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IG9iakxlbmd0aDtcbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgICAgIGlmICghKGlzUGFydGlhbCA/IGtleSBpbiBvdGhlciA6IGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsIGtleSkpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgc3RhY2suc2V0KG90aGVyLCBvYmplY3QpO1xuXG4gICAgICB2YXIgc2tpcEN0b3IgPSBpc1BhcnRpYWw7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG9iakxlbmd0aCkge1xuICAgICAgICBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltrZXldO1xuXG4gICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIG9ialZhbHVlLCBrZXksIG90aGVyLCBvYmplY3QsIHN0YWNrKVxuICAgICAgICAgICAgOiBjdXN0b21pemVyKG9ialZhbHVlLCBvdGhWYWx1ZSwga2V5LCBvYmplY3QsIG90aGVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGlmICghKGNvbXBhcmVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyAob2JqVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhvYmpWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSlcbiAgICAgICAgICAgICAgOiBjb21wYXJlZFxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHNraXBDdG9yIHx8IChza2lwQ3RvciA9IGtleSA9PSAnY29uc3RydWN0b3InKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgJiYgIXNraXBDdG9yKSB7XG4gICAgICAgIHZhciBvYmpDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yLFxuICAgICAgICAgICAgb3RoQ3RvciA9IG90aGVyLmNvbnN0cnVjdG9yO1xuXG4gICAgICAgIC8vIE5vbiBgT2JqZWN0YCBvYmplY3QgaW5zdGFuY2VzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWFsLlxuICAgICAgICBpZiAob2JqQ3RvciAhPSBvdGhDdG9yICYmXG4gICAgICAgICAgICAoJ2NvbnN0cnVjdG9yJyBpbiBvYmplY3QgJiYgJ2NvbnN0cnVjdG9yJyBpbiBvdGhlcikgJiZcbiAgICAgICAgICAgICEodHlwZW9mIG9iakN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvYmpDdG9yIGluc3RhbmNlb2Ygb2JqQ3RvciAmJlxuICAgICAgICAgICAgICB0eXBlb2Ygb3RoQ3RvciA9PSAnZnVuY3Rpb24nICYmIG90aEN0b3IgaW5zdGFuY2VvZiBvdGhDdG9yKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVJlc3RgIHdoaWNoIGZsYXR0ZW5zIHRoZSByZXN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRSZXN0KGZ1bmMpIHtcbiAgICAgIHJldHVybiBzZXRUb1N0cmluZyhvdmVyUmVzdChmdW5jLCB1bmRlZmluZWQsIGZsYXR0ZW4pLCBmdW5jICsgJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEFsbEtleXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzLCBnZXRTeW1ib2xzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gICAgICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QWxsS2V5c0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0luLCBnZXRTeW1ib2xzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIGdldERhdGEgPSAhbWV0YU1hcCA/IG5vb3AgOiBmdW5jdGlvbihmdW5jKSB7XG4gICAgICByZXR1cm4gbWV0YU1hcC5nZXQoZnVuYyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5hbWUgb2YgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEZ1bmNOYW1lKGZ1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSAoZnVuYy5uYW1lICsgJycpLFxuICAgICAgICAgIGFycmF5ID0gcmVhbE5hbWVzW3Jlc3VsdF0sXG4gICAgICAgICAgbGVuZ3RoID0gaGFzT3duUHJvcGVydHkuY2FsbChyZWFsTmFtZXMsIHJlc3VsdCkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGRhdGEgPSBhcnJheVtsZW5ndGhdLFxuICAgICAgICAgICAgb3RoZXJGdW5jID0gZGF0YS5mdW5jO1xuICAgICAgICBpZiAob3RoZXJGdW5jID09IG51bGwgfHwgb3RoZXJGdW5jID09IGZ1bmMpIHtcbiAgICAgICAgICByZXR1cm4gZGF0YS5uYW1lO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGFyZ3VtZW50IHBsYWNlaG9sZGVyIHZhbHVlIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHBsYWNlaG9sZGVyIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEhvbGRlcihmdW5jKSB7XG4gICAgICB2YXIgb2JqZWN0ID0gaGFzT3duUHJvcGVydHkuY2FsbChsb2Rhc2gsICdwbGFjZWhvbGRlcicpID8gbG9kYXNoIDogZnVuYztcbiAgICAgIHJldHVybiBvYmplY3QucGxhY2Vob2xkZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYXBwcm9wcmlhdGUgXCJpdGVyYXRlZVwiIGZ1bmN0aW9uLiBJZiBgXy5pdGVyYXRlZWAgaXMgY3VzdG9taXplZCxcbiAgICAgKiB0aGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIGN1c3RvbSBtZXRob2QsIG90aGVyd2lzZSBpdCByZXR1cm5zIGBiYXNlSXRlcmF0ZWVgLlxuICAgICAqIElmIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQsIHRoZSBjaG9zZW4gZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIHRoZW0gYW5kXG4gICAgICogaXRzIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBbdmFsdWVdIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGFuIGl0ZXJhdGVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiB0aGUgY3JlYXRlZCBpdGVyYXRlZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNob3NlbiBmdW5jdGlvbiBvciBpdHMgcmVzdWx0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEl0ZXJhdGVlKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IGxvZGFzaC5pdGVyYXRlZSB8fCBpdGVyYXRlZTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdCA9PT0gaXRlcmF0ZWUgPyBiYXNlSXRlcmF0ZWUgOiByZXN1bHQ7XG4gICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHJlc3VsdChhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSkgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgICAgIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgICAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgICAgICA6IGRhdGEubWFwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHByb3BlcnR5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBtYXRjaCBkYXRhIG9mIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1hdGNoRGF0YShvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBrZXlzKG9iamVjdCksXG4gICAgICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSByZXN1bHRbbGVuZ3RoXSxcbiAgICAgICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgcmVzdWx0W2xlbmd0aF0gPSBba2V5LCB2YWx1ZSwgaXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gICAgICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gICAgICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICAgICAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgdW5tYXNrZWQgPSB0cnVlO1xuICAgICAgfSBjYXRjaCAoZSkge31cblxuICAgICAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgaWYgKHVubWFza2VkKSB7XG4gICAgICAgIGlmIChpc093bikge1xuICAgICAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gICAgICovXG4gICAgdmFyIGdldFN5bWJvbHMgPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgcmV0dXJuIGFycmF5RmlsdGVyKG5hdGl2ZUdldFN5bWJvbHMob2JqZWN0KSwgZnVuY3Rpb24oc3ltYm9sKSB7XG4gICAgICAgIHJldHVybiBwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iamVjdCwgc3ltYm9sKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gICAgICovXG4gICAgdmFyIGdldFN5bWJvbHNJbiA9ICFuYXRpdmVHZXRTeW1ib2xzID8gc3R1YkFycmF5IDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICB3aGlsZSAob2JqZWN0KSB7XG4gICAgICAgIGFycmF5UHVzaChyZXN1bHQsIGdldFN5bWJvbHMob2JqZWN0KSk7XG4gICAgICAgIG9iamVjdCA9IGdldFByb3RvdHlwZShvYmplY3QpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYHRvU3RyaW5nVGFnYCBvZiBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIHZhciBnZXRUYWcgPSBiYXNlR2V0VGFnO1xuXG4gICAgLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEgYW5kIHByb21pc2VzIGluIE5vZGUuanMgPCA2LlxuICAgIGlmICgoRGF0YVZpZXcgJiYgZ2V0VGFnKG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMSkpKSAhPSBkYXRhVmlld1RhZykgfHxcbiAgICAgICAgKE1hcCAmJiBnZXRUYWcobmV3IE1hcCkgIT0gbWFwVGFnKSB8fFxuICAgICAgICAoUHJvbWlzZSAmJiBnZXRUYWcoUHJvbWlzZS5yZXNvbHZlKCkpICE9IHByb21pc2VUYWcpIHx8XG4gICAgICAgIChTZXQgJiYgZ2V0VGFnKG5ldyBTZXQpICE9IHNldFRhZykgfHxcbiAgICAgICAgKFdlYWtNYXAgJiYgZ2V0VGFnKG5ldyBXZWFrTWFwKSAhPSB3ZWFrTWFwVGFnKSkge1xuICAgICAgZ2V0VGFnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGJhc2VHZXRUYWcodmFsdWUpLFxuICAgICAgICAgICAgQ3RvciA9IHJlc3VsdCA9PSBvYmplY3RUYWcgPyB2YWx1ZS5jb25zdHJ1Y3RvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGN0b3JTdHJpbmcgPSBDdG9yID8gdG9Tb3VyY2UoQ3RvcikgOiAnJztcblxuICAgICAgICBpZiAoY3RvclN0cmluZykge1xuICAgICAgICAgIHN3aXRjaCAoY3RvclN0cmluZykge1xuICAgICAgICAgICAgY2FzZSBkYXRhVmlld0N0b3JTdHJpbmc6IHJldHVybiBkYXRhVmlld1RhZztcbiAgICAgICAgICAgIGNhc2UgbWFwQ3RvclN0cmluZzogcmV0dXJuIG1hcFRhZztcbiAgICAgICAgICAgIGNhc2UgcHJvbWlzZUN0b3JTdHJpbmc6IHJldHVybiBwcm9taXNlVGFnO1xuICAgICAgICAgICAgY2FzZSBzZXRDdG9yU3RyaW5nOiByZXR1cm4gc2V0VGFnO1xuICAgICAgICAgICAgY2FzZSB3ZWFrTWFwQ3RvclN0cmluZzogcmV0dXJuIHdlYWtNYXBUYWc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZpZXcsIGFwcGx5aW5nIGFueSBgdHJhbnNmb3Jtc2AgdG8gdGhlIGBzdGFydGAgYW5kIGBlbmRgIHBvc2l0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHZpZXcuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdHJhbnNmb3JtcyBUaGUgdHJhbnNmb3JtYXRpb25zIHRvIGFwcGx5IHRvIHRoZSB2aWV3LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGBzdGFydGAgYW5kIGBlbmRgXG4gICAgICogIHBvc2l0aW9ucyBvZiB0aGUgdmlldy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRWaWV3KHN0YXJ0LCBlbmQsIHRyYW5zZm9ybXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHRyYW5zZm9ybXMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZGF0YSA9IHRyYW5zZm9ybXNbaW5kZXhdLFxuICAgICAgICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblxuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2Ryb3AnOiAgICAgIHN0YXJ0ICs9IHNpemU7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2Ryb3BSaWdodCc6IGVuZCAtPSBzaXplOyBicmVhaztcbiAgICAgICAgICBjYXNlICd0YWtlJzogICAgICBlbmQgPSBuYXRpdmVNaW4oZW5kLCBzdGFydCArIHNpemUpOyBicmVhaztcbiAgICAgICAgICBjYXNlICd0YWtlUmlnaHQnOiBzdGFydCA9IG5hdGl2ZU1heChzdGFydCwgZW5kIC0gc2l6ZSk7IGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4geyAnc3RhcnQnOiBzdGFydCwgJ2VuZCc6IGVuZCB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHdyYXBwZXIgZGV0YWlscyBmcm9tIHRoZSBgc291cmNlYCBib2R5IGNvbW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2UgVGhlIHNvdXJjZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd3JhcHBlciBkZXRhaWxzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFdyYXBEZXRhaWxzKHNvdXJjZSkge1xuICAgICAgdmFyIG1hdGNoID0gc291cmNlLm1hdGNoKHJlV3JhcERldGFpbHMpO1xuICAgICAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0uc3BsaXQocmVTcGxpdERldGFpbHMpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwYXRoYCBleGlzdHMgb24gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYXNGdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjayBwcm9wZXJ0aWVzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzUGF0aChvYmplY3QsIHBhdGgsIGhhc0Z1bmMpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKTtcbiAgICAgICAgaWYgKCEocmVzdWx0ID0gb2JqZWN0ICE9IG51bGwgJiYgaGFzRnVuYyhvYmplY3QsIGtleSkpKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0W2tleV07XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0IHx8ICsraW5kZXggIT0gbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBsZW5ndGggPSBvYmplY3QgPT0gbnVsbCA/IDAgOiBvYmplY3QubGVuZ3RoO1xuICAgICAgcmV0dXJuICEhbGVuZ3RoICYmIGlzTGVuZ3RoKGxlbmd0aCkgJiYgaXNJbmRleChrZXksIGxlbmd0aCkgJiZcbiAgICAgICAgKGlzQXJyYXkob2JqZWN0KSB8fCBpc0FyZ3VtZW50cyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBhcnJheSBjbG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lQXJyYXkoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gbmV3IGFycmF5LmNvbnN0cnVjdG9yKGxlbmd0aCk7XG5cbiAgICAgIC8vIEFkZCBwcm9wZXJ0aWVzIGFzc2lnbmVkIGJ5IGBSZWdFeHAjZXhlY2AuXG4gICAgICBpZiAobGVuZ3RoICYmIHR5cGVvZiBhcnJheVswXSA9PSAnc3RyaW5nJyAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGFycmF5LCAnaW5kZXgnKSkge1xuICAgICAgICByZXN1bHQuaW5kZXggPSBhcnJheS5pbmRleDtcbiAgICAgICAgcmVzdWx0LmlucHV0ID0gYXJyYXkuaW5wdXQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIG9iamVjdCBjbG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRDbG9uZU9iamVjdChvYmplY3QpIHtcbiAgICAgIHJldHVybiAodHlwZW9mIG9iamVjdC5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmICFpc1Byb3RvdHlwZShvYmplY3QpKVxuICAgICAgICA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpXG4gICAgICAgIDoge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lIGJhc2VkIG9uIGl0cyBgdG9TdHJpbmdUYWdgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjbG9uaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAgICAgKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE1hcGAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgYFNldGAsIG9yIGBTdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhZyBUaGUgYHRvU3RyaW5nVGFnYCBvZiB0aGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lQnlUYWcob2JqZWN0LCB0YWcsIGlzRGVlcCkge1xuICAgICAgdmFyIEN0b3IgPSBvYmplY3QuY29uc3RydWN0b3I7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIGFycmF5QnVmZmVyVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZUFycmF5QnVmZmVyKG9iamVjdCk7XG5cbiAgICAgICAgY2FzZSBib29sVGFnOlxuICAgICAgICBjYXNlIGRhdGVUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yKCtvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lRGF0YVZpZXcob2JqZWN0LCBpc0RlZXApO1xuXG4gICAgICAgIGNhc2UgZmxvYXQzMlRhZzogY2FzZSBmbG9hdDY0VGFnOlxuICAgICAgICBjYXNlIGludDhUYWc6IGNhc2UgaW50MTZUYWc6IGNhc2UgaW50MzJUYWc6XG4gICAgICAgIGNhc2UgdWludDhUYWc6IGNhc2UgdWludDhDbGFtcGVkVGFnOiBjYXNlIHVpbnQxNlRhZzogY2FzZSB1aW50MzJUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lVHlwZWRBcnJheShvYmplY3QsIGlzRGVlcCk7XG5cbiAgICAgICAgY2FzZSBtYXBUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yO1xuXG4gICAgICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3Iob2JqZWN0KTtcblxuICAgICAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVSZWdFeHAob2JqZWN0KTtcblxuICAgICAgICBjYXNlIHNldFRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3I7XG5cbiAgICAgICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lU3ltYm9sKG9iamVjdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyB3cmFwcGVyIGBkZXRhaWxzYCBpbiBhIGNvbW1lbnQgYXQgdGhlIHRvcCBvZiB0aGUgYHNvdXJjZWAgYm9keS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSBUaGUgc291cmNlIHRvIG1vZGlmeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IGRldGFpbHMgVGhlIGRldGFpbHMgdG8gaW5zZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIG1vZGlmaWVkIHNvdXJjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbnNlcnRXcmFwRGV0YWlscyhzb3VyY2UsIGRldGFpbHMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBkZXRhaWxzLmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgICB9XG4gICAgICB2YXIgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcbiAgICAgIGRldGFpbHNbbGFzdEluZGV4XSA9IChsZW5ndGggPiAxID8gJyYgJyA6ICcnKSArIGRldGFpbHNbbGFzdEluZGV4XTtcbiAgICAgIGRldGFpbHMgPSBkZXRhaWxzLmpvaW4obGVuZ3RoID4gMiA/ICcsICcgOiAnICcpO1xuICAgICAgcmV0dXJuIHNvdXJjZS5yZXBsYWNlKHJlV3JhcENvbW1lbnQsICd7XFxuLyogW3dyYXBwZWQgd2l0aCAnICsgZGV0YWlscyArICddICovXFxuJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBmbGF0dGVuYWJsZSBgYXJndW1lbnRzYCBvYmplY3Qgb3IgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZsYXR0ZW5hYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGbGF0dGVuYWJsZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSB8fFxuICAgICAgICAhIShzcHJlYWRhYmxlU3ltYm9sICYmIHZhbHVlICYmIHZhbHVlW3NwcmVhZGFibGVTeW1ib2xdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcblxuICAgICAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgICAgICh0eXBlID09ICdudW1iZXInIHx8XG4gICAgICAgICAgKHR5cGUgIT0gJ3N5bWJvbCcgJiYgcmVJc1VpbnQudGVzdCh2YWx1ZSkpKSAmJlxuICAgICAgICAgICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSB2YWx1ZSBhcmd1bWVudC5cbiAgICAgKiBAcGFyYW0geyp9IGluZGV4IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgaW5kZXggb3Iga2V5IGFyZ3VtZW50LlxuICAgICAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgb2JqZWN0IGFyZ3VtZW50LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIGluZGV4O1xuICAgICAgaWYgKHR5cGUgPT0gJ251bWJlcidcbiAgICAgICAgICAgID8gKGlzQXJyYXlMaWtlKG9iamVjdCkgJiYgaXNJbmRleChpbmRleCwgb2JqZWN0Lmxlbmd0aCkpXG4gICAgICAgICAgICA6ICh0eXBlID09ICdzdHJpbmcnICYmIGluZGV4IGluIG9iamVjdClcbiAgICAgICAgICApIHtcbiAgICAgICAgcmV0dXJuIGVxKG9iamVjdFtpbmRleF0sIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUgYW5kIG5vdCBhIHByb3BlcnR5IHBhdGguXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNLZXkodmFsdWUsIG9iamVjdCkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgaWYgKHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJyB8fFxuICAgICAgICAgIHZhbHVlID09IG51bGwgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlSXNQbGFpblByb3AudGVzdCh2YWx1ZSkgfHwgIXJlSXNEZWVwUHJvcC50ZXN0KHZhbHVlKSB8fFxuICAgICAgICAob2JqZWN0ICE9IG51bGwgJiYgdmFsdWUgaW4gT2JqZWN0KG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICAgICAgOiAodmFsdWUgPT09IG51bGwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGEgbGF6eSBjb3VudGVycGFydC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBoYXMgYSBsYXp5IGNvdW50ZXJwYXJ0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNMYXppYWJsZShmdW5jKSB7XG4gICAgICB2YXIgZnVuY05hbWUgPSBnZXRGdW5jTmFtZShmdW5jKSxcbiAgICAgICAgICBvdGhlciA9IGxvZGFzaFtmdW5jTmFtZV07XG5cbiAgICAgIGlmICh0eXBlb2Ygb3RoZXIgIT0gJ2Z1bmN0aW9uJyB8fCAhKGZ1bmNOYW1lIGluIExhenlXcmFwcGVyLnByb3RvdHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGZ1bmMgPT09IG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIGRhdGEgPSBnZXREYXRhKG90aGVyKTtcbiAgICAgIHJldHVybiAhIWRhdGEgJiYgZnVuYyA9PT0gZGF0YVswXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gICAgICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaXMgY2FwYWJsZSBvZiBiZWluZyBtYXNrZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2FibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICB2YXIgaXNNYXNrYWJsZSA9IGNvcmVKc0RhdGEgPyBpc0Z1bmN0aW9uIDogc3R1YkZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm90b3R5cGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICAgICAgdmFyIEN0b3IgPSB2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvcixcbiAgICAgICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICAgICAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpZiBzdWl0YWJsZSBmb3Igc3RyaWN0XG4gICAgICogIGVxdWFsaXR5IGNvbXBhcmlzb25zLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlICYmICFpc09iamVjdCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBtYXRjaGVzUHJvcGVydHlgIGZvciBzb3VyY2UgdmFsdWVzIHN1aXRhYmxlXG4gICAgICogZm9yIHN0cmljdCBlcXVhbGl0eSBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShrZXksIHNyY1ZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0W2tleV0gPT09IHNyY1ZhbHVlICYmXG4gICAgICAgICAgKHNyY1ZhbHVlICE9PSB1bmRlZmluZWQgfHwgKGtleSBpbiBPYmplY3Qob2JqZWN0KSkpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWVtb2l6ZWAgd2hpY2ggY2xlYXJzIHRoZSBtZW1vaXplZCBmdW5jdGlvbidzXG4gICAgICogY2FjaGUgd2hlbiBpdCBleGNlZWRzIGBNQVhfTUVNT0laRV9TSVpFYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lbW9pemVDYXBwZWQoZnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IG1lbW9pemUoZnVuYywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGlmIChjYWNoZS5zaXplID09PSBNQVhfTUVNT0laRV9TSVpFKSB7XG4gICAgICAgICAgY2FjaGUuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBjYWNoZSA9IHJlc3VsdC5jYWNoZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWVyZ2VzIHRoZSBmdW5jdGlvbiBtZXRhZGF0YSBvZiBgc291cmNlYCBpbnRvIGBkYXRhYC5cbiAgICAgKlxuICAgICAqIE1lcmdpbmcgbWV0YWRhdGEgcmVkdWNlcyB0aGUgbnVtYmVyIG9mIHdyYXBwZXJzIHVzZWQgdG8gaW52b2tlIGEgZnVuY3Rpb24uXG4gICAgICogVGhpcyBpcyBwb3NzaWJsZSBiZWNhdXNlIG1ldGhvZHMgbGlrZSBgXy5iaW5kYCwgYF8uY3VycnlgLCBhbmQgYF8ucGFydGlhbGBcbiAgICAgKiBtYXkgYmUgYXBwbGllZCByZWdhcmRsZXNzIG9mIGV4ZWN1dGlvbiBvcmRlci4gTWV0aG9kcyBsaWtlIGBfLmFyeWAgYW5kXG4gICAgICogYF8ucmVhcmdgIG1vZGlmeSBmdW5jdGlvbiBhcmd1bWVudHMsIG1ha2luZyB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSBhcmVcbiAgICAgKiBleGVjdXRlZCBpbXBvcnRhbnQsIHByZXZlbnRpbmcgdGhlIG1lcmdpbmcgb2YgbWV0YWRhdGEuIEhvd2V2ZXIsIHdlIG1ha2VcbiAgICAgKiBhbiBleGNlcHRpb24gZm9yIGEgc2FmZSBjb21iaW5lZCBjYXNlIHdoZXJlIGN1cnJpZWQgZnVuY3Rpb25zIGhhdmUgYF8uYXJ5YFxuICAgICAqIGFuZCBvciBgXy5yZWFyZ2AgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gZGF0YSBUaGUgZGVzdGluYXRpb24gbWV0YWRhdGEuXG4gICAgICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBzb3VyY2UgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBkYXRhYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZXJnZURhdGEoZGF0YSwgc291cmNlKSB7XG4gICAgICB2YXIgYml0bWFzayA9IGRhdGFbMV0sXG4gICAgICAgICAgc3JjQml0bWFzayA9IHNvdXJjZVsxXSxcbiAgICAgICAgICBuZXdCaXRtYXNrID0gYml0bWFzayB8IHNyY0JpdG1hc2ssXG4gICAgICAgICAgaXNDb21tb24gPSBuZXdCaXRtYXNrIDwgKFdSQVBfQklORF9GTEFHIHwgV1JBUF9CSU5EX0tFWV9GTEFHIHwgV1JBUF9BUllfRkxBRyk7XG5cbiAgICAgIHZhciBpc0NvbWJvID1cbiAgICAgICAgKChzcmNCaXRtYXNrID09IFdSQVBfQVJZX0ZMQUcpICYmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRykpIHx8XG4gICAgICAgICgoc3JjQml0bWFzayA9PSBXUkFQX0FSWV9GTEFHKSAmJiAoYml0bWFzayA9PSBXUkFQX1JFQVJHX0ZMQUcpICYmIChkYXRhWzddLmxlbmd0aCA8PSBzb3VyY2VbOF0pKSB8fFxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gKFdSQVBfQVJZX0ZMQUcgfCBXUkFQX1JFQVJHX0ZMQUcpKSAmJiAoc291cmNlWzddLmxlbmd0aCA8PSBzb3VyY2VbOF0pICYmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRykpO1xuXG4gICAgICAvLyBFeGl0IGVhcmx5IGlmIG1ldGFkYXRhIGNhbid0IGJlIG1lcmdlZC5cbiAgICAgIGlmICghKGlzQ29tbW9uIHx8IGlzQ29tYm8pKSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgdGhpc0FyZ2AgaWYgYXZhaWxhYmxlLlxuICAgICAgaWYgKHNyY0JpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRykge1xuICAgICAgICBkYXRhWzJdID0gc291cmNlWzJdO1xuICAgICAgICAvLyBTZXQgd2hlbiBjdXJyeWluZyBhIGJvdW5kIGZ1bmN0aW9uLlxuICAgICAgICBuZXdCaXRtYXNrIHw9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyA/IDAgOiBXUkFQX0NVUlJZX0JPVU5EX0ZMQUc7XG4gICAgICB9XG4gICAgICAvLyBDb21wb3NlIHBhcnRpYWwgYXJndW1lbnRzLlxuICAgICAgdmFyIHZhbHVlID0gc291cmNlWzNdO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHZhciBwYXJ0aWFscyA9IGRhdGFbM107XG4gICAgICAgIGRhdGFbM10gPSBwYXJ0aWFscyA/IGNvbXBvc2VBcmdzKHBhcnRpYWxzLCB2YWx1ZSwgc291cmNlWzRdKSA6IHZhbHVlO1xuICAgICAgICBkYXRhWzRdID0gcGFydGlhbHMgPyByZXBsYWNlSG9sZGVycyhkYXRhWzNdLCBQTEFDRUhPTERFUikgOiBzb3VyY2VbNF07XG4gICAgICB9XG4gICAgICAvLyBDb21wb3NlIHBhcnRpYWwgcmlnaHQgYXJndW1lbnRzLlxuICAgICAgdmFsdWUgPSBzb3VyY2VbNV07XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgcGFydGlhbHMgPSBkYXRhWzVdO1xuICAgICAgICBkYXRhWzVdID0gcGFydGlhbHMgPyBjb21wb3NlQXJnc1JpZ2h0KHBhcnRpYWxzLCB2YWx1ZSwgc291cmNlWzZdKSA6IHZhbHVlO1xuICAgICAgICBkYXRhWzZdID0gcGFydGlhbHMgPyByZXBsYWNlSG9sZGVycyhkYXRhWzVdLCBQTEFDRUhPTERFUikgOiBzb3VyY2VbNl07XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBhcmdQb3NgIGlmIGF2YWlsYWJsZS5cbiAgICAgIHZhbHVlID0gc291cmNlWzddO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGRhdGFbN10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyeWAgaWYgaXQncyBzbWFsbGVyLlxuICAgICAgaWYgKHNyY0JpdG1hc2sgJiBXUkFQX0FSWV9GTEFHKSB7XG4gICAgICAgIGRhdGFbOF0gPSBkYXRhWzhdID09IG51bGwgPyBzb3VyY2VbOF0gOiBuYXRpdmVNaW4oZGF0YVs4XSwgc291cmNlWzhdKTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyaXR5YCBpZiBvbmUgaXMgbm90IHByb3ZpZGVkLlxuICAgICAgaWYgKGRhdGFbOV0gPT0gbnVsbCkge1xuICAgICAgICBkYXRhWzldID0gc291cmNlWzldO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgZnVuY2AgYW5kIG1lcmdlIGJpdG1hc2tzLlxuICAgICAgZGF0YVswXSA9IHNvdXJjZVswXTtcbiAgICAgIGRhdGFbMV0gPSBuZXdCaXRtYXNrO1xuXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2VcbiAgICAgKiBbYE9iamVjdC5rZXlzYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gICAgICogZXhjZXB0IHRoYXQgaXQgaW5jbHVkZXMgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbmF0aXZlS2V5c0luKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKG9iamVjdCAhPSBudWxsKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVJlc3RgIHdoaWNoIHRyYW5zZm9ybXMgdGhlIHJlc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgcmVzdCBhcnJheSB0cmFuc2Zvcm0uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gb3ZlclJlc3QoZnVuYywgc3RhcnQsIHRyYW5zZm9ybSkge1xuICAgICAgc3RhcnQgPSBuYXRpdmVNYXgoc3RhcnQgPT09IHVuZGVmaW5lZCA/IChmdW5jLmxlbmd0aCAtIDEpIDogc3RhcnQsIDApO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoYXJncy5sZW5ndGggLSBzdGFydCwgMCksXG4gICAgICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcnJheVtpbmRleF0gPSBhcmdzW3N0YXJ0ICsgaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gLTE7XG4gICAgICAgIHZhciBvdGhlckFyZ3MgPSBBcnJheShzdGFydCArIDEpO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICAgICAgb3RoZXJBcmdzW2luZGV4XSA9IGFyZ3NbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIG90aGVyQXJnc1tzdGFydF0gPSB0cmFuc2Zvcm0oYXJyYXkpO1xuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcGFyZW50IHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhdGggVGhlIHBhdGggdG8gZ2V0IHRoZSBwYXJlbnQgdmFsdWUgb2YuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHBhcmVudCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJlbnQob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gcGF0aC5sZW5ndGggPCAyID8gb2JqZWN0IDogYmFzZUdldChvYmplY3QsIGJhc2VTbGljZShwYXRoLCAwLCAtMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlb3JkZXIgYGFycmF5YCBhY2NvcmRpbmcgdG8gdGhlIHNwZWNpZmllZCBpbmRleGVzIHdoZXJlIHRoZSBlbGVtZW50IGF0XG4gICAgICogdGhlIGZpcnN0IGluZGV4IGlzIGFzc2lnbmVkIGFzIHRoZSBmaXJzdCBlbGVtZW50LCB0aGUgZWxlbWVudCBhdFxuICAgICAqIHRoZSBzZWNvbmQgaW5kZXggaXMgYXNzaWduZWQgYXMgdGhlIHNlY29uZCBlbGVtZW50LCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byByZW9yZGVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGluZGV4ZXMgVGhlIGFycmFuZ2VkIGFycmF5IGluZGV4ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVvcmRlcihhcnJheSwgaW5kZXhlcykge1xuICAgICAgdmFyIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNaW4oaW5kZXhlcy5sZW5ndGgsIGFyckxlbmd0aCksXG4gICAgICAgICAgb2xkQXJyYXkgPSBjb3B5QXJyYXkoYXJyYXkpO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5kZXhlc1tsZW5ndGhdO1xuICAgICAgICBhcnJheVtsZW5ndGhdID0gaXNJbmRleChpbmRleCwgYXJyTGVuZ3RoKSA/IG9sZEFycmF5W2luZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgdGhpcyBmdW5jdGlvbiBiZWNvbWVzIGhvdCwgaS5lLiBpcyBpbnZva2VkIGEgbG90IGluIGEgc2hvcnRcbiAgICAgKiBwZXJpb2Qgb2YgdGltZSwgaXQgd2lsbCB0cmlwIGl0cyBicmVha2VyIGFuZCB0cmFuc2l0aW9uIHRvIGFuIGlkZW50aXR5XG4gICAgICogZnVuY3Rpb24gdG8gYXZvaWQgZ2FyYmFnZSBjb2xsZWN0aW9uIHBhdXNlcyBpbiBWOC4gU2VlXG4gICAgICogW1Y4IGlzc3VlIDIwNzBdKGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTIwNzApXG4gICAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXNzb2NpYXRlIG1ldGFkYXRhIHdpdGguXG4gICAgICogQHBhcmFtIHsqfSBkYXRhIFRoZSBtZXRhZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBzZXREYXRhID0gc2hvcnRPdXQoYmFzZVNldERhdGEpO1xuXG4gICAgLyoqXG4gICAgICogQSBzaW1wbGUgd3JhcHBlciBhcm91bmQgdGhlIGdsb2JhbCBbYHNldFRpbWVvdXRgXShodHRwczovL21kbi5pby9zZXRUaW1lb3V0KS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfE9iamVjdH0gUmV0dXJucyB0aGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3QuXG4gICAgICovXG4gICAgdmFyIHNldFRpbWVvdXQgPSBjdHhTZXRUaW1lb3V0IHx8IGZ1bmN0aW9uKGZ1bmMsIHdhaXQpIHtcbiAgICAgIHJldHVybiByb290LnNldFRpbWVvdXQoZnVuYywgd2FpdCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIGBmdW5jYCB0byByZXR1cm4gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIHNldFRvU3RyaW5nID0gc2hvcnRPdXQoYmFzZVNldFRvU3RyaW5nKTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIGB3cmFwcGVyYCB0byBtaW1pYyB0aGUgc291cmNlIG9mIGByZWZlcmVuY2VgXG4gICAgICogd2l0aCB3cmFwcGVyIGRldGFpbHMgaW4gYSBjb21tZW50IGF0IHRoZSB0b3Agb2YgdGhlIHNvdXJjZSBib2R5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwcGVyIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVmZXJlbmNlIFRoZSByZWZlcmVuY2UgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYHdyYXBwZXJgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFdyYXBUb1N0cmluZyh3cmFwcGVyLCByZWZlcmVuY2UsIGJpdG1hc2spIHtcbiAgICAgIHZhciBzb3VyY2UgPSAocmVmZXJlbmNlICsgJycpO1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKHdyYXBwZXIsIGluc2VydFdyYXBEZXRhaWxzKHNvdXJjZSwgdXBkYXRlV3JhcERldGFpbHMoZ2V0V3JhcERldGFpbHMoc291cmNlKSwgYml0bWFzaykpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCdsbCBzaG9ydCBvdXQgYW5kIGludm9rZSBgaWRlbnRpdHlgIGluc3RlYWRcbiAgICAgKiBvZiBgZnVuY2Agd2hlbiBpdCdzIGNhbGxlZCBgSE9UX0NPVU5UYCBvciBtb3JlIHRpbWVzIGluIGBIT1RfU1BBTmBcbiAgICAgKiBtaWxsaXNlY29uZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNob3J0YWJsZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaG9ydE91dChmdW5jKSB7XG4gICAgICB2YXIgY291bnQgPSAwLFxuICAgICAgICAgIGxhc3RDYWxsZWQgPSAwO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzdGFtcCA9IG5hdGl2ZU5vdygpLFxuICAgICAgICAgICAgcmVtYWluaW5nID0gSE9UX1NQQU4gLSAoc3RhbXAgLSBsYXN0Q2FsbGVkKTtcblxuICAgICAgICBsYXN0Q2FsbGVkID0gc3RhbXA7XG4gICAgICAgIGlmIChyZW1haW5pbmcgPiAwKSB7XG4gICAgICAgICAgaWYgKCsrY291bnQgPj0gSE9UX0NPVU5UKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb3VudCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2h1ZmZsZWAgd2hpY2ggbXV0YXRlcyBhbmQgc2V0cyB0aGUgc2l6ZSBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2h1ZmZsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NpemU9YXJyYXkubGVuZ3RoXSBUaGUgc2l6ZSBvZiBgYXJyYXlgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNodWZmbGVTZWxmKGFycmF5LCBzaXplKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcblxuICAgICAgc2l6ZSA9IHNpemUgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IHNpemU7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IHNpemUpIHtcbiAgICAgICAgdmFyIHJhbmQgPSBiYXNlUmFuZG9tKGluZGV4LCBsYXN0SW5kZXgpLFxuICAgICAgICAgICAgdmFsdWUgPSBhcnJheVtyYW5kXTtcblxuICAgICAgICBhcnJheVtyYW5kXSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICBhcnJheS5sZW5ndGggPSBzaXplO1xuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqL1xuICAgIHZhciBzdHJpbmdUb1BhdGggPSBtZW1vaXplQ2FwcGVkKGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKHN0cmluZy5jaGFyQ29kZUF0KDApID09PSA0NiAvKiAuICovKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKCcnKTtcbiAgICAgIH1cbiAgICAgIHN0cmluZy5yZXBsYWNlKHJlUHJvcE5hbWUsIGZ1bmN0aW9uKG1hdGNoLCBudW1iZXIsIHF1b3RlLCBzdWJTdHJpbmcpIHtcbiAgICAgICAgcmVzdWx0LnB1c2gocXVvdGUgPyBzdWJTdHJpbmcucmVwbGFjZShyZUVzY2FwZUNoYXIsICckMScpIDogKG51bWJlciB8fCBtYXRjaCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyBrZXkgaWYgaXQncyBub3QgYSBzdHJpbmcgb3Igc3ltYm9sLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8c3ltYm9sfSBSZXR1cm5zIHRoZSBrZXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9LZXkodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gICAgICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gICAgICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH1cbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHdyYXBwZXIgYGRldGFpbHNgIGJhc2VkIG9uIGBiaXRtYXNrYCBmbGFncy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge0FycmF5fSBkZXRhaWxzIFRoZSBkZXRhaWxzIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgZGV0YWlsc2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlV3JhcERldGFpbHMoZGV0YWlscywgYml0bWFzaykge1xuICAgICAgYXJyYXlFYWNoKHdyYXBGbGFncywgZnVuY3Rpb24ocGFpcikge1xuICAgICAgICB2YXIgdmFsdWUgPSAnXy4nICsgcGFpclswXTtcbiAgICAgICAgaWYgKChiaXRtYXNrICYgcGFpclsxXSkgJiYgIWFycmF5SW5jbHVkZXMoZGV0YWlscywgdmFsdWUpKSB7XG4gICAgICAgICAgZGV0YWlscy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZGV0YWlscy5zb3J0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGB3cmFwcGVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHdyYXBwZXIgVGhlIHdyYXBwZXIgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHdyYXBwZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNsb25lKHdyYXBwZXIpIHtcbiAgICAgIGlmICh3cmFwcGVyIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgcmV0dXJuIHdyYXBwZXIuY2xvbmUoKTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBuZXcgTG9kYXNoV3JhcHBlcih3cmFwcGVyLl9fd3JhcHBlZF9fLCB3cmFwcGVyLl9fY2hhaW5fXyk7XG4gICAgICByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkod3JhcHBlci5fX2FjdGlvbnNfXyk7XG4gICAgICByZXN1bHQuX19pbmRleF9fICA9IHdyYXBwZXIuX19pbmRleF9fO1xuICAgICAgcmVzdWx0Ll9fdmFsdWVzX18gPSB3cmFwcGVyLl9fdmFsdWVzX187XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgc3BsaXQgaW50byBncm91cHMgdGhlIGxlbmd0aCBvZiBgc2l6ZWAuXG4gICAgICogSWYgYGFycmF5YCBjYW4ndCBiZSBzcGxpdCBldmVubHksIHRoZSBmaW5hbCBjaHVuayB3aWxsIGJlIHRoZSByZW1haW5pbmdcbiAgICAgKiBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZT0xXSBUaGUgbGVuZ3RoIG9mIGVhY2ggY2h1bmtcbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNodW5rcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jaHVuayhbJ2EnLCAnYicsICdjJywgJ2QnXSwgMik7XG4gICAgICogLy8gPT4gW1snYScsICdiJ10sIFsnYycsICdkJ11dXG4gICAgICpcbiAgICAgKiBfLmNodW5rKFsnYScsICdiJywgJ2MnLCAnZCddLCAzKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InLCAnYyddLCBbJ2QnXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjaHVuayhhcnJheSwgc2l6ZSwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgc2l6ZSwgZ3VhcmQpIDogc2l6ZSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBzaXplID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNpemUgPSBuYXRpdmVNYXgodG9JbnRlZ2VyKHNpemUpLCAwKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoIHx8IHNpemUgPCAxKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KG5hdGl2ZUNlaWwobGVuZ3RoIC8gc2l6ZSkpO1xuXG4gICAgICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gYmFzZVNsaWNlKGFycmF5LCBpbmRleCwgKGluZGV4ICs9IHNpemUpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSB3aXRoIGFsbCBmYWxzZXkgdmFsdWVzIHJlbW92ZWQuIFRoZSB2YWx1ZXMgYGZhbHNlYCwgYG51bGxgLFxuICAgICAqIGAwYCwgYFwiXCJgLCBgdW5kZWZpbmVkYCwgYW5kIGBOYU5gIGFyZSBmYWxzZXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY29tcGFjdChbMCwgMSwgZmFsc2UsIDIsICcnLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFjdChhcnJheSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgYXJyYXkgY29uY2F0ZW5hdGluZyBgYXJyYXlgIHdpdGggYW55IGFkZGl0aW9uYWwgYXJyYXlzXG4gICAgICogYW5kL29yIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb25jYXRlbmF0ZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gY29uY2F0ZW5hdGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgY29uY2F0ZW5hdGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMV07XG4gICAgICogdmFyIG90aGVyID0gXy5jb25jYXQoYXJyYXksIDIsIFszXSwgW1s0XV0pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob3RoZXIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCBbNF1dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uY2F0KCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgYXJncyA9IEFycmF5KGxlbmd0aCAtIDEpLFxuICAgICAgICAgIGFycmF5ID0gYXJndW1lbnRzWzBdLFxuICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICBhcmdzW2luZGV4IC0gMV0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5UHVzaChpc0FycmF5KGFycmF5KSA/IGNvcHlBcnJheShhcnJheSkgOiBbYXJyYXldLCBiYXNlRmxhdHRlbihhcmdzLCAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBgYXJyYXlgIHZhbHVlcyBub3QgaW5jbHVkZWQgaW4gdGhlIG90aGVyIGdpdmVuIGFycmF5c1xuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy53aXRob3V0LCBfLnhvclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2UoWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqL1xuICAgIHZhciBkaWZmZXJlbmNlID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZGlmZmVyZW5jZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgYW5kIGB2YWx1ZXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbEJ5YCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2VCeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4yXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kaWZmZXJlbmNlQnkoW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCBbeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2VCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QodmFsdWVzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRpZmZlcmVuY2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAgdG8gYHZhbHVlc2AuIFRoZSBvcmRlciBhbmRcbiAgICAgKiByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgY29tcGFyYXRvclxuICAgICAqIGlzIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsV2l0aGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2VXaXRoKG9iamVjdHMsIFt7ICd4JzogMSwgJ3knOiAyIH1dLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2VXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KHZhbHVlcyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoY29tcGFyYXRvcikpIHtcbiAgICAgICAgY29tcGFyYXRvciA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGRyb3AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBuIDwgMCA/IDAgOiBuLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgZW5kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGRyb3AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wUmlnaHQoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgbiA9IGxlbmd0aCAtIG47XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCAwLCBuIDwgMCA/IDAgOiBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBleGNsdWRpbmcgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBlbmQuXG4gICAgICogRWxlbWVudHMgYXJlIGRyb3BwZWQgdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcFJpZ2h0V2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCB0cnVlLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGV4Y2x1ZGluZyBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKiBFbGVtZW50cyBhcmUgZHJvcHBlZCB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wV2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbGxzIGVsZW1lbnRzIG9mIGBhcnJheWAgd2l0aCBgdmFsdWVgIGZyb20gYHN0YXJ0YCB1cCB0bywgYnV0IG5vdFxuICAgICAqIGluY2x1ZGluZywgYGVuZGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZpbGwuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZmlsbCBgYXJyYXlgIHdpdGguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfLmZpbGwoYXJyYXksICdhJyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYScsICdhJywgJ2EnXVxuICAgICAqXG4gICAgICogXy5maWxsKEFycmF5KDMpLCAyKTtcbiAgICAgKiAvLyA9PiBbMiwgMiwgMl1cbiAgICAgKlxuICAgICAqIF8uZmlsbChbNCwgNiwgOCwgMTBdLCAnKicsIDEsIDMpO1xuICAgICAqIC8vID0+IFs0LCAnKicsICcqJywgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGFydCAmJiB0eXBlb2Ygc3RhcnQgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoYXJyYXksIHZhbHVlLCBzdGFydCkpIHtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICBlbmQgPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZpbGwoYXJyYXksIHZhbHVlLCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdFxuICAgICAqIGVsZW1lbnQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yIGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgaXRzZWxmLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyID09ICdiYXJuZXknOyB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCB7ICd1c2VyJzogJ2ZyZWQnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIGluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmluZEluZGV4KGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBpbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHNcbiAgICAgKiBvZiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWFycmF5Lmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXIgPT0gJ3BlYmJsZXMnOyB9KTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0SW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBsZW5ndGggLSAxO1xuICAgICAgaWYgKGZyb21JbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluZGV4ID0gdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICAgIGluZGV4ID0gZnJvbUluZGV4IDwgMFxuICAgICAgICAgID8gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKVxuICAgICAgICAgIDogbmF0aXZlTWluKGluZGV4LCBsZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmluZEluZGV4KGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBpbmRleCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmxhdHRlbnMgYGFycmF5YCBhIHNpbmdsZSBsZXZlbCBkZWVwLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW4oWzEsIFsyLCBbMywgWzRdXSwgNV1dKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgWzMsIFs0XV0sIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbihhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VGbGF0dGVuKGFycmF5LCAxKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlZXAoWzEsIFsyLCBbMywgWzRdXSwgNV1dKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNCwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuRGVlcChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VGbGF0dGVuKGFycmF5LCBJTkZJTklUWSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSBmbGF0dGVuIGBhcnJheWAgdXAgdG8gYGRlcHRoYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVwdGg9MV0gVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIFsyLCBbMywgWzRdXSwgNV1dO1xuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVwdGgoYXJyYXksIDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCBbMywgWzRdXSwgNV1cbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlcHRoKGFycmF5LCAyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgWzRdLCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW5EZXB0aChhcnJheSwgZGVwdGgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGRlcHRoID0gZGVwdGggPT09IHVuZGVmaW5lZCA/IDEgOiB0b0ludGVnZXIoZGVwdGgpO1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKGFycmF5LCBkZXB0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGludmVyc2Ugb2YgYF8udG9QYWlyc2A7IHRoaXMgbWV0aG9kIHJldHVybnMgYW4gb2JqZWN0IGNvbXBvc2VkXG4gICAgICogZnJvbSBrZXktdmFsdWUgYHBhaXJzYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzIFRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mcm9tUGFpcnMoW1snYScsIDFdLCBbJ2InLCAyXV0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21QYWlycyhwYWlycykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBwYWlyID0gcGFpcnNbaW5kZXhdO1xuICAgICAgICByZXN1bHRbcGFpclswXV0gPSBwYWlyWzFdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgZmlyc3RcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5oZWFkKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5oZWFkKFtdKTtcbiAgICAgKiAvLyA9PiB1bmRlZmluZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoZWFkKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBhcnJheVswXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBgdmFsdWVgIGlzIGZvdW5kIGluIGBhcnJheWBcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gSWYgYGZyb21JbmRleGAgaXMgbmVnYXRpdmUsIGl0J3MgdXNlZCBhcyB0aGVcbiAgICAgKiBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluZGV4T2YoWzEsIDIsIDEsIDJdLCAyKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBTZWFyY2ggZnJvbSB0aGUgYGZyb21JbmRleGAuXG4gICAgICogXy5pbmRleE9mKFsxLCAyLCAxLCAyXSwgMiwgMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGZyb21JbmRleCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICBpbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCBpbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgYnV0IHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5pdGlhbChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRpYWwoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlU2xpY2UoYXJyYXksIDAsIC0xKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcyB0aGF0IGFyZSBpbmNsdWRlZCBpbiBhbGwgZ2l2ZW4gYXJyYXlzXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uKFsyLCAxXSwgWzIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMl1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZClcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG4gICAgICogYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzIuMV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uaW50ZXJzZWN0aW9uQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH1dXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbkJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyksXG4gICAgICAgICAgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcblxuICAgICAgaWYgKGl0ZXJhdGVlID09PSBsYXN0KG1hcHBlZCkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXBwZWQucG9wKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzXG4gICAgICogb2YgcmVzdWx0IHZhbHVlcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBjb21wYXJhdG9yIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb25XaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9XVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb25XaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKSxcbiAgICAgICAgICBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuXG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICBpZiAoY29tcGFyYXRvcikge1xuICAgICAgICBtYXBwZWQucG9wKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQsIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGFsbCBlbGVtZW50cyBpbiBgYXJyYXlgIGludG8gYSBzdHJpbmcgc2VwYXJhdGVkIGJ5IGBzZXBhcmF0b3JgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzZXBhcmF0b3I9JywnXSBUaGUgZWxlbWVudCBzZXBhcmF0b3IuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgam9pbmVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5qb2luKFsnYScsICdiJywgJ2MnXSwgJ34nKTtcbiAgICAgKiAvLyA9PiAnYX5ifmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gam9pbihhcnJheSwgc2VwYXJhdG9yKSB7XG4gICAgICByZXR1cm4gYXJyYXkgPT0gbnVsbCA/ICcnIDogbmF0aXZlSm9pbi5jYWxsKGFycmF5LCBzZXBhcmF0b3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sYXN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhc3QoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBhcnJheVtsZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgYXJyYXlgIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyYXkubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxhc3RJbmRleE9mKFsxLCAyLCAxLCAyXSwgMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogLy8gU2VhcmNoIGZyb20gdGhlIGBmcm9tSW5kZXhgLlxuICAgICAqIF8ubGFzdEluZGV4T2YoWzEsIDIsIDEsIDJdLCAyLCAyKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGxlbmd0aDtcbiAgICAgIGlmIChmcm9tSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbmRleCA9IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgICBpbmRleCA9IGluZGV4IDwgMCA/IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCkgOiBuYXRpdmVNaW4oaW5kZXgsIGxlbmd0aCAtIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZVxuICAgICAgICA/IHN0cmljdExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgaW5kZXgpXG4gICAgICAgIDogYmFzZUZpbmRJbmRleChhcnJheSwgYmFzZUlzTmFOLCBpbmRleCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZWxlbWVudCBhdCBpbmRleCBgbmAgb2YgYGFycmF5YC4gSWYgYG5gIGlzIG5lZ2F0aXZlLCB0aGUgbnRoXG4gICAgICogZWxlbWVudCBmcm9tIHRoZSBlbmQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0wXSBUaGUgaW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBudGggZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnXTtcbiAgICAgKlxuICAgICAqIF8ubnRoKGFycmF5LCAxKTtcbiAgICAgKiAvLyA9PiAnYidcbiAgICAgKlxuICAgICAqIF8ubnRoKGFycmF5LCAtMik7XG4gICAgICogLy8gPT4gJ2MnO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG50aChhcnJheSwgbikge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZU50aChhcnJheSwgdG9JbnRlZ2VyKG4pKSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBnaXZlbiB2YWx1ZXMgZnJvbSBgYXJyYXlgIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLndpdGhvdXRgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuIFVzZSBgXy5yZW1vdmVgXG4gICAgICogdG8gcmVtb3ZlIGVsZW1lbnRzIGZyb20gYW4gYXJyYXkgYnkgcHJlZGljYXRlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2EnLCAnYicsICdjJ107XG4gICAgICpcbiAgICAgKiBfLnB1bGwoYXJyYXksICdhJywgJ2MnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydiJywgJ2InXVxuICAgICAqL1xuICAgIHZhciBwdWxsID0gYmFzZVJlc3QocHVsbEFsbCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYW4gYXJyYXkgb2YgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZWAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2EnLCAnYicsICdjJ107XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGwoYXJyYXksIFsnYScsICdjJ10pO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnYiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbChhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbEFsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgYW5kIGB2YWx1ZXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZUJ5YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbeyAneCc6IDEgfSwgeyAneCc6IDIgfSwgeyAneCc6IDMgfSwgeyAneCc6IDEgfV07XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGxCeShhcnJheSwgW3sgJ3gnOiAxIH0sIHsgJ3gnOiAzIH1dLCAneCcpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsQnkoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxBbGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAgdG8gYHZhbHVlc2AuIFRoZSBjb21wYXJhdG9yIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VXaXRoYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAzLCAneSc6IDQgfSwgeyAneCc6IDUsICd5JzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbFdpdGgoYXJyYXksIFt7ICd4JzogMywgJ3knOiA0IH1dLCBfLmlzRXF1YWwpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogNSwgJ3knOiA2IH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbFdpdGgoYXJyYXksIHZhbHVlcywgY29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZWxlbWVudHMgZnJvbSBgYXJyYXlgIGNvcnJlc3BvbmRpbmcgdG8gYGluZGV4ZXNgIGFuZCByZXR1cm5zIGFuXG4gICAgICogYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uYXRgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7Li4uKG51bWJlcnxudW1iZXJbXSl9IFtpbmRleGVzXSBUaGUgaW5kZXhlcyBvZiBlbGVtZW50cyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdkJ107XG4gICAgICogdmFyIHB1bGxlZCA9IF8ucHVsbEF0KGFycmF5LCBbMSwgM10pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYScsICdjJ11cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKHB1bGxlZCk7XG4gICAgICogLy8gPT4gWydiJywgJ2QnXVxuICAgICAqL1xuICAgIHZhciBwdWxsQXQgPSBmbGF0UmVzdChmdW5jdGlvbihhcnJheSwgaW5kZXhlcykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGJhc2VBdChhcnJheSwgaW5kZXhlcyk7XG5cbiAgICAgIGJhc2VQdWxsQXQoYXJyYXksIGFycmF5TWFwKGluZGV4ZXMsIGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBpc0luZGV4KGluZGV4LCBsZW5ndGgpID8gK2luZGV4IDogaW5kZXg7XG4gICAgICB9KS5zb3J0KGNvbXBhcmVBc2NlbmRpbmcpKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGVsZW1lbnRzIGZyb20gYGFycmF5YCB0aGF0IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvclxuICAgICAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHRoZSByZW1vdmVkIGVsZW1lbnRzLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5maWx0ZXJgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuIFVzZSBgXy5wdWxsYFxuICAgICAqIHRvIHB1bGwgZWxlbWVudHMgZnJvbSBhbiBhcnJheSBieSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzLCA0XTtcbiAgICAgKiB2YXIgZXZlbnMgPSBfLnJlbW92ZShhcnJheSwgZnVuY3Rpb24obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDNdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhldmVucyk7XG4gICAgICogLy8gPT4gWzIsIDRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVtb3ZlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluZGV4ZXMgPSBbXSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHByZWRpY2F0ZSA9IGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgaW5kZXhlcy5wdXNoKGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYmFzZVB1bGxBdChhcnJheSwgaW5kZXhlcyk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVyc2VzIGBhcnJheWAgc28gdGhhdCB0aGUgZmlyc3QgZWxlbWVudCBiZWNvbWVzIHRoZSBsYXN0LCB0aGUgc2Vjb25kXG4gICAgICogZWxlbWVudCBiZWNvbWVzIHRoZSBzZWNvbmQgdG8gbGFzdCwgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YCBhbmQgaXMgYmFzZWQgb25cbiAgICAgKiBbYEFycmF5I3JldmVyc2VgXShodHRwczovL21kbi5pby9BcnJheS9yZXZlcnNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8ucmV2ZXJzZShhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmV2ZXJzZShhcnJheSkge1xuICAgICAgcmV0dXJuIGFycmF5ID09IG51bGwgPyBhcnJheSA6IG5hdGl2ZVJldmVyc2UuY2FsbChhcnJheSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZnJvbSBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgdXNlZCBpbnN0ZWFkIG9mXG4gICAgICogW2BBcnJheSNzbGljZWBdKGh0dHBzOi8vbWRuLmlvL0FycmF5L3NsaWNlKSB0byBlbnN1cmUgZGVuc2UgYXJyYXlzIGFyZVxuICAgICAqIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgJiYgdHlwZW9mIGVuZCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgc3RhcnQsIGVuZCkpIHtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICBlbmQgPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc3RhcnQgPSBzdGFydCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihzdGFydCk7XG4gICAgICAgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogdG9JbnRlZ2VyKGVuZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VzIGEgYmluYXJ5IHNlYXJjaCB0byBkZXRlcm1pbmUgdGhlIGxvd2VzdCBpbmRleCBhdCB3aGljaCBgdmFsdWVgXG4gICAgICogc2hvdWxkIGJlIGluc2VydGVkIGludG8gYGFycmF5YCBpbiBvcmRlciB0byBtYWludGFpbiBpdHMgc29ydCBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXgoWzMwLCA1MF0sIDQwKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRJbmRleGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgYHZhbHVlYCBhbmQgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgdG8gY29tcHV0ZSB0aGVpclxuICAgICAqIHNvcnQgcmFua2luZy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDQgfSwgeyAneCc6IDUgfV07XG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgZnVuY3Rpb24obykgeyByZXR1cm4gby54OyB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvcnRlZEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgJ3gnKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgcGVyZm9ybXMgYSBiaW5hcnlcbiAgICAgKiBzZWFyY2ggb24gYSBzb3J0ZWQgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleE9mKFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4T2YoYXJyYXksIHZhbHVlKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpO1xuICAgICAgICBpZiAoaW5kZXggPCBsZW5ndGggJiYgZXEoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZEluZGV4YCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBoaWdoZXN0XG4gICAgICogaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvXG4gICAgICogbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleChbNCwgNSwgNSwgNSwgNl0sIDUpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXgoYXJyYXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRMYXN0SW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGUgdGhlaXJcbiAgICAgKiBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiA0IH0sIHsgJ3gnOiA1IH1dO1xuICAgICAqXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCBmdW5jdGlvbihvKSB7IHJldHVybiBvLng7IH0pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgJ3gnKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmxhc3RJbmRleE9mYCBleGNlcHQgdGhhdCBpdCBwZXJmb3JtcyBhIGJpbmFyeVxuICAgICAqIHNlYXJjaCBvbiBhIHNvcnRlZCBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleE9mKFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICB2YXIgaW5kZXggPSBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCB0cnVlKSAtIDE7XG4gICAgICAgIGlmIChlcShhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQncyBkZXNpZ25lZCBhbmQgb3B0aW1pemVkXG4gICAgICogZm9yIHNvcnRlZCBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRVbmlxKFsxLCAxLCAyXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkVW5pcShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVNvcnRlZFVuaXEoYXJyYXkpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxQnlgIGV4Y2VwdCB0aGF0IGl0J3MgZGVzaWduZWQgYW5kIG9wdGltaXplZFxuICAgICAqIGZvciBzb3J0ZWQgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRVbmlxQnkoWzEuMSwgMS4yLCAyLjMsIDIuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjEsIDIuM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRVbmlxQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU29ydGVkVW5pcShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIGJ1dCB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWlsKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFpbChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VTbGljZShhcnJheSwgMSwgbGVuZ3RoKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byB0YWtlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2UoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCAwLCBuIDwgMCA/IDAgOiBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBlbmQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gdGFrZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VSaWdodChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICBuID0gbGVuZ3RoIC0gbjtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIG4gPCAwID8gMCA6IG4sIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBlbmQuIEVsZW1lbnRzIGFyZVxuICAgICAqIHRha2VuIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aFxuICAgICAqIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVJpZ2h0V2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBmYWxzZSwgdHJ1ZSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGJlZ2lubmluZy4gRWxlbWVudHNcbiAgICAgKiBhcmUgdGFrZW4gdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlV2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcywgaW4gb3JkZXIsIGZyb20gYWxsIGdpdmVuIGFycmF5cyB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlvbihbMl0sIFsxLCAyXSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgdmFyIHVuaW9uID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSkpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGVhY2ggYGFycmF5c2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieVxuICAgICAqIHdoaWNoIHVuaXF1ZW5lc3MgaXMgY29tcHV0ZWQuIFJlc3VsdCB2YWx1ZXMgYXJlIGNob3NlbiBmcm9tIHRoZSBmaXJzdFxuICAgICAqIGFycmF5IGluIHdoaWNoIHRoZSB2YWx1ZSBvY2N1cnMuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlvbkJ5KFsyLjFdLCBbMS4yLCAyLjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xLCAxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnVuaW9uQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIHVuaW9uQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gUmVzdWx0IHZhbHVlcyBhcmUgY2hvc2VuIGZyb21cbiAgICAgKiB0aGUgZmlyc3QgYXJyYXkgaW4gd2hpY2ggdGhlIHZhbHVlIG9jY3Vycy4gVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8udW5pb25XaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb25XaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkdXBsaWNhdGUtZnJlZSB2ZXJzaW9uIG9mIGFuIGFycmF5LCB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpbiB3aGljaCBvbmx5IHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGVhY2ggZWxlbWVudFxuICAgICAqIGlzIGtlcHQuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXJcbiAgICAgKiBpbiB0aGUgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxKFsyLCAxLCAyXSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXkpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdW5pcXVlbmVzcyBpcyBjb21wdXRlZC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGVcbiAgICAgKiBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxQnkoWzIuMSwgMS4yLCAyLjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xLCAxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnVuaXFCeShbeyAneCc6IDEgfSwgeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcUJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXkuVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8udW5pcVdpdGgob2JqZWN0cywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcVdpdGgoYXJyYXksIGNvbXBhcmF0b3IpIHtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5LCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYW4gYXJyYXkgb2YgZ3JvdXBlZFxuICAgICAqIGVsZW1lbnRzIGFuZCBjcmVhdGVzIGFuIGFycmF5IHJlZ3JvdXBpbmcgdGhlIGVsZW1lbnRzIHRvIHRoZWlyIHByZS16aXBcbiAgICAgKiBjb25maWd1cmF0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZWdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB6aXBwZWQgPSBfLnppcChbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxLCB0cnVlXSwgWydiJywgMiwgZmFsc2VdXVxuICAgICAqXG4gICAgICogXy51bnppcCh6aXBwZWQpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW56aXAoYXJyYXkpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IDA7XG4gICAgICBhcnJheSA9IGFycmF5RmlsdGVyKGFycmF5LCBmdW5jdGlvbihncm91cCkge1xuICAgICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoZ3JvdXApKSB7XG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGdyb3VwLmxlbmd0aCwgbGVuZ3RoKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gYmFzZVRpbWVzKGxlbmd0aCwgZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKGFycmF5LCBiYXNlUHJvcGVydHkoaW5kZXgpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB0byBzcGVjaWZ5XG4gICAgICogaG93IHJlZ3JvdXBlZCB2YWx1ZXMgc2hvdWxkIGJlIGNvbWJpbmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRoZVxuICAgICAqIGVsZW1lbnRzIG9mIGVhY2ggZ3JvdXA6ICguLi5ncm91cCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cyB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gdG8gY29tYmluZVxuICAgICAqICByZWdyb3VwZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHppcHBlZCA9IF8uemlwKFsxLCAyXSwgWzEwLCAyMF0sIFsxMDAsIDIwMF0pO1xuICAgICAqIC8vID0+IFtbMSwgMTAsIDEwMF0sIFsyLCAyMCwgMjAwXV1cbiAgICAgKlxuICAgICAqIF8udW56aXBXaXRoKHppcHBlZCwgXy5hZGQpO1xuICAgICAqIC8vID0+IFszLCAzMCwgMzAwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuemlwV2l0aChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHVuemlwKGFycmF5KTtcbiAgICAgIGlmIChpdGVyYXRlZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlNYXAocmVzdWx0LCBmdW5jdGlvbihncm91cCkge1xuICAgICAgICByZXR1cm4gYXBwbHkoaXRlcmF0ZWUsIHVuZGVmaW5lZCwgZ3JvdXApO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBleGNsdWRpbmcgYWxsIGdpdmVuIHZhbHVlcyB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAc2VlIF8uZGlmZmVyZW5jZSwgXy54b3JcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy53aXRob3V0KFsyLCAxLCAyLCAzXSwgMSwgMik7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICovXG4gICAgdmFyIHdpdGhvdXQgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIHZhbHVlcylcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcyB0aGF0IGlzIHRoZVxuICAgICAqIFtzeW1tZXRyaWMgZGlmZmVyZW5jZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3ltbWV0cmljX2RpZmZlcmVuY2UpXG4gICAgICogb2YgdGhlIGdpdmVuIGFycmF5cy4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXJcbiAgICAgKiB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy5kaWZmZXJlbmNlLCBfLndpdGhvdXRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy54b3IoWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAzXVxuICAgICAqL1xuICAgIHZhciB4b3IgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ueG9yYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5XG4gICAgICogd2hpY2ggYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZFxuICAgICAqIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lXG4gICAgICogYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy54b3JCeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4yLCAzLjRdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnhvckJ5KFt7ICd4JzogMSB9XSwgW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIHZhciB4b3JCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy54b3JgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpc1xuICAgICAqIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy4gVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ueG9yV2l0aChvYmplY3RzLCBvdGhlcnMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciB4b3JXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLCB0aGUgZmlyc3Qgb2Ygd2hpY2ggY29udGFpbnMgdGhlXG4gICAgICogZmlyc3QgZWxlbWVudHMgb2YgdGhlIGdpdmVuIGFycmF5cywgdGhlIHNlY29uZCBvZiB3aGljaCBjb250YWlucyB0aGVcbiAgICAgKiBzZWNvbmQgZWxlbWVudHMgb2YgdGhlIGdpdmVuIGFycmF5cywgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwKFsnYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gW1snYScsIDEsIHRydWVdLCBbJ2InLCAyLCBmYWxzZV1dXG4gICAgICovXG4gICAgdmFyIHppcCA9IGJhc2VSZXN0KHVuemlwKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZnJvbVBhaXJzYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIHR3byBhcnJheXMsXG4gICAgICogb25lIG9mIHByb3BlcnR5IGlkZW50aWZpZXJzIGFuZCBvbmUgb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHM9W11dIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzPVtdXSBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwT2JqZWN0KFsnYScsICdiJ10sIFsxLCAyXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gemlwT2JqZWN0KHByb3BzLCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBiYXNlWmlwT2JqZWN0KHByb3BzIHx8IFtdLCB2YWx1ZXMgfHwgW10sIGFzc2lnblZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcE9iamVjdGAgZXhjZXB0IHRoYXQgaXQgc3VwcG9ydHMgcHJvcGVydHkgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHM9W11dIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzPVtdXSBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwT2JqZWN0RGVlcChbJ2EuYlswXS5jJywgJ2EuYlsxXS5kJ10sIFsxLCAyXSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2InOiBbeyAnYyc6IDEgfSwgeyAnZCc6IDIgfV0gfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gemlwT2JqZWN0RGVlcChwcm9wcywgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gYmFzZVppcE9iamVjdChwcm9wcyB8fCBbXSwgdmFsdWVzIHx8IFtdLCBiYXNlU2V0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHRvIHNwZWNpZnlcbiAgICAgKiBob3cgZ3JvdXBlZCB2YWx1ZXMgc2hvdWxkIGJlIGNvbWJpbmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRoZVxuICAgICAqIGVsZW1lbnRzIG9mIGVhY2ggZ3JvdXA6ICguLi5ncm91cCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lXG4gICAgICogIGdyb3VwZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwV2l0aChbMSwgMl0sIFsxMCwgMjBdLCBbMTAwLCAyMDBdLCBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gYSArIGIgKyBjO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IFsxMTEsIDIyMl1cbiAgICAgKi9cbiAgICB2YXIgemlwV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5cy5sZW5ndGgsXG4gICAgICAgICAgaXRlcmF0ZWUgPSBsZW5ndGggPiAxID8gYXJyYXlzW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuXG4gICAgICBpdGVyYXRlZSA9IHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nID8gKGFycmF5cy5wb3AoKSwgaXRlcmF0ZWUpIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIHVuemlwV2l0aChhcnJheXMsIGl0ZXJhdGVlKTtcbiAgICB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlIHRoYXQgd3JhcHMgYHZhbHVlYCB3aXRoIGV4cGxpY2l0IG1ldGhvZFxuICAgICAqIGNoYWluIHNlcXVlbmNlcyBlbmFibGVkLiBUaGUgcmVzdWx0IG9mIHN1Y2ggc2VxdWVuY2VzIG11c3QgYmUgdW53cmFwcGVkXG4gICAgICogd2l0aCBgXyN2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogdmFyIHlvdW5nZXN0ID0gX1xuICAgICAqICAgLmNoYWluKHVzZXJzKVxuICAgICAqICAgLnNvcnRCeSgnYWdlJylcbiAgICAgKiAgIC5tYXAoZnVuY3Rpb24obykge1xuICAgICAqICAgICByZXR1cm4gby51c2VyICsgJyBpcyAnICsgby5hZ2U7XG4gICAgICogICB9KVxuICAgICAqICAgLmhlYWQoKVxuICAgICAqICAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMgaXMgMSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjaGFpbih2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IGxvZGFzaCh2YWx1ZSk7XG4gICAgICByZXN1bHQuX19jaGFpbl9fID0gdHJ1ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaW52b2tlcyBgaW50ZXJjZXB0b3JgIGFuZCByZXR1cm5zIGB2YWx1ZWAuIFRoZSBpbnRlcmNlcHRvclxuICAgICAqIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7ICh2YWx1ZSkuIFRoZSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvXG4gICAgICogXCJ0YXAgaW50b1wiIGEgbWV0aG9kIGNoYWluIHNlcXVlbmNlIGluIG9yZGVyIHRvIG1vZGlmeSBpbnRlcm1lZGlhdGUgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm92aWRlIHRvIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW50ZXJjZXB0b3IgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzXSlcbiAgICAgKiAgLnRhcChmdW5jdGlvbihhcnJheSkge1xuICAgICAqICAgIC8vIE11dGF0ZSBpbnB1dCBhcnJheS5cbiAgICAgKiAgICBhcnJheS5wb3AoKTtcbiAgICAgKiAgfSlcbiAgICAgKiAgLnJldmVyc2UoKVxuICAgICAqICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YXAodmFsdWUsIGludGVyY2VwdG9yKSB7XG4gICAgICBpbnRlcmNlcHRvcih2YWx1ZSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy50YXBgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIHJlc3VsdCBvZiBgaW50ZXJjZXB0b3JgLlxuICAgICAqIFRoZSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvIFwicGFzcyB0aHJ1XCIgdmFsdWVzIHJlcGxhY2luZyBpbnRlcm1lZGlhdGVcbiAgICAgKiByZXN1bHRzIGluIGEgbWV0aG9kIGNoYWluIHNlcXVlbmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb3ZpZGUgdG8gYGludGVyY2VwdG9yYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbnRlcmNlcHRvciBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGludGVyY2VwdG9yYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXygnICBhYmMgICcpXG4gICAgICogIC5jaGFpbigpXG4gICAgICogIC50cmltKClcbiAgICAgKiAgLnRocnUoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgICByZXR1cm4gW3ZhbHVlXTtcbiAgICAgKiAgfSlcbiAgICAgKiAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWydhYmMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocnUodmFsdWUsIGludGVyY2VwdG9yKSB7XG4gICAgICByZXR1cm4gaW50ZXJjZXB0b3IodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHRoZSB3cmFwcGVyIHZlcnNpb24gb2YgYF8uYXRgLlxuICAgICAqXG4gICAgICogQG5hbWUgYXRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9LCA0XSB9O1xuICAgICAqXG4gICAgICogXyhvYmplY3QpLmF0KFsnYVswXS5iLmMnLCAnYVsxXSddKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqL1xuICAgIHZhciB3cmFwcGVyQXQgPSBmbGF0UmVzdChmdW5jdGlvbihwYXRocykge1xuICAgICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICBzdGFydCA9IGxlbmd0aCA/IHBhdGhzWzBdIDogMCxcbiAgICAgICAgICB2YWx1ZSA9IHRoaXMuX193cmFwcGVkX18sXG4gICAgICAgICAgaW50ZXJjZXB0b3IgPSBmdW5jdGlvbihvYmplY3QpIHsgcmV0dXJuIGJhc2VBdChvYmplY3QsIHBhdGhzKTsgfTtcblxuICAgICAgaWYgKGxlbmd0aCA+IDEgfHwgdGhpcy5fX2FjdGlvbnNfXy5sZW5ndGggfHxcbiAgICAgICAgICAhKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHx8ICFpc0luZGV4KHN0YXJ0KSkge1xuICAgICAgICByZXR1cm4gdGhpcy50aHJ1KGludGVyY2VwdG9yKTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdmFsdWUuc2xpY2Uoc3RhcnQsICtzdGFydCArIChsZW5ndGggPyAxIDogMCkpO1xuICAgICAgdmFsdWUuX19hY3Rpb25zX18ucHVzaCh7XG4gICAgICAgICdmdW5jJzogdGhydSxcbiAgICAgICAgJ2FyZ3MnOiBbaW50ZXJjZXB0b3JdLFxuICAgICAgICAndGhpc0FyZyc6IHVuZGVmaW5lZFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodmFsdWUsIHRoaXMuX19jaGFpbl9fKS50aHJ1KGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICAgIGlmIChsZW5ndGggJiYgIWFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgIGFycmF5LnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlIHdpdGggZXhwbGljaXQgbWV0aG9kIGNoYWluIHNlcXVlbmNlcyBlbmFibGVkLlxuICAgICAqXG4gICAgICogQG5hbWUgY2hhaW5cbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gQSBzZXF1ZW5jZSB3aXRob3V0IGV4cGxpY2l0IGNoYWluaW5nLlxuICAgICAqIF8odXNlcnMpLmhlYWQoKTtcbiAgICAgKiAvLyA9PiB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9XG4gICAgICpcbiAgICAgKiAvLyBBIHNlcXVlbmNlIHdpdGggZXhwbGljaXQgY2hhaW5pbmcuXG4gICAgICogXyh1c2VycylcbiAgICAgKiAgIC5jaGFpbigpXG4gICAgICogICAuaGVhZCgpXG4gICAgICogICAucGljaygndXNlcicpXG4gICAgICogICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiB7ICd1c2VyJzogJ2Jhcm5leScgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDaGFpbigpIHtcbiAgICAgIHJldHVybiBjaGFpbih0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgY2hhaW4gc2VxdWVuY2UgYW5kIHJldHVybnMgdGhlIHdyYXBwZWQgcmVzdWx0LlxuICAgICAqXG4gICAgICogQG5hbWUgY29tbWl0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyXTtcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oYXJyYXkpLnB1c2goMyk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkID0gd3JhcHBlZC5jb21taXQoKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkLmxhc3QoKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNvbW1pdCgpIHtcbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih0aGlzLnZhbHVlKCksIHRoaXMuX19jaGFpbl9fKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuZXh0IHZhbHVlIG9uIGEgd3JhcHBlZCBvYmplY3QgZm9sbG93aW5nIHRoZVxuICAgICAqIFtpdGVyYXRvciBwcm90b2NvbF0oaHR0cHM6Ly9tZG4uaW8vaXRlcmF0aW9uX3Byb3RvY29scyNpdGVyYXRvcikuXG4gICAgICpcbiAgICAgKiBAbmFtZSBuZXh0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV4dCBpdGVyYXRvciB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSk7XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogZmFsc2UsICd2YWx1ZSc6IDEgfVxuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IGZhbHNlLCAndmFsdWUnOiAyIH1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiB0cnVlLCAndmFsdWUnOiB1bmRlZmluZWQgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJOZXh0KCkge1xuICAgICAgaWYgKHRoaXMuX192YWx1ZXNfXyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX192YWx1ZXNfXyA9IHRvQXJyYXkodGhpcy52YWx1ZSgpKTtcbiAgICAgIH1cbiAgICAgIHZhciBkb25lID0gdGhpcy5fX2luZGV4X18gPj0gdGhpcy5fX3ZhbHVlc19fLmxlbmd0aCxcbiAgICAgICAgICB2YWx1ZSA9IGRvbmUgPyB1bmRlZmluZWQgOiB0aGlzLl9fdmFsdWVzX19bdGhpcy5fX2luZGV4X18rK107XG5cbiAgICAgIHJldHVybiB7ICdkb25lJzogZG9uZSwgJ3ZhbHVlJzogdmFsdWUgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHRoZSB3cmFwcGVyIHRvIGJlIGl0ZXJhYmxlLlxuICAgICAqXG4gICAgICogQG5hbWUgU3ltYm9sLml0ZXJhdG9yXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgd3JhcHBlciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pO1xuICAgICAqXG4gICAgICogd3JhcHBlZFtTeW1ib2wuaXRlcmF0b3JdKCkgPT09IHdyYXBwZWQ7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogQXJyYXkuZnJvbSh3cmFwcGVkKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyVG9JdGVyYXRvcigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgY2hhaW4gc2VxdWVuY2UgcGxhbnRpbmcgYHZhbHVlYCBhcyB0aGUgd3JhcHBlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHBsYW50XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGxhbnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSkubWFwKHNxdWFyZSk7XG4gICAgICogdmFyIG90aGVyID0gd3JhcHBlZC5wbGFudChbMywgNF0pO1xuICAgICAqXG4gICAgICogb3RoZXIudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbOSwgMTZdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzEsIDRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclBsYW50KHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0LFxuICAgICAgICAgIHBhcmVudCA9IHRoaXM7XG5cbiAgICAgIHdoaWxlIChwYXJlbnQgaW5zdGFuY2VvZiBiYXNlTG9kYXNoKSB7XG4gICAgICAgIHZhciBjbG9uZSA9IHdyYXBwZXJDbG9uZShwYXJlbnQpO1xuICAgICAgICBjbG9uZS5fX2luZGV4X18gPSAwO1xuICAgICAgICBjbG9uZS5fX3ZhbHVlc19fID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgcHJldmlvdXMuX193cmFwcGVkX18gPSBjbG9uZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSBjbG9uZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJldmlvdXMgPSBjbG9uZTtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50Ll9fd3JhcHBlZF9fO1xuICAgICAgfVxuICAgICAgcHJldmlvdXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdGhlIHdyYXBwZXIgdmVyc2lvbiBvZiBgXy5yZXZlcnNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIHRoZSB3cmFwcGVkIGFycmF5LlxuICAgICAqXG4gICAgICogQG5hbWUgcmV2ZXJzZVxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfKGFycmF5KS5yZXZlcnNlKCkudmFsdWUoKVxuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJSZXZlcnNlKCkge1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXztcbiAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHZhciB3cmFwcGVkID0gdmFsdWU7XG4gICAgICAgIGlmICh0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCkge1xuICAgICAgICAgIHdyYXBwZWQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgd3JhcHBlZCA9IHdyYXBwZWQucmV2ZXJzZSgpO1xuICAgICAgICB3cmFwcGVkLl9fYWN0aW9uc19fLnB1c2goe1xuICAgICAgICAgICdmdW5jJzogdGhydSxcbiAgICAgICAgICAnYXJncyc6IFtyZXZlcnNlXSxcbiAgICAgICAgICAndGhpc0FyZyc6IHVuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHdyYXBwZWQsIHRoaXMuX19jaGFpbl9fKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnRocnUocmV2ZXJzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGNoYWluIHNlcXVlbmNlIHRvIHJlc29sdmUgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHZhbHVlXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgdG9KU09OLCB2YWx1ZU9mXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oWzEsIDIsIDNdKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJWYWx1ZSgpIHtcbiAgICAgIHJldHVybiBiYXNlV3JhcHBlclZhbHVlKHRoaXMuX193cmFwcGVkX18sIHRoaXMuX19hY3Rpb25zX18pO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZSBvZlxuICAgICAqIGVhY2gga2V5IGlzIHRoZSBudW1iZXIgb2YgdGltZXMgdGhlIGtleSB3YXMgcmV0dXJuZWQgYnkgYGl0ZXJhdGVlYC4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjUuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jb3VudEJ5KFs2LjEsIDQuMiwgNi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4geyAnNCc6IDEsICc2JzogMiB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmNvdW50QnkoWydvbmUnLCAndHdvJywgJ3RocmVlJ10sICdsZW5ndGgnKTtcbiAgICAgKiAvLyA9PiB7ICczJzogMiwgJzUnOiAxIH1cbiAgICAgKi9cbiAgICB2YXIgY291bnRCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIGtleSkpIHtcbiAgICAgICAgKytyZXN1bHRba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgMSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yICoqYWxsKiogZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqIEl0ZXJhdGlvbiBpcyBzdG9wcGVkIG9uY2UgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgcmV0dXJucyBgdHJ1ZWAgZm9yXG4gICAgICogW2VtcHR5IGNvbGxlY3Rpb25zXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FbXB0eV9zZXQpIGJlY2F1c2VcbiAgICAgKiBbZXZlcnl0aGluZyBpcyB0cnVlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9WYWN1b3VzX3RydXRoKSBvZlxuICAgICAqIGVsZW1lbnRzIG9mIGVtcHR5IGNvbGxlY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ldmVyeShbdHJ1ZSwgMSwgbnVsbCwgJ3llcyddLCBCb29sZWFuKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXZlcnkoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFdmVyeSA6IGJhc2VFdmVyeTtcbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSkge1xuICAgICAgICBwcmVkaWNhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nIGFuIGFycmF5IG9mIGFsbCBlbGVtZW50c1xuICAgICAqIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucmVtb3ZlYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKiBAc2VlIF8ucmVqZWN0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbHRlcihjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RmlsdGVyIDogYmFzZUZpbHRlcjtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLCByZXR1cm5pbmcgdGhlIGZpcnN0IGVsZW1lbnRcbiAgICAgKiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF0Y2hlZCBlbGVtZW50LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAnYmFybmV5J1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsIHsgJ2FnZSc6IDEsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ3BlYmJsZXMnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2Jhcm5leSdcbiAgICAgKi9cbiAgICB2YXIgZmluZCA9IGNyZWF0ZUZpbmQoZmluZEluZGV4KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWNvbGxlY3Rpb24ubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF0Y2hlZCBlbGVtZW50LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0KFsxLCAyLCAzLCA0XSwgZnVuY3Rpb24obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDE7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIHZhciBmaW5kTGFzdCA9IGNyZWF0ZUZpbmQoZmluZExhc3RJbmRleCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZmxhdHRlbmVkIGFycmF5IG9mIHZhbHVlcyBieSBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmBcbiAgICAgKiB0aHJ1IGBpdGVyYXRlZWAgYW5kIGZsYXR0ZW5pbmcgdGhlIG1hcHBlZCByZXN1bHRzLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG4gICAgICogICByZXR1cm4gW24sIG5dO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmxhdE1hcChbMSwgMl0sIGR1cGxpY2F0ZSk7XG4gICAgICogLy8gPT4gWzEsIDEsIDIsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmxhdE1hcGAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgZmxhdHRlbnMgdGhlXG4gICAgICogbWFwcGVkIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG4gICAgICogICByZXR1cm4gW1tbbiwgbl1dXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXBEZWVwKFsxLCAyXSwgZHVwbGljYXRlKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMiwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwRGVlcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIElORklOSVRZKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsYXRNYXBgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIHRoZVxuICAgICAqIG1hcHBlZCByZXN1bHRzIHVwIHRvIGBkZXB0aGAgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlcHRoPTFdIFRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGR1cGxpY2F0ZShuKSB7XG4gICAgICogICByZXR1cm4gW1tbbiwgbl1dXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXBEZXB0aChbMSwgMl0sIGR1cGxpY2F0ZSwgMik7XG4gICAgICogLy8gPT4gW1sxLCAxXSwgWzIsIDJdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXBEZXB0aChjb2xsZWN0aW9uLCBpdGVyYXRlZSwgZGVwdGgpIHtcbiAgICAgIGRlcHRoID0gZGVwdGggPT09IHVuZGVmaW5lZCA/IDEgOiB0b0ludGVnZXIoZGVwdGgpO1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSksIGRlcHRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIGVsZW1lbnQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogQXMgd2l0aCBvdGhlciBcIkNvbGxlY3Rpb25zXCIgbWV0aG9kcywgb2JqZWN0cyB3aXRoIGEgXCJsZW5ndGhcIlxuICAgICAqIHByb3BlcnR5IGFyZSBpdGVyYXRlZCBsaWtlIGFycmF5cy4gVG8gYXZvaWQgdGhpcyBiZWhhdmlvciB1c2UgYF8uZm9ySW5gXG4gICAgICogb3IgYF8uZm9yT3duYCBmb3Igb2JqZWN0IGl0ZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyBlYWNoXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICogQHNlZSBfLmZvckVhY2hSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZvckVhY2goWzEsIDJdLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgY29uc29sZS5sb2codmFsdWUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgYDFgIHRoZW4gYDJgLlxuICAgICAqXG4gICAgICogXy5mb3JFYWNoKHsgJ2EnOiAxLCAnYic6IDIgfSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdhJyB0aGVuICdiJyAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JFYWNoKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUVhY2ggOiBiYXNlRWFjaDtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JFYWNoYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBhbGlhcyBlYWNoUmlnaHRcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBAc2VlIF8uZm9yRWFjaFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZvckVhY2hSaWdodChbMSwgMl0sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICBjb25zb2xlLmxvZyh2YWx1ZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyBgMmAgdGhlbiBgMWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yRWFjaFJpZ2h0KGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUVhY2hSaWdodCA6IGJhc2VFYWNoUmlnaHQ7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgb3JkZXIgb2YgZ3JvdXBlZCB2YWx1ZXNcbiAgICAgKiBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIGBjb2xsZWN0aW9uYC4gVGhlIGNvcnJlc3BvbmRpbmdcbiAgICAgKiB2YWx1ZSBvZiBlYWNoIGtleSBpcyBhbiBhcnJheSBvZiBlbGVtZW50cyByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGVcbiAgICAgKiBrZXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmdyb3VwQnkoWzYuMSwgNC4yLCA2LjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiB7ICc0JzogWzQuMl0sICc2JzogWzYuMSwgNi4zXSB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmdyb3VwQnkoWydvbmUnLCAndHdvJywgJ3RocmVlJ10sICdsZW5ndGgnKTtcbiAgICAgKiAvLyA9PiB7ICczJzogWydvbmUnLCAndHdvJ10sICc1JzogWyd0aHJlZSddIH1cbiAgICAgKi9cbiAgICB2YXIgZ3JvdXBCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIGtleSkpIHtcbiAgICAgICAgcmVzdWx0W2tleV0ucHVzaCh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIFt2YWx1ZV0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gYGNvbGxlY3Rpb25gLiBJZiBgY29sbGVjdGlvbmAgaXMgYSBzdHJpbmcsIGl0J3NcbiAgICAgKiBjaGVja2VkIGZvciBhIHN1YnN0cmluZyBvZiBgdmFsdWVgLCBvdGhlcndpc2VcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGlzIHVzZWQgZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBJZiBgZnJvbUluZGV4YCBpcyBuZWdhdGl2ZSwgaXQncyB1c2VkIGFzXG4gICAgICogdGhlIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5yZWR1Y2VgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoWzEsIDIsIDNdLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKFsxLCAyLCAzXSwgMSwgMik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoeyAnYSc6IDEsICdiJzogMiB9LCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKCdhYmNkJywgJ2JjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluY2x1ZGVzKGNvbGxlY3Rpb24sIHZhbHVlLCBmcm9tSW5kZXgsIGd1YXJkKSB7XG4gICAgICBjb2xsZWN0aW9uID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBjb2xsZWN0aW9uIDogdmFsdWVzKGNvbGxlY3Rpb24pO1xuICAgICAgZnJvbUluZGV4ID0gKGZyb21JbmRleCAmJiAhZ3VhcmQpID8gdG9JbnRlZ2VyKGZyb21JbmRleCkgOiAwO1xuXG4gICAgICB2YXIgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgICBpZiAoZnJvbUluZGV4IDwgMCkge1xuICAgICAgICBmcm9tSW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgZnJvbUluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc1N0cmluZyhjb2xsZWN0aW9uKVxuICAgICAgICA/IChmcm9tSW5kZXggPD0gbGVuZ3RoICYmIGNvbGxlY3Rpb24uaW5kZXhPZih2YWx1ZSwgZnJvbUluZGV4KSA+IC0xKVxuICAgICAgICA6ICghIWxlbmd0aCAmJiBiYXNlSW5kZXhPZihjb2xsZWN0aW9uLCB2YWx1ZSwgZnJvbUluZGV4KSA+IC0xKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAsIHJldHVybmluZ1xuICAgICAqIGFuIGFycmF5IG9mIHRoZSByZXN1bHRzIG9mIGVhY2ggaW52b2tlZCBtZXRob2QuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50c1xuICAgICAqIGFyZSBwcm92aWRlZCB0byBlYWNoIGludm9rZWQgbWV0aG9kLiBJZiBgcGF0aGAgaXMgYSBmdW5jdGlvbiwgaXQncyBpbnZva2VkXG4gICAgICogZm9yLCBhbmQgYHRoaXNgIGJvdW5kIHRvLCBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtBcnJheXxGdW5jdGlvbnxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2Ugb3JcbiAgICAgKiAgdGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBlYWNoIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnZva2VNYXAoW1s1LCAxLCA3XSwgWzMsIDIsIDFdXSwgJ3NvcnQnKTtcbiAgICAgKiAvLyA9PiBbWzEsIDUsIDddLCBbMSwgMiwgM11dXG4gICAgICpcbiAgICAgKiBfLmludm9rZU1hcChbMTIzLCA0NTZdLCBTdHJpbmcucHJvdG90eXBlLnNwbGl0LCAnJyk7XG4gICAgICogLy8gPT4gW1snMScsICcyJywgJzMnXSwgWyc0JywgJzUnLCAnNiddXVxuICAgICAqL1xuICAgIHZhciBpbnZva2VNYXAgPSBiYXNlUmVzdChmdW5jdGlvbihjb2xsZWN0aW9uLCBwYXRoLCBhcmdzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpc0Z1bmMgPSB0eXBlb2YgcGF0aCA9PSAnZnVuY3Rpb24nLFxuICAgICAgICAgIHJlc3VsdCA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gQXJyYXkoY29sbGVjdGlvbi5sZW5ndGgpIDogW107XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJlc3VsdFsrK2luZGV4XSA9IGlzRnVuYyA/IGFwcGx5KHBhdGgsIHZhbHVlLCBhcmdzKSA6IGJhc2VJbnZva2UodmFsdWUsIHBhdGgsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBjb3JyZXNwb25kaW5nIHZhbHVlIG9mXG4gICAgICogZWFjaCBrZXkgaXMgdGhlIGxhc3QgZWxlbWVudCByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUga2V5LiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbXG4gICAgICogICB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSxcbiAgICAgKiAgIHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5rZXlCeShhcnJheSwgZnVuY3Rpb24obykge1xuICAgICAqICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoby5jb2RlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sICdkJzogeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfSB9XG4gICAgICpcbiAgICAgKiBfLmtleUJ5KGFycmF5LCAnZGlyJyk7XG4gICAgICogLy8gPT4geyAnbGVmdCc6IHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LCAncmlnaHQnOiB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9IH1cbiAgICAgKi9cbiAgICB2YXIga2V5QnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCB2YWx1ZSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHZhbHVlcyBieSBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAgdGhydVxuICAgICAqIGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICAgICAqICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIE1hbnkgbG9kYXNoIG1ldGhvZHMgYXJlIGd1YXJkZWQgdG8gd29yayBhcyBpdGVyYXRlZXMgZm9yIG1ldGhvZHMgbGlrZVxuICAgICAqIGBfLmV2ZXJ5YCwgYF8uZmlsdGVyYCwgYF8ubWFwYCwgYF8ubWFwVmFsdWVzYCwgYF8ucmVqZWN0YCwgYW5kIGBfLnNvbWVgLlxuICAgICAqXG4gICAgICogVGhlIGd1YXJkZWQgbWV0aG9kcyBhcmU6XG4gICAgICogYGFyeWAsIGBjaHVua2AsIGBjdXJyeWAsIGBjdXJyeVJpZ2h0YCwgYGRyb3BgLCBgZHJvcFJpZ2h0YCwgYGV2ZXJ5YCxcbiAgICAgKiBgZmlsbGAsIGBpbnZlcnRgLCBgcGFyc2VJbnRgLCBgcmFuZG9tYCwgYHJhbmdlYCwgYHJhbmdlUmlnaHRgLCBgcmVwZWF0YCxcbiAgICAgKiBgc2FtcGxlU2l6ZWAsIGBzbGljZWAsIGBzb21lYCwgYHNvcnRCeWAsIGBzcGxpdGAsIGB0YWtlYCwgYHRha2VSaWdodGAsXG4gICAgICogYHRlbXBsYXRlYCwgYHRyaW1gLCBgdHJpbUVuZGAsIGB0cmltU3RhcnRgLCBhbmQgYHdvcmRzYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8ubWFwKFs0LCA4XSwgc3F1YXJlKTtcbiAgICAgKiAvLyA9PiBbMTYsIDY0XVxuICAgICAqXG4gICAgICogXy5tYXAoeyAnYSc6IDQsICdiJzogOCB9LCBzcXVhcmUpO1xuICAgICAqIC8vID0+IFsxNiwgNjRdIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1hcCh1c2VycywgJ3VzZXInKTtcbiAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5TWFwIDogYmFzZU1hcDtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0QnlgIGV4Y2VwdCB0aGF0IGl0IGFsbG93cyBzcGVjaWZ5aW5nIHRoZSBzb3J0XG4gICAgICogb3JkZXJzIG9mIHRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS4gSWYgYG9yZGVyc2AgaXMgdW5zcGVjaWZpZWQsIGFsbCB2YWx1ZXNcbiAgICAgKiBhcmUgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlci4gT3RoZXJ3aXNlLCBzcGVjaWZ5IGFuIG9yZGVyIG9mIFwiZGVzY1wiIGZvclxuICAgICAqIGRlc2NlbmRpbmcgb3IgXCJhc2NcIiBmb3IgYXNjZW5kaW5nIHNvcnQgb3JkZXIgb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0FycmF5W118RnVuY3Rpb25bXXxPYmplY3RbXXxzdHJpbmdbXX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBbb3JkZXJzXSBUaGUgc29ydCBvcmRlcnMgb2YgYGl0ZXJhdGVlc2AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ucmVkdWNlYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQ4IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNCB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gU29ydCBieSBgdXNlcmAgaW4gYXNjZW5kaW5nIG9yZGVyIGFuZCBieSBgYWdlYCBpbiBkZXNjZW5kaW5nIG9yZGVyLlxuICAgICAqIF8ub3JkZXJCeSh1c2VycywgWyd1c2VyJywgJ2FnZSddLCBbJ2FzYycsICdkZXNjJ10pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM2XSwgWydiYXJuZXknLCAzNF0sIFsnZnJlZCcsIDQ4XSwgWydmcmVkJywgNDBdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMsIGd1YXJkKSB7XG4gICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNBcnJheShpdGVyYXRlZXMpKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IGl0ZXJhdGVlcyA9PSBudWxsID8gW10gOiBbaXRlcmF0ZWVzXTtcbiAgICAgIH1cbiAgICAgIG9yZGVycyA9IGd1YXJkID8gdW5kZWZpbmVkIDogb3JkZXJzO1xuICAgICAgaWYgKCFpc0FycmF5KG9yZGVycykpIHtcbiAgICAgICAgb3JkZXJzID0gb3JkZXJzID09IG51bGwgPyBbXSA6IFtvcmRlcnNdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VPcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzIHNwbGl0IGludG8gdHdvIGdyb3VwcywgdGhlIGZpcnN0IG9mIHdoaWNoXG4gICAgICogY29udGFpbnMgZWxlbWVudHMgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLCB0aGUgc2Vjb25kIG9mIHdoaWNoXG4gICAgICogY29udGFpbnMgZWxlbWVudHMgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkgZm9yLiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snZnJlZCddLCBbJ2Jhcm5leScsICdwZWJibGVzJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1sncGViYmxlcyddLCBbJ2Jhcm5leScsICdmcmVkJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAncGViYmxlcyddLCBbJ2ZyZWQnXV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snZnJlZCddLCBbJ2Jhcm5leScsICdwZWJibGVzJ11dXG4gICAgICovXG4gICAgdmFyIHBhcnRpdGlvbiA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICByZXN1bHRba2V5ID8gMCA6IDFdLnB1c2godmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uKCkgeyByZXR1cm4gW1tdLCBbXV07IH0pO1xuXG4gICAgLyoqXG4gICAgICogUmVkdWNlcyBgY29sbGVjdGlvbmAgdG8gYSB2YWx1ZSB3aGljaCBpcyB0aGUgYWNjdW11bGF0ZWQgcmVzdWx0IG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYCwgd2hlcmUgZWFjaCBzdWNjZXNzaXZlXG4gICAgICogaW52b2NhdGlvbiBpcyBzdXBwbGllZCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cy4gSWYgYGFjY3VtdWxhdG9yYFxuICAgICAqIGlzIG5vdCBnaXZlbiwgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIGlzIHVzZWQgYXMgdGhlIGluaXRpYWxcbiAgICAgKiB2YWx1ZS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBmb3VyIGFyZ3VtZW50czpcbiAgICAgKiAoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogTWFueSBsb2Rhc2ggbWV0aG9kcyBhcmUgZ3VhcmRlZCB0byB3b3JrIGFzIGl0ZXJhdGVlcyBmb3IgbWV0aG9kcyBsaWtlXG4gICAgICogYF8ucmVkdWNlYCwgYF8ucmVkdWNlUmlnaHRgLCBhbmQgYF8udHJhbnNmb3JtYC5cbiAgICAgKlxuICAgICAqIFRoZSBndWFyZGVkIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhc3NpZ25gLCBgZGVmYXVsdHNgLCBgZGVmYXVsdHNEZWVwYCwgYGluY2x1ZGVzYCwgYG1lcmdlYCwgYG9yZGVyQnlgLFxuICAgICAqIGFuZCBgc29ydEJ5YFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8ucmVkdWNlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yZWR1Y2UoWzEsIDJdLCBmdW5jdGlvbihzdW0sIG4pIHtcbiAgICAgKiAgIHJldHVybiBzdW0gKyBuO1xuICAgICAqIH0sIDApO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlKHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9LCBmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIChyZXN1bHRbdmFsdWVdIHx8IChyZXN1bHRbdmFsdWVdID0gW10pKS5wdXNoKGtleSk7XG4gICAgICogICByZXR1cm4gcmVzdWx0O1xuICAgICAqIH0sIHt9KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogWydhJywgJ2MnXSwgJzInOiBbJ2InXSB9IChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVkdWNlKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlSZWR1Y2UgOiBiYXNlUmVkdWNlLFxuICAgICAgICAgIGluaXRBY2N1bSA9IGFyZ3VtZW50cy5sZW5ndGggPCAzO1xuXG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgNCksIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0sIGJhc2VFYWNoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJlZHVjZWAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5yZWR1Y2VcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW1swLCAxXSwgWzIsIDNdLCBbNCwgNV1dO1xuICAgICAqXG4gICAgICogXy5yZWR1Y2VSaWdodChhcnJheSwgZnVuY3Rpb24oZmxhdHRlbmVkLCBvdGhlcikge1xuICAgICAqICAgcmV0dXJuIGZsYXR0ZW5lZC5jb25jYXQob3RoZXIpO1xuICAgICAqIH0sIFtdKTtcbiAgICAgKiAvLyA9PiBbNCwgNSwgMiwgMywgMCwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWR1Y2VSaWdodChjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5UmVkdWNlUmlnaHQgOiBiYXNlUmVkdWNlLFxuICAgICAgICAgIGluaXRBY2N1bSA9IGFyZ3VtZW50cy5sZW5ndGggPCAzO1xuXG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgNCksIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0sIGJhc2VFYWNoUmlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5maWx0ZXJgOyB0aGlzIG1ldGhvZCByZXR1cm5zIHRoZSBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmBcbiAgICAgKiB0aGF0IGBwcmVkaWNhdGVgIGRvZXMgKipub3QqKiByZXR1cm4gdHJ1dGh5IGZvci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKiBAc2VlIF8uZmlsdGVyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucmVqZWN0KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlamVjdChjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RmlsdGVyIDogYmFzZUZpbHRlcjtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIG5lZ2F0ZShnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIHJhbmRvbSBlbGVtZW50IGZyb20gYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZShbMSwgMiwgMywgNF0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzYW1wbGUoY29sbGVjdGlvbikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTYW1wbGUgOiBiYXNlU2FtcGxlO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBgbmAgcmFuZG9tIGVsZW1lbnRzIGF0IHVuaXF1ZSBrZXlzIGZyb20gYGNvbGxlY3Rpb25gIHVwIHRvIHRoZVxuICAgICAqIHNpemUgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2FtcGxlU2l6ZShbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFszLCAxXVxuICAgICAqXG4gICAgICogXy5zYW1wbGVTaXplKFsxLCAyLCAzXSwgNCk7XG4gICAgICogLy8gPT4gWzIsIDMsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FtcGxlU2l6ZShjb2xsZWN0aW9uLCBuLCBndWFyZCkge1xuICAgICAgaWYgKChndWFyZCA/IGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIG4sIGd1YXJkKSA6IG4gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgbiA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgfVxuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTYW1wbGVTaXplIDogYmFzZVNhbXBsZVNpemU7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHNodWZmbGVkIHZhbHVlcywgdXNpbmcgYSB2ZXJzaW9uIG9mIHRoZVxuICAgICAqIFtGaXNoZXItWWF0ZXMgc2h1ZmZsZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRmlzaGVyLVlhdGVzX3NodWZmbGUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzaHVmZmxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNodWZmbGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNodWZmbGUoWzEsIDIsIDMsIDRdKTtcbiAgICAgKiAvLyA9PiBbNCwgMSwgMywgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaHVmZmxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2h1ZmZsZSA6IGJhc2VTaHVmZmxlO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc2l6ZSBvZiBgY29sbGVjdGlvbmAgYnkgcmV0dXJuaW5nIGl0cyBsZW5ndGggZm9yIGFycmF5LWxpa2VcbiAgICAgKiB2YWx1ZXMgb3IgdGhlIG51bWJlciBvZiBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBmb3Igb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29sbGVjdGlvbiBzaXplLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNpemUoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnNpemUoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiBfLnNpemUoJ3BlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiA3XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2l6ZShjb2xsZWN0aW9uKSB7XG4gICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHJldHVybiBpc1N0cmluZyhjb2xsZWN0aW9uKSA/IHN0cmluZ1NpemUoY29sbGVjdGlvbikgOiBjb2xsZWN0aW9uLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcoY29sbGVjdGlvbik7XG4gICAgICBpZiAodGFnID09IG1hcFRhZyB8fCB0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uLnNpemU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUtleXMoY29sbGVjdGlvbikubGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgKiphbnkqKiBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBJdGVyYXRpb24gaXMgc3RvcHBlZCBvbmNlIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29tZShbbnVsbCwgMCwgJ3llcycsIGZhbHNlXSwgQm9vbGVhbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29tZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29tZShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNvbWUgOiBiYXNlU29tZTtcbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSkge1xuICAgICAgICBwcmVkaWNhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzLCBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyIGJ5IHRoZSByZXN1bHRzIG9mXG4gICAgICogcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYSBjb2xsZWN0aW9uIHRocnUgZWFjaCBpdGVyYXRlZS4gVGhpcyBtZXRob2RcbiAgICAgKiBwZXJmb3JtcyBhIHN0YWJsZSBzb3J0LCB0aGF0IGlzLCBpdCBwcmVzZXJ2ZXMgdGhlIG9yaWdpbmFsIHNvcnQgb3JkZXIgb2ZcbiAgICAgKiBlcXVhbCBlbGVtZW50cy4gVGhlIGl0ZXJhdGVlcyBhcmUgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDggfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzQgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnNvcnRCeSh1c2VycywgW2Z1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlcjsgfV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM2XSwgWydiYXJuZXknLCAzNF0sIFsnZnJlZCcsIDQ4XSwgWydmcmVkJywgNDBdXVxuICAgICAqXG4gICAgICogXy5zb3J0QnkodXNlcnMsIFsndXNlcicsICdhZ2UnXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgMzRdLCBbJ2Jhcm5leScsIDM2XSwgWydmcmVkJywgNDBdLCBbJ2ZyZWQnLCA0OF1dXG4gICAgICovXG4gICAgdmFyIHNvcnRCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlcykge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gaXRlcmF0ZWVzLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggPiAxICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIGl0ZXJhdGVlc1swXSwgaXRlcmF0ZWVzWzFdKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBbXTtcbiAgICAgIH0gZWxzZSBpZiAobGVuZ3RoID4gMiAmJiBpc0l0ZXJhdGVlQ2FsbChpdGVyYXRlZXNbMF0sIGl0ZXJhdGVlc1sxXSwgaXRlcmF0ZWVzWzJdKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBbaXRlcmF0ZWVzWzBdXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBiYXNlRmxhdHRlbihpdGVyYXRlZXMsIDEpLCBbXSk7XG4gICAgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB0aW1lc3RhbXAgb2YgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdGhhdCBoYXZlIGVsYXBzZWQgc2luY2VcbiAgICAgKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBEYXRlXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gICAgICogICBjb25zb2xlLmxvZyhfLm5vdygpIC0gc3RhbXApO1xuICAgICAqIH0sIF8ubm93KCkpO1xuICAgICAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gICAgICovXG4gICAgdmFyIG5vdyA9IGN0eE5vdyB8fCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiByb290LkRhdGUubm93KCk7XG4gICAgfTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5iZWZvcmVgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzXG4gICAgICogYGZ1bmNgIG9uY2UgaXQncyBjYWxsZWQgYG5gIG9yIG1vcmUgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGNhbGxzIGJlZm9yZSBgZnVuY2AgaXMgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F2ZXMgPSBbJ3Byb2ZpbGUnLCAnc2V0dGluZ3MnXTtcbiAgICAgKlxuICAgICAqIHZhciBkb25lID0gXy5hZnRlcihzYXZlcy5sZW5ndGgsIGZ1bmN0aW9uKCkge1xuICAgICAqICAgY29uc29sZS5sb2coJ2RvbmUgc2F2aW5nIScpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogXy5mb3JFYWNoKHNhdmVzLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICogICBhc3luY1NhdmUoeyAndHlwZSc6IHR5cGUsICdjb21wbGV0ZSc6IGRvbmUgfSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnZG9uZSBzYXZpbmchJyBhZnRlciB0aGUgdHdvIGFzeW5jIHNhdmVzIGhhdmUgY29tcGxldGVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFmdGVyKG4sIGZ1bmMpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgtLW4gPCAxKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCwgd2l0aCB1cCB0byBgbmAgYXJndW1lbnRzLFxuICAgICAqIGlnbm9yaW5nIGFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IGNhcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzgnLCAnMTAnXSwgXy5hcnkocGFyc2VJbnQsIDEpKTtcbiAgICAgKiAvLyA9PiBbNiwgOCwgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJ5KGZ1bmMsIG4sIGd1YXJkKSB7XG4gICAgICBuID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBuO1xuICAgICAgbiA9IChmdW5jICYmIG4gPT0gbnVsbCkgPyBmdW5jLmxlbmd0aCA6IG47XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0FSWV9GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgLCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzXG4gICAgICogb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24sIHdoaWxlIGl0J3MgY2FsbGVkIGxlc3MgdGhhbiBgbmAgdGltZXMuIFN1YnNlcXVlbnRcbiAgICAgKiBjYWxscyB0byB0aGUgY3JlYXRlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgY2FsbHMgYXQgd2hpY2ggYGZ1bmNgIGlzIG5vIGxvbmdlciBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlc3RyaWN0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmJlZm9yZSg1LCBhZGRDb250YWN0VG9MaXN0KSk7XG4gICAgICogLy8gPT4gQWxsb3dzIGFkZGluZyB1cCB0byA0IGNvbnRhY3RzIHRvIHRoZSBsaXN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJlZm9yZShuLCBmdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0O1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKC0tbiA+IDApIHtcbiAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG4gPD0gMSkge1xuICAgICAgICAgIGZ1bmMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgXG4gICAgICogYW5kIGBwYXJ0aWFsc2AgcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uYmluZC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljIGJ1aWxkcyxcbiAgICAgKiBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIG5hdGl2ZSBgRnVuY3Rpb24jYmluZGAsIHRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiXG4gICAgICogcHJvcGVydHkgb2YgYm91bmQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYmluZC5cbiAgICAgKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZ3JlZXQoZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAndXNlcic6ICdmcmVkJyB9O1xuICAgICAqXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kKGdyZWV0LCBvYmplY3QsICdoaScpO1xuICAgICAqIGJvdW5kKCchJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuICAgICAqXG4gICAgICogLy8gQm91bmQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kKGdyZWV0LCBvYmplY3QsIF8sICchJyk7XG4gICAgICogYm91bmQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuICAgICAqL1xuICAgIHZhciBiaW5kID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgdGhpc0FyZywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gV1JBUF9CSU5EX0ZMQUc7XG4gICAgICBpZiAocGFydGlhbHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihiaW5kKSk7XG4gICAgICAgIGJpdG1hc2sgfD0gV1JBUF9QQVJUSUFMX0ZMQUc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIHRoZSBtZXRob2QgYXQgYG9iamVjdFtrZXldYCB3aXRoIGBwYXJ0aWFsc2BcbiAgICAgKiBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGRpZmZlcnMgZnJvbSBgXy5iaW5kYCBieSBhbGxvd2luZyBib3VuZCBmdW5jdGlvbnMgdG8gcmVmZXJlbmNlXG4gICAgICogbWV0aG9kcyB0aGF0IG1heSBiZSByZWRlZmluZWQgb3IgZG9uJ3QgeWV0IGV4aXN0LiBTZWVcbiAgICAgKiBbUGV0ZXIgTWljaGF1eCdzIGFydGljbGVdKGh0dHA6Ly9wZXRlci5taWNoYXV4LmNhL2FydGljbGVzL2xhenktZnVuY3Rpb24tZGVmaW5pdGlvbi1wYXR0ZXJuKVxuICAgICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uYmluZEtleS5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludm9rZSB0aGUgbWV0aG9kIG9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJvdW5kIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge1xuICAgICAqICAgJ3VzZXInOiAnZnJlZCcsXG4gICAgICogICAnZ3JlZXQnOiBmdW5jdGlvbihncmVldGluZywgcHVuY3R1YXRpb24pIHtcbiAgICAgKiAgICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogICB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZEtleShvYmplY3QsICdncmVldCcsICdoaScpO1xuICAgICAqIGJvdW5kKCchJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQhJ1xuICAgICAqXG4gICAgICogb2JqZWN0LmdyZWV0ID0gZnVuY3Rpb24oZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAneWEgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaXlhIGZyZWQhJ1xuICAgICAqXG4gICAgICogLy8gQm91bmQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kS2V5KG9iamVjdCwgJ2dyZWV0JywgXywgJyEnKTtcbiAgICAgKiBib3VuZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGl5YSBmcmVkISdcbiAgICAgKi9cbiAgICB2YXIgYmluZEtleSA9IGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwga2V5LCBwYXJ0aWFscykge1xuICAgICAgdmFyIGJpdG1hc2sgPSBXUkFQX0JJTkRfRkxBRyB8IFdSQVBfQklORF9LRVlfRkxBRztcbiAgICAgIGlmIChwYXJ0aWFscy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKGJpbmRLZXkpKTtcbiAgICAgICAgYml0bWFzayB8PSBXUkFQX1BBUlRJQUxfRkxBRztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGtleSwgYml0bWFzaywgb2JqZWN0LCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIGFyZ3VtZW50cyBvZiBgZnVuY2AgYW5kIGVpdGhlciBpbnZva2VzXG4gICAgICogYGZ1bmNgIHJldHVybmluZyBpdHMgcmVzdWx0LCBpZiBhdCBsZWFzdCBgYXJpdHlgIG51bWJlciBvZiBhcmd1bWVudHMgaGF2ZVxuICAgICAqIGJlZW4gcHJvdmlkZWQsIG9yIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgdGhlIHJlbWFpbmluZyBgZnVuY2BcbiAgICAgKiBhcmd1bWVudHMsIGFuZCBzbyBvbi4gVGhlIGFyaXR5IG9mIGBmdW5jYCBtYXkgYmUgc3BlY2lmaWVkIGlmIGBmdW5jLmxlbmd0aGBcbiAgICAgKiBpcyBub3Qgc3VmZmljaWVudC5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5jdXJyeS5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljIGJ1aWxkcyxcbiAgICAgKiBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgY3VycmllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5PWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFiYyA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBjdXJyaWVkID0gXy5jdXJyeShhYmMpO1xuICAgICAqXG4gICAgICogY3VycmllZCgxKSgyKSgzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMikoMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIsIDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogLy8gQ3VycmllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiBjdXJyaWVkKDEpKF8sIDMpKDIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1cnJ5KGZ1bmMsIGFyaXR5LCBndWFyZCkge1xuICAgICAgYXJpdHkgPSBndWFyZCA/IHVuZGVmaW5lZCA6IGFyaXR5O1xuICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9DVVJSWV9GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkpO1xuICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gY3VycnkucGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY3VycnlgIGV4Y2VwdCB0aGF0IGFyZ3VtZW50cyBhcmUgYXBwbGllZCB0byBgZnVuY2BcbiAgICAgKiBpbiB0aGUgbWFubmVyIG9mIGBfLnBhcnRpYWxSaWdodGAgaW5zdGVhZCBvZiBgXy5wYXJ0aWFsYC5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5jdXJyeVJpZ2h0LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBjdXJyaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGN1cnJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHk9ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYWJjID0gZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIFthLCBiLCBjXTtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGN1cnJpZWQgPSBfLmN1cnJ5UmlnaHQoYWJjKTtcbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMykoMikoMSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDIsIDMpKDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyLCAzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIC8vIEN1cnJpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogY3VycmllZCgzKSgxLCBfKSgyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXJyeVJpZ2h0KGZ1bmMsIGFyaXR5LCBndWFyZCkge1xuICAgICAgYXJpdHkgPSBndWFyZCA/IHVuZGVmaW5lZCA6IGFyaXR5O1xuICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9DVVJSWV9SSUdIVF9GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkpO1xuICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gY3VycnlSaWdodC5wbGFjZWhvbGRlcjtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG4gICAgICogbWlsbGlzZWNvbmRzIGhhdmUgZWxhcHNlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gd2FzXG4gICAgICogaW52b2tlZC4gVGhlIGRlYm91bmNlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGAgbWV0aG9kIHRvIGNhbmNlbFxuICAgICAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuICAgICAqIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZVxuICAgICAqIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YCB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG4gICAgICogY2FsbHMgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2BcbiAgICAgKiBpbnZvY2F0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICAgICAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uXG4gICAgICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICAgICAqXG4gICAgICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gICAgICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICAgICAqXG4gICAgICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gICAgICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4V2FpdF1cbiAgICAgKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncmVzaXplJywgXy5kZWJvdW5jZShjYWxjdWxhdGVMYXlvdXQsIDE1MCkpO1xuICAgICAqXG4gICAgICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uZGVib3VuY2Uoc2VuZE1haWwsIDMwMCwge1xuICAgICAqICAgJ2xlYWRpbmcnOiB0cnVlLFxuICAgICAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAgICAgKiB9KSk7XG4gICAgICpcbiAgICAgKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuICAgICAqIHZhciBkZWJvdW5jZWQgPSBfLmRlYm91bmNlKGJhdGNoTG9nLCAyNTAsIHsgJ21heFdhaXQnOiAxMDAwIH0pO1xuICAgICAqIHZhciBzb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2UoJy9zdHJlYW0nKTtcbiAgICAgKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG4gICAgICpcbiAgICAgKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIGRlYm91bmNlZCBpbnZvY2F0aW9uLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsYXN0QXJncyxcbiAgICAgICAgICBsYXN0VGhpcyxcbiAgICAgICAgICBtYXhXYWl0LFxuICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICB0aW1lcklkLFxuICAgICAgICAgIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICBsYXN0SW52b2tlVGltZSA9IDAsXG4gICAgICAgICAgbGVhZGluZyA9IGZhbHNlLFxuICAgICAgICAgIG1heGluZyA9IGZhbHNlLFxuICAgICAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgd2FpdCA9IHRvTnVtYmVyKHdhaXQpIHx8IDA7XG4gICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgbGVhZGluZyA9ICEhb3B0aW9ucy5sZWFkaW5nO1xuICAgICAgICBtYXhpbmcgPSAnbWF4V2FpdCcgaW4gb3B0aW9ucztcbiAgICAgICAgbWF4V2FpdCA9IG1heGluZyA/IG5hdGl2ZU1heCh0b051bWJlcihvcHRpb25zLm1heFdhaXQpIHx8IDAsIHdhaXQpIDogbWF4V2FpdDtcbiAgICAgICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gaW52b2tlRnVuYyh0aW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gbGFzdEFyZ3MsXG4gICAgICAgICAgICB0aGlzQXJnID0gbGFzdFRoaXM7XG5cbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBsZWFkaW5nRWRnZSh0aW1lKSB7XG4gICAgICAgIC8vIFJlc2V0IGFueSBgbWF4V2FpdGAgdGltZXIuXG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAgICAgLy8gU3RhcnQgdGhlIHRpbWVyIGZvciB0aGUgdHJhaWxpbmcgZWRnZS5cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgLy8gSW52b2tlIHRoZSBsZWFkaW5nIGVkZ2UuXG4gICAgICAgIHJldHVybiBsZWFkaW5nID8gaW52b2tlRnVuYyh0aW1lKSA6IHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcmVtYWluaW5nV2FpdCh0aW1lKSB7XG4gICAgICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lLFxuICAgICAgICAgICAgdGltZVdhaXRpbmcgPSB3YWl0IC0gdGltZVNpbmNlTGFzdENhbGw7XG5cbiAgICAgICAgcmV0dXJuIG1heGluZ1xuICAgICAgICAgID8gbmF0aXZlTWluKHRpbWVXYWl0aW5nLCBtYXhXYWl0IC0gdGltZVNpbmNlTGFzdEludm9rZSlcbiAgICAgICAgICA6IHRpbWVXYWl0aW5nO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzaG91bGRJbnZva2UodGltZSkge1xuICAgICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblxuICAgICAgICAvLyBFaXRoZXIgdGhpcyBpcyB0aGUgZmlyc3QgY2FsbCwgYWN0aXZpdHkgaGFzIHN0b3BwZWQgYW5kIHdlJ3JlIGF0IHRoZVxuICAgICAgICAvLyB0cmFpbGluZyBlZGdlLCB0aGUgc3lzdGVtIHRpbWUgaGFzIGdvbmUgYmFja3dhcmRzIGFuZCB3ZSdyZSB0cmVhdGluZ1xuICAgICAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG4gICAgICAgIHJldHVybiAobGFzdENhbGxUaW1lID09PSB1bmRlZmluZWQgfHwgKHRpbWVTaW5jZUxhc3RDYWxsID49IHdhaXQpIHx8XG4gICAgICAgICAgKHRpbWVTaW5jZUxhc3RDYWxsIDwgMCkgfHwgKG1heGluZyAmJiB0aW1lU2luY2VMYXN0SW52b2tlID49IG1heFdhaXQpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdGltZXJFeHBpcmVkKCkge1xuICAgICAgICB2YXIgdGltZSA9IG5vdygpO1xuICAgICAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHRyYWlsaW5nRWRnZSh0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCByZW1haW5pbmdXYWl0KHRpbWUpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICAgICAgdGltZXJJZCA9IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBPbmx5IGludm9rZSBpZiB3ZSBoYXZlIGBsYXN0QXJnc2Agd2hpY2ggbWVhbnMgYGZ1bmNgIGhhcyBiZWVuXG4gICAgICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgICAgICBpZiAodHJhaWxpbmcgJiYgbGFzdEFyZ3MpIHtcbiAgICAgICAgICByZXR1cm4gaW52b2tlRnVuYyh0aW1lKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgICAgIGlmICh0aW1lcklkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSAwO1xuICAgICAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBkZWJvdW5jZWQoKSB7XG4gICAgICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgICAgICBpc0ludm9raW5nID0gc2hvdWxkSW52b2tlKHRpbWUpO1xuXG4gICAgICAgIGxhc3RBcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgICAgIGxhc3RDYWxsVGltZSA9IHRpbWU7XG5cbiAgICAgICAgaWYgKGlzSW52b2tpbmcpIHtcbiAgICAgICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbGVhZGluZ0VkZ2UobGFzdENhbGxUaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAgICAgLy8gSGFuZGxlIGludm9jYXRpb25zIGluIGEgdGlnaHQgbG9vcC5cbiAgICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcbiAgICAgIGRlYm91bmNlZC5mbHVzaCA9IGZsdXNoO1xuICAgICAgcmV0dXJuIGRlYm91bmNlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZlcnMgaW52b2tpbmcgdGhlIGBmdW5jYCB1bnRpbCB0aGUgY3VycmVudCBjYWxsIHN0YWNrIGhhcyBjbGVhcmVkLiBBbnlcbiAgICAgKiBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQncyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVmZXIuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXIgaWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmZXIoZnVuY3Rpb24odGV4dCkge1xuICAgICAqICAgY29uc29sZS5sb2codGV4dCk7XG4gICAgICogfSwgJ2RlZmVycmVkJyk7XG4gICAgICogLy8gPT4gTG9ncyAnZGVmZXJyZWQnIGFmdGVyIG9uZSBtaWxsaXNlY29uZC5cbiAgICAgKi9cbiAgICB2YXIgZGVmZXIgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBhcmdzKSB7XG4gICAgICByZXR1cm4gYmFzZURlbGF5KGZ1bmMsIDEsIGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyBgZnVuY2AgYWZ0ZXIgYHdhaXRgIG1pbGxpc2Vjb25kcy4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZVxuICAgICAqIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGludm9jYXRpb24uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXIgaWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVsYXkoZnVuY3Rpb24odGV4dCkge1xuICAgICAqICAgY29uc29sZS5sb2codGV4dCk7XG4gICAgICogfSwgMTAwMCwgJ2xhdGVyJyk7XG4gICAgICogLy8gPT4gTG9ncyAnbGF0ZXInIGFmdGVyIG9uZSBzZWNvbmQuXG4gICAgICovXG4gICAgdmFyIGRlbGF5ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgd2FpdCwgYXJncykge1xuICAgICAgcmV0dXJuIGJhc2VEZWxheShmdW5jLCB0b051bWJlcih3YWl0KSB8fCAwLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYXJndW1lbnRzIHJldmVyc2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZmxpcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZsaXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmbGlwcGVkID0gXy5mbGlwKGZ1bmN0aW9uKCkge1xuICAgICAqICAgcmV0dXJuIF8udG9BcnJheShhcmd1bWVudHMpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogZmxpcHBlZCgnYScsICdiJywgJ2MnLCAnZCcpO1xuICAgICAqIC8vID0+IFsnZCcsICdjJywgJ2InLCAnYSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxpcChmdW5jKSB7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0ZMSVBfRkxBRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbWVtb2l6ZXMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuIElmIGByZXNvbHZlcmAgaXNcbiAgICAgKiBwcm92aWRlZCwgaXQgZGV0ZXJtaW5lcyB0aGUgY2FjaGUga2V5IGZvciBzdG9yaW5nIHRoZSByZXN1bHQgYmFzZWQgb24gdGhlXG4gICAgICogYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbi4gQnkgZGVmYXVsdCwgdGhlIGZpcnN0IGFyZ3VtZW50XG4gICAgICogcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uIGlzIHVzZWQgYXMgdGhlIG1hcCBjYWNoZSBrZXkuIFRoZSBgZnVuY2BcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGUgY2FjaGUgaXMgZXhwb3NlZCBhcyB0aGUgYGNhY2hlYCBwcm9wZXJ0eSBvbiB0aGUgbWVtb2l6ZWRcbiAgICAgKiBmdW5jdGlvbi4gSXRzIGNyZWF0aW9uIG1heSBiZSBjdXN0b21pemVkIGJ5IHJlcGxhY2luZyB0aGUgYF8ubWVtb2l6ZS5DYWNoZWBcbiAgICAgKiBjb25zdHJ1Y3RvciB3aXRoIG9uZSB3aG9zZSBpbnN0YW5jZXMgaW1wbGVtZW50IHRoZVxuICAgICAqIFtgTWFwYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcHJvcGVydGllcy1vZi10aGUtbWFwLXByb3RvdHlwZS1vYmplY3QpXG4gICAgICogbWV0aG9kIGludGVyZmFjZSBvZiBgY2xlYXJgLCBgZGVsZXRlYCwgYGdldGAsIGBoYXNgLCBhbmQgYHNldGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jlc29sdmVyXSBUaGUgZnVuY3Rpb24gdG8gcmVzb2x2ZSB0aGUgY2FjaGUga2V5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2MnOiAzLCAnZCc6IDQgfTtcbiAgICAgKlxuICAgICAqIHZhciB2YWx1ZXMgPSBfLm1lbW9pemUoXy52YWx1ZXMpO1xuICAgICAqIHZhbHVlcyhvYmplY3QpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogdmFsdWVzKG90aGVyKTtcbiAgICAgKiAvLyA9PiBbMywgNF1cbiAgICAgKlxuICAgICAqIG9iamVjdC5hID0gMjtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIC8vIE1vZGlmeSB0aGUgcmVzdWx0IGNhY2hlLlxuICAgICAqIHZhbHVlcy5jYWNoZS5zZXQob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddXG4gICAgICpcbiAgICAgKiAvLyBSZXBsYWNlIGBfLm1lbW9pemUuQ2FjaGVgLlxuICAgICAqIF8ubWVtb2l6ZS5DYWNoZSA9IFdlYWtNYXA7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVtb2l6ZShmdW5jLCByZXNvbHZlcikge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicgfHwgKHJlc29sdmVyICE9IG51bGwgJiYgdHlwZW9mIHJlc29sdmVyICE9ICdmdW5jdGlvbicpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHZhciBtZW1vaXplZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIGtleSA9IHJlc29sdmVyID8gcmVzb2x2ZXIuYXBwbHkodGhpcywgYXJncykgOiBhcmdzWzBdLFxuICAgICAgICAgICAgY2FjaGUgPSBtZW1vaXplZC5jYWNoZTtcblxuICAgICAgICBpZiAoY2FjaGUuaGFzKGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gY2FjaGUuZ2V0KGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIG1lbW9pemVkLmNhY2hlID0gY2FjaGUuc2V0KGtleSwgcmVzdWx0KSB8fCBjYWNoZTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgICBtZW1vaXplZC5jYWNoZSA9IG5ldyAobWVtb2l6ZS5DYWNoZSB8fCBNYXBDYWNoZSk7XG4gICAgICByZXR1cm4gbWVtb2l6ZWQ7XG4gICAgfVxuXG4gICAgLy8gRXhwb3NlIGBNYXBDYWNoZWAuXG4gICAgbWVtb2l6ZS5DYWNoZSA9IE1hcENhY2hlO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbmVnYXRlcyB0aGUgcmVzdWx0IG9mIHRoZSBwcmVkaWNhdGUgYGZ1bmNgLiBUaGVcbiAgICAgKiBgZnVuY2AgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGVcbiAgICAgKiBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBwcmVkaWNhdGUgdG8gbmVnYXRlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG5lZ2F0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGlzRXZlbihuKSB7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihbMSwgMiwgMywgNCwgNSwgNl0sIF8ubmVnYXRlKGlzRXZlbikpO1xuICAgICAqIC8vID0+IFsxLCAzLCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5lZ2F0ZShwcmVkaWNhdGUpIHtcbiAgICAgIGlmICh0eXBlb2YgcHJlZGljYXRlICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICAgIGNhc2UgMDogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzKTtcbiAgICAgICAgICBjYXNlIDE6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSk7XG4gICAgICAgICAgY2FzZSAyOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgIGNhc2UgMzogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIXByZWRpY2F0ZS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXMgcmVzdHJpY3RlZCB0byBpbnZva2luZyBgZnVuY2Agb25jZS4gUmVwZWF0IGNhbGxzXG4gICAgICogdG8gdGhlIGZ1bmN0aW9uIHJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGludm9jYXRpb24uIFRoZSBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHMgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgaW5pdGlhbGl6ZSA9IF8ub25jZShjcmVhdGVBcHBsaWNhdGlvbik7XG4gICAgICogaW5pdGlhbGl6ZSgpO1xuICAgICAqIGluaXRpYWxpemUoKTtcbiAgICAgKiAvLyA9PiBgY3JlYXRlQXBwbGljYXRpb25gIGlzIGludm9rZWQgb25jZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uY2UoZnVuYykge1xuICAgICAgcmV0dXJuIGJlZm9yZSgyLCBmdW5jKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudHMgdHJhbnNmb3JtZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbdHJhbnNmb3Jtcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm1zLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkb3VibGVkKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyQXJncyhmdW5jdGlvbih4LCB5KSB7XG4gICAgICogICByZXR1cm4gW3gsIHldO1xuICAgICAqIH0sIFtzcXVhcmUsIGRvdWJsZWRdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoOSwgMyk7XG4gICAgICogLy8gPT4gWzgxLCA2XVxuICAgICAqXG4gICAgICogZnVuYygxMCwgNSk7XG4gICAgICogLy8gPT4gWzEwMCwgMTBdXG4gICAgICovXG4gICAgdmFyIG92ZXJBcmdzID0gY2FzdFJlc3QoZnVuY3Rpb24oZnVuYywgdHJhbnNmb3Jtcykge1xuICAgICAgdHJhbnNmb3JtcyA9ICh0cmFuc2Zvcm1zLmxlbmd0aCA9PSAxICYmIGlzQXJyYXkodHJhbnNmb3Jtc1swXSkpXG4gICAgICAgID8gYXJyYXlNYXAodHJhbnNmb3Jtc1swXSwgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKVxuICAgICAgICA6IGFycmF5TWFwKGJhc2VGbGF0dGVuKHRyYW5zZm9ybXMsIDEpLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpO1xuXG4gICAgICB2YXIgZnVuY3NMZW5ndGggPSB0cmFuc2Zvcm1zLmxlbmd0aDtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKGFyZ3MubGVuZ3RoLCBmdW5jc0xlbmd0aCk7XG5cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcmdzW2luZGV4XSA9IHRyYW5zZm9ybXNbaW5kZXhdLmNhbGwodGhpcywgYXJnc1tpbmRleF0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGVcbiAgICAgKiBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYmluZGAgZXhjZXB0IGl0IGRvZXMgKipub3QqKlxuICAgICAqIGFsdGVyIHRoZSBgdGhpc2AgYmluZGluZy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5wYXJ0aWFsLnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBwYXJ0aWFsbHlcbiAgICAgKiBhcHBsaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjIuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHBhcnRpYWxseSBhcHBseSBhcmd1bWVudHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFydGlhbGx5IGFwcGxpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBuYW1lKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyBuYW1lO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBzYXlIZWxsb1RvID0gXy5wYXJ0aWFsKGdyZWV0LCAnaGVsbG8nKTtcbiAgICAgKiBzYXlIZWxsb1RvKCdmcmVkJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBQYXJ0aWFsbHkgYXBwbGllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgZ3JlZXRGcmVkID0gXy5wYXJ0aWFsKGdyZWV0LCBfLCAnZnJlZCcpO1xuICAgICAqIGdyZWV0RnJlZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICAgKi9cbiAgICB2YXIgcGFydGlhbCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIocGFydGlhbCkpO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9QQVJUSUFMX0ZMQUcsIHVuZGVmaW5lZCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wYXJ0aWFsYCBleGNlcHQgdGhhdCBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHNcbiAgICAgKiBhcmUgYXBwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5wYXJ0aWFsUmlnaHQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIHBhcnRpYWxseVxuICAgICAqIGFwcGxpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcGFydGlhbGx5IGFwcGx5IGFyZ3VtZW50cyB0by5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXJ0aWFsbHkgYXBwbGllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZ3JlZXQoZ3JlZXRpbmcsIG5hbWUpIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIG5hbWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGdyZWV0RnJlZCA9IF8ucGFydGlhbFJpZ2h0KGdyZWV0LCAnZnJlZCcpO1xuICAgICAqIGdyZWV0RnJlZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFBhcnRpYWxseSBhcHBsaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBzYXlIZWxsb1RvID0gXy5wYXJ0aWFsUmlnaHQoZ3JlZXQsICdoZWxsbycsIF8pO1xuICAgICAqIHNheUhlbGxvVG8oJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCdcbiAgICAgKi9cbiAgICB2YXIgcGFydGlhbFJpZ2h0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihwYXJ0aWFsUmlnaHQpKTtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHLCB1bmRlZmluZWQsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYXJndW1lbnRzIGFycmFuZ2VkIGFjY29yZGluZ1xuICAgICAqIHRvIHRoZSBzcGVjaWZpZWQgYGluZGV4ZXNgIHdoZXJlIHRoZSBhcmd1bWVudCB2YWx1ZSBhdCB0aGUgZmlyc3QgaW5kZXggaXNcbiAgICAgKiBwcm92aWRlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQsIHRoZSBhcmd1bWVudCB2YWx1ZSBhdCB0aGUgc2Vjb25kIGluZGV4IGlzXG4gICAgICogcHJvdmlkZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCwgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVhcnJhbmdlIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHBhcmFtIHsuLi4obnVtYmVyfG51bWJlcltdKX0gaW5kZXhlcyBUaGUgYXJyYW5nZWQgYXJndW1lbnQgaW5kZXhlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHJlYXJnZWQgPSBfLnJlYXJnKGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfSwgWzIsIDAsIDFdKTtcbiAgICAgKlxuICAgICAqIHJlYXJnZWQoJ2InLCAnYycsICdhJylcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKi9cbiAgICB2YXIgcmVhcmcgPSBmbGF0UmVzdChmdW5jdGlvbihmdW5jLCBpbmRleGVzKSB7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1JFQVJHX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGluZGV4ZXMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbiBhbmQgYXJndW1lbnRzIGZyb20gYHN0YXJ0YCBhbmQgYmV5b25kIHByb3ZpZGVkIGFzXG4gICAgICogYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb24gdGhlXG4gICAgICogW3Jlc3QgcGFyYW1ldGVyXShodHRwczovL21kbi5pby9yZXN0X3BhcmFtZXRlcnMpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzYXkgPSBfLnJlc3QoZnVuY3Rpb24od2hhdCwgbmFtZXMpIHtcbiAgICAgKiAgIHJldHVybiB3aGF0ICsgJyAnICsgXy5pbml0aWFsKG5hbWVzKS5qb2luKCcsICcpICtcbiAgICAgKiAgICAgKF8uc2l6ZShuYW1lcykgPiAxID8gJywgJiAnIDogJycpICsgXy5sYXN0KG5hbWVzKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHNheSgnaGVsbG8nLCAnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcycpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkLCBiYXJuZXksICYgcGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBzdGFydCA9IHN0YXJ0ID09PSB1bmRlZmluZWQgPyBzdGFydCA6IHRvSW50ZWdlcihzdGFydCk7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuYywgc3RhcnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZVxuICAgICAqIGNyZWF0ZSBmdW5jdGlvbiBhbmQgYW4gYXJyYXkgb2YgYXJndW1lbnRzIG11Y2ggbGlrZVxuICAgICAqIFtgRnVuY3Rpb24jYXBwbHlgXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvbiB0aGVcbiAgICAgKiBbc3ByZWFkIG9wZXJhdG9yXShodHRwczovL21kbi5pby9zcHJlYWRfb3BlcmF0b3IpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gc3ByZWFkIGFyZ3VtZW50cyBvdmVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSBzcHJlYWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzYXkgPSBfLnNwcmVhZChmdW5jdGlvbih3aG8sIHdoYXQpIHtcbiAgICAgKiAgIHJldHVybiB3aG8gKyAnIHNheXMgJyArIHdoYXQ7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzYXkoWydmcmVkJywgJ2hlbGxvJ10pO1xuICAgICAqIC8vID0+ICdmcmVkIHNheXMgaGVsbG8nXG4gICAgICpcbiAgICAgKiB2YXIgbnVtYmVycyA9IFByb21pc2UuYWxsKFtcbiAgICAgKiAgIFByb21pc2UucmVzb2x2ZSg0MCksXG4gICAgICogICBQcm9taXNlLnJlc29sdmUoMzYpXG4gICAgICogXSk7XG4gICAgICpcbiAgICAgKiBudW1iZXJzLnRoZW4oXy5zcHJlYWQoZnVuY3Rpb24oeCwgeSkge1xuICAgICAqICAgcmV0dXJuIHggKyB5O1xuICAgICAqIH0pKTtcbiAgICAgKiAvLyA9PiBhIFByb21pc2Ugb2YgNzZcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzcHJlYWQoZnVuYywgc3RhcnQpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHN0YXJ0ID0gc3RhcnQgPT0gbnVsbCA/IDAgOiBuYXRpdmVNYXgodG9JbnRlZ2VyKHN0YXJ0KSwgMCk7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcmdzW3N0YXJ0XSxcbiAgICAgICAgICAgIG90aGVyQXJncyA9IGNhc3RTbGljZShhcmdzLCAwLCBzdGFydCk7XG5cbiAgICAgICAgaWYgKGFycmF5KSB7XG4gICAgICAgICAgYXJyYXlQdXNoKG90aGVyQXJncywgYXJyYXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHRocm90dGxlZCBmdW5jdGlvbiB0aGF0IG9ubHkgaW52b2tlcyBgZnVuY2AgYXQgbW9zdCBvbmNlIHBlclxuICAgICAqIGV2ZXJ5IGB3YWl0YCBtaWxsaXNlY29uZHMuIFRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgXG4gICAgICogbWV0aG9kIHRvIGNhbmNlbCBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0b1xuICAgICAqIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYFxuICAgICAqIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZSBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGBcbiAgICAgKiB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWQgd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlXG4gICAgICogdGhyb3R0bGVkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50IGNhbGxzIHRvIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gcmV0dXJuIHRoZVxuICAgICAqIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIHRocm90dGxlZCBmdW5jdGlvblxuICAgICAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICAgKlxuICAgICAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICAgICAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAgICAgKlxuICAgICAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICAgICAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8udGhyb3R0bGVgIGFuZCBgXy5kZWJvdW5jZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB0aHJvdHRsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gdGhyb3R0bGUgaW52b2NhdGlvbnMgdG8uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPXRydWVdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgdGhyb3R0bGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBBdm9pZCBleGNlc3NpdmVseSB1cGRhdGluZyB0aGUgcG9zaXRpb24gd2hpbGUgc2Nyb2xsaW5nLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdzY3JvbGwnLCBfLnRocm90dGxlKHVwZGF0ZVBvc2l0aW9uLCAxMDApKTtcbiAgICAgKlxuICAgICAqIC8vIEludm9rZSBgcmVuZXdUb2tlbmAgd2hlbiB0aGUgY2xpY2sgZXZlbnQgaXMgZmlyZWQsIGJ1dCBub3QgbW9yZSB0aGFuIG9uY2UgZXZlcnkgNSBtaW51dGVzLlxuICAgICAqIHZhciB0aHJvdHRsZWQgPSBfLnRocm90dGxlKHJlbmV3VG9rZW4sIDMwMDAwMCwgeyAndHJhaWxpbmcnOiBmYWxzZSB9KTtcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdGhyb3R0bGVkKTtcbiAgICAgKlxuICAgICAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgdGhyb3R0bGVkIGludm9jYXRpb24uXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgdGhyb3R0bGVkLmNhbmNlbCk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgICAgdmFyIGxlYWRpbmcgPSB0cnVlLFxuICAgICAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIGxlYWRpbmcgPSAnbGVhZGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy5sZWFkaW5nIDogbGVhZGluZztcbiAgICAgICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWJvdW5jZShmdW5jLCB3YWl0LCB7XG4gICAgICAgICdsZWFkaW5nJzogbGVhZGluZyxcbiAgICAgICAgJ21heFdhaXQnOiB3YWl0LFxuICAgICAgICAndHJhaWxpbmcnOiB0cmFpbGluZ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB1cCB0byBvbmUgYXJndW1lbnQsIGlnbm9yaW5nIGFueVxuICAgICAqIGFkZGl0aW9uYWwgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1hcChbJzYnLCAnOCcsICcxMCddLCBfLnVuYXJ5KHBhcnNlSW50KSk7XG4gICAgICogLy8gPT4gWzYsIDgsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuYXJ5KGZ1bmMpIHtcbiAgICAgIHJldHVybiBhcnkoZnVuYywgMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcHJvdmlkZXMgYHZhbHVlYCB0byBgd3JhcHBlcmAgYXMgaXRzIGZpcnN0XG4gICAgICogYXJndW1lbnQuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZnVuY3Rpb24gYXJlIGFwcGVuZGVkXG4gICAgICogdG8gdGhvc2UgcHJvdmlkZWQgdG8gdGhlIGB3cmFwcGVyYC4gVGhlIHdyYXBwZXIgaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbd3JhcHBlcj1pZGVudGl0eV0gVGhlIHdyYXBwZXIgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBwID0gXy53cmFwKF8uZXNjYXBlLCBmdW5jdGlvbihmdW5jLCB0ZXh0KSB7XG4gICAgICogICByZXR1cm4gJzxwPicgKyBmdW5jKHRleHQpICsgJzwvcD4nO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogcCgnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnPHA+ZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzPC9wPidcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwKHZhbHVlLCB3cmFwcGVyKSB7XG4gICAgICByZXR1cm4gcGFydGlhbChjYXN0RnVuY3Rpb24od3JhcHBlciksIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIGFzIGFuIGFycmF5IGlmIGl0J3Mgbm90IG9uZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjQuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KDEpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoeyAnYSc6IDEgfSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxIH1dXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gWydhYmMnXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkobnVsbCk7XG4gICAgICogLy8gPT4gW251bGxdXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSh1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IFt1bmRlZmluZWRdXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICogY29uc29sZS5sb2coXy5jYXN0QXJyYXkoYXJyYXkpID09PSBhcnJheSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RBcnJheSgpIHtcbiAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgdmFsdWUgPSBhcmd1bWVudHNbMF07XG4gICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNoYWxsb3cgY2xvbmUgb2YgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uIHRoZVxuICAgICAqIFtzdHJ1Y3R1cmVkIGNsb25lIGFsZ29yaXRobV0oaHR0cHM6Ly9tZG4uaW8vU3RydWN0dXJlZF9jbG9uZV9hbGdvcml0aG0pXG4gICAgICogYW5kIHN1cHBvcnRzIGNsb25pbmcgYXJyYXlzLCBhcnJheSBidWZmZXJzLCBib29sZWFucywgZGF0ZSBvYmplY3RzLCBtYXBzLFxuICAgICAqIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsIHNldHMsIHN0cmluZ3MsIHN5bWJvbHMsIGFuZCB0eXBlZFxuICAgICAqIGFycmF5cy4gVGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgYGFyZ3VtZW50c2Agb2JqZWN0cyBhcmUgY2xvbmVkXG4gICAgICogYXMgcGxhaW4gb2JqZWN0cy4gQW4gZW1wdHkgb2JqZWN0IGlzIHJldHVybmVkIGZvciB1bmNsb25lYWJsZSB2YWx1ZXMgc3VjaFxuICAgICAqIGFzIGVycm9yIG9iamVjdHMsIGZ1bmN0aW9ucywgRE9NIG5vZGVzLCBhbmQgV2Vha01hcHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lRGVlcFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICdhJzogMSB9LCB7ICdiJzogMiB9XTtcbiAgICAgKlxuICAgICAqIHZhciBzaGFsbG93ID0gXy5jbG9uZShvYmplY3RzKTtcbiAgICAgKiBjb25zb2xlLmxvZyhzaGFsbG93WzBdID09PSBvYmplY3RzWzBdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmUodmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX1NZTUJPTFNfRkxBRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGNsb25lZCB2YWx1ZS4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsXG4gICAgICogY2xvbmluZyBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGhcbiAgICAgKiB1cCB0byBmb3VyIGFyZ3VtZW50czsgKHZhbHVlIFssIGluZGV4fGtleSwgb2JqZWN0LCBzdGFja10pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lRGVlcFdpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcih2YWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNFbGVtZW50KHZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdmFsdWUuY2xvbmVOb2RlKGZhbHNlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZWwgPSBfLmNsb25lV2l0aChkb2N1bWVudC5ib2R5LCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGVsID09PSBkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqIGNvbnNvbGUubG9nKGVsLm5vZGVOYW1lKTtcbiAgICAgKiAvLyA9PiAnQk9EWSdcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5jaGlsZE5vZGVzLmxlbmd0aCk7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lV2l0aCh2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmNsb25lYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBjbG9uZXMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmVjdXJzaXZlbHkgY2xvbmUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGRlZXAgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICdhJzogMSB9LCB7ICdiJzogMiB9XTtcbiAgICAgKlxuICAgICAqIHZhciBkZWVwID0gXy5jbG9uZURlZXAob2JqZWN0cyk7XG4gICAgICogY29uc29sZS5sb2coZGVlcFswXSA9PT0gb2JqZWN0c1swXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZURlZXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZVdpdGhgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGNsb25lcyBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZWN1cnNpdmVseSBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBkZWVwIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVXaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIodmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzRWxlbWVudCh2YWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZWwgPSBfLmNsb25lRGVlcFdpdGgoZG9jdW1lbnQuYm9keSwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhlbCA9PT0gZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5ub2RlTmFtZSk7XG4gICAgICogLy8gPT4gJ0JPRFknXG4gICAgICogY29uc29sZS5sb2coZWwuY2hpbGROb2Rlcy5sZW5ndGgpO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEZWVwV2l0aCh2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYG9iamVjdGAgY29uZm9ybXMgdG8gYHNvdXJjZWAgYnkgaW52b2tpbmcgdGhlIHByZWRpY2F0ZVxuICAgICAqIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgd2l0aCB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgZXF1aXZhbGVudCB0byBgXy5jb25mb3Jtc2Agd2hlbiBgc291cmNlYCBpc1xuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgY29uZm9ybXMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKlxuICAgICAqIF8uY29uZm9ybXNUbyhvYmplY3QsIHsgJ2InOiBmdW5jdGlvbihuKSB7IHJldHVybiBuID4gMTsgfSB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmNvbmZvcm1zVG8ob2JqZWN0LCB7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDI7IH0gfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25mb3Jtc1RvKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gc291cmNlID09IG51bGwgfHwgYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIGtleXMoc291cmNlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYVxuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICAgICAqXG4gICAgICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5lcSgnYScsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5lcShOYU4sIE5hTik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5sdFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmd0KDMsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZ3QoMywgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZ3QoMSwgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgZ3QgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGJhc2VHdCk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0b1xuICAgICAqICBgb3RoZXJgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmx0ZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmd0ZSgzLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0ZSgzLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0ZSgxLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBndGUgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID49IG90aGVyO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQXJndW1lbnRzID0gYmFzZUlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID8gYmFzZUlzQXJndW1lbnRzIDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICAgICAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlCdWZmZXJgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXkgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUJ1ZmZlcihuZXcgQXJyYXlCdWZmZXIoMikpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUJ1ZmZlcihuZXcgQXJyYXkoMikpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQXJyYXlCdWZmZXIgPSBub2RlSXNBcnJheUJ1ZmZlciA/IGJhc2VVbmFyeShub2RlSXNBcnJheUJ1ZmZlcikgOiBiYXNlSXNBcnJheUJ1ZmZlcjtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAgICAgKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gICAgICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0FycmF5TGlrZWAgZXhjZXB0IHRoYXQgaXQgYWxzbyBjaGVja3MgaWYgYHZhbHVlYFxuICAgICAqIGlzIGFuIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXktbGlrZSBvYmplY3QsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdCgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBpc0FycmF5TGlrZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGJvb2xlYW4gcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBib29sZWFuLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNCb29sZWFuKGZhbHNlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQm9vbGVhbihudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSBmYWxzZSB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBib29sVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0J1ZmZlcihuZXcgQnVmZmVyKDIpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQnVmZmVyKG5ldyBVaW50OEFycmF5KDIpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0J1ZmZlciA9IG5hdGl2ZUlzQnVmZmVyIHx8IHN0dWJGYWxzZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRGF0ZWAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGRhdGUgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNEYXRlKG5ldyBEYXRlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRGF0ZSgnTW9uIEFwcmlsIDIzIDIwMTInKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0RhdGUgPSBub2RlSXNEYXRlID8gYmFzZVVuYXJ5KG5vZGVJc0RhdGUpIDogYmFzZUlzRGF0ZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIERPTSBlbGVtZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFbGVtZW50KGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbGVtZW50KCc8Ym9keT4nKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRWxlbWVudCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgdmFsdWUubm9kZVR5cGUgPT09IDEgJiYgIWlzUGxhaW5PYmplY3QodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGVtcHR5IG9iamVjdCwgY29sbGVjdGlvbiwgbWFwLCBvciBzZXQuXG4gICAgICpcbiAgICAgKiBPYmplY3RzIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBubyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWRcbiAgICAgKiBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQXJyYXktbGlrZSB2YWx1ZXMgc3VjaCBhcyBgYXJndW1lbnRzYCBvYmplY3RzLCBhcnJheXMsIGJ1ZmZlcnMsIHN0cmluZ3MsIG9yXG4gICAgICogalF1ZXJ5LWxpa2UgY29sbGVjdGlvbnMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIGEgYGxlbmd0aGAgb2YgYDBgLlxuICAgICAqIFNpbWlsYXJseSwgbWFwcyBhbmQgc2V0cyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgYSBgc2l6ZWAgb2YgYDBgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBlbXB0eSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KHRydWUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSgxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KHsgJ2EnOiAxIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFbXB0eSh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUxpa2UodmFsdWUpICYmXG4gICAgICAgICAgKGlzQXJyYXkodmFsdWUpIHx8IHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUuc3BsaWNlID09ICdmdW5jdGlvbicgfHxcbiAgICAgICAgICAgIGlzQnVmZmVyKHZhbHVlKSB8fCBpc1R5cGVkQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSkpIHtcbiAgICAgICAgcmV0dXJuICF2YWx1ZS5sZW5ndGg7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKTtcbiAgICAgIGlmICh0YWcgPT0gbWFwVGFnIHx8IHRhZyA9PSBzZXRUYWcpIHtcbiAgICAgICAgcmV0dXJuICF2YWx1ZS5zaXplO1xuICAgICAgfVxuICAgICAgaWYgKGlzUHJvdG90eXBlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gIWJhc2VLZXlzKHZhbHVlKS5sZW5ndGg7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmVcbiAgICAgKiBlcXVpdmFsZW50LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIHN1cHBvcnRzIGNvbXBhcmluZyBhcnJheXMsIGFycmF5IGJ1ZmZlcnMsIGJvb2xlYW5zLFxuICAgICAqIGRhdGUgb2JqZWN0cywgZXJyb3Igb2JqZWN0cywgbWFwcywgbnVtYmVycywgYE9iamVjdGAgb2JqZWN0cywgcmVnZXhlcyxcbiAgICAgKiBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWQgYXJyYXlzLiBgT2JqZWN0YCBvYmplY3RzIGFyZSBjb21wYXJlZFxuICAgICAqIGJ5IHRoZWlyIG93biwgbm90IGluaGVyaXRlZCwgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLiBGdW5jdGlvbnMgYW5kIERPTVxuICAgICAqIG5vZGVzIGFyZSBjb21wYXJlZCBieSBzdHJpY3QgZXF1YWxpdHksIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pc0VxdWFsKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIG9iamVjdCA9PT0gb3RoZXI7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VxdWFsKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0VxdWFsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLCBjb21wYXJpc29uc1xuICAgICAqIGFyZSBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGggdXAgdG9cbiAgICAgKiBzaXggYXJndW1lbnRzOiAob2JqVmFsdWUsIG90aFZhbHVlIFssIGluZGV4fGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2tdKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGlzR3JlZXRpbmcodmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiAvXmgoPzppfGVsbG8pJC8udGVzdCh2YWx1ZSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUpIHtcbiAgICAgKiAgIGlmIChpc0dyZWV0aW5nKG9ialZhbHVlKSAmJiBpc0dyZWV0aW5nKG90aFZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2hlbGxvJywgJ2dvb2RieWUnXTtcbiAgICAgKiB2YXIgb3RoZXIgPSBbJ2hpJywgJ2dvb2RieWUnXTtcbiAgICAgKlxuICAgICAqIF8uaXNFcXVhbFdpdGgoYXJyYXksIG90aGVyLCBjdXN0b21pemVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcXVhbFdpdGgodmFsdWUsIG90aGVyLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICB2YXIgcmVzdWx0ID0gY3VzdG9taXplciA/IGN1c3RvbWl6ZXIodmFsdWUsIG90aGVyKSA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgdW5kZWZpbmVkLCBjdXN0b21pemVyKSA6ICEhcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGBFcnJvcmAsIGBFdmFsRXJyb3JgLCBgUmFuZ2VFcnJvcmAsIGBSZWZlcmVuY2VFcnJvcmAsXG4gICAgICogYFN5bnRheEVycm9yYCwgYFR5cGVFcnJvcmAsIG9yIGBVUklFcnJvcmAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBlcnJvciBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Vycm9yKG5ldyBFcnJvcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Vycm9yKEVycm9yKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXJyb3IodmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gICAgICByZXR1cm4gdGFnID09IGVycm9yVGFnIHx8IHRhZyA9PSBkb21FeGNUYWcgfHxcbiAgICAgICAgKHR5cGVvZiB2YWx1ZS5tZXNzYWdlID09ICdzdHJpbmcnICYmIHR5cGVvZiB2YWx1ZS5uYW1lID09ICdzdHJpbmcnICYmICFpc1BsYWluT2JqZWN0KHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBmaW5pdGUgcHJpbWl0aXZlIG51bWJlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzRmluaXRlYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzRmluaXRlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmaW5pdGUgbnVtYmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZShOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZSgnMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGaW5pdGUodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgbmF0aXZlSXNGaW5pdGUodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRnVuY3Rpb24oXyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAgICAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gICAgICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gICAgICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZyB8fCB0YWcgPT0gYXN5bmNUYWcgfHwgdGFnID09IHByb3h5VGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc0ludGVnZXJgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNJbnRlZ2VyKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gaW50ZWdlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID09IHRvSW50ZWdlcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gICAgICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aCgzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aCgnMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcbiAgICAgICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICAgICAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAgICAgKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KHt9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChfLm5vb3ApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICAgICAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2Uoe30pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYE1hcGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG1hcCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTWFwKG5ldyBNYXApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNNYXAobmV3IFdlYWtNYXApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzTWFwID0gbm9kZUlzTWFwID8gYmFzZVVuYXJ5KG5vZGVJc01hcCkgOiBiYXNlSXNNYXA7XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gYG9iamVjdGAgYW5kIGBzb3VyY2VgIHRvXG4gICAgICogZGV0ZXJtaW5lIGlmIGBvYmplY3RgIGNvbnRhaW5zIGVxdWl2YWxlbnQgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGVxdWl2YWxlbnQgdG8gYF8ubWF0Y2hlc2Agd2hlbiBgc291cmNlYCBpc1xuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3QgYHNvdXJjZWBcbiAgICAgKiB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZSBgXy5pc0VxdWFsYFxuICAgICAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICpcbiAgICAgKiBfLmlzTWF0Y2gob2JqZWN0LCB7ICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTWF0Y2gob2JqZWN0LCB7ICdiJzogMSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWF0Y2gob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT09IHNvdXJjZSB8fCBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgZ2V0TWF0Y2hEYXRhKHNvdXJjZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNNYXRjaGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgY29tcGFyaXNvbnNcbiAgICAgKiBhcmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIGZpdmVcbiAgICAgKiBhcmd1bWVudHM6IChvYmpWYWx1ZSwgc3JjVmFsdWUsIGluZGV4fGtleSwgb2JqZWN0LCBzb3VyY2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGlzR3JlZXRpbmcodmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiAvXmgoPzppfGVsbG8pJC8udGVzdCh2YWx1ZSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIGlmIChpc0dyZWV0aW5nKG9ialZhbHVlKSAmJiBpc0dyZWV0aW5nKHNyY1ZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnZ3JlZXRpbmcnOiAnaGVsbG8nIH07XG4gICAgICogdmFyIHNvdXJjZSA9IHsgJ2dyZWV0aW5nJzogJ2hpJyB9O1xuICAgICAqXG4gICAgICogXy5pc01hdGNoV2l0aChvYmplY3QsIHNvdXJjZSwgY3VzdG9taXplcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWF0Y2hXaXRoKG9iamVjdCwgc291cmNlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIGdldE1hdGNoRGF0YShzb3VyY2UpLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgTmFOYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzTmFOYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzTmFOKSBhbmQgaXMgbm90IHRoZSBzYW1lIGFzXG4gICAgICogZ2xvYmFsIFtgaXNOYU5gXShodHRwczovL21kbi5pby9pc05hTikgd2hpY2ggcmV0dXJucyBgdHJ1ZWAgZm9yXG4gICAgICogYHVuZGVmaW5lZGAgYW5kIG90aGVyIG5vbi1udW1iZXIgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgTmFOYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmFOKE5hTik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hTihuZXcgTnVtYmVyKE5hTikpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGlzTmFOKHVuZGVmaW5lZCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hTih1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOYU4odmFsdWUpIHtcbiAgICAgIC8vIEFuIGBOYU5gIHByaW1pdGl2ZSBpcyB0aGUgb25seSB2YWx1ZSB0aGF0IGlzIG5vdCBlcXVhbCB0byBpdHNlbGYuXG4gICAgICAvLyBQZXJmb3JtIHRoZSBgdG9TdHJpbmdUYWdgIGNoZWNrIGZpcnN0IHRvIGF2b2lkIGVycm9ycyB3aXRoIHNvbWVcbiAgICAgIC8vIEFjdGl2ZVggb2JqZWN0cyBpbiBJRS5cbiAgICAgIHJldHVybiBpc051bWJlcih2YWx1ZSkgJiYgdmFsdWUgIT0gK3ZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJpc3RpbmUgbmF0aXZlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGNhbid0IHJlbGlhYmx5IGRldGVjdCBuYXRpdmUgZnVuY3Rpb25zIGluIHRoZSBwcmVzZW5jZVxuICAgICAqIG9mIHRoZSBjb3JlLWpzIHBhY2thZ2UgYmVjYXVzZSBjb3JlLWpzIGNpcmN1bXZlbnRzIHRoaXMga2luZCBvZiBkZXRlY3Rpb24uXG4gICAgICogRGVzcGl0ZSBtdWx0aXBsZSByZXF1ZXN0cywgdGhlIGNvcmUtanMgbWFpbnRhaW5lciBoYXMgbWFkZSBpdCBjbGVhcjogYW55XG4gICAgICogYXR0ZW1wdCB0byBmaXggdGhlIGRldGVjdGlvbiB3aWxsIGJlIG9ic3RydWN0ZWQuIEFzIGEgcmVzdWx0LCB3ZSdyZSBsZWZ0XG4gICAgICogd2l0aCBsaXR0bGUgY2hvaWNlIGJ1dCB0byB0aHJvdyBhbiBlcnJvci4gVW5mb3J0dW5hdGVseSwgdGhpcyBhbHNvIGFmZmVjdHNcbiAgICAgKiBwYWNrYWdlcywgbGlrZSBbYmFiZWwtcG9seWZpbGxdKGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL2JhYmVsLXBvbHlmaWxsKSxcbiAgICAgKiB3aGljaCByZWx5IG9uIGNvcmUtanMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOYXRpdmUoQXJyYXkucHJvdG90eXBlLnB1c2gpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYXRpdmUoXyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05hdGl2ZSh2YWx1ZSkge1xuICAgICAgaWYgKGlzTWFza2FibGUodmFsdWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihDT1JFX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYG51bGxgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgbnVsbGAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc051bGwobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bGwodm9pZCAwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTnVsbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBudWxsYCBvciBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbnVsbGlzaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOaWwodm9pZCAwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05pbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBOdW1iZXJgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVG8gZXhjbHVkZSBgSW5maW5pdHlgLCBgLUluZmluaXR5YCwgYW5kIGBOYU5gLCB3aGljaCBhcmVcbiAgICAgKiBjbGFzc2lmaWVkIGFzIG51bWJlcnMsIHVzZSB0aGUgYF8uaXNGaW5pdGVgIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBudW1iZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8XG4gICAgICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IG51bWJlclRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuICAgICAqIGBPYmplY3RgIGNvbnN0cnVjdG9yIG9yIG9uZSB3aXRoIGEgYFtbUHJvdG90eXBlXV1gIG9mIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjguMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QobmV3IEZvbyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoeyAneCc6IDAsICd5JzogMCB9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3RMaWtlKHZhbHVlKSB8fCBiYXNlR2V0VGFnKHZhbHVlKSAhPSBvYmplY3RUYWcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHByb3RvID0gZ2V0UHJvdG90eXBlKHZhbHVlKTtcbiAgICAgIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gICAgICByZXR1cm4gdHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJlxuICAgICAgICBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgUmVnRXhwYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcmVnZXhwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNSZWdFeHAoL2FiYy8pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNSZWdFeHAoJy9hYmMvJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNSZWdFeHAgPSBub2RlSXNSZWdFeHAgPyBiYXNlVW5hcnkobm9kZUlzUmVnRXhwKSA6IGJhc2VJc1JlZ0V4cDtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgc2FmZSBpbnRlZ2VyLiBBbiBpbnRlZ2VyIGlzIHNhZmUgaWYgaXQncyBhbiBJRUVFLTc1NFxuICAgICAqIGRvdWJsZSBwcmVjaXNpb24gbnVtYmVyIHdoaWNoIGlzbid0IHRoZSByZXN1bHQgb2YgYSByb3VuZGVkIHVuc2FmZSBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNTYWZlSW50ZWdlcmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc1NhZmVJbnRlZ2VyKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzYWZlIGludGVnZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1NhZmVJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNJbnRlZ2VyKHZhbHVlKSAmJiB2YWx1ZSA+PSAtTUFYX1NBRkVfSU5URUdFUiAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU2V0YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTZXQobmV3IFNldCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1NldChuZXcgV2Vha1NldCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNTZXQgPSBub2RlSXNTZXQgPyBiYXNlVW5hcnkobm9kZUlzU2V0KSA6IGJhc2VJc1NldDtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3RyaW5nYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN0cmluZywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU3RyaW5nKCdhYmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU3RyaW5nKDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHxcbiAgICAgICAgKCFpc0FycmF5KHZhbHVlKSAmJiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN0cmluZ1RhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG4gICAgICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN5bWJvbFRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHR5cGVkIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNUeXBlZEFycmF5KG5ldyBVaW50OEFycmF5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzVHlwZWRBcnJheShbXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNUeXBlZEFycmF5ID0gbm9kZUlzVHlwZWRBcnJheSA/IGJhc2VVbmFyeShub2RlSXNUeXBlZEFycmF5KSA6IGJhc2VJc1R5cGVkQXJyYXk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1VuZGVmaW5lZCh2b2lkIDApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNVbmRlZmluZWQobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBXZWFrTWFwYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgd2VhayBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtNYXAobmV3IFdlYWtNYXApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrTWFwKG5ldyBNYXApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNXZWFrTWFwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IHdlYWtNYXBUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBXZWFrU2V0YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgd2VhayBzZXQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtTZXQobmV3IFdlYWtTZXQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrU2V0KG5ldyBTZXQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNXZWFrU2V0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSB3ZWFrU2V0VGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8uZ3RcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sdCgxLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmx0KDMsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmx0KDMsIDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGx0ID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihiYXNlTHQpO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG9cbiAgICAgKiAgYG90aGVyYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5ndGVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sdGUoMSwgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdGUoMywgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdGUoMywgMSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgbHRlID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA8PSBvdGhlcjtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9BcnJheSh7ICdhJzogMSwgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy50b0FycmF5KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKlxuICAgICAqIF8udG9BcnJheSgxKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy50b0FycmF5KG51bGwpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9BcnJheSh2YWx1ZSkge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUxpa2UodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBpc1N0cmluZyh2YWx1ZSkgPyBzdHJpbmdUb0FycmF5KHZhbHVlKSA6IGNvcHlBcnJheSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoc3ltSXRlcmF0b3IgJiYgdmFsdWVbc3ltSXRlcmF0b3JdKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvclRvQXJyYXkodmFsdWVbc3ltSXRlcmF0b3JdKCkpO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSksXG4gICAgICAgICAgZnVuYyA9IHRhZyA9PSBtYXBUYWcgPyBtYXBUb0FycmF5IDogKHRhZyA9PSBzZXRUYWcgPyBzZXRUb0FycmF5IDogdmFsdWVzKTtcblxuICAgICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBmaW5pdGUgbnVtYmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTIuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKDMuMik7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDVlLTMyNFxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZShJbmZpbml0eSk7XG4gICAgICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoJzMuMicpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvRmluaXRlKHZhbHVlKSB7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogMDtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdG9OdW1iZXIodmFsdWUpO1xuICAgICAgaWYgKHZhbHVlID09PSBJTkZJTklUWSB8fCB2YWx1ZSA9PT0gLUlORklOSVRZKSB7XG4gICAgICAgIHZhciBzaWduID0gKHZhbHVlIDwgMCA/IC0xIDogMSk7XG4gICAgICAgIHJldHVybiBzaWduICogTUFYX0lOVEVHRVI7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlID8gdmFsdWUgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gICAgICogW2BUb0ludGVnZXJgXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9pbnRlZ2VyKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKCczLjInKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9JbnRlZ2VyKHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdG9GaW5pdGUodmFsdWUpLFxuICAgICAgICAgIHJlbWFpbmRlciA9IHJlc3VsdCAlIDE7XG5cbiAgICAgIHJldHVybiByZXN1bHQgPT09IHJlc3VsdCA/IChyZW1haW5kZXIgPyByZXN1bHQgLSByZW1haW5kZXIgOiByZXN1bHQpIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIgc3VpdGFibGUgZm9yIHVzZSBhcyB0aGUgbGVuZ3RoIG9mIGFuXG4gICAgICogYXJyYXktbGlrZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiA0Mjk0OTY3Mjk1XG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKCczLjInKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9MZW5ndGgodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA/IGJhc2VDbGFtcCh0b0ludGVnZXIodmFsdWUpLCAwLCBNQVhfQVJSQVlfTEVOR1RIKSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gNWUtMzI0XG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBJbmZpbml0eVxuICAgICAqXG4gICAgICogXy50b051bWJlcignMy4yJyk7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gTkFOO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICAgICAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgICAgIHJldHVybiAoaXNCaW5hcnkgfHwgcmVJc09jdGFsLnRlc3QodmFsdWUpKVxuICAgICAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICAgICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHBsYWluIG9iamVjdCBmbGF0dGVuaW5nIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZ1xuICAgICAqIGtleWVkIHByb3BlcnRpZXMgb2YgYHZhbHVlYCB0byBvd24gcHJvcGVydGllcyBvZiB0aGUgcGxhaW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBwbGFpbiBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIG5ldyBGb28pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgXy50b1BsYWluT2JqZWN0KG5ldyBGb28pKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHZhbHVlLCBrZXlzSW4odmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc2FmZSBpbnRlZ2VyLiBBIHNhZmUgaW50ZWdlciBjYW4gYmUgY29tcGFyZWQgYW5kXG4gICAgICogcmVwcmVzZW50ZWQgY29ycmVjdGx5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiA5MDA3MTk5MjU0NzQwOTkxXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1NhZmVJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgPyBiYXNlQ2xhbXAodG9JbnRlZ2VyKHZhbHVlKSwgLU1BWF9TQUZFX0lOVEVHRVIsIE1BWF9TQUZFX0lOVEVHRVIpXG4gICAgICAgIDogKHZhbHVlID09PSAwID8gdmFsdWUgOiAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nLiBBbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQgZm9yIGBudWxsYFxuICAgICAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcobnVsbCk7XG4gICAgICogLy8gPT4gJydcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcoLTApO1xuICAgICAqIC8vID0+ICctMCdcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAnMSwyLDMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiBiYXNlVG9TdHJpbmcodmFsdWUpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdHMgdG8gdGhlXG4gICAgICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gICAgICogU3Vic2VxdWVudCBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAgYW5kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICAgKiBbYE9iamVjdC5hc3NpZ25gXShodHRwczovL21kbi5pby9PYmplY3QvYXNzaWduKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbkluXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQmFyKCkge1xuICAgICAqICAgdGhpcy5jID0gMztcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmIgPSAyO1xuICAgICAqIEJhci5wcm90b3R5cGUuZCA9IDQ7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMCB9LCBuZXcgRm9vLCBuZXcgQmFyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIGlmIChpc1Byb3RvdHlwZShzb3VyY2UpIHx8IGlzQXJyYXlMaWtlKHNvdXJjZSkpIHtcbiAgICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBvd24gYW5kXG4gICAgICogaW5oZXJpdGVkIHNvdXJjZSBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZXh0ZW5kXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBCYXIoKSB7XG4gICAgICogICB0aGlzLmMgPSAzO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYiA9IDI7XG4gICAgICogQmFyLnByb3RvdHlwZS5kID0gNDtcbiAgICAgKlxuICAgICAqIF8uYXNzaWduSW4oeyAnYSc6IDAgfSwgbmV3IEZvbywgbmV3IEJhcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzLCAnZCc6IDQgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25JbiA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbkluYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgYXNzaWduZWQgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJuc1xuICAgICAqIGB1bmRlZmluZWRgLCBhc3NpZ25tZW50IGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIGZpdmUgYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGV4dGVuZFdpdGhcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgcmV0dXJuIF8uaXNVbmRlZmluZWQob2JqVmFsdWUpID8gc3JjVmFsdWUgOiBvYmpWYWx1ZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZGVmYXVsdHMgPSBfLnBhcnRpYWxSaWdodChfLmFzc2lnbkluV2l0aCwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBkZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduSW5XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGFzc2lnbmVkIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnNcbiAgICAgKiBgdW5kZWZpbmVkYCwgYXNzaWdubWVudCBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBmaXZlIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25JbldpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiBfLmlzVW5kZWZpbmVkKG9ialZhbHVlKSA/IHNyY1ZhbHVlIDogb2JqVmFsdWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGRlZmF1bHRzID0gXy5wYXJ0aWFsUmlnaHQoXy5hc3NpZ25XaXRoLCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byBgcGF0aHNgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHBpY2tlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH0sIDRdIH07XG4gICAgICpcbiAgICAgKiBfLmF0KG9iamVjdCwgWydhWzBdLmIuYycsICdhWzFdJ10pO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqL1xuICAgIHZhciBhdCA9IGZsYXRSZXN0KGJhc2VBdCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gdGhlIGBwcm90b3R5cGVgIG9iamVjdC4gSWYgYVxuICAgICAqIGBwcm9wZXJ0aWVzYCBvYmplY3QgaXMgZ2l2ZW4sIGl0cyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllc1xuICAgICAqIGFyZSBhc3NpZ25lZCB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvdHlwZSBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXNdIFRoZSBwcm9wZXJ0aWVzIHRvIGFzc2lnbiB0byB0aGUgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIFNoYXBlKCkge1xuICAgICAqICAgdGhpcy54ID0gMDtcbiAgICAgKiAgIHRoaXMueSA9IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQ2lyY2xlKCkge1xuICAgICAqICAgU2hhcGUuY2FsbCh0aGlzKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBDaXJjbGUucHJvdG90eXBlID0gXy5jcmVhdGUoU2hhcGUucHJvdG90eXBlLCB7XG4gICAgICogICAnY29uc3RydWN0b3InOiBDaXJjbGVcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHZhciBjaXJjbGUgPSBuZXcgQ2lyY2xlO1xuICAgICAqIGNpcmNsZSBpbnN0YW5jZW9mIENpcmNsZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjaXJjbGUgaW5zdGFuY2VvZiBTaGFwZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHByb3RvdHlwZSwgcHJvcGVydGllcykge1xuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VDcmVhdGUocHJvdG90eXBlKTtcbiAgICAgIHJldHVybiBwcm9wZXJ0aWVzID09IG51bGwgPyByZXN1bHQgOiBiYXNlQXNzaWduKHJlc3VsdCwgcHJvcGVydGllcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZVxuICAgICAqIG9iamVjdHMgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXMgdGhhdFxuICAgICAqIHJlc29sdmUgdG8gYHVuZGVmaW5lZGAuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC5cbiAgICAgKiBPbmNlIGEgcHJvcGVydHkgaXMgc2V0LCBhZGRpdGlvbmFsIHZhbHVlcyBvZiB0aGUgc2FtZSBwcm9wZXJ0eSBhcmUgaWdub3JlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5kZWZhdWx0c0RlZXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgZGVmYXVsdHMgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgIHZhciBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aDtcbiAgICAgIHZhciBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgICAgdmFyIHByb3BzID0ga2V5c0luKHNvdXJjZSk7XG4gICAgICAgIHZhciBwcm9wc0luZGV4ID0gLTE7XG4gICAgICAgIHZhciBwcm9wc0xlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoKytwcm9wc0luZGV4IDwgcHJvcHNMZW5ndGgpIHtcbiAgICAgICAgICB2YXIga2V5ID0gcHJvcHNbcHJvcHNJbmRleF07XG4gICAgICAgICAgdmFyIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAoZXEodmFsdWUsIG9iamVjdFByb3RvW2tleV0pICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgICAgIG9iamVjdFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRlZmF1bHRzYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBhc3NpZ25zXG4gICAgICogZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5kZWZhdWx0c1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRzRGVlcCh7ICdhJzogeyAnYic6IDIgfSB9LCB7ICdhJzogeyAnYic6IDEsICdjJzogMyB9IH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdiJzogMiwgJ2MnOiAzIH0gfVxuICAgICAqL1xuICAgIHZhciBkZWZhdWx0c0RlZXAgPSBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICBhcmdzLnB1c2godW5kZWZpbmVkLCBjdXN0b21EZWZhdWx0c01lcmdlKTtcbiAgICAgIHJldHVybiBhcHBseShtZXJnZVdpdGgsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGtleSBvZiB0aGUgZmlyc3RcbiAgICAgKiBlbGVtZW50IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuICAgICAqICBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZEtleSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gJ2Jhcm5leScgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAncGViYmxlcydcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+ICdiYXJuZXknXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEtleShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIGJhc2VGaW5kS2V5KG9iamVjdCwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgYmFzZUZvck93bik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kS2V5YCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYSBjb2xsZWN0aW9uIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuICAgICAqICBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+IHJldHVybnMgJ3BlYmJsZXMnIGFzc3VtaW5nIGBfLmZpbmRLZXlgIHJldHVybnMgJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+ICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+ICdwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0S2V5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gYmFzZUZpbmRLZXkob2JqZWN0LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBiYXNlRm9yT3duUmlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBhblxuICAgICAqIG9iamVjdCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGtleSwgb2JqZWN0KS4gSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0XG4gICAgICogaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JJblJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvckluKG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScsICdiJywgdGhlbiAnYycgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9ySW4ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsXG4gICAgICAgID8gb2JqZWN0XG4gICAgICAgIDogYmFzZUZvcihvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvckluYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXMgb2ZcbiAgICAgKiBgb2JqZWN0YCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JJblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JJblJpZ2h0KG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYycsICdiJywgdGhlbiAnYScgYXNzdW1pbmcgYF8uZm9ySW5gIGxvZ3MgJ2EnLCAnYicsIHRoZW4gJ2MnLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckluUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsXG4gICAgICAgID8gb2JqZWN0XG4gICAgICAgIDogYmFzZUZvclJpZ2h0KG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0IGFuZFxuICAgICAqIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb25cbiAgICAgKiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9yT3duUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9yT3duKG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScgdGhlbiAnYicgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yT3duKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvck93bihvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JPd25gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllcyBvZlxuICAgICAqIGBvYmplY3RgIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvck93blxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JPd25SaWdodChuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2InIHRoZW4gJ2EnIGFzc3VtaW5nIGBfLmZvck93bmAgbG9ncyAnYScgdGhlbiAnYicuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yT3duUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yT3duUmlnaHQob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZnJvbSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzXG4gICAgICogb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKiBAc2VlIF8uZnVuY3Rpb25zSW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuICAgICAqICAgdGhpcy5iID0gXy5jb25zdGFudCgnYicpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IF8uY29uc3RhbnQoJ2MnKTtcbiAgICAgKlxuICAgICAqIF8uZnVuY3Rpb25zKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmdW5jdGlvbnMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VGdW5jdGlvbnMob2JqZWN0LCBrZXlzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZnJvbSBvd24gYW5kIGluaGVyaXRlZFxuICAgICAqIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqIEBzZWUgXy5mdW5jdGlvbnNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuICAgICAqICAgdGhpcy5iID0gXy5jb25zdGFudCgnYicpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IF8uY29uc3RhbnQoJ2MnKTtcbiAgICAgKlxuICAgICAqIF8uZnVuY3Rpb25zSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnVuY3Rpb25zSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VGdW5jdGlvbnMob2JqZWN0LCBrZXlzSW4ob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCwgdGhlIGBkZWZhdWx0VmFsdWVgIGlzIHJldHVybmVkIGluIGl0cyBwbGFjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSByZXR1cm5lZCBmb3IgYHVuZGVmaW5lZGAgcmVzb2x2ZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCBbJ2EnLCAnMCcsICdiJywgJ2MnXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCAnYS5iLmMnLCAnZGVmYXVsdCcpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcGF0aGAgaXMgYSBkaXJlY3QgcHJvcGVydHkgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogeyAnYic6IDIgfSB9O1xuICAgICAqIHZhciBvdGhlciA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAgICAgKlxuICAgICAqIF8uaGFzKG9iamVjdCwgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsICdhLmInKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzKG90aGVyLCAnYScpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzKG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBiYXNlSGFzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IG9yIGluaGVyaXRlZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYS5iJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzSW4ob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzUGF0aChvYmplY3QsIHBhdGgsIGJhc2VIYXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGludmVydGVkIGtleXMgYW5kIHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKiBJZiBgb2JqZWN0YCBjb250YWlucyBkdXBsaWNhdGUgdmFsdWVzLCBzdWJzZXF1ZW50IHZhbHVlcyBvdmVyd3JpdGVcbiAgICAgKiBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmludmVydChvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzEnOiAnYycsICcyJzogJ2InIH1cbiAgICAgKi9cbiAgICB2YXIgaW52ZXJ0ID0gY3JlYXRlSW52ZXJ0ZXIoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJlxuICAgICAgICAgIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbHVlID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdFt2YWx1ZV0gPSBrZXk7XG4gICAgfSwgY29uc3RhbnQoaWRlbnRpdHkpKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW52ZXJ0YCBleGNlcHQgdGhhdCB0aGUgaW52ZXJ0ZWQgb2JqZWN0IGlzIGdlbmVyYXRlZFxuICAgICAqIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZyBlYWNoIGVsZW1lbnQgb2YgYG9iamVjdGAgdGhydSBgaXRlcmF0ZWVgLiBUaGVcbiAgICAgKiBjb3JyZXNwb25kaW5nIGludmVydGVkIHZhbHVlIG9mIGVhY2ggaW52ZXJ0ZWQga2V5IGlzIGFuIGFycmF5IG9mIGtleXNcbiAgICAgKiByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUgaW52ZXJ0ZWQgdmFsdWUuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pbnZlcnRCeShvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH1cbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0Qnkob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuICdncm91cCcgKyB2YWx1ZTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdncm91cDEnOiBbJ2EnLCAnYyddLCAnZ3JvdXAyJzogWydiJ10gfVxuICAgICAqL1xuICAgIHZhciBpbnZlcnRCeSA9IGNyZWF0ZUludmVydGVyKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiZcbiAgICAgICAgICB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YWx1ZSA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIHZhbHVlKSkge1xuICAgICAgICByZXN1bHRbdmFsdWVdLnB1c2goa2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFt2YWx1ZV0gPSBba2V5XTtcbiAgICAgIH1cbiAgICB9LCBnZXRJdGVyYXRlZSk7XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogWzEsIDIsIDMsIDRdIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uaW52b2tlKG9iamVjdCwgJ2FbMF0uYi5jLnNsaWNlJywgMSwgMyk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICovXG4gICAgdmFyIGludm9rZSA9IGJhc2VSZXN0KGJhc2VJbnZva2UpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZVxuICAgICAqIFtFUyBzcGVjXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5rZXlzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIF8ua2V5cygnaGknKTtcbiAgICAgKiAvLyA9PiBbJzAnLCAnMSddXG4gICAgICovXG4gICAgZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QpIDogYmFzZUtleXMob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmtleXNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBrZXlzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0LCB0cnVlKSA6IGJhc2VLZXlzSW4ob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ubWFwVmFsdWVzYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3Qgd2l0aCB0aGVcbiAgICAgKiBzYW1lIHZhbHVlcyBhcyBgb2JqZWN0YCBhbmQga2V5cyBnZW5lcmF0ZWQgYnkgcnVubmluZyBlYWNoIG93biBlbnVtZXJhYmxlXG4gICAgICogc3RyaW5nIGtleWVkIHByb3BlcnR5IG9mIGBvYmplY3RgIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIG9iamVjdC5cbiAgICAgKiBAc2VlIF8ubWFwVmFsdWVzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwS2V5cyh7ICdhJzogMSwgJ2InOiAyIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIHJldHVybiBrZXkgKyB2YWx1ZTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdhMSc6IDEsICdiMic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcEtleXMob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyk7XG5cbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwgaXRlcmF0ZWUodmFsdWUsIGtleSwgb2JqZWN0KSwgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUga2V5cyBhcyBgb2JqZWN0YCBhbmQgdmFsdWVzIGdlbmVyYXRlZFxuICAgICAqIGJ5IHJ1bm5pbmcgZWFjaCBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAgdGhydVxuICAgICAqIGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICAgICAqICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBvYmplY3QuXG4gICAgICogQHNlZSBfLm1hcEtleXNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2ZyZWQnOiAgICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1hcFZhbHVlcyh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2U7IH0pO1xuICAgICAqIC8vID0+IHsgJ2ZyZWQnOiA0MCwgJ3BlYmJsZXMnOiAxIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWFwVmFsdWVzKHVzZXJzLCAnYWdlJyk7XG4gICAgICogLy8gPT4geyAnZnJlZCc6IDQwLCAncGViYmxlcyc6IDEgfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcFZhbHVlcyhvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKTtcblxuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBtZXJnZXMgb3duIGFuZFxuICAgICAqIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIGludG8gdGhlXG4gICAgICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2UgcHJvcGVydGllcyB0aGF0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAgYXJlXG4gICAgICogc2tpcHBlZCBpZiBhIGRlc3RpbmF0aW9uIHZhbHVlIGV4aXN0cy4gQXJyYXkgYW5kIHBsYWluIG9iamVjdCBwcm9wZXJ0aWVzXG4gICAgICogYXJlIG1lcmdlZCByZWN1cnNpdmVseS4gT3RoZXIgb2JqZWN0cyBhbmQgdmFsdWUgdHlwZXMgYXJlIG92ZXJyaWRkZW4gYnlcbiAgICAgKiBhc3NpZ25tZW50LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuIFN1YnNlcXVlbnRcbiAgICAgKiBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7XG4gICAgICogICAnYSc6IFt7ICdiJzogMiB9LCB7ICdkJzogNCB9XVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgb3RoZXIgPSB7XG4gICAgICogICAnYSc6IFt7ICdjJzogMyB9LCB7ICdlJzogNSB9XVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1lcmdlKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IDIsICdjJzogMyB9LCB7ICdkJzogNCwgJ2UnOiA1IH1dIH1cbiAgICAgKi9cbiAgICB2YXIgbWVyZ2UgPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpIHtcbiAgICAgIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZXJnZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG1lcmdlZCB2YWx1ZXMgb2YgdGhlIGRlc3RpbmF0aW9uIGFuZCBzb3VyY2VcbiAgICAgKiBwcm9wZXJ0aWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgbWVyZ2luZyBpcyBoYW5kbGVkIGJ5IHRoZVxuICAgICAqIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBzaXggYXJndW1lbnRzOlxuICAgICAqIChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNBcnJheShvYmpWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIG9ialZhbHVlLmNvbmNhdChzcmNWYWx1ZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbMV0sICdiJzogWzJdIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IFszXSwgJ2InOiBbNF0gfTtcbiAgICAgKlxuICAgICAqIF8ubWVyZ2VXaXRoKG9iamVjdCwgb3RoZXIsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbMSwgM10sICdiJzogWzIsIDRdIH1cbiAgICAgKi9cbiAgICB2YXIgbWVyZ2VXaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5waWNrYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlXG4gICAgICogb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBwYXRocyBvZiBgb2JqZWN0YCB0aGF0IGFyZSBub3Qgb21pdHRlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBjb25zaWRlcmFibHkgc2xvd2VyIHRoYW4gYF8ucGlja2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBvbWl0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5vbWl0KG9iamVjdCwgWydhJywgJ2MnXSk7XG4gICAgICogLy8gPT4geyAnYic6ICcyJyB9XG4gICAgICovXG4gICAgdmFyIG9taXQgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHZhciBpc0RlZXAgPSBmYWxzZTtcbiAgICAgIHBhdGhzID0gYXJyYXlNYXAocGF0aHMsIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICAgIGlzRGVlcCB8fCAoaXNEZWVwID0gcGF0aC5sZW5ndGggPiAxKTtcbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICB9KTtcbiAgICAgIGNvcHlPYmplY3Qob2JqZWN0LCBnZXRBbGxLZXlzSW4ob2JqZWN0KSwgcmVzdWx0KTtcbiAgICAgIGlmIChpc0RlZXApIHtcbiAgICAgICAgcmVzdWx0ID0gYmFzZUNsb25lKHJlc3VsdCwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfRkxBVF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21PbWl0Q2xvbmUpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aDtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBiYXNlVW5zZXQocmVzdWx0LCBwYXRoc1tsZW5ndGhdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucGlja0J5YDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2ZcbiAgICAgKiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBgb2JqZWN0YCB0aGF0XG4gICAgICogYHByZWRpY2F0ZWAgZG9lc24ndCByZXR1cm4gdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdHdvXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGtleSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ub21pdEJ5KG9iamVjdCwgXy5pc051bWJlcik7XG4gICAgICogLy8gPT4geyAnYic6ICcyJyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gb21pdEJ5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gcGlja0J5KG9iamVjdCwgbmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgcGlja2VkIGBvYmplY3RgIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5waWNrKG9iamVjdCwgWydhJywgJ2MnXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgdmFyIHBpY2sgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB7fSA6IGJhc2VQaWNrKG9iamVjdCwgcGF0aHMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGBvYmplY3RgIHByb3BlcnRpZXMgYHByZWRpY2F0ZWAgcmV0dXJuc1xuICAgICAqIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6ICh2YWx1ZSwga2V5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5waWNrQnkob2JqZWN0LCBfLmlzTnVtYmVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwaWNrQnkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICB2YXIgcHJvcHMgPSBhcnJheU1hcChnZXRBbGxLZXlzSW4ob2JqZWN0KSwgZnVuY3Rpb24ocHJvcCkge1xuICAgICAgICByZXR1cm4gW3Byb3BdO1xuICAgICAgfSk7XG4gICAgICBwcmVkaWNhdGUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUpO1xuICAgICAgcmV0dXJuIGJhc2VQaWNrQnkob2JqZWN0LCBwcm9wcywgZnVuY3Rpb24odmFsdWUsIHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHByZWRpY2F0ZSh2YWx1ZSwgcGF0aFswXSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmdldGAgZXhjZXB0IHRoYXQgaWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzIGFcbiAgICAgKiBmdW5jdGlvbiBpdCdzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgaXRzIHBhcmVudCBvYmplY3QgYW5kXG4gICAgICogaXRzIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHJlc29sdmUuXG4gICAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjMSc6IDMsICdjMic6IF8uY29uc3RhbnQoNCkgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMxJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMyJyk7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMzJywgJ2RlZmF1bHQnKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMycsIF8uY29uc3RhbnQoJ2RlZmF1bHQnKSk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzdWx0KG9iamVjdCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgICAgIC8vIEVuc3VyZSB0aGUgbG9vcCBpcyBlbnRlcmVkIHdoZW4gcGF0aCBpcyBlbXB0eS5cbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICAgIG9iamVjdCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXhdKV07XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG4gICAgICAgICAgdmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZS5jYWxsKG9iamVjdCkgOiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiBhIHBvcnRpb24gb2YgYHBhdGhgIGRvZXNuJ3QgZXhpc3QsXG4gICAgICogaXQncyBjcmVhdGVkLiBBcnJheXMgYXJlIGNyZWF0ZWQgZm9yIG1pc3NpbmcgaW5kZXggcHJvcGVydGllcyB3aGlsZSBvYmplY3RzXG4gICAgICogYXJlIGNyZWF0ZWQgZm9yIGFsbCBvdGhlciBtaXNzaW5nIHByb3BlcnRpZXMuIFVzZSBgXy5zZXRXaXRoYCB0byBjdXN0b21pemVcbiAgICAgKiBgcGF0aGAgY3JlYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnNldChvYmplY3QsICdhWzBdLmIuYycsIDQpO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC5hWzBdLmIuYyk7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5zZXQob2JqZWN0LCBbJ3gnLCAnMCcsICd5JywgJ3onXSwgNSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LnhbMF0ueS56KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VTZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zZXRgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBwcm9kdWNlIHRoZSBvYmplY3RzIG9mIGBwYXRoYC4gIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgXG4gICAgICogcGF0aCBjcmVhdGlvbiBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6IChuc1ZhbHVlLCBrZXksIG5zT2JqZWN0KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7fTtcbiAgICAgKlxuICAgICAqIF8uc2V0V2l0aChvYmplY3QsICdbMF1bMV0nLCAnYScsIE9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMCc6IHsgJzEnOiAnYScgfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0V2l0aChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkLXZhbHVlIHBhaXJzIGZvciBgb2JqZWN0YFxuICAgICAqIHdoaWNoIGNhbiBiZSBjb25zdW1lZCBieSBgXy5mcm9tUGFpcnNgLiBJZiBgb2JqZWN0YCBpcyBhIG1hcCBvciBzZXQsIGl0c1xuICAgICAqIGVudHJpZXMgYXJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGVudHJpZXNcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy50b1BhaXJzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxXSwgWydiJywgMl1dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgdmFyIHRvUGFpcnMgPSBjcmVhdGVUb1BhaXJzKGtleXMpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZC12YWx1ZSBwYWlyc1xuICAgICAqIGZvciBgb2JqZWN0YCB3aGljaCBjYW4gYmUgY29uc3VtZWQgYnkgYF8uZnJvbVBhaXJzYC4gSWYgYG9iamVjdGAgaXMgYSBtYXBcbiAgICAgKiBvciBzZXQsIGl0cyBlbnRyaWVzIGFyZSByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBlbnRyaWVzSW5cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy50b1BhaXJzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gW1snYScsIDFdLCBbJ2InLCAyXSwgWydjJywgM11dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgdmFyIHRvUGFpcnNJbiA9IGNyZWF0ZVRvUGFpcnMoa2V5c0luKTtcblxuICAgIC8qKlxuICAgICAqIEFuIGFsdGVybmF0aXZlIHRvIGBfLnJlZHVjZWA7IHRoaXMgbWV0aG9kIHRyYW5zZm9ybXMgYG9iamVjdGAgdG8gYSBuZXdcbiAgICAgKiBgYWNjdW11bGF0b3JgIG9iamVjdCB3aGljaCBpcyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgZWFjaCBvZiBpdHMgb3duXG4gICAgICogZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyB0aHJ1IGBpdGVyYXRlZWAsIHdpdGggZWFjaCBpbnZvY2F0aW9uXG4gICAgICogcG90ZW50aWFsbHkgbXV0YXRpbmcgdGhlIGBhY2N1bXVsYXRvcmAgb2JqZWN0LiBJZiBgYWNjdW11bGF0b3JgIGlzIG5vdFxuICAgICAqIHByb3ZpZGVkLCBhIG5ldyBvYmplY3Qgd2l0aCB0aGUgc2FtZSBgW1tQcm90b3R5cGVdXWAgd2lsbCBiZSB1c2VkLiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6IChhY2N1bXVsYXRvciwgdmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGN1c3RvbSBhY2N1bXVsYXRvciB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJhbnNmb3JtKFsyLCAzLCA0XSwgZnVuY3Rpb24ocmVzdWx0LCBuKSB7XG4gICAgICogICByZXN1bHQucHVzaChuICo9IG4pO1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfSwgW10pO1xuICAgICAqIC8vID0+IFs0LCA5XVxuICAgICAqXG4gICAgICogXy50cmFuc2Zvcm0oeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAqICAgKHJlc3VsdFt2YWx1ZV0gfHwgKHJlc3VsdFt2YWx1ZV0gPSBbXSkpLnB1c2goa2V5KTtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybShvYmplY3QsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgICAgIGlzQXJyTGlrZSA9IGlzQXJyIHx8IGlzQnVmZmVyKG9iamVjdCkgfHwgaXNUeXBlZEFycmF5KG9iamVjdCk7XG5cbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpO1xuICAgICAgaWYgKGFjY3VtdWxhdG9yID09IG51bGwpIHtcbiAgICAgICAgdmFyIEN0b3IgPSBvYmplY3QgJiYgb2JqZWN0LmNvbnN0cnVjdG9yO1xuICAgICAgICBpZiAoaXNBcnJMaWtlKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBpc0FyciA/IG5ldyBDdG9yIDogW107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gaXNGdW5jdGlvbihDdG9yKSA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpIDoge307XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSB7fTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgKGlzQXJyTGlrZSA/IGFycmF5RWFjaCA6IGJhc2VGb3JPd24pKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBwcm9wZXJ0eSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byB1bnNldC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHByb3BlcnR5IGlzIGRlbGV0ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiA3IH0gfV0gfTtcbiAgICAgKiBfLnVuc2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiB7fSB9XSB9O1xuICAgICAqXG4gICAgICogXy51bnNldChvYmplY3QsIFsnYScsICcwJywgJ2InLCAnYyddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IHt9IH1dIH07XG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5zZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB0cnVlIDogYmFzZVVuc2V0KG9iamVjdCwgcGF0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zZXRgIGV4Y2VwdCB0aGF0IGFjY2VwdHMgYHVwZGF0ZXJgIHRvIHByb2R1Y2UgdGhlXG4gICAgICogdmFsdWUgdG8gc2V0LiBVc2UgYF8udXBkYXRlV2l0aGAgdG8gY3VzdG9taXplIGBwYXRoYCBjcmVhdGlvbi4gVGhlIGB1cGRhdGVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy51cGRhdGUob2JqZWN0LCAnYVswXS5iLmMnLCBmdW5jdGlvbihuKSB7IHJldHVybiBuICogbjsgfSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LmFbMF0uYi5jKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICpcbiAgICAgKiBfLnVwZGF0ZShvYmplY3QsICd4WzBdLnkueicsIGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPyBuICsgMSA6IDA7IH0pO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC54WzBdLnkueik7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZShvYmplY3QsIHBhdGgsIHVwZGF0ZXIpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCBjYXN0RnVuY3Rpb24odXBkYXRlcikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udXBkYXRlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgb2JqZWN0cyBvZiBgcGF0aGAuICBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYFxuICAgICAqIHBhdGggY3JlYXRpb24gaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAobnNWYWx1ZSwga2V5LCBuc09iamVjdCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHt9O1xuICAgICAqXG4gICAgICogXy51cGRhdGVXaXRoKG9iamVjdCwgJ1swXVsxXScsIF8uY29uc3RhbnQoJ2EnKSwgT2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcwJzogeyAnMSc6ICdhJyB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVXaXRoKG9iamVjdCwgcGF0aCwgdXBkYXRlciwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIGNhc3RGdW5jdGlvbih1cGRhdGVyKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5IHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udmFsdWVzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsxLCAyXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogXy52YWx1ZXMoJ2hpJyk7XG4gICAgICogLy8gPT4gWydoJywgJ2knXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlcyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZVZhbHVlcyhvYmplY3QsIGtleXMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHlcbiAgICAgKiB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnZhbHVlc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlc0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlVmFsdWVzKG9iamVjdCwga2V5c0luKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENsYW1wcyBgbnVtYmVyYCB3aXRoaW4gdGhlIGluY2x1c2l2ZSBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcl0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2xhbXAoLTEwLCAtNSwgNSk7XG4gICAgICogLy8gPT4gLTVcbiAgICAgKlxuICAgICAqIF8uY2xhbXAoMTAsIC01LCA1KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xhbXAobnVtYmVyLCBsb3dlciwgdXBwZXIpIHtcbiAgICAgIGlmICh1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwcGVyID0gbG93ZXI7XG4gICAgICAgIGxvd2VyID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKHVwcGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXBwZXIgPSB0b051bWJlcih1cHBlcik7XG4gICAgICAgIHVwcGVyID0gdXBwZXIgPT09IHVwcGVyID8gdXBwZXIgOiAwO1xuICAgICAgfVxuICAgICAgaWYgKGxvd2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG93ZXIgPSB0b051bWJlcihsb3dlcik7XG4gICAgICAgIGxvd2VyID0gbG93ZXIgPT09IGxvd2VyID8gbG93ZXIgOiAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VDbGFtcCh0b051bWJlcihudW1iZXIpLCBsb3dlciwgdXBwZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgbmAgaXMgYmV0d2VlbiBgc3RhcnRgIGFuZCB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcsIGBlbmRgLiBJZlxuICAgICAqIGBlbmRgIGlzIG5vdCBzcGVjaWZpZWQsIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKiBJZiBgc3RhcnRgIGlzIGdyZWF0ZXIgdGhhbiBgZW5kYCB0aGUgcGFyYW1zIGFyZSBzd2FwcGVkIHRvIHN1cHBvcnRcbiAgICAgKiBuZWdhdGl2ZSByYW5nZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgbnVtYmVyYCBpcyBpbiB0aGUgcmFuZ2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ucmFuZ2UsIF8ucmFuZ2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMywgMiwgNCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDQsIDgpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg0LCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDIsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMS4yLCAyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNS4yLCA0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKC0zLCAtMiwgLTYpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0Zpbml0ZShzdGFydCk7XG4gICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVuZCA9IHRvRmluaXRlKGVuZCk7XG4gICAgICB9XG4gICAgICBudW1iZXIgPSB0b051bWJlcihudW1iZXIpO1xuICAgICAgcmV0dXJuIGJhc2VJblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvZHVjZXMgYSByYW5kb20gbnVtYmVyIGJldHdlZW4gdGhlIGluY2x1c2l2ZSBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcy5cbiAgICAgKiBJZiBvbmx5IG9uZSBhcmd1bWVudCBpcyBwcm92aWRlZCBhIG51bWJlciBiZXR3ZWVuIGAwYCBhbmQgdGhlIGdpdmVuIG51bWJlclxuICAgICAqIGlzIHJldHVybmVkLiBJZiBgZmxvYXRpbmdgIGlzIGB0cnVlYCwgb3IgZWl0aGVyIGBsb3dlcmAgb3IgYHVwcGVyYCBhcmVcbiAgICAgKiBmbG9hdHMsIGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGlzIHJldHVybmVkIGluc3RlYWQgb2YgYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNy4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXI9MF0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdXBwZXI9MV0gVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zsb2F0aW5nXSBTcGVjaWZ5IHJldHVybmluZyBhIGZsb2F0aW5nLXBvaW50IG51bWJlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByYW5kb20gbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgwLCA1KTtcbiAgICAgKiAvLyA9PiBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSk7XG4gICAgICogLy8gPT4gYWxzbyBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSwgdHJ1ZSk7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgxLjIsIDUuMik7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAxLjIgYW5kIDUuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJhbmRvbShsb3dlciwgdXBwZXIsIGZsb2F0aW5nKSB7XG4gICAgICBpZiAoZmxvYXRpbmcgJiYgdHlwZW9mIGZsb2F0aW5nICE9ICdib29sZWFuJyAmJiBpc0l0ZXJhdGVlQ2FsbChsb3dlciwgdXBwZXIsIGZsb2F0aW5nKSkge1xuICAgICAgICB1cHBlciA9IGZsb2F0aW5nID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKGZsb2F0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1cHBlciA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IHVwcGVyO1xuICAgICAgICAgIHVwcGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBsb3dlciA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IGxvd2VyO1xuICAgICAgICAgIGxvd2VyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgPT09IHVuZGVmaW5lZCAmJiB1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvd2VyID0gMDtcbiAgICAgICAgdXBwZXIgPSAxO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGxvd2VyID0gdG9GaW5pdGUobG93ZXIpO1xuICAgICAgICBpZiAodXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHVwcGVyID0gbG93ZXI7XG4gICAgICAgICAgbG93ZXIgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVwcGVyID0gdG9GaW5pdGUodXBwZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgPiB1cHBlcikge1xuICAgICAgICB2YXIgdGVtcCA9IGxvd2VyO1xuICAgICAgICBsb3dlciA9IHVwcGVyO1xuICAgICAgICB1cHBlciA9IHRlbXA7XG4gICAgICB9XG4gICAgICBpZiAoZmxvYXRpbmcgfHwgbG93ZXIgJSAxIHx8IHVwcGVyICUgMSkge1xuICAgICAgICB2YXIgcmFuZCA9IG5hdGl2ZVJhbmRvbSgpO1xuICAgICAgICByZXR1cm4gbmF0aXZlTWluKGxvd2VyICsgKHJhbmQgKiAodXBwZXIgLSBsb3dlciArIGZyZWVQYXJzZUZsb2F0KCcxZS0nICsgKChyYW5kICsgJycpLmxlbmd0aCAtIDEpKSkpLCB1cHBlcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVJhbmRvbShsb3dlciwgdXBwZXIpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIFtjYW1lbCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYW1lbENhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY2FtZWwgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKi9cbiAgICB2YXIgY2FtZWxDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICB3b3JkID0gd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/IGNhcGl0YWxpemUod29yZCkgOiB3b3JkKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gdXBwZXIgY2FzZSBhbmQgdGhlIHJlbWFpbmluZ1xuICAgICAqIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY2FwaXRhbGl6ZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjYXBpdGFsaXplZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FwaXRhbGl6ZSgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyaW5nKSB7XG4gICAgICByZXR1cm4gdXBwZXJGaXJzdCh0b1N0cmluZyhzdHJpbmcpLnRvTG93ZXJDYXNlKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlYnVycnMgYHN0cmluZ2AgYnkgY29udmVydGluZ1xuICAgICAqIFtMYXRpbi0xIFN1cHBsZW1lbnRdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluLTFfU3VwcGxlbWVudF8oVW5pY29kZV9ibG9jaykjQ2hhcmFjdGVyX3RhYmxlKVxuICAgICAqIGFuZCBbTGF0aW4gRXh0ZW5kZWQtQV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGF0aW5fRXh0ZW5kZWQtQSlcbiAgICAgKiBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMgYW5kIHJlbW92aW5nXG4gICAgICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBkZWJ1cnIuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGVidXJyZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlYnVycignZMOpasOgIHZ1Jyk7XG4gICAgICogLy8gPT4gJ2RlamEgdnUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVidXJyKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiBzdHJpbmcgJiYgc3RyaW5nLnJlcGxhY2UocmVMYXRpbiwgZGVidXJyTGV0dGVyKS5yZXBsYWNlKHJlQ29tYm9NYXJrLCAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGVuZHMgd2l0aCB0aGUgZ2l2ZW4gdGFyZ2V0IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFyZ2V0XSBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwb3NpdGlvbj1zdHJpbmcubGVuZ3RoXSBUaGUgcG9zaXRpb24gdG8gc2VhcmNoIHVwIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgc3RyaW5nYCBlbmRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2MnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicsIDIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlbmRzV2l0aChzdHJpbmcsIHRhcmdldCwgcG9zaXRpb24pIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICB0YXJnZXQgPSBiYXNlVG9TdHJpbmcodGFyZ2V0KTtcblxuICAgICAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBsZW5ndGhcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgbGVuZ3RoKTtcblxuICAgICAgdmFyIGVuZCA9IHBvc2l0aW9uO1xuICAgICAgcG9zaXRpb24gLT0gdGFyZ2V0Lmxlbmd0aDtcbiAgICAgIHJldHVybiBwb3NpdGlvbiA+PSAwICYmIHN0cmluZy5zbGljZShwb3NpdGlvbiwgZW5kKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGNoYXJhY3RlcnMgXCImXCIsIFwiPFwiLCBcIj5cIiwgJ1wiJywgYW5kIFwiJ1wiIGluIGBzdHJpbmdgIHRvIHRoZWlyXG4gICAgICogY29ycmVzcG9uZGluZyBIVE1MIGVudGl0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vIG90aGVyIGNoYXJhY3RlcnMgYXJlIGVzY2FwZWQuIFRvIGVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogY2hhcmFjdGVycyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBUaG91Z2ggdGhlIFwiPlwiIGNoYXJhY3RlciBpcyBlc2NhcGVkIGZvciBzeW1tZXRyeSwgY2hhcmFjdGVycyBsaWtlXG4gICAgICogXCI+XCIgYW5kIFwiL1wiIGRvbid0IG5lZWQgZXNjYXBpbmcgaW4gSFRNTCBhbmQgaGF2ZSBubyBzcGVjaWFsIG1lYW5pbmdcbiAgICAgKiB1bmxlc3MgdGhleSdyZSBwYXJ0IG9mIGEgdGFnIG9yIHVucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZS4gU2VlXG4gICAgICogW01hdGhpYXMgQnluZW5zJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2FtYmlndW91cy1hbXBlcnNhbmRzKVxuICAgICAqICh1bmRlciBcInNlbWktcmVsYXRlZCBmdW4gZmFjdFwiKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogV2hlbiB3b3JraW5nIHdpdGggSFRNTCB5b3Ugc2hvdWxkIGFsd2F5c1xuICAgICAqIFtxdW90ZSBhdHRyaWJ1dGUgdmFsdWVzXShodHRwOi8vd29ua28uY29tL3Bvc3QvaHRtbC1lc2NhcGluZykgdG8gcmVkdWNlXG4gICAgICogWFNTIHZlY3RvcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVzY2FwZShzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gKHN0cmluZyAmJiByZUhhc1VuZXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlVW5lc2NhcGVkSHRtbCwgZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVzY2FwZXMgdGhlIGBSZWdFeHBgIHNwZWNpYWwgY2hhcmFjdGVycyBcIl5cIiwgXCIkXCIsIFwiXFxcIiwgXCIuXCIsIFwiKlwiLCBcIitcIixcbiAgICAgKiBcIj9cIiwgXCIoXCIsIFwiKVwiLCBcIltcIiwgXCJdXCIsIFwie1wiLCBcIn1cIiwgYW5kIFwifFwiIGluIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lc2NhcGVSZWdFeHAoJ1tsb2Rhc2hdKGh0dHBzOi8vbG9kYXNoLmNvbS8pJyk7XG4gICAgICogLy8gPT4gJ1xcW2xvZGFzaFxcXVxcKGh0dHBzOi8vbG9kYXNoXFwuY29tL1xcKSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNSZWdFeHBDaGFyLnRlc3Qoc3RyaW5nKSlcbiAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtrZWJhYiBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTcGVjaWFsX2Nhc2Vfc3R5bGVzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGtlYmFiIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5rZWJhYkNhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28tYmFyJ1xuICAgICAqL1xuICAgIHZhciBrZWJhYkNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnLScgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgc3BhY2Ugc2VwYXJhdGVkIHdvcmRzLCB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbG93ZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnLS1Gb28tQmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28gYmFyJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyRmlyc3QoJ0ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIF8ubG93ZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdmUkVEJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b0xvd2VyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgbGVmdCBhbmQgcmlnaHQgc2lkZXMgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuXG4gICAgICogUGFkZGluZyBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBjYW4ndCBiZSBldmVubHkgZGl2aWRlZCBieSBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgOCk7XG4gICAgICogLy8gPT4gJyAgYWJjICAgJ1xuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDgsICdfLScpO1xuICAgICAqIC8vID0+ICdfLWFiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICBpZiAoIWxlbmd0aCB8fCBzdHJMZW5ndGggPj0gbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgbWlkID0gKGxlbmd0aCAtIHN0ckxlbmd0aCkgLyAyO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY3JlYXRlUGFkZGluZyhuYXRpdmVGbG9vcihtaWQpLCBjaGFycykgK1xuICAgICAgICBzdHJpbmcgK1xuICAgICAgICBjcmVhdGVQYWRkaW5nKG5hdGl2ZUNlaWwobWlkKSwgY2hhcnMpXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIHJpZ2h0IHNpZGUgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuIFBhZGRpbmdcbiAgICAgKiBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBleGNlZWQgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDYpO1xuICAgICAqIC8vID0+ICdhYmMgICAnXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZEVuZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICByZXR1cm4gKGxlbmd0aCAmJiBzdHJMZW5ndGggPCBsZW5ndGgpXG4gICAgICAgID8gKHN0cmluZyArIGNyZWF0ZVBhZGRpbmcobGVuZ3RoIC0gc3RyTGVuZ3RoLCBjaGFycykpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIGxlZnQgc2lkZSBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC4gUGFkZGluZ1xuICAgICAqIGNoYXJhY3RlcnMgYXJlIHRydW5jYXRlZCBpZiB0aGV5IGV4Y2VlZCBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCA2KTtcbiAgICAgKiAvLyA9PiAnICAgYWJjJ1xuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ18tX2FiYydcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDMpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFkU3RhcnQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgcmV0dXJuIChsZW5ndGggJiYgc3RyTGVuZ3RoIDwgbGVuZ3RoKVxuICAgICAgICA/IChjcmVhdGVQYWRkaW5nKGxlbmd0aCAtIHN0ckxlbmd0aCwgY2hhcnMpICsgc3RyaW5nKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBpbnRlZ2VyIG9mIHRoZSBzcGVjaWZpZWQgcmFkaXguIElmIGByYWRpeGAgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCBvciBgMGAsIGEgYHJhZGl4YCBvZiBgMTBgIGlzIHVzZWQgdW5sZXNzIGB2YWx1ZWAgaXMgYVxuICAgICAqIGhleGFkZWNpbWFsLCBpbiB3aGljaCBjYXNlIGEgYHJhZGl4YCBvZiBgMTZgIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgYWxpZ25zIHdpdGggdGhlXG4gICAgICogW0VTNSBpbXBsZW1lbnRhdGlvbl0oaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4MTUuMS4yLjIpIG9mIGBwYXJzZUludGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpeD0xMF0gVGhlIHJhZGl4IHRvIGludGVycHJldCBgdmFsdWVgIGJ5LlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFyc2VJbnQoJzA4Jyk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzA4JywgJzEwJ10sIF8ucGFyc2VJbnQpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJzZUludChzdHJpbmcsIHJhZGl4LCBndWFyZCkge1xuICAgICAgaWYgKGd1YXJkIHx8IHJhZGl4ID09IG51bGwpIHtcbiAgICAgICAgcmFkaXggPSAwO1xuICAgICAgfSBlbHNlIGlmIChyYWRpeCkge1xuICAgICAgICByYWRpeCA9ICtyYWRpeDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVQYXJzZUludCh0b1N0cmluZyhzdHJpbmcpLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKSwgcmFkaXggfHwgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwZWF0cyB0aGUgZ2l2ZW4gc3RyaW5nIGBuYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byByZXBlYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByZXBlYXRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCcqJywgMyk7XG4gICAgICogLy8gPT4gJyoqKidcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCdhYmMnLCAyKTtcbiAgICAgKiAvLyA9PiAnYWJjYWJjJ1xuICAgICAqXG4gICAgICogXy5yZXBlYXQoJ2FiYycsIDApO1xuICAgICAqIC8vID0+ICcnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVwZWF0KHN0cmluZywgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIG4sIGd1YXJkKSA6IG4gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgbiA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VSZXBlYXQodG9TdHJpbmcoc3RyaW5nKSwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZXMgbWF0Y2hlcyBmb3IgYHBhdHRlcm5gIGluIGBzdHJpbmdgIHdpdGggYHJlcGxhY2VtZW50YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3JlcGxhY2VgXShodHRwczovL21kbi5pby9TdHJpbmcvcmVwbGFjZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gcGF0dGVybiBUaGUgcGF0dGVybiB0byByZXBsYWNlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSByZXBsYWNlbWVudCBUaGUgbWF0Y2ggcmVwbGFjZW1lbnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbW9kaWZpZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlcGxhY2UoJ0hpIEZyZWQnLCAnRnJlZCcsICdCYXJuZXknKTtcbiAgICAgKiAvLyA9PiAnSGkgQmFybmV5J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGxhY2UoKSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICBzdHJpbmcgPSB0b1N0cmluZyhhcmdzWzBdKTtcblxuICAgICAgcmV0dXJuIGFyZ3MubGVuZ3RoIDwgMyA/IHN0cmluZyA6IHN0cmluZy5yZXBsYWNlKGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gICAgICogW3NuYWtlIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NuYWtlX2Nhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc25ha2UgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNuYWtlQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJy0tRk9PLUJBUi0tJyk7XG4gICAgICogLy8gPT4gJ2Zvb19iYXInXG4gICAgICovXG4gICAgdmFyIHNuYWtlQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICdfJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFNwbGl0cyBgc3RyaW5nYCBieSBgc2VwYXJhdG9yYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3NwbGl0YF0oaHR0cHM6Ly9tZG4uaW8vU3RyaW5nL3NwbGl0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBzcGxpdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IHNlcGFyYXRvciBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gc3BsaXQgYnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsaW1pdF0gVGhlIGxlbmd0aCB0byB0cnVuY2F0ZSByZXN1bHRzIHRvLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc3RyaW5nIHNlZ21lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNwbGl0KCdhLWItYycsICctJywgMik7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNwbGl0KHN0cmluZywgc2VwYXJhdG9yLCBsaW1pdCkge1xuICAgICAgaWYgKGxpbWl0ICYmIHR5cGVvZiBsaW1pdCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIHNlcGFyYXRvciwgbGltaXQpKSB7XG4gICAgICAgIHNlcGFyYXRvciA9IGxpbWl0ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgbGltaXQgPSBsaW1pdCA9PT0gdW5kZWZpbmVkID8gTUFYX0FSUkFZX0xFTkdUSCA6IGxpbWl0ID4+PiAwO1xuICAgICAgaWYgKCFsaW1pdCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoXG4gICAgICAgICAgICB0eXBlb2Ygc2VwYXJhdG9yID09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAoc2VwYXJhdG9yICE9IG51bGwgJiYgIWlzUmVnRXhwKHNlcGFyYXRvcikpXG4gICAgICAgICAgKSkge1xuICAgICAgICBzZXBhcmF0b3IgPSBiYXNlVG9TdHJpbmcoc2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKCFzZXBhcmF0b3IgJiYgaGFzVW5pY29kZShzdHJpbmcpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJpbmdUb0FycmF5KHN0cmluZyksIDAsIGxpbWl0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cmluZy5zcGxpdChzZXBhcmF0b3IsIGxpbWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtzdGFydCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTdHlsaXN0aWNfb3Jfc3BlY2lhbGlzZWRfdXNhZ2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMS4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RhcnQgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciBzdGFydENhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB1cHBlckZpcnN0KHdvcmQpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIHN0YXJ0cyB3aXRoIHRoZSBnaXZlbiB0YXJnZXQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt0YXJnZXRdIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bvc2l0aW9uPTBdIFRoZSBwb3NpdGlvbiB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHN0cmluZ2Agc3RhcnRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYicsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFydHNXaXRoKHN0cmluZywgdGFyZ2V0LCBwb3NpdGlvbikge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gPT0gbnVsbFxuICAgICAgICA/IDBcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgc3RyaW5nLmxlbmd0aCk7XG5cbiAgICAgIHRhcmdldCA9IGJhc2VUb1N0cmluZyh0YXJnZXQpO1xuICAgICAgcmV0dXJuIHN0cmluZy5zbGljZShwb3NpdGlvbiwgcG9zaXRpb24gKyB0YXJnZXQubGVuZ3RoKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uIHRoYXQgY2FuIGludGVycG9sYXRlIGRhdGEgcHJvcGVydGllc1xuICAgICAqIGluIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXJzLCBIVE1MLWVzY2FwZSBpbnRlcnBvbGF0ZWQgZGF0YSBwcm9wZXJ0aWVzIGluXG4gICAgICogXCJlc2NhcGVcIiBkZWxpbWl0ZXJzLCBhbmQgZXhlY3V0ZSBKYXZhU2NyaXB0IGluIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXJzLiBEYXRhXG4gICAgICogcHJvcGVydGllcyBtYXkgYmUgYWNjZXNzZWQgYXMgZnJlZSB2YXJpYWJsZXMgaW4gdGhlIHRlbXBsYXRlLiBJZiBhIHNldHRpbmdcbiAgICAgKiBvYmplY3QgaXMgZ2l2ZW4sIGl0IHRha2VzIHByZWNlZGVuY2Ugb3ZlciBgXy50ZW1wbGF0ZVNldHRpbmdzYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSW4gdGhlIGRldmVsb3BtZW50IGJ1aWxkIGBfLnRlbXBsYXRlYCB1dGlsaXplc1xuICAgICAqIFtzb3VyY2VVUkxzXShodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9kZXZlbG9wZXJ0b29scy9zb3VyY2VtYXBzLyN0b2Mtc291cmNldXJsKVxuICAgICAqIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuICAgICAqXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gcHJlY29tcGlsaW5nIHRlbXBsYXRlcyBzZWVcbiAgICAgKiBbbG9kYXNoJ3MgY3VzdG9tIGJ1aWxkcyBkb2N1bWVudGF0aW9uXShodHRwczovL2xvZGFzaC5jb20vY3VzdG9tLWJ1aWxkcykuXG4gICAgICpcbiAgICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBDaHJvbWUgZXh0ZW5zaW9uIHNhbmRib3hlcyBzZWVcbiAgICAgKiBbQ2hyb21lJ3MgZXh0ZW5zaW9ucyBkb2N1bWVudGF0aW9uXShodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2V4dGVuc2lvbnMvc2FuZGJveGluZ0V2YWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgdGVtcGxhdGUgc3RyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5lc2NhcGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmVzY2FwZV1cbiAgICAgKiAgVGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmV2YWx1YXRlPV8udGVtcGxhdGVTZXR0aW5ncy5ldmFsdWF0ZV1cbiAgICAgKiAgVGhlIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmltcG9ydHM9Xy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNdXG4gICAgICogIEFuIG9iamVjdCB0byBpbXBvcnQgaW50byB0aGUgdGVtcGxhdGUgYXMgZnJlZSB2YXJpYWJsZXMuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmludGVycG9sYXRlPV8udGVtcGxhdGVTZXR0aW5ncy5pbnRlcnBvbGF0ZV1cbiAgICAgKiAgVGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNvdXJjZVVSTD0nbG9kYXNoLnRlbXBsYXRlU291cmNlc1tuXSddXG4gICAgICogIFRoZSBzb3VyY2VVUkwgb2YgdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy52YXJpYWJsZT0nb2JqJ11cbiAgICAgKiAgVGhlIGRhdGEgb2JqZWN0IHZhcmlhYmxlIG5hbWUuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIgdG8gY3JlYXRlIGEgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IHVzZXIgJT4hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdmcmVkJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIgdG8gZXNjYXBlIGRhdGEgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzxiPjwlLSB2YWx1ZSAlPjwvYj4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd2YWx1ZSc6ICc8c2NyaXB0PicgfSk7XG4gICAgICogLy8gPT4gJzxiPiZsdDtzY3JpcHQmZ3Q7PC9iPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlciB0byBleGVjdXRlIEphdmFTY3JpcHQgYW5kIGdlbmVyYXRlIEhUTUwuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCUgXy5mb3JFYWNoKHVzZXJzLCBmdW5jdGlvbih1c2VyKSB7ICU+PGxpPjwlLSB1c2VyICU+PC9saT48JSB9KTsgJT4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2Vycyc6IFsnZnJlZCcsICdiYXJuZXknXSB9KTtcbiAgICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgaW50ZXJuYWwgYHByaW50YCBmdW5jdGlvbiBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVycy5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JSBwcmludChcImhlbGxvIFwiICsgdXNlcik7ICU+IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnYmFybmV5JyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gYmFybmV5ISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgRVMgdGVtcGxhdGUgbGl0ZXJhbCBkZWxpbWl0ZXIgYXMgYW4gXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiAvLyBEaXNhYmxlIHN1cHBvcnQgYnkgcmVwbGFjaW5nIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvICR7IHVzZXIgfSEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ3BlYmJsZXMnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBwZWJibGVzISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSBiYWNrc2xhc2hlcyB0byB0cmVhdCBkZWxpbWl0ZXJzIGFzIHBsYWluIHRleHQuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCU9IFwiXFxcXDwlLSB2YWx1ZSAlXFxcXD5cIiAlPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3ZhbHVlJzogJ2lnbm9yZWQnIH0pO1xuICAgICAqIC8vID0+ICc8JS0gdmFsdWUgJT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBpbXBvcnRzYCBvcHRpb24gdG8gaW1wb3J0IGBqUXVlcnlgIGFzIGBqcWAuXG4gICAgICogdmFyIHRleHQgPSAnPCUganEuZWFjaCh1c2VycywgZnVuY3Rpb24odXNlcikgeyAlPjxsaT48JS0gdXNlciAlPjwvbGk+PCUgfSk7ICU+JztcbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKHRleHQsIHsgJ2ltcG9ydHMnOiB7ICdqcSc6IGpRdWVyeSB9IH0pO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXJzJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICAgICAqIC8vID0+ICc8bGk+ZnJlZDwvbGk+PGxpPmJhcm5leTwvbGk+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgc291cmNlVVJMYCBvcHRpb24gdG8gc3BlY2lmeSBhIGN1c3RvbSBzb3VyY2VVUkwgZm9yIHRoZSB0ZW1wbGF0ZS5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gdXNlciAlPiEnLCB7ICdzb3VyY2VVUkwnOiAnL2Jhc2ljL2dyZWV0aW5nLmpzdCcgfSk7XG4gICAgICogY29tcGlsZWQoZGF0YSk7XG4gICAgICogLy8gPT4gRmluZCB0aGUgc291cmNlIG9mIFwiZ3JlZXRpbmcuanN0XCIgdW5kZXIgdGhlIFNvdXJjZXMgdGFiIG9yIFJlc291cmNlcyBwYW5lbCBvZiB0aGUgd2ViIGluc3BlY3Rvci5cbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHZhcmlhYmxlYCBvcHRpb24gdG8gZW5zdXJlIGEgd2l0aC1zdGF0ZW1lbnQgaXNuJ3QgdXNlZCBpbiB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGkgPCU9IGRhdGEudXNlciAlPiEnLCB7ICd2YXJpYWJsZSc6ICdkYXRhJyB9KTtcbiAgICAgKiBjb21waWxlZC5zb3VyY2U7XG4gICAgICogLy8gPT4gZnVuY3Rpb24oZGF0YSkge1xuICAgICAqIC8vICAgdmFyIF9fdCwgX19wID0gJyc7XG4gICAgICogLy8gICBfX3AgKz0gJ2hpICcgKyAoKF9fdCA9ICggZGF0YS51c2VyICkpID09IG51bGwgPyAnJyA6IF9fdCkgKyAnISc7XG4gICAgICogLy8gICByZXR1cm4gX19wO1xuICAgICAqIC8vIH1cbiAgICAgKlxuICAgICAqIC8vIFVzZSBjdXN0b20gdGVtcGxhdGUgZGVsaW1pdGVycy5cbiAgICAgKiBfLnRlbXBsYXRlU2V0dGluZ3MuaW50ZXJwb2xhdGUgPSAve3soW1xcc1xcU10rPyl9fS9nO1xuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIHt7IHVzZXIgfX0hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdtdXN0YWNoZScgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIG11c3RhY2hlISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHNvdXJjZWAgcHJvcGVydHkgdG8gaW5saW5lIGNvbXBpbGVkIHRlbXBsYXRlcyBmb3IgbWVhbmluZ2Z1bFxuICAgICAqIC8vIGxpbmUgbnVtYmVycyBpbiBlcnJvciBtZXNzYWdlcyBhbmQgc3RhY2sgdHJhY2VzLlxuICAgICAqIGZzLndyaXRlRmlsZVN5bmMocGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdqc3QuanMnKSwgJ1xcXG4gICAgICogICB2YXIgSlNUID0ge1xcXG4gICAgICogICAgIFwibWFpblwiOiAnICsgXy50ZW1wbGF0ZShtYWluVGV4dCkuc291cmNlICsgJ1xcXG4gICAgICogICB9O1xcXG4gICAgICogJyk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGVtcGxhdGUoc3RyaW5nLCBvcHRpb25zLCBndWFyZCkge1xuICAgICAgLy8gQmFzZWQgb24gSm9obiBSZXNpZydzIGB0bXBsYCBpbXBsZW1lbnRhdGlvblxuICAgICAgLy8gKGh0dHA6Ly9lam9obi5vcmcvYmxvZy9qYXZhc2NyaXB0LW1pY3JvLXRlbXBsYXRpbmcvKVxuICAgICAgLy8gYW5kIExhdXJhIERva3Rvcm92YSdzIGRvVC5qcyAoaHR0cHM6Ly9naXRodWIuY29tL29sYWRvL2RvVCkuXG4gICAgICB2YXIgc2V0dGluZ3MgPSBsb2Rhc2gudGVtcGxhdGVTZXR0aW5ncztcblxuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgb3B0aW9ucywgZ3VhcmQpKSB7XG4gICAgICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgb3B0aW9ucyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucywgc2V0dGluZ3MsIGN1c3RvbURlZmF1bHRzQXNzaWduSW4pO1xuXG4gICAgICB2YXIgaW1wb3J0cyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucy5pbXBvcnRzLCBzZXR0aW5ncy5pbXBvcnRzLCBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKSxcbiAgICAgICAgICBpbXBvcnRzS2V5cyA9IGtleXMoaW1wb3J0cyksXG4gICAgICAgICAgaW1wb3J0c1ZhbHVlcyA9IGJhc2VWYWx1ZXMoaW1wb3J0cywgaW1wb3J0c0tleXMpO1xuXG4gICAgICB2YXIgaXNFc2NhcGluZyxcbiAgICAgICAgICBpc0V2YWx1YXRpbmcsXG4gICAgICAgICAgaW5kZXggPSAwLFxuICAgICAgICAgIGludGVycG9sYXRlID0gb3B0aW9ucy5pbnRlcnBvbGF0ZSB8fCByZU5vTWF0Y2gsXG4gICAgICAgICAgc291cmNlID0gXCJfX3AgKz0gJ1wiO1xuXG4gICAgICAvLyBDb21waWxlIHRoZSByZWdleHAgdG8gbWF0Y2ggZWFjaCBkZWxpbWl0ZXIuXG4gICAgICB2YXIgcmVEZWxpbWl0ZXJzID0gUmVnRXhwKFxuICAgICAgICAob3B0aW9ucy5lc2NhcGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICBpbnRlcnBvbGF0ZS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICAoaW50ZXJwb2xhdGUgPT09IHJlSW50ZXJwb2xhdGUgPyByZUVzVGVtcGxhdGUgOiByZU5vTWF0Y2gpLnNvdXJjZSArICd8JyArXG4gICAgICAgIChvcHRpb25zLmV2YWx1YXRlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wkJ1xuICAgICAgLCAnZycpO1xuXG4gICAgICAvLyBVc2UgYSBzb3VyY2VVUkwgZm9yIGVhc2llciBkZWJ1Z2dpbmcuXG4gICAgICB2YXIgc291cmNlVVJMID0gJy8vIyBzb3VyY2VVUkw9JyArXG4gICAgICAgICgnc291cmNlVVJMJyBpbiBvcHRpb25zXG4gICAgICAgICAgPyBvcHRpb25zLnNvdXJjZVVSTFxuICAgICAgICAgIDogKCdsb2Rhc2gudGVtcGxhdGVTb3VyY2VzWycgKyAoKyt0ZW1wbGF0ZUNvdW50ZXIpICsgJ10nKVxuICAgICAgICApICsgJ1xcbic7XG5cbiAgICAgIHN0cmluZy5yZXBsYWNlKHJlRGVsaW1pdGVycywgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZVZhbHVlLCBpbnRlcnBvbGF0ZVZhbHVlLCBlc1RlbXBsYXRlVmFsdWUsIGV2YWx1YXRlVmFsdWUsIG9mZnNldCkge1xuICAgICAgICBpbnRlcnBvbGF0ZVZhbHVlIHx8IChpbnRlcnBvbGF0ZVZhbHVlID0gZXNUZW1wbGF0ZVZhbHVlKTtcblxuICAgICAgICAvLyBFc2NhcGUgY2hhcmFjdGVycyB0aGF0IGNhbid0IGJlIGluY2x1ZGVkIGluIHN0cmluZyBsaXRlcmFscy5cbiAgICAgICAgc291cmNlICs9IHN0cmluZy5zbGljZShpbmRleCwgb2Zmc2V0KS5yZXBsYWNlKHJlVW5lc2NhcGVkU3RyaW5nLCBlc2NhcGVTdHJpbmdDaGFyKTtcblxuICAgICAgICAvLyBSZXBsYWNlIGRlbGltaXRlcnMgd2l0aCBzbmlwcGV0cy5cbiAgICAgICAgaWYgKGVzY2FwZVZhbHVlKSB7XG4gICAgICAgICAgaXNFc2NhcGluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuX19lKFwiICsgZXNjYXBlVmFsdWUgKyBcIikgK1xcbidcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZhbHVhdGVWYWx1ZSkge1xuICAgICAgICAgIGlzRXZhbHVhdGluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlICs9IFwiJztcXG5cIiArIGV2YWx1YXRlVmFsdWUgKyBcIjtcXG5fX3AgKz0gJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnRlcnBvbGF0ZVZhbHVlKSB7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuKChfX3QgPSAoXCIgKyBpbnRlcnBvbGF0ZVZhbHVlICsgXCIpKSA9PSBudWxsID8gJycgOiBfX3QpICtcXG4nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG5cbiAgICAgICAgLy8gVGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBwcm9kdWN0cyBuZWVkcyBgbWF0Y2hgIHJldHVybmVkIGluXG4gICAgICAgIC8vIG9yZGVyIHRvIHByb2R1Y2UgdGhlIGNvcnJlY3QgYG9mZnNldGAgdmFsdWUuXG4gICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgIH0pO1xuXG4gICAgICBzb3VyY2UgKz0gXCInO1xcblwiO1xuXG4gICAgICAvLyBJZiBgdmFyaWFibGVgIGlzIG5vdCBzcGVjaWZpZWQgd3JhcCBhIHdpdGgtc3RhdGVtZW50IGFyb3VuZCB0aGUgZ2VuZXJhdGVkXG4gICAgICAvLyBjb2RlIHRvIGFkZCB0aGUgZGF0YSBvYmplY3QgdG8gdGhlIHRvcCBvZiB0aGUgc2NvcGUgY2hhaW4uXG4gICAgICB2YXIgdmFyaWFibGUgPSBvcHRpb25zLnZhcmlhYmxlO1xuICAgICAgaWYgKCF2YXJpYWJsZSkge1xuICAgICAgICBzb3VyY2UgPSAnd2l0aCAob2JqKSB7XFxuJyArIHNvdXJjZSArICdcXG59XFxuJztcbiAgICAgIH1cbiAgICAgIC8vIENsZWFudXAgY29kZSBieSBzdHJpcHBpbmcgZW1wdHkgc3RyaW5ncy5cbiAgICAgIHNvdXJjZSA9IChpc0V2YWx1YXRpbmcgPyBzb3VyY2UucmVwbGFjZShyZUVtcHR5U3RyaW5nTGVhZGluZywgJycpIDogc291cmNlKVxuICAgICAgICAucmVwbGFjZShyZUVtcHR5U3RyaW5nTWlkZGxlLCAnJDEnKVxuICAgICAgICAucmVwbGFjZShyZUVtcHR5U3RyaW5nVHJhaWxpbmcsICckMTsnKTtcblxuICAgICAgLy8gRnJhbWUgY29kZSBhcyB0aGUgZnVuY3Rpb24gYm9keS5cbiAgICAgIHNvdXJjZSA9ICdmdW5jdGlvbignICsgKHZhcmlhYmxlIHx8ICdvYmonKSArICcpIHtcXG4nICtcbiAgICAgICAgKHZhcmlhYmxlXG4gICAgICAgICAgPyAnJ1xuICAgICAgICAgIDogJ29iaiB8fCAob2JqID0ge30pO1xcbidcbiAgICAgICAgKSArXG4gICAgICAgIFwidmFyIF9fdCwgX19wID0gJydcIiArXG4gICAgICAgIChpc0VzY2FwaW5nXG4gICAgICAgICAgID8gJywgX19lID0gXy5lc2NhcGUnXG4gICAgICAgICAgIDogJydcbiAgICAgICAgKSArXG4gICAgICAgIChpc0V2YWx1YXRpbmdcbiAgICAgICAgICA/ICcsIF9faiA9IEFycmF5LnByb3RvdHlwZS5qb2luO1xcbicgK1xuICAgICAgICAgICAgXCJmdW5jdGlvbiBwcmludCgpIHsgX19wICs9IF9fai5jYWxsKGFyZ3VtZW50cywgJycpIH1cXG5cIlxuICAgICAgICAgIDogJztcXG4nXG4gICAgICAgICkgK1xuICAgICAgICBzb3VyY2UgK1xuICAgICAgICAncmV0dXJuIF9fcFxcbn0nO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gYXR0ZW1wdChmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEZ1bmN0aW9uKGltcG9ydHNLZXlzLCBzb3VyY2VVUkwgKyAncmV0dXJuICcgKyBzb3VyY2UpXG4gICAgICAgICAgLmFwcGx5KHVuZGVmaW5lZCwgaW1wb3J0c1ZhbHVlcyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gUHJvdmlkZSB0aGUgY29tcGlsZWQgZnVuY3Rpb24ncyBzb3VyY2UgYnkgaXRzIGB0b1N0cmluZ2AgbWV0aG9kIG9yXG4gICAgICAvLyB0aGUgYHNvdXJjZWAgcHJvcGVydHkgYXMgYSBjb252ZW5pZW5jZSBmb3IgaW5saW5pbmcgY29tcGlsZWQgdGVtcGxhdGVzLlxuICAgICAgcmVzdWx0LnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgIGlmIChpc0Vycm9yKHJlc3VsdCkpIHtcbiAgICAgICAgdGhyb3cgcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgYSB3aG9sZSwgdG8gbG93ZXIgY2FzZSBqdXN0IGxpa2VcbiAgICAgKiBbU3RyaW5nI3RvTG93ZXJDYXNlXShodHRwczovL21kbi5pby90b0xvd2VyQ2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBsb3dlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignLS1Gb28tQmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnLS1mb28tYmFyLS0nXG4gICAgICpcbiAgICAgKiBfLnRvTG93ZXIoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb29iYXInXG4gICAgICpcbiAgICAgKiBfLnRvTG93ZXIoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ19fZm9vX2Jhcl9fJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTG93ZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0b1N0cmluZyh2YWx1ZSkudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgYSB3aG9sZSwgdG8gdXBwZXIgY2FzZSBqdXN0IGxpa2VcbiAgICAgKiBbU3RyaW5nI3RvVXBwZXJDYXNlXShodHRwczovL21kbi5pby90b1VwcGVyQ2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1cHBlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnLS1GT08tQkFSLS0nXG4gICAgICpcbiAgICAgKiBfLnRvVXBwZXIoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdGT09CQVInXG4gICAgICpcbiAgICAgKiBfLnRvVXBwZXIoJ19fZm9vX2Jhcl9fJyk7XG4gICAgICogLy8gPT4gJ19fRk9PX0JBUl9fJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvVXBwZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0b1N0cmluZyh2YWx1ZSkudG9VcHBlckNhc2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2Ugb3Igc3BlY2lmaWVkIGNoYXJhY3RlcnMgZnJvbSBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cmltLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9d2hpdGVzcGFjZV0gVGhlIGNoYXJhY3RlcnMgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyaW0oJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqXG4gICAgICogXy50cmltKCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqXG4gICAgICogXy5tYXAoWycgIGZvbyAgJywgJyAgYmFyICAnXSwgXy50cmltKTtcbiAgICAgKiAvLyA9PiBbJ2ZvbycsICdiYXInXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW0oc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVUcmltLCAnJyk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIGNoclN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KGNoYXJzKSxcbiAgICAgICAgICBzdGFydCA9IGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSxcbiAgICAgICAgICBlbmQgPSBjaGFyc0VuZEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpICsgMTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCBzdGFydCwgZW5kKS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRyYWlsaW5nIHdoaXRlc3BhY2Ugb3Igc3BlY2lmaWVkIGNoYXJhY3RlcnMgZnJvbSBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cmltLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9d2hpdGVzcGFjZV0gVGhlIGNoYXJhY3RlcnMgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyaW1FbmQoJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnICBhYmMnXG4gICAgICpcbiAgICAgKiBfLnRyaW1FbmQoJy1fLWFiYy1fLScsICdfLScpO1xuICAgICAqIC8vID0+ICctXy1hYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJpbUVuZChzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZShyZVRyaW1FbmQsICcnKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgZW5kID0gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBzdHJpbmdUb0FycmF5KGNoYXJzKSkgKyAxO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIDAsIGVuZCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsZWFkaW5nIHdoaXRlc3BhY2Ugb3Igc3BlY2lmaWVkIGNoYXJhY3RlcnMgZnJvbSBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cmltLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9d2hpdGVzcGFjZV0gVGhlIGNoYXJhY3RlcnMgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyaW1TdGFydCgnICBhYmMgICcpO1xuICAgICAqIC8vID0+ICdhYmMgICdcbiAgICAgKlxuICAgICAqIF8udHJpbVN0YXJ0KCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnYWJjLV8tJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW1TdGFydChzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZShyZVRyaW1TdGFydCwgJycpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBzdGFydCA9IGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBzdHJpbmdUb0FycmF5KGNoYXJzKSk7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgc3RhcnQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRydW5jYXRlcyBgc3RyaW5nYCBpZiBpdCdzIGxvbmdlciB0aGFuIHRoZSBnaXZlbiBtYXhpbXVtIHN0cmluZyBsZW5ndGguXG4gICAgICogVGhlIGxhc3QgY2hhcmFjdGVycyBvZiB0aGUgdHJ1bmNhdGVkIHN0cmluZyBhcmUgcmVwbGFjZWQgd2l0aCB0aGUgb21pc3Npb25cbiAgICAgKiBzdHJpbmcgd2hpY2ggZGVmYXVsdHMgdG8gXCIuLi5cIi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cnVuY2F0ZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubGVuZ3RoPTMwXSBUaGUgbWF4aW11bSBzdHJpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5vbWlzc2lvbj0nLi4uJ10gVGhlIHN0cmluZyB0byBpbmRpY2F0ZSB0ZXh0IGlzIG9taXR0ZWQuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbb3B0aW9ucy5zZXBhcmF0b3JdIFRoZSBzZXBhcmF0b3IgcGF0dGVybiB0byB0cnVuY2F0ZSB0by5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cnVuY2F0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJyk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hiby4uLidcbiAgICAgKlxuICAgICAqIF8udHJ1bmNhdGUoJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hib3Jpbm8nLCB7XG4gICAgICogICAnbGVuZ3RoJzogMjQsXG4gICAgICogICAnc2VwYXJhdG9yJzogJyAnXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwuLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ2xlbmd0aCc6IDI0LFxuICAgICAqICAgJ3NlcGFyYXRvcic6IC8sPyArL1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUuLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ29taXNzaW9uJzogJyBbLi4uXSdcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnIFsuLi5dJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRydW5jYXRlKHN0cmluZywgb3B0aW9ucykge1xuICAgICAgdmFyIGxlbmd0aCA9IERFRkFVTFRfVFJVTkNfTEVOR1RILFxuICAgICAgICAgIG9taXNzaW9uID0gREVGQVVMVF9UUlVOQ19PTUlTU0lPTjtcblxuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIHZhciBzZXBhcmF0b3IgPSAnc2VwYXJhdG9yJyBpbiBvcHRpb25zID8gb3B0aW9ucy5zZXBhcmF0b3IgOiBzZXBhcmF0b3I7XG4gICAgICAgIGxlbmd0aCA9ICdsZW5ndGgnIGluIG9wdGlvbnMgPyB0b0ludGVnZXIob3B0aW9ucy5sZW5ndGgpIDogbGVuZ3RoO1xuICAgICAgICBvbWlzc2lvbiA9ICdvbWlzc2lvbicgaW4gb3B0aW9ucyA/IGJhc2VUb1N0cmluZyhvcHRpb25zLm9taXNzaW9uKSA6IG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICBpZiAoaGFzVW5pY29kZShzdHJpbmcpKSB7XG4gICAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpO1xuICAgICAgICBzdHJMZW5ndGggPSBzdHJTeW1ib2xzLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGlmIChsZW5ndGggPj0gc3RyTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgZW5kID0gbGVuZ3RoIC0gc3RyaW5nU2l6ZShvbWlzc2lvbik7XG4gICAgICBpZiAoZW5kIDwgMSkge1xuICAgICAgICByZXR1cm4gb21pc3Npb247XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gc3RyU3ltYm9sc1xuICAgICAgICA/IGNhc3RTbGljZShzdHJTeW1ib2xzLCAwLCBlbmQpLmpvaW4oJycpXG4gICAgICAgIDogc3RyaW5nLnNsaWNlKDAsIGVuZCk7XG5cbiAgICAgIGlmIChzZXBhcmF0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0ICsgb21pc3Npb247XG4gICAgICB9XG4gICAgICBpZiAoc3RyU3ltYm9scykge1xuICAgICAgICBlbmQgKz0gKHJlc3VsdC5sZW5ndGggLSBlbmQpO1xuICAgICAgfVxuICAgICAgaWYgKGlzUmVnRXhwKHNlcGFyYXRvcikpIHtcbiAgICAgICAgaWYgKHN0cmluZy5zbGljZShlbmQpLnNlYXJjaChzZXBhcmF0b3IpKSB7XG4gICAgICAgICAgdmFyIG1hdGNoLFxuICAgICAgICAgICAgICBzdWJzdHJpbmcgPSByZXN1bHQ7XG5cbiAgICAgICAgICBpZiAoIXNlcGFyYXRvci5nbG9iYWwpIHtcbiAgICAgICAgICAgIHNlcGFyYXRvciA9IFJlZ0V4cChzZXBhcmF0b3Iuc291cmNlLCB0b1N0cmluZyhyZUZsYWdzLmV4ZWMoc2VwYXJhdG9yKSkgKyAnZycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXBhcmF0b3IubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICB3aGlsZSAoKG1hdGNoID0gc2VwYXJhdG9yLmV4ZWMoc3Vic3RyaW5nKSkpIHtcbiAgICAgICAgICAgIHZhciBuZXdFbmQgPSBtYXRjaC5pbmRleDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKDAsIG5ld0VuZCA9PT0gdW5kZWZpbmVkID8gZW5kIDogbmV3RW5kKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzdHJpbmcuaW5kZXhPZihiYXNlVG9TdHJpbmcoc2VwYXJhdG9yKSwgZW5kKSAhPSBlbmQpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gcmVzdWx0Lmxhc3RJbmRleE9mKHNlcGFyYXRvcik7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKDAsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdCArIG9taXNzaW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBpbnZlcnNlIG9mIGBfLmVzY2FwZWA7IHRoaXMgbWV0aG9kIGNvbnZlcnRzIHRoZSBIVE1MIGVudGl0aWVzXG4gICAgICogYCZhbXA7YCwgYCZsdDtgLCBgJmd0O2AsIGAmcXVvdDtgLCBhbmQgYCYjMzk7YCBpbiBgc3RyaW5nYCB0b1xuICAgICAqIHRoZWlyIGNvcnJlc3BvbmRpbmcgY2hhcmFjdGVycy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBObyBvdGhlciBIVE1MIGVudGl0aWVzIGFyZSB1bmVzY2FwZWQuIFRvIHVuZXNjYXBlIGFkZGl0aW9uYWxcbiAgICAgKiBIVE1MIGVudGl0aWVzIHVzZSBhIHRoaXJkLXBhcnR5IGxpYnJhcnkgbGlrZSBbX2hlX10oaHR0cHM6Ly9tdGhzLmJlL2hlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjYuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB1bmVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuZXNjYXBlKCdmcmVkLCBiYXJuZXksICZhbXA7IHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5lc2NhcGUoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNFc2NhcGVkSHRtbC50ZXN0KHN0cmluZykpXG4gICAgICAgID8gc3RyaW5nLnJlcGxhY2UocmVFc2NhcGVkSHRtbCwgdW5lc2NhcGVIdG1sQ2hhcilcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIHNwYWNlIHNlcGFyYXRlZCB3b3JkcywgdG8gdXBwZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVwcGVyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51cHBlckNhc2UoJy0tZm9vLWJhcicpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqXG4gICAgICogXy51cHBlckNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqXG4gICAgICogXy51cHBlckNhc2UoJ19fZm9vX2Jhcl9fJyk7XG4gICAgICogLy8gPT4gJ0ZPTyBCQVInXG4gICAgICovXG4gICAgdmFyIHVwcGVyQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICcgJyA6ICcnKSArIHdvcmQudG9VcHBlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gdXBwZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udXBwZXJGaXJzdCgnZnJlZCcpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqXG4gICAgICogXy51cHBlckZpcnN0KCdGUkVEJyk7XG4gICAgICogLy8gPT4gJ0ZSRUQnXG4gICAgICovXG4gICAgdmFyIHVwcGVyRmlyc3QgPSBjcmVhdGVDYXNlRmlyc3QoJ3RvVXBwZXJDYXNlJyk7XG5cbiAgICAvKipcbiAgICAgKiBTcGxpdHMgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IFtwYXR0ZXJuXSBUaGUgcGF0dGVybiB0byBtYXRjaCB3b3Jkcy5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ud29yZHMoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIF8ud29yZHMoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJywgL1teLCBdKy9nKTtcbiAgICAgKiAvLyA9PiBbJ2ZyZWQnLCAnYmFybmV5JywgJyYnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gd29yZHMoc3RyaW5nLCBwYXR0ZXJuLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHBhdHRlcm4gPSBndWFyZCA/IHVuZGVmaW5lZCA6IHBhdHRlcm47XG5cbiAgICAgIGlmIChwYXR0ZXJuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGhhc1VuaWNvZGVXb3JkKHN0cmluZykgPyB1bmljb2RlV29yZHMoc3RyaW5nKSA6IGFzY2lpV29yZHMoc3RyaW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHJpbmcubWF0Y2gocGF0dGVybikgfHwgW107XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQXR0ZW1wdHMgdG8gaW52b2tlIGBmdW5jYCwgcmV0dXJuaW5nIGVpdGhlciB0aGUgcmVzdWx0IG9yIHRoZSBjYXVnaHQgZXJyb3JcbiAgICAgKiBvYmplY3QuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQncyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhdHRlbXB0LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBgZnVuY2AgcmVzdWx0IG9yIGVycm9yIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgdGhyb3dpbmcgZXJyb3JzIGZvciBpbnZhbGlkIHNlbGVjdG9ycy5cbiAgICAgKiB2YXIgZWxlbWVudHMgPSBfLmF0dGVtcHQoZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgICAgKiAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICAgKiB9LCAnPl8+Jyk7XG4gICAgICpcbiAgICAgKiBpZiAoXy5pc0Vycm9yKGVsZW1lbnRzKSkge1xuICAgICAqICAgZWxlbWVudHMgPSBbXTtcbiAgICAgKiB9XG4gICAgICovXG4gICAgdmFyIGF0dGVtcHQgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBhcmdzKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGlzRXJyb3IoZSkgPyBlIDogbmV3IEVycm9yKGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQmluZHMgbWV0aG9kcyBvZiBhbiBvYmplY3QgdG8gdGhlIG9iamVjdCBpdHNlbGYsIG92ZXJ3cml0aW5nIHRoZSBleGlzdGluZ1xuICAgICAqIG1ldGhvZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBib3VuZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBiaW5kIGFuZCBhc3NpZ24gdGhlIGJvdW5kIG1ldGhvZHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gbWV0aG9kTmFtZXMgVGhlIG9iamVjdCBtZXRob2QgbmFtZXMgdG8gYmluZC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdmlldyA9IHtcbiAgICAgKiAgICdsYWJlbCc6ICdkb2NzJyxcbiAgICAgKiAgICdjbGljayc6IGZ1bmN0aW9uKCkge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnY2xpY2tlZCAnICsgdGhpcy5sYWJlbCk7XG4gICAgICogICB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uYmluZEFsbCh2aWV3LCBbJ2NsaWNrJ10pO1xuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCB2aWV3LmNsaWNrKTtcbiAgICAgKiAvLyA9PiBMb2dzICdjbGlja2VkIGRvY3MnIHdoZW4gY2xpY2tlZC5cbiAgICAgKi9cbiAgICB2YXIgYmluZEFsbCA9IGZsYXRSZXN0KGZ1bmN0aW9uKG9iamVjdCwgbWV0aG9kTmFtZXMpIHtcbiAgICAgIGFycmF5RWFjaChtZXRob2ROYW1lcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGtleSA9IHRvS2V5KGtleSk7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgYmluZChvYmplY3Rba2V5XSwgb2JqZWN0KSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpdGVyYXRlcyBvdmVyIGBwYWlyc2AgYW5kIGludm9rZXMgdGhlIGNvcnJlc3BvbmRpbmdcbiAgICAgKiBmdW5jdGlvbiBvZiB0aGUgZmlyc3QgcHJlZGljYXRlIHRvIHJldHVybiB0cnV0aHkuIFRoZSBwcmVkaWNhdGUtZnVuY3Rpb25cbiAgICAgKiBwYWlycyBhcmUgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkXG4gICAgICogZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzIFRoZSBwcmVkaWNhdGUtZnVuY3Rpb24gcGFpcnMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8uY29uZChbXG4gICAgICogICBbXy5tYXRjaGVzKHsgJ2EnOiAxIH0pLCAgICAgICAgICAgXy5jb25zdGFudCgnbWF0Y2hlcyBBJyldLFxuICAgICAqICAgW18uY29uZm9ybXMoeyAnYic6IF8uaXNOdW1iZXIgfSksIF8uY29uc3RhbnQoJ21hdGNoZXMgQicpXSxcbiAgICAgKiAgIFtfLnN0dWJUcnVlLCAgICAgICAgICAgICAgICAgICAgICBfLmNvbnN0YW50KCdubyBtYXRjaCcpXVxuICAgICAqIF0pO1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogMSwgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+ICdtYXRjaGVzIEEnXG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAwLCAnYic6IDEgfSk7XG4gICAgICogLy8gPT4gJ21hdGNoZXMgQidcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6ICcxJywgJ2InOiAnMicgfSk7XG4gICAgICogLy8gPT4gJ25vIG1hdGNoJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmQocGFpcnMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBwYWlycyA9PSBudWxsID8gMCA6IHBhaXJzLmxlbmd0aCxcbiAgICAgICAgICB0b0l0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoKTtcblxuICAgICAgcGFpcnMgPSAhbGVuZ3RoID8gW10gOiBhcnJheU1hcChwYWlycywgZnVuY3Rpb24ocGFpcikge1xuICAgICAgICBpZiAodHlwZW9mIHBhaXJbMV0gIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3RvSXRlcmF0ZWUocGFpclswXSksIHBhaXJbMV1dO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciBwYWlyID0gcGFpcnNbaW5kZXhdO1xuICAgICAgICAgIGlmIChhcHBseShwYWlyWzBdLCB0aGlzLCBhcmdzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGx5KHBhaXJbMV0sIHRoaXMsIGFyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgcHJlZGljYXRlIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgd2l0aFxuICAgICAqIHRoZSBjb3JyZXNwb25kaW5nIHByb3BlcnR5IHZhbHVlcyBvZiBhIGdpdmVuIG9iamVjdCwgcmV0dXJuaW5nIGB0cnVlYCBpZlxuICAgICAqIGFsbCBwcmVkaWNhdGVzIHJldHVybiB0cnV0aHksIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGUgY3JlYXRlZCBmdW5jdGlvbiBpcyBlcXVpdmFsZW50IHRvIGBfLmNvbmZvcm1zVG9gIHdpdGhcbiAgICAgKiBgc291cmNlYCBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiAyLCAnYic6IDEgfSxcbiAgICAgKiAgIHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLmNvbmZvcm1zKHsgJ2InOiBmdW5jdGlvbihuKSB7IHJldHVybiBuID4gMTsgfSB9KSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25mb3Jtcyhzb3VyY2UpIHtcbiAgICAgIHJldHVybiBiYXNlQ29uZm9ybXMoYmFzZUNsb25lKHNvdXJjZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZXR1cm4gZnJvbSB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbnN0YW50IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5jb25zdGFudCh7ICdhJzogMSB9KSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDEgfSwgeyAnYSc6IDEgfV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25zdGFudCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBgdmFsdWVgIHRvIGRldGVybWluZSB3aGV0aGVyIGEgZGVmYXVsdCB2YWx1ZSBzaG91bGQgYmUgcmV0dXJuZWQgaW5cbiAgICAgKiBpdHMgcGxhY2UuIFRoZSBgZGVmYXVsdFZhbHVlYCBpcyByZXR1cm5lZCBpZiBgdmFsdWVgIGlzIGBOYU5gLCBgbnVsbGAsXG4gICAgICogb3IgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xNC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0geyp9IGRlZmF1bHRWYWx1ZSBUaGUgZGVmYXVsdCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmYXVsdFRvKDEsIDEwKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRUbyh1bmRlZmluZWQsIDEwKTtcbiAgICAgKiAvLyA9PiAxMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlZmF1bHRUbyh2YWx1ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gKHZhbHVlID09IG51bGwgfHwgdmFsdWUgIT09IHZhbHVlKSA/IGRlZmF1bHRWYWx1ZSA6IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHJlc3VsdCBvZiBpbnZva2luZyB0aGUgZ2l2ZW4gZnVuY3Rpb25zXG4gICAgICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24sIHdoZXJlIGVhY2ggc3VjY2Vzc2l2ZVxuICAgICAqIGludm9jYXRpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbZnVuY3NdIFRoZSBmdW5jdGlvbnMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAc2VlIF8uZmxvd1JpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFkZFNxdWFyZSA9IF8uZmxvdyhbXy5hZGQsIHNxdWFyZV0pO1xuICAgICAqIGFkZFNxdWFyZSgxLCAyKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICovXG4gICAgdmFyIGZsb3cgPSBjcmVhdGVGbG93KCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsb3dgIGV4Y2VwdCB0aGF0IGl0IGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0XG4gICAgICogaW52b2tlcyB0aGUgZ2l2ZW4gZnVuY3Rpb25zIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtmdW5jc10gVGhlIGZ1bmN0aW9ucyB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICAgICAqIEBzZWUgXy5mbG93XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFkZFNxdWFyZSA9IF8uZmxvd1JpZ2h0KFtzcXVhcmUsIF8uYWRkXSk7XG4gICAgICogYWRkU3F1YXJlKDEsIDIpO1xuICAgICAqIC8vID0+IDlcbiAgICAgKi9cbiAgICB2YXIgZmxvd1JpZ2h0ID0gY3JlYXRlRmxvdyh0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IGFyZ3VtZW50IGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIEFueSB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKF8uaWRlbnRpdHkob2JqZWN0KSA9PT0gb2JqZWN0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaWRlbnRpdHkodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBhcmd1bWVudHMgb2YgdGhlIGNyZWF0ZWRcbiAgICAgKiBmdW5jdGlvbi4gSWYgYGZ1bmNgIGlzIGEgcHJvcGVydHkgbmFtZSwgdGhlIGNyZWF0ZWQgZnVuY3Rpb24gcmV0dXJucyB0aGVcbiAgICAgKiBwcm9wZXJ0eSB2YWx1ZSBmb3IgYSBnaXZlbiBlbGVtZW50LiBJZiBgZnVuY2AgaXMgYW4gYXJyYXkgb3Igb2JqZWN0LCB0aGVcbiAgICAgKiBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybnMgYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGNvbnRhaW4gdGhlIGVxdWl2YWxlbnRcbiAgICAgKiBzb3VyY2UgcHJvcGVydGllcywgb3RoZXJ3aXNlIGl0IHJldHVybnMgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSBbZnVuYz1fLmlkZW50aXR5XSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhIGNhbGxiYWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY2FsbGJhY2suXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIF8uaXRlcmF0ZWUoeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9KSk7XG4gICAgICogLy8gPT4gW3sgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLml0ZXJhdGVlKFsndXNlcicsICdmcmVkJ10pKTtcbiAgICAgKiAvLyA9PiBbeyAndXNlcic6ICdmcmVkJywgJ2FnZSc6IDQwIH1dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1hcCh1c2VycywgXy5pdGVyYXRlZSgndXNlcicpKTtcbiAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIENyZWF0ZSBjdXN0b20gaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKiBfLml0ZXJhdGVlID0gXy53cmFwKF8uaXRlcmF0ZWUsIGZ1bmN0aW9uKGl0ZXJhdGVlLCBmdW5jKSB7XG4gICAgICogICByZXR1cm4gIV8uaXNSZWdFeHAoZnVuYykgPyBpdGVyYXRlZShmdW5jKSA6IGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAqICAgICByZXR1cm4gZnVuYy50ZXN0KHN0cmluZyk7XG4gICAgICogICB9O1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIoWydhYmMnLCAnZGVmJ10sIC9lZi8pO1xuICAgICAqIC8vID0+IFsnZGVmJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpdGVyYXRlZShmdW5jKSB7XG4gICAgICByZXR1cm4gYmFzZUl0ZXJhdGVlKHR5cGVvZiBmdW5jID09ICdmdW5jdGlvbicgPyBmdW5jIDogYmFzZUNsb25lKGZ1bmMsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiBhIGdpdmVuXG4gICAgICogb2JqZWN0IGFuZCBgc291cmNlYCwgcmV0dXJuaW5nIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gb2JqZWN0IGhhcyBlcXVpdmFsZW50XG4gICAgICogcHJvcGVydHkgdmFsdWVzLCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNyZWF0ZWQgZnVuY3Rpb24gaXMgZXF1aXZhbGVudCB0byBgXy5pc01hdGNoYCB3aXRoIGBzb3VyY2VgXG4gICAgICogcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBQYXJ0aWFsIGNvbXBhcmlzb25zIHdpbGwgbWF0Y2ggZW1wdHkgYXJyYXkgYW5kIGVtcHR5IG9iamVjdCBgc291cmNlYFxuICAgICAqIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlIGBfLmlzRXF1YWxgXG4gICAgICogZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgdmFsdWUgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSxcbiAgICAgKiAgIHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKG9iamVjdHMsIF8ubWF0Y2hlcyh7ICdhJzogNCwgJ2MnOiA2IH0pKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF0Y2hlcyhzb3VyY2UpIHtcbiAgICAgIHJldHVybiBiYXNlTWF0Y2hlcyhiYXNlQ2xvbmUoc291cmNlLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdGhlXG4gICAgICogdmFsdWUgYXQgYHBhdGhgIG9mIGEgZ2l2ZW4gb2JqZWN0IHRvIGBzcmNWYWx1ZWAsIHJldHVybmluZyBgdHJ1ZWAgaWYgdGhlXG4gICAgICogb2JqZWN0IHZhbHVlIGlzIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBQYXJ0aWFsIGNvbXBhcmlzb25zIHdpbGwgbWF0Y2ggZW1wdHkgYXJyYXkgYW5kIGVtcHR5IG9iamVjdFxuICAgICAqIGBzcmNWYWx1ZWAgdmFsdWVzIGFnYWluc3QgYW55IGFycmF5IG9yIG9iamVjdCB2YWx1ZSwgcmVzcGVjdGl2ZWx5LiBTZWVcbiAgICAgKiBgXy5pc0VxdWFsYCBmb3IgYSBsaXN0IG9mIHN1cHBvcnRlZCB2YWx1ZSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LFxuICAgICAqICAgeyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kKG9iamVjdHMsIF8ubWF0Y2hlc1Byb3BlcnR5KCdhJywgNCkpO1xuICAgICAqIC8vID0+IHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF0Y2hlc1Byb3BlcnR5KHBhdGgsIHNyY1ZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZU1hdGNoZXNQcm9wZXJ0eShwYXRoLCBiYXNlQ2xvbmUoc3JjVmFsdWUsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIG1ldGhvZCBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICogQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZSBwcm92aWRlZCB0byB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZva2VyIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogXy5jb25zdGFudCgyKSB9IH0sXG4gICAgICogICB7ICdhJzogeyAnYic6IF8uY29uc3RhbnQoMSkgfSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ubWFwKG9iamVjdHMsIF8ubWV0aG9kKCdhLmInKSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICpcbiAgICAgKiBfLm1hcChvYmplY3RzLCBfLm1ldGhvZChbJ2EnLCAnYiddKSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgdmFyIG1ldGhvZCA9IGJhc2VSZXN0KGZ1bmN0aW9uKHBhdGgsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2Uob2JqZWN0LCBwYXRoLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ubWV0aG9kYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlc1xuICAgICAqIHRoZSBtZXRob2QgYXQgYSBnaXZlbiBwYXRoIG9mIGBvYmplY3RgLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlXG4gICAgICogcHJvdmlkZWQgdG8gdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludm9rZXIgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IF8udGltZXMoMywgXy5jb25zdGFudCksXG4gICAgICogICAgIG9iamVjdCA9IHsgJ2EnOiBhcnJheSwgJ2InOiBhcnJheSwgJ2MnOiBhcnJheSB9O1xuICAgICAqXG4gICAgICogXy5tYXAoWydhWzJdJywgJ2NbMF0nXSwgXy5tZXRob2RPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKlxuICAgICAqIF8ubWFwKFtbJ2EnLCAnMiddLCBbJ2MnLCAnMCddXSwgXy5tZXRob2RPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKi9cbiAgICB2YXIgbWV0aG9kT2YgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52b2tlKG9iamVjdCwgcGF0aCwgYXJncyk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhbGwgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIGZ1bmN0aW9uIHByb3BlcnRpZXMgb2YgYSBzb3VyY2VcbiAgICAgKiBvYmplY3QgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdC4gSWYgYG9iamVjdGAgaXMgYSBmdW5jdGlvbiwgdGhlbiBtZXRob2RzXG4gICAgICogYXJlIGFkZGVkIHRvIGl0cyBwcm90b3R5cGUgYXMgd2VsbC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVc2UgYF8ucnVuSW5Db250ZXh0YCB0byBjcmVhdGUgYSBwcmlzdGluZSBgbG9kYXNoYCBmdW5jdGlvbiB0b1xuICAgICAqIGF2b2lkIGNvbmZsaWN0cyBjYXVzZWQgYnkgbW9kaWZ5aW5nIHRoZSBvcmlnaW5hbC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R9IFtvYmplY3Q9bG9kYXNoXSBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBmdW5jdGlvbnMgdG8gYWRkLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hhaW49dHJ1ZV0gU3BlY2lmeSB3aGV0aGVyIG1peGlucyBhcmUgY2hhaW5hYmxlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbnxPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHZvd2VscyhzdHJpbmcpIHtcbiAgICAgKiAgIHJldHVybiBfLmZpbHRlcihzdHJpbmcsIGZ1bmN0aW9uKHYpIHtcbiAgICAgKiAgICAgcmV0dXJuIC9bYWVpb3VdL2kudGVzdCh2KTtcbiAgICAgKiAgIH0pO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8ubWl4aW4oeyAndm93ZWxzJzogdm93ZWxzIH0pO1xuICAgICAqIF8udm93ZWxzKCdmcmVkJyk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKlxuICAgICAqIF8oJ2ZyZWQnKS52b3dlbHMoKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICpcbiAgICAgKiBfLm1peGluKHsgJ3Zvd2Vscyc6IHZvd2VscyB9LCB7ICdjaGFpbic6IGZhbHNlIH0pO1xuICAgICAqIF8oJ2ZyZWQnKS52b3dlbHMoKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1peGluKG9iamVjdCwgc291cmNlLCBvcHRpb25zKSB7XG4gICAgICB2YXIgcHJvcHMgPSBrZXlzKHNvdXJjZSksXG4gICAgICAgICAgbWV0aG9kTmFtZXMgPSBiYXNlRnVuY3Rpb25zKHNvdXJjZSwgcHJvcHMpO1xuXG4gICAgICBpZiAob3B0aW9ucyA9PSBudWxsICYmXG4gICAgICAgICAgIShpc09iamVjdChzb3VyY2UpICYmIChtZXRob2ROYW1lcy5sZW5ndGggfHwgIXByb3BzLmxlbmd0aCkpKSB7XG4gICAgICAgIG9wdGlvbnMgPSBzb3VyY2U7XG4gICAgICAgIHNvdXJjZSA9IG9iamVjdDtcbiAgICAgICAgb2JqZWN0ID0gdGhpcztcbiAgICAgICAgbWV0aG9kTmFtZXMgPSBiYXNlRnVuY3Rpb25zKHNvdXJjZSwga2V5cyhzb3VyY2UpKTtcbiAgICAgIH1cbiAgICAgIHZhciBjaGFpbiA9ICEoaXNPYmplY3Qob3B0aW9ucykgJiYgJ2NoYWluJyBpbiBvcHRpb25zKSB8fCAhIW9wdGlvbnMuY2hhaW4sXG4gICAgICAgICAgaXNGdW5jID0gaXNGdW5jdGlvbihvYmplY3QpO1xuXG4gICAgICBhcnJheUVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgICAgdmFyIGZ1bmMgPSBzb3VyY2VbbWV0aG9kTmFtZV07XG4gICAgICAgIG9iamVjdFttZXRob2ROYW1lXSA9IGZ1bmM7XG4gICAgICAgIGlmIChpc0Z1bmMpIHtcbiAgICAgICAgICBvYmplY3QucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgY2hhaW5BbGwgPSB0aGlzLl9fY2hhaW5fXztcbiAgICAgICAgICAgIGlmIChjaGFpbiB8fCBjaGFpbkFsbCkge1xuICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gb2JqZWN0KHRoaXMuX193cmFwcGVkX18pLFxuICAgICAgICAgICAgICAgICAgYWN0aW9ucyA9IHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh0aGlzLl9fYWN0aW9uc19fKTtcblxuICAgICAgICAgICAgICBhY3Rpb25zLnB1c2goeyAnZnVuYyc6IGZ1bmMsICdhcmdzJzogYXJndW1lbnRzLCAndGhpc0FyZyc6IG9iamVjdCB9KTtcbiAgICAgICAgICAgICAgcmVzdWx0Ll9fY2hhaW5fXyA9IGNoYWluQWxsO1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkob2JqZWN0LCBhcnJheVB1c2goW3RoaXMudmFsdWUoKV0sIGFyZ3VtZW50cykpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVydHMgdGhlIGBfYCB2YXJpYWJsZSB0byBpdHMgcHJldmlvdXMgdmFsdWUgYW5kIHJldHVybnMgYSByZWZlcmVuY2UgdG9cbiAgICAgKiB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBsb2Rhc2ggPSBfLm5vQ29uZmxpY3QoKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub0NvbmZsaWN0KCkge1xuICAgICAgaWYgKHJvb3QuXyA9PT0gdGhpcykge1xuICAgICAgICByb290Ll8gPSBvbGREYXNoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5ub29wKTtcbiAgICAgKiAvLyA9PiBbdW5kZWZpbmVkLCB1bmRlZmluZWRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9vcCgpIHtcbiAgICAgIC8vIE5vIG9wZXJhdGlvbiBwZXJmb3JtZWQuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgZ2V0cyB0aGUgYXJndW1lbnQgYXQgaW5kZXggYG5gLiBJZiBgbmAgaXMgbmVnYXRpdmUsXG4gICAgICogdGhlIG50aCBhcmd1bWVudCBmcm9tIHRoZSBlbmQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0wXSBUaGUgaW5kZXggb2YgdGhlIGFyZ3VtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXNzLXRocnUgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5udGhBcmcoMSk7XG4gICAgICogZnVuYygnYScsICdiJywgJ2MnLCAnZCcpO1xuICAgICAqIC8vID0+ICdiJ1xuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm50aEFyZygtMik7XG4gICAgICogZnVuYygnYScsICdiJywgJ2MnLCAnZCcpO1xuICAgICAqIC8vID0+ICdjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG50aEFyZyhuKSB7XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VOdGgoYXJncywgbik7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBpdGVyYXRlZXNgIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlc1xuICAgICAqIGFuZCByZXR1cm5zIHRoZWlyIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGl0ZXJhdGVlcyB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyKFtNYXRoLm1heCwgTWF0aC5taW5dKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoMSwgMiwgMywgNCk7XG4gICAgICogLy8gPT4gWzQsIDFdXG4gICAgICovXG4gICAgdmFyIG92ZXIgPSBjcmVhdGVPdmVyKGFycmF5TWFwKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiAqKmFsbCoqIG9mIHRoZSBgcHJlZGljYXRlc2AgcmV0dXJuXG4gICAgICogdHJ1dGh5IHdoZW4gaW52b2tlZCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckV2ZXJ5KFtCb29sZWFuLCBpc0Zpbml0ZV0pO1xuICAgICAqXG4gICAgICogZnVuYygnMScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGZ1bmMobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIGZ1bmMoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBvdmVyRXZlcnkgPSBjcmVhdGVPdmVyKGFycmF5RXZlcnkpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmICoqYW55Kiogb2YgdGhlIGBwcmVkaWNhdGVzYCByZXR1cm5cbiAgICAgKiB0cnV0aHkgd2hlbiBpbnZva2VkIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtwcmVkaWNhdGVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIHByZWRpY2F0ZXMgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyU29tZShbQm9vbGVhbiwgaXNGaW5pdGVdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoJzEnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGZ1bmMoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBvdmVyU29tZSA9IGNyZWF0ZU92ZXIoYXJyYXlTb21lKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogeyAnYic6IDIgfSB9LFxuICAgICAqICAgeyAnYSc6IHsgJ2InOiAxIH0gfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLm1hcChvYmplY3RzLCBfLnByb3BlcnR5KCdhLmInKSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICpcbiAgICAgKiBfLm1hcChfLnNvcnRCeShvYmplY3RzLCBfLnByb3BlcnR5KFsnYScsICdiJ10pKSwgJ2EuYicpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHByb3BlcnR5KHBhdGgpIHtcbiAgICAgIHJldHVybiBpc0tleShwYXRoKSA/IGJhc2VQcm9wZXJ0eSh0b0tleShwYXRoKSkgOiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5wcm9wZXJ0eWA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnNcbiAgICAgKiB0aGUgdmFsdWUgYXQgYSBnaXZlbiBwYXRoIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFswLCAxLCAyXSxcbiAgICAgKiAgICAgb2JqZWN0ID0geyAnYSc6IGFycmF5LCAnYic6IGFycmF5LCAnYyc6IGFycmF5IH07XG4gICAgICpcbiAgICAgKiBfLm1hcChbJ2FbMl0nLCAnY1swXSddLCBfLnByb3BlcnR5T2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICpcbiAgICAgKiBfLm1hcChbWydhJywgJzInXSwgWydjJywgJzAnXV0sIF8ucHJvcGVydHlPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wZXJ0eU9mKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG51bWJlcnMgKHBvc2l0aXZlIGFuZC9vciBuZWdhdGl2ZSkgcHJvZ3Jlc3NpbmcgZnJvbVxuICAgICAqIGBzdGFydGAgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC4gQSBzdGVwIG9mIGAtMWAgaXMgdXNlZCBpZiBhIG5lZ2F0aXZlXG4gICAgICogYHN0YXJ0YCBpcyBzcGVjaWZpZWQgd2l0aG91dCBhbiBgZW5kYCBvciBgc3RlcGAuIElmIGBlbmRgIGlzIG5vdCBzcGVjaWZpZWQsXG4gICAgICogaXQncyBzZXQgdG8gYHN0YXJ0YCB3aXRoIGBzdGFydGAgdGhlbiBzZXQgdG8gYDBgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEphdmFTY3JpcHQgZm9sbG93cyB0aGUgSUVFRS03NTQgc3RhbmRhcmQgZm9yIHJlc29sdmluZ1xuICAgICAqIGZsb2F0aW5nLXBvaW50IHZhbHVlcyB3aGljaCBjYW4gcHJvZHVjZSB1bmV4cGVjdGVkIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RlcD0xXSBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmdlIG9mIG51bWJlcnMuXG4gICAgICogQHNlZSBfLmluUmFuZ2UsIF8ucmFuZ2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDQpO1xuICAgICAqIC8vID0+IFswLCAxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgtNCk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCA0XVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwLCAyMCwgNSk7XG4gICAgICogLy8gPT4gWzAsIDUsIDEwLCAxNV1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgLTQsIC0xKTtcbiAgICAgKiAvLyA9PiBbMCwgLTEsIC0yLCAtM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMSwgNCwgMCk7XG4gICAgICogLy8gPT4gWzEsIDEsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgdmFyIHJhbmdlID0gY3JlYXRlUmFuZ2UoKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucmFuZ2VgIGV4Y2VwdCB0aGF0IGl0IHBvcHVsYXRlcyB2YWx1ZXMgaW5cbiAgICAgKiBkZXNjZW5kaW5nIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqIEBzZWUgXy5pblJhbmdlLCBfLnJhbmdlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCg0KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMSwgMF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgtNCk7XG4gICAgICogLy8gPT4gWy0zLCAtMiwgLTEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMSwgNSk7XG4gICAgICogLy8gPT4gWzQsIDMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFsxNSwgMTAsIDUsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCwgLTQsIC0xKTtcbiAgICAgKiAvLyA9PiBbLTMsIC0yLCAtMSwgMF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgxLCA0LCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMV1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIHZhciByYW5nZVJpZ2h0ID0gY3JlYXRlUmFuZ2UodHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGVtcHR5IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheXMgPSBfLnRpbWVzKDIsIF8uc3R1YkFycmF5KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5cyk7XG4gICAgICogLy8gPT4gW1tdLCBbXV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5c1swXSA9PT0gYXJyYXlzWzFdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJBcnJheSgpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDIsIF8uc3R1YkZhbHNlKTtcbiAgICAgKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJGYWxzZSgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGVtcHR5IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBlbXB0eSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gXy50aW1lcygyLCBfLnN0dWJPYmplY3QpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gICAgICogLy8gPT4gW3t9LCB7fV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHNbMF0gPT09IG9iamVjdHNbMV0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1Yk9iamVjdCgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGFuIGVtcHR5IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVtcHR5IHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJTdHJpbmcpO1xuICAgICAqIC8vID0+IFsnJywgJyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YlN0cmluZygpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB0cnVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJUcnVlKTtcbiAgICAgKiAvLyA9PiBbdHJ1ZSwgdHJ1ZV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViVHJ1ZSgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIGl0ZXJhdGVlIGBuYCB0aW1lcywgcmV0dXJuaW5nIGFuIGFycmF5IG9mIHRoZSByZXN1bHRzIG9mXG4gICAgICogZWFjaCBpbnZvY2F0aW9uLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKGluZGV4KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMywgU3RyaW5nKTtcbiAgICAgKiAvLyA9PiBbJzAnLCAnMScsICcyJ11cbiAgICAgKlxuICAgICAqICBfLnRpbWVzKDQsIF8uY29uc3RhbnQoMCkpO1xuICAgICAqIC8vID0+IFswLCAwLCAwLCAwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgaWYgKG4gPCAxIHx8IG4gPiBNQVhfU0FGRV9JTlRFR0VSKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IE1BWF9BUlJBWV9MRU5HVEgsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKG4sIE1BWF9BUlJBWV9MRU5HVEgpO1xuXG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlKTtcbiAgICAgIG4gLT0gTUFYX0FSUkFZX0xFTkdUSDtcblxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VUaW1lcyhsZW5ndGgsIGl0ZXJhdGVlKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgICAgICBpdGVyYXRlZShpbmRleCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9QYXRoKCdhLmIuYycpO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqXG4gICAgICogXy50b1BhdGgoJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gWydhJywgJzAnLCAnYicsICdjJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1BhdGgodmFsdWUpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gYXJyYXlNYXAodmFsdWUsIHRvS2V5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc1N5bWJvbCh2YWx1ZSkgPyBbdmFsdWVdIDogY29weUFycmF5KHN0cmluZ1RvUGF0aCh0b1N0cmluZyh2YWx1ZSkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSB1bmlxdWUgSUQuIElmIGBwcmVmaXhgIGlzIGdpdmVuLCB0aGUgSUQgaXMgYXBwZW5kZWQgdG8gaXQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcHJlZml4PScnXSBUaGUgdmFsdWUgdG8gcHJlZml4IHRoZSBJRCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuaXF1ZSBJRC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgnY29udGFjdF8nKTtcbiAgICAgKiAvLyA9PiAnY29udGFjdF8xMDQnXG4gICAgICpcbiAgICAgKiBfLnVuaXF1ZUlkKCk7XG4gICAgICogLy8gPT4gJzEwNSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxdWVJZChwcmVmaXgpIHtcbiAgICAgIHZhciBpZCA9ICsraWRDb3VudGVyO1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHByZWZpeCkgKyBpZDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYXVnZW5kIFRoZSBmaXJzdCBudW1iZXIgaW4gYW4gYWRkaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFkZGVuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhbiBhZGRpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0b3RhbC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5hZGQoNiwgNCk7XG4gICAgICogLy8gPT4gMTBcbiAgICAgKi9cbiAgICB2YXIgYWRkID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihhdWdlbmQsIGFkZGVuZCkge1xuICAgICAgcmV0dXJuIGF1Z2VuZCArIGFkZGVuZDtcbiAgICB9LCAwKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgdXAgdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQgdXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249MF0gVGhlIHByZWNpc2lvbiB0byByb3VuZCB1cCB0by5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIHVwIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jZWlsKDQuMDA2KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICpcbiAgICAgKiBfLmNlaWwoNi4wMDQsIDIpO1xuICAgICAqIC8vID0+IDYuMDFcbiAgICAgKlxuICAgICAqIF8uY2VpbCg2MDQwLCAtMik7XG4gICAgICogLy8gPT4gNjEwMFxuICAgICAqL1xuICAgIHZhciBjZWlsID0gY3JlYXRlUm91bmQoJ2NlaWwnKTtcblxuICAgIC8qKlxuICAgICAqIERpdmlkZSB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpdmlkZW5kIFRoZSBmaXJzdCBudW1iZXIgaW4gYSBkaXZpc2lvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGl2aXNvciBUaGUgc2Vjb25kIG51bWJlciBpbiBhIGRpdmlzaW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHF1b3RpZW50LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpdmlkZSg2LCA0KTtcbiAgICAgKiAvLyA9PiAxLjVcbiAgICAgKi9cbiAgICB2YXIgZGl2aWRlID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihkaXZpZGVuZCwgZGl2aXNvcikge1xuICAgICAgcmV0dXJuIGRpdmlkZW5kIC8gZGl2aXNvcjtcbiAgICB9LCAxKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgZG93biB0byBgcHJlY2lzaW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byByb3VuZCBkb3duLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgZG93biB0by5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIGRvd24gbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsb29yKDQuMDA2KTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLmZsb29yKDAuMDQ2LCAyKTtcbiAgICAgKiAvLyA9PiAwLjA0XG4gICAgICpcbiAgICAgKiBfLmZsb29yKDQwNjAsIC0yKTtcbiAgICAgKiAvLyA9PiA0MDAwXG4gICAgICovXG4gICAgdmFyIGZsb29yID0gY3JlYXRlUm91bmQoJ2Zsb29yJyk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgbWF4aW11bSB2YWx1ZSBvZiBgYXJyYXlgLiBJZiBgYXJyYXlgIGlzIGVtcHR5IG9yIGZhbHNleSxcbiAgICAgKiBgdW5kZWZpbmVkYCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXgoWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiA4XG4gICAgICpcbiAgICAgKiBfLm1heChbXSk7XG4gICAgICogLy8gPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF4KGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlRXh0cmVtdW0oYXJyYXksIGlkZW50aXR5LCBiYXNlR3QpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWF4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdGhlIHZhbHVlIGlzIHJhbmtlZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXhpbXVtIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogMSB9LCB7ICduJzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ubWF4Qnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiB7ICduJzogMiB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1heEJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4geyAnbic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heEJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGJhc2VHdClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1lYW4gb2YgdGhlIHZhbHVlcyBpbiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWVhbihbNCwgMiwgOCwgNl0pO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZWFuKGFycmF5KSB7XG4gICAgICByZXR1cm4gYmFzZU1lYW4oYXJyYXksIGlkZW50aXR5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1lYW5gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSB2YWx1ZSB0byBiZSBhdmVyYWdlZC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbWVhbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDQgfSwgeyAnbic6IDIgfSwgeyAnbic6IDggfSwgeyAnbic6IDYgfV07XG4gICAgICpcbiAgICAgKiBfLm1lYW5CeShvYmplY3RzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLm47IH0pO1xuICAgICAqIC8vID0+IDVcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWVhbkJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lYW5CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlTWVhbihhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgbWluaW11bSB2YWx1ZSBvZiBgYXJyYXlgLiBJZiBgYXJyYXlgIGlzIGVtcHR5IG9yIGZhbHNleSxcbiAgICAgKiBgdW5kZWZpbmVkYCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWluaW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5taW4oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiBfLm1pbihbXSk7XG4gICAgICogLy8gPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWluKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlRXh0cmVtdW0oYXJyYXksIGlkZW50aXR5LCBiYXNlTHQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWluYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdGhlIHZhbHVlIGlzIHJhbmtlZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtaW5pbXVtIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogMSB9LCB7ICduJzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ubWluQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiB7ICduJzogMSB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1pbkJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4geyAnbic6IDEgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbkJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGJhc2VMdClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aXBsaWVyIFRoZSBmaXJzdCBudW1iZXIgaW4gYSBtdWx0aXBsaWNhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbXVsdGlwbGljYW5kIFRoZSBzZWNvbmQgbnVtYmVyIGluIGEgbXVsdGlwbGljYXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcHJvZHVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tdWx0aXBseSg2LCA0KTtcbiAgICAgKiAvLyA9PiAyNFxuICAgICAqL1xuICAgIHZhciBtdWx0aXBseSA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24obXVsdGlwbGllciwgbXVsdGlwbGljYW5kKSB7XG4gICAgICByZXR1cm4gbXVsdGlwbGllciAqIG11bHRpcGxpY2FuZDtcbiAgICB9LCAxKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGBudW1iZXJgIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249MF0gVGhlIHByZWNpc2lvbiB0byByb3VuZCB0by5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByb3VuZGVkIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yb3VuZCg0LjAwNik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5yb3VuZCg0LjAwNiwgMik7XG4gICAgICogLy8gPT4gNC4wMVxuICAgICAqXG4gICAgICogXy5yb3VuZCg0MDYwLCAtMik7XG4gICAgICogLy8gPT4gNDEwMFxuICAgICAqL1xuICAgIHZhciByb3VuZCA9IGNyZWF0ZVJvdW5kKCdyb3VuZCcpO1xuXG4gICAgLyoqXG4gICAgICogU3VidHJhY3QgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW51ZW5kIFRoZSBmaXJzdCBudW1iZXIgaW4gYSBzdWJ0cmFjdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3VidHJhaGVuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhIHN1YnRyYWN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGRpZmZlcmVuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3VidHJhY3QoNiwgNCk7XG4gICAgICogLy8gPT4gMlxuICAgICAqL1xuICAgIHZhciBzdWJ0cmFjdCA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24obWludWVuZCwgc3VidHJhaGVuZCkge1xuICAgICAgcmV0dXJuIG1pbnVlbmQgLSBzdWJ0cmFoZW5kO1xuICAgIH0sIDApO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIHN1bSBvZiB0aGUgdmFsdWVzIGluIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy40LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN1bShbNCwgMiwgOCwgNl0pO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VtKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU3VtKGFycmF5LCBpZGVudGl0eSlcbiAgICAgICAgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc3VtYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgdG8gYmUgc3VtbWVkLlxuICAgICAqIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdW0uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiA0IH0sIHsgJ24nOiAyIH0sIHsgJ24nOiA4IH0sIHsgJ24nOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5zdW1CeShvYmplY3RzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLm47IH0pO1xuICAgICAqIC8vID0+IDIwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnN1bUJ5KG9iamVjdHMsICduJyk7XG4gICAgICogLy8gPT4gMjBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdW1CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTdW0oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiAwO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8vIEFkZCBtZXRob2RzIHRoYXQgcmV0dXJuIHdyYXBwZWQgdmFsdWVzIGluIGNoYWluIHNlcXVlbmNlcy5cbiAgICBsb2Rhc2guYWZ0ZXIgPSBhZnRlcjtcbiAgICBsb2Rhc2guYXJ5ID0gYXJ5O1xuICAgIGxvZGFzaC5hc3NpZ24gPSBhc3NpZ247XG4gICAgbG9kYXNoLmFzc2lnbkluID0gYXNzaWduSW47XG4gICAgbG9kYXNoLmFzc2lnbkluV2l0aCA9IGFzc2lnbkluV2l0aDtcbiAgICBsb2Rhc2guYXNzaWduV2l0aCA9IGFzc2lnbldpdGg7XG4gICAgbG9kYXNoLmF0ID0gYXQ7XG4gICAgbG9kYXNoLmJlZm9yZSA9IGJlZm9yZTtcbiAgICBsb2Rhc2guYmluZCA9IGJpbmQ7XG4gICAgbG9kYXNoLmJpbmRBbGwgPSBiaW5kQWxsO1xuICAgIGxvZGFzaC5iaW5kS2V5ID0gYmluZEtleTtcbiAgICBsb2Rhc2guY2FzdEFycmF5ID0gY2FzdEFycmF5O1xuICAgIGxvZGFzaC5jaGFpbiA9IGNoYWluO1xuICAgIGxvZGFzaC5jaHVuayA9IGNodW5rO1xuICAgIGxvZGFzaC5jb21wYWN0ID0gY29tcGFjdDtcbiAgICBsb2Rhc2guY29uY2F0ID0gY29uY2F0O1xuICAgIGxvZGFzaC5jb25kID0gY29uZDtcbiAgICBsb2Rhc2guY29uZm9ybXMgPSBjb25mb3JtcztcbiAgICBsb2Rhc2guY29uc3RhbnQgPSBjb25zdGFudDtcbiAgICBsb2Rhc2guY291bnRCeSA9IGNvdW50Qnk7XG4gICAgbG9kYXNoLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICBsb2Rhc2guY3VycnkgPSBjdXJyeTtcbiAgICBsb2Rhc2guY3VycnlSaWdodCA9IGN1cnJ5UmlnaHQ7XG4gICAgbG9kYXNoLmRlYm91bmNlID0gZGVib3VuY2U7XG4gICAgbG9kYXNoLmRlZmF1bHRzID0gZGVmYXVsdHM7XG4gICAgbG9kYXNoLmRlZmF1bHRzRGVlcCA9IGRlZmF1bHRzRGVlcDtcbiAgICBsb2Rhc2guZGVmZXIgPSBkZWZlcjtcbiAgICBsb2Rhc2guZGVsYXkgPSBkZWxheTtcbiAgICBsb2Rhc2guZGlmZmVyZW5jZSA9IGRpZmZlcmVuY2U7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2VCeSA9IGRpZmZlcmVuY2VCeTtcbiAgICBsb2Rhc2guZGlmZmVyZW5jZVdpdGggPSBkaWZmZXJlbmNlV2l0aDtcbiAgICBsb2Rhc2guZHJvcCA9IGRyb3A7XG4gICAgbG9kYXNoLmRyb3BSaWdodCA9IGRyb3BSaWdodDtcbiAgICBsb2Rhc2guZHJvcFJpZ2h0V2hpbGUgPSBkcm9wUmlnaHRXaGlsZTtcbiAgICBsb2Rhc2guZHJvcFdoaWxlID0gZHJvcFdoaWxlO1xuICAgIGxvZGFzaC5maWxsID0gZmlsbDtcbiAgICBsb2Rhc2guZmlsdGVyID0gZmlsdGVyO1xuICAgIGxvZGFzaC5mbGF0TWFwID0gZmxhdE1hcDtcbiAgICBsb2Rhc2guZmxhdE1hcERlZXAgPSBmbGF0TWFwRGVlcDtcbiAgICBsb2Rhc2guZmxhdE1hcERlcHRoID0gZmxhdE1hcERlcHRoO1xuICAgIGxvZGFzaC5mbGF0dGVuID0gZmxhdHRlbjtcbiAgICBsb2Rhc2guZmxhdHRlbkRlZXAgPSBmbGF0dGVuRGVlcDtcbiAgICBsb2Rhc2guZmxhdHRlbkRlcHRoID0gZmxhdHRlbkRlcHRoO1xuICAgIGxvZGFzaC5mbGlwID0gZmxpcDtcbiAgICBsb2Rhc2guZmxvdyA9IGZsb3c7XG4gICAgbG9kYXNoLmZsb3dSaWdodCA9IGZsb3dSaWdodDtcbiAgICBsb2Rhc2guZnJvbVBhaXJzID0gZnJvbVBhaXJzO1xuICAgIGxvZGFzaC5mdW5jdGlvbnMgPSBmdW5jdGlvbnM7XG4gICAgbG9kYXNoLmZ1bmN0aW9uc0luID0gZnVuY3Rpb25zSW47XG4gICAgbG9kYXNoLmdyb3VwQnkgPSBncm91cEJ5O1xuICAgIGxvZGFzaC5pbml0aWFsID0gaW5pdGlhbDtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uID0gaW50ZXJzZWN0aW9uO1xuICAgIGxvZGFzaC5pbnRlcnNlY3Rpb25CeSA9IGludGVyc2VjdGlvbkJ5O1xuICAgIGxvZGFzaC5pbnRlcnNlY3Rpb25XaXRoID0gaW50ZXJzZWN0aW9uV2l0aDtcbiAgICBsb2Rhc2guaW52ZXJ0ID0gaW52ZXJ0O1xuICAgIGxvZGFzaC5pbnZlcnRCeSA9IGludmVydEJ5O1xuICAgIGxvZGFzaC5pbnZva2VNYXAgPSBpbnZva2VNYXA7XG4gICAgbG9kYXNoLml0ZXJhdGVlID0gaXRlcmF0ZWU7XG4gICAgbG9kYXNoLmtleUJ5ID0ga2V5Qnk7XG4gICAgbG9kYXNoLmtleXMgPSBrZXlzO1xuICAgIGxvZGFzaC5rZXlzSW4gPSBrZXlzSW47XG4gICAgbG9kYXNoLm1hcCA9IG1hcDtcbiAgICBsb2Rhc2gubWFwS2V5cyA9IG1hcEtleXM7XG4gICAgbG9kYXNoLm1hcFZhbHVlcyA9IG1hcFZhbHVlcztcbiAgICBsb2Rhc2gubWF0Y2hlcyA9IG1hdGNoZXM7XG4gICAgbG9kYXNoLm1hdGNoZXNQcm9wZXJ0eSA9IG1hdGNoZXNQcm9wZXJ0eTtcbiAgICBsb2Rhc2gubWVtb2l6ZSA9IG1lbW9pemU7XG4gICAgbG9kYXNoLm1lcmdlID0gbWVyZ2U7XG4gICAgbG9kYXNoLm1lcmdlV2l0aCA9IG1lcmdlV2l0aDtcbiAgICBsb2Rhc2gubWV0aG9kID0gbWV0aG9kO1xuICAgIGxvZGFzaC5tZXRob2RPZiA9IG1ldGhvZE9mO1xuICAgIGxvZGFzaC5taXhpbiA9IG1peGluO1xuICAgIGxvZGFzaC5uZWdhdGUgPSBuZWdhdGU7XG4gICAgbG9kYXNoLm50aEFyZyA9IG50aEFyZztcbiAgICBsb2Rhc2gub21pdCA9IG9taXQ7XG4gICAgbG9kYXNoLm9taXRCeSA9IG9taXRCeTtcbiAgICBsb2Rhc2gub25jZSA9IG9uY2U7XG4gICAgbG9kYXNoLm9yZGVyQnkgPSBvcmRlckJ5O1xuICAgIGxvZGFzaC5vdmVyID0gb3ZlcjtcbiAgICBsb2Rhc2gub3ZlckFyZ3MgPSBvdmVyQXJncztcbiAgICBsb2Rhc2gub3ZlckV2ZXJ5ID0gb3ZlckV2ZXJ5O1xuICAgIGxvZGFzaC5vdmVyU29tZSA9IG92ZXJTb21lO1xuICAgIGxvZGFzaC5wYXJ0aWFsID0gcGFydGlhbDtcbiAgICBsb2Rhc2gucGFydGlhbFJpZ2h0ID0gcGFydGlhbFJpZ2h0O1xuICAgIGxvZGFzaC5wYXJ0aXRpb24gPSBwYXJ0aXRpb247XG4gICAgbG9kYXNoLnBpY2sgPSBwaWNrO1xuICAgIGxvZGFzaC5waWNrQnkgPSBwaWNrQnk7XG4gICAgbG9kYXNoLnByb3BlcnR5ID0gcHJvcGVydHk7XG4gICAgbG9kYXNoLnByb3BlcnR5T2YgPSBwcm9wZXJ0eU9mO1xuICAgIGxvZGFzaC5wdWxsID0gcHVsbDtcbiAgICBsb2Rhc2gucHVsbEFsbCA9IHB1bGxBbGw7XG4gICAgbG9kYXNoLnB1bGxBbGxCeSA9IHB1bGxBbGxCeTtcbiAgICBsb2Rhc2gucHVsbEFsbFdpdGggPSBwdWxsQWxsV2l0aDtcbiAgICBsb2Rhc2gucHVsbEF0ID0gcHVsbEF0O1xuICAgIGxvZGFzaC5yYW5nZSA9IHJhbmdlO1xuICAgIGxvZGFzaC5yYW5nZVJpZ2h0ID0gcmFuZ2VSaWdodDtcbiAgICBsb2Rhc2gucmVhcmcgPSByZWFyZztcbiAgICBsb2Rhc2gucmVqZWN0ID0gcmVqZWN0O1xuICAgIGxvZGFzaC5yZW1vdmUgPSByZW1vdmU7XG4gICAgbG9kYXNoLnJlc3QgPSByZXN0O1xuICAgIGxvZGFzaC5yZXZlcnNlID0gcmV2ZXJzZTtcbiAgICBsb2Rhc2guc2FtcGxlU2l6ZSA9IHNhbXBsZVNpemU7XG4gICAgbG9kYXNoLnNldCA9IHNldDtcbiAgICBsb2Rhc2guc2V0V2l0aCA9IHNldFdpdGg7XG4gICAgbG9kYXNoLnNodWZmbGUgPSBzaHVmZmxlO1xuICAgIGxvZGFzaC5zbGljZSA9IHNsaWNlO1xuICAgIGxvZGFzaC5zb3J0QnkgPSBzb3J0Qnk7XG4gICAgbG9kYXNoLnNvcnRlZFVuaXEgPSBzb3J0ZWRVbmlxO1xuICAgIGxvZGFzaC5zb3J0ZWRVbmlxQnkgPSBzb3J0ZWRVbmlxQnk7XG4gICAgbG9kYXNoLnNwbGl0ID0gc3BsaXQ7XG4gICAgbG9kYXNoLnNwcmVhZCA9IHNwcmVhZDtcbiAgICBsb2Rhc2gudGFpbCA9IHRhaWw7XG4gICAgbG9kYXNoLnRha2UgPSB0YWtlO1xuICAgIGxvZGFzaC50YWtlUmlnaHQgPSB0YWtlUmlnaHQ7XG4gICAgbG9kYXNoLnRha2VSaWdodFdoaWxlID0gdGFrZVJpZ2h0V2hpbGU7XG4gICAgbG9kYXNoLnRha2VXaGlsZSA9IHRha2VXaGlsZTtcbiAgICBsb2Rhc2gudGFwID0gdGFwO1xuICAgIGxvZGFzaC50aHJvdHRsZSA9IHRocm90dGxlO1xuICAgIGxvZGFzaC50aHJ1ID0gdGhydTtcbiAgICBsb2Rhc2gudG9BcnJheSA9IHRvQXJyYXk7XG4gICAgbG9kYXNoLnRvUGFpcnMgPSB0b1BhaXJzO1xuICAgIGxvZGFzaC50b1BhaXJzSW4gPSB0b1BhaXJzSW47XG4gICAgbG9kYXNoLnRvUGF0aCA9IHRvUGF0aDtcbiAgICBsb2Rhc2gudG9QbGFpbk9iamVjdCA9IHRvUGxhaW5PYmplY3Q7XG4gICAgbG9kYXNoLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICBsb2Rhc2gudW5hcnkgPSB1bmFyeTtcbiAgICBsb2Rhc2gudW5pb24gPSB1bmlvbjtcbiAgICBsb2Rhc2gudW5pb25CeSA9IHVuaW9uQnk7XG4gICAgbG9kYXNoLnVuaW9uV2l0aCA9IHVuaW9uV2l0aDtcbiAgICBsb2Rhc2gudW5pcSA9IHVuaXE7XG4gICAgbG9kYXNoLnVuaXFCeSA9IHVuaXFCeTtcbiAgICBsb2Rhc2gudW5pcVdpdGggPSB1bmlxV2l0aDtcbiAgICBsb2Rhc2gudW5zZXQgPSB1bnNldDtcbiAgICBsb2Rhc2gudW56aXAgPSB1bnppcDtcbiAgICBsb2Rhc2gudW56aXBXaXRoID0gdW56aXBXaXRoO1xuICAgIGxvZGFzaC51cGRhdGUgPSB1cGRhdGU7XG4gICAgbG9kYXNoLnVwZGF0ZVdpdGggPSB1cGRhdGVXaXRoO1xuICAgIGxvZGFzaC52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgbG9kYXNoLnZhbHVlc0luID0gdmFsdWVzSW47XG4gICAgbG9kYXNoLndpdGhvdXQgPSB3aXRob3V0O1xuICAgIGxvZGFzaC53b3JkcyA9IHdvcmRzO1xuICAgIGxvZGFzaC53cmFwID0gd3JhcDtcbiAgICBsb2Rhc2gueG9yID0geG9yO1xuICAgIGxvZGFzaC54b3JCeSA9IHhvckJ5O1xuICAgIGxvZGFzaC54b3JXaXRoID0geG9yV2l0aDtcbiAgICBsb2Rhc2guemlwID0gemlwO1xuICAgIGxvZGFzaC56aXBPYmplY3QgPSB6aXBPYmplY3Q7XG4gICAgbG9kYXNoLnppcE9iamVjdERlZXAgPSB6aXBPYmplY3REZWVwO1xuICAgIGxvZGFzaC56aXBXaXRoID0gemlwV2l0aDtcblxuICAgIC8vIEFkZCBhbGlhc2VzLlxuICAgIGxvZGFzaC5lbnRyaWVzID0gdG9QYWlycztcbiAgICBsb2Rhc2guZW50cmllc0luID0gdG9QYWlyc0luO1xuICAgIGxvZGFzaC5leHRlbmQgPSBhc3NpZ25JbjtcbiAgICBsb2Rhc2guZXh0ZW5kV2l0aCA9IGFzc2lnbkluV2l0aDtcblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBtaXhpbihsb2Rhc2gsIGxvZGFzaCk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0aGF0IHJldHVybiB1bndyYXBwZWQgdmFsdWVzIGluIGNoYWluIHNlcXVlbmNlcy5cbiAgICBsb2Rhc2guYWRkID0gYWRkO1xuICAgIGxvZGFzaC5hdHRlbXB0ID0gYXR0ZW1wdDtcbiAgICBsb2Rhc2guY2FtZWxDYXNlID0gY2FtZWxDYXNlO1xuICAgIGxvZGFzaC5jYXBpdGFsaXplID0gY2FwaXRhbGl6ZTtcbiAgICBsb2Rhc2guY2VpbCA9IGNlaWw7XG4gICAgbG9kYXNoLmNsYW1wID0gY2xhbXA7XG4gICAgbG9kYXNoLmNsb25lID0gY2xvbmU7XG4gICAgbG9kYXNoLmNsb25lRGVlcCA9IGNsb25lRGVlcDtcbiAgICBsb2Rhc2guY2xvbmVEZWVwV2l0aCA9IGNsb25lRGVlcFdpdGg7XG4gICAgbG9kYXNoLmNsb25lV2l0aCA9IGNsb25lV2l0aDtcbiAgICBsb2Rhc2guY29uZm9ybXNUbyA9IGNvbmZvcm1zVG87XG4gICAgbG9kYXNoLmRlYnVyciA9IGRlYnVycjtcbiAgICBsb2Rhc2guZGVmYXVsdFRvID0gZGVmYXVsdFRvO1xuICAgIGxvZGFzaC5kaXZpZGUgPSBkaXZpZGU7XG4gICAgbG9kYXNoLmVuZHNXaXRoID0gZW5kc1dpdGg7XG4gICAgbG9kYXNoLmVxID0gZXE7XG4gICAgbG9kYXNoLmVzY2FwZSA9IGVzY2FwZTtcbiAgICBsb2Rhc2guZXNjYXBlUmVnRXhwID0gZXNjYXBlUmVnRXhwO1xuICAgIGxvZGFzaC5ldmVyeSA9IGV2ZXJ5O1xuICAgIGxvZGFzaC5maW5kID0gZmluZDtcbiAgICBsb2Rhc2guZmluZEluZGV4ID0gZmluZEluZGV4O1xuICAgIGxvZGFzaC5maW5kS2V5ID0gZmluZEtleTtcbiAgICBsb2Rhc2guZmluZExhc3QgPSBmaW5kTGFzdDtcbiAgICBsb2Rhc2guZmluZExhc3RJbmRleCA9IGZpbmRMYXN0SW5kZXg7XG4gICAgbG9kYXNoLmZpbmRMYXN0S2V5ID0gZmluZExhc3RLZXk7XG4gICAgbG9kYXNoLmZsb29yID0gZmxvb3I7XG4gICAgbG9kYXNoLmZvckVhY2ggPSBmb3JFYWNoO1xuICAgIGxvZGFzaC5mb3JFYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG4gICAgbG9kYXNoLmZvckluID0gZm9ySW47XG4gICAgbG9kYXNoLmZvckluUmlnaHQgPSBmb3JJblJpZ2h0O1xuICAgIGxvZGFzaC5mb3JPd24gPSBmb3JPd247XG4gICAgbG9kYXNoLmZvck93blJpZ2h0ID0gZm9yT3duUmlnaHQ7XG4gICAgbG9kYXNoLmdldCA9IGdldDtcbiAgICBsb2Rhc2guZ3QgPSBndDtcbiAgICBsb2Rhc2guZ3RlID0gZ3RlO1xuICAgIGxvZGFzaC5oYXMgPSBoYXM7XG4gICAgbG9kYXNoLmhhc0luID0gaGFzSW47XG4gICAgbG9kYXNoLmhlYWQgPSBoZWFkO1xuICAgIGxvZGFzaC5pZGVudGl0eSA9IGlkZW50aXR5O1xuICAgIGxvZGFzaC5pbmNsdWRlcyA9IGluY2x1ZGVzO1xuICAgIGxvZGFzaC5pbmRleE9mID0gaW5kZXhPZjtcbiAgICBsb2Rhc2guaW5SYW5nZSA9IGluUmFuZ2U7XG4gICAgbG9kYXNoLmludm9rZSA9IGludm9rZTtcbiAgICBsb2Rhc2guaXNBcmd1bWVudHMgPSBpc0FyZ3VtZW50cztcbiAgICBsb2Rhc2guaXNBcnJheSA9IGlzQXJyYXk7XG4gICAgbG9kYXNoLmlzQXJyYXlCdWZmZXIgPSBpc0FycmF5QnVmZmVyO1xuICAgIGxvZGFzaC5pc0FycmF5TGlrZSA9IGlzQXJyYXlMaWtlO1xuICAgIGxvZGFzaC5pc0FycmF5TGlrZU9iamVjdCA9IGlzQXJyYXlMaWtlT2JqZWN0O1xuICAgIGxvZGFzaC5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG4gICAgbG9kYXNoLmlzQnVmZmVyID0gaXNCdWZmZXI7XG4gICAgbG9kYXNoLmlzRGF0ZSA9IGlzRGF0ZTtcbiAgICBsb2Rhc2guaXNFbGVtZW50ID0gaXNFbGVtZW50O1xuICAgIGxvZGFzaC5pc0VtcHR5ID0gaXNFbXB0eTtcbiAgICBsb2Rhc2guaXNFcXVhbCA9IGlzRXF1YWw7XG4gICAgbG9kYXNoLmlzRXF1YWxXaXRoID0gaXNFcXVhbFdpdGg7XG4gICAgbG9kYXNoLmlzRXJyb3IgPSBpc0Vycm9yO1xuICAgIGxvZGFzaC5pc0Zpbml0ZSA9IGlzRmluaXRlO1xuICAgIGxvZGFzaC5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcbiAgICBsb2Rhc2guaXNJbnRlZ2VyID0gaXNJbnRlZ2VyO1xuICAgIGxvZGFzaC5pc0xlbmd0aCA9IGlzTGVuZ3RoO1xuICAgIGxvZGFzaC5pc01hcCA9IGlzTWFwO1xuICAgIGxvZGFzaC5pc01hdGNoID0gaXNNYXRjaDtcbiAgICBsb2Rhc2guaXNNYXRjaFdpdGggPSBpc01hdGNoV2l0aDtcbiAgICBsb2Rhc2guaXNOYU4gPSBpc05hTjtcbiAgICBsb2Rhc2guaXNOYXRpdmUgPSBpc05hdGl2ZTtcbiAgICBsb2Rhc2guaXNOaWwgPSBpc05pbDtcbiAgICBsb2Rhc2guaXNOdWxsID0gaXNOdWxsO1xuICAgIGxvZGFzaC5pc051bWJlciA9IGlzTnVtYmVyO1xuICAgIGxvZGFzaC5pc09iamVjdCA9IGlzT2JqZWN0O1xuICAgIGxvZGFzaC5pc09iamVjdExpa2UgPSBpc09iamVjdExpa2U7XG4gICAgbG9kYXNoLmlzUGxhaW5PYmplY3QgPSBpc1BsYWluT2JqZWN0O1xuICAgIGxvZGFzaC5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuICAgIGxvZGFzaC5pc1NhZmVJbnRlZ2VyID0gaXNTYWZlSW50ZWdlcjtcbiAgICBsb2Rhc2guaXNTZXQgPSBpc1NldDtcbiAgICBsb2Rhc2guaXNTdHJpbmcgPSBpc1N0cmluZztcbiAgICBsb2Rhc2guaXNTeW1ib2wgPSBpc1N5bWJvbDtcbiAgICBsb2Rhc2guaXNUeXBlZEFycmF5ID0gaXNUeXBlZEFycmF5O1xuICAgIGxvZGFzaC5pc1VuZGVmaW5lZCA9IGlzVW5kZWZpbmVkO1xuICAgIGxvZGFzaC5pc1dlYWtNYXAgPSBpc1dlYWtNYXA7XG4gICAgbG9kYXNoLmlzV2Vha1NldCA9IGlzV2Vha1NldDtcbiAgICBsb2Rhc2guam9pbiA9IGpvaW47XG4gICAgbG9kYXNoLmtlYmFiQ2FzZSA9IGtlYmFiQ2FzZTtcbiAgICBsb2Rhc2gubGFzdCA9IGxhc3Q7XG4gICAgbG9kYXNoLmxhc3RJbmRleE9mID0gbGFzdEluZGV4T2Y7XG4gICAgbG9kYXNoLmxvd2VyQ2FzZSA9IGxvd2VyQ2FzZTtcbiAgICBsb2Rhc2gubG93ZXJGaXJzdCA9IGxvd2VyRmlyc3Q7XG4gICAgbG9kYXNoLmx0ID0gbHQ7XG4gICAgbG9kYXNoLmx0ZSA9IGx0ZTtcbiAgICBsb2Rhc2gubWF4ID0gbWF4O1xuICAgIGxvZGFzaC5tYXhCeSA9IG1heEJ5O1xuICAgIGxvZGFzaC5tZWFuID0gbWVhbjtcbiAgICBsb2Rhc2gubWVhbkJ5ID0gbWVhbkJ5O1xuICAgIGxvZGFzaC5taW4gPSBtaW47XG4gICAgbG9kYXNoLm1pbkJ5ID0gbWluQnk7XG4gICAgbG9kYXNoLnN0dWJBcnJheSA9IHN0dWJBcnJheTtcbiAgICBsb2Rhc2guc3R1YkZhbHNlID0gc3R1YkZhbHNlO1xuICAgIGxvZGFzaC5zdHViT2JqZWN0ID0gc3R1Yk9iamVjdDtcbiAgICBsb2Rhc2guc3R1YlN0cmluZyA9IHN0dWJTdHJpbmc7XG4gICAgbG9kYXNoLnN0dWJUcnVlID0gc3R1YlRydWU7XG4gICAgbG9kYXNoLm11bHRpcGx5ID0gbXVsdGlwbHk7XG4gICAgbG9kYXNoLm50aCA9IG50aDtcbiAgICBsb2Rhc2gubm9Db25mbGljdCA9IG5vQ29uZmxpY3Q7XG4gICAgbG9kYXNoLm5vb3AgPSBub29wO1xuICAgIGxvZGFzaC5ub3cgPSBub3c7XG4gICAgbG9kYXNoLnBhZCA9IHBhZDtcbiAgICBsb2Rhc2gucGFkRW5kID0gcGFkRW5kO1xuICAgIGxvZGFzaC5wYWRTdGFydCA9IHBhZFN0YXJ0O1xuICAgIGxvZGFzaC5wYXJzZUludCA9IHBhcnNlSW50O1xuICAgIGxvZGFzaC5yYW5kb20gPSByYW5kb207XG4gICAgbG9kYXNoLnJlZHVjZSA9IHJlZHVjZTtcbiAgICBsb2Rhc2gucmVkdWNlUmlnaHQgPSByZWR1Y2VSaWdodDtcbiAgICBsb2Rhc2gucmVwZWF0ID0gcmVwZWF0O1xuICAgIGxvZGFzaC5yZXBsYWNlID0gcmVwbGFjZTtcbiAgICBsb2Rhc2gucmVzdWx0ID0gcmVzdWx0O1xuICAgIGxvZGFzaC5yb3VuZCA9IHJvdW5kO1xuICAgIGxvZGFzaC5ydW5JbkNvbnRleHQgPSBydW5JbkNvbnRleHQ7XG4gICAgbG9kYXNoLnNhbXBsZSA9IHNhbXBsZTtcbiAgICBsb2Rhc2guc2l6ZSA9IHNpemU7XG4gICAgbG9kYXNoLnNuYWtlQ2FzZSA9IHNuYWtlQ2FzZTtcbiAgICBsb2Rhc2guc29tZSA9IHNvbWU7XG4gICAgbG9kYXNoLnNvcnRlZEluZGV4ID0gc29ydGVkSW5kZXg7XG4gICAgbG9kYXNoLnNvcnRlZEluZGV4QnkgPSBzb3J0ZWRJbmRleEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleE9mID0gc29ydGVkSW5kZXhPZjtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4ID0gc29ydGVkTGFzdEluZGV4O1xuICAgIGxvZGFzaC5zb3J0ZWRMYXN0SW5kZXhCeSA9IHNvcnRlZExhc3RJbmRleEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRMYXN0SW5kZXhPZiA9IHNvcnRlZExhc3RJbmRleE9mO1xuICAgIGxvZGFzaC5zdGFydENhc2UgPSBzdGFydENhc2U7XG4gICAgbG9kYXNoLnN0YXJ0c1dpdGggPSBzdGFydHNXaXRoO1xuICAgIGxvZGFzaC5zdWJ0cmFjdCA9IHN1YnRyYWN0O1xuICAgIGxvZGFzaC5zdW0gPSBzdW07XG4gICAgbG9kYXNoLnN1bUJ5ID0gc3VtQnk7XG4gICAgbG9kYXNoLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgbG9kYXNoLnRpbWVzID0gdGltZXM7XG4gICAgbG9kYXNoLnRvRmluaXRlID0gdG9GaW5pdGU7XG4gICAgbG9kYXNoLnRvSW50ZWdlciA9IHRvSW50ZWdlcjtcbiAgICBsb2Rhc2gudG9MZW5ndGggPSB0b0xlbmd0aDtcbiAgICBsb2Rhc2gudG9Mb3dlciA9IHRvTG93ZXI7XG4gICAgbG9kYXNoLnRvTnVtYmVyID0gdG9OdW1iZXI7XG4gICAgbG9kYXNoLnRvU2FmZUludGVnZXIgPSB0b1NhZmVJbnRlZ2VyO1xuICAgIGxvZGFzaC50b1N0cmluZyA9IHRvU3RyaW5nO1xuICAgIGxvZGFzaC50b1VwcGVyID0gdG9VcHBlcjtcbiAgICBsb2Rhc2gudHJpbSA9IHRyaW07XG4gICAgbG9kYXNoLnRyaW1FbmQgPSB0cmltRW5kO1xuICAgIGxvZGFzaC50cmltU3RhcnQgPSB0cmltU3RhcnQ7XG4gICAgbG9kYXNoLnRydW5jYXRlID0gdHJ1bmNhdGU7XG4gICAgbG9kYXNoLnVuZXNjYXBlID0gdW5lc2NhcGU7XG4gICAgbG9kYXNoLnVuaXF1ZUlkID0gdW5pcXVlSWQ7XG4gICAgbG9kYXNoLnVwcGVyQ2FzZSA9IHVwcGVyQ2FzZTtcbiAgICBsb2Rhc2gudXBwZXJGaXJzdCA9IHVwcGVyRmlyc3Q7XG5cbiAgICAvLyBBZGQgYWxpYXNlcy5cbiAgICBsb2Rhc2guZWFjaCA9IGZvckVhY2g7XG4gICAgbG9kYXNoLmVhY2hSaWdodCA9IGZvckVhY2hSaWdodDtcbiAgICBsb2Rhc2guZmlyc3QgPSBoZWFkO1xuXG4gICAgbWl4aW4obG9kYXNoLCAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc291cmNlID0ge307XG4gICAgICBiYXNlRm9yT3duKGxvZGFzaCwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwobG9kYXNoLnByb3RvdHlwZSwgbWV0aG9kTmFtZSkpIHtcbiAgICAgICAgICBzb3VyY2VbbWV0aG9kTmFtZV0gPSBmdW5jO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfSgpKSwgeyAnY2hhaW4nOiBmYWxzZSB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBzZW1hbnRpYyB2ZXJzaW9uIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgbG9kYXNoLlZFUlNJT04gPSBWRVJTSU9OO1xuXG4gICAgLy8gQXNzaWduIGRlZmF1bHQgcGxhY2Vob2xkZXJzLlxuICAgIGFycmF5RWFjaChbJ2JpbmQnLCAnYmluZEtleScsICdjdXJyeScsICdjdXJyeVJpZ2h0JywgJ3BhcnRpYWwnLCAncGFydGlhbFJpZ2h0J10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgIGxvZGFzaFttZXRob2ROYW1lXS5wbGFjZWhvbGRlciA9IGxvZGFzaDtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmRyb3BgIGFuZCBgXy50YWtlYCB2YXJpYW50cy5cbiAgICBhcnJheUVhY2goWydkcm9wJywgJ3Rha2UnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgbiA9IG4gPT09IHVuZGVmaW5lZCA/IDEgOiBuYXRpdmVNYXgodG9JbnRlZ2VyKG4pLCAwKTtcblxuICAgICAgICB2YXIgcmVzdWx0ID0gKHRoaXMuX19maWx0ZXJlZF9fICYmICFpbmRleClcbiAgICAgICAgICA/IG5ldyBMYXp5V3JhcHBlcih0aGlzKVxuICAgICAgICAgIDogdGhpcy5jbG9uZSgpO1xuXG4gICAgICAgIGlmIChyZXN1bHQuX19maWx0ZXJlZF9fKSB7XG4gICAgICAgICAgcmVzdWx0Ll9fdGFrZUNvdW50X18gPSBuYXRpdmVNaW4obiwgcmVzdWx0Ll9fdGFrZUNvdW50X18pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdC5fX3ZpZXdzX18ucHVzaCh7XG4gICAgICAgICAgICAnc2l6ZSc6IG5hdGl2ZU1pbihuLCBNQVhfQVJSQVlfTEVOR1RIKSxcbiAgICAgICAgICAgICd0eXBlJzogbWV0aG9kTmFtZSArIChyZXN1bHQuX19kaXJfXyA8IDAgPyAnUmlnaHQnIDogJycpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lICsgJ1JpZ2h0J10gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKVttZXRob2ROYW1lXShuKS5yZXZlcnNlKCk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyB0aGF0IGFjY2VwdCBhbiBgaXRlcmF0ZWVgIHZhbHVlLlxuICAgIGFycmF5RWFjaChbJ2ZpbHRlcicsICdtYXAnLCAndGFrZVdoaWxlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgdHlwZSA9IGluZGV4ICsgMSxcbiAgICAgICAgICBpc0ZpbHRlciA9IHR5cGUgPT0gTEFaWV9GSUxURVJfRkxBRyB8fCB0eXBlID09IExBWllfV0hJTEVfRkxBRztcblxuICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuY2xvbmUoKTtcbiAgICAgICAgcmVzdWx0Ll9faXRlcmF0ZWVzX18ucHVzaCh7XG4gICAgICAgICAgJ2l0ZXJhdGVlJzogZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLFxuICAgICAgICAgICd0eXBlJzogdHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHJlc3VsdC5fX2ZpbHRlcmVkX18gfHwgaXNGaWx0ZXI7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyBmb3IgYF8uaGVhZGAgYW5kIGBfLmxhc3RgLlxuICAgIGFycmF5RWFjaChbJ2hlYWQnLCAnbGFzdCddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIHRha2VOYW1lID0gJ3Rha2UnICsgKGluZGV4ID8gJ1JpZ2h0JyA6ICcnKTtcblxuICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzW3Rha2VOYW1lXSgxKS52YWx1ZSgpWzBdO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmluaXRpYWxgIGFuZCBgXy50YWlsYC5cbiAgICBhcnJheUVhY2goWydpbml0aWFsJywgJ3RhaWwnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciBkcm9wTmFtZSA9ICdkcm9wJyArIChpbmRleCA/ICcnIDogJ1JpZ2h0Jyk7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fX2ZpbHRlcmVkX18gPyBuZXcgTGF6eVdyYXBwZXIodGhpcykgOiB0aGlzW2Ryb3BOYW1lXSgxKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY29tcGFjdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKGlkZW50aXR5KTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihwcmVkaWNhdGUpLmhlYWQoKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmZpbmRMYXN0ID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKCkuZmluZChwcmVkaWNhdGUpO1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuaW52b2tlTWFwID0gYmFzZVJlc3QoZnVuY3Rpb24ocGF0aCwgYXJncykge1xuICAgICAgaWYgKHR5cGVvZiBwYXRoID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZSh2YWx1ZSwgcGF0aCwgYXJncyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5yZWplY3QgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlKSkpO1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgICBzdGFydCA9IHRvSW50ZWdlcihzdGFydCk7XG5cbiAgICAgIHZhciByZXN1bHQgPSB0aGlzO1xuICAgICAgaWYgKHJlc3VsdC5fX2ZpbHRlcmVkX18gJiYgKHN0YXJ0ID4gMCB8fCBlbmQgPCAwKSkge1xuICAgICAgICByZXR1cm4gbmV3IExhenlXcmFwcGVyKHJlc3VsdCk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC50YWtlUmlnaHQoLXN0YXJ0KTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhcnQpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmRyb3Aoc3RhcnQpO1xuICAgICAgfVxuICAgICAgaWYgKGVuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVuZCA9IHRvSW50ZWdlcihlbmQpO1xuICAgICAgICByZXN1bHQgPSBlbmQgPCAwID8gcmVzdWx0LmRyb3BSaWdodCgtZW5kKSA6IHJlc3VsdC50YWtlKGVuZCAtIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS50YWtlUmlnaHRXaGlsZSA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLnRha2VXaGlsZShwcmVkaWNhdGUpLnJldmVyc2UoKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRha2UoTUFYX0FSUkFZX0xFTkdUSCk7XG4gICAgfTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIGJhc2VGb3JPd24oTGF6eVdyYXBwZXIucHJvdG90eXBlLCBmdW5jdGlvbihmdW5jLCBtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgY2hlY2tJdGVyYXRlZSA9IC9eKD86ZmlsdGVyfGZpbmR8bWFwfHJlamVjdCl8V2hpbGUkLy50ZXN0KG1ldGhvZE5hbWUpLFxuICAgICAgICAgIGlzVGFrZXIgPSAvXig/OmhlYWR8bGFzdCkkLy50ZXN0KG1ldGhvZE5hbWUpLFxuICAgICAgICAgIGxvZGFzaEZ1bmMgPSBsb2Rhc2hbaXNUYWtlciA/ICgndGFrZScgKyAobWV0aG9kTmFtZSA9PSAnbGFzdCcgPyAnUmlnaHQnIDogJycpKSA6IG1ldGhvZE5hbWVdLFxuICAgICAgICAgIHJldFVud3JhcHBlZCA9IGlzVGFrZXIgfHwgL15maW5kLy50ZXN0KG1ldGhvZE5hbWUpO1xuXG4gICAgICBpZiAoIWxvZGFzaEZ1bmMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fLFxuICAgICAgICAgICAgYXJncyA9IGlzVGFrZXIgPyBbMV0gOiBhcmd1bWVudHMsXG4gICAgICAgICAgICBpc0xhenkgPSB2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyLFxuICAgICAgICAgICAgaXRlcmF0ZWUgPSBhcmdzWzBdLFxuICAgICAgICAgICAgdXNlTGF6eSA9IGlzTGF6eSB8fCBpc0FycmF5KHZhbHVlKTtcblxuICAgICAgICB2YXIgaW50ZXJjZXB0b3IgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSBsb2Rhc2hGdW5jLmFwcGx5KGxvZGFzaCwgYXJyYXlQdXNoKFt2YWx1ZV0sIGFyZ3MpKTtcbiAgICAgICAgICByZXR1cm4gKGlzVGFrZXIgJiYgY2hhaW5BbGwpID8gcmVzdWx0WzBdIDogcmVzdWx0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh1c2VMYXp5ICYmIGNoZWNrSXRlcmF0ZWUgJiYgdHlwZW9mIGl0ZXJhdGVlID09ICdmdW5jdGlvbicgJiYgaXRlcmF0ZWUubGVuZ3RoICE9IDEpIHtcbiAgICAgICAgICAvLyBBdm9pZCBsYXp5IHVzZSBpZiB0aGUgaXRlcmF0ZWUgaGFzIGEgXCJsZW5ndGhcIiB2YWx1ZSBvdGhlciB0aGFuIGAxYC5cbiAgICAgICAgICBpc0xhenkgPSB1c2VMYXp5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX18sXG4gICAgICAgICAgICBpc0h5YnJpZCA9ICEhdGhpcy5fX2FjdGlvbnNfXy5sZW5ndGgsXG4gICAgICAgICAgICBpc1Vud3JhcHBlZCA9IHJldFVud3JhcHBlZCAmJiAhY2hhaW5BbGwsXG4gICAgICAgICAgICBvbmx5TGF6eSA9IGlzTGF6eSAmJiAhaXNIeWJyaWQ7XG5cbiAgICAgICAgaWYgKCFyZXRVbndyYXBwZWQgJiYgdXNlTGF6eSkge1xuICAgICAgICAgIHZhbHVlID0gb25seUxhenkgPyB2YWx1ZSA6IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseSh2YWx1ZSwgYXJncyk7XG4gICAgICAgICAgcmVzdWx0Ll9fYWN0aW9uc19fLnB1c2goeyAnZnVuYyc6IHRocnUsICdhcmdzJzogW2ludGVyY2VwdG9yXSwgJ3RoaXNBcmcnOiB1bmRlZmluZWQgfSk7XG4gICAgICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHJlc3VsdCwgY2hhaW5BbGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1Vud3JhcHBlZCAmJiBvbmx5TGF6eSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IHRoaXMudGhydShpbnRlcmNlcHRvcik7XG4gICAgICAgIHJldHVybiBpc1Vud3JhcHBlZCA/IChpc1Rha2VyID8gcmVzdWx0LnZhbHVlKClbMF0gOiByZXN1bHQudmFsdWUoKSkgOiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBBcnJheWAgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgYXJyYXlFYWNoKFsncG9wJywgJ3B1c2gnLCAnc2hpZnQnLCAnc29ydCcsICdzcGxpY2UnLCAndW5zaGlmdCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IGFycmF5UHJvdG9bbWV0aG9kTmFtZV0sXG4gICAgICAgICAgY2hhaW5OYW1lID0gL14oPzpwdXNofHNvcnR8dW5zaGlmdCkkLy50ZXN0KG1ldGhvZE5hbWUpID8gJ3RhcCcgOiAndGhydScsXG4gICAgICAgICAgcmV0VW53cmFwcGVkID0gL14oPzpwb3B8c2hpZnQpJC8udGVzdChtZXRob2ROYW1lKTtcblxuICAgICAgbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgaWYgKHJldFVud3JhcHBlZCAmJiAhdGhpcy5fX2NoYWluX18pIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZhbHVlKCk7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFtdLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpc1tjaGFpbk5hbWVdKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFtdLCBhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gTWFwIG1pbmlmaWVkIG1ldGhvZCBuYW1lcyB0byB0aGVpciByZWFsIG5hbWVzLlxuICAgIGJhc2VGb3JPd24oTGF6eVdyYXBwZXIucHJvdG90eXBlLCBmdW5jdGlvbihmdW5jLCBtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgbG9kYXNoRnVuYyA9IGxvZGFzaFttZXRob2ROYW1lXTtcbiAgICAgIGlmIChsb2Rhc2hGdW5jKSB7XG4gICAgICAgIHZhciBrZXkgPSAobG9kYXNoRnVuYy5uYW1lICsgJycpLFxuICAgICAgICAgICAgbmFtZXMgPSByZWFsTmFtZXNba2V5XSB8fCAocmVhbE5hbWVzW2tleV0gPSBbXSk7XG5cbiAgICAgICAgbmFtZXMucHVzaCh7ICduYW1lJzogbWV0aG9kTmFtZSwgJ2Z1bmMnOiBsb2Rhc2hGdW5jIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmVhbE5hbWVzW2NyZWF0ZUh5YnJpZCh1bmRlZmluZWQsIFdSQVBfQklORF9LRVlfRkxBRykubmFtZV0gPSBbe1xuICAgICAgJ25hbWUnOiAnd3JhcHBlcicsXG4gICAgICAnZnVuYyc6IHVuZGVmaW5lZFxuICAgIH1dO1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYExhenlXcmFwcGVyYC5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY2xvbmUgPSBsYXp5Q2xvbmU7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnJldmVyc2UgPSBsYXp5UmV2ZXJzZTtcbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudmFsdWUgPSBsYXp5VmFsdWU7XG5cbiAgICAvLyBBZGQgY2hhaW4gc2VxdWVuY2UgbWV0aG9kcyB0byB0aGUgYGxvZGFzaGAgd3JhcHBlci5cbiAgICBsb2Rhc2gucHJvdG90eXBlLmF0ID0gd3JhcHBlckF0O1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY2hhaW4gPSB3cmFwcGVyQ2hhaW47XG4gICAgbG9kYXNoLnByb3RvdHlwZS5jb21taXQgPSB3cmFwcGVyQ29tbWl0O1xuICAgIGxvZGFzaC5wcm90b3R5cGUubmV4dCA9IHdyYXBwZXJOZXh0O1xuICAgIGxvZGFzaC5wcm90b3R5cGUucGxhbnQgPSB3cmFwcGVyUGxhbnQ7XG4gICAgbG9kYXNoLnByb3RvdHlwZS5yZXZlcnNlID0gd3JhcHBlclJldmVyc2U7XG4gICAgbG9kYXNoLnByb3RvdHlwZS50b0pTT04gPSBsb2Rhc2gucHJvdG90eXBlLnZhbHVlT2YgPSBsb2Rhc2gucHJvdG90eXBlLnZhbHVlID0gd3JhcHBlclZhbHVlO1xuXG4gICAgLy8gQWRkIGxhenkgYWxpYXNlcy5cbiAgICBsb2Rhc2gucHJvdG90eXBlLmZpcnN0ID0gbG9kYXNoLnByb3RvdHlwZS5oZWFkO1xuXG4gICAgaWYgKHN5bUl0ZXJhdG9yKSB7XG4gICAgICBsb2Rhc2gucHJvdG90eXBlW3N5bUl0ZXJhdG9yXSA9IHdyYXBwZXJUb0l0ZXJhdG9yO1xuICAgIH1cbiAgICByZXR1cm4gbG9kYXNoO1xuICB9KTtcblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvLyBFeHBvcnQgbG9kYXNoLlxuICB2YXIgXyA9IHJ1bkluQ29udGV4dCgpO1xuXG4gIC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIGNvbmRpdGlvbiBwYXR0ZXJucyBsaWtlOlxuICBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBFeHBvc2UgTG9kYXNoIG9uIHRoZSBnbG9iYWwgb2JqZWN0IHRvIHByZXZlbnQgZXJyb3JzIHdoZW4gTG9kYXNoIGlzXG4gICAgLy8gbG9hZGVkIGJ5IGEgc2NyaXB0IHRhZyBpbiB0aGUgcHJlc2VuY2Ugb2YgYW4gQU1EIGxvYWRlci5cbiAgICAvLyBTZWUgaHR0cDovL3JlcXVpcmVqcy5vcmcvZG9jcy9lcnJvcnMuaHRtbCNtaXNtYXRjaCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgIC8vIFVzZSBgXy5ub0NvbmZsaWN0YCB0byByZW1vdmUgTG9kYXNoIGZyb20gdGhlIGdsb2JhbCBvYmplY3QuXG4gICAgcm9vdC5fID0gXztcblxuICAgIC8vIERlZmluZSBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlIHNvLCB0aHJvdWdoIHBhdGggbWFwcGluZywgaXQgY2FuIGJlXG4gICAgLy8gcmVmZXJlbmNlZCBhcyB0aGUgXCJ1bmRlcnNjb3JlXCIgbW9kdWxlLlxuICAgIGRlZmluZShmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfO1xuICAgIH0pO1xuICB9XG4gIC8vIENoZWNrIGZvciBgZXhwb3J0c2AgYWZ0ZXIgYGRlZmluZWAgaW4gY2FzZSBhIGJ1aWxkIG9wdGltaXplciBhZGRzIGl0LlxuICBlbHNlIGlmIChmcmVlTW9kdWxlKSB7XG4gICAgLy8gRXhwb3J0IGZvciBOb2RlLmpzLlxuICAgIChmcmVlTW9kdWxlLmV4cG9ydHMgPSBfKS5fID0gXztcbiAgICAvLyBFeHBvcnQgZm9yIENvbW1vbkpTIHN1cHBvcnQuXG4gICAgZnJlZUV4cG9ydHMuXyA9IF87XG4gIH1cbiAgZWxzZSB7XG4gICAgLy8gRXhwb3J0IHRvIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIHJvb3QuXyA9IF87XG4gIH1cbn0uY2FsbCh0aGlzKSk7XG4iLCJpbXBvcnQgeyBQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiwgVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgUnVudGltZVBvdGVudGlhbEZ1bGxFeHByZXNzaW9uLCBTdWNjZXNzZnVsbHlDb21waWxlZCwgQ29tcGlsZWRUZW1wb3JhcnlEZWFsbG9jYXRvciwgUnVudGltZUZ1bmN0aW9uLCBSdW50aW1lQ29uc3RydWN0LCBBU1ROb2RlLCBFeHByZXNzaW9uQ29udGV4dCwgY3JlYXRlRXhwcmVzc2lvbkNvbnRleHQsIERlc2NyaXB0aW9uIH0gZnJvbSBcIi4vY29uc3RydWN0c1wiO1xyXG5pbXBvcnQgeyBGdW5jdGlvbkVudGl0eSwgT2JqZWN0RW50aXR5LCBUZW1wb3JhcnlPYmplY3RFbnRpdHkgfSBmcm9tIFwiLi9lbnRpdGllc1wiO1xyXG5pbXBvcnQgeyBFeHByZXNzaW9uQVNUTm9kZSwgSWRlbnRpZmllckV4cHJlc3Npb24sIGNyZWF0ZUV4cHJlc3Npb25Gcm9tQVNULCBDb21waWxlZEZ1bmN0aW9uSWRlbnRpZmllciwgUnVudGltZUZ1bmN0aW9uSWRlbnRpZmllciB9IGZyb20gXCIuL2V4cHJlc3Npb25zXCI7XHJcbmltcG9ydCB7IENsYXNzVHlwZSwgVm9pZFR5cGUsIFJlZmVyZW5jZVR5cGUsIFBvdGVudGlhbFJldHVyblR5cGUsIE9iamVjdFR5cGUsIE5vUmVmVHlwZSwgbm9SZWYsIEF0b21pY1R5cGUgfSBmcm9tIFwiLi90eXBlc1wiO1xyXG5pbXBvcnQgeyBDb3B5SW5pdGlhbGl6ZXIsIENvbXBpbGVkQ29weUluaXRpYWxpemVyLCBSdW50aW1lQ29weUluaXRpYWxpemVyIH0gZnJvbSBcIi4vaW5pdGlhbGl6ZXJzXCI7XHJcbmltcG9ydCB7IGNsb25lIH0gZnJvbSBcImxvZGFzaFwiO1xyXG5pbXBvcnQgeyBDUFBPYmplY3QgfSBmcm9tIFwiLi9vYmplY3RzXCI7XHJcbmltcG9ydCB7IENvbXBpbGVkRnVuY3Rpb25EZWZpbml0aW9uIH0gZnJvbSBcIi4vZGVjbGFyYXRpb25zXCI7XHJcbmltcG9ydCB7IENQUEVycm9yIH0gZnJvbSBcIi4vZXJyb3JzXCI7XHJcbmltcG9ydCB7IEV4cHJlc3Npb24sIGFsbFdlbGxUeXBlZCwgQ29tcGlsZWRFeHByZXNzaW9uLCBSdW50aW1lRXhwcmVzc2lvbiwgVkNSZXN1bHRUeXBlcywgVHlwZWRFeHByZXNzaW9uLCBWYWx1ZUNhdGVnb3J5IH0gZnJvbSBcIi4vZXhwcmVzc2lvbkJhc2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBGdW5jdGlvbkNhbGwgZXh0ZW5kcyBQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbiB7XHJcbiAgICBcclxuICAgIHB1YmxpYyByZWFkb25seSBmdW5jOiBGdW5jdGlvbkVudGl0eTtcclxuICAgIHB1YmxpYyByZWFkb25seSBhcmdzOiByZWFkb25seSBUeXBlZEV4cHJlc3Npb25bXTtcclxuICAgIHB1YmxpYyByZWFkb25seSByZWNlaXZlcj86IE9iamVjdEVudGl0eTxDbGFzc1R5cGU+O1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBhcmdJbml0aWFsaXplcnMhOiByZWFkb25seSBDb3B5SW5pdGlhbGl6ZXJbXTtcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IHJldHVybkJ5VmFsdWVUYXJnZXQ/OiBUZW1wb3JhcnlPYmplY3RFbnRpdHk7XHJcbiAgICAvKipcclxuICAgICAqIEEgRnVuY3Rpb25FbnRpdHkgbXVzdCBiZSBwcm92aWRlZCB0byBzcGVjaWZ5IHdoaWNoIGZ1bmN0aW9uIGlzIGJlaW5nIGNhbGxlZC5cclxuICAgICAqXHJcbiAgICAgKiBBIHJlY2VpdmVyIGVudGl0eSBtYXkgYmUgcHJvdmlkZWQgaGVyZSwgYW5kIGlmIGl0IGlzLCB0aGUgZnVuY3Rpb24gY2FsbCBndWFyYW50ZWVzIGl0IHdpbGxcclxuICAgICAqIGJlIGxvb2tlZCB1cCBpbiBhIHJ1bnRpbWUgY29udGV4dCBCRUZPUkUgdGhlIGZ1bmN0aW9uIGhhcyBiZWVuIFwiY2FsbGVkXCIgKGkuZS4gYmVmb3JlIGEgbmV3XHJcbiAgICAgKiBzdGFjayBmcmFtZSBoYXMgYmVlbiBwdXNoZWQgYW5kIGNvbnRyb2wgaGFzIGJlZW4gZ2l2ZW4gb3ZlciB0byB0aGUgY2FsbGVkIGZ1bmN0aW9uKS4gVGhpcyBpblxyXG4gICAgICogcGFydGljdWxhciBpcyBpbXBvcnRhbnQgZm9yIGUuZy4gYSBQYXJhbWV0ZXJFbnRpdHkgdXNlZCBhcyB0aGUgcmVjZWl2ZXIgb2YgYSBjb25zdHJ1Y3RvciBjYWxsXHJcbiAgICAgKiB3aGVuIGEgY2xhc3MtdHlwZSBwYXJhbWV0ZXIgaXMgcGFzc2VkIGJ5IHZhbHVlIHRvIHNvbWUgZnVuY3Rpb24uIElmIGl0IHdlcmUgbG9va2VkIHVwIGluc3RlYWRcclxuICAgICAqIGFmdGVyIHRoZSBjYWxsLCBpdCB3b3VsZCB0cnkgdG8gZmluZCBhIHBhcmFtZXRlciBvZiB0aGUgY29uc3RydWN0b3IgcmF0aGVyIHRoYW4gb2YgdGhlIGZ1bmN0aW9uLFxyXG4gICAgICogd2hpY2ggaXNuJ3QgcmlnaHQuXHJcbiAgICAgKlxyXG4gICAgICogSWYgYSByZWNlaXZlciBlbnRpdHkgaXMgbm90IHByb3ZpZGVkIGhlcmUsIGEgcmVjZWl2ZXIgb2JqZWN0IG11c3QgYmUgc3BlY2lmaWVkIGF0IHJ1bnRpbWUgd2hlblxyXG4gICAgICogYSBydW50aW1lIGNvbnN0cnVjdCBmb3IgdGhpcyBmdW5jdGlvbiBjYWxsIGlzIGNyZWF0ZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNvbnRleHQgXHJcbiAgICAgKiBAcGFyYW0gZnVuYyBTcGVjaWZpZXMgd2hpY2ggZnVuY3Rpb24gaXMgYmVpbmcgY2FsbGVkLlxyXG4gICAgICogQHBhcmFtIGFyZ3MgQXJndW1lbnRzIHRvIHRoZSBmdW5jdGlvbi5cclxuICAgICAqIEBwYXJhbSByZWNlaXZlciBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRleHQ6IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIGZ1bmM6IEZ1bmN0aW9uRW50aXR5LCBhcmdzOiByZWFkb25seSBUeXBlZEV4cHJlc3Npb25bXSwgcmVjZWl2ZXI/OiBPYmplY3RFbnRpdHk8Q2xhc3NUeXBlPikge1xyXG4gICAgICAgIHN1cGVyKGNvbnRleHQpO1xyXG5cclxuICAgICAgICB0aGlzLmZ1bmMgPSBmdW5jO1xyXG4gICAgICAgIHRoaXMuYXJncyA9IGNsb25lKGFyZ3MpO1xyXG4gICAgICAgIHRoaXMucmVjZWl2ZXIgPSByZWNlaXZlcjtcclxuXHJcbiAgICAgICAgLy8gTm90ZSB0aGF0IHRoZSBhcmdzIGFyZSBOT1QgYXR0YWNoZWQgYXMgY2hpbGRyZW4gaGVyZS4gSW5zdGVhZCwgdGhleSBhcmUgYXR0YWNoZWQgdG8gdGhlIGluaXRpYWxpemVycy5cclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIGluaXRpYWxpemVycyBmb3IgZWFjaCBhcmd1bWVudC9wYXJhbWV0ZXIgcGFpclxyXG4gICAgICAgIC8vIHRoaXMuYXJnSW5pdGlhbGl6ZXJzID0gYXJncy5tYXAoKGFyZywgaSkgPT4ge1xyXG4gICAgICAgIC8vICAgICBsZXQgcGFyYW1UeXBlID0gdGhpcy5mdW5jLnR5cGUucGFyYW1UeXBlc1tpXTtcclxuICAgICAgICAvLyAgICAgaWYgKHBhcmFtVHlwZS5pc1JlZmVyZW5jZVR5cGUoKSkge1xyXG4gICAgICAgIC8vICAgICAgICAgcmV0dXJuIENvcHlJbml0aWFsaXplci5jcmVhdGUoY29udGV4dCwgbmV3IFBhc3NCeVJlZmVyZW5jZVBhcmFtZXRlckVudGl0eSh0aGlzLmZ1bmMsIHBhcmFtVHlwZS5yZWZUbywgaSksIFthcmddKTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vICAgICBlbHNlIHtcclxuICAgICAgICAvLyAgICAgICAgIHJldHVybiBDb3B5SW5pdGlhbGl6ZXIuY3JlYXRlKGNvbnRleHQsIG5ldyBQYXNzQnlWYWx1ZVBhcmFtZXRlckVudGl0eSh0aGlzLmZ1bmMsIHBhcmFtVHlwZSwgaSksIFthcmddKTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgLy8gdGhpcy5pc1JlY3Vyc2l2ZSA9IHRoaXMuZnVuYy5kZWZpbml0aW9uID09PSB0aGlzLmNvbnRleHQuY29udGFpbmluZ0Z1bmN0aW9uO1xyXG5cclxuICAgICAgICAvLyBObyByZXR1cm5zIGZvciB2b2lkIGZ1bmN0aW9ucywgb2YgY291cnNlLlxyXG4gICAgICAgIC8vIElmIHJldHVybiBieSByZWZlcmVuY2UsIHRoZSByZXR1cm4gb2JqZWN0IGFscmVhZHkgZXhpc3RzIGFuZCBubyBuZWVkIHRvIGNyZWF0ZSBhIHRlbXBvcmFyeS5cclxuICAgICAgICAvLyBFbHNlLCBmb3IgYSByZXR1cm4gYnkgdmFsdWUsIHdlIGRvIG5lZWQgdG8gY3JlYXRlIGEgdGVtcG9yYXJ5IG9iamVjdC5cclxuICAgICAgICBsZXQgcmV0dXJuVHlwZSA9IHRoaXMuZnVuYy50eXBlLnJldHVyblR5cGU7XHJcbiAgICAgICAgaWYgKCAhKHJldHVyblR5cGUgaW5zdGFuY2VvZiBWb2lkVHlwZSkgJiYgIShyZXR1cm5UeXBlIGluc3RhbmNlb2YgUmVmZXJlbmNlVHlwZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXR1cm5CeVZhbHVlVGFyZ2V0ID0gdGhpcy5jcmVhdGVUZW1wb3JhcnlPYmplY3QocmV0dXJuVHlwZSwgKHRoaXMuZnVuYy5uYW1lIHx8IFwidW5rbm93blwiKSArIFwiKCkgW3JldHVybl1cIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBUT0RPOiBuZWVkIHRvIGNoZWNrIHRoYXQgaXQncyBub3QgYW4gYXV4aWxpYXJ5IGZ1bmN0aW9uIGNhbGwgYmVmb3JlIGFkZGluZyB0aGVzZT9cclxuICAgICAgICAvLyB0aGlzLmNvbnRleHQuY29udGFpbmluZ0Z1bmN0aW9uLmFkZENhbGwodGhpcyk7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LnRyYW5zbGF0aW9uVW5pdC5yZWdpc3RlckZ1bmN0aW9uQ2FsbCh0aGlzKTsgLy8gVE9ETzogaXMgdGhpcyBuZWVkZWQ/XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHVibGljIGNoZWNrTGlua2luZ1Byb2JsZW1zKCkge1xyXG4gICAgLy8gICAgIGlmICghdGhpcy5mdW5jLmlzTGlua2VkKCkpIHtcclxuICAgIC8vICAgICAgICAgaWYgKHRoaXMuZnVuYy5pc0xpYnJhcnlVbnN1cHBvcnRlZCgpKSB7XHJcbiAgICAvLyAgICAgICAgICAgICBsZXQgbm90ZSA9IENQUEVycm9yLmxpbmsubGlicmFyeV91bnN1cHBvcnRlZCh0aGlzLCB0aGlzLmZ1bmMpO1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKG5vdGUpO1xyXG4gICAgLy8gICAgICAgICAgICAgcmV0dXJuIG5vdGU7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgZWxzZSB7XHJcbiAgICAvLyAgICAgICAgICAgICBsZXQgbm90ZSA9IENQUEVycm9yLmxpbmsuZGVmX25vdF9mb3VuZCh0aGlzLCB0aGlzLmZ1bmMpO1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5hZGROb3RlKG5vdGUpO1xyXG4gICAgLy8gICAgICAgICAgICAgcmV0dXJuIG5vdGU7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gdGFpbFJlY3Vyc2lvbkNoZWNrIDogZnVuY3Rpb24oKXtcclxuICAgIC8vICAgICBpZiAodGhpcy5pc1RhaWwgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgLy8gICAgICAgICByZXR1cm47XHJcbiAgICAvLyAgICAgfVxyXG5cclxuICAgIC8vICAgICB2YXIgY2hpbGQgPSB0aGlzO1xyXG4gICAgLy8gICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudDtcclxuICAgIC8vICAgICB2YXIgaXNUYWlsID0gdHJ1ZTtcclxuICAgIC8vICAgICB2YXIgcmVhc29uID0gbnVsbDtcclxuICAgIC8vICAgICB2YXIgb3RoZXJzID0gW107XHJcbiAgICAvLyAgICAgdmFyIGZpcnN0ID0gdHJ1ZTtcclxuICAgIC8vICAgICB3aGlsZSghaXNBKGNoaWxkLCBGdW5jdGlvbkRlZmluaXRpb24pICYmICFpc0EoY2hpbGQsIFN0YXRlbWVudHMuUmV0dXJuKSkge1xyXG4gICAgLy8gICAgICAgICB2YXIgcmVzdWx0ID0gcGFyZW50LmlzVGFpbENoaWxkKGNoaWxkKTtcclxuICAgIC8vICAgICAgICAgaWYgKCFyZXN1bHQuaXNUYWlsKSB7XHJcbiAgICAvLyAgICAgICAgICAgICBpc1RhaWwgPSBmYWxzZTtcclxuICAgIC8vICAgICAgICAgICAgIHJlYXNvbiA9IHJlc3VsdC5yZWFzb247XHJcbiAgICAvLyAgICAgICAgICAgICBvdGhlcnMgPSByZXN1bHQub3RoZXJzIHx8IFtdO1xyXG4gICAgLy8gICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAvLyAgICAgICAgIH1cclxuXHJcbiAgICAvLyAgICAgICAgIC8vaWYgKCFmaXJzdCAmJiBjaGlsZC50ZW1wRGVhbGxvY2F0b3Ipe1xyXG4gICAgLy8gICAgICAgICAvLyAgICBpc1RhaWwgPSBmYWxzZTtcclxuICAgIC8vICAgICAgICAgLy8gICAgcmVhc29uID0gXCJUaGUgZnVsbCBleHByZXNzaW9uIGNvbnRhaW5pbmcgdGhpcyByZWN1cnNpdmUgY2FsbCBoYXMgdGVtcG9yYXJ5IG9iamVjdHMgdGhhdCBuZWVkIHRvIGJlIGRlYWxsb2NhdGVkIGFmdGVyIHRoZSBjYWxsIHJldHVybnMuXCI7XHJcbiAgICAvLyAgICAgICAgIC8vICAgIG90aGVycyA9IFtdO1xyXG4gICAgLy8gICAgICAgICAvLyAgICBicmVhaztcclxuICAgIC8vICAgICAgICAgLy99XHJcbiAgICAvLyAgICAgICAgIC8vZmlyc3QgPSBmYWxzZTtcclxuXHJcblxyXG4gICAgLy8gICAgICAgICByZWFzb24gPSByZWFzb24gfHwgcmVzdWx0LnJlYXNvbjtcclxuXHJcbiAgICAvLyAgICAgICAgIGNoaWxkID0gcGFyZW50O1xyXG4gICAgLy8gICAgICAgICBwYXJlbnQgPSBjaGlsZC5wYXJlbnQ7XHJcbiAgICAvLyAgICAgfVxyXG5cclxuICAgIC8vICAgICB0aGlzLmlzVGFpbCA9IGlzVGFpbDtcclxuICAgIC8vICAgICB0aGlzLmlzVGFpbFJlYXNvbiA9IHJlYXNvbjtcclxuICAgIC8vICAgICB0aGlzLmlzVGFpbE90aGVycyA9IG90aGVycztcclxuICAgIC8vICAgICAvL3RoaXMuY29udGFpbmluZ0Z1bmN0aW9uKCkuaXNUYWlsUmVjdXJzaXZlID0gdGhpcy5jb250YWluaW5nRnVuY3Rpb24oKS5pc1RhaWxSZWN1cnNpdmUgJiYgaXNUYWlsO1xyXG5cclxuICAgIC8vICAgICB0aGlzLmNhblVzZVRDTyA9IHRoaXMuaXNSZWN1cnNpdmUgJiYgdGhpcy5pc1RhaWw7XHJcbiAgICAvLyB9LFxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVSdW50aW1lRnVuY3Rpb25DYWxsPFQgZXh0ZW5kcyBQb3RlbnRpYWxSZXR1cm5UeXBlID0gUG90ZW50aWFsUmV0dXJuVHlwZSwgViBleHRlbmRzIFZhbHVlQ2F0ZWdvcnkgPSBWYWx1ZUNhdGVnb3J5Pih0aGlzOiBDb21waWxlZEZ1bmN0aW9uQ2FsbDxUPiwgcGFyZW50OiBSdW50aW1lUG90ZW50aWFsRnVsbEV4cHJlc3Npb24pIDogUnVudGltZUZ1bmN0aW9uQ2FsbDxUPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSdW50aW1lRnVuY3Rpb25DYWxsPFQ+KHRoaXMsIHBhcmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gaXNUYWlsQ2hpbGQgOiBmdW5jdGlvbihjaGlsZCl7XHJcbiAgICAvLyAgICAgcmV0dXJuIHtpc1RhaWw6IGZhbHNlLFxyXG4gICAgLy8gICAgICAgICByZWFzb246IFwiQSBxdWljayBydWxlIGlzIHRoYXQgYSBmdW5jdGlvbiBjYWxsIGNhbiBuZXZlciBiZSB0YWlsIHJlY3Vyc2l2ZSBpZiBpdCBpcyBhbiBhcmd1bWVudCB0byBhbm90aGVyIGZ1bmN0aW9uIGNhbGwuIFRoZSBvdXRlciBmdW5jdGlvbiBjYWxsIHdpbGwgYWx3YXlzIGhhcHBlbiBhZnRlcndhcmQhXCIsXHJcbiAgICAvLyAgICAgICAgIG90aGVyczogW3RoaXNdXHJcbiAgICAvLyAgICAgfTtcclxuICAgIC8vIH0sXHJcblxyXG4gICAgLy8gLy8gVE9ETzogd2hhdCBpcyB0aGlzPyBzaG91bGQgaXQgYmUgZGVzY3JpYmVFdmFsUmVzdWx0PyBvciBleHBsYWluPyBwcm9iYWJseSBub3QganVzdCBkZXNjcmliZSBzaW5jZSB0aGF0IGlzIGZvciBvYmplY3RzXHJcbiAgICAvLyBkZXNjcmliZSA6IGZ1bmN0aW9uKHNpbTogU2ltdWxhdGlvbiwgcnRDb25zdHJ1Y3Q6IFJ1bnRpbWVDb25zdHJ1Y3Qpe1xyXG4gICAgLy8gICAgIHZhciBkZXNjID0ge307XHJcbiAgICAvLyAgICAgZGVzYy5tZXNzYWdlID0gXCJhIGNhbGwgdG8gXCIgKyB0aGlzLmZ1bmMuZGVzY3JpYmUoc2ltKS5tZXNzYWdlO1xyXG4gICAgLy8gICAgIHJldHVybiBkZXNjO1xyXG4gICAgLy8gfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZEZ1bmN0aW9uQ2FsbDxUIGV4dGVuZHMgUG90ZW50aWFsUmV0dXJuVHlwZSA9IFBvdGVudGlhbFJldHVyblR5cGU+IGV4dGVuZHMgRnVuY3Rpb25DYWxsLCBTdWNjZXNzZnVsbHlDb21waWxlZCB7XHJcbiAgICByZWFkb25seSB0ZW1wb3JhcnlEZWFsbG9jYXRvcj86IENvbXBpbGVkVGVtcG9yYXJ5RGVhbGxvY2F0b3I7IC8vIHRvIG1hdGNoIENvbXBpbGVkUG90ZW50aWFsRnVsbEV4cHJlc3Npb24gc3RydWN0dXJlXHJcbiAgICBcclxuICAgIHJlYWRvbmx5IGFyZ3M6IHJlYWRvbmx5IFR5cGVkRXhwcmVzc2lvbltdO1xyXG4gICAgcmVhZG9ubHkgYXJnSW5pdGlhbGl6ZXJzOiByZWFkb25seSBDb21waWxlZENvcHlJbml0aWFsaXplcltdO1xyXG4gICAgcmVhZG9ubHkgcmV0dXJuQnlWYWx1ZVRhcmdldD86IFQgZXh0ZW5kcyBPYmplY3RUeXBlID8gVGVtcG9yYXJ5T2JqZWN0RW50aXR5PFQ+IDogdW5kZWZpbmVkO1xyXG59XHJcblxyXG5jb25zdCBJTkRFWF9GVU5DVElPTl9DQUxMX1BVU0ggPSAwO1xyXG5jb25zdCBJTkRFWF9GVU5DVElPTl9DQUxMX0FSR1VNRU5UUyA9IDE7XHJcbmNvbnN0IElOREVYX0ZVTkNUSU9OX0NBTExfQ0FMTCA9IDI7XHJcbmNvbnN0IElOREVYX0ZVTkNUSU9OX0NBTExfUkVUVVJOID0gMjtcclxuZXhwb3J0IGNsYXNzIFJ1bnRpbWVGdW5jdGlvbkNhbGw8VCBleHRlbmRzIFBvdGVudGlhbFJldHVyblR5cGUgPSBQb3RlbnRpYWxSZXR1cm5UeXBlPiBleHRlbmRzIFJ1bnRpbWVQb3RlbnRpYWxGdWxsRXhwcmVzc2lvbjxDb21waWxlZEZ1bmN0aW9uQ2FsbDxUPj4ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBtb2RlbCE6IENvbXBpbGVkRnVuY3Rpb25DYWxsPFQ+OyAvLyBuYXJyb3dzIHR5cGUgb2YgbWVtYmVyIGluIGJhc2UgY2xhc3NcclxuXHJcbiAgICAvLyBwdWJsaWMgcmVhZG9ubHkgZnVuY3Rpb25EZWYgOiBGdW5jdGlvbkRlZmluaXRpb247XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2FsbGVkRnVuY3Rpb24gOiBSdW50aW1lRnVuY3Rpb248VD47XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgYXJnSW5pdGlhbGl6ZXJzOiByZWFkb25seSBSdW50aW1lQ29weUluaXRpYWxpemVyW107XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHJlY2VpdmVyPzogQ1BQT2JqZWN0PENsYXNzVHlwZT5cclxuXHJcbiAgICAvLyBwdWJsaWMgcmVhZG9ubHkgaGFzQmVlbkNhbGxlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIHByaXZhdGUgaW5kZXggOiB0eXBlb2YgSU5ERVhfRlVOQ1RJT05fQ0FMTF9QVVNIIHwgdHlwZW9mIElOREVYX0ZVTkNUSU9OX0NBTExfQVJHVU1FTlRTIHwgdHlwZW9mIElOREVYX0ZVTkNUSU9OX0NBTExfQ0FMTCB8IHR5cGVvZiBJTkRFWF9GVU5DVElPTl9DQUxMX1JFVFVSTiA9IElOREVYX0ZVTkNUSU9OX0NBTExfUFVTSDtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IgKG1vZGVsOiBDb21waWxlZEZ1bmN0aW9uQ2FsbDxUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSB7XHJcbiAgICAgICAgc3VwZXIobW9kZWwsIFwiY2FsbFwiLCBwYXJlbnQpO1xyXG5cclxuICAgICAgICAvLyBUT0RPIGNhbiBpIGdldCByaWQgb2YgdGhlIG5vbi1udWxsIGFzc2VydGlvbiBvciBjYXN0IGhlcmU/XHJcbiAgICAgICAgLy8gQmFzaWNhbGx5LCB0aGUgYXNzdW1wdGlvbiBkZXBlbmRzIG9uIGEgUnVudGltZUZ1bmN0aW9uQ2FsbCBvbmx5IGJlaW5nIGNyZWF0ZWRcclxuICAgICAgICAvLyBpZiB0aGUgcHJvZ3JhbSB3YXMgc3VjY2Vzc2Z1bGx5IGxpbmtlZCAod2hpY2ggYWxzbyBpbXBsaWVzIHRoZSBGdW5jdGlvbkRlZmluaXRpb24gd2FzIGNvbXBpbGVkKVxyXG4gICAgICAgIC8vIEl0IGFsc28gYXNzdW1lcyB0aGUgZnVuY3Rpb24gZGVmaW5pdGlvbiBoYXMgdGhlIGNvcnJlY3QgcmV0dXJuIHR5cGUuXHJcbiAgICAgICAgbGV0IGZ1bmN0aW9uRGVmID0gPENvbXBpbGVkRnVuY3Rpb25EZWZpbml0aW9uPFQ+PnRoaXMubW9kZWwuZnVuYy5kZWZpbml0aW9uITtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDcmVhdGUgYXJndW1lbnQgaW5pdGlhbGl6ZXIgaW5zdGFuY2VzXHJcbiAgICAgICAgdGhpcy5hcmdJbml0aWFsaXplcnMgPSB0aGlzLm1vZGVsLmFyZ0luaXRpYWxpemVycy5tYXAoKGFJbml0KSA9PiBhSW5pdC5jcmVhdGVSdW50aW1lSW5pdGlhbGl6ZXIodGhpcykpO1xyXG5cclxuXHJcblxyXG4gICAgICAgIC8vIFRPRE86IFRDTz8gd291bGQgcmV1c2UgdGhpcy5jb250YWluaW5nUnVudGltZUZ1bmN0aW9uIGluc3RlYWQgb2YgY3JlYXRpbmcgbmV3XHJcbiAgICAgICAgXHJcbiAgICAgICAgIC8vIGZvciBub24tbWVtYmVyIGZ1bmN0aW9ucywgcmVjZWl2ZXIgdW5kZWZpbmVkXHJcbiAgICAgICAgdGhpcy5yZWNlaXZlciA9IHRoaXMubW9kZWwucmVjZWl2ZXIgJiYgdGhpcy5tb2RlbC5yZWNlaXZlci5ydW50aW1lTG9va3VwKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuY2FsbGVkRnVuY3Rpb24gPSBmdW5jdGlvbkRlZi5jcmVhdGVSdW50aW1lRnVuY3Rpb24odGhpcywgdGhpcy5yZWNlaXZlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogVENPPyBpZiB1c2luZyBUQ08sIGRvbid0IGNyZWF0ZSBhIG5ldyByZXR1cm4gb2JqZWN0LCBqdXN0IHJldXNlIHRoZSBvbGQgb25lXHJcbiAgICAgICAgaWYgKHRoaXMubW9kZWwucmV0dXJuQnlWYWx1ZVRhcmdldCkge1xyXG4gICAgICAgICAgICAvLyBJZiByZXR1cm4tYnktdmFsdWUsIHNldCByZXR1cm4gb2JqZWN0IHRvIHRlbXBvcmFyeVxyXG4gICAgICAgICAgICBsZXQgY2YgPSA8UnVudGltZUZ1bmN0aW9uPE9iamVjdFR5cGU+PnRoaXMuY2FsbGVkRnVuY3Rpb247IC8vIFRPRE86IG1heSBiZSBhYmxlIHRvIGdldCByaWQgb2YgdGhpcyBjYXN0IGlmIENvbXBpbGVkRnVuY3Rpb25EZWZpbml0aW9uIHByb3ZpZGVkIG1vcmUgaW5mbyBhYm91dCByZXR1cm4gdHlwZVxyXG4gICAgICAgICAgICBjZi5zZXRSZXR1cm5PYmplY3QodGhpcy5tb2RlbC5yZXR1cm5CeVZhbHVlVGFyZ2V0Lm9iamVjdEluc3RhbmNlKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pbmRleCA9IElOREVYX0ZVTkNUSU9OX0NBTExfQ0FMTDtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgdXBOZXh0SW1wbCgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5pbmRleCA9PT0gSU5ERVhfRlVOQ1RJT05fQ0FMTF9BUkdVTUVOVFMpIHtcclxuICAgICAgICAgICAgLy8gUHVzaCBhbGwgYXJndW1lbnQgaW5pdGlhbGl6ZXJzLiBQdXNoIGluIHJldmVyc2Ugc28gdGhleSBydW4gbGVmdCB0byByaWdodFxyXG4gICAgICAgICAgICAvLyAoYWx0aG91Z2ggdGhpcyBpcyBub3Qgc3RyaWN0bHkgbmVjZXNzYXJ5IGdpdmVuIHRoZXkgYXJlIGluZGV0ZXJtaW5hdGVseSBzZXF1ZW5jZWQpXHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IHRoaXMuYXJnSW5pdGlhbGl6ZXJzLmxlbmd0aC0xOyBpID49IDA7IC0taSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaW0ucHVzaCh0aGlzLmFyZ0luaXRpYWxpemVyc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5pbmRleCA9PT0gSU5ERVhfRlVOQ1RJT05fQ0FMTF9SRVRVUk4pIHtcclxuICAgICAgICAgICAgdGhpcy5jYWxsZWRGdW5jdGlvbi5sb3NlQ29udHJvbCgpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5pbmdSdW50aW1lRnVuY3Rpb24uZ2FpbkNvbnRyb2woKTtcclxuICAgICAgICAgICAgdGhpcy5kb25lKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2ltLnBvcCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJvdGVjdGVkIHN0ZXBGb3J3YXJkSW1wbCgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5pbmRleCA9PT0gSU5ERVhfRlVOQ1RJT05fQ0FMTF9QVVNIKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBUT0RPOiBUQ08/IGp1c3QgZG8gYSB0YWlsQ2FsbFJlc2V0LCBzZW5kIFwidGFpbENhbGxlZFwiIG1lc3NhZ2VcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FsbGVkRnVuY3Rpb24ucHVzaFN0YWNrRnJhbWUoKTtcclxuICAgICAgICAgICAgdGhpcy5pbmRleCA9IElOREVYX0ZVTkNUSU9OX0NBTExfQVJHVU1FTlRTO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmluZGV4ID09PSBJTkRFWF9GVU5DVElPTl9DQUxMX0NBTEwpIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmluZ1J1bnRpbWVGdW5jdGlvbi5sb3NlQ29udHJvbCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNpbS5wdXNoKHRoaXMuY2FsbGVkRnVuY3Rpb24pO1xyXG4gICAgICAgICAgICB0aGlzLmNhbGxlZEZ1bmN0aW9uLmdhaW5Db250cm9sKCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVjZWl2ZXIgJiYgdGhpcy5yZWNlaXZlci5jYWxsUmVjZWl2ZWQoKTtcclxuXHJcbiAgICAgICAgICAgIC8vICg8TXV0YWJsZTx0aGlzPj50aGlzKS5oYXNCZWVuQ2FsbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJjYWxsZWRcIiwgdGhpcy5jYWxsZWRGdW5jdGlvbik7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmluZGV4ID0gSU5ERVhfRlVOQ1RJT05fQ0FMTF9SRVRVUk47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRnVuY3Rpb25DYWxsRXhwcmVzc2lvbkFTVE5vZGUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcImZ1bmN0aW9uX2NhbGxfZXhwcmVzc2lvblwiO1xyXG4gICAgcmVhZG9ubHkgb3BlcmFuZDogRXhwcmVzc2lvbkFTVE5vZGU7XHJcbiAgICByZWFkb25seSBhcmdzOiByZWFkb25seSBFeHByZXNzaW9uQVNUTm9kZVtdO1xyXG59XHJcblxyXG50eXBlIEZ1bmN0aW9uUmVzdWx0VHlwZTxSVCBleHRlbmRzIFBvdGVudGlhbFJldHVyblR5cGU+ID0gTm9SZWZUeXBlPEV4Y2x1ZGU8UlQsVm9pZFR5cGU+PjtcclxudHlwZSBGdW5jdGlvblZDPFJUIGV4dGVuZHMgUG90ZW50aWFsUmV0dXJuVHlwZT4gPSBSVCBleHRlbmRzIFJlZmVyZW5jZVR5cGUgPyBcImx2YWx1ZVwiIDogXCJwcnZhbHVlXCI7XHJcblxyXG4vLyBOT1RFOiB3aGVuIGNyZWF0aW5nIHRoaXMgZnJvbSBBU1QsIG9wZXJhbmQgbXVzdCBiZSBjcmVhdGVkL2NvbXBpbGVkXHJcbi8vIHdpdGggYWRkaXRpb24gY29udGV4dCBpbmNsdWRpbmcgdGhlIGNvbXBpbGVkIHR5cGVzIG9mIHRoZSBhcmd1bWVudHMuXHJcbmV4cG9ydCBjbGFzcyBGdW5jdGlvbkNhbGxFeHByZXNzaW9uIGV4dGVuZHMgRXhwcmVzc2lvbiB7XHJcbiAgICBcclxuICAgIHB1YmxpYyByZWFkb25seSB0eXBlPzogT2JqZWN0VHlwZSB8IFZvaWRUeXBlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHZhbHVlQ2F0ZWdvcnk/OiBWYWx1ZUNhdGVnb3J5O1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBvcGVyYW5kOiBFeHByZXNzaW9uXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgYXJnczogcmVhZG9ubHkgRXhwcmVzc2lvbltdO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGNhbGw/OiBGdW5jdGlvbkNhbGw7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRleHQ6IEV4cHJlc3Npb25Db250ZXh0LCBvcGVyYW5kOiBFeHByZXNzaW9uLCBhcmdzOiByZWFkb25seSBFeHByZXNzaW9uW10pIHtcclxuICAgICAgICBzdXBlcihjb250ZXh0KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmF0dGFjaCh0aGlzLm9wZXJhbmQgPSBvcGVyYW5kKTtcclxuICAgICAgICB0aGlzLmFyZ3MgPSBhcmdzO1xyXG4gICAgICAgIGFyZ3MuZm9yRWFjaCgoYXJnKSA9PiB0aGlzLmF0dGFjaChhcmcpKVxyXG5cclxuICAgICAgICAvLyBJZiBhbnkgYXJndW1lbnRzIGFyZSBub3Qgd2VsbCB0eXBlZCwgd2UgY2FuJ3Qgc2VsZWN0IGEgZnVuY3Rpb24uXHJcbiAgICAgICAgaWYgKCFhbGxXZWxsVHlwZWQoYXJncykpIHtcclxuICAgICAgICAgICAgLy8gdHlwZSwgdmFsdWVDYXRlZ29yeSwgYW5kIGNhbGwgcmVtYWluIHVuZGVmaW5lZFxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIShvcGVyYW5kIGluc3RhbmNlb2YgSWRlbnRpZmllckV4cHJlc3Npb24pKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTm90ZShDUFBFcnJvci5leHByLmZ1bmN0aW9uQ2FsbC5pbnZhbGlkX29wZXJhbmRfZXhwcmVzc2lvbih0aGlzLCBvcGVyYW5kKSk7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFvcGVyYW5kLmVudGl0eSkge1xyXG4gICAgICAgICAgICAvLyB0eXBlLCB2YWx1ZUNhdGVnb3J5LCBhbmQgY2FsbCByZW1haW4gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghKG9wZXJhbmQuZW50aXR5IGluc3RhbmNlb2YgRnVuY3Rpb25FbnRpdHkpKSB7XHJcbiAgICAgICAgICAgIC8vIHR5cGUsIHZhbHVlQ2F0ZWdvcnksIGFuZCBjYWxsIHJlbWFpbiB1bmRlZmluZWRcclxuICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIuZnVuY3Rpb25DYWxsLm9wZXJhbmQodGhpcywgb3BlcmFuZC5lbnRpdHkpKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50eXBlID0gbm9SZWYob3BlcmFuZC5lbnRpdHkudHlwZS5yZXR1cm5UeXBlKTtcclxuXHJcbiAgICAgICAgdGhpcy52YWx1ZUNhdGVnb3J5ID0gb3BlcmFuZC5lbnRpdHkudHlwZS5yZXR1cm5UeXBlIGluc3RhbmNlb2YgUmVmZXJlbmNlVHlwZSA/IFwibHZhbHVlXCIgOiBcInBydmFsdWVcIjtcclxuXHJcbiAgICAgICAgLy8gSWYgYW55IG9mIHRoZSBhcmd1bWVudHMgd2VyZSBub3QgT2JqZWN0VHlwZSwgbG9va3VwIHdvdWxkbid0IGhhdmUgZm91bmQgYSBmdW5jdGlvbi5cclxuICAgICAgICAvLyBTbyB0aGUgY2FzdCBiZWxvdyBzaG91bGQgYmUgZmluZS5cclxuICAgICAgICAvLyBUT0RPOiBhbGxvdyBtZW1iZXIgZnVuY3Rpb24gY2FsbHMuIChvciBtYWtlIHRoZW0gYSBzZXBhcmF0ZSBjbGFzcyBpZGspXHJcbiAgICAgICAgdGhpcy5jYWxsID0gbmV3IEZ1bmN0aW9uQ2FsbChjb250ZXh0LCBvcGVyYW5kLmVudGl0eSwgPHJlYWRvbmx5IFR5cGVkRXhwcmVzc2lvbjxPYmplY3RUeXBlLCBWYWx1ZUNhdGVnb3J5PltdPmFyZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRnJvbUFTVChhc3Q6IEZ1bmN0aW9uQ2FsbEV4cHJlc3Npb25BU1ROb2RlLCBjb250ZXh0OiBFeHByZXNzaW9uQ29udGV4dCkgOiBGdW5jdGlvbkNhbGxFeHByZXNzaW9uIHtcclxuICAgICAgICBsZXQgYXJncyA9IGFzdC5hcmdzLm1hcChhcmcgPT4gY3JlYXRlRXhwcmVzc2lvbkZyb21BU1QoYXJnLCBjb250ZXh0KSk7XHJcbiAgICAgICAgbGV0IGNvbnRleHR1YWxQYXJhbVR5cGVzID0gYXJncy5tYXAoYXJnID0+IGFyZy50eXBlKTtcclxuICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uQ2FsbEV4cHJlc3Npb24oY29udGV4dCxcclxuICAgICAgICAgICAgY3JlYXRlRXhwcmVzc2lvbkZyb21BU1QoYXN0Lm9wZXJhbmQsIGNyZWF0ZUV4cHJlc3Npb25Db250ZXh0KGNvbnRleHQsIGNvbnRleHR1YWxQYXJhbVR5cGVzKSksXHJcbiAgICAgICAgICAgIGFyZ3MpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUV4cHJlc3Npb248UlQgZXh0ZW5kcyBQb3RlbnRpYWxSZXR1cm5UeXBlPih0aGlzOiBDb21waWxlZEZ1bmN0aW9uQ2FsbEV4cHJlc3Npb248UlQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIDogUnVudGltZUZ1bmN0aW9uQ2FsbEV4cHJlc3Npb248UlQ+XHJcbiAgICBwdWJsaWMgY3JlYXRlUnVudGltZUV4cHJlc3Npb248VCBleHRlbmRzIE9iamVjdFR5cGUsIFYgZXh0ZW5kcyBWYWx1ZUNhdGVnb3J5Pih0aGlzOiBDb21waWxlZEV4cHJlc3Npb248VCxWPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IG5ldmVyO1xyXG4gICAgcHVibGljIGNyZWF0ZVJ1bnRpbWVFeHByZXNzaW9uPFJUIGV4dGVuZHMgUG90ZW50aWFsUmV0dXJuVHlwZT4odGhpczogQ29tcGlsZWRGdW5jdGlvbkNhbGxFeHByZXNzaW9uPFJUPiwgcGFyZW50OiBSdW50aW1lQ29uc3RydWN0KSA6IFJ1bnRpbWVGdW5jdGlvbkNhbGxFeHByZXNzaW9uPFJUPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSdW50aW1lRnVuY3Rpb25DYWxsRXhwcmVzc2lvbih0aGlzLCBwYXJlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRPRE9cclxuICAgIHB1YmxpYyBkZXNjcmliZUV2YWxSZXN1bHQoZGVwdGg6IG51bWJlcik6IERlc2NyaXB0aW9uIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBcclxuXHJcbiAgICBcclxuICAgIC8vIGlzVGFpbENoaWxkIDogZnVuY3Rpb24oY2hpbGQpe1xyXG4gICAgLy8gICAgIHJldHVybiB7aXNUYWlsOiBjaGlsZCA9PT0gdGhpcy5mdW5jQ2FsbFxyXG4gICAgLy8gICAgIH07XHJcbiAgICAvLyB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRGdW5jdGlvbkNhbGxFeHByZXNzaW9uPFJUIGV4dGVuZHMgUG90ZW50aWFsUmV0dXJuVHlwZSA9IFBvdGVudGlhbFJldHVyblR5cGU+IGV4dGVuZHMgRnVuY3Rpb25DYWxsRXhwcmVzc2lvbiwgU3VjY2Vzc2Z1bGx5Q29tcGlsZWQge1xyXG4gICAgXHJcbiAgICByZWFkb25seSB0ZW1wb3JhcnlEZWFsbG9jYXRvcj86IENvbXBpbGVkVGVtcG9yYXJ5RGVhbGxvY2F0b3I7IC8vIHRvIG1hdGNoIENvbXBpbGVkUG90ZW50aWFsRnVsbEV4cHJlc3Npb24gc3RydWN0dXJlXHJcblxyXG4gICAgcmVhZG9ubHkgdHlwZTogRnVuY3Rpb25SZXN1bHRUeXBlPFJUPjtcclxuICAgIHJlYWRvbmx5IHZhbHVlQ2F0ZWdvcnk6IEZ1bmN0aW9uVkM8UlQ+O1xyXG4gICAgXHJcbiAgICByZWFkb25seSBvcGVyYW5kOiBDb21waWxlZEZ1bmN0aW9uSWRlbnRpZmllcjtcclxuICAgIHJlYWRvbmx5IGFyZ3M6IHJlYWRvbmx5IENvbXBpbGVkRXhwcmVzc2lvbltdO1xyXG4gICAgcmVhZG9ubHkgY2FsbDogQ29tcGlsZWRGdW5jdGlvbkNhbGw8UlQ+O1xyXG59XHJcblxyXG5jb25zdCBJTkRFWF9GVU5DVElPTl9DQUxMX0VYUFJFU1NJT05fT1BFUkFORCA9IDA7XHJcbmNvbnN0IElOREVYX0ZVTkNUSU9OX0NBTExfRVhQUkVTU0lPTl9DQUxMID0gMTtcclxuY29uc3QgSU5ERVhfRlVOQ1RJT05fQ0FMTF9FWFBSRVNTSU9OX1JFVFVSTiA9IDI7XHJcbmV4cG9ydCBjbGFzcyBSdW50aW1lRnVuY3Rpb25DYWxsRXhwcmVzc2lvbjxSVCBleHRlbmRzIFBvdGVudGlhbFJldHVyblR5cGUgPSBQb3RlbnRpYWxSZXR1cm5UeXBlPiBleHRlbmRzIFJ1bnRpbWVFeHByZXNzaW9uPEZ1bmN0aW9uUmVzdWx0VHlwZTxSVD4sIEZ1bmN0aW9uVkM8UlQ+LCBDb21waWxlZEZ1bmN0aW9uQ2FsbEV4cHJlc3Npb248UlQ+PiB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IG9wZXJhbmQ6IFJ1bnRpbWVGdW5jdGlvbklkZW50aWZpZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgYXJnczogcmVhZG9ubHkgUnVudGltZUV4cHJlc3Npb25bXTtcclxuICAgIHB1YmxpYyByZWFkb25seSBjYWxsOiBSdW50aW1lRnVuY3Rpb25DYWxsPFJUPjtcclxuXHJcbiAgICBwcml2YXRlIGluZGV4IDogdHlwZW9mIElOREVYX0ZVTkNUSU9OX0NBTExfRVhQUkVTU0lPTl9PUEVSQU5EIHwgdHlwZW9mIElOREVYX0ZVTkNUSU9OX0NBTExfRVhQUkVTU0lPTl9DQUxMIHwgdHlwZW9mIElOREVYX0ZVTkNUSU9OX0NBTExfRVhQUkVTU0lPTl9SRVRVUk4gPSBJTkRFWF9GVU5DVElPTl9DQUxMX0VYUFJFU1NJT05fT1BFUkFORDtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IgKG1vZGVsOiBDb21waWxlZEZ1bmN0aW9uQ2FsbEV4cHJlc3Npb248UlQ+LCBwYXJlbnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICBzdXBlcihtb2RlbCwgcGFyZW50KTtcclxuICAgICAgICB0aGlzLm9wZXJhbmQgPSB0aGlzLm1vZGVsLm9wZXJhbmQuY3JlYXRlUnVudGltZUV4cHJlc3Npb24odGhpcyk7XHJcbiAgICAgICAgdGhpcy5hcmdzID0gdGhpcy5tb2RlbC5hcmdzLm1hcCgoYXJnKSA9PiBhcmcuY3JlYXRlUnVudGltZUV4cHJlc3Npb24odGhpcykpO1xyXG4gICAgICAgIHRoaXMuY2FsbCA9IHRoaXMubW9kZWwuY2FsbC5jcmVhdGVSdW50aW1lRnVuY3Rpb25DYWxsKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuXHRwcm90ZWN0ZWQgdXBOZXh0SW1wbCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pbmRleCA9PT0gSU5ERVhfRlVOQ1RJT05fQ0FMTF9FWFBSRVNTSU9OX09QRVJBTkQpIHtcclxuICAgICAgICAgICAgdGhpcy5zaW0ucHVzaCh0aGlzLm9wZXJhbmQpO1xyXG4gICAgICAgICAgICB0aGlzLmluZGV4ID0gSU5ERVhfRlVOQ1RJT05fQ0FMTF9FWFBSRVNTSU9OX0NBTEw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaW5kZXggPT09IElOREVYX0ZVTkNUSU9OX0NBTExfRVhQUkVTU0lPTl9DQUxMKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2ltLnB1c2godGhpcy5jYWxsKTtcclxuICAgICAgICAgICAgdGhpcy5pbmRleCA9IElOREVYX0ZVTkNUSU9OX0NBTExfRVhQUkVTU0lPTl9SRVRVUk47XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmluZGV4ID09PSBJTkRFWF9GVU5DVElPTl9DQUxMX0VYUFJFU1NJT05fUkVUVVJOICkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5tb2RlbC50eXBlIGluc3RhbmNlb2YgVm9pZFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuc2V0RXZhbFJlc3VsdChudWxsKTsgLy8gVE9ETzogdHlwZSBzeXN0ZW0gd29uJ3QgYWxsb3cgdGhpcyBjdXJyZW50bHlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuaXNSZWZlcmVuY2VUeXBlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gYnkgcmVmZXJlbmNlIGlzIGx2YWx1ZSBhbmQgeWllbGRzIHRoZSByZXR1cm5lZCBvYmplY3RcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0RXZhbFJlc3VsdCg8VkNSZXN1bHRUeXBlczxGdW5jdGlvblJlc3VsdFR5cGU8UlQ+LCBGdW5jdGlvblZDPFJUPj4+dGhpcy5jYWxsLmNhbGxlZEZ1bmN0aW9uLnJldHVybk9iamVjdCEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMubW9kZWwuaXNBdG9taWNUeXBlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gYnkgdmFsdWUgb2YgYXRvbWljIHR5cGUuIEluIHRoaXMgY2FzZSwgd2UgY2FuIGxvb2sgdXBcclxuICAgICAgICAgICAgICAgIC8vIHRoZSB2YWx1ZSBvZiB0aGUgcmV0dXJuIG9iamVjdCBhbmQgdXNlIHRoYXQgYXMgdGhlIGV2YWwgcmVzdWx0XHJcbiAgICAgICAgICAgICAgICBsZXQgcmV0T2JqID0gPENQUE9iamVjdDxBdG9taWNUeXBlPj48dW5rbm93bj50aGlzLmNhbGwuY2FsbGVkRnVuY3Rpb24ucmV0dXJuT2JqZWN0ITsgLy8gSSBkb24ndCB1bmRlcnN0YW5kIHdoeSBUeXBlc2NyaXB0IGZvcmNlcyB0aGUgaGFyZCBjYXN0IGhlcmVcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0RXZhbFJlc3VsdCg8VkNSZXN1bHRUeXBlczxGdW5jdGlvblJlc3VsdFR5cGU8UlQ+LCBGdW5jdGlvblZDPFJUPj4+cmV0T2JqLmdldFZhbHVlKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIGJ5IHZhbHVlIG9mIGEgbm9uLWF0b21pYyB0eXBlLiBJbiB0aGlzIGNhc2UsIGl0J3Mgc3RpbGwgYSBwcnZhbHVlXHJcbiAgICAgICAgICAgICAgICAvLyBidXQgaXMgdGhlIHRlbXBvcmFyeSBvYmplY3QgcmF0aGVyIHRoYW4gaXRzIHZhbHVlLlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRFdmFsUmVzdWx0KDxWQ1Jlc3VsdFR5cGVzPEZ1bmN0aW9uUmVzdWx0VHlwZTxSVD4sIEZ1bmN0aW9uVkM8UlQ+Pj50aGlzLmNhbGwuY2FsbGVkRnVuY3Rpb24ucmV0dXJuT2JqZWN0ISk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zaW0ucG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBzdGVwRm9yd2FyZEltcGwoKSB7XHJcbiAgICAgICAgLy8gbm90aGluZyB0byBkb1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBPTEQgc3R1ZmYga2VwdCBpbiBjYXNlIGl0J3MgcmVsZXZhbnQgZm9yIG9wZXJhdG9yIG92ZXJsb2FkcywgYnV0IHByb2JhYmx5IHdvbid0IGJlIG5lZWRlZFxyXG4vLyBleHBvcnQgdmFyIEZ1bmN0aW9uQ2FsbEV4cHJlc3Npb24gID0gRXhwcmVzc2lvbi5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiRnVuY3Rpb25DYWxsRXhwcmVzc2lvblwiLFxyXG4vLyAgICAgaW5pdEluZGV4OiBcIm9wZXJhbmRcIixcclxuXHJcbiAgICAvLyBiaW5kRnVuY3Rpb24gOiBmdW5jdGlvbihhcmdUeXBlcyl7XHJcbiAgICAvLyAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgLy8gICAgIGlmIChpc0EodGhpcy5vcGVyYW5kLnR5cGUsIFR5cGVzLkNsYXNzKSl7XHJcbiAgICAvLyAgICAgICAgIC8vIENoZWNrIGZvciBmdW5jdGlvbiBjYWxsIG9wZXJhdG9yIGFuZCBpZiBzbywgZmluZCBmdW5jdGlvblxyXG4gICAgLy8gICAgICAgICAvLyBUT0RPOiBJIHRoaW5rIHRoaXMgYnJlYWtzIGdpdmVuIG11bHRpcGxlIG92ZXJsb2FkZWQgZnVuY3Rpb24gY2FsbCBvcGVyYXRvcnM/XHJcblxyXG4gICAgLy8gICAgICAgICB0cnl7XHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLmNhbGxPcCA9IHRoaXMub3BlcmFuZC50eXBlLmNsYXNzU2NvcGUucmVxdWlyZWRNZW1iZXJMb29rdXAoXCJvcGVyYXRvcigpXCIsIHtwYXJhbVR5cGVzOmFyZ1R5cGVzLCBpc1RoaXNDb25zdDogdGhpcy5vcGVyYW5kLnR5cGUuaXNDb25zdH0pO1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5ib3VuZEZ1bmN0aW9uID0gdGhpcy5jYWxsT3A7XHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLnR5cGUgPSBub1JlZih0aGlzLmNhbGxPcC50eXBlLnJldHVyblR5cGUpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIGNhdGNoKGUpe1xyXG4gICAgLy8gICAgICAgICAgICAgaWYgKGlzQShlLCBTZW1hbnRpY0V4Y2VwdGlvbnMuQmFkTG9va3VwKSl7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RlKENQUEVycm9yLmV4cHIuZnVuY3Rpb25DYWxsLm5vdF9kZWZpbmVkKHRoaXMsIHRoaXMub3BlcmFuZC50eXBlLCBhcmdUeXBlcykpO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90ZShlLmFubm90YXRpb24odGhpcykpO1xyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgZWxzZXtcclxuICAgIC8vICAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2UgaWYgKGlzQSh0aGlzLm9wZXJhbmQuZW50aXR5LCBGdW5jdGlvbkVudGl0eSkpeyAvLyBUT0RPOiB1c2Ugb2YgZW50aXR5IHByb3BlcnR5IGhlcmUgZmVlbHMgaGFja3lcclxuICAgIC8vICAgICAgICAgLy8gSWYgaXQncyBhbiBpZGVudGlmaWVyLCBkb3QsIGFycm93LCBldGMuIHRoYXQgZGVub3RlIGFuIGVudGl0eSAtIGp1c3QgYmluZCB0aGF0XHJcbiAgICAvLyAgICAgICAgIHRoaXMuc3RhdGljRnVuY3Rpb24gPSB0aGlzLm9wZXJhbmQuZW50aXR5O1xyXG4gICAgLy8gICAgICAgICB0aGlzLnN0YXRpY0Z1bmN0aW9uVHlwZSA9IHRoaXMuc3RhdGljRnVuY3Rpb24udHlwZTtcclxuICAgIC8vICAgICAgICAgdGhpcy5ib3VuZEZ1bmN0aW9uID0gdGhpcy5vcGVyYW5kLmVudGl0eTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZSBpZiAoaXNBKHRoaXMub3BlcmFuZC50eXBlLCBUeXBlcy5Qb2ludGVyKSAmJiBpc0EodGhpcy5vcGVyYW5kLnR5cGUucHRyVG8sIFR5cGVzLkZ1bmN0aW9uKSl7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuc3RhdGljRnVuY3Rpb25UeXBlID0gdGhpcy5vcGVyYW5kLnR5cGUucHRyVG87XHJcbiAgICAvLyAgICAgICAgIHRoaXMuYm91bmRGdW5jdGlvbiA9IFBvaW50ZWRGdW5jdGlvbkVudGl0eS5pbnN0YW5jZSh0aGlzLm9wZXJhbmQudHlwZS5wdHJUbyk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMub3BlcmFuZCA9IGNvbnZlcnRUb1BSVmFsdWUodGhpcy5vcGVyYW5kKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZSBpZiAoaXNBKHRoaXMub3BlcmFuZC50eXBlLCBUeXBlcy5GdW5jdGlvbikpe1xyXG4gICAgLy8gICAgICAgICB0aGlzLnN0YXRpY0Z1bmN0aW9uVHlwZSA9IHRoaXMub3BlcmFuZC50eXBlO1xyXG4gICAgLy8gICAgICAgICB0aGlzLmJvdW5kRnVuY3Rpb24gPSBQb2ludGVkRnVuY3Rpb25FbnRpdHkuaW5zdGFuY2UodGhpcy5vcGVyYW5kLnR5cGUpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBlbHNle1xyXG4gICAgLy8gICAgICAgICB0aGlzLmFkZE5vdGUoQ1BQRXJyb3IuZXhwci5mdW5jdGlvbkNhbGwub3BlcmFuZCh0aGlzLCB0aGlzLm9wZXJhbmQpKTtcclxuICAgIC8vICAgICB9XHJcblxyXG4gICAgLy8gfSxcclxuXHJcblxyXG4vLyB9KTsiLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSBcIi4uL3V0aWwvb2JzZXJ2ZVwiO1xyXG5pbXBvcnQgeyBQcm9ncmFtLCBDb21waWxlZFByb2dyYW0gfSBmcm9tIFwiLi9Qcm9ncmFtXCI7XHJcbmltcG9ydCB7IE1lbW9yeSwgVmFsdWUgfSBmcm9tIFwiLi9ydW50aW1lRW52aXJvbm1lbnRcIjtcclxuaW1wb3J0IHsgUnVudGltZUNvbnN0cnVjdCwgUnVudGltZUZ1bmN0aW9uIH0gZnJvbSBcIi4vY29uc3RydWN0c1wiO1xyXG5pbXBvcnQgeyBDUFBSYW5kb20sIE11dGFibGUsIGVzY2FwZVN0cmluZyB9IGZyb20gXCIuLi91dGlsL3V0aWxcIjtcclxuaW1wb3J0IHsgRHluYW1pY09iamVjdCwgTWFpblJldHVybk9iamVjdCB9IGZyb20gXCIuL29iamVjdHNcIjtcclxuaW1wb3J0IHsgSW50LCBQb2ludGVyVHlwZSwgQ2hhciB9IGZyb20gXCIuL3R5cGVzXCI7XHJcbmltcG9ydCB7IEluaXRpYWxpemVyIH0gZnJvbSBcIi4vaW5pdGlhbGl6ZXJzXCI7XHJcblxyXG5cclxuZXhwb3J0IGVudW0gU2ltdWxhdGlvbkV2ZW50IHtcclxuICAgIFVOREVGSU5FRF9CRUhBVklPUiA9IFwidW5kZWZpbmVkX2JlaGF2aW9yXCIsXHJcbiAgICBVTlNQRUNJRklFRF9CRUhBVklPUiA9IFwidW5zcGVjaWZpZWRfYmVoYXZpb3JcIixcclxuICAgIElNUExFTUVOVEFUSU9OX0RFRklORURfQkVIQVZJT1IgPSBcImltcGxlbWVudGF0aW9uX2RlZmluZWRfYmVoYXZpb3JcIixcclxuICAgIE1FTU9SWV9MRUFLID0gXCJtZW1vcnlfbGVha1wiLFxyXG4gICAgQVNTRVJUSU9OX0ZBSUxVUkUgPSBcImFzc2VydGlvbl9mYWlsdXJlXCIsXHJcbiAgICBDUkFTSCA9IFwiY3Jhc2hcIixcclxufVxyXG5cclxuLy8gVE9ETzogYWRkIG9ic2VydmVyIHN0dWZmXHJcbmV4cG9ydCBjbGFzcyBTaW11bGF0aW9uIHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKHRoaXMpO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBwcm9ncmFtOiBDb21waWxlZFByb2dyYW07XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IG1lbW9yeTogTWVtb3J5O1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2V4ZWNTdGFjazogUnVudGltZUNvbnN0cnVjdFtdO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGV4ZWNTdGFjazogcmVhZG9ubHkgUnVudGltZUNvbnN0cnVjdFtdO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSByYW5kb20gPSBuZXcgQ1BQUmFuZG9tKCk7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHN0ZXBzVGFrZW4gOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgYXRFbmQ6IGJvb2xlYW47XHJcblxyXG4gICAgcHJpdmF0ZSBwZW5kaW5nTmV3cyA6IER5bmFtaWNPYmplY3RbXTtcclxuICAgIHByaXZhdGUgbGVha0NoZWNrSW5kZXggOiBudW1iZXI7XHJcblxyXG4gICAgLy8gVE9ETzogaXMgdGhpcyBhY3R1YWxseSBzZXQgYW53aGVyZT9cclxuICAgIHByaXZhdGUgYWxlcnRzT2ZmID0gZmFsc2U7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZXZlbnRzT2NjdXJyZWQgOiB7XHJcbiAgICAgICAgW3AgaW4gU2ltdWxhdGlvbkV2ZW50XTogc3RyaW5nW107XHJcbiAgICB9ID0ge1xyXG4gICAgICAgIFwidW5kZWZpbmVkX2JlaGF2aW9yXCIgOiBbXSxcclxuICAgICAgICBcInVuc3BlY2lmaWVkX2JlaGF2aW9yXCIgOiBbXSxcclxuICAgICAgICBcImltcGxlbWVudGF0aW9uX2RlZmluZWRfYmVoYXZpb3JcIiA6IFtdLFxyXG4gICAgICAgIFwibWVtb3J5X2xlYWtcIiA6IFtdLFxyXG4gICAgICAgIFwiYXNzZXJ0aW9uX2ZhaWx1cmVcIiA6IFtdLFxyXG4gICAgICAgIFwiY3Jhc2hcIiA6IFtdXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZXZlbnRzT2NjdXJyZWQgOiB7XHJcbiAgICAgICAgW3AgaW4gU2ltdWxhdGlvbkV2ZW50XTogcmVhZG9ubHkgc3RyaW5nW107XHJcbiAgICB9ID0gdGhpcy5fZXZlbnRzT2NjdXJyZWQ7XHJcblxyXG4gICAgLy8gTUFYX1NQRUVEOiAtMTM0NDUsIC8vIGxvbCBUT0RPXHJcblxyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBtYWluUmV0dXJuT2JqZWN0ITogTWFpblJldHVybk9iamVjdDtcclxuICAgIHB1YmxpYyByZWFkb25seSBtYWluRnVuY3Rpb24hOiBSdW50aW1lRnVuY3Rpb248SW50PjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9ncmFtOiBDb21waWxlZFByb2dyYW0pIHtcclxuICAgICAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtO1xyXG5cclxuICAgICAgICAvLyBUT0RPIFNpbXVsYXRpb25SdW5uZXIgdGhpcy5zcGVlZCA9IFNpbXVsYXRpb24uTUFYX1NQRUVEO1xyXG5cclxuICAgICAgICAvLyBUaGVzZSB0aGluZ3MgbmVlZCBiZSByZXNldCB3aGVuIHRoZSBzaW11bGF0aW9uIGlzIHJlc2V0XHJcbiAgICAgICAgdGhpcy5tZW1vcnkgPSBuZXcgTWVtb3J5KCk7XHJcbiAgICAgICAgLy8gdGhpcy5jb25zb2xlID0gVmFsdWVFbnRpdHkuaW5zdGFuY2UoXCJjb25zb2xlXCIsIFwiXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmV4ZWNTdGFjayA9IHRoaXMuX2V4ZWNTdGFjayA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLnBlbmRpbmdOZXdzID0gW107XHJcbiAgICAgICAgdGhpcy5sZWFrQ2hlY2tJbmRleCA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc3RlcHNUYWtlbiA9IDA7XHJcbiAgICAgICAgdGhpcy5hdEVuZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBpc1BhdXNlZCA9IHRydWU7XHJcblxyXG5cclxuICAgIHB1YmxpYyBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLmFsbG9jYXRlU3RyaW5nTGl0ZXJhbHMoKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDaGFuZ2Ugc3RhdGljIGluaXRpYWxpemF0aW9uIHNvIGl0IGlzIHdyYXBwZWQgdXAgaW4gaXRzIG93biBjb25zdHJ1Y3QgYW5kXHJcbiAgICAgICAgLy8gcnVudGltZSBjb25zdHJ1Y3QgcGFpciBzcGVjaWZpY2FsbHkgZm9yIHRoYXQgcHVycG9zZS4gVGhhdCBjb25zdHJ1Y3QgY291bGRcclxuICAgICAgICAvLyBhbHNvIG9wdGlvbmFsbHkgY3JlYXRlIGFuZCBwdXNoIHRoZSBtYWluIGNhbGwgdGFraW5nIG92ZXIgd2hhdCBpcyBjdXJyZW50bHlcclxuICAgICAgICAvLyBpbiB0aGlzLmNhbGxNYWluKClcclxuXHJcbiAgICAgICAgdGhpcy5jYWxsTWFpbigpO1xyXG4gICAgICAgIHRoaXMucHVzaCh0aGlzLnByb2dyYW0uZ2xvYmFsT2JqZWN0QWxsb2NhdG9yLmNyZWF0ZVJ1bnRpbWVDb25zdHJ1Y3QodGhpcykpO1xyXG5cclxuICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcInN0YXJ0ZWRcIik7XHJcblxyXG4gICAgICAgIC8vIE5lZWRlZCBmb3Igd2hhdGV2ZXIgaXMgZmlyc3Qgb24gdGhlIGV4ZWN1dGlvbiBzdGFja1xyXG4gICAgICAgIHRoaXMudXBOZXh0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjYWxsTWFpbigpIHtcclxuICAgICAgICAoPE11dGFibGU8dGhpcz4+dGhpcykubWFpblJldHVybk9iamVjdCA9IG5ldyBNYWluUmV0dXJuT2JqZWN0KHRoaXMubWVtb3J5KTtcclxuICAgICAgICAoPE11dGFibGU8dGhpcz4+dGhpcykubWFpbkZ1bmN0aW9uID0gbmV3IFJ1bnRpbWVGdW5jdGlvbih0aGlzLnByb2dyYW0ubWFpbkZ1bmN0aW9uLCB0aGlzKTtcclxuICAgICAgICB0aGlzLm1haW5GdW5jdGlvbi5zZXRSZXR1cm5PYmplY3QodGhpcy5tYWluUmV0dXJuT2JqZWN0KTtcclxuICAgICAgICB0aGlzLm1haW5GdW5jdGlvbi5wdXNoU3RhY2tGcmFtZSgpO1xyXG4gICAgICAgIHRoaXMucHVzaCh0aGlzLm1haW5GdW5jdGlvbik7XHJcbiAgICAgICAgdGhpcy5tYWluRnVuY3Rpb24uZ2FpbkNvbnRyb2woKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIHB1c2gocnQ6IFJ1bnRpbWVDb25zdHJ1Y3QpIHtcclxuICAgICAgICB0aGlzLl9leGVjU3RhY2sucHVzaChydCk7XHJcbiAgICAgICAgcnQucHVzaGVkKCk7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJwdXNoZWRcIiwgcnQpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgdG9wKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmV4ZWNTdGFjay5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV4ZWNTdGFja1t0aGlzLmV4ZWNTdGFjay5sZW5ndGggLSAxXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIHRoZSB0b3AgcnVudGltZSBjb25zdHJ1Y3QgZnJvbSB0aGUgZXhlY3V0aW9uIHN0YWNrLlxyXG4gICAgICogRG9lcyBub3RoaW5nIGlmIHRoZXJlJ3Mgbm90aGluZyBvbiB0aGUgZXhlY3V0aW9uIHN0YWNrLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcG9wKCkge1xyXG4gICAgICAgIGxldCBwb3BwZWQgPSB0aGlzLl9leGVjU3RhY2sucG9wKCk7XHJcbiAgICAgICAgLy8gaWYgKHBvcHBlZCkge1xyXG4gICAgICAgIC8vICAgICBwb3BwZWQucG9wcGVkKCk7XHJcbiAgICAgICAgLy8gICAgIGlmIChwb3BwZWQuc3RhY2tUeXBlID09PSBcInN0YXRlbWVudFwiIHx8IHBvcHBlZC5zdGFja1R5cGUgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy5sZWFrQ2hlY2soKTsgLy8gVE9ETyBsZWFrIGNoZWNraW5nXHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgcmV0dXJuIHBvcHBlZDtcclxuICAgIH1cclxuXHJcbiAgICAvL1RPRE86IHRoaXMgbWF5IGJlIGRhbmdlcm91cyBkZXBlbmRpbmcgb24gd2hldGhlciB0aGVyZSBhcmUgY2FzZXMgdGhpcyBjb3VsZCBza2lwIHRlbXBvcmFyeSBkZWFsbG9jYXRvcnMgb3IgZGVzdHJ1Y3RvcnNcclxuICAgIHB1YmxpYyBwb3BVbnRpbChydDogUnVudGltZUNvbnN0cnVjdCkge1xyXG4gICAgICAgIHdoaWxlKHRoaXMuX2V4ZWNTdGFjay5sZW5ndGggPiAwICYmIHRoaXMuX2V4ZWNTdGFja1t0aGlzLl9leGVjU3RhY2subGVuZ3RoIC0gMV0gIT09IHJ0KSB7XHJcbiAgICAgICAgICAgIHRoaXMucG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b3BGdW5jdGlvbigpIDogUnVudGltZUZ1bmN0aW9uIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5leGVjU3RhY2subGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcclxuICAgICAgICAgICAgbGV0IHJ1bnRpbWVDb25zdHJ1Y3QgPSB0aGlzLmV4ZWNTdGFja1tpXTtcclxuICAgICAgICAgICAgaWYgKHJ1bnRpbWVDb25zdHJ1Y3QgaW5zdGFuY2VvZiBSdW50aW1lRnVuY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBydW50aW1lQ29uc3RydWN0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWxsb2NhdGVTdHJpbmdMaXRlcmFscygpIHtcclxuICAgICAgICBsZXQgdHVzID0gdGhpcy5wcm9ncmFtLnRyYW5zbGF0aW9uVW5pdHM7XHJcbiAgICAgICAgZm9yKGxldCB0dU5hbWUgaW4gdHVzKSB7XHJcbiAgICAgICAgICAgIHR1c1t0dU5hbWVdLnN0cmluZ0xpdGVyYWxzLmZvckVhY2goKGxpdCkgPT4geyB0aGlzLm1lbW9yeS5hbGxvY2F0ZVN0cmluZ0xpdGVyYWwobGl0KTsgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcblx0cHVibGljIHN0ZXBGb3J3YXJkKG46IG51bWJlciA9IDEpIHtcclxuXHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgIXRoaXMuYXRFbmQgJiYgaSA8IG47ICsraSl7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0ZXBGb3J3YXJkKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcImFmdGVyRnVsbFN0ZXBcIiwgdGhpcy5leGVjU3RhY2subGVuZ3RoID4gMCAmJiB0aGlzLmV4ZWNTdGFja1t0aGlzLmV4ZWNTdGFjay5sZW5ndGggLSAxXSk7XHJcblx0fVxyXG5cclxuICAgIHByaXZhdGUgX3N0ZXBGb3J3YXJkKCkge1xyXG5cclxuICAgICAgICAvLyBUb3AgcnQgY29uc3RydWN0IHdpbGwgZG8gc3R1ZmZcclxuICAgICAgICBsZXQgcnQgPSB0aGlzLnRvcCgpO1xyXG5cclxuICAgICAgICBpZiAoIXJ0KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFN0ZXAgZm9yd2FyZCBvbiB0aGUgcnQgY29uc3RydWN0XHJcbiAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJiZWZvcmVTdGVwRm9yd2FyZFwiLCB7cnQ6IHJ0fSk7XHJcbiAgICAgICAgcnQuc3RlcEZvcndhcmQoKTtcclxuICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcImFmdGVyU3RlcEZvcndhcmRcIiwge3J0OiBydH0pO1xyXG5cclxuICAgICAgICArKyg8TXV0YWJsZTx0aGlzPj50aGlzKS5zdGVwc1Rha2VuO1xyXG5cclxuICAgICAgICAvLyBBZnRlciBlYWNoIHN0ZXAgY2FsbCB1cE5leHQuIE5vdGUgdGhhdCB0aGUgXCJ1cCBuZXh0XCIgY29uc3RydWN0IG1heVxyXG4gICAgICAgIC8vIGJlIGRpZmZlcmVudCBpZiBydCBwb3BwZWQgaXRzZWxmIG9mZiB0aGUgc3RhY2suIHVwTmV4dCBhbHNvIGNoZWNrc1xyXG4gICAgICAgIC8vIHRvIHNlZSBpZiB0aGUgc2ltdWxhdGlvbiBpcyBkb25lLlxyXG4gICAgICAgIHRoaXMudXBOZXh0KCk7XHJcblxyXG4gICAgfVxyXG5cclxuXHRwcml2YXRlIHVwTmV4dCgpIHtcclxuXHJcbiAgICAgICAgd2hpbGUodHJ1ZSkge1xyXG5cclxuICAgICAgICAgICAgLy8gR3JhYiB0aGUgcnQgY29uc3RydWN0IHRoYXQgaXMgb24gdG9wIG9mIHRoZSBleGVjdXRpb24gc3RhY2sgYW5kIHVwIG5leHRcclxuICAgICAgICAgICAgbGV0IHJ0ID0gdGhpcy50b3AoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiBzaW11bGF0aW9uIGlzIGRvbmVcclxuICAgICAgICAgICAgaWYgKCFydCkge1xyXG4gICAgICAgICAgICAgICAgKDxNdXRhYmxlPHRoaXM+PnRoaXMpLmF0RW5kID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMub2JzZXJ2YWJsZS5zZW5kKFwiYXRFbmRlZFwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIC8vIHVwIG5leHQgb24gdGhlIHJ0IGNvbnN0cnVjdFxyXG4gICAgICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcImJlZm9yZVVwTmV4dFwiLCB7cnQ6IHJ0fSk7XHJcbiAgICAgICAgICAgIHJ0LnVwTmV4dCgpO1xyXG4gICAgICAgICAgICB0aGlzLm9ic2VydmFibGUuc2VuZChcImFmdGVyVXBOZXh0XCIsIHtpbnN0OiBydH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgdGhlIHJ0IGNvbnN0cnVjdCBvbiB0b3Agb2YgdGhlIGV4ZWN1dGlvbiBzdGFjayBoYXMgY2hhbmdlZCwgaXQgbmVlZHNcclxuICAgICAgICAgICAgLy8gdG8gYmUgbm90aWZpZWQgdGhhdCBpdCBpcyBub3cgdXAgbmV4dCwgc28gd2Ugc2hvdWxkIGxldCB0aGUgbG9vcCBnbyBhZ2Fpbi5cclxuICAgICAgICAgICAgLy8gSG93ZXZlciwgaWYgcnQgaXMgc3RpbGwgb24gdG9wLCB3ZSBwcmVzdW1lIGl0IGlzIHdhaXRpbmcgZm9yIHRoZSBuZXh0XHJcbiAgICAgICAgICAgIC8vIHN0ZXBGb3J3YXJkIChhbmQgaXQgaGFzbid0IGFkZGVkIGFueSBjaGlsZHJlbiksIHNvIHdlIGp1c3QgYnJlYWsgdGhlIGxvb3AuXHJcbiAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBpZiB0aGUgZXhlY3V0aW9uIHN0YWNrIGJlY29tZXMgZW1wdHksIHdlIGRvIG5vdCBoaXQgdGhlIGJyZWFrIChiZWNhdXNlXHJcbiAgICAgICAgICAgIC8vIHdlIGNhbiBhc3N1bWUgYXQgdGhpcyBwb2ludCBpdCB3YXMgbm90IGVtcHR5IHByZXZpb3VzbHkpIGFuZCB3aWxsIGxvb3AgYmFjayB0b1xyXG4gICAgICAgICAgICAvLyB0aGUgdG9wIHdoZXJlIHRoZSBjaGVjayBmb3IgYW4gZW1wdHkgc3RhY2sgaXMgcGVyZm9ybWVkLlxyXG4gICAgICAgICAgICBpZihydCA9PT0gdGhpcy50b3AoKSkge1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7IC8vIE5vdGUgdGhpcyB3aWxsIG5vdCBvY2N1ciB3aGVuIHRoZW4gXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBzdGVwVG9FbmQoKSB7XHJcbiAgICAgICAgd2hpbGUgKCF0aGlzLmF0RW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RlcEZvcndhcmQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc3RlcE92ZXI6IGZ1bmN0aW9uKG9wdGlvbnMpe1xyXG4gICAgLy8gICAgIHZhciB0YXJnZXQgPSB0aGlzLnBlZWsoZnVuY3Rpb24oaW5zdCl7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiBpc0EoaW5zdC5tb2RlbCwgSW5pdGlhbGl6ZXIpIHx8IGlzQShpbnN0Lm1vZGVsLCBFeHByZXNzaW9ucy5GdW5jdGlvbkNhbGxFeHByZXNzaW9uKSB8fCAhaXNBKGluc3QubW9kZWwsIEV4cHJlc3Npb25zLkV4cHJlc3Npb24pO1xyXG4gICAgLy8gICAgIH0pO1xyXG5cclxuICAgIC8vICAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuYXV0b1J1bihjb3B5TWl4aW4ob3B0aW9ucywge1xyXG4gICAgLy8gICAgICAgICAgICAgcGF1c2VJZjogZnVuY3Rpb24oKXtcclxuICAgIC8vICAgICAgICAgICAgICAgICByZXR1cm4gIXRhcmdldC5pc0FjdGl2ZTtcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgfSkpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBlbHNle1xyXG4gICAgLy8gICAgICAgICB0aGlzLnN0ZXBGb3J3YXJkKCk7XHJcbiAgICAvLyAgICAgICAgIG9wdGlvbnMuYWZ0ZXIgJiYgb3B0aW9ucy5hZnRlcigpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH0sXHJcblxyXG4gICAgLy8gc3RlcE91dDogZnVuY3Rpb24ob3B0aW9ucyl7XHJcbiAgICAvLyAgICAgdmFyIHRhcmdldCA9IHRoaXMuaV9leGVjU3RhY2subGFzdCgpLmNvbnRhaW5pbmdGdW5jdGlvbigpO1xyXG5cclxuICAgIC8vICAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuYXV0b1J1bihjb3B5TWl4aW4ob3B0aW9ucywge1xyXG4gICAgLy8gICAgICAgICAgICAgcGF1c2VJZjogZnVuY3Rpb24oKXtcclxuICAgIC8vICAgICAgICAgICAgICAgICByZXR1cm4gIXRhcmdldC5pc0FjdGl2ZTtcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgfSkpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBlbHNle1xyXG4gICAgLy8gICAgICAgICB0aGlzLnN0ZXBGb3J3YXJkKCk7XHJcbiAgICAvLyAgICAgICAgIG9wdGlvbnMuYWZ0ZXIgJiYgb3B0aW9ucy5hZnRlcigpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH0sXHJcblxyXG5cclxuXHQvLyBzdGVwQmFja3dhcmQgOiBmdW5jdGlvbihuKXtcclxuICAgIC8vICAgICBpZiAobiA9PT0gMCl7XHJcbiAgICAvLyAgICAgICAgIHJldHVybjtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgbiA9IG4gfHwgMTtcclxuXHQvLyBcdCQuZngub2ZmID0gdHJ1ZTtcclxuXHQvLyBcdE91dGxldHMuQ1BQLkNQUF9BTklNQVRJT05TID0gZmFsc2U7IC8vIFRPRE8gbm90IHN1cmUgSSBuZWVkIHRoaXNcclxuICAgIC8vICAgICB0aGlzLmlfYWxlcnRzT2ZmID0gdHJ1ZTtcclxuICAgIC8vICAgICB0aGlzLmlfZXhwbGFpbk9mZiA9IHRydWU7XHJcbiAgICAvLyAgICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJub1RyYW5zaXRpb25zXCIpLmhlaWdodCgpOyAvLyAuaGVpZ2h0KCkgaXMgdG8gZm9yY2UgcmVmbG93XHJcbiAgICAvLyAgICAgLy9SdW50aW1lQ29uc3RydWN0LnByb3RvdHlwZS5zaWxlbnQgPSB0cnVlO1xyXG5cdC8vIFx0aWYgKHRoaXMuaV9zdGVwc1Rha2VuID4gMCl7XHJcblx0Ly8gXHRcdHRoaXMuY2xlYXIoKTtcclxuXHQvLyBcdFx0dmFyIHN0ZXBzID0gdGhpcy5pX3N0ZXBzVGFrZW4tbjtcclxuXHQvLyBcdFx0dGhpcy5zdGFydCgpO1xyXG5cdC8vIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc3RlcHM7ICsraSl7XHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLnN0ZXBGb3J3YXJkKCk7XHJcblx0Ly8gXHRcdH1cclxuXHQvLyBcdH1cclxuICAgIC8vICAgICAvL1J1bnRpbWVDb25zdHJ1Y3QucHJvdG90eXBlLnNpbGVudCA9IGZhbHNlO1xyXG4gICAgLy8gICAgICQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibm9UcmFuc2l0aW9uc1wiKS5oZWlnaHQoKTsgLy8gLmhlaWdodCgpIGlzIHRvIGZvcmNlIHJlZmxvd1xyXG4gICAgLy8gICAgIHRoaXMuaV9hbGVydHNPZmYgPSBmYWxzZTtcclxuICAgIC8vICAgICB0aGlzLmlfZXhwbGFpbk9mZiA9IGZhbHNlO1xyXG4gICAgLy8gICAgIE91dGxldHMuQ1BQLkNQUF9BTklNQVRJT05TID0gdHJ1ZTtcclxuXHQvLyBcdCQuZngub2ZmID0gZmFsc2U7XHJcblxyXG5cdC8vIH0sXHJcblx0XHJcblx0XHJcblx0XHJcblx0XHJcblx0Ly8gcGVlayA6IGZ1bmN0aW9uKHF1ZXJ5LCByZXR1cm5BcnJheSwgb2Zmc2V0KXtcclxuICAgIC8vICAgICBpZiAodGhpcy5pX2V4ZWNTdGFjay5sZW5ndGggPT09IDApe1xyXG4gICAgLy8gICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIC8vICAgICB9XHJcblx0Ly8gXHRvZmZzZXQgPSBvZmZzZXQgfHwgMDtcclxuXHQvLyBcdGlmIChxdWVyeSl7XHJcblx0Ly8gXHRcdHZhciBwZWVrZWRBcnIgPSBbXTtcclxuXHQvLyBcdFx0dmFyIHBlZWtlZDtcclxuXHQvLyBcdFx0Zm9yICh2YXIgaSA9IHRoaXMuaV9leGVjU3RhY2subGVuZ3RoIC0gMSAtIG9mZnNldDsgaSA+PSAwOyAtLWkpe1xyXG5cdC8vIFx0XHRcdHBlZWtlZCA9IHRoaXMuaV9leGVjU3RhY2tbaV07XHJcblx0Ly8gXHRcdFx0cGVla2VkQXJyLnVuc2hpZnQocGVla2VkKTtcclxuICAgIC8vICAgICAgICAgICAgIGlmICh0eXBlb2YgcXVlcnkgPT09IFwiZnVuY3Rpb25cIil7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKHF1ZXJ5KHBlZWtlZCkpe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgIC8vICAgICAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICBlbHNle1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gKHR5cGVvZiBxdWVyeSA9PSBcInN0cmluZ1wiID8gcGVla2VkLnN0YWNrVHlwZSA6IHBlZWtlZCk7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT0gcXVlcnkpe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgIC8vICAgICAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcblx0Ly8gXHRcdH1cclxuXHQvLyBcdFx0cmV0dXJuIChyZXR1cm5BcnJheSA/IHBlZWtlZEFyciA6IHBlZWtlZCk7XHJcblx0Ly8gXHR9XHJcblx0Ly8gXHRlbHNle1xyXG5cdC8vIFx0XHRyZXR1cm4gdGhpcy5pX2V4ZWNTdGFjay5sYXN0KCk7XHJcblx0Ly8gXHR9XHJcblx0Ly8gfSxcclxuXHRcclxuXHQvLyBwZWVrcyA6IGZ1bmN0aW9uKHF1ZXJ5LCByZXR1cm5BcnJheSl7XHJcblx0Ly8gXHR2YXIgcmVzdWx0cyA9IFtdO1xyXG5cdC8vIFx0dmFyIG9mZnNldCA9IDA7XHJcblx0Ly8gXHR3aGlsZSAob2Zmc2V0IDwgdGhpcy5pX2V4ZWNTdGFjay5sZW5ndGgpe1xyXG5cdC8vIFx0XHR2YXIgcCA9IHRoaXMucGVlayhxdWVyeSwgdHJ1ZSwgb2Zmc2V0KTtcclxuXHQvLyBcdFx0b2Zmc2V0ICs9IHAubGVuZ3RoO1xyXG5cdC8vIFx0XHRyZXN1bHRzLnVuc2hpZnQocmV0dXJuQXJyYXkgPyBwIDogcFswXSk7XHJcblx0Ly8gXHR9XHJcblx0Ly8gXHRyZXR1cm4gcmVzdWx0cztcclxuXHQvLyB9LFxyXG5cclxuXHJcbiAgICAvLyBjbGVhclJ1blRocmVhZDogZnVuY3Rpb24oKXtcclxuICAgIC8vICAgICBpZiAodGhpcy5ydW5UaHJlYWQpe1xyXG4gICAgLy8gICAgICAgICB0aGlzLnJ1blRocmVhZENsZWFyZWRGbGFnID0gdHJ1ZTtcclxuICAgIC8vICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucnVuVGhyZWFkKTtcclxuICAgIC8vICAgICAgICAgdGhpcy5ydW5UaHJlYWQgPSBudWxsO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH0sXHJcblxyXG4gICAgLy8gc3RhcnRSdW5UaHJlYWQ6IGZ1bmN0aW9uKGZ1bmMpe1xyXG4gICAgLy8gICAgIHRoaXMucnVuVGhyZWFkID0gc2V0VGltZW91dChmdW5jLCAwKTtcclxuICAgIC8vIH0sXHJcblxyXG4gICAgLy8gYXV0b1J1biA6IGZ1bmN0aW9uKG9wdGlvbnMpe1xyXG4gICAgLy8gICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cclxuICAgIC8vICAgICAvLyBDbGVhciBvbGQgdGhyZWFkXHJcbiAgICAvLyAgICAgdGhpcy5jbGVhclJ1blRocmVhZCgpO1xyXG5cclxuICAgIC8vICAgICB0aGlzLmlfcGF1c2VkID0gZmFsc2U7XHJcblxyXG4gICAgLy8gICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIC8vICAgICB2YXIgZnVuYyA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgLy8gICAgICAgICAvLyBUcnkgdG8gY29tcGxldGUgdGhpcy5zcGVlZCBudW1iZXIgb2Ygc3RlcHMgaW4gMTBtcy5cclxuICAgIC8vICAgICAgICAgdmFyIHN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAvLyAgICAgICAgIGZvcih2YXIgbnVtID0gMDsgc2VsZi5zcGVlZCA9PT0gU2ltdWxhdGlvbi5NQVhfU1BFRUQgfHwgbnVtIDwgc2VsZi5zcGVlZDsgKytudW0pe1xyXG5cclxuICAgIC8vICAgICAgICAgICAgIC8vIERpZCB3ZSBmaW5pc2g/XHJcbiAgICAvLyAgICAgICAgICAgICBpZiAoc2VsZi5pX2F0RW5kKXtcclxuICAgIC8vICAgICAgICAgICAgICAgICBzZWxmLnNlbmQoXCJmaW5pc2hlZFwiKTtcclxuICAgIC8vICAgICAgICAgICAgICAgICBvcHRpb25zLm9uRmluaXNoICYmIG9wdGlvbnMub25GaW5pc2goKTtcclxuICAgIC8vICAgICAgICAgICAgICAgICBvcHRpb25zLmFmdGVyICYmIG9wdGlvbnMuYWZ0ZXIoKTtcclxuICAgIC8vICAgICAgICAgICAgICAgICByZXR1cm47IC8vIGRvIG5vdCByZW5ldyB0aW1lb3V0XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcblxyXG4gICAgLy8gICAgICAgICAgICAgLy8gRGlkIHdlIHBhdXNlP1xyXG4gICAgLy8gICAgICAgICAgICAgaWYgKHNlbGYuaV9wYXVzZWQgfHwgKG9wdGlvbnMucGF1c2VJZiAmJiBvcHRpb25zLnBhdXNlSWYoc2VsZikpKXtcclxuICAgIC8vICAgICAgICAgICAgICAgICBzZWxmLnNlbmQoXCJwYXVzZWRcIik7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgb3B0aW9ucy5vblBhdXNlICYmIG9wdGlvbnMub25QYXVzZSgpO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIG9wdGlvbnMuYWZ0ZXIgJiYgb3B0aW9ucy5hZnRlcigpO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHJldHVybjsgLy8gZG8gbm90IHJlbmV3IHRpbWVvdXRcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuXHJcbiAgICAvLyAgICAgICAgICAgICAvLyBBYm9ydCBpZiB3ZSBydW4gb3V0IG9mIHRpbWVcclxuICAgIC8vICAgICAgICAgICAgIGlmIChEYXRlLm5vdygpIC0gc3RhcnRUaW1lID49IChzZWxmLnNwZWVkID09PSBTaW11bGF0aW9uLk1BWF9TUEVFRCA/IDEwIDogMTAwKSApe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGJyZWFrOyAvLyB3aWxsIHJlbmV3IHRpbWVvdXRcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuXHJcbiAgICAvLyAgICAgICAgICAgICBzZWxmLnN0ZXBGb3J3YXJkKCk7XHJcbiAgICAvLyAgICAgICAgIH1cclxuXHJcbiAgICAvLyAgICAgICAgIC8vIFJlbmV3IHRpbWVvdXRcclxuICAgIC8vICAgICAgICAgaWYgKHNlbGYuc3BlZWQgPT09IFNpbXVsYXRpb24uTUFYX1NQRUVEKXtcclxuICAgIC8vICAgICAgICAgICAgIHNlbGYucnVuVGhyZWFkID0gc2V0VGltZW91dChmdW5jLCAwKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICBlbHNle1xyXG4gICAgLy8gICAgICAgICAgICAgc2VsZi5ydW5UaHJlYWQgPSBzZXRUaW1lb3V0KGZ1bmMsIE1hdGgubWF4KDAsMTAwLShEYXRlLm5vdygpIC0gc3RhcnRUaW1lKSkpO1xyXG4gICAgLy8gICAgICAgICB9XHJcblxyXG4gICAgLy8gICAgIH07XHJcblxyXG4gICAgLy8gICAgIC8vIFN0YXJ0IHRpbWVvdXRcclxuICAgIC8vICAgICB0aGlzLnN0YXJ0UnVuVGhyZWFkKGZ1bmMpO1xyXG4gICAgLy8gfSxcclxuXHJcbiAgICBwdWJsaWMgY291dCh2YWx1ZTogVmFsdWUpIHtcclxuICAgICAgICAvLyBUT0RPOiB3aGVuIG9zdHJlYW1zIGFyZSBpbXBsZW1lbnRlZCBwcm9wZXJseSB3aXRoIG92ZXJsb2FkZWQgPDwsIG1vdmUgdGhlIHNwZWNpYWwgY2FzZSB0aGVyZVxyXG4gICAgICAgIGxldCB0ZXh0ID0gXCJcIjtcclxuICAgICAgICBpZih2YWx1ZS50eXBlIGluc3RhbmNlb2YgUG9pbnRlclR5cGUgJiYgdmFsdWUudHlwZS5wdHJUbyBpbnN0YW5jZW9mIENoYXIpIHtcclxuICAgICAgICAgICAgbGV0IGFkZHIgPSB2YWx1ZS5yYXdWYWx1ZTtcclxuICAgICAgICAgICAgbGV0IGMgPSB0aGlzLm1lbW9yeS5nZXRCeXRlKGFkZHIpO1xyXG4gICAgICAgICAgICB3aGlsZSAoIUNoYXIuaXNOdWxsQ2hhcihjKSkge1xyXG4gICAgICAgICAgICAgICAgdGV4dCArPSB2YWx1ZS50eXBlLnB0clRvLnZhbHVlVG9Pc3RyZWFtU3RyaW5nKGMpO1xyXG4gICAgICAgICAgICAgICAgYyA9IHRoaXMubWVtb3J5LmdldEJ5dGUoKythZGRyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGV4dCA9IGVzY2FwZVN0cmluZyh2YWx1ZS52YWx1ZVRvT3N0cmVhbVN0cmluZygpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJjb3V0OiBcIiArIHRleHQpO1xyXG4gICAgICAgIC8vIHRoaXMuY29uc29sZS5zZXRWYWx1ZSh0aGlzLmNvbnNvbGUudmFsdWUoKSArIHRleHQpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBwdWJsaWMgdW5kZWZpbmVkQmVoYXZpb3IgOiBmdW5jdGlvbihtZXNzYWdlKSB7XHJcbiAgICAvLyAgICAgdGhpcy5ldmVudE9jY3VycmVkKFNpbXVsYXRpb24uRVZFTlRfVU5ERUZJTkVEX0JFSEFWSU9SLCBtZXNzYWdlLCB0cnVlKTtcclxuXHJcbiAgICAvLyB9LFxyXG4gICAgLy8gaW1wbGVtZW50YXRpb25EZWZpbmVkQmVoYXZpb3IgOiBmdW5jdGlvbihtZXNzYWdlKSB7XHJcbiAgICAvLyAgICAgdGhpcy5ldmVudE9jY3VycmVkKFNpbXVsYXRpb24uRVZFTlRfSU1QTEVNRU5UQVRJT05fREVGSU5FRF9CRUhBVklPUiwgbWVzc2FnZSwgdHJ1ZSk7XHJcblxyXG4gICAgLy8gfSxcclxuICAgIC8vIHVuc3BlY2lmaWVkQmVoYXZpb3IgOiBmdW5jdGlvbihtZXNzYWdlKSB7XHJcbiAgICAvLyAgICAgdGhpcy5ldmVudE9jY3VycmVkKFNpbXVsYXRpb24uRVZFTlRfVU5TUEVDSUZJRURfQkVIQVZJT1IsIG1lc3NhZ2UsIHRydWUpO1xyXG5cclxuICAgIC8vIH0sXHJcbiAgICAvLyBtZW1vcnlMZWFrZWQgOiBmdW5jdGlvbihtZXNzYWdlKSB7XHJcbiAgICAvLyAgICAgdGhpcy5ldmVudE9jY3VycmVkKFNpbXVsYXRpb24uRVZFTlRfTUVNT1JZX0xFQUssIG1lc3NhZ2UsIHRydWUpO1xyXG4gICAgLy8gfSxcclxuICAgIC8vIGFzc2VydGlvbkZhaWx1cmUgOiBmdW5jdGlvbihtZXNzYWdlKSB7XHJcbiAgICAvLyAgICAgdGhpcy5ldmVudE9jY3VycmVkKFNpbXVsYXRpb24uRVZFTlRfQVNTRVJUSU9OX0ZBSUxVUkUsIG1lc3NhZ2UsIHRydWUpO1xyXG4gICAgLy8gfSxcclxuICAgIC8vIGNyYXNoIDogZnVuY3Rpb24obWVzc2FnZSl7XHJcbiAgICAvLyAgICAgdGhpcy5ldmVudE9jY3VycmVkKFNpbXVsYXRpb24uRVZFTlRfQ1JBU0gsIG1lc3NhZ2UgKyBcIlxcblxcbiAoTm90ZTogVGhpcyBpcyBhIG5hc3R5IGVycm9yIGFuZCBJIG1heSBub3QgYmUgYWJsZSB0byByZWNvdmVyLiBDb250aW51ZSBhdCB5b3VyIG93biByaXNrLilcIiwgdHJ1ZSk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgcHVibGljIGV2ZW50T2NjdXJyZWQoZXZlbnQ6IFNpbXVsYXRpb25FdmVudCwgbWVzc2FnZTogc3RyaW5nLCBzaG93QWxlcnQ6IGJvb2xlYW4pIHtcclxuICAgICAgICB0aGlzLl9ldmVudHNPY2N1cnJlZFtldmVudF0ucHVzaChtZXNzYWdlKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoc2hvd0FsZXJ0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWxlcnQobWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBoYXNFdmVudE9jY3VycmVkKGV2ZW50OiBTaW11bGF0aW9uRXZlbnQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ldmVudHNPY2N1cnJlZFtldmVudF0ubGVuZ3RoID4gMDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJpdmF0ZSBhbGVydChtZXNzYWdlOiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAoIXRoaXMuYWxlcnRzT2ZmKXtcclxuICAgICAgICAgICAgdGhpcy5vYnNlcnZhYmxlLnNlbmQoXCJhbGVydFwiLCBtZXNzYWdlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZXhwbGFpbiA6IGZ1bmN0aW9uKGV4cCl7XHJcbiAgICAvLyAgICAgLy9hbGVydChleHAuaWdub3JlKTtcclxuICAgIC8vICAgICBpZiAoIXRoaXMuaV9leHBsYWluT2ZmKXtcclxuICAgIC8vICAgICAgICAgaWYgKCFleHAuaWdub3JlKSB7XHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLnNlbmQoXCJleHBsYWluXCIsIGV4cC5tZXNzYWdlKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH0sXHJcbiAgICAvLyBjbG9zZU1lc3NhZ2UgOiBmdW5jdGlvbigpe1xyXG4gICAgLy8gICAgIHRoaXMuc2VuZChcImNsb3NlTWVzc2FnZVwiKTtcclxuICAgIC8vIH0sXHJcbiAgICAvLyBwYXVzZSA6IGZ1bmN0aW9uKCl7XHJcbiAgICAvLyAgICAgdGhpcy5pX3BhdXNlZCA9IHRydWU7XHJcbiAgICAvLyB9LFxyXG5cclxuICAgIC8vIG5leHRSYW5kb20gOiBmdW5jdGlvbigpe1xyXG4gICAgLy8gICAgIHJldHVybiBNYXRoLnJhbmRvbSgpO1xyXG4gICAgLy8gfSxcclxuXHJcbiAgICAvLyBtYWluQ2FsbEluc3RhbmNlIDogZnVuY3Rpb24oKXtcclxuICAgIC8vICAgICByZXR1cm4gdGhpcy5pX21haW5DYWxsSW5zdDtcclxuICAgIC8vIH0sXHJcblxyXG4gICAgLy8gbGVha0NoZWNrQ2hpbGRyZW4gOiBmdW5jdGlvbihvYmope1xyXG5cclxuXHJcbiAgICAvLyAgICAgLy8gSWYgaXQncyBhIHBvaW50ZXIgaW50byBhbiBhcnJheSwgaHlwb3RoZXRpY2FsbHkgd2UgY2FuIGdldCB0byBhbnl0aGluZyBlbHNlIGluIHRoZSBhcnJheSxcclxuICAgIC8vICAgICAvLyBzbyB3ZSBuZWVkIHRvIGFkZCB0aGUgd2hvbGUgdGhpbmcgdG8gdGhlIGZyb250aWVyLlxyXG4gICAgLy8gICAgIC8vIFRoaXMgYWxzbyBjb3ZlcnMgZHluYW1pYyBhcnJheXMgLSB3ZSBuZXZlciBoYXZlIGEgcG9pbnRlciB0byB0aGUgYXJyYXksIGJ1dCB0byBlbGVtZW50cyBpbiBpdC5cclxuICAgIC8vICAgICBpZiAoaXNBKG9iai50eXBlLCBUeXBlcy5BcnJheVBvaW50ZXIpKXtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIFtvYmoudHlwZS5hcnJPYmpdO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBlbHNlIGlmIChpc0Eob2JqLnR5cGUsIFR5cGVzLlBvaW50ZXIpICYmIG9iai50eXBlLmlzT2JqZWN0UG9pbnRlcigpKXtcclxuICAgIC8vICAgICAgICAgdmFyIHBvaW50c1RvID0gdGhpcy5tZW1vcnkuZGVyZWZlcmVuY2Uob2JqKTtcclxuICAgIC8vICAgICAgICAgaWYgKHBvaW50c1RvICYmICFpc0EocG9pbnRzVG8sIEFub255bW91c09iamVjdCkpe1xyXG4gICAgLy8gICAgICAgICAgICAgcmV0dXJuIFtwb2ludHNUb107XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZSBpZiAoaXNBKG9iai50eXBlLCBUeXBlcy5BcnJheSkpe1xyXG4gICAgLy8gICAgICAgICByZXR1cm4gb2JqLmVsZW1PYmplY3RzO1xyXG4gICAgLy8gICAgICAgICAvL2NoaWxkcmVuLnB1c2gob2JqLmVsZW1PYmplY3RzKTtcclxuICAgIC8vICAgICAgICAgLy92YXIgZWxlbXMgPSBvYmoucmF3VmFsdWUoKTtcclxuICAgIC8vICAgICAgICAgLy92YXIgY2hpbGRyZW4gPSBbXTtcclxuICAgIC8vICAgICAgICAgLy9mb3IodmFyIGkgPSAwOyBpIDwgZWxlbXMubGVuZ3RoOyArK2kpe1xyXG4gICAgLy8gICAgICAgICAvLyAgICBjaGlsZHJlbi5wdXNoKFZhbHVlLmluc3RhbmNlKGVsZW1zW2ldLCBvYmoudHlwZS5lbGVtVHlwZSkpO1xyXG4gICAgLy8gICAgICAgICAvL31cclxuICAgIC8vICAgICAgICAgLy9yZXR1cm4gY2hpbGRyZW47XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2UgaWYgKGlzQShvYmoudHlwZSwgVHlwZXMuQ2xhc3MpKXtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIG9iai5zdWJvYmplY3RzO1xyXG4gICAgLy8gICAgICAgICAvL3ZhciBtZW1iZXJzID0gb2JqLnN1Yk9iamVjdHM7XHJcbiAgICAvLyAgICAgICAgIC8vdmFyIGNoaWxkcmVuID0gW107XHJcbiAgICAvLyAgICAgICAgIC8vZm9yKHZhciBpID0gMDsgaSA8IG1lbWJlcnMubGVuZ3RoOyArK2kpe1xyXG4gICAgLy8gICAgICAgICAvLyAgICBjaGlsZHJlbi5wdXNoKFZhbHVlLmluc3RhbmNlKGVsZW1zW2ldKSk7XHJcbiAgICAvLyAgICAgICAgIC8vfVxyXG4gICAgLy8gICAgICAgICAvL3JldHVybiBjaGlsZHJlbjtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgcmV0dXJuIFtdO1xyXG4gICAgLy8gfSxcclxuICAgIC8vIGxlYWtDaGVjayA6IGZ1bmN0aW9uKCl7XHJcbiAgICAvLyAgICAgLy9jb25zb2xlLmxvZyhcImxlYWsgY2hlY2sgcnVubmluZyFcIik7XHJcbiAgICAvLyAgICAgLy8gVGVtcG9yYXJ5IHBsYWNlIGZvciB0ZXN0aW5nIGxlYWsgY2hlY2tcclxuICAgIC8vICAgICB2YXIgaGVhcE9iamVjdHNNYXAgPSB0aGlzLm1lbW9yeS5oZWFwLm9iamVjdE1hcDtcclxuICAgIC8vICAgICBmb3IgKHZhciBhZGRyIGluIGhlYXBPYmplY3RzTWFwKSB7XHJcbiAgICAvLyAgICAgICAgIHZhciBvYmogPSBoZWFwT2JqZWN0c01hcFthZGRyXTtcclxuICAgIC8vICAgICAgICAgaWYodGhpcy5sZWFrQ2hlY2tPYmoob2JqKSl7XHJcbiAgICAvLyAgICAgICAgICAgICBvYmoubGVha2VkKHRoaXMpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIGVsc2V7XHJcbiAgICAvLyAgICAgICAgICAgICBvYmoudW5sZWFrZWQodGhpcyk7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9LFxyXG4gICAgLy8gbGVha0NoZWNrT2JqIDogZnVuY3Rpb24ocXVlcnkpIHtcclxuICAgIC8vICAgICArK3RoaXMuaV9sZWFrQ2hlY2tJbmRleDtcclxuICAgIC8vICAgICB2YXIgZnJvbnRpZXIgPSBbXTtcclxuICAgIC8vICAgICB2YXIgZ2xvYmFsU2NvcGUgPSB0aGlzLmlfcHJvZ3JhbS5nZXRHbG9iYWxTY29wZSgpO1xyXG4gICAgLy8gICAgIGZvciAodmFyIGtleSBpbiBnbG9iYWxTY29wZS5lbnRpdGllcykge1xyXG4gICAgLy8gICAgICAgICB2YXIgZW50ID0gZ2xvYmFsU2NvcGUuZW50aXRpZXNba2V5XTtcclxuICAgIC8vICAgICAgICAgaWYgKGlzQShlbnQsIENQUE9iamVjdCkpe1xyXG4gICAgLy8gICAgICAgICAgICAgZW50LmlfbGVha0NoZWNrSW5kZXggPSB0aGlzLmlfbGVha0NoZWNrSW5kZXg7XHJcbiAgICAvLyAgICAgICAgICAgICBmcm9udGllci5wdXNoKGVudCk7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcblxyXG4gICAgLy8gICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLm1lbW9yeS5zdGFjay5mcmFtZXMubGVuZ3RoOyArK2kpe1xyXG4gICAgLy8gICAgICAgICB2YXIgZnJhbWVPYmpzID0gdGhpcy5tZW1vcnkuc3RhY2suZnJhbWVzW2ldLm9iamVjdHM7XHJcbiAgICAvLyAgICAgICAgIGZvciAodmFyIGtleSBpbiBmcmFtZU9ianMpIHtcclxuICAgIC8vICAgICAgICAgICAgIHZhciBlbnQgPSBmcmFtZU9ianNba2V5XTtcclxuICAgIC8vICAgICAgICAgICAgIGlmIChpc0EoZW50LCBDUFBPYmplY3QpKXtcclxuICAgIC8vICAgICAgICAgICAgICAgICBlbnQuaV9sZWFrQ2hlY2tJbmRleCA9IHRoaXMuaV9sZWFrQ2hlY2tJbmRleDtcclxuICAgIC8vICAgICAgICAgICAgICAgICBmcm9udGllci5wdXNoKGVudCk7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcblxyXG4gICAgLy8gICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmlfcGVuZGluZ05ld3MubGVuZ3RoOyArK2kpe1xyXG4gICAgLy8gICAgICAgICB2YXIgb2JqID0gdGhpcy5pX3BlbmRpbmdOZXdzW2ldO1xyXG4gICAgLy8gICAgICAgICBvYmouaV9sZWFrQ2hlY2tJbmRleCA9IHRoaXMuaV9sZWFrQ2hlY2tJbmRleDtcclxuICAgIC8vICAgICAgICAgZnJvbnRpZXIucHVzaChvYmopO1xyXG4gICAgLy8gICAgIH1cclxuXHJcbiAgICAvLyAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuaV9leGVjU3RhY2subGVuZ3RoOyArK2kpe1xyXG4gICAgLy8gICAgICAgICB2YXIgaW5zdCA9IHRoaXMuaV9leGVjU3RhY2tbaV07XHJcbiAgICAvLyAgICAgICAgIGlmIChpbnN0LmV2YWxSZXN1bHQpIHtcclxuICAgIC8vICAgICAgICAgICAgIG9iaiA9IGluc3QuZXZhbFJlc3VsdDtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICBlbHNlIGlmIChpbnN0LmZ1bmMgJiYgIWlzQShpbnN0LmZ1bmMubW9kZWwudHlwZS5yZXR1cm5UeXBlLCBUeXBlcy5Wb2lkKSkge1xyXG4gICAgLy8gICAgICAgICAgICAgaWYgKGlzQShpbnN0LmZ1bmMubW9kZWwudHlwZS5yZXR1cm5UeXBlLCBUeXBlcy5SZWZlcmVuY2UpKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgb2JqID0gaW5zdC5mdW5jLm1vZGVsLmdldFJldHVybk9iamVjdCh0aGlzLCBpbnN0LmZ1bmMpO1xyXG4gICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgb2JqID0gaW5zdC5mdW5jLm1vZGVsLmdldFJldHVybk9iamVjdCh0aGlzLCBpbnN0LmZ1bmMpLmdldFZhbHVlKCk7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIH1cclxuXHJcbiAgICAvLyAgICAgICAgIGlmIChvYmogJiYgaXNBKG9iaiwgQ1BQT2JqZWN0KSl7XHJcbiAgICAvLyAgICAgICAgICAgICBvYmouaV9sZWFrQ2hlY2tJbmRleCA9IHRoaXMuaV9sZWFrQ2hlY2tJbmRleDtcclxuICAgIC8vICAgICAgICAgICAgIGZyb250aWVyLnB1c2gob2JqKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICBlbHNlIGlmIChvYmogJiYgaXNBKG9iaiwgVmFsdWUpKXtcclxuICAgIC8vICAgICAgICAgICAgIGZyb250aWVyLnB1c2gob2JqKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH1cclxuXHJcbiAgICAvLyAgICAgZm9yICh2YXIga2V5IGluIHRoaXMubWVtb3J5LnRlbXBvcmFyeU9iamVjdHMpe1xyXG4gICAgLy8gICAgICAgICB2YXIgb2JqID0gdGhpcy5tZW1vcnkudGVtcG9yYXJ5T2JqZWN0c1trZXldO1xyXG4gICAgLy8gICAgICAgICBvYmouaV9sZWFrQ2hlY2tJbmRleCA9IHRoaXMuaV9sZWFrQ2hlY2tJbmRleDtcclxuICAgIC8vICAgICAgICAgZnJvbnRpZXIucHVzaChvYmopO1xyXG4gICAgLy8gICAgIH1cclxuXHJcbiAgICAvLyAgICAgd2hpbGUgKGZyb250aWVyLmxlbmd0aCA+IDApIHtcclxuICAgIC8vICAgICAgICAgdmFyIG9iaiA9IGZyb250aWVyLnNoaWZ0KCk7XHJcblxyXG4gICAgLy8gICAgICAgICAvLyBDaGVjayBpZiBmb3VuZFxyXG4gICAgLy8gICAgICAgICBpZiAob2JqID09PSBxdWVyeSl7XHJcbiAgICAvLyAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAvLyAgICAgICAgIH1cclxuXHJcbiAgICAvLyAgICAgICAgIC8vIE1hcmsgYXMgdmlzaXRlZFxyXG4gICAgLy8gICAgICAgICBvYmouaV9sZWFrQ2hlY2tJbmRleCA9IHRoaXMuaV9sZWFrQ2hlY2tJbmRleDtcclxuICAgIC8vICAgICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5sZWFrQ2hlY2tDaGlsZHJlbihvYmopO1xyXG4gICAgLy8gICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyArK2kpe1xyXG4gICAgLy8gICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XHJcbiAgICAvLyAgICAgICAgICAgICBpZiAoY2hpbGQuaV9sZWFrQ2hlY2tJbmRleCAhPT0gdGhpcy5pX2xlYWtDaGVja0luZGV4KXtcclxuICAgIC8vICAgICAgICAgICAgICAgICBmcm9udGllci5wdXNoKGNoaWxkKTtcclxuICAgIC8vICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIC8vIH0sXHJcbn1cclxuIiwiLyoqXG4gKiBHZXRzIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgQXJyYXlcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5sYXN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiAzXG4gKi9cbmZ1bmN0aW9uIGxhc3QoYXJyYXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICByZXR1cm4gbGVuZ3RoID8gYXJyYXlbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbGFzdDtcbiIsIi8qKlxuICogQ29waWVzIHRoZSB2YWx1ZXMgb2YgYHNvdXJjZWAgdG8gYGFycmF5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyBmcm9tLlxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5PVtdXSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgdG8uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gY29weUFycmF5KHNvdXJjZSwgYXJyYXkpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuXG4gIGFycmF5IHx8IChhcnJheSA9IEFycmF5KGxlbmd0aCkpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGFycmF5W2luZGV4XSA9IHNvdXJjZVtpbmRleF07XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvcHlBcnJheTtcbiIsIi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlVW5hcnk7XG4iLCIvKipcbiAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYmFzZUluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYSBjb21wYXJhdG9yLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJbmRleE9mV2l0aChhcnJheSwgdmFsdWUsIGZyb21JbmRleCwgY29tcGFyYXRvcikge1xuICB2YXIgaW5kZXggPSBmcm9tSW5kZXggLSAxLFxuICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgaWYgKGNvbXBhcmF0b3IoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VJbmRleE9mV2l0aDtcbiIsIi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmluZGV4T2ZgIHdoaWNoIHBlcmZvcm1zIHN0cmljdCBlcXVhbGl0eVxuICogY29tcGFyaXNvbnMgb2YgdmFsdWVzLCBpLmUuIGA9PT1gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIHN0cmljdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgdmFyIGluZGV4ID0gZnJvbUluZGV4IC0gMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGlmIChhcnJheVtpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdHJpY3RJbmRleE9mO1xuIiwiLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hTmAgd2l0aG91dCBzdXBwb3J0IGZvciBudW1iZXIgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgTmFOYCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNOYU4odmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlSXNOYU47XG4iLCIvKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbmRJbmRleGAgYW5kIGBfLmZpbmRMYXN0SW5kZXhgIHdpdGhvdXRcbiAqIHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUZpbmRJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgsIGZyb21SaWdodCkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgaW5kZXggPSBmcm9tSW5kZXggKyAoZnJvbVJpZ2h0ID8gMSA6IC0xKTtcblxuICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSkge1xuICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlRmluZEluZGV4O1xuIiwidmFyIGJhc2VGaW5kSW5kZXggPSByZXF1aXJlKCcuL19iYXNlRmluZEluZGV4JyksXG4gICAgYmFzZUlzTmFOID0gcmVxdWlyZSgnLi9fYmFzZUlzTmFOJyksXG4gICAgc3RyaWN0SW5kZXhPZiA9IHJlcXVpcmUoJy4vX3N0cmljdEluZGV4T2YnKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbmRleE9mYCB3aXRob3V0IGBmcm9tSW5kZXhgIGJvdW5kcyBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZVxuICAgID8gc3RyaWN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleClcbiAgICA6IGJhc2VGaW5kSW5kZXgoYXJyYXksIGJhc2VJc05hTiwgZnJvbUluZGV4KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlSW5kZXhPZjtcbiIsIi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1hcGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gKiBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheU1hcChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXJyYXlNYXA7XG4iLCJ2YXIgYXJyYXlNYXAgPSByZXF1aXJlKCcuL19hcnJheU1hcCcpLFxuICAgIGJhc2VJbmRleE9mID0gcmVxdWlyZSgnLi9fYmFzZUluZGV4T2YnKSxcbiAgICBiYXNlSW5kZXhPZldpdGggPSByZXF1aXJlKCcuL19iYXNlSW5kZXhPZldpdGgnKSxcbiAgICBiYXNlVW5hcnkgPSByZXF1aXJlKCcuL19iYXNlVW5hcnknKSxcbiAgICBjb3B5QXJyYXkgPSByZXF1aXJlKCcuL19jb3B5QXJyYXknKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnB1bGxBbGxCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICogc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICovXG5mdW5jdGlvbiBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICB2YXIgaW5kZXhPZiA9IGNvbXBhcmF0b3IgPyBiYXNlSW5kZXhPZldpdGggOiBiYXNlSW5kZXhPZixcbiAgICAgIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgc2VlbiA9IGFycmF5O1xuXG4gIGlmIChhcnJheSA9PT0gdmFsdWVzKSB7XG4gICAgdmFsdWVzID0gY29weUFycmF5KHZhbHVlcyk7XG4gIH1cbiAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgc2VlbiA9IGFycmF5TWFwKGFycmF5LCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgfVxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBmcm9tSW5kZXggPSAwLFxuICAgICAgICB2YWx1ZSA9IHZhbHVlc1tpbmRleF0sXG4gICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgIHdoaWxlICgoZnJvbUluZGV4ID0gaW5kZXhPZihzZWVuLCBjb21wdXRlZCwgZnJvbUluZGV4LCBjb21wYXJhdG9yKSkgPiAtMSkge1xuICAgICAgaWYgKHNlZW4gIT09IGFycmF5KSB7XG4gICAgICAgIHNwbGljZS5jYWxsKHNlZW4sIGZyb21JbmRleCwgMSk7XG4gICAgICB9XG4gICAgICBzcGxpY2UuY2FsbChhcnJheSwgZnJvbUluZGV4LCAxKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VQdWxsQWxsO1xuIiwidmFyIGJhc2VQdWxsQWxsID0gcmVxdWlyZSgnLi9fYmFzZVB1bGxBbGwnKTtcblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYW4gYXJyYXkgb2YgdmFsdWVzIHRvIHJlbW92ZS5cbiAqXG4gKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IEFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnYScsICdiJywgJ2MnXTtcbiAqXG4gKiBfLnB1bGxBbGwoYXJyYXksIFsnYScsICdjJ10pO1xuICogY29uc29sZS5sb2coYXJyYXkpO1xuICogLy8gPT4gWydiJywgJ2InXVxuICovXG5mdW5jdGlvbiBwdWxsQWxsKGFycmF5LCB2YWx1ZXMpIHtcbiAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzKVxuICAgIDogYXJyYXk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcHVsbEFsbDtcbiIsIi8qKiBVc2VkIHRvIGRldGVjdCBob3QgZnVuY3Rpb25zIGJ5IG51bWJlciBvZiBjYWxscyB3aXRoaW4gYSBzcGFuIG9mIG1pbGxpc2Vjb25kcy4gKi9cbnZhciBIT1RfQ09VTlQgPSA4MDAsXG4gICAgSE9UX1NQQU4gPSAxNjtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZU5vdyA9IERhdGUubm93O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0J2xsIHNob3J0IG91dCBhbmQgaW52b2tlIGBpZGVudGl0eWAgaW5zdGVhZFxuICogb2YgYGZ1bmNgIHdoZW4gaXQncyBjYWxsZWQgYEhPVF9DT1VOVGAgb3IgbW9yZSB0aW1lcyBpbiBgSE9UX1NQQU5gXG4gKiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc2hvcnRhYmxlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBzaG9ydE91dChmdW5jKSB7XG4gIHZhciBjb3VudCA9IDAsXG4gICAgICBsYXN0Q2FsbGVkID0gMDtcblxuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0YW1wID0gbmF0aXZlTm93KCksXG4gICAgICAgIHJlbWFpbmluZyA9IEhPVF9TUEFOIC0gKHN0YW1wIC0gbGFzdENhbGxlZCk7XG5cbiAgICBsYXN0Q2FsbGVkID0gc3RhbXA7XG4gICAgaWYgKHJlbWFpbmluZyA+IDApIHtcbiAgICAgIGlmICgrK2NvdW50ID49IEhPVF9DT1VOVCkge1xuICAgICAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb3VudCA9IDA7XG4gICAgfVxuICAgIHJldHVybiBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaG9ydE91dDtcbiIsIi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFZhbHVlO1xuIiwiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqXG4gKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gKi9cbmZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRvU291cmNlO1xuIiwidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbnZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbm1vZHVsZS5leHBvcnRzID0gY29yZUpzRGF0YTtcbiIsInZhciBjb3JlSnNEYXRhID0gcmVxdWlyZSgnLi9fY29yZUpzRGF0YScpO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xudmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbn0oKSk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzTWFza2VkO1xuIiwiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb2JqZWN0VG9TdHJpbmc7XG4iLCJ2YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fU3ltYm9sJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gIHRyeSB7XG4gICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBpZiAodW5tYXNrZWQpIHtcbiAgICBpZiAoaXNPd24pIHtcbiAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRSYXdUYWc7XG4iLCIvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZyZWVHbG9iYWw7XG4iLCJ2YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fU3ltYm9sJyksXG4gICAgZ2V0UmF3VGFnID0gcmVxdWlyZSgnLi9fZ2V0UmF3VGFnJyksXG4gICAgb2JqZWN0VG9TdHJpbmcgPSByZXF1aXJlKCcuL19vYmplY3RUb1N0cmluZycpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICB9XG4gIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlR2V0VGFnO1xuIiwidmFyIGJhc2VHZXRUYWcgPSByZXF1aXJlKCcuL19iYXNlR2V0VGFnJyksXG4gICAgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0Jyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnIHx8IHRhZyA9PSBhc3luY1RhZyB8fCB0YWcgPT0gcHJveHlUYWc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNGdW5jdGlvbjtcbiIsInZhciBpc0Z1bmN0aW9uID0gcmVxdWlyZSgnLi9pc0Z1bmN0aW9uJyksXG4gICAgaXNNYXNrZWQgPSByZXF1aXJlKCcuL19pc01hc2tlZCcpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpLFxuICAgIHRvU291cmNlID0gcmVxdWlyZSgnLi9fdG9Tb3VyY2UnKTtcblxuLyoqXG4gKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAqL1xudmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xudmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4pO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHBhdHRlcm4gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlSXNOYXRpdmU7XG4iLCJ2YXIgYmFzZUlzTmF0aXZlID0gcmVxdWlyZSgnLi9fYmFzZUlzTmF0aXZlJyksXG4gICAgZ2V0VmFsdWUgPSByZXF1aXJlKCcuL19nZXRWYWx1ZScpO1xuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldE5hdGl2ZTtcbiIsInZhciBnZXROYXRpdmUgPSByZXF1aXJlKCcuL19nZXROYXRpdmUnKTtcblxudmFyIGRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHZhciBmdW5jID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2RlZmluZVByb3BlcnR5Jyk7XG4gICAgZnVuYyh7fSwgJycsIHt9KTtcbiAgICByZXR1cm4gZnVuYztcbiAgfSBjYXRjaCAoZSkge31cbn0oKSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZGVmaW5lUHJvcGVydHk7XG4iLCIvKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHZhbHVlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbnN0YW50IGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5jb25zdGFudCh7ICdhJzogMSB9KSk7XG4gKlxuICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gKiAvLyA9PiBbeyAnYSc6IDEgfSwgeyAnYSc6IDEgfV1cbiAqXG4gKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjb25zdGFudDtcbiIsInZhciBjb25zdGFudCA9IHJlcXVpcmUoJy4vY29uc3RhbnQnKSxcbiAgICBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX2RlZmluZVByb3BlcnR5JyksXG4gICAgaWRlbnRpdHkgPSByZXF1aXJlKCcuL2lkZW50aXR5Jyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIGJhc2VTZXRUb1N0cmluZyA9ICFkZWZpbmVQcm9wZXJ0eSA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgc3RyaW5nKSB7XG4gIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCAndG9TdHJpbmcnLCB7XG4gICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgJ2VudW1lcmFibGUnOiBmYWxzZSxcbiAgICAndmFsdWUnOiBjb25zdGFudChzdHJpbmcpLFxuICAgICd3cml0YWJsZSc6IHRydWVcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VTZXRUb1N0cmluZztcbiIsInZhciBiYXNlU2V0VG9TdHJpbmcgPSByZXF1aXJlKCcuL19iYXNlU2V0VG9TdHJpbmcnKSxcbiAgICBzaG9ydE91dCA9IHJlcXVpcmUoJy4vX3Nob3J0T3V0Jyk7XG5cbi8qKlxuICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYGZ1bmNgIHRvIHJldHVybiBgc3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gKi9cbnZhciBzZXRUb1N0cmluZyA9IHNob3J0T3V0KGJhc2VTZXRUb1N0cmluZyk7XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0VG9TdHJpbmc7XG4iLCIvKipcbiAqIEEgZmFzdGVyIGFsdGVybmF0aXZlIHRvIGBGdW5jdGlvbiNhcHBseWAsIHRoaXMgZnVuY3Rpb24gaW52b2tlcyBgZnVuY2BcbiAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYCBhbmQgdGhlIGFyZ3VtZW50cyBvZiBgYXJnc2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGZ1bmNgLlxuICovXG5mdW5jdGlvbiBhcHBseShmdW5jLCB0aGlzQXJnLCBhcmdzKSB7XG4gIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZyk7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0pO1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gIH1cbiAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXBwbHk7XG4iLCJ2YXIgYXBwbHkgPSByZXF1aXJlKCcuL19hcHBseScpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXg7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggdHJhbnNmb3JtcyB0aGUgcmVzdCBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgcmVzdCBhcnJheSB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlclJlc3QoZnVuYywgc3RhcnQsIHRyYW5zZm9ybSkge1xuICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICB9XG4gICAgaW5kZXggPSAtMTtcbiAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgfVxuICAgIG90aGVyQXJnc1tzdGFydF0gPSB0cmFuc2Zvcm0oYXJyYXkpO1xuICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG92ZXJSZXN0O1xuIiwidmFyIGlkZW50aXR5ID0gcmVxdWlyZSgnLi9pZGVudGl0eScpLFxuICAgIG92ZXJSZXN0ID0gcmVxdWlyZSgnLi9fb3ZlclJlc3QnKSxcbiAgICBzZXRUb1N0cmluZyA9IHJlcXVpcmUoJy4vX3NldFRvU3RyaW5nJyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVzdGAgd2hpY2ggZG9lc24ndCB2YWxpZGF0ZSBvciBjb2VyY2UgYXJndW1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gIHJldHVybiBzZXRUb1N0cmluZyhvdmVyUmVzdChmdW5jLCBzdGFydCwgaWRlbnRpdHkpLCBmdW5jICsgJycpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VSZXN0O1xuIiwidmFyIGJhc2VSZXN0ID0gcmVxdWlyZSgnLi9fYmFzZVJlc3QnKSxcbiAgICBwdWxsQWxsID0gcmVxdWlyZSgnLi9wdWxsQWxsJyk7XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwgZ2l2ZW4gdmFsdWVzIGZyb20gYGFycmF5YCB1c2luZ1xuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAqXG4gKiAqKk5vdGU6KiogVW5saWtlIGBfLndpdGhvdXRgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuIFVzZSBgXy5yZW1vdmVgXG4gKiB0byByZW1vdmUgZWxlbWVudHMgZnJvbSBhbiBhcnJheSBieSBwcmVkaWNhdGUuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAyLjAuMFxuICogQGNhdGVnb3J5IEFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2EnLCAnYicsICdjJ107XG4gKlxuICogXy5wdWxsKGFycmF5LCAnYScsICdjJyk7XG4gKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gKiAvLyA9PiBbJ2InLCAnYiddXG4gKi9cbnZhciBwdWxsID0gYmFzZVJlc3QocHVsbEFsbCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcHVsbDtcbiIsIi8vIHRzbGludDpkaXNhYmxlOm9ubHktYXJyb3ctZnVuY3Rpb25zXG4vLyB0c2xpbnQ6ZGlzYWJsZTpvYmplY3QtbGl0ZXJhbC1zaG9ydGhhbmRcbi8vIHRzbGludDpkaXNhYmxlOnRyYWlsaW5nLWNvbW1hXG4vLyB0c2xpbnQ6ZGlzYWJsZTpvYmplY3QtbGl0ZXJhbC1zb3J0LWtleXNcbi8vIHRzbGludDpkaXNhYmxlOm9uZS12YXJpYWJsZS1wZXItZGVjbGFyYXRpb25cbi8vIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aFxuLy8gdHNsaW50OmRpc2FibGU6bm8tY29uc2VjdXRpdmUtYmxhbmstbGluZXNcbi8vIHRzbGludDpkaXNhYmxlOmFsaWduXG5cblxuLy8gR2VuZXJhdGVkIGJ5IFBFRy5qcyB2LiAwLjEwLjAgKHRzLXBlZ2pzIHBsdWdpbiB2LiAwLjIuNiApXG4vL1xuLy8gaHR0cHM6Ly9wZWdqcy5vcmcvICAgaHR0cHM6Ly9naXRodWIuY29tL21ldGFkZXZwcm8vdHMtcGVnanNcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUZpbGVQb3NpdGlvbiB7XG4gIG9mZnNldDogbnVtYmVyO1xuICBsaW5lOiBudW1iZXI7XG4gIGNvbHVtbjogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElGaWxlUmFuZ2Uge1xuICBzdGFydDogSUZpbGVQb3NpdGlvbjtcbiAgZW5kOiBJRmlsZVBvc2l0aW9uO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElMaXRlcmFsRXhwZWN0YXRpb24ge1xuICB0eXBlOiBcImxpdGVyYWxcIjtcbiAgdGV4dDogc3RyaW5nO1xuICBpZ25vcmVDYXNlOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElDbGFzc1BhcnRzIGV4dGVuZHMgQXJyYXk8c3RyaW5nIHwgSUNsYXNzUGFydHM+IHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNsYXNzRXhwZWN0YXRpb24ge1xuICB0eXBlOiBcImNsYXNzXCI7XG4gIHBhcnRzOiBJQ2xhc3NQYXJ0cztcbiAgaW52ZXJ0ZWQ6IGJvb2xlYW47XG4gIGlnbm9yZUNhc2U6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUFueUV4cGVjdGF0aW9uIHtcbiAgdHlwZTogXCJhbnlcIjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRW5kRXhwZWN0YXRpb24ge1xuICB0eXBlOiBcImVuZFwiO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElPdGhlckV4cGVjdGF0aW9uIHtcbiAgdHlwZTogXCJvdGhlclwiO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBFeHBlY3RhdGlvbiA9IElMaXRlcmFsRXhwZWN0YXRpb24gfCBJQ2xhc3NFeHBlY3RhdGlvbiB8IElBbnlFeHBlY3RhdGlvbiB8IElFbmRFeHBlY3RhdGlvbiB8IElPdGhlckV4cGVjdGF0aW9uO1xuXG5leHBvcnQgY2xhc3MgU3ludGF4RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIHB1YmxpYyBzdGF0aWMgYnVpbGRNZXNzYWdlKGV4cGVjdGVkOiBFeHBlY3RhdGlvbltdLCBmb3VuZDogc3RyaW5nIHwgbnVsbCkge1xuICAgIGZ1bmN0aW9uIGhleChjaDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgIHJldHVybiBjaC5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpdGVyYWxFc2NhcGUoczogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgIHJldHVybiBzXG4gICAgICAgIC5yZXBsYWNlKC9cXFxcL2csIFwiXFxcXFxcXFxcIilcbiAgICAgICAgLnJlcGxhY2UoL1wiL2csICBcIlxcXFxcXFwiXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXDAvZywgXCJcXFxcMFwiKVxuICAgICAgICAucmVwbGFjZSgvXFx0L2csIFwiXFxcXHRcIilcbiAgICAgICAgLnJlcGxhY2UoL1xcbi9nLCBcIlxcXFxuXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXHIvZywgXCJcXFxcclwiKVxuICAgICAgICAucmVwbGFjZSgvW1xceDAwLVxceDBGXS9nLCAgICAgICAgICAgIChjaCkgPT4gXCJcXFxceDBcIiArIGhleChjaCkgKVxuICAgICAgICAucmVwbGFjZSgvW1xceDEwLVxceDFGXFx4N0YtXFx4OUZdL2csIChjaCkgPT4gXCJcXFxceFwiICArIGhleChjaCkgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGFzc0VzY2FwZShzOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgcmV0dXJuIHNcbiAgICAgICAgLnJlcGxhY2UoL1xcXFwvZywgXCJcXFxcXFxcXFwiKVxuICAgICAgICAucmVwbGFjZSgvXFxdL2csIFwiXFxcXF1cIilcbiAgICAgICAgLnJlcGxhY2UoL1xcXi9nLCBcIlxcXFxeXCIpXG4gICAgICAgIC5yZXBsYWNlKC8tL2csICBcIlxcXFwtXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXDAvZywgXCJcXFxcMFwiKVxuICAgICAgICAucmVwbGFjZSgvXFx0L2csIFwiXFxcXHRcIilcbiAgICAgICAgLnJlcGxhY2UoL1xcbi9nLCBcIlxcXFxuXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXHIvZywgXCJcXFxcclwiKVxuICAgICAgICAucmVwbGFjZSgvW1xceDAwLVxceDBGXS9nLCAgICAgICAgICAgIChjaCkgPT4gXCJcXFxceDBcIiArIGhleChjaCkgKVxuICAgICAgICAucmVwbGFjZSgvW1xceDEwLVxceDFGXFx4N0YtXFx4OUZdL2csIChjaCkgPT4gXCJcXFxceFwiICArIGhleChjaCkgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZXNjcmliZUV4cGVjdGF0aW9uKGV4cGVjdGF0aW9uOiBFeHBlY3RhdGlvbikge1xuICAgICAgc3dpdGNoIChleHBlY3RhdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJsaXRlcmFsXCI6XG4gICAgICAgICAgcmV0dXJuIFwiXFxcIlwiICsgbGl0ZXJhbEVzY2FwZShleHBlY3RhdGlvbi50ZXh0KSArIFwiXFxcIlwiO1xuICAgICAgICBjYXNlIFwiY2xhc3NcIjpcbiAgICAgICAgICBjb25zdCBlc2NhcGVkUGFydHMgPSBleHBlY3RhdGlvbi5wYXJ0cy5tYXAoKHBhcnQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHBhcnQpXG4gICAgICAgICAgICAgID8gY2xhc3NFc2NhcGUocGFydFswXSBhcyBzdHJpbmcpICsgXCItXCIgKyBjbGFzc0VzY2FwZShwYXJ0WzFdIGFzIHN0cmluZylcbiAgICAgICAgICAgICAgOiBjbGFzc0VzY2FwZShwYXJ0KTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiBcIltcIiArIChleHBlY3RhdGlvbi5pbnZlcnRlZCA/IFwiXlwiIDogXCJcIikgKyBlc2NhcGVkUGFydHMgKyBcIl1cIjtcbiAgICAgICAgY2FzZSBcImFueVwiOlxuICAgICAgICAgIHJldHVybiBcImFueSBjaGFyYWN0ZXJcIjtcbiAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgIHJldHVybiBcImVuZCBvZiBpbnB1dFwiO1xuICAgICAgICBjYXNlIFwib3RoZXJcIjpcbiAgICAgICAgICByZXR1cm4gZXhwZWN0YXRpb24uZGVzY3JpcHRpb247XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVzY3JpYmVFeHBlY3RlZChleHBlY3RlZDE6IEV4cGVjdGF0aW9uW10pIHtcbiAgICAgIGNvbnN0IGRlc2NyaXB0aW9ucyA9IGV4cGVjdGVkMS5tYXAoZGVzY3JpYmVFeHBlY3RhdGlvbik7XG4gICAgICBsZXQgaTogbnVtYmVyO1xuICAgICAgbGV0IGo6IG51bWJlcjtcblxuICAgICAgZGVzY3JpcHRpb25zLnNvcnQoKTtcblxuICAgICAgaWYgKGRlc2NyaXB0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAoaSA9IDEsIGogPSAxOyBpIDwgZGVzY3JpcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGRlc2NyaXB0aW9uc1tpIC0gMV0gIT09IGRlc2NyaXB0aW9uc1tpXSkge1xuICAgICAgICAgICAgZGVzY3JpcHRpb25zW2pdID0gZGVzY3JpcHRpb25zW2ldO1xuICAgICAgICAgICAgaisrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkZXNjcmlwdGlvbnMubGVuZ3RoID0gajtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChkZXNjcmlwdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZXR1cm4gZGVzY3JpcHRpb25zWzBdO1xuXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICByZXR1cm4gZGVzY3JpcHRpb25zWzBdICsgXCIgb3IgXCIgKyBkZXNjcmlwdGlvbnNbMV07XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gZGVzY3JpcHRpb25zLnNsaWNlKDAsIC0xKS5qb2luKFwiLCBcIilcbiAgICAgICAgICAgICsgXCIsIG9yIFwiXG4gICAgICAgICAgICArIGRlc2NyaXB0aW9uc1tkZXNjcmlwdGlvbnMubGVuZ3RoIC0gMV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVzY3JpYmVGb3VuZChmb3VuZDE6IHN0cmluZyB8IG51bGwpIHtcbiAgICAgIHJldHVybiBmb3VuZDEgPyBcIlxcXCJcIiArIGxpdGVyYWxFc2NhcGUoZm91bmQxKSArIFwiXFxcIlwiIDogXCJlbmQgb2YgaW5wdXRcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gXCJFeHBlY3RlZCBcIiArIGRlc2NyaWJlRXhwZWN0ZWQoZXhwZWN0ZWQpICsgXCIgYnV0IFwiICsgZGVzY3JpYmVGb3VuZChmb3VuZCkgKyBcIiBmb3VuZC5cIjtcbiAgfVxuXG4gIHB1YmxpYyBtZXNzYWdlOiBzdHJpbmc7XG4gIHB1YmxpYyBleHBlY3RlZDogRXhwZWN0YXRpb25bXTtcbiAgcHVibGljIGZvdW5kOiBzdHJpbmcgfCBudWxsO1xuICBwdWJsaWMgbG9jYXRpb246IElGaWxlUmFuZ2U7XG4gIHB1YmxpYyBuYW1lOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nLCBleHBlY3RlZDogRXhwZWN0YXRpb25bXSwgZm91bmQ6IHN0cmluZyB8IG51bGwsIGxvY2F0aW9uOiBJRmlsZVJhbmdlKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIHRoaXMuZXhwZWN0ZWQgPSBleHBlY3RlZDtcbiAgICB0aGlzLmZvdW5kID0gZm91bmQ7XG4gICAgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgIHRoaXMubmFtZSA9IFwiU3ludGF4RXJyb3JcIjtcblxuICAgIGlmICh0eXBlb2YgKEVycm9yIGFzIGFueSkuY2FwdHVyZVN0YWNrVHJhY2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgKEVycm9yIGFzIGFueSkuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgU3ludGF4RXJyb3IpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBwZWckcGFyc2UoaW5wdXQ6IHN0cmluZywgb3B0aW9ucz86IElQYXJzZU9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMgOiB7fTtcblxuICBjb25zdCBwZWckRkFJTEVEOiBSZWFkb25seTx7fT4gPSB7fTtcblxuICBjb25zdCBwZWckc3RhcnRSdWxlRnVuY3Rpb25zOiB7W2lkOiBzdHJpbmddOiBhbnl9ID0geyBzdGFydDogcGVnJHBhcnNlc3RhcnQgfTtcbiAgbGV0IHBlZyRzdGFydFJ1bGVGdW5jdGlvbjogKCkgPT4gYW55ID0gcGVnJHBhcnNlc3RhcnQ7XG5cbiAgY29uc3QgcGVnJGMwID0gZnVuY3Rpb24oZDogYW55KTogYW55IHtyZXR1cm4gZH07XG4gIGNvbnN0IHBlZyRjMSA9IGZ1bmN0aW9uKGRlY2xzOiBhbnkpOiBhbnkge3JldHVybiBkZWNscy5maWx0ZXIoKGVsZW06IGFueSkgPT4gZWxlbSE9PVwiY29tbWVudFwiKTt9O1xuICBjb25zdCBwZWckYzIgPSBmdW5jdGlvbigpOiBhbnkge3JldHVybiBcImNvbW1lbnRcIjt9O1xuICBjb25zdCBwZWckYzMgPSBcIi8vXCI7XG4gIGNvbnN0IHBlZyRjNCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIvL1wiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNSA9IC9eW15cXG5dLztcbiAgY29uc3QgcGVnJGM2ID0gcGVnJGNsYXNzRXhwZWN0YXRpb24oW1wiXFxuXCJdLCB0cnVlLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNyA9IFwiXFxuXCI7XG4gIGNvbnN0IHBlZyRjOCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJcXG5cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzkgPSBcIi8qXCI7XG4gIGNvbnN0IHBlZyRjMTAgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiLypcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzExID0gXCIqL1wiO1xuICBjb25zdCBwZWckYzEyID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIiovXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxMyA9IHBlZyRhbnlFeHBlY3RhdGlvbigpO1xuICBjb25zdCBwZWckYzE0ID0gZnVuY3Rpb24odDogYW55KTogYW55IHtyZXR1cm4gdHJhY2sodCwgbG9jYXRpb24oKSwgdGV4dCgpKTt9O1xuICBjb25zdCBwZWckYzE1ID0gZnVuY3Rpb24oc3RtdDogYW55KTogYW55IHtyZXR1cm4gYWJzb3JiKHtjb25zdHJ1Y3RfdHlwZTpcImxhYmVsZWRfc3RhdGVtZW50XCJ9LCBzdG10KTsgfTtcbiAgY29uc3QgcGVnJGMxNiA9IFwiOlwiO1xuICBjb25zdCBwZWckYzE3ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIjpcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzE4ID0gZnVuY3Rpb24obGFiZWw6IGFueSwgc3RtdDogYW55KTogYW55IHtyZXR1cm4ge2NvbnN0cnVjdF90eXBlOiBcImxhYmVsZWRfc3RhdGVtZW50XCIsIGxhYmVsOmxhYmVsLCBzdGF0ZW1lbnQ6IHN0bXR9OyB9O1xuICBjb25zdCBwZWckYzE5ID0gXCJjYXNlXCI7XG4gIGNvbnN0IHBlZyRjMjAgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiY2FzZVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjEgPSBmdW5jdGlvbihjOiBhbnksIHN0bXQ6IGFueSk6IGFueSB7IHJldHVybiB7Y29uc3RydWN0X3R5cGU6IFwibGFiZWxlZF9zdGF0ZW1lbnRcIiwgY2FzZTpjLCBzdGF0ZW1lbnQ6c3RtdH07IH07XG4gIGNvbnN0IHBlZyRjMjIgPSBcImRlZmF1bHRcIjtcbiAgY29uc3QgcGVnJGMyMyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJkZWZhdWx0XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyNCA9IGZ1bmN0aW9uKHN0bXQ6IGFueSk6IGFueSB7IHJldHVybiB7Y29uc3RydWN0X3R5cGU6IFwibGFiZWxlZF9zdGF0ZW1lbnRcIiwgZGVmYXVsdDp0cnVlLCBzdG10OnN0bXR9OyB9O1xuICBjb25zdCBwZWckYzI1ID0gXCI7XCI7XG4gIGNvbnN0IHBlZyRjMjYgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiO1wiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjcgPSBmdW5jdGlvbihleHByOiBhbnkpOiBhbnkgeyByZXR1cm4ge2NvbnN0cnVjdF90eXBlOiBcImV4cHJlc3Npb25fc3RhdGVtZW50XCIsIGV4cHJlc3Npb246ZXhwcn07IH07XG4gIGNvbnN0IHBlZyRjMjggPSBmdW5jdGlvbigpOiBhbnkgeyByZXR1cm4ge2NvbnN0cnVjdF90eXBlOiBcIm51bGxfc3RhdGVtZW50XCJ9OyB9O1xuICBjb25zdCBwZWckYzI5ID0gXCJ7XCI7XG4gIGNvbnN0IHBlZyRjMzAgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwie1wiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzEgPSBmdW5jdGlvbihzdG10OiBhbnkpOiBhbnkge3JldHVybiBzdG10fTtcbiAgY29uc3QgcGVnJGMzMiA9IFwifVwiO1xuICBjb25zdCBwZWckYzMzID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIn1cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzM0ID0gZnVuY3Rpb24oc3RtdHM6IGFueSk6IGFueSB7IHJldHVybiB7Y29uc3RydWN0X3R5cGU6IFwiYmxvY2tcIiwgc3RhdGVtZW50czogc3RtdHN9OyB9O1xuICBjb25zdCBwZWckYzM1ID0gXCJpZlwiO1xuICBjb25zdCBwZWckYzM2ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImlmXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMzNyA9IFwiKFwiO1xuICBjb25zdCBwZWckYzM4ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIihcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzM5ID0gXCIpXCI7XG4gIGNvbnN0IHBlZyRjNDAgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiKVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDEgPSBcImVsc2VcIjtcbiAgY29uc3QgcGVnJGM0MiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJlbHNlXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM0MyA9IGZ1bmN0aW9uKGNvbmQ6IGFueSwgdGhlbjogYW55LCBlOiBhbnkpOiBhbnkge3JldHVybiB7Y29uc3RydWN0X3R5cGU6XCJzZWxlY3Rpb25fc3RhdGVtZW50XCIsIGNvbmRpdGlvbjpjb25kLCB0aGVuOnRoZW4sIG90aGVyd2lzZTplfTsgfTtcbiAgY29uc3QgcGVnJGM0NCA9IGZ1bmN0aW9uKGNvbmQ6IGFueSwgdGhlbjogYW55KTogYW55IHtyZXR1cm4ge2NvbnN0cnVjdF90eXBlOlwic2VsZWN0aW9uX3N0YXRlbWVudFwiLCBjb25kaXRpb246Y29uZCwgdGhlbjp0aGVufTsgfTtcbiAgY29uc3QgcGVnJGM0NSA9IFwid2hpbGVcIjtcbiAgY29uc3QgcGVnJGM0NiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ3aGlsZVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDcgPSBmdW5jdGlvbihjb25kOiBhbnksIGJvZHk6IGFueSk6IGFueSB7IHJldHVybiB7Y29uc3RydWN0X3R5cGU6XCJ3aGlsZV9zdGF0ZW1lbnRcIiwgY29uZGl0aW9uOmNvbmQsIGJvZHk6Ym9keX07IH07XG4gIGNvbnN0IHBlZyRjNDggPSBcImRvXCI7XG4gIGNvbnN0IHBlZyRjNDkgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiZG9cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzUwID0gZnVuY3Rpb24oYm9keTogYW55LCBjb25kOiBhbnkpOiBhbnkgeyByZXR1cm4ge2NvbnN0cnVjdF90eXBlOlwiZG93aGlsZV9zdGF0ZW1lbnRcIiwgY29uZGl0aW9uOmNvbmQsIGJvZHk6Ym9keX07IH07XG4gIGNvbnN0IHBlZyRjNTEgPSBcImZvclwiO1xuICBjb25zdCBwZWckYzUyID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImZvclwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNTMgPSBmdW5jdGlvbihpbml0OiBhbnksIGNvbmQ6IGFueSwgcG9zdDogYW55LCBib2R5OiBhbnkpOiBhbnkgeyByZXR1cm4ge2NvbnN0cnVjdF90eXBlOlwiZm9yX3N0YXRlbWVudFwiLCBjb25kaXRpb246Y29uZCwgaW5pdGlhbDppbml0LCBwb3N0OnBvc3QsIGJvZHk6Ym9keX07IH07XG4gIGNvbnN0IHBlZyRjNTQgPSBmdW5jdGlvbihkOiBhbnkpOiBhbnkgeyByZXR1cm4gdHJhY2soZCwgbG9jYXRpb24oKSwgdGV4dCgpKTsgfTtcbiAgY29uc3QgcGVnJGM1NSA9IFwiYnJlYWtcIjtcbiAgY29uc3QgcGVnJGM1NiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJicmVha1wiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNTcgPSBmdW5jdGlvbigpOiBhbnkgeyByZXR1cm4ge2NvbnN0cnVjdF90eXBlOlwiYnJlYWtfc3RhdGVtZW50XCJ9OyB9O1xuICBjb25zdCBwZWckYzU4ID0gXCJjb250aW51ZVwiO1xuICBjb25zdCBwZWckYzU5ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImNvbnRpbnVlXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM2MCA9IGZ1bmN0aW9uKCk6IGFueSB7cmV0dXJuIHtjb25zdHJ1Y3RfdHlwZTpcImNvbnRpbnVlX3N0YXRlbWVudFwifTsgfTtcbiAgY29uc3QgcGVnJGM2MSA9IFwicmV0dXJuXCI7XG4gIGNvbnN0IHBlZyRjNjIgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwicmV0dXJuXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM2MyA9IGZ1bmN0aW9uKHJldDogYW55KTogYW55IHsgcmV0dXJuIHtjb25zdHJ1Y3RfdHlwZTpcInJldHVybl9zdGF0ZW1lbnRcIiwgZXhwcmVzc2lvbjpyZXR9OyB9O1xuICBjb25zdCBwZWckYzY0ID0gZnVuY3Rpb24oZDogYW55KTogYW55IHtyZXR1cm4ge2NvbnN0cnVjdF90eXBlOlwiZGVjbGFyYXRpb25fc3RhdGVtZW50XCIsIGRlY2xhcmF0aW9uOiBkfTsgfTtcbiAgY29uc3QgcGVnJGM2NSA9IGZ1bmN0aW9uKHNwZWNzOiBhbnksIGRlY2xhcmF0b3JzOiBhbnkpOiBhbnkgeyByZXR1cm4gdHJhY2soe2NvbnN0cnVjdF90eXBlOiBcInNpbXBsZV9kZWNsYXJhdGlvblwiLCBzcGVjczpzcGVjcywgZGVjbGFyYXRvcnM6ZGVjbGFyYXRvcnN9LCBsb2NhdGlvbigpLCB0ZXh0KCkpOyB9O1xuICBjb25zdCBwZWckYzY2ID0gXCIsXCI7XG4gIGNvbnN0IHBlZyRjNjcgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiLFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNjggPSBmdW5jdGlvbihmaXJzdDogYW55LCBkOiBhbnkpOiBhbnkge3JldHVybiBkO307XG4gIGNvbnN0IHBlZyRjNjkgPSBmdW5jdGlvbihmaXJzdDogYW55LCByZXN0OiBhbnkpOiBhbnkge3Jlc3QudW5zaGlmdChmaXJzdCk7IHJldHVybiByZXN0OyB9O1xuICBjb25zdCBwZWckYzcwID0gZnVuY3Rpb24oc3BlYzogYW55KTogYW55IHtcclxuICAgICAgcmV0dXJuIHRyYWNrKGFic29yYih7Y29uc3RydWN0X3R5cGU6IFwiY2xhc3NfZGVjbGFyYXRpb25cIn0sIHNwZWMpLCBsb2NhdGlvbigpLCB0ZXh0KCkpO1xyXG4gICAgfTtcbiAgY29uc3QgcGVnJGM3MSA9IGZ1bmN0aW9uKHNwZWNzOiBhbnksIGRlY2xhcmF0b3I6IGFueSwgYm9keTogYW55KTogYW55IHtyZXR1cm4gdHJhY2soe2NvbnN0cnVjdF90eXBlOiBcImZ1bmN0aW9uX2RlZmluaXRpb25cIiwgc3BlY3M6c3BlY3MsIGRlY2xhcmF0b3I6ZGVjbGFyYXRvciwgYm9keTpib2R5fSwgbG9jYXRpb24oKSwgdGV4dCgpKTsgfTtcbiAgY29uc3QgcGVnJGM3MiA9IGZ1bmN0aW9uKG5hbWU6IGFueSwgYXJnczogYW55LCBpbml0OiBhbnkpOiBhbnkge3JldHVybiBudWxsO307XG4gIGNvbnN0IHBlZyRjNzMgPSBmdW5jdGlvbihuYW1lOiBhbnksIGFyZ3M6IGFueSwgaW5pdDogYW55LCBib2R5OiBhbnkpOiBhbnkge3JldHVybiB0cmFjayh7Y29uc3RydWN0X3R5cGU6IFwiY29uc3RydWN0b3JfZGVmaW5pdGlvblwiLCBuYW1lOm5hbWUsIGJvZHk6Ym9keSwgaW5pdGlhbGl6ZXI6aW5pdCwgYXJnczogYXJnc30sIGxvY2F0aW9uKCksIHRleHQoKSk7IH07XG4gIGNvbnN0IHBlZyRjNzQgPSBcIn5cIjtcbiAgY29uc3QgcGVnJGM3NSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ+XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM3NiA9IGZ1bmN0aW9uKG5hbWU6IGFueSk6IGFueSB7cmV0dXJuIG51bGw7fTtcbiAgY29uc3QgcGVnJGM3NyA9IGZ1bmN0aW9uKG5hbWU6IGFueSwgYm9keTogYW55KTogYW55IHtyZXR1cm4gdHJhY2soe2NvbnN0cnVjdF90eXBlOiBcImRlc3RydWN0b3JfZGVmaW5pdGlvblwiLCBuYW1lOntpZGVudGlmaWVyOiBcIn5cIituYW1lLmlkZW50aWZpZXJ9LCBib2R5OmJvZHl9LCBsb2NhdGlvbigpLCB0ZXh0KCkpOyB9O1xuICBjb25zdCBwZWckYzc4ID0gXCJ2aXJ0dWFsXCI7XG4gIGNvbnN0IHBlZyRjNzkgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwidmlydHVhbFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjODAgPSBmdW5jdGlvbihuYW1lOiBhbnksIGJvZHk6IGFueSk6IGFueSB7cmV0dXJuIHRyYWNrKHtjb25zdHJ1Y3RfdHlwZTogXCJkZXN0cnVjdG9yX2RlZmluaXRpb25cIiwgbmFtZTp7aWRlbnRpZmllcjogXCJ+XCIrbmFtZS5pZGVudGlmaWVyfSwgYm9keTpib2R5LCB2aXJ0dWFsOnRydWV9LCBsb2NhdGlvbigpLCB0ZXh0KCkpOyB9O1xuICBjb25zdCBwZWckYzgxID0gZnVuY3Rpb24oZmlyc3Q6IGFueSwgbTogYW55KTogYW55IHtyZXR1cm4gbTt9O1xuICBjb25zdCBwZWckYzgyID0gZnVuY3Rpb24oZmlyc3Q6IGFueSwgcmVzdDogYW55KTogYW55IHtyZXN0LnVuc2hpZnQoZmlyc3QpOyByZXR1cm4gcmVzdDt9O1xuICBjb25zdCBwZWckYzgzID0gZnVuY3Rpb24oaTogYW55LCBhcmdzOiBhbnkpOiBhbnkge3JldHVybiB0cmFjayh7Y29uc3RydWN0X3R5cGU6IFwibWVtYmVyX2luaXRpYWxpemVyXCIsIG1lbWJlcjogaSwgYXJnczphcmdzIHx8IFtdfSwgbG9jYXRpb24oKSwgdGV4dCgpKTsgfTtcbiAgY29uc3QgcGVnJGM4NCA9IGZ1bmN0aW9uKHM6IGFueSk6IGFueSB7cmV0dXJuIHN9O1xuICBjb25zdCBwZWckYzg1ID0gZnVuY3Rpb24oYmVmb3JlOiBhbnksIHQ6IGFueSwgczogYW55KTogYW55IHtyZXR1cm4gc307XG4gIGNvbnN0IHBlZyRjODYgPSBmdW5jdGlvbihiZWZvcmU6IGFueSwgdDogYW55LCBhZnRlcjogYW55KTogYW55IHtcclxuICAgICAgICBiZWZvcmUucHVzaCh7dHlwZVNwZWM6dH0pO1xyXG4gICAgICAgIHZhciByZXN0ID0gYmVmb3JlLmNvbmNhdChhZnRlcik7XHJcblxyXG4gICAgICAgIHZhciBkZWNsU3BlY3MgOiBhbnkgPSB7XHJcbiAgICAgICAgICB0eXBlU3BlY3M6IFtdLFxyXG4gICAgICAgICAgc3RvcmFnZVNwZWNzOiBbXVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCByZXN0Lmxlbmd0aDsgKytpKXtcclxuICAgICAgICAgIGxldCBzcGVjID0gcmVzdFtpXTtcclxuICAgICAgICAgIGlmIChzcGVjLnR5cGVTcGVjKXtcclxuICAgICAgICAgICAgZGVjbFNwZWNzLnR5cGVTcGVjcy5wdXNoKHNwZWMudHlwZVNwZWMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZSBpZiAoc3BlYy5zdG9yYWdlU3BlYyl7XHJcbiAgICAgICAgICAgIGRlY2xTcGVjcy5zdG9yYWdlU3BlY3MucHVzaChzcGVjLnN0b3JhZ2VTcGVjKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2UgaWYgKHNwZWMgPT09IFwiZnJpZW5kXCIpe1xyXG4gICAgICAgICAgICBkZWNsU3BlY3MuZnJpZW5kID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2UgaWYgKHNwZWMgPT09IFwidHlwZWRlZlwiKXtcclxuICAgICAgICAgICAgZGVjbFNwZWNzLnR5cGVkZWYgPSB0cnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZSBpZiAoc3BlYyA9PT0gXCJpbmxpbmVcIil7XHJcbiAgICAgICAgICAgIGRlY2xTcGVjcy5pbmxpbmUgPSB0cnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZSBpZiAoc3BlYyA9PT0gXCJleHBsaWNpdFwiKXtcclxuICAgICAgICAgICAgZGVjbFNwZWNzLmV4cGxpY2l0ID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2UgaWYgKHNwZWMgPT09IFwidmlydHVhbFwiKXtcclxuICAgICAgICAgICAgZGVjbFNwZWNzLnZpcnR1YWwgPSB0cnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRyYWNrKGRlY2xTcGVjcywgbG9jYXRpb24oKSwgdGV4dCgpKTsgfTtcbiAgY29uc3QgcGVnJGM4NyA9IGZ1bmN0aW9uKHQ6IGFueSk6IGFueSB7IHJldHVybiB7dHlwZVNwZWM6dH07IH07XG4gIGNvbnN0IHBlZyRjODggPSBmdW5jdGlvbihzOiBhbnkpOiBhbnkgeyByZXR1cm4ge3N0b3JhZ2VTcGVjOnN9OyB9O1xuICBjb25zdCBwZWckYzg5ID0gXCJ0eXBlZGVmXCI7XG4gIGNvbnN0IHBlZyRjOTAgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwidHlwZWRlZlwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjOTEgPSBcImZyaWVuZFwiO1xuICBjb25zdCBwZWckYzkyID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImZyaWVuZFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjOTMgPSBmdW5jdGlvbihiZWZvcmU6IGFueSwgdDogYW55LCBhZnRlcjogYW55KTogYW55IHsgYmVmb3JlLnB1c2godCk7XHJcbiAgICAgICAgYmVmb3JlID0gYmVmb3JlLmNvbmNhdChhZnRlcik7XHJcbiAgICAgICAgcmV0dXJuIHRyYWNrKGJlZm9yZSwgbG9jYXRpb24oKSwgdGV4dCgpKTsgfTtcbiAgY29uc3QgcGVnJGM5NCA9IFwiY29uc3RcIjtcbiAgY29uc3QgcGVnJGM5NSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJjb25zdFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjOTYgPSBcInZvbGF0aWxlXCI7XG4gIGNvbnN0IHBlZyRjOTcgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwidm9sYXRpbGVcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzk4ID0gXCJyZWdpc3RlclwiO1xuICBjb25zdCBwZWckYzk5ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInJlZ2lzdGVyXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxMDAgPSBcInN0YXRpY1wiO1xuICBjb25zdCBwZWckYzEwMSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJzdGF0aWNcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzEwMiA9IFwidGhyZWFkX2xvY2FsXCI7XG4gIGNvbnN0IHBlZyRjMTAzID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInRocmVhZF9sb2NhbFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTA0ID0gXCJleHRlcm5cIjtcbiAgY29uc3QgcGVnJGMxMDUgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiZXh0ZXJuXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxMDYgPSBcIm11dGFibGVcIjtcbiAgY29uc3QgcGVnJGMxMDcgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwibXV0YWJsZVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTA4ID0gXCJpbmxpbmVcIjtcbiAgY29uc3QgcGVnJGMxMDkgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiaW5saW5lXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxMTAgPSBcImV4cGxpY2l0XCI7XG4gIGNvbnN0IHBlZyRjMTExID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImV4cGxpY2l0XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxMTIgPSBwZWckb3RoZXJFeHBlY3RhdGlvbihcInNpbXBsZSB0eXBlIG5hbWVcIik7XG4gIGNvbnN0IHBlZyRjMTEzID0gZnVuY3Rpb24odDogYW55KTogYW55IHtyZXR1cm4gdDt9O1xuICBjb25zdCBwZWckYzExNCA9IFwiY2hhclwiO1xuICBjb25zdCBwZWckYzExNSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJjaGFyXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxMTYgPSBcInNob3J0XCI7XG4gIGNvbnN0IHBlZyRjMTE3ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInNob3J0XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxMTggPSBcImludFwiO1xuICBjb25zdCBwZWckYzExOSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJpbnRcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzEyMCA9IFwiYm9vbFwiO1xuICBjb25zdCBwZWckYzEyMSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJib29sXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxMjIgPSBcImxvbmdcIjtcbiAgY29uc3QgcGVnJGMxMjMgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwibG9uZ1wiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTI0ID0gXCJzaWduZWRcIjtcbiAgY29uc3QgcGVnJGMxMjUgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwic2lnbmVkXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxMjYgPSBcInVuc2lnbmVkXCI7XG4gIGNvbnN0IHBlZyRjMTI3ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInVuc2lnbmVkXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxMjggPSBcImZsb2F0XCI7XG4gIGNvbnN0IHBlZyRjMTI5ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImZsb2F0XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxMzAgPSBcImRvdWJsZVwiO1xuICBjb25zdCBwZWckYzEzMSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJkb3VibGVcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzEzMiA9IFwidm9pZFwiO1xuICBjb25zdCBwZWckYzEzMyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ2b2lkXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxMzQgPSBmdW5jdGlvbihpZDogYW55KTogYW55IHtyZXR1cm4gaXNVc2VyVHlwZU5hbWUoaWQuaWRlbnRpZmllcik7fTtcbiAgY29uc3QgcGVnJGMxMzUgPSBmdW5jdGlvbihpZDogYW55KTogYW55IHtyZXR1cm4gaWQuaWRlbnRpZmllcjt9O1xuICBjb25zdCBwZWckYzEzNiA9IFwiZW51bVwiO1xuICBjb25zdCBwZWckYzEzNyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJlbnVtXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxMzggPSBmdW5jdGlvbihuYW1lOiBhbnksIGZpcnN0OiBhbnksIGU6IGFueSk6IGFueSB7cmV0dXJuIGU7fTtcbiAgY29uc3QgcGVnJGMxMzkgPSBmdW5jdGlvbihuYW1lOiBhbnksIGZpcnN0OiBhbnksIHJlc3Q6IGFueSk6IGFueSB7IHJldHVybiBcImVudW1cIjsgfTtcbiAgY29uc3QgcGVnJGMxNDAgPSBcIj1cIjtcbiAgY29uc3QgcGVnJGMxNDEgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiPVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTQyID0gZnVuY3Rpb24obmFtZTogYW55LCBlOiBhbnkpOiBhbnkge3JldHVybiBlO307XG4gIGNvbnN0IHBlZyRjMTQzID0gZnVuY3Rpb24obmFtZTogYW55LCB2YWx1ZTogYW55KTogYW55IHtyZXR1cm4ge25hbWU6bmFtZSwgdmFsdWU6dmFsdWV9OyB9O1xuICBjb25zdCBwZWckYzE0NCA9IFwiQGxpYnJhcnlfdW5zdXBwb3J0ZWRAXCI7XG4gIGNvbnN0IHBlZyRjMTQ1ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIkBsaWJyYXJ5X3Vuc3VwcG9ydGVkQFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTQ2ID0gZnVuY3Rpb24oZDogYW55KTogYW55IHtyZXR1cm4gdHJhY2soYWJzb3JiKGQsIHtsaWJyYXJ5X3Vuc3VwcG9ydGVkOiB0cnVlfSksIGxvY2F0aW9uKCksIHRleHQoKSk7fTtcbiAgY29uc3QgcGVnJGMxNDcgPSBmdW5jdGlvbihkOiBhbnksIGk6IGFueSk6IGFueSB7cmV0dXJuIHRyYWNrKGFic29yYihkLCB7aW5pdGlhbGl6ZXI6IGl9KSwgbG9jYXRpb24oKSwgdGV4dCgpKTt9O1xuICBjb25zdCBwZWckYzE0OCA9IGZ1bmN0aW9uKGFyZ3M6IGFueSk6IGFueSB7XHJcbiAgICAgIHJldHVybiB7Y29uc3RydWN0X3R5cGU6XCJkaXJlY3RfaW5pdGlhbGl6ZXJcIiwgYXJnczphcmdzfTtcclxuICAgIH07XG4gIGNvbnN0IHBlZyRjMTQ5ID0gZnVuY3Rpb24oaW5pdDogYW55KTogYW55IHtyZXR1cm4ge2NvbnN0cnVjdF90eXBlOlwiY29weV9pbml0aWFsaXplclwiLCBhcmdzOltpbml0XX07fTtcbiAgY29uc3QgcGVnJGMxNTAgPSBmdW5jdGlvbihpbml0OiBhbnkpOiBhbnkge3JldHVybiBpbml0O307XG4gIGNvbnN0IHBlZyRjMTUxID0gZnVuY3Rpb24oZmlyc3Q6IGFueSwgb3A6IGFueSwgZTogYW55KTogYW55IHtyZXR1cm4gZTt9O1xuICBjb25zdCBwZWckYzE1MiA9IGZ1bmN0aW9uKGZpcnN0OiBhbnksIHJlc3Q6IGFueSk6IGFueSB7XHJcbiAgICAgICAgcmVzdC51bnNoaWZ0KGZpcnN0KTtcclxuICAgICAgICByZXR1cm4gdHJhY2soe2NvbnN0cnVjdF90eXBlOlwiaW5pdGlhbGl6ZXJfbGlzdFwiLCBhcmdzOiByZXN0fSwgbG9jYXRpb24oKSwgdGV4dCgpKTtcclxuICAgICAgfTtcbiAgY29uc3QgcGVnJGMxNTMgPSBmdW5jdGlvbihkOiBhbnkpOiBhbnkge1xyXG4gICAgICB2YXIgZDIgPSB0cmFjayhhYnNvcmIoe2NvbnN0cnVjdF90eXBlOlwiZGVjbGFyYXRvclwifSwgZCksIGxvY2F0aW9uKCksIHRleHQoKSk7XHJcbiAgICAgcmV0dXJuIGQyO1xyXG4gICAgfTtcbiAgY29uc3QgcGVnJGMxNTQgPSBmdW5jdGlvbihkOiBhbnkpOiBhbnkge1xyXG4gICAgICB2YXIgZDIgPSB0cmFjayhhYnNvcmIoe2NvbnN0cnVjdF90eXBlOlwiZGVjbGFyYXRvclwiLCBhYnN0cmFjdDogdHJ1ZX0sIGQpLCBsb2NhdGlvbigpLCB0ZXh0KCkpO1xyXG4gICAgICByZXR1cm4gZDI7XHJcbiAgICB9O1xuICBjb25zdCBwZWckYzE1NSA9IFwiKlwiO1xuICBjb25zdCBwZWckYzE1NiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIqXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxNTcgPSBmdW5jdGlvbihjdjogYW55LCBkZWNsOiBhbnkpOiBhbnkgeyByZXR1cm4gYWJzb3JiKHtwb2ludGVyOmRlY2x9LCBjdik7IH07XG4gIGNvbnN0IHBlZyRjMTU4ID0gXCImXCI7XG4gIGNvbnN0IHBlZyRjMTU5ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIiZcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzE2MCA9IGZ1bmN0aW9uKGN2OiBhbnksIGRlY2w6IGFueSk6IGFueSB7IHJldHVybiBhYnNvcmIoe3JlZmVyZW5jZTpkZWNsfSwgY3YpOyB9O1xuICBjb25zdCBwZWckYzE2MSA9IGZ1bmN0aW9uKGRlY2w6IGFueSwgcG9zdGZpeGVzOiBhbnkpOiBhbnkgeyByZXR1cm4gYWJzb3JiKGRlY2wsIHtwb3N0Zml4ZXM6IHBvc3RmaXhlc30pOyB9O1xuICBjb25zdCBwZWckYzE2MiA9IGZ1bmN0aW9uKHA6IGFueSk6IGFueSB7cmV0dXJuIHB9O1xuICBjb25zdCBwZWckYzE2MyA9IGZ1bmN0aW9uKGFyZ3M6IGFueSwgY3Y6IGFueSk6IGFueSB7IHJldHVybiBhYnNvcmIoe2tpbmQ6XCJmdW5jdGlvblwiLCBhcmdzOmFyZ3N9LCBjdik7IH07XG4gIGNvbnN0IHBlZyRjMTY0ID0gXCJbXCI7XG4gIGNvbnN0IHBlZyRjMTY1ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIltcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzE2NiA9IFwiXVwiO1xuICBjb25zdCBwZWckYzE2NyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJdXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxNjggPSBmdW5jdGlvbihzaXplOiBhbnkpOiBhbnkgeyByZXR1cm4ge2tpbmQ6XCJhcnJheVwiLCBzaXplOnNpemV9OyB9O1xuICBjb25zdCBwZWckYzE2OSA9IGZ1bmN0aW9uKGQ6IGFueSk6IGFueSB7cmV0dXJuIHtuYW1lOmR9OyB9O1xuICBjb25zdCBwZWckYzE3MCA9IGZ1bmN0aW9uKGQ6IGFueSk6IGFueSB7cmV0dXJuIHtzdWI6ZH07fTtcbiAgY29uc3QgcGVnJGMxNzEgPSBcIlwiO1xuICBjb25zdCBwZWckYzE3MiA9IGZ1bmN0aW9uKCk6IGFueSB7cmV0dXJuIHt9O307XG4gIGNvbnN0IHBlZyRjMTczID0gZnVuY3Rpb24oc3BlY3M6IGFueSwgZGVjbDogYW55KTogYW55IHsgcmV0dXJuIHRyYWNrKHtzcGVjczpzcGVjcywgZGVjbGFyYXRvcjpkZWNsfSwgbG9jYXRpb24oKSwgdGV4dCgpKTsgfTtcbiAgY29uc3QgcGVnJGMxNzQgPSBmdW5jdGlvbigpOiBhbnkgeyByZXR1cm4ge2NvbnN0OiB0cnVlLCB2b2xhdGlsZTogdHJ1ZX07IH07XG4gIGNvbnN0IHBlZyRjMTc1ID0gZnVuY3Rpb24oKTogYW55IHsgcmV0dXJuIHtjb25zdDogdHJ1ZX07IH07XG4gIGNvbnN0IHBlZyRjMTc2ID0gZnVuY3Rpb24oKTogYW55IHsgcmV0dXJuIHt2b2xhdGlsZTogdHJ1ZX07IH07XG4gIGNvbnN0IHBlZyRjMTc3ID0gZnVuY3Rpb24oZmlyc3Q6IGFueSwgYXJnOiBhbnkpOiBhbnkge3JldHVybiBhcmc7fTtcbiAgY29uc3QgcGVnJGMxNzggPSBmdW5jdGlvbihmaXJzdDogYW55LCByZXN0OiBhbnkpOiBhbnkgeyByZXN0LnVuc2hpZnQoZmlyc3QpOyByZXR1cm4gcmVzdDsgfTtcbiAgY29uc3QgcGVnJGMxNzkgPSBmdW5jdGlvbigpOiBhbnkge3JldHVybiBbXTt9O1xuICBjb25zdCBwZWckYzE4MCA9IGZ1bmN0aW9uKHNwZWNzOiBhbnksIGRlY2w6IGFueSwgaW5pdDogYW55KTogYW55IHtyZXR1cm4ge2NvbnN0cnVjdF90eXBlOlwicGFyYW1ldGVyX2RlY2xhcmF0aW9uXCIsIGRlY2xhcmF0b3I6ZGVjbCwgc3BlY3M6c3BlY3MsIGluaXRpYWxpemVyOmluaXR9OyB9O1xuICBjb25zdCBwZWckYzE4MSA9IGZ1bmN0aW9uKHNwZWNzOiBhbnksIGRlY2w6IGFueSk6IGFueSB7cmV0dXJuIHRyYWNrKHtjb25zdHJ1Y3RfdHlwZTpcInBhcmFtZXRlcl9kZWNsYXJhdGlvblwiLCBzcGVjczpzcGVjcywgZGVjbGFyYXRvcjpkZWNsfSwgbG9jYXRpb24oKSwgdGV4dCgpKTsgfTtcbiAgY29uc3QgcGVnJGMxODIgPSBmdW5jdGlvbihmaXJzdDogYW55LCBvcDogYW55LCBlOiBhbnkpOiBhbnkge3JldHVybiBbb3AsZV07fTtcbiAgY29uc3QgcGVnJGMxODMgPSBmdW5jdGlvbihmaXJzdDogYW55LCByZXN0OiBhbnkpOiBhbnkgeyByZXR1cm4gdHJhY2soY29tcG9zZUJpbmFyeU9wKGZpcnN0LCByZXN0LCBcImxlZnRcIiwgXCJjb21tYV9leHByZXNzaW9uXCIpLCBsb2NhdGlvbigpLCB0ZXh0KCkpOyB9O1xuICBjb25zdCBwZWckYzE4NCA9IGZ1bmN0aW9uKGxoczogYW55LCBvcDogYW55LCByaHM6IGFueSk6IGFueSB7IHJldHVybiB0cmFjayh7Y29uc3RydWN0X3R5cGU6IFwiYXNzaWdubWVudF9leHByZXNzaW9uXCIsIGxoczpsaHMsIG9wZXJhdG9yOm9wLCByaHM6cmhzfSwgbG9jYXRpb24oKSwgdGV4dCgpKTsgfTtcbiAgY29uc3QgcGVnJGMxODUgPSBmdW5jdGlvbihsaHM6IGFueSwgb3A6IGFueSwgcmhzOiBhbnkpOiBhbnkgeyByZXR1cm4gdHJhY2soe2NvbnN0cnVjdF90eXBlOiBcImNvbXBvdW5kX2Fzc2lnbm1lbnRcIiwgbGhzOmxocywgb3BlcmF0b3I6b3AsIHJoczpyaHN9LCBsb2NhdGlvbigpLCB0ZXh0KCkpOyB9O1xuICBjb25zdCBwZWckYzE4NiA9IFwiKj1cIjtcbiAgY29uc3QgcGVnJGMxODcgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiKj1cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzE4OCA9IFwiLz1cIjtcbiAgY29uc3QgcGVnJGMxODkgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiLz1cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzE5MCA9IFwiJT1cIjtcbiAgY29uc3QgcGVnJGMxOTEgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiJT1cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzE5MiA9IFwiKz1cIjtcbiAgY29uc3QgcGVnJGMxOTMgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiKz1cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzE5NCA9IFwiLT1cIjtcbiAgY29uc3QgcGVnJGMxOTUgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiLT1cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzE5NiA9IFwiPj49XCI7XG4gIGNvbnN0IHBlZyRjMTk3ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIj4+PVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTk4ID0gXCI8PD1cIjtcbiAgY29uc3QgcGVnJGMxOTkgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiPDw9XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyMDAgPSBcIiY9XCI7XG4gIGNvbnN0IHBlZyRjMjAxID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIiY9XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyMDIgPSBcImFuZF9lcVwiO1xuICBjb25zdCBwZWckYzIwMyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJhbmRfZXFcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzIwNCA9IGZ1bmN0aW9uKCk6IGFueSB7cmV0dXJuIFwiJj1cIjt9O1xuICBjb25zdCBwZWckYzIwNSA9IFwiXj1cIjtcbiAgY29uc3QgcGVnJGMyMDYgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiXj1cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzIwNyA9IFwieG9yX2VxXCI7XG4gIGNvbnN0IHBlZyRjMjA4ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInhvcl9lcVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjA5ID0gZnVuY3Rpb24oKTogYW55IHtyZXR1cm4gXCJePVwiO307XG4gIGNvbnN0IHBlZyRjMjEwID0gXCJ8PVwiO1xuICBjb25zdCBwZWckYzIxMSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ8PVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjEyID0gXCJvcl9lcVwiO1xuICBjb25zdCBwZWckYzIxMyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJvcl9lcVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjE0ID0gZnVuY3Rpb24oKTogYW55IHtyZXR1cm4gXCJ8PVwiO307XG4gIGNvbnN0IHBlZyRjMjE1ID0gZnVuY3Rpb24oc3ViOiBhbnkpOiBhbnkgeyBzdWIuY29uc3RhbnQgPSB0cnVlOyByZXR1cm4gc3ViOyB9O1xuICBjb25zdCBwZWckYzIxNiA9IFwiP1wiO1xuICBjb25zdCBwZWckYzIxNyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCI/XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyMTggPSBmdW5jdGlvbihjb25kaXRpb246IGFueSwgdGhlbjogYW55LCBvdGhlcndpc2U6IGFueSk6IGFueSB7IHJldHVybiB0cmFjayh7Y29uc3RydWN0X3R5cGU6IFwidGVybmFyeV9leHByZXNzaW9uXCIsIGNvbmRpdGlvbjpjb25kaXRpb24sIHRoZW46dGhlbiwgb3RoZXJ3aXNlOm90aGVyd2lzZX0sIGxvY2F0aW9uKCksIHRleHQoKSk7IH07XG4gIGNvbnN0IHBlZyRjMjE5ID0gXCJ8fFwiO1xuICBjb25zdCBwZWckYzIyMCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ8fFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjIxID0gXCJvclwiO1xuICBjb25zdCBwZWckYzIyMiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJvclwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjIzID0gZnVuY3Rpb24oZmlyc3Q6IGFueSwgb3A6IGFueSwgZTogYW55KTogYW55IHtyZXR1cm4gW1wifHxcIixlXTt9O1xuICBjb25zdCBwZWckYzIyNCA9IGZ1bmN0aW9uKGZpcnN0OiBhbnksIHJlc3Q6IGFueSk6IGFueSB7IHJldHVybiB0cmFjayhjb21wb3NlQmluYXJ5T3AoZmlyc3QsIHJlc3QsIFwibGVmdFwiLCBcImxvZ2ljYWxfYmluYXJ5X29wZXJhdG9yX2V4cHJlc3Npb25cIiksIGxvY2F0aW9uKCksIHRleHQoKSk7IH07XG4gIGNvbnN0IHBlZyRjMjI1ID0gXCImJlwiO1xuICBjb25zdCBwZWckYzIyNiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCImJlwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjI3ID0gXCJhbmRcIjtcbiAgY29uc3QgcGVnJGMyMjggPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiYW5kXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyMjkgPSBmdW5jdGlvbihmaXJzdDogYW55LCBvcDogYW55LCBlOiBhbnkpOiBhbnkge3JldHVybiBbXCImJlwiLGVdO307XG4gIGNvbnN0IHBlZyRjMjMwID0gXCJ8XCI7XG4gIGNvbnN0IHBlZyRjMjMxID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInxcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzIzMiA9IFwiYml0b3JcIjtcbiAgY29uc3QgcGVnJGMyMzMgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiYml0b3JcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzIzNCA9IGZ1bmN0aW9uKGZpcnN0OiBhbnksIG9wOiBhbnksIGU6IGFueSk6IGFueSB7cmV0dXJuIFtcInxcIixlXTt9O1xuICBjb25zdCBwZWckYzIzNSA9IGZ1bmN0aW9uKGZpcnN0OiBhbnksIHJlc3Q6IGFueSk6IGFueSB7IHJldHVybiB0cmFjayhjb21wb3NlQmluYXJ5T3AoZmlyc3QsIHJlc3QsIFwibGVmdFwiLCBcImFyaXRobWV0aWNfYmluYXJ5X29wZXJhdG9yX2V4cHJlc3Npb25cIiksIGxvY2F0aW9uKCksIHRleHQoKSk7IH07XG4gIGNvbnN0IHBlZyRjMjM2ID0gXCJeXCI7XG4gIGNvbnN0IHBlZyRjMjM3ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIl5cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzIzOCA9IFwieG9yXCI7XG4gIGNvbnN0IHBlZyRjMjM5ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInhvclwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjQwID0gZnVuY3Rpb24oZmlyc3Q6IGFueSwgb3A6IGFueSwgZTogYW55KTogYW55IHtyZXR1cm4gW1wiXlwiLGVdO307XG4gIGNvbnN0IHBlZyRjMjQxID0gXCJiaXRhbmRcIjtcbiAgY29uc3QgcGVnJGMyNDIgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiYml0YW5kXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyNDMgPSBmdW5jdGlvbihmaXJzdDogYW55LCBvcDogYW55LCBlOiBhbnkpOiBhbnkge3JldHVybiBbXCImXCIsZV07fTtcbiAgY29uc3QgcGVnJGMyNDQgPSBcIj09XCI7XG4gIGNvbnN0IHBlZyRjMjQ1ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIj09XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyNDYgPSBcIiE9XCI7XG4gIGNvbnN0IHBlZyRjMjQ3ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIiE9XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyNDggPSBcIm5vdF9lcVwiO1xuICBjb25zdCBwZWckYzI0OSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJub3RfZXFcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzI1MCA9IGZ1bmN0aW9uKGZpcnN0OiBhbnkpOiBhbnkge3JldHVybiBcIiE9XCI7fTtcbiAgY29uc3QgcGVnJGMyNTEgPSBmdW5jdGlvbihmaXJzdDogYW55LCByZXN0OiBhbnkpOiBhbnkgeyByZXR1cm4gdHJhY2soY29tcG9zZUJpbmFyeU9wKGZpcnN0LCByZXN0LCBcImxlZnRcIiwgXCJyZWxhdGlvbmFsX2JpbmFyeV9vcGVyYXRvcl9leHByZXNzaW9uXCIpLCBsb2NhdGlvbigpLCB0ZXh0KCkpOyB9O1xuICBjb25zdCBwZWckYzI1MiA9IFwiPD1cIjtcbiAgY29uc3QgcGVnJGMyNTMgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiPD1cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzI1NCA9IFwiPj1cIjtcbiAgY29uc3QgcGVnJGMyNTUgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiPj1cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzI1NiA9IFwiPFwiO1xuICBjb25zdCBwZWckYzI1NyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCI8XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyNTggPSBcIj5cIjtcbiAgY29uc3QgcGVnJGMyNTkgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiPlwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjYwID0gXCI8PFwiO1xuICBjb25zdCBwZWckYzI2MSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCI8PFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjYyID0gXCI+PlwiO1xuICBjb25zdCBwZWckYzI2MyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCI+PlwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjY0ID0gXCIrXCI7XG4gIGNvbnN0IHBlZyRjMjY1ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIitcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzI2NiA9IFwiLVwiO1xuICBjb25zdCBwZWckYzI2NyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCItXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyNjggPSBcIi9cIjtcbiAgY29uc3QgcGVnJGMyNjkgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiL1wiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjcwID0gXCIlXCI7XG4gIGNvbnN0IHBlZyRjMjcxID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIiVcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzI3MiA9IGZ1bmN0aW9uKGZpcnN0OiBhbnksIHJlc3Q6IGFueSk6IGFueSB7IHJldHVybiB0cmFjayhjb21wb3NlQmluYXJ5T3AoZmlyc3QsIHJlc3QsIFwibGVmdFwiLCBcInBvaW50ZXJfdG9fbWVtYmVyX2V4cHJlc3Npb25cIiksIGxvY2F0aW9uKCksIHRleHQoKSk7IH07XG4gIGNvbnN0IHBlZyRjMjczID0gXCIuKlwiO1xuICBjb25zdCBwZWckYzI3NCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIuKlwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjc1ID0gXCItPipcIjtcbiAgY29uc3QgcGVnJGMyNzYgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiLT4qXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyNzcgPSBmdW5jdGlvbih0OiBhbnksIHN1YjogYW55KTogYW55IHtcclxuICAgICAgICByZXR1cm4gdHJhY2soe2NvbnN0cnVjdF90eXBlOiBcImNfc3R5bGVfY2FzdF9leHByZXNzaW9uXCIsIHR5cGU6dCwgb3BlcmFuZDpzdWJ9LCBsb2NhdGlvbigpLCB0ZXh0KCkpO1xyXG4gIH07XG4gIGNvbnN0IHBlZyRjMjc4ID0gXCIrK1wiO1xuICBjb25zdCBwZWckYzI3OSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIrK1wiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjgwID0gZnVuY3Rpb24ob3A6IGFueSwgc3ViOiBhbnkpOiBhbnkge1xyXG4gICAgICAgIHJldHVybiB0cmFjayh7Y29uc3RydWN0X3R5cGU6IFwicHJlZml4X2luY3JlbWVudF9leHByZXNzaW9uXCIsIG9wZXJhdG9yOm9wLCBvcGVyYW5kOnN1Yn0sIGxvY2F0aW9uKCksIHRleHQoKSk7XHJcbiAgfTtcbiAgY29uc3QgcGVnJGMyODEgPSBcIi0tXCI7XG4gIGNvbnN0IHBlZyRjMjgyID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIi0tXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyODMgPSBmdW5jdGlvbihvcDogYW55LCBzdWI6IGFueSk6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIHRyYWNrKHtjb25zdHJ1Y3RfdHlwZTogXCJwcmVmaXhfZGVjcmVtZW50X2V4cHJlc3Npb25cIiwgb3BlcmF0b3I6b3AsIG9wZXJhbmQ6c3VifSwgbG9jYXRpb24oKSwgdGV4dCgpKTtcclxuICB9O1xuICBjb25zdCBwZWckYzI4NCA9IGZ1bmN0aW9uKG9wOiBhbnksIHN1YjogYW55KTogYW55IHtcclxuICAgICAgICByZXR1cm4gdHJhY2soYWJzb3JiKHtvcGVyYW5kOnN1Yn0sIG9wKSwgbG9jYXRpb24oKSwgdGV4dCgpKTtcclxuICB9O1xuICBjb25zdCBwZWckYzI4NSA9IFwic2l6ZW9mXCI7XG4gIGNvbnN0IHBlZyRjMjg2ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInNpemVvZlwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjg3ID0gZnVuY3Rpb24ob3A6IGFueSwgc3ViOiBhbnkpOiBhbnkge1xyXG4gICAgICAgIHJldHVybiB0cmFjayh7Y29uc3RydWN0X3R5cGU6IFwic2l6ZW9mX2V4cHJlc3Npb25cIiwgb3BlcmF0b3I6XCJzaXplb2ZcIiwgb3BlcmFuZDpzdWJ9LCBsb2NhdGlvbigpLCB0ZXh0KCkpO1xyXG4gIH07XG4gIGNvbnN0IHBlZyRjMjg4ID0gZnVuY3Rpb24ob3A6IGFueSwgc3ViOiBhbnkpOiBhbnkge1xyXG4gICAgICAgIHJldHVybiB0cmFjayh7Y29uc3RydWN0X3R5cGU6IFwic2l6ZW9mX3R5cGVfZXhwcmVzc2lvblwiLCBvcGVyYXRvcjpcInNpemVvZlwiLCBvcGVyYW5kOnN1Yn0sIGxvY2F0aW9uKCksIHRleHQoKSk7XHJcbiAgfTtcbiAgY29uc3QgcGVnJGMyODkgPSBmdW5jdGlvbigpOiBhbnkge3JldHVybiB7Y29uc3RydWN0X3R5cGU6IFwiZGVyZWZlcmVuY2VfZXhwcmVzc2lvblwiLCBvcGVyYXRvcjogXCIqXCJ9O307XG4gIGNvbnN0IHBlZyRjMjkwID0gZnVuY3Rpb24oKTogYW55IHtyZXR1cm4ge2NvbnN0cnVjdF90eXBlOiBcImFkZHJlc3Nfb2ZfZXhwcmVzc2lvblwiLCAgIG9wZXJhdG9yOiBcIiZcIn07fTtcbiAgY29uc3QgcGVnJGMyOTEgPSBmdW5jdGlvbigpOiBhbnkge3JldHVybiB7Y29uc3RydWN0X3R5cGU6IFwidW5hcnlfcGx1c19leHByZXNzaW9uXCIsIG9wZXJhdG9yOiBcIitcIn07fTtcbiAgY29uc3QgcGVnJGMyOTIgPSBmdW5jdGlvbigpOiBhbnkge3JldHVybiB7Y29uc3RydWN0X3R5cGU6IFwidW5hcnlfbWludXNfZXhwcmVzc2lvblwiLCBvcGVyYXRvcjogXCItXCJ9O307XG4gIGNvbnN0IHBlZyRjMjkzID0gXCIhXCI7XG4gIGNvbnN0IHBlZyRjMjk0ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIiFcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzI5NSA9IGZ1bmN0aW9uKCk6IGFueSB7cmV0dXJuIHtjb25zdHJ1Y3RfdHlwZTogXCJsb2dpY2FsX25vdF9leHByZXNzaW9uXCIsIG9wZXJhdG9yOiBcIiFcIn07fTtcbiAgY29uc3QgcGVnJGMyOTYgPSBcIm5vdFwiO1xuICBjb25zdCBwZWckYzI5NyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJub3RcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzI5OCA9IGZ1bmN0aW9uKCk6IGFueSB7cmV0dXJuIHtjb25zdHJ1Y3RfdHlwZTogXCJiaXR3aXNlX25vdF9leHByZXNzaW9uXCIsIG9wZXJhdG9yOiBcIn5cIn07fTtcbiAgY29uc3QgcGVnJGMyOTkgPSBcImNvbXBsXCI7XG4gIGNvbnN0IHBlZyRjMzAwID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImNvbXBsXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMzMDEgPSBcIm5ld1wiO1xuICBjb25zdCBwZWckYzMwMiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJuZXdcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzMwMyA9IGZ1bmN0aW9uKGlkOiBhbnksIGluaXQ6IGFueSk6IGFueSB7XHJcbiAgICAgIHJldHVybiB0cmFjayhhYnNvcmIoe2NvbnN0cnVjdF90eXBlOiBcIm5ld19leHByZXNzaW9uXCIsIGluaXRpYWxpemVyOiBpbml0fSwgaWQpLCBsb2NhdGlvbigpLCB0ZXh0KCkpO1xyXG4gICAgfTtcbiAgY29uc3QgcGVnJGMzMDQgPSBmdW5jdGlvbihpZDogYW55LCBpbml0OiBhbnkpOiBhbnkge1xyXG4gICAgICByZXR1cm4gdHJhY2soYWJzb3JiKHtjb25zdHJ1Y3RfdHlwZTogXCJuZXdfZXhwcmVzc2lvblwiLCBpbml0aWFsaXplcjogaW5pdH0sIGlkKSwgbG9jYXRpb24oKSwgdGV4dCgpKTtcclxuICB9O1xuICBjb25zdCBwZWckYzMwNSA9IGZ1bmN0aW9uKHNwZWNzOiBhbnksIGlkOiBhbnkpOiBhbnkge3JldHVybiBpZDt9O1xuICBjb25zdCBwZWckYzMwNiA9IGZ1bmN0aW9uKHNwZWNzOiBhbnksIGRlY2w6IGFueSk6IGFueSB7XHJcbiAgICAgIHJldHVybiB0cmFjayh7c3BlY3M6c3BlY3MsIGRlY2xhcmF0b3I6ZGVjbH0sIGxvY2F0aW9uKCksIHRleHQoKSk7XHJcbiAgICB9O1xuICBjb25zdCBwZWckYzMwNyA9IGZ1bmN0aW9uKGQ6IGFueSk6IGFueSB7XHJcbiAgICB2YXIgZDIgPSB0cmFjayhhYnNvcmIoe2NvbnN0cnVjdF90eXBlOlwiZGVjbGFyYXRvclwifSwgZCksIGxvY2F0aW9uKCksIHRleHQoKSk7XHJcbiAgICByZXR1cm4gZDI7XHJcblxyXG4gIH07XG4gIGNvbnN0IHBlZyRjMzA4ID0gZnVuY3Rpb24ocG9zdGZpeGVzOiBhbnkpOiBhbnkgeyByZXR1cm4ge3Bvc3RmaXhlczogcG9zdGZpeGVzfTsgfTtcbiAgY29uc3QgcGVnJGMzMDkgPSBmdW5jdGlvbihwOiBhbnkpOiBhbnkge3JldHVybiBwO307XG4gIGNvbnN0IHBlZyRjMzEwID0gZnVuY3Rpb24oc2l6ZTogYW55KTogYW55IHsgcmV0dXJuIHt0eXBlOlwiYXJyYXlcIiwgc2l6ZTpzaXplfTsgfTtcbiAgY29uc3QgcGVnJGMzMTEgPSBmdW5jdGlvbihhcmdzOiBhbnkpOiBhbnkge3JldHVybiB7YXJnczphcmdzIHx8IFtdfTt9O1xuICBjb25zdCBwZWckYzMxMiA9IFwiZGVsZXRlXCI7XG4gIGNvbnN0IHBlZyRjMzEzID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImRlbGV0ZVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzE0ID0gZnVuY3Rpb24odDogYW55KTogYW55IHtcclxuICAgICAgcmV0dXJuIHRyYWNrKHtjb25zdHJ1Y3RfdHlwZTogXCJkZWxldGVfZXhwcmVzc2lvblwiLCBvcGVyYW5kOiB0fSwgbG9jYXRpb24oKSwgdGV4dCgpKTtcclxuICAgIH07XG4gIGNvbnN0IHBlZyRjMzE1ID0gZnVuY3Rpb24odDogYW55KTogYW55IHtcclxuICAgICAgcmV0dXJuIHRyYWNrKHtjb25zdHJ1Y3RfdHlwZTogXCJkZWxldGVfYXJyYXlfZXhwcmVzc2lvblwiLCBvcGVyYW5kOiB0fSwgbG9jYXRpb24oKSwgdGV4dCgpKTsgfTtcbiAgY29uc3QgcGVnJGMzMTYgPSBcInN0YXRpY19jYXN0XCI7XG4gIGNvbnN0IHBlZyRjMzE3ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInN0YXRpY19jYXN0XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMzMTggPSBmdW5jdGlvbih0OiBhbnksIHN1YjogYW55KTogYW55IHsgcmV0dXJuIHRyYWNrKHtjb25zdHJ1Y3RfdHlwZTogXCJzdGF0aWNfY2FzdF9leHByZXNzaW9uXCIsIHR5cGU6IHQsIG9wZXJhbmQ6c3VifSwgbG9jYXRpb24oKSwgdGV4dCgpKTt9O1xuICBjb25zdCBwZWckYzMxOSA9IFwiZHluYW1pY19jYXN0XCI7XG4gIGNvbnN0IHBlZyRjMzIwID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcImR5bmFtaWNfY2FzdFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzIxID0gZnVuY3Rpb24odDogYW55LCBzdWI6IGFueSk6IGFueSB7IHJldHVybiB0cmFjayh7Y29uc3RydWN0X3R5cGU6IFwiZHluYW1pY19jYXN0X2V4cHJlc3Npb25cIiwgdHlwZTogdCwgb3BlcmFuZDpzdWJ9LCBsb2NhdGlvbigpLCB0ZXh0KCkpO307XG4gIGNvbnN0IHBlZyRjMzIyID0gXCJyZWludGVycHJldF9jYXN0XCI7XG4gIGNvbnN0IHBlZyRjMzIzID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInJlaW50ZXJwcmV0X2Nhc3RcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzMyNCA9IGZ1bmN0aW9uKHQ6IGFueSwgc3ViOiBhbnkpOiBhbnkgeyByZXR1cm4gdHJhY2soe2NvbnN0cnVjdF90eXBlOiBcInJlaW50ZXJwcmV0X2Nhc3RfZXhwcmVzc2lvblwiLCB0eXBlOiB0LCBvcGVyYW5kOnN1Yn0sIGxvY2F0aW9uKCksIHRleHQoKSk7fTtcbiAgY29uc3QgcGVnJGMzMjUgPSBcImNvbnN0X2Nhc3RcIjtcbiAgY29uc3QgcGVnJGMzMjYgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiY29uc3RfY2FzdFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzI3ID0gZnVuY3Rpb24odDogYW55LCBzdWI6IGFueSk6IGFueSB7IHJldHVybiB0cmFjayh7Y29uc3RydWN0X3R5cGU6IFwiY29uc3RfY2FzdF9leHByZXNzaW9uXCIsIHR5cGU6IHQsIG9wZXJhbmQ6c3VifSwgbG9jYXRpb24oKSwgdGV4dCgpKTt9O1xuICBjb25zdCBwZWckYzMyOCA9IGZ1bmN0aW9uKHN1YjogYW55LCBvcDogYW55KTogYW55IHtyZXR1cm4gb3A7fTtcbiAgY29uc3QgcGVnJGMzMjkgPSBmdW5jdGlvbihzdWI6IGFueSwgb3BzOiBhbnkpOiBhbnkgeyByZXR1cm4gb3BzLmxlbmd0aCA+IDAgPyB0cmFjayhwb3N0Zml4RXhwKG9wcywgc3ViKSwgbG9jYXRpb24oKSwgdGV4dCgpKSA6IHN1Yjt9O1xuICBjb25zdCBwZWckYzMzMCA9IGZ1bmN0aW9uKHN1YjogYW55KTogYW55IHsgcmV0dXJuIHRyYWNrKHtjb25zdHJ1Y3RfdHlwZTpcInN1YnNjcmlwdF9leHByZXNzaW9uXCIsIGFyZzpzdWJ9LCBsb2NhdGlvbigpLCB0ZXh0KCkpOyB9O1xuICBjb25zdCBwZWckYzMzMSA9IGZ1bmN0aW9uKGFyZ3M6IGFueSk6IGFueSB7IHJldHVybiB0cmFjayh7Y29uc3RydWN0X3R5cGU6IFwiZnVuY3Rpb25fY2FsbF9leHByZXNzaW9uXCIsIGFyZ3M6IGFyZ3MgfHwgW119LCBsb2NhdGlvbigpLCB0ZXh0KCkpOyB9O1xuICBjb25zdCBwZWckYzMzMiA9IFwiLlwiO1xuICBjb25zdCBwZWckYzMzMyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIuXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMzMzQgPSBmdW5jdGlvbihuYW1lOiBhbnkpOiBhbnkgeyByZXR1cm4gdHJhY2soe2NvbnN0cnVjdF90eXBlOiBcImRvdF9leHByZXNzaW9uXCIsIG1lbWJlcjogbmFtZX0sIGxvY2F0aW9uKCksIHRleHQoKSk7IH07XG4gIGNvbnN0IHBlZyRjMzM1ID0gXCItPlwiO1xuICBjb25zdCBwZWckYzMzNiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCItPlwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzM3ID0gZnVuY3Rpb24obmFtZTogYW55KTogYW55IHsgcmV0dXJuIHRyYWNrKHtjb25zdHJ1Y3RfdHlwZTogXCJhcnJvd19leHByZXNzaW9uXCIsIG1lbWJlcjogbmFtZX0sIGxvY2F0aW9uKCksIHRleHQoKSk7IH07XG4gIGNvbnN0IHBlZyRjMzM4ID0gZnVuY3Rpb24oKTogYW55IHsgcmV0dXJuIHRyYWNrKHtjb25zdHJ1Y3RfdHlwZTogXCJwb3N0Zml4X2luY3JlbWVudF9leHByZXNzaW9uXCJ9LCBsb2NhdGlvbigpLCB0ZXh0KCkpOyB9O1xuICBjb25zdCBwZWckYzMzOSA9IGZ1bmN0aW9uKCk6IGFueSB7IHJldHVybiB0cmFjayh7Y29uc3RydWN0X3R5cGU6IFwicG9zdGZpeF9kZWNyZW1lbnRfZXhwcmVzc2lvblwifSwgbG9jYXRpb24oKSwgdGV4dCgpKTsgfTtcbiAgY29uc3QgcGVnJGMzNDAgPSBmdW5jdGlvbih0eXBlOiBhbnksIGFyZ3M6IGFueSk6IGFueSB7XHJcbiAgICAgIHJldHVybiB0cmFjayh7Y29uc3RydWN0X3R5cGU6IFwiY29uc3RydWN0X2V4cHJlc3Npb25cIiwgdHlwZTp0eXBlLCBhcmdzOmFyZ3MgfHwgW119LCBsb2NhdGlvbigpLCB0ZXh0KCkpO1xyXG4gIH07XG4gIGNvbnN0IHBlZyRjMzQxID0gZnVuY3Rpb24oZmlyc3Q6IGFueSwgZTogYW55KTogYW55IHtyZXR1cm4gZTt9O1xuICBjb25zdCBwZWckYzM0MiA9IGZ1bmN0aW9uKHN1YjogYW55KTogYW55IHtyZXR1cm4gdHJhY2soe2NvbnN0cnVjdF90eXBlOiBcInBhcmVudGhlc2VzX2V4cHJlc3Npb25cIiwgc3ViZXhwcmVzc2lvbjpzdWJ9LCBsb2NhdGlvbigpLCB0ZXh0KCkpO307XG4gIGNvbnN0IHBlZyRjMzQzID0gXCJ0aGlzXCI7XG4gIGNvbnN0IHBlZyRjMzQ0ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInRoaXNcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzM0NSA9IGZ1bmN0aW9uKCk6IGFueSB7cmV0dXJuIHRyYWNrKHtjb25zdHJ1Y3RfdHlwZTogXCJ0aGlzX2V4cHJlc3Npb25cIn0sIGxvY2F0aW9uKCksIHRleHQoKSk7IH07XG4gIGNvbnN0IHBlZyRjMzQ2ID0gZnVuY3Rpb24oaWQ6IGFueSk6IGFueSB7IHJldHVybiB0cmFjayhhYnNvcmIoe2NvbnN0cnVjdF90eXBlOiBcImlkZW50aWZpZXJfZXhwcmVzc2lvblwifSwgaWQpLCBsb2NhdGlvbigpLCB0ZXh0KCkpOyB9O1xuICBjb25zdCBwZWckYzM0NyA9IGZ1bmN0aW9uKG46IGFueSwgdTogYW55KTogYW55IHtcclxuICAgICAgbi5wdXNoKHUpO1xyXG4gICAgICByZXR1cm4ge2lkZW50aWZpZXI6IG59O1xyXG4gICAgfTtcbiAgY29uc3QgcGVnJGMzNDggPSBcIjo6XCI7XG4gIGNvbnN0IHBlZyRjMzQ5ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIjo6XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMzNTAgPSBmdW5jdGlvbihpZDogYW55KTogYW55IHtyZXR1cm4gaWQ7fTtcbiAgY29uc3QgcGVnJGMzNTEgPSBmdW5jdGlvbigpOiBhbnkgeyByZXR1cm4gW107fTtcbiAgY29uc3QgcGVnJGMzNTIgPSBmdW5jdGlvbihpZDogYW55KTogYW55IHtyZXR1cm4gdHJhY2soe2lkZW50aWZpZXI6IGlkfSwgbG9jYXRpb24oKSwgdGV4dCgpKTt9O1xuICBjb25zdCBwZWckYzM1MyA9IFwib3BlcmF0b3JcIjtcbiAgY29uc3QgcGVnJGMzNTQgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwib3BlcmF0b3JcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzM1NSA9IGZ1bmN0aW9uKG9wOiBhbnkpOiBhbnkge3JldHVybiB0cmFjayh7aWRlbnRpZmllcjogXCJvcGVyYXRvclwiK29wLCBvcGVyYXRvcjogb3B9LCBsb2NhdGlvbigpLCB0ZXh0KCkpO307XG4gIGNvbnN0IHBlZyRjMzU2ID0gXCJuZXdbXVwiO1xuICBjb25zdCBwZWckYzM1NyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJuZXdbXVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzU4ID0gXCJkZWxldGVbXVwiO1xuICBjb25zdCBwZWckYzM1OSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJkZWxldGVbXVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzYwID0gXCIoKVwiO1xuICBjb25zdCBwZWckYzM2MSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIoKVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzYyID0gXCJbXVwiO1xuICBjb25zdCBwZWckYzM2MyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJbXVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzY0ID0gXCI/OlwiO1xuICBjb25zdCBwZWckYzM2NSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCI/OlwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzY2ID0gZnVuY3Rpb24obGl0OiBhbnkpOiBhbnkge3JldHVybiB0cmFjayh7Y29uc3RydWN0X3R5cGU6IFwibnVtZXJpY19saXRlcmFsXCIsIHR5cGU6XCJmbG9hdFwiLCB2YWx1ZTpsaXR9LCBsb2NhdGlvbigpLCB0ZXh0KCkpO307XG4gIGNvbnN0IHBlZyRjMzY3ID0gZnVuY3Rpb24obGl0OiBhbnkpOiBhbnkge3JldHVybiB0cmFjayh7Y29uc3RydWN0X3R5cGU6IFwibnVtZXJpY19saXRlcmFsXCIsIHR5cGU6XCJpbnRcIiwgdmFsdWU6bGl0fSwgbG9jYXRpb24oKSwgdGV4dCgpKTt9O1xuICBjb25zdCBwZWckYzM2OCA9IGZ1bmN0aW9uKGxpdDogYW55KTogYW55IHtyZXR1cm4gdHJhY2soe2NvbnN0cnVjdF90eXBlOiBcIm51bWVyaWNfbGl0ZXJhbFwiLCB0eXBlOlwiY2hhclwiLCB2YWx1ZTpsaXR9LCBsb2NhdGlvbigpLCB0ZXh0KCkpO307XG4gIGNvbnN0IHBlZyRjMzY5ID0gZnVuY3Rpb24obGl0OiBhbnkpOiBhbnkge3JldHVybiB0cmFjayh7Y29uc3RydWN0X3R5cGU6IFwic3RyaW5nX2xpdGVyYWxcIiwgdHlwZTpcInN0cmluZ1wiLCB2YWx1ZTpsaXR9LCBsb2NhdGlvbigpLCB0ZXh0KCkpO307XG4gIGNvbnN0IHBlZyRjMzcwID0gZnVuY3Rpb24obGl0OiBhbnkpOiBhbnkge3JldHVybiB0cmFjayh7Y29uc3RydWN0X3R5cGU6IFwibnVtZXJpY19saXRlcmFsXCIsIHR5cGU6XCJib29sXCIsIHZhbHVlOmxpdH0sIGxvY2F0aW9uKCksIHRleHQoKSk7fTtcbiAgY29uc3QgcGVnJGMzNzEgPSAvXlswLTldLztcbiAgY29uc3QgcGVnJGMzNzIgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbW1wiMFwiLCBcIjlcIl1dLCBmYWxzZSwgZmFsc2UpO1xuICBjb25zdCBwZWckYzM3MyA9IGZ1bmN0aW9uKG5lZzogYW55LCBkaWdpdHM6IGFueSk6IGFueSB7IHJldHVybiBwYXJzZUludCgobmVnID8gbmVnIDogXCJcIikgKyBkaWdpdHMuam9pbihcIlwiKSk7IH07XG4gIGNvbnN0IHBlZyRjMzc0ID0gL15bMC05Ll0vO1xuICBjb25zdCBwZWckYzM3NSA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtbXCIwXCIsIFwiOVwiXSwgXCIuXCJdLCBmYWxzZSwgZmFsc2UpO1xuICBjb25zdCBwZWckYzM3NiA9IGZ1bmN0aW9uKG5lZzogYW55LCBkaWdpdHM6IGFueSk6IGFueSB7cmV0dXJuIGRpZ2l0cy5pbmRleE9mKFwiLlwiKSA9PSBkaWdpdHMubGFzdEluZGV4T2YoXCIuXCIpICYmIGRpZ2l0cy5pbmRleE9mKFwiLlwiKSAhPSAtMTt9O1xuICBjb25zdCBwZWckYzM3NyA9IGZ1bmN0aW9uKG5lZzogYW55LCBkaWdpdHM6IGFueSk6IGFueSB7IHJldHVybiBwYXJzZUZsb2F0KChuZWcgPyBuZWcgOiBcIlwiKSArIGRpZ2l0cy5qb2luKFwiXCIpKTsgfTtcbiAgY29uc3QgcGVnJGMzNzggPSBcIidcIjtcbiAgY29uc3QgcGVnJGMzNzkgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiJ1wiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzgwID0gL15bXidcXFxcXFxuXS87XG4gIGNvbnN0IHBlZyRjMzgxID0gcGVnJGNsYXNzRXhwZWN0YXRpb24oW1wiJ1wiLCBcIlxcXFxcIiwgXCJcXG5cIl0sIHRydWUsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMzODIgPSBmdW5jdGlvbihjaGFyOiBhbnkpOiBhbnkgeyByZXR1cm4gY2hhcjsgfTtcbiAgY29uc3QgcGVnJGMzODMgPSBcIlxcXCJcIjtcbiAgY29uc3QgcGVnJGMzODQgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiXFxcIlwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzg1ID0gL15bXlwiXFxcXFxcbl0vO1xuICBjb25zdCBwZWckYzM4NiA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtcIlxcXCJcIiwgXCJcXFxcXCIsIFwiXFxuXCJdLCB0cnVlLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzg3ID0gZnVuY3Rpb24oY2hhcnM6IGFueSk6IGFueSB7IHJldHVybiBjaGFycy5qb2luKFwiXCIpOyB9O1xuICBjb25zdCBwZWckYzM4OCA9IFwidHJ1ZVwiO1xuICBjb25zdCBwZWckYzM4OSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ0cnVlXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMzOTAgPSBmdW5jdGlvbigpOiBhbnkge3JldHVybiB0cnVlO307XG4gIGNvbnN0IHBlZyRjMzkxID0gXCJmYWxzZVwiO1xuICBjb25zdCBwZWckYzM5MiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJmYWxzZVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzkzID0gZnVuY3Rpb24oKTogYW55IHtyZXR1cm4gZmFsc2U7fTtcbiAgY29uc3QgcGVnJGMzOTQgPSBcIlxcXFxcXFwiXCI7XG4gIGNvbnN0IHBlZyRjMzk1ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlxcXFxcXFwiXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMzOTYgPSBcIlxcXFwnXCI7XG4gIGNvbnN0IHBlZyRjMzk3ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlxcXFwnXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMzOTggPSBcIlxcXFw/XCI7XG4gIGNvbnN0IHBlZyRjMzk5ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlxcXFw/XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM0MDAgPSBcIlxcXFxcXFxcXCI7XG4gIGNvbnN0IHBlZyRjNDAxID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlxcXFxcXFxcXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM0MDIgPSBcIlxcXFxhXCI7XG4gIGNvbnN0IHBlZyRjNDAzID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlxcXFxhXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM0MDQgPSBcIlxcXFxiXCI7XG4gIGNvbnN0IHBlZyRjNDA1ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlxcXFxiXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM0MDYgPSBcIlxcXFxmXCI7XG4gIGNvbnN0IHBlZyRjNDA3ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlxcXFxmXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM0MDggPSBcIlxcXFxuXCI7XG4gIGNvbnN0IHBlZyRjNDA5ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlxcXFxuXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM0MTAgPSBcIlxcXFxyXCI7XG4gIGNvbnN0IHBlZyRjNDExID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlxcXFxyXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM0MTIgPSBcIlxcXFx0XCI7XG4gIGNvbnN0IHBlZyRjNDEzID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlxcXFx0XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM0MTQgPSBcIlxcXFx2XCI7XG4gIGNvbnN0IHBlZyRjNDE1ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlxcXFx2XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM0MTYgPSBcIlxcXFwwXCI7XG4gIGNvbnN0IHBlZyRjNDE3ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlxcXFwwXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM0MTggPSAvXlswLThdLztcbiAgY29uc3QgcGVnJGM0MTkgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbW1wiMFwiLCBcIjhcIl1dLCBmYWxzZSwgZmFsc2UpO1xuICBjb25zdCBwZWckYzQyMCA9IHBlZyRvdGhlckV4cGVjdGF0aW9uKFwiaWRlbnRpZmllclwiKTtcbiAgY29uc3QgcGVnJGM0MjEgPSBmdW5jdGlvbihmaXJzdDogYW55LCByZXN0OiBhbnkpOiBhbnkge3JldHVybiB0cmFjayh7aWRlbnRpZmllcjogZmlyc3QgKyByZXN0LmpvaW4oXCJcIil9LCBsb2NhdGlvbigpLCB0ZXh0KCkpO307XG4gIGNvbnN0IHBlZyRjNDIyID0gL15bYS16QS1aMC05X10vO1xuICBjb25zdCBwZWckYzQyMyA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtbXCJhXCIsIFwielwiXSwgW1wiQVwiLCBcIlpcIl0sIFtcIjBcIiwgXCI5XCJdLCBcIl9cIl0sIGZhbHNlLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDI0ID0gL15bYS16QS1aX10vO1xuICBjb25zdCBwZWckYzQyNSA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtbXCJhXCIsIFwielwiXSwgW1wiQVwiLCBcIlpcIl0sIFwiX1wiXSwgZmFsc2UsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM0MjYgPSBwZWckb3RoZXJFeHBlY3RhdGlvbihcIm9wdGlvbmFsIHdoaXRlc3BhY2VcIik7XG4gIGNvbnN0IHBlZyRjNDI3ID0gL15bIFxcdFxcblxccl0vO1xuICBjb25zdCBwZWckYzQyOCA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtcIiBcIiwgXCJcXHRcIiwgXCJcXG5cIiwgXCJcXHJcIl0sIGZhbHNlLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDI5ID0gcGVnJG90aGVyRXhwZWN0YXRpb24oXCJ3aGl0ZXNwYWNlXCIpO1xuICBjb25zdCBwZWckYzQzMCA9IGZ1bmN0aW9uKGhlYWQ6IGFueSk6IGFueSB7Z2V0VXNlclR5cGVOYW1lcygpW2hlYWQubmFtZS5pZGVudGlmaWVyXT10cnVlO307XG4gIGNvbnN0IHBlZyRjNDMxID0gZnVuY3Rpb24oaGVhZDogYW55LCBtZW1zOiBhbnkpOiBhbnkgeyByZXR1cm4gdHJhY2soe2hlYWQ6IGhlYWQsIG1lbWJlcl9zcGVjczogbWVtc30sIGxvY2F0aW9uKCksIHRleHQoKSk7IH07XG4gIGNvbnN0IHBlZyRjNDMyID0gZnVuY3Rpb24oa2V5OiBhbnksIG5hbWU6IGFueSwgYjogYW55KTogYW55IHtyZXR1cm4gYjt9O1xuICBjb25zdCBwZWckYzQzMyA9IGZ1bmN0aW9uKGtleTogYW55LCBuYW1lOiBhbnksIGJhc2VzOiBhbnkpOiBhbnkgeyByZXR1cm4gdHJhY2soe2tleTprZXksIG5hbWU6bmFtZSwgYmFzZXM6YmFzZXN9LCBsb2NhdGlvbigpLCB0ZXh0KCkpOyB9O1xuICBjb25zdCBwZWckYzQzNCA9IFwiY2xhc3NcIjtcbiAgY29uc3QgcGVnJGM0MzUgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiY2xhc3NcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzQzNiA9IFwic3RydWN0XCI7XG4gIGNvbnN0IHBlZyRjNDM3ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInN0cnVjdFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDM4ID0gXCJ1bmlvblwiO1xuICBjb25zdCBwZWckYzQzOSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ1bmlvblwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDQwID0gZnVuY3Rpb24obTogYW55KTogYW55IHtyZXR1cm4gbX07XG4gIGNvbnN0IHBlZyRjNDQxID0gZnVuY3Rpb24obWVtYmVyczogYW55KTogYW55IHsgcmV0dXJuIHttZW1iZXJzOiBtZW1iZXJzfTsgfTtcbiAgY29uc3QgcGVnJGM0NDIgPSBmdW5jdGlvbihhY2Nlc3M6IGFueSwgbTogYW55KTogYW55IHtyZXR1cm4gbX07XG4gIGNvbnN0IHBlZyRjNDQzID0gZnVuY3Rpb24oYWNjZXNzOiBhbnksIG1lbWJlcnM6IGFueSk6IGFueSB7IHJldHVybiB7bWVtYmVyczogbWVtYmVycywgYWNjZXNzOiBhY2Nlc3N9OyB9O1xuICBjb25zdCBwZWckYzQ0NCA9IFwicHJpdmF0ZVwiO1xuICBjb25zdCBwZWckYzQ0NSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJwcml2YXRlXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM0NDYgPSBcInByb3RlY3RlZFwiO1xuICBjb25zdCBwZWckYzQ0NyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJwcm90ZWN0ZWRcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzQ0OCA9IFwicHVibGljXCI7XG4gIGNvbnN0IHBlZyRjNDQ5ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcInB1YmxpY1wiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDUwID0gZnVuY3Rpb24oc3BlY3M6IGFueSwgZGVjbGFyYXRvcnM6IGFueSk6IGFueSB7IHJldHVybiB0cmFjayh7Y29uc3RydWN0X3R5cGU6IFwibWVtYmVyX2RlY2xhcmF0aW9uXCIsIHNwZWNzOnNwZWNzLCBkZWNsYXJhdG9yczpkZWNsYXJhdG9yc30sIGxvY2F0aW9uKCksIHRleHQoKSk7IH07XG4gIGNvbnN0IHBlZyRjNDUxID0gZnVuY3Rpb24oYzogYW55KTogYW55IHsgcmV0dXJuIGM7IH07XG4gIGNvbnN0IHBlZyRjNDUyID0gZnVuY3Rpb24oZDogYW55KTogYW55IHsgcmV0dXJuIGQ7IH07XG4gIGNvbnN0IHBlZyRjNDUzID0gZnVuY3Rpb24oZjogYW55KTogYW55IHsgcmV0dXJuIGY7IH07XG4gIGNvbnN0IHBlZyRjNDU0ID0gXCIwXCI7XG4gIGNvbnN0IHBlZyRjNDU1ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIjBcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzQ1NiA9IGZ1bmN0aW9uKGQ6IGFueSk6IGFueSB7ZC5wdXJlVmlydHVhbCA9IHRydWU7IHJldHVybiBkO307XG4gIGNvbnN0IHBlZyRjNDU3ID0gZnVuY3Rpb24oZDogYW55KTogYW55IHtkLmxpYnJhcnlfdW5zdXBwb3J0ZWQgPSB0cnVlOyByZXR1cm4gZDt9O1xuICBjb25zdCBwZWckYzQ1OCA9IGZ1bmN0aW9uKGQ6IGFueSwgaTogYW55KTogYW55IHtkLmluaXQgPSBpOyByZXR1cm4gZDt9O1xuICBjb25zdCBwZWckYzQ1OSA9IGZ1bmN0aW9uKGI6IGFueSk6IGFueSB7cmV0dXJuIGJ9O1xuICBjb25zdCBwZWckYzQ2MCA9IGZ1bmN0aW9uKGZpcnN0OiBhbnksIGI6IGFueSk6IGFueSB7cmV0dXJuIGI7fTtcbiAgY29uc3QgcGVnJGM0NjEgPSBmdW5jdGlvbihhOiBhbnkpOiBhbnkge3JldHVybiBhO307XG4gIGNvbnN0IHBlZyRjNDYyID0gZnVuY3Rpb24oYTogYW55LCBjOiBhbnkpOiBhbnkge1xyXG4gICAgICByZXR1cm4ge25hbWU6IGMsIHZpcnR1YWw6IHRydWUsIGFjY2VzczogYX07fTtcbiAgY29uc3QgcGVnJGM0NjMgPSBmdW5jdGlvbihhOiBhbnksIGM6IGFueSk6IGFueSB7XHJcbiAgICAgIHJldHVybiB7bmFtZTogYywgYWNjZXNzOiBhfTt9O1xuICBjb25zdCBwZWckYzQ2NCA9IGZ1bmN0aW9uKGM6IGFueSk6IGFueSB7XHJcbiAgICAgIHJldHVybiB7bmFtZTogY307fTtcbiAgY29uc3QgcGVnJGM0NjUgPSBmdW5jdGlvbihuOiBhbnksIGM6IGFueSk6IGFueSB7XHJcbiAgICAgIG4ucHVzaChjKTtcclxuICAgICAgcmV0dXJuIG47fTtcblxuICBsZXQgcGVnJGN1cnJQb3MgPSAwO1xuICBsZXQgcGVnJHNhdmVkUG9zID0gMDtcbiAgY29uc3QgcGVnJHBvc0RldGFpbHNDYWNoZSA9IFt7IGxpbmU6IDEsIGNvbHVtbjogMSB9XTtcbiAgbGV0IHBlZyRtYXhGYWlsUG9zID0gMDtcbiAgbGV0IHBlZyRtYXhGYWlsRXhwZWN0ZWQ6IEV4cGVjdGF0aW9uW10gPSBbXTtcbiAgbGV0IHBlZyRzaWxlbnRGYWlscyA9IDA7XG5cbiAgbGV0IHBlZyRyZXN1bHQ7XG5cbiAgaWYgKG9wdGlvbnMuc3RhcnRSdWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoIShvcHRpb25zLnN0YXJ0UnVsZSBpbiBwZWckc3RhcnRSdWxlRnVuY3Rpb25zKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3Qgc3RhcnQgcGFyc2luZyBmcm9tIHJ1bGUgXFxcIlwiICsgb3B0aW9ucy5zdGFydFJ1bGUgKyBcIlxcXCIuXCIpO1xuICAgIH1cblxuICAgIHBlZyRzdGFydFJ1bGVGdW5jdGlvbiA9IHBlZyRzdGFydFJ1bGVGdW5jdGlvbnNbb3B0aW9ucy5zdGFydFJ1bGVdO1xuICB9XG5cbiAgZnVuY3Rpb24gdGV4dCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBpbnB1dC5zdWJzdHJpbmcocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcyk7XG4gIH1cblxuICBmdW5jdGlvbiBsb2NhdGlvbigpOiBJRmlsZVJhbmdlIHtcbiAgICByZXR1cm4gcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4cGVjdGVkKGRlc2NyaXB0aW9uOiBzdHJpbmcsIGxvY2F0aW9uMT86IElGaWxlUmFuZ2UpIHtcbiAgICBsb2NhdGlvbjEgPSBsb2NhdGlvbjEgIT09IHVuZGVmaW5lZFxuICAgICAgPyBsb2NhdGlvbjFcbiAgICAgIDogcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKTtcblxuICAgIHRocm93IHBlZyRidWlsZFN0cnVjdHVyZWRFcnJvcihcbiAgICAgIFtwZWckb3RoZXJFeHBlY3RhdGlvbihkZXNjcmlwdGlvbildLFxuICAgICAgaW5wdXQuc3Vic3RyaW5nKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpLFxuICAgICAgbG9jYXRpb24xXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVycm9yKG1lc3NhZ2U6IHN0cmluZywgbG9jYXRpb24xPzogSUZpbGVSYW5nZSkge1xuICAgIGxvY2F0aW9uMSA9IGxvY2F0aW9uMSAhPT0gdW5kZWZpbmVkXG4gICAgICA/IGxvY2F0aW9uMVxuICAgICAgOiBwZWckY29tcHV0ZUxvY2F0aW9uKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpO1xuXG4gICAgdGhyb3cgcGVnJGJ1aWxkU2ltcGxlRXJyb3IobWVzc2FnZSwgbG9jYXRpb24xKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24odGV4dDE6IHN0cmluZywgaWdub3JlQ2FzZTogYm9vbGVhbik6IElMaXRlcmFsRXhwZWN0YXRpb24ge1xuICAgIHJldHVybiB7IHR5cGU6IFwibGl0ZXJhbFwiLCB0ZXh0OiB0ZXh0MSwgaWdub3JlQ2FzZTogaWdub3JlQ2FzZSB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGNsYXNzRXhwZWN0YXRpb24ocGFydHM6IElDbGFzc1BhcnRzLCBpbnZlcnRlZDogYm9vbGVhbiwgaWdub3JlQ2FzZTogYm9vbGVhbik6IElDbGFzc0V4cGVjdGF0aW9uIHtcbiAgICByZXR1cm4geyB0eXBlOiBcImNsYXNzXCIsIHBhcnRzOiBwYXJ0cywgaW52ZXJ0ZWQ6IGludmVydGVkLCBpZ25vcmVDYXNlOiBpZ25vcmVDYXNlIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckYW55RXhwZWN0YXRpb24oKTogSUFueUV4cGVjdGF0aW9uIHtcbiAgICByZXR1cm4geyB0eXBlOiBcImFueVwiIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckZW5kRXhwZWN0YXRpb24oKTogSUVuZEV4cGVjdGF0aW9uIHtcbiAgICByZXR1cm4geyB0eXBlOiBcImVuZFwiIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckb3RoZXJFeHBlY3RhdGlvbihkZXNjcmlwdGlvbjogc3RyaW5nKTogSU90aGVyRXhwZWN0YXRpb24ge1xuICAgIHJldHVybiB7IHR5cGU6IFwib3RoZXJcIiwgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckY29tcHV0ZVBvc0RldGFpbHMocG9zOiBudW1iZXIpIHtcbiAgICBsZXQgZGV0YWlscyA9IHBlZyRwb3NEZXRhaWxzQ2FjaGVbcG9zXTtcbiAgICBsZXQgcDtcblxuICAgIGlmIChkZXRhaWxzKSB7XG4gICAgICByZXR1cm4gZGV0YWlscztcbiAgICB9IGVsc2Uge1xuICAgICAgcCA9IHBvcyAtIDE7XG4gICAgICB3aGlsZSAoIXBlZyRwb3NEZXRhaWxzQ2FjaGVbcF0pIHtcbiAgICAgICAgcC0tO1xuICAgICAgfVxuXG4gICAgICBkZXRhaWxzID0gcGVnJHBvc0RldGFpbHNDYWNoZVtwXTtcbiAgICAgIGRldGFpbHMgPSB7XG4gICAgICAgIGxpbmU6IGRldGFpbHMubGluZSxcbiAgICAgICAgY29sdW1uOiBkZXRhaWxzLmNvbHVtblxuICAgICAgfTtcblxuICAgICAgd2hpbGUgKHAgPCBwb3MpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocCkgPT09IDEwKSB7XG4gICAgICAgICAgZGV0YWlscy5saW5lKys7XG4gICAgICAgICAgZGV0YWlscy5jb2x1bW4gPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRldGFpbHMuY29sdW1uKys7XG4gICAgICAgIH1cblxuICAgICAgICBwKys7XG4gICAgICB9XG5cbiAgICAgIHBlZyRwb3NEZXRhaWxzQ2FjaGVbcG9zXSA9IGRldGFpbHM7XG5cbiAgICAgIHJldHVybiBkZXRhaWxzO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRjb21wdXRlTG9jYXRpb24oc3RhcnRQb3M6IG51bWJlciwgZW5kUG9zOiBudW1iZXIpOiBJRmlsZVJhbmdlIHtcbiAgICBjb25zdCBzdGFydFBvc0RldGFpbHMgPSBwZWckY29tcHV0ZVBvc0RldGFpbHMoc3RhcnRQb3MpO1xuICAgIGNvbnN0IGVuZFBvc0RldGFpbHMgPSBwZWckY29tcHV0ZVBvc0RldGFpbHMoZW5kUG9zKTtcblxuICAgIHJldHVybiB7XG4gICAgICBzdGFydDoge1xuICAgICAgICBvZmZzZXQ6IHN0YXJ0UG9zLFxuICAgICAgICBsaW5lOiBzdGFydFBvc0RldGFpbHMubGluZSxcbiAgICAgICAgY29sdW1uOiBzdGFydFBvc0RldGFpbHMuY29sdW1uXG4gICAgICB9LFxuICAgICAgZW5kOiB7XG4gICAgICAgIG9mZnNldDogZW5kUG9zLFxuICAgICAgICBsaW5lOiBlbmRQb3NEZXRhaWxzLmxpbmUsXG4gICAgICAgIGNvbHVtbjogZW5kUG9zRGV0YWlscy5jb2x1bW5cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGZhaWwoZXhwZWN0ZWQxOiBFeHBlY3RhdGlvbikge1xuICAgIGlmIChwZWckY3VyclBvcyA8IHBlZyRtYXhGYWlsUG9zKSB7IHJldHVybjsgfVxuXG4gICAgaWYgKHBlZyRjdXJyUG9zID4gcGVnJG1heEZhaWxQb3MpIHtcbiAgICAgIHBlZyRtYXhGYWlsUG9zID0gcGVnJGN1cnJQb3M7XG4gICAgICBwZWckbWF4RmFpbEV4cGVjdGVkID0gW107XG4gICAgfVxuXG4gICAgcGVnJG1heEZhaWxFeHBlY3RlZC5wdXNoKGV4cGVjdGVkMSk7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckYnVpbGRTaW1wbGVFcnJvcihtZXNzYWdlOiBzdHJpbmcsIGxvY2F0aW9uMTogSUZpbGVSYW5nZSkge1xuICAgIHJldHVybiBuZXcgU3ludGF4RXJyb3IobWVzc2FnZSwgW10sIFwiXCIsIGxvY2F0aW9uMSk7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckYnVpbGRTdHJ1Y3R1cmVkRXJyb3IoZXhwZWN0ZWQxOiBFeHBlY3RhdGlvbltdLCBmb3VuZDogc3RyaW5nIHwgbnVsbCwgbG9jYXRpb24xOiBJRmlsZVJhbmdlKSB7XG4gICAgcmV0dXJuIG5ldyBTeW50YXhFcnJvcihcbiAgICAgIFN5bnRheEVycm9yLmJ1aWxkTWVzc2FnZShleHBlY3RlZDEsIGZvdW5kKSxcbiAgICAgIGV4cGVjdGVkMSxcbiAgICAgIGZvdW5kLFxuICAgICAgbG9jYXRpb24xXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZXN0YXJ0KCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczU7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNld3MoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gW107XG4gICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgczQgPSBwZWckcGFyc2VkZWNsX29yX2NvbW1lbnQoKTtcbiAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzNSA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgIHM0ID0gcGVnJGMwKHM0KTtcbiAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHM0ID0gcGVnJHBhcnNlZGVjbF9vcl9jb21tZW50KCk7XG4gICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM1ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgczQgPSBwZWckYzAoczQpO1xuICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzEoczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWRlY2xfb3JfY29tbWVudCgpOiBhbnkge1xuICAgIGxldCBzMCwgczE7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlY29tbWVudCgpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICBzMSA9IHBlZyRjMigpO1xuICAgIH1cbiAgICBzMCA9IHMxO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckcGFyc2VkZWNsYXJhdGlvbigpO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWNvbW1lbnQoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMykge1xuICAgICAgczEgPSBwZWckYzM7XG4gICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNCk7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgaWYgKHBlZyRjNS50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzYpOyB9XG4gICAgICB9XG4gICAgICB3aGlsZSAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgIGlmIChwZWckYzUudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNik7IH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMTApIHtcbiAgICAgICAgICBzMyA9IHBlZyRjNztcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOCk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMSA9IFtzMSwgczIsIHMzXTtcbiAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzkpIHtcbiAgICAgICAgczEgPSBwZWckYzk7XG4gICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMCk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IFtdO1xuICAgICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzNCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMTEpIHtcbiAgICAgICAgICBzNSA9IHBlZyRjMTE7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzEyKTsgfVxuICAgICAgICB9XG4gICAgICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgICAgICBpZiAoczUgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHM0O1xuICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQubGVuZ3RoID4gcGVnJGN1cnJQb3MpIHtcbiAgICAgICAgICAgIHM1ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMyk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNCA9IFtzNCwgczVdO1xuICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgICBzNCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzExKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRjMTE7XG4gICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTIpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczQ7XG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0Lmxlbmd0aCA+IHBlZyRjdXJyUG9zKSB7XG4gICAgICAgICAgICAgIHM1ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzEzKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM0ID0gW3M0LCBzNV07XG4gICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzExKSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRjMTE7XG4gICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTIpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczEgPSBbczEsIHMyLCBzM107XG4gICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZXN0YXRlbWVudCgpOiBhbnkge1xuICAgIGxldCBzMCwgczE7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlc3RhdGVtZW50X3RyYWNrZWQoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgczEgPSBwZWckYzE0KHMxKTtcbiAgICB9XG4gICAgczAgPSBzMTtcblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZXN0YXRlbWVudF90cmFja2VkKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VsYWJlbGVkX3N0YXRlbWVudCgpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICBzMSA9IHBlZyRjMTUoczEpO1xuICAgIH1cbiAgICBzMCA9IHMxO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckcGFyc2VibG9jaygpO1xuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMwID0gcGVnJHBhcnNlc2VsZWN0aW9uX3N0YXRlbWVudCgpO1xuICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMCA9IHBlZyRwYXJzZWl0ZXJhdGlvbl9zdGF0ZW1lbnQoKTtcbiAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMwID0gcGVnJHBhcnNlanVtcF9zdGF0ZW1lbnQoKTtcbiAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzMCA9IHBlZyRwYXJzZWRlY2xhcmF0aW9uX3N0YXRlbWVudCgpO1xuICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRwYXJzZWV4cHJlc3Npb25fc3RhdGVtZW50KCk7XG4gICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRwYXJzZW51bGxfc3RhdGVtZW50KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlbGFiZWxlZF9zdGF0ZW1lbnQoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWlkZW50aWZpZXIoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDU4KSB7XG4gICAgICAgICAgczMgPSBwZWckYzE2O1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNyk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRwYXJzZXN0YXRlbWVudCgpO1xuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMSA9IHBlZyRjMTgoczEsIHM1KTtcbiAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNCkgPT09IHBlZyRjMTkpIHtcbiAgICAgICAgczEgPSBwZWckYzE5O1xuICAgICAgICBwZWckY3VyclBvcyArPSA0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjApOyB9XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckcGFyc2VXUygpO1xuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMyA9IHBlZyRwYXJzZWV4cF9jb25zdCgpO1xuICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNTgpIHtcbiAgICAgICAgICAgICAgICBzNSA9IHBlZyRjMTY7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE3KTsgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlc3RhdGVtZW50KCk7XG4gICAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMyMShzMywgczcpO1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDcpID09PSBwZWckYzIyKSB7XG4gICAgICAgICAgczEgPSBwZWckYzIyO1xuICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMyk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDU4KSB7XG4gICAgICAgICAgICAgIHMzID0gcGVnJGMxNjtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE3KTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczUgPSBwZWckcGFyc2VzdGF0ZW1lbnQoKTtcbiAgICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzI0KHM1KTtcbiAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZXhwcmVzc2lvbl9zdGF0ZW1lbnQoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczM7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlZXhwcmVzc2lvbigpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNTkpIHtcbiAgICAgICAgICBzMyA9IHBlZyRjMjU7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI2KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgIHMxID0gcGVnJGMyNyhzMSk7XG4gICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZW51bGxfc3RhdGVtZW50KCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczI7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNld3MoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNTkpIHtcbiAgICAgICAgczIgPSBwZWckYzI1O1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjYpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMyOCgpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWJsb2NrKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDEyMykge1xuICAgICAgczEgPSBwZWckYzI5O1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzMwKTsgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IFtdO1xuICAgICAgICBzNCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzNSA9IHBlZyRwYXJzZXN0YXRlbWVudCgpO1xuICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzNDtcbiAgICAgICAgICAgIHM1ID0gcGVnJGMzMShzNSk7XG4gICAgICAgICAgICBzNCA9IHM1O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHM0O1xuICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHM0O1xuICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMy5wdXNoKHM0KTtcbiAgICAgICAgICBzNCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgIHM1ID0gcGVnJHBhcnNlc3RhdGVtZW50KCk7XG4gICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczQ7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJGMzMShzNSk7XG4gICAgICAgICAgICAgIHM0ID0gczU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM0O1xuICAgICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczQ7XG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMTI1KSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRjMzI7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzMpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICBzMSA9IHBlZyRjMzQoczMpO1xuICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VzZWxlY3Rpb25fc3RhdGVtZW50KCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNywgczgsIHM5LCBzMTAsIHMxMSwgczEyLCBzMTM7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzM1KSB7XG4gICAgICBzMSA9IHBlZyRjMzU7XG4gICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzYpOyB9XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDApIHtcbiAgICAgICAgICBzMyA9IHBlZyRjMzc7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM4KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlZXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICAgICAgczcgPSBwZWckYzM5O1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQwKTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgIGlmIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRwYXJzZXN0YXRlbWVudCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoczkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzMTAgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTAgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDQpID09PSBwZWckYzQxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMxMSA9IHBlZyRjNDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMTEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDIpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoczExICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMxMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTMgPSBwZWckcGFyc2VzdGF0ZW1lbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczEzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGM0MyhzNSwgczksIHMxMyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMzNSkge1xuICAgICAgICBzMSA9IHBlZyRjMzU7XG4gICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzNik7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDApIHtcbiAgICAgICAgICAgIHMzID0gcGVnJGMzNztcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzOCk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckcGFyc2VleHByZXNzaW9uKCk7XG4gICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgICAgICAgICAgczcgPSBwZWckYzM5O1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDApOyB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgczggPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoczggIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRwYXJzZXN0YXRlbWVudCgpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChzOSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjNDQoczUsIHM5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlaXRlcmF0aW9uX3N0YXRlbWVudCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczcsIHM4LCBzOSwgczEwLCBzMTEsIHMxMiwgczEzLCBzMTQsIHMxNTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNSkgPT09IHBlZyRjNDUpIHtcbiAgICAgIHMxID0gcGVnJGM0NTtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0Nik7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MCkge1xuICAgICAgICAgIHMzID0gcGVnJGMzNztcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzgpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUgPSBwZWckcGFyc2VleHByZXNzaW9uKCk7XG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQxKSB7XG4gICAgICAgICAgICAgICAgICBzNyA9IHBlZyRjMzk7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDApOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczggPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHM5ID0gcGVnJHBhcnNlc3RhdGVtZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzOSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGM0NyhzNSwgczkpO1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjNDgpIHtcbiAgICAgICAgczEgPSBwZWckYzQ4O1xuICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDkpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckY3VyclBvcztcbiAgICAgICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlaWRlbnRpZmllckNoYXIoKTtcbiAgICAgICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyID0gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNlc3RhdGVtZW50KCk7XG4gICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA1KSA9PT0gcGVnJGM0NSkge1xuICAgICAgICAgICAgICAgICAgczYgPSBwZWckYzQ1O1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gNTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQ2KTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgczggPSBwZWckYzM3O1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgczggPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzOCk7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoczggIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHM5ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzMTAgPSBwZWckcGFyc2VleHByZXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoczEwICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMxMSA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTIgPSBwZWckYzM5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczEyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MCk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczEzID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA1OSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxNCA9IHBlZyRjMjU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNik7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczE0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzUwKHM0LCBzMTApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAzKSA9PT0gcGVnJGM1MSkge1xuICAgICAgICAgIHMxID0gcGVnJGM1MTtcbiAgICAgICAgICBwZWckY3VyclBvcyArPSAzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNTIpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MCkge1xuICAgICAgICAgICAgICBzMyA9IHBlZyRjMzc7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzOCk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlZm9yX2luaXRfc3RhdGVtZW50KCk7XG4gICAgICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VleHByZXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoczggIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNTkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckYzI1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjYpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoczkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczEwID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxMSA9IHBlZyRwYXJzZWV4cHJlc3Npb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczExICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczEzID0gcGVnJGMzOTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQwKTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxNSA9IHBlZyRwYXJzZXN0YXRlbWVudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzUzKHM1LCBzNywgczExLCBzMTUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWZvcl9pbml0X3N0YXRlbWVudCgpOiBhbnkge1xuICAgIGxldCBzMCwgczE7XG5cbiAgICBzMCA9IHBlZyRwYXJzZWV4cHJlc3Npb25fc3RhdGVtZW50KCk7XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRwYXJzZW51bGxfc3RhdGVtZW50KCk7XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgczEgPSBwZWckcGFyc2VkZWNsYXJhdGlvbl9zdGF0ZW1lbnQoKTtcbiAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgczEgPSBwZWckYzU0KHMxKTtcbiAgICAgICAgfVxuICAgICAgICBzMCA9IHMxO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWp1bXBfc3RhdGVtZW50KCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA1KSA9PT0gcGVnJGM1NSkge1xuICAgICAgczEgPSBwZWckYzU1O1xuICAgICAgcGVnJGN1cnJQb3MgKz0gNTtcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzU2KTsgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJGN1cnJQb3M7XG4gICAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICAgIHMzID0gcGVnJHBhcnNlaWRlbnRpZmllckNoYXIoKTtcbiAgICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMjtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA1OSkge1xuICAgICAgICAgICAgczQgPSBwZWckYzI1O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI2KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgczEgPSBwZWckYzU3KCk7XG4gICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA4KSA9PT0gcGVnJGM1OCkge1xuICAgICAgICBzMSA9IHBlZyRjNTg7XG4gICAgICAgIHBlZyRjdXJyUG9zICs9IDg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM1OSk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICAgICAgczMgPSBwZWckcGFyc2VpZGVudGlmaWVyQ2hhcigpO1xuICAgICAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMjtcbiAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA1OSkge1xuICAgICAgICAgICAgICBzNCA9IHBlZyRjMjU7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNik7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczEgPSBwZWckYzYwKCk7XG4gICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNikgPT09IHBlZyRjNjEpIHtcbiAgICAgICAgICBzMSA9IHBlZyRjNjE7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgKz0gNjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzYyKTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgICAgICAgczMgPSBwZWckcGFyc2VpZGVudGlmaWVyQ2hhcigpO1xuICAgICAgICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczMgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNlZXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgICBpZiAoczQgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNCA9IG51bGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczUgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA1OSkge1xuICAgICAgICAgICAgICAgICAgICBzNiA9IHBlZyRjMjU7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNik7IH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzYzKHM0KTtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VkZWNsYXJhdGlvbl9zdGF0ZW1lbnQoKTogYW55IHtcbiAgICBsZXQgczAsIHMxO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWRlY2xhcmF0aW9uKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgIHMxID0gcGVnJGM2NChzMSk7XG4gICAgfVxuICAgIHMwID0gczE7XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VkZWNsYXJhdGlvbigpOiBhbnkge1xuICAgIGxldCBzMDtcblxuICAgIHMwID0gcGVnJHBhcnNlc2ltcGxlX2RlY2xhcmF0aW9uKCk7XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRwYXJzZWNsYXNzX2RlY2xhcmF0aW9uKCk7XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczAgPSBwZWckcGFyc2VmdW5jdGlvbl9kZWZpbml0aW9uKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlc2ltcGxlX2RlY2xhcmF0aW9uKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWRlY2xfc3BlY2lmaWVycygpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckY3VyclBvcztcbiAgICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgICAgczMgPSBwZWckcGFyc2VpZGVudGlmaWVyKCk7XG4gICAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNlZGVjbGFyYXRvcl9saXN0KCk7XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA1OSkge1xuICAgICAgICAgICAgICAgIHM2ID0gcGVnJGMyNTtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjYpOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczEgPSBwZWckYzY1KHMxLCBzNCk7XG4gICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWRlY2xhcmF0b3JfbGlzdCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczc7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlZGVjbGFyYXRvcl9pbml0KCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ0KSB7XG4gICAgICAgICAgczUgPSBwZWckYzY2O1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2Nyk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNyA9IHBlZyRwYXJzZWRlY2xhcmF0b3JfaW5pdCgpO1xuICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICBzNCA9IHBlZyRjNjgoczEsIHM3KTtcbiAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ0KSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRjNjY7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNjcpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZGVjbGFyYXRvcl9pbml0KCk7XG4gICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICAgIHM0ID0gcGVnJGM2OChzMSwgczcpO1xuICAgICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzY5KHMxLCBzMik7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlY2xhc3NfZGVjbGFyYXRpb24oKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczM7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlY2xhc3Nfc3BlY2lmaWVyKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA1OSkge1xuICAgICAgICAgIHMzID0gcGVnJGMyNTtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjYpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgczEgPSBwZWckYzcwKHMxKTtcbiAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZnVuY3Rpb25fZGVmaW5pdGlvbigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNjtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VkZWNsX3NwZWNpZmllcnMoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJGN1cnJQb3M7XG4gICAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICAgIHMzID0gcGVnJHBhcnNlaWRlbnRpZmllcigpO1xuICAgICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZWRlY2xhcmF0b3IoKTtcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZWJsb2NrKCk7XG4gICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMxID0gcGVnJGM3MShzMSwgczQsIHM2KTtcbiAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlY29uc3RydWN0b3JfZGVmaW5pdGlvbigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczcsIHM4LCBzOSwgczEwLCBzMTEsIHMxMjtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VpZGVudGlmaWVyKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MCkge1xuICAgICAgICAgIHMzID0gcGVnJGMzNztcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzgpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUgPSBwZWckcGFyc2Vhcmd1bWVudF9kZWNsYXJhdGlvbl9saXN0KCk7XG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQxKSB7XG4gICAgICAgICAgICAgICAgICBzNyA9IHBlZyRjMzk7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDApOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczggPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHM5ID0gcGVnJHBhcnNlY3Rvcl9pbml0aWFsaXplcigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoczkgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzOSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHM5ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgczEwID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoczEwICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzMTEgPSBwZWckcGFyc2VibG9jaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMTEgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA1OSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxMiA9IHBlZyRjMjU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTIgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNik7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczEyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczExO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxMiA9IHBlZyRjNzIoczEsIHM1LCBzOSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgczExID0gczEyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzczKHMxLCBzNSwgczksIHMxMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZGVzdHJ1Y3Rvcl9kZWZpbml0aW9uKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNywgczgsIHM5LCBzMTAsIHMxMTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAxMjYpIHtcbiAgICAgIHMxID0gcGVnJGM3NDtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM3NSk7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZWlkZW50aWZpZXIoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDApIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJGMzNztcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzOCk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICAgIHM2ID0gcGVnJGMzOTtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDApOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczggPSBwZWckcGFyc2VibG9jaygpO1xuICAgICAgICAgICAgICAgICAgaWYgKHM4ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNTkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRjMjU7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI2KTsgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzOSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHM4O1xuICAgICAgICAgICAgICAgICAgICAgIHM5ID0gcGVnJGM3NihzMik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgczggPSBzOTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzc3KHMyLCBzOCk7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDcpID09PSBwZWckYzc4KSB7XG4gICAgICAgIHMxID0gcGVnJGM3ODtcbiAgICAgICAgcGVnJGN1cnJQb3MgKz0gNztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzc5KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gcGVnJHBhcnNlV1MoKTtcbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAxMjYpIHtcbiAgICAgICAgICAgIHMzID0gcGVnJGM3NDtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM3NSk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRwYXJzZWlkZW50aWZpZXIoKTtcbiAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDApIHtcbiAgICAgICAgICAgICAgICAgIHM2ID0gcGVnJGMzNztcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzOCk7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJGMzOTtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDApOyB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChzOSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgczEwID0gcGVnJHBhcnNlYmxvY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczEwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNTkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTEgPSBwZWckYzI1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczExID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjYpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMxMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTEgPSBwZWckYzc2KHM0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzMTAgPSBzMTE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoczEwICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjODAoczQsIHMxMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlY3Rvcl9pbml0aWFsaXplcigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczcsIHM4LCBzOTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA1OCkge1xuICAgICAgczEgPSBwZWckYzE2O1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE3KTsgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZW1lbV9pbml0aWFsaXplcigpO1xuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IFtdO1xuICAgICAgICAgIHM1ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NCkge1xuICAgICAgICAgICAgICBzNyA9IHBlZyRjNjY7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2Nyk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzOCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgIGlmIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM5ID0gcGVnJHBhcnNlbWVtX2luaXRpYWxpemVyKCk7XG4gICAgICAgICAgICAgICAgaWYgKHM5ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzNTtcbiAgICAgICAgICAgICAgICAgIHM2ID0gcGVnJGM4MShzMywgczkpO1xuICAgICAgICAgICAgICAgICAgczUgPSBzNjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgICAgd2hpbGUgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNC5wdXNoKHM1KTtcbiAgICAgICAgICAgIHM1ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NCkge1xuICAgICAgICAgICAgICAgIHM3ID0gcGVnJGM2NjtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNjcpOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczggPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgIGlmIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczkgPSBwZWckcGFyc2VtZW1faW5pdGlhbGl6ZXIoKTtcbiAgICAgICAgICAgICAgICAgIGlmIChzOSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzNTtcbiAgICAgICAgICAgICAgICAgICAgczYgPSBwZWckYzgxKHMzLCBzOSk7XG4gICAgICAgICAgICAgICAgICAgIHM1ID0gczY7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xuICAgICAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICBzMSA9IHBlZyRjODIoczMsIHM0KTtcbiAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlbWVtX2luaXRpYWxpemVyKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VpZGVudGlmaWVyKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MCkge1xuICAgICAgICAgIHMzID0gcGVnJGMzNztcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzgpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUgPSBwZWckcGFyc2VleHBfbGlzdCgpO1xuICAgICAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM1ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJGMzOTtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MCk7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGM4MyhzMSwgczUpO1xuICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VkZWNsX3NwZWNpZmllcnMoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczY7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gW107XG4gICAgczIgPSBwZWckY3VyclBvcztcbiAgICBzMyA9IHBlZyRwYXJzZWRlY2xfc3BlY2lmaWVyKCk7XG4gICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzNCA9IHBlZyRwYXJzZVdTKCk7XG4gICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczI7XG4gICAgICAgIHMzID0gcGVnJGM4NChzMyk7XG4gICAgICAgIHMyID0gczM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIHdoaWxlIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEucHVzaChzMik7XG4gICAgICBzMiA9IHBlZyRjdXJyUG9zO1xuICAgICAgczMgPSBwZWckcGFyc2VkZWNsX3NwZWNpZmllcigpO1xuICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHM0ID0gcGVnJHBhcnNlV1MoKTtcbiAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJHNhdmVkUG9zID0gczI7XG4gICAgICAgICAgczMgPSBwZWckYzg0KHMzKTtcbiAgICAgICAgICBzMiA9IHMzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2VzaW1wbGVfdHlwZV9uYW1lKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBbXTtcbiAgICAgICAgczQgPSBwZWckY3VyclBvcztcbiAgICAgICAgczUgPSBwZWckcGFyc2VXUygpO1xuICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNiA9IHBlZyRwYXJzZWRlY2xfc3BlY2lmaWVyKCk7XG4gICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzNDtcbiAgICAgICAgICAgIHM1ID0gcGVnJGM4NShzMSwgczIsIHM2KTtcbiAgICAgICAgICAgIHM0ID0gczU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczQ7XG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczQ7XG4gICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzLnB1c2goczQpO1xuICAgICAgICAgIHM0ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgczUgPSBwZWckcGFyc2VXUygpO1xuICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczYgPSBwZWckcGFyc2VkZWNsX3NwZWNpZmllcigpO1xuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHM0O1xuICAgICAgICAgICAgICBzNSA9IHBlZyRjODUoczEsIHMyLCBzNik7XG4gICAgICAgICAgICAgIHM0ID0gczU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM0O1xuICAgICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczQ7XG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgIHMxID0gcGVnJGM4NihzMSwgczIsIHMzKTtcbiAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZGVjbF9zcGVjaWZpZXIoKTogYW55IHtcbiAgICBsZXQgczAsIHMxO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZXR5cGVfc3BlY2lmaWVyKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgIHMxID0gcGVnJGM4NyhzMSk7XG4gICAgfVxuICAgIHMwID0gczE7XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczEgPSBwZWckcGFyc2VzdG9yYWdlX2NsYXNzX3NwZWNpZmllcigpO1xuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjODgoczEpO1xuICAgICAgfVxuICAgICAgczAgPSBzMTtcbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMCA9IHBlZyRwYXJzZWZ1bmN0aW9uX3NwZWNpZmllcigpO1xuICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA3KSA9PT0gcGVnJGM4OSkge1xuICAgICAgICAgICAgczAgPSBwZWckYzg5O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gNztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzkwKTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDYpID09PSBwZWckYzkxKSB7XG4gICAgICAgICAgICAgIHMwID0gcGVnJGM5MTtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gNjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzkyKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZXR5cGVfc3BlY2lmaWVycygpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNjtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBbXTtcbiAgICBzMiA9IHBlZyRjdXJyUG9zO1xuICAgIHMzID0gcGVnJHBhcnNldHlwZV9zcGVjaWZpZXIoKTtcbiAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHM0ID0gcGVnJHBhcnNlV1MoKTtcbiAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMjtcbiAgICAgICAgczMgPSBwZWckYzg0KHMzKTtcbiAgICAgICAgczIgPSBzMztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMjtcbiAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgd2hpbGUgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMS5wdXNoKHMyKTtcbiAgICAgIHMyID0gcGVnJGN1cnJQb3M7XG4gICAgICBzMyA9IHBlZyRwYXJzZXR5cGVfc3BlY2lmaWVyKCk7XG4gICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczQgPSBwZWckcGFyc2VXUygpO1xuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMjtcbiAgICAgICAgICBzMyA9IHBlZyRjODQoczMpO1xuICAgICAgICAgIHMyID0gczM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMjtcbiAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXNpbXBsZV90eXBlX25hbWUoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IFtdO1xuICAgICAgICBzNCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzNSA9IHBlZyRwYXJzZVdTKCk7XG4gICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM2ID0gcGVnJHBhcnNldHlwZV9zcGVjaWZpZXIoKTtcbiAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHM0O1xuICAgICAgICAgICAgczUgPSBwZWckYzg1KHMxLCBzMiwgczYpO1xuICAgICAgICAgICAgczQgPSBzNTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNDtcbiAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNDtcbiAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMucHVzaChzNCk7XG4gICAgICAgICAgczQgPSBwZWckY3VyclBvcztcbiAgICAgICAgICBzNSA9IHBlZyRwYXJzZVdTKCk7XG4gICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXR5cGVfc3BlY2lmaWVyKCk7XG4gICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczQ7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJGM4NShzMSwgczIsIHM2KTtcbiAgICAgICAgICAgICAgczQgPSBzNTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczQ7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNDtcbiAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgczEgPSBwZWckYzkzKHMxLCBzMiwgczMpO1xuICAgICAgICAgIHMwID0gczE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2V0eXBlX3NwZWNpZmllcigpOiBhbnkge1xuICAgIGxldCBzMDtcblxuICAgIHMwID0gcGVnJHBhcnNlZW51bV9zcGVjaWZpZXIoKTtcbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDUpID09PSBwZWckYzk0KSB7XG4gICAgICAgIHMwID0gcGVnJGM5NDtcbiAgICAgICAgcGVnJGN1cnJQb3MgKz0gNTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzk1KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDgpID09PSBwZWckYzk2KSB7XG4gICAgICAgICAgczAgPSBwZWckYzk2O1xuICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM5Nyk7IH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZXN0b3JhZ2VfY2xhc3Nfc3BlY2lmaWVyKCk6IGFueSB7XG4gICAgbGV0IHMwO1xuXG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgOCkgPT09IHBlZyRjOTgpIHtcbiAgICAgIHMwID0gcGVnJGM5ODtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM5OSk7IH1cbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA2KSA9PT0gcGVnJGMxMDApIHtcbiAgICAgICAgczAgPSBwZWckYzEwMDtcbiAgICAgICAgcGVnJGN1cnJQb3MgKz0gNjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzEwMSk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAxMikgPT09IHBlZyRjMTAyKSB7XG4gICAgICAgICAgczAgPSBwZWckYzEwMjtcbiAgICAgICAgICBwZWckY3VyclBvcyArPSAxMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzEwMyk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA2KSA9PT0gcGVnJGMxMDQpIHtcbiAgICAgICAgICAgIHMwID0gcGVnJGMxMDQ7XG4gICAgICAgICAgICBwZWckY3VyclBvcyArPSA2O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTA1KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDcpID09PSBwZWckYzEwNikge1xuICAgICAgICAgICAgICBzMCA9IHBlZyRjMTA2O1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSA3O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTA3KTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWZ1bmN0aW9uX3NwZWNpZmllcigpOiBhbnkge1xuICAgIGxldCBzMDtcblxuICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDYpID09PSBwZWckYzEwOCkge1xuICAgICAgczAgPSBwZWckYzEwODtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDY7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMDkpOyB9XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgOCkgPT09IHBlZyRjMTEwKSB7XG4gICAgICAgIHMwID0gcGVnJGMxMTA7XG4gICAgICAgIHBlZyRjdXJyUG9zICs9IDg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMTEpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNykgPT09IHBlZyRjNzgpIHtcbiAgICAgICAgICBzMCA9IHBlZyRjNzg7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgKz0gNztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzc5KTsgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlc2ltcGxlX3R5cGVfbmFtZSgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMztcblxuICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2Vfc2ltcGxlX3R5cGVfbmFtZSgpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckY3VyclBvcztcbiAgICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgICAgczMgPSBwZWckcGFyc2VpZGVudGlmaWVyQ2hhcigpO1xuICAgICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMxMTMoczEpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMTIpOyB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlX3NpbXBsZV90eXBlX25hbWUoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMjtcblxuICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDQpID09PSBwZWckYzExNCkge1xuICAgICAgczAgPSBwZWckYzExNDtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMTUpOyB9XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNSkgPT09IHBlZyRjMTE2KSB7XG4gICAgICAgIHMwID0gcGVnJGMxMTY7XG4gICAgICAgIHBlZyRjdXJyUG9zICs9IDU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMTcpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMykgPT09IHBlZyRjMTE4KSB7XG4gICAgICAgICAgczAgPSBwZWckYzExODtcbiAgICAgICAgICBwZWckY3VyclBvcyArPSAzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTE5KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDQpID09PSBwZWckYzEyMCkge1xuICAgICAgICAgICAgczAgPSBwZWckYzEyMDtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMjEpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNCkgPT09IHBlZyRjMTIyKSB7XG4gICAgICAgICAgICAgIHMwID0gcGVnJGMxMjI7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMjMpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNikgPT09IHBlZyRjMTI0KSB7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckYzEyNDtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSA2O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTI1KTsgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDgpID09PSBwZWckYzEyNikge1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzEyNjtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDg7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMjcpOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNSkgPT09IHBlZyRjMTI4KSB7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGMxMjg7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDU7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMjkpOyB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNikgPT09IHBlZyRjMTMwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzEzMDtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSA2O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTMxKTsgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDQpID09PSBwZWckYzEzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzEzMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDQ7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMzMpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJHBhcnNlaWRlbnRpZmllcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMiA9IHBlZyRjMTM0KHMxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMxMzUoczEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VlbnVtX3NwZWNpZmllcigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczcsIHM4LCBzOSwgczEwLCBzMTEsIHMxMjtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNCkgPT09IHBlZyRjMTM2KSB7XG4gICAgICBzMSA9IHBlZyRjMTM2O1xuICAgICAgcGVnJGN1cnJQb3MgKz0gNDtcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzEzNyk7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZVdTKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2VpZGVudGlmaWVyKCk7XG4gICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDEyMykge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRjMjk7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzMCk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZWVudW1lcmF0b3IoKTtcbiAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczcgPSBbXTtcbiAgICAgICAgICAgICAgICBzOCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICAgIHM5ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICBpZiAoczkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDQpIHtcbiAgICAgICAgICAgICAgICAgICAgczEwID0gcGVnJGM2NjtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHMxMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2Nyk7IH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChzMTAgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgczExID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMxMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIHMxMiA9IHBlZyRwYXJzZWVudW1lcmF0b3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoczEyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzODtcbiAgICAgICAgICAgICAgICAgICAgICAgIHM5ID0gcGVnJGMxMzgoczMsIHM2LCBzMTIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgczggPSBzOTtcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzODtcbiAgICAgICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzODtcbiAgICAgICAgICAgICAgICAgICAgICBzOCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczg7XG4gICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzODtcbiAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd2hpbGUgKHM4ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzNy5wdXNoKHM4KTtcbiAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICAgICAgICBzOSA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICBpZiAoczkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NCkge1xuICAgICAgICAgICAgICAgICAgICAgIHMxMCA9IHBlZyRjNjY7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBzMTAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2Nyk7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoczEwICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgczExID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoczExICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzMTIgPSBwZWckcGFyc2VlbnVtZXJhdG9yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoczEyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHM4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRjMTM4KHMzLCBzNiwgczEyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczggPSBzOTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzODtcbiAgICAgICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzODtcbiAgICAgICAgICAgICAgICAgICAgICBzOCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczg7XG4gICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzOCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICBpZiAoczggIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAxMjUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRjMzI7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzMzKTsgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzOSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMxMzkoczMsIHM2LCBzNyk7XG4gICAgICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWVudW1lcmF0b3IoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczY7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlaWRlbnRpZmllcigpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckY3VyclBvcztcbiAgICAgIHMzID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDYxKSB7XG4gICAgICAgICAgczQgPSBwZWckYzE0MDtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTQxKTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM1ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNlZXhwX2NvbnN0KCk7XG4gICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczI7XG4gICAgICAgICAgICAgIHMzID0gcGVnJGMxNDIoczEsIHM2KTtcbiAgICAgICAgICAgICAgczIgPSBzMztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMjtcbiAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMjtcbiAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzE0MyhzMSwgczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWRlY2xhcmF0b3JfaW5pdCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWRlY2xhcmF0b3IoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDYxKSB7XG4gICAgICAgICAgczMgPSBwZWckYzE0MDtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTQxKTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIxKSA9PT0gcGVnJGMxNDQpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckYzE0NDtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNDUpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgIHMxID0gcGVnJGMxNDYoczEpO1xuICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBzMSA9IHBlZyRwYXJzZWRlY2xhcmF0b3IoKTtcbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzID0gcGVnJHBhcnNlaW5pdGlhbGl6ZXIoKTtcbiAgICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMzID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgIHMxID0gcGVnJGMxNDcoczEsIHMzKTtcbiAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlaW5pdGlhbGl6ZXIoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNTtcblxuICAgIHMwID0gcGVnJHBhcnNlYnJhY2Vfb3JfZXF1YWxfaW5pdGlhbGl6ZXIoKTtcbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQwKSB7XG4gICAgICAgIHMxID0gcGVnJGMzNztcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM4KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBwZWckcGFyc2VleHBfbGlzdCgpO1xuICAgICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczMgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQxKSB7XG4gICAgICAgICAgICAgICAgczUgPSBwZWckYzM5O1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MCk7IH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMTQ4KHMzKTtcbiAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlYnJhY2Vfb3JfZXF1YWxfaW5pdGlhbGl6ZXIoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDYxKSB7XG4gICAgICBzMSA9IHBlZyRjMTQwO1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE0MSk7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2VleHBfYXNzbigpO1xuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICBzMSA9IHBlZyRjMTQ5KHMzKTtcbiAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNjEpIHtcbiAgICAgICAgczEgPSBwZWckYzE0MDtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE0MSk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMTIzKSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRjMjk7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzApOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlaW5pdGlhbGl6ZXJfbGlzdCgpO1xuICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDEyNSkge1xuICAgICAgICAgICAgICAgICAgICBzNyA9IHBlZyRjMzI7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzMyk7IH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzE1MChzNSk7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlaW5pdGlhbGl6ZXJfbGlzdCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczc7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlZXhwX2Fzc24oKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gW107XG4gICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDQpIHtcbiAgICAgICAgICBzNSA9IHBlZyRjNjY7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzY3KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZXhwX2Fzc24oKTtcbiAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgczQgPSBwZWckYzE1MShzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ0KSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRjNjY7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNjcpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZXhwX2Fzc24oKTtcbiAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczQgPSBwZWckYzE1MShzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMxNTIoczEsIHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VkZWNsYXJhdG9yKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VfZGVjbGFyYXRvcigpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICBzMSA9IHBlZyRjMTUzKHMxKTtcbiAgICB9XG4gICAgczAgPSBzMTtcblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWFic3RyYWN0X2RlY2xhcmF0b3IoKTogYW55IHtcbiAgICBsZXQgczAsIHMxO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZV9hYnNfZGVjbGFyYXRvcigpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICBzMSA9IHBlZyRjMTU0KHMxKTtcbiAgICB9XG4gICAgczAgPSBzMTtcblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZV9kZWNsYXJhdG9yKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczU7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDIpIHtcbiAgICAgIHMxID0gcGVnJGMxNTU7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTU2KTsgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZWN2X3F1YWxpZmllcigpO1xuICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUgPSBwZWckcGFyc2VfZGVjbGFyYXRvcigpO1xuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMSA9IHBlZyRjMTU3KHMzLCBzNSk7XG4gICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMzgpIHtcbiAgICAgICAgczEgPSBwZWckYzE1ODtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE1OSk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzID0gcGVnJHBhcnNlY3ZfcXVhbGlmaWVyKCk7XG4gICAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMyA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlX2RlY2xhcmF0b3IoKTtcbiAgICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczEgPSBwZWckYzE2MChzMywgczUpO1xuICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzMSA9IHBlZyRwYXJzZWRlY2xhcmF0b3Jfc2ltcGxlKCk7XG4gICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyID0gcGVnJHBhcnNlZGVjbGFyYXRvcl9wb3N0Zml4ZXMoKTtcbiAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgczEgPSBwZWckYzE2MShzMSwgczIpO1xuICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczAgPSBwZWckcGFyc2VkZWNsYXJhdG9yX3NpbXBsZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlX2Fic19kZWNsYXJhdG9yKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczU7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDIpIHtcbiAgICAgIHMxID0gcGVnJGMxNTU7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTU2KTsgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZWN2X3F1YWxpZmllcigpO1xuICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUgPSBwZWckcGFyc2VfYWJzX2RlY2xhcmF0b3IoKTtcbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczEgPSBwZWckYzE1NyhzMywgczUpO1xuICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDM4KSB7XG4gICAgICAgIHMxID0gcGVnJGMxNTg7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNTkpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMyA9IHBlZyRwYXJzZWN2X3F1YWxpZmllcigpO1xuICAgICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczMgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRwYXJzZV9hYnNfZGVjbGFyYXRvcigpO1xuICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMTYwKHMzLCBzNSk7XG4gICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHMxID0gcGVnJHBhcnNlYWJzX2RlY2xhcmF0b3Jfc2ltcGxlKCk7XG4gICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyID0gcGVnJHBhcnNlZGVjbGFyYXRvcl9wb3N0Zml4ZXMoKTtcbiAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgczEgPSBwZWckYzE2MShzMSwgczIpO1xuICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczAgPSBwZWckcGFyc2VhYnNfZGVjbGFyYXRvcl9zaW1wbGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWRlY2xhcmF0b3JfcG9zdGZpeGVzKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzO1xuXG4gICAgczAgPSBbXTtcbiAgICBzMSA9IHBlZyRjdXJyUG9zO1xuICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMzID0gcGVnJHBhcnNlZGVjbGFyYXRvcl9wb3N0Zml4KCk7XG4gICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczE7XG4gICAgICAgIHMyID0gcGVnJGMxNjIoczMpO1xuICAgICAgICBzMSA9IHMyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHdoaWxlIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMC5wdXNoKHMxKTtcbiAgICAgICAgczEgPSBwZWckY3VyclBvcztcbiAgICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMyA9IHBlZyRwYXJzZWRlY2xhcmF0b3JfcG9zdGZpeCgpO1xuICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczE7XG4gICAgICAgICAgICBzMiA9IHBlZyRjMTYyKHMzKTtcbiAgICAgICAgICAgIHMxID0gczI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XG4gICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XG4gICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VkZWNsYXJhdG9yX3Bvc3RmaXgoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQwKSB7XG4gICAgICBzMSA9IHBlZyRjMzc7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzgpOyB9XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlYXJndW1lbnRfZGVjbGFyYXRpb25fbGlzdCgpO1xuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQxKSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJGMzOTtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQwKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2Vjdl9xdWFsaWZpZXIoKTtcbiAgICAgICAgICAgICAgICBpZiAoczcgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM3ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMxNjMoczMsIHM3KTtcbiAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gOTEpIHtcbiAgICAgICAgczEgPSBwZWckYzE2NDtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE2NSk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzID0gcGVnJHBhcnNlZXhwX2NvbnN0KCk7XG4gICAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMyA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gOTMpIHtcbiAgICAgICAgICAgICAgICBzNSA9IHBlZyRjMTY2O1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNjcpOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczEgPSBwZWckYzE2OChzMyk7XG4gICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWRlY2xhcmF0b3Jfc2ltcGxlKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczU7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlbmFtZSgpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICBzMSA9IHBlZyRjMTY5KHMxKTtcbiAgICB9XG4gICAgczAgPSBzMTtcbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQwKSB7XG4gICAgICAgIHMxID0gcGVnJGMzNztcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM4KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBwZWckcGFyc2VfZGVjbGFyYXRvcigpO1xuICAgICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczMgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQxKSB7XG4gICAgICAgICAgICAgICAgczUgPSBwZWckYzM5O1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MCk7IH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMTcwKHMzKTtcbiAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlYWJzX2RlY2xhcmF0b3Jfc2ltcGxlKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczU7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDApIHtcbiAgICAgIHMxID0gcGVnJGMzNztcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzOCk7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2VfYWJzX2RlY2xhcmF0b3IoKTtcbiAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckYzM5O1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDApOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgIHMxID0gcGVnJGMxNzAoczMpO1xuICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBzMSA9IHBlZyRjMTcxO1xuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMTcyKCk7XG4gICAgICB9XG4gICAgICBzMCA9IHMxO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZXR5cGVfaWQoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczM7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNldHlwZV9zcGVjaWZpZXJzKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2VhYnN0cmFjdF9kZWNsYXJhdG9yKCk7XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgIHMxID0gcGVnJGMxNzMoczEsIHMzKTtcbiAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlY3ZfcXVhbGlmaWVyKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA1KSA9PT0gcGVnJGM5NCkge1xuICAgICAgczEgPSBwZWckYzk0O1xuICAgICAgcGVnJGN1cnJQb3MgKz0gNTtcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzk1KTsgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNlV1MoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA4KSA9PT0gcGVnJGM5Nikge1xuICAgICAgICAgIHMzID0gcGVnJGM5NjtcbiAgICAgICAgICBwZWckY3VyclBvcyArPSA4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOTcpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgczEgPSBwZWckYzE3NCgpO1xuICAgICAgICAgIHMwID0gczE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgOCkgPT09IHBlZyRjOTYpIHtcbiAgICAgICAgczEgPSBwZWckYzk2O1xuICAgICAgICBwZWckY3VyclBvcyArPSA4O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOTcpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckcGFyc2VXUygpO1xuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA1KSA9PT0gcGVnJGM5NCkge1xuICAgICAgICAgICAgczMgPSBwZWckYzk0O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gNTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzk1KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgczEgPSBwZWckYzE3NCgpO1xuICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA1KSA9PT0gcGVnJGM5NCkge1xuICAgICAgICAgIHMxID0gcGVnJGM5NDtcbiAgICAgICAgICBwZWckY3VyclBvcyArPSA1O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOTUpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgczEgPSBwZWckYzE3NSgpO1xuICAgICAgICB9XG4gICAgICAgIHMwID0gczE7XG4gICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgOCkgPT09IHBlZyRjOTYpIHtcbiAgICAgICAgICAgIHMxID0gcGVnJGM5NjtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDg7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM5Nyk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgIHMxID0gcGVnJGMxNzYoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWFyZ3VtZW50X2RlY2xhcmF0aW9uX2xpc3QoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWFyZ3VtZW50X2RlY2xhcmF0aW9uKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ0KSB7XG4gICAgICAgICAgczUgPSBwZWckYzY2O1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2Nyk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNyA9IHBlZyRwYXJzZWFyZ3VtZW50X2RlY2xhcmF0aW9uKCk7XG4gICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJGMxNzcoczEsIHM3KTtcbiAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ0KSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRjNjY7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNjcpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlYXJndW1lbnRfZGVjbGFyYXRpb24oKTtcbiAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczQgPSBwZWckYzE3NyhzMSwgczcpO1xuICAgICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzE3OChzMSwgczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBzMSA9IHBlZyRjMTcxO1xuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMTc5KCk7XG4gICAgICB9XG4gICAgICBzMCA9IHMxO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWFyZ3VtZW50X2RlY2xhcmF0aW9uKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VkZWNsX3NwZWNpZmllcnMoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZWRlY2xhcmF0b3IoKTtcbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2MSkge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRjMTQwO1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTQxKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VleHBfYXNzbigpO1xuICAgICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMTgwKHMxLCBzMywgczcpO1xuICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczEgPSBwZWckcGFyc2VkZWNsX3NwZWNpZmllcnMoKTtcbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzID0gcGVnJHBhcnNlZGVjbGFyYXRvcigpO1xuICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICBzMSA9IHBlZyRjMTgxKHMxLCBzMyk7XG4gICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHMxID0gcGVnJHBhcnNlZGVjbF9zcGVjaWZpZXJzKCk7XG4gICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMzID0gcGVnJHBhcnNlYWJzdHJhY3RfZGVjbGFyYXRvcigpO1xuICAgICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2MSkge1xuICAgICAgICAgICAgICAgICAgczUgPSBwZWckYzE0MDtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNDEpOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZXhwX2Fzc24oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzE4MChzMSwgczMsIHM3KTtcbiAgICAgICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgczEgPSBwZWckcGFyc2VkZWNsX3NwZWNpZmllcnMoKTtcbiAgICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzMyA9IHBlZyRwYXJzZWFic3RyYWN0X2RlY2xhcmF0b3IoKTtcbiAgICAgICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczEgPSBwZWckYzE4MShzMSwgczMpO1xuICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VleHByZXNzaW9uKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VleHBfYXNzbigpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NCkge1xuICAgICAgICAgIHM1ID0gcGVnJGM2NjtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNjcpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczcgPSBwZWckcGFyc2VleHBfYXNzbigpO1xuICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICBzNCA9IHBlZyRjMTgyKHMxLCBzNSwgczcpO1xuICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDQpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJGM2NjtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2Nyk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VleHBfYXNzbigpO1xuICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzNCA9IHBlZyRjMTgyKHMxLCBzNSwgczcpO1xuICAgICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzE4MyhzMSwgczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJHBhcnNlZXhwX2Fzc24oKTtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VleHBfYXNzbigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWV4cF91bmFyeSgpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNjEpIHtcbiAgICAgICAgICBzMyA9IHBlZyRjMTQwO1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNDEpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUgPSBwZWckcGFyc2VleHBfYXNzbigpO1xuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMSA9IHBlZyRjMTg0KHMxLCBzMywgczUpO1xuICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBzMSA9IHBlZyRwYXJzZWV4cF91bmFyeSgpO1xuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBwZWckcGFyc2VvcF9jb21wX2Fzc24oKTtcbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRwYXJzZWV4cF9hc3NuKCk7XG4gICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMxID0gcGVnJGMxODUoczEsIHMzLCBzNSk7XG4gICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMwID0gcGVnJHBhcnNlZXhwX2NvbmQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VvcF9jb21wX2Fzc24oKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczM7XG5cbiAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMxODYpIHtcbiAgICAgIHMwID0gcGVnJGMxODY7XG4gICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTg3KTsgfVxuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzE4OCkge1xuICAgICAgICBzMCA9IHBlZyRjMTg4O1xuICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTg5KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzE5MCkge1xuICAgICAgICAgIHMwID0gcGVnJGMxOTA7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE5MSk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMxOTIpIHtcbiAgICAgICAgICAgIHMwID0gcGVnJGMxOTI7XG4gICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTkzKTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzE5NCkge1xuICAgICAgICAgICAgICBzMCA9IHBlZyRjMTk0O1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTk1KTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDMpID09PSBwZWckYzE5Nikge1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJGMxOTY7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE5Nyk7IH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAzKSA9PT0gcGVnJGMxOTgpIHtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGMxOTg7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAzO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTk5KTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzIwMCkge1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMjAwO1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjAxKTsgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDYpID09PSBwZWckYzIwMikge1xuICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMyMDI7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gNjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIwMyk7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzMiA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgICAgICAgICAgICAgICAgICAgIHMzID0gcGVnJHBhcnNlaWRlbnRpZmllckNoYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICAgICAgICAgICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzIwNCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjA1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMjA1O1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIwNik7IH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNikgPT09IHBlZyRjMjA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMyMDc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDY7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMDgpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczIgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMzID0gcGVnJHBhcnNlaWRlbnRpZmllckNoYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMyMDkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzIxMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjExKTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNSkgPT09IHBlZyRjMjEyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMjEyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIxMyk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMiA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMyA9IHBlZyRwYXJzZWlkZW50aWZpZXJDaGFyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzIxNCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWV4cF9jb25zdCgpOiBhbnkge1xuICAgIGxldCBzMCwgczE7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlZXhwX2NvbmQoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgczEgPSBwZWckYzIxNShzMSk7XG4gICAgfVxuICAgIHMwID0gczE7XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VleHBfY29uZCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczcsIHM4LCBzOTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VleHBfb3IoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDYzKSB7XG4gICAgICAgICAgczMgPSBwZWckYzIxNjtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjE3KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlZXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA1OCkge1xuICAgICAgICAgICAgICAgICAgczcgPSBwZWckYzE2O1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE3KTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgIGlmIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRwYXJzZWV4cF9hc3NuKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzOSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMyMTgoczEsIHM1LCBzOSk7XG4gICAgICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJHBhcnNlZXhwX29yKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZXhwX29yKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNywgczg7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlZXhwX2FuZCgpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjE5KSB7XG4gICAgICAgICAgczUgPSBwZWckYzIxOTtcbiAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjIwKTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM1ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjIxKSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRjMjIxO1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIyMik7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgICAgICAgICBzOCA9IHBlZyRwYXJzZWlkZW50aWZpZXJDaGFyKCk7XG4gICAgICAgICAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICAgICAgICAgIGlmIChzOCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczc7XG4gICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNiA9IFtzNiwgczddO1xuICAgICAgICAgICAgICBzNSA9IHM2O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xuICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNyA9IHBlZyRwYXJzZWV4cF9hbmQoKTtcbiAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgczQgPSBwZWckYzIyMyhzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMyMTkpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJGMyMTk7XG4gICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjIwKTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczUgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMyMjEpIHtcbiAgICAgICAgICAgICAgczYgPSBwZWckYzIyMTtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIyMik7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICAgICAgICAgICAgczggPSBwZWckcGFyc2VpZGVudGlmaWVyQ2hhcigpO1xuICAgICAgICAgICAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICAgICAgICAgICAgaWYgKHM4ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNztcbiAgICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczYgPSBbczYsIHM3XTtcbiAgICAgICAgICAgICAgICBzNSA9IHM2O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZXhwX2FuZCgpO1xuICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzNCA9IHBlZyRjMjIzKHMxLCBzNSwgczcpO1xuICAgICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzIyNChzMSwgczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWV4cF9hbmQoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3LCBzODtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VleHBfb3JfYml0KCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMyMjUpIHtcbiAgICAgICAgICBzNSA9IHBlZyRjMjI1O1xuICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMjYpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczUgPSBwZWckY3VyclBvcztcbiAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAzKSA9PT0gcGVnJGMyMjcpIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJGMyMjc7XG4gICAgICAgICAgICBwZWckY3VyclBvcyArPSAzO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjI4KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM3ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNlaWRlbnRpZmllckNoYXIoKTtcbiAgICAgICAgICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgICAgICAgICAgaWYgKHM4ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM3ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNztcbiAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM2ID0gW3M2LCBzN107XG4gICAgICAgICAgICAgIHM1ID0gczY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZXhwX29yX2JpdCgpO1xuICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICBzNCA9IHBlZyRjMjI5KHMxLCBzNSwgczcpO1xuICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzIyNSkge1xuICAgICAgICAgICAgczUgPSBwZWckYzIyNTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMjYpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDMpID09PSBwZWckYzIyNykge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRjMjI3O1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjI4KTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM3ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgICAgICAgICAgICBzOCA9IHBlZyRwYXJzZWlkZW50aWZpZXJDaGFyKCk7XG4gICAgICAgICAgICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgICAgICAgICAgICBpZiAoczggPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM3O1xuICAgICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNiA9IFtzNiwgczddO1xuICAgICAgICAgICAgICAgIHM1ID0gczY7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VleHBfb3JfYml0KCk7XG4gICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICAgIHM0ID0gcGVnJGMyMjkoczEsIHM1LCBzNyk7XG4gICAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMjI0KHMxLCBzMik7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZXhwX29yX2JpdCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczcsIHM4O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWV4cF94b3JfYml0KCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDEyNCkge1xuICAgICAgICAgIHM1ID0gcGVnJGMyMzA7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIzMSk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczUgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNSA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDUpID09PSBwZWckYzIzMikge1xuICAgICAgICAgICAgczYgPSBwZWckYzIzMjtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMzMpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczcgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgICAgICAgICAgczggPSBwZWckcGFyc2VpZGVudGlmaWVyQ2hhcigpO1xuICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgICAgICAgICBpZiAoczggPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM3O1xuICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczYgPSBbczYsIHM3XTtcbiAgICAgICAgICAgICAgczUgPSBzNjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczcgPSBwZWckcGFyc2VleHBfeG9yX2JpdCgpO1xuICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICBzNCA9IHBlZyRjMjM0KHMxLCBzNSwgczcpO1xuICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMTI0KSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRjMjMwO1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIzMSk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNSkgPT09IHBlZyRjMjMyKSB7XG4gICAgICAgICAgICAgIHM2ID0gcGVnJGMyMzI7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMzMpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczcgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNlaWRlbnRpZmllckNoYXIoKTtcbiAgICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgICAgICAgICAgIGlmIChzOCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM3ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczc7XG4gICAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM2ID0gW3M2LCBzN107XG4gICAgICAgICAgICAgICAgczUgPSBzNjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZWV4cF94b3JfYml0KCk7XG4gICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICAgIHM0ID0gcGVnJGMyMzQoczEsIHM1LCBzNyk7XG4gICAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMjM1KHMxLCBzMik7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZXhwX3hvcl9iaXQoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWV4cF9hbmRfYml0KCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDk0KSB7XG4gICAgICAgICAgczUgPSBwZWckYzIzNjtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjM3KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDMpID09PSBwZWckYzIzOCkge1xuICAgICAgICAgICAgczUgPSBwZWckYzIzODtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDM7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMzkpOyB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZXhwX2FuZF9iaXQoKTtcbiAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgczQgPSBwZWckYzI0MChzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDk0KSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRjMjM2O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIzNyk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAzKSA9PT0gcGVnJGMyMzgpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckYzIzODtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIzOSk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VleHBfYW5kX2JpdCgpO1xuICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzNCA9IHBlZyRjMjQwKHMxLCBzNSwgczcpO1xuICAgICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzIzNShzMSwgczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWV4cF9hbmRfYml0KCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNywgczg7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlZXhwX2VxKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzNSA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDM4KSB7XG4gICAgICAgICAgczYgPSBwZWckYzE1ODtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTU5KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM3ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzOCkge1xuICAgICAgICAgICAgczggPSBwZWckYzE1ODtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM4ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNTkpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgICAgICAgIGlmIChzOCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczc7XG4gICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczYgPSBbczYsIHM3XTtcbiAgICAgICAgICAgIHM1ID0gczY7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM1ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNikgPT09IHBlZyRjMjQxKSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRjMjQxO1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gNjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI0Mik7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgICAgICAgICBzOCA9IHBlZyRwYXJzZWlkZW50aWZpZXJDaGFyKCk7XG4gICAgICAgICAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICAgICAgICAgIGlmIChzOCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczc7XG4gICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNiA9IFtzNiwgczddO1xuICAgICAgICAgICAgICBzNSA9IHM2O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xuICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNyA9IHBlZyRwYXJzZWV4cF9lcSgpO1xuICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICBzNCA9IHBlZyRjMjQzKHMxLCBzNSwgczcpO1xuICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM1ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzOCkge1xuICAgICAgICAgICAgczYgPSBwZWckYzE1ODtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNTkpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczcgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzOCkge1xuICAgICAgICAgICAgICBzOCA9IHBlZyRjMTU4O1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczggPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTU5KTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgICAgICAgICBpZiAoczggPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM3O1xuICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczYgPSBbczYsIHM3XTtcbiAgICAgICAgICAgICAgczUgPSBzNjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNikgPT09IHBlZyRjMjQxKSB7XG4gICAgICAgICAgICAgIHM2ID0gcGVnJGMyNDE7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNDIpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczcgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNlaWRlbnRpZmllckNoYXIoKTtcbiAgICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgICAgICAgICAgIGlmIChzOCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM3ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczc7XG4gICAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM2ID0gW3M2LCBzN107XG4gICAgICAgICAgICAgICAgczUgPSBzNjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZWV4cF9lcSgpO1xuICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzNCA9IHBlZyRjMjQzKHMxLCBzNSwgczcpO1xuICAgICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzIzNShzMSwgczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWV4cF9lcSgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczcsIHM4O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWV4cF9yZWwoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gW107XG4gICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzI0NCkge1xuICAgICAgICAgIHM1ID0gcGVnJGMyNDQ7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI0NSk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczUgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMyNDYpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJGMyNDY7XG4gICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjQ3KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczUgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA2KSA9PT0gcGVnJGMyNDgpIHtcbiAgICAgICAgICAgICAgczYgPSBwZWckYzI0ODtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gNjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI0OSk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICAgICAgICAgICAgczggPSBwZWckcGFyc2VpZGVudGlmaWVyQ2hhcigpO1xuICAgICAgICAgICAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICAgICAgICAgICAgaWYgKHM4ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNztcbiAgICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczU7XG4gICAgICAgICAgICAgICAgczYgPSBwZWckYzI1MChzMSk7XG4gICAgICAgICAgICAgICAgczUgPSBzNjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNyA9IHBlZyRwYXJzZWV4cF9yZWwoKTtcbiAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgczQgPSBwZWckYzE4MihzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMyNDQpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJGMyNDQ7XG4gICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjQ1KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczUgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzI0Nikge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRjMjQ2O1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjQ3KTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDYpID09PSBwZWckYzI0OCkge1xuICAgICAgICAgICAgICAgIHM2ID0gcGVnJGMyNDg7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gNjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI0OSk7IH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgICAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNlaWRlbnRpZmllckNoYXIoKTtcbiAgICAgICAgICAgICAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICAgICAgICAgICAgICBpZiAoczggPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM3ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM3O1xuICAgICAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHM1O1xuICAgICAgICAgICAgICAgICAgczYgPSBwZWckYzI1MChzMSk7XG4gICAgICAgICAgICAgICAgICBzNSA9IHM2O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xuICAgICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZWV4cF9yZWwoKTtcbiAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczQgPSBwZWckYzE4MihzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMyNTEoczEsIHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VleHBfcmVsKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VleHBfc2hpZnQoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gW107XG4gICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHM1ID0gcGVnJHBhcnNlb3BfcmVsKCk7XG4gICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZXhwX3NoaWZ0KCk7XG4gICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJGMxODIoczEsIHM1LCBzNyk7XG4gICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczUgPSBwZWckcGFyc2VvcF9yZWwoKTtcbiAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZWV4cF9zaGlmdCgpO1xuICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzNCA9IHBlZyRjMTgyKHMxLCBzNSwgczcpO1xuICAgICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzI1MShzMSwgczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZW9wX3JlbCgpOiBhbnkge1xuICAgIGxldCBzMDtcblxuICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzI1Mikge1xuICAgICAgczAgPSBwZWckYzI1MjtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNTMpOyB9XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjU0KSB7XG4gICAgICAgIHMwID0gcGVnJGMyNTQ7XG4gICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNTUpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2MCkge1xuICAgICAgICAgIHMwID0gcGVnJGMyNTY7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI1Nyk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDYyKSB7XG4gICAgICAgICAgICBzMCA9IHBlZyRjMjU4O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI1OSk7IH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VleHBfc2hpZnQoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWV4cF9hZGQoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gW107XG4gICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHM1ID0gcGVnJHBhcnNlb3Bfc2hpZnQoKTtcbiAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczcgPSBwZWckcGFyc2VleHBfYWRkKCk7XG4gICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJGMxODIoczEsIHM1LCBzNyk7XG4gICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczUgPSBwZWckcGFyc2VvcF9zaGlmdCgpO1xuICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZXhwX2FkZCgpO1xuICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzNCA9IHBlZyRjMTgyKHMxLCBzNSwgczcpO1xuICAgICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzIzNShzMSwgczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZW9wX3NoaWZ0KCk6IGFueSB7XG4gICAgbGV0IHMwO1xuXG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjYwKSB7XG4gICAgICBzMCA9IHBlZyRjMjYwO1xuICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICB9IGVsc2Uge1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI2MSk7IH1cbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMyNjIpIHtcbiAgICAgICAgczAgPSBwZWckYzI2MjtcbiAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI2Myk7IH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VleHBfYWRkKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VleHBfbXVsdCgpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczUgPSBwZWckcGFyc2VvcF9hZGQoKTtcbiAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczcgPSBwZWckcGFyc2VleHBfbXVsdCgpO1xuICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICBzNCA9IHBlZyRjMTgyKHMxLCBzNSwgczcpO1xuICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM1ID0gcGVnJHBhcnNlb3BfYWRkKCk7XG4gICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VleHBfbXVsdCgpO1xuICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzNCA9IHBlZyRjMTgyKHMxLCBzNSwgczcpO1xuICAgICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzIzNShzMSwgczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZW9wX2FkZCgpOiBhbnkge1xuICAgIGxldCBzMDtcblxuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDMpIHtcbiAgICAgIHMwID0gcGVnJGMyNjQ7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjY1KTsgfVxuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDUpIHtcbiAgICAgICAgczAgPSBwZWckYzI2NjtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI2Nyk7IH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VleHBfbXVsdCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczc7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlZXhwX3BtKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzNSA9IHBlZyRwYXJzZW9wX211bHQoKTtcbiAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczcgPSBwZWckcGFyc2VleHBfcG0oKTtcbiAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgczQgPSBwZWckYzE4MihzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNSA9IHBlZyRwYXJzZW9wX211bHQoKTtcbiAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZWV4cF9wbSgpO1xuICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzNCA9IHBlZyRjMTgyKHMxLCBzNSwgczcpO1xuICAgICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzIzNShzMSwgczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZW9wX211bHQoKTogYW55IHtcbiAgICBsZXQgczA7XG5cbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQyKSB7XG4gICAgICBzMCA9IHBlZyRjMTU1O1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE1Nik7IH1cbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ3KSB7XG4gICAgICAgIHMwID0gcGVnJGMyNjg7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNjkpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzNykge1xuICAgICAgICAgIHMwID0gcGVnJGMyNzA7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI3MSk7IH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWV4cF9wbSgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczc7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlZXhwX2Nhc3QoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gW107XG4gICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHM1ID0gcGVnJHBhcnNlb3BfcG0oKTtcbiAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczcgPSBwZWckcGFyc2VleHBfY2FzdCgpO1xuICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICBzNCA9IHBlZyRjMTgyKHMxLCBzNSwgczcpO1xuICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM1ID0gcGVnJHBhcnNlb3BfcG0oKTtcbiAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZWV4cF9jYXN0KCk7XG4gICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICAgIHM0ID0gcGVnJGMxODIoczEsIHM1LCBzNyk7XG4gICAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMjcyKHMxLCBzMik7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlb3BfcG0oKTogYW55IHtcbiAgICBsZXQgczA7XG5cbiAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMyNzMpIHtcbiAgICAgIHMwID0gcGVnJGMyNzM7XG4gICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjc0KTsgfVxuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDMpID09PSBwZWckYzI3NSkge1xuICAgICAgICBzMCA9IHBlZyRjMjc1O1xuICAgICAgICBwZWckY3VyclBvcyArPSAzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjc2KTsgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWV4cF9jYXN0KCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MCkge1xuICAgICAgczEgPSBwZWckYzM3O1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM4KTsgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZXR5cGVfaWQoKTtcbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRjMzk7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MCk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZXhwX2Nhc3QoKTtcbiAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzI3NyhzMywgczcpO1xuICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRwYXJzZWV4cF91bmFyeSgpO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWV4cF91bmFyeSgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczc7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzI3OCkge1xuICAgICAgczEgPSBwZWckYzI3ODtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNzkpOyB9XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlZXhwX3VuYXJ5KCk7XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgIHMxID0gcGVnJGMyODAoczEsIHMzKTtcbiAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzI4MSkge1xuICAgICAgICBzMSA9IHBlZyRjMjgxO1xuICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjgyKTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBwZWckcGFyc2VleHBfdW5hcnkoKTtcbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgczEgPSBwZWckYzI4MyhzMSwgczMpO1xuICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzMSA9IHBlZyRwYXJzZW9wX3VuYXJ5KCk7XG4gICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMzID0gcGVnJHBhcnNlZXhwX2Nhc3QoKTtcbiAgICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczEgPSBwZWckYzI4NChzMSwgczMpO1xuICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDYpID09PSBwZWckYzI4NSkge1xuICAgICAgICAgICAgczEgPSBwZWckYzI4NTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDY7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyODYpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHMzID0gcGVnJHBhcnNlZXhwX3VuYXJ5KCk7XG4gICAgICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMxID0gcGVnJGMyODcoczEsIHMzKTtcbiAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDYpID09PSBwZWckYzI4NSkge1xuICAgICAgICAgICAgICBzMSA9IHBlZyRjMjg1O1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSA2O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjg2KTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MCkge1xuICAgICAgICAgICAgICAgICAgczMgPSBwZWckYzM3O1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM4KTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBzNSA9IHBlZyRwYXJzZXNpbXBsZV90eXBlX25hbWUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzNyA9IHBlZyRjMzk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MCk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzI4OChzMSwgczUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHMwID0gcGVnJHBhcnNlZXhwX25ldygpO1xuICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRwYXJzZWV4cF9kZWxldGUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZW9wX3VuYXJ5KCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQyKSB7XG4gICAgICBzMSA9IHBlZyRjMTU1O1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE1Nik7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgIHMxID0gcGVnJGMyODkoKTtcbiAgICB9XG4gICAgczAgPSBzMTtcbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDM4KSB7XG4gICAgICAgIHMxID0gcGVnJGMxNTg7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNTkpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMyOTAoKTtcbiAgICAgIH1cbiAgICAgIHMwID0gczE7XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0Mykge1xuICAgICAgICAgIHMxID0gcGVnJGMyNjQ7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI2NSk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICBzMSA9IHBlZyRjMjkxKCk7XG4gICAgICAgIH1cbiAgICAgICAgczAgPSBzMTtcbiAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ1KSB7XG4gICAgICAgICAgICBzMSA9IHBlZyRjMjY2O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI2Nyk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgIHMxID0gcGVnJGMyOTIoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDMzKSB7XG4gICAgICAgICAgICAgIHMxID0gcGVnJGMyOTM7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyOTQpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgIHMxID0gcGVnJGMyOTUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMykgPT09IHBlZyRjMjk2KSB7XG4gICAgICAgICAgICAgICAgczEgPSBwZWckYzI5NjtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAzO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjk3KTsgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHMyID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgICAgICAgICAgICAgczMgPSBwZWckcGFyc2VpZGVudGlmaWVyQ2hhcigpO1xuICAgICAgICAgICAgICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgICAgICAgICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgICAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMjk1KCk7XG4gICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMTI2KSB7XG4gICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjNzQ7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNzUpOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMjk4KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNSkgPT09IHBlZyRjMjk5KSB7XG4gICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMyOTk7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDU7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzMDApOyB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMyOTgoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZXhwX25ldygpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczcsIHM4LCBzOTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMykgPT09IHBlZyRjMzAxKSB7XG4gICAgICBzMSA9IHBlZyRjMzAxO1xuICAgICAgcGVnJGN1cnJQb3MgKz0gMztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzMwMik7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZVdTKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2VuZXdfdHlwZV9pZCgpO1xuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRwYXJzZW5ld19pbml0aWFsaXplcigpO1xuICAgICAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM1ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczEgPSBwZWckYzMwMyhzMywgczUpO1xuICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAzKSA9PT0gcGVnJGMzMDEpIHtcbiAgICAgICAgczEgPSBwZWckYzMwMTtcbiAgICAgICAgcGVnJGN1cnJQb3MgKz0gMztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzMwMik7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDApIHtcbiAgICAgICAgICAgIHMzID0gcGVnJGMzNztcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzOCk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckcGFyc2V0eXBlX2lkKCk7XG4gICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgICAgICAgICAgczcgPSBwZWckYzM5O1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDApOyB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgczggPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoczggIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRwYXJzZW5ld19pbml0aWFsaXplcigpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChzOSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgczkgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoczkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzMwNChzNSwgczkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VuZXdfdHlwZV9pZCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQ7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNldHlwZV9zcGVjaWZpZXJzKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRjdXJyUG9zO1xuICAgICAgczMgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHM0ID0gcGVnJHBhcnNlbmV3X2RlY2xhcmF0b3IoKTtcbiAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJHNhdmVkUG9zID0gczI7XG4gICAgICAgICAgczMgPSBwZWckYzMwNShzMSwgczQpO1xuICAgICAgICAgIHMyID0gczM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMjtcbiAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMiA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMzMDYoczEsIHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VuZXdfZGVjbGFyYXRvcigpOiBhbnkge1xuICAgIGxldCBzMCwgczE7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlX25ld19kZWNsYXJhdG9yKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgIHMxID0gcGVnJGMzMDcoczEpO1xuICAgIH1cbiAgICBzMCA9IHMxO1xuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlX25ld19kZWNsYXJhdG9yKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczU7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDIpIHtcbiAgICAgIHMxID0gcGVnJGMxNTU7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTU2KTsgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZWN2X3F1YWxpZmllcigpO1xuICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUgPSBwZWckcGFyc2VfbmV3X2RlY2xhcmF0b3IoKTtcbiAgICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgIHMxID0gcGVnJGMxNTcoczMsIHM1KTtcbiAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzOCkge1xuICAgICAgICBzMSA9IHBlZyRjMTU4O1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTU5KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBwZWckcGFyc2Vjdl9xdWFsaWZpZXIoKTtcbiAgICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMzID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckcGFyc2VfbmV3X2RlY2xhcmF0b3IoKTtcbiAgICAgICAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczUgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMxID0gcGVnJGMxNjAoczMsIHM1KTtcbiAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgczEgPSBwZWckcGFyc2VuZXdfZGVjbGFyYXRvcl9wb3N0Zml4ZXMoKTtcbiAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgczEgPSBwZWckYzMwOChzMSk7XG4gICAgICAgIH1cbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VuZXdfZGVjbGFyYXRvcl9wb3N0Zml4ZXMoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczM7XG5cbiAgICBzMCA9IFtdO1xuICAgIHMxID0gcGVnJGN1cnJQb3M7XG4gICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczMgPSBwZWckcGFyc2VuZXdfZGVjbGFyYXRvcl9wb3N0Zml4KCk7XG4gICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczE7XG4gICAgICAgIHMyID0gcGVnJGMzMDkoczMpO1xuICAgICAgICBzMSA9IHMyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHdoaWxlIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMC5wdXNoKHMxKTtcbiAgICAgICAgczEgPSBwZWckY3VyclBvcztcbiAgICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMyA9IHBlZyRwYXJzZW5ld19kZWNsYXJhdG9yX3Bvc3RmaXgoKTtcbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMxO1xuICAgICAgICAgICAgczIgPSBwZWckYzMwOShzMyk7XG4gICAgICAgICAgICBzMSA9IHMyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlbmV3X2RlY2xhcmF0b3JfcG9zdGZpeCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDkxKSB7XG4gICAgICBzMSA9IHBlZyRjMTY0O1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE2NSk7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2VleHBfYXNzbigpO1xuICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA5Mykge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRjMTY2O1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTY3KTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMSA9IHBlZyRjMzEwKHMzKTtcbiAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VuZXdfaW5pdGlhbGl6ZXIoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MCkge1xuICAgICAgczEgPSBwZWckYzM3O1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM4KTsgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZWV4cF9saXN0KCk7XG4gICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQxKSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJGMzOTtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQwKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMSA9IHBlZyRjMzExKHMzKTtcbiAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VleHBfZGVsZXRlKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNikgPT09IHBlZyRjMzEyKSB7XG4gICAgICBzMSA9IHBlZyRjMzEyO1xuICAgICAgcGVnJGN1cnJQb3MgKz0gNjtcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzMxMyk7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZVdTKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2VleHBfY2FzdCgpO1xuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICBzMSA9IHBlZyRjMzE0KHMzKTtcbiAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDYpID09PSBwZWckYzMxMikge1xuICAgICAgICBzMSA9IHBlZyRjMzEyO1xuICAgICAgICBwZWckY3VyclBvcyArPSA2O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzEzKTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA5MSkge1xuICAgICAgICAgICAgczMgPSBwZWckYzE2NDtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNjUpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gOTMpIHtcbiAgICAgICAgICAgICAgICBzNSA9IHBlZyRjMTY2O1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNjcpOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczYgPSBwZWckcGFyc2VXUygpO1xuICAgICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VleHBfY2FzdCgpO1xuICAgICAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMzE1KHM3KTtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMCA9IHBlZyRwYXJzZWV4cF9wb3N0Zml4KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZXhwX3Bvc3RmaXgoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3LCBzOCwgczksIHMxMCwgczExLCBzMTIsIHMxMztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMTEpID09PSBwZWckYzMxNikge1xuICAgICAgczEgPSBwZWckYzMxNjtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDExO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzE3KTsgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDYwKSB7XG4gICAgICAgICAgczMgPSBwZWckYzI1NjtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjU3KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlc2ltcGxlX3R5cGVfbmFtZSgpO1xuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2Mikge1xuICAgICAgICAgICAgICAgICAgczcgPSBwZWckYzI1ODtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNTkpOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczggPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDApIHtcbiAgICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRjMzc7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM4KTsgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzOSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIHMxMCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgczExID0gcGVnJHBhcnNlZXhwX2Nhc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczEyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxMyA9IHBlZyRjMzk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQwKTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczEzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMzMTgoczUsIHMxMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAxMikgPT09IHBlZyRjMzE5KSB7XG4gICAgICAgIHMxID0gcGVnJGMzMTk7XG4gICAgICAgIHBlZyRjdXJyUG9zICs9IDEyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzIwKTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2MCkge1xuICAgICAgICAgICAgczMgPSBwZWckYzI1NjtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNTcpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlc2ltcGxlX3R5cGVfbmFtZSgpO1xuICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDYyKSB7XG4gICAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJGMyNTg7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNTkpOyB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgczggPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoczggIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRjMzc7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzgpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChzOSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgczEwID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTAgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczExID0gcGVnJHBhcnNlZXhwX2Nhc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTMgPSBwZWckYzM5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczEzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQwKTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzMyMShzNSwgczExKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAxNikgPT09IHBlZyRjMzIyKSB7XG4gICAgICAgICAgczEgPSBwZWckYzMyMjtcbiAgICAgICAgICBwZWckY3VyclBvcyArPSAxNjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzMyMyk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDYwKSB7XG4gICAgICAgICAgICAgIHMzID0gcGVnJGMyNTY7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNTcpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNSA9IHBlZyRwYXJzZXNpbXBsZV90eXBlX25hbWUoKTtcbiAgICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDYyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgczcgPSBwZWckYzI1ODtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjU5KTsgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoczggIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckYzM3O1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzgpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoczkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczEwID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxMSA9IHBlZyRwYXJzZWV4cF9jYXN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczEyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxMyA9IHBlZyRjMzk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MCk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczEzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzMyNChzNSwgczExKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMTApID09PSBwZWckYzMyNSkge1xuICAgICAgICAgICAgczEgPSBwZWckYzMyNTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDEwO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzI2KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDYwKSB7XG4gICAgICAgICAgICAgICAgczMgPSBwZWckYzI1NjtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjU3KTsgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlc2ltcGxlX3R5cGVfbmFtZSgpO1xuICAgICAgICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2Mikge1xuICAgICAgICAgICAgICAgICAgICAgICAgczcgPSBwZWckYzI1ODtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNTkpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgczggPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRjMzc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM4KTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzOSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxMCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczExID0gcGVnJHBhcnNlZXhwX2Nhc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczEyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxMyA9IHBlZyRjMzk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMTMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQwKTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczEzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMzMjcoczUsIHMxMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICBzMSA9IHBlZyRwYXJzZWV4cF9jb25zdHJ1Y3QoKTtcbiAgICAgICAgICAgIGlmIChzMSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzMSA9IHBlZyRwYXJzZWV4cF9wcmltYXJ5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczIgPSBbXTtcbiAgICAgICAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNSA9IHBlZyRwYXJzZW9wX3Bvc3RmaXgoKTtcbiAgICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICAgICAgczQgPSBwZWckYzMyOChzMSwgczUpO1xuICAgICAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgd2hpbGUgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgICAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzNSA9IHBlZyRwYXJzZW9wX3Bvc3RmaXgoKTtcbiAgICAgICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgICAgICAgczQgPSBwZWckYzMyOChzMSwgczUpO1xuICAgICAgICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMzI5KHMxLCBzMik7XG4gICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZW9wX3Bvc3RmaXgoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA5MSkge1xuICAgICAgczEgPSBwZWckYzE2NDtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNjUpOyB9XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlZXhwcmVzc2lvbigpO1xuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDkzKSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJGMxNjY7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNjcpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgIHMxID0gcGVnJGMzMzAoczMpO1xuICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQwKSB7XG4gICAgICAgIHMxID0gcGVnJGMzNztcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM4KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBwZWckcGFyc2VleHBfbGlzdCgpO1xuICAgICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczMgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQxKSB7XG4gICAgICAgICAgICAgICAgczUgPSBwZWckYzM5O1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MCk7IH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMzMxKHMzKTtcbiAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0Nikge1xuICAgICAgICAgIHMxID0gcGVnJGMzMzI7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzMzMyk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRwYXJzZW5hbWUoKTtcbiAgICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczEgPSBwZWckYzMzNChzMyk7XG4gICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMzM1KSB7XG4gICAgICAgICAgICBzMSA9IHBlZyRjMzM1O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzMzNik7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczMgPSBwZWckcGFyc2VuYW1lKCk7XG4gICAgICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMxID0gcGVnJGMzMzcoczMpO1xuICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjc4KSB7XG4gICAgICAgICAgICAgIHMxID0gcGVnJGMyNzg7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNzkpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgIHMxID0gcGVnJGMzMzgoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjgxKSB7XG4gICAgICAgICAgICAgICAgczEgPSBwZWckYzI4MTtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjgyKTsgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMxID0gcGVnJGMzMzkoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWV4cF9jb25zdHJ1Y3QoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZXNpbXBsZV90eXBlX25hbWUoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQwKSB7XG4gICAgICAgICAgczMgPSBwZWckYzM3O1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzOCk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRwYXJzZWV4cF9saXN0KCk7XG4gICAgICAgICAgICBpZiAoczUgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICAgICAgczcgPSBwZWckYzM5O1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQwKTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzM0MChzMSwgczUpO1xuICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VleHBfbGlzdCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczc7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlZXhwX2Fzc24oKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gW107XG4gICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDQpIHtcbiAgICAgICAgICBzNSA9IHBlZyRjNjY7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzY3KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM2ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlZXhwX2Fzc24oKTtcbiAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgczQgPSBwZWckYzM0MShzMSwgczcpO1xuICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDQpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJGM2NjtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2Nyk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VleHBfYXNzbigpO1xuICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzNCA9IHBlZyRjMzQxKHMxLCBzNyk7XG4gICAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMTc4KHMxLCBzMik7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZXhwX3ByaW1hcnkoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MCkge1xuICAgICAgczEgPSBwZWckYzM3O1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM4KTsgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZWV4cHJlc3Npb24oKTtcbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRjMzk7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MCk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczEgPSBwZWckYzM0MihzMyk7XG4gICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckcGFyc2VsaXRlcmFsKCk7XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNCkgPT09IHBlZyRjMzQzKSB7XG4gICAgICAgICAgczEgPSBwZWckYzM0MztcbiAgICAgICAgICBwZWckY3VyclBvcyArPSA0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzQ0KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgICAgICAgczMgPSBwZWckcGFyc2VpZGVudGlmaWVyQ2hhcigpO1xuICAgICAgICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICBzMSA9IHBlZyRjMzQ1KCk7XG4gICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMCA9IHBlZyRwYXJzZWV4cF9pZCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlZXhwX2lkKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VxdWFsaWZpZWRfaWQoKTtcbiAgICBpZiAoczEgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMxID0gcGVnJHBhcnNlbmFtZSgpO1xuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgczEgPSBwZWckYzM0NihzMSk7XG4gICAgfVxuICAgIHMwID0gczE7XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VxdWFsaWZpZWRfaWQoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczM7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlbmVzdGVkX25hbWVfc3BlY2lmaWVyKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckcGFyc2VuYW1lKCk7XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgIHMxID0gcGVnJGMzNDcoczEsIHMzKTtcbiAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlbmVzdGVkX25hbWVfc3BlY2lmaWVyKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczU7XG5cbiAgICBzMCA9IFtdO1xuICAgIHMxID0gcGVnJGN1cnJQb3M7XG4gICAgczIgPSBwZWckcGFyc2V0eXBlX25hbWVfaWQoKTtcbiAgICBpZiAoczIgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNlaWRlbnRpZmllcigpO1xuICAgIH1cbiAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMzID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMzNDgpIHtcbiAgICAgICAgICBzNCA9IHBlZyRjMzQ4O1xuICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzNDkpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczUgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczE7XG4gICAgICAgICAgICBzMiA9IHBlZyRjMzUwKHMyKTtcbiAgICAgICAgICAgIHMxID0gczI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XG4gICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XG4gICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczE7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgd2hpbGUgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMwLnB1c2goczEpO1xuICAgICAgICBzMSA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzMiA9IHBlZyRwYXJzZXR5cGVfbmFtZV9pZCgpO1xuICAgICAgICBpZiAoczIgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMiA9IHBlZyRwYXJzZWlkZW50aWZpZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMyA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMzNDgpIHtcbiAgICAgICAgICAgICAgczQgPSBwZWckYzM0ODtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM0OSk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMxO1xuICAgICAgICAgICAgICAgIHMyID0gcGVnJGMzNTAoczIpO1xuICAgICAgICAgICAgICAgIHMxID0gczI7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcbiAgICAgICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XG4gICAgICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcbiAgICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcbiAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMzNDgpIHtcbiAgICAgICAgczEgPSBwZWckYzM0ODtcbiAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM0OSk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgIHMxID0gcGVnJGMzNTEoKTtcbiAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNldHlwZV9uYW1lX2lkKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VzaW1wbGVfdHlwZV9uYW1lKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgIHMxID0gcGVnJGMzNTIoczEpO1xuICAgIH1cbiAgICBzMCA9IHMxO1xuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlbmFtZSgpOiBhbnkge1xuICAgIGxldCBzMDtcblxuICAgIHMwID0gcGVnJHBhcnNlb3BlcmF0b3JfZnVuY3Rpb25faWQoKTtcbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJHBhcnNlaWRlbnRpZmllcigpO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZW9wZXJhdG9yX2Z1bmN0aW9uX2lkKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA4KSA9PT0gcGVnJGMzNTMpIHtcbiAgICAgIHMxID0gcGVnJGMzNTM7XG4gICAgICBwZWckY3VyclBvcyArPSA4O1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzU0KTsgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZW92ZXJsb2FkYWJsZV9vcCgpO1xuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICBzMSA9IHBlZyRjMzU1KHMzKTtcbiAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlb3ZlcmxvYWRhYmxlX29wKCk6IGFueSB7XG4gICAgbGV0IHMwO1xuXG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNSkgPT09IHBlZyRjMzU2KSB7XG4gICAgICBzMCA9IHBlZyRjMzU2O1xuICAgICAgcGVnJGN1cnJQb3MgKz0gNTtcbiAgICB9IGVsc2Uge1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM1Nyk7IH1cbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA4KSA9PT0gcGVnJGMzNTgpIHtcbiAgICAgICAgczAgPSBwZWckYzM1ODtcbiAgICAgICAgcGVnJGN1cnJQb3MgKz0gODtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM1OSk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAzKSA9PT0gcGVnJGMzMDEpIHtcbiAgICAgICAgICBzMCA9IHBlZyRjMzAxO1xuICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzMDIpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNikgPT09IHBlZyRjMzEyKSB7XG4gICAgICAgICAgICBzMCA9IHBlZyRjMzEyO1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gNjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzMxMyk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAzKSA9PT0gcGVnJGMyNzUpIHtcbiAgICAgICAgICAgICAgczAgPSBwZWckYzI3NTtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI3Nik7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAzKSA9PT0gcGVnJGMxOTYpIHtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMTk2O1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDM7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxOTcpOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMykgPT09IHBlZyRjMTk4KSB7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMTk4O1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE5OSk7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMxOTIpIHtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzE5MjtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE5Myk7IH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMxOTQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMTk0O1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxOTUpOyB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMTg2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMTg2O1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE4Nyk7IH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMxODgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzE4ODtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE4OSk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMxOTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMTkwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxOTEpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjA1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMjA1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIwNik7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzIwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIwMSk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMyMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMjEwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMTEpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjYwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMjYwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI2MSk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMyNjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzI2MjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI2Myk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMyNDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMjQ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNDUpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjQ2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMjQ2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI0Nyk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMyNTIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzI1MjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI1Myk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMyNTQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMjU0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNTUpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjI1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMjI1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIyNik7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMyMTkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzIxOTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIyMCk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMyNzgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMjc4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNzkpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMjgxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMjgxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI4Mik7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMzMzUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzMzNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzMzNik7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMzNjApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMzYwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzNjEpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMzYyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMzYyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM2Myk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGMyNjQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNjUpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGMyNjY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI2Nyk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMTU1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE1Nik7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGMyNjg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNjkpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGMyNzA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI3MSk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDk0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMjM2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIzNyk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDM4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGMxNTg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNTkpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAxMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMjMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMzEpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAxMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGM3NDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM3NSk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDMzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGMyOTM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyOTQpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2MSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGMxNDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE0MSk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDYwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjMjU2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI1Nyk7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDYyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGMyNTg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNTkpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGM2NjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNjcpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2V1bm92ZXJsb2FkYWJsZV9vcCgpOiBhbnkge1xuICAgIGxldCBzMDtcblxuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDYpIHtcbiAgICAgIHMwID0gcGVnJGMzMzI7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzMzKTsgfVxuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzI3Mykge1xuICAgICAgICBzMCA9IHBlZyRjMjczO1xuICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjc0KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzM0OCkge1xuICAgICAgICAgIHMwID0gcGVnJGMzNDg7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM0OSk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMzNjQpIHtcbiAgICAgICAgICAgIHMwID0gcGVnJGMzNjQ7XG4gICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzY1KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWxpdGVyYWwoKTogYW55IHtcbiAgICBsZXQgczAsIHMxO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWxpdGVyYWxfZmxvYXQoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgczEgPSBwZWckYzM2NihzMSk7XG4gICAgfVxuICAgIHMwID0gczE7XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczEgPSBwZWckcGFyc2VsaXRlcmFsX2ludCgpO1xuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMzY3KHMxKTtcbiAgICAgIH1cbiAgICAgIHMwID0gczE7XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgczEgPSBwZWckcGFyc2VsaXRlcmFsX2NoYXIoKTtcbiAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgczEgPSBwZWckYzM2OChzMSk7XG4gICAgICAgIH1cbiAgICAgICAgczAgPSBzMTtcbiAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgICBzMSA9IHBlZyRwYXJzZWxpdGVyYWxfc3RyaW5nKCk7XG4gICAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgIHMxID0gcGVnJGMzNjkoczEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgIHMxID0gcGVnJHBhcnNlbGl0ZXJhbF9ib29sZWFuKCk7XG4gICAgICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgIHMxID0gcGVnJGMzNzAoczEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VsaXRlcmFsX2ludCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NSkge1xuICAgICAgczEgPSBwZWckYzI2NjtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNjcpOyB9XG4gICAgfVxuICAgIGlmIChzMSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gW107XG4gICAgICBpZiAocGVnJGMzNzEudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICBzMyA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzNzIpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgd2hpbGUgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgICAgaWYgKHBlZyRjMzcxLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzNzIpOyB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMzNzMoczEsIHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VsaXRlcmFsX2Zsb2F0KCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ1KSB7XG4gICAgICBzMSA9IHBlZyRjMjY2O1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI2Nyk7IH1cbiAgICB9XG4gICAgaWYgKHMxID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMSA9IG51bGw7XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIGlmIChwZWckYzM3NC50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM3NSk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICB3aGlsZSAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgICBpZiAocGVnJGMzNzQudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgICAgczMgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM3NSk7IH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBwZWckY3VyclBvcztcbiAgICAgICAgczMgPSBwZWckYzM3NihzMSwgczIpO1xuICAgICAgICBpZiAoczMpIHtcbiAgICAgICAgICBzMyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgczEgPSBwZWckYzM3NyhzMSwgczIpO1xuICAgICAgICAgIHMwID0gczE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VsaXRlcmFsX2NoYXIoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczM7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMzkpIHtcbiAgICAgIHMxID0gcGVnJGMzNzg7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzc5KTsgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIGlmIChwZWckYzM4MC50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM4MSk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRwYXJzZWVzY2FwZSgpO1xuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMzkpIHtcbiAgICAgICAgICBzMyA9IHBlZyRjMzc4O1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzNzkpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgczEgPSBwZWckYzM4MihzMik7XG4gICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWxpdGVyYWxfc3RyaW5nKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDM0KSB7XG4gICAgICBzMSA9IHBlZyRjMzgzO1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM4NCk7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgaWYgKHBlZyRjMzg1LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgczMgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzg2KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlZXNjYXBlKCk7XG4gICAgICB9XG4gICAgICB3aGlsZSAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgIGlmIChwZWckYzM4NS50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgczMgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzODYpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBwZWckcGFyc2Vlc2NhcGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMzQpIHtcbiAgICAgICAgICBzMyA9IHBlZyRjMzgzO1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzODQpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgczEgPSBwZWckYzM4NyhzMik7XG4gICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWxpdGVyYWxfYm9vbGVhbigpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNCkgPT09IHBlZyRjMzg4KSB7XG4gICAgICBzMSA9IHBlZyRjMzg4O1xuICAgICAgcGVnJGN1cnJQb3MgKz0gNDtcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM4OSk7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRjdXJyUG9zO1xuICAgICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgICBzMyA9IHBlZyRwYXJzZWlkZW50aWZpZXJDaGFyKCk7XG4gICAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzM5MCgpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA1KSA9PT0gcGVnJGMzOTEpIHtcbiAgICAgICAgczEgPSBwZWckYzM5MTtcbiAgICAgICAgcGVnJGN1cnJQb3MgKz0gNTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM5Mik7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICAgICAgczMgPSBwZWckcGFyc2VpZGVudGlmaWVyQ2hhcigpO1xuICAgICAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMjtcbiAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgczEgPSBwZWckYzM5MygpO1xuICAgICAgICAgIHMwID0gczE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2Vlc2NhcGUoKTogYW55IHtcbiAgICBsZXQgczA7XG5cbiAgICBzMCA9IHBlZyRwYXJzZXNpbXBsZV9lc2NhcGUoKTtcbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJHBhcnNlb2N0YWxfZXNjYXBlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlc2ltcGxlX2VzY2FwZSgpOiBhbnkge1xuICAgIGxldCBzMDtcblxuICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzM5NCkge1xuICAgICAgczAgPSBwZWckYzM5NDtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzOTUpOyB9XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMzk2KSB7XG4gICAgICAgIHMwID0gcGVnJGMzOTY7XG4gICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzOTcpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMzk4KSB7XG4gICAgICAgICAgczAgPSBwZWckYzM5ODtcbiAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzk5KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzQwMCkge1xuICAgICAgICAgICAgczAgPSBwZWckYzQwMDtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MDEpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjNDAyKSB7XG4gICAgICAgICAgICAgIHMwID0gcGVnJGM0MDI7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MDMpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjNDA0KSB7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckYzQwNDtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDA1KTsgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzQwNikge1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzQwNjtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MDcpOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjNDA4KSB7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGM0MDg7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MDkpOyB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjNDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzQxMDtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDExKTsgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzQxMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzQxMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MTMpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjNDE0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGM0MTQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MTUpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjNDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckYzQxNjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDE3KTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlb2N0YWxfZXNjYXBlKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzO1xuXG4gICAgaWYgKHBlZyRjNDE4LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgIHMwID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MTkpOyB9XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIGlmIChwZWckYzQxOC50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgIHMxID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQxOSk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAocGVnJGM0MTgudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDE5KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMxID0gW3MxLCBzMl07XG4gICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIGlmIChwZWckYzQxOC50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgczEgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MTkpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKHBlZyRjNDE4LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MTkpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKHBlZyRjNDE4LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgICAgczMgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDE5KTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHMxID0gW3MxLCBzMiwgczNdO1xuICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWlkZW50aWZpZXIoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczM7XG5cbiAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlaWRlbnRpZmllckZpcnN0Q2hhcigpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIHMzID0gcGVnJHBhcnNlaWRlbnRpZmllckNoYXIoKTtcbiAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgczMgPSBwZWckcGFyc2VpZGVudGlmaWVyQ2hhcigpO1xuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjNDIxKHMxLCBzMik7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQyMCk7IH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VpZGVudGlmaWVyQ2hhcigpOiBhbnkge1xuICAgIGxldCBzMDtcblxuICAgIGlmIChwZWckYzQyMi50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICBzMCA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDIzKTsgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWlkZW50aWZpZXJGaXJzdENoYXIoKTogYW55IHtcbiAgICBsZXQgczA7XG5cbiAgICBpZiAocGVnJGM0MjQudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgczAgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQyNSk7IH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2V3cygpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMztcblxuICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBbXTtcbiAgICBpZiAocGVnJGM0MjcudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgczIgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQyOCk7IH1cbiAgICB9XG4gICAgd2hpbGUgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMS5wdXNoKHMyKTtcbiAgICAgIGlmIChwZWckYzQyNy50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQyOCk7IH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZWNvbW1lbnQoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMxID0gW3MxLCBzMiwgczNdO1xuICAgICAgICAgIHMwID0gczE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IFtdO1xuICAgICAgaWYgKHBlZyRjNDI3LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgczEgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDI4KTsgfVxuICAgICAgfVxuICAgICAgd2hpbGUgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMwLnB1c2goczEpO1xuICAgICAgICBpZiAocGVnJGM0MjcudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgIHMxID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDI4KTsgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQyNik7IH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VXUygpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMztcblxuICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2Vjb21tZW50KCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZVdTKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczEgPSBbczEsIHMyXTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczEgPSBbXTtcbiAgICAgIGlmIChwZWckYzQyNy50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQyOCk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICB3aGlsZSAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMS5wdXNoKHMyKTtcbiAgICAgICAgICBpZiAocGVnJGM0MjcudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgICAgczIgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQyOCk7IH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRwYXJzZWNvbW1lbnQoKTtcbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczEgPSBbczEsIHMyLCBzM107XG4gICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMwID0gW107XG4gICAgICAgIGlmIChwZWckYzQyNy50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgczEgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MjgpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgd2hpbGUgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMC5wdXNoKHMxKTtcbiAgICAgICAgICAgIGlmIChwZWckYzQyNy50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgICAgIHMxID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQyOCk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQyOSk7IH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VjbGFzc19zcGVjaWZpZXIoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3LCBzODtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VjbGFzc19oZWFkKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBwZWckc2F2ZWRQb3MgPSBwZWckY3VyclBvcztcbiAgICAgIHMyID0gcGVnJGM0MzAoczEpO1xuICAgICAgaWYgKHMyKSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAxMjMpIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJGMyOTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzMCk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczYgPSBbXTtcbiAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VtZW1iZXJfc3BlY2lmaWNhdGlvbigpO1xuICAgICAgICAgICAgICB3aGlsZSAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNi5wdXNoKHM3KTtcbiAgICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZW1lbWJlcl9zcGVjaWZpY2F0aW9uKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAxMjUpIHtcbiAgICAgICAgICAgICAgICAgICAgczggPSBwZWckYzMyO1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgczggPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzMpOyB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoczggIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGM0MzEoczEsIHM2KTtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VjbGFzc19oZWFkKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWNsYXNzX2tleSgpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2VXUygpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlaWRlbnRpZmllcigpO1xuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgIHM1ID0gcGVnJHBhcnNlV1MoKTtcbiAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNlYmFzZV9jbGF1c2UoKTtcbiAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzNDtcbiAgICAgICAgICAgICAgczUgPSBwZWckYzQzMihzMSwgczMsIHM2KTtcbiAgICAgICAgICAgICAgczQgPSBzNTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczQ7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNDtcbiAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM0ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICBzMSA9IHBlZyRjNDMzKHMxLCBzMywgczQpO1xuICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VjbGFzc19rZXkoKTogYW55IHtcbiAgICBsZXQgczA7XG5cbiAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA1KSA9PT0gcGVnJGM0MzQpIHtcbiAgICAgIHMwID0gcGVnJGM0MzQ7XG4gICAgICBwZWckY3VyclBvcyArPSA1O1xuICAgIH0gZWxzZSB7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDM1KTsgfVxuICAgIH1cbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDYpID09PSBwZWckYzQzNikge1xuICAgICAgICBzMCA9IHBlZyRjNDM2O1xuICAgICAgICBwZWckY3VyclBvcyArPSA2O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDM3KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDUpID09PSBwZWckYzQzOCkge1xuICAgICAgICAgIHMwID0gcGVnJGM0Mzg7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgKz0gNTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQzOSk7IH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZW1lbWJlcl9zcGVjaWZpY2F0aW9uKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNywgczg7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gW107XG4gICAgczIgPSBwZWckY3VyclBvcztcbiAgICBzMyA9IHBlZyRwYXJzZW1lbWJlcl9kZWNsYXJhdGlvbigpO1xuICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMyO1xuICAgICAgICBzMyA9IHBlZyRjNDQwKHMzKTtcbiAgICAgICAgczIgPSBzMztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczI7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMjtcbiAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICB3aGlsZSAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczEucHVzaChzMik7XG4gICAgICAgIHMyID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlbWVtYmVyX2RlY2xhcmF0aW9uKCk7XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMyO1xuICAgICAgICAgICAgczMgPSBwZWckYzQ0MChzMyk7XG4gICAgICAgICAgICBzMiA9IHMzO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMyO1xuICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICBzMSA9IHBlZyRjNDQxKHMxKTtcbiAgICB9XG4gICAgczAgPSBzMTtcbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBzMSA9IHBlZyRwYXJzZWFjY2Vzc19zcGVjaWZpZXIoKTtcbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNTgpIHtcbiAgICAgICAgICAgIHMzID0gcGVnJGMxNjtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNyk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczUgPSBbXTtcbiAgICAgICAgICAgICAgczYgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VtZW1iZXJfZGVjbGFyYXRpb24oKTtcbiAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczggPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgICAgIGlmIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczY7XG4gICAgICAgICAgICAgICAgICBzNyA9IHBlZyRjNDQyKHMxLCBzNyk7XG4gICAgICAgICAgICAgICAgICBzNiA9IHM3O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM2O1xuICAgICAgICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM2O1xuICAgICAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB3aGlsZSAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNS5wdXNoKHM2KTtcbiAgICAgICAgICAgICAgICBzNiA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlbWVtYmVyX2RlY2xhcmF0aW9uKCk7XG4gICAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzOCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICAgICAgICBpZiAoczggIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczY7XG4gICAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJGM0NDIoczEsIHM3KTtcbiAgICAgICAgICAgICAgICAgICAgczYgPSBzNztcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczY7XG4gICAgICAgICAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNjtcbiAgICAgICAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczEgPSBwZWckYzQ0MyhzMSwgczUpO1xuICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VhY2Nlc3Nfc3BlY2lmaWVyKCk6IGFueSB7XG4gICAgbGV0IHMwO1xuXG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNykgPT09IHBlZyRjNDQ0KSB7XG4gICAgICBzMCA9IHBlZyRjNDQ0O1xuICAgICAgcGVnJGN1cnJQb3MgKz0gNztcbiAgICB9IGVsc2Uge1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQ0NSk7IH1cbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA5KSA9PT0gcGVnJGM0NDYpIHtcbiAgICAgICAgczAgPSBwZWckYzQ0NjtcbiAgICAgICAgcGVnJGN1cnJQb3MgKz0gOTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQ0Nyk7IH1cbiAgICAgIH1cbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA2KSA9PT0gcGVnJGM0NDgpIHtcbiAgICAgICAgICBzMCA9IHBlZyRjNDQ4O1xuICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0NDkpOyB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VtZW1iZXJfZGVjbGFyYXRpb24oKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczY7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlZGVjbF9zcGVjaWZpZXJzKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRjdXJyUG9zO1xuICAgICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgICBzMyA9IHBlZyRwYXJzZWlkZW50aWZpZXIoKTtcbiAgICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMjtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2VtZW1iZXJfZGVjbGFyYXRvcl9saXN0KCk7XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA1OSkge1xuICAgICAgICAgICAgICAgIHM2ID0gcGVnJGMyNTtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjYpOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczEgPSBwZWckYzQ1MChzMSwgczQpO1xuICAgICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczEgPSBwZWckcGFyc2Vjb25zdHJ1Y3Rvcl9kZWZpbml0aW9uKCk7XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDU5KSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRjMjU7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjYpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczMgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgczEgPSBwZWckYzQ1MShzMSk7XG4gICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHMxID0gcGVnJHBhcnNlZGVzdHJ1Y3Rvcl9kZWZpbml0aW9uKCk7XG4gICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNTkpIHtcbiAgICAgICAgICAgICAgczMgPSBwZWckYzI1O1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjYpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczMgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMSA9IHBlZyRjNDUyKHMxKTtcbiAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgICBzMSA9IHBlZyRwYXJzZWZ1bmN0aW9uX2RlZmluaXRpb24oKTtcbiAgICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDU5KSB7XG4gICAgICAgICAgICAgICAgczMgPSBwZWckYzI1O1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNik7IH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzMyA9IG51bGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczEgPSBwZWckYzQ1MyhzMSk7XG4gICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZW1lbWJlcl9kZWNsYXJhdG9yX2xpc3QoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZW1lbWJlcl9kZWNsYXJhdG9yKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ0KSB7XG4gICAgICAgICAgczUgPSBwZWckYzY2O1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2Nyk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNyA9IHBlZyRwYXJzZW1lbWJlcl9kZWNsYXJhdG9yKCk7XG4gICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJGM2OChzMSwgczcpO1xuICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDQpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJGM2NjtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2Nyk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VtZW1iZXJfZGVjbGFyYXRvcigpO1xuICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzNCA9IHBlZyRjNjgoczEsIHM3KTtcbiAgICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGM2OShzMSwgczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZW1lbWJlcl9kZWNsYXJhdG9yKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczU7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlZGVjbGFyYXRvcigpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNjEpIHtcbiAgICAgICAgICBzMyA9IHBlZyRjMTQwO1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNDEpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0OCkge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRjNDU0O1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDU1KTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMSA9IHBlZyRjNDU2KHMxKTtcbiAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczEgPSBwZWckcGFyc2VkZWNsYXJhdG9yKCk7XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDYxKSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRjMTQwO1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE0MSk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMjEpID09PSBwZWckYzE0NCkge1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJGMxNDQ7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjE7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNDUpOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczEgPSBwZWckYzQ1NyhzMSk7XG4gICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHMxID0gcGVnJHBhcnNlZGVjbGFyYXRvcigpO1xuICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRwYXJzZWJyYWNlX29yX2VxdWFsX2luaXRpYWxpemVyKCk7XG4gICAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgIHMxID0gcGVnJGM0NTgoczEsIHMzKTtcbiAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczAgPSBwZWckcGFyc2VkZWNsYXJhdG9yKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2ViYXNlX2NsYXVzZSgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA1OCkge1xuICAgICAgczEgPSBwZWckYzE2O1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE3KTsgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZWJhc2Vfc3BlY2lmaWVyX2xpc3QoKTtcbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgczEgPSBwZWckYzQ1OShzMyk7XG4gICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZWJhc2Vfc3BlY2lmaWVyX2xpc3QoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZWJhc2Vfc3BlY2lmaWVyKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgIHM0ID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ0KSB7XG4gICAgICAgICAgczUgPSBwZWckYzY2O1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2Nyk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNiA9IHBlZyRwYXJzZXdzKCk7XG4gICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNyA9IHBlZyRwYXJzZWJhc2Vfc3BlY2lmaWVyKCk7XG4gICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJGM0NjAoczEsIHM3KTtcbiAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgczQgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ0KSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRjNjY7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNjcpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczYgPSBwZWckcGFyc2V3cygpO1xuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlYmFzZV9zcGVjaWZpZXIoKTtcbiAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczQgPSBwZWckYzQ2MChzMSwgczcpO1xuICAgICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzY5KHMxLCBzMik7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlYmFzZV9zcGVjaWZpZXIoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgNykgPT09IHBlZyRjNzgpIHtcbiAgICAgIHMxID0gcGVnJGM3ODtcbiAgICAgIHBlZyRjdXJyUG9zICs9IDc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM3OSk7IH1cbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZVdTKCk7XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgczQgPSBwZWckcGFyc2VhY2Nlc3Nfc3BlY2lmaWVyKCk7XG4gICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM1ID0gcGVnJHBhcnNlV1MoKTtcbiAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgczQgPSBwZWckYzQ2MShzNCk7XG4gICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZXF1YWxpZmllZF9jbGFzc19uYW1lKCk7XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgIHMxID0gcGVnJGM0NjIoczMsIHM0KTtcbiAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIHMxID0gcGVnJGN1cnJQb3M7XG4gICAgICBzMiA9IHBlZyRwYXJzZWFjY2Vzc19zcGVjaWZpZXIoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZVdTKCk7XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMxO1xuICAgICAgICAgIHMyID0gcGVnJGM0NjEoczIpO1xuICAgICAgICAgIHMxID0gczI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcbiAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczE7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCA3KSA9PT0gcGVnJGM3OCkge1xuICAgICAgICAgIHMyID0gcGVnJGM3ODtcbiAgICAgICAgICBwZWckY3VyclBvcyArPSA3O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNzkpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBwZWckcGFyc2VXUygpO1xuICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczQgPSBwZWckcGFyc2VxdWFsaWZpZWRfY2xhc3NfbmFtZSgpO1xuICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMSA9IHBlZyRjNDYyKHMxLCBzNCk7XG4gICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgICAgczEgPSBwZWckcGFyc2VhY2Nlc3Nfc3BlY2lmaWVyKCk7XG4gICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyID0gcGVnJHBhcnNlV1MoKTtcbiAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMzID0gcGVnJHBhcnNlcXVhbGlmaWVkX2NsYXNzX25hbWUoKTtcbiAgICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczEgPSBwZWckYzQ2MyhzMSwgczMpO1xuICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgIHMxID0gcGVnJHBhcnNlcXVhbGlmaWVkX2NsYXNzX25hbWUoKTtcbiAgICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgczEgPSBwZWckYzQ2NChzMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHMwID0gczE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VxdWFsaWZpZWRfY2xhc3NfbmFtZSgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VuZXN0ZWRfbmFtZV9zcGVjaWZpZXIoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNld3MoKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZWlkZW50aWZpZXIoKTtcbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgczEgPSBwZWckYzQ2NShzMSwgczMpO1xuICAgICAgICAgIHMwID0gczE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRwYXJzZWlkZW50aWZpZXIoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuXHJcbiAgICBmdW5jdGlvbiBjb21wb3NlQmluYXJ5T3AoZmlyc3Q6IGFueSwgcmVzdDogYW55LCBhc3NvYzogXCJsZWZ0XCIgfCBcInJpZ2h0XCIsIGV4cHJUeXBlOiBzdHJpbmcpIDogYW55IHtcclxuICAgICAgaWYoIXJlc3QgfHwgcmVzdC5sZW5ndGggPT09IDApe1xyXG4gICAgICAgIHJldHVybiBmaXJzdDtcclxuICAgICAgfVxyXG4gICAgICBpZiAoYXNzb2MgPT09IFwibGVmdFwiKXtcclxuICAgICAgICBsZXQgcmlnaHQgPSByZXN0LnBvcCgpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBjb25zdHJ1Y3RfdHlwZTogZXhwclR5cGUsXHJcbiAgICAgICAgICBvcGVyYXRvcjogcmlnaHRbMF0sXHJcbiAgICAgICAgICBsZWZ0OiBjb21wb3NlQmluYXJ5T3AoZmlyc3QsIHJlc3QsIGFzc29jLCBleHByVHlwZSksXHJcbiAgICAgICAgICByaWdodDogcmlnaHRbMV0sXHJcbiAgICAgICAgICBhc3NvY2lhdGl2aXR5OiBhc3NvY1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBlbHNle1xyXG4gICAgICAgIGxldCBsZWZ0ID0gcmVzdC5zaGlmdCgpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBjb25zdHJ1Y3RfdHlwZTogZXhwclR5cGUsXHJcbiAgICAgICAgICBvcGVyYXRvcjogbGVmdFswXSxcclxuICAgICAgICAgIGxlZnQ6IGZpcnN0LFxyXG4gICAgICAgICAgcmlnaHQ6IGNvbXBvc2VCaW5hcnlPcChsZWZ0WzFdLCByZXN0LCBhc3NvYywgZXhwclR5cGUpLFxyXG4gICAgICAgICAgYXNzb2NpYXRpdml0eTogYXNzb2NcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhYnNvcmIoZWF0ZXI6IGFueSwgZWF0ZW46IGFueSl7XHJcbiAgICAgIGlmICghZWF0ZW4peyByZXR1cm4gZWF0ZXI7IH1cclxuICAgICAgZm9yIChsZXQgYXR0ciBpbiBlYXRlbil7XHJcbiAgICAgICAgaWYoYXR0ciAhPSBcInN0YXJ0XCIgJiYgYXR0ciAhPSBcImVuZFwiKXtcclxuICAgICAgICAgIGVhdGVyW2F0dHJdID0gZWF0ZW5bYXR0cl07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBlYXRlcjtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB0cmFjayhvYmo6IGFueSwgbG9jYXRpb246IGFueSwgdGV4dDogc3RyaW5nKSB7XHJcbiAgICAgIG9iai5zb3VyY2UgPSB7XHJcbiAgICAgICAgbG9jYXRpb24gOiBsb2NhdGlvbixcclxuICAgICAgICBzdGFydCA6IGxvY2F0aW9uLnN0YXJ0Lm9mZnNldCxcclxuICAgICAgICB0ZXh0IDogdGV4dCxcclxuICAgICAgICBsaW5lIDogbG9jYXRpb24uc3RhcnQubGluZSxcclxuICAgICAgICBjb2x1bW4gOiBsb2NhdGlvbi5zdGFydC5jb2x1bW4sXHJcbiAgICAgICAgZW5kIDogbG9jYXRpb24uc3RhcnQub2Zmc2V0ICsgdGV4dC5sZW5ndGhcclxuICAgICAgfTtcclxuICAgICAgcmV0dXJuIG9iajtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwb3N0Zml4RXhwKG9wczogYW55LCBzdWI6IGFueSl7XHJcbiAgICAgIGlmKG9wcy5sZW5ndGggPT0gMCl7XHJcbiAgICAgICAgcmV0dXJuIHN1YjtcclxuICAgICAgfVxyXG4gICAgICBlbHNle1xyXG4gICAgICAgIGxldCBvcCA9IG9wcy5wb3AoKTtcclxuICAgICAgICBvcC5vcGVyYW5kID0gcG9zdGZpeEV4cChvcHMsIHN1Yik7XHJcbiAgICAgICAgcmV0dXJuIG9wO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IF91c2VyVHlwZU5hbWVzID0ge307XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0VXNlclR5cGVOYW1lcygpIDogYW55IHtcclxuICAgICAgLy9pZiAodHlwZW9mIFR5cGVzICE9PSBcInVuZGVmaW5lZFwiKXtcclxuICAgICAgLy8gIHJldHVybiBUeXBlcy51c2VyVHlwZU5hbWVzO1xyXG4gICAgICAvL31cclxuICAgICAgLy9lbHNle1xyXG4gICAgICAgIHJldHVybiBfdXNlclR5cGVOYW1lcztcclxuICAgICAgLy99XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaXNVc2VyVHlwZU5hbWUobmFtZTogc3RyaW5nKSB7XHJcbiAgICAgIHJldHVybiBnZXRVc2VyVHlwZU5hbWVzKClbbmFtZV07XHJcbiAgICB9XHJcblxyXG5cblxuICBwZWckcmVzdWx0ID0gcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uKCk7XG5cbiAgaWYgKHBlZyRyZXN1bHQgIT09IHBlZyRGQUlMRUQgJiYgcGVnJGN1cnJQb3MgPT09IGlucHV0Lmxlbmd0aCkge1xuICAgIHJldHVybiBwZWckcmVzdWx0O1xuICB9IGVsc2Uge1xuICAgIGlmIChwZWckcmVzdWx0ICE9PSBwZWckRkFJTEVEICYmIHBlZyRjdXJyUG9zIDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICBwZWckZmFpbChwZWckZW5kRXhwZWN0YXRpb24oKSk7XG4gICAgfVxuXG4gICAgdGhyb3cgcGVnJGJ1aWxkU3RydWN0dXJlZEVycm9yKFxuICAgICAgcGVnJG1heEZhaWxFeHBlY3RlZCxcbiAgICAgIHBlZyRtYXhGYWlsUG9zIDwgaW5wdXQubGVuZ3RoID8gaW5wdXQuY2hhckF0KHBlZyRtYXhGYWlsUG9zKSA6IG51bGwsXG4gICAgICBwZWckbWF4RmFpbFBvcyA8IGlucHV0Lmxlbmd0aFxuICAgICAgICA/IHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJG1heEZhaWxQb3MsIHBlZyRtYXhGYWlsUG9zICsgMSlcbiAgICAgICAgOiBwZWckY29tcHV0ZUxvY2F0aW9uKHBlZyRtYXhGYWlsUG9zLCBwZWckbWF4RmFpbFBvcylcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVBhcnNlT3B0aW9ucyB7XG4gIGZpbGVuYW1lPzogc3RyaW5nO1xuICBzdGFydFJ1bGU/OiBzdHJpbmc7XG4gIHRyYWNlcj86IGFueTtcbiAgW2tleTogc3RyaW5nXTogYW55O1xufVxuZXhwb3J0IHR5cGUgUGFyc2VGdW5jdGlvbiA9IChpbnB1dDogc3RyaW5nLCBvcHRpb25zPzogSVBhcnNlT3B0aW9ucykgPT4gYW55O1xuZXhwb3J0IGNvbnN0IHBhcnNlOiBQYXJzZUZ1bmN0aW9uID0gcGVnJHBhcnNlO1xuXG4iLCJcclxuaW1wb3J0IHtTeW50YXhFcnJvciwgcGFyc2UgYXMgY3BwX3BhcnNlfSBmcm9tIFwiLi4vcGFyc2UvY3BwX3BhcnNlclwiO1xyXG5pbXBvcnQgeyBOb3RlSGFuZGxlciwgTm90ZSwgTm90ZUtpbmQsIFN5bnRheE5vdGUsIENQUEVycm9yIH0gZnJvbSBcIi4vZXJyb3JzXCI7XHJcbmltcG9ydCB7IE11dGFibGUsIGFzTXV0YWJsZSwgYXNzZXJ0RmFsc2UsIGFzc2VydCB9IGZyb20gXCIuLi91dGlsL3V0aWxcIjtcclxuaW1wb3J0IHsgR2xvYmFsT2JqZWN0RGVmaW5pdGlvbiwgTGlua2VkRGVmaW5pdGlvbiwgRnVuY3Rpb25EZWZpbml0aW9uLCBDb21waWxlZEZ1bmN0aW9uRGVmaW5pdGlvbiwgQ29tcGlsZWRHbG9iYWxPYmplY3REZWZpbml0aW9uLCBEZWNsYXJhdGlvbkFTVE5vZGUsIERlY2xhcmF0aW9uLCBjcmVhdGVEZWNsYXJhdGlvbkZyb21BU1QgfSBmcm9tIFwiLi9kZWNsYXJhdGlvbnNcIjtcclxuaW1wb3J0IHsgTGlua2VkRW50aXR5LCBOYW1lc3BhY2VTY29wZSwgU3RhdGljRW50aXR5LCBTdHJpbmdMaXRlcmFsRW50aXR5LCBzZWxlY3RPdmVybG9hZGVkRGVmaW5pdGlvbiB9IGZyb20gXCIuL2VudGl0aWVzXCI7XHJcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tIFwiLi4vdXRpbC9vYnNlcnZlXCI7XHJcbmltcG9ydCB7IFRyYW5zbGF0aW9uVW5pdENvbnRleHQsIENQUENvbnN0cnVjdCwgY3JlYXRlVHJhbnNsYXRpb25Vbml0Q29udGV4dCwgUHJvZ3JhbUNvbnRleHQsIEdsb2JhbE9iamVjdEFsbG9jYXRvciwgQ29tcGlsZWRHbG9iYWxPYmplY3RBbGxvY2F0b3IgfSBmcm9tIFwiLi9jb25zdHJ1Y3RzXCI7XHJcbmltcG9ydCB7IEZ1bmN0aW9uQ2FsbCB9IGZyb20gXCIuL2Z1bmN0aW9uQ2FsbFwiO1xyXG5cclxuXHJcblxyXG4vL1RPRE86IFJlbW92ZSB0aGlzIG9uY2UgSSdtIGNvbmZpZGVudCBJIGRvbid0IG5lZWQgaXRcclxuLy8gdmFyIENvbXBvdW5kTm90ZUhhbmRsZXIgPSBOb3RlSGFuZGxlci5leHRlbmQoe1xyXG4vLyAgICAgX25hbWUgOiBcIkNvbXBvdW5kTm90ZUhhbmRsZXJcIixcclxuLy9cclxuLy8gICAgIGluc3RhbmNlIDogZnVuY3Rpb24oaGFuZGxlcjEsIGhhbmRsZXIyKSB7XHJcbi8vICAgICAgICAgaWYgKCFoYW5kbGVyMSkge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gaGFuZGxlcjI7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGlmICghaGFuZGxlcjIpIHtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXIxO1xyXG4vLyAgICAgICAgIH1cclxuLy9cclxuLy8gICAgICAgICByZXR1cm4gdGhpcy5fY2xhc3MuX3BhcmVudC5pbnN0YW5jZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4vLyAgICAgfSxcclxuLy9cclxuLy8gICAgIC8qKlxyXG4vLyAgICAgICpcclxuLy8gICAgICAqIEBwYXJhbSB7Tm90ZUhhbmRsZXJ9IGhhbmRsZXIxXHJcbi8vICAgICAgKiBAcGFyYW0ge05vdGVIYW5kbGVyfSBoYW5kbGVyMlxyXG4vLyAgICAgICovXHJcbi8vICAgICBpbml0IDogZnVuY3Rpb24oaGFuZGxlcjEsIGhhbmRsZXIyKSB7XHJcbi8vICAgICAgICAgdGhpcy5pX2hhbmRsZXIxID0gaGFuZGxlcjE7XHJcbi8vICAgICAgICAgdGhpcy5pX2hhbmRsZXIyID0gaGFuZGxlcjI7XHJcbi8vICAgICB9LFxyXG4vL1xyXG4vLyAgICAgLyoqXHJcbi8vICAgICAgKlxyXG4vLyAgICAgICogQHBhcmFtIHtQcmVwcm9jZXNzb3JOb3RlfSBub3RlXHJcbi8vICAgICAgKi9cclxuLy8gICAgIHByZXByb2Nlc3Nvck5vdGUgOiBmdW5jdGlvbihub3RlKSB7XHJcbi8vICAgICAgICAgdGhpcy5pX2hhbmRsZXIxLnByZXByb2Nlc3Nvck5vdGUobm90ZSk7XHJcbi8vICAgICAgICAgdGhpcy5pX2hhbmRsZXIyLnByZXByb2Nlc3Nvck5vdGUobm90ZSk7XHJcbi8vICAgICB9LFxyXG4vL1xyXG4vL1xyXG4vLyAgICAgLyoqXHJcbi8vICAgICAgKlxyXG4vLyAgICAgICogQHBhcmFtIHtDb21waWxlck5vdGV9IG5vdGVcclxuLy8gICAgICAqL1xyXG4vLyAgICAgY29tcGlsZXJOb3RlIDogZnVuY3Rpb24obm90ZSkge1xyXG4vLyAgICAgICAgIHRoaXMuaV9oYW5kbGVyMS5jb21waWxlck5vdGUobm90ZSk7XHJcbi8vICAgICAgICAgdGhpcy5pX2hhbmRsZXIyLmNvbXBpbGVyTm90ZShub3RlKTtcclxuLy8gICAgIH0sXHJcbi8vXHJcbi8vXHJcbi8vXHJcbi8vICAgICAvKipcclxuLy8gICAgICAqXHJcbi8vICAgICAgKiBAcGFyYW0ge0xpbmtlck5vdGV9IG5vdGVcclxuLy8gICAgICAqL1xyXG4vLyAgICAgbGlua2VyTm90ZSA6IGZ1bmN0aW9uKG5vdGUpIHtcclxuLy8gICAgICAgICB0aGlzLmlfaGFuZGxlcjEubGlua2VyTm90ZShub3RlKTtcclxuLy8gICAgICAgICB0aGlzLmlfaGFuZGxlcjIubGlua2VyTm90ZShub3RlKTtcclxuLy8gICAgIH1cclxuLy9cclxuLy9cclxuLy8gfSk7XHJcblxyXG5leHBvcnQgY2xhc3MgTm90ZVJlY29yZGVyIGltcGxlbWVudHMgTm90ZUhhbmRsZXIge1xyXG4gICAgXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9hbGxOb3RlczogTm90ZVtdID0gW107XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgYWxsTm90ZXM6IHJlYWRvbmx5IE5vdGVbXSA9IHRoaXMuX2FsbE5vdGVzO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBoYXNFcnJvcnM6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBoYXNTeW50YXhFcnJvcnM6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBoYXNXYXJuaW5nczogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIHB1YmxpYyBhZGROb3RlKG5vdGU6IE5vdGUpIHtcclxuICAgICAgICB0aGlzLl9hbGxOb3Rlcy5wdXNoKG5vdGUpO1xyXG5cclxuICAgICAgICBsZXQgX3RoaXMgPSAoPE11dGFibGU8dGhpcz4+dGhpcyk7XHJcblxyXG4gICAgICAgIGlmIChub3RlLmtpbmQgPT09IE5vdGVLaW5kLkVSUk9SKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmhhc0Vycm9ycyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBpZiAobm90ZSBpbnN0YW5jZW9mIFN5bnRheE5vdGUpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmhhc1N5bnRheEVycm9ycyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobm90ZS5raW5kID09PSBOb3RlS2luZC5XQVJOSU5HKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmhhc1dhcm5pbmdzID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZE5vdGVzKG5vdGVzOiByZWFkb25seSBOb3RlW10pIHtcclxuICAgICAgICBub3Rlcy5mb3JFYWNoKChub3RlKSA9PiB0aGlzLmFkZE5vdGUobm90ZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbGVhck5vdGVzKCkge1xyXG4gICAgICAgIHRoaXMuX2FsbE5vdGVzLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgbGV0IF90aGlzID0gKDxNdXRhYmxlPHRoaXM+PnRoaXMpO1xyXG4gICAgICAgIF90aGlzLmhhc0Vycm9ycyA9IGZhbHNlO1xyXG4gICAgICAgIF90aGlzLmhhc1N5bnRheEVycm9ycyA9IGZhbHNlO1xyXG4gICAgICAgIF90aGlzLmhhc1dhcm5pbmdzID0gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICpcclxuICogVGhlIHByb2dyYW0gYWxzbyBuZWVkcyB0byBrbm93IGFib3V0IGFsbCBzb3VyY2UgZmlsZXMgaW52b2x2ZWQgc28gdGhhdCAjaW5jbHVkZSBwcmVwcm9jZXNzb3JcclxuICogZGlyZWN0aXZlcyBjYW4gYmUgcHJvY2Vzc2VkLlxyXG4gKlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFByb2dyYW0ge1xyXG4gICAgXHJcbiAgICAvLyBwdWJsaWMgcmVhZG9ubHkgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKHRoaXMpO1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29udGV4dDogUHJvZ3JhbUNvbnRleHQgPSB7cHJvZ3JhbTogdGhpc307XHJcbiAgICBcclxuICAgIHB1YmxpYyByZWFkb25seSBpc0NvbXBpbGF0aW9uVXBUb0RhdGU6IGJvb2xlYW4gPSB0cnVlO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBzb3VyY2VGaWxlcyA6IHsgW2luZGV4OiBzdHJpbmddOiBTb3VyY2VGaWxlIH0gPSB7fTtcclxuICAgIHB1YmxpYyByZWFkb25seSB0cmFuc2xhdGlvblVuaXRzIDogeyBbaW5kZXg6IHN0cmluZ106IFRyYW5zbGF0aW9uVW5pdCB9ID0ge307XHJcbiAgICBcclxuICAgIHB1YmxpYyByZWFkb25seSBnbG9iYWxPYmplY3RzOiByZWFkb25seSBHbG9iYWxPYmplY3REZWZpbml0aW9uW10gPSBbXTtcclxuICAgIHB1YmxpYyByZWFkb25seSBnbG9iYWxPYmplY3RBbGxvY2F0b3IhOiBHbG9iYWxPYmplY3RBbGxvY2F0b3I7XHJcbiAgICBcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgZnVuY3Rpb25DYWxsczogcmVhZG9ubHkgRnVuY3Rpb25DYWxsW10gPSBbXTtcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IGRlZmluaXRpb25zOiB7XHJcbiAgICAgICAgW2luZGV4OiBzdHJpbmddIDogTGlua2VkRGVmaW5pdGlvblxyXG4gICAgfSA9IHt9O1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBsaW5rZWRFbnRpdGllczogcmVhZG9ubHkgTGlua2VkRW50aXR5W10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbm90ZXMgPSBuZXcgTm90ZVJlY29yZGVyKCk7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IG1haW5GdW5jdGlvbj86IEZ1bmN0aW9uRGVmaW5pdGlvbjtcclxuXHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHNvdXJjZUZpbGVzOiByZWFkb25seSBTb3VyY2VGaWxlW10sIHRyYW5zbGF0aW9uVW5pdHM6IHJlYWRvbmx5IHN0cmluZ1tdKSB7XHJcblxyXG4gICAgICAgIHNvdXJjZUZpbGVzLmZvckVhY2goZmlsZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc291cmNlRmlsZXNbZmlsZS5uYW1lXSA9IGZpbGU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRyYW5zbGF0aW9uVW5pdHMuZm9yRWFjaCgodHVOYW1lKSA9PiB7XHJcbiAgICAgICAgICAgIGFzc2VydCghIXRoaXMuc291cmNlRmlsZXNbdHVOYW1lXSwgYFNvdXJjZSBmaWxlICR7dHVOYW1lfSBub3QgZm91bmQuYCk7XHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNsYXRpb25Vbml0c1t0dU5hbWVdID0gbmV3IFRyYW5zbGF0aW9uVW5pdCh0aGlzLFxyXG4gICAgICAgICAgICAgICAgbmV3IFByZXByb2Nlc3NlZFNvdXJjZSh0aGlzLnNvdXJjZUZpbGVzW3R1TmFtZV0sIHRoaXMuc291cmNlRmlsZXMpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBmb3IobGV0IHR1TmFtZSBpbiB0aGlzLnRyYW5zbGF0aW9uVW5pdHMpIHtcclxuICAgICAgICAgICAgbGV0IHR1ID0gdGhpcy50cmFuc2xhdGlvblVuaXRzW3R1TmFtZV07XHJcbiAgICAgICAgICAgIHRoaXMubm90ZXMuYWRkTm90ZXModHUubm90ZXMuYWxsTm90ZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoIXRoaXMubm90ZXMuaGFzU3ludGF4RXJyb3JzKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGluaygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgKDxNdXRhYmxlPHRoaXM+PnRoaXMpLmlzQ29tcGlsYXRpb25VcFRvRGF0ZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gYWRkU291cmNlRmlsZSA6IGZ1bmN0aW9uKHNvdXJjZUZpbGUpIHtcclxuICAgIC8vICAgICBhc3NlcnQoIXRoaXMuaV9zb3VyY2VGaWxlc1tzb3VyY2VGaWxlLmdldE5hbWUoKV0pO1xyXG4gICAgLy8gICAgIHRoaXMuaV9zb3VyY2VGaWxlc1tzb3VyY2VGaWxlLmdldE5hbWUoKV0gPSBzb3VyY2VGaWxlO1xyXG4gICAgLy8gICAgIHRoaXMubGlzdGVuVG8oc291cmNlRmlsZSk7XHJcbiAgICAvLyAgICAgdGhpcy5zZW5kKFwic291cmNlRmlsZUFkZGVkXCIsIHNvdXJjZUZpbGUpO1xyXG4gICAgLy8gfSxcclxuXHJcbiAgICAvLyByZW1vdmVTb3VyY2VGaWxlIDogZnVuY3Rpb24oc291cmNlRmlsZSkge1xyXG4gICAgLy8gICAgIGlmICh0eXBlb2Ygc291cmNlRmlsZSAhPT0gXCJzdHJpbmdcIil7XHJcbiAgICAvLyAgICAgICAgIHNvdXJjZUZpbGUgPSBzb3VyY2VGaWxlLmdldE5hbWUoKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgaWYodGhpcy5pX3NvdXJjZUZpbGVzW3NvdXJjZUZpbGVdKXtcclxuICAgIC8vICAgICAgICAgZGVsZXRlIHRoaXMuaV9zb3VyY2VGaWxlc1tzb3VyY2VGaWxlXTtcclxuICAgIC8vICAgICB9XHJcblxyXG4gICAgLy8gICAgIHRoaXMuc3RvcExpc3RlbmluZ1RvKHNvdXJjZUZpbGUpO1xyXG5cclxuICAgIC8vICAgICAvLyBBbHNvIHJlbW92ZSBhbnkgYXNzb2NpYXRlZCB0cmFuc2xhdGlvbiB1bml0IChpZiBpdCBleGlzdHMpXHJcbiAgICAvLyAgICAgdGhpcy5yZW1vdmVUcmFuc2xhdGlvblVuaXQoc291cmNlRmlsZSk7XHJcbiAgICAvLyAgICAgdGhpcy5zZW5kKFwic291cmNlRmlsZVJlbW92ZWRcIiwgc291cmNlRmlsZSk7XHJcbiAgICAvLyB9LFxyXG5cclxuICAgIC8vIGdldFNvdXJjZUZpbGUgOiBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuaV9zb3VyY2VGaWxlc1tuYW1lXTtcclxuICAgIC8vIH0sXHJcblxyXG4gICAgLy8gZ2V0U291cmNlRmlsZXMgOiBmdW5jdGlvbigpIHtcclxuICAgIC8vICAgICByZXR1cm4gdGhpcy5pX3NvdXJjZUZpbGVzO1xyXG4gICAgLy8gfSxcclxuXHJcbiAgICAvLyBjcmVhdGVUcmFuc2xhdGlvblVuaXRGb3JTb3VyY2VGaWxlIDogZnVuY3Rpb24oc291cmNlRmlsZU5hbWUpIHtcclxuICAgIC8vICAgICBpZiAodHlwZW9mIHNvdXJjZUZpbGVOYW1lICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAvLyAgICAgICAgIHNvdXJjZUZpbGVOYW1lID0gc291cmNlRmlsZU5hbWUuZ2V0TmFtZSgpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBhc3NlcnQodGhpcy5pX3NvdXJjZUZpbGVzW3NvdXJjZUZpbGVOYW1lXSk7XHJcbiAgICAvLyAgICAgYXNzZXJ0KCF0aGlzLmlfdHJhbnNsYXRpb25Vbml0c1tzb3VyY2VGaWxlTmFtZV0pO1xyXG5cclxuICAgIC8vICAgICB2YXIgdHUgPSBUcmFuc2xhdGlvblVuaXQuaW5zdGFuY2UodGhpcywgdGhpcy5pX3NvdXJjZUZpbGVzW3NvdXJjZUZpbGVOYW1lXSk7XHJcbiAgICAvLyAgICAgdGhpcy5pX3RyYW5zbGF0aW9uVW5pdHNbdHUuZ2V0TmFtZSgpXSA9IHR1O1xyXG5cclxuICAgIC8vICAgICB0aGlzLmlfc2V0Q29tcGlsYXRpb25VcFRvRGF0ZShmYWxzZSk7XHJcblxyXG4gICAgLy8gICAgIHRoaXMuc2VuZChcInRyYW5zbGF0aW9uVW5pdENyZWF0ZWRcIiwgdHUpO1xyXG4gICAgLy8gICAgIHJldHVybiB0dTtcclxuICAgIC8vIH0sXHJcblxyXG4gICAgLy8gcmVtb3ZlVHJhbnNsYXRpb25Vbml0IDogZnVuY3Rpb24odHJhbnNsYXRpb25Vbml0KSB7XHJcbiAgICAvLyAgICAgaWYgKHR5cGVvZiB0cmFuc2xhdGlvblVuaXQgIT09IFwic3RyaW5nXCIpe1xyXG4gICAgLy8gICAgICAgICB0cmFuc2xhdGlvblVuaXQgPSB0cmFuc2xhdGlvblVuaXQuZ2V0TmFtZSgpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBpZih0aGlzLmlfdHJhbnNsYXRpb25Vbml0c1t0cmFuc2xhdGlvblVuaXRdKXtcclxuICAgIC8vICAgICAgICAgZGVsZXRlIHRoaXMuaV90cmFuc2xhdGlvblVuaXRzW3RyYW5zbGF0aW9uVW5pdF07XHJcbiAgICAvLyAgICAgfVxyXG5cclxuICAgIC8vICAgICB0aGlzLmlfc2V0Q29tcGlsYXRpb25VcFRvRGF0ZShmYWxzZSk7XHJcblxyXG4gICAgLy8gICAgIHRoaXMuc2VuZChcInRyYW5zbGF0aW9uVW5pdFJlbW92ZWRcIiwgdHJhbnNsYXRpb25Vbml0KTtcclxuICAgIC8vIH0sXHJcblxyXG4gICAgLy8gZ2V0VHJhbnNsYXRpb25Vbml0IDogZnVuY3Rpb24obmFtZSkge1xyXG4gICAgLy8gICAgIHJldHVybiB0aGlzLmlfdHJhbnNsYXRpb25Vbml0c1tuYW1lXTtcclxuICAgIC8vIH0sXHJcblxyXG4gICAgLy8gZ2V0VHJhbnNsYXRpb25Vbml0cyA6IGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gICAgIHJldHVybiB0aGlzLmlfdHJhbnNsYXRpb25Vbml0cztcclxuICAgIC8vIH0sXHJcblxyXG4gICAgLy8gYWRkU3RhdGljRW50aXR5IDogZnVuY3Rpb24oZW50KXtcclxuICAgIC8vICAgICB0aGlzLnN0YXRpY0VudGl0aWVzLnB1c2goZW50KTtcclxuICAgIC8vIH0sXHJcblxyXG4gICAgcHJpdmF0ZSBsaW5rKCkge1xyXG4gICAgICAgIC8vIHRoaXMuc2VuZChcImxpbmtpbmdTdGFydGVkXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmRlZmluZUludHJpbnNpY3MoKTtcclxuXHJcbiAgICAgICAgLy8gUHJvdmlkZSBkZWZpbml0aW9ucyB0byBlYWNoIGxpbmtlZCBlbnRpdHkgYmFzZWQgb24gcXVhbGlmaWVkIG5hbWUuXHJcbiAgICAgICAgLy8gTm90ZSB0aGF0IHRoZSBkZWZpbml0aW9uIHByb3ZpZGVkIG1pZ2h0IG5vdCBtYXRjaCBhdCBhbGwgb3IgbWlnaHRcclxuICAgICAgICAvLyBiZSB1bmRlZmluZWQgaWYgdGhlcmUgd2FzIG5vIG1hdGNoIGZvciB0aGUgcXVhbGlmaWVkIG5hbWUuIFRoZSBlbnRpdGllc1xyXG4gICAgICAgIC8vIHdpbGwgdGFrZSBjYXJlIG9mIGFkZGluZyB0aGUgYXBwcm9wcmlhdGUgbGlua2VyIGVycm9ycyBpbiB0aGVzZSBjYXNlcy5cclxuICAgICAgICB0aGlzLmxpbmtlZEVudGl0aWVzLmZvckVhY2gobGUgPT4gXHJcbiAgICAgICAgICAgIGxlLmxpbmsodGhpcy5kZWZpbml0aW9uc1tsZS5xdWFsaWZpZWROYW1lXSlcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBsZXQgbWFpbiA9IHRoaXMuZGVmaW5pdGlvbnNbXCI6Om1haW5cIl07XHJcbiAgICAgICAgaWYgKG1haW4gaW5zdGFuY2VvZiBGdW5jdGlvbkRlZmluaXRpb24pIHtcclxuICAgICAgICAgICAgKDxNdXRhYmxlPHRoaXM+PnRoaXMpLm1haW5GdW5jdGlvbiA9IG1haW47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAoPE11dGFibGU8dGhpcz4+dGhpcykuZ2xvYmFsT2JqZWN0QWxsb2NhdG9yID0gbmV3IEdsb2JhbE9iamVjdEFsbG9jYXRvcih0aGlzLmNvbnRleHQsIHRoaXMuZ2xvYmFsT2JqZWN0cyk7XHJcbiAgICAgICAgLy9sb29rIGZvciBtYWluIC0gVE9ETzogdGhpcyBzaG91bGQganVzdCBiZSBhIHByZXJlcXVpc2l0ZSBmb3IgYWN0dWFsbHkgc2ltdWxhdGluZy5cclxuICAgICAgICAvLyBJIHRoaW5rIGl0J3MgYSBiaXQgYW5ub3lpbmcgdGhhdCBhIHByb2dyYW0gd2l0aG91dCBtYWluIG5lY2Vzc2FyaWx5IGhhcyB0aGlzIGVycm9yLlxyXG4gICAgICAgIC8vIHRyeXtcclxuICAgICAgICAvLyAgICAgdGhpcy5pX21haW4gPSB0aGlzLmlfZ2xvYmFsU2NvcGUucmVxdWlyZWRMb29rdXAoXCJtYWluXCIsIHtwYXJhbVR5cGVzOiBbXX0pO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBjYXRjaChlKXtcclxuICAgICAgICAvLyAgICAgaWYgKGlzQShlLCBTZW1hbnRpY0V4Y2VwdGlvbnMuQmFkTG9va3VwKSl7XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLmFkZE5vdGUoZS5hbm5vdGF0aW9uKCkpO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gICAgIGVsc2V7XHJcbiAgICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhlLnN0YWNrKTtcclxuICAgICAgICAvLyAgICAgICAgIHRocm93IGU7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIC8vIHRoaXMuc2VuZChcImxpbmtpbmdGaW5pc2hlZFwiKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkZWZpbmVJbnRyaW5zaWNzKCkge1xyXG4gICAgICAgIC8vIFRPRE9cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVnaXN0ZXJMaW5rZWRFbnRpdHkoZW50aXR5OiBMaW5rZWRFbnRpdHkpIHtcclxuICAgICAgICBhc011dGFibGUodGhpcy5saW5rZWRFbnRpdGllcykucHVzaChlbnRpdHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWdpc3Rlckdsb2JhbE9iamVjdERlZmluaXRpb24ocXVhbGlmaWVkTmFtZTogc3RyaW5nLCBkZWY6IEdsb2JhbE9iamVjdERlZmluaXRpb24pIHtcclxuICAgICAgICBpZiAoIXRoaXMuZGVmaW5pdGlvbnNbcXVhbGlmaWVkTmFtZV0pIHtcclxuICAgICAgICAgICAgdGhpcy5kZWZpbml0aW9uc1txdWFsaWZpZWROYW1lXSA9IGRlZjtcclxuICAgICAgICAgICAgYXNNdXRhYmxlKHRoaXMuZ2xvYmFsT2JqZWN0cykucHVzaChkZWYpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gT25lIGRlZmluaXRpb24gcnVsZSB2aW9sYXRpb25cclxuICAgICAgICAgICAgdGhpcy5ub3Rlcy5hZGROb3RlKENQUEVycm9yLmxpbmsubXVsdGlwbGVfZGVmKGRlZiwgcXVhbGlmaWVkTmFtZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVnaXN0ZXJGdW5jdGlvbkRlZmluaXRpb24ocXVhbGlmaWVkTmFtZTogc3RyaW5nLCBkZWY6IEZ1bmN0aW9uRGVmaW5pdGlvbikge1xyXG4gICAgICAgIGxldCBwcmV2RGVmID0gdGhpcy5kZWZpbml0aW9uc1txdWFsaWZpZWROYW1lXTtcclxuICAgICAgICBpZiAoIXByZXZEZWYpIHtcclxuICAgICAgICAgICAgdGhpcy5kZWZpbml0aW9uc1txdWFsaWZpZWROYW1lXSA9IFtkZWZdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghQXJyYXkuaXNBcnJheShwcmV2RGVmKSkge1xyXG4gICAgICAgICAgICAvLyBQcmV2aW91cyBkZWZpbml0aW9uIHRoYXQgaXNuJ3QgYSBmdW5jdGlvbiBvdmVybG9hZCBncm91cFxyXG4gICAgICAgICAgICB0aGlzLm5vdGVzLmFkZE5vdGUoQ1BQRXJyb3IubGluay5tdWx0aXBsZV9kZWYoZGVmLCBxdWFsaWZpZWROYW1lKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBBbHJlYWR5IHNvbWUgZGVmaW5pdGlvbnMgZm9yIGZ1bmN0aW9ucyB3aXRoIHRoaXMgc2FtZSBuYW1lLiBDaGVjayBpZiB0aGVyZSdzXHJcbiAgICAgICAgICAgIC8vIGEgY29uZmxpY3Rpbmcgb3ZlcmxvYWQgdGhhdCB2aW9sYXRlcyBPRFJcclxuICAgICAgICAgICAgbGV0IGNvbmZsaWN0aW5nRGVmID0gc2VsZWN0T3ZlcmxvYWRlZERlZmluaXRpb24ocHJldkRlZiwgZGVmLmRlY2xhcmF0aW9uLnR5cGUpO1xyXG4gICAgICAgICAgICBpZiAoY29uZmxpY3RpbmdEZWYpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubm90ZXMuYWRkTm90ZShDUFBFcnJvci5saW5rLm11bHRpcGxlX2RlZihkZWYsIHF1YWxpZmllZE5hbWUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHByZXZEZWYucHVzaChkZWYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgLy8gLy9UT0RPOiBQcm9ncmFtIGl0c2VsZiBzaG91bGQganVzdCByZWdpc3RlciBhbGwgdGhlIGZ1bmN0aW9uIGNhbGxzIGluIGl0cyB0cmFuc2xhdGlvbiB1bml0cy5cclxuICAgIC8vIC8vICAgICAgSG93ZXZlciwgZG9uJ3Qgc3BlbmQgdGltZSBvbiB0aGlzIHVudGlsIGZpZ3VyaW5nIG91dCB3aGVyZSB0aGUgbGlzdCBvZiBmdW5jdGlvbiBjYWxsc1xyXG4gICAgLy8gLy8gICAgICBpcyB1c2VkLiBJIHRoaW5rIGl0IHdhcyB1c2VkIGFzIHBhcnQgb2YgbGlua2luZyB0byBlbnN1cmUgYWxsIGZ1bmN0aW9uIGNhbGxzIGFyZSBkZWZpbmVkLFxyXG4gICAgLy8gLy8gICAgICBidXQgd2hlbiBsaW5raW5nIGlzIG1vcmUgcHJvcGVybHkgaW1wbGVtZW50ZWQsIEkgcmVhbGx5IG5lZWQgdG8gY2hlY2sgdGhhdCBldmVyeXRoaW5nIHdpdGhcclxuICAgIC8vIC8vICAgICAgbGlua2FnZSAodGhhdCBpcyBvZHItdXNlZCkgYWN0dWFsbHkgaGFzIGEgZGVmaW5pdGlvbi5cclxuICAgIC8vIHJlZ2lzdGVyRnVuY3Rpb25DYWxsIDogZnVuY3Rpb24oY2FsbCkge1xyXG4gICAgLy8gICAgIHRoaXMuaV9mdW5jdGlvbkNhbGxzLnB1c2goY2FsbCk7XHJcbiAgICAvLyB9LFxyXG5cclxuICAgIC8vIF9hY3QgOiB7XHJcbiAgICAvLyAgICAgdGV4dENoYW5nZWQgOiBmdW5jdGlvbihtc2cpIHtcclxuICAgIC8vICAgICAgICAgaWYgKHRoaXMuaV9pbmNsdWRlZFNvdXJjZUZpbGVzW21zZy5zb3VyY2UuZ2V0TmFtZSgpXSkge1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5pX3NldENvbXBpbGF0aW9uVXBUb0RhdGUoZmFsc2UpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG59O1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZFByb2dyYW0gZXh0ZW5kcyBQcm9ncmFtIHtcclxuICAgIHJlYWRvbmx5IG1haW5GdW5jdGlvbjogQ29tcGlsZWRGdW5jdGlvbkRlZmluaXRpb247XHJcbiAgICByZWFkb25seSBnbG9iYWxPYmplY3RzOiByZWFkb25seSBDb21waWxlZEdsb2JhbE9iamVjdERlZmluaXRpb25bXTtcclxuICAgIHJlYWRvbmx5IGdsb2JhbE9iamVjdEFsbG9jYXRvcjogQ29tcGlsZWRHbG9iYWxPYmplY3RBbGxvY2F0b3I7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTb3VyY2VGaWxlIHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKHRoaXMpO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGV4dDogc3RyaW5nO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHRleHQ6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gc2V0VGV4dCA6IGZ1bmN0aW9uKHRleHQpIHtcclxuICAgIC8vICAgICB0aGlzLmlfdGV4dCA9IHRleHQ7XHJcbiAgICAvLyAgICAgdGhpcy5zZW5kKFwidGV4dENoYW5nZWRcIik7XHJcbiAgICAvLyB9LFxyXG5cclxufVxyXG5cclxuaW50ZXJmYWNlIFNvdXJjZVJlZmVyZW5jZUluY2x1ZGUge1xyXG4gICAgc291cmNlRmlsZTogU291cmNlRmlsZTtcclxuICAgIGxpbmVJbmNsdWRlZDogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU291cmNlUmVmZXJlbmNlIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSB3cmFwcGVyIHRvIHJlcHJlc2VudCBhIHJlZmVyZW5jZSB0byBzb3VyY2UgY29kZSB0aGF0IGhhcyBiZWVuIGluY2x1ZGVkIGluIGFub3RoZXIgZmlsZS5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVJbmNsdWRlZChzb3VyY2VGaWxlOiBTb3VyY2VGaWxlLCBsaW5lSW5jbHVkZWQ6IG51bWJlciwgb3JpZ2luYWxSZWZlcmVuY2U6IFNvdXJjZVJlZmVyZW5jZSkge1xyXG4gICAgICAgIHZhciBvYmogPSBuZXcgU291cmNlUmVmZXJlbmNlKG9yaWdpbmFsUmVmZXJlbmNlLnNvdXJjZUZpbGUsIG9yaWdpbmFsUmVmZXJlbmNlLmxpbmUsIG9yaWdpbmFsUmVmZXJlbmNlLmNvbHVtbixcclxuICAgICAgICAgICAgb3JpZ2luYWxSZWZlcmVuY2Uuc3RhcnQsIG9yaWdpbmFsUmVmZXJlbmNlLmVuZCk7XHJcbiAgICAgICAgb2JqLl9pbmNsdWRlcy5wdXNoKHtcclxuICAgICAgICAgICAgc291cmNlRmlsZTogc291cmNlRmlsZSxcclxuICAgICAgICAgICAgbGluZUluY2x1ZGVkOiBsaW5lSW5jbHVkZWRcclxuICAgICAgICB9KTtcclxuICAgICAgICBvcmlnaW5hbFJlZmVyZW5jZS5pbmNsdWRlcy5mb3JFYWNoKChpbmMpID0+IG9iai5faW5jbHVkZXMucHVzaChpbmMpKTtcclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBzb3VyY2VGaWxlOiBTb3VyY2VGaWxlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGxpbmU6IG51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSBjb2x1bW46IG51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSBzdGFydDogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGVuZDogbnVtYmVyO1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2luY2x1ZGVzOiBTb3VyY2VSZWZlcmVuY2VJbmNsdWRlW10gPSBbXTtcclxuICAgIHB1YmxpYyByZWFkb25seSBpbmNsdWRlczogcmVhZG9ubHkgU291cmNlUmVmZXJlbmNlSW5jbHVkZVtdID0gdGhpcy5faW5jbHVkZXM7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHNvdXJjZUZpbGU6IFNvdXJjZUZpbGUsIGxpbmU6IG51bWJlciwgY29sdW1uOiBudW1iZXIsIHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5zb3VyY2VGaWxlID0gc291cmNlRmlsZTtcclxuICAgICAgICB0aGlzLmxpbmUgPSBsaW5lO1xyXG4gICAgICAgIHRoaXMuY29sdW1uID0gY29sdW1uO1xyXG4gICAgICAgIHRoaXMuc3RhcnQgPSBzdGFydDtcclxuICAgICAgICB0aGlzLmVuZCA9IGVuZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXNJbmNsdWRlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pbmNsdWRlcy5sZW5ndGggPiAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGdldEluY2x1ZGVQcmVsdWRlIDogZnVuY3Rpb24oKSB7XHJcbiAgICAvLyAgICAgdmFyIHN0ciA9IFwiXCI7XHJcbiAgICAvLyAgICAgdmFyIHByZXZJbmNsdWRlID0gdGhpcy5zb3VyY2VGaWxlO1xyXG4gICAgLy8gICAgIHRoaXMuaV9pbmNsdWRlcy5mb3JFYWNoKGZ1bmN0aW9uKGluY2x1ZGUpIHtcclxuICAgIC8vICAgICAgICAgc3RyICs9IFwiSW4gZmlsZSBcXFwiXCIgKyBpbmNsdWRlLnNvdXJjZUZpbGUuZ2V0TmFtZSgpICsgXCJcXFwiIGluY2x1ZGVkIGZyb20gXCIgKyBwcmV2SW5jbHVkZS5nZXROYW1lKCkgKyBcIlxcXCJcIlxyXG4gICAgLy9cclxuICAgIC8vICAgICB9KTtcclxuICAgIC8vIH1cclxuXHJcbn1cclxuXHJcbmludGVyZmFjZSBJbmNsdWRlTWFwcGluZyB7XHJcbiAgICBzdGFydExpbmU6IG51bWJlcjtcclxuICAgIHN0YXJ0T2Zmc2V0OiBudW1iZXI7XHJcbiAgICBudW1MaW5lczogbnVtYmVyO1xyXG4gICAgZW5kTGluZTogbnVtYmVyO1xyXG4gICAgbGluZURlbHRhOiBudW1iZXI7XHJcbiAgICBsZW5ndGhEZWx0YTogbnVtYmVyO1xyXG4gICAgaW5jbHVkZWQ6IFByZXByb2Nlc3NlZFNvdXJjZTtcclxuICAgIGxpbmVJbmNsdWRlZDogbnVtYmVyO1xyXG59XHJcblxyXG5jbGFzcyBQcmVwcm9jZXNzZWRTb3VyY2Uge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBwcmltYXJ5U291cmNlRmlsZTogU291cmNlRmlsZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgYXZhaWxhYmxlVG9JbmNsdWRlOiB7W2luZGV4OiBzdHJpbmddOiBTb3VyY2VGaWxlfTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbm90ZXMgPSBuZXcgTm90ZVJlY29yZGVyKCk7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfaW5jbHVkZXM6IEluY2x1ZGVNYXBwaW5nW10gPSBbXTtcclxuICAgIHB1YmxpYyByZWFkb25seSBpbmNsdWRlczogcmVhZG9ubHkgSW5jbHVkZU1hcHBpbmdbXSA9IHRoaXMuX2luY2x1ZGVzO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBpbmNsdWRlZFNvdXJjZUZpbGVzOiB7W2luZGV4OiBzdHJpbmddOiBTb3VyY2VGaWxlfSA9IHt9O1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBwcmVwcm9jZXNzZWRUZXh0OiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbnVtTGluZXM6IG51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSBsZW5ndGg6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Ioc291cmNlRmlsZTogU291cmNlRmlsZSwgYXZhaWxhYmxlVG9JbmNsdWRlOiB7W2luZGV4OiBzdHJpbmddOiBTb3VyY2VGaWxlfSwgYWxyZWFkeUluY2x1ZGVkOiB7W2luZGV4OiBzdHJpbmddOiBib29sZWFufSA9IHt9KSB7XHJcbiAgICAgICAgdGhpcy5wcmltYXJ5U291cmNlRmlsZSA9IHNvdXJjZUZpbGU7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gc291cmNlRmlsZS5uYW1lO1xyXG4gICAgICAgIHRoaXMuYXZhaWxhYmxlVG9JbmNsdWRlID0gYXZhaWxhYmxlVG9JbmNsdWRlO1xyXG5cclxuICAgICAgICBhbHJlYWR5SW5jbHVkZWRbdGhpcy5wcmltYXJ5U291cmNlRmlsZS5uYW1lXSA9IHRydWU7XHJcblxyXG4gICAgICAgIGxldCBjb2RlU3RyID0gc291cmNlRmlsZS50ZXh0O1xyXG5cclxuICAgICAgICBjb2RlU3RyID0gdGhpcy5maWx0ZXJTb3VyY2VDb2RlKGNvZGVTdHIpO1xyXG5cclxuICAgICAgICBsZXQgY3VycmVudEluY2x1ZGVPZmZzZXQgPSAwO1xyXG4gICAgICAgIGxldCBjdXJyZW50SW5jbHVkZUxpbmVOdW1iZXIgPSAxO1xyXG4gICAgICAgIGxldCBvcmlnaW5hbEluY2x1ZGVMaW5lTnVtYmVyID0gMTtcclxuXHJcbiAgICAgICAgdGhpcy5pbmNsdWRlZFNvdXJjZUZpbGVzW3RoaXMucHJpbWFyeVNvdXJjZUZpbGUubmFtZV0gPSB0aGlzLnByaW1hcnlTb3VyY2VGaWxlO1xyXG5cclxuICAgICAgICAvLyBGaW5kIGFuZCByZXBsYWNlICNpbmNsdWRlIGxpbmVzLiBXaWxsIGFsc28gcG9wdWxhdGUgaV9pbmNsdWRlcyBhcnJheS5cclxuICAgICAgICAvLyBbXlxcU1xcbl0gaXMgYSBjaGFyYWN0ZXIgY2xhc3MgZm9yIGFsbCB3aGl0ZXNwYWNlIG90aGVyIHRoYW4gbmV3bGluZXNcclxuICAgICAgICB0aGlzLnByZXByb2Nlc3NlZFRleHQgPSBjb2RlU3RyLnJlcGxhY2UoLyNpbmNsdWRlW15cXFNcXG5dK1wiKC4qKVwiL2csXHJcbiAgICAgICAgICAgIChpbmNsdWRlTGluZSwgZmlsZW5hbWUsIG9mZnNldCwgb3JpZ2luYWwpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgbWFwcGluZzogUGFydGlhbDxJbmNsdWRlTWFwcGluZz4gPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSBsaW5lIG51bWJlciBvZiB0aGlzIGluY2x1ZGUgYnkgYWRkaW5nIHVwIHRoZSBudW1iZXIgb2YgbmV3bGluZSBjaGFyYWN0ZXJzXHJcbiAgICAgICAgICAgICAgICAvLyBzaW5jZSB0aGUgb2Zmc2V0IG9mIHRoZSBsYXN0IG1hdGNoIHVwIHRvIHRoZSBjdXJyZW50IG9uZS4gQWRkIHRoaXMgdG8gdGhlIGxpbmUgbnVtYmVyLlxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IGN1cnJlbnRJbmNsdWRlT2Zmc2V0OyBpIDwgb2Zmc2V0OyArK2kpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxbaV0gPT09IFwiXFxuXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgKytjdXJyZW50SW5jbHVkZUxpbmVOdW1iZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICsrb3JpZ2luYWxJbmNsdWRlTGluZU51bWJlcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbWFwcGluZy5zdGFydExpbmUgPSBjdXJyZW50SW5jbHVkZUxpbmVOdW1iZXI7XHJcbiAgICAgICAgICAgICAgICBtYXBwaW5nLnN0YXJ0T2Zmc2V0ID0gb2Zmc2V0O1xyXG5cclxuICAgICAgICAgICAgICAgIGN1cnJlbnRJbmNsdWRlT2Zmc2V0ID0gb2Zmc2V0ICsgaW5jbHVkZUxpbmUubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFRPRE86IEkgdGhpbmsgdGhpcyBpcyBub3QgbmVlZGVkIGJlY2F1c2UgdGhlIGZpbGVuYW1lIHdhcyBhIHBhcnQgb2YgdGhlIG9yaWdpbmFsIG1hdGNoXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICBhbmQgaXMgdGh1cyBwYXNzZWQgaW4gdG8gdGhlIGZ1bmN0aW9uIHVzZWQgZm9yIHJlcGxhY2VtZW50LlxyXG4gICAgICAgICAgICAgICAgLy8gLy8gZXh0cmFjdCB0aGUgZmlsZW5hbWUgZnJvbSB0aGUgI2luY2x1ZGUgbGluZSBtYXRjaFxyXG4gICAgICAgICAgICAgICAgLy8gLy8gWzFdIHlpZWxkcyBvbmx5IHRoZSBtYXRjaCBmb3IgdGhlIHBhcnQgb2YgdGhlIHJlZ2V4IGluIHBhcmVudGhlc2VzXHJcbiAgICAgICAgICAgICAgICAvLyB2YXIgZmlsZW5hbWUgPSBpbmNsdWRlTGluZS5tYXRjaCgvXCIoLiopXCIvKVsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBmb3Igc2VsZiBpbmNsdXNpb25cclxuICAgICAgICAgICAgICAgIGlmIChhbHJlYWR5SW5jbHVkZWRbZmlsZW5hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3Rlcy5hZGROb3RlKENQUEVycm9yLnByZXByb2Nlc3MucmVjdXJzaXZlSW5jbHVkZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNvdXJjZVJlZmVyZW5jZShzb3VyY2VGaWxlLCBjdXJyZW50SW5jbHVkZUxpbmVOdW1iZXIsIDAsIG9mZnNldCwgY3VycmVudEluY2x1ZGVPZmZzZXQpKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlcGxhY2UgdGhlIHdob2xlICNpbmNsdWRlIGxpbmUgd2l0aCBzcGFjZXMuIENhbid0IGp1c3QgcmVtb3ZlIG9yIGl0IG1lc3NlcyB1cCBvZmZzZXRzLlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBBcnJheShpbmNsdWRlTGluZS5sZW5ndGggKyAxKS5qb2luKFwiIFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBSZWN1cnNpdmVseSBwcmVwcm9jZXNzIHRoZSBpbmNsdWRlZCBmaWxlXHJcbiAgICAgICAgICAgICAgICB2YXIgaW5jbHVkZWRTb3VyY2VGaWxlID0gdGhpcy5hdmFpbGFibGVUb0luY2x1ZGVbZmlsZW5hbWVdO1xyXG4gICAgICAgICAgICAgICAgLy9UT0RPOiB3aGF0IGhhcHBlbnMgaWYgdGhlIGZpbGUgZG9lc24ndCBleGlzdD9cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgaW5jbHVkZWQgPSBuZXcgUHJlcHJvY2Vzc2VkU291cmNlKGluY2x1ZGVkU291cmNlRmlsZSwgdGhpcy5hdmFpbGFibGVUb0luY2x1ZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgYWxyZWFkeUluY2x1ZGVkKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmluY2x1ZGVkU291cmNlRmlsZXMsIGluY2x1ZGVkLmluY2x1ZGVkU291cmNlRmlsZXMpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBtYXBwaW5nLm51bUxpbmVzID0gaW5jbHVkZWQubnVtTGluZXM7XHJcbiAgICAgICAgICAgICAgICBtYXBwaW5nLmVuZExpbmUgPSBtYXBwaW5nLnN0YXJ0TGluZSArIGluY2x1ZGVkLm51bUxpbmVzO1xyXG5cclxuICAgICAgICAgICAgICAgIG1hcHBpbmcubGluZURlbHRhID0gaW5jbHVkZWQubnVtTGluZXMgLSAxO1xyXG4gICAgICAgICAgICAgICAgbWFwcGluZy5sZW5ndGhEZWx0YSA9IGluY2x1ZGVkLmxlbmd0aCAtIGluY2x1ZGVMaW5lLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRJbmNsdWRlTGluZU51bWJlciArPSBpbmNsdWRlZC5udW1MaW5lcyAtIDE7IC8vIC0xIHNpbmNlIG9uZSBsaW5lIGZyb20gb3JpZ2luYWwgd2FzIHJlcGxhY2VkXHJcbiAgICAgICAgICAgICAgICBtYXBwaW5nLmluY2x1ZGVkID0gaW5jbHVkZWQ7XHJcbiAgICAgICAgICAgICAgICBtYXBwaW5nLmxpbmVJbmNsdWRlZCA9IG9yaWdpbmFsSW5jbHVkZUxpbmVOdW1iZXI7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5faW5jbHVkZXMucHVzaCg8SW5jbHVkZU1hcHBpbmc+bWFwcGluZyk7IC8vIFRPRE86IHJlbW92ZSBjYXN0XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGluY2x1ZGVkLnByZXByb2Nlc3NlZFRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyBDb3VudCBsaW5lcyBmb3IgdGhlIHJlc3Qgb2YgdGhlIGZpbGUgYWZ0ZXIgYW55ICNpbmNsdWRlc1xyXG4gICAgICAgIGZvciAodmFyIGkgPSBjdXJyZW50SW5jbHVkZU9mZnNldDsgaSA8IGNvZGVTdHIubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgaWYgKGNvZGVTdHJbaV0gPT09IFwiXFxuXCIpIHtcclxuICAgICAgICAgICAgICAgICsrY3VycmVudEluY2x1ZGVMaW5lTnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm51bUxpbmVzID0gY3VycmVudEluY2x1ZGVMaW5lTnVtYmVyO1xyXG4gICAgICAgIHRoaXMubGVuZ3RoID0gdGhpcy5wcmVwcm9jZXNzZWRUZXh0Lmxlbmd0aDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJpdmF0ZSBmaWx0ZXJTb3VyY2VDb2RlKGNvZGVTdHI6IHN0cmluZykge1xyXG5cclxuICAgICAgICAvLyByZW1vdmUgY2FycmlhZ2UgcmV0dXJuc1xyXG4gICAgICAgIGNvZGVTdHIgPSBjb2RlU3RyLnJlcGxhY2UoL1xcci9nLCBcIlwiKTtcclxuXHJcbiAgICAgICAgaWYgKGNvZGVTdHIuaW5jbHVkZXMoXCIjaWZuZGVmXCIpKXtcclxuICAgICAgICAgICAgY29kZVN0ciA9IGNvZGVTdHIucmVwbGFjZSgvI2lmbmRlZi4qL2csIGZ1bmN0aW9uKG1hdGNoKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheShtYXRjaC5sZW5ndGgrMSkuam9pbihcIiBcIik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyB0aGlzLnNlbmQoXCJvdGhlckVycm9yXCIsIFwiSXQgbG9va3MgbGlrZSB5b3UncmUgdHJ5aW5nIHRvIHVzZSBhIHByZXByb2Nlc3NvciBkaXJlY3RpdmUgKGUuZy4gPHNwYW4gY2xhc3M9J2NvZGUnPiNkZWZpbmU8L3NwYW4+KSB0aGF0IGlzbid0IHN1cHBvcnRlZCBhdCB0aGUgbW9lbWVudC5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb2RlU3RyLmluY2x1ZGVzKFwiI2RlZmluZVwiKSl7XHJcbiAgICAgICAgICAgIGNvZGVTdHIgPSBjb2RlU3RyLnJlcGxhY2UoLyNkZWZpbmUuKi9nLCBmdW5jdGlvbihtYXRjaCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXkobWF0Y2gubGVuZ3RoKzEpLmpvaW4oXCIgXCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gdGhpcy5zZW5kKFwib3RoZXJFcnJvclwiLCBcIkl0IGxvb2tzIGxpa2UgeW91J3JlIHRyeWluZyB0byB1c2UgYSBwcmVwcm9jZXNzb3IgZGlyZWN0aXZlIChlLmcuIDxzcGFuIGNsYXNzPSdjb2RlJz4jZGVmaW5lPC9zcGFuPikgdGhhdCBpc24ndCBzdXBwb3J0ZWQgYXQgdGhlIG1vZW1lbnQuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29kZVN0ci5pbmNsdWRlcyhcIiNlbmRpZlwiKSl7XHJcbiAgICAgICAgICAgIGNvZGVTdHIgPSBjb2RlU3RyLnJlcGxhY2UoLyNlbmRpZi4qL2csIGZ1bmN0aW9uKG1hdGNoKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheShtYXRjaC5sZW5ndGgrMSkuam9pbihcIiBcIik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyB0aGlzLnNlbmQoXCJvdGhlckVycm9yXCIsIFwiSXQgbG9va3MgbGlrZSB5b3UncmUgdHJ5aW5nIHRvIHVzZSBhIHByZXByb2Nlc3NvciBkaXJlY3RpdmUgKGUuZy4gPHNwYW4gY2xhc3M9J2NvZGUnPiNkZWZpbmU8L3NwYW4+KSB0aGF0IGlzbid0IHN1cHBvcnRlZCBhdCB0aGUgbW9lbWVudC5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmIChjb2RlU3RyLmNvbnRhaW5zKC8jaW5jbHVkZS4qPC4qPi9nKSl7XHJcbiAgICAgICAgICAgIGNvZGVTdHIgPSBjb2RlU3RyLnJlcGxhY2UoLyNpbmNsdWRlLio8Lio+L2csIGZ1bmN0aW9uKG1hdGNoKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheShtYXRjaC5sZW5ndGgrMSkuam9pbihcIiBcIik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyB0aGlzLnNlbmQoXCJvdGhlckVycm9yXCIsIFwiSXQgbG9va3MgbGlrZSB5b3UncmUgdHJ5aW5nIHRvIHVzZSBhIHByZXByb2Nlc3NvciBkaXJlY3RpdmUgKGUuZy4gPHNwYW4gY2xhc3M9J2NvZGUnPiNkZWZpbmU8L3NwYW4+KSB0aGF0IGlzbid0IHN1cHBvcnRlZCBhdCB0aGUgbW9lbWVudC5cIik7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIGlmIChjb2RlU3RyLmluY2x1ZGVzKFwidXNpbmcgbmFtZXNwYWNlXCIpKXtcclxuICAgICAgICAgICAgY29kZVN0ciA9IGNvZGVTdHIucmVwbGFjZSgvdXNpbmcgbmFtZXNwYWNlLiovZywgZnVuY3Rpb24obWF0Y2gpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5KG1hdGNoLmxlbmd0aCsxKS5qb2luKFwiIFwiKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIFRPRE8gTkVXIHdoeSBpcyB0aGlzIGNvbW1lbnRlZD9cclxuICAgICAgICAgICAgLy8gdGhpcy5zZW5kKFwib3RoZXJFcnJvclwiLCBcIldoZW4gd3JpdGluZyBjb2RlIGluIGxvYnN0ZXIsIHlvdSBkb24ndCBuZWVkIHRvIGluY2x1ZGUgdXNpbmcgZGlyZWN0aXZlcyAoZS5nLiA8c3BhbiBjbGFzcz0nY29kZSc+dXNpbmcgbmFtZXNwYWNlIHN0ZDs8L3NwYW4+KS5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb2RlU3RyLmluY2x1ZGVzKFwidXNpbmcgc3RkOjpcIikpe1xyXG4gICAgICAgICAgICBjb2RlU3RyID0gY29kZVN0ci5yZXBsYWNlKC91c2luZyBzdGQ6Oi4qL2csIGZ1bmN0aW9uKG1hdGNoKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheShtYXRjaC5sZW5ndGgrMSkuam9pbihcIiBcIik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyB0aGlzLnNlbmQoXCJvdGhlckVycm9yXCIsIFwiTG9ic3RlciBkb2Vzbid0IHN1cHBvcnQgdXNpbmcgZGVjbGFyYXRpb25zIGF0IHRoZSBtb21lbnQuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29kZVN0cjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U291cmNlUmVmZXJlbmNlKGxpbmU6IG51bWJlciwgY29sdW1uOiBudW1iZXIsIHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKSA6IFNvdXJjZVJlZmVyZW5jZSB7XHJcblxyXG4gICAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBhbGwgaW5jbHVkZXMgYW5kIGNoZWNrIGlmIGFueSB3b3VsZCBjb250YWluXHJcbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XHJcbiAgICAgICAgbGV0IGxpbmVPZmZzZXQgPSAxO1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLmluY2x1ZGVzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGxldCBpbmMgPSB0aGlzLmluY2x1ZGVzW2ldO1xyXG4gICAgICAgICAgICBpZiAobGluZSA8IGluYy5zdGFydExpbmUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU291cmNlUmVmZXJlbmNlKHRoaXMucHJpbWFyeVNvdXJjZUZpbGUsIGxpbmUgLSBsaW5lT2Zmc2V0ICsgMSwgY29sdW1uLCBzdGFydCAmJiBzdGFydCAtIG9mZnNldCwgZW5kICYmIGVuZCAtIG9mZnNldCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaW5jLnN0YXJ0TGluZSA8PSBsaW5lICYmIGxpbmUgPCBpbmMuZW5kTGluZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFNvdXJjZVJlZmVyZW5jZS5jcmVhdGVJbmNsdWRlZCh0aGlzLnByaW1hcnlTb3VyY2VGaWxlLCBpbmMubGluZUluY2x1ZGVkLFxyXG4gICAgICAgICAgICAgICAgICAgIGluYy5pbmNsdWRlZC5nZXRTb3VyY2VSZWZlcmVuY2UobGluZSAtIGluYy5zdGFydExpbmUgKyAxLCBjb2x1bW4sIHN0YXJ0ICYmIHN0YXJ0IC0gaW5jLnN0YXJ0T2Zmc2V0LCBlbmQgJiYgZW5kIC0gaW5jLnN0YXJ0T2Zmc2V0KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb2Zmc2V0ICs9IGluYy5sZW5ndGhEZWx0YTtcclxuICAgICAgICAgICAgbGluZU9mZnNldCArPSBpbmMubGluZURlbHRhO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgdGhpcyBsaW5lIHdhc24ndCBwYXJ0IG9mIGFueSBvZiB0aGUgaW5jbHVkZXMsIGp1c3QgcmV0dXJuIGEgcmVndWxhciBzb3VyY2UgcmVmZXJlbmNlIHRvIHRoZSBvcmlnaW5hbFxyXG4gICAgICAgIC8vIHNvdXJjZSBmaWxlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHRyYW5zbGF0aW9uIHVuaXRcclxuICAgICAgICByZXR1cm4gbmV3IFNvdXJjZVJlZmVyZW5jZSh0aGlzLnByaW1hcnlTb3VyY2VGaWxlLCBsaW5lIC0gbGluZU9mZnNldCArIDEsIGNvbHVtbiwgc3RhcnQgJiYgc3RhcnQgLSBvZmZzZXQsIGVuZCAmJiBlbmQgLSBvZmZzZXQpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNsYXRpb25Vbml0QVNUIHtcclxuICAgIHJlYWRvbmx5IGNvbnN0cnVjdF90eXBlOiBcInRyYW5zbGF0aW9uX3VuaXRcIjtcclxuICAgIHJlYWRvbmx5IGRlY2xhcmF0aW9uczogcmVhZG9ubHkgRGVjbGFyYXRpb25BU1ROb2RlW107XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUcmFuc2xhdGlvblVuaXRcclxuICpcclxuICogRXZlbnRzOlxyXG4gKiAgIFwicGFyc2VkXCI6IGFmdGVyIHBhcnNpbmcgaXMgZmluaXNoZWQgKnN1Y2Nlc3NmdWxseSpcclxuICogICBcInN5bnRheEVycm9yXCI6IGlmIGEgc3ludGF4IGVycm9yIGlzIGVuY291bnRlcmVkIGR1cmluZyBwYXJzaW5nLiBkYXRhIGNvbnRhaW5zIHByb3BlcnRpZXMgbGluZSwgY29sdW1uLCBhbmQgbWVzc2FnZVxyXG4gKiAgIFwiY29tcGlsYXRpb25GaW5pc2hlZFwiOiBhZnRlciBjb21waWxhdGlvbiBpcyBmaW5pc2hlZFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFRyYW5zbGF0aW9uVW5pdCB7XHJcbiAgICBcclxuICAgIHB1YmxpYyByZWFkb25seSBjb250ZXh0OiBUcmFuc2xhdGlvblVuaXRDb250ZXh0O1xyXG5cclxuICAgIC8vIHB1YmxpYyByZWFkb25seSBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUodGhpcyk7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbm90ZXMgPSBuZXcgTm90ZVJlY29yZGVyKCk7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSBzb3VyY2U6IFByZXByb2Nlc3NlZFNvdXJjZTtcclxuICAgIHB1YmxpYyByZWFkb25seSBwcm9ncmFtOiBQcm9ncmFtO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBnbG9iYWxTY29wZTogTmFtZXNwYWNlU2NvcGU7XHJcbiAgICBcclxuICAgIHB1YmxpYyByZWFkb25seSB0b3BMZXZlbERlY2xhcmF0aW9uczogcmVhZG9ubHkgRGVjbGFyYXRpb25bXSA9IFtdO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHN0YXRpY0VudGl0aWVzOiByZWFkb25seSBTdGF0aWNFbnRpdHlbXSA9IFtdO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHN0cmluZ0xpdGVyYWxzOiByZWFkb25seSBTdHJpbmdMaXRlcmFsRW50aXR5W10gPSBbXTtcclxuICAgIHB1YmxpYyByZWFkb25seSBmdW5jdGlvbkNhbGxzOiByZWFkb25seSBGdW5jdGlvbkNhbGxbXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBwYXJzZWRBU1Q/OiBUcmFuc2xhdGlvblVuaXRBU1Q7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBdHRlbXB0cyB0byBjb21waWxlZCB0aGUgZ2l2ZW4gcHJpbWFyeSBzb3VyY2UgZmlsZSBhcyBhIHRyYW5zbGF0aW9uIHVuaXQgZm9yIGEgQysrIHByb2dyYW0uXHJcbiAgICAgKiBUaGUgY29tcGlsYXRpb24gaXMgYXR0ZW1wdGVkIGdpdmVuIHRoZSAqKmN1cnJlbnQqKiBzdGF0ZSBvZiB0aGUgc291cmNlIGZpbGVzLiBJZiB0aGUgcHJpbWFyeVxyXG4gICAgICogc291cmNlIG9yIGFueSBvZiB0aGUgZmlsZXMgaW5jbHVkZWQgdmlhIHRoZSBwcmVwcm9jZXNzb3IgYXJlIGNoYW5nZWQgaW4gYW55IHdheSwgYSBuZXcgYFRyYW5zbGF0aW9uVW5pdGBcclxuICAgICAqIHNob3VsZCBiZSBjb25zdHJ1Y3RlZCAoaXQgaXMgbm90IHBvc3NpYmxlIHRvIFwicmUtY29tcGlsZVwiIGEgVHJhbnNsYXRpb25Vbml0IG9iamVjdC4pXHJcbiAgICAgKiBAcGFyYW0gcHJpbWFyeVNvdXJjZUZpbGUgQ29udGFpbnMgdGhlIHNvdXJjZSBjb2RlIGZvciB0aGlzIHRyYW5zbGF0aW9uIHVuaXQuXHJcbiAgICAgKiBAcGFyYW0gc291cmNlRmlsZXMgVGhlIHNldCBvZiBmaWxlcyB0byBiZSBhdmFpbGFibGUgZm9yIGluY2x1c2lvbiB2aWEgI2luY2x1ZGUgZGlyZWN0aXZlcy5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHByb2dyYW06IFByb2dyYW0sIHByZXByb2Nlc3NlZFNvdXJjZTogUHJlcHJvY2Vzc2VkU291cmNlKSB7XHJcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTtcclxuICAgICAgICB0aGlzLnNvdXJjZSA9IHByZXByb2Nlc3NlZFNvdXJjZTtcclxuICAgICAgICB0aGlzLmdsb2JhbFNjb3BlID0gbmV3IE5hbWVzcGFjZVNjb3BlKHByZXByb2Nlc3NlZFNvdXJjZS5wcmltYXJ5U291cmNlRmlsZS5uYW1lICsgXCJfR0xPQkFMX1NDT1BFXCIpO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IHByZXByb2Nlc3NlZFNvdXJjZS5uYW1lO1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNyZWF0ZVRyYW5zbGF0aW9uVW5pdENvbnRleHQocHJvZ3JhbS5jb250ZXh0LCB0aGlzLCB0aGlzLmdsb2JhbFNjb3BlKTtcclxuXHJcbiAgICAgICAgdHJ5e1xyXG4gICAgICAgICAgICAvLyBUaGlzIGlzIGtpbmQgb2YgYSBoYWNrIHRvIGNvbW11bmljYXRlIHdpdGggdGhlIFBFRy5qcyBnZW5lcmF0ZWQgcGFyc2luZyBjb2RlLlxyXG4gICAgICAgICAgICAvLyBUaGlzIGJvdGggXCJyZXNldHNcIiB0aGUgdXNlci1kZWZpbmVkIHR5cGUgbmFtZXMgdGhhdCBleGlzdCBmb3IgZWFjaCB0cmFuc2xhdGlvblxyXG4gICAgICAgICAgICAvLyB1bml0IChlLmcuIHNvIHRoYXQgQ2xhc3MgbmFtZXMgZGVjbGFyZWQgaW4gYW5vdGhlciB0cmFuc2xhdGlvbiB1bml0IGFyZW4ndCBoYW5naW5nXHJcbiAgICAgICAgICAgIC8vIGFyb3VuZCksIGFuZCBhbHNvIGVuc3VyZXMgXCJkZWZhdWx0XCIgdXNlci1kZWZpbmVkIHR5cGUgbmFtZXMgbGlrZSBvc3RyZWFtLCBldGMuIGFyZVxyXG4gICAgICAgICAgICAvLyByZWNvZ25pemVkIGFzIHN1Y2guIE1ha2luZyBhIGNvcHkgaXMgaW1wb3J0YW50IHNvIHRoYXQgd2UgZG9uJ3QgbW9kaWZ5IHRoZSBvcmlnaW5hbFxyXG4gICAgICAgICAgICAvLyB3aGljaCB3aWxsIHBvdGVudGlhbGx5IGJlIHVzZWQgYnkgb3RoZXIgdHJhbnNsYXRpb24gdW5pdHMuXHJcbiAgICAgICAgICAgIC8vIHJlc2V0VXNlclR5cGVOYW1lcygpOyAvL09iamVjdC5hc3NpZ24oe30sIFR5cGVzLmRlZmF1bHRVc2VyVHlwZU5hbWVzKTsgLy8gVE9ET1xyXG5cclxuICAgICAgICAgICAgLy8gTm90ZSB0aGlzIGlzIG5vdCBjaGVja2VkIGJ5IHRoZSBUUyB0eXBlIHN5c3RlbS4gV2UganVzdCBoYXZlIHRvIG1hbnVhbGx5IGVuc3VyZVxyXG4gICAgICAgICAgICAvLyB0aGUgc3RydWN0dXJlIHByb2R1Y2VkIGJ5IHRoZSBncmFtbWFyL3BhcnNlciBtYXRjaGVzIHdoYXQgd2UgZXhwZWN0LlxyXG4gICAgICAgICAgICBsZXQgcGFyc2VkQVNUIDogVHJhbnNsYXRpb25Vbml0QVNUID0gY3BwX3BhcnNlKHRoaXMuc291cmNlLnByZXByb2Nlc3NlZFRleHQpO1xyXG4gICAgICAgICAgICB0aGlzLnBhcnNlZEFTVCA9IHBhcnNlZEFTVDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQnVpbHRJbkdsb2JhbHMoKTtcclxuICAgICAgICAgICAgdGhpcy5jb21waWxlVG9wTGV2ZWxEZWNsYXJhdGlvbnModGhpcy5wYXJzZWRBU1QpO1xyXG5cdFx0fVxyXG5cdFx0Y2F0Y2goZXJyKSB7XHJcblx0XHRcdGlmIChlcnIubmFtZSA9PSBcIlN5bnRheEVycm9yXCIpe1xyXG5cdFx0XHRcdHRoaXMubm90ZXMuYWRkTm90ZShuZXcgU3ludGF4Tm90ZShcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFNvdXJjZVJlZmVyZW5jZShlcnIubG9jYXRpb24uc3RhcnQubGluZSwgZXJyLmxvY2F0aW9uLnN0YXJ0LmNvbHVtbiwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyLmxvY2F0aW9uLnN0YXJ0Lm9mZnNldCwgZXJyLmxvY2F0aW9uLnN0YXJ0Lm9mZnNldCArIDEpLFxyXG4gICAgICAgICAgICAgICAgICAgIE5vdGVLaW5kLkVSUk9SLFxyXG4gICAgICAgICAgICAgICAgICAgIFwic3ludGF4XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyLm1lc3NhZ2UpKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5zdGFjayk7XHJcblx0XHRcdFx0dGhyb3cgZXJyO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETzogZmlndXJlIG91dCB3aGVyZSB0aGlzIHN0dWZmIHNob3VsZCByZWFsbHkgZ28gYmV0d2VlbiBoZXJlIGFuZCB0aGUgcHJvZ3JhbSBjcmVhdGluZ1xyXG4gICAgLy8gY29tcGlsZXIgaW50cmluc2ljcy4gU29tZXRoaW5nIHdpbGwgbmVlZCB0byBiZSBkb25lIGF0IHRoZSBUcmFuc2xhdGlvblVuaXQgbGV2ZWwgdG8gZW5zdXJlXHJcbiAgICAvLyB0aGUgYXBwcm9wcmlhdGUgbmFtZXMgYXJlIGRlY2xhcmVkIGFuZCBpbiB0aGUgcmlnaHQgc2NvcGVzLCBidXQgdGhhdCBtaWdodCBqdXN0IGJlIGEgbWF0dGVyXHJcbiAgICAvLyBvZiBoYXZpbmcgbGlicmFyeSAjaW5jbHVkZXMgYWN0dWFsbHkgaW1wbGVtZW50ZWQgaW4gYSByZWFzb25hYmxlIHdheS5cclxuICAgIHByaXZhdGUgY3JlYXRlQnVpbHRJbkdsb2JhbHMoKSB7XHJcblx0ICAgIC8vIGlmIChUeXBlcy51c2VyVHlwZU5hbWVzW1wib3N0cmVhbVwiXSkge1xyXG4gICAgICAgIC8vICAgICB0aGlzLmlfZ2xvYmFsU2NvcGUuYWRkRW50aXR5KFN0YXRpY0VudGl0eS5pbnN0YW5jZSh7bmFtZTpcImNvdXRcIiwgdHlwZTpUeXBlcy5PU3RyZWFtLmluc3RhbmNlKCl9KSk7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuaV9nbG9iYWxTY29wZS5hZGRFbnRpdHkoU3RhdGljRW50aXR5Lmluc3RhbmNlKHtuYW1lOlwiY2luXCIsIHR5cGU6VHlwZXMuSVN0cmVhbS5pbnN0YW5jZSgpfSkpO1xyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgLy8gLy8gVE9ETyBORVcgcmV3b3JrIHNvIHRoYXQgZW5kbEVudGl0eSBkb2Vzbid0IGhhdmUgdG8gYmUgcHVibGljIChvdGhlciBwYXJ0cyBvZiBjb2RlIGxvb2sgZm9yIGl0IGN1cnJlbnRseSlcclxuICAgICAgICAvLyB0aGlzLmVuZGxFbnRpdHkgPSBTdGF0aWNFbnRpdHkuaW5zdGFuY2Uoe25hbWU6XCJlbmRsXCIsIHR5cGU6VHlwZXMuQ2hhci5pbnN0YW5jZSgpfSk7XHJcbiAgICAgICAgLy8gdGhpcy5lbmRsRW50aXR5LmRlZmF1bHRWYWx1ZSA9IDEwOyAvLyAxMCBpcyBhc2NpaSBjb2RlIGZvciBcXG5cclxuICAgICAgICAvLyB0aGlzLmlfZ2xvYmFsU2NvcGUuYWRkRW50aXR5KHRoaXMuZW5kbEVudGl0eSk7XHJcblxyXG5cclxuICAgICAgICAvLyB2YXIgY2Fzc2VydCA9IE1hZ2ljRnVuY3Rpb25FbnRpdHkuaW5zdGFuY2UoTWFnaWNGdW5jdGlvbkRlZmluaXRpb24uaW5zdGFuY2UoXHJcbiAgICAgICAgLy8gICAgIFwiYXNzZXJ0XCIsXHJcbiAgICAgICAgLy8gICAgIFR5cGVzLkZ1bmN0aW9uLmluc3RhbmNlKFR5cGVzLlZvaWQuaW5zdGFuY2UoKSwgW1R5cGVzLkJvb2wuaW5zdGFuY2UoKV0pXHJcbiAgICAgICAgLy8gKSk7XHJcbiAgICAgICAgLy8gdGhpcy5pX2dsb2JhbFNjb3BlLmFkZEVudGl0eShjYXNzZXJ0KTtcclxuXHJcbiAgICAgICAgLy8gdmFyIHBhdXNlID0gTWFnaWNGdW5jdGlvbkVudGl0eS5pbnN0YW5jZShNYWdpY0Z1bmN0aW9uRGVmaW5pdGlvbi5pbnN0YW5jZShcclxuICAgICAgICAvLyAgICAgXCJwYXVzZVwiLFxyXG4gICAgICAgIC8vICAgICBUeXBlcy5GdW5jdGlvbi5pbnN0YW5jZShUeXBlcy5Wb2lkLmluc3RhbmNlKCksIFtdKVxyXG4gICAgICAgIC8vICkpO1xyXG4gICAgICAgIC8vIHRoaXMuaV9nbG9iYWxTY29wZS5hZGRFbnRpdHkocGF1c2UpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gdmFyIHBhdXNlSWYgPSBNYWdpY0Z1bmN0aW9uRW50aXR5Lmluc3RhbmNlKE1hZ2ljRnVuY3Rpb25EZWZpbml0aW9uLmluc3RhbmNlKFxyXG4gICAgICAgIC8vICAgICBcInBhdXNlSWZcIixcclxuICAgICAgICAvLyAgICAgVHlwZXMuRnVuY3Rpb24uaW5zdGFuY2UoVHlwZXMuVm9pZC5pbnN0YW5jZSgpLCBbVHlwZXMuQm9vbC5pbnN0YW5jZSgpXSlcclxuICAgICAgICAvLyApKTtcclxuICAgICAgICAvLyB0aGlzLmlfZ2xvYmFsU2NvcGUuYWRkRW50aXR5KHBhdXNlSWYpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gdGhpcy5pX2dsb2JhbFNjb3BlLmFkZEVudGl0eShNYWdpY0Z1bmN0aW9uRW50aXR5Lmluc3RhbmNlKFxyXG4gICAgICAgIC8vICAgICBNYWdpY0Z1bmN0aW9uRGVmaW5pdGlvbi5pbnN0YW5jZShcInJhbmRcIixcclxuICAgICAgICAvLyAgICAgICAgIFR5cGVzLkZ1bmN0aW9uLmluc3RhbmNlKFR5cGVzLkludC5pbnN0YW5jZSgpLCBbXSkpKSk7XHJcblxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcml2YXRlIGNvbXBpbGVUb3BMZXZlbERlY2xhcmF0aW9ucyhhc3Q6IFRyYW5zbGF0aW9uVW5pdEFTVCkge1xyXG4gICAgICAgIGFzdC5kZWNsYXJhdGlvbnMuZm9yRWFjaCgoZGVjbEFTVCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgZGVjbHNPckZ1bmNEZWYgPSBjcmVhdGVEZWNsYXJhdGlvbkZyb21BU1QoZGVjbEFTVCwgdGhpcy5jb250ZXh0KTtcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGVjbHNPckZ1bmNEZWYpKSB7XHJcbiAgICAgICAgICAgICAgICBkZWNsc09yRnVuY0RlZi5mb3JFYWNoKGRlY2wgPT4gYXNNdXRhYmxlKHRoaXMudG9wTGV2ZWxEZWNsYXJhdGlvbnMpLnB1c2goZGVjbCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXNNdXRhYmxlKHRoaXMudG9wTGV2ZWxEZWNsYXJhdGlvbnMpLnB1c2goZGVjbHNPckZ1bmNEZWYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZFN0cmluZ0xpdGVyYWwobGl0ZXJhbDogU3RyaW5nTGl0ZXJhbEVudGl0eSkge1xyXG4gICAgICAgIGFzTXV0YWJsZSh0aGlzLnN0cmluZ0xpdGVyYWxzKS5wdXNoKGxpdGVyYWwpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWdpc3RlckZ1bmN0aW9uQ2FsbChjYWxsOiBGdW5jdGlvbkNhbGwpIHtcclxuICAgICAgICBhc011dGFibGUodGhpcy5mdW5jdGlvbkNhbGxzKS5wdXNoKGNhbGwpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXROZWFyZXN0U291cmNlUmVmZXJlbmNlRm9yQ29uc3RydWN0KGNvbnN0cnVjdDogQ1BQQ29uc3RydWN0KSB7XHJcbiAgICAgICAgd2hpbGUgKCFjb25zdHJ1Y3QuYXN0ICYmIGNvbnN0cnVjdC5wYXJlbnQpIHtcclxuICAgICAgICAgICAgY29uc3RydWN0ID0gY29uc3RydWN0LnBhcmVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFjb25zdHJ1Y3QuYXN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhc3NlcnRGYWxzZShcIkNhbid0IGZpbmQgc291cmNlIHJlZmVyZW5jZSBmb3IgY29uc3RydWN0XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgc3JjID0gY29uc3RydWN0LmFzdC5zb3VyY2U7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U291cmNlUmVmZXJlbmNlKHNyYy5saW5lLCBzcmMuY29sdW1uLCBzcmMuc3RhcnQsIHNyYy5lbmQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRTb3VyY2VSZWZlcmVuY2UobGluZTogbnVtYmVyLCBjb2x1bW46IG51bWJlciwgc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2UuZ2V0U291cmNlUmVmZXJlbmNlKGxpbmUsIGNvbHVtbiwgc3RhcnQsIGVuZCk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4iLCJpbXBvcnQgeyBQb2ludGVyVHlwZSwgSW50IH0gZnJvbSBcIi4vY29yZS90eXBlc1wiO1xyXG5pbXBvcnQgeyBwYXJzZSBhcyBjcHBfcGFyc2UgfSBmcm9tIFwiLi9wYXJzZS9jcHBfcGFyc2VyXCI7XHJcbmltcG9ydCB7IFNvdXJjZUZpbGUsIFByb2dyYW0gfSBmcm9tIFwiLi9jb3JlL1Byb2dyYW1cIjtcclxuXHJcbmNvbnNvbGUubG9nKFwiaGVsbG9cIik7XHJcbi8vIGxldCB4ID0gbmV3IFBvaW50ZXJUeXBlKG5ldyBJbnQoKSwgdHJ1ZSk7XHJcbi8vIGNvbnNvbGUubG9nKHgudG9TdHJpbmcoKSk7XHJcblxyXG5sZXQgZmlsZTEgPSBuZXcgU291cmNlRmlsZShcInRlc3QuY3BwXCIsIFwiaW50IG1haW4oKSB7aW50IHggPSAyO31cIik7XHJcbmxldCBwcm9ncmFtID0gbmV3IFByb2dyYW0oW2ZpbGUxXSwgW1widGVzdC5jcHBcIl0pO1xyXG5jb25zb2xlLmxvZyhwcm9ncmFtKTsiXSwic291cmNlUm9vdCI6IiJ9